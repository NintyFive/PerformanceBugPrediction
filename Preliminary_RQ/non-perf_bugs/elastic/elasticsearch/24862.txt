{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/24862","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24862/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24862/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24862/events","html_url":"https://github.com/elastic/elasticsearch/issues/24862","id":231093057,"node_id":"MDU6SXNzdWUyMzEwOTMwNTc=","number":24862,"title":"es client crashes ","user":{"login":"ninadvps","id":19671720,"node_id":"MDQ6VXNlcjE5NjcxNzIw","avatar_url":"https://avatars3.githubusercontent.com/u/19671720?v=4","gravatar_id":"","url":"https://api.github.com/users/ninadvps","html_url":"https://github.com/ninadvps","followers_url":"https://api.github.com/users/ninadvps/followers","following_url":"https://api.github.com/users/ninadvps/following{/other_user}","gists_url":"https://api.github.com/users/ninadvps/gists{/gist_id}","starred_url":"https://api.github.com/users/ninadvps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ninadvps/subscriptions","organizations_url":"https://api.github.com/users/ninadvps/orgs","repos_url":"https://api.github.com/users/ninadvps/repos","events_url":"https://api.github.com/users/ninadvps/events{/privacy}","received_events_url":"https://api.github.com/users/ninadvps/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-05-24T16:09:03Z","updated_at":"2017-05-24T20:34:14Z","closed_at":"2017-05-24T16:21:29Z","author_association":"NONE","active_lock_reason":null,"body":"In reference to... https://github.com/elastic/elasticsearch/issues/24721#issuecomment-302838609\r\n\r\nI put a comment on the closed issue, so making sure its on the radar...\r\n\r\nBelow is how you would regenerate the error....\r\nhttps://drive.google.com/file/d/0B-AtWs3naQrSejYwRThURC1ETWM/view?usp=sharing\r\nhere the link to the code.... just follow the below steps to generate the crash, or you can examine the heap dump in it...\r\n\r\ncd esTool\r\n\r\nsbt;\r\n\r\nin the sbt console: testOnly TestEsClient, rerun this command 8 to 12 times.\r\nThe crash doesnt happen if u simply run it from a main method only from sbt.\r\n\r\nInside the esTool folder I have esdump.hprof and also esdump_Leak_Suspects.zip which has an index.html which points you to io.netty.buffer.PoolArena$HeapArena ....\r\nIve played with many of the netty setting etc, with no luck also increasing the heap memory of sbt only delays the problem.","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}