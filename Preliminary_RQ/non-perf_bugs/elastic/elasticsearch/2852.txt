{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/2852","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2852/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2852/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2852/events","html_url":"https://github.com/elastic/elasticsearch/issues/2852","id":12790911,"node_id":"MDU6SXNzdWUxMjc5MDkxMQ==","number":2852,"title":"API Update Tags Problem","user":{"login":"KafKaf","id":4057056,"node_id":"MDQ6VXNlcjQwNTcwNTY=","avatar_url":"https://avatars0.githubusercontent.com/u/4057056?v=4","gravatar_id":"","url":"https://api.github.com/users/KafKaf","html_url":"https://github.com/KafKaf","followers_url":"https://api.github.com/users/KafKaf/followers","following_url":"https://api.github.com/users/KafKaf/following{/other_user}","gists_url":"https://api.github.com/users/KafKaf/gists{/gist_id}","starred_url":"https://api.github.com/users/KafKaf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KafKaf/subscriptions","organizations_url":"https://api.github.com/users/KafKaf/orgs","repos_url":"https://api.github.com/users/KafKaf/repos","events_url":"https://api.github.com/users/KafKaf/events{/privacy}","received_events_url":"https://api.github.com/users/KafKaf/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2013-04-04T08:48:11Z","updated_at":"2013-04-05T12:42:50Z","closed_at":"2013-04-05T12:42:50Z","author_association":"NONE","active_lock_reason":null,"body":"elasticsearch-0.20.5\n\n---\n\ncurl localhost:9200/logstash-2013.03.28/xxxxx_log-type/qWtE27BWQuCsjBWUxoCxdg\n\n============================>\n\n{\"_index\":\"logstash-2013.03.28\",\"_type\":\"xxxxx_log-type\",\"_id\":\"qWtE27BWQuCsjBWUxoCxdg\",\"_version\":2,\"exists\":true, \"_source\" : {\"@source\":\"file://xxxxx.xxxx.xxxx/opt/xxxx/xxxx/logs/xxxx.log\",\"@tags\":[\"multiline\",\"grepped\"],\"@fields\":{\"timestamp\":[\"2013-03-28 04:40:00.034\"],\"thread\":[\"xxxxxxx_xxxxxxx-9\"],\"logseverity\":[\"ERROR\"],\"class_name\":[\"xxxxx.xxxxx.xxxxx.xxxxxxx.xxxxxx.xxxxxxxxx\"],\"message\":[\"Error xxxxxx xxx xxxxx xxxxxxxx 'xxxxxx.xxxxxxx.xxxx.xxxxx.xxxxxxx.xxxxx@xxxxxxx': xxxxx xxxxxxx xxxxxxxx xxxxx.\"]},\"@timestamp\":\"2013-03-28T11:40:01.003Z\",\"@source_host\":\"xxxx.xxxxx.xxxx\",\"@source_path\":\"/opt/xxxxxxx/xxxx/xxxx/xxxxxxxx.log\",\"@message\":\"2013-03-28 04:40:00.034 [xxxxxxxxxxx_xxxxxxxx-9] ERROR xxxx.xxxx.xxxx.xxxx.xxx - Error xxxxx xxx xxxxx xxxxx 'xxxxxx.xxxxxxx.xxxx.xxxxx.xxxxxxx.xxxxx@xxxxxxx': xxxxxx xxxxx xxxxx xxxxxxxx xxxxx.\\nxxxx.xxxxx.xxxxxxxxx: xxxxxxx xxxxxxxxxx xxxxxxxx xxxxxx.\\n\\tat xxxxxx.xxxxxxx.xxxx.xxxxx.xxxxxxx.xxxxx.xxxxxx(xxxxxxxx.java:354) ~[xxxxxx-xxxxxx-xxxx-1.1.1.jar:na]\\n\\tat xxxxxx.xxxxxxx.xxxx.xxxxx.xxxxxxx.xxxxx.xxxxxxxx(xxxxxxxx.java:210) [xxxx.xxxx.xxxx.xxxxx-1.1.1.jar:na]\\n\\tat xxxxxx.xxxxxxx.xxxx.xxxxx.xxxxxxx.xxxxx.xxxxxxxx(xxxxxxxxxxxxxx.java:72) [xxxx.xxxxxxxxxx.xxxxxx.xxxxxx-1.1.1.jar:na]\\n\\tat xxxx.xxxxxx.xxxxxxx.xxxxxx.xxxxxxxxxxxxxxx.xxxxxxxxxxx(xxxxxxxxxxxxxx.java:66) [xxx.xxxxxxx.xxxx.xxxxxx-1.1.1.jar:na]\\n\\tat sun.xxxxxxx.xxxxxxxxx.xxxxx(Unknown Source) ~[na:na]\\n\\tat sun.xxxxx.xxxxxxxxxxx.xxxxx(xxxxxxxxxxxxxx.java:43) ~[na:1.1.1_17]\\n\\tat xxxx.xxxx.xxxxx.xxxx.xxxxx(xxxxx.java:601) ~[na:1.1.1_17]\\n\\tat xxxx.xxxxx.xxxx.xxxxx.xxxxx(xxxxxx.java:273) [xxxx.xxxxxxxx.xxxx-1.1.1.RELEASE.jar:1.1.1.RELEASE]\\n\\tat xxx.xxxxxxxxxx.xxxxxxxx.xxxxx.xxxxxxxxxxxxxxx$xxxxxxxxxxxxxx.xxxxxxxxx(xxxxxxxxxxxxxxxx.java:264) [xxx.xxxxxxxxxxxxxxxx.xxxxxxxx.xxxxx-1.1.1.RELEASE.jar:1.1.1.RELEASE]\\n\\tat xxxxxx.xxxxxxxxxxx.xxxxxxx.xxxxxxx.xxxxxxxxx.xxxxxx(xxxxxxxx.java:86) [xxxxxx.xxxxxx.xxxxxx.xxxx-1.1.1.RELEASE.jar:1.1.1.RELEASE]\\n\\tat xxx.xxxxxx.xxxx.xxxxxx.xxxx(xxxxxx.java:202) [xxxxxxx-1.1.1.jar:1.1.1]\\n\\tat xxxx.xxxxxx.xxxx.xxxxxxxxxxx$xxxxxxx.xxx(xxxxxx.java:529) [xxxx-1.1.1.jar:1.1.1]\",\"@type\":\"xxxxx_log-type\",\"reported\":\"yes\"}}\n\n---\n\nNo mappings defined\n\n---\n\ncurl -XPOST 'localhost:9200/logstash-2013.03.28/xxxxx_log-type/qWtE27BWQuCsjBWUxoCxdg/_update' -d '{\n     \"script\" : \"ctx._source.tags += tag\",\n     \"params\" : {\n         \"tag\" : \"reported\"\n     }\n }'\n\n=========================>\n\nExecption:\n{\"error\":\"ElasticSearchIllegalArgumentException[failed to execute script]; nested: PropertyAccessException[[Error: could not access: tags; in class: java.util.LinkedHashMap]\\n[Near : {... ctx._source.tags+tag ....}]\\n             ^\\n[Line: 1, Column: 1]]; \",\"status\":400}\n","closed_by":{"login":"KafKaf","id":4057056,"node_id":"MDQ6VXNlcjQwNTcwNTY=","avatar_url":"https://avatars0.githubusercontent.com/u/4057056?v=4","gravatar_id":"","url":"https://api.github.com/users/KafKaf","html_url":"https://github.com/KafKaf","followers_url":"https://api.github.com/users/KafKaf/followers","following_url":"https://api.github.com/users/KafKaf/following{/other_user}","gists_url":"https://api.github.com/users/KafKaf/gists{/gist_id}","starred_url":"https://api.github.com/users/KafKaf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KafKaf/subscriptions","organizations_url":"https://api.github.com/users/KafKaf/orgs","repos_url":"https://api.github.com/users/KafKaf/repos","events_url":"https://api.github.com/users/KafKaf/events{/privacy}","received_events_url":"https://api.github.com/users/KafKaf/received_events","type":"User","site_admin":false},"performed_via_github_app":null}