{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/8129","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8129/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8129/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8129/events","html_url":"https://github.com/elastic/elasticsearch/issues/8129","id":46079978,"node_id":"MDU6SXNzdWU0NjA3OTk3OA==","number":8129,"title":"Completion Suggest: Omitting results even output is different","user":{"login":"petard","id":947001,"node_id":"MDQ6VXNlcjk0NzAwMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/947001?v=4","gravatar_id":"","url":"https://api.github.com/users/petard","html_url":"https://github.com/petard","followers_url":"https://api.github.com/users/petard/followers","following_url":"https://api.github.com/users/petard/following{/other_user}","gists_url":"https://api.github.com/users/petard/gists{/gist_id}","starred_url":"https://api.github.com/users/petard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/petard/subscriptions","organizations_url":"https://api.github.com/users/petard/orgs","repos_url":"https://api.github.com/users/petard/repos","events_url":"https://api.github.com/users/petard/events{/privacy}","received_events_url":"https://api.github.com/users/petard/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"areek","id":753679,"node_id":"MDQ6VXNlcjc1MzY3OQ==","avatar_url":"https://avatars1.githubusercontent.com/u/753679?v=4","gravatar_id":"","url":"https://api.github.com/users/areek","html_url":"https://github.com/areek","followers_url":"https://api.github.com/users/areek/followers","following_url":"https://api.github.com/users/areek/following{/other_user}","gists_url":"https://api.github.com/users/areek/gists{/gist_id}","starred_url":"https://api.github.com/users/areek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areek/subscriptions","organizations_url":"https://api.github.com/users/areek/orgs","repos_url":"https://api.github.com/users/areek/repos","events_url":"https://api.github.com/users/areek/events{/privacy}","received_events_url":"https://api.github.com/users/areek/received_events","type":"User","site_admin":false},"assignees":[{"login":"areek","id":753679,"node_id":"MDQ6VXNlcjc1MzY3OQ==","avatar_url":"https://avatars1.githubusercontent.com/u/753679?v=4","gravatar_id":"","url":"https://api.github.com/users/areek","html_url":"https://github.com/areek","followers_url":"https://api.github.com/users/areek/followers","following_url":"https://api.github.com/users/areek/following{/other_user}","gists_url":"https://api.github.com/users/areek/gists{/gist_id}","starred_url":"https://api.github.com/users/areek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areek/subscriptions","organizations_url":"https://api.github.com/users/areek/orgs","repos_url":"https://api.github.com/users/areek/repos","events_url":"https://api.github.com/users/areek/events{/privacy}","received_events_url":"https://api.github.com/users/areek/received_events","type":"User","site_admin":false}],"milestone":null,"comments":5,"created_at":"2014-10-17T09:23:15Z","updated_at":"2014-12-11T20:37:34Z","closed_at":"2014-12-11T20:37:34Z","author_association":"NONE","active_lock_reason":null,"body":"I have a case where the completion suggester is omitting results, below are two example documents. For a search like \"Samsung\", only Document 1 will be returned. Actually its the only document returned, so the `size=10` is not reached. The only major difference i can is see is the weight, will the completion suggester omitt result if there's a huge difference in weight?\n\nDocument 1:\n`{\n      \"_index\" : \"suggester\",\n      \"_type\" : \"suggestions\",\n      \"_id\" : \"b089f7c6a85f39fb882398b6c8ba34c1\",\n      \"_score\" : 1.0,\n      \"_source\":{\"suggest\":{\"input\":[\"Sm\",\"Samsung Mobiles Tablets\",\"Mobiles \\u0026 Tablets\",\"(Export) Galaxy Note 4 Sm\",\"Galaxy Note 4 Sm\",\"Note 4 Sm\",\"4 Sm\"], \"output\":62020, \"payload\":{\"br\":\"Samsung\", \"ca\":\"Mobiles \\u0026 Tablets\", \"cl\":\"N910C LTE 32GB White\",\"co\":\"product\",\"li\":\"http://one\", \"pr\":\"(Export) Galaxy Note 4 Sm\",\"th\":\"thumb1.jpg\"},\"weight\":63}}\n    }`\n\nDocument 2:\n`{\n      \"_index\" : \"suggester\",\n      \"_type\" : \"suggestions\",\n      \"_id\" : \"22480c43af984689f7254bda8d16f99a\",\n      \"_score\" : 1.0,\n      \"_source\":{\"suggest\":{\"input\":[\"Samsung Mobiles Tablets\",\"Mobiles \\u0026 Tablets\",\"Galaxy Note 4 Sm\",\"Note 4 Sm\",\"4 Sm\",\"Sm\"],\"output\":21970, \"payload\":{\"br\":\"Samsung\",\"ca\":\"Mobiles \\u0026 Tablets\",\"cl\":\"N910S LTE Black (Local warranty)\",\"co\":\"product\",\"li\":\"http://two\", \"pr\":\"Galaxy Note 4 Sm\", \"th\":\"thumb2.jpg\"}, \"weight\":27}}\n    }`\n","closed_by":{"login":"areek","id":753679,"node_id":"MDQ6VXNlcjc1MzY3OQ==","avatar_url":"https://avatars1.githubusercontent.com/u/753679?v=4","gravatar_id":"","url":"https://api.github.com/users/areek","html_url":"https://github.com/areek","followers_url":"https://api.github.com/users/areek/followers","following_url":"https://api.github.com/users/areek/following{/other_user}","gists_url":"https://api.github.com/users/areek/gists{/gist_id}","starred_url":"https://api.github.com/users/areek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areek/subscriptions","organizations_url":"https://api.github.com/users/areek/orgs","repos_url":"https://api.github.com/users/areek/repos","events_url":"https://api.github.com/users/areek/events{/privacy}","received_events_url":"https://api.github.com/users/areek/received_events","type":"User","site_admin":false},"performed_via_github_app":null}