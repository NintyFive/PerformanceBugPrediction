{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/47537","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47537/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47537/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47537/events","html_url":"https://github.com/elastic/elasticsearch/issues/47537","id":502325083,"node_id":"MDU6SXNzdWU1MDIzMjUwODM=","number":47537,"title":"Intermittent failures in getting started guide on call to _cat/health","user":{"login":"gwbrown","id":1522844,"node_id":"MDQ6VXNlcjE1MjI4NDQ=","avatar_url":"https://avatars1.githubusercontent.com/u/1522844?v=4","gravatar_id":"","url":"https://api.github.com/users/gwbrown","html_url":"https://github.com/gwbrown","followers_url":"https://api.github.com/users/gwbrown/followers","following_url":"https://api.github.com/users/gwbrown/following{/other_user}","gists_url":"https://api.github.com/users/gwbrown/gists{/gist_id}","starred_url":"https://api.github.com/users/gwbrown/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gwbrown/subscriptions","organizations_url":"https://api.github.com/users/gwbrown/orgs","repos_url":"https://api.github.com/users/gwbrown/repos","events_url":"https://api.github.com/users/gwbrown/events{/privacy}","received_events_url":"https://api.github.com/users/gwbrown/received_events","type":"User","site_admin":false},"labels":[{"id":165912659,"node_id":"MDU6TGFiZWwxNjU5MTI2NTk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/CAT%20APIs","name":":Core/Features/CAT APIs","color":"0e8a16","default":false,"description":"Text APIs behind /_cat"},{"id":23715,"node_id":"MDU6TGFiZWwyMzcxNQ==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Edocs","name":">docs","color":"db755e","default":false,"description":"General docs changes"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":{"login":"debadair","id":362578,"node_id":"MDQ6VXNlcjM2MjU3OA==","avatar_url":"https://avatars1.githubusercontent.com/u/362578?v=4","gravatar_id":"","url":"https://api.github.com/users/debadair","html_url":"https://github.com/debadair","followers_url":"https://api.github.com/users/debadair/followers","following_url":"https://api.github.com/users/debadair/following{/other_user}","gists_url":"https://api.github.com/users/debadair/gists{/gist_id}","starred_url":"https://api.github.com/users/debadair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/debadair/subscriptions","organizations_url":"https://api.github.com/users/debadair/orgs","repos_url":"https://api.github.com/users/debadair/repos","events_url":"https://api.github.com/users/debadair/events{/privacy}","received_events_url":"https://api.github.com/users/debadair/received_events","type":"User","site_admin":false},"assignees":[{"login":"debadair","id":362578,"node_id":"MDQ6VXNlcjM2MjU3OA==","avatar_url":"https://avatars1.githubusercontent.com/u/362578?v=4","gravatar_id":"","url":"https://api.github.com/users/debadair","html_url":"https://github.com/debadair","followers_url":"https://api.github.com/users/debadair/followers","following_url":"https://api.github.com/users/debadair/following{/other_user}","gists_url":"https://api.github.com/users/debadair/gists{/gist_id}","starred_url":"https://api.github.com/users/debadair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/debadair/subscriptions","organizations_url":"https://api.github.com/users/debadair/orgs","repos_url":"https://api.github.com/users/debadair/repos","events_url":"https://api.github.com/users/debadair/events{/privacy}","received_events_url":"https://api.github.com/users/debadair/received_events","type":"User","site_admin":false}],"milestone":null,"comments":4,"created_at":"2019-10-03T22:13:33Z","updated_at":"2020-01-24T08:58:19Z","closed_at":"2020-01-24T08:58:19Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"There's been an intermittent failure since roughly Oct. 1 where a call to `GET _cat/health?v` (from the getting started guide) doesn't match the regex it should be matching.\r\n\r\n[Build scan](https://gradle-enterprise.elastic.co/s/5os3yu7ddneb6/tests/jbm2x6tnwtxku-ior7e5flcvvj6)\r\n\r\nError:\r\n```\r\nFailure at [reference/getting-started:15]: field [$body] was expected to match the provided regex but didn't\r\nExpected: epoch      \\s+timestamp \\s+cluster       \\s+status \\s+node.total \\s+node.data \\s+shards \\s+pri \\s+relo \\s+init \\s+unassign \\s+pending_tasks \\s+max_task_wait_time \\s+active_shards_percent\\s* \\d+ \\s+\\d+:\\d+:\\d+ \\s+integTest \\s+green           \\s+\\d+         \\s+\\d+      \\s+\\d+   \\s+\\d+    \\s+0    \\s+0        \\s+0             \\s+\\d+                  \\s+(-|\\d+(micros|ms|s))                \\s+100.0%\\s*\r\n     but: was \"epoch      timestamp cluster   status node.total node.data shards pri relo init unassign pending_tasks max_task_wait_time active_shards_percent\\n1570139444 21:50:44  integTest green           1         1      0   0    0    0        0             2              9.3ms                100.0%\\n\"\r\n```\r\n\r\nReproduce line (does not reproduce locally):\r\n```\r\n./gradlew ':docs:integTestRunner' --tests \"org.elasticsearch.smoketest.DocsClientYamlTestSuiteIT.test {yaml=reference/getting-started/line_169}\" -Dtests.seed=3C57F50F2442A596 -Dtests.security.manager=true -Dtests.locale=bs-Cyrl -Dtests.timezone=America/Argentina/San_Juan -Dcompiler.java=12 -Druntime.java=11\r\n```\r\n\r\n\r\nWhat it gets back looks reasonable at a glance, though I haven't dug in - might be an issue with the regex? I'm not sure if any changes were made to the _cat APIs recently that might have triggered this.","closed_by":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"performed_via_github_app":null}