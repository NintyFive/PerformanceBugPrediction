[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/25357220","html_url":"https://github.com/elastic/elasticsearch/issues/3772#issuecomment-25357220","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3772","id":25357220,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MzU3MjIw","user":{"login":"brwe","id":4320215,"node_id":"MDQ6VXNlcjQzMjAyMTU=","avatar_url":"https://avatars0.githubusercontent.com/u/4320215?v=4","gravatar_id":"","url":"https://api.github.com/users/brwe","html_url":"https://github.com/brwe","followers_url":"https://api.github.com/users/brwe/followers","following_url":"https://api.github.com/users/brwe/following{/other_user}","gists_url":"https://api.github.com/users/brwe/gists{/gist_id}","starred_url":"https://api.github.com/users/brwe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brwe/subscriptions","organizations_url":"https://api.github.com/users/brwe/orgs","repos_url":"https://api.github.com/users/brwe/repos","events_url":"https://api.github.com/users/brwe/events{/privacy}","received_events_url":"https://api.github.com/users/brwe/received_events","type":"User","site_admin":false},"created_at":"2013-09-30T12:48:52Z","updated_at":"2013-09-30T12:48:52Z","author_association":"CONTRIBUTOR","body":"I think there are (at least) three issues here:\nTaking the payloads into account for scoring could indeed be useful. I will try to come up with something. However, I would like to know how you believe the payload should affect the score. Since the same token can have different payloads, would you have an average of these numbers, the max, the min,...?\n\nAs for how to get the payloads in, I believe this is a different issue. It would be easy to expose the DelimitedPayloadTokenFilter in elasticsearch but passing the payloads in while indexing the document might be more tricky. If you desperately need that, could you open a new issue for that?\n\nI do not fully understand how scipting support for payloads should work. Can you elaborate on this a bit or come up with an example?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/25990387","html_url":"https://github.com/elastic/elasticsearch/issues/3772#issuecomment-25990387","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3772","id":25990387,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTkwMzg3","user":{"login":"bdurand","id":41791,"node_id":"MDQ6VXNlcjQxNzkx","avatar_url":"https://avatars2.githubusercontent.com/u/41791?v=4","gravatar_id":"","url":"https://api.github.com/users/bdurand","html_url":"https://github.com/bdurand","followers_url":"https://api.github.com/users/bdurand/followers","following_url":"https://api.github.com/users/bdurand/following{/other_user}","gists_url":"https://api.github.com/users/bdurand/gists{/gist_id}","starred_url":"https://api.github.com/users/bdurand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bdurand/subscriptions","organizations_url":"https://api.github.com/users/bdurand/orgs","repos_url":"https://api.github.com/users/bdurand/repos","events_url":"https://api.github.com/users/bdurand/events{/privacy}","received_events_url":"https://api.github.com/users/bdurand/received_events","type":"User","site_admin":false},"created_at":"2013-10-09T17:22:04Z","updated_at":"2013-10-09T17:22:04Z","author_association":"NONE","body":"In my mind the scripting and scoring are tied together simply because I believe this is the kind of issue where you'd need to play with the data after indexing it to get the right scoring. Since the payload would need to be added at indexing time, it would be much easier if the \"payload score\" could be exposed to a scoring script used for ordering.\n\nMy particular use case in detail would be:\n1. While indexing documents, count the number of times each distinct tag has been applied by users to the document. This value would be included with each tag indexed for the document to indicate the weight for that particular tag.\n2. When searching, we would apply the previously defined weights for the tags (terms) in a custom scoring script.\n\nWe haven't worked out the actual algorithms yet and it is definitely something we'd need to play around with to get the right values. I would imagine the payload, though, would likely be a number between 0.0 and 1.0 indicating the confidence that the term was an accurate one.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/26996906","html_url":"https://github.com/elastic/elasticsearch/issues/3772#issuecomment-26996906","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3772","id":26996906,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTk2OTA2","user":{"login":"brwe","id":4320215,"node_id":"MDQ6VXNlcjQzMjAyMTU=","avatar_url":"https://avatars0.githubusercontent.com/u/4320215?v=4","gravatar_id":"","url":"https://api.github.com/users/brwe","html_url":"https://github.com/brwe","followers_url":"https://api.github.com/users/brwe/followers","following_url":"https://api.github.com/users/brwe/following{/other_user}","gists_url":"https://api.github.com/users/brwe/gists{/gist_id}","starred_url":"https://api.github.com/users/brwe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brwe/subscriptions","organizations_url":"https://api.github.com/users/brwe/orgs","repos_url":"https://api.github.com/users/brwe/repos","events_url":"https://api.github.com/users/brwe/events{/privacy}","received_events_url":"https://api.github.com/users/brwe/received_events","type":"User","site_admin":false},"created_at":"2013-10-24T14:30:27Z","updated_at":"2013-10-24T14:30:27Z","author_association":"CONTRIBUTOR","body":"Sorry for the late reply:\nI agree that having the payloads available in a script would indeed be helpful to evaluate different scoring functions. But be warned: It will be very slow and only be good for prototyping.\n\nI think the easiest way to do this is to simply make all term information for a document available in scripts. It would be similar to the term vector api. You would then have the freedom to choose any kind of document features for scoring. \nWhat do you think?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/28395595","html_url":"https://github.com/elastic/elasticsearch/issues/3772#issuecomment-28395595","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3772","id":28395595,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Mzk1NTk1","user":{"login":"brwe","id":4320215,"node_id":"MDQ6VXNlcjQzMjAyMTU=","avatar_url":"https://avatars0.githubusercontent.com/u/4320215?v=4","gravatar_id":"","url":"https://api.github.com/users/brwe","html_url":"https://github.com/brwe","followers_url":"https://api.github.com/users/brwe/followers","following_url":"https://api.github.com/users/brwe/following{/other_user}","gists_url":"https://api.github.com/users/brwe/gists{/gist_id}","starred_url":"https://api.github.com/users/brwe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brwe/subscriptions","organizations_url":"https://api.github.com/users/brwe/orgs","repos_url":"https://api.github.com/users/brwe/repos","events_url":"https://api.github.com/users/brwe/events{/privacy}","received_events_url":"https://api.github.com/users/brwe/received_events","type":"User","site_admin":false},"created_at":"2013-11-13T13:55:35Z","updated_at":"2013-11-13T13:55:35Z","author_association":"CONTRIBUTOR","body":"I made the pull request (#4161) that allows to access payloads amongst other term information in a script. If you are still interested, take a look and see if this is useful for you!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/28413106","html_url":"https://github.com/elastic/elasticsearch/issues/3772#issuecomment-28413106","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3772","id":28413106,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NDEzMTA2","user":{"login":"bdurand","id":41791,"node_id":"MDQ6VXNlcjQxNzkx","avatar_url":"https://avatars2.githubusercontent.com/u/41791?v=4","gravatar_id":"","url":"https://api.github.com/users/bdurand","html_url":"https://github.com/bdurand","followers_url":"https://api.github.com/users/bdurand/followers","following_url":"https://api.github.com/users/bdurand/following{/other_user}","gists_url":"https://api.github.com/users/bdurand/gists{/gist_id}","starred_url":"https://api.github.com/users/bdurand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bdurand/subscriptions","organizations_url":"https://api.github.com/users/bdurand/orgs","repos_url":"https://api.github.com/users/bdurand/repos","events_url":"https://api.github.com/users/bdurand/events{/privacy}","received_events_url":"https://api.github.com/users/bdurand/received_events","type":"User","site_admin":false},"created_at":"2013-11-13T17:08:08Z","updated_at":"2013-11-13T17:08:08Z","author_association":"NONE","body":"Looks great! Thank you.\n","performed_via_github_app":null}]