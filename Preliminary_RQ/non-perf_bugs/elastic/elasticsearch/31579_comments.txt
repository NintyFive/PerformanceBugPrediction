[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/400305274","html_url":"https://github.com/elastic/elasticsearch/issues/31579#issuecomment-400305274","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31579","id":400305274,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDMwNTI3NA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-06-26T13:20:55Z","updated_at":"2018-06-26T13:20:55Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search-aggs","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/400584216","html_url":"https://github.com/elastic/elasticsearch/issues/31579#issuecomment-400584216","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31579","id":400584216,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDU4NDIxNg==","user":{"login":"nyurik","id":1641515,"node_id":"MDQ6VXNlcjE2NDE1MTU=","avatar_url":"https://avatars0.githubusercontent.com/u/1641515?v=4","gravatar_id":"","url":"https://api.github.com/users/nyurik","html_url":"https://github.com/nyurik","followers_url":"https://api.github.com/users/nyurik/followers","following_url":"https://api.github.com/users/nyurik/following{/other_user}","gists_url":"https://api.github.com/users/nyurik/gists{/gist_id}","starred_url":"https://api.github.com/users/nyurik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nyurik/subscriptions","organizations_url":"https://api.github.com/users/nyurik/orgs","repos_url":"https://api.github.com/users/nyurik/repos","events_url":"https://api.github.com/users/nyurik/events{/privacy}","received_events_url":"https://api.github.com/users/nyurik/received_events","type":"User","site_admin":false},"created_at":"2018-06-27T08:18:00Z","updated_at":"2018-06-27T08:18:00Z","author_association":"CONTRIBUTOR","body":"I think some clients may want to know the centroid of the region - e.g. for placing text or drawing circles.  For more complex drawing, they would need to know the details of each hashing algorithm.   One option would be for the new HashType enum handlers to provide a utility function of \"string\" -> \"centroid\".","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/400587690","html_url":"https://github.com/elastic/elasticsearch/issues/31579#issuecomment-400587690","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31579","id":400587690,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDU4NzY5MA==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2018-06-27T08:29:53Z","updated_at":"2018-06-27T08:29:53Z","author_association":"MEMBER","body":"> some clients may want to know the centroid of the region\r\n\r\nThe question is if it should be the aggregations (and specifically the buckets) job to provide this kind of information, since its very much a presentation layer thing. The Hash key (as a String) whould already provide enough information about this. A client should know how to interpret this (because it sent the request) and can perform the conversion back much more easily. The proposed change is supposed to simplify matters on the backend so we have less problems carrying the hash type information around as we do have currently in #30320.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/400592932","html_url":"https://github.com/elastic/elasticsearch/issues/31579#issuecomment-400592932","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31579","id":400592932,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDU5MjkzMg==","user":{"login":"nyurik","id":1641515,"node_id":"MDQ6VXNlcjE2NDE1MTU=","avatar_url":"https://avatars0.githubusercontent.com/u/1641515?v=4","gravatar_id":"","url":"https://api.github.com/users/nyurik","html_url":"https://github.com/nyurik","followers_url":"https://api.github.com/users/nyurik/followers","following_url":"https://api.github.com/users/nyurik/following{/other_user}","gists_url":"https://api.github.com/users/nyurik/gists{/gist_id}","starred_url":"https://api.github.com/users/nyurik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nyurik/subscriptions","organizations_url":"https://api.github.com/users/nyurik/orgs","repos_url":"https://api.github.com/users/nyurik/repos","events_url":"https://api.github.com/users/nyurik/events{/privacy}","received_events_url":"https://api.github.com/users/nyurik/received_events","type":"User","site_admin":false},"created_at":"2018-06-27T08:47:25Z","updated_at":"2018-06-27T08:47:25Z","author_association":"CONTRIBUTOR","body":"@cbuescher yep, I agree with you. I simply proposed a consistent workaround for the clients that do know the hashing type of how to get that same information. This does not mean the information will be available in the bucket. Thx for looking into it!","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/401036105","html_url":"https://github.com/elastic/elasticsearch/issues/31579#issuecomment-401036105","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31579","id":401036105,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTAzNjEwNQ==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2018-06-28T13:33:31Z","updated_at":"2018-06-28T13:33:31Z","author_association":"CONTRIBUTOR","body":"+1 to stop returning a GeoPoint, to me this is related to #18518: we need to have a single key as opposed to key + key_as_string, and this key must be of a json type, ie. string, number, boolean, hash or array.\r\n\r\nI'm not sure what the key should be exactly, but we should make sure it contains sufficient information to filter documents in one particular bucket so that it's easy to drill down a specific subset of the data. Geo hashes meet this requirement, especially thanks to @imotov's work on #30698, but I agree that we might need more to support other types of grids that do not create rectangles. FWIW I would be ok with having the format of keys depend on the selected grid type.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/401842326","html_url":"https://github.com/elastic/elasticsearch/issues/31579#issuecomment-401842326","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31579","id":401842326,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTg0MjMyNg==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2018-07-02T15:25:34Z","updated_at":"2018-07-02T15:25:34Z","author_association":"MEMBER","body":"In the group discussion we agreed we should change this interface to return a String in 7.0. We would like to avoid introducing this as breaking change in 6.x, but there might not be other ways that allow us to introduce the new geo grid types in 6.x, so this might be a tradeoff to be discussed.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/401878715","html_url":"https://github.com/elastic/elasticsearch/issues/31579#issuecomment-401878715","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31579","id":401878715,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTg3ODcxNQ==","user":{"login":"nyurik","id":1641515,"node_id":"MDQ6VXNlcjE2NDE1MTU=","avatar_url":"https://avatars0.githubusercontent.com/u/1641515?v=4","gravatar_id":"","url":"https://api.github.com/users/nyurik","html_url":"https://github.com/nyurik","followers_url":"https://api.github.com/users/nyurik/followers","following_url":"https://api.github.com/users/nyurik/following{/other_user}","gists_url":"https://api.github.com/users/nyurik/gists{/gist_id}","starred_url":"https://api.github.com/users/nyurik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nyurik/subscriptions","organizations_url":"https://api.github.com/users/nyurik/orgs","repos_url":"https://api.github.com/users/nyurik/repos","events_url":"https://api.github.com/users/nyurik/events{/privacy}","received_events_url":"https://api.github.com/users/nyurik/received_events","type":"User","site_admin":false},"created_at":"2018-07-02T17:34:13Z","updated_at":"2018-07-02T17:34:13Z","author_association":"CONTRIBUTOR","body":"@cbuescher thx, could you clarify how this impacts the hash type PR?  Does it mean we have to wait for 7.x to release this feature? Or is it ok for this API to simply throw an error if it cannot parse the hash string because it was generated by a different algorithm (that's what will currently happen because other algos produce incompatible hash strings)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/401893388","html_url":"https://github.com/elastic/elasticsearch/issues/31579#issuecomment-401893388","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31579","id":401893388,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTg5MzM4OA==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2018-07-02T18:29:00Z","updated_at":"2018-07-02T18:29:10Z","author_association":"MEMBER","body":"> Or is it ok for this API to simply throw an error if it cannot parse the hash string because it was generated by a different algorithm (that's what will currently happen because other algos produce incompatible hash strings)\r\n\r\nThat would be one option. Maybe there are other we haven't thought about yet. But having a cleaner solution from 7.0 onwards certainly makes choosing less ideal workarounds on 6.x a bit easier. I think this should be discussed on the PR though.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/410836811","html_url":"https://github.com/elastic/elasticsearch/issues/31579#issuecomment-410836811","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31579","id":410836811,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDgzNjgxMQ==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2018-08-06T20:07:30Z","updated_at":"2018-08-06T20:07:30Z","author_association":"MEMBER","body":"@colings86 I think this can be closed now that we agreed on introducing a new aggregation in https://github.com/elastic/elasticsearch/pull/30320#issuecomment-404114135 instead of changing the interface of the existing one. Assuming this is so, I'll close, but please reopen if I missed something.","performed_via_github_app":null}]