{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/1612","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1612/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1612/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1612/events","html_url":"https://github.com/elastic/elasticsearch/issues/1612","id":2846014,"node_id":"MDU6SXNzdWUyODQ2MDE0","number":1612,"title":"Add generic execution of APIs to Client (and indices/cluster) and allow for plugins to register custom APIs","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"labels":[{"id":23172,"node_id":"MDU6TGFiZWwyMzE3Mg==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Efeature","name":">feature","color":"006b75","default":false,"description":null},{"id":174398,"node_id":"MDU6TGFiZWwxNzQzOTg=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v0.19.0.RC1","name":"v0.19.0.RC1","color":"DDDDDD","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2012-01-15T14:14:14Z","updated_at":"2012-03-06T02:54:33Z","closed_at":"2012-01-15T14:15:21Z","author_association":"MEMBER","active_lock_reason":null,"body":"This change is driven by allowing for plugins to register custom (strongly typed) Java APIs as well as REST APIs. The `Client`, `IndicesAdminClient` and `ClusterAdminClient` interfaces now allow to `execute` and `prepareExecute` custom actions (as well as the built in ones) in a strongly typed manner.\n\nA new class called `GenericAction` was added, where each specific action needs to extend and implement. Main actions need to extend `Action`, indices actions need to extend `IndicesAction` and cluster actions need to extend `ClusterAction`. Those actions need to be strongly types.\n\nPlugins should then use the `ActionModule` module to register custom actions based on the instance of the action, the transport action class, and any supporting classes.\n\nThe generic execute usage then requires providing the action when executing, which automatically derives the request and response types based on generic.\n\nFor example, here is how an index operation will be executed using the generic execute method:\n\n```\n// direct execution\nIndexResponse response = client1.execute(IndexAction.INSTANCE, new IndexRequest(...)...).actionGet();\n// prepare sample\nclient1.prepareExecute(IndexAction.INSTANCE).setIndex(\"test\").setType(\"type\").setSource(\"\").execute().actionGet();\n```\n\nAs a side note, implementing custom actions has become much simpler, where transport client level proxies are automatically generated and there is no need to create custom ones per actions.\n","closed_by":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"performed_via_github_app":null}