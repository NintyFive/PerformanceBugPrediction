{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/41902","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41902/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41902/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41902/events","html_url":"https://github.com/elastic/elasticsearch/issues/41902","id":441294812,"node_id":"MDU6SXNzdWU0NDEyOTQ4MTI=","number":41902,"title":"Fix aggregation  documentation","user":{"login":"fpompermaier","id":3776037,"node_id":"MDQ6VXNlcjM3NzYwMzc=","avatar_url":"https://avatars3.githubusercontent.com/u/3776037?v=4","gravatar_id":"","url":"https://api.github.com/users/fpompermaier","html_url":"https://github.com/fpompermaier","followers_url":"https://api.github.com/users/fpompermaier/followers","following_url":"https://api.github.com/users/fpompermaier/following{/other_user}","gists_url":"https://api.github.com/users/fpompermaier/gists{/gist_id}","starred_url":"https://api.github.com/users/fpompermaier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fpompermaier/subscriptions","organizations_url":"https://api.github.com/users/fpompermaier/orgs","repos_url":"https://api.github.com/users/fpompermaier/repos","events_url":"https://api.github.com/users/fpompermaier/events{/privacy}","received_events_url":"https://api.github.com/users/fpompermaier/received_events","type":"User","site_admin":false},"labels":[{"id":141141324,"node_id":"MDU6TGFiZWwxNDExNDEzMjQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Analytics/Aggregations","name":":Analytics/Aggregations","color":"0e8a16","default":false,"description":"Aggregations"},{"id":23715,"node_id":"MDU6TGFiZWwyMzcxNQ==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Edocs","name":">docs","color":"db755e","default":false,"description":"General docs changes"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2019-05-07T15:24:34Z","updated_at":"2019-07-31T21:14:30Z","closed_at":"2019-07-31T21:14:30Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"The value of sum_other_doc_count in the example of [search-aggregations-bucket-terms-aggregation page](https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-terms-aggregation.html#search-aggregations-bucket-terms-aggregation-approximate-counts) is inconsistent with the sample data. Am I wrong?\r\n\r\nIn the reported responses **sum_other_doc_count is 79** but from my counts **should be 81**.\r\nsum_other_doc_count should be the sum of all doc counts after the 6th row of the top terms per shard table, i.e.:\r\n\r\n  6 | Product F (2) | Product H (14) | Product H (28)\r\n  7 | Product G (2) | Product I (10)  | Product Q (2)\r\n  8 | Product H (2) | Product Q (6)  | Product D (1)\r\n  9 | Product I (1)   | Product J (8)  | Â \r\n10 | Product J (1)  | Product C (4)\r\n\r\nSum other doc count of Shard(A) = 2 + 2 +2 +1 +1 = 8\r\nSum other doc count of Shard(B) = 14 + 10 +6 +8+4 = 42\r\nSum other doc count of Shard(C) = 28+2+1 = 31\r\nAnd thus sum_other_doc_count = 8 +42 +31 = 81.\r\n\r\nIs it correct? Or am I wrong?\r\n","closed_by":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"performed_via_github_app":null}