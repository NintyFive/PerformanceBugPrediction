{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/9794","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9794/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9794/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9794/events","html_url":"https://github.com/elastic/elasticsearch/issues/9794","id":58377844,"node_id":"MDU6SXNzdWU1ODM3Nzg0NA==","number":9794,"title":"TransportService does not raise exceptions correctly","user":{"login":"polgl","id":11061987,"node_id":"MDQ6VXNlcjExMDYxOTg3","avatar_url":"https://avatars1.githubusercontent.com/u/11061987?v=4","gravatar_id":"","url":"https://api.github.com/users/polgl","html_url":"https://github.com/polgl","followers_url":"https://api.github.com/users/polgl/followers","following_url":"https://api.github.com/users/polgl/following{/other_user}","gists_url":"https://api.github.com/users/polgl/gists{/gist_id}","starred_url":"https://api.github.com/users/polgl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polgl/subscriptions","organizations_url":"https://api.github.com/users/polgl/orgs","repos_url":"https://api.github.com/users/polgl/repos","events_url":"https://api.github.com/users/polgl/events{/privacy}","received_events_url":"https://api.github.com/users/polgl/received_events","type":"User","site_admin":false},"labels":[{"id":146829143,"node_id":"MDU6TGFiZWwxNDY4MjkxNDM=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Transport%20API","name":":Core/Infra/Transport API","color":"0e8a16","default":false,"description":"Transport client API"},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2015-02-20T16:43:46Z","updated_at":"2016-11-27T21:05:15Z","closed_at":"2016-11-27T21:05:15Z","author_association":"NONE","active_lock_reason":null,"body":"Hy\n\nI found a bug in the ES Java client (TransportClient):\n\nAfter one node gets unavailable, our application takes several minutes to reconnect to ES again.\nAfter some investigations it seems like the TransportService can not raise exceptions to the RequestHolders.\nraiseNodeDisconnected() cannot match the disconnected node (Object from listedNodes in TransportClientNodesService) with the RequestHolder node (Object from nodes in TransportClientNodesService).\n\nThe nodes get matched by their Id but listedNodes contain dummy ids (\"#transport#-1\") while nodes contains real ids from the cluster.\n","closed_by":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"performed_via_github_app":null}