[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/459660769","html_url":"https://github.com/elastic/elasticsearch/issues/38106#issuecomment-459660769","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38106","id":459660769,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1OTY2MDc2OQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-02-01T09:29:28Z","updated_at":"2019-02-01T09:29:28Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/461046001","html_url":"https://github.com/elastic/elasticsearch/issues/38106#issuecomment-461046001","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38106","id":461046001,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MTA0NjAwMQ==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2019-02-06T14:39:14Z","updated_at":"2019-02-06T14:39:14Z","author_association":"CONTRIBUTOR","body":"We discussed this, and generally agreed that periodically logging a message indicating why the cluster has not recovered its state yet would be good. We [already emit a periodic log message when there is no master](https://github.com/elastic/elasticsearch/blob/bda591453cc4cfc076eb2bccc4b96877f27f393c/server/src/main/java/org/elasticsearch/cluster/coordination/ClusterFormationFailureHelper.java) and we think that something similar would work well here too.\r\n\r\n> A possible example would be:\r\n> `ClusterBlockException[blocked by: [SERVICE_UNAVAILABLE/1/state not recovered / initialized. Automatic Recovery in 9min 31s]`\r\n\r\nI think we wouldn't include this information in the `ClusterBlockException` message itself. It'd be an API change, and those messages can be sent over the wire so we could be reporting remote state rather than the local state which would be rather confusing. The preferred approach is to construct these log messages independently of the `ClusterBlockException`.\r\n\r\nWe have no plans to work on this ourselves, but a PR to add this feature would be welcome.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/498970939","html_url":"https://github.com/elastic/elasticsearch/issues/38106#issuecomment-498970939","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38106","id":498970939,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODk3MDkzOQ==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2019-06-05T07:29:29Z","updated_at":"2019-06-05T07:29:29Z","author_association":"CONTRIBUTOR","body":"We've not heard any more on this idea for a few months, so I'm closing this issue as an indication that we're not intending to take any further action here. Feedback (or a PR) is still welcome.","performed_via_github_app":null}]