[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/476193442","html_url":"https://github.com/elastic/elasticsearch/issues/40402#issuecomment-476193442","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40402","id":476193442,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NjE5MzQ0Mg==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2019-03-25T13:21:22Z","updated_at":"2019-03-25T13:21:22Z","author_association":"MEMBER","body":"@robcowart It seems like this might be a problem you are seeing in Kibana? If so would you mind opening an issue on the [Kibana Repository](https://github.com/elastic/kibana/issues)?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/476195079","html_url":"https://github.com/elastic/elasticsearch/issues/40402#issuecomment-476195079","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40402","id":476195079,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NjE5NTA3OQ==","user":{"login":"robcowart","id":10326954,"node_id":"MDQ6VXNlcjEwMzI2OTU0","avatar_url":"https://avatars1.githubusercontent.com/u/10326954?v=4","gravatar_id":"","url":"https://api.github.com/users/robcowart","html_url":"https://github.com/robcowart","followers_url":"https://api.github.com/users/robcowart/followers","following_url":"https://api.github.com/users/robcowart/following{/other_user}","gists_url":"https://api.github.com/users/robcowart/gists{/gist_id}","starred_url":"https://api.github.com/users/robcowart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robcowart/subscriptions","organizations_url":"https://api.github.com/users/robcowart/orgs","repos_url":"https://api.github.com/users/robcowart/repos","events_url":"https://api.github.com/users/robcowart/events{/privacy}","received_events_url":"https://api.github.com/users/robcowart/received_events","type":"User","site_admin":false},"created_at":"2019-03-25T13:25:24Z","updated_at":"2019-03-25T13:25:24Z","author_association":"NONE","body":"Well I guess that depends. If the $variables$ are generated by ML engine, which is part of Elasticsearch, and the escape characters are inserted there, then it is an Elasticsearch issue.\r\n\r\nCan you confirm that the variables are not generated in any part of the Elasticsearch part of ML, and that the escape characters are not added until Kibana?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/476222246","html_url":"https://github.com/elastic/elasticsearch/issues/40402#issuecomment-476222246","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40402","id":476222246,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NjIyMjI0Ng==","user":{"login":"peteharverson","id":7405507,"node_id":"MDQ6VXNlcjc0MDU1MDc=","avatar_url":"https://avatars1.githubusercontent.com/u/7405507?v=4","gravatar_id":"","url":"https://api.github.com/users/peteharverson","html_url":"https://github.com/peteharverson","followers_url":"https://api.github.com/users/peteharverson/followers","following_url":"https://api.github.com/users/peteharverson/following{/other_user}","gists_url":"https://api.github.com/users/peteharverson/gists{/gist_id}","starred_url":"https://api.github.com/users/peteharverson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peteharverson/subscriptions","organizations_url":"https://api.github.com/users/peteharverson/orgs","repos_url":"https://api.github.com/users/peteharverson/repos","events_url":"https://api.github.com/users/peteharverson/events{/privacy}","received_events_url":"https://api.github.com/users/peteharverson/received_events","type":"User","site_admin":false},"created_at":"2019-03-25T14:30:59Z","updated_at":"2019-03-25T14:30:59Z","author_association":"NONE","body":"@robcowart the custom URL functionality in the ML plugin is solely used on the Kibana side. It is still possible to use the `$variable$` syntax in the filters part of the URL. I wonder if you have hit an issue with escaping of certain characters which are being substituted for the `$variable$` parts of the drilldown URL, or if there has been a subtle change to the syntax of the URLs between 6.2 and 6.6.2?\r\n\r\nWould you be able to reopen this issue in the [Kibana repository](https://github.com/elastic/kibana/issues)? It would help if you could add the JSON for the `custom_urls` part of the ML job (you can copy that from the JSON tab for that job in the ML Job Management page. Also for the screenshot you pasted in above, what are the exact values from the anomaly record that should be going into the filter - I wonder if they contain backward slashes for example?\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/476234697","html_url":"https://github.com/elastic/elasticsearch/issues/40402#issuecomment-476234697","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40402","id":476234697,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NjIzNDY5Nw==","user":{"login":"robcowart","id":10326954,"node_id":"MDQ6VXNlcjEwMzI2OTU0","avatar_url":"https://avatars1.githubusercontent.com/u/10326954?v=4","gravatar_id":"","url":"https://api.github.com/users/robcowart","html_url":"https://github.com/robcowart","followers_url":"https://api.github.com/users/robcowart/followers","following_url":"https://api.github.com/users/robcowart/following{/other_user}","gists_url":"https://api.github.com/users/robcowart/gists{/gist_id}","starred_url":"https://api.github.com/users/robcowart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robcowart/subscriptions","organizations_url":"https://api.github.com/users/robcowart/orgs","repos_url":"https://api.github.com/users/robcowart/repos","events_url":"https://api.github.com/users/robcowart/events{/privacy}","received_events_url":"https://api.github.com/users/robcowart/received_events","type":"User","site_admin":false},"created_at":"2019-03-25T14:58:25Z","updated_at":"2019-03-25T14:58:25Z","author_association":"NONE","body":"Thanks for the additional info @peteharverson . Issue opened https://github.com/elastic/kibana/issues/33784","performed_via_github_app":null}]