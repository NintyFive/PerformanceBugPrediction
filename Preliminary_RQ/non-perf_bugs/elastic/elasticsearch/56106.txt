{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/56106","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/56106/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/56106/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/56106/events","html_url":"https://github.com/elastic/elasticsearch/issues/56106","id":611770696,"node_id":"MDU6SXNzdWU2MTE3NzA2OTY=","number":56106,"title":"[CI] body.license.uid is null in reference/rest-api/info/line_45","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"labels":[{"id":912841668,"node_id":"MDU6TGFiZWw5MTI4NDE2Njg=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Security/License","name":":Security/License","color":"0e8a16","default":false,"description":"License functionality for commercial features"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"},{"id":1967499607,"node_id":"MDU6TGFiZWwxOTY3NDk5NjA3","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Security","name":"Team:Security","color":"fef2c0","default":false,"description":"Meta label for security team"}],"state":"closed","locked":false,"assignee":{"login":"ywangd","id":2344308,"node_id":"MDQ6VXNlcjIzNDQzMDg=","avatar_url":"https://avatars3.githubusercontent.com/u/2344308?v=4","gravatar_id":"","url":"https://api.github.com/users/ywangd","html_url":"https://github.com/ywangd","followers_url":"https://api.github.com/users/ywangd/followers","following_url":"https://api.github.com/users/ywangd/following{/other_user}","gists_url":"https://api.github.com/users/ywangd/gists{/gist_id}","starred_url":"https://api.github.com/users/ywangd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywangd/subscriptions","organizations_url":"https://api.github.com/users/ywangd/orgs","repos_url":"https://api.github.com/users/ywangd/repos","events_url":"https://api.github.com/users/ywangd/events{/privacy}","received_events_url":"https://api.github.com/users/ywangd/received_events","type":"User","site_admin":false},"assignees":[{"login":"ywangd","id":2344308,"node_id":"MDQ6VXNlcjIzNDQzMDg=","avatar_url":"https://avatars3.githubusercontent.com/u/2344308?v=4","gravatar_id":"","url":"https://api.github.com/users/ywangd","html_url":"https://github.com/ywangd","followers_url":"https://api.github.com/users/ywangd/followers","following_url":"https://api.github.com/users/ywangd/following{/other_user}","gists_url":"https://api.github.com/users/ywangd/gists{/gist_id}","starred_url":"https://api.github.com/users/ywangd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywangd/subscriptions","organizations_url":"https://api.github.com/users/ywangd/orgs","repos_url":"https://api.github.com/users/ywangd/repos","events_url":"https://api.github.com/users/ywangd/events{/privacy}","received_events_url":"https://api.github.com/users/ywangd/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2020-05-04T10:34:57Z","updated_at":"2020-08-05T06:09:57Z","closed_at":"2020-08-05T06:09:57Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"https://gradle-enterprise.elastic.co/s/f6y6ws73omhxi failed because there was no `license` section in the X-Pack info response:\r\n\r\n```\r\n[2020-05-03T15:08:23,062][INFO ][o.e.s.DocsClientYamlTestSuiteIT] [test] Stash dump on test failure [{\r\n  \"stash\" : {\r\n    \"body\" : {\r\n      \"build\" : {\r\n        \"hash\" : \"293ff2f60eb1fce9af59d23692d783ad040e0654\",\r\n        \"date\" : \"2020-05-03T18:56:21.156730Z\"\r\n      },\r\n      \"license\" : null,\r\n      \"features\" : {\r\n        \"analytics\" : {\r\n          \"available\" : true,\r\n          \"enabled\" : true\r\n        },\r\n        \"ccr\" : {\r\n          \"available\" : true,\r\n          \"enabled\" : true\r\n        },\r\n        \"enrich\" : {\r\n          \"available\" : true,\r\n          \"enabled\" : true\r\n        },\r\n        \"eql\" : {\r\n          \"available\" : true,\r\n          \"enabled\" : true\r\n        },\r\n        \"frozen_indices\" : {\r\n          \"available\" : true,\r\n          \"enabled\" : true\r\n        },\r\n        \"graph\" : {\r\n          \"available\" : true,\r\n          \"enabled\" : true\r\n        },\r\n        \"ilm\" : {\r\n          \"available\" : true,\r\n          \"enabled\" : true\r\n        },\r\n        \"logstash\" : {\r\n          \"available\" : true,\r\n          \"enabled\" : true\r\n        },\r\n        \"ml\" : {\r\n          \"available\" : true,\r\n          \"enabled\" : true\r\n        },\r\n        \"monitoring\" : {\r\n          \"available\" : true,\r\n          \"enabled\" : true\r\n        },\r\n        \"rollup\" : {\r\n          \"available\" : true,\r\n          \"enabled\" : true\r\n        },\r\n        \"security\" : {\r\n          \"available\" : true,\r\n          \"enabled\" : false\r\n        },\r\n        \"slm\" : {\r\n          \"available\" : true,\r\n          \"enabled\" : true\r\n        },\r\n        \"spatial\" : {\r\n          \"available\" : true,\r\n          \"enabled\" : true\r\n        },\r\n        \"sql\" : {\r\n          \"available\" : true,\r\n          \"enabled\" : true\r\n        },\r\n        \"transform\" : {\r\n          \"available\" : true,\r\n          \"enabled\" : true\r\n        },\r\n        \"vectors\" : {\r\n          \"available\" : true,\r\n          \"enabled\" : true\r\n        },\r\n        \"voting_only\" : {\r\n          \"available\" : true,\r\n          \"enabled\" : true\r\n        },\r\n        \"watcher\" : {\r\n          \"available\" : true,\r\n          \"enabled\" : true\r\n        }\r\n      },\r\n      \"tagline\" : \"You know, for X\"\r\n    }\r\n  }\r\n}]\r\n```\r\n\r\nThe failure message was:\r\n\r\n```\r\njava.lang.RuntimeException: Failure at [reference/rest-api/info:16]: stashed value not found for key [body.license.uid]\r\n```\r\n\r\nThe repro command is:\r\n\r\n```\r\n./gradlew ':docs:integTestRunner' --tests \"org.elasticsearch.smoketest.DocsClientYamlTestSuiteIT.test {yaml=reference/rest-api/info/line_45}\" -Dtests.seed=F16A790D7469E4B3 -Dtests.security.manager=true -Dtests.locale=no-NO -Dtests.timezone=America/Detroit -Dcompiler.java=14 -Druntime.java=11\r\n```\r\n\r\nThis did not reproduce locally for me.","closed_by":{"login":"ywangd","id":2344308,"node_id":"MDQ6VXNlcjIzNDQzMDg=","avatar_url":"https://avatars3.githubusercontent.com/u/2344308?v=4","gravatar_id":"","url":"https://api.github.com/users/ywangd","html_url":"https://github.com/ywangd","followers_url":"https://api.github.com/users/ywangd/followers","following_url":"https://api.github.com/users/ywangd/following{/other_user}","gists_url":"https://api.github.com/users/ywangd/gists{/gist_id}","starred_url":"https://api.github.com/users/ywangd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywangd/subscriptions","organizations_url":"https://api.github.com/users/ywangd/orgs","repos_url":"https://api.github.com/users/ywangd/repos","events_url":"https://api.github.com/users/ywangd/events{/privacy}","received_events_url":"https://api.github.com/users/ywangd/received_events","type":"User","site_admin":false},"performed_via_github_app":null}