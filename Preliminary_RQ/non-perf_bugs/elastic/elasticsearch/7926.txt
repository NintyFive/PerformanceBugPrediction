{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/7926","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7926/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7926/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7926/events","html_url":"https://github.com/elastic/elasticsearch/issues/7926","id":44421817,"node_id":"MDU6SXNzdWU0NDQyMTgxNw==","number":7926,"title":"ArrayIndexOutOfBoundsException","user":{"login":"lnxg33k","id":1170490,"node_id":"MDQ6VXNlcjExNzA0OTA=","avatar_url":"https://avatars3.githubusercontent.com/u/1170490?v=4","gravatar_id":"","url":"https://api.github.com/users/lnxg33k","html_url":"https://github.com/lnxg33k","followers_url":"https://api.github.com/users/lnxg33k/followers","following_url":"https://api.github.com/users/lnxg33k/following{/other_user}","gists_url":"https://api.github.com/users/lnxg33k/gists{/gist_id}","starred_url":"https://api.github.com/users/lnxg33k/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lnxg33k/subscriptions","organizations_url":"https://api.github.com/users/lnxg33k/orgs","repos_url":"https://api.github.com/users/lnxg33k/repos","events_url":"https://api.github.com/users/lnxg33k/events{/privacy}","received_events_url":"https://api.github.com/users/lnxg33k/received_events","type":"User","site_admin":false},"labels":[{"id":146832564,"node_id":"MDU6TGFiZWwxNDY4MzI1NjQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Search","name":":Search/Search","color":"0e8a16","default":false,"description":"Search-related issues that do not fall into other categories"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"assignees":[{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false}],"milestone":null,"comments":14,"created_at":"2014-09-30T10:24:49Z","updated_at":"2018-02-14T13:31:32Z","closed_at":"2015-08-24T14:48:33Z","author_association":"NONE","active_lock_reason":null,"body":"I am using the latest version of elasticsearch and I got this error when I use scroll with large number size and scan as a search type\n\n{\"error\":\"ArrayIndexOutOfBoundsException[-131072]\",\"status\":500}\n\nthous it perfectly works woth small sizes\n\nex. \n\n``` bash\n[01:21:39] lnxg33k@ruined-sec ➜ ~: curl -XGET \"http://localhost:9200/dns_logs/pico/_search?search_type=scan&scroll=1m\" -d \"{\n                                   \"query\": { \"match_all\": {}},\n                                   \"size\":  100000\n                                   }\"\n{\"_scroll_id\":\"c2Nhbjs1OzUxOjhmSjY4NkFVVG55WmxsT3RZcXgyamc7NTM6OGZKNjg2QVVUbnlabGxPdFlxeDJqZzs1Mjo4Zko2ODZBVVRueVpsbE90WXF4MmpnOzU0OjhmSjY4NkFVVG55WmxsT3RZcXgyamc7NTU6OGZKNjg2QVVUbnlabGxPdFlxeDJqZzsxO3RvdGFsX2hpdHM6NTIwNzY2ODg7\",\"took\":132,\"timed_out\":false,\"_shards\":{\"total\":5,\"successful\":5,\"failed\":0},\"hits\":{\"total\":52076688,\"max_score\":0.0,\"hits\":[]}}⏎                                                                                                                     [01:21:50] lnxg33k@ruined-sec ➜ ~: curl -XGET \"http://localhost:9200/_search/scroll?scroll=1m&scroll_id=c2Nhbjs1OzUxOjhmSjY4NkFVVG55WmxsT3RZcXgyamc7NTM6OGZKNjg2QVVUbnlabGxPdFlxeDJqZzs1Mjo4Zko2ODZBVVRueVpsbE90WXF4MmpnOzU0OjhmSjY4NkFVVG55WmxsT3RZcXgyamc7NTU6OGZKNjg2QVVUbnlabGxPdFlxeDJqZzsxO3RvdGFsX2hpdHM6NTIwNzY2ODg7\" > xxx.json\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100  262M  100  262M    0     0   129M      0  0:00:02  0:00:02 --:--:--  129M\n[01:22:03] lnxg33k@ruined-sec ➜ ~: du -sh xxx.json \n263M    xxx.json\n```\n\n``` bash\n[01:22:07] lnxg33k@ruined-sec ➜ ~: curl -XGET \"http://localhost:9200/dns_logs/pico/_search?search_type=scan&scroll=1m\" -d \"{\n                                   \"query\": { \"match_all\": {}},\n                                   \"size\":  1000000\n                                   }\"\n{\"_scroll_id\":\"c2Nhbjs1OzU2OjhmSjY4NkFVVG55WmxsT3RZcXgyamc7NTc6OGZKNjg2QVVUbnlabGxPdFlxeDJqZzs1ODo4Zko2ODZBVVRueVpsbE90WXF4MmpnOzU5OjhmSjY4NkFVVG55WmxsT3RZcXgyamc7NjA6OGZKNjg2QVVUbnlabGxPdFlxeDJqZzsxO3RvdGFsX2hpdHM6NTIwNzY2ODg7\",\"took\":128,\"timed_out\":false,\"_shards\":{\"total\":5,\"successful\":5,\"failed\":0},\"hits\":{\"total\":52076688,\"max_score\":0.0,\"hits\":[]}}⏎                                                                                                                     [01:22:38] lnxg33k@ruined-sec ➜ ~: curl -XGET \"http://localhost:9200/_search/scroll?scroll=1m&scroll_id=c2Nhbjs1OzU2OjhmSjY4NkFVVG55WmxsT3RZcXgyamc7NTc6OGZKNjg2QVVUbnlabGxPdFlxeDJqZzs1ODo4Zko2ODZBVVRueVpsbE90WXF4MmpnOzU5OjhmSjY4NkFVVG55WmxsT3RZcXgyamc7NjA6OGZKNjg2QVVUbnlabGxPdFlxeDJqZzsxO3RvdGFsX2hpdHM6NTIwNzY2ODg7\"\n{\"error\":\"ArrayIndexOutOfBoundsException[null]\",\"status\":500}⏎                                                           \n```\n","closed_by":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"performed_via_github_app":null}