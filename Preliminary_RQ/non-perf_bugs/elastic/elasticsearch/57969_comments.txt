[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/642442984","html_url":"https://github.com/elastic/elasticsearch/issues/57969#issuecomment-642442984","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57969","id":642442984,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MjQ0Mjk4NA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-06-11T06:38:09Z","updated_at":"2020-06-11T06:38:09Z","author_association":"COLLABORATOR","body":"Pinging @elastic/ml-core (:ml)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/642460416","html_url":"https://github.com/elastic/elasticsearch/issues/57969#issuecomment-642460416","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57969","id":642460416,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MjQ2MDQxNg==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2020-06-11T07:17:21Z","updated_at":"2020-06-11T07:17:21Z","author_association":"CONTRIBUTOR","body":"The underlying problem is elastic/ml-cpp#564 - I'll do something about that.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/642480067","html_url":"https://github.com/elastic/elasticsearch/issues/57969#issuecomment-642480067","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57969","id":642480067,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MjQ4MDA2Nw==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2020-06-11T07:57:20Z","updated_at":"2020-06-11T07:59:49Z","author_association":"CONTRIBUTOR","body":"> The underlying problem is elastic/ml-cpp#564\r\n\r\nActually, although that is a problem, it's not the underlying cause of failure in this case.  The reason setting up the named pipe got interrupted is that the node was _already_ being shut down:\r\n\r\n```\r\n» [2020-06-11T05:43:25.143721Z] [BUILD] Stopping node\r\n```\r\n\r\nfor the `v6.8.11-follower-0` node predates:\r\n\r\n```\r\n»  2020-06-11 05:43:25,183668 UTC [543320] ERROR CNamedPipeFactory.cc@226 Unable to open named pipe /dev/shm/elastic+elasticsearch+7.x+matrix-java-periodic/ES_RUNTIME_JAVA/zulu8/nodes/general-purpose/x-pack/qa/rolling-upgrade-multi-cluster/build/testclusters/v6.8.11-follower-0/tmp/controller_log_542400 for writing: Interrupted system call\r\n»  2020-06-11 05:43:25,183740 UTC [543320] ERROR CLogger.cc@298 Cannot log to named pipe /dev/shm/elastic+elasticsearch+7.x+matrix-java-periodic/ES_RUNTIME_JAVA/zulu8/nodes/general-purpose/x-pack/qa/rolling-upgrade-multi-cluster/build/testclusters/v6.8.11-follower-0/tmp/controller_log_542400 as it could not be opened for writing\r\n```\r\n\r\n(That example is from https://gradle-enterprise.elastic.co/s/hcrqg2n333qeu/console-log.)\r\n\r\nSo the ML code is _not_ the root cause of the problem to set up the whole cluster.  The ML error message is a symptom of this (and definitely needs fixing because users will be confused in the same way if this happens to a production cluster).\r\n\r\nI have a feeling that this is the real root cause:\r\n\r\n```\r\n[2020-06-11T05:37:16,095][ERROR][o.e.b.ElasticsearchUncaughtExceptionHandler] [v6.8.1-leader-2] fatal error in thread [Thread-13], exiting\r\njava.lang.AssertionError: retention lease renewal for [v6.8.1-follower/follower_index1/LSd9C3EeR9ycJeSOBhQDyg-following-leader/leader_index1/_jJZYh0JTLGXlm0TN1EfOQ] from [ccr] renewed a lower retaining sequence number [63] than the current lease retaining sequence number [64]\r\n        at org.elasticsearch.index.seqno.ReplicationTracker.renewRetentionLease(ReplicationTracker.java:289) ~[elasticsearch-6.8.1.jar:6.8.1]\r\n        at org.elasticsearch.index.shard.IndexShard.renewRetentionLease(IndexShard.java:2036) ~[elasticsearch-6.8.1.jar:6.8.1]\r\n        at org.elasticsearch.index.seqno.RetentionLeaseActions$Renew$TransportAction.doRetentionLeaseAction(RetentionLeaseActions.java:241) ~[elasticsearch-6.8.1.jar:6.8.1]\r\n        at org.elasticsearch.index.seqno.RetentionLeaseActions$Renew$TransportAction.doRetentionLeaseAction(RetentionLeaseActions.java:215) ~[elasticsearch-6.8.1.jar:6.8.1]\r\n        at org.elasticsearch.index.seqno.RetentionLeaseActions$TransportRetentionLeaseAction$1.onResponse(RetentionLeaseActions.java:108) ~[elasticsearch-6.8.1.jar:6.8.1]\r\n        at org.elasticsearch.index.seqno.RetentionLeaseActions$TransportRetentionLeaseAction$1.onResponse(RetentionLeaseActions.java:103) ~[elasticsearch-6.8.1.jar:6.8.1]\r\n        at org.elasticsearch.index.shard.IndexShard.lambda$wrapPrimaryOperationPermitListener$14(IndexShard.java:2586) ~[elasticsearch-6.8.1.jar:6.8.1]\r\n        at org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:61) ~[elasticsearch-6.8.1.jar:6.8.1]\r\n        at org.elasticsearch.index.shard.IndexShardOperationPermits.acquire(IndexShardOperationPermits.java:273) ~[elasticsearch-6.8.1.jar:6.8.1]\r\n        at org.elasticsearch.index.shard.IndexShardOperationPermits.acquire(IndexShardOperationPermits.java:240) ~[elasticsearch-6.8.1.jar:6.8.1]\r\n        at org.elasticsearch.index.shard.IndexShard.acquirePrimaryOperationPermit(IndexShard.java:2561) ~[elasticsearch-6.8.1.jar:6.8.1]\r\n        at org.elasticsearch.index.seqno.RetentionLeaseActions$TransportRetentionLeaseAction.asyncShardOperation(RetentionLeaseActions.java:102) ~[elasticsearch-6.8.1.jar:6.8.1]\r\n        at org.elasticsearch.index.seqno.RetentionLeaseActions$TransportRetentionLeaseAction.asyncShardOperation(RetentionLeaseActions.java:62) ~[elasticsearch-6.8.1.jar:6.8.1]\r\n        at org.elasticsearch.action.support.single.shard.TransportSingleShardAction$ShardTransportHandler.messageReceived(TransportSingleShardAction.java:296) ~[elasticsearch-6.8.1.jar:6.8.1]\r\n        at org.elasticsearch.action.support.single.shard.TransportSingleShardAction$ShardTransportHandler.messageReceived(TransportSingleShardAction.java:289) ~[elasticsearch-6.8.1.jar:6.8.1]\r\n        at org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:30) ~[elasticsearch-6.8.1.jar:6.8.1]\r\n        at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:66) ~[elasticsearch-6.8.1.jar:6.8.1]\r\n        at org.elasticsearch.transport.TcpTransport$RequestHandler.doRun(TcpTransport.java:1087) ~[elasticsearch-6.8.1.jar:6.8.1]\r\n        at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[elasticsearch-6.8.1.jar:6.8.1]\r\n        at org.elasticsearch.common.util.concurrent.EsExecutors$DirectExecutorService.execute(EsExecutors.java:193) ~[elasticsearch-6.8.1.jar:6.8.1]\r\n        at org.elasticsearch.transport.TcpTransport.handleRequest(TcpTransport.java:1046) ~[elasticsearch-6.8.1.jar:6.8.1]\r\n        at org.elasticsearch.transport.TcpTransport.messageReceived(TcpTransport.java:932) ~[elasticsearch-6.8.1.jar:6.8.1]\r\n        at org.elasticsearch.transport.TcpTransport.inboundMessage(TcpTransport.java:763) ~[elasticsearch-6.8.1.jar:6.8.1]\r\n        at org.elasticsearch.transport.netty4.Netty4MessageChannelHandler.channelRead(Netty4MessageChannelHandler.java:53) ~[?:?]\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[?:?]\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[?:?]\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[?:?]\r\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323) ~[?:?]\r\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:297) ~[?:?]\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[?:?]\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[?:?]\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[?:?]\r\n        at io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:241) ~[?:?]\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[?:?]\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[?:?]\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[?:?]\r\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1434) ~[?:?]\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[?:?]\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[?:?]\r\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:965) ~[?:?]\r\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163) ~[?:?]\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:656) ~[?:?]\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:556) ~[?:?]\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:510) ~[?:?]\r\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:470) ~[?:?]\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:909) ~[?:?]\r\n        at java.lang.Thread.run(Thread.java:748) [?:1.8.0_242]\r\n```\r\n\r\nThat is from `x-pack/qa/rolling-upgrade-multi-cluster/build/testclusters/v6.8.1-leader-2/logs/v6.8.1-leader.log` which can be downloaded from https://storage.cloud.google.com/elasticsearch-ci-artifacts/jobs/elastic+elasticsearch+7.x+matrix-java-periodic/ES_RUNTIME_JAVA=zulu8,nodes=general-purpose/build/31.tar.bz2\r\n\r\nPlease could somebody who knows more about CCR have a look and confirm what the root cause is.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/642480275","html_url":"https://github.com/elastic/elasticsearch/issues/57969#issuecomment-642480275","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57969","id":642480275,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MjQ4MDI3NQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-06-11T07:57:41Z","updated_at":"2020-06-11T07:57:41Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed (:Distributed/CCR)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/643320631","html_url":"https://github.com/elastic/elasticsearch/issues/57969#issuecomment-643320631","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57969","id":643320631,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzMyMDYzMQ==","user":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"created_at":"2020-06-12T15:02:11Z","updated_at":"2020-06-12T15:02:11Z","author_association":"MEMBER","body":"> java.lang.AssertionError: retention lease renewal for [v6.8.1-follower/follower_index1/LSd9C3EeR9ycJeSOBhQDyg-following-leader/leader_index1/_jJZYh0JTLGXlm0TN1EfOQ] from [ccr] renewed a lower retaining sequence number [63] than the current lease retaining sequence number [64]\r\n\r\n@droberts195 Yes, it's indeed a root cause. We fixed this issue in 6.8.5 in https://github.com/elastic/elasticsearch/pull/46420, but we could not do anything for the released versions. Here we are testing a rolling upgrade from 6.8.1. If someone hits with the same error message, please check the version and ignore it.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/643331242","html_url":"https://github.com/elastic/elasticsearch/issues/57969#issuecomment-643331242","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57969","id":643331242,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzMzMTI0Mg==","user":{"login":"ywangd","id":2344308,"node_id":"MDQ6VXNlcjIzNDQzMDg=","avatar_url":"https://avatars3.githubusercontent.com/u/2344308?v=4","gravatar_id":"","url":"https://api.github.com/users/ywangd","html_url":"https://github.com/ywangd","followers_url":"https://api.github.com/users/ywangd/followers","following_url":"https://api.github.com/users/ywangd/following{/other_user}","gists_url":"https://api.github.com/users/ywangd/gists{/gist_id}","starred_url":"https://api.github.com/users/ywangd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywangd/subscriptions","organizations_url":"https://api.github.com/users/ywangd/orgs","repos_url":"https://api.github.com/users/ywangd/repos","events_url":"https://api.github.com/users/ywangd/events{/privacy}","received_events_url":"https://api.github.com/users/ywangd/received_events","type":"User","site_admin":false},"created_at":"2020-06-12T15:20:30Z","updated_at":"2020-06-12T15:20:30Z","author_association":"MEMBER","body":"It is kinda weird that the test says 6.8.11, but the log says 6.8.1. And 6.8.11 is not yet released. I wonder whether there is a test setup issue. @mark-vieira ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/643334729","html_url":"https://github.com/elastic/elasticsearch/issues/57969#issuecomment-643334729","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57969","id":643334729,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzMzNDcyOQ==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2020-06-12T15:27:21Z","updated_at":"2020-06-12T15:27:21Z","author_association":"CONTRIBUTOR","body":"> It is kinda weird that the test says 6.8.11, but the log says 6.8.1. And 6.8.11 is not yet released. I wonder whether there is a test setup issue. @mark-vieira\r\n\r\nCan you point me at where you are seeing this specifically (link to a line in the build scan)? The 6.8.11 version is a snapshot of the `6.8` branch. Yes, this isn't yet released, but we build the head of that branch from source to test against.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/643335734","html_url":"https://github.com/elastic/elasticsearch/issues/57969#issuecomment-643335734","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57969","id":643335734,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzMzNTczNA==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2020-06-12T15:29:18Z","updated_at":"2020-06-12T15:29:18Z","author_association":"CONTRIBUTOR","body":"Remember this is a multi-cluster test.  One of the clusters is 6.8.1 and the other is 6.8.11.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/643335879","html_url":"https://github.com/elastic/elasticsearch/issues/57969#issuecomment-643335879","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57969","id":643335879,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzMzNTg3OQ==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2020-06-12T15:29:37Z","updated_at":"2020-06-12T15:29:37Z","author_association":"CONTRIBUTOR","body":"Oh, I think I see the issue now. We are doing task name matching based on prefix. So I believe that's why were are seeing `6.8.1` show up in addition to `6.8.11`.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/643336291","html_url":"https://github.com/elastic/elasticsearch/issues/57969#issuecomment-643336291","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57969","id":643336291,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzMzNjI5MQ==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2020-06-12T15:30:24Z","updated_at":"2020-06-12T15:30:24Z","author_association":"CONTRIBUTOR","body":"> Remember this is a multi-cluster test. One of the clusters is 6.8.1 and the other is 6.8.11.\r\n\r\nThat's not the intention. This is the `7.x` branch so what we _should_ be testing in `7.9-SNAPSHOT` against `6.8.11-SNAPSHOT`. The 6.8.1 node is sneaking in somehow.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/643336946","html_url":"https://github.com/elastic/elasticsearch/issues/57969#issuecomment-643336946","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57969","id":643336946,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzMzNjk0Ng==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2020-06-12T15:31:44Z","updated_at":"2020-06-12T15:31:44Z","author_association":"CONTRIBUTOR","body":"I see what's wrong, we need to do more robust matching than `testClusters.matching { it.name.startsWith(baseName) }`. I'll submit a fix for this.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/643337810","html_url":"https://github.com/elastic/elasticsearch/issues/57969#issuecomment-643337810","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57969","id":643337810,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzMzNzgxMA==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2020-06-12T15:33:27Z","updated_at":"2020-06-12T15:33:27Z","author_association":"CONTRIBUTOR","body":"The build scan for the build we're talking about is https://gradle-enterprise.elastic.co/s/hcrqg2n333qeu","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/643378250","html_url":"https://github.com/elastic/elasticsearch/issues/57969#issuecomment-643378250","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57969","id":643378250,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzM3ODI1MA==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2020-06-12T16:46:10Z","updated_at":"2020-06-12T16:46:10Z","author_association":"CONTRIBUTOR","body":"I've opened a pull request to address the issue or spinning up wrong cluster versions. That may ore may not actually be the cause of these failures though.\r\n\r\nhttps://github.com/elastic/elasticsearch/pull/58063","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/643450132","html_url":"https://github.com/elastic/elasticsearch/issues/57969#issuecomment-643450132","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57969","id":643450132,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzQ1MDEzMg==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2020-06-12T19:35:33Z","updated_at":"2020-06-12T19:35:33Z","author_association":"CONTRIBUTOR","body":"#58063 has been merged and backported, let's see if that sorts this out.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/643507750","html_url":"https://github.com/elastic/elasticsearch/issues/57969#issuecomment-643507750","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57969","id":643507750,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzUwNzc1MA==","user":{"login":"ywangd","id":2344308,"node_id":"MDQ6VXNlcjIzNDQzMDg=","avatar_url":"https://avatars3.githubusercontent.com/u/2344308?v=4","gravatar_id":"","url":"https://api.github.com/users/ywangd","html_url":"https://github.com/ywangd","followers_url":"https://api.github.com/users/ywangd/followers","following_url":"https://api.github.com/users/ywangd/following{/other_user}","gists_url":"https://api.github.com/users/ywangd/gists{/gist_id}","starred_url":"https://api.github.com/users/ywangd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywangd/subscriptions","organizations_url":"https://api.github.com/users/ywangd/orgs","repos_url":"https://api.github.com/users/ywangd/repos","events_url":"https://api.github.com/users/ywangd/events{/privacy}","received_events_url":"https://api.github.com/users/ywangd/received_events","type":"User","site_admin":false},"created_at":"2020-06-12T22:29:50Z","updated_at":"2020-06-12T22:29:50Z","author_association":"MEMBER","body":"> #58063 has been merged and backported, let's see if that sorts this out.\r\n\r\nThanks for sorting this out. The 4 failures linked are for 6.8.10 and 6.8.11. So a reasonable chance for them to be related to the fix.\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/643510077","html_url":"https://github.com/elastic/elasticsearch/issues/57969#issuecomment-643510077","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57969","id":643510077,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MzUxMDA3Nw==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2020-06-12T22:39:41Z","updated_at":"2020-06-12T22:39:41Z","author_association":"CONTRIBUTOR","body":"Yup, same issue would arise with 6.8.10 since it would have matched against 6.8.1 as well (both same prefix).","performed_via_github_app":null}]