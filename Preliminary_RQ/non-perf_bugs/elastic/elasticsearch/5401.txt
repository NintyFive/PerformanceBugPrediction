{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/5401","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5401/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5401/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5401/events","html_url":"https://github.com/elastic/elasticsearch/issues/5401","id":29265735,"node_id":"MDU6SXNzdWUyOTI2NTczNQ==","number":5401,"title":"NPE when TransportClient times out","user":{"login":"roblangenfeld","id":1999493,"node_id":"MDQ6VXNlcjE5OTk0OTM=","avatar_url":"https://avatars2.githubusercontent.com/u/1999493?v=4","gravatar_id":"","url":"https://api.github.com/users/roblangenfeld","html_url":"https://github.com/roblangenfeld","followers_url":"https://api.github.com/users/roblangenfeld/followers","following_url":"https://api.github.com/users/roblangenfeld/following{/other_user}","gists_url":"https://api.github.com/users/roblangenfeld/gists{/gist_id}","starred_url":"https://api.github.com/users/roblangenfeld/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roblangenfeld/subscriptions","organizations_url":"https://api.github.com/users/roblangenfeld/orgs","repos_url":"https://api.github.com/users/roblangenfeld/repos","events_url":"https://api.github.com/users/roblangenfeld/events{/privacy}","received_events_url":"https://api.github.com/users/roblangenfeld/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"assignees":[{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false}],"milestone":null,"comments":17,"created_at":"2014-03-12T14:13:58Z","updated_at":"2015-07-23T08:23:50Z","closed_at":"2014-07-25T17:54:01Z","author_association":"NONE","active_lock_reason":null,"body":"Elastic Search version: 1.0.0\nOperating System: Windows 7 Enterprise\nJava Version: 1.7.0_45\nServer setup:\n- Windows Server 2003\n- Java 1.7.0_45\n- Running Elastic Search as a service\n- 1 Node with 1 index and 5 shards with 1 replica \n\nHere is the original issue:\nhttps://groups.google.com/forum/#!msg/elasticsearch/QJx0nzVci1s/uqzE2YhKGJIJ\n\nWe are using a an instance of a Transport Client to connect to our Elastic Search server.  Since the instance is going to be living on a webserver, we need it to stay open so it is ready for whenever a user needs to perform a search, or data needs to be indexed. The problem is that if no operation is performed within an hour or so of the last operation on the transport client, it throws this error. The other scenario is if no operation is performed within 10-15 minutes of the Transport Client's last operation, and another operation is performed, it will throw the same error. \n\nIf this error is thrown, sometimes it recovers and continues the operation, but a majority of the time it does not do this at all. Here is the stack trace:\n\n```\nMar 08, 2014 1:15:37 AM org.elasticsearch.client.transport\nINFO: [Elven] failed to get node info for [#transport#-1][WIN7-113-00726][inet[/159.140.213.87:9300]], disconnecting...\norg.elasticsearch.transport.RemoteTransportException: [Server_Dev1][inet[/159.140.213.87:9300]][cluster/nodes/info]\nCaused by: java.lang.NullPointerException\nat org.elasticsearch.http.HttpInfo.writeTo(HttpInfo.java:82)\nat org.elasticsearch.action.admin.cluster.node.info.NodeInfo.writeTo(NodeInfo.java:301)\nat org.elasticsearch.action.admin.cluster.node.info.NodesInfoResponse.writeTo(NodesInfoResponse.java:63)\nat org.elasticsearch.transport.netty.NettyTransportChannel.sendResponse(NettyTransportChannel.java:83)\nat org.elasticsearch.action.support.nodes.TransportNodesOperationAction$TransportHandler$1.onResponse(TransportNodesOperationAction.java:244)\nat org.elasticsearch.action.support.nodes.TransportNodesOperationAction$TransportHandler$1.onResponse(TransportNodesOperationAction.java:239)\nat org.elasticsearch.action.support.nodes.TransportNodesOperationAction$AsyncAction.finishHim(TransportNodesOperationAction.java:225)\nat org.elasticsearch.action.support.nodes.TransportNodesOperationAction$AsyncAction.onOperation(TransportNodesOperationAction.java:200)\nat org.elasticsearch.action.support.nodes.TransportNodesOperationAction$AsyncAction.access$900(TransportNodesOperationAction.java:102)\nat org.elasticsearch.action.support.nodes.TransportNodesOperationAction$AsyncAction$2.run(TransportNodesOperationAction.java:146)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\nat java.lang.Thread.run(Thread.java:744)\n```\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}