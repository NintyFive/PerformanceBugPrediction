{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/7380","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7380/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7380/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7380/events","html_url":"https://github.com/elastic/elasticsearch/issues/7380","id":40820888,"node_id":"MDU6SXNzdWU0MDgyMDg4OA==","number":7380,"title":"Is there any way to use multiple OR fields within a range facet?","user":{"login":"estockwellalpert","id":7767565,"node_id":"MDQ6VXNlcjc3Njc1NjU=","avatar_url":"https://avatars0.githubusercontent.com/u/7767565?v=4","gravatar_id":"","url":"https://api.github.com/users/estockwellalpert","html_url":"https://github.com/estockwellalpert","followers_url":"https://api.github.com/users/estockwellalpert/followers","following_url":"https://api.github.com/users/estockwellalpert/following{/other_user}","gists_url":"https://api.github.com/users/estockwellalpert/gists{/gist_id}","starred_url":"https://api.github.com/users/estockwellalpert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/estockwellalpert/subscriptions","organizations_url":"https://api.github.com/users/estockwellalpert/orgs","repos_url":"https://api.github.com/users/estockwellalpert/repos","events_url":"https://api.github.com/users/estockwellalpert/events{/privacy}","received_events_url":"https://api.github.com/users/estockwellalpert/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2014-08-21T16:11:15Z","updated_at":"2014-08-22T14:50:59Z","closed_at":"2014-08-22T14:50:59Z","author_association":"NONE","active_lock_reason":null,"body":"I have a database of records, and I'm trying to use facets to determine how many records belong to each date range (1700-1750, 1751-1800, etc). The trouble is, each record has a start date and an end date, and some records only have one filled out. For my range facet, if I only check if the start date is within the range, I miss a huge number of records that have an end date in that range. However, if I do a separate range facet for start_year and end_year, any record that has a start and end year within the same date range (e.g. 1701-1730) will be counted twice. Is there any way I can have two fields in my range query, or do it as an OR?\n\n```\n.Facets(facets => facets\n.Terms(t => t.FacetName(\"DatabasesPerCategory\").Field(\"category\"))\n.Terms(t => t.FacetName(\"DatabasesPerLocation\").Field(\"locations.country\"))\n.Range(r => r.FacetName(\"startRange\").Field(\"start_year\").Ranges(ra => ra\n    .FromTo(from: 0, to: 1700)\n    .FromTo(from: 1700, to: 1749)\n    .FromTo(from: 1750, to: 1799)\n    .FromTo(from: 1800, to: 1849)\n    .FromTo(from: 1850, to: 1899)\n    .FromTo(from: 1900, to: 1949)\n    .FromTo(from: 1950, to: DateTime.Now.Year)\n    )\n)\n)\n```\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}