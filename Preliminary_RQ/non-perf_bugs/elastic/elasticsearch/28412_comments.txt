[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/361148111","html_url":"https://github.com/elastic/elasticsearch/issues/28412#issuecomment-361148111","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28412","id":361148111,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MTE0ODExMQ==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2018-01-29T06:01:57Z","updated_at":"2018-01-29T06:01:57Z","author_association":"MEMBER","body":"Please ask this question on discuss.elastic.co where we can give a better support.\r\nThis space is only for confirmed issues or feature requests which have been discussed on discuss.elastic.co.\r\n\r\nIt does not look like a bug to me because you did not reindex your documents and you are using bi-directional synonyms here which means that the inverted index contains all the versions of your term.\r\n\r\nThat's why it matches at query term because the term you are looking for has been indexed at index time.\r\n\r\nI believe that if you apply synonyms at search time only you will have a different behavior.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/363234795","html_url":"https://github.com/elastic/elasticsearch/issues/28412#issuecomment-363234795","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28412","id":363234795,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MzIzNDc5NQ==","user":{"login":"IamJeffG","id":2002703,"node_id":"MDQ6VXNlcjIwMDI3MDM=","avatar_url":"https://avatars1.githubusercontent.com/u/2002703?v=4","gravatar_id":"","url":"https://api.github.com/users/IamJeffG","html_url":"https://github.com/IamJeffG","followers_url":"https://api.github.com/users/IamJeffG/followers","following_url":"https://api.github.com/users/IamJeffG/following{/other_user}","gists_url":"https://api.github.com/users/IamJeffG/gists{/gist_id}","starred_url":"https://api.github.com/users/IamJeffG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IamJeffG/subscriptions","organizations_url":"https://api.github.com/users/IamJeffG/orgs","repos_url":"https://api.github.com/users/IamJeffG/repos","events_url":"https://api.github.com/users/IamJeffG/events{/privacy}","received_events_url":"https://api.github.com/users/IamJeffG/received_events","type":"User","site_admin":false},"created_at":"2018-02-05T21:56:25Z","updated_at":"2018-02-05T21:56:25Z","author_association":"CONTRIBUTOR","body":"Thanks for responding and my apologies for posting this in the wrong place.\r\n\r\n> if you apply synonyms at search time only\r\n\r\nFor future friends who might find this, the way to accomplish your recommendation is by changing the field mapping as follows (both at index creation and when editing the index settings).  I confirmed it works well!\r\n\r\n```json\r\n        \"unit_of_measure\" : {\r\n          \"type\" : \"text\",\r\n          \"analyzer\": \"standard\",\r\n          \"search_analyzer\" : \"units_compatibility\"\r\n          },\r\n```\r\n\r\n","performed_via_github_app":null}]