{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/4767","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4767/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4767/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4767/events","html_url":"https://github.com/elastic/elasticsearch/issues/4767","id":25743476,"node_id":"MDU6SXNzdWUyNTc0MzQ3Ng==","number":4767,"title":"Logstash init script fails to record PID when ARGS contain asterisks","user":{"login":"kpears201","id":6415059,"node_id":"MDQ6VXNlcjY0MTUwNTk=","avatar_url":"https://avatars3.githubusercontent.com/u/6415059?v=4","gravatar_id":"","url":"https://api.github.com/users/kpears201","html_url":"https://github.com/kpears201","followers_url":"https://api.github.com/users/kpears201/followers","following_url":"https://api.github.com/users/kpears201/following{/other_user}","gists_url":"https://api.github.com/users/kpears201/gists{/gist_id}","starred_url":"https://api.github.com/users/kpears201/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kpears201/subscriptions","organizations_url":"https://api.github.com/users/kpears201/orgs","repos_url":"https://api.github.com/users/kpears201/repos","events_url":"https://api.github.com/users/kpears201/events{/privacy}","received_events_url":"https://api.github.com/users/kpears201/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2014-01-16T17:50:01Z","updated_at":"2014-01-17T15:37:22Z","closed_at":"2014-01-17T09:39:16Z","author_association":"NONE","active_lock_reason":null,"body":"I am using the logstash 1.3.2 RPM found in this repository:\nhttp://packages.elasticsearch.org/logstash/1.3/centos\n\nI have set CONF_DIR to /etc/logstash/conf.d/*_/_.conf.\nThe asterisks seem to be messing with the regular expression used by pgrep to find the PID of the process that was started.\n\nThe process starts fine, but then the process cannot be killed when using the stop command on the init script. When issuing a restart, there will be duplicate processes.\nEscaping the asterisks for pgrep allowed me to get the pid.\nEither the asterisks need to be escaped or a different value besides the full ARGS list should be used to find the PID.\n\nAlso, in a somewhat related issue. It seems that in the init script for logstash, reads the ${DAEMON} variable in a few places, but it is never set. I think ${DAEMON} should probably be the ${JAVA} variable.\n","closed_by":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"performed_via_github_app":null}