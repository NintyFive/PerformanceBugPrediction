{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/28489","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28489/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28489/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28489/events","html_url":"https://github.com/elastic/elasticsearch/issues/28489","id":293755126,"node_id":"MDU6SXNzdWUyOTM3NTUxMjY=","number":28489,"title":"Invalid stemmer class specified: Cjk","user":{"login":"palanikumar-fci","id":31908843,"node_id":"MDQ6VXNlcjMxOTA4ODQz","avatar_url":"https://avatars2.githubusercontent.com/u/31908843?v=4","gravatar_id":"","url":"https://api.github.com/users/palanikumar-fci","html_url":"https://github.com/palanikumar-fci","followers_url":"https://api.github.com/users/palanikumar-fci/followers","following_url":"https://api.github.com/users/palanikumar-fci/following{/other_user}","gists_url":"https://api.github.com/users/palanikumar-fci/gists{/gist_id}","starred_url":"https://api.github.com/users/palanikumar-fci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/palanikumar-fci/subscriptions","organizations_url":"https://api.github.com/users/palanikumar-fci/orgs","repos_url":"https://api.github.com/users/palanikumar-fci/repos","events_url":"https://api.github.com/users/palanikumar-fci/events{/privacy}","received_events_url":"https://api.github.com/users/palanikumar-fci/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-02-02T02:44:52Z","updated_at":"2018-02-02T07:06:06Z","closed_at":"2018-02-02T07:06:05Z","author_association":"NONE","active_lock_reason":null,"body":"<!-- Bug report -->\r\n\r\n**Describe the Bug**:\r\nI configured Chinese store view in website using magento 2.1.7 EE and for catalog search im using Elastic search v 2.4.5. When triggering reindex documents are not getting generated in elastic search and receiving below error message. \r\njava.lang.IllegalArgumentException: Invalid stemmer class specified: Cjk\r\n\r\n**Elasticsearch version** (`bin/elasticsearch --version`):\r\nVersion: 2.4.5, Build: c849dd1/2017-04-24T16:18:17Z, JVM: 1.8.0_102\r\n\r\n**Plugins installed**: []\r\nanalysis-smartcn\r\nanalysis-icu\r\nhead\r\n\r\n**JVM version** (`java -version`):\r\njava version \"1.8.0_102\"\r\nJava(TM) SE Runtime Environment (build 1.8.0_102-b14)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.102-b14, mixed mode)\r\n\r\n**OS version** (`uname -a` if on a Unix-like system):\r\nLinux gl-mel-tst 2.6.32-573.22.1.el6.x86_64 #1 SMP Thu Mar 17 03:23:39 EDT 2016 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\nExpected result - Elastic search document needs to be created for Chinese store view\r\n\r\n**Provide logs (if relevant)**:\r\n\r\njava.lang.IllegalArgumentException: Invalid stemmer class specified: Cjk\r\n        at org.apache.lucene.analysis.snowball.SnowballFilter.<init>(SnowballFilter.java:83)\r\n        at org.elasticsearch.index.analysis.StemmerTokenFilterFactory.create(StemmerTokenFilterFactory.java:242)\r\n        at org.elasticsearch.index.analysis.CustomAnalyzer.createComponents(CustomAnalyzer.java:86)\r\n        at org.apache.lucene.analysis.AnalyzerWrapper.createComponents(AnalyzerWrapper.java:101)\r\n        at org.apache.lucene.analysis.AnalyzerWrapper.createComponents(AnalyzerWrapper.java:101)\r\n        at org.apache.lucene.analysis.Analyzer.tokenStream(Analyzer.java:176)\r\n        at org.apache.lucene.document.Field.tokenStream(Field.java:562)\r\n        at org.apache.lucene.index.DefaultIndexingChain$PerField.invert(DefaultIndexingChain.java:628)\r\n        at org.apache.lucene.index.DefaultIndexingChain.processField(DefaultIndexingChain.java:365)\r\n        at org.apache.lucene.index.DefaultIndexingChain.processDocument(DefaultIndexingChain.java:321)\r\n        at org.apache.lucene.index.DocumentsWriterPerThread.updateDocument(DocumentsWriterPerThread.java:234)\r\n        at org.apache.lucene.index.DocumentsWriter.updateDocument(DocumentsWriter.java:450)\r\n        at org.apache.lucene.index.IndexWriter.updateDocument(IndexWriter.java:1477)\r\n        at org.apache.lucene.index.IndexWriter.addDocument(IndexWriter.java:1256)\r\n        at org.elasticsearch.index.engine.InternalEngine.innerIndex(InternalEngine.java:527)\r\n        at org.elasticsearch.index.engine.InternalEngine.index(InternalEngine.java:454)\r\n        at org.elasticsearch.index.shard.IndexShard.index(IndexShard.java:605)\r\n        at org.elasticsearch.index.engine.Engine$Index.execute(Engine.java:836)\r\n        at org.elasticsearch.action.index.TransportIndexAction.executeIndexRequestOnPrimary(TransportIndexAction.java:236)\r\n        at org.elasticsearch.action.bulk.TransportShardBulkAction.shardIndexOperation(TransportShardBulkAction.java:327)\r\n        at org.elasticsearch.action.bulk.TransportShardBulkAction.shardOperationOnPrimary(TransportShardBulkAction.java:120)\r\n        at org.elasticsearch.action.bulk.TransportShardBulkAction.shardOperationOnPrimary(TransportShardBulkAction.java:68)\r\n        at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryPhase.doRun(TransportReplicationAction.java:657)\r\n        at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)\r\n        at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryOperationTransportHandler.messageReceived(TransportReplicationAction.java:287)\r\n        at org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryOperationTransportHandler.messageReceived(TransportReplicationAction.java:279)\r\n        at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:77)\r\n        at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:378)\r\n        at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        at java.lang.Thread.run(Thread.java:745)\r\nCaused by: java.lang.ClassNotFoundException: org.tartarus.snowball.ext.CjkStemmer\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n        at java.lang.Class.forName0(Native Method)\r\n        at java.lang.Class.forName(Class.java:264)\r\n        at org.apache.lucene.analysis.snowball.SnowballFilter.<init>(SnowballFilter.java:79)\r\n        ... 31 more\r\n","closed_by":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"performed_via_github_app":null}