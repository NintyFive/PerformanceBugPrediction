{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/50230","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50230/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50230/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50230/events","html_url":"https://github.com/elastic/elasticsearch/issues/50230","id":538392517,"node_id":"MDU6SXNzdWU1MzgzOTI1MTc=","number":50230,"title":"Can't compile external plugin with 7.5.0 (relying on org.elasticsearch.gradle:build-tools)","user":{"login":"dweiss","id":199470,"node_id":"MDQ6VXNlcjE5OTQ3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/199470?v=4","gravatar_id":"","url":"https://api.github.com/users/dweiss","html_url":"https://github.com/dweiss","followers_url":"https://api.github.com/users/dweiss/followers","following_url":"https://api.github.com/users/dweiss/following{/other_user}","gists_url":"https://api.github.com/users/dweiss/gists{/gist_id}","starred_url":"https://api.github.com/users/dweiss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dweiss/subscriptions","organizations_url":"https://api.github.com/users/dweiss/orgs","repos_url":"https://api.github.com/users/dweiss/repos","events_url":"https://api.github.com/users/dweiss/events{/privacy}","received_events_url":"https://api.github.com/users/dweiss/received_events","type":"User","site_admin":false},"labels":[{"id":106454670,"node_id":"MDU6TGFiZWwxMDY0NTQ2NzA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Build","name":":Delivery/Build","color":"0e8a16","default":false,"description":"Build or test infrastructure"},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2019-12-16T12:49:57Z","updated_at":"2020-11-11T21:47:14Z","closed_at":"2019-12-16T19:52:00Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"I can't upgrade the clustering plugin to work with 7.5.0. \r\nhttps://github.com/carrot2/elasticsearch-carrot2\r\n\r\nOut of the box it says:\r\n```\r\n> Failed to apply plugin [class 'org.elasticsearch.gradle.DistributionDownloadPlugin']\r\n   > Cannot get property 'isInternal' on extra properties extension as it does not exist\r\n```\r\nand when I add isInternal=false to ext it bails later on with:\r\n```\r\nCould not determine the dependencies of task ':extractElasticsearch7.5.0'.\r\n> Expected configuration ':elasticsearch_7.5.0_integ_test_zip_null' to contain exactly one file, however, it contains no files.\r\n```\r\n\r\nI think this is related to a recent change by (Ryan @rjernst)? branch 7.4.x also doesn't compile but for a different reason (bwcVersions property referenced).\r\n\r\nThese types of problems occur very frequently. It'd be really nice if you had a simple plugin that is *not* part of the ES build but rather invoked as a forked GradleBuild task (with a local pseudo-maven repository for example). Or even kept in a separate repository (maybe there is one but I missed it?) This would help in making sure that things work for external plugin writers and as an example of any special magic that needs to be added to the external plugin.\r\n\r\n","closed_by":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"performed_via_github_app":null}