{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/34858","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34858/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34858/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34858/events","html_url":"https://github.com/elastic/elasticsearch/issues/34858","id":373946111,"node_id":"MDU6SXNzdWUzNzM5NDYxMTE=","number":34858,"title":"[ML] Address parsing deprecated and removed features in Datafeed Config","user":{"login":"davidkyle","id":2353640,"node_id":"MDQ6VXNlcjIzNTM2NDA=","avatar_url":"https://avatars1.githubusercontent.com/u/2353640?v=4","gravatar_id":"","url":"https://api.github.com/users/davidkyle","html_url":"https://github.com/davidkyle","followers_url":"https://api.github.com/users/davidkyle/followers","following_url":"https://api.github.com/users/davidkyle/following{/other_user}","gists_url":"https://api.github.com/users/davidkyle/gists{/gist_id}","starred_url":"https://api.github.com/users/davidkyle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidkyle/subscriptions","organizations_url":"https://api.github.com/users/davidkyle/orgs","repos_url":"https://api.github.com/users/davidkyle/repos","events_url":"https://api.github.com/users/davidkyle/events{/privacy}","received_events_url":"https://api.github.com/users/davidkyle/received_events","type":"User","site_admin":false},"labels":[{"id":912833043,"node_id":"MDU6TGFiZWw5MTI4MzMwNDM=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:ml","name":":ml","color":"0e8a16","default":false,"description":"Machine learning"},{"id":23172,"node_id":"MDU6TGFiZWwyMzE3Mg==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Efeature","name":">feature","color":"006b75","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-10-25T13:25:22Z","updated_at":"2018-12-18T14:22:09Z","closed_at":"2018-12-18T14:22:09Z","author_association":"MEMBER","active_lock_reason":null,"body":"Relates to the Job in Index feature branch.\r\n\r\nPart of the motivation behind the migration project was to avoid the problem of parsing a datafeed that uses deprecated then removed features throwing an error. This remains an issue after migration as the config including search and aggs is [parsed](https://github.com/elastic/elasticsearch/blob/feature-jindex-6x/x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/datafeed/persistence/DatafeedConfigProvider.java#L488) on GET. For the UI this means the datafeed cannot be displayed as the GET request will fail making it difficult to identify and fix the problem. The document can be read directly from elasticsearch if its name and location is known.  \r\n\r\nFor REST GET requests where JSON is returned the config does not have to be parsed, internally the document is parsed for unmarshalling but this is not necessary for returning raw JSON. Additionally deprecation checks could be made by trying to parse the config and returning any deprecations in a warning header or by marking up the JSON object.  ","closed_by":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"performed_via_github_app":null}