{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/46499","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46499/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46499/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46499/events","html_url":"https://github.com/elastic/elasticsearch/issues/46499","id":491178975,"node_id":"MDU6SXNzdWU0OTExNzg5NzU=","number":46499,"title":"SLM metadata incorrects skips parsing operation mode","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"labels":[{"id":912828538,"node_id":"MDU6TGFiZWw5MTI4Mjg1Mzg=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/ILM+SLM","name":":Core/Features/ILM+SLM","color":"0e8a16","default":false,"description":"Index and Snapshot lifecycle management"},{"id":92913658,"node_id":"MDU6TGFiZWw5MjkxMzY1OA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/blocker","name":"blocker","color":"e11d21","default":false,"description":null},{"id":1434538947,"node_id":"MDU6TGFiZWwxNDM0NTM4OTQ3","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v7.4.0","name":"v7.4.0","color":"dddddd","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"assignees":[{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2019-09-09T15:48:09Z","updated_at":"2019-09-11T21:15:05Z","closed_at":"2019-09-11T21:15:05Z","author_association":"MEMBER","active_lock_reason":null,"body":"In `SnapshotLifecycleMetadata` the XContent parser skips adding a parser for the operation mode. This causes the following exception on startup:\r\n\r\n```\r\n[2019-09-09T09:34:57,864][ERROR][o.e.g.GatewayMetaState   ] [perelandra] failed to read or upgrade local state, exiting...\r\norg.elasticsearch.ElasticsearchException: java.io.IOException: failed to read /home/hinmanm/elasticsearch-7.4.0-SNAPSHOT/data/nodes/0/_state/global-22.st\r\n\tat org.elasticsearch.ExceptionsHelper.maybeThrowRuntimeAndSuppress(ExceptionsHelper.java:167) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.MetaDataStateFormat.loadGeneration(MetaDataStateFormat.java:414) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.MetaStateService.loadFullState(MetaStateService.java:81) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.GatewayMetaState.upgradeMetaData(GatewayMetaState.java:141) [elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.GatewayMetaState.<init>(GatewayMetaState.java:95) [elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:485) [elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:255) [elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Bootstrap$5.<init>(Bootstrap.java:221) [elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:221) [elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:349) [elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:159) [elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:150) [elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) [elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:125) [elasticsearch-cli-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.cli.Command.main(Command.java:90) [elasticsearch-cli-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:115) [elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:92) [elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\nCaused by: java.io.IOException: failed to read /home/hinmanm/elasticsearch-7.4.0-SNAPSHOT/data/nodes/0/_state/global-22.st\r\n\tat org.elasticsearch.gateway.MetaDataStateFormat.loadGeneration(MetaDataStateFormat.java:408) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\t... 15 more\r\nCaused by: org.elasticsearch.common.xcontent.XContentParseException: [-1:24494] [snapshot_lifecycle] failed to parse field [policies]\r\n\tat org.elasticsearch.common.xcontent.ObjectParser.parseValue(ObjectParser.java:386) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ObjectParser.parseSub(ObjectParser.java:396) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ObjectParser.parse(ObjectParser.java:238) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ConstructingObjectParser.parse(ConstructingObjectParser.java:169) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.ilm.IndexLifecycle.lambda$getNamedXContent$3(IndexLifecycle.java:186) ~[?:?]\r\n\tat org.elasticsearch.common.xcontent.NamedXContentRegistry$Entry.lambda$new$0(NamedXContentRegistry.java:63) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.NamedXContentRegistry.parseNamedObject(NamedXContentRegistry.java:141) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.support.AbstractXContentParser.namedObject(AbstractXContentParser.java:385) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.cluster.metadata.MetaData$Builder.fromXContent(MetaData.java:1403) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.cluster.metadata.MetaData$1.fromXContent(MetaData.java:1448) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.cluster.metadata.MetaData$1.fromXContent(MetaData.java:1439) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.MetaDataStateFormat.read(MetaDataStateFormat.java:302) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.MetaDataStateFormat.loadGeneration(MetaDataStateFormat.java:404) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\t... 15 more\r\nCaused by: org.elasticsearch.common.xcontent.XContentParseException: Failed to build [snapshot_lifecycle] after last required field arrived\r\n\tat org.elasticsearch.common.xcontent.ConstructingObjectParser$Target.buildTarget(ConstructingObjectParser.java:476) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ConstructingObjectParser$Target.constructorArg(ConstructingObjectParser.java:402) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ConstructingObjectParser$Target.access$900(ConstructingObjectParser.java:350) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ConstructingObjectParser.lambda$declareNamedObjects$5(ConstructingObjectParser.java:288) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ObjectParser.lambda$declareNamedObjects$7(ObjectParser.java:345) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ObjectParser.parseValue(ObjectParser.java:384) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ObjectParser.parseSub(ObjectParser.java:396) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ObjectParser.parse(ObjectParser.java:238) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ConstructingObjectParser.parse(ConstructingObjectParser.java:169) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.ilm.IndexLifecycle.lambda$getNamedXContent$3(IndexLifecycle.java:186) ~[?:?]\r\n\tat org.elasticsearch.common.xcontent.NamedXContentRegistry$Entry.lambda$new$0(NamedXContentRegistry.java:63) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.NamedXContentRegistry.parseNamedObject(NamedXContentRegistry.java:141) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.support.AbstractXContentParser.namedObject(AbstractXContentParser.java:385) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.cluster.metadata.MetaData$Builder.fromXContent(MetaData.java:1403) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.cluster.metadata.MetaData$1.fromXContent(MetaData.java:1448) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.cluster.metadata.MetaData$1.fromXContent(MetaData.java:1439) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.MetaDataStateFormat.read(MetaDataStateFormat.java:302) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.MetaDataStateFormat.loadGeneration(MetaDataStateFormat.java:404) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\t... 15 more\r\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\r\n\tat org.elasticsearch.xpack.core.slm.SnapshotLifecycleMetadata.lambda$static$1(SnapshotLifecycleMetadata.java:51) ~[?:?]\r\n\tat org.elasticsearch.common.xcontent.ConstructingObjectParser.lambda$new$2(ConstructingObjectParser.java:132) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ConstructingObjectParser$Target.buildTarget(ConstructingObjectParser.java:463) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ConstructingObjectParser$Target.constructorArg(ConstructingObjectParser.java:402) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ConstructingObjectParser$Target.access$900(ConstructingObjectParser.java:350) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ConstructingObjectParser.lambda$declareNamedObjects$5(ConstructingObjectParser.java:288) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ObjectParser.lambda$declareNamedObjects$7(ObjectParser.java:345) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ObjectParser.parseValue(ObjectParser.java:384) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ObjectParser.parseSub(ObjectParser.java:396) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ObjectParser.parse(ObjectParser.java:238) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ConstructingObjectParser.parse(ConstructingObjectParser.java:169) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.ilm.IndexLifecycle.lambda$getNamedXContent$3(IndexLifecycle.java:186) ~[?:?]\r\n\tat org.elasticsearch.common.xcontent.NamedXContentRegistry$Entry.lambda$new$0(NamedXContentRegistry.java:63) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.NamedXContentRegistry.parseNamedObject(NamedXContentRegistry.java:141) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.support.AbstractXContentParser.namedObject(AbstractXContentParser.java:385) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.cluster.metadata.MetaData$Builder.fromXContent(MetaData.java:1403) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.cluster.metadata.MetaData$1.fromXContent(MetaData.java:1448) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.cluster.metadata.MetaData$1.fromXContent(MetaData.java:1439) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.MetaDataStateFormat.read(MetaDataStateFormat.java:302) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.MetaDataStateFormat.loadGeneration(MetaDataStateFormat.java:404) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\t... 15 more\r\n[2019-09-09T09:34:57,907][WARN ][o.e.b.ElasticsearchUncaughtExceptionHandler] [perelandra] uncaught exception in thread [main]\r\norg.elasticsearch.bootstrap.StartupException: ElasticsearchException[java.io.IOException: failed to read /home/hinmanm/elasticsearch-7.4.0-SNAPSHOT/data/nodes/0/_state/global-22.st]; nested: IOException[failed to read /home/hinmanm/elasticsearch-7.4.0-SNAPSHOT/data/nodes/0/_state/global-22.st]; nested: XContentParseException[[-1:24494] [snapshot_lifecycle] failed to parse field [policies]]; nested: XContentParseException[Failed to build [snapshot_lifecycle] after last required field arrived]; nested: ArrayIndexOutOfBoundsException[Index 1 out of bounds for length 1];\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:163) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:150) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:125) ~[elasticsearch-cli-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.cli.Command.main(Command.java:90) ~[elasticsearch-cli-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:115) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:92) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\nCaused by: org.elasticsearch.ElasticsearchException: java.io.IOException: failed to read /home/hinmanm/elasticsearch-7.4.0-SNAPSHOT/data/nodes/0/_state/global-22.st\r\n\tat org.elasticsearch.ExceptionsHelper.maybeThrowRuntimeAndSuppress(ExceptionsHelper.java:167) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.MetaDataStateFormat.loadGeneration(MetaDataStateFormat.java:414) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.MetaStateService.loadFullState(MetaStateService.java:81) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.GatewayMetaState.upgradeMetaData(GatewayMetaState.java:141) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.GatewayMetaState.<init>(GatewayMetaState.java:95) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:485) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:255) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Bootstrap$5.<init>(Bootstrap.java:221) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:221) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:349) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:159) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\t... 6 more\r\nCaused by: java.io.IOException: failed to read /home/hinmanm/elasticsearch-7.4.0-SNAPSHOT/data/nodes/0/_state/global-22.st\r\n\tat org.elasticsearch.gateway.MetaDataStateFormat.loadGeneration(MetaDataStateFormat.java:408) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.MetaStateService.loadFullState(MetaStateService.java:81) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.GatewayMetaState.upgradeMetaData(GatewayMetaState.java:141) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.GatewayMetaState.<init>(GatewayMetaState.java:95) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:485) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:255) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Bootstrap$5.<init>(Bootstrap.java:221) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:221) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:349) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:159) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\t... 6 more\r\nCaused by: org.elasticsearch.common.xcontent.XContentParseException: [-1:24494] [snapshot_lifecycle] failed to parse field [policies]\r\n\tat org.elasticsearch.common.xcontent.ObjectParser.parseValue(ObjectParser.java:386) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ObjectParser.parseSub(ObjectParser.java:396) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ObjectParser.parse(ObjectParser.java:238) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ConstructingObjectParser.parse(ConstructingObjectParser.java:169) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.ilm.IndexLifecycle.lambda$getNamedXContent$3(IndexLifecycle.java:186) ~[?:?]\r\n\tat org.elasticsearch.common.xcontent.NamedXContentRegistry$Entry.lambda$new$0(NamedXContentRegistry.java:63) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.NamedXContentRegistry.parseNamedObject(NamedXContentRegistry.java:141) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.support.AbstractXContentParser.namedObject(AbstractXContentParser.java:385) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.cluster.metadata.MetaData$Builder.fromXContent(MetaData.java:1403) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.cluster.metadata.MetaData$1.fromXContent(MetaData.java:1448) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.cluster.metadata.MetaData$1.fromXContent(MetaData.java:1439) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.MetaDataStateFormat.read(MetaDataStateFormat.java:302) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.MetaDataStateFormat.loadGeneration(MetaDataStateFormat.java:404) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.MetaStateService.loadFullState(MetaStateService.java:81) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.GatewayMetaState.upgradeMetaData(GatewayMetaState.java:141) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.GatewayMetaState.<init>(GatewayMetaState.java:95) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:485) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:255) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Bootstrap$5.<init>(Bootstrap.java:221) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:221) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:349) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:159) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\t... 6 more\r\nCaused by: org.elasticsearch.common.xcontent.XContentParseException: Failed to build [snapshot_lifecycle] after last required field arrived\r\n\tat org.elasticsearch.common.xcontent.ConstructingObjectParser$Target.buildTarget(ConstructingObjectParser.java:476) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ConstructingObjectParser$Target.constructorArg(ConstructingObjectParser.java:402) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ConstructingObjectParser$Target.access$900(ConstructingObjectParser.java:350) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ConstructingObjectParser.lambda$declareNamedObjects$5(ConstructingObjectParser.java:288) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ObjectParser.lambda$declareNamedObjects$7(ObjectParser.java:345) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ObjectParser.parseValue(ObjectParser.java:384) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ObjectParser.parseSub(ObjectParser.java:396) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ObjectParser.parse(ObjectParser.java:238) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ConstructingObjectParser.parse(ConstructingObjectParser.java:169) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.ilm.IndexLifecycle.lambda$getNamedXContent$3(IndexLifecycle.java:186) ~[?:?]\r\n\tat org.elasticsearch.common.xcontent.NamedXContentRegistry$Entry.lambda$new$0(NamedXContentRegistry.java:63) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.NamedXContentRegistry.parseNamedObject(NamedXContentRegistry.java:141) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.support.AbstractXContentParser.namedObject(AbstractXContentParser.java:385) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.cluster.metadata.MetaData$Builder.fromXContent(MetaData.java:1403) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.cluster.metadata.MetaData$1.fromXContent(MetaData.java:1448) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.cluster.metadata.MetaData$1.fromXContent(MetaData.java:1439) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.MetaDataStateFormat.read(MetaDataStateFormat.java:302) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.MetaDataStateFormat.loadGeneration(MetaDataStateFormat.java:404) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.MetaStateService.loadFullState(MetaStateService.java:81) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.GatewayMetaState.upgradeMetaData(GatewayMetaState.java:141) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.GatewayMetaState.<init>(GatewayMetaState.java:95) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:485) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:255) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Bootstrap$5.<init>(Bootstrap.java:221) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:221) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:349) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:159) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\t... 6 more\r\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\r\n\tat org.elasticsearch.xpack.core.slm.SnapshotLifecycleMetadata.lambda$static$1(SnapshotLifecycleMetadata.java:51) ~[?:?]\r\n\tat org.elasticsearch.common.xcontent.ConstructingObjectParser.lambda$new$2(ConstructingObjectParser.java:132) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ConstructingObjectParser$Target.buildTarget(ConstructingObjectParser.java:463) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ConstructingObjectParser$Target.constructorArg(ConstructingObjectParser.java:402) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ConstructingObjectParser$Target.access$900(ConstructingObjectParser.java:350) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ConstructingObjectParser.lambda$declareNamedObjects$5(ConstructingObjectParser.java:288) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ObjectParser.lambda$declareNamedObjects$7(ObjectParser.java:345) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ObjectParser.parseValue(ObjectParser.java:384) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ObjectParser.parseSub(ObjectParser.java:396) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ObjectParser.parse(ObjectParser.java:238) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.ConstructingObjectParser.parse(ConstructingObjectParser.java:169) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.ilm.IndexLifecycle.lambda$getNamedXContent$3(IndexLifecycle.java:186) ~[?:?]\r\n\tat org.elasticsearch.common.xcontent.NamedXContentRegistry$Entry.lambda$new$0(NamedXContentRegistry.java:63) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.NamedXContentRegistry.parseNamedObject(NamedXContentRegistry.java:141) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.xcontent.support.AbstractXContentParser.namedObject(AbstractXContentParser.java:385) ~[elasticsearch-x-content-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.cluster.metadata.MetaData$Builder.fromXContent(MetaData.java:1403) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.cluster.metadata.MetaData$1.fromXContent(MetaData.java:1448) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.cluster.metadata.MetaData$1.fromXContent(MetaData.java:1439) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.MetaDataStateFormat.read(MetaDataStateFormat.java:302) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.MetaDataStateFormat.loadGeneration(MetaDataStateFormat.java:404) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.MetaStateService.loadFullState(MetaStateService.java:81) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.GatewayMetaState.upgradeMetaData(GatewayMetaState.java:141) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.gateway.GatewayMetaState.<init>(GatewayMetaState.java:95) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:485) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:255) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Bootstrap$5.<init>(Bootstrap.java:221) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:221) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:349) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:159) ~[elasticsearch-7.4.0-SNAPSHOT.jar:7.4.0-SNAPSHOT]\r\n\t... 6 more\r\n```\r\n\r\nAnd prevents the node from starting.","closed_by":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"performed_via_github_app":null}