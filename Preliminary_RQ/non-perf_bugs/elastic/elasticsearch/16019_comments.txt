[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/172012806","html_url":"https://github.com/elastic/elasticsearch/issues/16019#issuecomment-172012806","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16019","id":172012806,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MjAxMjgwNg==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2016-01-15T16:49:22Z","updated_at":"2016-01-15T16:49:22Z","author_association":"MEMBER","body":"+1 we should have a multimode qa test. We can then also test the scenario where one node has the an ingest plugin installed and the other hasn't. I'm pretty sure sure that we don't fail nicely here. We use geoip as plugin to test with. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/172867575","html_url":"https://github.com/elastic/elasticsearch/issues/16019#issuecomment-172867575","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16019","id":172867575,"node_id":"MDEyOklzc3VlQ29tbWVudDE3Mjg2NzU3NQ==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2016-01-19T14:20:09Z","updated_at":"2016-01-19T14:20:09Z","author_association":"MEMBER","body":"I quickly looked at this and starting a multi node qa test is easy. In order to test the scenario one node needs to be started with ingest enabled (using default node settings) and one node with ingest disabled (`node.ingest: false`), but setting specific settings per node doesn't seem possible.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/172908987","html_url":"https://github.com/elastic/elasticsearch/issues/16019#issuecomment-172908987","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16019","id":172908987,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MjkwODk4Nw==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2016-01-19T16:34:49Z","updated_at":"2016-01-19T16:34:49Z","author_association":"MEMBER","body":"yea that is why I opened this issue, we have to wait for test infra improvements that are in the work to have different settings on each node. I discussed this with @rjernst .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/181664277","html_url":"https://github.com/elastic/elasticsearch/issues/16019#issuecomment-181664277","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16019","id":181664277,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MTY2NDI3Nw==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2016-02-09T01:44:27Z","updated_at":"2016-02-09T01:44:27Z","author_association":"CONTRIBUTOR","body":"Aren't we achieving this by leveraging the `nodeOrdinal` in the test?\n\nOn this note,\nI have begun exploring this while adding tests to the new pipeline validation. I am attempting to set up a cluster where one node has a certain plugin installed, while the other does not. From the way I see it, `nodePlugins` method can take in a `nodeOrdinal` just like the settings.\nwhat do you think?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/181747753","html_url":"https://github.com/elastic/elasticsearch/issues/16019#issuecomment-181747753","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16019","id":181747753,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MTc0Nzc1Mw==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2016-02-09T07:40:43Z","updated_at":"2016-02-09T07:40:43Z","author_association":"MEMBER","body":"> Aren't we achieving this by leveraging the nodeOrdinal in the test?\n\nRight not this is the only way how we can test it and I think for now this okay. However because we're extending from `ESIntegTestCase` we setup the nodes in a non realistic setup. (we use random settings that are unlikely to be used in production and the nodes aren't started from as one would normally do in production (using one of our assemblies and start it from the command line) ) So ideally this should be tested in a qa scenario, but can't yet customise the cluster to run with different plugins)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/190708920","html_url":"https://github.com/elastic/elasticsearch/issues/16019#issuecomment-190708920","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16019","id":190708920,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MDcwODkyMA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-03-01T12:44:54Z","updated_at":"2016-03-01T12:44:54Z","author_association":"CONTRIBUTOR","body":"Given that ingest is now a module, is this test still required?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/190710264","html_url":"https://github.com/elastic/elasticsearch/issues/16019#issuecomment-190710264","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16019","id":190710264,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MDcxMDI2NA==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2016-03-01T12:50:01Z","updated_at":"2016-03-01T12:50:01Z","author_association":"MEMBER","body":"@clintongormley This issue is about adding a qa test that verifies that the redirecting works as expected when some nodes have ingest enabled and some don't. We have a Java integration test for this, but that isn't ideal as it doesn't test how users run ES. Also we have a qa test that test when all nodes have ingest disabled, but running some nodes with ingest enabled and some without isn't possible at the moment.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/367518944","html_url":"https://github.com/elastic/elasticsearch/issues/16019#issuecomment-367518944","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16019","id":367518944,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NzUxODk0NA==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2018-02-21T23:53:39Z","updated_at":"2018-02-21T23:53:39Z","author_association":"CONTRIBUTOR","body":"Coming back to this... do we have other examples of us wanting to do this?\r\n\r\nI feel like the Bwc cluster formation code that has been since added to groovy can be modified to make solve this issue. (https://github.com/elastic/elasticsearch/blob/c15e5d480cc4019810b4094ec0a9007435d59ced/buildSrc/src/main/groovy/org/elasticsearch/gradle/test/ClusterFormationTasks.groovy#L483)\r\n\r\nany objections to proceeding with this?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/367520059","html_url":"https://github.com/elastic/elasticsearch/issues/16019#issuecomment-367520059","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16019","id":367520059,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NzUyMDA1OQ==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2018-02-21T23:59:09Z","updated_at":"2018-02-21T23:59:09Z","author_association":"MEMBER","body":"I'm not sure the reasoning for this test is still relevant. I believe the ingest proxy was removed through various refactorings. What benefit is there then to having an ingest specific multi node test? I think having qa tests for various configurations of ES and running rest tests or whatever on them would be good as a high level check, but feature specific qa tests are just more noise. If ingest lacks some form of testing, let's add more unit tests.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/367521267","html_url":"https://github.com/elastic/elasticsearch/issues/16019#issuecomment-367521267","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16019","id":367521267,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NzUyMTI2Nw==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2018-02-22T00:05:11Z","updated_at":"2018-02-22T00:05:11Z","author_association":"CONTRIBUTOR","body":"@rjernst to be honest, I am OK that with that decision as well. Just hoping to get a decision out of this since we have been seemingly OK without this for two years. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/372707389","html_url":"https://github.com/elastic/elasticsearch/issues/16019#issuecomment-372707389","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16019","id":372707389,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MjcwNzM4OQ==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2018-03-13T15:31:51Z","updated_at":"2018-03-13T15:31:51Z","author_association":"CONTRIBUTOR","body":"No longer needed, closing","performed_via_github_app":null}]