{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/27347","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27347/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27347/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27347/events","html_url":"https://github.com/elastic/elasticsearch/issues/27347","id":273082610,"node_id":"MDU6SXNzdWUyNzMwODI2MTA=","number":27347,"title":"Elasticsearch v.5.6.4 impossible to start with my Ubuntu 16.04","user":{"login":"Sethenssen","id":6750919,"node_id":"MDQ6VXNlcjY3NTA5MTk=","avatar_url":"https://avatars1.githubusercontent.com/u/6750919?v=4","gravatar_id":"","url":"https://api.github.com/users/Sethenssen","html_url":"https://github.com/Sethenssen","followers_url":"https://api.github.com/users/Sethenssen/followers","following_url":"https://api.github.com/users/Sethenssen/following{/other_user}","gists_url":"https://api.github.com/users/Sethenssen/gists{/gist_id}","starred_url":"https://api.github.com/users/Sethenssen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sethenssen/subscriptions","organizations_url":"https://api.github.com/users/Sethenssen/orgs","repos_url":"https://api.github.com/users/Sethenssen/repos","events_url":"https://api.github.com/users/Sethenssen/events{/privacy}","received_events_url":"https://api.github.com/users/Sethenssen/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-11-10T22:48:55Z","updated_at":"2017-11-10T22:53:04Z","closed_at":"2017-11-10T22:53:04Z","author_association":"NONE","active_lock_reason":null,"body":"<!--\r\n\r\n** Please read the guidelines below. **\r\n\r\nIssues that do not follow these guidelines are likely to be closed.\r\n\r\n1.  GitHub is reserved for bug reports and feature requests. The best place to\r\n    ask a general question is at the Elastic [forums](https://discuss.elastic.co).\r\n    GitHub is not the place for general questions.\r\n\r\n2.  Is this bug report or feature request for a supported OS? If not, it\r\n    is likely to be closed.  See https://www.elastic.co/support/matrix#show_os\r\n\r\n3.  Please fill out EITHER the feature request block or the bug report block\r\n    below, and delete the other block.\r\n\r\n-->\r\n\r\n<!-- Feature request -->\r\n\r\n\r\n<!-- Bug report -->\r\n\r\n**Elasticsearch version** (`Version: 5.6.4`):\r\n\r\n**Plugins installed**: [`No`]\r\n\r\n**JVM version** (`openjdk version \"9-internal\"\r\nOpenJDK Runtime Environment (build 9-internal+0-2016-04-14-195246.buildd.src)\r\nOpenJDK 64-Bit Server VM (build 9-internal+0-2016-04-14-195246.buildd.src, mixed mode)\r\n`):\r\n\r\n**OS version** (`Linux ruby 4.10.0-38-generic #42~16.04.1-Ubuntu SMP Tue Oct 10 16:32:20 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux`):\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\nHi, maybe something wrong with a lib missing or something else ? But I already done apt update && upgrade. JVM & JRE installed.\r\nBut it's not working and I don't know where I'm wrong.\r\nThanks for helping me.\r\n\r\n**Steps to reproduce**:\r\n\r\n 1. /etc/init.d/elasticsearch start\r\n 2. /etc/init.d/elasticsearch status\r\n 3. elasticsearch is failed\r\n\r\n**Provide logs (if relevant)**:\r\n\r\n**My computer:**\r\n```\r\n:: Finding distro...found as 'Ubuntu 16.04'\r\n:: Finding hostname and user...found as 'root@ruby'\r\n:: Finding kernel version...found as 'x86_64 Linux 4.10.0-38-generic'\r\n:: Finding current CPU...found as 'Intel Core i7-6600U CPU @ 3.4GHz'\r\n:: Finding current GPU...found as 'Not Found'\r\n:: Finding current RAM usage...found as '2082MiB / 15937MiB'\r\n```\r\n\r\njvm.options:\r\n`-Xms2g\r\n-Xmx2g`\r\n\r\nelasticsearch.yml everything is commented except:\r\n`http.port: 9200`\r\n\r\n-----------------------------------\r\nHere the status command:\r\n-----------------------------------\r\n\r\n`/etc/init.d/elasticsearch status`\r\n\r\n```\r\n● elasticsearch.service - Elasticsearch\r\n   Loaded: loaded (/usr/lib/systemd/system/elasticsearch.service; disabled; vendor preset: enabled)\r\n   Active: failed (Result: exit-code) since ven. 2017-11-10 23:32:19 CET; 1s ago\r\n     Docs: http://www.elastic.co\r\n  Process: 5457 ExecStart=/usr/share/elasticsearch/bin/elasticsearch -p ${PID_DIR}/elasticsearch.pid --quiet -Edefault.path.logs=${LOG_DIR} -Edefault.path.data=${DATA_DIR} -Edefault.path.conf=${CONF_DIR} (code=exited, status=1/FAILURE)\r\n  Process: 5449 ExecStartPre=/usr/share/elasticsearch/bin/elasticsearch-systemd-pre-exec (code=exited, status=0/SUCCESS)\r\n Main PID: 5457 (code=exited, status=1/FAILURE)\r\n\r\nnov. 10 23:32:17 ruby elasticsearch[5457]:         java.net.MalformedURLException: no protocol: ${codebase.httpasyncclient-4.1.2.jar}\r\nnov. 10 23:32:17 ruby elasticsearch[5457]: java.security.policy : erreur d'ajout d'entrée :\r\nnov. 10 23:32:17 ruby elasticsearch[5457]:         java.net.MalformedURLException: no protocol: ${codebase.securesm-1.1.jar}\r\nnov. 10 23:32:17 ruby elasticsearch[5457]: java.security.policy : erreur d'ajout d'entrée :\r\nnov. 10 23:32:17 ruby elasticsearch[5457]:         java.net.MalformedURLException: no protocol: ${codebase.lucene-core-6.6.1.jar}\r\nnov. 10 23:32:17 ruby elasticsearch[5457]: java.security.policy : erreur d'ajout d'entrée :\r\nnov. 10 23:32:17 ruby elasticsearch[5457]:         java.net.MalformedURLException: no protocol: ${codebase.lucene-misc-6.6.1.jar}\r\nnov. 10 23:32:19 ruby systemd[1]: elasticsearch.service: Main process exited, code=exited, status=1/FAILURE\r\nnov. 10 23:32:19 ruby systemd[1]: elasticsearch.service: Unit entered failed state.\r\nnov. 10 23:32:19 ruby systemd[1]: elasticsearch.service: Failed with result 'exit-code'.\r\n```\r\n\r\n\r\n----------------------------------------\r\nHere the /var/log/elasticsearch\r\n----------------------------------------\r\n\r\n`cat elasticsearch.log`\r\n\r\n```\r\n[2017-11-10T23:32:17,747][INFO ][o.e.n.Node               ] [] initializing ...\r\n[2017-11-10T23:32:17,823][INFO ][o.e.e.NodeEnvironment    ] [RQp07WJ] using [1] data paths, mounts [[/ (/dev/sda2)]], net usable_space [194.2gb], net total_space [218.4gb], spins? [no], types [ext4]\r\n[2017-11-10T23:32:17,823][INFO ][o.e.e.NodeEnvironment    ] [RQp07WJ] heap size [1.9gb], compressed ordinary object pointers [true]\r\n[2017-11-10T23:32:17,824][INFO ][o.e.n.Node               ] node name [RQp07WJ] derived from node ID [RQp07WJoQoquruouO1g-dA]; set [node.name] to override\r\n[2017-11-10T23:32:17,824][INFO ][o.e.n.Node               ] version[5.6.4], pid[5457], build[8bbedf5/2017-10-31T18:55:38.105Z], OS[Linux/4.10.0-38-generic/amd64], JVM[Oracle Corporation/OpenJDK 64-Bit Server VM/9-internal/9-internal+0-2016-04-14-195246.buildd.src]\r\n[2017-11-10T23:32:17,824][INFO ][o.e.n.Node               ] JVM arguments [-Xms2g, -Xmx2g, -XX:+UseConcMarkSweepGC, -XX:CMSInitiatingOccupancyFraction=75, -XX:+UseCMSInitiatingOccupancyOnly, -XX:+AlwaysPreTouch, -Xss1m, -Djava.awt.headless=true, -Dfile.encoding=UTF-8, -Djna.nosys=true, -Djdk.io.permissionsUseCanonicalPath=true, -Dio.netty.noUnsafe=true, -Dio.netty.noKeySetOptimization=true, -Dio.netty.recycler.maxCapacityPerThread=0, -Dlog4j.shutdownHookEnabled=false, -Dlog4j2.disable.jmx=true, -Dlog4j.skipJansi=true, -XX:+HeapDumpOnOutOfMemoryError, -Des.path.home=/usr/share/elasticsearch]\r\n[2017-11-10T23:32:18,666][INFO ][o.e.p.PluginsService     ] [RQp07WJ] loaded module [aggs-matrix-stats]\r\n[2017-11-10T23:32:18,670][INFO ][o.e.p.PluginsService     ] [RQp07WJ] loaded module [ingest-common]\r\n[2017-11-10T23:32:18,671][INFO ][o.e.p.PluginsService     ] [RQp07WJ] loaded module [lang-expression]\r\n[2017-11-10T23:32:18,671][INFO ][o.e.p.PluginsService     ] [RQp07WJ] loaded module [lang-groovy]\r\n[2017-11-10T23:32:18,671][INFO ][o.e.p.PluginsService     ] [RQp07WJ] loaded module [lang-mustache]\r\n[2017-11-10T23:32:18,671][INFO ][o.e.p.PluginsService     ] [RQp07WJ] loaded module [lang-painless]\r\n[2017-11-10T23:32:18,671][INFO ][o.e.p.PluginsService     ] [RQp07WJ] loaded module [parent-join]\r\n[2017-11-10T23:32:18,671][INFO ][o.e.p.PluginsService     ] [RQp07WJ] loaded module [percolator]\r\n[2017-11-10T23:32:18,671][INFO ][o.e.p.PluginsService     ] [RQp07WJ] loaded module [reindex]\r\n[2017-11-10T23:32:18,671][INFO ][o.e.p.PluginsService     ] [RQp07WJ] loaded module [transport-netty3]\r\n[2017-11-10T23:32:18,671][INFO ][o.e.p.PluginsService     ] [RQp07WJ] loaded module [transport-netty4]\r\n[2017-11-10T23:32:18,672][INFO ][o.e.p.PluginsService     ] [RQp07WJ] no plugins loaded\r\n[2017-11-10T23:32:19,360][ERROR][o.e.b.ElasticsearchUncaughtExceptionHandler] [] fatal error in thread [main], exiting\r\njava.lang.ExceptionInInitializerError: null\r\n\tat org.apache.lucene.analysis.miscellaneous.StemmerOverrideFilter$Builder.build(StemmerOverrideFilter.java:205) ~[lucene-analyzers-common-6.6.1.jar:6.6.1 9aa465a89b64ff2dabe7b4d50c472de32c298683 - varunthacker - 2017-08-29 21:55:17]\r\n\tat org.apache.lucene.analysis.nl.DutchAnalyzer.<init>(DutchAnalyzer.java:133) ~[lucene-analyzers-common-6.6.1.jar:6.6.1 9aa465a89b64ff2dabe7b4d50c472de32c298683 - varunthacker - 2017-08-29 21:55:17]\r\n\tat org.apache.lucene.analysis.nl.DutchAnalyzer.<init>(DutchAnalyzer.java:106) ~[lucene-analyzers-common-6.6.1.jar:6.6.1 9aa465a89b64ff2dabe7b4d50c472de32c298683 - varunthacker - 2017-08-29 21:55:17]\r\n\tat org.elasticsearch.indices.analysis.PreBuiltAnalyzers$20.create(PreBuiltAnalyzers.java:246) ~[elasticsearch-5.6.4.jar:5.6.4]\r\n\tat org.elasticsearch.indices.analysis.PreBuiltAnalyzers.getAnalyzer(PreBuiltAnalyzers.java:487) ~[elasticsearch-5.6.4.jar:5.6.4]\r\n\tat org.elasticsearch.index.analysis.AnalysisRegistry$PrebuiltAnalysis.<init>(AnalysisRegistry.java:407) ~[elasticsearch-5.6.4.jar:5.6.4]\r\n\tat org.elasticsearch.index.analysis.AnalysisRegistry$PrebuiltAnalysis.<init>(AnalysisRegistry.java:392) ~[elasticsearch-5.6.4.jar:5.6.4]\r\n\tat org.elasticsearch.index.analysis.AnalysisRegistry.<init>(AnalysisRegistry.java:62) ~[elasticsearch-5.6.4.jar:5.6.4]\r\n\tat org.elasticsearch.indices.analysis.AnalysisModule.<init>(AnalysisModule.java:177) ~[elasticsearch-5.6.4.jar:5.6.4]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:340) ~[elasticsearch-5.6.4.jar:5.6.4]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:245) ~[elasticsearch-5.6.4.jar:5.6.4]\r\n\tat org.elasticsearch.bootstrap.Bootstrap$5.<init>(Bootstrap.java:233) ~[elasticsearch-5.6.4.jar:5.6.4]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:233) ~[elasticsearch-5.6.4.jar:5.6.4]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:342) ~[elasticsearch-5.6.4.jar:5.6.4]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:132) ~[elasticsearch-5.6.4.jar:5.6.4]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:123) ~[elasticsearch-5.6.4.jar:5.6.4]\r\n\tat org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:70) ~[elasticsearch-5.6.4.jar:5.6.4]\r\n\tat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:134) ~[elasticsearch-5.6.4.jar:5.6.4]\r\n\tat org.elasticsearch.cli.Command.main(Command.java:90) ~[elasticsearch-5.6.4.jar:5.6.4]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:91) ~[elasticsearch-5.6.4.jar:5.6.4]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:84) ~[elasticsearch-5.6.4.jar:5.6.4]\r\nCaused by: java.security.AccessControlException: access denied (\"java.lang.RuntimePermission\" \"accessDeclaredMembers\")\r\n\tat java.security.AccessControlContext.checkPermission(AccessControlContext.java:468) ~[?:?]\r\n\tat java.security.AccessController.checkPermission(AccessController.java:894) ~[?:?]\r\n\tat java.lang.SecurityManager.checkPermission(SecurityManager.java:541) ~[?:?]\r\n\tat java.lang.Class.checkMemberAccess(Class.java:2584) ~[?:?]\r\n\tat java.lang.Class.getDeclaredFields(Class.java:2092) ~[?:?]\r\n\tat org.apache.lucene.util.RamUsageEstimator$1.run(RamUsageEstimator.java:339) ~[lucene-core-6.6.1.jar:6.6.1 9aa465a89b64ff2dabe7b4d50c472de32c298683 - varunthacker - 2017-08-29 21:54:39]\r\n\tat org.apache.lucene.util.RamUsageEstimator$1.run(RamUsageEstimator.java:336) ~[lucene-core-6.6.1.jar:6.6.1 9aa465a89b64ff2dabe7b4d50c472de32c298683 - varunthacker - 2017-08-29 21:54:39]\r\n\tat java.security.AccessController.doPrivileged(Native Method) ~[?:?]\r\n\tat org.apache.lucene.util.RamUsageEstimator.shallowSizeOfInstance(RamUsageEstimator.java:336) ~[lucene-core-6.6.1.jar:6.6.1 9aa465a89b64ff2dabe7b4d50c472de32c298683 - varunthacker - 2017-08-29 21:54:39]\r\n\tat org.apache.lucene.util.RamUsageEstimator.shallowSizeOf(RamUsageEstimator.java:313) ~[lucene-core-6.6.1.jar:6.6.1 9aa465a89b64ff2dabe7b4d50c472de32c298683 - varunthacker - 2017-08-29 21:54:39]\r\n\tat org.apache.lucene.util.fst.ByteSequenceOutputs.<clinit>(ByteSequenceOutputs.java:154) ~[lucene-core-6.6.1.jar:6.6.1 9aa465a89b64ff2dabe7b4d50c472de32c298683 - varunthacker - 2017-08-29 21:54:39]\r\n\t... 21 more\r\n```\r\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}