{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/17432","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17432/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17432/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17432/events","html_url":"https://github.com/elastic/elasticsearch/issues/17432","id":144756035,"node_id":"MDU6SXNzdWUxNDQ3NTYwMzU=","number":17432,"title":"Include node and request body information in rest.suppressed messages","user":{"login":"ppf2","id":7216393,"node_id":"MDQ6VXNlcjcyMTYzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/7216393?v=4","gravatar_id":"","url":"https://api.github.com/users/ppf2","html_url":"https://github.com/ppf2","followers_url":"https://api.github.com/users/ppf2/followers","following_url":"https://api.github.com/users/ppf2/following{/other_user}","gists_url":"https://api.github.com/users/ppf2/gists{/gist_id}","starred_url":"https://api.github.com/users/ppf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppf2/subscriptions","organizations_url":"https://api.github.com/users/ppf2/orgs","repos_url":"https://api.github.com/users/ppf2/repos","events_url":"https://api.github.com/users/ppf2/events{/privacy}","received_events_url":"https://api.github.com/users/ppf2/received_events","type":"User","site_admin":false},"labels":[{"id":151561891,"node_id":"MDU6TGFiZWwxNTE1NjE4OTE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Logging","name":":Core/Infra/Logging","color":"0e8a16","default":false,"description":"Log management and logging utilities"},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2016-03-31T00:32:46Z","updated_at":"2018-03-13T20:27:13Z","closed_at":"2018-03-13T20:27:13Z","author_association":"MEMBER","active_lock_reason":null,"body":"When we throw these rest.suppressed messages, it will be helpful to indicate:\n1. Which node is rejecting the rest request (even if it's the local node that is logging this message, it will be nice to explicitly indicate that as part of the log entry).\n2.  The request body.  In this particular case, it is a particular _index referenced in the docs body of the request that requires permission.  So it will be helpful to include the request body as well.\n\n```\n[2016-03-29 10:26:41,607][INFO ][rest.suppressed          ] /_mget Params: {ignore_unavailable=true, preference=1459272400934, timeout=0}\nElasticsearchSecurityException[action [indices:data/read/mget] is unauthorized for user [user_name]]\n    at org.elasticsearch.shield.support.Exceptions.authorizationError(Exceptions.java:45)\n    at org.elasticsearch.shield.authz.InternalAuthorizationService.denialException(InternalAuthorizationService.java:294)\n    at org.elasticsearch.shield.authz.InternalAuthorizationService.denial(InternalAuthorizationService.java:268)\n```\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}