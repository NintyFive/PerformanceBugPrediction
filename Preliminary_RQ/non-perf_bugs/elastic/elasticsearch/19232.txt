{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/19232","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19232/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19232/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19232/events","html_url":"https://github.com/elastic/elasticsearch/issues/19232","id":163545111,"node_id":"MDU6SXNzdWUxNjM1NDUxMTE=","number":19232,"title":"Field stats API gte/lt reversed?","user":{"login":"markwalkom","id":3184718,"node_id":"MDQ6VXNlcjMxODQ3MTg=","avatar_url":"https://avatars0.githubusercontent.com/u/3184718?v=4","gravatar_id":"","url":"https://api.github.com/users/markwalkom","html_url":"https://github.com/markwalkom","followers_url":"https://api.github.com/users/markwalkom/followers","following_url":"https://api.github.com/users/markwalkom/following{/other_user}","gists_url":"https://api.github.com/users/markwalkom/gists{/gist_id}","starred_url":"https://api.github.com/users/markwalkom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markwalkom/subscriptions","organizations_url":"https://api.github.com/users/markwalkom/orgs","repos_url":"https://api.github.com/users/markwalkom/repos","events_url":"https://api.github.com/users/markwalkom/events{/privacy}","received_events_url":"https://api.github.com/users/markwalkom/received_events","type":"User","site_admin":false},"labels":[{"id":23715,"node_id":"MDU6TGFiZWwyMzcxNQ==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Edocs","name":">docs","color":"db755e","default":false,"description":"General docs changes"},{"id":92913858,"node_id":"MDU6TGFiZWw5MjkxMzg1OA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/good%20first%20issue","name":"good first issue","color":"07569b","default":true,"description":"low hanging fruit"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2016-07-03T03:18:56Z","updated_at":"2016-07-07T12:57:01Z","closed_at":"2016-07-07T12:57:01Z","author_association":"MEMBER","active_lock_reason":null,"body":"[Here](https://www.elastic.co/guide/en/elasticsearch/reference/current/search-field-stats.html) we state;\n\n> min_value - The lowest value in the field.\n> max_value - The highest value in the field.\n\nAnd then in [this example](https://www.elastic.co/guide/en/elasticsearch/reference/current/search-field-stats.html#_field_stats_index_constraints) we have;\n\n```\ncurl -XPOST \"http://localhost:9200/_field_stats?level=indices\" -d '{\n   \"fields\" : [\"answer_count\"] \n   \"index_constraints\" : { \n      \"creation_date\" : { \n         \"min_value\" : { \n            \"gte\" : \"2014-01-01T00:00:00.000Z\"\n         },\n         \"max_value\" : {\n            \"lt\" : \"2015-01-01T00:00:00.000Z\"\n         }\n      }\n   }\n}\n```\n\nBut if you test it, it appears that the correct layout is actually in reverse when it comes to using `lt` and `gte`;\n\n```\ncurl -XPOST \"http://localhost:9200/_field_stats?level=indices\" -d '{\n   \"fields\" : [\"answer_count\"] \n   \"index_constraints\" : { \n      \"creation_date\" : { \n         \"min_value\" : { \n            \"lt\" : \"2015-01-01T00:00:00.000Z\"\n         },\n         \"max_value\" : {\n            \"gte\" : \"2014-01-01T00:00:00.000Z\"\n         }\n      }\n   }\n}\n```\n\nLogically it seems that the second way is correct, but I didn't want to just make a PR without checking.\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}