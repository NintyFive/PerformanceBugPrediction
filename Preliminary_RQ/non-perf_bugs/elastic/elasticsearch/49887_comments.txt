[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/562305982","html_url":"https://github.com/elastic/elasticsearch/issues/49887#issuecomment-562305982","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49887","id":562305982,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjMwNTk4Mg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-12-05T20:34:17Z","updated_at":"2019-12-05T20:34:17Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-analytics-geo (:Analytics/Geo)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/562384502","html_url":"https://github.com/elastic/elasticsearch/issues/49887#issuecomment-562384502","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49887","id":562384502,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjM4NDUwMg==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2019-12-06T00:52:34Z","updated_at":"2019-12-06T00:52:44Z","author_association":"CONTRIBUTOR","body":"Here is a proposed WIP implementation of above: https://github.com/talevy/elasticsearch/commit/a713f5ccd7b92181685420867b20a4df17e2493f\r\n\r\nUpdating the CentroidCalculator seemed pretty straightforward. The one extra requirement that has yet to be tackled is how to determine which types of shapes exist in the geometry. There are two ideas I have there: one requires yet another iteration of the geometry, another requires more space/variables for each dimension.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/564672456","html_url":"https://github.com/elastic/elasticsearch/issues/49887#issuecomment-564672456","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49887","id":564672456,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NDY3MjQ1Ng==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2019-12-11T18:26:32Z","updated_at":"2019-12-11T18:26:32Z","author_association":"CONTRIBUTOR","body":"We discussed this in our analytics/geo team meeting and concluded that:\r\n\r\n- the scope of this centroid definition is to the `geo_centroid` aggregation, not necessarily all definitions of centroid in other future contexts\r\n- the centroid of a bucket is that of all geometries that reside in that bucket treaded as one geometry-collection. not a centroid of centroids of shapes\r\n- center of mass calculations as described will be implemented in degrees and degrees^2","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/564747815","html_url":"https://github.com/elastic/elasticsearch/issues/49887#issuecomment-564747815","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49887","id":564747815,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NDc0NzgxNQ==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2019-12-11T21:47:06Z","updated_at":"2019-12-11T21:47:06Z","author_association":"CONTRIBUTOR","body":"Information about a shape's dimension for centroid calculation is introduced in #50104.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/564938401","html_url":"https://github.com/elastic/elasticsearch/issues/49887#issuecomment-564938401","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49887","id":564938401,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NDkzODQwMQ==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2019-12-12T10:07:04Z","updated_at":"2019-12-12T10:07:04Z","author_association":"CONTRIBUTOR","body":"> the centroid of a bucket is that of all geometries that reside in that bucket treaded as one geometry-collection. not a centroid of centroids of shapes\r\n\r\n+1 this is also more consistent with the current behavior of the centroid aggregation on points in the case of a multi-valued field","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/565198558","html_url":"https://github.com/elastic/elasticsearch/issues/49887#issuecomment-565198558","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49887","id":565198558,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NTE5ODU1OA==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2019-12-12T21:38:55Z","updated_at":"2019-12-12T22:19:25Z","author_association":"CONTRIBUTOR","body":"excuse me. I forgot to mention that there is more than just the shape's type/dimension that needs to be serialized: the sum of the weight (can be negative)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/581576566","html_url":"https://github.com/elastic/elasticsearch/issues/49887#issuecomment-581576566","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49887","id":581576566,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MTU3NjU2Ng==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2020-02-03T19:25:02Z","updated_at":"2020-02-03T19:25:02Z","author_association":"CONTRIBUTOR","body":"this was implemented in #50297. closing","performed_via_github_app":null}]