[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/180228665","html_url":"https://github.com/elastic/elasticsearch/issues/16459#issuecomment-180228665","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16459","id":180228665,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MDIyODY2NQ==","user":{"login":"centic9","id":548322,"node_id":"MDQ6VXNlcjU0ODMyMg==","avatar_url":"https://avatars0.githubusercontent.com/u/548322?v=4","gravatar_id":"","url":"https://api.github.com/users/centic9","html_url":"https://github.com/centic9","followers_url":"https://api.github.com/users/centic9/followers","following_url":"https://api.github.com/users/centic9/following{/other_user}","gists_url":"https://api.github.com/users/centic9/gists{/gist_id}","starred_url":"https://api.github.com/users/centic9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/centic9/subscriptions","organizations_url":"https://api.github.com/users/centic9/orgs","repos_url":"https://api.github.com/users/centic9/repos","events_url":"https://api.github.com/users/centic9/events{/privacy}","received_events_url":"https://api.github.com/users/centic9/received_events","type":"User","site_admin":false},"created_at":"2016-02-05T07:01:53Z","updated_at":"2016-02-05T07:01:53Z","author_association":"CONTRIBUTOR","body":"Workaround from the so-discussion: Set VM options \"-Dtests.security.manager=false\"\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/181270137","html_url":"https://github.com/elastic/elasticsearch/issues/16459#issuecomment-181270137","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16459","id":181270137,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MTI3MDEzNw==","user":{"login":"wallecnik","id":8803026,"node_id":"MDQ6VXNlcjg4MDMwMjY=","avatar_url":"https://avatars2.githubusercontent.com/u/8803026?v=4","gravatar_id":"","url":"https://api.github.com/users/wallecnik","html_url":"https://github.com/wallecnik","followers_url":"https://api.github.com/users/wallecnik/followers","following_url":"https://api.github.com/users/wallecnik/following{/other_user}","gists_url":"https://api.github.com/users/wallecnik/gists{/gist_id}","starred_url":"https://api.github.com/users/wallecnik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wallecnik/subscriptions","organizations_url":"https://api.github.com/users/wallecnik/orgs","repos_url":"https://api.github.com/users/wallecnik/repos","events_url":"https://api.github.com/users/wallecnik/events{/privacy}","received_events_url":"https://api.github.com/users/wallecnik/received_events","type":"User","site_admin":false},"created_at":"2016-02-08T09:25:29Z","updated_at":"2016-02-08T09:25:29Z","author_association":"NONE","body":"I am not sure if I'm doing anything wrong, but running this empty test fails with the same exception:\n\n```\npublic class MyTestES extends ESIntegTestCase { \n    @Test \n    public void test() {} \n}\n```\n\nI would appreciate the testing framework to be simple as extending the `ESIntegTestCase` class.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/181296582","html_url":"https://github.com/elastic/elasticsearch/issues/16459#issuecomment-181296582","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16459","id":181296582,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MTI5NjU4Mg==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-02-08T10:28:53Z","updated_at":"2016-02-08T10:28:53Z","author_association":"CONTRIBUTOR","body":"hmm this seems like a bug but I wonder how you integrated it into you project? Which version of randomized runner is referenced by your projects since we are granting this permission to `grant codeBase \"${codebase.randomizedtesting-runner-2.2.0.jar}\" {\n`\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/181296622","html_url":"https://github.com/elastic/elasticsearch/issues/16459#issuecomment-181296622","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16459","id":181296622,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MTI5NjYyMg==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-02-08T10:29:08Z","updated_at":"2016-02-08T10:29:08Z","author_association":"CONTRIBUTOR","body":"also does it work if you run a build outside of your IDE?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/181308841","html_url":"https://github.com/elastic/elasticsearch/issues/16459#issuecomment-181308841","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16459","id":181308841,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MTMwODg0MQ==","user":{"login":"centic9","id":548322,"node_id":"MDQ6VXNlcjU0ODMyMg==","avatar_url":"https://avatars0.githubusercontent.com/u/548322?v=4","gravatar_id":"","url":"https://api.github.com/users/centic9","html_url":"https://github.com/centic9","followers_url":"https://api.github.com/users/centic9/followers","following_url":"https://api.github.com/users/centic9/following{/other_user}","gists_url":"https://api.github.com/users/centic9/gists{/gist_id}","starred_url":"https://api.github.com/users/centic9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/centic9/subscriptions","organizations_url":"https://api.github.com/users/centic9/orgs","repos_url":"https://api.github.com/users/centic9/repos","events_url":"https://api.github.com/users/centic9/events{/privacy}","received_events_url":"https://api.github.com/users/centic9/received_events","type":"User","site_admin":false},"created_at":"2016-02-08T11:03:25Z","updated_at":"2016-02-08T11:03:25Z","author_association":"CONTRIBUTOR","body":"For me the only relevant dependencies are \n\n> dependencies {\n>     testCompile 'org.elasticsearch:elasticsearch:2.2.0'\n>     testCompile 'org.elasticsearch:elasticsearch:2.2.0:tests'\n>     testCompile 'org.apache.lucene:lucene-test-framework:5.4.1'\n> }\n\nrandomizedtesting-runner is not specified explicitely, the transitive dependencies seem to pull in a difference version via the lucene-test-framework:\n\n> --- org.apache.lucene:lucene-test-framework:5.4.1\n>      +--- org.apache.lucene:lucene-codecs:5.4.1\n>      +--- org.apache.lucene:lucene-core:5.4.1\n>      +--- com.carrotsearch.randomizedtesting:junit4-ant:2.3.1\n>      +--- com.carrotsearch.randomizedtesting:randomizedtesting-runner:2.3.1\n\nVersion 5.4.1 of lucene-test-framework is listed at http://mvnrepository.com/artifact/org.elasticsearch/elasticsearch/2.2.0\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/181309072","html_url":"https://github.com/elastic/elasticsearch/issues/16459#issuecomment-181309072","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16459","id":181309072,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MTMwOTA3Mg==","user":{"login":"centic9","id":548322,"node_id":"MDQ6VXNlcjU0ODMyMg==","avatar_url":"https://avatars0.githubusercontent.com/u/548322?v=4","gravatar_id":"","url":"https://api.github.com/users/centic9","html_url":"https://github.com/centic9","followers_url":"https://api.github.com/users/centic9/followers","following_url":"https://api.github.com/users/centic9/following{/other_user}","gists_url":"https://api.github.com/users/centic9/gists{/gist_id}","starred_url":"https://api.github.com/users/centic9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/centic9/subscriptions","organizations_url":"https://api.github.com/users/centic9/orgs","repos_url":"https://api.github.com/users/centic9/repos","events_url":"https://api.github.com/users/centic9/events{/privacy}","received_events_url":"https://api.github.com/users/centic9/received_events","type":"User","site_admin":false},"created_at":"2016-02-08T11:04:47Z","updated_at":"2016-02-08T11:04:47Z","author_association":"CONTRIBUTOR","body":"And for me it also happens outside the IDE when using Gradle.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/181312620","html_url":"https://github.com/elastic/elasticsearch/issues/16459#issuecomment-181312620","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16459","id":181312620,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MTMxMjYyMA==","user":{"login":"wallecnik","id":8803026,"node_id":"MDQ6VXNlcjg4MDMwMjY=","avatar_url":"https://avatars2.githubusercontent.com/u/8803026?v=4","gravatar_id":"","url":"https://api.github.com/users/wallecnik","html_url":"https://github.com/wallecnik","followers_url":"https://api.github.com/users/wallecnik/followers","following_url":"https://api.github.com/users/wallecnik/following{/other_user}","gists_url":"https://api.github.com/users/wallecnik/gists{/gist_id}","starred_url":"https://api.github.com/users/wallecnik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wallecnik/subscriptions","organizations_url":"https://api.github.com/users/wallecnik/orgs","repos_url":"https://api.github.com/users/wallecnik/repos","events_url":"https://api.github.com/users/wallecnik/events{/privacy}","received_events_url":"https://api.github.com/users/wallecnik/received_events","type":"User","site_admin":false},"created_at":"2016-02-08T11:12:41Z","updated_at":"2016-02-08T11:14:12Z","author_association":"NONE","body":"Same here, using Maven and Intellij. Dependencies are:\n\n```\n<dependency>\n    <groupId>org.apache.lucene</groupId>\n    <artifactId>lucene-core</artifactId>\n    <version>5.4.1</version>\n</dependency>\n<dependency>\n    <groupId>org.elasticsearch</groupId>\n    <artifactId>elasticsearch</artifactId>\n    <version>2.2.0</version>\n</dependency>\n<dependency>\n    <groupId>org.apache.lucene</groupId>\n    <artifactId>lucene-test-framework</artifactId>\n    <version>5.4.1</version>\n    <scope>test</scope>\n</dependency>\n<dependency>\n    <groupId>org.elasticsearch</groupId>\n    <artifactId>elasticsearch</artifactId>\n    <version>2.2.0</version>\n    <scope>test</scope>\n    <type>test-jar</type>\n</dependency>\n```\n\nEDIT: Running it from IDE fails as well as running `mvn clean test`\nI've created blank project with only these dependencies and it fails too with the same test class:\n\n```\npublic class MyTestES extends ESIntegTestCase {\n    @Test\n    public void test() {}\n}\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/181338193","html_url":"https://github.com/elastic/elasticsearch/issues/16459#issuecomment-181338193","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16459","id":181338193,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MTMzODE5Mw==","user":{"login":"rendel","id":4909531,"node_id":"MDQ6VXNlcjQ5MDk1MzE=","avatar_url":"https://avatars1.githubusercontent.com/u/4909531?v=4","gravatar_id":"","url":"https://api.github.com/users/rendel","html_url":"https://github.com/rendel","followers_url":"https://api.github.com/users/rendel/followers","following_url":"https://api.github.com/users/rendel/following{/other_user}","gists_url":"https://api.github.com/users/rendel/gists{/gist_id}","starred_url":"https://api.github.com/users/rendel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rendel/subscriptions","organizations_url":"https://api.github.com/users/rendel/orgs","repos_url":"https://api.github.com/users/rendel/repos","events_url":"https://api.github.com/users/rendel/events{/privacy}","received_events_url":"https://api.github.com/users/rendel/received_events","type":"User","site_admin":false},"created_at":"2016-02-08T12:07:28Z","updated_at":"2016-02-08T12:07:59Z","author_association":"CONTRIBUTOR","body":"We are facing a similar issue. We managed to solve the `modifyArbitraryThreadGroup` and `setDefaultUncaughtExceptionHandler` by setting the `com.carrotsearch.randomizedtesting` dependency to version 2.2.0. However, we stumbled upon another issue about `java.io.FilePermission`. \nWe are using ESIntegTestCase for our unit tests, and it looks like it does not have the proper file permissions for our test directories. The only way we found so far to be able to run unit tests is to specify our own policy at runtime using -Djava.security.policy=my_policy.\n\nYou can find more information in my post on discuss: https://discuss.elastic.co/t/permission-denied-error-in-plugin-for-es-2-2-0/40915/4?u=renaud1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/181354175","html_url":"https://github.com/elastic/elasticsearch/issues/16459#issuecomment-181354175","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16459","id":181354175,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MTM1NDE3NQ==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-02-08T12:50:36Z","updated_at":"2016-02-08T12:50:36Z","author_association":"CONTRIBUTOR","body":"ok so there are several problems which are unrelated. Adding the right randoimized runner version should fix the problem for @wallecnik - can you check if it does? It's a bug we will have to fix in 2.2.1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/181354491","html_url":"https://github.com/elastic/elasticsearch/issues/16459#issuecomment-181354491","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16459","id":181354491,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MTM1NDQ5MQ==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-02-08T12:52:28Z","updated_at":"2016-02-08T12:52:28Z","author_association":"CONTRIBUTOR","body":"@rendel @wallecnik are you using our parent pom file? \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/181363437","html_url":"https://github.com/elastic/elasticsearch/issues/16459#issuecomment-181363437","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16459","id":181363437,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MTM2MzQzNw==","user":{"login":"rendel","id":4909531,"node_id":"MDQ6VXNlcjQ5MDk1MzE=","avatar_url":"https://avatars1.githubusercontent.com/u/4909531?v=4","gravatar_id":"","url":"https://api.github.com/users/rendel","html_url":"https://github.com/rendel","followers_url":"https://api.github.com/users/rendel/followers","following_url":"https://api.github.com/users/rendel/following{/other_user}","gists_url":"https://api.github.com/users/rendel/gists{/gist_id}","starred_url":"https://api.github.com/users/rendel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rendel/subscriptions","organizations_url":"https://api.github.com/users/rendel/orgs","repos_url":"https://api.github.com/users/rendel/repos","events_url":"https://api.github.com/users/rendel/events{/privacy}","received_events_url":"https://api.github.com/users/rendel/received_events","type":"User","site_admin":false},"created_at":"2016-02-08T13:16:38Z","updated_at":"2016-02-08T13:16:38Z","author_association":"CONTRIBUTOR","body":"@s1monw, after adding the elasticsearch parent pom:\n\n```\n  <parent>\n    <groupId>org.elasticsearch</groupId>\n    <artifactId>parent</artifactId>\n    <version>2.2.0</version>\n  </parent>\n```\n\nto our pom, we still have the same file permission error.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/181365534","html_url":"https://github.com/elastic/elasticsearch/issues/16459#issuecomment-181365534","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16459","id":181365534,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MTM2NTUzNA==","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2016-02-08T13:25:28Z","updated_at":"2016-02-08T13:25:28Z","author_association":"CONTRIBUTOR","body":"something isn't right with the maven build here i think. @dweiss gave me a simple repro.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/181380515","html_url":"https://github.com/elastic/elasticsearch/issues/16459#issuecomment-181380515","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16459","id":181380515,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MTM4MDUxNQ==","user":{"login":"dweiss","id":199470,"node_id":"MDQ6VXNlcjE5OTQ3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/199470?v=4","gravatar_id":"","url":"https://api.github.com/users/dweiss","html_url":"https://github.com/dweiss","followers_url":"https://api.github.com/users/dweiss/followers","following_url":"https://api.github.com/users/dweiss/following{/other_user}","gists_url":"https://api.github.com/users/dweiss/gists{/gist_id}","starred_url":"https://api.github.com/users/dweiss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dweiss/subscriptions","organizations_url":"https://api.github.com/users/dweiss/orgs","repos_url":"https://api.github.com/users/dweiss/repos","events_url":"https://api.github.com/users/dweiss/events{/privacy}","received_events_url":"https://api.github.com/users/dweiss/received_events","type":"User","site_admin":false},"created_at":"2016-02-08T13:56:00Z","updated_at":"2016-02-08T13:56:00Z","author_association":"CONTRIBUTOR","body":"Unfortunately I don't think this was related -- my problem was that the plugin used a custom assembly descriptor (Maven) which after upgrading to ES 2.2.0 didn't include the plugin's security policy, causing errors. A fix to include the security policy worked.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/181397817","html_url":"https://github.com/elastic/elasticsearch/issues/16459#issuecomment-181397817","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16459","id":181397817,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MTM5NzgxNw==","user":{"login":"rendel","id":4909531,"node_id":"MDQ6VXNlcjQ5MDk1MzE=","avatar_url":"https://avatars1.githubusercontent.com/u/4909531?v=4","gravatar_id":"","url":"https://api.github.com/users/rendel","html_url":"https://github.com/rendel","followers_url":"https://api.github.com/users/rendel/followers","following_url":"https://api.github.com/users/rendel/following{/other_user}","gists_url":"https://api.github.com/users/rendel/gists{/gist_id}","starred_url":"https://api.github.com/users/rendel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rendel/subscriptions","organizations_url":"https://api.github.com/users/rendel/orgs","repos_url":"https://api.github.com/users/rendel/repos","events_url":"https://api.github.com/users/rendel/events{/privacy}","received_events_url":"https://api.github.com/users/rendel/received_events","type":"User","site_admin":false},"created_at":"2016-02-08T14:35:02Z","updated_at":"2016-02-08T14:35:02Z","author_association":"CONTRIBUTOR","body":"I tried to reproduce the issue with a simple maven project, and I found that the cause was due to our custom `path.data` node setting (see below). Removing this custom setting fixed the `FilePermission` error.\n\n```\n  @Override\n  protected Settings nodeSettings(int nodeOrdinal) {\n    return settingsBuilder()\n      .put(\"path.data\", \"./target/elasticsearch-test/data/\")\n      .put(super.nodeSettings(nodeOrdinal)).build();\n  }\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/181400686","html_url":"https://github.com/elastic/elasticsearch/issues/16459#issuecomment-181400686","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16459","id":181400686,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MTQwMDY4Ng==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-02-08T14:41:14Z","updated_at":"2016-02-08T14:41:14Z","author_association":"CONTRIBUTOR","body":"@rendel thanks for clarifying!!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/181416542","html_url":"https://github.com/elastic/elasticsearch/issues/16459#issuecomment-181416542","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16459","id":181416542,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MTQxNjU0Mg==","user":{"login":"wallecnik","id":8803026,"node_id":"MDQ6VXNlcjg4MDMwMjY=","avatar_url":"https://avatars2.githubusercontent.com/u/8803026?v=4","gravatar_id":"","url":"https://api.github.com/users/wallecnik","html_url":"https://github.com/wallecnik","followers_url":"https://api.github.com/users/wallecnik/followers","following_url":"https://api.github.com/users/wallecnik/following{/other_user}","gists_url":"https://api.github.com/users/wallecnik/gists{/gist_id}","starred_url":"https://api.github.com/users/wallecnik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wallecnik/subscriptions","organizations_url":"https://api.github.com/users/wallecnik/orgs","repos_url":"https://api.github.com/users/wallecnik/repos","events_url":"https://api.github.com/users/wallecnik/events{/privacy}","received_events_url":"https://api.github.com/users/wallecnik/received_events","type":"User","site_admin":false},"created_at":"2016-02-08T15:06:07Z","updated_at":"2016-02-08T15:06:07Z","author_association":"NONE","body":"Adding the `randomizedtesting-runner:2.2.0` fixes the empty test as @s1monw asked. Thanks for that!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/181500010","html_url":"https://github.com/elastic/elasticsearch/issues/16459#issuecomment-181500010","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16459","id":181500010,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MTUwMDAxMA==","user":{"login":"andrejserafim","id":13505986,"node_id":"MDQ6VXNlcjEzNTA1OTg2","avatar_url":"https://avatars0.githubusercontent.com/u/13505986?v=4","gravatar_id":"","url":"https://api.github.com/users/andrejserafim","html_url":"https://github.com/andrejserafim","followers_url":"https://api.github.com/users/andrejserafim/followers","following_url":"https://api.github.com/users/andrejserafim/following{/other_user}","gists_url":"https://api.github.com/users/andrejserafim/gists{/gist_id}","starred_url":"https://api.github.com/users/andrejserafim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrejserafim/subscriptions","organizations_url":"https://api.github.com/users/andrejserafim/orgs","repos_url":"https://api.github.com/users/andrejserafim/repos","events_url":"https://api.github.com/users/andrejserafim/events{/privacy}","received_events_url":"https://api.github.com/users/andrejserafim/received_events","type":"User","site_admin":false},"created_at":"2016-02-08T18:00:45Z","updated_at":"2016-02-08T18:00:45Z","author_association":"CONTRIBUTOR","body":"Adding the `randomizedtesting-runner:2.2.0` does indeed fix the basic test. Thank you for that. \n\nHowever I'm still getting some proxy related security exceptions. Could you give me a hand with these?\n\nA repro:\n\n```\n@ESIntegTestCase.ClusterScope(scope = ESIntegTestCase.Scope.TEST, numDataNodes = 0)\npublic class AndrejTest extends ESIntegTestCase {\n    @Test\n    public void shouldPrintHello() throws Exception {\n        System.out.println(\"default proxy settings\" + ProxySelector.getDefault());\n    }\n}\n```\n\nException: \n\n```\njava.security.AccessControlException: access denied (\"java.net.NetPermission\" \"getProxySelector\")\n\n    at __randomizedtesting.SeedInfo.seed([FB4E16B7BA293FA:4AD43B0D357967E9]:0)\n    at java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\n    at java.security.AccessController.checkPermission(AccessController.java:884)\n    at java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\n    at java.net.ProxySelector.getDefault(ProxySelector.java:94)\n    at AndrejTest.shouldPrintHello(AndrejTest.java:10)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1660)\n    at com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:866)\n    at com.carrotsearch.randomizedtesting.RandomizedRunner$9.evaluate(RandomizedRunner.java:902)\n    at com.carrotsearch.randomizedtesting.RandomizedRunner$10.evaluate(RandomizedRunner.java:916)\n    at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n    at org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:50)\n    at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:46)\n    at org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:49)\n    at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:65)\n    at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:48)\n    at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n    at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:367)\n    at com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:809)\n    at com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:460)\n    at com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:875)\n    at com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:777)\n    at com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:811)\n    at com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:822)\n    at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:46)\n    at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n    at org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:42)\n    at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)\n    at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)\n    at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n    at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n    at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n    at org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:54)\n    at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:48)\n    at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:65)\n    at org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:55)\n    at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n    at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:367)\n    at java.lang.Thread.run(Thread.java:745)\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/181524376","html_url":"https://github.com/elastic/elasticsearch/issues/16459#issuecomment-181524376","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16459","id":181524376,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MTUyNDM3Ng==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-02-08T19:10:16Z","updated_at":"2016-02-08T19:10:16Z","author_association":"CONTRIBUTOR","body":"fixed by https://github.com/elastic/elasticsearch/commit/6fe88cee78c72fde021898eb79883c12edf07c3d\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/181524883","html_url":"https://github.com/elastic/elasticsearch/issues/16459#issuecomment-181524883","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16459","id":181524883,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MTUyNDg4Mw==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-02-08T19:11:28Z","updated_at":"2016-02-08T19:11:28Z","author_association":"CONTRIBUTOR","body":"@andrejserafim you can't just use arbitrary things in the ES test framework. If you are testing a plugin you have to give it the right permissions first.\n","performed_via_github_app":null}]