[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/329365385","html_url":"https://github.com/elastic/elasticsearch/issues/26636#issuecomment-329365385","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26636","id":329365385,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTM2NTM4NQ==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2017-09-14T04:11:28Z","updated_at":"2017-09-14T04:11:28Z","author_association":"MEMBER","body":"@tlrx this looks very GCE-specific and I am traveling until the end of the week. Could you take a look?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/330641610","html_url":"https://github.com/elastic/elasticsearch/issues/26636#issuecomment-330641610","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26636","id":330641610,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDY0MTYxMA==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2017-09-19T19:13:23Z","updated_at":"2017-09-19T19:13:23Z","author_association":"MEMBER","body":"According to google/google-http-java-client#333 the error message `insufficient data written` that we are seeing hides the real issue. It seems the situation was improved in google-http-java-client v1.24. We are still on 1.20.0, which is almost 2 years old. @tlrx, should we upgrade the plugin to the latest?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/330787810","html_url":"https://github.com/elastic/elasticsearch/issues/26636#issuecomment-330787810","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26636","id":330787810,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDc4NzgxMA==","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2017-09-20T08:49:29Z","updated_at":"2017-09-20T08:49:29Z","author_association":"MEMBER","body":"@imotov Sorry, I didn't manage to find the time to look at this. I think it makes sense to upgrade the dependency but we'll have to wait for 1.24 to be released.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/330905123","html_url":"https://github.com/elastic/elasticsearch/issues/26636#issuecomment-330905123","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26636","id":330905123,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDkwNTEyMw==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2017-09-20T16:20:56Z","updated_at":"2017-09-20T16:20:56Z","author_association":"MEMBER","body":"You are right, for some reason I thought they are already did, but it looks we will have to wait quite a bit. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/332002039","html_url":"https://github.com/elastic/elasticsearch/issues/26636#issuecomment-332002039","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26636","id":332002039,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjAwMjAzOQ==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2017-09-25T20:27:26Z","updated_at":"2017-09-25T20:27:26Z","author_association":"MEMBER","body":"@tlrx can you think of any way to move this thing forward besides waiting for 1.24 release? The patch was merged almost a year ago and it still didn't make it into any releases.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/332119260","html_url":"https://github.com/elastic/elasticsearch/issues/26636#issuecomment-332119260","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26636","id":332119260,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjExOTI2MA==","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2017-09-26T08:04:56Z","updated_at":"2017-09-26T08:04:56Z","author_association":"MEMBER","body":"@imotov They recently updated the development version of the lib so I asked [here](https://github.com/google/google-http-java-client/pull/369#issuecomment-332118856) if they will release 1.23 soon. Let's wait a bit for an answer, ok?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/341990323","html_url":"https://github.com/elastic/elasticsearch/issues/26636#issuecomment-341990323","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26636","id":341990323,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MTk5MDMyMw==","user":{"login":"bw2","id":6240170,"node_id":"MDQ6VXNlcjYyNDAxNzA=","avatar_url":"https://avatars1.githubusercontent.com/u/6240170?v=4","gravatar_id":"","url":"https://api.github.com/users/bw2","html_url":"https://github.com/bw2","followers_url":"https://api.github.com/users/bw2/followers","following_url":"https://api.github.com/users/bw2/following{/other_user}","gists_url":"https://api.github.com/users/bw2/gists{/gist_id}","starred_url":"https://api.github.com/users/bw2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bw2/subscriptions","organizations_url":"https://api.github.com/users/bw2/orgs","repos_url":"https://api.github.com/users/bw2/repos","events_url":"https://api.github.com/users/bw2/events{/privacy}","received_events_url":"https://api.github.com/users/bw2/received_events","type":"User","site_admin":false},"created_at":"2017-11-05T17:32:38Z","updated_at":"2017-11-06T13:49:26Z","author_association":"NONE","body":"I'm currently also blocked by this. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/341991240","html_url":"https://github.com/elastic/elasticsearch/issues/26636#issuecomment-341991240","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26636","id":341991240,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MTk5MTI0MA==","user":{"login":"bw2","id":6240170,"node_id":"MDQ6VXNlcjYyNDAxNzA=","avatar_url":"https://avatars1.githubusercontent.com/u/6240170?v=4","gravatar_id":"","url":"https://api.github.com/users/bw2","html_url":"https://github.com/bw2","followers_url":"https://api.github.com/users/bw2/followers","following_url":"https://api.github.com/users/bw2/following{/other_user}","gists_url":"https://api.github.com/users/bw2/gists{/gist_id}","starred_url":"https://api.github.com/users/bw2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bw2/subscriptions","organizations_url":"https://api.github.com/users/bw2/orgs","repos_url":"https://api.github.com/users/bw2/repos","events_url":"https://api.github.com/users/bw2/events{/privacy}","received_events_url":"https://api.github.com/users/bw2/received_events","type":"User","site_admin":false},"created_at":"2017-11-05T17:45:31Z","updated_at":"2017-11-05T17:45:31Z","author_association":"NONE","body":"Using the following jar versions\r\n\r\nbash-4.3# ls -1 repository-gcs/\r\ncommons-codec-1.10.jar\r\ncommons-logging-1.1.3.jar\r\ngoogle-api-client-1.21.0.jar\r\ngoogle-api-services-storage-v1-rev66-1.21.0.jar\r\ngoogle-http-client-1.21.0.jar\r\ngoogle-http-client-jackson2-1.21.0.jar\r\ngoogle-oauth-client-1.21.0.jar\r\nhttpclient-4.5.2.jar\r\nhttpcore-4.4.5.jar\r\nrepository-gcs-5.6.3.jar\r\n...\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/342169804","html_url":"https://github.com/elastic/elasticsearch/issues/26636#issuecomment-342169804","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26636","id":342169804,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjE2OTgwNA==","user":{"login":"bw2","id":6240170,"node_id":"MDQ6VXNlcjYyNDAxNzA=","avatar_url":"https://avatars1.githubusercontent.com/u/6240170?v=4","gravatar_id":"","url":"https://api.github.com/users/bw2","html_url":"https://github.com/bw2","followers_url":"https://api.github.com/users/bw2/followers","following_url":"https://api.github.com/users/bw2/following{/other_user}","gists_url":"https://api.github.com/users/bw2/gists{/gist_id}","starred_url":"https://api.github.com/users/bw2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bw2/subscriptions","organizations_url":"https://api.github.com/users/bw2/orgs","repos_url":"https://api.github.com/users/bw2/repos","events_url":"https://api.github.com/users/bw2/events{/privacy}","received_events_url":"https://api.github.com/users/bw2/received_events","type":"User","site_admin":false},"created_at":"2017-11-06T14:45:58Z","updated_at":"2017-11-07T01:07:24Z","author_association":"NONE","body":"Increasing `max_snapshot_bytes_per_sec` as below seems to improve % of successful shards in snapshot, but I still get the error for 1 or 2 shards on large indices (300gb+):\r\n```\r\nbody = {\r\n            \"type\": \"gcs\",\r\n            \"settings\": {\r\n                \"bucket\": bucket,\r\n                \"base_path\": base_path,\r\n                \"compress\": True,\r\n                \"chunk_size\": \"100mb\",\r\n                \"max_snapshot_bytes_per_sec\": \"1tb\",\r\n            }\r\n        }\r\nes.snapshot.create_repository(repository=snapshot_repo, body=body)\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/344616237","html_url":"https://github.com/elastic/elasticsearch/issues/26636#issuecomment-344616237","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26636","id":344616237,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDYxNjIzNw==","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2017-11-15T14:53:14Z","updated_at":"2017-11-15T14:53:14Z","author_association":"MEMBER","body":"Thanks @bw2 and @hoffoo for your feedback.\r\n\r\nA new version (1.23.0) of google-http-client has been released in October 2017. I updated the versions used in the `repository-gcs` and  `discovery-gce` plugins in #27381. This `1.23.0` version includes the change google/google-http-java-client#333 so the underlying exception should bubble up instead of being hidden by the `insufficient data written` exception.\r\n\r\nAt that stage, I suggest to close this issue for now and to wait for more tests and feedback on plugins that use the new version of google-http-java-client. This will be released in Elasticsearch 6.0.1 (and potentially in 5.6.5 if this version is released).\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/344623157","html_url":"https://github.com/elastic/elasticsearch/issues/26636#issuecomment-344623157","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26636","id":344623157,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDYyMzE1Nw==","user":{"login":"bw2","id":6240170,"node_id":"MDQ6VXNlcjYyNDAxNzA=","avatar_url":"https://avatars1.githubusercontent.com/u/6240170?v=4","gravatar_id":"","url":"https://api.github.com/users/bw2","html_url":"https://github.com/bw2","followers_url":"https://api.github.com/users/bw2/followers","following_url":"https://api.github.com/users/bw2/following{/other_user}","gists_url":"https://api.github.com/users/bw2/gists{/gist_id}","starred_url":"https://api.github.com/users/bw2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bw2/subscriptions","organizations_url":"https://api.github.com/users/bw2/orgs","repos_url":"https://api.github.com/users/bw2/repos","events_url":"https://api.github.com/users/bw2/events{/privacy}","received_events_url":"https://api.github.com/users/bw2/received_events","type":"User","site_admin":false},"created_at":"2017-11-15T15:14:21Z","updated_at":"2017-11-15T15:14:21Z","author_association":"NONE","body":"Thanks @tlrx ","performed_via_github_app":null}]