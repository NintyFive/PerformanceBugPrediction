[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/88385502","html_url":"https://github.com/elastic/elasticsearch/issues/10150#issuecomment-88385502","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10150","id":88385502,"node_id":"MDEyOklzc3VlQ29tbWVudDg4Mzg1NTAy","user":{"login":"micpalmia","id":663003,"node_id":"MDQ6VXNlcjY2MzAwMw==","avatar_url":"https://avatars1.githubusercontent.com/u/663003?v=4","gravatar_id":"","url":"https://api.github.com/users/micpalmia","html_url":"https://github.com/micpalmia","followers_url":"https://api.github.com/users/micpalmia/followers","following_url":"https://api.github.com/users/micpalmia/following{/other_user}","gists_url":"https://api.github.com/users/micpalmia/gists{/gist_id}","starred_url":"https://api.github.com/users/micpalmia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/micpalmia/subscriptions","organizations_url":"https://api.github.com/users/micpalmia/orgs","repos_url":"https://api.github.com/users/micpalmia/repos","events_url":"https://api.github.com/users/micpalmia/events{/privacy}","received_events_url":"https://api.github.com/users/micpalmia/received_events","type":"User","site_admin":false},"created_at":"2015-04-01T08:01:44Z","updated_at":"2015-04-01T08:01:57Z","author_association":"CONTRIBUTOR","body":"I'm also noticing a (very) weird behavior of `cutoff_frequency` with `multi_match` queries. Any updates on this?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/88820552","html_url":"https://github.com/elastic/elasticsearch/issues/10150#issuecomment-88820552","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10150","id":88820552,"node_id":"MDEyOklzc3VlQ29tbWVudDg4ODIwNTUy","user":{"login":"MaineC","id":70953,"node_id":"MDQ6VXNlcjcwOTUz","avatar_url":"https://avatars3.githubusercontent.com/u/70953?v=4","gravatar_id":"","url":"https://api.github.com/users/MaineC","html_url":"https://github.com/MaineC","followers_url":"https://api.github.com/users/MaineC/followers","following_url":"https://api.github.com/users/MaineC/following{/other_user}","gists_url":"https://api.github.com/users/MaineC/gists{/gist_id}","starred_url":"https://api.github.com/users/MaineC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaineC/subscriptions","organizations_url":"https://api.github.com/users/MaineC/orgs","repos_url":"https://api.github.com/users/MaineC/repos","events_url":"https://api.github.com/users/MaineC/events{/privacy}","received_events_url":"https://api.github.com/users/MaineC/received_events","type":"User","site_admin":false},"created_at":"2015-04-02T08:20:16Z","updated_at":"2015-04-02T08:20:16Z","author_association":"CONTRIBUTOR","body":"This looks related to #10154 - @micpalmia do you only see weird behaviour in multi-match queries or also in plain match queries?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/89792903","html_url":"https://github.com/elastic/elasticsearch/issues/10150#issuecomment-89792903","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10150","id":89792903,"node_id":"MDEyOklzc3VlQ29tbWVudDg5NzkyOTAz","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-04-05T15:30:51Z","updated_at":"2015-04-05T15:30:51Z","author_association":"CONTRIBUTOR","body":"Hi @szou-cp \n\nLet's reduce the complexity of your example by (1) reducing the number of fields involved (because we don't know what is happening in those other fields), (2) reducing the number of shards involved (because the cutoff frequency is per shard, not per index, see https://www.elastic.co/guide/en/elasticsearch/guide/current/relevance-is-broken.html) and (3) working with a finite set of docs with known term overlaps:\n\n```\nDELETE t\n\nPUT t \n{\n  \"settings\": {\n    \"number_of_shards\": 1\n  }\n}\n\nPOST t/t/_bulk\n{\"index\":{}}\n{ \"text\": \"cat and mouse\"}\n{\"index\":{}}\n{ \"text\": \"cat and dog\"}\n{\"index\":{}}\n{ \"text\": \"dog and mouse\"}\n{\"index\":{}}\n{ \"text\": \"dog and mouse\"}\n{\"index\":{}}\n{ \"text\": \"dog and mouse\"}\n\nGET t/_search\n{\n  \"query\": {\n    \"match\": {\n      \"text\": {\n        \"query\": \"cat and mouse\",\n        \"minimum_should_match\": \"100%\",\n        \"cutoff_frequency\": 0.60\n      }\n    }\n  }\n}\n```\n\nBy playing with `cutoff_frequency` you can see that its behaviour works exactly as expected (except that `mouse` seems to move from high frequency to low frequency at a cutoff of 0.6, instead of at 0.8 (which is what I'd expect)\n\nAdd `?explain'  to the search request to get more detailed info about how the query executes.\n\nThis just leaves me with the question of why the cutoff frequency doesn't seem to be exact, unless you can show something else which appears to be incorrect?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/96429359","html_url":"https://github.com/elastic/elasticsearch/issues/10150#issuecomment-96429359","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10150","id":96429359,"node_id":"MDEyOklzc3VlQ29tbWVudDk2NDI5MzU5","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-04-26T20:05:27Z","updated_at":"2015-04-26T20:05:27Z","author_association":"CONTRIBUTOR","body":"No more info. Closing\n","performed_via_github_app":null}]