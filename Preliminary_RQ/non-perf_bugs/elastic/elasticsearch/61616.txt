{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/61616","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61616/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61616/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61616/events","html_url":"https://github.com/elastic/elasticsearch/issues/61616","id":686983336,"node_id":"MDU6SXNzdWU2ODY5ODMzMzY=","number":61616,"title":"[CI] OOM in FIPS Build","user":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"labels":[{"id":912838879,"node_id":"MDU6TGFiZWw5MTI4Mzg4Nzk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Security/Security","name":":Security/Security","color":"0e8a16","default":false,"description":"Security issues without another label"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"},{"id":1967499607,"node_id":"MDU6TGFiZWwxOTY3NDk5NjA3","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Security","name":"Team:Security","color":"fef2c0","default":false,"description":"Meta label for security team"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-08-27T06:35:03Z","updated_at":"2020-09-02T15:07:03Z","closed_at":"2020-09-02T15:07:02Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Build scan**: No build scan, only Jenkins ðŸ˜¿ \r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.x+matrix-java-periodic-fips/ES_RUNTIME_JAVA=zulu8,nodes=general-purpose/185/console\r\n\r\n**Applicable branches**: 7.x\r\n\r\n**Failure excerpt**:\r\n```\r\n13:21:02 > Task :qa:repository-multi-version:v7.9.1#Step4NewClusterTest\r\n13:21:02 Picked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF8\r\n13:21:03 java.lang.OutOfMemoryError: Java heap space\r\n13:21:03 Dumping heap to java_pid2279.hprof ...\r\n13:21:05 Heap dump file created [172357789 bytes in 1.960 secs]\r\n13:21:09 \r\n13:21:09 Exception: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread \"pool-1-thread-1\"\r\n13:21:16 \r\n13:21:16 Exception: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread \"main\"\r\n13:21:19 runbld>>> <<<<<<<<<<<< SCRIPT EXECUTION END <<<<<<<<<<<<\r\n```\r\n\r\nUnfortunately the GCS artifact seems to be corrupt, so I don't have much in the way of details.\r\n\r\nThere were some reproduction lines along the way:\r\n```\r\n./gradlew ':x-pack:plugin:security:test' --tests \"org.elasticsearch.xpack.security.authz.WriteActionsTests.testBulk\" -Dtests.seed=62FD7D15ED921BE8 -Dtests.security.manager=true -Dtests.locale=en-IN -Dtests.timezone=BET -Druntime.java=8 -Dtests.fips.enabled=true\r\n```\r\n\r\nand a lot of errors reported as\r\n```\r\n13:21:00   1> io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: No available authentication scheme\r\n13:21:00   1> \tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:471) ~[netty-codec-4.1.49.Final.jar:4.1.49.Final]\r\n13:21:00   1> \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276) ~[netty-codec-4.1.49.Final.jar:4.1.49.Final]\r\n13:21:00   1> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.49.Final.jar:4.1.49.Final]\r\n13:21:00   1> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.49.Final.jar:4.1.49.Final]\r\n13:21:00   1> \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357) [netty-transport-4.1.49.Final.jar:4.1.49.Final]\r\n13:21:00   1> \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410) [netty-transport-4.1.49.Final.jar:4.1.49.Final]\r\n13:21:00   1> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379) [netty-transport-4.1.49.Final.jar:4.1.49.Final]\r\n13:21:00   1> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365) [netty-transport-4.1.49.Final.jar:4.1.49.Final]\r\n13:21:00   1> \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919) [netty-transport-4.1.49.Final.jar:4.1.49.Final]\r\n13:21:00   1> \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163) [netty-transport-4.1.49.Final.jar:4.1.49.Final]\r\n13:21:00   1> \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714) [netty-transport-4.1.49.Final.jar:4.1.49.Final]\r\n13:21:00   1> \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:615) [netty-transport-4.1.49.Final.jar:4.1.49.Final]\r\n13:21:00   1> \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:578) [netty-transport-4.1.49.Final.jar:4.1.49.Final]\r\n13:21:00   1> \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493) [netty-transport-4.1.49.Final.jar:4.1.49.Final]\r\n13:21:00   1> \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989) [netty-common-4.1.49.Final.jar:4.1.49.Final]\r\n13:21:00   1> \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) [netty-common-4.1.49.Final.jar:4.1.49.Final]\r\n13:21:00   1> \tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_265]\r\n13:21:00   1> Caused by: javax.net.ssl.SSLHandshakeException: No available authentication scheme \r\n```\r\n","closed_by":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"performed_via_github_app":null}