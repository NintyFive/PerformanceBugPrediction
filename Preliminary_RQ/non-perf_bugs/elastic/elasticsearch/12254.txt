{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/12254","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12254/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12254/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12254/events","html_url":"https://github.com/elastic/elasticsearch/issues/12254","id":95101300,"node_id":"MDU6SXNzdWU5NTEwMTMwMA==","number":12254,"title":"Index warmer does not execute function score script","user":{"login":"ppf2","id":7216393,"node_id":"MDQ6VXNlcjcyMTYzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/7216393?v=4","gravatar_id":"","url":"https://api.github.com/users/ppf2","html_url":"https://github.com/ppf2","followers_url":"https://api.github.com/users/ppf2/followers","following_url":"https://api.github.com/users/ppf2/following{/other_user}","gists_url":"https://api.github.com/users/ppf2/gists{/gist_id}","starred_url":"https://api.github.com/users/ppf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppf2/subscriptions","organizations_url":"https://api.github.com/users/ppf2/orgs","repos_url":"https://api.github.com/users/ppf2/repos","events_url":"https://api.github.com/users/ppf2/events{/privacy}","received_events_url":"https://api.github.com/users/ppf2/received_events","type":"User","site_admin":false},"labels":[{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2015-07-15T04:09:39Z","updated_at":"2016-01-10T19:05:52Z","closed_at":"2016-01-10T19:05:52Z","author_association":"MEMBER","active_lock_reason":null,"body":"Repro here (https://gist.github.com/ppf2/63e19e4ede49a6ff89ba).\n\nIn short, when a function score query with a script is added to the index warmer, the warmer itself fires (I can confirm via index.warmer at trace level) but it does not execute the script.  If I run the same query directly, it does fire the script.  Script filters' script does fire when added to the index warmer.  \n\nFrom a scoring point of view, it may not make sense to run it via the warmer, though I have the impression that we also try to cache the script for faster subsequent executions which makes me wonder if it will still help to run the script as part of the warmer.  Either way, would be nice to know more about how it works :)\n\nNot sure if the behavior is expected (if so, can we document it?) \n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}