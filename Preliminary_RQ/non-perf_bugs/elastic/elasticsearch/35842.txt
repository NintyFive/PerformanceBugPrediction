{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/35842","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35842/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35842/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35842/events","html_url":"https://github.com/elastic/elasticsearch/issues/35842","id":383675696,"node_id":"MDU6SXNzdWUzODM2NzU2OTY=","number":35842,"title":"[Feature Request][Nori ] Add custom dictionary terms on index setting.","user":{"login":"kimjmin","id":4598473,"node_id":"MDQ6VXNlcjQ1OTg0NzM=","avatar_url":"https://avatars0.githubusercontent.com/u/4598473?v=4","gravatar_id":"","url":"https://api.github.com/users/kimjmin","html_url":"https://github.com/kimjmin","followers_url":"https://api.github.com/users/kimjmin/followers","following_url":"https://api.github.com/users/kimjmin/following{/other_user}","gists_url":"https://api.github.com/users/kimjmin/gists{/gist_id}","starred_url":"https://api.github.com/users/kimjmin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimjmin/subscriptions","organizations_url":"https://api.github.com/users/kimjmin/orgs","repos_url":"https://api.github.com/users/kimjmin/repos","events_url":"https://api.github.com/users/kimjmin/events{/privacy}","received_events_url":"https://api.github.com/users/kimjmin/received_events","type":"User","site_admin":false},"labels":[{"id":142001965,"node_id":"MDU6TGFiZWwxNDIwMDE5NjU=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Analysis","name":":Search/Analysis","color":"0e8a16","default":false,"description":"How text is split into tokens"},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"assignees":[{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2018-11-23T00:08:09Z","updated_at":"2018-12-07T14:26:09Z","closed_at":"2018-12-07T14:26:09Z","author_association":"MEMBER","active_lock_reason":null,"body":"<!-- Feature request -->\r\n\r\n**Describe the feature**:\r\n\r\nCurrently to use custom dictionary in Nori, only way is saving dictionary in file and set it's path on index/_settings/index/analysis.\r\nhttps://www.elastic.co/guide/en/elasticsearch/plugins/current/analysis-nori-tokenizer.html\r\n\r\n```\r\nPUT nori_sample\r\n{\r\n  \"settings\": {\r\n    \"index\": {\r\n      \"analysis\": {\r\n        \"tokenizer\": {\r\n          \"nori_user_dict\": {\r\n            \"type\": \"nori_tokenizer\",\r\n            \"decompound_mode\": \"mixed\",\r\n            \"user_dictionary\": \"userdict_ko.txt\"\r\n          }\r\n        },\r\n        \"analyzer\": {\r\n          \"my_analyzer\": {\r\n            \"type\": \"custom\",\r\n            \"tokenizer\": \"nori_user_dict\"\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nUnfortunately, there is no way for users who are using Elastic Cloud or ECE to add custom dictionary on their elasticsearch cluster. For Elastic Cloud, custom plugin menu can be used for file upload, but it is effective only when create cluster, which means can be refreshed on production system.\r\n\r\nFor synonym token filter, there is feature that user can add customer's dictionary on index setting. \r\nhttps://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-synonym-tokenfilter.html\r\n```\r\nPUT /test_index\r\n{\r\n    \"settings\": {\r\n        \"index\" : {\r\n            \"analysis\" : {\r\n                \"analyzer\" : {\r\n                    \"synonym\" : {\r\n                        \"tokenizer\" : \"standard\",\r\n                        \"filter\" : [\"my_stop\", \"synonym\"]\r\n                    }\r\n                },\r\n                \"filter\" : {\r\n                        \"my_stop\": {\r\n                                \"type\" : \"stop\",\r\n                                \"stopwords\": [\"bar\"]\r\n                        },\r\n                    \"synonym\" : {\r\n                        \"type\" : \"synonym\",\r\n                        \"lenient\": true,\r\n                        \"synonyms\" : [\"foo, bar => baz\"]\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWe need to add this kind of setting functionally on Nori (and also other analysis plugins if needed) so users on Elastic Cloud environment can use custom dictionary on their search use-cases.","closed_by":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"performed_via_github_app":null}