{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/65114","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/65114/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/65114/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/65114/events","html_url":"https://github.com/elastic/elasticsearch/issues/65114","id":744448559,"node_id":"MDU6SXNzdWU3NDQ0NDg1NTk=","number":65114,"title":"Multiple shards are giving different results on same query","user":{"login":"Alishma","id":71380314,"node_id":"MDQ6VXNlcjcxMzgwMzE0","avatar_url":"https://avatars0.githubusercontent.com/u/71380314?v=4","gravatar_id":"","url":"https://api.github.com/users/Alishma","html_url":"https://github.com/Alishma","followers_url":"https://api.github.com/users/Alishma/followers","following_url":"https://api.github.com/users/Alishma/following{/other_user}","gists_url":"https://api.github.com/users/Alishma/gists{/gist_id}","starred_url":"https://api.github.com/users/Alishma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Alishma/subscriptions","organizations_url":"https://api.github.com/users/Alishma/orgs","repos_url":"https://api.github.com/users/Alishma/repos","events_url":"https://api.github.com/users/Alishma/events{/privacy}","received_events_url":"https://api.github.com/users/Alishma/received_events","type":"User","site_admin":false},"labels":[{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":2042400575,"node_id":"MDU6TGFiZWwyMDQyNDAwNTc1","url":"https://api.github.com/repos/elastic/elasticsearch/labels/needs:triage","name":"needs:triage","color":"c5def5","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-11-17T06:21:39Z","updated_at":"2020-11-17T09:36:33Z","closed_at":"2020-11-17T09:36:33Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\r\n\r\n**Setup**\r\n\r\nFallowing is my ES setup.\r\n\r\n- Using Elastic Cloud\r\n- Have 3 shard with 3 replicas\r\n- Size is 5 GB(3.2 millions documents)\r\n\r\n**Problem Statement**\r\n\r\nWhile performing the wildcard search, its giving a different result each time. I believe that the search is going to different shards and giving the fastest result first(score is same) .\r\n\r\nIf\r\n\r\n1. I make my index with single shard instead of 3 shards for 3.2 million records(5 GB), will it impact the performance?\r\nor\r\n\r\n2. What is the other best way to query multiple shards with the same result all the time with faster response time (not the priority).\r\n\r\n**PS** \r\nI've gone through the below article and I didn't get clear idea.\r\n\r\nhttps://www.elastic.co/guide/en/elasticsearch/reference/6.8/search-request-preference.html\r\n\r\nhttps://www.elastic.co/guide/en/elasticsearch/reference/current/size-your-shards.html\r\n\r\nThanks in advance.","closed_by":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"performed_via_github_app":null}