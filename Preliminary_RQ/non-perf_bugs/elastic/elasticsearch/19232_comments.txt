[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/230174336","html_url":"https://github.com/elastic/elasticsearch/issues/19232#issuecomment-230174336","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19232","id":230174336,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMDE3NDMzNg==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-07-03T20:44:38Z","updated_at":"2016-07-03T20:45:07Z","author_association":"CONTRIBUTOR","body":"I agree the 2nd way makes more sense.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/230642870","html_url":"https://github.com/elastic/elasticsearch/issues/19232#issuecomment-230642870","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19232","id":230642870,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMDY0Mjg3MA==","user":{"login":"markwalkom","id":3184718,"node_id":"MDQ6VXNlcjMxODQ3MTg=","avatar_url":"https://avatars0.githubusercontent.com/u/3184718?v=4","gravatar_id":"","url":"https://api.github.com/users/markwalkom","html_url":"https://github.com/markwalkom","followers_url":"https://api.github.com/users/markwalkom/followers","following_url":"https://api.github.com/users/markwalkom/following{/other_user}","gists_url":"https://api.github.com/users/markwalkom/gists{/gist_id}","starred_url":"https://api.github.com/users/markwalkom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markwalkom/subscriptions","organizations_url":"https://api.github.com/users/markwalkom/orgs","repos_url":"https://api.github.com/users/markwalkom/repos","events_url":"https://api.github.com/users/markwalkom/events{/privacy}","received_events_url":"https://api.github.com/users/markwalkom/received_events","type":"User","site_admin":false},"created_at":"2016-07-06T00:40:25Z","updated_at":"2016-07-06T00:40:25Z","author_association":"MEMBER","body":"Any other feedback, this should be an easy fix.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/230756652","html_url":"https://github.com/elastic/elasticsearch/issues/19232#issuecomment-230756652","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19232","id":230756652,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMDc1NjY1Mg==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-07-06T12:26:06Z","updated_at":"2016-07-06T12:26:06Z","author_association":"CONTRIBUTOR","body":"Actually, the existing format is correct.  We're looking for indices where the earliest creation_date is the same or after 2014-01-01  and the latest creation_date is before 2015-01-01.\n\nHere's an example which demonstrates that this is correct:\n\n```\nPUT 2014-01/t/1\n{\n  \"date\": \"2014/01/01\"\n}\n\nPUT 2014-02/t/1\n{\n  \"date\": \"2014/02/01\"\n}\n\nPUT 2014-03/t/1\n{\n  \"date\": \"2014/03/01\"\n}\n\nPUT 2014-04/t/1\n{\n  \"date\": \"2014/04/01\"\n}\n\nPUT 2014-05/t/1\n{\n  \"date\": \"2014/05/01\"\n}\n\nPUT 2014-06/t/1\n{\n  \"date\": \"2014/06/01\"\n}\n\nGET 2014*/_field_stats?level=indices\n{\n  \"fields\": [\n    \"date\"\n  ],\n  \"index_constraints\": {\n    \"date\": {\n      \"min_value\": {\n        \"gte\": \"2014/03/01\",\n        \"format\": \"yyyy/MM/dd\"\n      },\n      \"max_value\": {\n        \"lt\": \"2014/06/01\",\n        \"format\": \"yyyy/MM/dd\"\n      }\n    }\n  }\n}\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/230908973","html_url":"https://github.com/elastic/elasticsearch/issues/19232#issuecomment-230908973","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19232","id":230908973,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMDkwODk3Mw==","user":{"login":"markwalkom","id":3184718,"node_id":"MDQ6VXNlcjMxODQ3MTg=","avatar_url":"https://avatars0.githubusercontent.com/u/3184718?v=4","gravatar_id":"","url":"https://api.github.com/users/markwalkom","html_url":"https://github.com/markwalkom","followers_url":"https://api.github.com/users/markwalkom/followers","following_url":"https://api.github.com/users/markwalkom/following{/other_user}","gists_url":"https://api.github.com/users/markwalkom/gists{/gist_id}","starred_url":"https://api.github.com/users/markwalkom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markwalkom/subscriptions","organizations_url":"https://api.github.com/users/markwalkom/orgs","repos_url":"https://api.github.com/users/markwalkom/repos","events_url":"https://api.github.com/users/markwalkom/events{/privacy}","received_events_url":"https://api.github.com/users/markwalkom/received_events","type":"User","site_admin":false},"created_at":"2016-07-06T21:14:30Z","updated_at":"2016-07-06T21:14:30Z","author_association":"MEMBER","body":"Yeah, after I re-read it a few times it makes more sense. As does your example.\nThanks :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/230959786","html_url":"https://github.com/elastic/elasticsearch/issues/19232#issuecomment-230959786","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19232","id":230959786,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMDk1OTc4Ng==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-07-07T02:03:45Z","updated_at":"2016-07-07T02:03:45Z","author_association":"MEMBER","body":"I think what people want to know is which indices are relevant to a certain period. Since all index constraints need to be matched, the version posted will return indices that are fully contained within the requested period. However, if indices are partially overlapping that period, they will not be returned. Here is a little tweak that demonstrates this (note the extra doc in the 2014-06 index):\n\n```\nPUT 2014-01/t/1\n{\n  \"date\": \"2014/01/01\"\n}\n\n\nPUT 2014-02/t/1\n{\n  \"date\": \"2014/02/01\"\n}\n\nPUT 2014-03/t/1\n{\n  \"date\": \"2014/03/01\"\n}\n\nPUT 2014-04/t/1\n{\n  \"date\": \"2014/04/01\"\n}\n\nPUT 2014-05/t/1\n{\n  \"date\": \"2014/05/01\"\n}\n\nPUT 2014-06/t/1\n{\n  \"date\": \"2014/06/01\"\n}\n\nPUT 2014-06/t/1\n{\n  \"date\": \"2014/06/10\"\n}\n\nPUT 2014-07/t/1\n{\n  \"date\": \"2014/07/10\"\n}\n\n## doesn't return 2014-06\nGET 2014*/_field_stats?level=indices&filter_path=*.*.fields.date.doc_count\n{\n  \"fields\": [\n    \"date\"\n  ],\n  \"index_constraints\": {\n    \"date\": {\n      \"min_value\": {\n        \"gte\": \"2014/03/01\",\n        \"format\": \"yyyy/MM/dd\"\n      },\n      \"max_value\": {\n        \"lt\": \"2014/06/03\",\n        \"format\": \"yyyy/MM/dd\"\n      }\n    }\n  }\n}\n\n## does return 2014-06\nGET 2014*/_field_stats?level=indices&filter_path=*.*.fields.date.doc_count\n{\n  \"fields\": [\n    \"date\"\n  ],\n  \"index_constraints\": {\n    \"date\": {\n      \"max_value\": {\n        \"gte\": \"2014/03/01\",\n        \"format\": \"yyyy/MM/dd\"\n      },\n      \"min_value\": {\n        \"lt\": \"2014/06/03\",\n        \"format\": \"yyyy/MM/dd\"\n      }\n    }\n  }\n}\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/231068741","html_url":"https://github.com/elastic/elasticsearch/issues/19232#issuecomment-231068741","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19232","id":231068741,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMTA2ODc0MQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-07-07T12:54:01Z","updated_at":"2016-07-07T12:54:08Z","author_association":"CONTRIBUTOR","body":"@bleskes nice one.. will fix\n","performed_via_github_app":null}]