{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/3310","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3310/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3310/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3310/events","html_url":"https://github.com/elastic/elasticsearch/issues/3310","id":16575219,"node_id":"MDU6SXNzdWUxNjU3NTIxOQ==","number":3310,"title":"geo_shape null geometry","user":{"login":"jillesvangurp","id":819187,"node_id":"MDQ6VXNlcjgxOTE4Nw==","avatar_url":"https://avatars2.githubusercontent.com/u/819187?v=4","gravatar_id":"","url":"https://api.github.com/users/jillesvangurp","html_url":"https://github.com/jillesvangurp","followers_url":"https://api.github.com/users/jillesvangurp/followers","following_url":"https://api.github.com/users/jillesvangurp/following{/other_user}","gists_url":"https://api.github.com/users/jillesvangurp/gists{/gist_id}","starred_url":"https://api.github.com/users/jillesvangurp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jillesvangurp/subscriptions","organizations_url":"https://api.github.com/users/jillesvangurp/orgs","repos_url":"https://api.github.com/users/jillesvangurp/repos","events_url":"https://api.github.com/users/jillesvangurp/events{/privacy}","received_events_url":"https://api.github.com/users/jillesvangurp/received_events","type":"User","site_admin":false},"labels":[{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":37906111,"node_id":"MDU6TGFiZWwzNzkwNjExMQ==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v1.0.0.Beta1","name":"v1.0.0.Beta1","color":"DDDDDD","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2013-07-10T12:45:31Z","updated_at":"2015-03-10T18:37:10Z","closed_at":"2013-07-16T10:52:37Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"I have a geojson file generated using ogr2ogr from a shape file.Unfortunately some of the geometry objects are null but I still want to index the other meta data. Currently I get a parse error on these documents because the geo_shape parser is not handling json nulls. I think it would be nicer to not fail and simply not index the geo_shape field for those fields. Would it be possible to fix this?\n\nHere's a sample document. It fails on the geometry field (which is mapped to geo_shape). The error I get is: MapperParsingException[failed to parse [geometry]]; nested: ElasticSearchParseException[Shape must be an object consisting of type and coordinates];\n\n{ \"type\": \"Feature\", \"properties\": { \"name\": \"吉井町宮田\", \"qs_id\": 856730, \"gn_id\": null, \"woe_id\": 28484701, \"gn_id_eh\": null, \"woe_id_eh\": null, \"gn_name\": null, \"gn_ascii\": null, \"gn_country\": null, \"gn_admin1\": null, \"gn_admin2\": null, \"gn_pop\": null, \"gn_fclass\": null, \"gn_fcode\": null, \"woe_name\": \"吉井町宮田\", \"woe_nameen\": null, \"placetype\": \"LocalAdmin\", \"iso\": \"JP\", \"language\": \"JPN\", \"parent_id\": 28379393, \"woe_local\": 28379393, \"woe_lau\": 28484701, \"woe_adm2\": 0, \"woe_adm1\": 58646425, \"woe_adm0\": 23424856, \"name_local\": \"うきは市\", \"name_lau\": \"吉井町宮田\", \"name_adm2\": null, \"name_adm1\": \"福岡県\", \"name_adm0\": \"日本\", \"gns_id\": null, \"accuracy\": null, \"matchtype\": null, \"geom_qual\": null, \"woe_funk\": null, \"photos\": null, \"photos_all\": null, \"woemembers\": null, \"photos_1k\": null, \"photos_9k\": null, \"photos_sr\": 0, \"photos_9r\": 0, \"pop_sr\": 0 }, \"geometry\": null }\n","closed_by":{"login":"chilling","id":2590333,"node_id":"MDQ6VXNlcjI1OTAzMzM=","avatar_url":"https://avatars2.githubusercontent.com/u/2590333?v=4","gravatar_id":"","url":"https://api.github.com/users/chilling","html_url":"https://github.com/chilling","followers_url":"https://api.github.com/users/chilling/followers","following_url":"https://api.github.com/users/chilling/following{/other_user}","gists_url":"https://api.github.com/users/chilling/gists{/gist_id}","starred_url":"https://api.github.com/users/chilling/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chilling/subscriptions","organizations_url":"https://api.github.com/users/chilling/orgs","repos_url":"https://api.github.com/users/chilling/repos","events_url":"https://api.github.com/users/chilling/events{/privacy}","received_events_url":"https://api.github.com/users/chilling/received_events","type":"User","site_admin":false},"performed_via_github_app":null}