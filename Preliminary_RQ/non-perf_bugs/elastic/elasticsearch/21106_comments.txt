[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/258622868","html_url":"https://github.com/elastic/elasticsearch/issues/21106#issuecomment-258622868","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21106","id":258622868,"node_id":"MDEyOklzc3VlQ29tbWVudDI1ODYyMjg2OA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-11-05T16:33:45Z","updated_at":"2016-11-05T16:33:45Z","author_association":"CONTRIBUTOR","body":"> If we count each time that a street appears (this would be the Terms Aggregation), we will get the following:\n\nYou wouldn't actually.  Each street would be unique, because you're not taking city into account in your aggs.\n\nHonestly, I'm not seeing the common use case for the example you provide.  I'll leave this open for now to see if others disagree.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/309938478","html_url":"https://github.com/elastic/elasticsearch/issues/21106#issuecomment-309938478","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21106","id":309938478,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTkzODQ3OA==","user":{"login":"zengfulongit","id":7867873,"node_id":"MDQ6VXNlcjc4Njc4NzM=","avatar_url":"https://avatars0.githubusercontent.com/u/7867873?v=4","gravatar_id":"","url":"https://api.github.com/users/zengfulongit","html_url":"https://github.com/zengfulongit","followers_url":"https://api.github.com/users/zengfulongit/followers","following_url":"https://api.github.com/users/zengfulongit/following{/other_user}","gists_url":"https://api.github.com/users/zengfulongit/gists{/gist_id}","starred_url":"https://api.github.com/users/zengfulongit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zengfulongit/subscriptions","organizations_url":"https://api.github.com/users/zengfulongit/orgs","repos_url":"https://api.github.com/users/zengfulongit/repos","events_url":"https://api.github.com/users/zengfulongit/events{/privacy}","received_events_url":"https://api.github.com/users/zengfulongit/received_events","type":"User","site_admin":false},"created_at":"2017-06-21T01:41:51Z","updated_at":"2017-06-21T03:04:34Z","author_association":"NONE","body":"I have a similar question : build a histogram based on the doc_count field of a Terms Aggregation.\r\nImagine we have a user access log\r\n```\r\n{\"user\":\"Andy\"}\r\n{\"user\":\"Biff\"}\r\n{\"user\":\"Chip\"}\r\n{\"user\":\"Andy\"}\r\n{\"user\":\"Biff\"}\r\n{\"user\":\"Kipper\"}\r\n{\"user\":\"Chip\"}\r\n{\"user\":\"Kipper\"}\r\n{\"user\":\"Kipper\"}\r\n{\"user\":\"Chip\"}\r\n{\"user\":\"Chip\"}\r\n{\"user\":\"Floppy\"}\r\n```\r\n\r\nwe count each time that user access\r\n```\r\n| User name     | Number of times |\r\n|---------------|-----------------|\r\n| Andy          |               2 |\r\n| Biff          |               2 |\r\n| Chip          |               4 |\r\n| Kipper        |               3 |\r\n| Floppy        |               1 |\r\n```\r\n\r\nNow, the feature would have to build a histogram that says unique user access times distribution...\r\n```\r\n| User name count | Number of times |\r\n|-----------------|-----------------|\r\n| 1               |               1 |\r\n| 2               |               2 |\r\n| 3               |               1 |\r\n| 4               |               1 |\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/375428357","html_url":"https://github.com/elastic/elasticsearch/issues/21106#issuecomment-375428357","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21106","id":375428357,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTQyODM1Nw==","user":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"created_at":"2018-03-22T19:24:55Z","updated_at":"2018-03-22T19:24:55Z","author_association":"MEMBER","body":"Hey all.  This feature request is an interesting idea but since its opening we have not seen enough feedback that it is a feature we should pursue. We prefer to close this issue as a clear indication that we are not going to work on this at this time. \r\n\r\nWe are always open to reconsidering this in the future based on compelling feedback; despite this issue being closed please feel free to leave feedback on the proposal (including +1s).\r\n\r\nIf we do pursue this in the future, it would make sense to implement it as a pipeline aggregation rather than a regular aggregation.","performed_via_github_app":null}]