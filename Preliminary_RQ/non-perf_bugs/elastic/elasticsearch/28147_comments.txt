[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/356356013","html_url":"https://github.com/elastic/elasticsearch/issues/28147#issuecomment-356356013","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28147","id":356356013,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjM1NjAxMw==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2018-01-09T17:31:31Z","updated_at":"2018-01-09T17:31:31Z","author_association":"MEMBER","body":"This is caused when we hit a very rare combination of things in the test: a \"from: 100, to: 101\" query on an \"integer_range\" field, with both \"includeUpper\" and \"includeLower\" set to false. In this case the range goes from \"101 to 100\" and the RangeFieldMapper complains. We shouldn't test this combination.\r\nThis seems to only happen on 5.6 because on the 6.x and master branch we don't test with \"integer_range\" anymore. Still need to dig why that happened and if we should do that again.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/356590744","html_url":"https://github.com/elastic/elasticsearch/issues/28147#issuecomment-356590744","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28147","id":356590744,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjU5MDc0NA==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2018-01-10T12:39:19Z","updated_at":"2018-01-10T12:39:19Z","author_association":"MEMBER","body":"> On the 6.x and master branch we don't test with \"integer_range\" anymore. Still need to dig why that happened and if we should do that again.\r\n\r\nJust checked, the reason we don't test this anymore in the core query builder tests is due to moving the RangeFieldMapper and other to the new  `mappers-extra` module in #26549, so we don't need to adapt any tests there.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/356591497","html_url":"https://github.com/elastic/elasticsearch/issues/28147#issuecomment-356591497","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28147","id":356591497,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjU5MTQ5Nw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-01-10T12:42:42Z","updated_at":"2018-01-10T12:42:42Z","author_association":"MEMBER","body":"> Just checked, the reason we don't test this anymore in the core query builder tests is due to moving the RangeFieldMapper and other to the new  `mappers-extra` module in #26549, so we don't need to adapt any tests there.\r\n\r\nThe range field mapper was moved back to core in #27854.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/356592782","html_url":"https://github.com/elastic/elasticsearch/issues/28147#issuecomment-356592782","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28147","id":356592782,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjU5Mjc4Mg==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2018-01-10T12:48:47Z","updated_at":"2018-01-10T12:48:47Z","author_association":"MEMBER","body":"Okay, in that case it might make sense to add the test for the range fields in the range query builder tests. Will do just that.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/356706567","html_url":"https://github.com/elastic/elasticsearch/issues/28147#issuecomment-356706567","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28147","id":356706567,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjcwNjU2Nw==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2018-01-10T19:15:40Z","updated_at":"2018-01-10T19:15:40Z","author_association":"MEMBER","body":"The failure on the 5.6 branch is fixed by 771fdc, and #28171 should track re-adding those\r\ntests to master and 6.x, so I'm closing this.","performed_via_github_app":null}]