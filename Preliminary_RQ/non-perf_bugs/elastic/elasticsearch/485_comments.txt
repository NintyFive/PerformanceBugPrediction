[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/524028","html_url":"https://github.com/elastic/elasticsearch/issues/485#issuecomment-524028","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/485","id":524028,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDAyOA==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2010-11-07T16:18:38Z","updated_at":"2010-11-07T16:18:38Z","author_association":"MEMBER","body":"Mapper: An analyzer mapper allowing to control the index analyzer of a document based on a document field, closed by 171fa4a7e8d92cdc904ad999efe36726d3d635a3.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/527994","html_url":"https://github.com/elastic/elasticsearch/issues/485#issuecomment-527994","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/485","id":527994,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzk5NA==","user":{"login":"sebaes","id":463474,"node_id":"MDQ6VXNlcjQ2MzQ3NA==","avatar_url":"https://avatars3.githubusercontent.com/u/463474?v=4","gravatar_id":"","url":"https://api.github.com/users/sebaes","html_url":"https://github.com/sebaes","followers_url":"https://api.github.com/users/sebaes/followers","following_url":"https://api.github.com/users/sebaes/following{/other_user}","gists_url":"https://api.github.com/users/sebaes/gists{/gist_id}","starred_url":"https://api.github.com/users/sebaes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebaes/subscriptions","organizations_url":"https://api.github.com/users/sebaes/orgs","repos_url":"https://api.github.com/users/sebaes/repos","events_url":"https://api.github.com/users/sebaes/events{/privacy}","received_events_url":"https://api.github.com/users/sebaes/received_events","type":"User","site_admin":false},"created_at":"2010-11-09T03:37:40Z","updated_at":"2010-11-09T03:37:40Z","author_association":"NONE","body":"Hi Shay,\nI couldn't make this feature work, I think it is broken, take a look at: AnalyzerMapper\nline 85: String value = context.doc().get(path);\n\nWhen indexing a document with:\ncurl -XPUT 'http://sd:5100/test/s/ZZZ' -d '\n{\n\"analyzer_field\":\"es_analyzer\",\n\"description\":\"an mp3\",\n\"title\":\"mp3\"\n}\n'\n\nvalue is null, because context.doc() doesn't contain the analyzer field in it.\nI don't know exactly how to fix the problem though.\n\nSebastian.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/528214","html_url":"https://github.com/elastic/elasticsearch/issues/485#issuecomment-528214","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/485","id":528214,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODIxNA==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2010-11-09T06:57:13Z","updated_at":"2010-11-09T06:57:13Z","author_association":"MEMBER","body":"Did you set a mapping for type `s` with `_analyzer` definition that points to `analyzer_field`? The `analyzer_field` was just an example for the field name that will control the analysis.\n\nMaybe there should be a default for this, for example, if you place in the json `_analyzer` property, then it will be used, so you won't even need to define a mapping unless you want the analyzer to be driven by a different json field. I will change that.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/528224","html_url":"https://github.com/elastic/elasticsearch/issues/485#issuecomment-528224","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/485","id":528224,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODIyNA==","user":{"login":"sebaes","id":463474,"node_id":"MDQ6VXNlcjQ2MzQ3NA==","avatar_url":"https://avatars3.githubusercontent.com/u/463474?v=4","gravatar_id":"","url":"https://api.github.com/users/sebaes","html_url":"https://github.com/sebaes","followers_url":"https://api.github.com/users/sebaes/followers","following_url":"https://api.github.com/users/sebaes/following{/other_user}","gists_url":"https://api.github.com/users/sebaes/gists{/gist_id}","starred_url":"https://api.github.com/users/sebaes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebaes/subscriptions","organizations_url":"https://api.github.com/users/sebaes/orgs","repos_url":"https://api.github.com/users/sebaes/repos","events_url":"https://api.github.com/users/sebaes/events{/privacy}","received_events_url":"https://api.github.com/users/sebaes/received_events","type":"User","site_admin":false},"created_at":"2010-11-09T07:05:54Z","updated_at":"2010-11-09T07:05:54Z","author_association":"NONE","body":"Yes I did, the file looks like:\n\n{\n    \"s\" : {\n        \"_all\" : {\"enabled\" : false},\n        \"_source\" : {\"enabled\" : false},\n        \"_analyzer\" : {\"path\" : \"analyzer_field\"},\n        \"dynamic\" : false,\n        \"properties\" : {\n            \"title\" : {\n                \"type\" : \"string\",\n                \"store\" : \"yes\",\n                \"index\" : \"analyzed\",\n                \"analyzer\" : \"all_analyzer\",\n                \"term_vector\" : \"with_positions_offsets\"\n            },\n            \"description\" : {\n                \"type\" : \"string\",\n                \"store\" : \"yes\",\n                \"index\" : \"analyzed\",\n                \"term_vector\" : \"with_positions_offsets\"\n            },\n...\nand I've used a field named \"analyzer_field\" in my JSON as you can see in my previous post.\n\nI will try the \"_analyzer\" default one\n\nThanks\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/528227","html_url":"https://github.com/elastic/elasticsearch/issues/485#issuecomment-528227","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/485","id":528227,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODIyNw==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2010-11-09T07:11:47Z","updated_at":"2010-11-09T07:11:47Z","author_association":"MEMBER","body":"I see the problem, because the mapping you have is not dynamic, then you need to explicitly define the \"analyzer_field\" in the properties mapping so it will get added to the document. Same will happen with `_analyzer` you will need to add it to the `properties` part. Why don't you use dynamic?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/528232","html_url":"https://github.com/elastic/elasticsearch/issues/485#issuecomment-528232","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/485","id":528232,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODIzMg==","user":{"login":"sebaes","id":463474,"node_id":"MDQ6VXNlcjQ2MzQ3NA==","avatar_url":"https://avatars3.githubusercontent.com/u/463474?v=4","gravatar_id":"","url":"https://api.github.com/users/sebaes","html_url":"https://github.com/sebaes","followers_url":"https://api.github.com/users/sebaes/followers","following_url":"https://api.github.com/users/sebaes/following{/other_user}","gists_url":"https://api.github.com/users/sebaes/gists{/gist_id}","starred_url":"https://api.github.com/users/sebaes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebaes/subscriptions","organizations_url":"https://api.github.com/users/sebaes/orgs","repos_url":"https://api.github.com/users/sebaes/repos","events_url":"https://api.github.com/users/sebaes/events{/privacy}","received_events_url":"https://api.github.com/users/sebaes/received_events","type":"User","site_admin":false},"created_at":"2010-11-09T07:18:51Z","updated_at":"2010-11-09T07:18:51Z","author_association":"NONE","body":"I see, (well, sort of trying to).\n\nI didn't use dynamic mappings as a safety measure, to rule out wrong mappings from my client code, so I won't push invalid unsearchable data to an index, with the overhead it involves taking into account the scale and scarcity of a SSD space for example. Do you think this is not a good idea?\n\nSo, what are my options? What do you mean by define an \"_analyzer\" or \"analyzer_field\" in the properties mapping? Adding another field like \"title\" but containing what?\n\nThanks\nSebastian.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/528319","html_url":"https://github.com/elastic/elasticsearch/issues/485#issuecomment-528319","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/485","id":528319,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODMxOQ==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2010-11-09T08:32:54Z","updated_at":"2010-11-09T08:32:54Z","author_association":"MEMBER","body":"add a mapping called in the same name (like analyzer_field) of type string.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/529795","html_url":"https://github.com/elastic/elasticsearch/issues/485#issuecomment-529795","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/485","id":529795,"node_id":"MDEyOklzc3VlQ29tbWVudDUyOTc5NQ==","user":{"login":"sebaes","id":463474,"node_id":"MDQ6VXNlcjQ2MzQ3NA==","avatar_url":"https://avatars3.githubusercontent.com/u/463474?v=4","gravatar_id":"","url":"https://api.github.com/users/sebaes","html_url":"https://github.com/sebaes","followers_url":"https://api.github.com/users/sebaes/followers","following_url":"https://api.github.com/users/sebaes/following{/other_user}","gists_url":"https://api.github.com/users/sebaes/gists{/gist_id}","starred_url":"https://api.github.com/users/sebaes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebaes/subscriptions","organizations_url":"https://api.github.com/users/sebaes/orgs","repos_url":"https://api.github.com/users/sebaes/repos","events_url":"https://api.github.com/users/sebaes/events{/privacy}","received_events_url":"https://api.github.com/users/sebaes/received_events","type":"User","site_admin":false},"created_at":"2010-11-09T19:39:03Z","updated_at":"2010-11-09T19:39:03Z","author_association":"NONE","body":"Hi Shay,\nI added the field and everything works now, also tried dynamic mapping and works too. The only thing I noticed that wasn't ok is that the \"_analyzer\" field gets added to Lucene as well (checked with Luke with dynamic and not dynamic settings), and it shouldn't because it's a \"control\" field, not data.\nIs it feasible to remove it from being added?\nThanks,\nSebastian.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/529812","html_url":"https://github.com/elastic/elasticsearch/issues/485#issuecomment-529812","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/485","id":529812,"node_id":"MDEyOklzc3VlQ29tbWVudDUyOTgxMg==","user":{"login":"sebaes","id":463474,"node_id":"MDQ6VXNlcjQ2MzQ3NA==","avatar_url":"https://avatars3.githubusercontent.com/u/463474?v=4","gravatar_id":"","url":"https://api.github.com/users/sebaes","html_url":"https://github.com/sebaes","followers_url":"https://api.github.com/users/sebaes/followers","following_url":"https://api.github.com/users/sebaes/following{/other_user}","gists_url":"https://api.github.com/users/sebaes/gists{/gist_id}","starred_url":"https://api.github.com/users/sebaes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebaes/subscriptions","organizations_url":"https://api.github.com/users/sebaes/orgs","repos_url":"https://api.github.com/users/sebaes/repos","events_url":"https://api.github.com/users/sebaes/events{/privacy}","received_events_url":"https://api.github.com/users/sebaes/received_events","type":"User","site_admin":false},"created_at":"2010-11-09T19:43:52Z","updated_at":"2010-11-09T19:43:52Z","author_association":"NONE","body":"To be more precise I added:\n            \"_analyzer\" : {\"type\" : \"string\"},\nI thought in adding index=no and store=no, but I didn't see any example with both options disabled, is that the way to prevent that field to be added?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/529946","html_url":"https://github.com/elastic/elasticsearch/issues/485#issuecomment-529946","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/485","id":529946,"node_id":"MDEyOklzc3VlQ29tbWVudDUyOTk0Ng==","user":{"login":"sebaes","id":463474,"node_id":"MDQ6VXNlcjQ2MzQ3NA==","avatar_url":"https://avatars3.githubusercontent.com/u/463474?v=4","gravatar_id":"","url":"https://api.github.com/users/sebaes","html_url":"https://github.com/sebaes","followers_url":"https://api.github.com/users/sebaes/followers","following_url":"https://api.github.com/users/sebaes/following{/other_user}","gists_url":"https://api.github.com/users/sebaes/gists{/gist_id}","starred_url":"https://api.github.com/users/sebaes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebaes/subscriptions","organizations_url":"https://api.github.com/users/sebaes/orgs","repos_url":"https://api.github.com/users/sebaes/repos","events_url":"https://api.github.com/users/sebaes/events{/privacy}","received_events_url":"https://api.github.com/users/sebaes/received_events","type":"User","site_admin":false},"created_at":"2010-11-09T20:37:03Z","updated_at":"2010-11-09T20:37:03Z","author_association":"NONE","body":"Answering to myself, so somebody looking at the issue can use the information. I tried both index and store in \"no\" and it works:\n\n```\n        \"_analyzer\" : {\"type\" : \"string\",\"store\" : \"no\",\"index\" : \"no\"},\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/530155","html_url":"https://github.com/elastic/elasticsearch/issues/485#issuecomment-530155","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/485","id":530155,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDE1NQ==","user":{"login":"sebaes","id":463474,"node_id":"MDQ6VXNlcjQ2MzQ3NA==","avatar_url":"https://avatars3.githubusercontent.com/u/463474?v=4","gravatar_id":"","url":"https://api.github.com/users/sebaes","html_url":"https://github.com/sebaes","followers_url":"https://api.github.com/users/sebaes/followers","following_url":"https://api.github.com/users/sebaes/following{/other_user}","gists_url":"https://api.github.com/users/sebaes/gists{/gist_id}","starred_url":"https://api.github.com/users/sebaes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebaes/subscriptions","organizations_url":"https://api.github.com/users/sebaes/orgs","repos_url":"https://api.github.com/users/sebaes/repos","events_url":"https://api.github.com/users/sebaes/events{/privacy}","received_events_url":"https://api.github.com/users/sebaes/received_events","type":"User","site_admin":false},"created_at":"2010-11-09T21:44:44Z","updated_at":"2010-11-09T21:44:44Z","author_association":"NONE","body":"The past post wasn't accurate, I made a mistake interpreting the results, the one that works is:\n           \"_analyzer\" : {\n                \"type\" : \"string\",\n                \"index\" : \"no\",\n                \"store\" : \"yes\"\n            },\nWhat happened in case of both \"no\" is that \"_analyzer\" is ignored, but Standard analyzer, with english stop words set kicks in and that's why I thought it was working.\n\nShay, is there a way to avoid adding that \"_analyzer\" stored field in every document?\nThanks,\nSebastian.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/536750","html_url":"https://github.com/elastic/elasticsearch/issues/485#issuecomment-536750","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/485","id":536750,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjc1MA==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2010-11-12T12:59:40Z","updated_at":"2010-11-12T12:59:40Z","author_association":"MEMBER","body":"Pushed support for specifying `index` set to `no` (`store` defaults to `no`). I would argue that almost in all cases you would want it indexed (maybe set to `not_analyzed`) so later on you can query on it and see what docs where indexed how.\n","performed_via_github_app":null}]