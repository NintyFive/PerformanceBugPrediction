[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/66997237","html_url":"https://github.com/elastic/elasticsearch/issues/8931#issuecomment-66997237","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8931","id":66997237,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTk3MjM3","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-12-15T13:59:19Z","updated_at":"2014-12-15T13:59:19Z","author_association":"CONTRIBUTOR","body":"Hi @synhershko \n\nThe `multi_field` type was deprecated pre 1.0, and the (old) syntax that you are using is incorrect because you're not specifying the main `term` field as a string under `fields`.  If you use the new sytanx, ie just change `multi_field` to `string`, then your example works correctly.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/67024204","html_url":"https://github.com/elastic/elasticsearch/issues/8931#issuecomment-67024204","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8931","id":67024204,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDI0MjA0","user":{"login":"synhershko","id":212252,"node_id":"MDQ6VXNlcjIxMjI1Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/212252?v=4","gravatar_id":"","url":"https://api.github.com/users/synhershko","html_url":"https://github.com/synhershko","followers_url":"https://api.github.com/users/synhershko/followers","following_url":"https://api.github.com/users/synhershko/following{/other_user}","gists_url":"https://api.github.com/users/synhershko/gists{/gist_id}","starred_url":"https://api.github.com/users/synhershko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/synhershko/subscriptions","organizations_url":"https://api.github.com/users/synhershko/orgs","repos_url":"https://api.github.com/users/synhershko/repos","events_url":"https://api.github.com/users/synhershko/events{/privacy}","received_events_url":"https://api.github.com/users/synhershko/received_events","type":"User","site_admin":false},"created_at":"2014-12-15T16:46:39Z","updated_at":"2014-12-15T16:46:39Z","author_association":"CONTRIBUTOR","body":"Blah\n\nA few comments on this:\n1. Shouldn't the `multi_field` type, when used, throw an invalid mapping error then?\n2. I was using this mainly because when I searched for `multi_field` Google led me to the 0.90 docs and I didn't notice that - maybe it worths highlighting its deprecated, or that its a a 0.90 docs (like logstash old docs have, for example). I'd maybe even consider a noindex meta tag on them.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/67026254","html_url":"https://github.com/elastic/elasticsearch/issues/8931#issuecomment-67026254","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8931","id":67026254,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDI2MjU0","user":{"login":"synhershko","id":212252,"node_id":"MDQ6VXNlcjIxMjI1Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/212252?v=4","gravatar_id":"","url":"https://api.github.com/users/synhershko","html_url":"https://github.com/synhershko","followers_url":"https://api.github.com/users/synhershko/followers","following_url":"https://api.github.com/users/synhershko/following{/other_user}","gists_url":"https://api.github.com/users/synhershko/gists{/gist_id}","starred_url":"https://api.github.com/users/synhershko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/synhershko/subscriptions","organizations_url":"https://api.github.com/users/synhershko/orgs","repos_url":"https://api.github.com/users/synhershko/repos","events_url":"https://api.github.com/users/synhershko/events{/privacy}","received_events_url":"https://api.github.com/users/synhershko/received_events","type":"User","site_admin":false},"created_at":"2014-12-15T16:58:05Z","updated_at":"2014-12-15T16:58:05Z","author_association":"CONTRIBUTOR","body":"One more thing - looking at `/myindex/_mapping` after using the `multi_field` mapping with a template I see this:\n\n```\n            \"properties\": {\n               \"term\": {\n                  \"type\": \"string\",\n                  \"index\": \"no\",\n                  \"fields\": {\n                     \"term_bigram\": {\n                        \"type\": \"string\",\n                        \"analyzer\": \"bigram\"\n                     }\n                  }\n               }\n```\n\nSo basically multi_field _is_ being identified correctly? I'm confused\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/67030451","html_url":"https://github.com/elastic/elasticsearch/issues/8931#issuecomment-67030451","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8931","id":67030451,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDMwNDUx","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-12-15T17:23:53Z","updated_at":"2014-12-15T17:23:53Z","author_association":"CONTRIBUTOR","body":"To use `multi_field` correctly, you should have specified it as follows:\n\n```\n\"properties\": {\n  \"term\": {\n    \"type\": \"multi_field\",\n    \"fields\": {\n      \"term\": {\n        \"type\": \"string\",\n        \"index\": \"analyzed\",\n        \"analyzer\": \"simple\"\n      },\n      \"term_bigram\": {\n        \"type\": \"string\",\n        \"index\": \"analyzed\",\n        \"analyzer\": \"bigram\"\n      }\n    }\n  }\n}\n```\n\nWithout the \"main\" field, it assumed that you didn't want that field to be indexed (so `index: no`).  The `multi_field` type is still supported during the deprecation period, to allow users to move over to the new syntax, which is why it doesn't (yet) throw an exception.\n","performed_via_github_app":null}]