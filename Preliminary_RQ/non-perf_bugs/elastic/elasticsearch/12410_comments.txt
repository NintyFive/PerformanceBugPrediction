[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/124076867","html_url":"https://github.com/elastic/elasticsearch/issues/12410#issuecomment-124076867","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12410","id":124076867,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNDA3Njg2Nw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-07-23T12:06:19Z","updated_at":"2015-07-23T12:06:19Z","author_association":"CONTRIBUTOR","body":"I tend to agree with you.  @martijnvg what are your thoughts?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/124078114","html_url":"https://github.com/elastic/elasticsearch/issues/12410#issuecomment-124078114","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12410","id":124078114,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNDA3ODExNA==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2015-07-23T12:13:10Z","updated_at":"2015-07-23T12:13:10Z","author_association":"MEMBER","body":"@hisuwh @clintongormley When developing  `nested` / `reverse_nested` agg my thoughts around nesting is that aggs should be used for this and not filters, it is aggs not query... but I've seen this usage before and I think we should change it, it makes the aggs itself easier.\n\nThere is an technical issue that needs to be fixed first and then these kinds of aggs should work:\nhttps://github.com/elastic/elasticsearch/issues/11749#issuecomment-114034328\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/132200048","html_url":"https://github.com/elastic/elasticsearch/issues/12410#issuecomment-132200048","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12410","id":132200048,"node_id":"MDEyOklzc3VlQ29tbWVudDEzMjIwMDA0OA==","user":{"login":"hisuwh","id":4470351,"node_id":"MDQ6VXNlcjQ0NzAzNTE=","avatar_url":"https://avatars0.githubusercontent.com/u/4470351?v=4","gravatar_id":"","url":"https://api.github.com/users/hisuwh","html_url":"https://github.com/hisuwh","followers_url":"https://api.github.com/users/hisuwh/followers","following_url":"https://api.github.com/users/hisuwh/following{/other_user}","gists_url":"https://api.github.com/users/hisuwh/gists{/gist_id}","starred_url":"https://api.github.com/users/hisuwh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hisuwh/subscriptions","organizations_url":"https://api.github.com/users/hisuwh/orgs","repos_url":"https://api.github.com/users/hisuwh/repos","events_url":"https://api.github.com/users/hisuwh/events{/privacy}","received_events_url":"https://api.github.com/users/hisuwh/received_events","type":"User","site_admin":false},"created_at":"2015-08-18T13:07:30Z","updated_at":"2015-08-18T13:07:30Z","author_association":"NONE","body":"Any progress on this? Just ran up against this again.\nMain problem is that I'm using the filters aggregation to create multiple filters.\n\nThe only other way to do this is to have multiple aggregatoins but this is going to get a lot more complicated.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/132202329","html_url":"https://github.com/elastic/elasticsearch/issues/12410#issuecomment-132202329","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12410","id":132202329,"node_id":"MDEyOklzc3VlQ29tbWVudDEzMjIwMjMyOQ==","user":{"login":"hisuwh","id":4470351,"node_id":"MDQ6VXNlcjQ0NzAzNTE=","avatar_url":"https://avatars0.githubusercontent.com/u/4470351?v=4","gravatar_id":"","url":"https://api.github.com/users/hisuwh","html_url":"https://github.com/hisuwh","followers_url":"https://api.github.com/users/hisuwh/followers","following_url":"https://api.github.com/users/hisuwh/following{/other_user}","gists_url":"https://api.github.com/users/hisuwh/gists{/gist_id}","starred_url":"https://api.github.com/users/hisuwh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hisuwh/subscriptions","organizations_url":"https://api.github.com/users/hisuwh/orgs","repos_url":"https://api.github.com/users/hisuwh/repos","events_url":"https://api.github.com/users/hisuwh/events{/privacy}","received_events_url":"https://api.github.com/users/hisuwh/received_events","type":"User","site_admin":false},"created_at":"2015-08-18T13:19:00Z","updated_at":"2015-08-18T13:23:13Z","author_association":"NONE","body":"What I have had to (which I personally think is horrible)\n\n```\n\n{\n   \"aggs\": {\n      \"applications\": {\n         \"nested\": {\n            \"path\": \"Applications\"\n         },\n         \"aggs\": {\n            \"another_aggregation\": {\n               \"filter\": {\n                   .... some other filter.....\n               },\n               \"aggs\": {\n                  \"checkitems\": {\n                     \"nested\": {\n                        \"path\": \"Applications.CheckItems\"\n                     },\n                     \"aggs\": {\n                        \"adverseFinancial\": {\n                           \"filter\": {\n                              \"term\": {\n                                 \"Applications.CheckItems.CheckTypeHierarchy\": \"adversefinancialcheck\"\n                              }\n                           },\n                           \"aggs\": {\n                              \"backToApplications\": {\n                                 \"reverse_nested\": {\n                                    \"path\": \"Applications\"\n                                 },\n                                 \"aggs\": {\n                                    ...... my aggregation......\n                                 }\n                              }\n                           }\n                        }\n                     }\n                  }\n               }\n            }\n         }\n      }\n   }\n}\n\n```\n\nRather than just:\n\n```\n\n{\n   \"aggs\": {\n      \"nested_aggregation\": {\n         \"nested\": {\n            \"path\": \"Applications\"\n         },\n         \"aggs\": {\n            \"deeper_nested_filter\": {\n               \"filter\": {\n                   \"nested\": {\n                      \"path\": \"Applications.CheckItems\",\n                      \"filter\": {\n                         \"and\" : {\n                             \"filters\" : [\n                                 {\n                                      \"term\": {\n                                           \"Applications.CheckItems.CheckType\": \"somechecktype\"\n                                      }\n                                 },\n                                 {\n                                      .....some other filter ......\n                                 }\n                             ]\n                         }\n                      }\n                   }\n               },\n               \"aggs\" : {\n                    ...... my aggregation.....\n               }\n            }\n         }\n      }\n   }\n}\n```\n","performed_via_github_app":null}]