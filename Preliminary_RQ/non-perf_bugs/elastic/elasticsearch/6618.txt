{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/6618","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6618/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6618/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6618/events","html_url":"https://github.com/elastic/elasticsearch/issues/6618","id":36511176,"node_id":"MDU6SXNzdWUzNjUxMTE3Ng==","number":6618,"title":"Ability to predefine number of buckets","user":{"login":"johnrodey","id":1458056,"node_id":"MDQ6VXNlcjE0NTgwNTY=","avatar_url":"https://avatars0.githubusercontent.com/u/1458056?v=4","gravatar_id":"","url":"https://api.github.com/users/johnrodey","html_url":"https://github.com/johnrodey","followers_url":"https://api.github.com/users/johnrodey/followers","following_url":"https://api.github.com/users/johnrodey/following{/other_user}","gists_url":"https://api.github.com/users/johnrodey/gists{/gist_id}","starred_url":"https://api.github.com/users/johnrodey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnrodey/subscriptions","organizations_url":"https://api.github.com/users/johnrodey/orgs","repos_url":"https://api.github.com/users/johnrodey/repos","events_url":"https://api.github.com/users/johnrodey/events{/privacy}","received_events_url":"https://api.github.com/users/johnrodey/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"assignees":[{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false}],"milestone":null,"comments":5,"created_at":"2014-06-25T18:57:54Z","updated_at":"2014-07-04T08:44:54Z","closed_at":"2014-07-04T08:44:54Z","author_association":"NONE","active_lock_reason":null,"body":"It would be great to have the ability to predefine the number of buckets on a date histogram (and possibly other types) and have the buckets be evenly divided across time based on the result set.\n\nCurrently you need to understand how your query results span time to know what interval makes sense to set on the aggregation (which is hard to know before the query is executed), because if your data spans years an interval of a minute may be too fine, and vice versa.\n\nWith this feature a sample query might look like...\n\"aggregations\" : {\n    \"birth_date_time\" : {\n      \"date_histogram\" : {\n        \"field\" : \"birth_date_time\",\n        \"bucketCount\" : 100,\n        \"format\" : \"yyyy/MM/dd HH:mm:ss\"\n      }\n    }\n  }\n\nAnd thus if your data spans 50 years each bucket would represent everyone who was born in approximately a 6 month window.\n\nNote that based on implementation there may be fewer than 100 buckets in the response if some buckets have 0 results, but there should be no more than 100 buckets.\n\nThis feature would be very beneficial when plotting to a histogram on a UI, since it will give the granularity that makes sense to display.\n","closed_by":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"performed_via_github_app":null}