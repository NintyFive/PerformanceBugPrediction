[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/55167041","html_url":"https://github.com/elastic/elasticsearch/issues/6812#issuecomment-55167041","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6812","id":55167041,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MTY3MDQx","user":{"login":"antong","id":351469,"node_id":"MDQ6VXNlcjM1MTQ2OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/351469?v=4","gravatar_id":"","url":"https://api.github.com/users/antong","html_url":"https://github.com/antong","followers_url":"https://api.github.com/users/antong/followers","following_url":"https://api.github.com/users/antong/following{/other_user}","gists_url":"https://api.github.com/users/antong/gists{/gist_id}","starred_url":"https://api.github.com/users/antong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/antong/subscriptions","organizations_url":"https://api.github.com/users/antong/orgs","repos_url":"https://api.github.com/users/antong/repos","events_url":"https://api.github.com/users/antong/events{/privacy}","received_events_url":"https://api.github.com/users/antong/received_events","type":"User","site_admin":false},"created_at":"2014-09-10T19:11:04Z","updated_at":"2014-09-10T19:27:45Z","author_association":"NONE","body":"I also got hit by this. Of course it feels like an unnecessary chore to decode what is left after max(\"2014-09-10T19:04:19.725694\", \"2014-09-10T11:12:13.432432\") -> 1410375855.35215. However, the _source of the compared docs may have many different formats for the time stamp. So what should the result format be for max(\"2014-09-10T19:04:19.725694\", 1410375055.1234, ...)?\n\nIf a string format is implemented, IMHO it must be ISO format without time zone and nothing else.\n\nUPDATE/EDIT: Oh, with _including milliseconds_ it means that the value is like UTC-milliseconds since UNIX epoch. Which really is surprising for the user. I first thought it really was a UNIX timestamp.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/57332124","html_url":"https://github.com/elastic/elasticsearch/issues/6812#issuecomment-57332124","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6812","id":57332124,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MzMyMTI0","user":{"login":"bly2k","id":3187614,"node_id":"MDQ6VXNlcjMxODc2MTQ=","avatar_url":"https://avatars2.githubusercontent.com/u/3187614?v=4","gravatar_id":"","url":"https://api.github.com/users/bly2k","html_url":"https://github.com/bly2k","followers_url":"https://api.github.com/users/bly2k/followers","following_url":"https://api.github.com/users/bly2k/following{/other_user}","gists_url":"https://api.github.com/users/bly2k/gists{/gist_id}","starred_url":"https://api.github.com/users/bly2k/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bly2k/subscriptions","organizations_url":"https://api.github.com/users/bly2k/orgs","repos_url":"https://api.github.com/users/bly2k/repos","events_url":"https://api.github.com/users/bly2k/events{/privacy}","received_events_url":"https://api.github.com/users/bly2k/received_events","type":"User","site_admin":false},"created_at":"2014-09-30T15:29:19Z","updated_at":"2014-09-30T15:29:19Z","author_association":"CONTRIBUTOR","body":"Perhaps adding a format specifier just like in the date_histogram agg? I do agree this is a nice and useful feature to have.\n\n```\n{\n\"aggregations\": {\n    \"last_hit\": {\n      \"max\": {\n        \"field\": \"@timestamp\",\n        \"format\": \"YYYY-MM-dd\"\n      }\n    }\n  }\n}\n```\n","performed_via_github_app":null}]