[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/64824326","html_url":"https://github.com/elastic/elasticsearch/issues/8693#issuecomment-64824326","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8693","id":64824326,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODI0MzI2","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2014-11-27T19:25:06Z","updated_at":"2014-11-27T19:25:06Z","author_association":"CONTRIBUTOR","body":"some of these possibilities make no sense. Like writing docvalues at index-time, but then loading stuff up into field data. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/64824357","html_url":"https://github.com/elastic/elasticsearch/issues/8693#issuecomment-64824357","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8693","id":64824357,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODI0MzU3","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2014-11-27T19:25:46Z","updated_at":"2014-11-27T19:25:46Z","author_association":"CONTRIBUTOR","body":"Also: \"disk\" is not a synonym for docvalues. It loads some things in memory. Just not everything, and not in a bloated way.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/64870098","html_url":"https://github.com/elastic/elasticsearch/issues/8693#issuecomment-64870098","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8693","id":64870098,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODcwMDk4","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-11-28T08:57:09Z","updated_at":"2014-11-28T08:57:09Z","author_association":"CONTRIBUTOR","body":"> some of these possibilities make no sense. Like writing docvalues at index-time, but then loading stuff up into field data.\n\nThis is a possibility which works today.  It will allow users to write doc values, then test out whether loading a particular field into fielddata helps their use case or not.  It just brings slightly more flexibility than having to reindex your data just to try things out.\n\n> Also: \"disk\" is not a synonym for docvalues. It loads some things in memory. Just not everything, and not in a bloated way.\n\nSure, but the major distinction between the two implementations is: one is in memory and the other is largely on disk.  It will be more understandable to users than referring to doc values.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/64892198","html_url":"https://github.com/elastic/elasticsearch/issues/8693#issuecomment-64892198","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8693","id":64892198,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODkyMTk4","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2014-11-28T13:08:51Z","updated_at":"2014-11-28T13:08:51Z","author_association":"CONTRIBUTOR","body":"Thats not really the distinction: again its the incorrect name.\n\nLets call it \"scalable\" and \"non-scalable\" ? Fielddata is slightly faster because it uses bloated compression etc and makes the wrong tradeoffs.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/64893120","html_url":"https://github.com/elastic/elasticsearch/issues/8693#issuecomment-64893120","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8693","id":64893120,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODkzMTIw","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2014-11-28T13:20:11Z","updated_at":"2014-11-28T13:20:11Z","author_association":"CONTRIBUTOR","body":"> This is a possibility which works today. It will allow users to write doc values, then test out whether loading a particular field into fielddata helps their use case or not. It just brings slightly more flexibility than having to reindex your data just to try things out.\n\nno, its just a trap.\n\nterrible.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/64894688","html_url":"https://github.com/elastic/elasticsearch/issues/8693#issuecomment-64894688","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8693","id":64894688,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODk0Njg4","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2014-11-28T13:38:41Z","updated_at":"2014-11-28T13:38:41Z","author_association":"CONTRIBUTOR","body":"> \"fielddata\": \"disk | memory | eager_memory | disabled\"            # not_analyzed\n\nActually eager loading currently makes sense for doc values too since Lucene only loads them on the first time that they are used (like norms).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/64895863","html_url":"https://github.com/elastic/elasticsearch/issues/8693#issuecomment-64895863","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8693","id":64895863,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODk1ODYz","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2014-11-28T13:51:31Z","updated_at":"2014-11-28T13:51:31Z","author_association":"CONTRIBUTOR","body":"I actually agree with rob on the possiblity to load stuff into FD if you actually have DocValues this doesn't make too much sense. I'd rather trade the flexibility here for safety since it can really spike your system big time if you suddenly go to FD?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/65231319","html_url":"https://github.com/elastic/elasticsearch/issues/8693#issuecomment-65231319","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8693","id":65231319,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjMxMzE5","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-12-02T13:38:31Z","updated_at":"2014-12-02T13:38:31Z","author_association":"CONTRIBUTOR","body":"One of the issues with naming is that you're limited to conveying just part of the explanation in the name itself.  `disk` vs `memory` explains one part, `scalable` vs `unscalable` is another.  @s1monw suggested trying to explain when you pay the price: at index time or at query time  (with the other details explained in full in the documentation.)  For instance:\n\n```\n\"fielddata\": {\n  \"build\": \"eager | lazy\",  # eager = doc values, lazy = memory\n  \"load\": \"lazy   | eager | eager_global_ordinals\"\n}\n```\n- This removes the `fst` format for `not_analyzed` strings, which is rarely used anyway.\n- Once `build` is set to `eager`, doc values will always be built (we can't turn them off)\n- I know @rmuir and @s1monw still disagree, but I'm still voting for allowing users to test out in-memory fielddata performance on an existing field by allowing them to set `load: lazy` on the fly (with `build: eager`), without forcing them to reindex all of their data\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/65231793","html_url":"https://github.com/elastic/elasticsearch/issues/8693#issuecomment-65231793","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8693","id":65231793,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjMxNzkz","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2014-12-02T13:42:29Z","updated_at":"2014-12-02T13:42:29Z","author_association":"CONTRIBUTOR","body":"I like the naming though... I personally think it's a trap to go back to fielddata from here but I don't have super strong feelings. We allow for a lot of traps to provide flexiblity so it's not just black and white. I'd personally vote for safety here vs. trappyness. Maybe we can enable trappy mode and then you can do this? :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/66911992","html_url":"https://github.com/elastic/elasticsearch/issues/8693#issuecomment-66911992","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8693","id":66911992,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTExOTky","user":{"login":"eiTanLaVi","id":739475,"node_id":"MDQ6VXNlcjczOTQ3NQ==","avatar_url":"https://avatars3.githubusercontent.com/u/739475?v=4","gravatar_id":"","url":"https://api.github.com/users/eiTanLaVi","html_url":"https://github.com/eiTanLaVi","followers_url":"https://api.github.com/users/eiTanLaVi/followers","following_url":"https://api.github.com/users/eiTanLaVi/following{/other_user}","gists_url":"https://api.github.com/users/eiTanLaVi/gists{/gist_id}","starred_url":"https://api.github.com/users/eiTanLaVi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eiTanLaVi/subscriptions","organizations_url":"https://api.github.com/users/eiTanLaVi/orgs","repos_url":"https://api.github.com/users/eiTanLaVi/repos","events_url":"https://api.github.com/users/eiTanLaVi/events{/privacy}","received_events_url":"https://api.github.com/users/eiTanLaVi/received_events","type":"User","site_admin":false},"created_at":"2014-12-14T12:41:47Z","updated_at":"2014-12-14T12:41:47Z","author_association":"NONE","body":"how can I define a lazy global ordinals mapping for a non-analyzed field?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/84784051","html_url":"https://github.com/elastic/elasticsearch/issues/8693#issuecomment-84784051","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8693","id":84784051,"node_id":"MDEyOklzc3VlQ29tbWVudDg0Nzg0MDUx","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-03-23T03:52:31Z","updated_at":"2015-03-23T03:52:31Z","author_association":"CONTRIBUTOR","body":">  I personally think it's a trap to go back to fielddata from here \n\nI've come around to agree with this sentiment. Once we build doc values for a field, we shouldn't allow switching back to using field data at that stage.\n\nSo I repeat the last recommendation:\n\n```\n\"fielddata\": {\n  \"build\": \"eager | lazy\",  # eager = doc values, lazy = memory\n  \"load\": \"lazy   | eager | eager_global_ordinals\"\n}\n```\n\nwith one distinction, if doc values are enabled (ie `build:eager`) then `load: lazy | eager` applies just to doc values, ie should Lucene open them immediately or on first use.  \n\nAny other suggestions on this change?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/84873980","html_url":"https://github.com/elastic/elasticsearch/issues/8693#issuecomment-84873980","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8693","id":84873980,"node_id":"MDEyOklzc3VlQ29tbWVudDg0ODczOTgw","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2015-03-23T08:06:09Z","updated_at":"2015-03-23T08:06:09Z","author_association":"CONTRIBUTOR","body":"I don't really like eager vs lazy to explain the differences here. \n\nThere are plenty of differences, e.g. using filesystem cache versus on-heap memory. e.g. actually doing bitpacking versus bloating values up to 8/16/32/64. So eager vs lazy doesn't really make sense to me.\n\nDo we really need a fielddata setting at all? You can already set docvalues another way.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/85036196","html_url":"https://github.com/elastic/elasticsearch/issues/8693#issuecomment-85036196","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8693","id":85036196,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MDM2MTk2","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2015-03-23T14:56:29Z","updated_at":"2015-03-23T14:56:29Z","author_association":"CONTRIBUTOR","body":"@rmuir i am all for one way of setting this. My take on this is the following:\n- use `doc_values : true|false` to trigger DV, that is consistent to all the other FieldType settings we expose ie. `indexed : true|false`\n- remove the `fst` format and make it a hard choice to either use DV or FieldData at field creation time. Since today we have `paged_bytes`, `fst`, `doc_values` and I think if we get rid of the last two we can simplify this a lot?\n- only allow configuration of `fielddata.global_ordinals : lazy|eager` and only if the field has no DV\n- if folks wanna experiment they can use a separate field or we can add an explicit setting saying `fielddata.doc_values: false|true` that can be used to override the field setting if this helps to make progress here. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/89738941","html_url":"https://github.com/elastic/elasticsearch/issues/8693#issuecomment-89738941","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8693","id":89738941,"node_id":"MDEyOklzc3VlQ29tbWVudDg5NzM4OTQx","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-04-05T09:17:22Z","updated_at":"2015-04-05T09:17:22Z","author_association":"CONTRIBUTOR","body":"The motivation for this issue has changed somewhat since we switched to doc values by default. Initially, we were trying to make it easier (and less confusing) to use doc values.  Now, with better defaults, users should only fiddle with these settings if they know what they're doing.\n\nI suggest removing the `doc_values` setting altogether, and using just the `fielddata` settings as follows:\n\n```\nfielddata: {\n    format:          \"doc_values | heap\",   \n    load:            \"lazy | eager | eager_global_ordinals | disabled\"\n}\n```\n\nThe `format` defaults to `doc_values` for all field types except analyzed strings (and I believe geo-ip doesn't support doc values yet?).  This setting should not be dynamically updatable.\n\nThe `load` setting defaults to `lazy`, so that we're not loading doc values for (potentially) very many fields automatically.  Analyzed strings could potentially default the `load` setting to `disabled` so that drive-by users don't cause a massive fielddata load by eg sorting on the \"name\" field. It should be possible to change the `load` setting dynamically.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/90861815","html_url":"https://github.com/elastic/elasticsearch/issues/8693#issuecomment-90861815","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8693","id":90861815,"node_id":"MDEyOklzc3VlQ29tbWVudDkwODYxODE1","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-04-08T09:34:41Z","updated_at":"2015-04-08T09:34:41Z","author_association":"CONTRIBUTOR","body":"After chatting to @jpountz and @s1monw about this, we have a new proposal.  Assuming doc values deliver on their promise, the long term intention will be to remove in-memory fielddata completely. (This assumes that we have a solution for analyzed string fields as well).\n\nNew proposal:\n\n```\ndoc_values:       true | false              # defaults to true for all but analyzed string fields\nfielddata:        disabled | lazy | eager   # only if doc_values is false, will go away eg in 3.0\nglobal_ordinals:  lazy | eager              # defaults to lazy\n```\n\nLater we may be able to add the `auto` option to `global_ordinals` so that we can make a runtime decision based on usage about whether global ordinals should be built lazily or eagerly.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/90862870","html_url":"https://github.com/elastic/elasticsearch/issues/8693#issuecomment-90862870","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8693","id":90862870,"node_id":"MDEyOklzc3VlQ29tbWVudDkwODYyODcw","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2015-04-08T09:39:01Z","updated_at":"2015-04-08T09:39:01Z","author_association":"CONTRIBUTOR","body":"+1 @rmuir WDYT\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/90863802","html_url":"https://github.com/elastic/elasticsearch/issues/8693#issuecomment-90863802","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8693","id":90863802,"node_id":"MDEyOklzc3VlQ29tbWVudDkwODYzODAy","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-04-08T09:43:34Z","updated_at":"2015-04-08T09:43:34Z","author_association":"CONTRIBUTOR","body":"To clarify, `global_ordinals: lazy` means \"build global ordinals only when they are required for a request\", while `eager` means \"build global ordinals on every refresh\"\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/129404398","html_url":"https://github.com/elastic/elasticsearch/issues/8693#issuecomment-129404398","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8693","id":129404398,"node_id":"MDEyOklzc3VlQ29tbWVudDEyOTQwNDM5OA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-08-10T10:44:43Z","updated_at":"2015-08-10T10:44:43Z","author_association":"CONTRIBUTOR","body":"Closing in favour of #12394\n","performed_via_github_app":null}]