[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/446483824","html_url":"https://github.com/elastic/elasticsearch/issues/36526#issuecomment-446483824","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36526","id":446483824,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NjQ4MzgyNA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-12-12T07:02:24Z","updated_at":"2018-12-12T07:02:24Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/446517869","html_url":"https://github.com/elastic/elasticsearch/issues/36526#issuecomment-446517869","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36526","id":446517869,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NjUxNzg2OQ==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2018-12-12T09:20:14Z","updated_at":"2018-12-12T09:20:14Z","author_association":"CONTRIBUTOR","body":"@ywelsch @andrershov  I assigned this to me. I have a fix ready.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/447687936","html_url":"https://github.com/elastic/elasticsearch/issues/36526#issuecomment-447687936","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36526","id":447687936,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzY4NzkzNg==","user":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"created_at":"2018-12-16T23:49:25Z","updated_at":"2018-12-16T23:49:25Z","author_association":"MEMBER","body":"@s1monw This test still fails. Some instances:\r\n- https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+intake/793/console\r\n- https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+multijob-unix-compatibility/os=ubuntu&&virtual/120/console\r\n\r\nLog:\r\n\r\n```\r\n1> [2018-12-15T17:16:35,239][INFO ][o.e.i.s.CorruptedFileIT  ] [testCorruptFileThenSnapshotAndRestore] Index [614] docs async: [false] bulk: [true] partitions [18]\r\n  1> [2018-12-15T17:16:35,307][WARN ][o.e.i.IndexSettings      ] [node_sm0] [test] [index.merge.enabled] is set to false, this should only be used in tests and can cause serious problems in production environments\r\n  1> [2018-12-15T17:16:35,314][INFO ][o.e.c.m.MetaDataMappingService] [node_sm0] [test/TRRNthQ7QaOSlMChccmHhw] create_mapping [type]\r\n  1> [2018-12-15T17:16:35,362][WARN ][o.e.i.IndexSettings      ] [node_sm0] [test] [index.merge.enabled] is set to false, this should only be used in tests and can cause serious problems in production environments\r\n  1> [2018-12-15T17:16:37,519][INFO ][o.e.t.CorruptionUtils    ] [testCorruptFileThenSnapshotAndRestore] Corrupting file --  flipping at position 446 from 57 to 58 file: _1.cfs\r\n  1> [2018-12-15T17:16:37,520][INFO ][o.e.t.CorruptionUtils    ] [testCorruptFileThenSnapshotAndRestore] Checksum before: [825308441] after: [663104317] checksum value after corruption: 825308441] file: _1.cfs length: 3059\r\n  1> [2018-12-15T17:16:37,521][INFO ][o.e.i.s.CorruptedFileIT  ] [testCorruptFileThenSnapshotAndRestore] --> shard [test][5], node[9AzNi0R4Qw28xpBmEmHNkw], [P], s[STARTED], a[id=PLC3bd4JSBCE8QYcrPHQwQ] has a corrupted file\r\n  1> [2018-12-15T17:16:37,521][INFO ][o.e.i.s.CorruptedFileIT  ] [testCorruptFileThenSnapshotAndRestore] -->  creating repository\r\n  1> [2018-12-15T17:16:37,539][INFO ][o.e.r.RepositoriesService] [node_sm0] put repository [test-repo]\r\n  1> [2018-12-15T17:16:37,578][INFO ][o.e.i.s.CorruptedFileIT  ] [testCorruptFileThenSnapshotAndRestore] --> snapshot\r\n  1> [2018-12-15T17:16:37,612][INFO ][o.e.s.SnapshotsService   ] [node_sm0] snapshot [test-repo:test-snap/baTyAPaPSuaDe8bl4x5G1A] started\r\n  1> [2018-12-15T17:16:38,052][INFO ][o.e.s.SnapshotsService   ] [node_sm0] snapshot [test-repo:test-snap/baTyAPaPSuaDe8bl4x5G1A] completed with state [SUCCESS]\r\n  1> [2018-12-15T17:16:38,082][INFO ][o.e.i.s.CorruptedFileIT  ] [testCorruptFileThenSnapshotAndRestore] --> snapshot terminated with state SUCCESS\r\n  1> [2018-12-15T17:16:38,093][INFO ][o.e.i.s.CorruptedFileIT  ] [testCorruptFileThenSnapshotAndRestore] [CorruptedFileIT#testCorruptFileThenSnapshotAndRestore]: cleaning up after test\r\n  1> [2018-12-15T17:16:38,129][INFO ][o.e.c.m.MetaDataDeleteIndexService] [node_sm0] [test/TRRNthQ7QaOSlMChccmHhw] deleting index\r\n  1> [2018-12-15T17:16:38,241][WARN ][o.e.i.IndexSettings      ] [node_sm0] [test] [index.merge.enabled] is set to false, this should only be used in tests and can cause serious problems in production environments\r\n  1> [2018-12-15T17:16:38,242][WARN ][o.e.i.IndexSettings      ] [node_sm0] [test] [index.merge.enabled] is set to false, this should only be used in tests and can cause serious problems in production environments\r\n  1> [2018-12-15T17:16:38,249][INFO ][o.e.c.m.MetaDataIndexTemplateService] [node_sm0] removing template [random_index_template]\r\n  1> [2018-12-15T17:16:38,261][INFO ][o.e.r.RepositoriesService] [node_sm0] delete repository [test-repo]\r\n  1> [2018-12-15T17:16:38,275][INFO ][o.e.i.s.CorruptedFileIT  ] [testCorruptFileThenSnapshotAndRestore] [CorruptedFileIT#testCorruptFileThenSnapshotAndRestore]: cleaned up after test\r\n  1> [2018-12-15T17:16:38,276][INFO ][o.e.i.s.CorruptedFileIT  ] [testCorruptFileThenSnapshotAndRestore] after test\r\nFAILURE 3.61s J7 | CorruptedFileIT.testCorruptFileThenSnapshotAndRestore <<< FAILURES!\r\n   > Throwable #1: java.lang.AssertionError: \r\n   > Expected: <PARTIAL>\r\n   >      but: was <SUCCESS>\r\n   > \tat __randomizedtesting.SeedInfo.seed([DC853C211AEE5A36:115186A088F21055]:0)\r\n   > \tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n   > \tat org.elasticsearch.index.store.CorruptedFileIT.testCorruptFileThenSnapshotAndRestore(CorruptedFileIT.java:531)\r\n   > \tat java.lang.Thread.run(Thread.java:748)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/448181770","html_url":"https://github.com/elastic/elasticsearch/issues/36526#issuecomment-448181770","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36526","id":448181770,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODE4MTc3MA==","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2018-12-18T10:59:18Z","updated_at":"2018-12-18T10:59:18Z","author_association":"MEMBER","body":"another one https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+matrix-java-periodic/ES_BUILD_JAVA=java11,ES_RUNTIME_JAVA=java8fips,nodes=virtual&&linux/125/console - so just waiting for the PR to be merged","performed_via_github_app":null}]