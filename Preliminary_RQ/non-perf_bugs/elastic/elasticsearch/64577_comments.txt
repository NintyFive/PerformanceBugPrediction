[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/721673742","html_url":"https://github.com/elastic/elasticsearch/issues/64577#issuecomment-721673742","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/64577","id":721673742,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMTY3Mzc0Mg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-11-04T11:20:02Z","updated_at":"2020-11-04T11:20:02Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-features (:Core/Features/Data streams)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/722618535","html_url":"https://github.com/elastic/elasticsearch/issues/64577#issuecomment-722618535","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/64577","id":722618535,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjYxODUzNQ==","user":{"login":"csoulios","id":1561376,"node_id":"MDQ6VXNlcjE1NjEzNzY=","avatar_url":"https://avatars2.githubusercontent.com/u/1561376?v=4","gravatar_id":"","url":"https://api.github.com/users/csoulios","html_url":"https://github.com/csoulios","followers_url":"https://api.github.com/users/csoulios/followers","following_url":"https://api.github.com/users/csoulios/following{/other_user}","gists_url":"https://api.github.com/users/csoulios/gists{/gist_id}","starred_url":"https://api.github.com/users/csoulios/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csoulios/subscriptions","organizations_url":"https://api.github.com/users/csoulios/orgs","repos_url":"https://api.github.com/users/csoulios/repos","events_url":"https://api.github.com/users/csoulios/events{/privacy}","received_events_url":"https://api.github.com/users/csoulios/received_events","type":"User","site_admin":false},"created_at":"2020-11-05T20:14:56Z","updated_at":"2020-11-05T20:14:56Z","author_association":"CONTRIBUTOR","body":"Can this be related to the failures I am getting for PR #64594 against 7.x?\r\n\r\nI am also receiving \r\n\r\n```\r\n21:40:44 org.elasticsearch.upgrades.UpgradeClusterClientYamlTestSuiteIT > test {p0=mixed_cluster/10_basic/Verify custom cluster metadata still exists during upgrade} FAILED\r\n21:40:44     org.elasticsearch.client.ResponseException: method [DELETE], host [http://127.0.0.1:45427], URI [_data_stream/*?expand_wildcards=all], status line [HTTP/1.1 400 Bad Request]\r\n21:40:44     {\"error\":{\"root_cause\":[{\"type\":\"illegal_argument_exception\",\"reason\":\"request [_data_stream/*] contains unrecognized parameter: [expand_wildcards]\"}],\"type\":\"illegal_argument_exception\",\"reason\":\"request [_data_stream/*] contains unrecognized parameter: [expand_wildcards]\"},\"status\":400}\r\n21:40:44         at __randomizedtesting.SeedInfo.seed([B14966AB2AE645E7:391D5971841A281F]:0)\r\n21:40:44         at org.elasticsearch.client.RestClient.convertResponse(RestClient.java:318)\r\n21:40:44         at org.elasticsearch.client.RestClient.performRequest(RestClient.java:288)\r\n21:40:44         at org.elasticsearch.client.RestClient.performRequest(RestClient.java:262)\r\n21:40:44         at org.elasticsearch.test.rest.ESRestTestCase.wipeDataStreams(ESRestTestCase.java:709)\r\n21:40:44         at org.elasticsearch.test.rest.ESRestTestCase.wipeCluster(ESRestTestCase.java:585)\r\n21:40:44         at org.elasticsearch.test.rest.ESRestTestCase.cleanUpCluster(ESRestTestCase.java:340)\r\n21:40:44         at sun.reflect.GeneratedMethodAccessor16.invoke(Unknown Source)\r\n21:40:44         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n21:40:44         at java.lang.reflect.Method.invoke(Method.java:498)\r\n21:40:44         at com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1750)\r\n21:40:44         at com.carrotsearch.randomizedtesting.RandomizedRunner$10.evaluate(RandomizedRunner.java:996)\r\n21:40:44         at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n21:40:44         at org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:49)\r\n21:40:44         at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\r\n21:40:44         at org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:48)\r\n21:40:44         at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)\r\n21:40:44         at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)\r\n21:40:44         at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n21:40:44         at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368)\r\n21:40:44         at com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:817)\r\n21:40:44         at com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:468)\r\n21:40:44         at com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:947)\r\n21:40:44         at com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:832)\r\n21:40:44         at com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:883)\r\n21:40:44         at com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:894)\r\n21:40:44         at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\r\n21:40:44         at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n21:40:44         at org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:41)\r\n21:40:44         at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)\r\n21:40:44         at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)\r\n21:40:44         at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n21:40:44         at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n21:40:44         at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n21:40:44         at org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:53)\r\n21:40:44         at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)\r\n21:40:44         at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)\r\n21:40:44         at org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:54)\r\n21:40:44         at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n21:40:44         at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368)\r\n21:40:44         at java.lang.Thread.run(Thread.java:748)\r\n21:40:44 REPRODUCE WITH: ./gradlew ':qa:rolling-upgrade:v7.9.4#twoThirdsUpgradedTest' --tests \"org.elasticsearch.upgrades.UpgradeClusterClientYamlTestSuiteIT.test {p0=mixed_cluster/10_basic/Verify custom cluster metadata still exists during upgrade}\" -Dtests.seed=B14966AB2AE645E7 -Dtests.security.manager=true -Dtests.locale=tr-TR -Dtests.timezone=America/Argentina/Mendoza -Dtests.distribution=default -Druntime.java=8 -Dtests.rest.suite=mixed_cluster\r\n21:40:44 \r\n```\r\n\r\n\r\n\r\n\r\n\r\nhttps://gradle-enterprise.elastic.co/s/sopko2m4u3bpg#tests","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/722670917","html_url":"https://github.com/elastic/elasticsearch/issues/64577#issuecomment-722670917","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/64577","id":722670917,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjY3MDkxNw==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2020-11-05T22:00:51Z","updated_at":"2020-11-05T22:00:51Z","author_association":"MEMBER","body":"I did some additional digging and the very first time when it failed, it was in PR build for #63987. There are many tests that fail periodically with this error message. There were 140 failures in the last 3 days. I wonder if @probakowski could also take a look since it is affecting multiple seemingly unrelated tests that would be impractical to mute. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/722671705","html_url":"https://github.com/elastic/elasticsearch/issues/64577#issuecomment-722671705","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/64577","id":722671705,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjY3MTcwNQ==","user":{"login":"probakowski","id":3896475,"node_id":"MDQ6VXNlcjM4OTY0NzU=","avatar_url":"https://avatars1.githubusercontent.com/u/3896475?v=4","gravatar_id":"","url":"https://api.github.com/users/probakowski","html_url":"https://github.com/probakowski","followers_url":"https://api.github.com/users/probakowski/followers","following_url":"https://api.github.com/users/probakowski/following{/other_user}","gists_url":"https://api.github.com/users/probakowski/gists{/gist_id}","starred_url":"https://api.github.com/users/probakowski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/probakowski/subscriptions","organizations_url":"https://api.github.com/users/probakowski/orgs","repos_url":"https://api.github.com/users/probakowski/repos","events_url":"https://api.github.com/users/probakowski/events{/privacy}","received_events_url":"https://api.github.com/users/probakowski/received_events","type":"User","site_admin":false},"created_at":"2020-11-05T22:02:40Z","updated_at":"2020-11-05T22:02:40Z","author_association":"CONTRIBUTOR","body":"Yep, it was me messing up the backport, I've created #64674 to fix it","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/722691879","html_url":"https://github.com/elastic/elasticsearch/issues/64577#issuecomment-722691879","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/64577","id":722691879,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjY5MTg3OQ==","user":{"login":"probakowski","id":3896475,"node_id":"MDQ6VXNlcjM4OTY0NzU=","avatar_url":"https://avatars1.githubusercontent.com/u/3896475?v=4","gravatar_id":"","url":"https://api.github.com/users/probakowski","html_url":"https://github.com/probakowski","followers_url":"https://api.github.com/users/probakowski/followers","following_url":"https://api.github.com/users/probakowski/following{/other_user}","gists_url":"https://api.github.com/users/probakowski/gists{/gist_id}","starred_url":"https://api.github.com/users/probakowski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/probakowski/subscriptions","organizations_url":"https://api.github.com/users/probakowski/orgs","repos_url":"https://api.github.com/users/probakowski/repos","events_url":"https://api.github.com/users/probakowski/events{/privacy}","received_events_url":"https://api.github.com/users/probakowski/received_events","type":"User","site_admin":false},"created_at":"2020-11-05T22:54:23Z","updated_at":"2020-11-05T22:54:23Z","author_association":"CONTRIBUTOR","body":"I'll close it now as #64674 is merged, please reopen if that pops up again","performed_via_github_app":null}]