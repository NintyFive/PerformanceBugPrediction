{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/17605","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17605/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17605/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17605/events","html_url":"https://github.com/elastic/elasticsearch/issues/17605","id":146757298,"node_id":"MDU6SXNzdWUxNDY3NTcyOTg=","number":17605,"title":"Swapping when mlockall is set to true","user":{"login":"jdelgad","id":4778670,"node_id":"MDQ6VXNlcjQ3Nzg2NzA=","avatar_url":"https://avatars2.githubusercontent.com/u/4778670?v=4","gravatar_id":"","url":"https://api.github.com/users/jdelgad","html_url":"https://github.com/jdelgad","followers_url":"https://api.github.com/users/jdelgad/followers","following_url":"https://api.github.com/users/jdelgad/following{/other_user}","gists_url":"https://api.github.com/users/jdelgad/gists{/gist_id}","starred_url":"https://api.github.com/users/jdelgad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdelgad/subscriptions","organizations_url":"https://api.github.com/users/jdelgad/orgs","repos_url":"https://api.github.com/users/jdelgad/repos","events_url":"https://api.github.com/users/jdelgad/events{/privacy}","received_events_url":"https://api.github.com/users/jdelgad/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-04-07T22:15:10Z","updated_at":"2016-04-10T15:45:48Z","closed_at":"2016-04-08T00:35:15Z","author_association":"NONE","active_lock_reason":null,"body":"**Elasticsearch version**: 1.5.2\n\n**JVM version**: 1.8u60\n\n**OS version**: CentOS 7.1\n\n**Description of the problem including expected versus actual behavior**: Appears to be related to https://github.com/elastic/elasticsearch/issues/7504. \n\nOn a 128GB server with 24 cores using a hard disk drive in a 5 node cluster.\n\nRunning `sudo fgrep Swap /proc/PID/status` reports `VmSwap:     1980 kB`\n\n**Steps to reproduce**:\n1. systemd service file configured `LimitNOFILE=65535`\n2. systemd service file configured `LimitMEMLOCK=infinity`\n3. Configured to use non-standard tmp directory due to 'nonexec' using `-Djna.tmpdir`\n\n**Provide logs (if relevant)**:\n\nAttached. They are a bit sanitized, but should be good.\n[nodes_stats.txt](https://github.com/elastic/elasticsearch/files/209319/nodes_stats.txt)\n[nodes.txt](https://github.com/elastic/elasticsearch/files/209320/nodes.txt)\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}