[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/214591522","html_url":"https://github.com/elastic/elasticsearch/issues/17956#issuecomment-214591522","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17956","id":214591522,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDU5MTUyMg==","user":{"login":"navyliu","id":3069432,"node_id":"MDQ6VXNlcjMwNjk0MzI=","avatar_url":"https://avatars2.githubusercontent.com/u/3069432?v=4","gravatar_id":"","url":"https://api.github.com/users/navyliu","html_url":"https://github.com/navyliu","followers_url":"https://api.github.com/users/navyliu/followers","following_url":"https://api.github.com/users/navyliu/following{/other_user}","gists_url":"https://api.github.com/users/navyliu/gists{/gist_id}","starred_url":"https://api.github.com/users/navyliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navyliu/subscriptions","organizations_url":"https://api.github.com/users/navyliu/orgs","repos_url":"https://api.github.com/users/navyliu/repos","events_url":"https://api.github.com/users/navyliu/events{/privacy}","received_events_url":"https://api.github.com/users/navyliu/received_events","type":"User","site_admin":false},"created_at":"2016-04-26T02:47:24Z","updated_at":"2016-04-26T02:47:24Z","author_association":"NONE","body":"We real hope this feature can role back to the normal logic of v1.x . In most situation, parent are main object of domain, and children can add relation to parent at anytime .\nAnd this is the biggest  obstacle for our updating from v1.6 to v2.3 . \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/214628055","html_url":"https://github.com/elastic/elasticsearch/issues/17956#issuecomment-214628055","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17956","id":214628055,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDYyODA1NQ==","user":{"login":"nishantsaini","id":5706169,"node_id":"MDQ6VXNlcjU3MDYxNjk=","avatar_url":"https://avatars3.githubusercontent.com/u/5706169?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantsaini","html_url":"https://github.com/nishantsaini","followers_url":"https://api.github.com/users/nishantsaini/followers","following_url":"https://api.github.com/users/nishantsaini/following{/other_user}","gists_url":"https://api.github.com/users/nishantsaini/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantsaini/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantsaini/subscriptions","organizations_url":"https://api.github.com/users/nishantsaini/orgs","repos_url":"https://api.github.com/users/nishantsaini/repos","events_url":"https://api.github.com/users/nishantsaini/events{/privacy}","received_events_url":"https://api.github.com/users/nishantsaini/received_events","type":"User","site_admin":false},"created_at":"2016-04-26T06:23:25Z","updated_at":"2016-04-26T06:23:25Z","author_association":"NONE","body":"The parent-child relationship and flexibility of adding child at a later stage was one the key feature for using elasticsearch. This restriction has taken away the advantage as in many cases it is not possible to identify all the possible child types in advance. Hope the restriction is relaxed and allow to add new child type if one child type already exists as explained by @martijnvg \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/220367145","html_url":"https://github.com/elastic/elasticsearch/issues/17956#issuecomment-220367145","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17956","id":220367145,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDM2NzE0NQ==","user":{"login":"turp1twin","id":173378,"node_id":"MDQ6VXNlcjE3MzM3OA==","avatar_url":"https://avatars3.githubusercontent.com/u/173378?v=4","gravatar_id":"","url":"https://api.github.com/users/turp1twin","html_url":"https://github.com/turp1twin","followers_url":"https://api.github.com/users/turp1twin/followers","following_url":"https://api.github.com/users/turp1twin/following{/other_user}","gists_url":"https://api.github.com/users/turp1twin/gists{/gist_id}","starred_url":"https://api.github.com/users/turp1twin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/turp1twin/subscriptions","organizations_url":"https://api.github.com/users/turp1twin/orgs","repos_url":"https://api.github.com/users/turp1twin/repos","events_url":"https://api.github.com/users/turp1twin/events{/privacy}","received_events_url":"https://api.github.com/users/turp1twin/received_events","type":"User","site_admin":false},"created_at":"2016-05-19T15:48:46Z","updated_at":"2016-05-19T15:48:46Z","author_association":"NONE","body":"What release will this change be available in? Any chance it will be backported to the 2.3.x branch? Thanks!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/220371055","html_url":"https://github.com/elastic/elasticsearch/issues/17956#issuecomment-220371055","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17956","id":220371055,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDM3MTA1NQ==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2016-05-19T16:01:10Z","updated_at":"2016-05-19T16:01:10Z","author_association":"MEMBER","body":"@turp1twin This will be available in 2.4.0 once it is released. (no scheduled date for this yet). The 2.3 branch is mainly meant for bug fixes and this is a change in behavior, so that is why this won't be back ported to the 2.3 branch.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/220372005","html_url":"https://github.com/elastic/elasticsearch/issues/17956#issuecomment-220372005","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17956","id":220372005,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDM3MjAwNQ==","user":{"login":"turp1twin","id":173378,"node_id":"MDQ6VXNlcjE3MzM3OA==","avatar_url":"https://avatars3.githubusercontent.com/u/173378?v=4","gravatar_id":"","url":"https://api.github.com/users/turp1twin","html_url":"https://github.com/turp1twin","followers_url":"https://api.github.com/users/turp1twin/followers","following_url":"https://api.github.com/users/turp1twin/following{/other_user}","gists_url":"https://api.github.com/users/turp1twin/gists{/gist_id}","starred_url":"https://api.github.com/users/turp1twin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/turp1twin/subscriptions","organizations_url":"https://api.github.com/users/turp1twin/orgs","repos_url":"https://api.github.com/users/turp1twin/repos","events_url":"https://api.github.com/users/turp1twin/events{/privacy}","received_events_url":"https://api.github.com/users/turp1twin/received_events","type":"User","site_admin":false},"created_at":"2016-05-19T16:04:23Z","updated_at":"2016-05-19T16:04:23Z","author_association":"NONE","body":"Thanks @martijnvg! 2.4.0 will work just fine... Ship It! :-)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/237447419","html_url":"https://github.com/elastic/elasticsearch/issues/17956#issuecomment-237447419","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17956","id":237447419,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzQ0NzQxOQ==","user":{"login":"turp1twin","id":173378,"node_id":"MDQ6VXNlcjE3MzM3OA==","avatar_url":"https://avatars3.githubusercontent.com/u/173378?v=4","gravatar_id":"","url":"https://api.github.com/users/turp1twin","html_url":"https://github.com/turp1twin","followers_url":"https://api.github.com/users/turp1twin/followers","following_url":"https://api.github.com/users/turp1twin/following{/other_user}","gists_url":"https://api.github.com/users/turp1twin/gists{/gist_id}","starred_url":"https://api.github.com/users/turp1twin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/turp1twin/subscriptions","organizations_url":"https://api.github.com/users/turp1twin/orgs","repos_url":"https://api.github.com/users/turp1twin/repos","events_url":"https://api.github.com/users/turp1twin/events{/privacy}","received_events_url":"https://api.github.com/users/turp1twin/received_events","type":"User","site_admin":false},"created_at":"2016-08-04T04:08:51Z","updated_at":"2016-08-04T04:08:51Z","author_association":"NONE","body":"Any updates on a potential ship date for 2.4.0? Thanks!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/344565690","html_url":"https://github.com/elastic/elasticsearch/issues/17956#issuecomment-344565690","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17956","id":344565690,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDU2NTY5MA==","user":{"login":"AliCharper","id":12136692,"node_id":"MDQ6VXNlcjEyMTM2Njky","avatar_url":"https://avatars0.githubusercontent.com/u/12136692?v=4","gravatar_id":"","url":"https://api.github.com/users/AliCharper","html_url":"https://github.com/AliCharper","followers_url":"https://api.github.com/users/AliCharper/followers","following_url":"https://api.github.com/users/AliCharper/following{/other_user}","gists_url":"https://api.github.com/users/AliCharper/gists{/gist_id}","starred_url":"https://api.github.com/users/AliCharper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AliCharper/subscriptions","organizations_url":"https://api.github.com/users/AliCharper/orgs","repos_url":"https://api.github.com/users/AliCharper/repos","events_url":"https://api.github.com/users/AliCharper/events{/privacy}","received_events_url":"https://api.github.com/users/AliCharper/received_events","type":"User","site_admin":false},"created_at":"2017-11-15T11:30:34Z","updated_at":"2017-11-15T11:35:17Z","author_association":"NONE","body":"Hi,\r\n\r\nI really need to write a query for a scenario like this to have all the data in the parent and child with just a single query. It seems writing a query when we have more than one child under a single parent is not that easy or possible.\r\n\r\n```\r\nPOST /test/grandparent/_search?pretty\r\n{\r\n  \"query\": \r\n  {\r\n    \"has_child\": \r\n    {\r\n      \"type\": \"parent\",\r\n      \"query\": \r\n      {\r\n        \"has_child\": \r\n        {\r\n          \"type\": \"child\",\r\n          \"query\": \r\n          {            \r\n            \"match_all\": {}\r\n          },\r\n           \"inner_hits\": {}\r\n        }\r\n      },\r\n           \"inner_hits\": {}\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nif I had a secondchild type, I can not add it beside the child in the query. I have written the whole mapping below.\r\n\r\n```\r\nPUT /test\r\n{\r\n  \"mappings\": {\r\n    \"grandparent\": {},\r\n    \"parent\": {\r\n      \"_parent\": {\r\n        \"type\": \"grandparent\" \r\n      }\r\n    },\r\n    \"child\": {\r\n      \"_parent\": {\r\n        \"type\": \"parent\" \r\n      }\r\n    }\r\n    ,\r\n    \"secondchild\": {\r\n      \"_parent\": {\r\n        \"type\": \"parent\" \r\n      }\r\n  }\r\n  }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n","performed_via_github_app":null}]