[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/652440691","html_url":"https://github.com/elastic/elasticsearch/issues/58842#issuecomment-652440691","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/58842","id":652440691,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjQ0MDY5MQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-07-01T14:08:30Z","updated_at":"2020-07-01T14:08:30Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra (:Core/Infra/Core)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/669933664","html_url":"https://github.com/elastic/elasticsearch/issues/58842#issuecomment-669933664","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/58842","id":669933664,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTkzMzY2NA==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2020-08-06T13:41:30Z","updated_at":"2020-08-06T13:41:30Z","author_association":"CONTRIBUTOR","body":"And another one: https://gradle-enterprise.elastic.co/s/dfgm27kbi22uu","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/670249525","html_url":"https://github.com/elastic/elasticsearch/issues/58842#issuecomment-670249525","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/58842","id":670249525,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MDI0OTUyNQ==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2020-08-07T00:04:02Z","updated_at":"2020-08-07T00:04:02Z","author_association":"MEMBER","body":"@ywelsch Given that the error here is due to a mismatch in the expected number of nodes, specifically the TestCluster appears to have less nodes than returned by the hotthreads api, is it possible the test cluster dropped a node due to the overhead of the hotthreads being requested? Do we have sufficient logging/assertions to ensure an in memory test cluster fails the test if a node fails unexpectedly?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/671206459","html_url":"https://github.com/elastic/elasticsearch/issues/58842#issuecomment-671206459","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/58842","id":671206459,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTIwNjQ1OQ==","user":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"created_at":"2020-08-10T07:34:50Z","updated_at":"2020-08-10T07:34:50Z","author_association":"CONTRIBUTOR","body":"@rjernst I don't expect a node to have dropped from the cluster, otherwise we would see it in the logs. This looks more to be failure related to the API call. Note that in the failure case the hot_threads API response (like for any `TransportNodesAction`) can contain failures, i.e. `nodeHotThreads.hasFailures` might be true here, which means that we won't have a response for every node, so perhaps add an assertion for that first, printing out `nodeHotThreads.failures()` to see what the failure is?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/698003937","html_url":"https://github.com/elastic/elasticsearch/issues/58842#issuecomment-698003937","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/58842","id":698003937,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODAwMzkzNw==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2020-09-23T22:25:59Z","updated_at":"2020-09-23T22:25:59Z","author_association":"MEMBER","body":"I added additional debugging statements as suggested, but this failure has not reoccurred in the last several months. Since there is nothing actionable here, I'm going to close. We can open a new issue when it eventually reoccurs.","performed_via_github_app":null}]