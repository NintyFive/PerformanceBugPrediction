{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/18843","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18843/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18843/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18843/events","html_url":"https://github.com/elastic/elasticsearch/issues/18843","id":159990682,"node_id":"MDU6SXNzdWUxNTk5OTA2ODI=","number":18843,"title":"No space left on device and then \"FileAlreadyExistsException\"","user":{"login":"almoghzn","id":16574356,"node_id":"MDQ6VXNlcjE2NTc0MzU2","avatar_url":"https://avatars1.githubusercontent.com/u/16574356?v=4","gravatar_id":"","url":"https://api.github.com/users/almoghzn","html_url":"https://github.com/almoghzn","followers_url":"https://api.github.com/users/almoghzn/followers","following_url":"https://api.github.com/users/almoghzn/following{/other_user}","gists_url":"https://api.github.com/users/almoghzn/gists{/gist_id}","starred_url":"https://api.github.com/users/almoghzn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/almoghzn/subscriptions","organizations_url":"https://api.github.com/users/almoghzn/orgs","repos_url":"https://api.github.com/users/almoghzn/repos","events_url":"https://api.github.com/users/almoghzn/events{/privacy}","received_events_url":"https://api.github.com/users/almoghzn/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-06-13T16:23:55Z","updated_at":"2016-06-13T16:27:30Z","closed_at":"2016-06-13T16:27:30Z","author_association":"NONE","active_lock_reason":null,"body":"We are using Elasticsearch:\n\n{\n  \"name\": \"Guardsman\",\n  \"cluster_name\": \"elasticsearch\",\n  \"version\": {\n    \"number\": \"2.0.0\",\n    \"build_hash\": \"de54438d6af8f9340d50c5c786151783ce7d6be5\",\n    \"build_timestamp\": \"2015-10-22T08:09:48Z\",\n    \"build_snapshot\": false,\n    \"lucene_version\": \"5.2.1\"\n  },\n  \"tagline\": \"You Know, for Search\"\n}\n\nES hosted on linux server (ubuntu).\nThe server had 50 GiB volume of storage.\n\nSuddenly ES stopped working at all.\n\nSearch queries retrieve the following result:\n\"error\": \"SearchPhaseExecutionException[Failed to execute phase [query], all shards failed; \n\nES cluster health status was Red, all the shard status were red as well.\n\nAfter digging in ES logs I figured out that there are no space on disk,\nin order to resolve the issue, I create a new expended storage volume for ES server.\n\nUnfartently, this did not resolve the problem, We still getting errors from ES.\nThis time FileAlreadyExistsException (while recovering shards according to ES's logs).\n\nAttached logs file of ES from both, before expending the volume and after.\n\nFor being operative we deleted all of our indices at ES at then restart ES service,\nand this of-curse solved the issue, BUT we lost all of our data.\n1. How can we avoid such of incidents in the future?\n2. Is there any resolution to \"FileAlreadyExistsException\"?\n\nThank in advance.\n\n[es log.zip](https://github.com/elastic/elasticsearch/files/312252/es.log.zip)\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}