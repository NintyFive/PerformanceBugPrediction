{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/20672","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20672/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20672/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20672/events","html_url":"https://github.com/elastic/elasticsearch/issues/20672","id":179551028,"node_id":"MDU6SXNzdWUxNzk1NTEwMjg=","number":20672,"title":"Unable parse yml file with missing space between key & value.","user":{"login":"niemyjski","id":1020579,"node_id":"MDQ6VXNlcjEwMjA1Nzk=","avatar_url":"https://avatars3.githubusercontent.com/u/1020579?v=4","gravatar_id":"","url":"https://api.github.com/users/niemyjski","html_url":"https://github.com/niemyjski","followers_url":"https://api.github.com/users/niemyjski/followers","following_url":"https://api.github.com/users/niemyjski/following{/other_user}","gists_url":"https://api.github.com/users/niemyjski/gists{/gist_id}","starred_url":"https://api.github.com/users/niemyjski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niemyjski/subscriptions","organizations_url":"https://api.github.com/users/niemyjski/orgs","repos_url":"https://api.github.com/users/niemyjski/repos","events_url":"https://api.github.com/users/niemyjski/events{/privacy}","received_events_url":"https://api.github.com/users/niemyjski/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-09-27T16:54:26Z","updated_at":"2016-09-27T20:03:35Z","closed_at":"2016-09-27T20:03:34Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Elastic 5.0-Beta1\n\nconfiguration file that breaks.\n\n``` yaml\n# single node configuration\ncluster.name: exceptionless-dev\naction.auto_create_index: false\n#action.destructive_requires_name: true\ndiscovery.type: local\ntransport.type:local\nhttp.port: 9200\ntransport.tcp.port: 9300\nbootstrap.memory_lock: true\n```\n\nIf there is no space `transport.type:local` after the `:` it throws the following error:\n\n```\nPS C:\\elasticsearch.5.0\\bin> .\\elasticsearch.bat\nException in thread \"main\" SettingsException[Failed to load settings from C:\\elasticsearch.5.0\\config\\elasticsearch.yml]; nested: MarkedYAMLException[while scan\nning a simple key\n in 'reader', line 6, column 1:\n    transport.type:local\n    ^\ncould not find expected ':'\n in 'reader', line 7, column 1:\n    http.port: 9200\n    ^\n\n at [Source: # single node configuration\ncluster.name: exceptionless-dev\naction.auto_create_index: false\n#action.destructive_requires_name: true\ndiscovery.type: local\ntransport.type:local\nhttp.port: 9200\ntransport.tcp.port: 9300\nbootstrap.memory_lock: true; line: 5, column: 22]]; nested: ScannerException[while scanning a simple key\n in 'reader', line 6, column 1:\n    transport.type:local\n    ^\ncould not find expected ':'\n in 'reader', line 7, column 1:\n    http.port: 9200\n    ^\n];\nLikely root cause: while scanning a simple key\n in 'reader', line 6, column 1:\n    transport.type:local\n    ^\ncould not find expected ':'\n in 'reader', line 7, column 1:\n    http.port: 9200\n    ^\n\n        at org.yaml.snakeyaml.scanner.ScannerImpl.stalePossibleSimpleKeys(ScannerImpl.java:465)\n        at org.yaml.snakeyaml.scanner.ScannerImpl.needMoreTokens(ScannerImpl.java:280)\n        at org.yaml.snakeyaml.scanner.ScannerImpl.checkToken(ScannerImpl.java:225)\n        at org.yaml.snakeyaml.parser.ParserImpl$ParseBlockMappingKey.produce(ParserImpl.java:558)\n        at org.yaml.snakeyaml.parser.ParserImpl.peekEvent(ParserImpl.java:158)\n        at org.yaml.snakeyaml.parser.ParserImpl.getEvent(ParserImpl.java:168)\n        at com.fasterxml.jackson.dataformat.yaml.YAMLParser.nextToken(YAMLParser.java:340)\n        at org.elasticsearch.common.xcontent.json.JsonXContentParser.nextToken(JsonXContentParser.java:52)\n        at org.elasticsearch.common.settings.loader.XContentSettingsLoader.serializeObject(XContentSettingsLoader.java:102)\n        at org.elasticsearch.common.settings.loader.XContentSettingsLoader.load(XContentSettingsLoader.java:72)\n        at org.elasticsearch.common.settings.loader.XContentSettingsLoader.load(XContentSettingsLoader.java:50)\n        at org.elasticsearch.common.settings.loader.YamlSettingsLoader.load(YamlSettingsLoader.java:50)\n        at org.elasticsearch.common.settings.Settings$Builder.loadFromStream(Settings.java:935)\n        at org.elasticsearch.common.settings.Settings$Builder.loadFromPath(Settings.java:924)\n        at org.elasticsearch.node.internal.InternalSettingsPreparer.prepareEnvironment(InternalSettingsPreparer.java:102)\n        at org.elasticsearch.bootstrap.Bootstrap.initialEnvironment(Bootstrap.java:207)\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:247)\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:112)\n        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:103)\n        at org.elasticsearch.cli.SettingCommand.execute(SettingCommand.java:54)\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:96)\n        at org.elasticsearch.cli.Command.main(Command.java:62)\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:80)\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:73)\nRefer to the log for complete error details.\n```\n\nI feel like this should be handled better and also have a better error message\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}