[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/161262101","html_url":"https://github.com/elastic/elasticsearch/issues/15160#issuecomment-161262101","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15160","id":161262101,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTI2MjEwMQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-12-02T11:05:30Z","updated_at":"2015-12-02T11:05:30Z","author_association":"CONTRIBUTOR","body":"Interesting point.  I wonder if a better way to solve this would be to have the percolator fetch the mapping from the source index, instead of storing it locally. Not sure if that's possible.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/161389436","html_url":"https://github.com/elastic/elasticsearch/issues/15160#issuecomment-161389436","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15160","id":161389436,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTM4OTQzNg==","user":{"login":"rossbrower","id":12072726,"node_id":"MDQ6VXNlcjEyMDcyNzI2","avatar_url":"https://avatars3.githubusercontent.com/u/12072726?v=4","gravatar_id":"","url":"https://api.github.com/users/rossbrower","html_url":"https://github.com/rossbrower","followers_url":"https://api.github.com/users/rossbrower/followers","following_url":"https://api.github.com/users/rossbrower/following{/other_user}","gists_url":"https://api.github.com/users/rossbrower/gists{/gist_id}","starred_url":"https://api.github.com/users/rossbrower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rossbrower/subscriptions","organizations_url":"https://api.github.com/users/rossbrower/orgs","repos_url":"https://api.github.com/users/rossbrower/repos","events_url":"https://api.github.com/users/rossbrower/events{/privacy}","received_events_url":"https://api.github.com/users/rossbrower/received_events","type":"User","site_admin":false},"created_at":"2015-12-02T18:24:34Z","updated_at":"2015-12-02T18:26:36Z","author_association":"NONE","body":"That would certainly work for my purposes as writing the mapping twice is a bit redundant. If you are able to percolate a document that lives in a different index it would be more intuitive if the mappings were fetched/cached from the source index. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/163906884","html_url":"https://github.com/elastic/elasticsearch/issues/15160#issuecomment-163906884","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15160","id":163906884,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MzkwNjg4NA==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2015-12-11T10:47:07Z","updated_at":"2015-12-11T11:50:06Z","author_association":"MEMBER","body":"The percolator queries are parsed based on that doc type mapping in the percolator index, so removing that mapping and would make the already added percolator queries invalid. So it is important that the doc type mapping can't be deleted or existing fields to be changed. \n\nThe only solution here would be to reindex the all the percolator queries. Once the [reindex api](https://github.com/elastic/elasticsearch/issues/15201) is added this will be easier to manage.\n","performed_via_github_app":null}]