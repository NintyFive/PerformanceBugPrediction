{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/15438","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15438/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15438/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15438/events","html_url":"https://github.com/elastic/elasticsearch/issues/15438","id":122264590,"node_id":"MDU6SXNzdWUxMjIyNjQ1OTA=","number":15438,"title":"simplify and improve repository-hdfs plugin","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"labels":[{"id":143077482,"node_id":"MDU6TGFiZWwxNDMwNzc0ODI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Snapshot/Restore","name":":Distributed/Snapshot/Restore","color":"0e8a16","default":false,"description":"Anything directly related to the `_snapshot/*` APIs"},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":92913658,"node_id":"MDU6TGFiZWw5MjkxMzY1OA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/blocker","name":"blocker","color":"e11d21","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":12,"created_at":"2015-12-15T12:44:48Z","updated_at":"2018-02-14T13:55:28Z","closed_at":"2015-12-23T23:21:11Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"As-is, the repository-hdfs plugin isn't going to work at all from what i see.\n\nI'm just plotting what I think we need to do to fix it, before releasing it:\n- Four plugin zip versions are created, none are really tested, none are working (except on windows). For example the `-lite.zip` has no hadoop jars and expects the users to drop hadoop jars in their ES_CLASSPATH. We don't allow this, this is not going to work at all.\n- we need to drop the `-hadoop1` and `-lite` stuff and just one have one jar, we need to get the basics working, walk before we can run. from what i see, things aren't working at all.\n- documentation recommends adding configuration files and similar to the `CLASSPATH` or ES `lib/` folder, we can't do things this way anymore! Its not going to work!\n- security permissions are not correct: it only adds `jaas_nt`. This means that this plugin is only going to work on windows NT platforms: anything else = instant security exception.\n- The use of HDFS should be made reliable (means hdfs2 only), since its a snapshot restore plugin. To me this means two things, fsync and atomic rename. I don't see any synchronization, and the rename it uses for committing does not look like the atomic one (rename2).\n- no tests are failing!\n","closed_by":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"performed_via_github_app":null}