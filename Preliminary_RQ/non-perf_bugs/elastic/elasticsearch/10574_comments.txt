[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/92408248","html_url":"https://github.com/elastic/elasticsearch/issues/10574#issuecomment-92408248","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10574","id":92408248,"node_id":"MDEyOklzc3VlQ29tbWVudDkyNDA4MjQ4","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-04-13T15:48:00Z","updated_at":"2015-04-13T15:48:00Z","author_association":"CONTRIBUTOR","body":"@luca what do we normally do here? Require `_all` or accept null?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/93677121","html_url":"https://github.com/elastic/elasticsearch/issues/10574#issuecomment-93677121","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10574","id":93677121,"node_id":"MDEyOklzc3VlQ29tbWVudDkzNjc3MTIx","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2015-04-16T08:28:30Z","updated_at":"2015-04-16T08:29:01Z","author_association":"MEMBER","body":"This is a bug, `null` becomes an empty array when the request goes through the wire, but if the request gets executed immediately on the node where it's created it causes NPE. In the context of cluster health empty indices mean no indices (only the global cluster health is returned), it is probably appropriate to check for null in TransportClusterHealthAction where the NPE gets thrown.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/133750944","html_url":"https://github.com/elastic/elasticsearch/issues/10574#issuecomment-133750944","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10574","id":133750944,"node_id":"MDEyOklzc3VlQ29tbWVudDEzMzc1MDk0NA==","user":{"login":"andrestc","id":2944739,"node_id":"MDQ6VXNlcjI5NDQ3Mzk=","avatar_url":"https://avatars3.githubusercontent.com/u/2944739?v=4","gravatar_id":"","url":"https://api.github.com/users/andrestc","html_url":"https://github.com/andrestc","followers_url":"https://api.github.com/users/andrestc/followers","following_url":"https://api.github.com/users/andrestc/following{/other_user}","gists_url":"https://api.github.com/users/andrestc/gists{/gist_id}","starred_url":"https://api.github.com/users/andrestc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrestc/subscriptions","organizations_url":"https://api.github.com/users/andrestc/orgs","repos_url":"https://api.github.com/users/andrestc/repos","events_url":"https://api.github.com/users/andrestc/events{/privacy}","received_events_url":"https://api.github.com/users/andrestc/received_events","type":"User","site_admin":false},"created_at":"2015-08-22T20:11:08Z","updated_at":"2015-08-25T21:08:23Z","author_association":"CONTRIBUTOR","body":"@javanna I think I will take a shot on this one. Should we treat null as \"_all\"?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/140925013","html_url":"https://github.com/elastic/elasticsearch/issues/10574#issuecomment-140925013","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10574","id":140925013,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MDkyNTAxMw==","user":{"login":"andrestc","id":2944739,"node_id":"MDQ6VXNlcjI5NDQ3Mzk=","avatar_url":"https://avatars3.githubusercontent.com/u/2944739?v=4","gravatar_id":"","url":"https://api.github.com/users/andrestc","html_url":"https://github.com/andrestc","followers_url":"https://api.github.com/users/andrestc/followers","following_url":"https://api.github.com/users/andrestc/following{/other_user}","gists_url":"https://api.github.com/users/andrestc/gists{/gist_id}","starred_url":"https://api.github.com/users/andrestc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrestc/subscriptions","organizations_url":"https://api.github.com/users/andrestc/orgs","repos_url":"https://api.github.com/users/andrestc/repos","events_url":"https://api.github.com/users/andrestc/events{/privacy}","received_events_url":"https://api.github.com/users/andrestc/received_events","type":"User","site_admin":false},"created_at":"2015-09-16T23:27:22Z","updated_at":"2015-09-16T23:27:22Z","author_association":"CONTRIBUTOR","body":"I decided to give this a try but im not able to reproduce this on master.\nI added the following test case:\n\n``` java\n@Test //issue #10574\n    public void testLocalHealthWithNullIndicesActLikeAll() {\n        createIndex(\"test\");\n        ensureGreen();\n\n        for (String node : internalCluster().getNodeNames()) {\n            logger.info(\"--> running cluster local health with null indices\");\n            ClusterHealthResponse health = client(node).admin().cluster().prepareHealth(null).setLocal(true).setWaitForEvents(Priority.LANGUID).setTimeout(\"30s\").get(\"10s\");\n            assertThat(health.getStatus(), equalTo(ClusterHealthStatus.GREEN));\n            assertThat(health.isTimedOut(), equalTo(false));\n            assertThat(health.getIndices().get(\"test\").getStatus(), equalTo(ClusterHealthStatus.GREEN));\n        }\n    }\n```\n\nAnd it passes. I belive this bug is fixed in master, because we handle this case in [IndexNameExpressionResolver](https://github.com/elastic/elasticsearch/blob/master/core/src/main/java/org/elasticsearch/cluster/metadata/IndexNameExpressionResolver.java#L116).\n\n@clintongormley @javanna do we need this fixed in 1.x?\nIf this is indeed fixed in master, do you want me to PR the test case?\n\nThanks.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/141493082","html_url":"https://github.com/elastic/elasticsearch/issues/10574#issuecomment-141493082","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10574","id":141493082,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MTQ5MzA4Mg==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-09-18T15:59:33Z","updated_at":"2015-09-18T15:59:33Z","author_association":"CONTRIBUTOR","body":"@andrestc this is a minor bug with an easy workaround - i wouldn't fix it for 1.x.  It sounds like it is already fixed in master? If so, then I'd just close this issue.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/141493684","html_url":"https://github.com/elastic/elasticsearch/issues/10574#issuecomment-141493684","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10574","id":141493684,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MTQ5MzY4NA==","user":{"login":"andrestc","id":2944739,"node_id":"MDQ6VXNlcjI5NDQ3Mzk=","avatar_url":"https://avatars3.githubusercontent.com/u/2944739?v=4","gravatar_id":"","url":"https://api.github.com/users/andrestc","html_url":"https://github.com/andrestc","followers_url":"https://api.github.com/users/andrestc/followers","following_url":"https://api.github.com/users/andrestc/following{/other_user}","gists_url":"https://api.github.com/users/andrestc/gists{/gist_id}","starred_url":"https://api.github.com/users/andrestc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrestc/subscriptions","organizations_url":"https://api.github.com/users/andrestc/orgs","repos_url":"https://api.github.com/users/andrestc/repos","events_url":"https://api.github.com/users/andrestc/events{/privacy}","received_events_url":"https://api.github.com/users/andrestc/received_events","type":"User","site_admin":false},"created_at":"2015-09-18T16:02:17Z","updated_at":"2015-09-18T16:02:17Z","author_association":"CONTRIBUTOR","body":"@clintongormley Cool. Yea, It looks fixed.\n","performed_via_github_app":null}]