[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/156398636","html_url":"https://github.com/elastic/elasticsearch/issues/14724#issuecomment-156398636","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14724","id":156398636,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NjM5ODYzNg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2015-11-13T11:04:25Z","updated_at":"2015-11-13T11:04:25Z","author_association":"MEMBER","body":"Would you be able to provide any additional details about the nature of how it's not working? Are there any error or log messages that you can share?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/156436307","html_url":"https://github.com/elastic/elasticsearch/issues/14724#issuecomment-156436307","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14724","id":156436307,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NjQzNjMwNw==","user":{"login":"StrongPa55w0rd","id":356327,"node_id":"MDQ6VXNlcjM1NjMyNw==","avatar_url":"https://avatars2.githubusercontent.com/u/356327?v=4","gravatar_id":"","url":"https://api.github.com/users/StrongPa55w0rd","html_url":"https://github.com/StrongPa55w0rd","followers_url":"https://api.github.com/users/StrongPa55w0rd/followers","following_url":"https://api.github.com/users/StrongPa55w0rd/following{/other_user}","gists_url":"https://api.github.com/users/StrongPa55w0rd/gists{/gist_id}","starred_url":"https://api.github.com/users/StrongPa55w0rd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StrongPa55w0rd/subscriptions","organizations_url":"https://api.github.com/users/StrongPa55w0rd/orgs","repos_url":"https://api.github.com/users/StrongPa55w0rd/repos","events_url":"https://api.github.com/users/StrongPa55w0rd/events{/privacy}","received_events_url":"https://api.github.com/users/StrongPa55w0rd/received_events","type":"User","site_admin":false},"created_at":"2015-11-13T13:56:04Z","updated_at":"2015-11-13T13:56:04Z","author_association":"NONE","body":"unfortunately the logs are not creating. I followed the ansible playbook \nhttps://github.com/Traackr/ansible-elasticsearch\n\nThere is no error message when it starts. Its starts ok, But when i check the status it shows stopped\n\nhttp://pastebin.com/uQh8cTTh\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/156445527","html_url":"https://github.com/elastic/elasticsearch/issues/14724#issuecomment-156445527","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14724","id":156445527,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NjQ0NTUyNw==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2015-11-13T14:22:48Z","updated_at":"2015-11-13T14:22:48Z","author_association":"CONTRIBUTOR","body":"So 11.04 isn't an officially supported version - 12.04, 14.04 are. And we test on 15.04 too because why not. Most of that testing is in 2.0 onwards and not so much 1.x. That being said I imagine it ought to work.\n\nThe first thing I do when I get into a situation like this is to run `bin/elasticsearch` as the `elasticsearch` user just to see if Java starts. If you don't get any log at all this is typically caused by something super early.\n\nAnother thing you can do is temporarily hack the init script to not run elasticsearch daemonized. If you do that it won't close stdout and you can read the logs.\n\nIt'd be nice to do this all automatically but its just hard in init.d land. In systemd its simpler _but_ we haven't done it because not everyone uses systemd.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/156449785","html_url":"https://github.com/elastic/elasticsearch/issues/14724#issuecomment-156449785","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14724","id":156449785,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NjQ0OTc4NQ==","user":{"login":"StrongPa55w0rd","id":356327,"node_id":"MDQ6VXNlcjM1NjMyNw==","avatar_url":"https://avatars2.githubusercontent.com/u/356327?v=4","gravatar_id":"","url":"https://api.github.com/users/StrongPa55w0rd","html_url":"https://github.com/StrongPa55w0rd","followers_url":"https://api.github.com/users/StrongPa55w0rd/followers","following_url":"https://api.github.com/users/StrongPa55w0rd/following{/other_user}","gists_url":"https://api.github.com/users/StrongPa55w0rd/gists{/gist_id}","starred_url":"https://api.github.com/users/StrongPa55w0rd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StrongPa55w0rd/subscriptions","organizations_url":"https://api.github.com/users/StrongPa55w0rd/orgs","repos_url":"https://api.github.com/users/StrongPa55w0rd/repos","events_url":"https://api.github.com/users/StrongPa55w0rd/events{/privacy}","received_events_url":"https://api.github.com/users/StrongPa55w0rd/received_events","type":"User","site_admin":false},"created_at":"2015-11-13T14:38:40Z","updated_at":"2015-11-13T14:38:40Z","author_association":"NONE","body":"yes i am using 14.04 and it works fine when i run manually\nbin/elasticsearch\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/156457196","html_url":"https://github.com/elastic/elasticsearch/issues/14724#issuecomment-156457196","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14724","id":156457196,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NjQ1NzE5Ng==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2015-11-13T15:11:08Z","updated_at":"2015-11-13T15:11:08Z","author_association":"CONTRIBUTOR","body":"> yes i am using 14.04 and it works fine when i run manually bin/elasticsearch\n\nDo you mean that 14.04 works fine when you run `bin/elasticsearch` or that 11.04 works fine when you run `bin/elasticsearch`?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/156458055","html_url":"https://github.com/elastic/elasticsearch/issues/14724#issuecomment-156458055","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14724","id":156458055,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NjQ1ODA1NQ==","user":{"login":"StrongPa55w0rd","id":356327,"node_id":"MDQ6VXNlcjM1NjMyNw==","avatar_url":"https://avatars2.githubusercontent.com/u/356327?v=4","gravatar_id":"","url":"https://api.github.com/users/StrongPa55w0rd","html_url":"https://github.com/StrongPa55w0rd","followers_url":"https://api.github.com/users/StrongPa55w0rd/followers","following_url":"https://api.github.com/users/StrongPa55w0rd/following{/other_user}","gists_url":"https://api.github.com/users/StrongPa55w0rd/gists{/gist_id}","starred_url":"https://api.github.com/users/StrongPa55w0rd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StrongPa55w0rd/subscriptions","organizations_url":"https://api.github.com/users/StrongPa55w0rd/orgs","repos_url":"https://api.github.com/users/StrongPa55w0rd/repos","events_url":"https://api.github.com/users/StrongPa55w0rd/events{/privacy}","received_events_url":"https://api.github.com/users/StrongPa55w0rd/received_events","type":"User","site_admin":false},"created_at":"2015-11-13T15:13:55Z","updated_at":"2015-11-13T15:13:55Z","author_association":"NONE","body":"14.04 is the version i am using and it works fine with bin/elasticsearch. However it is not working with init script. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/156461792","html_url":"https://github.com/elastic/elasticsearch/issues/14724#issuecomment-156461792","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14724","id":156461792,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NjQ2MTc5Mg==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2015-11-13T15:22:32Z","updated_at":"2015-11-13T15:22:32Z","author_association":"CONTRIBUTOR","body":"Oh! In that case I imagine its some kind of invalid configuration. Can you try (temporarily) removing `-d` from the `start-stop-daemon` line? That should foreground elasticsearch and it should spit out _something_ when you run it.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/156463209","html_url":"https://github.com/elastic/elasticsearch/issues/14724#issuecomment-156463209","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14724","id":156463209,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NjQ2MzIwOQ==","user":{"login":"StrongPa55w0rd","id":356327,"node_id":"MDQ6VXNlcjM1NjMyNw==","avatar_url":"https://avatars2.githubusercontent.com/u/356327?v=4","gravatar_id":"","url":"https://api.github.com/users/StrongPa55w0rd","html_url":"https://github.com/StrongPa55w0rd","followers_url":"https://api.github.com/users/StrongPa55w0rd/followers","following_url":"https://api.github.com/users/StrongPa55w0rd/following{/other_user}","gists_url":"https://api.github.com/users/StrongPa55w0rd/gists{/gist_id}","starred_url":"https://api.github.com/users/StrongPa55w0rd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StrongPa55w0rd/subscriptions","organizations_url":"https://api.github.com/users/StrongPa55w0rd/orgs","repos_url":"https://api.github.com/users/StrongPa55w0rd/repos","events_url":"https://api.github.com/users/StrongPa55w0rd/events{/privacy}","received_events_url":"https://api.github.com/users/StrongPa55w0rd/received_events","type":"User","site_admin":false},"created_at":"2015-11-13T15:26:14Z","updated_at":"2015-11-13T15:26:14Z","author_association":"NONE","body":"Thanks Nick for helping out. I tried removing the -d from init script and its still same.\n\nPID_FILE=\"$PID_DIR/$NAME.pid\"\nDAEMON=$ES_HOME/bin/elasticsearch\nDAEMON_OPTS=\"-p $PID_FILE --default.config=$CONF_FILE --default.path.home=$ES_HOME --default.path.logs=$LOG_DIR --default.path.data=$DATA_DIR --default.path.work=$WORK_DIR --default.path.conf=$CONF_DIR\"\nDAEMON_OPTS=\"$DAEMON_OPTS -Des.max-open-files=true\"\n\nroot@ip-10-1-5-141:/var/run/elasticsearch# /etc/init.d/elasticsearch status\n- elasticsearch is not running\n  root@ip-10-1-5-141:/var/run/elasticsearch# /etc/init.d/elasticsearch stop\n- Stopping Elasticsearch Server\n  ...done.\n  root@ip-10-1-5-141:/var/run/elasticsearch# /etc/init.d/elasticsearch start\n- Starting Elasticsearch Server\n  root@ip-10-1-5-141:/var/run/elasticsearch# \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/156464438","html_url":"https://github.com/elastic/elasticsearch/issues/14724#issuecomment-156464438","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14724","id":156464438,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NjQ2NDQzOA==","user":{"login":"StrongPa55w0rd","id":356327,"node_id":"MDQ6VXNlcjM1NjMyNw==","avatar_url":"https://avatars2.githubusercontent.com/u/356327?v=4","gravatar_id":"","url":"https://api.github.com/users/StrongPa55w0rd","html_url":"https://github.com/StrongPa55w0rd","followers_url":"https://api.github.com/users/StrongPa55w0rd/followers","following_url":"https://api.github.com/users/StrongPa55w0rd/following{/other_user}","gists_url":"https://api.github.com/users/StrongPa55w0rd/gists{/gist_id}","starred_url":"https://api.github.com/users/StrongPa55w0rd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StrongPa55w0rd/subscriptions","organizations_url":"https://api.github.com/users/StrongPa55w0rd/orgs","repos_url":"https://api.github.com/users/StrongPa55w0rd/repos","events_url":"https://api.github.com/users/StrongPa55w0rd/events{/privacy}","received_events_url":"https://api.github.com/users/StrongPa55w0rd/received_events","type":"User","site_admin":false},"created_at":"2015-11-13T15:31:45Z","updated_at":"2015-11-13T15:31:45Z","author_association":"NONE","body":"Init script - http://pastebin.com/nVHnSiAE\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/156468440","html_url":"https://github.com/elastic/elasticsearch/issues/14724#issuecomment-156468440","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14724","id":156468440,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NjQ2ODQ0MA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2015-11-13T15:45:10Z","updated_at":"2015-11-13T15:45:10Z","author_association":"CONTRIBUTOR","body":"Can you try deleting this line from your init script:\n\n```\nDAEMON_OPTS=\"$DAEMON_OPTS -Des.max-open-files=true\"\n```\n\nThat is the only difference I can see between it and the one that comes with 1.7.3. The trouble with lines like the one above is that they break anything with a space in it.\n\nIts very strange that you don't get output from elasticsearch without the `-d`. Its been a while since I tried it. Maybe `start-stop-daemon` is eating it.  Can you try echoing the command that Elasticsearch would run from `bin/elasticsearch` and running it yourself as the right user?\n\nI hate these sorts of issues and I'm really sorry about them.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/156481306","html_url":"https://github.com/elastic/elasticsearch/issues/14724#issuecomment-156481306","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14724","id":156481306,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NjQ4MTMwNg==","user":{"login":"StrongPa55w0rd","id":356327,"node_id":"MDQ6VXNlcjM1NjMyNw==","avatar_url":"https://avatars2.githubusercontent.com/u/356327?v=4","gravatar_id":"","url":"https://api.github.com/users/StrongPa55w0rd","html_url":"https://github.com/StrongPa55w0rd","followers_url":"https://api.github.com/users/StrongPa55w0rd/followers","following_url":"https://api.github.com/users/StrongPa55w0rd/following{/other_user}","gists_url":"https://api.github.com/users/StrongPa55w0rd/gists{/gist_id}","starred_url":"https://api.github.com/users/StrongPa55w0rd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StrongPa55w0rd/subscriptions","organizations_url":"https://api.github.com/users/StrongPa55w0rd/orgs","repos_url":"https://api.github.com/users/StrongPa55w0rd/repos","events_url":"https://api.github.com/users/StrongPa55w0rd/events{/privacy}","received_events_url":"https://api.github.com/users/StrongPa55w0rd/received_events","type":"User","site_admin":false},"created_at":"2015-11-13T16:34:20Z","updated_at":"2015-11-13T16:34:20Z","author_association":"NONE","body":"start-stop-daemon --start -b --user elasticsearch -c elasticsearch --pidfile /var/run/elasticsearch.pid --exec /usr/share/elasticsearch/bin/elasticsearch -- -d -p /var/run/elasticsearch.pid -Des.default.config=/etc/elasticsearch/elasticsearch.yml -Des.default.path.home=/usr/share/elasticsearch -Des.default.path.logs=/var/log/elasticsearch -Des.default.path.data=/var/lib/elasticsearch -Des.default.path.work=/tmp/elasticsearch -Des.default.path.conf=/etc/elasticsearch\n\nThis works fine when i run it from cli. Not from init script\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/156608161","html_url":"https://github.com/elastic/elasticsearch/issues/14724#issuecomment-156608161","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14724","id":156608161,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NjYwODE2MQ==","user":{"login":"StrongPa55w0rd","id":356327,"node_id":"MDQ6VXNlcjM1NjMyNw==","avatar_url":"https://avatars2.githubusercontent.com/u/356327?v=4","gravatar_id":"","url":"https://api.github.com/users/StrongPa55w0rd","html_url":"https://github.com/StrongPa55w0rd","followers_url":"https://api.github.com/users/StrongPa55w0rd/followers","following_url":"https://api.github.com/users/StrongPa55w0rd/following{/other_user}","gists_url":"https://api.github.com/users/StrongPa55w0rd/gists{/gist_id}","starred_url":"https://api.github.com/users/StrongPa55w0rd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StrongPa55w0rd/subscriptions","organizations_url":"https://api.github.com/users/StrongPa55w0rd/orgs","repos_url":"https://api.github.com/users/StrongPa55w0rd/repos","events_url":"https://api.github.com/users/StrongPa55w0rd/events{/privacy}","received_events_url":"https://api.github.com/users/StrongPa55w0rd/received_events","type":"User","site_admin":false},"created_at":"2015-11-14T02:03:11Z","updated_at":"2015-11-14T02:03:11Z","author_association":"NONE","body":"@nik9000 figured out the issue. It was some stupid mistake on my side. I have set the elasticsearch_heap_size: 2g on a t2.micro instance that has only 1GB. I reduced that to 1GB  and its working fine.\nThanks for all the help.\n","performed_via_github_app":null}]