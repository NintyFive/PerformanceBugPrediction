{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/2322","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2322/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2322/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2322/events","html_url":"https://github.com/elastic/elasticsearch/issues/2322","id":7554654,"node_id":"MDU6SXNzdWU3NTU0NjU0","number":2322,"title":"Various Geo Filter Builder classes are transposing lat and lon values","user":{"login":"gorbachev","id":925334,"node_id":"MDQ6VXNlcjkyNTMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/925334?v=4","gravatar_id":"","url":"https://api.github.com/users/gorbachev","html_url":"https://github.com/gorbachev","followers_url":"https://api.github.com/users/gorbachev/followers","following_url":"https://api.github.com/users/gorbachev/following{/other_user}","gists_url":"https://api.github.com/users/gorbachev/gists{/gist_id}","starred_url":"https://api.github.com/users/gorbachev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gorbachev/subscriptions","organizations_url":"https://api.github.com/users/gorbachev/orgs","repos_url":"https://api.github.com/users/gorbachev/repos","events_url":"https://api.github.com/users/gorbachev/events{/privacy}","received_events_url":"https://api.github.com/users/gorbachev/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2012-10-12T21:26:56Z","updated_at":"2012-10-12T22:47:57Z","closed_at":"2012-10-12T22:47:57Z","author_association":"NONE","active_lock_reason":null,"body":"From GeoDistanceFilterBuilder.doXContent() line 124:\n\n```\n        builder.startArray(name).value(lon).value(lat).endArray();\n```\n\nThis doesn't seem right.\n\nUsing the builder as follows:\n\n```\n        SearchRequestBuilder request = client.prepareSearch(\"index\")\n                .setSearchType(SearchType.QUERY_AND_FETCH)\n                .setQuery(matchAllQuery())\n                .setFilter(geoDistanceFilter(\"geopoint_field\")\n                        .distance(25.0, DistanceUnit.KILOMETERS)\n                        .lat(20.0)\n                        .lon(30.0)\n                        .geoDistance(GeoDistance.ARC))\n                .setFrom(0)\n                .setSize(10);\n```\n\ncreates a query:\n\n{\n  \"from\" : 0,\n  \"size\" : 10,\n  \"query\" : {\n    \"match_all\" : { }\n  },\n  \"filter\" : {\n    \"geo_distance\" : {\n      \"geopoint_field\" : [ 30.0, 20.0 ],\n      \"distance\" : \"300.0km\",\n      \"distance_type\" : \"arc\"\n    }\n  }\n}\n\nIt should be \"geopoint_field\" : [20.0, 30.0]\n","closed_by":{"login":"gorbachev","id":925334,"node_id":"MDQ6VXNlcjkyNTMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/925334?v=4","gravatar_id":"","url":"https://api.github.com/users/gorbachev","html_url":"https://github.com/gorbachev","followers_url":"https://api.github.com/users/gorbachev/followers","following_url":"https://api.github.com/users/gorbachev/following{/other_user}","gists_url":"https://api.github.com/users/gorbachev/gists{/gist_id}","starred_url":"https://api.github.com/users/gorbachev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gorbachev/subscriptions","organizations_url":"https://api.github.com/users/gorbachev/orgs","repos_url":"https://api.github.com/users/gorbachev/repos","events_url":"https://api.github.com/users/gorbachev/events{/privacy}","received_events_url":"https://api.github.com/users/gorbachev/received_events","type":"User","site_admin":false},"performed_via_github_app":null}