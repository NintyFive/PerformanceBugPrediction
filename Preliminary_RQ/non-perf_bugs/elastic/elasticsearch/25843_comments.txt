[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/317383439","html_url":"https://github.com/elastic/elasticsearch/issues/25843#issuecomment-317383439","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25843","id":317383439,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNzM4MzQzOQ==","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2017-07-24T10:33:12Z","updated_at":"2017-07-24T10:33:12Z","author_association":"MEMBER","body":"@jacobweber I think #21932 answers your question. You installed elasticsearch using the RPM package which creates a default `elasticsearch` user and sets required permissions for this user on the config, logs and data directories. \r\n\r\nWhen running `elasticsearch --version` as root or `elasticsearch` user, Elasticsearch looks for the `jvm.options` file in the configuration directory in order to initialize the logging system with the `-Dlog4j2.disable.jmx=true` option. If you execute the same command using a different user, then it cannot access to this `jvm.options` file because the current user has no read permission on the file (or its parent directory): the logger is then initialized using the default settings (in which by default JMX beans are enabled) and fails with the error you reported.\r\n\r\nI agree the message is confusing, but I'm afraid there's not much we can do here because the exception is caught and logged in [Log4j directly](https://git-wip-us.apache.org/repos/asf?p=logging-log4j2.git;a=blob;f=log4j-core/src/main/java/org/apache/logging/log4j/core/jmx/Server.java;h=09bcd48f8ce41880a9f1e60e48e6dd00de30b43a;hb=097426a2154a6079cddd897502b6fb3ce5d50338#l188) and is not propagated to Elasticsearch.\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/318369707","html_url":"https://github.com/elastic/elasticsearch/issues/25843#issuecomment-318369707","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25843","id":318369707,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODM2OTcwNw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-07-27T13:56:42Z","updated_at":"2017-07-27T13:56:42Z","author_association":"MEMBER","body":"@tlrx has it right, closing.","performed_via_github_app":null}]