[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384137075","html_url":"https://github.com/elastic/elasticsearch/issues/30031#issuecomment-384137075","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30031","id":384137075,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzNzA3NQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T18:08:29Z","updated_at":"2018-04-25T02:00:08Z","author_association":"COLLABORATOR","body":"*Original comment by @uboness:*\n\n@jaymode @spinscale @tlrx @pickypg would love to have a discussion on this\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384137077","html_url":"https://github.com/elastic/elasticsearch/issues/30031#issuecomment-384137077","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30031","id":384137077,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzNzA3Nw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T18:08:30Z","updated_at":"2018-04-25T02:00:09Z","author_association":"COLLABORATOR","body":"*Original comment by @jaymode:*\n\n+1 to this topic and standardization.\n\n+1 on `_` to `-`. It's easier to read in a URL\n\nMy first thought is that proposal 2, the `.xpack` index is that we will be using different types for documents and have to make sure we have good mappings. One concern I have is that we may be deprecating types in the future (I can't find a issue on it so maybe it is just talk). If types are staying or we don't care and will deal with it later using the reindex API, then proposal 2 is my choice. This index is really internal and will simplify some of the code we need to deal with checking for the index to exist, etc.\n\nAlso, we need to make the security audit log index versioned as well. All of our time based indices where we can make incompatible mapping changes in new versions should be versioned.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384137078","html_url":"https://github.com/elastic/elasticsearch/issues/30031#issuecomment-384137078","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30031","id":384137078,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzNzA3OA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T18:08:30Z","updated_at":"2018-04-25T02:00:09Z","author_association":"COLLABORATOR","body":"*Original comment by @jasontedor:*\n\n> +1 on _ to -. It's easier to read in a URL\n\n+1; it's also easier to type.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384137080","html_url":"https://github.com/elastic/elasticsearch/issues/30031#issuecomment-384137080","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30031","id":384137080,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzNzA4MA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T18:08:30Z","updated_at":"2018-04-25T02:00:09Z","author_association":"COLLABORATOR","body":"*Original comment by @spinscale:*\n\n+1 for proposal 1, I like the separation of indices for configuration, we dont merge the history either...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384137081","html_url":"https://github.com/elastic/elasticsearch/issues/30031#issuecomment-384137081","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30031","id":384137081,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzNzA4MQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T18:08:31Z","updated_at":"2018-04-25T02:00:09Z","author_association":"COLLABORATOR","body":"*Original comment by @uboness:*\n\n> My first thought is that proposal 2, the .xpack index is that we will be using different types for documents and have to make sure we have good mappings. \n\nIndeed. My thought around it is that anyhow today we don't really index these documents. These are just \"objects\" in an index. The only thing I'd like us to have on all of these objects is \"metadata\" object that can be indexed.\n\n> One concern I have is that we may be deprecating types in the future (I can't find a issue on it so maybe it is just talk).\n\nthat's a valid point. personally I don't see types just going away... but who knows. nonetheless, I don't think we should avoid using types now just because some people don't like them. types are ingrained in ES and if one day they will go away, we'll need to do a major refactoring & upgrade (as a side note... the marvel docs are totally type based)\n\n> +1 for proposal 1, I like the separation of indices for configuration, we dont merge the history either...\n\nwe don't merge the histories for a different reason... these are time based indices and that grow over time. Each time based data has its own characteristics (retention policies, indexing rate, scale at large, etc...)... so it makes little sense to merge those. \n\n> Also, we need to make the security audit log index versioned as well.\n\nIndeed, updated the proposal above.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384137082","html_url":"https://github.com/elastic/elasticsearch/issues/30031#issuecomment-384137082","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30031","id":384137082,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzNzA4Mg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T18:08:32Z","updated_at":"2018-04-25T02:00:09Z","author_association":"COLLABORATOR","body":"*Original comment by @spinscale:*\n\nwhat about security? Do we want to allow different users to add watches, users/groups for shield, etc? Or solve this with aliases?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384137084","html_url":"https://github.com/elastic/elasticsearch/issues/30031#issuecomment-384137084","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30031","id":384137084,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzNzA4NA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T18:08:32Z","updated_at":"2018-04-25T02:00:10Z","author_association":"COLLABORATOR","body":"*Original comment by @uboness:*\n\n> what about security? Do we want to allow different users to add watches, users/groups for shield, etc? Or solve this with aliases?\n\nand that's another great point you bring. So one of the things I want us to add to Shield is the ability to \"mask\" the internal indices from the user. Users should never have direct interaction with these indices and if they will, it's very likely they'll mess things up. Instead, all the interaction with these indices are internal to xpack and they (along with the docs) are managed internally. We expose (and should expose more) dedicated APIs for the users to deal with the stored objects - users, watches, roles, etc... \n\nThis is a real pain point today in watcher. For 1.0 we hackily semi-mitigated that by hijacking some of the write endpoints on the internal watcher indices... but that's certainly not the way to go. Now that shield and watcher are one (i.e. xpack), we should leave this task to shield. @jaymode we should have a chat on how this should be implemented.\n\nOnce we have that, it's all about the privileges users have - we have dedicated privileges to manage/monitor watcher and shield. These determine if the user can add watches, users, roles, etc...\n\nSome time this year (post 5.0 release) we'll introduce the notion of object level security. This will also impact what users can do with what watches. I'll probably be based on ownership, and specific edit/view/foo/bar privileges to users/roles/groups. I've been thinking about this for quite some time now and we're still in the initial brainstorming phase... but that's at least where we're heading. (as a side note, this will not only apply to xpack... there are many secured objects one can think of - index templates, scripts, saved searches, pipelines, kibana dashboards.. just to name a few :))\n\n(btw, I'm planning to have a whole discussion about it at the all hands)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384137086","html_url":"https://github.com/elastic/elasticsearch/issues/30031#issuecomment-384137086","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30031","id":384137086,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzNzA4Ng==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T18:08:33Z","updated_at":"2018-04-25T02:00:10Z","author_association":"COLLABORATOR","body":"*Original comment by @jaymode:*\r\n\r\n> what about security? Do we want to allow different users to add watches, users/groups for shield, etc? Or solve this with aliases?\r\n\r\n@uboness and I are on the same page regarding that we need to limit access to internal indices via shield/security.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384137087","html_url":"https://github.com/elastic/elasticsearch/issues/30031#issuecomment-384137087","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30031","id":384137087,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzNzA4Nw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T18:08:33Z","updated_at":"2018-04-25T02:00:10Z","author_association":"COLLABORATOR","body":"*Original comment by @tlrx:*\n\n> Marvel:\n> \n> ```\n> .monitoring-data\n> ```\n\nIn proposal 2, this index should be replaced by `.xpack` right?\n\nI also have a preference for proposal 1 (with `.monitoring-data` renamed to `.monitoring` and maybe `.watcher` to `.alerting`) where everything is clearly separated. With proposal 2 at some point I think we'll have to rely on prefixed document types like `monitoring-cluster-info`... and if this data index holds application specific documents at the end of the day we'll have things like `monitoring-bts-custom-type`\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384137088","html_url":"https://github.com/elastic/elasticsearch/issues/30031#issuecomment-384137088","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30031","id":384137088,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzNzA4OA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T18:08:34Z","updated_at":"2018-04-25T02:00:10Z","author_association":"COLLABORATOR","body":"*Original comment by @pickypg:*\n\nMy major thought is that we are going to have an explosion of indices in the monitoring cluster(s), which is going to add a lot of bloat, especially for users that don't follow best practices by putting it into its own cluster.\n\nHow different do we expect these indices to be? Can we really not make them generic enough to have a single index with an extra field that denotes the application? I think that this is probably unrelated to this issue, so I'll just mention it and move to the rest of it.\n\n```\n.monitoring-es-stats-<template version>-<date pattern>\n.monitoring-es-logs-<template version>-<date pattern>\n.monitoring-ls-stats-<template version>-<date pattern>\n.monitoring-ls-logs-<template version>-<date pattern>\n...\n```\n\n> I think just using dashes (a la marvel) is somewhat easier on the eye.\n\n+1 I couldn't agree more. Whenever I got stuck typing these out in tickets, I always found `_` to be unnatural to type for non-APIs, especially since it ends with a `-` before the date.\n\n---\n\nMy vote is for proposal 2.\n\n> Here we collapse all the config indices into a single .xpack index (and still keep the same timebased indices)\n\nWe should be able to avoid type usage by using objects to split the projects away from each other:\n\n``` json\n\"mappings\": {\n  \"typewhatever\": {\n    \"properties\": {\n      \"monitoring\" : { \"type\": \"object\", ... },\n      \"security\" : { \"type\": \"object\", ... },\n      \"watcher\" : { \"type\": \"object\", ... },\n    }\n  }\n}\n```\n\nIt's effectively the same thing as using types anyway, but under the same umbrella without any risk of collisions _and_ it makes it incredibly clear when we have to index/query the fields. It also reduces the mapping's overall size by a tiny amount by avoiding duplication, extra types in general, and other indices.\n\n> .xpack\n\nShould we call it xpack though? I feel like we're going to less \"code-namey\" names and perhaps we should avoid it with this too. Perhaps `.elastic`?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384137089","html_url":"https://github.com/elastic/elasticsearch/issues/30031#issuecomment-384137089","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30031","id":384137089,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzNzA4OQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T18:08:34Z","updated_at":"2018-04-25T02:00:10Z","author_association":"COLLABORATOR","body":"*Original comment by @uboness:*\n\n> In proposal 2, this index should be replaced by .xpack right?\n\nactually no... I left it `.monitoring-data` intentionally.. as this index is a bit different than `.xpack` since it can be created on external cluster.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384137090","html_url":"https://github.com/elastic/elasticsearch/issues/30031#issuecomment-384137090","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30031","id":384137090,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzNzA5MA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T18:08:34Z","updated_at":"2018-04-25T02:00:11Z","author_association":"COLLABORATOR","body":"*Original comment by @uboness:*\n\n> How different do we expect these indices to be? Can we really not make them generic enough to have a single index with an extra field that denotes the application? I think that this is probably unrelated to this issue, so I'll just mention it and move to the rest of it.\n\nThe main concern here is that there's an inherent difference between logs and stats data which has direct impact on the data retention policy and the index settings as a whole (e.g. # of shards). That said, we could consider combining the two and by that binding the retention policy of the two (as for around of data and # of shards, I don't think it'll be a problem)\n\n> We should be able to avoid type usage by using objects to split the projects away from each other:\n\nthat's a nice idea, but I feel it complicates things... and I don't think we really need a solution right now because I don't fully see the problem we have. As I mentioned, **if** we ever remove the notion of types, then we'll need to do a complete refactoring of the mappings/types anyway. I think we're a long way from removing type support in ES and for now I don't see a good reason to ignore their existence. Note that we also don't do cross type searches here - each search can clearly be filtered by type.\n\n> Should we call it xpack though? I feel like we're going to less \"code-namey\" names and perhaps we should avoid it with this too. Perhaps .elastic?\n\n`xpack` is the plugin name, so it should be `.xpack`. making it `.elastic` will be 1) inconsistent, 2) too generic... we will (most probably) end up in the future having more plugins that we develop and that require their own internal indices.. they'll all come from \"elastic\" the company.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384137091","html_url":"https://github.com/elastic/elasticsearch/issues/30031#issuecomment-384137091","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30031","id":384137091,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzNzA5MQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T18:08:35Z","updated_at":"2018-04-25T02:00:11Z","author_association":"COLLABORATOR","body":"*Original comment by @uboness:*\n\n> with .monitoring-data renamed to .monitoring and maybe .watcher to .alerting) \n\nWe decide to keep the name `watcher` for now. Yes... right now it mostly serves for alerting, but in the future it'll also serve for automation (e.g. curator like index management).\n\n> where everything is clearly separated. With proposal 2 at some point I think we'll have to rely on prefixed document types like monitoring-cluster-info\n\nIf there'll be a need for it, why is it bad?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384137092","html_url":"https://github.com/elastic/elasticsearch/issues/30031#issuecomment-384137092","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30031","id":384137092,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzNzA5Mg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T18:08:35Z","updated_at":"2018-04-25T02:00:11Z","author_association":"COLLABORATOR","body":"*Original comment by @uboness:*\n\n@clintongormley @kimchy would love to hear your opinion here too... there are good arguments for both proposals... we should nail it down for 5.0\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384137096","html_url":"https://github.com/elastic/elasticsearch/issues/30031#issuecomment-384137096","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30031","id":384137096,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzNzA5Ng==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T18:08:35Z","updated_at":"2018-04-25T02:00:11Z","author_association":"COLLABORATOR","body":"*Original comment by @pickypg:*\n\n> That said, we could consider combining the two and by that binding the retention policy of the two (as for around of data and # of shards, I don't think it'll be a problem)\n\nYeah, I see no reason to necessarily combine the `stats` and `logs`, but the repeated indices of `stats` and the repeated indices of `logs` is what I'd want to target at first.\n\nSo instead of:\n\n```\n.monitoring-es-stats-<template version>-<date pattern>\n.monitoring-es-logs-<template version>-<date pattern>\n.monitoring-ls-stats-<template version>-<date pattern>\n.monitoring-ls-logs-<template version>-<date pattern>\n.monitoring-kbn-stats-<template version>-<date pattern>\n.monitoring-kbn-logs-<template version>-<date pattern>\n.monitoring-bts-stats-<template version>-<date pattern>\n.monitoring-bts-logs-<template version>-<date pattern>\n.monitoring-cloud-stats-<template version>-<date pattern>\n.monitoring-cloud-logs-<template version>-<date pattern>\n```\n\nIt would be great if we could end up with this (2 indices versus 10 indices):\n\n```\n.monitoring-stats-<template version>-<date pattern>\n.monitoring-logs-<template version>-<date pattern>\n```\n\n> that's a nice idea, but I feel it complicates things... and I don't think we really need a solution right now because I don't fully see the problem we have\n\nI wasn't sure how soon we may end up moving away from `_type`; I'm not attached to this idea, but it's a solution if we need it. In practice, I see so much duplication across types from customers that I hope it's sooner rather than later, so I wouldn't be disappointed if we started that way.\n\n> `xpack` is the plugin name, so it should be `.xpack`\n\nAgreed. I wasn't sure if we were actually going to make the public name `xpack`.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384137099","html_url":"https://github.com/elastic/elasticsearch/issues/30031#issuecomment-384137099","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30031","id":384137099,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzNzA5OQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T18:08:36Z","updated_at":"2018-04-25T02:00:12Z","author_association":"COLLABORATOR","body":"*Original comment by @uboness:*\n\n@pickypg @jaymode @spinscale where do we stand on this?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384137102","html_url":"https://github.com/elastic/elasticsearch/issues/30031#issuecomment-384137102","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30031","id":384137102,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzNzEwMg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T18:08:36Z","updated_at":"2018-04-25T02:00:12Z","author_association":"COLLABORATOR","body":"*Original comment by @pickypg:*\n\n@uboness My last point still stands. I do not want to see an _unnecessary_ explosion in indices.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384137103","html_url":"https://github.com/elastic/elasticsearch/issues/30031#issuecomment-384137103","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30031","id":384137103,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzNzEwMw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T18:08:37Z","updated_at":"2018-04-25T02:00:12Z","author_association":"COLLABORATOR","body":"*Original comment by @jaymode:*\n\nI am ok with either option, but lean towards proposal 2. Migrating to `.xpack` will be more work (if we bring along 2.x data), but it feels like the right thing to do since it is a single plugin. In `5.0` only the built in superuser role can access this index in addition to the internal user, so I think this should be ok from a security standpoint.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384137106","html_url":"https://github.com/elastic/elasticsearch/issues/30031#issuecomment-384137106","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30031","id":384137106,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzNzEwNg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T18:08:37Z","updated_at":"2018-04-25T02:00:12Z","author_association":"COLLABORATOR","body":"*Original comment by @s1monw:*\n\nFirst lemme clarify that the deprecation of `_type` is entirely unrelated. types are only syntactic sugar and can be implemented and should be implemented entirely on top of the existing APIs. \n\nI think long term we will improve the spareness problems either by index sorting (which is also possible without the type notions) or even improve DV formats further where it makes sense. I personally think for these indices we should try to group things together and keep the simple. One major question is, what's the retention policy on these indices, how long do we keep that stuff? \n\nI am also on the `_` side, we don't use `-` anywhere :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384137107","html_url":"https://github.com/elastic/elasticsearch/issues/30031#issuecomment-384137107","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30031","id":384137107,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzNzEwNw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T18:08:37Z","updated_at":"2018-04-25T02:00:13Z","author_association":"COLLABORATOR","body":"*Original comment by @uboness:*\n\n> One major question is, what's the retention policy on these indices, how long do we keep that stuff?\n\nthat's exactly the reason I personally prefer to use separate indices... different systems may have different retention policies, and I think in general, different system have different requirements when it comes to monitoring. The retention policy for ES monitoring starts with 7 days (for basic license) and with higher level licenses it's configurable by the user (so potentially can be 1/2/...6 months).\n\n> I am also on the `_` side, we don't use `-` anywhere :)\n\nis there a reason for not using `-` anymore? also, did we decide on a \"common practice\" to use `_` as a separator for index names? Just curious... cause we started with `_` in some cases, and here the proposal is to move to `-` as it's commonly agreed up that it's more readable.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384137108","html_url":"https://github.com/elastic/elasticsearch/issues/30031#issuecomment-384137108","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30031","id":384137108,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzNzEwOA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T18:08:38Z","updated_at":"2018-04-25T02:00:13Z","author_association":"COLLABORATOR","body":"*Original comment by @uboness:*\n\n@kimchy would appreciate your feedback here\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384137109","html_url":"https://github.com/elastic/elasticsearch/issues/30031#issuecomment-384137109","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30031","id":384137109,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzNzEwOQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T18:08:38Z","updated_at":"2018-04-25T02:00:13Z","author_association":"COLLABORATOR","body":"*Original comment by @kimchy:*\n\nI prefer proposal 1, and would lean towards more indices as it gives us more flexibility (different retention policies for Beats compared to ES that is implemented in more optimized way, ...). Specifically, I prefer dedicated product based monitoring indices as well (compared to collapsing them), and in the future, logs based ones.\n\nI like `_` to `-`, but only because we haven't used `-` anywhere yet, so it looks weird to me :), also, developers developers developers.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384137110","html_url":"https://github.com/elastic/elasticsearch/issues/30031#issuecomment-384137110","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30031","id":384137110,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzNzExMA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T18:08:39Z","updated_at":"2018-04-25T02:00:13Z","author_association":"COLLABORATOR","body":"*Original comment by @uboness:*\n\n@clintongormley can we pick this one up again? Also, the same applies to template names used... For example, some template names are \"dotted\" others aren't (would be great to just move all template names to dotted form... It'll help in the UI to treat them differently)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384137111","html_url":"https://github.com/elastic/elasticsearch/issues/30031#issuecomment-384137111","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30031","id":384137111,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzNzExMQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T18:08:39Z","updated_at":"2018-04-25T02:00:13Z","author_association":"COLLABORATOR","body":"*Original comment by @clintongormley:*\n\nCopying comment from LINK REDACTED\r\n\r\nWith indexed audit logging we use a .security_ pattern, but the other plugins use .NAME-, the difference being _:-.\r\n\r\nCan we make the audit logs `.security-`?\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384137112","html_url":"https://github.com/elastic/elasticsearch/issues/30031#issuecomment-384137112","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30031","id":384137112,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzNzExMg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T18:08:39Z","updated_at":"2018-04-25T02:00:13Z","author_association":"COLLABORATOR","body":"*Original comment by @uboness:*\n\n > Can we make the audit logs .security-?\r\n\r\n+1 \r\n\r\ncan we be more explicit and use `.security-audit-<pattern>`? (we also have `.security` index for storing native users)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384137113","html_url":"https://github.com/elastic/elasticsearch/issues/30031#issuecomment-384137113","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30031","id":384137113,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzNzExMw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-02-27T10:41:34Z","updated_at":"2018-04-25T02:00:14Z","author_association":"COLLABORATOR","body":"*Original comment by @javanna:*\n\nBeen a while since this issue was last discussed. Plugins were renamed, so were their indices, but we don't seem to have achieved consistent naming. The following are some of the indices that x-pack creates today:\r\n\r\n- `.security`\r\n- `.security_audit_log-*`\r\n- `.monitoring-<system>-<template version>-<date pattern>`\r\n- `.triggered_watches`\r\n- `.watches`\r\n\r\nIs consistent naming still something that we want to pursue? @clintongormley what do you think?\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384137115","html_url":"https://github.com/elastic/elasticsearch/issues/30031#issuecomment-384137115","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30031","id":384137115,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzNzExNQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-03-08T17:23:43Z","updated_at":"2018-04-25T02:00:14Z","author_association":"COLLABORATOR","body":"*Original comment by @clintongormley:*\n\nYeah I think so - `.security_audit_log-*` should be `.security-audit-log-*` and `.triggered_watches` should be `.triggered-watches`","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384137116","html_url":"https://github.com/elastic/elasticsearch/issues/30031#issuecomment-384137116","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30031","id":384137116,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzNzExNg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-03-14T18:23:11Z","updated_at":"2018-04-25T02:00:14Z","author_association":"COLLABORATOR","body":"*Original comment by @spinscale:*\n\nI do not think that this lengthy discussion should be put into the public repo, if the current result is, that two indices should be renamed - I removed the xpack ready label.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/395560319","html_url":"https://github.com/elastic/elasticsearch/issues/30031#issuecomment-395560319","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30031","id":395560319,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTU2MDMxOQ==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2018-06-07T20:50:17Z","updated_at":"2018-06-07T20:50:17Z","author_association":"CONTRIBUTOR","body":"We discussed this in FixItThursday and concluded that although this would be nice, it does not help in further development and would potentially only make things difficult for backwards compatibility.\r\n\r\nIf any of the original authors disagrees, feel free to continue the discussion and reopen after close!","performed_via_github_app":null}]