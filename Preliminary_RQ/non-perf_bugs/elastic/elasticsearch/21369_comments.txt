[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/258793829","html_url":"https://github.com/elastic/elasticsearch/issues/21369#issuecomment-258793829","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21369","id":258793829,"node_id":"MDEyOklzc3VlQ29tbWVudDI1ODc5MzgyOQ==","user":{"login":"29e7e280-0d1c-4bba-98fe-f7cd3ca7500a","id":278153,"node_id":"MDQ6VXNlcjI3ODE1Mw==","avatar_url":"https://avatars1.githubusercontent.com/u/278153?v=4","gravatar_id":"","url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a","html_url":"https://github.com/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a","followers_url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a/followers","following_url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a/following{/other_user}","gists_url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a/gists{/gist_id}","starred_url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a/subscriptions","organizations_url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a/orgs","repos_url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a/repos","events_url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a/events{/privacy}","received_events_url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a/received_events","type":"User","site_admin":false},"created_at":"2016-11-07T10:03:07Z","updated_at":"2016-11-07T10:03:07Z","author_association":"NONE","body":"I tested elasticsearch:2 , it works like a charm\n\n```\nhuzhifeng@s ~ $ docker logs es\n[2016-11-07 10:02:23,099][WARN ][bootstrap                ] unable to install syscall filter: seccomp unavailable: your kernel is buggy and you should upgrade\n[2016-11-07 10:02:23,221][INFO ][node                     ] [Angler] version[2.4.1], pid[1], build[c67dc32/2016-09-27T18:57:55Z]\n[2016-11-07 10:02:23,221][INFO ][node                     ] [Angler] initializing ...\n[2016-11-07 10:02:23,628][INFO ][plugins                  ] [Angler] modules [reindex, lang-expression, lang-groovy], plugins [], sites []\n[2016-11-07 10:02:23,646][INFO ][env                      ] [Angler] using [1] data paths, mounts [[/usr/share/elasticsearch/data (/dev/sda3)]], net usable_space [779.1gb], net total_space [921.5gb], spins? [possibly], types [xfs]\n[2016-11-07 10:02:23,646][INFO ][env                      ] [Angler] heap size [990.7mb], compressed ordinary object pointers [true]\n[2016-11-07 10:02:24,846][INFO ][node                     ] [Angler] initialized\n[2016-11-07 10:02:24,847][INFO ][node                     ] [Angler] starting ...\n[2016-11-07 10:02:24,906][INFO ][transport                ] [Angler] publish_address {172.17.0.2:9300}, bound_addresses {[::]:9300}\n[2016-11-07 10:02:24,910][INFO ][discovery                ] [Angler] elasticsearch/7oCfJH2PTEGgGqD4dWeR7Q\n[2016-11-07 10:02:27,947][INFO ][cluster.service          ] [Angler] new_master {Angler}{7oCfJH2PTEGgGqD4dWeR7Q}{172.17.0.2}{172.17.0.2:9300}, reason: zen-disco-join(elected_as_master, [0] joins received)\n[2016-11-07 10:02:27,969][INFO ][http                     ] [Angler] publish_address {172.17.0.2:9200}, bound_addresses {[::]:9200}\n[2016-11-07 10:02:27,970][INFO ][node                     ] [Angler] started\n[2016-11-07 10:02:28,037][INFO ][gateway                  ] [Angler] recovered [0] indices into cluster_state\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/258810346","html_url":"https://github.com/elastic/elasticsearch/issues/21369#issuecomment-258810346","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21369","id":258810346,"node_id":"MDEyOklzc3VlQ29tbWVudDI1ODgxMDM0Ng==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-11-07T11:18:55Z","updated_at":"2016-11-07T11:18:55Z","author_association":"MEMBER","body":"> max virtual memory areas vm.max_map_count [65530] likely too low, increase to at least [262144]\n\nYou have to fix that. https://www.elastic.co/guide/en/elasticsearch/reference/5.0/_maximum_map_count_check.html\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/258810915","html_url":"https://github.com/elastic/elasticsearch/issues/21369#issuecomment-258810915","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21369","id":258810915,"node_id":"MDEyOklzc3VlQ29tbWVudDI1ODgxMDkxNQ==","user":{"login":"29e7e280-0d1c-4bba-98fe-f7cd3ca7500a","id":278153,"node_id":"MDQ6VXNlcjI3ODE1Mw==","avatar_url":"https://avatars1.githubusercontent.com/u/278153?v=4","gravatar_id":"","url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a","html_url":"https://github.com/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a","followers_url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a/followers","following_url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a/following{/other_user}","gists_url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a/gists{/gist_id}","starred_url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a/subscriptions","organizations_url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a/orgs","repos_url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a/repos","events_url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a/events{/privacy}","received_events_url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a/received_events","type":"User","site_admin":false},"created_at":"2016-11-07T11:22:03Z","updated_at":"2016-11-07T11:22:03Z","author_association":"NONE","body":"Thanks. but i have no permission to change the host machine settings.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/258810996","html_url":"https://github.com/elastic/elasticsearch/issues/21369#issuecomment-258810996","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21369","id":258810996,"node_id":"MDEyOklzc3VlQ29tbWVudDI1ODgxMDk5Ng==","user":{"login":"29e7e280-0d1c-4bba-98fe-f7cd3ca7500a","id":278153,"node_id":"MDQ6VXNlcjI3ODE1Mw==","avatar_url":"https://avatars1.githubusercontent.com/u/278153?v=4","gravatar_id":"","url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a","html_url":"https://github.com/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a","followers_url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a/followers","following_url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a/following{/other_user}","gists_url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a/gists{/gist_id}","starred_url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a/subscriptions","organizations_url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a/orgs","repos_url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a/repos","events_url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a/events{/privacy}","received_events_url":"https://api.github.com/users/29e7e280-0d1c-4bba-98fe-f7cd3ca7500a/received_events","type":"User","site_admin":false},"created_at":"2016-11-07T11:22:30Z","updated_at":"2016-11-07T11:22:30Z","author_association":"NONE","body":"so i can only using elastic search 2.x\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/258812122","html_url":"https://github.com/elastic/elasticsearch/issues/21369#issuecomment-258812122","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21369","id":258812122,"node_id":"MDEyOklzc3VlQ29tbWVudDI1ODgxMjEyMg==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-11-07T11:28:33Z","updated_at":"2016-11-07T11:28:33Z","author_association":"MEMBER","body":"@netroby There is a workaround explained in https://github.com/elastic/elasticsearch/issues/4978#issuecomment-257076124 but read carefully this comment first: https://github.com/elastic/elasticsearch/issues/4978#issuecomment-258676104\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/259665597","html_url":"https://github.com/elastic/elasticsearch/issues/21369#issuecomment-259665597","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21369","id":259665597,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTY2NTU5Nw==","user":{"login":"rasensio","id":1261374,"node_id":"MDQ6VXNlcjEyNjEzNzQ=","avatar_url":"https://avatars3.githubusercontent.com/u/1261374?v=4","gravatar_id":"","url":"https://api.github.com/users/rasensio","html_url":"https://github.com/rasensio","followers_url":"https://api.github.com/users/rasensio/followers","following_url":"https://api.github.com/users/rasensio/following{/other_user}","gists_url":"https://api.github.com/users/rasensio/gists{/gist_id}","starred_url":"https://api.github.com/users/rasensio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rasensio/subscriptions","organizations_url":"https://api.github.com/users/rasensio/orgs","repos_url":"https://api.github.com/users/rasensio/repos","events_url":"https://api.github.com/users/rasensio/events{/privacy}","received_events_url":"https://api.github.com/users/rasensio/received_events","type":"User","site_admin":false},"created_at":"2016-11-10T11:19:55Z","updated_at":"2016-11-10T11:24:57Z","author_association":"NONE","body":"In Mac downloading thru Kitematic the elasticsearch:latest (5) docker image will never start. \nHere the output with -x\n\n`\nroot@3d9a3ffde6df:/usr/share/elasticsearch# /etc/init.d/elasticsearch start \n- PATH=/bin:/usr/bin:/sbin:/usr/sbin\n- NAME=elasticsearch\n- DESC='Elasticsearch Server'\n- DEFAULT=/etc/default/elasticsearch\n  ++ id -u\n- '[' 0 -ne 0 ']'\n- . /lib/lsb/init-functions\n  +++ run-parts --lsbsysinit --list /lib/lsb/init-functions.d\n  ++ for hook in '$(run-parts --lsbsysinit --list /lib/lsb/init-functions.d 2>/dev/null)'\n  ++ '[' -r /lib/lsb/init-functions.d/20-left-info-blocks ']'\n  ++ . /lib/lsb/init-functions.d/20-left-info-blocks\n  ++ for hook in '$(run-parts --lsbsysinit --list /lib/lsb/init-functions.d 2>/dev/null)'\n  ++ '[' -r /lib/lsb/init-functions.d/40-systemd ']'\n  ++ . /lib/lsb/init-functions.d/40-systemd\n  +++ _use_systemctl=0\n  +++ '[' -d /run/systemd/system ']'\n  +++ '[' 0 = 1 ']'\n  ++ FANCYTTY=\n  ++ '[' -e /etc/lsb-base-logging.sh ']'\n  ++ true\n- '[' -r /etc/default/rcS ']'\n- . /etc/default/rcS\n- ES_USER=elasticsearch\n- ES_GROUP=elasticsearch\n- ES_HOME=/usr/share/elasticsearch\n- MAX_OPEN_FILES=65536\n- LOG_DIR=/var/log/elasticsearch\n- DATA_DIR=/var/lib/elasticsearch\n- CONF_DIR=/etc/elasticsearch\n- MAX_MAP_COUNT=262144\n- PID_DIR=/var/run/elasticsearch\n- '[' -f /etc/default/elasticsearch ']'\n- . /etc/default/elasticsearch\n  ++ ES_STARTUP_SLEEP_TIME=5\n- '[' '!' -z '' ']'\n- PID_FILE=/var/run/elasticsearch/elasticsearch.pid\n- DAEMON=/usr/share/elasticsearch/bin/elasticsearch\n- DAEMON_OPTS='-d -p /var/run/elasticsearch/elasticsearch.pid -Edefault.path.logs=/var/log/elasticsearch -Edefault.path.data=/var/lib/elasticsearch -Edefault.path.conf=/etc/elasticsearch'\n- export ES_JAVA_OPTS\n- export JAVA_HOME\n- export ES_INCLUDE\n- '[' '!' -x /usr/share/elasticsearch/bin/elasticsearch ']'\n- case \"$1\" in\n- checkJava\n- '[' -x /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java ']'\n- JAVA=/usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java\n- '[' '!' -x /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java ']'\n- log_daemon_msg 'Starting Elasticsearch Server'\n- '[' -z 'Starting Elasticsearch Server' ']'\n- log_daemon_msg_pre 'Starting Elasticsearch Server'\n- log_use_fancy_output\n- TPUT=/usr/bin/tput\n- EXPR=/usr/bin/expr\n- '[' -t 1 ']'\n- '[' xxterm '!=' x ']'\n- '[' xxterm '!=' xdumb ']'\n- '[' -x /usr/bin/tput ']'\n- '[' -x /usr/bin/expr ']'\n- /usr/bin/tput hpa 60\n- /usr/bin/tput setaf 1\n- '[' -z ']'\n- FANCYTTY=1\n- case \"$FANCYTTY\" in\n- true\n- echo -n '[....] '\n  [....] + '[' -z '' ']'\n- echo -n 'Starting Elasticsearch Server:'\n  Starting Elasticsearch Server:+ return\n  ++ pidofproc -p /var/run/elasticsearch/elasticsearch.pid elasticsearch\n  ++ local pidfile base status specified pid OPTIND\n  ++ pidfile=\n  ++ specified=\n  ++ OPTIND=1\n  ++ getopts p: opt\n  ++ case \"$opt\" in\n  ++ pidfile=/var/run/elasticsearch/elasticsearch.pid\n  ++ specified=specified\n  ++ getopts p: opt\n  ++ shift 2\n  ++ '[' 1 -ne 1 ']'\n  ++ base=elasticsearch\n  ++ '[' '!' specified ']'\n  ++ '[' -n /var/run/elasticsearch/elasticsearch.pid ']'\n  ++ '[' -e /var/run/elasticsearch/elasticsearch.pid ']'\n  ++ '[' -x /bin/pidof ']'\n  ++ '[' '!' specified ']'\n  ++ return 3\n- pid=\n- '[' -n '' ']'\n- '[' -n /var/run/elasticsearch ']'\n- '[' '!' -e /var/run/elasticsearch ']'\n- '[' -n /var/run/elasticsearch/elasticsearch.pid ']'\n- '[' '!' -e /var/run/elasticsearch/elasticsearch.pid ']'\n- touch /var/run/elasticsearch/elasticsearch.pid\n- chown elasticsearch:elasticsearch /var/run/elasticsearch/elasticsearch.pid\n- '[' -n 65536 ']'\n- ulimit -n 65536\n- '[' -n '' ']'\n- '[' -n 262144 -a -f /proc/sys/vm/max_map_count ']'\n- sysctl -q -w vm.max_map_count=262144\n  sysctl: setting key \"vm.max_map_count\": Read-only file system\n- start-stop-daemon -d /usr/share/elasticsearch --start -b --user elasticsearch -c elasticsearch --pidfile /var/run/elasticsearch/elasticsearch.pid --exec /usr/share/elasticsearch/bin/elasticsearch -- -d -p /var/run/elasticsearch/elasticsearch.pid -Edefault.path.logs=/var/log/elasticsearch -Edefault.path.data=/var/lib/elasticsearch -Edefault.path.conf=/etc/elasticsearch\n- return=0\n- '[' 0 -eq 0 ']'\n- i=0\n- timeout=10\n- sleep 1\n- i=1\n- '[' 1 -gt 10 ']'\n- sleep 1\n- i=2\n- '[' 2 -gt 10 ']'\n- sleep 1\n- i=3\n- '[' 3 -gt 10 ']'\n- sleep 1\n- i=4\n- '[' 4 -gt 10 ']'\n- sleep 1\n- i=5\n- '[' 5 -gt 10 ']'\n- sleep 1\n- i=6\n- '[' 6 -gt 10 ']'\n- sleep 1\n- i=7\n- '[' 7 -gt 10 ']'\n- sleep 1\n- i=8\n- '[' 8 -gt 10 ']'\n- sleep 1\n- i=9\n- '[' 9 -gt 10 ']'\n- sleep 1\n- i=10\n- '[' 10 -gt 10 ']'\n- sleep 1\n- i=11\n- '[' 11 -gt 10 ']'\n- log_end_msg 1\n- '[' -z 1 ']'\n- local retval\n- retval=1\n- log_end_msg_pre 1\n- log_use_fancy_output\n- TPUT=/usr/bin/tput\n- EXPR=/usr/bin/expr\n- '[' -t 1 ']'\n- '[' xxterm '!=' x ']'\n- '[' xxterm '!=' xdumb ']'\n- '[' -x /usr/bin/tput ']'\n- '[' -x /usr/bin/expr ']'\n- /usr/bin/tput hpa 60\n- /usr/bin/tput setaf 1\n- '[' -z 1 ']'\n- true\n- case \"$FANCYTTY\" in\n- true\n  ++ /usr/bin/tput setaf 1\n- RED=''\n  ++ /usr/bin/tput setaf 2\n- GREEN=''\n  ++ /usr/bin/tput setaf 3\n- YELLOW=''\n  ++ /usr/bin/tput op\n- NORMAL=''\n- /usr/bin/tput civis\n- /usr/bin/tput sc\n- /usr/bin/tput hpa 0\n- '[' 1 -eq 0 ']'\n- '[' 1 -eq 255 ']'\n- /bin/echo -ne '[FAIL'\n  [FAIL+ /usr/bin/tput rc\n- /usr/bin/tput cnorm\n- log_use_fancy_output\n- TPUT=/usr/bin/tput\n- EXPR=/usr/bin/expr\n- '[' -t 1 ']'\n- '[' xxterm '!=' x ']'\n- '[' xxterm '!=' xdumb ']'\n- '[' -x /usr/bin/tput ']'\n- '[' -x /usr/bin/expr ']'\n- /usr/bin/tput hpa 60\n- /usr/bin/tput setaf 1\n- '[' -z 1 ']'\n- true\n- case \"$FANCYTTY\" in\n- true\n  ++ /usr/bin/tput setaf 1\n- RED=''\n  ++ /usr/bin/tput setaf 3\n- YELLOW=''\n  ++ /usr/bin/tput op\n- NORMAL=''\n- '[' 1 -eq 0 ']'\n- '[' 1 -eq 255 ']'\n- /bin/echo -e ' failed!'\n  failed!\n- log_end_msg_post 1\n- :\n- return 1\n- exit 1\n  root@3d9a3ffde6df:/usr/share/elasticsearch# \n  `\n","performed_via_github_app":null}]