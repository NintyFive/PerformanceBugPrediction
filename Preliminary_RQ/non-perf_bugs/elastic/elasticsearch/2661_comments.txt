[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/54597061","html_url":"https://github.com/elastic/elasticsearch/issues/2661#issuecomment-54597061","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2661","id":54597061,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTk3MDYx","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2014-09-05T08:17:08Z","updated_at":"2014-09-05T08:17:08Z","author_association":"MEMBER","body":"@knocte Would your use-case be solved if the response of the Bulk API contained a field which showed the number of failed insertions? This way you will not need to parse the whole response if all are successful, you can just check the value of this field is 0. If the value is not 0 then you can parse the rest of the response to find the cause.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/54721733","html_url":"https://github.com/elastic/elasticsearch/issues/2661#issuecomment-54721733","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2661","id":54721733,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzIxNzMz","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-09-06T17:33:30Z","updated_at":"2014-09-06T17:33:30Z","author_association":"CONTRIBUTOR","body":"@colings86 we already have an error flag in the bulk response, but there is something to be said for returning a minimal body if all requests succeeded.\n\nI wouldn't be in favour of not reporting failures though, and given that requests are ordered, that implies the need to return all responses.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/54732387","html_url":"https://github.com/elastic/elasticsearch/issues/2661#issuecomment-54732387","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2661","id":54732387,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzMyMzg3","user":{"login":"knocte","id":331303,"node_id":"MDQ6VXNlcjMzMTMwMw==","avatar_url":"https://avatars2.githubusercontent.com/u/331303?v=4","gravatar_id":"","url":"https://api.github.com/users/knocte","html_url":"https://github.com/knocte","followers_url":"https://api.github.com/users/knocte/followers","following_url":"https://api.github.com/users/knocte/following{/other_user}","gists_url":"https://api.github.com/users/knocte/gists{/gist_id}","starred_url":"https://api.github.com/users/knocte/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/knocte/subscriptions","organizations_url":"https://api.github.com/users/knocte/orgs","repos_url":"https://api.github.com/users/knocte/repos","events_url":"https://api.github.com/users/knocte/events{/privacy}","received_events_url":"https://api.github.com/users/knocte/received_events","type":"User","site_admin":false},"created_at":"2014-09-06T23:50:45Z","updated_at":"2014-09-06T23:50:45Z","author_association":"NONE","body":"Sorry, I no longer use ElasticSearch\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/54791526","html_url":"https://github.com/elastic/elasticsearch/issues/2661#issuecomment-54791526","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2661","id":54791526,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzkxNTI2","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2014-09-08T08:53:10Z","updated_at":"2014-09-08T08:53:10Z","author_association":"MEMBER","body":"So maybe we should have an option in the request to send back a minimal response if there are no errors and a full response if there is even 1 error.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/57762795","html_url":"https://github.com/elastic/elasticsearch/issues/2661#issuecomment-57762795","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2661","id":57762795,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NzYyNzk1","user":{"login":"astefan","id":893749,"node_id":"MDQ6VXNlcjg5Mzc0OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/893749?v=4","gravatar_id":"","url":"https://api.github.com/users/astefan","html_url":"https://github.com/astefan","followers_url":"https://api.github.com/users/astefan/followers","following_url":"https://api.github.com/users/astefan/following{/other_user}","gists_url":"https://api.github.com/users/astefan/gists{/gist_id}","starred_url":"https://api.github.com/users/astefan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astefan/subscriptions","organizations_url":"https://api.github.com/users/astefan/orgs","repos_url":"https://api.github.com/users/astefan/repos","events_url":"https://api.github.com/users/astefan/events{/privacy}","received_events_url":"https://api.github.com/users/astefan/received_events","type":"User","site_admin":false},"created_at":"2014-10-03T07:04:51Z","updated_at":"2014-10-03T07:04:51Z","author_association":"CONTRIBUTOR","body":"I would be in favor of such a feature.\nFor example, if I use the search API and I execute a query and I'm only interested in the number of hits, not the actual hits as well, I add ?search_type=count and I don't get back the possibly long list of hits which don't actually interest me.\n\nMaybe add an attribute for _bulk - something like \"response_type\". With three values: \"full\" - to get back what we get today for _bulk, \"partial_with_failures\" - minimal response if there are no errors and a full response if there is at least one error, \"minimal\" - minimal response no matter if there were errors or not.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/59480919","html_url":"https://github.com/elastic/elasticsearch/issues/2661#issuecomment-59480919","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2661","id":59480919,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDgwOTE5","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-10-17T08:17:20Z","updated_at":"2014-10-17T08:17:20Z","author_association":"CONTRIBUTOR","body":"I don't like the `minimal` response in case of errors, but I do like an optional short response if there were no errors.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/151838791","html_url":"https://github.com/elastic/elasticsearch/issues/2661#issuecomment-151838791","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2661","id":151838791,"node_id":"MDEyOklzc3VlQ29tbWVudDE1MTgzODc5MQ==","user":{"login":"mbonaci","id":497926,"node_id":"MDQ6VXNlcjQ5NzkyNg==","avatar_url":"https://avatars3.githubusercontent.com/u/497926?v=4","gravatar_id":"","url":"https://api.github.com/users/mbonaci","html_url":"https://github.com/mbonaci","followers_url":"https://api.github.com/users/mbonaci/followers","following_url":"https://api.github.com/users/mbonaci/following{/other_user}","gists_url":"https://api.github.com/users/mbonaci/gists{/gist_id}","starred_url":"https://api.github.com/users/mbonaci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbonaci/subscriptions","organizations_url":"https://api.github.com/users/mbonaci/orgs","repos_url":"https://api.github.com/users/mbonaci/repos","events_url":"https://api.github.com/users/mbonaci/events{/privacy}","received_events_url":"https://api.github.com/users/mbonaci/received_events","type":"User","site_admin":false},"created_at":"2015-10-28T13:06:15Z","updated_at":"2015-10-28T13:10:22Z","author_association":"NONE","body":"Very nice, this is really overdue.\nHave you thought about returning only failed docs in the response? Or even just ordinal numbers of failed docs. I assume people often want to further treat unsuccessful docs in some way, e.g. retry after modifications, store unstructured, ...\n\nAlso, instead of returning `200` or `201`, there are perhaps more suitable response codes in this situation, which would make the flag check inside the response obsolete.\nPerhaps `207` or `422`, depending on whether you want to hint success or failure, respectively.\n\n> The 207 (Multi-Status) status code provides status for multiple independent operations (see Section 13 for more information). A Multi-Status response conveys information about multiple resources in situations where multiple status codes might be appropriate. The default Multi-Status response body is a text/xml or application/xml HTTP entity with a 'multistatus' root element. Further elements contain 200, 300, 400, and 500 series status codes generated during the method invocation. 100 series status codes SHOULD NOT be recorded in a 'response' XML element. Although '207' is used as the overall response status code, the recipient needs to consult the contents of the multistatus response body for further information about the success or failure of the method execution. The response MAY be used in success, partial success and also in failure situations. The 'multistatus' root element holds zero or more 'response' elements in any order, each with information about an individual resource. Each 'response' element MUST have an 'href' element to identify the resource.\n> MULTI_STATUS(207)\n> \n> The 422 (Unprocessable Entity) status code means the server understands the content type of the request entity (hence a 415(Unsupported Media Type) status code is inappropriate), and the syntax of the request entity is correct (thus a 400 (Bad Request) status code is inappropriate) but was unable to process the contained instructions. For example, this error condition may occur if an XML request body contains well-formed (i.e., syntactically correct), but semantically erroneous, XML instructions.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/193771333","html_url":"https://github.com/elastic/elasticsearch/issues/2661#issuecomment-193771333","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2661","id":193771333,"node_id":"MDEyOklzc3VlQ29tbWVudDE5Mzc3MTMzMw==","user":{"login":"rpedela","id":1952582,"node_id":"MDQ6VXNlcjE5NTI1ODI=","avatar_url":"https://avatars1.githubusercontent.com/u/1952582?v=4","gravatar_id":"","url":"https://api.github.com/users/rpedela","html_url":"https://github.com/rpedela","followers_url":"https://api.github.com/users/rpedela/followers","following_url":"https://api.github.com/users/rpedela/following{/other_user}","gists_url":"https://api.github.com/users/rpedela/gists{/gist_id}","starred_url":"https://api.github.com/users/rpedela/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rpedela/subscriptions","organizations_url":"https://api.github.com/users/rpedela/orgs","repos_url":"https://api.github.com/users/rpedela/repos","events_url":"https://api.github.com/users/rpedela/events{/privacy}","received_events_url":"https://api.github.com/users/rpedela/received_events","type":"User","site_admin":false},"created_at":"2016-03-08T12:47:18Z","updated_at":"2016-03-08T12:47:18Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/210562790","html_url":"https://github.com/elastic/elasticsearch/issues/2661#issuecomment-210562790","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2661","id":210562790,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMDU2Mjc5MA==","user":{"login":"avoxm","id":10351071,"node_id":"MDQ6VXNlcjEwMzUxMDcx","avatar_url":"https://avatars1.githubusercontent.com/u/10351071?v=4","gravatar_id":"","url":"https://api.github.com/users/avoxm","html_url":"https://github.com/avoxm","followers_url":"https://api.github.com/users/avoxm/followers","following_url":"https://api.github.com/users/avoxm/following{/other_user}","gists_url":"https://api.github.com/users/avoxm/gists{/gist_id}","starred_url":"https://api.github.com/users/avoxm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avoxm/subscriptions","organizations_url":"https://api.github.com/users/avoxm/orgs","repos_url":"https://api.github.com/users/avoxm/repos","events_url":"https://api.github.com/users/avoxm/events{/privacy}","received_events_url":"https://api.github.com/users/avoxm/received_events","type":"User","site_admin":false},"created_at":"2016-04-15T17:48:49Z","updated_at":"2016-04-15T17:48:57Z","author_association":"NONE","body":"It has been over 3 years guys, any hope to have this implemented. Bulk API is quite memory hungry because of this issue.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/210565510","html_url":"https://github.com/elastic/elasticsearch/issues/2661#issuecomment-210565510","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2661","id":210565510,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMDU2NTUxMA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-04-15T17:58:13Z","updated_at":"2016-04-15T17:58:13Z","author_association":"CONTRIBUTOR","body":"The `adoptme` and `low hanging fruit` mean the repository owners would love to review and merge a pull request that implements the feature but it isn't anyone's priority. If anyone wants to write a PR for this I'll certainly review it and, once we get to the other side of the review process, merge it.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/213437014","html_url":"https://github.com/elastic/elasticsearch/issues/2661#issuecomment-213437014","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2661","id":213437014,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMzQzNzAxNA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-04-22T13:50:22Z","updated_at":"2016-04-22T13:50:22Z","author_association":"CONTRIBUTOR","body":"I'll just go do it.\n\nI'll make an option that will just count successful operations rather than returning the whole result for it. Any failures will still come back because you can act on them.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/213493952","html_url":"https://github.com/elastic/elasticsearch/issues/2661#issuecomment-213493952","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2661","id":213493952,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMzQ5Mzk1Mg==","user":{"login":"rpedela","id":1952582,"node_id":"MDQ6VXNlcjE5NTI1ODI=","avatar_url":"https://avatars1.githubusercontent.com/u/1952582?v=4","gravatar_id":"","url":"https://api.github.com/users/rpedela","html_url":"https://github.com/rpedela","followers_url":"https://api.github.com/users/rpedela/followers","following_url":"https://api.github.com/users/rpedela/following{/other_user}","gists_url":"https://api.github.com/users/rpedela/gists{/gist_id}","starred_url":"https://api.github.com/users/rpedela/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rpedela/subscriptions","organizations_url":"https://api.github.com/users/rpedela/orgs","repos_url":"https://api.github.com/users/rpedela/repos","events_url":"https://api.github.com/users/rpedela/events{/privacy}","received_events_url":"https://api.github.com/users/rpedela/received_events","type":"User","site_admin":false},"created_at":"2016-04-22T16:08:53Z","updated_at":"2016-04-22T16:08:53Z","author_association":"NONE","body":"Thanks Nik!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/216371748","html_url":"https://github.com/elastic/elasticsearch/issues/2661#issuecomment-216371748","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2661","id":216371748,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjM3MTc0OA==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2016-05-02T21:36:10Z","updated_at":"2016-05-02T21:36:10Z","author_association":"MEMBER","body":"sorry for chiming in late, especially in the context of #17932. I am not a fan of this change, a short response format breaks the structure of how we return responses for bulk requests, and no longer relies on position within an array to match response to request. It means special code handling, different one, depending on the parameter of the request, which is not user friendly.\n\nI also challenge the fact that parsing the response of a bulk requests is \"heavy\". Compared to setting up the requests to be indexed (which is the \"other\" client side work), I am very surprised that parsing the response takes so long as a whole compared to the whole bulk execution. This is definitely not the case in Java.\n\nI would be ok with a flag that will simply not return anything except for top level summary fields if everything is successful. This is probably the most common case, and if something failed, just use the current way to correlate request/response.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/216648404","html_url":"https://github.com/elastic/elasticsearch/issues/2661#issuecomment-216648404","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2661","id":216648404,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjY0ODQwNA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-05-03T20:03:51Z","updated_at":"2016-05-03T20:03:51Z","author_association":"CONTRIBUTOR","body":"For what it is worth I don't have a strong opinion on how this should comes out or even if we merge #17932. I just implemented my first instinct and my first instinct is rarely right. My only strong opinion is \"if Elasticsearch doesn't want any sort of short format on the bulk response then we need to close this issue\".\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/258666904","html_url":"https://github.com/elastic/elasticsearch/issues/2661#issuecomment-258666904","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2661","id":258666904,"node_id":"MDEyOklzc3VlQ29tbWVudDI1ODY2NjkwNA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-11-06T09:25:00Z","updated_at":"2016-11-06T09:25:00Z","author_association":"CONTRIBUTOR","body":"> I would be ok with a flag that will simply not return anything except for top level summary fields if everything is successful. This is probably the most common case, and if something failed, just use the current way to correlate request/response.\n\n+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/258697517","html_url":"https://github.com/elastic/elasticsearch/issues/2661#issuecomment-258697517","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2661","id":258697517,"node_id":"MDEyOklzc3VlQ29tbWVudDI1ODY5NzUxNw==","user":{"login":"rpedela","id":1952582,"node_id":"MDQ6VXNlcjE5NTI1ODI=","avatar_url":"https://avatars1.githubusercontent.com/u/1952582?v=4","gravatar_id":"","url":"https://api.github.com/users/rpedela","html_url":"https://github.com/rpedela","followers_url":"https://api.github.com/users/rpedela/followers","following_url":"https://api.github.com/users/rpedela/following{/other_user}","gists_url":"https://api.github.com/users/rpedela/gists{/gist_id}","starred_url":"https://api.github.com/users/rpedela/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rpedela/subscriptions","organizations_url":"https://api.github.com/users/rpedela/orgs","repos_url":"https://api.github.com/users/rpedela/repos","events_url":"https://api.github.com/users/rpedela/events{/privacy}","received_events_url":"https://api.github.com/users/rpedela/received_events","type":"User","site_admin":false},"created_at":"2016-11-06T17:52:49Z","updated_at":"2016-11-06T17:52:49Z","author_association":"NONE","body":"> I would be ok with a flag that will simply not return anything except for top level summary fields if everything is successful. This is probably the most common case, and if something failed, just use the current way to correlate request/response.\n\nI think the summary should be the default, and the current response should be behind a verbose flag. Otherwise +1.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/258829945","html_url":"https://github.com/elastic/elasticsearch/issues/2661#issuecomment-258829945","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2661","id":258829945,"node_id":"MDEyOklzc3VlQ29tbWVudDI1ODgyOTk0NQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-11-07T13:03:30Z","updated_at":"2016-11-07T13:03:30Z","author_association":"CONTRIBUTOR","body":"> I think the summary should be the default, and the current response should be behind a verbose flag. Otherwise +1.\n\nThis would be a breaking change, so best to keep the default as it is today.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/258901695","html_url":"https://github.com/elastic/elasticsearch/issues/2661#issuecomment-258901695","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2661","id":258901695,"node_id":"MDEyOklzc3VlQ29tbWVudDI1ODkwMTY5NQ==","user":{"login":"rpedela","id":1952582,"node_id":"MDQ6VXNlcjE5NTI1ODI=","avatar_url":"https://avatars1.githubusercontent.com/u/1952582?v=4","gravatar_id":"","url":"https://api.github.com/users/rpedela","html_url":"https://github.com/rpedela","followers_url":"https://api.github.com/users/rpedela/followers","following_url":"https://api.github.com/users/rpedela/following{/other_user}","gists_url":"https://api.github.com/users/rpedela/gists{/gist_id}","starred_url":"https://api.github.com/users/rpedela/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rpedela/subscriptions","organizations_url":"https://api.github.com/users/rpedela/orgs","repos_url":"https://api.github.com/users/rpedela/repos","events_url":"https://api.github.com/users/rpedela/events{/privacy}","received_events_url":"https://api.github.com/users/rpedela/received_events","type":"User","site_admin":false},"created_at":"2016-11-07T17:24:55Z","updated_at":"2016-11-07T17:29:05Z","author_association":"NONE","body":"The default should always be the most common case. In addition, the current, default behavior requires more CPU, memory, and network resources which seems like a bad thing. Besides aren't breaking API changes the norm for this project? It seems like every major version, sometimes even minor versions, have major changes to the API.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/258908522","html_url":"https://github.com/elastic/elasticsearch/issues/2661#issuecomment-258908522","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2661","id":258908522,"node_id":"MDEyOklzc3VlQ29tbWVudDI1ODkwODUyMg==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-11-07T17:50:14Z","updated_at":"2016-11-07T17:50:14Z","author_association":"CONTRIBUTOR","body":"@rpedela We think long and hard about every breaking change that we make, and try to find ways to smooth the migration.  This is a good example of something that we shouldn't break.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/265986814","html_url":"https://github.com/elastic/elasticsearch/issues/2661#issuecomment-265986814","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2661","id":265986814,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NTk4NjgxNA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-12-09T10:53:22Z","updated_at":"2016-12-09T10:53:22Z","author_association":"CONTRIBUTOR","body":"Rediscussed this in FixItFriday. We're loathe to change the API (which pushes complexity towards the clients and runs the risk of bugs) without any benchmarks demonstrating how much performance gain there is from making this change.  The bulk response is very compressible so we could well find that leaving out the bulk items make a negligible difference.\r\n\r\nI'm going to close this for now, but feel free to reopen if you can show a significant difference in performance when compression is enabled.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/273264492","html_url":"https://github.com/elastic/elasticsearch/issues/2661#issuecomment-273264492","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2661","id":273264492,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzI2NDQ5Mg==","user":{"login":"arakelian","id":1766075,"node_id":"MDQ6VXNlcjE3NjYwNzU=","avatar_url":"https://avatars3.githubusercontent.com/u/1766075?v=4","gravatar_id":"","url":"https://api.github.com/users/arakelian","html_url":"https://github.com/arakelian","followers_url":"https://api.github.com/users/arakelian/followers","following_url":"https://api.github.com/users/arakelian/following{/other_user}","gists_url":"https://api.github.com/users/arakelian/gists{/gist_id}","starred_url":"https://api.github.com/users/arakelian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arakelian/subscriptions","organizations_url":"https://api.github.com/users/arakelian/orgs","repos_url":"https://api.github.com/users/arakelian/repos","events_url":"https://api.github.com/users/arakelian/events{/privacy}","received_events_url":"https://api.github.com/users/arakelian/received_events","type":"User","site_admin":false},"created_at":"2017-01-17T18:59:40Z","updated_at":"2017-01-17T18:59:58Z","author_association":"NONE","body":"@kimchy @nik9000 I came across this thread while researching bulk api requests format. It's worth mentioning here that [bulk api documentation](https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-bulk.html) doesn't mention that request/response are correlated by array order.  Would you mind adding that as an API guarantee?\r\n\r\nI use in ES a production environment which indexes hundreds of billions of documents, and we retry individual documents that fail via the bulk API. Since the documentation doesn't guarantee ordering of the response, we had been matching request/response items via index/type/id, but there is a subtle problem with that approach.  We use index aliases, and when you do that, the request will have the alias, but the response has the physical index name.. a mismatch occurs.\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/273265984","html_url":"https://github.com/elastic/elasticsearch/issues/2661#issuecomment-273265984","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2661","id":273265984,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzI2NTk4NA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-01-17T19:05:05Z","updated_at":"2017-01-17T19:05:05Z","author_association":"MEMBER","body":"@garakelian I believe that's covered [here](https://www.elastic.co/guide/en/elasticsearch/reference/current/_batch_processing.html):\r\n\r\n> When the bulk API returns, it will provide a status for each action (in the same order it was sent in) so that you can check if a specific action failed or not.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/273268758","html_url":"https://github.com/elastic/elasticsearch/issues/2661#issuecomment-273268758","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2661","id":273268758,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzI2ODc1OA==","user":{"login":"arakelian","id":1766075,"node_id":"MDQ6VXNlcjE3NjYwNzU=","avatar_url":"https://avatars3.githubusercontent.com/u/1766075?v=4","gravatar_id":"","url":"https://api.github.com/users/arakelian","html_url":"https://github.com/arakelian","followers_url":"https://api.github.com/users/arakelian/followers","following_url":"https://api.github.com/users/arakelian/following{/other_user}","gists_url":"https://api.github.com/users/arakelian/gists{/gist_id}","starred_url":"https://api.github.com/users/arakelian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arakelian/subscriptions","organizations_url":"https://api.github.com/users/arakelian/orgs","repos_url":"https://api.github.com/users/arakelian/repos","events_url":"https://api.github.com/users/arakelian/events{/privacy}","received_events_url":"https://api.github.com/users/arakelian/received_events","type":"User","site_admin":false},"created_at":"2017-01-17T19:14:59Z","updated_at":"2017-01-17T19:15:27Z","author_association":"NONE","body":"@jasontedor Thanks for quick reply. I missed that page, thank you. Do you know if a PR request would be welcomed to update the documentation on the other page I referenced, (to point to the page you linked), and/or add the note about the index name being different on the reply when aliases are being used?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/273272273","html_url":"https://github.com/elastic/elasticsearch/issues/2661#issuecomment-273272273","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2661","id":273272273,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzI3MjI3Mw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-01-17T19:26:58Z","updated_at":"2017-01-17T19:26:58Z","author_association":"MEMBER","body":"An update to the bulk API documentation that you referenced would be welcomed (I would prefer explicitly mentioning the API guarantee that we provide, rather than linking elsewhere in our docs).\r\n\r\nAs for the response when indexing using an alias, I think that is covered in the alias docs (if it's not, it should be here), but I don't think that the bulk API docs are the right place (should be more general).\r\n\r\nDoes that make sense?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/273273948","html_url":"https://github.com/elastic/elasticsearch/issues/2661#issuecomment-273273948","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2661","id":273273948,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzI3Mzk0OA==","user":{"login":"arakelian","id":1766075,"node_id":"MDQ6VXNlcjE3NjYwNzU=","avatar_url":"https://avatars3.githubusercontent.com/u/1766075?v=4","gravatar_id":"","url":"https://api.github.com/users/arakelian","html_url":"https://github.com/arakelian","followers_url":"https://api.github.com/users/arakelian/followers","following_url":"https://api.github.com/users/arakelian/following{/other_user}","gists_url":"https://api.github.com/users/arakelian/gists{/gist_id}","starred_url":"https://api.github.com/users/arakelian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arakelian/subscriptions","organizations_url":"https://api.github.com/users/arakelian/orgs","repos_url":"https://api.github.com/users/arakelian/repos","events_url":"https://api.github.com/users/arakelian/events{/privacy}","received_events_url":"https://api.github.com/users/arakelian/received_events","type":"User","site_admin":false},"created_at":"2017-01-17T19:32:26Z","updated_at":"2017-01-17T19:32:26Z","author_association":"NONE","body":"@jasontedor Sure. I'll submit a PR based on your suggestion... Thanks.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/273274603","html_url":"https://github.com/elastic/elasticsearch/issues/2661#issuecomment-273274603","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2661","id":273274603,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzI3NDYwMw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-01-17T19:34:34Z","updated_at":"2017-01-17T19:34:34Z","author_association":"MEMBER","body":"Thank you @garakelian.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/398264178","html_url":"https://github.com/elastic/elasticsearch/issues/2661#issuecomment-398264178","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2661","id":398264178,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODI2NDE3OA==","user":{"login":"sinylei","id":25073202,"node_id":"MDQ6VXNlcjI1MDczMjAy","avatar_url":"https://avatars2.githubusercontent.com/u/25073202?v=4","gravatar_id":"","url":"https://api.github.com/users/sinylei","html_url":"https://github.com/sinylei","followers_url":"https://api.github.com/users/sinylei/followers","following_url":"https://api.github.com/users/sinylei/following{/other_user}","gists_url":"https://api.github.com/users/sinylei/gists{/gist_id}","starred_url":"https://api.github.com/users/sinylei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sinylei/subscriptions","organizations_url":"https://api.github.com/users/sinylei/orgs","repos_url":"https://api.github.com/users/sinylei/repos","events_url":"https://api.github.com/users/sinylei/events{/privacy}","received_events_url":"https://api.github.com/users/sinylei/received_events","type":"User","site_admin":false},"created_at":"2018-06-19T03:37:24Z","updated_at":"2018-06-19T03:37:24Z","author_association":"NONE","body":"@clintongormley, I am not sure if the performance would get great improved by short return message, but I am sure it will save a lot of money paid for the network traffic when using in Cloud environment.\r\nFor most Cloud platform, the inbound traffic is free and only charge the outbound traffic.\r\nWhen we deployed a cloud based ES system, and the clients call bulk api, for the cloud ES, the request from client is an inbound traffic, that is free, but the response to client is outbound traffic which needs to be paid at some rate. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/611091693","html_url":"https://github.com/elastic/elasticsearch/issues/2661#issuecomment-611091693","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2661","id":611091693,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTA5MTY5Mw==","user":{"login":"wnojopra","id":6879774,"node_id":"MDQ6VXNlcjY4Nzk3NzQ=","avatar_url":"https://avatars0.githubusercontent.com/u/6879774?v=4","gravatar_id":"","url":"https://api.github.com/users/wnojopra","html_url":"https://github.com/wnojopra","followers_url":"https://api.github.com/users/wnojopra/followers","following_url":"https://api.github.com/users/wnojopra/following{/other_user}","gists_url":"https://api.github.com/users/wnojopra/gists{/gist_id}","starred_url":"https://api.github.com/users/wnojopra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wnojopra/subscriptions","organizations_url":"https://api.github.com/users/wnojopra/orgs","repos_url":"https://api.github.com/users/wnojopra/repos","events_url":"https://api.github.com/users/wnojopra/events{/privacy}","received_events_url":"https://api.github.com/users/wnojopra/received_events","type":"User","site_admin":false},"created_at":"2020-04-08T17:33:47Z","updated_at":"2020-04-08T17:33:47Z","author_association":"NONE","body":"I came across this thread while looking for a way to reduce the response from Bulk API. A few days later, I discovered the [filter_path](https://www.elastic.co/guide/en/elasticsearch/reference/current/common-options.html#common-options-response-filtering) parameter that drastically reduced the response size for my large bulk requests. This seems to have existed since [2015](https://github.com/elastic/elasticsearch/pull/10980). \r\n\r\nIs there any reason using filter_path wouldn't solve the problems discussed in this thread?","performed_via_github_app":null}]