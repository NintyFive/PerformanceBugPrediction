{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/20446","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20446/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20446/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20446/events","html_url":"https://github.com/elastic/elasticsearch/issues/20446","id":176624065,"node_id":"MDU6SXNzdWUxNzY2MjQwNjU=","number":20446,"title":"Index creation with dynamic mapping is order sensistive","user":{"login":"judewood","id":9655016,"node_id":"MDQ6VXNlcjk2NTUwMTY=","avatar_url":"https://avatars3.githubusercontent.com/u/9655016?v=4","gravatar_id":"","url":"https://api.github.com/users/judewood","html_url":"https://github.com/judewood","followers_url":"https://api.github.com/users/judewood/followers","following_url":"https://api.github.com/users/judewood/following{/other_user}","gists_url":"https://api.github.com/users/judewood/gists{/gist_id}","starred_url":"https://api.github.com/users/judewood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/judewood/subscriptions","organizations_url":"https://api.github.com/users/judewood/orgs","repos_url":"https://api.github.com/users/judewood/repos","events_url":"https://api.github.com/users/judewood/events{/privacy}","received_events_url":"https://api.github.com/users/judewood/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2016-09-13T12:11:15Z","updated_at":"2016-09-13T12:54:20Z","closed_at":"2016-09-13T12:17:42Z","author_association":"NONE","active_lock_reason":null,"body":"**Elasticsearch version**: 1.7.1\n\n**Plugins installed**: []\n\n**JVM version**:\n\n**OS version**:\n\n**Description of the problem including expected versus actual behavior**:\nCreating an index appears to be sensitive to the order that settings and mappings are specified in.\n\n**Steps to reproduce**:\n1. Create an index with the following body\n\n``` json\n{\n    \"settings\":{\n          \"analysis\":{\n             \"analyzer\":{\n                \"keylower\":{\n                   \"tokenizer\":\"keyword\",\n                   \"filter\":\"lowercase\"\n                }\n             }\n          }\n       }\n    },\n    \"mappings\":{\n        \"siteprofile\":{\n            \"dynamic_templates\":[\n            {\n                \"match_siteData_strings\":{\n                    \"match_mapping_type\":\"string\",\n                    \"path_match\":\"siteData.*\",\n                    \"mapping\":{\n                        \"type\":\"string\",\n                        \"analyzer\":\"keylower\"\n                    }\n                }\n            },\n            {\n                \"match_siteData_integers\":{\n                    \"match_mapping_type\":\"integer\",\n                    \"path_match\":\"siteData.*\",\n                    \"mapping\":{\n                        \"type\":\"string\",\n                        \"index\":\"not_analyzed\"\n                    }\n                }\n            }\n            ]\n        }\n    }\n}\n```\n\n then get its mappings Response is \n\n``` json\n{\n  \"myindex\": {\n    \"mappings\": {}\n  }\n}\n```\n\n 2.If the order of settings and mappings in the body are swapped then the index mappings are created correctly.\n","closed_by":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"performed_via_github_app":null}