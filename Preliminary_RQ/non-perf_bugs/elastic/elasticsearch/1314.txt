{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/1314","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1314/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1314/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1314/events","html_url":"https://github.com/elastic/elasticsearch/issues/1314","id":1602581,"node_id":"MDU6SXNzdWUxNjAyNTgx","number":1314,"title":"Highlighting - does not work with custom_score or boosting","user":{"login":"lukas-vlcek","id":205174,"node_id":"MDQ6VXNlcjIwNTE3NA==","avatar_url":"https://avatars2.githubusercontent.com/u/205174?v=4","gravatar_id":"","url":"https://api.github.com/users/lukas-vlcek","html_url":"https://github.com/lukas-vlcek","followers_url":"https://api.github.com/users/lukas-vlcek/followers","following_url":"https://api.github.com/users/lukas-vlcek/following{/other_user}","gists_url":"https://api.github.com/users/lukas-vlcek/gists{/gist_id}","starred_url":"https://api.github.com/users/lukas-vlcek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukas-vlcek/subscriptions","organizations_url":"https://api.github.com/users/lukas-vlcek/orgs","repos_url":"https://api.github.com/users/lukas-vlcek/repos","events_url":"https://api.github.com/users/lukas-vlcek/events{/privacy}","received_events_url":"https://api.github.com/users/lukas-vlcek/received_events","type":"User","site_admin":false},"labels":[{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"assignees":[{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false}],"milestone":null,"comments":5,"created_at":"2011-09-08T21:25:59Z","updated_at":"2013-03-11T09:31:13Z","closed_at":"2013-03-11T09:31:13Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"reported by: https://github.com/nkvoll\n\nHighlighting does not seem to work with custom_score or boosting (and maybe others, but these were the one I just tested).\n\nExample (from https://gist.github.com/9f003179c02ebe9b69ae ):\n\n```\ncurl -XDELETE http://localhost:9200/test?pretty\ncurl -XPOST 'http://localhost:9200/test/my_type/1?pretty=1&refresh=true' -d '\n{\n    \"foo\": {\n        \"bar\": \"this is bar\"\n    }\n}'\n\n# works as expected:\ncurl http://localhost:9200/test/_search?pretty -XPOST -d '{\n    \"query\": {\"query_string\": {\"query\":\"bar\"}},\n    \"highlight\": {\"fields\": {\"foo.bar\":{}}}\n}'\n\n\n# does not highlight:\ncurl http://localhost:9200/test/_search?pretty -XPOST -d '{\n    \"query\": {\n        \"boosting\": {\n            \"positive\": {\n                \"query_string\": {\n                    \"query\":\"bar\"\n                }\n            },\n            \"negative\": {\"term\": {\"foo.bar\": \"baz\"}},\n            \"negative_boost\": 0.9\n        }\n    },\n    \"highlight\": {\"fields\": {\"foo.bar\":{}}}\n}'\n\n\n# does not highlight either:\ncurl http://localhost:9200/test/_search?pretty -XPOST -d '{\n    \"query\": {\n        \"custom_score\": {\n            \"query\": {\n                \"query_string\": {\n                    \"query\":\"bar\"\n                }\n            },\n            \"script\": \"_score\"\n        }\n    },    \n    \"highlight\": {\"fields\": {\"foo.bar\":{}}}\n}'    \n```\n","closed_by":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"performed_via_github_app":null}