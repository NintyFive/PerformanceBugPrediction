{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/14001","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14001/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14001/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14001/events","html_url":"https://github.com/elastic/elasticsearch/issues/14001","id":110301537,"node_id":"MDU6SXNzdWUxMTAzMDE1Mzc=","number":14001,"title":"More detail on cause of allocation failure / unassigned shards","user":{"login":"PhaedrusTheGreek","id":4387023,"node_id":"MDQ6VXNlcjQzODcwMjM=","avatar_url":"https://avatars0.githubusercontent.com/u/4387023?v=4","gravatar_id":"","url":"https://api.github.com/users/PhaedrusTheGreek","html_url":"https://github.com/PhaedrusTheGreek","followers_url":"https://api.github.com/users/PhaedrusTheGreek/followers","following_url":"https://api.github.com/users/PhaedrusTheGreek/following{/other_user}","gists_url":"https://api.github.com/users/PhaedrusTheGreek/gists{/gist_id}","starred_url":"https://api.github.com/users/PhaedrusTheGreek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PhaedrusTheGreek/subscriptions","organizations_url":"https://api.github.com/users/PhaedrusTheGreek/orgs","repos_url":"https://api.github.com/users/PhaedrusTheGreek/repos","events_url":"https://api.github.com/users/PhaedrusTheGreek/events{/privacy}","received_events_url":"https://api.github.com/users/PhaedrusTheGreek/received_events","type":"User","site_admin":false},"labels":[{"id":146836529,"node_id":"MDU6TGFiZWwxNDY4MzY1Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Stats","name":":Core/Features/Stats","color":"0e8a16","default":false,"description":"Statistics tracking and retrieval APIs"},{"id":23715,"node_id":"MDU6TGFiZWwyMzcxNQ==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Edocs","name":">docs","color":"db755e","default":false,"description":"General docs changes"},{"id":92913858,"node_id":"MDU6TGFiZWw5MjkxMzg1OA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/good%20first%20issue","name":"good first issue","color":"07569b","default":true,"description":"low hanging fruit"},{"id":110815527,"node_id":"MDU6TGFiZWwxMTA4MTU1Mjc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/help%20wanted","name":"help wanted","color":"207de5","default":true,"description":"adoptme"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2015-10-07T19:41:39Z","updated_at":"2016-11-03T19:15:43Z","closed_at":"2016-01-12T12:28:24Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"I have done a few tests in difference scenarios, in order to find the reason why shards are unassigned.   It seems as if there could be some improvements by providing the real, human readable reason why a shard is in unassigned state.\n\nPossible end reasons (for failed allocation) would include \n- more replicas than nodes\n- low disk watermark\n- corruption\n- forced allocation awareness\n- bad routing\n\nIn the scenarios that I was able to reproduce, the _Unassigned Reason_, and _Unassigned Details_ did not assist in learning the real cause.  \n\nIn **Allocation Awareness** and **Low Disk Watermark** tests, no _unassigned.details_ were available, and the _unassigned.reason_ was not helpful in learning the user error.  Both tests had similar results:\n\n```\nGET /_cat/shards?h=node,index,shard,prirep,state,unassigned.reason,unassigned.details\nWolverine test-index 4 p STARTED                       \n          test-index 4 r UNASSIGNED CLUSTER_RECOVERED  \n...or...\nHazard newone3    4 p STARTED                       \n       newone3    4 r UNASSIGNED INDEX_CREATED    \n```\n\nA **Node Left** test resulted in a useful _reason_ and a _unassigned.details_ string, but the latter was not human-friendly:\n\n```\nCecelia Reyes test-index 4 p STARTED                                                \n              test-index 4 r UNASSIGNED NODE_LEFT node_left[tHfFXWxGS4ao-xGjvkJQAg] \nCecelia Reyes test-index 3 p STARTED                                                \n              test-index 3 r UNASSIGNED NODE_LEFT node_left[tHfFXWxGS4ao-xGjvkJQAg] \n```\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}