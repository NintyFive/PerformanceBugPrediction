{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/21231","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21231/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21231/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21231/events","html_url":"https://github.com/elastic/elasticsearch/issues/21231","id":186469151,"node_id":"MDU6SXNzdWUxODY0NjkxNTE=","number":21231,"title":"Packaging for systemd unit file and ES_USER","user":{"login":"martinb3","id":103033,"node_id":"MDQ6VXNlcjEwMzAzMw==","avatar_url":"https://avatars0.githubusercontent.com/u/103033?v=4","gravatar_id":"","url":"https://api.github.com/users/martinb3","html_url":"https://github.com/martinb3","followers_url":"https://api.github.com/users/martinb3/followers","following_url":"https://api.github.com/users/martinb3/following{/other_user}","gists_url":"https://api.github.com/users/martinb3/gists{/gist_id}","starred_url":"https://api.github.com/users/martinb3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinb3/subscriptions","organizations_url":"https://api.github.com/users/martinb3/orgs","repos_url":"https://api.github.com/users/martinb3/repos","events_url":"https://api.github.com/users/martinb3/events{/privacy}","received_events_url":"https://api.github.com/users/martinb3/received_events","type":"User","site_admin":false},"labels":[{"id":114977275,"node_id":"MDU6TGFiZWwxMTQ5NzcyNzU=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Packaging","name":":Delivery/Packaging","color":"0e8a16","default":false,"description":"RPM and deb packaging, tar and zip archives, shell and batch scripts"},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2016-11-01T06:39:17Z","updated_at":"2020-11-11T21:57:50Z","closed_at":"2017-03-31T14:36:44Z","author_association":"NONE","active_lock_reason":null,"body":"Howdy! I'm not sure if this really a bug or a feature, but it's a packaging request. In short, we respect a lot of environment variables in the systemd packaging for the v5.0.0 release:\r\n\r\n```\r\n[Service]\r\nEnvironment=ES_HOME=/usr/share/elasticsearch\r\nEnvironment=CONF_DIR=/etc/elasticsearch\r\nEnvironment=DATA_DIR=/var/lib/elasticsearch\r\nEnvironment=LOG_DIR=/var/log/elasticsearch\r\nEnvironment=PID_DIR=/var/run/elasticsearch\r\nEnvironmentFile=-/etc/sysconfig/elasticsearch\r\n```\r\n\r\nBut then we ignore ES_USER and ES_GROUP:\r\n```\r\nUser=elasticsearch\r\nGroup=elasticsearch\r\n```\r\n\r\nMaybe the intention is to deprecate `ES_USER` and `ES_GROUP` from being the correct way to run Elasticsearch, but we should probably respect those env vars in systemd or stop respecting them in sys-v init systems.\r\n\r\nI'm maintaining the Chef cookbook for Elasticsearch, and I'm trying to avoid hacking up the systemd unit file just to allow users to override the user and group like they can already with the init script.\r\n\r\nThanks in advance!","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}