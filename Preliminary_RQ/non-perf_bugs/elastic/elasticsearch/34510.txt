{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/34510","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34510/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34510/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34510/events","html_url":"https://github.com/elastic/elasticsearch/issues/34510","id":370541545,"node_id":"MDU6SXNzdWUzNzA1NDE1NDU=","number":34510,"title":"Clear read only flag on indexes once disk space is available","user":{"login":"dmitrymurashenkov","id":18661137,"node_id":"MDQ6VXNlcjE4NjYxMTM3","avatar_url":"https://avatars3.githubusercontent.com/u/18661137?v=4","gravatar_id":"","url":"https://api.github.com/users/dmitrymurashenkov","html_url":"https://github.com/dmitrymurashenkov","followers_url":"https://api.github.com/users/dmitrymurashenkov/followers","following_url":"https://api.github.com/users/dmitrymurashenkov/following{/other_user}","gists_url":"https://api.github.com/users/dmitrymurashenkov/gists{/gist_id}","starred_url":"https://api.github.com/users/dmitrymurashenkov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmitrymurashenkov/subscriptions","organizations_url":"https://api.github.com/users/dmitrymurashenkov/orgs","repos_url":"https://api.github.com/users/dmitrymurashenkov/repos","events_url":"https://api.github.com/users/dmitrymurashenkov/events{/privacy}","received_events_url":"https://api.github.com/users/dmitrymurashenkov/received_events","type":"User","site_admin":false},"labels":[{"id":837246479,"node_id":"MDU6TGFiZWw4MzcyNDY0Nzk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Allocation","name":":Distributed/Allocation","color":"0e8a16","default":false,"description":"All issues relating to the decision making around placing a shard (both master logic & on the nodes)"},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":110815527,"node_id":"MDU6TGFiZWwxMTA4MTU1Mjc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/help%20wanted","name":"help wanted","color":"207de5","default":true,"description":"adoptme"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-10-16T10:21:47Z","updated_at":"2019-03-18T14:27:38Z","closed_at":"2019-03-18T14:27:01Z","author_association":"NONE","active_lock_reason":null,"body":"Currently elastic makes indexes read only if disk filled over 95% by setting flag on index:\r\n\r\n`\r\nindex.blocks.read_only_allow_delete: true\r\n`\r\n\r\nOnce we clean up the disk and space is available again - flag has to be cleared manually. For example like this:\r\n`\r\ncurl -XPUT -H \"Content-Type: application/json\" http://localhost:9200/_all/_settings -d '{\"index.blocks.read_only_allow_delete\": null}'\r\n`\r\n\r\nIt would be nice to have some automatic way to handle this situation.\r\n\r\nSeems it would require some additional flag to tell us that this index was locked because of the low disk space and not explicitly by user.","closed_by":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"performed_via_github_app":null}