[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/516598214","html_url":"https://github.com/elastic/elasticsearch/issues/45022#issuecomment-516598214","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45022","id":516598214,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjU5ODIxNA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-07-30T21:13:43Z","updated_at":"2019-07-30T21:13:43Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-security","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/585751865","html_url":"https://github.com/elastic/elasticsearch/issues/45022#issuecomment-585751865","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45022","id":585751865,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NTc1MTg2NQ==","user":{"login":"ywangd","id":2344308,"node_id":"MDQ6VXNlcjIzNDQzMDg=","avatar_url":"https://avatars3.githubusercontent.com/u/2344308?v=4","gravatar_id":"","url":"https://api.github.com/users/ywangd","html_url":"https://github.com/ywangd","followers_url":"https://api.github.com/users/ywangd/followers","following_url":"https://api.github.com/users/ywangd/following{/other_user}","gists_url":"https://api.github.com/users/ywangd/gists{/gist_id}","starred_url":"https://api.github.com/users/ywangd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywangd/subscriptions","organizations_url":"https://api.github.com/users/ywangd/orgs","repos_url":"https://api.github.com/users/ywangd/repos","events_url":"https://api.github.com/users/ywangd/events{/privacy}","received_events_url":"https://api.github.com/users/ywangd/received_events","type":"User","site_admin":false},"created_at":"2020-02-13T13:23:46Z","updated_at":"2020-02-13T13:25:04Z","author_association":"MEMBER","body":"The change for removal behaviour itself is straightforward. But discussion could be needed for how we handle backwards compatibility. Existing clusters with deleted license already have a \"tombstone\" license that grants \"MISSING\" operation mode. When they upgrade, how do we handle these licenses? I can think of following options:\r\n\r\n1.  Do nothing. User can either start basic or delete the license again to get a basic license.\r\n2. Change the code to grant \"BASIC\" operation mode for tombstone license. For get license API call, to avoid returning empty result, we could either return the tombstone license or a static basic license so it does not look too funny.\r\n3. Auto-upgrade the tombstone license on cluster startup time to a basic license. The goal is gradually remove tombstone license entirely so that no special handling is required. Currently it is serialised as either `null` or `false`. This will no longer be necessary.\r\n\r\nI personally prefer option 1 because 1) this change is more for fixing the removal behaviour; 2) there are ways for existing cluster to get a basic license; 3) the auto-upgrade does not really gain much in terms of functionality. Maybe we could let tombstone grant \"BASIC\" operation mode. But other than that, there does not seem to be much value.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/586055627","html_url":"https://github.com/elastic/elasticsearch/issues/45022#issuecomment-586055627","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45022","id":586055627,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjA1NTYyNw==","user":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"created_at":"2020-02-14T01:36:43Z","updated_at":"2020-02-14T01:36:43Z","author_association":"CONTRIBUTOR","body":"I favour option 1.\r\n\r\nIf, as a result of this change, we reduce the number of license checks that we do on Basic features, and that means that some functionality starts to work on `MISSING` licenses, I think that's OK.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/586099427","html_url":"https://github.com/elastic/elasticsearch/issues/45022#issuecomment-586099427","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45022","id":586099427,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjA5OTQyNw==","user":{"login":"ywangd","id":2344308,"node_id":"MDQ6VXNlcjIzNDQzMDg=","avatar_url":"https://avatars3.githubusercontent.com/u/2344308?v=4","gravatar_id":"","url":"https://api.github.com/users/ywangd","html_url":"https://github.com/ywangd","followers_url":"https://api.github.com/users/ywangd/followers","following_url":"https://api.github.com/users/ywangd/following{/other_user}","gists_url":"https://api.github.com/users/ywangd/gists{/gist_id}","starred_url":"https://api.github.com/users/ywangd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywangd/subscriptions","organizations_url":"https://api.github.com/users/ywangd/orgs","repos_url":"https://api.github.com/users/ywangd/repos","events_url":"https://api.github.com/users/ywangd/events{/privacy}","received_events_url":"https://api.github.com/users/ywangd/received_events","type":"User","site_admin":false},"created_at":"2020-02-14T05:03:06Z","updated_at":"2020-02-14T05:03:06Z","author_association":"MEMBER","body":"Do you want \"reduce the number of license checks\" as part of this change or a follow-up?","performed_via_github_app":null}]