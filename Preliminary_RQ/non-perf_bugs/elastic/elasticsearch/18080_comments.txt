[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/216080061","html_url":"https://github.com/elastic/elasticsearch/issues/18080#issuecomment-216080061","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18080","id":216080061,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjA4MDA2MQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-05-01T23:03:00Z","updated_at":"2016-05-01T23:03:00Z","author_association":"MEMBER","body":"This looks like a general question more than it does a bug report in Elasticsearch. Elastic reserves GitHub for bug reports and feature requests but provides a [Discourse forum](https://discuss.elastic.co) and [IRC channels](https://www.elastic.co/community) for general questions.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/216111784","html_url":"https://github.com/elastic/elasticsearch/issues/18080#issuecomment-216111784","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18080","id":216111784,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjExMTc4NA==","user":{"login":"ervivekmehta","id":5938907,"node_id":"MDQ6VXNlcjU5Mzg5MDc=","avatar_url":"https://avatars0.githubusercontent.com/u/5938907?v=4","gravatar_id":"","url":"https://api.github.com/users/ervivekmehta","html_url":"https://github.com/ervivekmehta","followers_url":"https://api.github.com/users/ervivekmehta/followers","following_url":"https://api.github.com/users/ervivekmehta/following{/other_user}","gists_url":"https://api.github.com/users/ervivekmehta/gists{/gist_id}","starred_url":"https://api.github.com/users/ervivekmehta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ervivekmehta/subscriptions","organizations_url":"https://api.github.com/users/ervivekmehta/orgs","repos_url":"https://api.github.com/users/ervivekmehta/repos","events_url":"https://api.github.com/users/ervivekmehta/events{/privacy}","received_events_url":"https://api.github.com/users/ervivekmehta/received_events","type":"User","site_admin":false},"created_at":"2016-05-02T06:01:03Z","updated_at":"2016-05-02T06:01:03Z","author_association":"NONE","body":"Brother I know Issues are only going to post over here. And this is seriously biggest issue for us. Elasticsearch stop working after this aggregation Exception occurs.\n[: Expected numeric type on field [severity], but got [string]]\n\nYou must dig in to this brother. It is a bug. I think Elasticsearch throw and error it's a perfect way but it's stop working after throwing this exception, I think this bug must be resolved bro. because from client side we cant even able to predict that which column client will select for aggregation. and if any other way then please post here or we can communicate through mail.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/216244290","html_url":"https://github.com/elastic/elasticsearch/issues/18080#issuecomment-216244290","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18080","id":216244290,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjI0NDI5MA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-05-02T14:04:07Z","updated_at":"2016-05-02T14:04:07Z","author_association":"CONTRIBUTOR","body":"It is kind of the client responsibility not to send bogus aggregations. Elasticsearch should certainly reply with 400-level responses when it does which does sound like a bug but ultimately you are responsible for understanding the schema of your data. You can have the client look at the mappings before giving the user the list of things they can aggregate on. https://github.com/elastic/elasticsearch/pull/17980 also should help with that in 5.0 too.\n","performed_via_github_app":null}]