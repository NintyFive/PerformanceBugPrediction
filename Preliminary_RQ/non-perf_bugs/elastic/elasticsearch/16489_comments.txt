[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/180865257","html_url":"https://github.com/elastic/elasticsearch/issues/16489#issuecomment-180865257","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16489","id":180865257,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MDg2NTI1Nw==","user":{"login":"pickypg","id":1501235,"node_id":"MDQ6VXNlcjE1MDEyMzU=","avatar_url":"https://avatars2.githubusercontent.com/u/1501235?v=4","gravatar_id":"","url":"https://api.github.com/users/pickypg","html_url":"https://github.com/pickypg","followers_url":"https://api.github.com/users/pickypg/followers","following_url":"https://api.github.com/users/pickypg/following{/other_user}","gists_url":"https://api.github.com/users/pickypg/gists{/gist_id}","starred_url":"https://api.github.com/users/pickypg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pickypg/subscriptions","organizations_url":"https://api.github.com/users/pickypg/orgs","repos_url":"https://api.github.com/users/pickypg/repos","events_url":"https://api.github.com/users/pickypg/events{/privacy}","received_events_url":"https://api.github.com/users/pickypg/received_events","type":"User","site_admin":false},"created_at":"2016-02-06T21:16:54Z","updated_at":"2016-02-06T21:16:54Z","author_association":"MEMBER","body":"Love it. Makes sense when you have common things like DNS names that technically trail with `.` even though no one expects them too.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/183270955","html_url":"https://github.com/elastic/elasticsearch/issues/16489#issuecomment-183270955","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16489","id":183270955,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MzI3MDk1NQ==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-02-12T10:50:20Z","updated_at":"2016-02-12T10:50:20Z","author_association":"CONTRIBUTOR","body":"@nik9000 What use-cases do you have in mind? We were discussing this issue in fixit friday and @jimferenczi made the note that we already have a trim token filter, so we were wondering what use-cases would be covered by a trim char filter that would not be covered with a trim token filter? The trim token filter only supports removing whitespaces but if this is the only issue then maybe it would be easier to just add the ability to trim arbitrary chars to the trim token filter?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/183329765","html_url":"https://github.com/elastic/elasticsearch/issues/16489#issuecomment-183329765","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16489","id":183329765,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MzMyOTc2NQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-02-12T13:30:44Z","updated_at":"2016-02-12T13:30:44Z","author_association":"CONTRIBUTOR","body":"> already have a trim token filter\n\nThat'd probably be enough.\n\n> only supports removing whitespaces\n\nThat'd be simple to fix, yeah.\n\nI believe the thing mostly comes up in the path_hierarchy tokenizer. Say you want to use it for a directory like in the [docs](https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-pathhierarchy-tokenizer.html) but you want users to be a bit more fluid. You want searching for \"foo/bar\" or \"/foo/bar/\" to find\n- \"/foo/bar\"\n- \"/foo/bar/baz\"\n\nI haven't tried it myself, but was talking with @pickypg who was trying it - the leading / was getting in the way. I reached for a char_filter because I figured it'd be simpler to think about.\n\nIn our case we were talking about dns which is the same but with the reverse flag. DNS is worse because some systems like to spit out the trailing dot very few people are used to it.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/183391505","html_url":"https://github.com/elastic/elasticsearch/issues/16489#issuecomment-183391505","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16489","id":183391505,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MzM5MTUwNQ==","user":{"login":"pickypg","id":1501235,"node_id":"MDQ6VXNlcjE1MDEyMzU=","avatar_url":"https://avatars2.githubusercontent.com/u/1501235?v=4","gravatar_id":"","url":"https://api.github.com/users/pickypg","html_url":"https://github.com/pickypg","followers_url":"https://api.github.com/users/pickypg/followers","following_url":"https://api.github.com/users/pickypg/following{/other_user}","gists_url":"https://api.github.com/users/pickypg/gists{/gist_id}","starred_url":"https://api.github.com/users/pickypg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pickypg/subscriptions","organizations_url":"https://api.github.com/users/pickypg/orgs","repos_url":"https://api.github.com/users/pickypg/repos","events_url":"https://api.github.com/users/pickypg/events{/privacy}","received_events_url":"https://api.github.com/users/pickypg/received_events","type":"User","site_admin":false},"created_at":"2016-02-12T16:13:59Z","updated_at":"2016-02-12T16:13:59Z","author_association":"MEMBER","body":"As @nik9000 said, it was due to DNS. In DNS, you really want the reversed path hierarchy and actual DNS has a goofy `.` trailing at the end:\n\n```\nelastic.co.\ngoogle.com.\napple.com.\n```\n\nSo it would be ideal to trim that off because otherwise the first token is:\n\n```\nco.\ncom.\ncom.\n```\n\nI certainly wouldn't expect to search for that with a term filter that wants to only find the `.com` TLD. I'd either try `.com` or `com`, but never `com.`.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/183649113","html_url":"https://github.com/elastic/elasticsearch/issues/16489#issuecomment-183649113","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16489","id":183649113,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MzY0OTExMw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-02-13T11:45:10Z","updated_at":"2016-02-13T11:45:10Z","author_association":"CONTRIBUTOR","body":"I'm not convinced that we need to expand the `trim` character filter.  The examples provided are actually quite complex... perhaps you want to trim front and end, or just front or just end...  The char filter works on the whole field value, not on individual terms, which makes it less flexible.\n\nThe flexibility required is easily supported by regexes - the `pattern_replace` token filter looks like the perfect solution here.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/216232199","html_url":"https://github.com/elastic/elasticsearch/issues/16489#issuecomment-216232199","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16489","id":216232199,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjIzMjE5OQ==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2016-05-02T13:19:16Z","updated_at":"2016-05-02T13:19:16Z","author_association":"MEMBER","body":"Just to add a datapoint, similar use case came up in the forums last week: https://discuss.elastic.co/t/solved-question-about-custom-analyzer/48680\nThis user was trying to search on ip adress prefixes (like **192.168**.1.1), so I suggested using the path_hierarchy tokenizer, but for similar reasons as @nik9000 stated above it was necessary to remove trailing dots from the search input. `pattern_replace` was doing the trick but I was also suprised that `trim` is limited to whitespace.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/323097775","html_url":"https://github.com/elastic/elasticsearch/issues/16489#issuecomment-323097775","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16489","id":323097775,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzA5Nzc3NQ==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2017-08-17T14:55:16Z","updated_at":"2017-08-17T14:55:16Z","author_association":"MEMBER","body":"Is this something we still want to do or can we close this issue?\r\n\r\nAdding the ability to trim arbitrary chars to the trim token filter seems to solve most of the above use cases and should be easy to do. Is there anything that speaks against doing this?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/372981317","html_url":"https://github.com/elastic/elasticsearch/issues/16489#issuecomment-372981317","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16489","id":372981317,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Mjk4MTMxNw==","user":{"login":"romseygeek","id":1347065,"node_id":"MDQ6VXNlcjEzNDcwNjU=","avatar_url":"https://avatars0.githubusercontent.com/u/1347065?v=4","gravatar_id":"","url":"https://api.github.com/users/romseygeek","html_url":"https://github.com/romseygeek","followers_url":"https://api.github.com/users/romseygeek/followers","following_url":"https://api.github.com/users/romseygeek/following{/other_user}","gists_url":"https://api.github.com/users/romseygeek/gists{/gist_id}","starred_url":"https://api.github.com/users/romseygeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/romseygeek/subscriptions","organizations_url":"https://api.github.com/users/romseygeek/orgs","repos_url":"https://api.github.com/users/romseygeek/repos","events_url":"https://api.github.com/users/romseygeek/events{/privacy}","received_events_url":"https://api.github.com/users/romseygeek/received_events","type":"User","site_admin":false},"created_at":"2018-03-14T10:56:15Z","updated_at":"2018-03-14T10:56:15Z","author_association":"CONTRIBUTOR","body":"cc @elastic/es-search-aggs ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/373454959","html_url":"https://github.com/elastic/elasticsearch/issues/16489#issuecomment-373454959","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16489","id":373454959,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzQ1NDk1OQ==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2018-03-15T17:17:07Z","updated_at":"2018-03-15T17:17:07Z","author_association":"CONTRIBUTOR","body":"Like Clint I'm on the fence about expanding the set of characters that can be trimmed. I feel like `pattern_replace` is a fine solution. I'm closing this issue since we haven't reached consensus over the 2+ years that this issue has been open. Please reopen if you feel strongly that we should do something here.","performed_via_github_app":null}]