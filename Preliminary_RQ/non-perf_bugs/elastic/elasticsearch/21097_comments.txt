[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/256748868","html_url":"https://github.com/elastic/elasticsearch/issues/21097#issuecomment-256748868","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21097","id":256748868,"node_id":"MDEyOklzc3VlQ29tbWVudDI1Njc0ODg2OA==","user":{"login":"bukzor","id":640328,"node_id":"MDQ6VXNlcjY0MDMyOA==","avatar_url":"https://avatars3.githubusercontent.com/u/640328?v=4","gravatar_id":"","url":"https://api.github.com/users/bukzor","html_url":"https://github.com/bukzor","followers_url":"https://api.github.com/users/bukzor/followers","following_url":"https://api.github.com/users/bukzor/following{/other_user}","gists_url":"https://api.github.com/users/bukzor/gists{/gist_id}","starred_url":"https://api.github.com/users/bukzor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bukzor/subscriptions","organizations_url":"https://api.github.com/users/bukzor/orgs","repos_url":"https://api.github.com/users/bukzor/repos","events_url":"https://api.github.com/users/bukzor/events{/privacy}","received_events_url":"https://api.github.com/users/bukzor/received_events","type":"User","site_admin":false},"created_at":"2016-10-27T19:44:33Z","updated_at":"2016-10-27T19:44:33Z","author_association":"NONE","body":"I'm interested in providing this patch, but it was unclear from reading the code whether or not this is possible. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/257612211","html_url":"https://github.com/elastic/elasticsearch/issues/21097#issuecomment-257612211","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21097","id":257612211,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzYxMjIxMQ==","user":{"login":"eskibars","id":2246002,"node_id":"MDQ6VXNlcjIyNDYwMDI=","avatar_url":"https://avatars0.githubusercontent.com/u/2246002?v=4","gravatar_id":"","url":"https://api.github.com/users/eskibars","html_url":"https://github.com/eskibars","followers_url":"https://api.github.com/users/eskibars/followers","following_url":"https://api.github.com/users/eskibars/following{/other_user}","gists_url":"https://api.github.com/users/eskibars/gists{/gist_id}","starred_url":"https://api.github.com/users/eskibars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eskibars/subscriptions","organizations_url":"https://api.github.com/users/eskibars/orgs","repos_url":"https://api.github.com/users/eskibars/repos","events_url":"https://api.github.com/users/eskibars/events{/privacy}","received_events_url":"https://api.github.com/users/eskibars/received_events","type":"User","site_admin":false},"created_at":"2016-11-01T16:20:12Z","updated_at":"2016-11-01T16:20:12Z","author_association":"CONTRIBUTOR","body":"Can you provide a bit more detail about what you'd like to do, e.g. an example?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/257749912","html_url":"https://github.com/elastic/elasticsearch/issues/21097#issuecomment-257749912","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21097","id":257749912,"node_id":"MDEyOklzc3VlQ29tbWVudDI1Nzc0OTkxMg==","user":{"login":"bukzor","id":640328,"node_id":"MDQ6VXNlcjY0MDMyOA==","avatar_url":"https://avatars3.githubusercontent.com/u/640328?v=4","gravatar_id":"","url":"https://api.github.com/users/bukzor","html_url":"https://github.com/bukzor","followers_url":"https://api.github.com/users/bukzor/followers","following_url":"https://api.github.com/users/bukzor/following{/other_user}","gists_url":"https://api.github.com/users/bukzor/gists{/gist_id}","starred_url":"https://api.github.com/users/bukzor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bukzor/subscriptions","organizations_url":"https://api.github.com/users/bukzor/orgs","repos_url":"https://api.github.com/users/bukzor/repos","events_url":"https://api.github.com/users/bukzor/events{/privacy}","received_events_url":"https://api.github.com/users/bukzor/received_events","type":"User","site_admin":false},"created_at":"2016-11-02T01:45:22Z","updated_at":"2016-11-02T01:54:12Z","author_association":"NONE","body":"I have a first-tier aggregation which gives me a mapping from name to\nstatus for 90000 buckets. This is too big to transfer in its entirety in\nJSON, so I'd like to get a summary which maps status to count. I'd call\nthis second-tier aggregation a histogram, and currently there's no way to\nimplement such a thing, as it'd need to be a pipeline aggregation.\n\nOn Tue, Nov 1, 2016, 09:21 Shane Connelly notifications@github.com wrote:\n\n> Can you provide a bit more detail about what you'd like to do, e.g. an\n> example?\n> \n> â€”\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> https://github.com/elastic/elasticsearch/issues/21097#issuecomment-257612211,\n> or mute the thread\n> https://github.com/notifications/unsubscribe-auth/AAnFSHdpHmbsCzBHNHgc2WCjB-qTHm6-ks5q52cCgaJpZM4KfEBO\n> .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/257751541","html_url":"https://github.com/elastic/elasticsearch/issues/21097#issuecomment-257751541","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21097","id":257751541,"node_id":"MDEyOklzc3VlQ29tbWVudDI1Nzc1MTU0MQ==","user":{"login":"bukzor","id":640328,"node_id":"MDQ6VXNlcjY0MDMyOA==","avatar_url":"https://avatars3.githubusercontent.com/u/640328?v=4","gravatar_id":"","url":"https://api.github.com/users/bukzor","html_url":"https://github.com/bukzor","followers_url":"https://api.github.com/users/bukzor/followers","following_url":"https://api.github.com/users/bukzor/following{/other_user}","gists_url":"https://api.github.com/users/bukzor/gists{/gist_id}","starred_url":"https://api.github.com/users/bukzor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bukzor/subscriptions","organizations_url":"https://api.github.com/users/bukzor/orgs","repos_url":"https://api.github.com/users/bukzor/repos","events_url":"https://api.github.com/users/bukzor/events{/privacy}","received_events_url":"https://api.github.com/users/bukzor/received_events","type":"User","site_admin":false},"created_at":"2016-11-02T01:57:18Z","updated_at":"2016-11-02T01:57:18Z","author_association":"NONE","body":"I described my use case in detail on the forum, here \n\nhttps://discuss.elastic.co/t/pipelined-histogram-aggregation/63783/5 \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/373664787","html_url":"https://github.com/elastic/elasticsearch/issues/21097#issuecomment-373664787","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21097","id":373664787,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzY2NDc4Nw==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2018-03-16T10:05:57Z","updated_at":"2018-03-16T10:05:57Z","author_association":"CONTRIBUTOR","body":"Closing for same reasons as https://github.com/elastic/elasticsearch/issues/17590 and https://github.com/elastic/elasticsearch/issues/22537 \r\nThe recurring anti-pattern is that terms aggregations are being (ab)used to join related distributed data on very high-cardinality fields as a a form of mass data gathering and then the feature request is for some form of pipeline aggregation on the coordinating node to summarise this gathered state. \r\nThis form of query-time fusion is not scalable and in each of these high-cardinality cases we advocate using entity-centric indexes - the data fusion costs are paid as a tax on each change of data rather than as a single bulk cost hitting every query.","performed_via_github_app":null}]