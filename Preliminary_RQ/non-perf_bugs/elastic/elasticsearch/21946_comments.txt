[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/297768804","html_url":"https://github.com/elastic/elasticsearch/issues/21946#issuecomment-297768804","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21946","id":297768804,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Nzc2ODgwNA==","user":{"login":"kunal642","id":11694130,"node_id":"MDQ6VXNlcjExNjk0MTMw","avatar_url":"https://avatars3.githubusercontent.com/u/11694130?v=4","gravatar_id":"","url":"https://api.github.com/users/kunal642","html_url":"https://github.com/kunal642","followers_url":"https://api.github.com/users/kunal642/followers","following_url":"https://api.github.com/users/kunal642/following{/other_user}","gists_url":"https://api.github.com/users/kunal642/gists{/gist_id}","starred_url":"https://api.github.com/users/kunal642/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kunal642/subscriptions","organizations_url":"https://api.github.com/users/kunal642/orgs","repos_url":"https://api.github.com/users/kunal642/repos","events_url":"https://api.github.com/users/kunal642/events{/privacy}","received_events_url":"https://api.github.com/users/kunal642/received_events","type":"User","site_admin":false},"created_at":"2017-04-27T16:31:22Z","updated_at":"2017-04-27T16:32:39Z","author_association":"CONTRIBUTOR","body":"any suggestions on what the failure message should be like?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/334407568","html_url":"https://github.com/elastic/elasticsearch/issues/21946#issuecomment-334407568","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21946","id":334407568,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDQwNzU2OA==","user":{"login":"liketic","id":3806117,"node_id":"MDQ6VXNlcjM4MDYxMTc=","avatar_url":"https://avatars0.githubusercontent.com/u/3806117?v=4","gravatar_id":"","url":"https://api.github.com/users/liketic","html_url":"https://github.com/liketic","followers_url":"https://api.github.com/users/liketic/followers","following_url":"https://api.github.com/users/liketic/following{/other_user}","gists_url":"https://api.github.com/users/liketic/gists{/gist_id}","starred_url":"https://api.github.com/users/liketic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liketic/subscriptions","organizations_url":"https://api.github.com/users/liketic/orgs","repos_url":"https://api.github.com/users/liketic/repos","events_url":"https://api.github.com/users/liketic/events{/privacy}","received_events_url":"https://api.github.com/users/liketic/received_events","type":"User","site_admin":false},"created_at":"2017-10-05T09:13:37Z","updated_at":"2017-10-05T09:13:37Z","author_association":"CONTRIBUTOR","body":"Hi @ppf2 Can I work on this? I think at least, we can put the exception message to source. Any thoughts about this? Thanks. ðŸ˜ƒ ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/341238219","html_url":"https://github.com/elastic/elasticsearch/issues/21946#issuecomment-341238219","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21946","id":341238219,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MTIzODIxOQ==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2017-11-01T20:50:30Z","updated_at":"2017-11-01T20:50:30Z","author_association":"MEMBER","body":"@ppf2 Here's an example of the way the error is logged currently for invalid json. For invalid json, e.g. the invalid token in the tests, currently we print:\r\n\r\n```\r\n[foo/123] took[10nanos], took_millis[0], type[test], id[id], routing[], source[_failed_to_convert_]\r\n```\r\n\r\nwhereas with this change we would get the exception message as well:\r\n\r\n```\r\n[foo/123] took[10nanos], took_millis[0], type[test], id[id], routing[], source[_failed_to_convert_[Unrecognized token 'invalid': was expecting ('true', 'false' or 'null')\r\n at [Source: org.elasticsearch.common.bytes.BytesReference$MarkSupportingStreamInputWrapper@171f40bc; line: 1, column: 15]]], reformat[true], x_content_type[JSON]\r\n```\r\n\r\nDo you think that is helpful enough to close your issue?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/341240662","html_url":"https://github.com/elastic/elasticsearch/issues/21946#issuecomment-341240662","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21946","id":341240662,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MTI0MDY2Mg==","user":{"login":"ppf2","id":7216393,"node_id":"MDQ6VXNlcjcyMTYzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/7216393?v=4","gravatar_id":"","url":"https://api.github.com/users/ppf2","html_url":"https://github.com/ppf2","followers_url":"https://api.github.com/users/ppf2/followers","following_url":"https://api.github.com/users/ppf2/following{/other_user}","gists_url":"https://api.github.com/users/ppf2/gists{/gist_id}","starred_url":"https://api.github.com/users/ppf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppf2/subscriptions","organizations_url":"https://api.github.com/users/ppf2/orgs","repos_url":"https://api.github.com/users/ppf2/repos","events_url":"https://api.github.com/users/ppf2/events{/privacy}","received_events_url":"https://api.github.com/users/ppf2/received_events","type":"User","site_admin":false},"created_at":"2017-11-01T20:59:09Z","updated_at":"2017-11-01T20:59:09Z","author_association":"MEMBER","body":"Thanks, I think `Unrecognized token 'invalid': was expecting ('true', 'false' or 'null')` will be useful.  `Source: org.elasticsearch.common.bytes.BytesReference$MarkSupportingStreamInputWrapper@171f40bc; line: 1, column: 15]]` For this part, it will be more useful if we can print out the actual content (or just small snippet of the content starting at where it is failing the parsing) instead of the column number.  But certainly, just having the exception returned is a good start.  Thx!","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/341257149","html_url":"https://github.com/elastic/elasticsearch/issues/21946#issuecomment-341257149","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21946","id":341257149,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MTI1NzE0OQ==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2017-11-01T22:04:33Z","updated_at":"2017-11-01T22:04:33Z","author_association":"MEMBER","body":"> it will be more useful if we can print out the actual content (or just small snippet of the content starting at where it is failing the parsing)\r\n\r\nThis is not going to be easy, since printing the \"_source\" in json form is the operation we are failing on here in the first place. So I think we'll have to go with the exception message here.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/341280340","html_url":"https://github.com/elastic/elasticsearch/issues/21946#issuecomment-341280340","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21946","id":341280340,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MTI4MDM0MA==","user":{"login":"ppf2","id":7216393,"node_id":"MDQ6VXNlcjcyMTYzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/7216393?v=4","gravatar_id":"","url":"https://api.github.com/users/ppf2","html_url":"https://github.com/ppf2","followers_url":"https://api.github.com/users/ppf2/followers","following_url":"https://api.github.com/users/ppf2/following{/other_user}","gists_url":"https://api.github.com/users/ppf2/gists{/gist_id}","starred_url":"https://api.github.com/users/ppf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppf2/subscriptions","organizations_url":"https://api.github.com/users/ppf2/orgs","repos_url":"https://api.github.com/users/ppf2/repos","events_url":"https://api.github.com/users/ppf2/events{/privacy}","received_events_url":"https://api.github.com/users/ppf2/received_events","type":"User","site_admin":false},"created_at":"2017-11-02T00:09:29Z","updated_at":"2017-11-02T00:09:29Z","author_association":"MEMBER","body":"Sounds good, thx!","performed_via_github_app":null}]