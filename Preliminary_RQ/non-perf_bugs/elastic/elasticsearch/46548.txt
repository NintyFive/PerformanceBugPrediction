{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/46548","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46548/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46548/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46548/events","html_url":"https://github.com/elastic/elasticsearch/issues/46548","id":491713399,"node_id":"MDU6SXNzdWU0OTE3MTMzOTk=","number":46548,"title":"Docker problems exclusively on MacOS","user":{"login":"mihai1voicescu","id":11346489,"node_id":"MDQ6VXNlcjExMzQ2NDg5","avatar_url":"https://avatars0.githubusercontent.com/u/11346489?v=4","gravatar_id":"","url":"https://api.github.com/users/mihai1voicescu","html_url":"https://github.com/mihai1voicescu","followers_url":"https://api.github.com/users/mihai1voicescu/followers","following_url":"https://api.github.com/users/mihai1voicescu/following{/other_user}","gists_url":"https://api.github.com/users/mihai1voicescu/gists{/gist_id}","starred_url":"https://api.github.com/users/mihai1voicescu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mihai1voicescu/subscriptions","organizations_url":"https://api.github.com/users/mihai1voicescu/orgs","repos_url":"https://api.github.com/users/mihai1voicescu/repos","events_url":"https://api.github.com/users/mihai1voicescu/events{/privacy}","received_events_url":"https://api.github.com/users/mihai1voicescu/received_events","type":"User","site_admin":false},"labels":[{"id":114977275,"node_id":"MDU6TGFiZWwxMTQ5NzcyNzU=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Packaging","name":":Delivery/Packaging","color":"0e8a16","default":false,"description":"RPM and deb packaging, tar and zip archives, shell and batch scripts"},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"}],"state":"closed","locked":false,"assignee":{"login":"dliappis","id":1754575,"node_id":"MDQ6VXNlcjE3NTQ1NzU=","avatar_url":"https://avatars0.githubusercontent.com/u/1754575?v=4","gravatar_id":"","url":"https://api.github.com/users/dliappis","html_url":"https://github.com/dliappis","followers_url":"https://api.github.com/users/dliappis/followers","following_url":"https://api.github.com/users/dliappis/following{/other_user}","gists_url":"https://api.github.com/users/dliappis/gists{/gist_id}","starred_url":"https://api.github.com/users/dliappis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dliappis/subscriptions","organizations_url":"https://api.github.com/users/dliappis/orgs","repos_url":"https://api.github.com/users/dliappis/repos","events_url":"https://api.github.com/users/dliappis/events{/privacy}","received_events_url":"https://api.github.com/users/dliappis/received_events","type":"User","site_admin":false},"assignees":[{"login":"dliappis","id":1754575,"node_id":"MDQ6VXNlcjE3NTQ1NzU=","avatar_url":"https://avatars0.githubusercontent.com/u/1754575?v=4","gravatar_id":"","url":"https://api.github.com/users/dliappis","html_url":"https://github.com/dliappis","followers_url":"https://api.github.com/users/dliappis/followers","following_url":"https://api.github.com/users/dliappis/following{/other_user}","gists_url":"https://api.github.com/users/dliappis/gists{/gist_id}","starred_url":"https://api.github.com/users/dliappis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dliappis/subscriptions","organizations_url":"https://api.github.com/users/dliappis/orgs","repos_url":"https://api.github.com/users/dliappis/repos","events_url":"https://api.github.com/users/dliappis/events{/privacy}","received_events_url":"https://api.github.com/users/dliappis/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2019-09-10T14:34:15Z","updated_at":"2020-11-11T21:55:17Z","closed_at":"2019-09-10T15:48:22Z","author_association":"NONE","active_lock_reason":null,"body":"<!--\r\n\r\n** Please read the guidelines below. **\r\n\r\nIssues that do not follow these guidelines are likely to be closed.\r\n\r\n1.  GitHub is reserved for bug reports and feature requests. The best place to\r\n    ask a general question is at the Elastic [forums](https://discuss.elastic.co).\r\n    GitHub is not the place for general questions.\r\n\r\n2.  Is this bug report or feature request for a supported OS? If not, it\r\n    is likely to be closed.  See https://www.elastic.co/support/matrix#show_os\r\n\r\n3.  Please fill out EITHER the feature request block or the bug report block\r\n    below, and delete the other block.\r\n\r\n-->\r\n\r\n<!-- Bug report -->\r\n\r\n**Elasticsearch version** (`bin/elasticsearch --version`): 7.3.1\r\n\r\n**Plugins installed**: []\r\n\r\n**JVM version** (`java -version`): from docker\r\n\r\n**OS version** (`uname -a` if on a Unix-like system): MacOS\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\nLoading the dump does not work on MacOS with docker, but works on Windows(with docker) and allegedly on Linux as described in https://github.com/taskrabbit/elasticsearch-dump/issues/592\r\n\r\nIt gives out the following error:\r\n```\r\nError Emitted => {\"root_cause\":[{\"type\":\"illegal_argument_exception\",\"reason\":\"Types cannot be provided in put mapping requests, unless the include_type_name parameter is set to true.\"}],\"type\":\"illegal_argument_exception\",\"reason\":\"Types cannot be provided in put mapping requests, unless the include_type_name parameter is set to true.\"}\r\n```\r\n\r\n\r\n\r\n**Steps to reproduce**:\r\n\r\n 1. echo '{\"comment\":{\"mappings\":{\"properties\":{\"created\":{\"type\":\"date\"},\"creator\":{\"properties\":{\"id\":{\"type\":\"keyword\"},\"type\":{\"type\":\"keyword\"}}},\"joinField\":{\"type\":\"join\",\"eager_global_ordinals\":true,\"relations\":{\"comment\":\"reply\"}},\"patientId\":{\"type\":\"keyword\"},\"text\":{\"type\":\"text\"},\"type\":{\"type\":\"keyword\"}}}}}' > dump.json\r\n 2. npm install -g elasticdump\r\n 3. docker run -p 9200:9200 -p 9300:9300 -e \"discovery.type=single-node\" docker.elastic.co/elasticsearch/elasticsearch:7.3.1\r\n\r\n 4. elasticdump --output=http://localhost:9200/comment --input=./dump.json --type=mapping\r\n\r\n**Provide logs (if relevant)**:\r\n```\r\n(base) wlan-145-94-230-236:es mihaivo$ elasticdump --output=http://localhost:9200/comment --input=./dump.json --type=mapping\r\nTue, 10 Sep 2019 14:30:54 GMT | starting dump\r\nTue, 10 Sep 2019 14:30:54 GMT | got 1 objects from source file (offset: 0)\r\nTue, 10 Sep 2019 14:30:54 GMT | Error Emitted => {\"root_cause\":[{\"type\":\"illegal_argument_exception\",\"reason\":\"Types cannot be provided in put mapping requests, unless the include_type_name parameter is set to true.\"}],\"type\":\"illegal_argument_exception\",\"reason\":\"Types cannot be provided in put mapping requests, unless the include_type_name parameter is set to true.\"}\r\nTue, 10 Sep 2019 14:30:54 GMT | Total Writes: 0\r\nTue, 10 Sep 2019 14:30:54 GMT | dump ended with error (set phase)  => [object Object]\r\n(base) wlan-145-94-230-236:es mihaivo$ \r\n```\r\n","closed_by":{"login":"dliappis","id":1754575,"node_id":"MDQ6VXNlcjE3NTQ1NzU=","avatar_url":"https://avatars0.githubusercontent.com/u/1754575?v=4","gravatar_id":"","url":"https://api.github.com/users/dliappis","html_url":"https://github.com/dliappis","followers_url":"https://api.github.com/users/dliappis/followers","following_url":"https://api.github.com/users/dliappis/following{/other_user}","gists_url":"https://api.github.com/users/dliappis/gists{/gist_id}","starred_url":"https://api.github.com/users/dliappis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dliappis/subscriptions","organizations_url":"https://api.github.com/users/dliappis/orgs","repos_url":"https://api.github.com/users/dliappis/repos","events_url":"https://api.github.com/users/dliappis/events{/privacy}","received_events_url":"https://api.github.com/users/dliappis/received_events","type":"User","site_admin":false},"performed_via_github_app":null}