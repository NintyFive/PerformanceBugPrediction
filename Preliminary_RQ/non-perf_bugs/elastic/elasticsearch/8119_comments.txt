[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/59404705","html_url":"https://github.com/elastic/elasticsearch/issues/8119#issuecomment-59404705","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8119","id":59404705,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDA0NzA1","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2014-10-16T18:10:51Z","updated_at":"2014-10-16T18:10:51Z","author_association":"MEMBER","body":"Is it possible that some primary shards for this index switched between snapshots?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/59405572","html_url":"https://github.com/elastic/elasticsearch/issues/8119#issuecomment-59405572","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8119","id":59405572,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDA1NTcy","user":{"login":"bobrik","id":89186,"node_id":"MDQ6VXNlcjg5MTg2","avatar_url":"https://avatars0.githubusercontent.com/u/89186?v=4","gravatar_id":"","url":"https://api.github.com/users/bobrik","html_url":"https://github.com/bobrik","followers_url":"https://api.github.com/users/bobrik/followers","following_url":"https://api.github.com/users/bobrik/following{/other_user}","gists_url":"https://api.github.com/users/bobrik/gists{/gist_id}","starred_url":"https://api.github.com/users/bobrik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bobrik/subscriptions","organizations_url":"https://api.github.com/users/bobrik/orgs","repos_url":"https://api.github.com/users/bobrik/repos","events_url":"https://api.github.com/users/bobrik/events{/privacy}","received_events_url":"https://api.github.com/users/bobrik/received_events","type":"User","site_admin":false},"created_at":"2014-10-16T18:16:24Z","updated_at":"2014-10-16T18:16:24Z","author_association":"CONTRIBUTOR","body":"Cluster is healthy, so I think no. Look at `statistics-20131004`, it is 57gb instead of 7gb. This is far from normal.\n\nDo I understand this correctly? If shard is snapshotted, then replica becomes primary, then snapshot is taken again, then procedure is repeated 10 times, then snapshot is going to be 10 times bigger? What if replica is rebuild from primary (previous replica is totally lost).\n\nLet me know if I could add more info to help you with this issue.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/59406578","html_url":"https://github.com/elastic/elasticsearch/issues/8119#issuecomment-59406578","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8119","id":59406578,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDA2NTc4","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2014-10-16T18:23:12Z","updated_at":"2014-10-16T18:23:12Z","author_association":"MEMBER","body":"We copy only files that changed since the last snapshot. If you have a replica that was never synched with primary and primary went down, it's possible to have another copy but it will stop there. So, it can explain 2x difference not 10x difference in size. Could you send us these two files:\n\n```\ns3://backups-es-statistics/indices/statistics-20140108/3/snapshot-statistics-2014-10-16\ns3://backups-es-statistics/indices/statistics-20140108/3/snapshot-statistics-2014-10-16-again\n```\n\nDo you know which version of elasticsearch you had when the index statistics-20140108 was created?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/59410204","html_url":"https://github.com/elastic/elasticsearch/issues/8119#issuecomment-59410204","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8119","id":59410204,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDEwMjA0","user":{"login":"bobrik","id":89186,"node_id":"MDQ6VXNlcjg5MTg2","avatar_url":"https://avatars0.githubusercontent.com/u/89186?v=4","gravatar_id":"","url":"https://api.github.com/users/bobrik","html_url":"https://github.com/bobrik","followers_url":"https://api.github.com/users/bobrik/followers","following_url":"https://api.github.com/users/bobrik/following{/other_user}","gists_url":"https://api.github.com/users/bobrik/gists{/gist_id}","starred_url":"https://api.github.com/users/bobrik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bobrik/subscriptions","organizations_url":"https://api.github.com/users/bobrik/orgs","repos_url":"https://api.github.com/users/bobrik/repos","events_url":"https://api.github.com/users/bobrik/events{/privacy}","received_events_url":"https://api.github.com/users/bobrik/received_events","type":"User","site_admin":false},"created_at":"2014-10-16T18:46:50Z","updated_at":"2014-10-16T18:46:50Z","author_association":"CONTRIBUTOR","body":"2x is better than 10x, but can we do better? Is there an api to sync replicas with primaries on byte level so even if replica becomes primary snapshot is noop?\n\nhttps://gist.github.com/bobrik/c7ab1e0df88f0585f274 here are the files you requested. Elasticsearch version was from 0.90.x line, but those specific indices were probably restored from snapshot on 1.3.2.\n\nActually it looks like all problematic indices were restored from snapshot with renaming and good indices weren't restored at all (they were here since 0.90.x). That should help.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/59410481","html_url":"https://github.com/elastic/elasticsearch/issues/8119#issuecomment-59410481","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8119","id":59410481,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDEwNDgx","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2014-10-16T18:48:41Z","updated_at":"2014-10-16T18:48:41Z","author_association":"MEMBER","body":"Which version of elasticsearch did you use to restore these indices from snapshot?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/59410961","html_url":"https://github.com/elastic/elasticsearch/issues/8119#issuecomment-59410961","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8119","id":59410961,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDEwOTYx","user":{"login":"bobrik","id":89186,"node_id":"MDQ6VXNlcjg5MTg2","avatar_url":"https://avatars0.githubusercontent.com/u/89186?v=4","gravatar_id":"","url":"https://api.github.com/users/bobrik","html_url":"https://github.com/bobrik","followers_url":"https://api.github.com/users/bobrik/followers","following_url":"https://api.github.com/users/bobrik/following{/other_user}","gists_url":"https://api.github.com/users/bobrik/gists{/gist_id}","starred_url":"https://api.github.com/users/bobrik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bobrik/subscriptions","organizations_url":"https://api.github.com/users/bobrik/orgs","repos_url":"https://api.github.com/users/bobrik/repos","events_url":"https://api.github.com/users/bobrik/events{/privacy}","received_events_url":"https://api.github.com/users/bobrik/received_events","type":"User","site_admin":false},"created_at":"2014-10-16T18:51:51Z","updated_at":"2014-10-16T18:51:51Z","author_association":"CONTRIBUTOR","body":"1.3.2 was used for snapshot and restore. Cluster is 1.3.4 since the day of release, in all comments above you should assume 1.3.4 instead of 1.3.2.\n\nCurrent snapshots are made on 1.3.4.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/59412529","html_url":"https://github.com/elastic/elasticsearch/issues/8119#issuecomment-59412529","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8119","id":59412529,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDEyNTI5","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2014-10-16T19:01:53Z","updated_at":"2014-10-16T19:01:53Z","author_association":"MEMBER","body":"So, index was created with 0.90, upgraded to 1.3.2, then you created snapshot with 1.3.2, restored this index while renaming in 1.3.2, now you are creating snapshots with 1.3.4 and they are duplicated. Is this correct description? Could you also send us files `snapshot-statistics-2014-10-16` and `snapshot-statistics-2014-10-16-again` from the root directory of your repository?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/59413309","html_url":"https://github.com/elastic/elasticsearch/issues/8119#issuecomment-59413309","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8119","id":59413309,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDEzMzA5","user":{"login":"bobrik","id":89186,"node_id":"MDQ6VXNlcjg5MTg2","avatar_url":"https://avatars0.githubusercontent.com/u/89186?v=4","gravatar_id":"","url":"https://api.github.com/users/bobrik","html_url":"https://github.com/bobrik","followers_url":"https://api.github.com/users/bobrik/followers","following_url":"https://api.github.com/users/bobrik/following{/other_user}","gists_url":"https://api.github.com/users/bobrik/gists{/gist_id}","starred_url":"https://api.github.com/users/bobrik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bobrik/subscriptions","organizations_url":"https://api.github.com/users/bobrik/orgs","repos_url":"https://api.github.com/users/bobrik/repos","events_url":"https://api.github.com/users/bobrik/events{/privacy}","received_events_url":"https://api.github.com/users/bobrik/received_events","type":"User","site_admin":false},"created_at":"2014-10-16T19:06:22Z","updated_at":"2014-10-16T19:06:22Z","author_association":"CONTRIBUTOR","body":"Yes, this looks correct, but index was upgraded from 0.90 to 1.3.2 with many intermediate versions (1.0, 1.1, 1.2 hold those indices too).\n\nHere are the files from the root of repository: https://gist.github.com/bobrik/d1deb9239c59db998f24\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/59414590","html_url":"https://github.com/elastic/elasticsearch/issues/8119#issuecomment-59414590","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8119","id":59414590,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDE0NTkw","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2014-10-16T19:15:06Z","updated_at":"2014-10-16T19:15:06Z","author_association":"MEMBER","body":"I see. One last piece of information (hopefully). Could you also post these two files:\n\n```\ns3://backups-es-statistics/indices/statistics-20140108/snapshot-statistics-2014-10-16\ns3://backups-es-statistics/indices/statistics-20140108/snapshot-statistics-2014-10-16-again\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/59418196","html_url":"https://github.com/elastic/elasticsearch/issues/8119#issuecomment-59418196","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8119","id":59418196,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDE4MTk2","user":{"login":"bobrik","id":89186,"node_id":"MDQ6VXNlcjg5MTg2","avatar_url":"https://avatars0.githubusercontent.com/u/89186?v=4","gravatar_id":"","url":"https://api.github.com/users/bobrik","html_url":"https://github.com/bobrik","followers_url":"https://api.github.com/users/bobrik/followers","following_url":"https://api.github.com/users/bobrik/following{/other_user}","gists_url":"https://api.github.com/users/bobrik/gists{/gist_id}","starred_url":"https://api.github.com/users/bobrik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bobrik/subscriptions","organizations_url":"https://api.github.com/users/bobrik/orgs","repos_url":"https://api.github.com/users/bobrik/repos","events_url":"https://api.github.com/users/bobrik/events{/privacy}","received_events_url":"https://api.github.com/users/bobrik/received_events","type":"User","site_admin":false},"created_at":"2014-10-16T19:40:39Z","updated_at":"2014-10-16T19:40:39Z","author_association":"CONTRIBUTOR","body":"They are the same:\n\n``` json\n{\"statistics-20140108\":{\"version\":8,\"state\":\"open\",\"settings\":{\"index.number_of_replicas\":\"1\",\"index.version.created\":\"900999\",\"index.number_of_shards\":\"5\",\"index.uuid\":\"7OLwrzjOSFemAoXS1XB2qg\",\"index.codec.bloom.load\":\"false\"},\"mappings\":[{\"markers\":{\"_all\":{\"enabled\":false},\"properties\":{\"@message\":{\"type\":\"string\"},\"@timestamp\":{\"type\":\"date\",\"format\":\"dateOptionalTime\"}}}},{\"precise\":{\"_all\":{\"enabled\":false},\"_routing\":{\"required\":true,\"path\":\"@key\"},\"properties\":{\"@key\":{\"type\":\"string\",\"index\":\"not_analyzed\"},\"@precise\":{\"type\":\"double\"},\"@timestamp\":{\"type\":\"date\",\"format\":\"dateOptionalTime\"}}}},{\"events\":{\"_all\":{\"enabled\":false},\"_routing\":{\"required\":true,\"path\":\"@key\"},\"properties\":{\"---\":{\"type\":\"long\"},\"@key\":{\"type\":\"string\",\"index\":\"not_analyzed\"},\"@timestamp\":{\"type\":\"date\",\"format\":\"dateOptionalTime\"},\"@value\":{\"type\":\"long\"},\"ad\":{\"type\":\"string\"},\"age\":{\"type\":\"long\"},\"app\":{\"type\":\"string\",\"index\":\"not_analyzed\"},\"cit\":{\"type\":\"string\",\"index\":\"not_analyzed\"},\"cnt\":{\"type\":\"string\",\"index\":\"not_analyzed\"},\"con\":{\"type\":\"string\",\"index\":\"not_analyzed\"},\"cor\":{\"type\":\"long\"},\"cvn\":{\"type\":\"string\",\"index\":\"not_analyzed\"},\"lng\":{\"type\":\"string\",\"index\":\"not_analyzed\"},\"mob\":{\"type\":\"long\"},\"mtd\":{\"type\":\"string\",\"index\":\"not_analyzed\"},\"nic\":{\"type\":\"long\"},\"nov\":{\"type\":\"long\"},\"plc\":{\"type\":\"string\",\"index\":\"not_analyzed\"},\"plt\":{\"type\":\"string\",\"index\":\"not_analyzed\"},\"pwr\":{\"type\":\"string\",\"index\":\"not_analyzed\"},\"ref\":{\"type\":\"string\",\"index\":\"not_analyzed\"},\"sbs\":{\"type\":\"long\"},\"sex\":{\"type\":\"long\"},\"spc\":{\"type\":\"long\"},\"spl\":{\"type\":\"string\",\"index\":\"not_analyzed\"},\"tag\":{\"type\":\"string\",\"index\":\"not_analyzed\"},\"tgt\":{\"type\":\"string\",\"index\":\"not_analyzed\"},\"trs\":{\"type\":\"string\",\"index\":\"not_analyzed\"},\"val\":{\"type\":\"string\",\"index\":\"not_analyzed\"},\"wsh\":{\"type\":\"string\"}}}}],\"aliases\":{}}}\n```\n\nAll of them:\n\n```\n$ s3cmd ls --list-md5 s3://backups-es-statistics/indices/statistics-20140108/\n                       DIR                                     s3://backups-es-statistics/indices/statistics-20140108/0/\n                       DIR                                     s3://backups-es-statistics/indices/statistics-20140108/1/\n                       DIR                                     s3://backups-es-statistics/indices/statistics-20140108/2/\n                       DIR                                     s3://backups-es-statistics/indices/statistics-20140108/3/\n                       DIR                                     s3://backups-es-statistics/indices/statistics-20140108/4/\n2014-09-30 16:59      1849   f6e41305195be8a005a489e36c022dd4  s3://backups-es-statistics/indices/statistics-20140108/snapshot-statistics-2014-09-29\n2014-10-02 08:30      1849   f6e41305195be8a005a489e36c022dd4  s3://backups-es-statistics/indices/statistics-20140108/snapshot-statistics-2014-10-01\n2014-10-09 08:29      1849   f6e41305195be8a005a489e36c022dd4  s3://backups-es-statistics/indices/statistics-20140108/snapshot-statistics-2014-10-08\n2014-10-10 08:34      1849   f6e41305195be8a005a489e36c022dd4  s3://backups-es-statistics/indices/statistics-20140108/snapshot-statistics-2014-10-09\n2014-10-11 08:34      1849   f6e41305195be8a005a489e36c022dd4  s3://backups-es-statistics/indices/statistics-20140108/snapshot-statistics-2014-10-10\n2014-10-14 13:43      1849   f6e41305195be8a005a489e36c022dd4  s3://backups-es-statistics/indices/statistics-20140108/snapshot-statistics-2014-10-13\n2014-10-15 08:36      1849   f6e41305195be8a005a489e36c022dd4  s3://backups-es-statistics/indices/statistics-20140108/snapshot-statistics-2014-10-14\n2014-10-16 08:31      1849   f6e41305195be8a005a489e36c022dd4  s3://backups-es-statistics/indices/statistics-20140108/snapshot-statistics-2014-10-15\n2014-10-16 17:15      1849   f6e41305195be8a005a489e36c022dd4  s3://backups-es-statistics/indices/statistics-20140108/snapshot-statistics-2014-10-16\n2014-10-16 17:39      1849   f6e41305195be8a005a489e36c022dd4  s3://backups-es-statistics/indices/statistics-20140108/snapshot-statistics-2014-10-16-again\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/61932517","html_url":"https://github.com/elastic/elasticsearch/issues/8119#issuecomment-61932517","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8119","id":61932517,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTMyNTE3","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2014-11-06T06:24:36Z","updated_at":"2014-11-06T06:24:36Z","author_association":"MEMBER","body":"@bobrik I was able to reproduce the issue. It turned out that cleanup process in v1.3.0+ at the end of restore mistakenly deletes information about legacy checksums (checksums for segments created with old version of elasticsearch). As a result, consecutive snapshots don't store the checksum in snapshot metadata and have to fallback to creating copies of these old segments again and again. \n\nTo reproduce this issue:\n- create an index using elasticsearch v0.90.10\n- upgrade cluster to 1.0.1 and create a snapshot\n- restore the index from the created snapshot into cluster v1.3.4\n- create a several snapshots of the restored index in the v1.3.4 cluster\n- observe that each snapshot creates a new copy of all old segment files of the index\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/61937222","html_url":"https://github.com/elastic/elasticsearch/issues/8119#issuecomment-61937222","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8119","id":61937222,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTM3MjIy","user":{"login":"bobrik","id":89186,"node_id":"MDQ6VXNlcjg5MTg2","avatar_url":"https://avatars0.githubusercontent.com/u/89186?v=4","gravatar_id":"","url":"https://api.github.com/users/bobrik","html_url":"https://github.com/bobrik","followers_url":"https://api.github.com/users/bobrik/followers","following_url":"https://api.github.com/users/bobrik/following{/other_user}","gists_url":"https://api.github.com/users/bobrik/gists{/gist_id}","starred_url":"https://api.github.com/users/bobrik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bobrik/subscriptions","organizations_url":"https://api.github.com/users/bobrik/orgs","repos_url":"https://api.github.com/users/bobrik/repos","events_url":"https://api.github.com/users/bobrik/events{/privacy}","received_events_url":"https://api.github.com/users/bobrik/received_events","type":"User","site_admin":false},"created_at":"2014-11-06T07:32:05Z","updated_at":"2014-11-06T07:32:05Z","author_association":"CONTRIBUTOR","body":"Great! Any thoughts about release where the fix will land?\n\nWhat would happen with fix? Just final snapshot with checksums or something else?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/62036415","html_url":"https://github.com/elastic/elasticsearch/issues/8119#issuecomment-62036415","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8119","id":62036415,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMDM2NDE1","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2014-11-06T19:28:36Z","updated_at":"2014-11-06T19:28:36Z","author_association":"MEMBER","body":"It's going to land in 1.3.6 and 1.4.1. The fix is not going to restore checksums for old segments restored with elasticsearch v.1.3.0-1.3.5 though. You will need to restore indices with such segments again in v1.3.6+ or upgrade them to the new version using [upgrade api](https://github.com/elasticsearch/elasticsearch/issues/7884).\n","performed_via_github_app":null}]