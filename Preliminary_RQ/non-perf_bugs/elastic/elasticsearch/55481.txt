{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/55481","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55481/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55481/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55481/events","html_url":"https://github.com/elastic/elasticsearch/issues/55481","id":603440913,"node_id":"MDU6SXNzdWU2MDM0NDA5MTM=","number":55481,"title":"[CI] TransportAddVotingConfigExclusionsActionTests testExcludeExistingNodesByNodeNames failure","user":{"login":"danhermann","id":22777892,"node_id":"MDQ6VXNlcjIyNzc3ODky","avatar_url":"https://avatars0.githubusercontent.com/u/22777892?v=4","gravatar_id":"","url":"https://api.github.com/users/danhermann","html_url":"https://github.com/danhermann","followers_url":"https://api.github.com/users/danhermann/followers","following_url":"https://api.github.com/users/danhermann/following{/other_user}","gists_url":"https://api.github.com/users/danhermann/gists{/gist_id}","starred_url":"https://api.github.com/users/danhermann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danhermann/subscriptions","organizations_url":"https://api.github.com/users/danhermann/orgs","repos_url":"https://api.github.com/users/danhermann/repos","events_url":"https://api.github.com/users/danhermann/events{/privacy}","received_events_url":"https://api.github.com/users/danhermann/received_events","type":"User","site_admin":false},"labels":[{"id":881394071,"node_id":"MDU6TGFiZWw4ODEzOTQwNzE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Cluster%20Coordination","name":":Distributed/Cluster Coordination","color":"0e8a16","default":false,"description":"Cluster formation and cluster state publication, including cluster membership and fault detection."},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"assignees":[{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2020-04-20T18:25:09Z","updated_at":"2020-04-22T10:55:10Z","closed_at":"2020-04-22T10:55:10Z","author_association":"MEMBER","active_lock_reason":null,"body":"Failed on master: https://gradle-enterprise.elastic.co/s/z5oe3y3z3iovg\r\n\r\nDoes _not_ reproduce locally with:\r\n\r\n```\r\n./gradlew ':server:test' --tests \"org.elasticsearch.action.admin.cluster.configuration.TransportAddVotingConfigExclusionsActionTests.testExcludeExistingNodesByNodeNames\" -Dtests.seed=5DC87794C671DDFD -Dtests.security.manager=true -Dtests.locale=nl-NL -Dtests.timezone=America/Cuiaba -Dcompiler.java=14\r\n```\r\n\r\nError:\r\n\r\n```\r\nCaptured an uncaught exception in thread: Thread[id=37, name=elasticsearch[test][masterService#updateTask][T#1], state=RUNNABLE, group=TGRP-TransportAddVotingConfigExclusionsActionTests]\r\ncom.carrotsearch.randomizedtesting.UncaughtExceptionError: Captured an uncaught exception in thread: Thread[id=37, name=elasticsearch[test][masterService#updateTask][T#1], state=RUNNABLE, group=TGRP-TransportAddVotingConfigExclusionsActionTests]Open stacktrace\r\nCaused by: java.lang.AssertionError: \r\n\r\nExpected: sameInstance(<cluster uuid: _na_ [committed: false]\r\nversion: 2\r\nstate uuid: BIJz_KXpR4WjWyr1JWUNOQ\r\nfrom_diff: false\r\nmeta data version: 1\r\n   coordination_metadata:\r\n      term: 0\r\n      last_committed_config: VotingConfiguration{other2,other1,local}\r\n      last_accepted_config: VotingConfiguration{other2,other1,local}\r\n      voting tombstones: [{_absent_}{absent_id}]\r\nmetadata customs:\r\n   index-graveyard: IndexGraveyard[[]]\r\nnodes: \r\n   {other1}{other1}{R3ct-fgOQmaj5ewaVb68Hw}{0.0.0.0}{0.0.0.0:2}{m}\r\n   {other2}{other2}{-dZ5hvsoRZqTP0NBGA4Zxg}{0.0.0.0}{0.0.0.0:3}{m}\r\n   {local}{local}{23QUFO0vQvOh2NNmw3Ik-A}{0.0.0.0}{0.0.0.0:1}{m}, local, master\r\n   {data}{data}{eQv0CveFTj6yLyHYRVe4MA}{0.0.0.0}{0.0.0.0:4}\r\nrouting_table (version 0):\r\nrouting_nodes:\r\n---- unassigned\r\n>)\r\n     but: was <cluster uuid: _na_ [committed: false]\r\nversion: 2\r\nstate uuid: E5m2s_08TAyudx3n1nF6Uw\r\nfrom_diff: false\r\nmeta data version: 1\r\n   coordination_metadata:\r\n      term: 0\r\n      last_committed_config: VotingConfiguration{other2,other1,local}\r\n      last_accepted_config: VotingConfiguration{other2,other1,local}\r\n      voting tombstones: [{other1}{other1}, {other2}{other2}]\r\nmetadata customs:\r\n   index-graveyard: IndexGraveyard[[]]\r\nnodes: \r\n   {other1}{other1}{R3ct-fgOQmaj5ewaVb68Hw}{0.0.0.0}{0.0.0.0:2}{m}\r\n   {other2}{other2}{-dZ5hvsoRZqTP0NBGA4Zxg}{0.0.0.0}{0.0.0.0:3}{m}\r\n   {local}{local}{23QUFO0vQvOh2NNmw3Ik-A}{0.0.0.0}{0.0.0.0:1}{m}, local, master\r\n   {data}{data}{eQv0CveFTj6yLyHYRVe4MA}{0.0.0.0}{0.0.0.0:4}\r\nrouting_table (version 0):\r\nrouting_nodes:\r\n---- unassigned\r\n>\r\nOpen stacktrace\r\n[2020-04-20T14:02:18,326][INFO ][o.e.a.a.c.c.TransportAddVotingConfigExclusionsActionTests] [testExcludeExistingNodesByNodeNames] before test\r\n[2020-04-20T14:02:18,409][INFO ][o.e.a.a.c.c.TransportAddVotingConfigExclusionsActionTests] [testExcludeExistingNodesByNodeN\r\n```\r\n","closed_by":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"performed_via_github_app":null}