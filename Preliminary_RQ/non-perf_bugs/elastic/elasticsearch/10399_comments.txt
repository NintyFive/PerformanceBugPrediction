[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/89816256","html_url":"https://github.com/elastic/elasticsearch/issues/10399#issuecomment-89816256","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10399","id":89816256,"node_id":"MDEyOklzc3VlQ29tbWVudDg5ODE2MjU2","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-04-05T17:32:32Z","updated_at":"2015-04-05T17:32:32Z","author_association":"CONTRIBUTOR","body":"Hi @mausch \n\nAny chance you can provide some simple code which replicates the problem?  Without more to go on, I doubt anybody will pick this one up...\n\nthanks\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/94492160","html_url":"https://github.com/elastic/elasticsearch/issues/10399#issuecomment-94492160","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10399","id":94492160,"node_id":"MDEyOklzc3VlQ29tbWVudDk0NDkyMTYw","user":{"login":"mausch","id":95194,"node_id":"MDQ6VXNlcjk1MTk0","avatar_url":"https://avatars1.githubusercontent.com/u/95194?v=4","gravatar_id":"","url":"https://api.github.com/users/mausch","html_url":"https://github.com/mausch","followers_url":"https://api.github.com/users/mausch/followers","following_url":"https://api.github.com/users/mausch/following{/other_user}","gists_url":"https://api.github.com/users/mausch/gists{/gist_id}","starred_url":"https://api.github.com/users/mausch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mausch/subscriptions","organizations_url":"https://api.github.com/users/mausch/orgs","repos_url":"https://api.github.com/users/mausch/repos","events_url":"https://api.github.com/users/mausch/events{/privacy}","received_events_url":"https://api.github.com/users/mausch/received_events","type":"User","site_admin":false},"created_at":"2015-04-20T15:54:57Z","updated_at":"2015-04-20T15:54:57Z","author_association":"NONE","body":"Due to the nature of the issue unfortunately this is not easy to reproduce with some simple code.\n\nFrom my point of view it means setting up a new plugin project with maven and so on, create a module class that registers a custom ScoreFunctionParser which in turn instantiates a custom ScoreFunction that returns an Explanation with a null description. And then run this on many instances of ES in a cluster and run a query with `\"explain\": true`. Sadly I can't afford to spend so much time on a non-blocking issue.\n\nBut perhaps someone with better knowledge of ES internals could directly unit-test the serialization of `Explanation` and see if that's really what's causing the `NullPointerException` I see.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/94501482","html_url":"https://github.com/elastic/elasticsearch/issues/10399#issuecomment-94501482","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10399","id":94501482,"node_id":"MDEyOklzc3VlQ29tbWVudDk0NTAxNDgy","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2015-04-20T16:31:20Z","updated_at":"2015-04-20T16:31:20Z","author_association":"CONTRIBUTOR","body":"@mausch Indeed our serialization logic treats descriptions as non-null strings while you can create Lucene explanations with `null` descriptions. However an explanation with a `null` description feels useless to me, I'm tempted to consider that the bug is that the explanation API does not require the description field. Is there a reason why you don't set a description on your explanations?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/94505482","html_url":"https://github.com/elastic/elasticsearch/issues/10399#issuecomment-94505482","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10399","id":94505482,"node_id":"MDEyOklzc3VlQ29tbWVudDk0NTA1NDgy","user":{"login":"mausch","id":95194,"node_id":"MDQ6VXNlcjk1MTk0","avatar_url":"https://avatars1.githubusercontent.com/u/95194?v=4","gravatar_id":"","url":"https://api.github.com/users/mausch","html_url":"https://github.com/mausch","followers_url":"https://api.github.com/users/mausch/followers","following_url":"https://api.github.com/users/mausch/following{/other_user}","gists_url":"https://api.github.com/users/mausch/gists{/gist_id}","starred_url":"https://api.github.com/users/mausch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mausch/subscriptions","organizations_url":"https://api.github.com/users/mausch/orgs","repos_url":"https://api.github.com/users/mausch/repos","events_url":"https://api.github.com/users/mausch/events{/privacy}","received_events_url":"https://api.github.com/users/mausch/received_events","type":"User","site_admin":false},"created_at":"2015-04-20T16:47:35Z","updated_at":"2015-04-20T16:47:35Z","author_association":"NONE","body":"I simply forgot to call `setDescription` on some `Explanation` instance and got this NullPointerException which was not helpful at all to diagnose the cause of the problem. That's why I'm reporting it, things like waste people's time.\n\nIf it was up to me I'd absolutely make `Explanation` immutable and check for null in the constructor. But I don't think you can change this by now, it seems like it would be a pretty important breaking change in Lucene. \n\nA less breaking change would be marking the no-arg constructor and setters with `@Deprecated` but I doubt people will go for even that.\n\nInstead, ES could simply throw a more specific exception so that people at least don't have to guess what the problem is.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/94507094","html_url":"https://github.com/elastic/elasticsearch/issues/10399#issuecomment-94507094","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10399","id":94507094,"node_id":"MDEyOklzc3VlQ29tbWVudDk0NTA3MDk0","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2015-04-20T16:53:03Z","updated_at":"2015-04-20T16:53:03Z","author_association":"CONTRIBUTOR","body":"> it would be a pretty important breaking change in Lucene.\n\nIn general we try to weigh the pros/cons of API breaks: breaking an API is unpleasant but leaving API traps is probably worse. I'll open an issue.\n\n> Instead, ES could simply throw a more specific exception so that people at least don't have to guess what the problem is.\n\nI can do that.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/94507507","html_url":"https://github.com/elastic/elasticsearch/issues/10399#issuecomment-94507507","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10399","id":94507507,"node_id":"MDEyOklzc3VlQ29tbWVudDk0NTA3NTA3","user":{"login":"mausch","id":95194,"node_id":"MDQ6VXNlcjk1MTk0","avatar_url":"https://avatars1.githubusercontent.com/u/95194?v=4","gravatar_id":"","url":"https://api.github.com/users/mausch","html_url":"https://github.com/mausch","followers_url":"https://api.github.com/users/mausch/followers","following_url":"https://api.github.com/users/mausch/following{/other_user}","gists_url":"https://api.github.com/users/mausch/gists{/gist_id}","starred_url":"https://api.github.com/users/mausch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mausch/subscriptions","organizations_url":"https://api.github.com/users/mausch/orgs","repos_url":"https://api.github.com/users/mausch/repos","events_url":"https://api.github.com/users/mausch/events{/privacy}","received_events_url":"https://api.github.com/users/mausch/received_events","type":"User","site_admin":false},"created_at":"2015-04-20T16:55:14Z","updated_at":"2015-04-20T16:55:14Z","author_association":"NONE","body":"Cool, thanks!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/94580504","html_url":"https://github.com/elastic/elasticsearch/issues/10399#issuecomment-94580504","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10399","id":94580504,"node_id":"MDEyOklzc3VlQ29tbWVudDk0NTgwNTA0","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2015-04-20T22:06:37Z","updated_at":"2015-04-20T22:06:37Z","author_association":"CONTRIBUTOR","body":"I opened https://issues.apache.org/jira/browse/LUCENE-6446 and #10689\n","performed_via_github_app":null}]