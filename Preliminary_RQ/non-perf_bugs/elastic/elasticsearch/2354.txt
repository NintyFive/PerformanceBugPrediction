{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/2354","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2354/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2354/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2354/events","html_url":"https://github.com/elastic/elasticsearch/issues/2354","id":7821304,"node_id":"MDU6SXNzdWU3ODIxMzA0","number":2354,"title":"Sometimes MapperParsingException and sometimes not","user":{"login":"Filirom1","id":295554,"node_id":"MDQ6VXNlcjI5NTU1NA==","avatar_url":"https://avatars1.githubusercontent.com/u/295554?v=4","gravatar_id":"","url":"https://api.github.com/users/Filirom1","html_url":"https://github.com/Filirom1","followers_url":"https://api.github.com/users/Filirom1/followers","following_url":"https://api.github.com/users/Filirom1/following{/other_user}","gists_url":"https://api.github.com/users/Filirom1/gists{/gist_id}","starred_url":"https://api.github.com/users/Filirom1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Filirom1/subscriptions","organizations_url":"https://api.github.com/users/Filirom1/orgs","repos_url":"https://api.github.com/users/Filirom1/repos","events_url":"https://api.github.com/users/Filirom1/events{/privacy}","received_events_url":"https://api.github.com/users/Filirom1/received_events","type":"User","site_admin":false},"labels":[{"id":33660,"node_id":"MDU6TGFiZWwzMzY2MA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebreaking","name":">breaking","color":"d93f0b","default":false,"description":null},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":23258505,"node_id":"MDU6TGFiZWwyMzI1ODUwNQ==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v0.20.3","name":"v0.20.3","color":"DDDDDD","default":false,"description":null},{"id":17100279,"node_id":"MDU6TGFiZWwxNzEwMDI3OQ==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v0.90.0.Beta1","name":"v0.90.0.Beta1","color":"DDDDDD","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":17,"created_at":"2012-10-24T08:49:27Z","updated_at":"2016-09-15T23:31:48Z","closed_at":"2013-01-11T17:02:00Z","author_association":"NONE","active_lock_reason":null,"body":"Hi, \n\nOn an empty 1 node cluster elasticsearch v0.19.10, I want to reproduce a MapperParsingException[object mapping for [my_type] tried to parse as object, but got EOF, has a concrete value been provided to it?]\n\nBut it's not so easy, here is the script I loop on:\n\n```\ncurl -s -XDELETE http://localhost:9200/my_index/?pretty=true;\n\ncurl -s -XPUT 'http://localhost:9200/_bulk?pretty=true' --data-binary '\n{\"index\":{\"_index\":\"my_index\",\"_type\":\"my_type\"}}\n{\"obj\":{\"key\":\"value\"}}\n{\"index\":{\"_index\":\"my_index\",\"_type\":\"my_type\"}}\n{\"obj\":\"value\"}\n'\n```\n\nSometimes I have the Exception, and sometimes not : \n\n```\n[root@dahu share]# curl -s -XDELETE http://localhost:9200/my_index/?pretty=true;\n\ncurl -s -XPUT 'http://localhost:9200/_bulk?pretty=true' --data-binary '\n{\"index\":{\"_index\":\"my_index\",\"_type\":\"my_type\"}}\n{\"obj\":{\"key\":\"value\"}}\n{\"index\":{\"_index\":\"my_index\",\"_type\":\"my_type\"}}\n{\"obj\":\"value\"}\n'{\n  \"ok\" : true,\n  \"acknowledged\" : true\n}[root@dahu share]#\n[root@dahu share]# curl -s -XPUT 'http://localhost:9200/_bulk?pretty=true' --data-binary '\n> {\"index\":{\"_index\":\"my_index\",\"_type\":\"my_type\"}}\n> {\"obj\":{\"key\":\"value\"}}\n> {\"index\":{\"_index\":\"my_index\",\"_type\":\"my_type\"}}\n> {\"obj\":\"value\"}\n> '\n{\n  \"took\" : 221,\n  \"items\" : [ {\n    \"create\" : {\n      \"_index\" : \"my_index\",\n      \"_type\" : \"my_type\",\n      \"_id\" : \"QJz1_TNWT9yhf7Mu5cRlDw\",\n      \"_version\" : 1,\n      \"ok\" : true\n    }\n  }, {\n    \"create\" : {\n      \"_index\" : \"my_index\",\n      \"_type\" : \"my_type\",\n      \"_id\" : \"ibUrM7JzRaGfalbgaF-aTA\",\n      \"error\" : \"MapperParsingException[object mapping for [my_type] tried to parse as object, but got EOF, has a concrete value been provided to it?]\"\n    }\n  } ]\n}[root@dahu share]#\n\n\n[root@dahu share]# curl -s -XDELETE http://localhost:9200/my_index/?pretty=true;\ncurl -s -XPUT 'http://localhost:9200/_bulk?pretty=true' --data-binary '\n{\"index\":{\"_index\":\"my_index\",\"_type\":\"my_type\"}}\n{\"obj\":{\"key\":\"value\"}}\n{\"index\":{\"_index\":\"my_index\",\"_type\":\"my_type\"}}\n{\"obj\":\"value\"}\n'{\n  \"ok\" : true,\n  \"acknowledged\" : true\n}[root@dahu share]#\n[root@dahu share]# curl -s -XPUT 'http://localhost:9200/_bulk?pretty=true' --data-binary '\n> {\"index\":{\"_index\":\"my_index\",\"_type\":\"my_type\"}}\n> {\"obj\":{\"key\":\"value\"}}\n> {\"index\":{\"_index\":\"my_index\",\"_type\":\"my_type\"}}\n> {\"obj\":\"value\"}\n> '\n{\n  \"took\" : 251,\n  \"items\" : [ {\n    \"create\" : {\n      \"_index\" : \"my_index\",\n      \"_type\" : \"my_type\",\n      \"_id\" : \"N2PS-hoPQv2mLN7wzkZFHg\",\n      \"_version\" : 1,\n      \"ok\" : true\n    }\n  }, {\n    \"create\" : {\n      \"_index\" : \"my_index\",\n      \"_type\" : \"my_type\",\n      \"_id\" : \"-G9gf7kYRTi3Jb2A4-OsVQ\",\n      \"_version\" : 1,\n      \"ok\" : true\n    }\n  } ]\n```\n\nQuite strange...\n","closed_by":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"performed_via_github_app":null}