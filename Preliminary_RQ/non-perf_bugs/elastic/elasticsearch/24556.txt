{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/24556","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24556/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24556/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24556/events","html_url":"https://github.com/elastic/elasticsearch/issues/24556","id":227247161,"node_id":"MDU6SXNzdWUyMjcyNDcxNjE=","number":24556,"title":"synonym search in dictionary elasticsearch not result","user":{"login":"zonorion","id":13013066,"node_id":"MDQ6VXNlcjEzMDEzMDY2","avatar_url":"https://avatars3.githubusercontent.com/u/13013066?v=4","gravatar_id":"","url":"https://api.github.com/users/zonorion","html_url":"https://github.com/zonorion","followers_url":"https://api.github.com/users/zonorion/followers","following_url":"https://api.github.com/users/zonorion/following{/other_user}","gists_url":"https://api.github.com/users/zonorion/gists{/gist_id}","starred_url":"https://api.github.com/users/zonorion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zonorion/subscriptions","organizations_url":"https://api.github.com/users/zonorion/orgs","repos_url":"https://api.github.com/users/zonorion/repos","events_url":"https://api.github.com/users/zonorion/events{/privacy}","received_events_url":"https://api.github.com/users/zonorion/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-05-09T04:30:46Z","updated_at":"2017-05-09T04:47:19Z","closed_at":"2017-05-09T04:47:19Z","author_association":"NONE","active_lock_reason":null,"body":"Hi all,\r\nI want use synonym filter for search, my config \r\n\r\n`analysis: {\r\nfilter: {\r\nsynonym_filter: {\r\ntype: \"synonym\",\r\nsynonyms: [\r\n\"tp, saigon, sai gon, hcm, tphcm, sài gòn, sàigòn => Thành phố Hồ Chí Minh\",\r\n\"tp, hn, ha noi, noi ha => Hà Nội\"\r\n]\r\n}\r\n},\r\nanalyzer: {\r\nsynonym_analyzer: {\r\nfilter: [\r\n\"standard\",\r\n\"synonym_filter\",\r\n\"lowercase\",\r\n\"asciifolding\"\r\n],\r\ntype: \"custom\",\r\ntokenizer: \"whitespace\"\r\n}\r\n}\r\n}`\r\n\r\nBut when i search: \r\n`{\r\n  \"query\": {\r\n    \"multi_match\": {\r\n      \"query\": \"tp\",\r\n      \"type\": \"best_fields\",\r\n      \"fields\": [\r\n        \"name\"\r\n      ],\r\n      \"operator\": \"and\"\r\n    }\r\n  }\r\n}`\r\n\r\nElastic only result one doc \"Thành phố Hồ Chí Minh\". Could u tell me why and how to fix it.\r\nThanks all.","closed_by":{"login":"johtani","id":1142449,"node_id":"MDQ6VXNlcjExNDI0NDk=","avatar_url":"https://avatars0.githubusercontent.com/u/1142449?v=4","gravatar_id":"","url":"https://api.github.com/users/johtani","html_url":"https://github.com/johtani","followers_url":"https://api.github.com/users/johtani/followers","following_url":"https://api.github.com/users/johtani/following{/other_user}","gists_url":"https://api.github.com/users/johtani/gists{/gist_id}","starred_url":"https://api.github.com/users/johtani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johtani/subscriptions","organizations_url":"https://api.github.com/users/johtani/orgs","repos_url":"https://api.github.com/users/johtani/repos","events_url":"https://api.github.com/users/johtani/events{/privacy}","received_events_url":"https://api.github.com/users/johtani/received_events","type":"User","site_admin":false},"performed_via_github_app":null}