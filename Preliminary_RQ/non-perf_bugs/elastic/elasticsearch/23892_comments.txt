[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/291482475","html_url":"https://github.com/elastic/elasticsearch/issues/23892#issuecomment-291482475","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23892","id":291482475,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTQ4MjQ3NQ==","user":{"login":"glefloch","id":1827790,"node_id":"MDQ6VXNlcjE4Mjc3OTA=","avatar_url":"https://avatars2.githubusercontent.com/u/1827790?v=4","gravatar_id":"","url":"https://api.github.com/users/glefloch","html_url":"https://github.com/glefloch","followers_url":"https://api.github.com/users/glefloch/followers","following_url":"https://api.github.com/users/glefloch/following{/other_user}","gists_url":"https://api.github.com/users/glefloch/gists{/gist_id}","starred_url":"https://api.github.com/users/glefloch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glefloch/subscriptions","organizations_url":"https://api.github.com/users/glefloch/orgs","repos_url":"https://api.github.com/users/glefloch/repos","events_url":"https://api.github.com/users/glefloch/events{/privacy}","received_events_url":"https://api.github.com/users/glefloch/received_events","type":"User","site_admin":false},"created_at":"2017-04-04T12:19:55Z","updated_at":"2017-04-04T12:19:55Z","author_association":"CONTRIBUTOR","body":"I'm interested into working on this issue. \r\nBy deprecating `:` in cluster and index names, do you mean logging something at startup (or at index creation time) if the name contains `:`, or should we throw an exception to prevent adding it? ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/291828685","html_url":"https://github.com/elastic/elasticsearch/issues/23892#issuecomment-291828685","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23892","id":291828685,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTgyODY4NQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-04-05T11:09:23Z","updated_at":"2017-04-05T11:09:23Z","author_association":"MEMBER","body":"To be clear, the ambiguity is handled in the following way already today. If you try to search on `cluster:index`, there is a remote cluster aliased by `cluster`, and there is an index named `cluster:index`, then we fail the request and inform the user that they need to change the remote cluster alias to resolve the ambiguity.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/291835064","html_url":"https://github.com/elastic/elasticsearch/issues/23892#issuecomment-291835064","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23892","id":291835064,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTgzNTA2NA==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-04-05T11:40:40Z","updated_at":"2017-04-05T11:40:40Z","author_association":"MEMBER","body":"good point @jasontedor . I also wonder if we need to add any validation to the cluster name like in #23911 or rather in cluster aliases used for cross cluster search, that don't necessarily have to match with the remote cluster names.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/291841627","html_url":"https://github.com/elastic/elasticsearch/issues/23892#issuecomment-291841627","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23892","id":291841627,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTg0MTYyNw==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-04-05T12:09:55Z","updated_at":"2017-04-05T12:09:55Z","author_association":"MEMBER","body":"the other bit that comes to mind is that the same validation should be applied to both index names and aliases, something that we happened to forget about in the past.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/323206447","html_url":"https://github.com/elastic/elasticsearch/issues/23892#issuecomment-323206447","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23892","id":323206447,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzIwNjQ0Nw==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2017-08-17T22:01:16Z","updated_at":"2017-08-17T22:01:16Z","author_association":"MEMBER","body":"This is now deprecated in 6.0+ and forbidden in 7.0+","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/432882338","html_url":"https://github.com/elastic/elasticsearch/issues/23892#issuecomment-432882338","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23892","id":432882338,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjg4MjMzOA==","user":{"login":"adriancole","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars2.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/adriancole","html_url":"https://github.com/adriancole","followers_url":"https://api.github.com/users/adriancole/followers","following_url":"https://api.github.com/users/adriancole/following{/other_user}","gists_url":"https://api.github.com/users/adriancole/gists{/gist_id}","starred_url":"https://api.github.com/users/adriancole/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adriancole/subscriptions","organizations_url":"https://api.github.com/users/adriancole/orgs","repos_url":"https://api.github.com/users/adriancole/repos","events_url":"https://api.github.com/users/adriancole/events{/privacy}","received_events_url":"https://api.github.com/users/adriancole/received_events","type":"User","site_admin":false},"created_at":"2018-10-25T01:30:36Z","updated_at":"2018-10-25T01:30:36Z","author_association":"NONE","body":"This is likely to cause a lot of ecosystem damage that will be blamed on call sites such as other projects, not this discussion between 5 people. Please reconsider and/or create a plan for all ecosystem effects including your whole stack. How folks will actually deprecate this in practice and keep their searches, cleanup jobs etc working.\r\n\r\nSee also https://github.com/openzipkin/zipkin/issues/2219","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/432913283","html_url":"https://github.com/elastic/elasticsearch/issues/23892#issuecomment-432913283","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23892","id":432913283,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjkxMzI4Mw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-10-25T04:46:48Z","updated_at":"2018-10-25T04:46:48Z","author_association":"MEMBER","body":"I understand your concern @adriancole; being broken by upstream changes is frustrating for any engineer.\r\n\r\nI think we have taken a conservative approach here that I hope addresses your concerns.\r\n\r\nWe have deprecated this in 6.0.0 which was released nearly a year ago, and will remove support to create new indices in 7.0.0 (a future release whose timeframe we can not indicate right now). That means this carries a long deprecation period over which users and downstream developers can adjust.\r\n\r\nAnd 7.0.0 will still support these existing indices, it's only that new ones will not be able to be created.\r\n\r\nIt's only in 8.0.0 that support for these indices will be dropped, and that's in accordance with our support policy anyway. Elasticsearch major versions support older indices only from the previous major version.\r\n\r\nAll this together means it's a long period from the initial deprecation to complete removal.\r\n\r\nIf you have specific feedback on what we can do better here, we are eager to receive it.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/432914689","html_url":"https://github.com/elastic/elasticsearch/issues/23892#issuecomment-432914689","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23892","id":432914689,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjkxNDY4OQ==","user":{"login":"adriancole","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars2.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/adriancole","html_url":"https://github.com/adriancole","followers_url":"https://api.github.com/users/adriancole/followers","following_url":"https://api.github.com/users/adriancole/following{/other_user}","gists_url":"https://api.github.com/users/adriancole/gists{/gist_id}","starred_url":"https://api.github.com/users/adriancole/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adriancole/subscriptions","organizations_url":"https://api.github.com/users/adriancole/orgs","repos_url":"https://api.github.com/users/adriancole/repos","events_url":"https://api.github.com/users/adriancole/events{/privacy}","received_events_url":"https://api.github.com/users/adriancole/received_events","type":"User","site_admin":false},"created_at":"2018-10-25T04:56:51Z","updated_at":"2018-10-25T04:56:51Z","author_association":"NONE","body":"Thanks for writing back. Seems the decision is final and that you are ok as I suppose there was no other means possible? I still would like to be able to link to some document that says what practice people should do to migrate off this. This is work causing and frankly ES has way more employees than we have volunteers to do this sort of migration guide.\r\n\r\nAsk 1: Can you (ES) please write a public doc on this with concrete suggestions on how to mitigate this, linking to the discussion that caused this?\r\n\r\n\r\nNext topic is that the message isn't precise, it says there's no support in 7.0\r\n\r\n```\r\n[2018-10-24T11:32:00,033][WARN ][o.e.d.c.m.MetaDataCreateIndexService] index or alias name [zipkin:span-2018-10-24] containing ':' is deprecated and will not be supported in Elasticsearch 7.0+\r\n```\r\n\r\nPlease change that message? Maybe to say\r\n\r\n\"existing indexes containing ':' are deprecated. Elasticsearch 7 will be able to read them, but not create new ones. Elasticsearch 8+ will drop support entirely\"\r\n\r\nAsk 2: Can you please make a more precise deprecation message?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/432915296","html_url":"https://github.com/elastic/elasticsearch/issues/23892#issuecomment-432915296","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23892","id":432915296,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjkxNTI5Ng==","user":{"login":"adriancole","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars2.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/adriancole","html_url":"https://github.com/adriancole","followers_url":"https://api.github.com/users/adriancole/followers","following_url":"https://api.github.com/users/adriancole/following{/other_user}","gists_url":"https://api.github.com/users/adriancole/gists{/gist_id}","starred_url":"https://api.github.com/users/adriancole/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adriancole/subscriptions","organizations_url":"https://api.github.com/users/adriancole/orgs","repos_url":"https://api.github.com/users/adriancole/repos","events_url":"https://api.github.com/users/adriancole/events{/privacy}","received_events_url":"https://api.github.com/users/adriancole/received_events","type":"User","site_admin":false},"created_at":"2018-10-25T05:00:51Z","updated_at":"2018-10-25T05:00:51Z","author_association":"NONE","body":"One thing very important is that we reviewed our index pattern after the last time we were bit causing a huge work ripple through the ecosystem. In the \"mitigation doc\" can you please permanently whitelist characters you will not remove later?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/432917004","html_url":"https://github.com/elastic/elasticsearch/issues/23892#issuecomment-432917004","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23892","id":432917004,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjkxNzAwNA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-10-25T05:13:06Z","updated_at":"2018-10-25T05:13:06Z","author_association":"MEMBER","body":"Thank you for the feedback.\r\n\r\n> Seems the decision is final and that you are ok as I suppose there was no other means possible?\r\n\r\nWell, we try to maintain a philosophy that *every* decision can be revisited. With compelling justification, any decision can be iterated on, and ever reversed. There is a lot to overcome here though. 😇 \r\n\r\n> Can you (ES) please write a public doc on this with concrete suggestions on how to mitigate this, linking to the discussion that caused this?\r\n\r\nCan you elaborate on what you mean by \"to mitigate this\"? I want to make sure I understand the request before acting on it.\r\n\r\n> Can you please make a more precise deprecation message?\r\n\r\nI agree that the existing deprecation message is misleading. We will address this. Can you pick this up @dakrone?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/432918585","html_url":"https://github.com/elastic/elasticsearch/issues/23892#issuecomment-432918585","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23892","id":432918585,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjkxODU4NQ==","user":{"login":"adriancole","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars2.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/adriancole","html_url":"https://github.com/adriancole","followers_url":"https://api.github.com/users/adriancole/followers","following_url":"https://api.github.com/users/adriancole/following{/other_user}","gists_url":"https://api.github.com/users/adriancole/gists{/gist_id}","starred_url":"https://api.github.com/users/adriancole/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adriancole/subscriptions","organizations_url":"https://api.github.com/users/adriancole/orgs","repos_url":"https://api.github.com/users/adriancole/repos","events_url":"https://api.github.com/users/adriancole/events{/privacy}","received_events_url":"https://api.github.com/users/adriancole/received_events","type":"User","site_admin":false},"created_at":"2018-10-25T05:23:03Z","updated_at":"2018-10-25T05:23:03Z","author_association":"NONE","body":"I'll write separate replies :) thanks for keeping an open mind.\r\n\r\n> Well, we try to maintain a philosophy that every decision can be revisited. With compelling justification, any decision can be iterated on, and ever reversed. There is a lot to overcome here though. 😇\r\n\r\nSo, the exposure here is folks with index patterns such as ':' While I don't know the details here, this seems a query related concern, even mentioning a workaround for the ambiguity. In a green field the best way to remove ambiguity is to eliminate the problem (by reducing things like the character set). This is muddy in the brown field (see what I did just there?)\r\n\r\nThe justification would then be based on brown fields. Frankly data policy deprecation is hard to even notice. There's no code deprecation! We only found out by accident today. If this happened since 6.0 that must say something (maybe about us!). So I don't know all of the sites of impact, but at least in zipkin we already have several branches of code to read different policy of elasticsearch. This constraint against colons had 2 thumbs up on this issue.. that seems a low justification to overcome :) you tell me? your knowledge of ES ecosystem, how many different types of tech will result in a glitch unless someone changes their index pattern (during migration and after)? Maybe others can speak to how much impact this is?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/432919098","html_url":"https://github.com/elastic/elasticsearch/issues/23892#issuecomment-432919098","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23892","id":432919098,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjkxOTA5OA==","user":{"login":"adriancole","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars2.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/adriancole","html_url":"https://github.com/adriancole","followers_url":"https://api.github.com/users/adriancole/followers","following_url":"https://api.github.com/users/adriancole/following{/other_user}","gists_url":"https://api.github.com/users/adriancole/gists{/gist_id}","starred_url":"https://api.github.com/users/adriancole/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adriancole/subscriptions","organizations_url":"https://api.github.com/users/adriancole/orgs","repos_url":"https://api.github.com/users/adriancole/repos","events_url":"https://api.github.com/users/adriancole/events{/privacy}","received_events_url":"https://api.github.com/users/adriancole/received_events","type":"User","site_admin":false},"created_at":"2018-10-25T05:26:23Z","updated_at":"2018-10-25T05:26:23Z","author_association":"NONE","body":"> Can you elaborate on what you mean by \"to mitigate this\"? I want to make sure I understand the request before acting on it.\r\n\r\nConcretely in zipkin we still have to read old indexes.. people will have data at least in dependencies. That or we have to hand over to them a list of chores. For example, change this in curator cleanup jobs, proxy or alias so that there's seamless query when looking back against daily buckets where the index pattern changes. Think about your spark stuff, someone needs to scan against different patterns now.. maybe knowing about regex or wildcards or other mechanisms to address the change from \":\" in one day to... errr I don't even want to guess the next character, so you tell me  :P","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/432919505","html_url":"https://github.com/elastic/elasticsearch/issues/23892#issuecomment-432919505","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23892","id":432919505,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjkxOTUwNQ==","user":{"login":"adriancole","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars2.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/adriancole","html_url":"https://github.com/adriancole","followers_url":"https://api.github.com/users/adriancole/followers","following_url":"https://api.github.com/users/adriancole/following{/other_user}","gists_url":"https://api.github.com/users/adriancole/gists{/gist_id}","starred_url":"https://api.github.com/users/adriancole/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adriancole/subscriptions","organizations_url":"https://api.github.com/users/adriancole/orgs","repos_url":"https://api.github.com/users/adriancole/repos","events_url":"https://api.github.com/users/adriancole/events{/privacy}","received_events_url":"https://api.github.com/users/adriancole/received_events","type":"User","site_admin":false},"created_at":"2018-10-25T05:28:29Z","updated_at":"2018-10-25T05:28:36Z","author_association":"NONE","body":"> I agree that the existing deprecation message is misleading. We will address this\r\n\r\nyay! also not sure how but we should think about why at least in our community no-one noticed until today. Is there another way to indicate deprecation? This is probably a separate topic.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/432920740","html_url":"https://github.com/elastic/elasticsearch/issues/23892#issuecomment-432920740","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23892","id":432920740,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjkyMDc0MA==","user":{"login":"adriancole","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars2.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/adriancole","html_url":"https://github.com/adriancole","followers_url":"https://api.github.com/users/adriancole/followers","following_url":"https://api.github.com/users/adriancole/following{/other_user}","gists_url":"https://api.github.com/users/adriancole/gists{/gist_id}","starred_url":"https://api.github.com/users/adriancole/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adriancole/subscriptions","organizations_url":"https://api.github.com/users/adriancole/orgs","repos_url":"https://api.github.com/users/adriancole/repos","events_url":"https://api.github.com/users/adriancole/events{/privacy}","received_events_url":"https://api.github.com/users/adriancole/received_events","type":"User","site_admin":false},"created_at":"2018-10-25T05:35:56Z","updated_at":"2018-10-25T05:37:01Z","author_association":"NONE","body":"One last anecdote.. the *only* reason we have colons was due to dropping of multi-type indexes earlier. This was a result of an earlier very expensive chore, we literally had to write 2 query engines last time! It is a pain because we thought we reviewed the approach carefully to avoid this again. \r\n\r\nThis is less impactful, as presumably there are still characters permitted. We need to know what they are, and in our case we will change `zipkin:span-2017-08-11` to a different delimter like `zipkin💩span-2017-08-11`. The rippling stuff seems mostly on read side.. but we would have to make a loud release telling people in advance as especially in ES people use different tools to ingest data, not just ours. they also have layered index templates which might miss etc.\r\n\r\nHope the context helps","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/432921238","html_url":"https://github.com/elastic/elasticsearch/issues/23892#issuecomment-432921238","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23892","id":432921238,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjkyMTIzOA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-10-25T05:39:13Z","updated_at":"2018-10-25T05:39:13Z","author_association":"MEMBER","body":"It is getting late for me and I want to go to bed so I will reply to the easier one to reply to of your comments, and save the others for another time.\r\n\r\n> yay! also not sure how but we should think about why at least in our community no-one noticed until today. Is there another way to indicate deprecation? This is probably a separate topic.\r\n\r\nThis is indeed a challenging problem. I will offer one suggestion here and see what you think of it.\r\n\r\nElasticsearch generates warning headers on HTTP requests when deprecated functionality is used. I encourage all developers building on top of Elasticsearch to fail builds when a client call in a test returns any warning header. Then you can make an active choice:\r\n - make the necessary code changes to make the warning header go away\r\n - suppress that warning header from failing the build and open an issue (sometimes you need to do this because getting the build passing is important, and then you'll follow up later)\r\n\r\nOur Kibana team will be implementing something like this, so that they too become aware during a development cycle whether or not they are relying on deprecated functionality.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/432921778","html_url":"https://github.com/elastic/elasticsearch/issues/23892#issuecomment-432921778","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23892","id":432921778,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjkyMTc3OA==","user":{"login":"adriancole","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars2.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/adriancole","html_url":"https://github.com/adriancole","followers_url":"https://api.github.com/users/adriancole/followers","following_url":"https://api.github.com/users/adriancole/following{/other_user}","gists_url":"https://api.github.com/users/adriancole/gists{/gist_id}","starred_url":"https://api.github.com/users/adriancole/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adriancole/subscriptions","organizations_url":"https://api.github.com/users/adriancole/orgs","repos_url":"https://api.github.com/users/adriancole/repos","events_url":"https://api.github.com/users/adriancole/events{/privacy}","received_events_url":"https://api.github.com/users/adriancole/received_events","type":"User","site_admin":false},"created_at":"2018-10-25T05:42:34Z","updated_at":"2018-10-25T05:42:34Z","author_association":"NONE","body":"great tip on the warning header! I will incorporate this into our integration tests, as we can safely crash requests there. We can resume the other stuff when fresh. Gnight!","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/433096745","html_url":"https://github.com/elastic/elasticsearch/issues/23892#issuecomment-433096745","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23892","id":433096745,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMzA5Njc0NQ==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2018-10-25T15:28:46Z","updated_at":"2018-10-25T15:28:46Z","author_association":"MEMBER","body":"> I agree that the existing deprecation message is misleading. We will address this. Can you pick this up @dakrone?\r\n\r\nCertainly, I'll open a PR for it shortly","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/433101828","html_url":"https://github.com/elastic/elasticsearch/issues/23892#issuecomment-433101828","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23892","id":433101828,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMzEwMTgyOA==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2018-10-25T15:41:56Z","updated_at":"2018-10-25T15:41:56Z","author_association":"MEMBER","body":"I opened https://github.com/elastic/elasticsearch/pull/34867 for a better deprecation message.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/434492664","html_url":"https://github.com/elastic/elasticsearch/issues/23892#issuecomment-434492664","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23892","id":434492664,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNDQ5MjY2NA==","user":{"login":"adriancole","id":64215,"node_id":"MDQ6VXNlcjY0MjE1","avatar_url":"https://avatars2.githubusercontent.com/u/64215?v=4","gravatar_id":"","url":"https://api.github.com/users/adriancole","html_url":"https://github.com/adriancole","followers_url":"https://api.github.com/users/adriancole/followers","following_url":"https://api.github.com/users/adriancole/following{/other_user}","gists_url":"https://api.github.com/users/adriancole/gists{/gist_id}","starred_url":"https://api.github.com/users/adriancole/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adriancole/subscriptions","organizations_url":"https://api.github.com/users/adriancole/orgs","repos_url":"https://api.github.com/users/adriancole/repos","events_url":"https://api.github.com/users/adriancole/events{/privacy}","received_events_url":"https://api.github.com/users/adriancole/received_events","type":"User","site_admin":false},"created_at":"2018-10-30T22:26:37Z","updated_at":"2018-10-30T22:26:37Z","author_association":"NONE","body":"I know it was late during this discussion, but curious if folks are able to reconsider deprecating this with some time bought between now and version 8. Maybe there's a creative way to address the problem, possibly by looking at the exposure (which seems to be the query api)? This request might have gotten lost in comments about the deprecation message.\r\n\r\nFailing that, a practical response to give to folks as still we'll need to prepare for the storm. For example, like many we have communities who want the oldest (for us oldest is 2.x) and others who want the newest. We'll ideally be able to bundle in some sort of carrot with the stick, so we'll look for some feature that helps us and package the message about the index refactoring etc with that ;P tips welcome.","performed_via_github_app":null}]