[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/33798909","html_url":"https://github.com/elastic/elasticsearch/issues/4300#issuecomment-33798909","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4300","id":33798909,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNzk4OTA5","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2014-01-31T14:41:36Z","updated_at":"2014-01-31T14:41:36Z","author_association":"MEMBER","body":"I think there is a potential issue here of not honouring GC deletes, but it only happens in the case that you bring all the copies of a shard down, either one by one during an upgrade or together (in which case the cluster status becomes RED). If just one node falls off and comes back it's OK (assuming you have replicas). Given the temporary nature of delete retention, I'm not sure it's worth the effort to persist them all the time, just for these use cases.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/33800534","html_url":"https://github.com/elastic/elasticsearch/issues/4300#issuecomment-33800534","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4300","id":33800534,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODAwNTM0","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2014-01-31T15:00:03Z","updated_at":"2014-01-31T15:00:03Z","author_association":"MEMBER","body":"Indeed, this is by design.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/33824544","html_url":"https://github.com/elastic/elasticsearch/issues/4300#issuecomment-33824544","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4300","id":33824544,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODI0NTQ0","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2014-01-31T17:43:49Z","updated_at":"2014-01-31T17:43:49Z","author_association":"MEMBER","body":"btw, the example you gave is not related to deletes. 2 nodes tests are, well, tricky in distributed systems :). For those case, you can require that both copies will be available on writes with write consistency, for example. On more than 2 nodes, the story is different, and again, if you care more about HA, then you might want to have 3 copies of the data, or require quorum/all copies of the data be available.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/33934555","html_url":"https://github.com/elastic/elasticsearch/issues/4300#issuecomment-33934555","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4300","id":33934555,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTM0NTU1","user":{"login":"tstibbs","id":4869014,"node_id":"MDQ6VXNlcjQ4NjkwMTQ=","avatar_url":"https://avatars1.githubusercontent.com/u/4869014?v=4","gravatar_id":"","url":"https://api.github.com/users/tstibbs","html_url":"https://github.com/tstibbs","followers_url":"https://api.github.com/users/tstibbs/followers","following_url":"https://api.github.com/users/tstibbs/following{/other_user}","gists_url":"https://api.github.com/users/tstibbs/gists{/gist_id}","starred_url":"https://api.github.com/users/tstibbs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tstibbs/subscriptions","organizations_url":"https://api.github.com/users/tstibbs/orgs","repos_url":"https://api.github.com/users/tstibbs/repos","events_url":"https://api.github.com/users/tstibbs/events{/privacy}","received_events_url":"https://api.github.com/users/tstibbs/received_events","type":"User","site_admin":false},"created_at":"2014-02-03T09:18:04Z","updated_at":"2014-02-03T09:18:04Z","author_association":"CONTRIBUTOR","body":"I can see why you need an odd number of copies of data when you've got no versioning system, but I think my point is that when you're using _external_ versioning, I don't see why it should matter whether it's two, three or x nodes.\n\nIn any system, given a set of actions, if every action in that set has a version, then it does not matter what order the actions arrive in, or whether all parts of the system agree on which action is the latest - you can always determine the most recent action by simply looking at the versions.\n\nIn elasticsearch the set of actions is just an ordered collection of puts and deletes. Even if I only have two nodes in my system, and even if they don't agree on the what was the latest action, it's (conceptually) trivial to work out which action was the latest - it's the one with the highest version. \n\nIf only ever doing puts, we already have enough information to do this (the version is stored in the index) - it's only because of the deletes that there's a problem.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/51643167","html_url":"https://github.com/elastic/elasticsearch/issues/4300#issuecomment-51643167","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4300","id":51643167,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjQzMTY3","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-08-08T18:53:42Z","updated_at":"2014-08-08T18:53:42Z","author_association":"CONTRIBUTOR","body":"Elasticsearch doesn't have an eventual consistency model. Closing\n","performed_via_github_app":null}]