[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/201723341","html_url":"https://github.com/elastic/elasticsearch/issues/17354#issuecomment-201723341","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17354","id":201723341,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMTcyMzM0MQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2016-03-26T07:29:12Z","updated_at":"2016-03-26T07:29:12Z","author_association":"MEMBER","body":"Hi @CVTJNII you mean that you would like to see `data: true` for the data node? We don't do that because it's the default, like we don't do it when master is true as well. This will improve with #16963 where we are separating node roles from attributes, so that nodes info always outputs the roles, but they are not part of attributes anymore. What do you think of that?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/203242417","html_url":"https://github.com/elastic/elasticsearch/issues/17354#issuecomment-203242417","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17354","id":203242417,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMzI0MjQxNw==","user":{"login":"CVTJNII","id":13871930,"node_id":"MDQ6VXNlcjEzODcxOTMw","avatar_url":"https://avatars0.githubusercontent.com/u/13871930?v=4","gravatar_id":"","url":"https://api.github.com/users/CVTJNII","html_url":"https://github.com/CVTJNII","followers_url":"https://api.github.com/users/CVTJNII/followers","following_url":"https://api.github.com/users/CVTJNII/following{/other_user}","gists_url":"https://api.github.com/users/CVTJNII/gists{/gist_id}","starred_url":"https://api.github.com/users/CVTJNII/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CVTJNII/subscriptions","organizations_url":"https://api.github.com/users/CVTJNII/orgs","repos_url":"https://api.github.com/users/CVTJNII/repos","events_url":"https://api.github.com/users/CVTJNII/events{/privacy}","received_events_url":"https://api.github.com/users/CVTJNII/received_events","type":"User","site_admin":false},"created_at":"2016-03-30T04:29:12Z","updated_at":"2016-03-30T04:29:12Z","author_association":"NONE","body":"Yes, I believe #16963 will help satisfy the spirit of the request as I'm using this output to determine what the cluster type is.  However, I'd still prefer the values to be explicitly set, personally I always prefer explicit over implicit as it avoids confusion.  I also find 'true' to be an unexpected default, for booleans I assume the default will be 'false', though I suppose if that's documented and I missed it then it's okay.\n\nI'd would also like to point out that the master is returning 'master: true' and not omitting it as a default.  As I mentioned above I prefer this behavior and think it would be beneficial if the data node could behave the same as well.  Thanks.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/203281106","html_url":"https://github.com/elastic/elasticsearch/issues/17354#issuecomment-203281106","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17354","id":203281106,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMzI4MTEwNg==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2016-03-30T07:04:09Z","updated_at":"2016-03-30T07:04:09Z","author_association":"MEMBER","body":"If you rely on attributes to determine the node types, you need to take into account default values (in 2.x). All node types default to `true` (including `node.ingest`). With #16963 you can rely on the returned `roles` array instead which will always contain the roles that each node fulfils in the cluster (no matter if you set them explicitly or not). Roles won't be part of attributes anymore though, so you will need to switch to reading from `roles` from 5.0 on. I think we can consider this fixed.\n","performed_via_github_app":null}]