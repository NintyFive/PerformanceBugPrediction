{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/52840","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52840/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52840/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52840/events","html_url":"https://github.com/elastic/elasticsearch/issues/52840","id":571563243,"node_id":"MDU6SXNzdWU1NzE1NjMyNDM=","number":52840,"title":"Search-time extraction of fields","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"labels":[{"id":146832564,"node_id":"MDU6TGFiZWwxNDY4MzI1NjQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Search","name":":Search/Search","color":"0e8a16","default":false,"description":"Search-related issues that do not fall into other categories"},{"id":23172,"node_id":"MDU6TGFiZWwyMzE3Mg==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Efeature","name":">feature","color":"006b75","default":false,"description":null},{"id":158399402,"node_id":"MDU6TGFiZWwxNTgzOTk0MDI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Meta","name":"Meta","color":"e11d21","default":false,"description":null},{"id":1967498216,"node_id":"MDU6TGFiZWwxOTY3NDk4MjE2","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Search","name":"Team:Search","color":"fef2c0","default":false,"description":"Meta label for search team"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-02-26T18:07:03Z","updated_at":"2020-07-09T19:25:18Z","closed_at":"2020-07-09T19:25:18Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"There are 3 main use-cases for search-time extraction of fields:\r\n-  **Ad-hoc queries**. If you need to run a one-off query, just run it using a `script` query.\r\n- **Saving space**. If you index lots of data where some fields are almost never queried, it might make more sense to not index these fields preemptively and just run a script whenever a query needs them. This will also make indexing cheaper.\r\n- **Compatibility in time-based indices.** If you have time-based indices and introduce a new field in an index template, existing indices won't have this field. Scripted fields might help give a consistent experience when querying this new field across the index pattern.\r\n\r\nTo make the experience better with scripted search, we're thinking of implementing the following changes:\r\n- [ ] Allow using the same scripts in the `script` query and sort/aggs, to make ad-hoc queries easier. #48059\r\n- [ ] Introduce runtime fields, that would have the same semantics as regular fields, but would compute values dynamically. #48063\r\n - [ ] Let users know when they run a query that uses slow features such as runtime fields. As we're making runtime fields transparent, it might not be obvious to users why a query is slow, especially if the user that fires queries and the user that configures mappings are not the same person. Giving feedback with the response would help Kibana give information as to why a query is taking time if it doesn't return by X seconds. #48058\r\n","closed_by":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"performed_via_github_app":null}