{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/50721","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50721/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50721/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50721/events","html_url":"https://github.com/elastic/elasticsearch/issues/50721","id":546585854,"node_id":"MDU6SXNzdWU1NDY1ODU4NTQ=","number":50721,"title":"cluster stats api show incorrect memory info on OS X","user":{"login":"TomonoriSoejima","id":25199092,"node_id":"MDQ6VXNlcjI1MTk5MDky","avatar_url":"https://avatars3.githubusercontent.com/u/25199092?v=4","gravatar_id":"","url":"https://api.github.com/users/TomonoriSoejima","html_url":"https://github.com/TomonoriSoejima","followers_url":"https://api.github.com/users/TomonoriSoejima/followers","following_url":"https://api.github.com/users/TomonoriSoejima/following{/other_user}","gists_url":"https://api.github.com/users/TomonoriSoejima/gists{/gist_id}","starred_url":"https://api.github.com/users/TomonoriSoejima/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TomonoriSoejima/subscriptions","organizations_url":"https://api.github.com/users/TomonoriSoejima/orgs","repos_url":"https://api.github.com/users/TomonoriSoejima/repos","events_url":"https://api.github.com/users/TomonoriSoejima/events{/privacy}","received_events_url":"https://api.github.com/users/TomonoriSoejima/received_events","type":"User","site_admin":false},"labels":[{"id":144797810,"node_id":"MDU6TGFiZWwxNDQ3OTc4MTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Core","name":":Core/Infra/Core","color":"0e8a16","default":false,"description":"Core issues without another label"}],"state":"closed","locked":false,"assignee":{"login":"dliappis","id":1754575,"node_id":"MDQ6VXNlcjE3NTQ1NzU=","avatar_url":"https://avatars0.githubusercontent.com/u/1754575?v=4","gravatar_id":"","url":"https://api.github.com/users/dliappis","html_url":"https://github.com/dliappis","followers_url":"https://api.github.com/users/dliappis/followers","following_url":"https://api.github.com/users/dliappis/following{/other_user}","gists_url":"https://api.github.com/users/dliappis/gists{/gist_id}","starred_url":"https://api.github.com/users/dliappis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dliappis/subscriptions","organizations_url":"https://api.github.com/users/dliappis/orgs","repos_url":"https://api.github.com/users/dliappis/repos","events_url":"https://api.github.com/users/dliappis/events{/privacy}","received_events_url":"https://api.github.com/users/dliappis/received_events","type":"User","site_admin":false},"assignees":[{"login":"dliappis","id":1754575,"node_id":"MDQ6VXNlcjE3NTQ1NzU=","avatar_url":"https://avatars0.githubusercontent.com/u/1754575?v=4","gravatar_id":"","url":"https://api.github.com/users/dliappis","html_url":"https://github.com/dliappis","followers_url":"https://api.github.com/users/dliappis/followers","following_url":"https://api.github.com/users/dliappis/following{/other_user}","gists_url":"https://api.github.com/users/dliappis/gists{/gist_id}","starred_url":"https://api.github.com/users/dliappis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dliappis/subscriptions","organizations_url":"https://api.github.com/users/dliappis/orgs","repos_url":"https://api.github.com/users/dliappis/repos","events_url":"https://api.github.com/users/dliappis/events{/privacy}","received_events_url":"https://api.github.com/users/dliappis/received_events","type":"User","site_admin":false}],"milestone":null,"comments":5,"created_at":"2020-01-08T00:57:02Z","updated_at":"2020-01-09T00:40:30Z","closed_at":"2020-01-09T00:40:29Z","author_association":"NONE","active_lock_reason":null,"body":"This is from version 7.5.1 and `_cluster/stats` is reporting twice the size of physical memory on OS X.\r\n\r\nNote that it looks fine on CentOS as the stats and the output by the free command shows it equally.\r\n\r\n```\r\n[root@tomo-es-linux tomo]# uname -a\r\nLinux tomo-es-linux 3.10.0-1062.9.1.el7.x86_64 #1 SMP Fri Dec 6 15:49:49 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux\r\n[root@tomo-es-linux tomo]# free -h\r\n              total        used        free      shared  buff/cache   available\r\nMem:           7.1G        1.5G        5.2G        8.4M        498M        5.4G\r\nSwap:            0B          0B          0B\r\n[root@tomo-es-linux tomo]# curl -s  \"localhost:9200/_cluster/stats?filter_path=nodes.os.mem&human\" | jq \r\n{\r\n  \"nodes\": {\r\n    \"os\": {\r\n      \"mem\": {\r\n        \"total\": \"7.1gb\",\r\n        \"total_in_bytes\": 7672877056,\r\n        \"free\": \"5.1gb\",\r\n        \"free_in_bytes\": 5568827392,\r\n        \"used\": \"1.9gb\",\r\n        \"used_in_bytes\": 2104049664,\r\n        \"free_percent\": 73,\r\n        \"used_percent\": 27\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\n```\r\n[nami:~]$ uname -a\r\nDarwin nami.local 19.2.0 Darwin Kernel Version 19.2.0: Sat Nov  9 03:47:04 PST 2019; root:xnu-6153.61.1~20/RELEASE_X86_64 x86_64\r\n[nami:~]$ \r\n\r\n```\r\n![image](https://user-images.githubusercontent.com/25199092/71941377-d1d2e380-31fc-11ea-91aa-c42adb61f2f9.png)\r\n\r\n","closed_by":{"login":"TomonoriSoejima","id":25199092,"node_id":"MDQ6VXNlcjI1MTk5MDky","avatar_url":"https://avatars3.githubusercontent.com/u/25199092?v=4","gravatar_id":"","url":"https://api.github.com/users/TomonoriSoejima","html_url":"https://github.com/TomonoriSoejima","followers_url":"https://api.github.com/users/TomonoriSoejima/followers","following_url":"https://api.github.com/users/TomonoriSoejima/following{/other_user}","gists_url":"https://api.github.com/users/TomonoriSoejima/gists{/gist_id}","starred_url":"https://api.github.com/users/TomonoriSoejima/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TomonoriSoejima/subscriptions","organizations_url":"https://api.github.com/users/TomonoriSoejima/orgs","repos_url":"https://api.github.com/users/TomonoriSoejima/repos","events_url":"https://api.github.com/users/TomonoriSoejima/events{/privacy}","received_events_url":"https://api.github.com/users/TomonoriSoejima/received_events","type":"User","site_admin":false},"performed_via_github_app":null}