{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/61111","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61111/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61111/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61111/events","html_url":"https://github.com/elastic/elasticsearch/issues/61111","id":678638075,"node_id":"MDU6SXNzdWU2Nzg2MzgwNzU=","number":61111,"title":"[CI] FullClusterRestartIT.testCreateSystemIndexInOldVersion Failure","user":{"login":"jdconrad","id":2126764,"node_id":"MDQ6VXNlcjIxMjY3NjQ=","avatar_url":"https://avatars2.githubusercontent.com/u/2126764?v=4","gravatar_id":"","url":"https://api.github.com/users/jdconrad","html_url":"https://github.com/jdconrad","followers_url":"https://api.github.com/users/jdconrad/followers","following_url":"https://api.github.com/users/jdconrad/following{/other_user}","gists_url":"https://api.github.com/users/jdconrad/gists{/gist_id}","starred_url":"https://api.github.com/users/jdconrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdconrad/subscriptions","organizations_url":"https://api.github.com/users/jdconrad/orgs","repos_url":"https://api.github.com/users/jdconrad/repos","events_url":"https://api.github.com/users/jdconrad/events{/privacy}","received_events_url":"https://api.github.com/users/jdconrad/received_events","type":"User","site_admin":false},"labels":[{"id":144797810,"node_id":"MDU6TGFiZWwxNDQ3OTc4MTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Core","name":":Core/Infra/Core","color":"0e8a16","default":false,"description":"Core issues without another label"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"},{"id":1967495446,"node_id":"MDU6TGFiZWwxOTY3NDk1NDQ2","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Core/Infra","name":"Team:Core/Infra","color":"fef2c0","default":false,"description":"Meta label for core/infra team"}],"state":"closed","locked":false,"assignee":{"login":"gwbrown","id":1522844,"node_id":"MDQ6VXNlcjE1MjI4NDQ=","avatar_url":"https://avatars1.githubusercontent.com/u/1522844?v=4","gravatar_id":"","url":"https://api.github.com/users/gwbrown","html_url":"https://github.com/gwbrown","followers_url":"https://api.github.com/users/gwbrown/followers","following_url":"https://api.github.com/users/gwbrown/following{/other_user}","gists_url":"https://api.github.com/users/gwbrown/gists{/gist_id}","starred_url":"https://api.github.com/users/gwbrown/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gwbrown/subscriptions","organizations_url":"https://api.github.com/users/gwbrown/orgs","repos_url":"https://api.github.com/users/gwbrown/repos","events_url":"https://api.github.com/users/gwbrown/events{/privacy}","received_events_url":"https://api.github.com/users/gwbrown/received_events","type":"User","site_admin":false},"assignees":[{"login":"gwbrown","id":1522844,"node_id":"MDQ6VXNlcjE1MjI4NDQ=","avatar_url":"https://avatars1.githubusercontent.com/u/1522844?v=4","gravatar_id":"","url":"https://api.github.com/users/gwbrown","html_url":"https://github.com/gwbrown","followers_url":"https://api.github.com/users/gwbrown/followers","following_url":"https://api.github.com/users/gwbrown/following{/other_user}","gists_url":"https://api.github.com/users/gwbrown/gists{/gist_id}","starred_url":"https://api.github.com/users/gwbrown/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gwbrown/subscriptions","organizations_url":"https://api.github.com/users/gwbrown/orgs","repos_url":"https://api.github.com/users/gwbrown/repos","events_url":"https://api.github.com/users/gwbrown/events{/privacy}","received_events_url":"https://api.github.com/users/gwbrown/received_events","type":"User","site_admin":false}],"milestone":null,"comments":5,"created_at":"2020-08-13T18:08:41Z","updated_at":"2020-08-14T14:17:22Z","closed_at":"2020-08-14T14:17:22Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Console:\r\nhttps://gradle-enterprise.elastic.co/s/en3x6ofkrd67k\r\n\r\nTest Failure:\r\n```\r\norg.elasticsearch.upgrades.FullClusterRestartIT > testCreateSystemIndexInOldVersion FAILED\r\n    org.elasticsearch.client.WarningFailureException: method [GET], host [http://[::1]:35477], URI [/.tasks], status line [HTTP/1.1 200 OK]\r\n    Warnings: [[types removal] The parameter include_type_name should be explicitly specified in get indices requests to prepare for 7.0. In 7.0 include_type_name will default to 'false', which means responses will omit the type name in mapping definitions.]\r\n    {\".tasks\":{\"aliases\":{},\"mappings\":{\"task\":{\"dynamic\":\"strict\",\"_meta\":{\"version\":2},\"properties\":{\"completed\":{\"type\":\"boolean\"},\"error\":{\"type\":\"object\",\"enabled\":false},\"response\":{\"type\":\"object\",\"enabled\":false},\"task\":{\"properties\":{\"action\":{\"type\":\"keyword\"},\"cancellable\":{\"type\":\"boolean\"},\"description\":{\"type\":\"text\"},\"headers\":{\"type\":\"object\",\"enabled\":false},\"id\":{\"type\":\"long\"},\"node\":{\"type\":\"keyword\"},\"parent_id\":{\"type\":\"keyword\"},\"running_time_in_nanos\":{\"type\":\"long\"},\"start_time_in_millis\":{\"type\":\"long\"},\"status\":{\"type\":\"object\",\"enabled\":false},\"type\":{\"type\":\"keyword\"}}}}}},\"settings\":{\"index\":{\"number_of_shards\":\"1\",\"auto_expand_replicas\":\"0-1\",\"provided_name\":\".tasks\",\"creation_date\":\"1597340969485\",\"priority\":\"2147483647\",\"number_of_replicas\":\"1\",\"uuid\":\"PoDSIql_Qe-cZKc25-Uv1A\",\"version\":{\"created\":\"6070299\"}}}}}\r\n        at __randomizedtesting.SeedInfo.seed([4FB66BD7A21D16AF:A2E0CA66AD9D734A]:0)\r\n        at org.elasticsearch.client.RestClient.convertResponse(RestClient.java:298)\r\n        at org.elasticsearch.client.RestClient.performRequest(RestClient.java:272)\r\n        at org.elasticsearch.client.RestClient.performRequest(RestClient.java:246)\r\n        at org.elasticsearch.upgrades.FullClusterRestartIT.lambda$testCreateSystemIndexInOldVersion$8(FullClusterRestartIT.java:1502)\r\n        at org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:939)\r\n        at org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:924)\r\n        at org.elasticsearch.upgrades.FullClusterRestartIT.testCreateSystemIndexInOldVersion(FullClusterRestartIT.java:1497)\r\n```\r\n\r\nReproduce:\r\n```\r\n./gradlew ':qa:full-cluster-restart:v6.7.2#oldClusterTest' --tests \"org.elasticsearch.upgrades.FullClusterRestartIT.testCreateSystemIndexInOldVersion\" -Dtests.seed=4FB66BD7A21D16AF -Dtests.security.manager=true -Dtests.locale=ar -Dtests.timezone=Australia/Lindeman -Druntime.java=8\r\n```","closed_by":{"login":"gwbrown","id":1522844,"node_id":"MDQ6VXNlcjE1MjI4NDQ=","avatar_url":"https://avatars1.githubusercontent.com/u/1522844?v=4","gravatar_id":"","url":"https://api.github.com/users/gwbrown","html_url":"https://github.com/gwbrown","followers_url":"https://api.github.com/users/gwbrown/followers","following_url":"https://api.github.com/users/gwbrown/following{/other_user}","gists_url":"https://api.github.com/users/gwbrown/gists{/gist_id}","starred_url":"https://api.github.com/users/gwbrown/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gwbrown/subscriptions","organizations_url":"https://api.github.com/users/gwbrown/orgs","repos_url":"https://api.github.com/users/gwbrown/repos","events_url":"https://api.github.com/users/gwbrown/events{/privacy}","received_events_url":"https://api.github.com/users/gwbrown/received_events","type":"User","site_admin":false},"performed_via_github_app":null}