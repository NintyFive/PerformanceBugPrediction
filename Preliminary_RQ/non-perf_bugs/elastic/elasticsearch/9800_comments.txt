[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/76496972","html_url":"https://github.com/elastic/elasticsearch/issues/9800#issuecomment-76496972","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9800","id":76496972,"node_id":"MDEyOklzc3VlQ29tbWVudDc2NDk2OTcy","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-02-28T00:15:25Z","updated_at":"2015-02-28T00:15:25Z","author_association":"CONTRIBUTOR","body":"yeah, i'm torn about it.  i think the idea of relaxed parsing was to make it less onerous to try things out from the command line with curl.  That said, with autocomplete tools like Sense available, it is much easier to type correct JSON.\n\nWe're certainly leaning towards being stricter, because it avoids silent errors.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/119124130","html_url":"https://github.com/elastic/elasticsearch/issues/9800#issuecomment-119124130","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9800","id":119124130,"node_id":"MDEyOklzc3VlQ29tbWVudDExOTEyNDEzMA==","user":{"login":"GlenRSmith","id":1327920,"node_id":"MDQ6VXNlcjEzMjc5MjA=","avatar_url":"https://avatars3.githubusercontent.com/u/1327920?v=4","gravatar_id":"","url":"https://api.github.com/users/GlenRSmith","html_url":"https://github.com/GlenRSmith","followers_url":"https://api.github.com/users/GlenRSmith/followers","following_url":"https://api.github.com/users/GlenRSmith/following{/other_user}","gists_url":"https://api.github.com/users/GlenRSmith/gists{/gist_id}","starred_url":"https://api.github.com/users/GlenRSmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GlenRSmith/subscriptions","organizations_url":"https://api.github.com/users/GlenRSmith/orgs","repos_url":"https://api.github.com/users/GlenRSmith/repos","events_url":"https://api.github.com/users/GlenRSmith/events{/privacy}","received_events_url":"https://api.github.com/users/GlenRSmith/received_events","type":"User","site_admin":false},"created_at":"2015-07-07T08:44:14Z","updated_at":"2015-07-07T08:44:14Z","author_association":"CONTRIBUTOR","body":"Maybe there should be a configuration to enforce strict json. If so, I think it would make most sense for the default behavior to be \"strict\", and have it over-ridden in es.yml in the distros. This would make it a little more likely, I think, that people would remember to change the config before deploying to production.\nEven with that modification, maybe in \"relaxed\" mode, ES should do what @jimmyjones2 suggests. There would be some performance overhead, but, if implemented properly, removing the \"json relaxed\" config would eliminate that.\nSo, where does the setting belong?\nMaybe something on \"index.\" which can be set on index creation. Or, come to think of it, something in the mapping, analogous to \"dynamic\". I'm hesitant to suggest something really literal, like \"require_quoted_keys\", because maybe there would be a future case for including other relaxations, like tolerating missing commas between key/value pairs.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/162224730","html_url":"https://github.com/elastic/elasticsearch/issues/9800#issuecomment-162224730","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9800","id":162224730,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjIyNDczMA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-12-05T17:21:19Z","updated_at":"2015-12-05T17:21:19Z","author_association":"CONTRIBUTOR","body":"Really this is just a setting in Jackson: https://github.com/elastic/elasticsearch/blob/master/core/src/main/java/org/elasticsearch/common/xcontent/json/JsonXContent.java#L46\n\nShould we allow this to be changed via settings, or even just require quoted field names?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/162242663","html_url":"https://github.com/elastic/elasticsearch/issues/9800#issuecomment-162242663","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9800","id":162242663,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjI0MjY2Mw==","user":{"login":"jimmyjones2","id":2991805,"node_id":"MDQ6VXNlcjI5OTE4MDU=","avatar_url":"https://avatars2.githubusercontent.com/u/2991805?v=4","gravatar_id":"","url":"https://api.github.com/users/jimmyjones2","html_url":"https://github.com/jimmyjones2","followers_url":"https://api.github.com/users/jimmyjones2/followers","following_url":"https://api.github.com/users/jimmyjones2/following{/other_user}","gists_url":"https://api.github.com/users/jimmyjones2/gists{/gist_id}","starred_url":"https://api.github.com/users/jimmyjones2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimmyjones2/subscriptions","organizations_url":"https://api.github.com/users/jimmyjones2/orgs","repos_url":"https://api.github.com/users/jimmyjones2/repos","events_url":"https://api.github.com/users/jimmyjones2/events{/privacy}","received_events_url":"https://api.github.com/users/jimmyjones2/received_events","type":"User","site_admin":false},"created_at":"2015-12-05T20:11:34Z","updated_at":"2015-12-05T20:11:34Z","author_association":"CONTRIBUTOR","body":"I'd vote for quoted by default, for one this behaviour wasted an hour of my life plus Elasticsearch sends the HTTP header `Content-Type: application/json` in the response, which is incorrect if quotes are missing.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/162247121","html_url":"https://github.com/elastic/elasticsearch/issues/9800#issuecomment-162247121","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9800","id":162247121,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjI0NzEyMQ==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2015-12-05T21:08:50Z","updated_at":"2015-12-05T21:08:50Z","author_association":"MEMBER","body":"I dont think we should make it configurable or possible, given that it is not part of the json spec, and it would tie us to a particular json library (jackson).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/162254172","html_url":"https://github.com/elastic/elasticsearch/issues/9800#issuecomment-162254172","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9800","id":162254172,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjI1NDE3Mg==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-12-05T22:36:12Z","updated_at":"2015-12-05T22:36:12Z","author_association":"CONTRIBUTOR","body":"Actually, the JSON spec requires double quotes around field names.  http://www.json.org/\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/162254255","html_url":"https://github.com/elastic/elasticsearch/issues/9800#issuecomment-162254255","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9800","id":162254255,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjI1NDI1NQ==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2015-12-05T22:38:31Z","updated_at":"2015-12-05T22:38:31Z","author_association":"MEMBER","body":"Exactly, my comment was meant to say the json spec does not allow the absence of quotes. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/162254314","html_url":"https://github.com/elastic/elasticsearch/issues/9800#issuecomment-162254314","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9800","id":162254314,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjI1NDMxNA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-12-05T22:39:50Z","updated_at":"2015-12-05T22:39:50Z","author_association":"CONTRIBUTOR","body":"But currently we accept JSON without quotes around field names, so changing this would be a breaking change.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/162254394","html_url":"https://github.com/elastic/elasticsearch/issues/9800#issuecomment-162254394","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9800","id":162254394,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjI1NDM5NA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-12-05T22:41:29Z","updated_at":"2015-12-05T22:41:29Z","author_association":"CONTRIBUTOR","body":"Honestly, i think the only thing it would break is JSON entered on the command line.  Any clients will be quoting fields correctly already.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/163364134","html_url":"https://github.com/elastic/elasticsearch/issues/9800#issuecomment-163364134","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9800","id":163364134,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MzM2NDEzNA==","user":{"login":"jimmyjones2","id":2991805,"node_id":"MDQ6VXNlcjI5OTE4MDU=","avatar_url":"https://avatars2.githubusercontent.com/u/2991805?v=4","gravatar_id":"","url":"https://api.github.com/users/jimmyjones2","html_url":"https://github.com/jimmyjones2","followers_url":"https://api.github.com/users/jimmyjones2/followers","following_url":"https://api.github.com/users/jimmyjones2/following{/other_user}","gists_url":"https://api.github.com/users/jimmyjones2/gists{/gist_id}","starred_url":"https://api.github.com/users/jimmyjones2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimmyjones2/subscriptions","organizations_url":"https://api.github.com/users/jimmyjones2/orgs","repos_url":"https://api.github.com/users/jimmyjones2/repos","events_url":"https://api.github.com/users/jimmyjones2/events{/privacy}","received_events_url":"https://api.github.com/users/jimmyjones2/received_events","type":"User","site_admin":false},"created_at":"2015-12-09T19:23:44Z","updated_at":"2015-12-09T19:23:44Z","author_association":"CONTRIBUTOR","body":"Would you accept a patch for 3.0 to change ALLOW_UNQUOTED_FIELD_NAMES to false?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/163370159","html_url":"https://github.com/elastic/elasticsearch/issues/9800#issuecomment-163370159","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9800","id":163370159,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MzM3MDE1OQ==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2015-12-09T19:46:37Z","updated_at":"2015-12-09T19:46:37Z","author_association":"MEMBER","body":"I'm +1 on changing Jackson to be strict (the `ALLOW_UNQUOTED_FIELD_NAMES` change), what do you think @clintongormley?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/163370264","html_url":"https://github.com/elastic/elasticsearch/issues/9800#issuecomment-163370264","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9800","id":163370264,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MzM3MDI2NA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2015-12-09T19:47:02Z","updated_at":"2015-12-09T19:47:02Z","author_association":"CONTRIBUTOR","body":"> Would you accept a patch for 3.0 to change ALLOW_UNQUOTED_FIELD_NAMES to false?\n\nYes please. Make sure to put it in the breaking changes list in \"migrate_3_0.asciidoc\". I'm working on reindex now which we could use to ease the pain of anyone who has invalid json in their index.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/221224054","html_url":"https://github.com/elastic/elasticsearch/issues/9800#issuecomment-221224054","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9800","id":221224054,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTIyNDA1NA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-05-24T10:05:41Z","updated_at":"2016-05-24T10:05:41Z","author_association":"CONTRIBUTOR","body":"Closed by #15351\n","performed_via_github_app":null}]