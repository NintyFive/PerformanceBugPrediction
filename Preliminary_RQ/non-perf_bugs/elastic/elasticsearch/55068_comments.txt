[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/612076215","html_url":"https://github.com/elastic/elasticsearch/issues/55068#issuecomment-612076215","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55068","id":612076215,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjA3NjIxNQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-04-10T15:22:11Z","updated_at":"2020-04-10T15:22:11Z","author_association":"COLLABORATOR","body":"Pinging @elastic/ml-core (:ml)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/612078142","html_url":"https://github.com/elastic/elasticsearch/issues/55068#issuecomment-612078142","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55068","id":612078142,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjA3ODE0Mg==","user":{"login":"dimitris-athanasiou","id":9351617,"node_id":"MDQ6VXNlcjkzNTE2MTc=","avatar_url":"https://avatars3.githubusercontent.com/u/9351617?v=4","gravatar_id":"","url":"https://api.github.com/users/dimitris-athanasiou","html_url":"https://github.com/dimitris-athanasiou","followers_url":"https://api.github.com/users/dimitris-athanasiou/followers","following_url":"https://api.github.com/users/dimitris-athanasiou/following{/other_user}","gists_url":"https://api.github.com/users/dimitris-athanasiou/gists{/gist_id}","starred_url":"https://api.github.com/users/dimitris-athanasiou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimitris-athanasiou/subscriptions","organizations_url":"https://api.github.com/users/dimitris-athanasiou/orgs","repos_url":"https://api.github.com/users/dimitris-athanasiou/repos","events_url":"https://api.github.com/users/dimitris-athanasiou/events{/privacy}","received_events_url":"https://api.github.com/users/dimitris-athanasiou/received_events","type":"User","site_admin":false},"created_at":"2020-04-10T15:26:42Z","updated_at":"2020-04-10T15:26:42Z","author_association":"CONTRIBUTOR","body":"Looking in the logs, this seems like when we called the stop request, we never received a response. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/612875672","html_url":"https://github.com/elastic/elasticsearch/issues/55068#issuecomment-612875672","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55068","id":612875672,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjg3NTY3Mg==","user":{"login":"dimitris-athanasiou","id":9351617,"node_id":"MDQ6VXNlcjkzNTE2MTc=","avatar_url":"https://avatars3.githubusercontent.com/u/9351617?v=4","gravatar_id":"","url":"https://api.github.com/users/dimitris-athanasiou","html_url":"https://github.com/dimitris-athanasiou","followers_url":"https://api.github.com/users/dimitris-athanasiou/followers","following_url":"https://api.github.com/users/dimitris-athanasiou/following{/other_user}","gists_url":"https://api.github.com/users/dimitris-athanasiou/gists{/gist_id}","starred_url":"https://api.github.com/users/dimitris-athanasiou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimitris-athanasiou/subscriptions","organizations_url":"https://api.github.com/users/dimitris-athanasiou/orgs","repos_url":"https://api.github.com/users/dimitris-athanasiou/repos","events_url":"https://api.github.com/users/dimitris-athanasiou/events{/privacy}","received_events_url":"https://api.github.com/users/dimitris-athanasiou/received_events","type":"User","site_admin":false},"created_at":"2020-04-13T12:19:16Z","updated_at":"2020-04-13T12:19:16Z","author_association":"CONTRIBUTOR","body":"Another failure:\r\n\r\n[Jenkings](https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+g1gc/943/console)\r\n[Build scan](https://gradle-enterprise.elastic.co/s/cfktbhvgf5cx2)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/613541990","html_url":"https://github.com/elastic/elasticsearch/issues/55068#issuecomment-613541990","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55068","id":613541990,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMzU0MTk5MA==","user":{"login":"danhermann","id":22777892,"node_id":"MDQ6VXNlcjIyNzc3ODky","avatar_url":"https://avatars0.githubusercontent.com/u/22777892?v=4","gravatar_id":"","url":"https://api.github.com/users/danhermann","html_url":"https://github.com/danhermann","followers_url":"https://api.github.com/users/danhermann/followers","following_url":"https://api.github.com/users/danhermann/following{/other_user}","gists_url":"https://api.github.com/users/danhermann/gists{/gist_id}","starred_url":"https://api.github.com/users/danhermann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danhermann/subscriptions","organizations_url":"https://api.github.com/users/danhermann/orgs","repos_url":"https://api.github.com/users/danhermann/repos","events_url":"https://api.github.com/users/danhermann/events{/privacy}","received_events_url":"https://api.github.com/users/danhermann/received_events","type":"User","site_admin":false},"created_at":"2020-04-14T16:23:48Z","updated_at":"2020-04-14T16:23:48Z","author_association":"MEMBER","body":"Seeing this pretty frequently on PR build checks, too. [[Example](https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+pull-request-2/21685/testReport/junit/org.elasticsearch.xpack.ml.integration/RunDataFrameAnalyticsIT/testOutlierDetectionStopAndRestart/)]","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/614466905","html_url":"https://github.com/elastic/elasticsearch/issues/55068#issuecomment-614466905","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55068","id":614466905,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDQ2NjkwNQ==","user":{"login":"dimitris-athanasiou","id":9351617,"node_id":"MDQ6VXNlcjkzNTE2MTc=","avatar_url":"https://avatars3.githubusercontent.com/u/9351617?v=4","gravatar_id":"","url":"https://api.github.com/users/dimitris-athanasiou","html_url":"https://github.com/dimitris-athanasiou","followers_url":"https://api.github.com/users/dimitris-athanasiou/followers","following_url":"https://api.github.com/users/dimitris-athanasiou/following{/other_user}","gists_url":"https://api.github.com/users/dimitris-athanasiou/gists{/gist_id}","starred_url":"https://api.github.com/users/dimitris-athanasiou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimitris-athanasiou/subscriptions","organizations_url":"https://api.github.com/users/dimitris-athanasiou/orgs","repos_url":"https://api.github.com/users/dimitris-athanasiou/repos","events_url":"https://api.github.com/users/dimitris-athanasiou/events{/privacy}","received_events_url":"https://api.github.com/users/dimitris-athanasiou/received_events","type":"User","site_admin":false},"created_at":"2020-04-16T07:29:58Z","updated_at":"2020-04-16T07:29:58Z","author_association":"CONTRIBUTOR","body":"This failure contains the enabled logging:\r\n\r\n[Jenkins](https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+multijob+fast+part2/5039/console)\r\n[Build scan](https://gradle-enterprise.elastic.co/s/dj3too26aegue)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/614515592","html_url":"https://github.com/elastic/elasticsearch/issues/55068#issuecomment-614515592","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55068","id":614515592,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDUxNTU5Mg==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2020-04-16T09:02:05Z","updated_at":"2020-04-16T09:02:05Z","author_association":"MEMBER","body":"Several failures of this on 7.x today still (e.g. https://gradle-enterprise.elastic.co/s/2ibkyjph3fkum) but looks like PR is pending, so keeping it unmuted for now.\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/614662589","html_url":"https://github.com/elastic/elasticsearch/issues/55068#issuecomment-614662589","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55068","id":614662589,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDY2MjU4OQ==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2020-04-16T13:45:30Z","updated_at":"2020-04-16T13:45:30Z","author_association":"MEMBER","body":"Sorry, need to reopen this at least for 7.x, there still similar looking failures although the branch should contain the fix PR.\r\ne.g.  https://gradle-enterprise.elastic.co/s/c7hhi3j24h7o6\r\n\r\nhas:\r\n```\r\norg.elasticsearch.xpack.ml.integration.RunDataFrameAnalyticsIT > testOutlierDetectionStopAndRestart FAILED\r\n    java.lang.Exception: Test abandoned because suite timeout was reached.\r\n        at __randomizedtesting.SeedInfo.seed([976F90FC40186C5D]:0)\r\nREPRODUCE WITH: ./gradlew ':x-pack:plugin:ml:qa:native-multi-node-tests:integTestRunner' --tests \"org.elasticsearch.xpack.ml.integration.RunDataFrameAnalyticsIT.testOutlierDetectionStopAndRestart\" -Dtests.seed=976F90FC40186C5D -Dtests.security.manager=true -Dtests.locale=ar -Dtests.timezone=America/Guyana -Dcompiler.java=14\r\n\r\norg.elasticsearch.xpack.ml.integration.RunDataFrameAnalyticsIT > classMethod FAILED\r\n    java.lang.Exception: Suite timeout exceeded (>= 1200000 msec).\r\n        at __randomizedtesting.SeedInfo.seed([976F90FC40186C5D]:0)\r\n```\r\n\r\nand subsequent tests seem to fail as a result with active tasks like:\r\n```\r\norg.elasticsearch.xpack.ml.integration.MlJobIT > testMultiIndexDelete FAILED\r\n    java.lang.AssertionError: 2 active tasks found:\r\n```\r\n\r\nThere's at least another instance where it looks like a different test times out (ClassificationIT > testStopAndRestart). Unsure if thats related:\r\n```\r\norg.elasticsearch.xpack.ml.integration.ClassificationIT > testStopAndRestart FAILED\r\n    java.lang.Exception: Test abandoned because suite timeout was reached.\r\n        at __randomizedtesting.SeedInfo.seed([62320D5F6614A93E]:0)\r\nREPRODUCE WITH: ./gradlew ':x-pack:plugin:ml:qa:native-multi-node-tests:integTestRunner' --tests \"org.elasticsearch.xpack.ml.integration.ClassificationIT.testStopAndRestart\" -Dtests.seed=62320D5F6614A93E -Dtests.security.manager=true -Dtests.locale=fr-BE -Dtests.timezone=Asia/Rangoon -Dcompiler.java=14\r\n```\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/614664677","html_url":"https://github.com/elastic/elasticsearch/issues/55068#issuecomment-614664677","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55068","id":614664677,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDY2NDY3Nw==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2020-04-16T13:48:59Z","updated_at":"2020-04-16T13:48:59Z","author_association":"MEMBER","body":"And another one with the timeout in \"ClassificationIT#testStopAndRestart\" on 7.x (https://gradle-enterprise.elastic.co/s/gjwd353mcaxjc)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/614666860","html_url":"https://github.com/elastic/elasticsearch/issues/55068#issuecomment-614666860","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55068","id":614666860,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDY2Njg2MA==","user":{"login":"benwtrent","id":4357155,"node_id":"MDQ6VXNlcjQzNTcxNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/4357155?v=4","gravatar_id":"","url":"https://api.github.com/users/benwtrent","html_url":"https://github.com/benwtrent","followers_url":"https://api.github.com/users/benwtrent/followers","following_url":"https://api.github.com/users/benwtrent/following{/other_user}","gists_url":"https://api.github.com/users/benwtrent/gists{/gist_id}","starred_url":"https://api.github.com/users/benwtrent/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benwtrent/subscriptions","organizations_url":"https://api.github.com/users/benwtrent/orgs","repos_url":"https://api.github.com/users/benwtrent/repos","events_url":"https://api.github.com/users/benwtrent/events{/privacy}","received_events_url":"https://api.github.com/users/benwtrent/received_events","type":"User","site_admin":false},"created_at":"2020-04-16T13:52:07Z","updated_at":"2020-04-16T13:52:07Z","author_association":"MEMBER","body":"The logs tell an incomplete, but compelling story. This is for `test_outlier_detection_stop_and_restart`\r\n\r\nNode hit for API calls I think\r\n```\r\n[2020-04-16T12:20:53,867][DEBUG][o.e.x.m.a.TransportGetDataFrameAnalyticsStatsAction] [integTest-0] Get stats for data frame analytics [test_outlier_detection_stop_and_restart]\r\n...\r\n[2020-04-16T12:20:53,947][DEBUG][o.e.x.m.a.TransportGetDataFrameAnalyticsStatsAction] [integTest-0] Get stats for data frame analytics [test_outlier_detection_stop_and_restart]\r\n...\r\n[2020-04-16T12:20:54,043][INFO ][o.e.c.m.MetadataCreateIndexService] [integTest-0] [test-outlier-detection-stop-and-restart-results] creating index, cause [api], templates [random_index_template], shards [10]/[0], mappings [_doc]\r\n...\r\n[2020-04-16T12:20:54,084][DEBUG][o.e.x.m.a.TransportStopDataFrameAnalyticsAction] [integTest-0] Received request to stop data frame analytics [test_outlier_detection_stop_and_restart]\r\n...\r\n[2020-04-16T12:20:54,095][DEBUG][o.e.x.m.a.TransportStopDataFrameAnalyticsAction] [integTest-0] Resolved data frame analytics to stop: [test_outlier_detection_stop_and_restart]\r\n...\r\n[2020-04-16T12:20:54,385][INFO ][o.e.c.r.a.AllocationService] [integTest-0] Cluster health status changed from [YELLOW] to [GREEN] (reason: [shards started [[.ml-config][8]]]).\r\n```\r\n\r\nNode running the task\r\n```\r\n[2020-04-16T12:20:53,786][INFO ][o.e.x.m.a.TransportStartDataFrameAnalyticsAction] [integTest-2] [test_outlier_detection_stop_and_restart] Starting data frame analytics\r\n...\r\n[2020-04-16T12:20:53,839][DEBUG][o.e.x.m.a.TransportGetDataFrameAnalyticsStatsAction] [integTest-2] Get stats for running task [test_outlier_detection_stop_and_restart]\r\n[2020-04-16T12:20:53,852][DEBUG][o.e.x.m.a.TransportGetDataFrameAnalyticsStatsAction] [integTest-2] Get stats for data frame analytics [test_outlier_detection_stop_and_restart]\r\n[2020-04-16T12:20:53,862][DEBUG][o.e.x.m.a.TransportGetDataFrameAnalyticsStatsAction] [integTest-2] Get stats for running task [test_outlier_detection_stop_and_restart]\r\n...\r\n[2020-04-16T12:20:53,896][DEBUG][o.e.x.m.a.TransportGetDataFrameAnalyticsStatsAction] [integTest-2] Get stats for running task [test_outlier_detection_stop_and_restart]\r\n[2020-04-16T12:20:53,907][DEBUG][o.e.x.m.a.TransportGetDataFrameAnalyticsStatsAction] [integTest-2] Get stats for data frame analytics [test_outlier_detection_stop_and_restart]\r\n[2020-04-16T12:20:53,928][DEBUG][o.e.x.m.a.TransportGetDataFrameAnalyticsStatsAction] [integTest-2] Get stats for running task [test_outlier_detection_stop_and_restart]\r\n...\r\n[2020-04-16T12:20:53,955][DEBUG][o.e.x.m.a.TransportGetDataFrameAnalyticsStatsAction] [integTest-2] Get stats for running task [test_outlier_detection_stop_and_restart]\r\n...\r\n[2020-04-16T12:20:53,986][DEBUG][o.e.x.m.d.DataFrameAnalyticsTask] [integTest-2] [test_outlier_detection_stop_and_restart] Last incomplete progress [reindexing, 0]\r\n[2020-04-16T12:20:53,987][DEBUG][o.e.x.m.d.DataFrameAnalyticsManager] [integTest-2] [test_outlier_detection_stop_and_restart] Starting job from state [FIRST_TIME]\r\n...\r\n[2020-04-16T12:20:54,001][DEBUG][o.e.x.m.a.TransportGetDataFrameAnalyticsStatsAction] [integTest-2] Get stats for running task [test_outlier_detection_stop_and_restart]\r\n...\r\n[2020-04-16T12:20:54,023][INFO ][o.e.x.m.d.DataFrameAnalyticsManager] [integTest-2] [test_outlier_detection_stop_and_restart] Creating destination index [test-outlier-detection-stop-and-restart-results]\r\n...\r\n[2020-04-16T12:20:54,068][DEBUG][o.e.x.m.a.TransportGetDataFrameAnalyticsStatsAction] [integTest-2] Get stats for data frame analytics [test_outlier_detection_stop_and_restart]\r\n[2020-04-16T12:20:54,078][DEBUG][o.e.x.m.a.TransportGetDataFrameAnalyticsStatsAction] [integTest-2] Get stats for running task [test_outlier_detection_stop_and_restart]\r\n...\r\n[2020-04-16T12:20:54,130][INFO ][o.e.x.m.d.DataFrameAnalyticsManager] [integTest-2] [test_outlier_detection_stop_and_restart] Started reindexing\r\n[2020-04-16T12:20:54,138][DEBUG][o.e.x.m.d.DataFrameAnalyticsTask] [integTest-2] [test_outlier_detection_stop_and_restart] Setting reindexing task id to [6459] from [null]\r\n[2020-04-16T12:20:54,144][INFO ][o.e.x.m.a.TransportStopDataFrameAnalyticsAction] [integTest-2] [test_outlier_detection_stop_and_restart] Stopping task with force [false]\r\n[2020-04-16T12:20:54,147][DEBUG][o.e.x.m.d.DataFrameAnalyticsTask] [integTest-2] [test_outlier_detection_stop_and_restart] Cancelling reindex task [IPiZjLyCQYCJJSqRsEjQAw:6459]\r\n[2020-04-16T12:20:54,155][DEBUG][o.e.x.m.d.DataFrameAnalyticsTask] [integTest-2] [test_outlier_detection_stop_and_restart] Reindex task was successfully cancelled\r\n[2020-04-16T12:20:54,155][DEBUG][o.e.x.m.d.p.AnalyticsProcessManager] [integTest-2] [test_outlier_detection_stop_and_restart] No process context to stop\r\n[2020-04-16T12:20:54,162][WARN ][o.e.x.s.a.AuthorizationService] [integTest-2] denying access as action [internal:admin/tasks/ban] is not an index or cluster action\r\n...\r\n[2020-04-16T12:20:54,181][INFO ][o.e.x.m.d.DataFrameAnalyticsTask] [integTest-2] [test_outlier_detection_stop_and_restart] Updated analytics task state to [failed] with reason [Partial shards failure]\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/614672912","html_url":"https://github.com/elastic/elasticsearch/issues/55068#issuecomment-614672912","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55068","id":614672912,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDY3MjkxMg==","user":{"login":"benwtrent","id":4357155,"node_id":"MDQ6VXNlcjQzNTcxNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/4357155?v=4","gravatar_id":"","url":"https://api.github.com/users/benwtrent","html_url":"https://github.com/benwtrent","followers_url":"https://api.github.com/users/benwtrent/followers","following_url":"https://api.github.com/users/benwtrent/following{/other_user}","gists_url":"https://api.github.com/users/benwtrent/gists{/gist_id}","starred_url":"https://api.github.com/users/benwtrent/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benwtrent/subscriptions","organizations_url":"https://api.github.com/users/benwtrent/orgs","repos_url":"https://api.github.com/users/benwtrent/repos","events_url":"https://api.github.com/users/benwtrent/events{/privacy}","received_events_url":"https://api.github.com/users/benwtrent/received_events","type":"User","site_admin":false},"created_at":"2020-04-16T14:02:35Z","updated_at":"2020-04-16T14:09:35Z","author_association":"MEMBER","body":"ClassificationIT logs are different. For some reason, the logs of the two nodes seem an hour apart :/. I looked at the `12:33:*` timeframe for all three nodes, and only one had logs that were interesting.\r\n\r\nNode running task:\r\n```\r\n[2020-04-16T12:33:48,959][INFO ][o.e.c.m.MetadataCreateIndexService] [integTest-0] [classification_stop_and_restart_source_index] creating index, cause [api], templates [random_index_template], shards [5]/[0], mappings [_doc]\r\n...\r\n[2020-04-16T12:33:49,066][INFO ][o.e.c.r.a.AllocationService] [integTest-0] Cluster health status changed from [YELLOW] to [GREEN] (reason: [shards started [[classification_stop_and_restart_source_index][0]]]).\r\n...\r\n[2020-04-16T12:33:49,149][INFO ][o.e.c.m.MetadataCreateIndexService] [integTest-0] applying create index request using v1 templates [org.elasticsearch.cluster.metadata.IndexTemplateMetadata@e1795d5c, org.elasticsearch.cluster.metadata.IndexTemplateMetadata@5c72a2eb]\r\n[2020-04-16T12:33:49,160][INFO ][o.e.c.m.MetadataCreateIndexService] [integTest-0] [.ml-config] creating index, cause [auto(bulk api)], templates [.ml-config, random_index_template], shards [1]/[0], mappings [_doc]\r\n[2020-04-16T12:33:49,160][INFO ][o.e.c.r.a.AllocationService] [integTest-0] updating number_of_replicas to [1] for indices [.ml-config]\r\n...\r\n[2020-04-16T12:33:49,206][INFO ][o.e.c.m.MetadataCreateIndexService] [integTest-0] [.ml-annotations-6] creating index, cause [api], templates [], shards [1]/[1], mappings [_doc]\r\n...\r\n[2020-04-16T12:33:49,343][INFO ][o.e.x.m.MlInitializationService] [integTest-0] Created ML annotations index and aliases\r\n[2020-04-16T12:33:49,360][INFO ][o.e.c.m.MetadataMappingService] [integTest-0] [.ml-config/G-1A-Oy9SD-OX1ShkR_5DQ] update_mapping [_doc]\r\n...\r\n[2020-04-16T12:33:49,460][INFO ][o.e.c.m.MetadataCreateIndexService] [integTest-0] [.ml-notifications-000001] creating index, cause [auto(bulk api)], templates [.ml-notifications-000001], shards [1]/[1], mappings [_doc]\r\n...\r\n[2020-04-16T12:33:49,680][INFO ][o.e.c.r.a.AllocationService] [integTest-0] Cluster health status changed from [YELLOW] to [GREEN] (reason: [shards started [[.ml-notifications-000001][0]]]).\r\n...\r\n[2020-04-16T12:33:50,044][INFO ][o.e.x.m.a.TransportStartDataFrameAnalyticsAction] [integTest-0] [classification_stop_and_restart] Starting data frame analytics\r\n...\r\n[2020-04-16T12:33:50,080][INFO ][o.e.c.m.MetadataCreateIndexService] [integTest-0] [.ml-state-000001] creating index, cause [api], templates [.ml-state], shards [1]/[1], mappings [_doc]\r\n...\r\n[2020-04-16T12:33:50,176][INFO ][o.e.c.m.MetadataCreateIndexService] [integTest-0] [.ml-stats-000001] creating index, cause [api], templates [.ml-stats], shards [1]/[1], mappings [_doc]\r\n...\r\n[2020-04-16T12:33:50,358][INFO ][o.e.x.m.d.DataFrameAnalyticsManager] [integTest-0] [classification_stop_and_restart] Creating destination index [classification_stop_and_restart_source_index_results]\r\n...\r\n[2020-04-16T12:33:50,497][INFO ][o.e.c.r.a.AllocationService] [integTest-0] Cluster health status changed from [YELLOW] to [GREEN] (reason: [shards started [[classification_stop_and_restart_source_index_results][0]]]).\r\n...\r\n[2020-04-16T12:33:50,520][INFO ][o.e.x.m.d.DataFrameAnalyticsManager] [integTest-0] [classification_stop_and_restart] Started reindexing\r\n...\r\n[2020-04-16T12:33:50,563][INFO ][o.e.x.m.a.TransportStopDataFrameAnalyticsAction] [integTest-0] [classification_stop_and_restart] Stopping task with force [false]\r\n<After test cleanup>\r\n[2020-04-16T12:53:36,398][INFO ][o.e.c.m.MetadataDeleteIndexService] [integTest-0] [classification_stop_and_restart_source_index_results/HmuvqDC8RvazwdUG5CwSzA] deleting index\r\n...\r\n```\r\n\r\nNode making API calls. These logs for some reason are an hour ahead (see time frames above for 12:33:48)\r\n```\r\n[2020-04-16T13:22:54,895][INFO ][o.e.x.m.a.TransportStartDataFrameAnalyticsAction] [integTest-2] [classification_stop_and_restart] Starting data frame analytics\r\n...\r\n[2020-04-16T13:23:08,140][ERROR][o.e.x.m.d.DataFrameAnalyticsTask] [integTest-2] [classification_stop_and_restart] cannot persist progress as an error occurred while retrieving stats\r\norg.elasticsearch.ResourceNotFoundException: No known data frame analytics with id [classification_stop_and_restart]\r\n\tat org.elasticsearch.xpack.core.ml.utils.ExceptionsHelper.missingDataFrameAnalytics(ExceptionsHelper.java:39) ~[?:?]\r\n\tat org.elasticsearch.xpack.ml.action.TransportGetDataFrameAnalyticsAction.notFoundException(TransportGetDataFrameAnalyticsAction.java:56) ~[?:?]\r\n\tat org.elasticsearch.xpack.core.action.AbstractTransportGetResourcesAction$1.onResponse(AbstractTransportGetResourcesAction.java:122) ~[?:?]\r\n\tat org.elasticsearch.xpack.core.action.AbstractTransportGetResourcesAction$1.onResponse(AbstractTransportGetResourcesAction.java:97) ~[?:?]\r\n\tat org.elasticsearch.action.support.ContextPreservingActionListener.onResponse(ContextPreservingActionListener.java:43) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.support.TransportAction$1.onResponse(TransportAction.java:83) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.support.TransportAction$1.onResponse(TransportAction.java:76) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.support.ContextPreservingActionListener.onResponse(ContextPreservingActionListener.java:43) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.search.AbstractSearchAsyncAction.start(AbstractSearchAsyncAction.java:165) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.search.TransportSearchAction.executeSearch(TransportSearchAction.java:518) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.search.TransportSearchAction.executeLocalSearch(TransportSearchAction.java:403) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.search.TransportSearchAction.lambda$doExecute$3(TransportSearchAction.java:213) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.index.query.Rewriteable.rewriteAndFetch(Rewriteable.java:114) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.index.query.Rewriteable.rewriteAndFetch(Rewriteable.java:87) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.search.TransportSearchAction.doExecute(TransportSearchAction.java:244) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.search.TransportSearchAction.doExecute(TransportSearchAction.java:88) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:168) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.support.ActionFilter$Simple.apply(ActionFilter.java:53) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:166) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.lambda$apply$0(SecurityActionFilter.java:86) ~[?:?]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.lambda$authorizeRequest$4(SecurityActionFilter.java:172) ~[?:?]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.lambda$runRequestInterceptors$15(AuthorizationService.java:351) ~[?:?]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.ListenableFuture$1.doRun(ListenableFuture.java:112) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.EsExecutors$DirectExecutorService.execute(EsExecutors.java:226) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.ListenableFuture.notifyListener(ListenableFuture.java:106) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.ListenableFuture.lambda$done$0(ListenableFuture.java:98) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1257) ~[?:1.8.0_241]\r\n\tat org.elasticsearch.common.util.concurrent.ListenableFuture.done(ListenableFuture.java:98) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.BaseFuture.set(BaseFuture.java:144) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.ListenableFuture.onResponse(ListenableFuture.java:127) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.StepListener.innerOnResponse(StepListener.java:62) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.NotifyOnceListener.onResponse(NotifyOnceListener.java:40) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authz.interceptor.FieldAndDocumentLevelSecurityRequestInterceptor.intercept(FieldAndDocumentLevelSecurityRequestInterceptor.java:61) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.interceptor.SearchRequestInterceptor.intercept(SearchRequestInterceptor.java:19) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.lambda$runRequestInterceptors$14(AuthorizationService.java:346) ~[?:?]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.ListenableFuture$1.doRun(ListenableFuture.java:112) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.EsExecutors$DirectExecutorService.execute(EsExecutors.java:226) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.ListenableFuture.notifyListener(ListenableFuture.java:106) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.ListenableFuture.lambda$done$0(ListenableFuture.java:98) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1257) ~[?:1.8.0_241]\r\n\tat org.elasticsearch.common.util.concurrent.ListenableFuture.done(ListenableFuture.java:98) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.BaseFuture.set(BaseFuture.java:144) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.ListenableFuture.onResponse(ListenableFuture.java:127) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.StepListener.innerOnResponse(StepListener.java:62) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.NotifyOnceListener.onResponse(NotifyOnceListener.java:40) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authz.interceptor.FieldAndDocumentLevelSecurityRequestInterceptor.intercept(FieldAndDocumentLevelSecurityRequestInterceptor.java:61) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.interceptor.UpdateRequestInterceptor.intercept(UpdateRequestInterceptor.java:23) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.lambda$runRequestInterceptors$14(AuthorizationService.java:346) ~[?:?]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.ListenableFuture$1.doRun(ListenableFuture.java:112) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.EsExecutors$DirectExecutorService.execute(EsExecutors.java:226) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.ListenableFuture.notifyListener(ListenableFuture.java:106) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.ListenableFuture.lambda$done$0(ListenableFuture.java:98) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1257) ~[?:1.8.0_241]\r\n\tat org.elasticsearch.common.util.concurrent.ListenableFuture.done(ListenableFuture.java:98) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.BaseFuture.set(BaseFuture.java:144) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.ListenableFuture.onResponse(ListenableFuture.java:127) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.StepListener.innerOnResponse(StepListener.java:62) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.NotifyOnceListener.onResponse(NotifyOnceListener.java:40) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authz.interceptor.ResizeRequestInterceptor.intercept(ResizeRequestInterceptor.java:84) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.lambda$runRequestInterceptors$14(AuthorizationService.java:346) ~[?:?]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.ListenableFuture$1.doRun(ListenableFuture.java:112) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.EsExecutors$DirectExecutorService.execute(EsExecutors.java:226) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.ListenableFuture.notifyListener(ListenableFuture.java:106) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.ListenableFuture.lambda$done$0(ListenableFuture.java:98) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1257) ~[?:1.8.0_241]\r\n\tat org.elasticsearch.common.util.concurrent.ListenableFuture.done(ListenableFuture.java:98) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.BaseFuture.set(BaseFuture.java:144) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.ListenableFuture.onResponse(ListenableFuture.java:127) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.StepListener.innerOnResponse(StepListener.java:62) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.NotifyOnceListener.onResponse(NotifyOnceListener.java:40) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authz.interceptor.BulkShardRequestInterceptor.intercept(BulkShardRequestInterceptor.java:71) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.lambda$runRequestInterceptors$14(AuthorizationService.java:346) ~[?:?]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.ListenableFuture$1.doRun(ListenableFuture.java:112) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.EsExecutors$DirectExecutorService.execute(EsExecutors.java:226) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.ListenableFuture.notifyListener(ListenableFuture.java:106) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.ListenableFuture.lambda$done$0(ListenableFuture.java:98) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1257) ~[?:1.8.0_241]\r\n\tat org.elasticsearch.common.util.concurrent.ListenableFuture.done(ListenableFuture.java:98) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.BaseFuture.set(BaseFuture.java:144) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.ListenableFuture.onResponse(ListenableFuture.java:127) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.StepListener.innerOnResponse(StepListener.java:62) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.NotifyOnceListener.onResponse(NotifyOnceListener.java:40) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authz.interceptor.IndicesAliasesRequestInterceptor.intercept(IndicesAliasesRequestInterceptor.java:104) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.runRequestInterceptors(AuthorizationService.java:352) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.handleIndexActionAuthorizationResult(AuthorizationService.java:329) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.lambda$authorizeAction$9(AuthorizationService.java:270) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService$AuthorizationResultListener.onResponse(AuthorizationService.java:626) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService$AuthorizationResultListener.onResponse(AuthorizationService.java:601) ~[?:?]\r\n\tat org.elasticsearch.action.support.ContextPreservingActionListener.onResponse(ContextPreservingActionListener.java:43) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authz.RBACEngine.authorizeIndexActionName(RBACEngine.java:330) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.RBACEngine.lambda$authorizeIndexAction$2(RBACEngine.java:296) ~[?:?]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService$CachingAsyncSupplier.lambda$getAsync$0(AuthorizationService.java:663) ~[?:?]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.resolveIndexNames(AuthorizationService.java:564) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.lambda$authorizeAction$6(AuthorizationService.java:258) ~[?:?]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService$CachingAsyncSupplier.lambda$getAsync$0(AuthorizationService.java:663) ~[?:?]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authz.RBACEngine.loadAuthorizedIndices(RBACEngine.java:345) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.lambda$authorizeAction$5(AuthorizationService.java:254) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService$CachingAsyncSupplier.getAsync(AuthorizationService.java:661) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.lambda$authorizeAction$8(AuthorizationService.java:257) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService$CachingAsyncSupplier.getAsync(AuthorizationService.java:661) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.RBACEngine.authorizeIndexAction(RBACEngine.java:289) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.authorizeAction(AuthorizationService.java:268) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.maybeAuthorizeRunAs(AuthorizationService.java:233) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.lambda$authorize$1(AuthorizationService.java:198) ~[?:?]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.support.ContextPreservingActionListener.onResponse(ContextPreservingActionListener.java:43) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authz.RBACEngine.lambda$resolveAuthorizationInfo$1(RBACEngine.java:121) ~[?:?]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authz.store.CompositeRolesStore.getRoles(CompositeRolesStore.java:209) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.RBACEngine.getRoles(RBACEngine.java:127) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.RBACEngine.resolveAuthorizationInfo(RBACEngine.java:115) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.authorize(AuthorizationService.java:200) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.authorizeRequest(SecurityActionFilter.java:172) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.lambda$applyInternal$3(SecurityActionFilter.java:158) ~[?:?]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.lambda$authenticateAsync$2(AuthenticationService.java:323) ~[x-pack-security-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.lambda$lookForExistingAuthentication$6(AuthenticationService.java:385) ~[x-pack-security-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.lookForExistingAuthentication(AuthenticationService.java:396) ~[x-pack-security-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.authenticateAsync(AuthenticationService.java:320) ~[x-pack-security-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.access$000(AuthenticationService.java:261) ~[x-pack-security-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authc.AuthenticationService.authenticate(AuthenticationService.java:156) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.applyInternal(SecurityActionFilter.java:155) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.lambda$apply$2(SecurityActionFilter.java:100) ~[?:?]\r\n\tat org.elasticsearch.xpack.core.security.SecurityContext.executeAsUser(SecurityContext.java:127) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationUtils.switchUserBasedOnActionOriginAndExecute(AuthorizationUtils.java:121) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.apply(SecurityActionFilter.java:98) ~[?:?]\r\n\tat org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:166) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:144) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:76) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.client.node.NodeClient.executeLocally(NodeClient.java:83) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.client.node.NodeClient.doExecute(NodeClient.java:72) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:399) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.client.support.AbstractClient.search(AbstractClient.java:532) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.core.ClientHelper.executeAsyncWithOrigin(ClientHelper.java:77) ~[?:?]\r\n\tat org.elasticsearch.xpack.core.action.AbstractTransportGetResourcesAction.searchResources(AbstractTransportGetResourcesAction.java:94) ~[?:?]\r\n\tat org.elasticsearch.xpack.ml.action.TransportGetDataFrameAnalyticsAction.doExecute(TransportGetDataFrameAnalyticsAction.java:62) ~[?:?]\r\n\tat org.elasticsearch.xpack.ml.action.TransportGetDataFrameAnalyticsAction.doExecute(TransportGetDataFrameAnalyticsAction.java:29) ~[?:?]\r\n\tat org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:168) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.support.ActionFilter$Simple.apply(ActionFilter.java:53) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:166) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.lambda$apply$0(SecurityActionFilter.java:86) ~[?:?]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.lambda$authorizeRequest$4(SecurityActionFilter.java:172) ~[?:?]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.lambda$authorizeAction$4(AuthorizationService.java:248) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService$AuthorizationResultListener.onResponse(AuthorizationService.java:626) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService$AuthorizationResultListener.onResponse(AuthorizationService.java:601) ~[?:?]\r\n\tat org.elasticsearch.action.support.ContextPreservingActionListener.onResponse(ContextPreservingActionListener.java:43) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authz.RBACEngine.authorizeClusterAction(RBACEngine.java:148) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.authorizeAction(AuthorizationService.java:250) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.maybeAuthorizeRunAs(AuthorizationService.java:233) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.lambda$authorize$1(AuthorizationService.java:198) ~[?:?]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.support.ContextPreservingActionListener.onResponse(ContextPreservingActionListener.java:43) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authz.RBACEngine.lambda$resolveAuthorizationInfo$1(RBACEngine.java:121) ~[?:?]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authz.store.CompositeRolesStore.getRoles(CompositeRolesStore.java:209) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.RBACEngine.getRoles(RBACEngine.java:127) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.RBACEngine.resolveAuthorizationInfo(RBACEngine.java:115) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.authorize(AuthorizationService.java:200) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.authorizeRequest(SecurityActionFilter.java:172) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.lambda$applyInternal$3(SecurityActionFilter.java:158) ~[?:?]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.lambda$authenticateAsync$2(AuthenticationService.java:323) ~[x-pack-security-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.lambda$lookForExistingAuthentication$6(AuthenticationService.java:385) ~[x-pack-security-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.lookForExistingAuthentication(AuthenticationService.java:396) ~[x-pack-security-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.authenticateAsync(AuthenticationService.java:320) ~[x-pack-security-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.access$000(AuthenticationService.java:261) ~[x-pack-security-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authc.AuthenticationService.authenticate(AuthenticationService.java:156) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.applyInternal(SecurityActionFilter.java:155) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.lambda$apply$2(SecurityActionFilter.java:100) ~[?:?]\r\n\tat org.elasticsearch.xpack.core.security.SecurityContext.executeAsUser(SecurityContext.java:127) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationUtils.switchUserBasedOnActionOriginAndExecute(AuthorizationUtils.java:121) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.apply(SecurityActionFilter.java:98) ~[?:?]\r\n\tat org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:166) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:144) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:76) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.client.node.NodeClient.executeLocally(NodeClient.java:83) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.client.node.NodeClient.doExecute(NodeClient.java:72) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:399) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.core.ClientHelper.executeAsyncWithOrigin(ClientHelper.java:92) ~[?:?]\r\n\tat org.elasticsearch.xpack.ml.action.TransportGetDataFrameAnalyticsStatsAction.doExecute(TransportGetDataFrameAnalyticsStatsAction.java:163) ~[?:?]\r\n\tat org.elasticsearch.xpack.ml.action.TransportGetDataFrameAnalyticsStatsAction.doExecute(TransportGetDataFrameAnalyticsStatsAction.java:72) ~[?:?]\r\n\tat org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:168) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.support.ActionFilter$Simple.apply(ActionFilter.java:53) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:166) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.lambda$apply$0(SecurityActionFilter.java:86) ~[?:?]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.lambda$authorizeRequest$4(SecurityActionFilter.java:172) ~[?:?]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.lambda$authorizeAction$4(AuthorizationService.java:248) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService$AuthorizationResultListener.onResponse(AuthorizationService.java:626) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService$AuthorizationResultListener.onResponse(AuthorizationService.java:601) ~[?:?]\r\n\tat org.elasticsearch.action.support.ContextPreservingActionListener.onResponse(ContextPreservingActionListener.java:43) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authz.RBACEngine.authorizeClusterAction(RBACEngine.java:148) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.authorizeAction(AuthorizationService.java:250) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.maybeAuthorizeRunAs(AuthorizationService.java:233) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.lambda$authorize$1(AuthorizationService.java:198) ~[?:?]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.support.ContextPreservingActionListener.onResponse(ContextPreservingActionListener.java:43) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authz.RBACEngine.lambda$resolveAuthorizationInfo$1(RBACEngine.java:121) ~[?:?]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authz.store.CompositeRolesStore.getRoles(CompositeRolesStore.java:209) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.RBACEngine.getRoles(RBACEngine.java:127) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.RBACEngine.resolveAuthorizationInfo(RBACEngine.java:115) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.authorize(AuthorizationService.java:200) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.authorizeRequest(SecurityActionFilter.java:172) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.lambda$applyInternal$3(SecurityActionFilter.java:158) ~[?:?]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.lambda$authenticateAsync$2(AuthenticationService.java:323) ~[x-pack-security-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.lambda$lookForExistingAuthentication$6(AuthenticationService.java:385) ~[x-pack-security-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.lookForExistingAuthentication(AuthenticationService.java:396) ~[x-pack-security-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.authenticateAsync(AuthenticationService.java:320) ~[x-pack-security-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.access$000(AuthenticationService.java:261) ~[x-pack-security-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authc.AuthenticationService.authenticate(AuthenticationService.java:156) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.applyInternal(SecurityActionFilter.java:155) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.lambda$apply$2(SecurityActionFilter.java:100) ~[?:?]\r\n\tat org.elasticsearch.xpack.core.security.SecurityContext.executeAsUser(SecurityContext.java:127) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationUtils.switchUserBasedOnActionOriginAndExecute(AuthorizationUtils.java:121) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.apply(SecurityActionFilter.java:98) ~[?:?]\r\n\tat org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:166) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:144) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:76) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.client.node.NodeClient.executeLocally(NodeClient.java:83) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.client.node.NodeClient.doExecute(NodeClient.java:72) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:399) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.client.FilterClient.doExecute(FilterClient.java:65) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.client.ParentTaskAssigningClient.doExecute(ParentTaskAssigningClient.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:399) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.core.ClientHelper.executeAsyncWithOrigin(ClientHelper.java:92) ~[?:?]\r\n\tat org.elasticsearch.xpack.ml.dataframe.DataFrameAnalyticsTask.persistProgress(DataFrameAnalyticsTask.java:336) ~[?:?]\r\n\tat org.elasticsearch.xpack.ml.dataframe.DataFrameAnalyticsTask.markAsCompleted(DataFrameAnalyticsTask.java:133) ~[?:?]\r\n\tat org.elasticsearch.xpack.ml.dataframe.DataFrameAnalyticsTask.onCancelled(DataFrameAnalyticsTask.java:110) ~[?:?]\r\n\tat org.elasticsearch.tasks.CancellableTask.cancel(CancellableTask.java:46) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.tasks.TaskManager$CancellableTaskHolder.cancel(TaskManager.java:463) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.tasks.TaskManager.cancel(TaskManager.java:169) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.admin.cluster.node.tasks.cancel.TransportCancelTasksAction.cancelTaskAndDescendants(TransportCancelTasksAction.java:138) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.admin.cluster.node.tasks.cancel.TransportCancelTasksAction.taskOperation(TransportCancelTasksAction.java:109) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.admin.cluster.node.tasks.cancel.TransportCancelTasksAction.taskOperation(TransportCancelTasksAction.java:61) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.support.tasks.TransportTasksAction.nodeOperation(TransportTasksAction.java:144) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.support.tasks.TransportTasksAction.access$900(TransportTasksAction.java:64) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.support.tasks.TransportTasksAction$NodeTransportHandler.messageReceived(TransportTasksAction.java:330) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.support.tasks.TransportTasksAction$NodeTransportHandler.messageReceived(TransportTasksAction.java:326) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.transport.SecurityServerTransportInterceptor$ProfileSecuredRequestHandler$1.doRun(SecurityServerTransportInterceptor.java:257) ~[?:?]\r\n\tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.EsExecutors$DirectExecutorService.execute(EsExecutors.java:226) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.transport.SecurityServerTransportInterceptor$ProfileSecuredRequestHandler.lambda$messageReceived$0(SecurityServerTransportInterceptor.java:306) ~[?:?]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.lambda$authorizeAction$4(AuthorizationService.java:248) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService$AuthorizationResultListener.onResponse(AuthorizationService.java:626) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService$AuthorizationResultListener.onResponse(AuthorizationService.java:601) ~[?:?]\r\n\tat org.elasticsearch.action.support.ContextPreservingActionListener.onResponse(ContextPreservingActionListener.java:43) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authz.RBACEngine.authorizeClusterAction(RBACEngine.java:148) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.authorizeAction(AuthorizationService.java:250) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.maybeAuthorizeRunAs(AuthorizationService.java:233) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.lambda$authorize$1(AuthorizationService.java:198) ~[?:?]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.action.support.ContextPreservingActionListener.onResponse(ContextPreservingActionListener.java:43) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authz.RBACEngine.lambda$resolveAuthorizationInfo$1(RBACEngine.java:121) ~[?:?]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authz.store.CompositeRolesStore.getRoles(CompositeRolesStore.java:209) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.RBACEngine.getRoles(RBACEngine.java:127) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.RBACEngine.resolveAuthorizationInfo(RBACEngine.java:115) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.authz.AuthorizationService.authorize(AuthorizationService.java:200) ~[?:?]\r\n\tat org.elasticsearch.xpack.security.transport.ServerTransportFilter$NodeProfile.lambda$inbound$1(ServerTransportFilter.java:129) ~[?:?]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63) ~[elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.lambda$authenticateAsync$2(AuthenticationService.java:323) ~[x-pack-security-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.lambda$lookForExistingAuthentication$6(AuthenticationService.java:385) ~[x-pack-security-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.lookForExistingAuthentication(AuthenticationService.java:396) [x-pack-security-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.authenticateAsync(AuthenticationService.java:320) [x-pack-security-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.access$000(AuthenticationService.java:261) [x-pack-security-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.authc.AuthenticationService.authenticate(AuthenticationService.java:173) [x-pack-security-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.transport.ServerTransportFilter$NodeProfile.inbound(ServerTransportFilter.java:120) [x-pack-security-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.xpack.security.transport.SecurityServerTransportInterceptor$ProfileSecuredRequestHandler.messageReceived(SecurityServerTransportInterceptor.java:313) [x-pack-security-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:63) [elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.transport.TransportService$8.doRun(TransportService.java:799) [elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:695) [elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) [elasticsearch-7.8.0-SNAPSHOT.jar:7.8.0-SNAPSHOT]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_241]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_241]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_241]\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/617004897","html_url":"https://github.com/elastic/elasticsearch/issues/55068#issuecomment-617004897","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55068","id":617004897,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzAwNDg5Nw==","user":{"login":"przemekwitek","id":19312454,"node_id":"MDQ6VXNlcjE5MzEyNDU0","avatar_url":"https://avatars3.githubusercontent.com/u/19312454?v=4","gravatar_id":"","url":"https://api.github.com/users/przemekwitek","html_url":"https://github.com/przemekwitek","followers_url":"https://api.github.com/users/przemekwitek/followers","following_url":"https://api.github.com/users/przemekwitek/following{/other_user}","gists_url":"https://api.github.com/users/przemekwitek/gists{/gist_id}","starred_url":"https://api.github.com/users/przemekwitek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/przemekwitek/subscriptions","organizations_url":"https://api.github.com/users/przemekwitek/orgs","repos_url":"https://api.github.com/users/przemekwitek/repos","events_url":"https://api.github.com/users/przemekwitek/events{/privacy}","received_events_url":"https://api.github.com/users/przemekwitek/received_events","type":"User","site_admin":false},"created_at":"2020-04-21T07:28:38Z","updated_at":"2020-04-21T07:28:38Z","author_association":"CONTRIBUTOR","body":"I was digging in the logs for this test failure and still have more questions than answers.\r\nSome observations I made so far:\r\n1. Stop action does not call the `listener` (neither `onResponse` nor `onFailure`) so the action call hangs. \r\n2. The (almost) last log lines emerging from the stop action are:\r\n```\r\n[2020-04-16T12:20:54,144][INFO ][o.e.x.m.a.TransportStopDataFrameAnalyticsAction] [integTest-2] [test_outlier_detection_stop_and_restart] Stopping task with force [false]\r\n[2020-04-16T12:20:54,147][DEBUG][o.e.x.m.d.DataFrameAnalyticsTask] [integTest-2] [test_outlier_detection_stop_and_restart] Cancelling reindex task [IPiZjLyCQYCJJSqRsEjQAw:6459]\r\n[2020-04-16T12:20:54,155][DEBUG][o.e.x.m.d.DataFrameAnalyticsTask] [integTest-2] [test_outlier_detection_stop_and_restart] Reindex task was successfully cancelled\r\n[2020-04-16T12:20:54,155][DEBUG][o.e.x.m.d.p.AnalyticsProcessManager] [integTest-2] [test_outlier_detection_stop_and_restart] No process context to stop\r\n```\r\n\"No process context to stop\" means that there was no process yet at the time stop action was called. In fact, the job was somewhere in `reindexing` state.\r\nThe next thing called after \"No process context to stop\" should be calling `listener` in `TransportStopDataFrameAnalyticsAction` but this does not happen.\r\n3. There is mysterious last log line at the similar time (around 12:20:54):\r\n```\r\n[2020-04-16T12:20:54,181][INFO ][o.e.x.m.d.DataFrameAnalyticsTask] [integTest-2] [test_outlier_detection_stop_and_restart] Updated analytics task state to [failed] with reason [Partial shards failure]\r\n```\r\nI have no idea where does this emerge from. The `setFailed` method which prints this has 12 usages out of which we can rule out 4 (they append some predefined string to the exception message).\r\nThat still leaves us with 8 usages. I'm trying to find out which of these code paths are possible.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/618295969","html_url":"https://github.com/elastic/elasticsearch/issues/55068#issuecomment-618295969","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55068","id":618295969,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODI5NTk2OQ==","user":{"login":"dimitris-athanasiou","id":9351617,"node_id":"MDQ6VXNlcjkzNTE2MTc=","avatar_url":"https://avatars3.githubusercontent.com/u/9351617?v=4","gravatar_id":"","url":"https://api.github.com/users/dimitris-athanasiou","html_url":"https://github.com/dimitris-athanasiou","followers_url":"https://api.github.com/users/dimitris-athanasiou/followers","following_url":"https://api.github.com/users/dimitris-athanasiou/following{/other_user}","gists_url":"https://api.github.com/users/dimitris-athanasiou/gists{/gist_id}","starred_url":"https://api.github.com/users/dimitris-athanasiou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimitris-athanasiou/subscriptions","organizations_url":"https://api.github.com/users/dimitris-athanasiou/orgs","repos_url":"https://api.github.com/users/dimitris-athanasiou/repos","events_url":"https://api.github.com/users/dimitris-athanasiou/events{/privacy}","received_events_url":"https://api.github.com/users/dimitris-athanasiou/received_events","type":"User","site_admin":false},"created_at":"2020-04-23T09:37:21Z","updated_at":"2020-04-23T09:37:21Z","author_association":"CONTRIBUTOR","body":"I found the cause of this, will be raising a fix very shortly.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/619882678","html_url":"https://github.com/elastic/elasticsearch/issues/55068#issuecomment-619882678","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55068","id":619882678,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTg4MjY3OA==","user":{"login":"przemekwitek","id":19312454,"node_id":"MDQ6VXNlcjE5MzEyNDU0","avatar_url":"https://avatars3.githubusercontent.com/u/19312454?v=4","gravatar_id":"","url":"https://api.github.com/users/przemekwitek","html_url":"https://github.com/przemekwitek","followers_url":"https://api.github.com/users/przemekwitek/followers","following_url":"https://api.github.com/users/przemekwitek/following{/other_user}","gists_url":"https://api.github.com/users/przemekwitek/gists{/gist_id}","starred_url":"https://api.github.com/users/przemekwitek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/przemekwitek/subscriptions","organizations_url":"https://api.github.com/users/przemekwitek/orgs","repos_url":"https://api.github.com/users/przemekwitek/repos","events_url":"https://api.github.com/users/przemekwitek/events{/privacy}","received_events_url":"https://api.github.com/users/przemekwitek/received_events","type":"User","site_admin":false},"created_at":"2020-04-27T10:16:44Z","updated_at":"2020-04-27T10:39:48Z","author_association":"CONTRIBUTOR","body":"Reopening as this test failed again on 7.x for apparently the same reason we were debugging before:\r\n\r\n```\r\n12:07:08 » ERROR][o.e.x.m.d.DataFrameAnalyticsTask] [integTest-2] [test_outlier_detection_stop_and_restart] Setting task to failed\r\n12:07:08 »  org.elasticsearch.action.search.SearchPhaseExecutionException: Partial shards failure\r\n```\r\n\r\nLog: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.x+multijob+fast+part2/4690/console\r\nBuild Scans: https://gradle-enterprise.elastic.co/s/tylok3d3niy4q\r\n\r\n\r\nRepro lines:\r\n```\r\nREPRODUCE WITH: ./gradlew ':x-pack:plugin:ml:qa:native-multi-node-tests:integTestRunner' --tests \"org.elasticsearch.xpack.ml.integration.RunDataFrameAnalyticsIT.testOutlierDetectionStopAndRestart\" \\\r\n  -Dtests.seed=986512C2112B72B8 \\\r\n  -Dtests.security.manager=true \\\r\n  -Dtests.locale=hu \\\r\n  -Dtests.timezone=Africa/Lagos \\\r\n  -Dcompiler.java=14 \\\r\n  -Druntime.java=8\r\n\r\nREPRODUCE WITH: ./gradlew ':x-pack:plugin:ml:qa:native-multi-node-tests:integTestRunner' --tests \"org.elasticsearch.xpack.ml.integration.RunDataFrameAnalyticsIT.testOutlierDetectionStopAndRestart\" \\\r\n  -Dtests.seed=986512C2112B72B8 \\\r\n  -Dtests.security.manager=true \\\r\n  -Dtests.locale=hu \\\r\n  -Dtests.timezone=Africa/Lagos \\\r\n  -Dcompiler.java=14 \\\r\n  -Druntime.java=8\r\n\r\nREPRODUCE WITH: ./gradlew ':x-pack:plugin:ml:qa:native-multi-node-tests:integTestRunner' --tests \"org.elasticsearch.xpack.ml.integration.RunDataFrameAnalyticsIT.testOutlierDetectionStopAndRestart\" \\\r\n  -Dtests.seed=986512C2112B72B8 \\\r\n  -Dtests.security.manager=true \\\r\n  -Dtests.locale=hu \\\r\n  -Dtests.timezone=Africa/Lagos \\\r\n  -Dcompiler.java=14 \\\r\n  -Druntime.java=8\r\n\r\nREPRODUCE WITH: ./gradlew ':x-pack:plugin:ml:qa:native-multi-node-tests:integTestRunner' --tests \"org.elasticsearch.xpack.ml.integration.RunDataFrameAnalyticsIT.testOutlierDetectionStopAndRestart\" \\\r\n  -Dtests.seed=986512C2112B72B8 \\\r\n  -Dtests.security.manager=true \\\r\n  -Dtests.locale=hu \\\r\n  -Dtests.timezone=Africa/Lagos \\\r\n  -Dcompiler.java=14 \\\r\n  -Druntime.java=8\r\n```\r\n\r\nDoes not reproduce locally.","performed_via_github_app":null}]