{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/14205","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14205/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14205/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14205/events","html_url":"https://github.com/elastic/elasticsearch/issues/14205","id":112359489,"node_id":"MDU6SXNzdWUxMTIzNTk0ODk=","number":14205,"title":"Plugin Installation No Longer Checks for Already Installed Plugin","user":{"login":"skearns64","id":1406684,"node_id":"MDQ6VXNlcjE0MDY2ODQ=","avatar_url":"https://avatars1.githubusercontent.com/u/1406684?v=4","gravatar_id":"","url":"https://api.github.com/users/skearns64","html_url":"https://github.com/skearns64","followers_url":"https://api.github.com/users/skearns64/followers","following_url":"https://api.github.com/users/skearns64/following{/other_user}","gists_url":"https://api.github.com/users/skearns64/gists{/gist_id}","starred_url":"https://api.github.com/users/skearns64/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/skearns64/subscriptions","organizations_url":"https://api.github.com/users/skearns64/orgs","repos_url":"https://api.github.com/users/skearns64/repos","events_url":"https://api.github.com/users/skearns64/events{/privacy}","received_events_url":"https://api.github.com/users/skearns64/received_events","type":"User","site_admin":false},"labels":[{"id":146832994,"node_id":"MDU6TGFiZWwxNDY4MzI5OTQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Plugins","name":":Core/Infra/Plugins","color":"0e8a16","default":false,"description":"Plugin API and infrastructure"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":92913858,"node_id":"MDU6TGFiZWw5MjkxMzg1OA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/good%20first%20issue","name":"good first issue","color":"07569b","default":true,"description":"low hanging fruit"},{"id":110815527,"node_id":"MDU6TGFiZWwxMTA4MTU1Mjc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/help%20wanted","name":"help wanted","color":"207de5","default":true,"description":"adoptme"},{"id":243964930,"node_id":"MDU6TGFiZWwyNDM5NjQ5MzA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v2.0.0","name":"v2.0.0","color":"dddddd","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-10-20T12:42:33Z","updated_at":"2015-11-22T10:18:13Z","closed_at":"2015-10-20T13:59:23Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"When installing a plugin in ES 1.7, there is a check to verify that the plugin doesn't already exist, and the plugin installation aborts if it does: \n\n```\nbin/plugin install elasticsearch/license/latest\n-> Installing elasticsearch/license/latest...\nTrying http://download.elasticsearch.org/elasticsearch/license/license-latest.zip...\nDownloading ..............................DONE\nInstalled elasticsearch/license/latest into /path/to/elasticsearch-1.7.0/plugins/license\n\nbin/plugin install elasticsearch/license/latest\n-> Installing elasticsearch/license/latest...\nFailed to install elasticsearch/license/latest, reason: plugin directory /path/to/elasticsearch-1.7.0/plugins/license already exists. To update the plugin, uninstall it first using --remove elasticsearch/license/latest command\n\n```\n\nIn 2.0, this check no longer appears to take place, and the plugin installation appears to be attempted and fails: \n\n```\nbin/plugin install license\n-> Installing license...\nTrying https://download.elastic.co/elasticsearch/release/org/elasticsearch/plugin/license/2.0.0-rc1/license-2.0.0-rc1.zip ...\nDownloading ......DONE\nVerifying https://download.elastic.co/elasticsearch/release/org/elasticsearch/plugin/license/2.0.0-rc1/license-2.0.0-rc1.zip checksums if available ...\nDownloading .DONE\nInstalled license into /path/to/elasticsearch-2.0.0-rc1/plugins/license\n\nbin/plugin install license\n-> Installing license...\nTrying https://download.elastic.co/elasticsearch/release/org/elasticsearch/plugin/license/2.0.0-rc1/license-2.0.0-rc1.zip ...\nDownloading ......DONE\nVerifying https://download.elastic.co/elasticsearch/release/org/elasticsearch/plugin/license/2.0.0-rc1/license-2.0.0-rc1.zip checksums if available ...\nDownloading .DONE\nERROR: java.lang.IllegalStateException: jar hell!\nclass: org.elasticsearch.license.plugin.rest.RestGetLicenseAction\njar1: /path/to/elasticsearch-2.0.0-rc1/plugins/license/license-2.0.0-rc1.jar\njar2: /var/folders/1r/t56v_5710ygd6klpsbsrmbsr0000gn/T/4690718986021044046/license/license-2.0.0-rc1.jar\n```\n","closed_by":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"performed_via_github_app":null}