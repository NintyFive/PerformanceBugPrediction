[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/276387882","html_url":"https://github.com/elastic/elasticsearch/issues/22833#issuecomment-276387882","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22833","id":276387882,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjM4Nzg4Mg==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2017-01-31T15:05:54Z","updated_at":"2017-01-31T15:05:54Z","author_association":"MEMBER","body":"I researched this and it seems it is cause by a concurrent index deletion and indexing. There is a short window (between successful indexing and translog sync) where index deletion (or shard close) can trigger a retry after the request has been prepared for replication. We are working on making the index request immutable which will fix this. Also, this is not really an issue (but it should be fixed) because the retry protection in the engine will do the right thing if assertions are not enabled.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/383870446","html_url":"https://github.com/elastic/elasticsearch/issues/22833#issuecomment-383870446","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22833","id":383870446,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mzg3MDQ0Ng==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2018-04-24T09:42:43Z","updated_at":"2018-04-24T09:42:43Z","author_association":"MEMBER","body":"IndexRequests are now immutable, which means this can be closed.\r\n","performed_via_github_app":null}]