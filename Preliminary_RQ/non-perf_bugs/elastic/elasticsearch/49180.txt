{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/49180","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49180/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49180/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49180/events","html_url":"https://github.com/elastic/elasticsearch/issues/49180","id":523544381,"node_id":"MDU6SXNzdWU1MjM1NDQzODE=","number":49180,"title":"[ILM] Keep track of ILM steps and actions executed","user":{"login":"lucabelluccini","id":87379,"node_id":"MDQ6VXNlcjg3Mzc5","avatar_url":"https://avatars3.githubusercontent.com/u/87379?v=4","gravatar_id":"","url":"https://api.github.com/users/lucabelluccini","html_url":"https://github.com/lucabelluccini","followers_url":"https://api.github.com/users/lucabelluccini/followers","following_url":"https://api.github.com/users/lucabelluccini/following{/other_user}","gists_url":"https://api.github.com/users/lucabelluccini/gists{/gist_id}","starred_url":"https://api.github.com/users/lucabelluccini/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucabelluccini/subscriptions","organizations_url":"https://api.github.com/users/lucabelluccini/orgs","repos_url":"https://api.github.com/users/lucabelluccini/repos","events_url":"https://api.github.com/users/lucabelluccini/events{/privacy}","received_events_url":"https://api.github.com/users/lucabelluccini/received_events","type":"User","site_admin":false},"labels":[{"id":912828538,"node_id":"MDU6TGFiZWw5MTI4Mjg1Mzg=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/ILM+SLM","name":":Core/Features/ILM+SLM","color":"0e8a16","default":false,"description":"Index and Snapshot lifecycle management"}],"state":"closed","locked":false,"assignee":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"assignees":[{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2019-11-15T15:46:00Z","updated_at":"2019-12-18T23:10:00Z","closed_at":"2019-12-18T23:10:00Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the feature**:\r\n\r\nThe `_ilm/explain` API is really useful when troubleshooting, but unfortunately has no way to keep track \"past\" action execution events.\r\n\r\nIt would be nice to have one of the following:\r\n\r\n1) The timestamp within the output of the `_ilm/explain` API for each step and action\r\n\r\nIt is probably not feasible because of the fact this gets stored in the cluster state and if the index is deleted, we do not have any history.\r\nIt would mean N additional epoch fields, one per step/action. This could be simplified if we restrict this \"history\" to `steps` only.\r\n\r\n2) An hidden index (e.g. `.ilm-history`) to keep track of the executed ILM steps and actions\r\n\r\n3) An \"audit\" log for ILM\r\n\r\nSomehow similar to https://github.com/elastic/elasticsearch/issues/40552, but it's output is quite technical/verbose and requires `debug`/`trace` logging.\r\n\r\n--- \r\n\r\nOn the same subject, it would be interesting to put the chosen node ID when shrinking an index (in the `shrink` action) in the ILM explain API.\r\nThis could be a small extra information which would be present only on indices being shrunk.\r\n\r\nFYI @leehinman ","closed_by":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"performed_via_github_app":null}