[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/265510178","html_url":"https://github.com/elastic/elasticsearch/issues/22033#issuecomment-265510178","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22033","id":265510178,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NTUxMDE3OA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-12-07T17:16:51Z","updated_at":"2016-12-07T17:16:51Z","author_association":"CONTRIBUTOR","body":"@nknize please could you take a look","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/265563556","html_url":"https://github.com/elastic/elasticsearch/issues/22033#issuecomment-265563556","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22033","id":265563556,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NTU2MzU1Ng==","user":{"login":"nknize","id":830187,"node_id":"MDQ6VXNlcjgzMDE4Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/830187?v=4","gravatar_id":"","url":"https://api.github.com/users/nknize","html_url":"https://github.com/nknize","followers_url":"https://api.github.com/users/nknize/followers","following_url":"https://api.github.com/users/nknize/following{/other_user}","gists_url":"https://api.github.com/users/nknize/gists{/gist_id}","starred_url":"https://api.github.com/users/nknize/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nknize/subscriptions","organizations_url":"https://api.github.com/users/nknize/orgs","repos_url":"https://api.github.com/users/nknize/repos","events_url":"https://api.github.com/users/nknize/events{/privacy}","received_events_url":"https://api.github.com/users/nknize/received_events","type":"User","site_admin":false},"created_at":"2016-12-07T20:27:04Z","updated_at":"2016-12-07T20:27:04Z","author_association":"CONTRIBUTOR","body":"I'm on it...","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/265684987","html_url":"https://github.com/elastic/elasticsearch/issues/22033#issuecomment-265684987","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22033","id":265684987,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NTY4NDk4Nw==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2016-12-08T08:43:54Z","updated_at":"2016-12-08T08:43:54Z","author_association":"MEMBER","body":"It seems to be the point `[0, 51.61536]` which causes the issue, if this is changed to `[0.001, 51.61536]` the search correctly returns 0 hits. So it looks like the problem might be with polygons with points exactly on the GMT line","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/269116698","html_url":"https://github.com/elastic/elasticsearch/issues/22033#issuecomment-269116698","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22033","id":269116698,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTExNjY5OA==","user":{"login":"zhaozhijun1988","id":4067445,"node_id":"MDQ6VXNlcjQwNjc0NDU=","avatar_url":"https://avatars3.githubusercontent.com/u/4067445?v=4","gravatar_id":"","url":"https://api.github.com/users/zhaozhijun1988","html_url":"https://github.com/zhaozhijun1988","followers_url":"https://api.github.com/users/zhaozhijun1988/followers","following_url":"https://api.github.com/users/zhaozhijun1988/following{/other_user}","gists_url":"https://api.github.com/users/zhaozhijun1988/gists{/gist_id}","starred_url":"https://api.github.com/users/zhaozhijun1988/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhaozhijun1988/subscriptions","organizations_url":"https://api.github.com/users/zhaozhijun1988/orgs","repos_url":"https://api.github.com/users/zhaozhijun1988/repos","events_url":"https://api.github.com/users/zhaozhijun1988/events{/privacy}","received_events_url":"https://api.github.com/users/zhaozhijun1988/received_events","type":"User","site_admin":false},"created_at":"2016-12-25T10:05:04Z","updated_at":"2016-12-25T10:05:04Z","author_association":"NONE","body":"I also have the same issueï¼Œ How to solve it;\r\nhttp://stackoverflow.com/questions/41309694/elasticsearch-geo-polygon-query-work-not-correctly","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/283325315","html_url":"https://github.com/elastic/elasticsearch/issues/22033#issuecomment-283325315","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22033","id":283325315,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzMyNTMxNQ==","user":{"login":"ashleydw","id":844437,"node_id":"MDQ6VXNlcjg0NDQzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/844437?v=4","gravatar_id":"","url":"https://api.github.com/users/ashleydw","html_url":"https://github.com/ashleydw","followers_url":"https://api.github.com/users/ashleydw/followers","following_url":"https://api.github.com/users/ashleydw/following{/other_user}","gists_url":"https://api.github.com/users/ashleydw/gists{/gist_id}","starred_url":"https://api.github.com/users/ashleydw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashleydw/subscriptions","organizations_url":"https://api.github.com/users/ashleydw/orgs","repos_url":"https://api.github.com/users/ashleydw/repos","events_url":"https://api.github.com/users/ashleydw/events{/privacy}","received_events_url":"https://api.github.com/users/ashleydw/received_events","type":"User","site_admin":false},"created_at":"2017-03-01T12:17:22Z","updated_at":"2017-03-01T12:17:22Z","author_association":"NONE","body":"Not wanting to jump on your thread, but I experience this in ES5 5.2.0 too. \r\n\r\nI have run two tests, one using the default (50 meters?) and one using precision: 5m, distance_error_pct of 0.01.\r\n\r\nRelevant mapping:\r\n\r\n```\r\n\"boundary\": {\r\n    \"type\": \"geo_shape\",\r\n    \"precision\": \"5.0m\",\r\n   \"distance_error_pct\": 0.01\r\n},\r\n```\r\n\r\nRelevant part of query (location is a geo_shape):\r\n\r\n```\r\ngeo_shape\": {\r\n     \"location\": {\r\n       \"indexed_shape\": {\r\n           \"index\": \"myindexes\",\r\n         \"type\": \"myquerymodel\",\r\n            \"id\": 1,\r\n             \"path\": \"boundary\"\r\n           },\r\n         \"relation\": \"within\"\r\n      }\r\n}\r\n```\r\n\r\nexample location:\r\n\r\n```\r\n{\r\n         \"crs\": {\r\n          \"type\": \"name\",\r\n          \"properties\": {\r\n            \"name\": \"EPSG:4326\"\r\n           }\r\n       },\r\n        \"coordinates\": [\r\n           6.01667,\r\n          51.78333\r\n       ],\r\n     \"type\": \"Point\"\r\n}\r\n```\r\n\r\nResults for default precision: https://gist.github.com/anonymous/954bc675a973abe0bc67c94c696bcf9d\r\nResults for 5m precision: https://gist.github.com/anonymous/421b3dd1091c29e3387a7fdd025e2065\r\n\r\nNote that for the default precision I only entered 1 location, but the location appears in both results.\r\n\r\nIt seems I'm using the precision incorrectly? When \"increasing\" precision (5m) my data usage jumps from 21GB to 44GB so it's clearly doing something.\r\n\r\nSo, what does this precision actually mean - i'm guessing the error percentage 0.01 isn't actually 0.01 of 5 meteres as these locations are way outside that possible error.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/283334503","html_url":"https://github.com/elastic/elasticsearch/issues/22033#issuecomment-283334503","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22033","id":283334503,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzMzNDUwMw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2017-03-01T13:05:25Z","updated_at":"2017-03-01T13:05:25Z","author_association":"CONTRIBUTOR","body":"@ashleydw completely different issue - this is about `geo_point` fields and you're using `geo_shape`.  The place to ask about what precision and distance_error_pct does is in the forums, or read what the docs have to say: https://www.elastic.co/guide/en/elasticsearch/reference/current/geo-shape.html","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/283343371","html_url":"https://github.com/elastic/elasticsearch/issues/22033#issuecomment-283343371","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22033","id":283343371,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzM0MzM3MQ==","user":{"login":"ashleydw","id":844437,"node_id":"MDQ6VXNlcjg0NDQzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/844437?v=4","gravatar_id":"","url":"https://api.github.com/users/ashleydw","html_url":"https://github.com/ashleydw","followers_url":"https://api.github.com/users/ashleydw/followers","following_url":"https://api.github.com/users/ashleydw/following{/other_user}","gists_url":"https://api.github.com/users/ashleydw/gists{/gist_id}","starred_url":"https://api.github.com/users/ashleydw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashleydw/subscriptions","organizations_url":"https://api.github.com/users/ashleydw/orgs","repos_url":"https://api.github.com/users/ashleydw/repos","events_url":"https://api.github.com/users/ashleydw/events{/privacy}","received_events_url":"https://api.github.com/users/ashleydw/received_events","type":"User","site_admin":false},"created_at":"2017-03-01T13:46:03Z","updated_at":"2017-03-01T13:46:03Z","author_association":"NONE","body":"Thanks for pointing the original question was regarding `geo_point`; I hadn't realized. Still, my problem of false positives is related, no?\r\n\r\nI've read the docs, and understand so-far as what they say regarding 0 error meaning completely accurate, but they don't really describe what the error percentage is (is 0.01 % of {precision}?). This part of the question could well have been part of #23206.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/446239298","html_url":"https://github.com/elastic/elasticsearch/issues/22033#issuecomment-446239298","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22033","id":446239298,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NjIzOTI5OA==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2018-12-11T15:18:21Z","updated_at":"2018-12-11T15:18:21Z","author_association":"MEMBER","body":"We should revisit this after #32039","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/449126082","html_url":"https://github.com/elastic/elasticsearch/issues/22033#issuecomment-449126082","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22033","id":449126082,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTEyNjA4Mg==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2018-12-20T20:30:06Z","updated_at":"2018-12-20T20:30:06Z","author_association":"MEMBER","body":"The original issue (with geo_points) was fixed for quite a while. The second issue with the geo_shape was fixed by #35320. Closing.","performed_via_github_app":null}]