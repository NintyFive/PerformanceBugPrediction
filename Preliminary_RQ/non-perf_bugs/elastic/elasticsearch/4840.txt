{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/4840","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4840/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4840/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4840/events","html_url":"https://github.com/elastic/elasticsearch/issues/4840","id":26057780,"node_id":"MDU6SXNzdWUyNjA1Nzc4MA==","number":4840,"title":"Full snapshot API","user":{"login":"grantr","id":680,"node_id":"MDQ6VXNlcjY4MA==","avatar_url":"https://avatars3.githubusercontent.com/u/680?v=4","gravatar_id":"","url":"https://api.github.com/users/grantr","html_url":"https://github.com/grantr","followers_url":"https://api.github.com/users/grantr/followers","following_url":"https://api.github.com/users/grantr/following{/other_user}","gists_url":"https://api.github.com/users/grantr/gists{/gist_id}","starred_url":"https://api.github.com/users/grantr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grantr/subscriptions","organizations_url":"https://api.github.com/users/grantr/orgs","repos_url":"https://api.github.com/users/grantr/repos","events_url":"https://api.github.com/users/grantr/events{/privacy}","received_events_url":"https://api.github.com/users/grantr/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2014-01-22T00:41:22Z","updated_at":"2018-08-31T14:36:34Z","closed_at":"2014-10-29T16:39:19Z","author_association":"NONE","active_lock_reason":null,"body":"Incremental snapshots are great, but sometimes full snapshots are more desirable. With the current snapshot api, creating a full snapshot requires creating a new repository, then a new snapshot.\n\n```\n$ curl -XPUT 'http://localhost:9200/_snapshot/my_backup' -d '{\n  \"type\": \"fs\",\n  \"settings\": {\n    \"location\": \"/mount/backups/my_backup\",\n    \"compress\": true\n  }\n}'\n\n$ curl -XPUT \"localhost:9200/_snapshot/my_backup/snapshot_1?wait_for_completion=true\"\n```\n\nIt would be great if it was possible to force a full backup on snapshot create with an `{ \"incremental\": false }` or similar option. Or a `{ \"snapshot\": true }` option to repository create to immediately create a snapshot in the new repository.\n\nAllowing multiple full snapshots in a repository would be ideal. If that's not possible, then multiple repositories need to be supported for all repository types. It's not clear whether the S3 plugin supports multiple or dynamically defined repositories: https://github.com/elasticsearch/elasticsearch-cloud-aws#s3-repository\n\n/cc @imotov\n","closed_by":{"login":"grantr","id":680,"node_id":"MDQ6VXNlcjY4MA==","avatar_url":"https://avatars3.githubusercontent.com/u/680?v=4","gravatar_id":"","url":"https://api.github.com/users/grantr","html_url":"https://github.com/grantr","followers_url":"https://api.github.com/users/grantr/followers","following_url":"https://api.github.com/users/grantr/following{/other_user}","gists_url":"https://api.github.com/users/grantr/gists{/gist_id}","starred_url":"https://api.github.com/users/grantr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grantr/subscriptions","organizations_url":"https://api.github.com/users/grantr/orgs","repos_url":"https://api.github.com/users/grantr/repos","events_url":"https://api.github.com/users/grantr/events{/privacy}","received_events_url":"https://api.github.com/users/grantr/received_events","type":"User","site_admin":false},"performed_via_github_app":null}