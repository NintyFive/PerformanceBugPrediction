[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/265116830","html_url":"https://github.com/elastic/elasticsearch/issues/21996#issuecomment-265116830","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21996","id":265116830,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NTExNjgzMA==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-12-06T10:38:13Z","updated_at":"2016-12-06T10:38:13Z","author_association":"CONTRIBUTOR","body":"Thanks for the detailed example.\r\n\r\nThis is the [expected behaviour](https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-bool-query.html#query-dsl-bool-query): if the query does not have `must` or `filter` clauses, then at least one `should` clause must match, but if there is one or more `must` or `filter`, then the `should` clauses become optional and only give better scores to the documents that they match.\r\n\r\nYou can require that one should clause must match by setting `minimum_should_match=1` on the `bool` query. Another option could be to make this a `must` clause if you do not plan on adding more `should` clauses.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/265119838","html_url":"https://github.com/elastic/elasticsearch/issues/21996#issuecomment-265119838","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21996","id":265119838,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NTExOTgzOA==","user":{"login":"phile314","id":1640697,"node_id":"MDQ6VXNlcjE2NDA2OTc=","avatar_url":"https://avatars2.githubusercontent.com/u/1640697?v=4","gravatar_id":"","url":"https://api.github.com/users/phile314","html_url":"https://github.com/phile314","followers_url":"https://api.github.com/users/phile314/followers","following_url":"https://api.github.com/users/phile314/following{/other_user}","gists_url":"https://api.github.com/users/phile314/gists{/gist_id}","starred_url":"https://api.github.com/users/phile314/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phile314/subscriptions","organizations_url":"https://api.github.com/users/phile314/orgs","repos_url":"https://api.github.com/users/phile314/repos","events_url":"https://api.github.com/users/phile314/events{/privacy}","received_events_url":"https://api.github.com/users/phile314/received_events","type":"User","site_admin":false},"created_at":"2016-12-06T10:52:04Z","updated_at":"2016-12-06T10:52:29Z","author_association":"NONE","body":"Thanks for the amazingly fast response:-)\r\n\r\nYour answer makes sense. There might still be some way to improve the documentation. I have read the  [Bool Query Documentation](https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-bool-query.html#query-dsl-bool-query) before opening the bug (maybe should have mentioned that), but I found it didn't specify exactly how the ``filter``+``should`` combination should behave.\r\n\r\n\r\n> if there is one or more must or filter, then the should clauses become optional and only give better scores to the documents that they match.\r\n\r\nFor combinations of ``must`` and ``should`` clauses, this is what I would naively expect, but you might consider adding a note explaining that it also applies to the ``filter``+``should`` combination.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/265218444","html_url":"https://github.com/elastic/elasticsearch/issues/21996#issuecomment-265218444","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21996","id":265218444,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NTIxODQ0NA==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-12-06T17:42:30Z","updated_at":"2016-12-06T17:42:30Z","author_association":"CONTRIBUTOR","body":"Maybe you could open a pull request to improve the documentation? Reference docs are under `docs/reference` in this repo.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/265393363","html_url":"https://github.com/elastic/elasticsearch/issues/21996#issuecomment-265393363","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21996","id":265393363,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NTM5MzM2Mw==","user":{"login":"phile314","id":1640697,"node_id":"MDQ6VXNlcjE2NDA2OTc=","avatar_url":"https://avatars2.githubusercontent.com/u/1640697?v=4","gravatar_id":"","url":"https://api.github.com/users/phile314","html_url":"https://github.com/phile314","followers_url":"https://api.github.com/users/phile314/followers","following_url":"https://api.github.com/users/phile314/following{/other_user}","gists_url":"https://api.github.com/users/phile314/gists{/gist_id}","starred_url":"https://api.github.com/users/phile314/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phile314/subscriptions","organizations_url":"https://api.github.com/users/phile314/orgs","repos_url":"https://api.github.com/users/phile314/repos","events_url":"https://api.github.com/users/phile314/events{/privacy}","received_events_url":"https://api.github.com/users/phile314/received_events","type":"User","site_admin":false},"created_at":"2016-12-07T09:04:51Z","updated_at":"2016-12-07T09:04:51Z","author_association":"NONE","body":"I really would like to, but the CLA makes this difficult/too complicated for me.","performed_via_github_app":null}]