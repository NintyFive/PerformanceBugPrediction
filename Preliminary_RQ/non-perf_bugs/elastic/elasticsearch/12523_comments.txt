[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/126201157","html_url":"https://github.com/elastic/elasticsearch/issues/12523#issuecomment-126201157","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12523","id":126201157,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNjIwMTE1Nw==","user":{"login":"HarishAtGitHub","id":5524260,"node_id":"MDQ6VXNlcjU1MjQyNjA=","avatar_url":"https://avatars1.githubusercontent.com/u/5524260?v=4","gravatar_id":"","url":"https://api.github.com/users/HarishAtGitHub","html_url":"https://github.com/HarishAtGitHub","followers_url":"https://api.github.com/users/HarishAtGitHub/followers","following_url":"https://api.github.com/users/HarishAtGitHub/following{/other_user}","gists_url":"https://api.github.com/users/HarishAtGitHub/gists{/gist_id}","starred_url":"https://api.github.com/users/HarishAtGitHub/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HarishAtGitHub/subscriptions","organizations_url":"https://api.github.com/users/HarishAtGitHub/orgs","repos_url":"https://api.github.com/users/HarishAtGitHub/repos","events_url":"https://api.github.com/users/HarishAtGitHub/events{/privacy}","received_events_url":"https://api.github.com/users/HarishAtGitHub/received_events","type":"User","site_admin":false},"created_at":"2015-07-30T06:31:05Z","updated_at":"2015-07-30T20:17:56Z","author_association":"CONTRIBUTOR","body":"I am trying to reproduce this issue in the latest elastic search code(since you said it was not working \"SINCE 1.6\") that I pulled from master (elasticsearch_2.0.0~SNAPSHOT) in an attempt to fix the bug if it is ..\n1) create index  http://localhost:9200/elasticsearch - POST\n         elasticsearch is the indexname\n\n2) to create an type and its mappings\nhttp://localhost:9200/elasticsearch/indexone/_mapping - POST \n\n``` javascript\n{\n       \"properties\" : { \n           \"@timestamp\" : {\n            \"type\" :   \"date\"\n           },\n           \"name\" : {\n            \"type\" :   \"string\"\n           }\n        }\n}\n```\n\nhere @timestamp is the field mapped to date (as your issue says)\n\n3) create an entry in the type indexone as \nhttp://localhost:9200/elasticsearch/indexone/1 - POST \n1 is the id of the entry\n\n``` javascript\n{\n  \"name\" : \"harish\",\n  \"@timestamp\":1438142633505\n}\n```\n\n4) query it as \nhttp://localhost:9200/elasticsearch/_search - POST \n\ni/p - \n\n``` javascript\n{\n  \"query\": {\n    \"match\": { \n      \"@timestamp\": \"1438142633505\"\n    }\n  }\n}\n```\n\no/p\n\n``` javascript\n{\n    \"took\": 2,\n    \"timed_out\": false,\n    \"_shards\": {\n        \"total\": 5,\n        \"successful\": 5,\n        \"failed\": 0\n    },\n    \"hits\": {\n        \"total\": 1,\n        \"max_score\": 1,\n        \"hits\": [\n            {\n                \"_index\": \"elasticsearch\",\n                \"_type\": \"indexone\",\n                \"_id\": \"1\",\n                \"_score\": 1,\n                \"_source\": {\n                    \"name\": \"harish\",\n                    \"@timestamp\": 1438142633505\n                }\n            }\n        ]\n    }\n}\n```\n\nso I got the desired output. \n\nAm I going wrong in this test case ... Please point out ...\n\ncode for the test case is here :    \n\n```\nhttps://github.com/HarishAtGitHub/elasticsearch-tester/blob/master/12523.py\n```\n\nTo run the above test case:\n\n```\n  git clone https://github.com/HarishAtGitHub/elasticsearch-tester.git\n  python 12523.py\n```\n\nI even tried enabling the timestamp internal field that es provides and tried to do exact matching and it worked.\n\nFYI: I am beginner trying to contribute to elastic search. So pls forgive my mistakes(if any) for a few days , then I will pick up....\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/127931130","html_url":"https://github.com/elastic/elasticsearch/issues/12523#issuecomment-127931130","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12523","id":127931130,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNzkzMTEzMA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-08-05T09:26:10Z","updated_at":"2015-08-05T09:26:10Z","author_association":"CONTRIBUTOR","body":"This bug was caused by https://github.com/elastic/elasticsearch/pull/10648\n\n@markharwood please could you take a look\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/127950936","html_url":"https://github.com/elastic/elasticsearch/issues/12523#issuecomment-127950936","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12523","id":127950936,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNzk1MDkzNg==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2015-08-05T10:31:20Z","updated_at":"2015-08-05T10:31:20Z","author_association":"CONTRIBUTOR","body":"This works for me on 1.7.1:\n\n```\n{\n  \"query\": {\n    \"match\": { \n      \"@timestamp\": 1438142633505\n    }\n  }\n}\n```\n\n(note the use of a numeric value rather than the string in your example)\n`query_string` and your `match` example that passes a String fail from what looks to be an issue with this version of Joda time parsing Strings as opposed to Longs. \n\nMaster branch works OK for `match` with Strings and `query_string`.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/128070659","html_url":"https://github.com/elastic/elasticsearch/issues/12523#issuecomment-128070659","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12523","id":128070659,"node_id":"MDEyOklzc3VlQ29tbWVudDEyODA3MDY1OQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-08-05T17:01:38Z","updated_at":"2015-08-05T17:01:38Z","author_association":"CONTRIBUTOR","body":"OK so fixed in master. I'll close this then.  thanks @markharwood \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/138346299","html_url":"https://github.com/elastic/elasticsearch/issues/12523#issuecomment-138346299","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12523","id":138346299,"node_id":"MDEyOklzc3VlQ29tbWVudDEzODM0NjI5OQ==","user":{"login":"ejain","id":1323903,"node_id":"MDQ6VXNlcjEzMjM5MDM=","avatar_url":"https://avatars2.githubusercontent.com/u/1323903?v=4","gravatar_id":"","url":"https://api.github.com/users/ejain","html_url":"https://github.com/ejain","followers_url":"https://api.github.com/users/ejain/followers","following_url":"https://api.github.com/users/ejain/following{/other_user}","gists_url":"https://api.github.com/users/ejain/gists{/gist_id}","starred_url":"https://api.github.com/users/ejain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ejain/subscriptions","organizations_url":"https://api.github.com/users/ejain/orgs","repos_url":"https://api.github.com/users/ejain/repos","events_url":"https://api.github.com/users/ejain/events{/privacy}","received_events_url":"https://api.github.com/users/ejain/received_events","type":"User","site_admin":false},"created_at":"2015-09-07T17:30:53Z","updated_at":"2015-09-07T17:30:53Z","author_association":"CONTRIBUTOR","body":"Just ran into this issue when upgrading from 1.5.2 to 1.7.1. Had to replace `QueryBuilders.termQuery(field, value)` with `QueryBuilders.matchQuery(field, Long.parseLong(value))`.\n","performed_via_github_app":null}]