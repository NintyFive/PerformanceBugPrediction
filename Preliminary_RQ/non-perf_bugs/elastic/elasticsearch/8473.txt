{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/8473","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8473/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8473/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8473/events","html_url":"https://github.com/elastic/elasticsearch/issues/8473","id":48663309,"node_id":"MDU6SXNzdWU0ODY2MzMwOQ==","number":8473,"title":"filtered aliases in templates do not inherit mappings from aliased index","user":{"login":"loren","id":42840,"node_id":"MDQ6VXNlcjQyODQw","avatar_url":"https://avatars2.githubusercontent.com/u/42840?v=4","gravatar_id":"","url":"https://api.github.com/users/loren","html_url":"https://github.com/loren","followers_url":"https://api.github.com/users/loren/followers","following_url":"https://api.github.com/users/loren/following{/other_user}","gists_url":"https://api.github.com/users/loren/gists{/gist_id}","starred_url":"https://api.github.com/users/loren/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/loren/subscriptions","organizations_url":"https://api.github.com/users/loren/orgs","repos_url":"https://api.github.com/users/loren/repos","events_url":"https://api.github.com/users/loren/events{/privacy}","received_events_url":"https://api.github.com/users/loren/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"assignees":[{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2014-11-13T17:10:14Z","updated_at":"2015-03-12T19:57:42Z","closed_at":"2014-11-24T17:27:34Z","author_association":"NONE","active_lock_reason":null,"body":"Related to #6110 and #8431. This behavior is new since 1.4.0.\n\n```\n#reset logstash templates\nDELETE /_template/logstash\nDELETE /_template/filtered_logstash\n\n# ensure index does not exist\nDELETE logstash-2014.11.11\n\n#create template for logstash indexes\nPUT /_template/logstash\n{\n  \"template\": \"logstash-*\",\n  \"mappings\": {\n    \"_default_\": {\n      \"dynamic_templates\": [\n        {\n          \"string_fields\": {\n            \"mapping\": {\n              \"index\": \"not_analyzed\",\n              \"type\": \"string\"\n            },\n            \"match_mapping_type\": \"string\",\n            \"match\": \"*\"\n          }\n        }\n      ],\n      \"properties\": {\n        \"@timestamp\": {\n          \"type\": \"date\"\n        },\n        \"clientip\": {\n          \"index\": \"not_analyzed\",\n          \"type\": \"string\"\n        }\n      },\n      \"_all\": {\n        \"enabled\": true\n      }\n    }\n  }\n}\n\nPUT _template/filtered_logstash\n{\n  \"template\": \"logstash-*\",\n  \"order\": 1,\n  \"aliases\": {\n    \"filtered-{index}\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"terms\": {\n                \"clientip\": [\n                  \"1.2.3.4\",\n                  \"2.3.4.5\"\n                ]\n              }\n            }\n          ]\n        }\n      }\n    }\n  }\n}\n\n# (FAILS) insert doc to dynamically create index\nPOST /logstash-2014.11.11/event/1\n{\n  \"@timestamp\": \"2014-11-11T00:02:14.000Z\",\n  \"clientip\": \"3.4.5.6\"\n}\n\n```\n\nI would expect this to work, but instead I get `Strict field resolution and no field mapping can be found for the field with name [clientip]` when I try to `POST` that event.\n","closed_by":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"performed_via_github_app":null}