[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/329138397","html_url":"https://github.com/elastic/elasticsearch/issues/26606#issuecomment-329138397","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26606","id":329138397,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTEzODM5Nw==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2017-09-13T11:25:08Z","updated_at":"2017-09-13T11:25:08Z","author_association":"CONTRIBUTOR","body":"You could potentially look into doing it yourself by adding a new field to your documents that contains the list of fields that they contain. This way you would have full control over what fields are taken into account.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/329191705","html_url":"https://github.com/elastic/elasticsearch/issues/26606#issuecomment-329191705","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26606","id":329191705,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTE5MTcwNQ==","user":{"login":"trevan","id":2044248,"node_id":"MDQ6VXNlcjIwNDQyNDg=","avatar_url":"https://avatars2.githubusercontent.com/u/2044248?v=4","gravatar_id":"","url":"https://api.github.com/users/trevan","html_url":"https://github.com/trevan","followers_url":"https://api.github.com/users/trevan/followers","following_url":"https://api.github.com/users/trevan/following{/other_user}","gists_url":"https://api.github.com/users/trevan/gists{/gist_id}","starred_url":"https://api.github.com/users/trevan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trevan/subscriptions","organizations_url":"https://api.github.com/users/trevan/orgs","repos_url":"https://api.github.com/users/trevan/repos","events_url":"https://api.github.com/users/trevan/events{/privacy}","received_events_url":"https://api.github.com/users/trevan/received_events","type":"User","site_admin":false},"created_at":"2017-09-13T14:47:42Z","updated_at":"2017-09-13T14:47:42Z","author_association":"NONE","body":"@jpountz, I'm planning on doing that but I thought that ES might be doing some special stuff for the field list that I wouldn't be able to duplicate.  I know that I can't use the exists on it, which is a bummer.  But are there optimizations that ES does as well that I wouldn't be able to duplicate?  Or is it really just a separate field that has special handling for exists?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/329195380","html_url":"https://github.com/elastic/elasticsearch/issues/26606#issuecomment-329195380","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26606","id":329195380,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTE5NTM4MA==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2017-09-13T14:58:56Z","updated_at":"2017-09-13T14:58:56Z","author_association":"CONTRIBUTOR","body":"This is actually the way `exists`is implemented. We collect all field names at parsing time and index them under `_field_names` which is later used by `exists` queries.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/329204085","html_url":"https://github.com/elastic/elasticsearch/issues/26606#issuecomment-329204085","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26606","id":329204085,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTIwNDA4NQ==","user":{"login":"trevan","id":2044248,"node_id":"MDQ6VXNlcjIwNDQyNDg=","avatar_url":"https://avatars2.githubusercontent.com/u/2044248?v=4","gravatar_id":"","url":"https://api.github.com/users/trevan","html_url":"https://github.com/trevan","followers_url":"https://api.github.com/users/trevan/followers","following_url":"https://api.github.com/users/trevan/following{/other_user}","gists_url":"https://api.github.com/users/trevan/gists{/gist_id}","starred_url":"https://api.github.com/users/trevan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trevan/subscriptions","organizations_url":"https://api.github.com/users/trevan/orgs","repos_url":"https://api.github.com/users/trevan/repos","events_url":"https://api.github.com/users/trevan/events{/privacy}","received_events_url":"https://api.github.com/users/trevan/received_events","type":"User","site_admin":false},"created_at":"2017-09-13T15:25:59Z","updated_at":"2017-09-13T15:25:59Z","author_association":"NONE","body":"So no special handling other than the `exists` queries?  Good to know.\r\n\r\nCan I update `_field_names` myself?  I would like to be able to use the `exists` queries since it doesn't require my users to have to remember that `exists` works for some fieldnames but not for all.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/329204352","html_url":"https://github.com/elastic/elasticsearch/issues/26606#issuecomment-329204352","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26606","id":329204352,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTIwNDM1Mg==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2017-09-13T15:26:50Z","updated_at":"2017-09-13T15:26:50Z","author_association":"CONTRIBUTOR","body":"No, you can't update `field_names`. It is totally internal.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/329205294","html_url":"https://github.com/elastic/elasticsearch/issues/26606#issuecomment-329205294","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26606","id":329205294,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTIwNTI5NA==","user":{"login":"trevan","id":2044248,"node_id":"MDQ6VXNlcjIwNDQyNDg=","avatar_url":"https://avatars2.githubusercontent.com/u/2044248?v=4","gravatar_id":"","url":"https://api.github.com/users/trevan","html_url":"https://github.com/trevan","followers_url":"https://api.github.com/users/trevan/followers","following_url":"https://api.github.com/users/trevan/following{/other_user}","gists_url":"https://api.github.com/users/trevan/gists{/gist_id}","starred_url":"https://api.github.com/users/trevan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trevan/subscriptions","organizations_url":"https://api.github.com/users/trevan/orgs","repos_url":"https://api.github.com/users/trevan/repos","events_url":"https://api.github.com/users/trevan/events{/privacy}","received_events_url":"https://api.github.com/users/trevan/received_events","type":"User","site_admin":false},"created_at":"2017-09-13T15:29:49Z","updated_at":"2017-09-13T15:29:49Z","author_association":"NONE","body":"Is there a way to tell `exists` to use my new field?\r\n\r\nGoing back to the original request, can ES be changed so that I can add fields to `field_names` that aren't mapped to be indexed?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/329776964","html_url":"https://github.com/elastic/elasticsearch/issues/26606#issuecomment-329776964","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26606","id":329776964,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTc3Njk2NA==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2017-09-15T13:04:43Z","updated_at":"2017-09-15T13:04:43Z","author_association":"CONTRIBUTOR","body":"> Is there a way to tell exists to use my new field?\r\n\r\nNo.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/329781165","html_url":"https://github.com/elastic/elasticsearch/issues/26606#issuecomment-329781165","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26606","id":329781165,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTc4MTE2NQ==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2017-09-15T13:22:50Z","updated_at":"2017-09-15T13:22:50Z","author_association":"MEMBER","body":"We discussed this in FixItFriday and decided that this is not something we would want to implement as it would add complexity to the mappers for what seems to be a rare use case. This can be implemented by indexing the field names in your document as a custom `my_field_names` field and then use a Term query to determine the documents where the field exists","performed_via_github_app":null}]