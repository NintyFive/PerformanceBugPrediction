[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/365186167","html_url":"https://github.com/elastic/elasticsearch/issues/28650#issuecomment-365186167","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28650","id":365186167,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTE4NjE2Nw==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2018-02-13T08:30:20Z","updated_at":"2018-02-13T08:30:20Z","author_association":"CONTRIBUTOR","body":"Here is an excerpt from the output, including timestamps, of a test run that seems to have failed because it took more than 30 seconds to bring a node up:\r\n\r\n```\r\n13:18:33 :x-pack-elasticsearch:qa:rolling-upgrade:with-system-key:v6.3.0-SNAPSHOT#upgradedClusterTestCluster#wait\r\n13:18:33 Task ':x-pack-elasticsearch:qa:rolling-upgrade:with-system-key:v6.3.0-SNAPSHOT#upgradedClusterTestCluster#wait' is not up-to-date because:\r\n13:18:33   Task has not declared any outputs.\r\n13:19:03 Node 0 output:\r\n13:19:03 |-----------------------------------------\r\n13:19:03 |  failure marker exists: false\r\n13:19:03 |  pid file exists: true\r\n13:19:03 |  http ports file exists: true\r\n13:19:03 |  transport ports file exists: true\r\n13:19:03 |\r\n13:19:03 |  [ant output]\r\n13:19:03 |\r\n13:19:03 |  [log]\r\n13:19:03 |    warning: ignoring JAVA_TOOL_OPTIONS=-Dfile.encoding=UTF8\r\n13:19:03 |    [2018-02-12T13:18:49,206][INFO ][o.e.n.Node               ] [node-0] initializing ...\r\n13:19:03 |    [2018-02-12T13:18:49,267][INFO ][o.e.e.NodeEnvironment    ] [node-0] using [1] data paths, mounts [[/ (/dev/xvda1)]], net usable_space [104.5gb], net total_space [992.6gb], types [ext4]\r\n13:19:03 |    [2018-02-12T13:18:49,267][INFO ][o.e.e.NodeEnvironment    ] [node-0] heap size [494.9mb], compressed ordinary object pointers [true]\r\n13:19:03 |    [2018-02-12T13:18:49,371][INFO ][o.e.n.Node               ] [node-0] node name [node-0], node ID [aD7I2WYuQSOXvdOri3TVcQ]\r\n13:19:03 |    [2018-02-12T13:18:49,372][INFO ][o.e.n.Node               ] [node-0] version[7.0.0-alpha1-SNAPSHOT], pid[2130], build[37e938f/2018-02-12T11:11:56.823Z], OS[Linux/4.4.0-1032-aws/amd64], JVM[Oracle Corporation/Java HotSpot(TM) 64-Bit Server VM/1.8.0_162/25.162-b12]\r\n13:19:03 |    [2018-02-12T13:18:49,372][INFO ][o.e.n.Node               ] [node-0] JVM arguments [-Xms1g, -Xmx1g, -XX:+UseConcMarkSweepGC, -XX:CMSInitiatingOccupancyFraction=75, -XX:+UseCMSInitiatingOccupancyOnly, -XX:+AlwaysPreTouch, -Xss1m, -Djava.awt.headless=true, -Dfile.encoding=UTF-8, -Djna.nosys=true, -XX:-OmitStackTraceInFastThrow, -Dio.netty.noUnsafe=true, -Dio.netty.noKeySetOptimization=true, -Dio.netty.recycler.maxCapacityPerThread=0, -Dlog4j.shutdownHookEnabled=false, -Dlog4j2.disable.jmx=true, -Djava.io.tmpdir=/tmp/elasticsearch.bgRdl4sQ, -XX:+HeapDumpOnOutOfMemoryError, -XX:+PrintGCDetails, -XX:+PrintGCDateStamps, -XX:+PrintTenuringDistribution, -XX:+PrintGCApplicationStoppedTime, -Xloggc:logs/gc.log, -XX:+UseGCLogFileRotation, -XX:NumberOfGCLogFiles=32, -XX:GCLogFileSize=64m, -Xms512m, -Xmx512m, -ea, -esa, -Des.path.home=/var/lib/jenkins/workspace/elastic+x-pack-elasticsearch+master+multijob-unix-compatibility/elasticsearch-extra/x-pack-elasticsearch/qa/rolling-upgrade/with-system-key/build/cluster/v6.3.0-SNAPSHOT#upgradedClusterTestCluster node0/elasticsearch-7.0.0-alpha1-SNAPSHOT, -Des.path.conf=/var/lib/jenkins/workspace/elastic+x-pack-elasticsearch+master+multijob-unix-compatibility/elasticsearch-extra/x-pack-elasticsearch/qa/rolling-upgrade/with-system-key/build/cluster/v6.3.0-SNAPSHOT#upgradedClusterTestCluster node0/elasticsearch-7.0.0-alpha1-SNAPSHOT/config]\r\n13:19:03 |    [2018-02-12T13:18:49,372][WARN ][o.e.n.Node               ] [node-0] version [7.0.0-alpha1-SNAPSHOT] is a pre-release version of Elasticsearch and is not suitable for production\r\n13:19:03 |    [2018-02-12T13:18:51,770][INFO ][o.e.p.PluginsService     ] [node-0] loaded module [aggs-matrix-stats]\r\n13:19:03 |    [2018-02-12T13:18:51,770][INFO ][o.e.p.PluginsService     ] [node-0] loaded module [analysis-common]\r\n13:19:03 |    [2018-02-12T13:18:51,770][INFO ][o.e.p.PluginsService     ] [node-0] loaded module [ingest-common]\r\n13:19:03 |    [2018-02-12T13:18:51,770][INFO ][o.e.p.PluginsService     ] [node-0] loaded module [lang-expression]\r\n13:19:03 |    [2018-02-12T13:18:51,770][INFO ][o.e.p.PluginsService     ] [node-0] loaded module [lang-mustache]\r\n13:19:03 |    [2018-02-12T13:18:51,770][INFO ][o.e.p.PluginsService     ] [node-0] loaded module [lang-painless]\r\n13:19:03 |    [2018-02-12T13:18:51,770][INFO ][o.e.p.PluginsService     ] [node-0] loaded module [mapper-extras]\r\n13:19:03 |    [2018-02-12T13:18:51,771][INFO ][o.e.p.PluginsService     ] [node-0] loaded module [parent-join]\r\n13:19:03 |    [2018-02-12T13:18:51,771][INFO ][o.e.p.PluginsService     ] [node-0] loaded module [percolator]\r\n13:19:03 |    [2018-02-12T13:18:51,771][INFO ][o.e.p.PluginsService     ] [node-0] loaded module [rank-eval]\r\n13:19:03 |    [2018-02-12T13:18:51,771][INFO ][o.e.p.PluginsService     ] [node-0] loaded module [reindex]\r\n13:19:03 |    [2018-02-12T13:18:51,771][INFO ][o.e.p.PluginsService     ] [node-0] loaded module [repository-url]\r\n13:19:03 |    [2018-02-12T13:18:51,771][INFO ][o.e.p.PluginsService     ] [node-0] loaded module [transport-netty4]\r\n13:19:03 |    [2018-02-12T13:18:51,772][INFO ][o.e.p.PluginsService     ] [node-0] loaded plugin [x-pack-core]\r\n13:19:03 |    [2018-02-12T13:18:51,772][INFO ][o.e.p.PluginsService     ] [node-0] loaded plugin [x-pack-deprecation]\r\n13:19:03 |    [2018-02-12T13:18:51,772][INFO ][o.e.p.PluginsService     ] [node-0] loaded plugin [x-pack-graph]\r\n13:19:03 |    [2018-02-12T13:18:51,772][INFO ][o.e.p.PluginsService     ] [node-0] loaded plugin [x-pack-logstash]\r\n13:19:03 |    [2018-02-12T13:18:51,772][INFO ][o.e.p.PluginsService     ] [node-0] loaded plugin [x-pack-ml]\r\n13:19:03 |    [2018-02-12T13:18:51,772][INFO ][o.e.p.PluginsService     ] [node-0] loaded plugin [x-pack-monitoring]\r\n13:19:03 |    [2018-02-12T13:18:51,772][INFO ][o.e.p.PluginsService     ] [node-0] loaded plugin [x-pack-security]\r\n13:19:03 |    [2018-02-12T13:18:51,773][INFO ][o.e.p.PluginsService     ] [node-0] loaded plugin [x-pack-sql]\r\n13:19:03 |    [2018-02-12T13:18:51,773][INFO ][o.e.p.PluginsService     ] [node-0] loaded plugin [x-pack-upgrade]\r\n13:19:03 |    [2018-02-12T13:18:51,773][INFO ][o.e.p.PluginsService     ] [node-0] loaded plugin [x-pack-watcher]\r\n13:19:03 |    [2018-02-12T13:18:55,244][INFO ][o.e.x.m.j.p.l.CppLogMessageHandler] [controller/2193] [Main.cc@129] controller (64 bit): Version 7.0.0-alpha1-SNAPSHOT (Build 91f906f0147062) Copyright (c) 2018 Elasticsearch BV\r\n13:19:03 |    [2018-02-12T13:18:56,588][DEBUG][o.e.a.ActionModule       ] Using REST wrapper from plugin org.elasticsearch.xpack.security.Security\r\n13:19:03 |    [2018-02-12T13:18:57,137][INFO ][o.e.d.DiscoveryModule    ] [node-0] using discovery type [zen]\r\n13:19:03 |    [2018-02-12T13:18:57,914][INFO ][o.e.n.Node               ] [node-0] initialized\r\n13:19:03 |    [2018-02-12T13:18:57,914][INFO ][o.e.n.Node               ] [node-0] starting ...\r\n13:19:03 |    [2018-02-12T13:18:58,049][INFO ][o.e.t.TransportService   ] [node-0] publish_address {127.0.0.1:38864}, bound_addresses {[::1]:45891}, {127.0.0.1:38864}\r\n13:19:03 |    [2018-02-12T13:18:58,084][WARN ][o.e.b.BootstrapChecks    ] [node-0] HTTPS is required in order to use the token service; please enable HTTPS using the [xpack.security.http.ssl.enabled] setting or disable the token service using the [xpack.security.authc.token.enabled] setting\r\n13:19:03 |    [2018-02-12T13:19:02,757][INFO ][o.e.c.s.ClusterApplierService] [node-0] master node changed {previous [], current [{node-0}{Jhp_A43OR9KOW2UvUo7OnQ}{t9GoosVjStSO0Qu49OY70A}{127.0.0.1}{127.0.0.1:42114}{testattr=test, upgraded=first, ml.machine_memory=16825872384, ml.max_open_jobs=20, ml.enabled=true}]}, added {{node-0}{Jhp_A43OR9KOW2UvUo7OnQ}{t9GoosVjStSO0Qu49OY70A}{127.0.0.1}{127.0.0.1:42114}{testattr=test, upgraded=first, ml.machine_memory=16825872384, ml.max_open_jobs=20, ml.enabled=true},}, reason: apply cluster state (from master [master {node-0}{Jhp_A43OR9KOW2UvUo7OnQ}{t9GoosVjStSO0Qu49OY70A}{127.0.0.1}{127.0.0.1:42114}{testattr=test, upgraded=first, ml.machine_memory=16825872384, ml.max_open_jobs=20, ml.enabled=true} committed version [197]])\r\n13:19:03 |    [2018-02-12T13:19:03,095][INFO ][o.e.x.s.a.TokenService   ] [node-0] refresh keys\r\n13:19:03 |    [2018-02-12T13:19:03,492][INFO ][o.e.x.s.a.TokenService   ] [node-0] refreshed keys\r\n13:19:03 |    [2018-02-12T13:19:03,514][INFO ][o.e.l.LicenseService     ] [node-0] license [d7c217c8-e7a6-4dfd-99f4-84f446ff9a6a] mode [trial] - valid\r\n13:19:03 |    [2018-02-12T13:19:03,542][INFO ][o.e.x.s.t.n.SecurityNetty4HttpServerTransport] [node-0] publish_address {127.0.0.1:42608}, bound_addresses {[::1]:39088}, {127.0.0.1:42608}\r\n13:19:03 |    [2018-02-12T13:19:03,543][INFO ][o.e.n.Node               ] [node-0] started\r\n```\r\n\r\nIn particular, more than half of the 30-second timeout elapsed before the timestamp on the first log line saying `[node-0] initializing ...` log line: the task apparently started at 13:18:33, but the first timestamp in the log is 13:18:49, 16 seconds later.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/365211969","html_url":"https://github.com/elastic/elasticsearch/issues/28650#issuecomment-365211969","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28650","id":365211969,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTIxMTk2OQ==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2018-02-13T09:55:24Z","updated_at":"2018-02-13T09:55:24Z","author_association":"CONTRIBUTOR","body":"To look at the variation in the durations of `*ClusterTestCluster#wait` tasks, I downloaded the logs from a selection of recent builds and extracted the times using the following.\r\n\r\n    cat log.txt | sed -e '/ClusterTestCluster#wait.*Took/!d; s/.* Took //; s/ .*//'\r\n\r\nThe distribution looks like this, broken down by OS:\r\n\r\n<img width=\"969\" alt=\"screen shot 2018-02-13 at 09 53 15\" src=\"https://user-images.githubusercontent.com/5058284/36143712-c445c01a-10a3-11e8-8fa3-64a74e4fd8f6.png\">\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/365271419","html_url":"https://github.com/elastic/elasticsearch/issues/28650#issuecomment-365271419","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28650","id":365271419,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTI3MTQxOQ==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2018-02-13T13:48:22Z","updated_at":"2018-02-13T13:48:22Z","author_association":"CONTRIBUTOR","body":"I just ran some xpack rolling upgrade tests with a profiler to see where time is spent. About 70% out of the ~51 seconds of CPU time that were spent on the Elasticsearch node were spent inside the JVM, mostly runnning compilation (~29 seconds).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/365354846","html_url":"https://github.com/elastic/elasticsearch/issues/28650#issuecomment-365354846","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28650","id":365354846,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTM1NDg0Ng==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-02-13T18:14:08Z","updated_at":"2018-02-13T18:14:08Z","author_association":"MEMBER","body":"Compilation executes concurrently with application execution. While this is an indication that CPU time is being spent on compilation, it is not necessarily indicative of where the real time during startup is going.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/365489574","html_url":"https://github.com/elastic/elasticsearch/issues/28650#issuecomment-365489574","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28650","id":365489574,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTQ4OTU3NA==","user":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"created_at":"2018-02-14T04:01:46Z","updated_at":"2018-02-14T04:01:46Z","author_association":"CONTRIBUTOR","body":"#28659 has added more logging to the node startup, but that 16 second startup time is still there, and is prior to the first log message:\r\n\r\n```\r\n03:27:18   Task has not declared any outputs.\r\n03:27:48 Node 0 output:\r\n03:27:48 |-----------------------------------------\r\n03:27:48 |  failure marker exists: false\r\n03:27:48 |  pid file exists: true\r\n03:27:48 |  http ports file exists: true\r\n03:27:48 |  transport ports file exists: true\r\n03:27:48 |\r\n03:27:48 |  [ant output]\r\n03:27:48 |\r\n03:27:48 |  [log]\r\n03:27:48 |    warning: ignoring JAVA_TOOL_OPTIONS=-Dfile.encoding=UTF8\r\n03:27:48 |    [2018-02-14T03:27:34,575][DEBUG][o.e.b.SystemCallFilter   ] Linux seccomp filter installation successful, threads: [all]\r\n```\r\n// snip \r\n```\r\n03:27:48 |    [2018-02-14T03:27:34,804][INFO ][o.e.n.Node               ] [node-0] initializing â€¦\r\n03:27:48 |    [2018-02-14T03:27:34,871][INFO ][o.e.e.NodeEnvironment    ] [node-0] using [1] data paths, mounts [[/ (/dev/xvda1)]], net usable_space [340.7gb], net total_space [992.6gb], types [ext4]\r\n03:27:48 |    [2018-02-14T03:27:34,871][INFO ][o.e.e.NodeEnvironment    ] [node-0] heap size [494.9mb], compressed ordinary object pointers [true]\r\n03:27:48 |    [2018-02-14T03:27:34,942][INFO ][o.e.n.Node               ] [node-0] node name [node-0], node ID [NcAMsKj8Tc-e55eiJciNNQ]\r\n```\r\n// snip\r\n```\r\n03:27:50 * What went wrong:\r\n03:27:50 Execution failed for task ':x-pack-elasticsearch:qa:rolling-upgrade:with-system-key:v6.3.0-SNAPSHOT#upgradedClusterTestCluster#wait'.\r\n03:27:50 > Failed to start elasticsearch: timed out after 30 seconds\r\n```\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/365530110","html_url":"https://github.com/elastic/elasticsearch/issues/28650#issuecomment-365530110","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28650","id":365530110,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTUzMDExMA==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2018-02-14T08:26:19Z","updated_at":"2018-02-14T08:52:42Z","author_association":"CONTRIBUTOR","body":"Similar behaviour to what @tvernum reported: 13 seconds startup time before the first log message.\r\n\r\n```\r\n06:29:21 :x-pack-elasticsearch:qa:rolling-upgrade:with-system-key:v5.6.8-SNAPSHOT#upgradedClusterTestCluster#start\r\n[...]\r\n06:29:51 |  [log]\r\n06:29:51 |    warning: ignoring JAVA_TOOL_OPTIONS=-Dfile.encoding=UTF8\r\n06:29:51 |    [2018-02-14T06:29:34,804][DEBUG][o.e.b.SystemCallFilter   ] Linux seccomp filter installation successful, threads: [all]\r\n06:29:51 |    [2018-02-14T06:29:34,811][DEBUG][o.e.b.JarHell            ] java.class.path:[...]\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/365535359","html_url":"https://github.com/elastic/elasticsearch/issues/28650#issuecomment-365535359","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28650","id":365535359,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTUzNTM1OQ==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2018-02-14T08:48:47Z","updated_at":"2018-02-14T08:48:47Z","author_association":"CONTRIBUTOR","body":"That last one was 15 sec from task start to first log message:\r\n\r\n```\r\n22:37:55 Task ':x-pack-elasticsearch:qa:rolling-upgrade:without-system-key:v6.3.0-SNAPSHOT#upgradedClusterTestCluster#wait' is not up-to-date because:\r\n22:37:55   Task has not declared any outputs.\r\n22:38:25 Node 0 output:\r\n22:38:25 |-----------------------------------------\r\n22:38:25 |  failure marker exists: false\r\n22:38:25 |  pid file exists: true\r\n22:38:25 |  http ports file exists: true\r\n22:38:25 |  transport ports file exists: true\r\n22:38:25 |\r\n22:38:25 |  [ant output]\r\n22:38:25 |\r\n22:38:25 |  [log]\r\n22:38:25 |    warning: ignoring JAVA_TOOL_OPTIONS=-Dfile.encoding=UTF8\r\n22:38:25 |    Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\r\n22:38:25 |    [2018-02-13T22:38:10,750][DEBUG][o.e.b.SystemCallFilter   ] Linux seccomp filter installation successful, threads: [all]\r\n```\r\n\r\nThe extra logging in #28659 has helped to clarify that the bulk of the delay is occurring prior to the bootstrap phase. @jasontedor can you suggest what to do next?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/365547551","html_url":"https://github.com/elastic/elasticsearch/issues/28650#issuecomment-365547551","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28650","id":365547551,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTU0NzU1MQ==","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"created_at":"2018-02-14T09:36:47Z","updated_at":"2018-02-14T09:36:47Z","author_association":"MEMBER","body":"The issue is only reproducible on our CI systems so I think we need to find out what's characteristic about them. So the first step is IMHO to get some system metrics (e.g. kernel activity). Knowing more about the machine activity / state at the point of the failure will hopefully help us to reproduce this reliably.\r\n\r\nAdditional supporting data may be:\r\n\r\n* kernel version\r\n* JVM version\r\n* How long the build ran until the failure has occurred\r\n\r\nFurthermore, we need to break down which parts of the startup take how long:\r\n\r\n* JVM initialization (e.g. time from process start until the first log line in the GC log)\r\n* Elasticsearch initialization (time from first log line (`[node-X] initializing ...`) until `[node-X] started`).\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/365614769","html_url":"https://github.com/elastic/elasticsearch/issues/28650#issuecomment-365614769","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28650","id":365614769,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTYxNDc2OQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-02-14T13:58:33Z","updated_at":"2018-02-14T13:58:33Z","author_association":"MEMBER","body":"> The extra logging in #28659 has helped to clarify that the bulk of the delay is occurring prior to the bootstrap phase.\r\n\r\nThat's an interesting data point. We do expect a delay here from `-XX:+AlwaysPreTouch` but we run these nodes with such small heaps (`512m`) that it seems unlikely to be the (sole) explanation.\r\n\r\n> @jasontedor can you suggest what to do next?\r\n\r\nAs you can see by the comment preceding mine, @danielmitterdorfer will take ownership of this one.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/365626843","html_url":"https://github.com/elastic/elasticsearch/issues/28650#issuecomment-365626843","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28650","id":365626843,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTYyNjg0Mw==","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"created_at":"2018-02-14T14:39:57Z","updated_at":"2018-02-14T14:39:57Z","author_association":"MEMBER","body":"> That's an interesting data point. We do expect a delay here from -XX:+AlwaysPreTouch but we run these nodes with such small heaps (512m) that it seems unlikely to be the (sole) explanation.\r\n\r\nI agree here.\r\n\r\nAs a next step, we will repeatedly run one of the affected builds on a dedicated worker node in order to expose this issue as often as possible. We will also gather additional system data (like paging activity) and try to correlate system behaviour during the time a build has failed.\r\n\r\nWe could also add more JVM logging to see what the JVM is actually doing during startup (I'd leverage JDK 9 unified logging for this).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/365629315","html_url":"https://github.com/elastic/elasticsearch/issues/28650#issuecomment-365629315","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28650","id":365629315,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTYyOTMxNQ==","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"created_at":"2018-02-14T14:47:54Z","updated_at":"2018-02-14T14:47:54Z","author_association":"MEMBER","body":"> Additional supporting data may be:\r\n>\r\n> * kernel version\r\n> * JVM version\r\n> * How long the build ran until the failure has occurred\r\n\r\nAn analysis of our build statistics has shown that all these variables are irrelevant. Among others, I also analysed the worker's uptime and the build duration. Uptime is irrelevant but most of the builds failed between one and two hours into the build.\r\n\r\nThe only data point that stands out that all builds have been run on `m4.xlarge` worker instances (i.e. *not* bare metal).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/365905076","html_url":"https://github.com/elastic/elasticsearch/issues/28650#issuecomment-365905076","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28650","id":365905076,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTkwNTA3Ng==","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"created_at":"2018-02-15T11:52:30Z","updated_at":"2018-02-20T12:24:12Z","author_association":"MEMBER","body":"I did a more detailed investigation on one affected CI node and it turns out that `-XX:+AlwaysPreTouch` seems to be the problem (or rather amplifying the underlying problem).\r\n\r\n### Test scenario\r\n\r\nStart Elasticsearch 5.6.7 on an affected node, once with default settings (i.e. `-XX:+AlwaysPreTouch`) and once without pretouching (i.e. `-XX:-AlwaysPreTouch`). We measure the time from process start until the first log line:\r\n\r\n| `AlwaysPreTouch` | Time to First Log Message | \r\n|------------------|---------------------------| \r\n| enabled          | 80 seconds                | \r\n| disabled         | 3 seconds                 | \r\n\r\n### Analysis\r\n\r\nHowever, this is not the whole story. I also ran `perf` while starting Elasticsearch and this shows up highest in `perf report`:\r\n\r\n```\r\nOverhead  Command        Shared Object       Symbol                                                                                                             \r\n  67.45%  java           [kernel.kallsyms]   [k] isolate_freepages_block\r\n```\r\n\r\nThis function is called when the kernel tries to free up a large enough contiguous block of memory (see also [its source code](https://elixir.bootlin.com/linux/v4.4/source/mm/compaction.c#L389)) which leads me to the assumption that memory in our CI systems is fragmented due to the volume of builds and the kernel is [compacting memory](https://lwn.net/Articles/368869/). Also quoting [Memory Compaction v8](https://lwn.net/Articles/384150/) (note: that source is almost 8 years old now so the information may or may not correct as of today):\r\n\r\n> Memory compaction can be triggered in one of three ways. It may be triggered\r\nexplicitly by writing any value to /proc/sys/vm/compact_memory and compacting\r\nall of memory. It can be triggered on a per-node basis by writing any\r\nvalue to /sys/devices/system/node/nodeN/compact where N is the node ID to\r\nbe compacted. When a process fails to allocate a high-order page, it may\r\ncompact memory in an attempt to satisfy the allocation instead of entering\r\ndirect reclaim.\r\n\r\n\r\n### Next steps\r\n\r\nWe will now record further data to actually back up that assumption.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/366258479","html_url":"https://github.com/elastic/elasticsearch/issues/28650#issuecomment-366258479","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28650","id":366258479,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjI1ODQ3OQ==","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"created_at":"2018-02-16T14:59:33Z","updated_at":"2018-02-16T14:59:33Z","author_association":"MEMBER","body":"Initial test with the same test setup as above on a machine where we have seen timeouts again:\r\n\r\n| `AlwaysPreTouch` | Time to First Log Message [s] | Time until started [s] | \r\n|------------------|-------------------------------|------------------------| \r\n| enabled          | 29                            | 37                     | \r\n| disabled         | 3                             | 16                     | \r\n\r\n\r\nAfter explicitly compacting memory (`echo 1 > /proc/sys/vm/compact_memory`):\r\n\r\n(I waited for 60 seconds with the next test after compacting memory).\r\n\r\n| `AlwaysPreTouch` | Time to First Log Message [s] | Time until started [s] | \r\n|------------------|-------------------------------|------------------------| \r\n| enabled          | 29                            | 37                     | \r\n| disabled         | 3                             | 16                     | \r\n\r\nThe times were identical. Furthermore, there were no noticeable differences in `/proc/pagetypeinfo` or `/proc/vmstat` so I would consider the request for memory compaction ineffective.\r\n\r\nAfter dropping the page cache and Slab objects (`sync && echo 3 > /proc/sys/vm/drop_caches`):\r\n\r\n| `AlwaysPreTouch` | Time to First Log Message [s] | Time until started [s] | \r\n|------------------|-------------------------------|------------------------| \r\n| enabled          | 3                             | 10                     | \r\n| disabled         | 1                             |  8                     | \r\n\r\nThis is a significant improvement so I suggest that we drop the page cache before each build as a first step.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/366614519","html_url":"https://github.com/elastic/elasticsearch/issues/28650#issuecomment-366614519","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28650","id":366614519,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjYxNDUxOQ==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2018-02-19T08:07:09Z","updated_at":"2018-02-19T08:07:09Z","author_association":"CONTRIBUTOR","body":"Hurrah!\r\n\r\nJust to check - you're proposing dropping the page cache at the start of the whole build and not at the start of each individual integration test? If so, this means that dirty pages will accumulate throughout the test run. This might well be fine: I'm just checking I understand.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/366615850","html_url":"https://github.com/elastic/elasticsearch/issues/28650#issuecomment-366615850","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28650","id":366615850,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjYxNTg1MA==","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"created_at":"2018-02-19T08:14:34Z","updated_at":"2018-02-19T08:14:34Z","author_association":"MEMBER","body":"Yes, your understanding of my proposal is correct. IMHO this is the most straightforward change that we can make in the first step. You are also right that the situation may get worse over the course of a single build. In that case we would probably need to modify kernel parameters to write back dirty pages more aggressively but I'd rather stick to the stock configuration first and only tune if it should turn out be necessary.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/367675265","html_url":"https://github.com/elastic/elasticsearch/issues/28650#issuecomment-367675265","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28650","id":367675265,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NzY3NTI2NQ==","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"created_at":"2018-02-22T13:08:22Z","updated_at":"2018-02-22T13:09:01Z","author_association":"MEMBER","body":"We have implemented changes in CI yesterday to drop the page cache as well as request memory compaction (it turned out that dropping caches provided the most benefit, and requesting memory compaction afterwards improved the situation even more).\r\n\r\nBefore this change we have seen around 16 build failures caused by ES startup timeouts per day. In the last 24 hours it was only 2 build failures. So while this has improved the situation significantly, we are not quite there yet.\r\n\r\nI'd still want to avoid fiddling with kernel parameters (it's not that I have no idea which knobs to turn, it's rather that I think this should really be our very last resort). I currently analyse the memory requirements of our build and will try to reduce our memory requirements (i.e. reducing compiler memory, test memory, etc.). For example, I already found out that we (IMHO unnecessarily) store geoip data on-heap thus increasing our heap requirements in the build as well (see #28782 for details).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/372596386","html_url":"https://github.com/elastic/elasticsearch/issues/28650#issuecomment-372596386","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28650","id":372596386,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MjU5NjM4Ng==","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"created_at":"2018-03-13T09:12:45Z","updated_at":"2018-03-13T09:12:45Z","author_association":"MEMBER","body":"Two weeks ago we had a problem in our CI infrastructure so the script that dropped the page cache and requested memory compaction was not called (it was called initially as I noted in my previous comment but then we added another check which made it completely ineffective). After this was fixed, we did not see a single failure due to these timeouts within two weeks. Hence, closing.","performed_via_github_app":null}]