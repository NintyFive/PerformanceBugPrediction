{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/48956","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48956/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48956/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48956/events","html_url":"https://github.com/elastic/elasticsearch/issues/48956","id":521112827,"node_id":"MDU6SXNzdWU1MjExMTI4Mjc=","number":48956,"title":"Update Edge NGram Tokenizer documentation","user":{"login":"Stefanqn","id":139038,"node_id":"MDQ6VXNlcjEzOTAzOA==","avatar_url":"https://avatars0.githubusercontent.com/u/139038?v=4","gravatar_id":"","url":"https://api.github.com/users/Stefanqn","html_url":"https://github.com/Stefanqn","followers_url":"https://api.github.com/users/Stefanqn/followers","following_url":"https://api.github.com/users/Stefanqn/following{/other_user}","gists_url":"https://api.github.com/users/Stefanqn/gists{/gist_id}","starred_url":"https://api.github.com/users/Stefanqn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Stefanqn/subscriptions","organizations_url":"https://api.github.com/users/Stefanqn/orgs","repos_url":"https://api.github.com/users/Stefanqn/repos","events_url":"https://api.github.com/users/Stefanqn/events{/privacy}","received_events_url":"https://api.github.com/users/Stefanqn/received_events","type":"User","site_admin":false},"labels":[{"id":142001965,"node_id":"MDU6TGFiZWwxNDIwMDE5NjU=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Analysis","name":":Search/Analysis","color":"0e8a16","default":false,"description":"How text is split into tokens"},{"id":23715,"node_id":"MDU6TGFiZWwyMzcxNQ==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Edocs","name":">docs","color":"db755e","default":false,"description":"General docs changes"}],"state":"closed","locked":false,"assignee":{"login":"jrodewig","id":40268737,"node_id":"MDQ6VXNlcjQwMjY4NzM3","avatar_url":"https://avatars1.githubusercontent.com/u/40268737?v=4","gravatar_id":"","url":"https://api.github.com/users/jrodewig","html_url":"https://github.com/jrodewig","followers_url":"https://api.github.com/users/jrodewig/followers","following_url":"https://api.github.com/users/jrodewig/following{/other_user}","gists_url":"https://api.github.com/users/jrodewig/gists{/gist_id}","starred_url":"https://api.github.com/users/jrodewig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrodewig/subscriptions","organizations_url":"https://api.github.com/users/jrodewig/orgs","repos_url":"https://api.github.com/users/jrodewig/repos","events_url":"https://api.github.com/users/jrodewig/events{/privacy}","received_events_url":"https://api.github.com/users/jrodewig/received_events","type":"User","site_admin":false},"assignees":[{"login":"jrodewig","id":40268737,"node_id":"MDQ6VXNlcjQwMjY4NzM3","avatar_url":"https://avatars1.githubusercontent.com/u/40268737?v=4","gravatar_id":"","url":"https://api.github.com/users/jrodewig","html_url":"https://github.com/jrodewig","followers_url":"https://api.github.com/users/jrodewig/followers","following_url":"https://api.github.com/users/jrodewig/following{/other_user}","gists_url":"https://api.github.com/users/jrodewig/gists{/gist_id}","starred_url":"https://api.github.com/users/jrodewig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrodewig/subscriptions","organizations_url":"https://api.github.com/users/jrodewig/orgs","repos_url":"https://api.github.com/users/jrodewig/repos","events_url":"https://api.github.com/users/jrodewig/events{/privacy}","received_events_url":"https://api.github.com/users/jrodewig/received_events","type":"User","site_admin":false}],"milestone":null,"comments":6,"created_at":"2019-11-11T18:18:02Z","updated_at":"2019-11-13T11:11:26Z","closed_at":"2019-11-13T11:11:26Z","author_association":"NONE","active_lock_reason":null,"body":"<!-- Bug report -->\r\n\r\n**Elasticsearch version** (`bin/elasticsearch --version`): current \r\n\r\n**Plugins installed**: []\r\n\r\n**JVM version** (`java -version`): -\r\n\r\n**OS version** (`uname -a` if on a Unix-like system): - \r\n\r\n**Description of the problem including expected versus actual behavior**: bad behaviour\r\n\r\n**Steps to reproduce**:\r\n 1. read the elasticsearch documentation [regarding Edge NGram](https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-edgengram-tokenizer.html) and use the 'Example configuration' with split `search_analyzer` and `analyzer`\r\n 2. this will result in unexpected behavior when exceeding the `max_gram` length, e.g. for `\"max_gram\": 3` searching for an existing, indexed \"aaaa\" returns an empty result set.\r\n 3. please update the documentation, e.g. with following configuration\r\n```\r\n \"settings\": {\r\n        \"analysis\": {\r\n            \"filter\": {\r\n                \"truncate_search\": {\r\n                    \"type\": \"truncate\",\r\n                    \"length\": 10\r\n                }\r\n            },\r\n            \"analyzer\": {\r\n                \"autocomplete\": {\r\n                    \"tokenizer\": \"autocomplete\",\r\n                    \"filter\": [\r\n                        \"lowercase\"\r\n                    ]\r\n                },\r\n                \"autocomplete_search\": {\r\n                    \"tokenizer\": \"lowercase\",\r\n                    \"filter\": \"truncate_search\"\r\n                }\r\n            },\r\n            \"tokenizer\": {\r\n                \"autocomplete\": {\r\n                    \"type\": \"edge_ngram\",\r\n                    \"min_gram\": 1,\r\n                    \"max_gram\": 10,\r\n                    \"token_chars\": [\r\n                        \"letter\"\r\n                    ]\r\n                }\r\n            }\r\n        }\r\n    }\r\n``` \r\nshowing the need for a `truncate` filter.\r\n\r\n**Provide logs (if relevant)**: -\r\n\r\n","closed_by":{"login":"Stefanqn","id":139038,"node_id":"MDQ6VXNlcjEzOTAzOA==","avatar_url":"https://avatars0.githubusercontent.com/u/139038?v=4","gravatar_id":"","url":"https://api.github.com/users/Stefanqn","html_url":"https://github.com/Stefanqn","followers_url":"https://api.github.com/users/Stefanqn/followers","following_url":"https://api.github.com/users/Stefanqn/following{/other_user}","gists_url":"https://api.github.com/users/Stefanqn/gists{/gist_id}","starred_url":"https://api.github.com/users/Stefanqn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Stefanqn/subscriptions","organizations_url":"https://api.github.com/users/Stefanqn/orgs","repos_url":"https://api.github.com/users/Stefanqn/repos","events_url":"https://api.github.com/users/Stefanqn/events{/privacy}","received_events_url":"https://api.github.com/users/Stefanqn/received_events","type":"User","site_admin":false},"performed_via_github_app":null}