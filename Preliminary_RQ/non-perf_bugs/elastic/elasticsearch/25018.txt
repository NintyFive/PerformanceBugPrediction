{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/25018","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25018/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25018/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25018/events","html_url":"https://github.com/elastic/elasticsearch/issues/25018","id":233055294,"node_id":"MDU6SXNzdWUyMzMwNTUyOTQ=","number":25018,"title":"Cluster stats fs metrics showing exabytes of storage","user":{"login":"ppf2","id":7216393,"node_id":"MDQ6VXNlcjcyMTYzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/7216393?v=4","gravatar_id":"","url":"https://api.github.com/users/ppf2","html_url":"https://github.com/ppf2","followers_url":"https://api.github.com/users/ppf2/followers","following_url":"https://api.github.com/users/ppf2/following{/other_user}","gists_url":"https://api.github.com/users/ppf2/gists{/gist_id}","starred_url":"https://api.github.com/users/ppf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppf2/subscriptions","organizations_url":"https://api.github.com/users/ppf2/orgs","repos_url":"https://api.github.com/users/ppf2/repos","events_url":"https://api.github.com/users/ppf2/events{/privacy}","received_events_url":"https://api.github.com/users/ppf2/received_events","type":"User","site_admin":false},"labels":[{"id":146836529,"node_id":"MDU6TGFiZWwxNDY4MzY1Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Stats","name":":Core/Features/Stats","color":"0e8a16","default":false,"description":"Statistics tracking and retrieval APIs"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"assignees":[{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2017-06-02T01:49:16Z","updated_at":"2017-09-07T22:25:52Z","closed_at":"2017-09-07T22:25:52Z","author_association":"MEMBER","active_lock_reason":null,"body":"5.3.0\r\n\r\nNot sure if it is related to https://github.com/elastic/elasticsearch/issues/24472\r\n(there are no multiple instances running on the node machines in this case).\r\n\r\nThe cluster level stats collected shows a correct total # of cores across all the nodes in the cluster, but check out the fs metrics.\r\n\r\n```\r\n            \"nodes\": {\r\n              \"count\": {\r\n                \"total\": 12,\r\n                \"data\": 8,\r\n                \"coordinating_only\": 1,\r\n                \"master\": 3,\r\n                \"ingest\": 0\r\n              },\r\n              \"versions\": [\r\n                \"5.3.0\"\r\n              ],\r\n              \"os\": {\r\n                \"available_processors\": 208,\r\n                \"allocated_processors\": 208,\r\n                \"names\": [\r\n                  {\r\n                    \"name\": \"Linux\",\r\n                    \"count\": 12\r\n                  }\r\n                ],\r\n                \"mem\": {\r\n                  \"total_in_bytes\": 580037025792,\r\n                  \"free_in_bytes\": 26477555712,\r\n                  \"used_in_bytes\": 553559470080,\r\n                  \"free_percent\": 5,\r\n                  \"used_percent\": 95\r\n                }\r\n              },\r\n              \"process\": {\r\n                \"cpu\": {\r\n                  \"percent\": 17\r\n                },\r\n                \"open_file_descriptors\": {\r\n                  \"min\": 460,\r\n                  \"max\": 3334,\r\n                  \"avg\": 1872\r\n                }\r\n              },\r\n              \"jvm\": {\r\n                \"max_uptime_in_millis\": 228782957,\r\n                \"versions\": [\r\n                  {\r\n                    \"version\": \"1.8.0_121\",\r\n                    \"vm_name\": \"OpenJDK 64-Bit Server VM\",\r\n                    \"vm_version\": \"25.121-b13\",\r\n                    \"vm_vendor\": \"Oracle Corporation\",\r\n                    \"count\": 1\r\n                  },\r\n                  {\r\n                    \"version\": \"1.8.0_111\",\r\n                    \"vm_name\": \"OpenJDK 64-Bit Server VM\",\r\n                    \"vm_version\": \"25.111-b15\",\r\n                    \"vm_vendor\": \"Oracle Corporation\",\r\n                    \"count\": 11\r\n                  }\r\n                ],\r\n                \"mem\": {\r\n                  \"heap_used_in_bytes\": 153405442560,\r\n                  \"heap_max_in_bytes\": 277777219584\r\n                },\r\n                \"threads\": 2305\r\n              },\r\n              \"fs\": {\r\n                \"total_in_bytes\": 9223372036854776000,\r\n                \"free_in_bytes\": 9223372036854776000,\r\n                \"available_in_bytes\": 9223372036854776000,\r\n                \"spins\": \"true\"\r\n              }\r\n```\r\n\r\nfs metrics is showing total, free and available to be all the same, and in exabytes which is not possible.  All the nodes in this cluster have < 3Tb of disk each.","closed_by":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"performed_via_github_app":null}