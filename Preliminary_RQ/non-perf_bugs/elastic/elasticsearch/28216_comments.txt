[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/357618471","html_url":"https://github.com/elastic/elasticsearch/issues/28216#issuecomment-357618471","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28216","id":357618471,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzYxODQ3MQ==","user":{"login":"tahirahmad2030","id":11959968,"node_id":"MDQ6VXNlcjExOTU5OTY4","avatar_url":"https://avatars2.githubusercontent.com/u/11959968?v=4","gravatar_id":"","url":"https://api.github.com/users/tahirahmad2030","html_url":"https://github.com/tahirahmad2030","followers_url":"https://api.github.com/users/tahirahmad2030/followers","following_url":"https://api.github.com/users/tahirahmad2030/following{/other_user}","gists_url":"https://api.github.com/users/tahirahmad2030/gists{/gist_id}","starred_url":"https://api.github.com/users/tahirahmad2030/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tahirahmad2030/subscriptions","organizations_url":"https://api.github.com/users/tahirahmad2030/orgs","repos_url":"https://api.github.com/users/tahirahmad2030/repos","events_url":"https://api.github.com/users/tahirahmad2030/events{/privacy}","received_events_url":"https://api.github.com/users/tahirahmad2030/received_events","type":"User","site_admin":false},"created_at":"2018-01-15T08:51:57Z","updated_at":"2018-01-15T08:51:57Z","author_association":"NONE","body":"example : I have a query like \"I love blue fox\". The document which I indexed in elastic search contains \"Black and Brown fox are animals\".\r\nMy requirement is to get offsets of matching tokens in the input query. for example in this case from \"I love blue fox\" fox is matching to one document. How can I get offsets of query terms which matched the document. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/357631639","html_url":"https://github.com/elastic/elasticsearch/issues/28216#issuecomment-357631639","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28216","id":357631639,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzYzMTYzOQ==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2018-01-15T09:46:10Z","updated_at":"2018-01-15T09:46:10Z","author_association":"MEMBER","body":"You can use highlighters for this but currently there is no way to \"just\" return the matching offsets:\r\nhttps://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-highlighting.html\r\n\r\nThere's already a feature request for this:\r\nhttps://github.com/elastic/elasticsearch/issues/5736\r\nI see that you commented on this issue so I hope you don't mind if I close this.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/357633636","html_url":"https://github.com/elastic/elasticsearch/issues/28216#issuecomment-357633636","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28216","id":357633636,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzYzMzYzNg==","user":{"login":"tahirahmad2030","id":11959968,"node_id":"MDQ6VXNlcjExOTU5OTY4","avatar_url":"https://avatars2.githubusercontent.com/u/11959968?v=4","gravatar_id":"","url":"https://api.github.com/users/tahirahmad2030","html_url":"https://github.com/tahirahmad2030","followers_url":"https://api.github.com/users/tahirahmad2030/followers","following_url":"https://api.github.com/users/tahirahmad2030/following{/other_user}","gists_url":"https://api.github.com/users/tahirahmad2030/gists{/gist_id}","starred_url":"https://api.github.com/users/tahirahmad2030/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tahirahmad2030/subscriptions","organizations_url":"https://api.github.com/users/tahirahmad2030/orgs","repos_url":"https://api.github.com/users/tahirahmad2030/repos","events_url":"https://api.github.com/users/tahirahmad2030/events{/privacy}","received_events_url":"https://api.github.com/users/tahirahmad2030/received_events","type":"User","site_admin":false},"created_at":"2018-01-15T09:53:58Z","updated_at":"2018-01-15T09:53:58Z","author_association":"NONE","body":"@jimczi My problem is to highlight the query matching terms not the result terms. So this issue is different from #5736.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/357634245","html_url":"https://github.com/elastic/elasticsearch/issues/28216#issuecomment-357634245","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28216","id":357634245,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzYzNDI0NQ==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2018-01-15T09:56:27Z","updated_at":"2018-01-15T09:56:27Z","author_association":"MEMBER","body":"Ok I see, then could the named query help ?\r\nhttps://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-named-queries-and-filters.html","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/357649108","html_url":"https://github.com/elastic/elasticsearch/issues/28216#issuecomment-357649108","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28216","id":357649108,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzY0OTEwOA==","user":{"login":"tahirahmad2030","id":11959968,"node_id":"MDQ6VXNlcjExOTU5OTY4","avatar_url":"https://avatars2.githubusercontent.com/u/11959968?v=4","gravatar_id":"","url":"https://api.github.com/users/tahirahmad2030","html_url":"https://github.com/tahirahmad2030","followers_url":"https://api.github.com/users/tahirahmad2030/followers","following_url":"https://api.github.com/users/tahirahmad2030/following{/other_user}","gists_url":"https://api.github.com/users/tahirahmad2030/gists{/gist_id}","starred_url":"https://api.github.com/users/tahirahmad2030/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tahirahmad2030/subscriptions","organizations_url":"https://api.github.com/users/tahirahmad2030/orgs","repos_url":"https://api.github.com/users/tahirahmad2030/repos","events_url":"https://api.github.com/users/tahirahmad2030/events{/privacy}","received_events_url":"https://api.github.com/users/tahirahmad2030/received_events","type":"User","site_admin":false},"created_at":"2018-01-15T10:54:45Z","updated_at":"2018-01-15T10:54:45Z","author_association":"NONE","body":"@jimczi I don't think named query will help in my case as I have a large single query (a page) from which I need to find the matching terms. Named query seem to be an explicit name given to a query and when it is matched the same explicit name under \"_name\" gets added to \"matched_queries\" list. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/357660847","html_url":"https://github.com/elastic/elasticsearch/issues/28216#issuecomment-357660847","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28216","id":357660847,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzY2MDg0Nw==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2018-01-15T11:48:04Z","updated_at":"2018-01-15T11:48:04Z","author_association":"MEMBER","body":"Yes that's how named queries work. You could also split the large query into several match queries (one for each term) and use named queries to retrieve which term matched ? \r\nThe matches for each document will be different so I don't see how we could highlight the input query (unless we highlight it for every hit). ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/357670198","html_url":"https://github.com/elastic/elasticsearch/issues/28216#issuecomment-357670198","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28216","id":357670198,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzY3MDE5OA==","user":{"login":"tahirahmad2030","id":11959968,"node_id":"MDQ6VXNlcjExOTU5OTY4","avatar_url":"https://avatars2.githubusercontent.com/u/11959968?v=4","gravatar_id":"","url":"https://api.github.com/users/tahirahmad2030","html_url":"https://github.com/tahirahmad2030","followers_url":"https://api.github.com/users/tahirahmad2030/followers","following_url":"https://api.github.com/users/tahirahmad2030/following{/other_user}","gists_url":"https://api.github.com/users/tahirahmad2030/gists{/gist_id}","starred_url":"https://api.github.com/users/tahirahmad2030/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tahirahmad2030/subscriptions","organizations_url":"https://api.github.com/users/tahirahmad2030/orgs","repos_url":"https://api.github.com/users/tahirahmad2030/repos","events_url":"https://api.github.com/users/tahirahmad2030/events{/privacy}","received_events_url":"https://api.github.com/users/tahirahmad2030/received_events","type":"User","site_admin":false},"created_at":"2018-01-15T12:31:30Z","updated_at":"2018-01-15T12:31:30Z","author_association":"NONE","body":"@jimczi Thanks","performed_via_github_app":null}]