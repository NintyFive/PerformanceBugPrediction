[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/136713938","html_url":"https://github.com/elastic/elasticsearch/issues/13236#issuecomment-136713938","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13236","id":136713938,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNjcxMzkzOA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-09-01T13:09:32Z","updated_at":"2015-09-01T13:09:32Z","author_association":"CONTRIBUTOR","body":"@cbuescher could you take a look at this please?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/138270229","html_url":"https://github.com/elastic/elasticsearch/issues/13236#issuecomment-138270229","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13236","id":138270229,"node_id":"MDEyOklzc3VlQ29tbWVudDEzODI3MDIyOQ==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2015-09-07T11:02:38Z","updated_at":"2015-09-07T12:00:35Z","author_association":"MEMBER","body":"@colmaengus thanks for pointing this out, you are right that in ES 1.7 changing `time_zone` doesn't have an impact on the bucket `key_as_string` yet. This was changes with https://github.com/elastic/elasticsearch/pull/9744 and will be working in the upcoming 2.0 release.\n\nIn 1.7. `time_zone` is basically still working like `pre_zone` in that it shifts bucket boundaries for day intervals and larger but doesn't affect the buckey keys. Unfortunately you still need to use `post_zone` if you want to affect the buckey keys. In 2.0 the bucket `key` will always be returned in UTC to avoid confusion with time zone issues, but the `key_as_string` will take the `time_zone` setting of the aggregation into account, giving you the behaviour you probably expected above. Let me know if this clarifies things or if you need more help with this.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/138350370","html_url":"https://github.com/elastic/elasticsearch/issues/13236#issuecomment-138350370","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13236","id":138350370,"node_id":"MDEyOklzc3VlQ29tbWVudDEzODM1MDM3MA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-09-07T18:04:33Z","updated_at":"2015-09-07T18:04:33Z","author_association":"CONTRIBUTOR","body":"I've updated the 2.0 documentation for `time_zone` in date histograms to demonstrate more clearly how it will work: https://www.elastic.co/guide/en/elasticsearch/reference/2.0/search-aggregations-bucket-datehistogram-aggregation.html#_time_zone\n\nWe're not going to change this in 1.7, so I'm going to close this issue\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/138362311","html_url":"https://github.com/elastic/elasticsearch/issues/13236#issuecomment-138362311","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13236","id":138362311,"node_id":"MDEyOklzc3VlQ29tbWVudDEzODM2MjMxMQ==","user":{"login":"colmaengus","id":6358852,"node_id":"MDQ6VXNlcjYzNTg4NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/6358852?v=4","gravatar_id":"","url":"https://api.github.com/users/colmaengus","html_url":"https://github.com/colmaengus","followers_url":"https://api.github.com/users/colmaengus/followers","following_url":"https://api.github.com/users/colmaengus/following{/other_user}","gists_url":"https://api.github.com/users/colmaengus/gists{/gist_id}","starred_url":"https://api.github.com/users/colmaengus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colmaengus/subscriptions","organizations_url":"https://api.github.com/users/colmaengus/orgs","repos_url":"https://api.github.com/users/colmaengus/repos","events_url":"https://api.github.com/users/colmaengus/events{/privacy}","received_events_url":"https://api.github.com/users/colmaengus/received_events","type":"User","site_admin":false},"created_at":"2015-09-07T19:15:56Z","updated_at":"2015-09-07T19:15:56Z","author_association":"NONE","body":"Thanks for the clarification guys.\n\nOn Mon, Sep 7, 2015 at 7:05 PM, Clinton Gormley notifications@github.com\nwrote:\n\n> I've updated the 2.0 documentation for time_zone in date histograms to\n> demonstrate more clearly how it will work:\n> https://www.elastic.co/guide/en/elasticsearch/reference/2.0/search-aggregations-bucket-datehistogram-aggregation.html#_time_zone\n> \n> We're not going to change this in 1.7, so I'm going to close this issue\n> \n> â€”\n> Reply to this email directly or view it on GitHub\n> https://github.com/elastic/elasticsearch/issues/13236#issuecomment-138350370\n> .\n","performed_via_github_app":null}]