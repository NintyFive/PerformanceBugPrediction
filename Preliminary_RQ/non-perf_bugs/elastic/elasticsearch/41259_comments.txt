[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/483693179","html_url":"https://github.com/elastic/elasticsearch/issues/41259#issuecomment-483693179","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41259","id":483693179,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzY5MzE3OQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-04-16T14:46:55Z","updated_at":"2019-04-16T14:46:55Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/483818668","html_url":"https://github.com/elastic/elasticsearch/issues/41259#issuecomment-483818668","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41259","id":483818668,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzgxODY2OA==","user":{"login":"RichardBradley","id":1265780,"node_id":"MDQ6VXNlcjEyNjU3ODA=","avatar_url":"https://avatars3.githubusercontent.com/u/1265780?v=4","gravatar_id":"","url":"https://api.github.com/users/RichardBradley","html_url":"https://github.com/RichardBradley","followers_url":"https://api.github.com/users/RichardBradley/followers","following_url":"https://api.github.com/users/RichardBradley/following{/other_user}","gists_url":"https://api.github.com/users/RichardBradley/gists{/gist_id}","starred_url":"https://api.github.com/users/RichardBradley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RichardBradley/subscriptions","organizations_url":"https://api.github.com/users/RichardBradley/orgs","repos_url":"https://api.github.com/users/RichardBradley/repos","events_url":"https://api.github.com/users/RichardBradley/events{/privacy}","received_events_url":"https://api.github.com/users/RichardBradley/received_events","type":"User","site_admin":false},"created_at":"2019-04-16T19:52:05Z","updated_at":"2019-04-17T13:24:17Z","author_association":"NONE","body":"This issue also reproduces for me on an AWS hosted Elasticsearch cluster, version 6.5, with the default settings. I have added this info to the top of the bug report above.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/494873627","html_url":"https://github.com/elastic/elasticsearch/issues/41259#issuecomment-494873627","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41259","id":494873627,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDg3MzYyNw==","user":{"login":"RichardBradley","id":1265780,"node_id":"MDQ6VXNlcjEyNjU3ODA=","avatar_url":"https://avatars3.githubusercontent.com/u/1265780?v=4","gravatar_id":"","url":"https://api.github.com/users/RichardBradley","html_url":"https://github.com/RichardBradley","followers_url":"https://api.github.com/users/RichardBradley/followers","following_url":"https://api.github.com/users/RichardBradley/following{/other_user}","gists_url":"https://api.github.com/users/RichardBradley/gists{/gist_id}","starred_url":"https://api.github.com/users/RichardBradley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RichardBradley/subscriptions","organizations_url":"https://api.github.com/users/RichardBradley/orgs","repos_url":"https://api.github.com/users/RichardBradley/repos","events_url":"https://api.github.com/users/RichardBradley/events{/privacy}","received_events_url":"https://api.github.com/users/RichardBradley/received_events","type":"User","site_admin":false},"created_at":"2019-05-22T16:20:04Z","updated_at":"2019-05-22T16:20:04Z","author_association":"NONE","body":"I think this is not a real bug, but a combination of two things:\r\n\r\n1. My text has no punctuation, so the default `sentence` boundary scanner finds no boundaries. In this case, Elasticsearch will always return a highlighted snippet with the term at the end of the text shown, rather than (as I had hoped and assumed) with the term in the middle.\r\n\r\n2. The examples above are very hard to read correctly, because they contain a mix of RTL and LTR characters, so they are rendered not in their byte order in browsers and text editors.\r\n\r\nI believe that the word is in fact being highlighted correctly in its correct place in the document (but this is always at the end of a selected snippet, due to the no punctuation issue).\r\n\r\nIf anyone knows how to get the highlighter to choose a snippet surrounding the match rather than preceding the match in the case where no sentence boundaries are found, I would love to hear it.\r\n\r\nThanks,\r\n\r\n\r\nRich\r\n","performed_via_github_app":null}]