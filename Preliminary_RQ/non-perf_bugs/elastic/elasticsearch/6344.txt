{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/6344","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6344/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6344/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6344/events","html_url":"https://github.com/elastic/elasticsearch/issues/6344","id":34618245,"node_id":"MDU6SXNzdWUzNDYxODI0NQ==","number":6344,"title":"docs-delete-by-query is not working with elasticsearch 1.2.0","user":{"login":"happyprg","id":779556,"node_id":"MDQ6VXNlcjc3OTU1Ng==","avatar_url":"https://avatars0.githubusercontent.com/u/779556?v=4","gravatar_id":"","url":"https://api.github.com/users/happyprg","html_url":"https://github.com/happyprg","followers_url":"https://api.github.com/users/happyprg/followers","following_url":"https://api.github.com/users/happyprg/following{/other_user}","gists_url":"https://api.github.com/users/happyprg/gists{/gist_id}","starred_url":"https://api.github.com/users/happyprg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/happyprg/subscriptions","organizations_url":"https://api.github.com/users/happyprg/orgs","repos_url":"https://api.github.com/users/happyprg/repos","events_url":"https://api.github.com/users/happyprg/events{/privacy}","received_events_url":"https://api.github.com/users/happyprg/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2014-05-30T05:06:56Z","updated_at":"2014-05-30T05:14:15Z","closed_at":"2014-05-30T05:14:15Z","author_association":"NONE","active_lock_reason":null,"body":"i think do that wrote according to guideline.\nhttps://github.com/elasticsearch/elasticsearch/blob/master/CONTRIBUTING.md\n\nfrom elasticsearch version 0.90.7, was used delete-by-query-string query . \nat the one time. deleted approximately 250 doc. \nhttp://www.elasticsearch.org/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html \n\nand i did upgrade version to 1.2.0.\nafter that, i did meet up error screen. \nplease help me .. \nthanks you.\n# create index\n\ncurl -XPOST 'http://10.99.196.141:22000/delete_by_query_string_query_test1'\n# create mapping\n\ncurl -XPUT 'http://10.99.196.141:22000/delete_by_query_string_query_test1/1/_mapping' -d '{\n    \"properties\":{\n        \"playId\":{\n            \"type\":\"string\",\n            \"index\":\"not_analyzed\",\n            \"store\":\"true\"\n        }\n    }\n}'\n# make doc\n\ncurl -XPOST 'http://10.99.196.141:22000/delete_by_query_string_query_test1/1' -d '{\n  \"playId\": \"1395395f-1543-44f7-ba11-fd8eff137afe\"\n}'\n# delete by query string query\n\ncurl -XDELETE 'http://10.99.196.141:22000/delete_by_query_string_query_test1/1/_query?pretty=true' -d '\n{\n    \"query_string\" : {\n        \"default_field\" : \"playId\",\n         \"query\" : \"1395395f-1543-44f7-ba11-fd8eff137afe\"  \n    }\n}\n'\n# response occured error -\n\n{\n  \"_indices\" : {\n    \"delete_by_query_string_query_test1\" : {\n      \"_shards\" : {\n        \"total\" : 2,\n        \"successful\" : 0,\n        \"failed\" : 2,\n        \"failures\" : [ {\n          \"index\" : \"delete_by_query_string_query_test1\",\n          \"shard\" : 1,\n          \"reason\" : \"RemoteTransportException[[10.99.196.141_21001][inet[/10.99.196.141:21001]][deleteByQuery/shard]]; nested: QueryParsingException[[delete_by_query_string_query_test1] request does not support [query_string]]; \"\n        }, {\n          \"index\" : \"delete_by_query_string_query_test1\",\n          \"shard\" : 0,\n          \"reason\" : \"RemoteTransportException[[10.101.63.182_21000][inet[/10.101.63.182:21000]][deleteByQuery/shard]]; nested: QueryParsingException[[delete_by_query_string_query_test1] request does not support [query_string]]; \"\n        } ]\n      }\n    }\n  }\n}\n","closed_by":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"performed_via_github_app":null}