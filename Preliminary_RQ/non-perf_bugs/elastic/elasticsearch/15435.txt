{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/15435","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15435/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15435/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15435/events","html_url":"https://github.com/elastic/elasticsearch/issues/15435","id":122224241,"node_id":"MDU6SXNzdWUxMjIyMjQyNDE=","number":15435,"title":"Elasticsearch 2.1.0 does not bind to multiple interfaces","user":{"login":"kjelle","id":598905,"node_id":"MDQ6VXNlcjU5ODkwNQ==","avatar_url":"https://avatars2.githubusercontent.com/u/598905?v=4","gravatar_id":"","url":"https://api.github.com/users/kjelle","html_url":"https://github.com/kjelle","followers_url":"https://api.github.com/users/kjelle/followers","following_url":"https://api.github.com/users/kjelle/following{/other_user}","gists_url":"https://api.github.com/users/kjelle/gists{/gist_id}","starred_url":"https://api.github.com/users/kjelle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kjelle/subscriptions","organizations_url":"https://api.github.com/users/kjelle/orgs","repos_url":"https://api.github.com/users/kjelle/repos","events_url":"https://api.github.com/users/kjelle/events{/privacy}","received_events_url":"https://api.github.com/users/kjelle/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-12-15T09:05:01Z","updated_at":"2015-12-15T09:08:19Z","closed_at":"2015-12-15T09:08:19Z","author_association":"NONE","active_lock_reason":null,"body":"Hello.\n\nI have just upgraded from Elasticsearch 1.7.3 to Elasticsearch 2.1.0. I have a interface on my nodes, bond1, which relates to an ip 192.168.112.3. It seems I am unable to bind to multiple interfaces in 2.1.0.\n\n(part of) elasticsearch.yaml\n\n```\nnetwork:\n  bind_host:\n           - _bond1:ipv4_\n           - localhost\n  publish_host: _bond1:ipv4_\n```\n\n(Also, transport.tcp.port is 9301 and http.port is 9201)\n\nIn the boot, I get the following logline;\n\n```\npublish_address {192.168.112.3:9301}, bound_addresses {127.0.0.1:9301}, {[::1]:9301}\n```\n\n**Where is my bond1 in the bound_addresses?**\n\nNetstat;\n\n```\ntcp6       0      0 ::1:9301                :::*                    LISTEN      30793/java       off (0.00/0/0)\ntcp6       0      0 127.0.0.1:9301          :::*                    LISTEN      30793/java       off (0.00/0/0)\ntcp6       0      0 ::1:9201                :::*                    LISTEN      30793/java       off (0.00/0/0)\ntcp6       0      0 127.0.0.1:9201          :::*                    LISTEN      30793/java       off (0.00/0/0)\n```\n\nIf I change my network.bind_host to only '_bond1:ipv4_' it all works perfectly;\n\n```\npublish_address {192.168.112.3:9301}, bound_addresses {192.168.112.3:9301}\n```\n\nNetstat;\n\n```\ntcp6       0      0 192.168.112.3:9301      :::*                    LISTEN      31194/java       off (0.00/0/0)\ntcp6       0      0 192.168.112.3:9201      :::*                    LISTEN      31194/java       off (0.00/0/0\n```\n\nThe Manual (https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-network.html) spesifically states you can have multiple bind_host, and one publish_host (as we did in elasticsearch 1.7.3).\n","closed_by":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"performed_via_github_app":null}