{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/40862","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40862/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40862/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40862/events","html_url":"https://github.com/elastic/elasticsearch/issues/40862","id":429346628,"node_id":"MDU6SXNzdWU0MjkzNDY2Mjg=","number":40862,"title":"Convert everything to use testclsuters ","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"labels":[{"id":106454670,"node_id":"MDU6TGFiZWwxMDY0NTQ2NzA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Build","name":":Delivery/Build","color":"0e8a16","default":false,"description":"Build or test infrastructure"},{"id":158399402,"node_id":"MDU6TGFiZWwxNTgzOTk0MDI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Meta","name":"Meta","color":"e11d21","default":false,"description":null},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-04-04T15:33:16Z","updated_at":"2020-11-11T21:49:17Z","closed_at":"2019-09-05T11:53:50Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"List of feature to add to testlusters: \r\n\r\nNow that we have a fair amount of features in testclusters and `module` and most `plugin` tests are using it, time to make a list of what's left. \r\n\r\n- [x] support security with username and password - by convention [1]\r\n- [x] support security with https [2]\r\n- [x] DSL for adding users [3]\r\n- [ ] add support (and tests) for all versions newer then `6.0` [4]\r\n- [x] add support for upgrading clusters or individual nodes [5]\r\n\r\n\r\nList of projects to convert [with required features]: \r\n- [x] client/rest-high-level, (elasticsearch.rest-test) [1]\r\n- [x] docs (docs-test)\r\n- [x] plugins\r\n     - [x] repository-hdfs ( elasticsearch-rest-test , elasticsearch.esplugin )\r\n     - [x] examples (elasticsearch.esplugin)\r\n          - [x] custom-settings \r\n          - [x] custom-suggester\r\n          - [X] painless-whitelist\r\n          - [x] rescore\r\n          - [x] rest-handler\r\n          - [x] script-expert-scrolling\r\n          - [x] security-authorization-engine [3] \r\n- qa \r\n     - [x] ccs-unavailable-clusters (  elasticsearch-standalone-rest-test )\r\n     - [x] die-with-dignity (elasticsearch.esplugin) -- requires exposing the pid of the `ElasticsearchNode`\r\n     - :[x] imp: evil-tests (elasticsearch.standalone-test)  \r\n     - [x] full-cluster-restart [4, 5]\r\n     - [x] mixed-cluster [4, 5] \r\n     - [x] multi-cluster-search \r\n     - [x] rolling-upgrade [4, 5]\r\n     - [X] smoke-test-client\r\n     - [x] smoke-test-http\r\n     - [x] smoke-test-ingest-disabled\r\n     - [x] smoke-test-ingest-with-all-dependencies\r\n     - [x] smoke-test-multinode\r\n     - [x] smoke-test-plugins\r\n     - [x] unconfigured-node-name - might be better to move it to a packaging test as it's a snowflake that requires defaults such as discoery and cluster name to be changed \r\n     - [x] wildfly\r\n- x-pack  \r\n     - [x] docs [1]\r\n     - plugin \r\n         -  [x] ccr/qa             \r\n         - [x] data-frame/qa/single-node-tests [1]\r\n         - [x] graph/qa/with-security [3]\r\n         - [x] ilm/qa               \r\n         - [x] ml/qa/            \r\n         - [x] sql/qa            \r\n     - qa \r\n         - [x] core-rest-tests-with-security [1]\r\n         - [x] full-cluster-restart [1, 4, 5]\r\n         - [x] kerberos-tests [1]        \r\n         - [x] multi-cluster-search-security [1]\r\n         - [x] multi-node [3]\r\n         - [x] reindex-tests-with-security [1]\r\n         - [x] rolling -uograde [1 , 4, 5] \r\n         - [x] rolling-upgrade-basic [1, 4 ,5]\r\n         - [x] rolling-upgrade-multi-cluster  [4, 5]\r\n         - [x] saml-idp-tests [1]\r\n         - [x] security-client-tests [3]\r\n         - [x] security-example-spi-extension [1]\r\n         - [x] security-migrate-tests [3]\r\n         - [x] security-setup-password-tests [1]\r\n         - [x] smoke-test-monitoring-with-watcher\r\n         - [x] smoke-test-plugins [1]\r\n         - [x] smoke-test-plugins-ssl [3, 6]  \r\n         - [x] smoke-test-security-with-mustache [1]\r\n         - [x] smoke-test-watcher \r\n         - [x] smoke-test-watcher-with-security [3]\r\n         - [x] third-party/jira\r\n         - [x] third-party/pagerduty\r\n         - [x] third-party/slack\r\n               \r\n We __are__ starting to see the light at the end of the tunnel.              ","closed_by":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"performed_via_github_app":null}