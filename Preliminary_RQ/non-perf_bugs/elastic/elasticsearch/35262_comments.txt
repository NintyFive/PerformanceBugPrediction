[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/435970843","html_url":"https://github.com/elastic/elasticsearch/issues/35262#issuecomment-435970843","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35262","id":435970843,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTk3MDg0Mw==","user":{"login":"mayya-sharipova","id":5738841,"node_id":"MDQ6VXNlcjU3Mzg4NDE=","avatar_url":"https://avatars1.githubusercontent.com/u/5738841?v=4","gravatar_id":"","url":"https://api.github.com/users/mayya-sharipova","html_url":"https://github.com/mayya-sharipova","followers_url":"https://api.github.com/users/mayya-sharipova/followers","following_url":"https://api.github.com/users/mayya-sharipova/following{/other_user}","gists_url":"https://api.github.com/users/mayya-sharipova/gists{/gist_id}","starred_url":"https://api.github.com/users/mayya-sharipova/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayya-sharipova/subscriptions","organizations_url":"https://api.github.com/users/mayya-sharipova/orgs","repos_url":"https://api.github.com/users/mayya-sharipova/repos","events_url":"https://api.github.com/users/mayya-sharipova/events{/privacy}","received_events_url":"https://api.github.com/users/mayya-sharipova/received_events","type":"User","site_admin":false},"created_at":"2018-11-05T17:55:24Z","updated_at":"2018-11-05T17:55:24Z","author_association":"CONTRIBUTOR","body":"My suggestion is to add a `\"deprecated\"` object field to the specification:\r\nFor example:\r\n```js\r\n\"deprecated\" : {\r\n  \"version\": \"5.0\",\r\n  \"description\" : \"Use regular count endpoint instead.\"\r\n}\r\n```\r\n\r\nAnd depending what is deprecated (main API, or a field) put it on the corresponding level.\r\n\r\nExample - the whole API is deprecated:\r\n```js\r\n{\r\n  \"count_percolate\": {\r\n    \"documentation\": \"https://www.elastic.co/guide/en/elasticsearch/reference/5.x/search-percolate.html\",\r\n    \"methods\": [\"GET\", \"POST\"],\r\n    \"url\": {},\r\n    \"body\" : {},\r\n    \"deprecated\" : {\r\n      \"version\": \"5.0\",\r\n      \"description\" : \"Use regular count endpoint instead.\"\r\n   }\r\n}\r\n```\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/435970969","html_url":"https://github.com/elastic/elasticsearch/issues/35262#issuecomment-435970969","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35262","id":435970969,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTk3MDk2OQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-11-05T17:55:44Z","updated_at":"2018-11-05T17:55:44Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/460643925","html_url":"https://github.com/elastic/elasticsearch/issues/35262#issuecomment-460643925","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35262","id":460643925,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MDY0MzkyNQ==","user":{"login":"Mpdreamz","id":245275,"node_id":"MDQ6VXNlcjI0NTI3NQ==","avatar_url":"https://avatars3.githubusercontent.com/u/245275?v=4","gravatar_id":"","url":"https://api.github.com/users/Mpdreamz","html_url":"https://github.com/Mpdreamz","followers_url":"https://api.github.com/users/Mpdreamz/followers","following_url":"https://api.github.com/users/Mpdreamz/following{/other_user}","gists_url":"https://api.github.com/users/Mpdreamz/gists{/gist_id}","starred_url":"https://api.github.com/users/Mpdreamz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Mpdreamz/subscriptions","organizations_url":"https://api.github.com/users/Mpdreamz/orgs","repos_url":"https://api.github.com/users/Mpdreamz/repos","events_url":"https://api.github.com/users/Mpdreamz/events{/privacy}","received_events_url":"https://api.github.com/users/Mpdreamz/received_events","type":"User","site_admin":false},"created_at":"2019-02-05T13:49:49Z","updated_at":"2019-02-05T13:50:11Z","author_association":"MEMBER","body":"Love this proposal, would love to help out getting this into the rest spec. \r\n\r\nOne remaining question I have is around deprecated urls paths. \r\n\r\nIn https://github.com/elastic/elasticsearch/issues/38102 I proposed:\r\n\r\n```json\r\n\"deprecated_paths\": [\"/{index}/{type}/{id}\"]\r\n```\r\n\r\nBut perhaps the following falls more in line with your proposal @mayya-sharipova \r\n\r\n```json\r\n\"deprecated_paths\": [ { \"url\": \"/{index}/{type}/{id}\", \"version\": \"5.0\", \"description\": \"\" } ]\r\n```\r\n\r\ncc @elastic/es-clients \r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/467915802","html_url":"https://github.com/elastic/elasticsearch/issues/35262#issuecomment-467915802","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35262","id":467915802,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NzkxNTgwMg==","user":{"login":"mayya-sharipova","id":5738841,"node_id":"MDQ6VXNlcjU3Mzg4NDE=","avatar_url":"https://avatars1.githubusercontent.com/u/5738841?v=4","gravatar_id":"","url":"https://api.github.com/users/mayya-sharipova","html_url":"https://github.com/mayya-sharipova","followers_url":"https://api.github.com/users/mayya-sharipova/followers","following_url":"https://api.github.com/users/mayya-sharipova/following{/other_user}","gists_url":"https://api.github.com/users/mayya-sharipova/gists{/gist_id}","starred_url":"https://api.github.com/users/mayya-sharipova/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayya-sharipova/subscriptions","organizations_url":"https://api.github.com/users/mayya-sharipova/orgs","repos_url":"https://api.github.com/users/mayya-sharipova/repos","events_url":"https://api.github.com/users/mayya-sharipova/events{/privacy}","received_events_url":"https://api.github.com/users/mayya-sharipova/received_events","type":"User","site_admin":false},"created_at":"2019-02-27T15:50:37Z","updated_at":"2019-02-27T15:50:37Z","author_association":"CONTRIBUTOR","body":"closing the issue, as it will be addressed by https://github.com/elastic/elasticsearch/pull/39063","performed_via_github_app":null}]