[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/341723703","html_url":"https://github.com/elastic/elasticsearch/issues/27242#issuecomment-341723703","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27242","id":341723703,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MTcyMzcwMw==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2017-11-03T14:44:45Z","updated_at":"2017-11-03T14:44:45Z","author_association":"MEMBER","body":"Adding the ability to access and change the version from ingest makes sense. This should be similar to how _index and _id meta fields are being used: https://www.elastic.co/guide/en/elasticsearch/reference/5.6/accessing-data-in-pipelines.html#accessing-metadata-fields\r\n\r\nSo there is no need for a new processor:\r\n\r\n```\r\n{\r\n  \"set\": {\r\n    \"field\": \"_version\"\r\n    \"value\": \"{{my_field_containing_version}}\"\r\n  }\r\n}\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/342025603","html_url":"https://github.com/elastic/elasticsearch/issues/27242#issuecomment-342025603","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27242","id":342025603,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjAyNTYwMw==","user":{"login":"geneqew","id":1016263,"node_id":"MDQ6VXNlcjEwMTYyNjM=","avatar_url":"https://avatars3.githubusercontent.com/u/1016263?v=4","gravatar_id":"","url":"https://api.github.com/users/geneqew","html_url":"https://github.com/geneqew","followers_url":"https://api.github.com/users/geneqew/followers","following_url":"https://api.github.com/users/geneqew/following{/other_user}","gists_url":"https://api.github.com/users/geneqew/gists{/gist_id}","starred_url":"https://api.github.com/users/geneqew/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geneqew/subscriptions","organizations_url":"https://api.github.com/users/geneqew/orgs","repos_url":"https://api.github.com/users/geneqew/repos","events_url":"https://api.github.com/users/geneqew/events{/privacy}","received_events_url":"https://api.github.com/users/geneqew/received_events","type":"User","site_admin":false},"created_at":"2017-11-06T01:46:34Z","updated_at":"2017-11-06T01:46:34Z","author_association":"NONE","body":"The reason i suggested the use of a separate processor is to simplify the setting of the _version field while at the same time giving the flexibility to choose the [version type](https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-index_.html#_version_types). Something like:\r\n\r\n```\r\n{\r\n  \"version\" : {\r\n     \"field\" : \"{{my_field_containing_version}}\",\r\n     \"type\" : \"external_gte\" // if not provided defaults to 'external'\r\n  }\r\n} \r\n```\r\n\r\nOtherwise the suggestion to use the set processor should be good enough to support external versions given that there is no need for an 'external_gte' version type.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/342070189","html_url":"https://github.com/elastic/elasticsearch/issues/27242#issuecomment-342070189","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27242","id":342070189,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjA3MDE4OQ==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2017-11-06T07:47:35Z","updated_at":"2017-11-06T07:47:35Z","author_association":"MEMBER","body":"I think the `version_type` can be made available too as a meta field. So that then can be set via a set processor too:\r\n\r\n```\r\n{\r\n  \"set\": {\r\n    \"field\": \"_version_type\"\r\n    \"value\": \"external_gte\"\r\n  }\r\n}\r\n```\r\n\r\nHowever then in the case you're describing you would need two processor, so I think it makes sense to have a dedicated processor for this. This then also allows ingest the for example validate the provided version type and fail on pipeline creation if it is invalid.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/367279825","html_url":"https://github.com/elastic/elasticsearch/issues/27242#issuecomment-367279825","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27242","id":367279825,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NzI3OTgyNQ==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2018-02-21T10:26:08Z","updated_at":"2018-02-21T10:26:08Z","author_association":"MEMBER","body":"This has been implemented via #27573","performed_via_github_app":null}]