[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/254268513","html_url":"https://github.com/elastic/elasticsearch/issues/20875#issuecomment-254268513","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20875","id":254268513,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NDI2ODUxMw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-10-17T17:03:00Z","updated_at":"2016-10-17T17:03:00Z","author_association":"CONTRIBUTOR","body":"Broken in 2.4.1 too:\n\n```\nPUT t\n{\n  \"mappings\": {\n    \"t\": {\n      \"properties\": {\n        \"geolocation\": {\n          \"type\": \"geo_point\"\n        }\n      }\n    }\n  }\n}\n\n\nPUT t/t/1\n{\n  \"geolocation\": {\n    \"lat\": 34,\n    \"lon\": -118\n  }\n}\n\nGET t/t/_search\n{\n  \"sort\": [\n    {\n      \"_score\": {\n        \"order\": \"desc\"\n      }\n    },\n    {\n      \"_geo_distance\": {\n        \"geolocation\": {\n          \"lat\": 34,\n          \"lon\": -118\n        },\n        \"order\": \"asc\",\n        \"unit\": \"mi\",\n        \"distance_type\": \"sloppy_arc\",\n        \"optimize_bbox\": \"memory\"\n      }\n    }\n  ]\n}\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/333976771","html_url":"https://github.com/elastic/elasticsearch/issues/20875#issuecomment-333976771","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20875","id":333976771,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzk3Njc3MQ==","user":{"login":"vseryakov","id":1746546,"node_id":"MDQ6VXNlcjE3NDY1NDY=","avatar_url":"https://avatars0.githubusercontent.com/u/1746546?v=4","gravatar_id":"","url":"https://api.github.com/users/vseryakov","html_url":"https://github.com/vseryakov","followers_url":"https://api.github.com/users/vseryakov/followers","following_url":"https://api.github.com/users/vseryakov/following{/other_user}","gists_url":"https://api.github.com/users/vseryakov/gists{/gist_id}","starred_url":"https://api.github.com/users/vseryakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vseryakov/subscriptions","organizations_url":"https://api.github.com/users/vseryakov/orgs","repos_url":"https://api.github.com/users/vseryakov/repos","events_url":"https://api.github.com/users/vseryakov/events{/privacy}","received_events_url":"https://api.github.com/users/vseryakov/received_events","type":"User","site_admin":false},"created_at":"2017-10-03T20:59:39Z","updated_at":"2017-10-03T20:59:39Z","author_association":"NONE","body":"Gives an error: Comparator type [CUSTOM] for field [latlon] is not supported in 5.5 and 5.6, when using search_after\r\n\r\nthe query is:\r\n\r\n```javascript\r\n{ query: { \r\nbool: { must: { query_string: { query: '(status:Ready)' } }, \r\nfilter: { geo_distance: { distance: 5000, latlon: [ 150.98081635595673, -34.194085878589426 ] } } } }, \r\nsort: [ { _geo_distance: { latlon: [ 150.98081635595673, -34.194085878589426 ], order: 'asc', unit: 'm', distance_type: 'arc' } } ], \r\nsize: 3, \r\nsearch_after: [0]\r\n }\r\n```\r\n\r\nthe latlon field is type of geo_point","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/335173121","html_url":"https://github.com/elastic/elasticsearch/issues/20875#issuecomment-335173121","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20875","id":335173121,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTE3MzEyMQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2017-10-09T14:21:56Z","updated_at":"2017-10-09T14:21:56Z","author_association":"CONTRIBUTOR","body":"@vseryakov that seems to be a completely different issue.  please open a new issue for that","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/335174164","html_url":"https://github.com/elastic/elasticsearch/issues/20875#issuecomment-335174164","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20875","id":335174164,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTE3NDE2NA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2017-10-09T14:25:29Z","updated_at":"2017-10-09T14:25:29Z","author_association":"CONTRIBUTOR","body":"Closing this issue as `optimize_bbox` was deprecated in 2.2 and has been removed completely in 6.0","performed_via_github_app":null}]