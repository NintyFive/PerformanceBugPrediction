{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/16652","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16652/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16652/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16652/events","html_url":"https://github.com/elastic/elasticsearch/issues/16652","id":133425915,"node_id":"MDU6SXNzdWUxMzM0MjU5MTU=","number":16652,"title":"ES 2.2 Highlight is not working anymore","user":{"login":"raffaeu","id":1304736,"node_id":"MDQ6VXNlcjEzMDQ3MzY=","avatar_url":"https://avatars2.githubusercontent.com/u/1304736?v=4","gravatar_id":"","url":"https://api.github.com/users/raffaeu","html_url":"https://github.com/raffaeu","followers_url":"https://api.github.com/users/raffaeu/followers","following_url":"https://api.github.com/users/raffaeu/following{/other_user}","gists_url":"https://api.github.com/users/raffaeu/gists{/gist_id}","starred_url":"https://api.github.com/users/raffaeu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raffaeu/subscriptions","organizations_url":"https://api.github.com/users/raffaeu/orgs","repos_url":"https://api.github.com/users/raffaeu/repos","events_url":"https://api.github.com/users/raffaeu/events{/privacy}","received_events_url":"https://api.github.com/users/raffaeu/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2016-02-13T11:55:09Z","updated_at":"2016-02-13T12:28:13Z","closed_at":"2016-02-13T12:25:08Z","author_association":"NONE","active_lock_reason":null,"body":"We worked on ES 1.4 for about 2 years, more or less. Deployed the product on the customer side and everyone was happy.\n\nNow, we decided to upgrade to 2.2, recode all APIs changes and the highlight is not working anymore. It is not even returned.\n\nExample of a query:\n\nhttp://localhost:9200/index/Persons/_search\n\n```\n{\n    \"query\": {\n    \"match\": {\n      \"_all\": \"pippo\"\n    }\n  },\n    \"highlight\" : {\n        \"fields\" : {\n            \"*\" : {}\n        }\n    }\n}\n```\n\nResults are returned but the Highlight node is gone, I tried all possible options and it seems that ES 2.2 doesn't return highlights at all but I look at the backlog and you didn't mention drastic changes under the highlight feature. \n\n```\n{\n  \"took\": 6,\n  \"timed_out\": false,\n  \"_shards\": {\n    \"total\": 5,\n    \"successful\": 5,\n    \"failed\": 0\n  },\n  \"hits\": {\n    \"total\": 2,\n    \"max_score\": 0.83263576,\n    \"hits\": [\n      {\n        \"_index\": \"myindex\",\n        \"_type\": \"Persons\",\n        \"_id\": \"8701653d-261c-4c67-b59c-9b7aac2df3b6\",\n        \"_score\": 0.83263576,\n        \"_source\": {\n          \"Full_name\": \"Disney, Pippo\",\n          \"Email\": \"pippomproof@gmail.com\"\n        }\n      }\n    ]\n  }\n}\n```\n\nAm I doing something wrong or simply ES 2.2 removed highlights?\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}