[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/19252069","html_url":"https://github.com/elastic/elasticsearch/issues/3157#issuecomment-19252069","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3157","id":19252069,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MjUyMDY5","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2013-06-11T09:53:38Z","updated_at":"2013-06-11T09:53:38Z","author_association":"MEMBER","body":"Hey,\n\nI just tried this\n\nMy `template.json` file\n\n```\n{\n    \"template\" : \"te*\",\n    \"mappings\" : {\n        \"type\" : {\n            \"_ttl\" : { \"enabled\" : true, \"default\": \"5m\" },\n            \"_source\" : { \"enabled\" : false }\n        }\n    }\n}\n```\n\n```\ncurl -XPUT localhost:9200/_template/template_1 -d @template.json\n{\"ok\":true,\"acknowledged\":true}\n\ncurl -X PUT localhost:9200/test/type/1 -d '{\"foo\":\"bar\"}'\n{\"ok\":true,\"_index\":\"test\",\"_type\":\"type\",\"_id\":\"1\",\"_version\":1}\n\ncurl 'localhost:9200/test/_mapping?pretty'\n{\n  \"test\" : {\n    \"type\" : {\n      \"_ttl\" : {\n        \"enabled\" : true,\n        \"default\" : 300000\n      },\n      \"_source\" : {\n        \"enabled\" : false\n      },\n      \"properties\" : {\n        \"foo\" : {\n          \"type\" : \"string\"\n        }\n      }\n    }\n  }\n}\n```\n\nCan you test if the above works for you as well?\nCan you provide your curl commands you used to create the issue, so we can reproduce? Maybe it is a bug only occuring in combination with other features, not sure yet.\n\nThanks for reporting!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/19286609","html_url":"https://github.com/elastic/elasticsearch/issues/3157#issuecomment-19286609","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3157","id":19286609,"node_id":"MDEyOklzc3VlQ29tbWVudDE5Mjg2NjA5","user":{"login":"unthingable","id":925755,"node_id":"MDQ6VXNlcjkyNTc1NQ==","avatar_url":"https://avatars2.githubusercontent.com/u/925755?v=4","gravatar_id":"","url":"https://api.github.com/users/unthingable","html_url":"https://github.com/unthingable","followers_url":"https://api.github.com/users/unthingable/followers","following_url":"https://api.github.com/users/unthingable/following{/other_user}","gists_url":"https://api.github.com/users/unthingable/gists{/gist_id}","starred_url":"https://api.github.com/users/unthingable/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/unthingable/subscriptions","organizations_url":"https://api.github.com/users/unthingable/orgs","repos_url":"https://api.github.com/users/unthingable/repos","events_url":"https://api.github.com/users/unthingable/events{/privacy}","received_events_url":"https://api.github.com/users/unthingable/received_events","type":"User","site_admin":false},"created_at":"2013-06-11T19:31:54Z","updated_at":"2013-06-11T19:31:54Z","author_association":"NONE","body":"Interesting. I can't test that yet, but I forgot to mention: the template json file sits in `/etc/elasticsearch/templates/`, I don't do anything to load it manually.\n\nHaving now said that, I think the template file is not being loaded at all, as the generated mapping looks very default.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/19331998","html_url":"https://github.com/elastic/elasticsearch/issues/3157#issuecomment-19331998","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3157","id":19331998,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MzMxOTk4","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2013-06-12T15:07:17Z","updated_at":"2013-06-12T15:07:17Z","author_association":"MEMBER","body":"I need some more input from you, as I just tested and it works again.\n\n```\ncat config/templates/template_1.json\n{\n  \"template_1\" : {\n    \"template\" : \"to*\",\n    \"mappings\" : {\n        \"type\" : {\n            \"_ttl\" : { \"enabled\" : true, \"default\": \"5m\" },\n            \"_source\" : { \"enabled\" : false }\n        }\n    }\n  }\n}\n```\n\nthen I delete the index and recreate it by adding a document, and getting the mapping shows the TTL\n\n```\ncurl -X DELETE localhost:9200/toast\ncurl -X PUT localhost:9200/toast/type/1 -d '{\"foo\":\"bar\"}'\ncurl 'localhost:9200/toast/_mapping?pretty'\n{\n  \"toast\" : {\n    \"type\" : {\n      \"_ttl\" : {\n        \"enabled\" : true,\n        \"default\" : 300000\n      },\n      \"_source\" : {\n        \"enabled\" : false\n      },\n      \"properties\" : {\n        \"foo\" : {\n          \"type\" : \"string\"\n        }\n      }\n    }\n  }\n}\n```\n\nCan you recheck your sample? Maybe some naming problem? Can you try and reproduce step-by-step?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/19565867","html_url":"https://github.com/elastic/elasticsearch/issues/3157#issuecomment-19565867","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3157","id":19565867,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTY1ODY3","user":{"login":"unthingable","id":925755,"node_id":"MDQ6VXNlcjkyNTc1NQ==","avatar_url":"https://avatars2.githubusercontent.com/u/925755?v=4","gravatar_id":"","url":"https://api.github.com/users/unthingable","html_url":"https://github.com/unthingable","followers_url":"https://api.github.com/users/unthingable/followers","following_url":"https://api.github.com/users/unthingable/following{/other_user}","gists_url":"https://api.github.com/users/unthingable/gists{/gist_id}","starred_url":"https://api.github.com/users/unthingable/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/unthingable/subscriptions","organizations_url":"https://api.github.com/users/unthingable/orgs","repos_url":"https://api.github.com/users/unthingable/repos","events_url":"https://api.github.com/users/unthingable/events{/privacy}","received_events_url":"https://api.github.com/users/unthingable/received_events","type":"User","site_admin":false},"created_at":"2013-06-17T18:48:19Z","updated_at":"2013-06-17T18:48:19Z","author_association":"NONE","body":"The problem was traced to incorrect permission on /etc/elasticsearch/templates/, sorry about that. The templates were not being loaded at all.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/19565936","html_url":"https://github.com/elastic/elasticsearch/issues/3157#issuecomment-19565936","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3157","id":19565936,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTY1OTM2","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-06-17T18:49:07Z","updated_at":"2013-06-17T18:49:07Z","author_association":"CONTRIBUTOR","body":"thanks for bringing up the solution!! \n","performed_via_github_app":null}]