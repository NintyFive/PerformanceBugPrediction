[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/525078","html_url":"https://github.com/elastic/elasticsearch/issues/490#issuecomment-525078","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/490","id":525078,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTA3OA==","user":{"login":"apatrida","id":182340,"node_id":"MDQ6VXNlcjE4MjM0MA==","avatar_url":"https://avatars3.githubusercontent.com/u/182340?v=4","gravatar_id":"","url":"https://api.github.com/users/apatrida","html_url":"https://github.com/apatrida","followers_url":"https://api.github.com/users/apatrida/followers","following_url":"https://api.github.com/users/apatrida/following{/other_user}","gists_url":"https://api.github.com/users/apatrida/gists{/gist_id}","starred_url":"https://api.github.com/users/apatrida/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apatrida/subscriptions","organizations_url":"https://api.github.com/users/apatrida/orgs","repos_url":"https://api.github.com/users/apatrida/repos","events_url":"https://api.github.com/users/apatrida/events{/privacy}","received_events_url":"https://api.github.com/users/apatrida/received_events","type":"User","site_admin":false},"created_at":"2010-11-08T03:18:58Z","updated_at":"2010-11-08T03:18:58Z","author_association":"CONTRIBUTOR","body":"a system-wide time-stamp is also an appropriate answer here, although time can be mismanaged more than just an ever-increasing integer for some of the intended usages. See #491 for time-stamp, but I still think a vector-clock type answer is useful in different ways.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/525080","html_url":"https://github.com/elastic/elasticsearch/issues/490#issuecomment-525080","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/490","id":525080,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNTA4MA==","user":{"login":"apatrida","id":182340,"node_id":"MDQ6VXNlcjE4MjM0MA==","avatar_url":"https://avatars3.githubusercontent.com/u/182340?v=4","gravatar_id":"","url":"https://api.github.com/users/apatrida","html_url":"https://github.com/apatrida","followers_url":"https://api.github.com/users/apatrida/followers","following_url":"https://api.github.com/users/apatrida/following{/other_user}","gists_url":"https://api.github.com/users/apatrida/gists{/gist_id}","starred_url":"https://api.github.com/users/apatrida/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apatrida/subscriptions","organizations_url":"https://api.github.com/users/apatrida/orgs","repos_url":"https://api.github.com/users/apatrida/repos","events_url":"https://api.github.com/users/apatrida/events{/privacy}","received_events_url":"https://api.github.com/users/apatrida/received_events","type":"User","site_admin":false},"created_at":"2010-11-08T03:19:27Z","updated_at":"2010-11-08T03:19:27Z","author_association":"CONTRIBUTOR","body":"did I close this on accident, please re-open.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/528675","html_url":"https://github.com/elastic/elasticsearch/issues/490#issuecomment-528675","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/490","id":528675,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODY3NQ==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2010-11-09T12:21:10Z","updated_at":"2010-11-09T12:21:10Z","author_association":"MEMBER","body":"Its certainly possible, and then the question is what level the version works on, it can be on a \"resource\" level (a document with type and id), index leve, or cluster wide level.\n\nAll are not simple to implement. The resource level means that a real time mapping of id to version need to exists (either in memory, or in the index, which then requires real time aspect) and then handle concurrency.\n\nIndex level and cluster wide level incremental version means that it needs to be maintained across the cluster (the versioning)...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/528739","html_url":"https://github.com/elastic/elasticsearch/issues/490#issuecomment-528739","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/490","id":528739,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODczOQ==","user":{"login":"apatrida","id":182340,"node_id":"MDQ6VXNlcjE4MjM0MA==","avatar_url":"https://avatars3.githubusercontent.com/u/182340?v=4","gravatar_id":"","url":"https://api.github.com/users/apatrida","html_url":"https://github.com/apatrida","followers_url":"https://api.github.com/users/apatrida/followers","following_url":"https://api.github.com/users/apatrida/following{/other_user}","gists_url":"https://api.github.com/users/apatrida/gists{/gist_id}","starred_url":"https://api.github.com/users/apatrida/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apatrida/subscriptions","organizations_url":"https://api.github.com/users/apatrida/orgs","repos_url":"https://api.github.com/users/apatrida/repos","events_url":"https://api.github.com/users/apatrida/events{/privacy}","received_events_url":"https://api.github.com/users/apatrida/received_events","type":"User","site_admin":false},"created_at":"2010-11-09T12:54:08Z","updated_at":"2010-11-09T12:54:08Z","author_association":"CONTRIBUTOR","body":"Yep, it is hard to do, and very hard for the user to implement.  It is \"clustering magic\" that only the system can do really well...  after the developers go through pain and suffering to build it.  It's the cluster-wide vector-clock style problem, but well discussed in the world (I think Cassander just did it, people do it on ZooKeeper, and so on).  \n\nYou have the choice of \"perfect accuracy\" or getting it somewhat close.  A system-wide timestamp is another approach where you just have to be close.  You can state the guarantee of the version number, or of the timestamp and people work around the level you can provide.  A bit loose at first, but tighter later.  Cassandra just went through this, not sure what their approach was, and ZooKeeper folks of course do it.  But I'm not saying their approaches are right/wrong or desirable (knowing not what they did).\n\nAt the index level might be fine  or System wide would be fine.  I can't think of a reason (for my use cases) why either would be a problem.  And a bit of loose accuracy isn't always a problem as you can always ask for a \"loose idea of what the current number is\" or a \"sync them all up and give me an accurate number for sure\" when you request it from outside the cluster.  And inside the cluster it can be basically a reasonable approximate (i.e. handing out blocks to each node that consume them, but on sync-up they may discard their blocks to get somewhat back in order again; similar to how I think Oracle does sequence numbers in that they aren't always contiguous but are basically in order).\n\nSo in short, timestamps might be easier (let the sys admin maintain similar clocks on all the servers, they seem to be good at that) and a version number can come later which might help with synchronization and balancing nodes and other fun things if those ever come about.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/537533","html_url":"https://github.com/elastic/elasticsearch/issues/490#issuecomment-537533","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/490","id":537533,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNzUzMw==","user":{"login":"ppearcy","id":307414,"node_id":"MDQ6VXNlcjMwNzQxNA==","avatar_url":"https://avatars3.githubusercontent.com/u/307414?v=4","gravatar_id":"","url":"https://api.github.com/users/ppearcy","html_url":"https://github.com/ppearcy","followers_url":"https://api.github.com/users/ppearcy/followers","following_url":"https://api.github.com/users/ppearcy/following{/other_user}","gists_url":"https://api.github.com/users/ppearcy/gists{/gist_id}","starred_url":"https://api.github.com/users/ppearcy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppearcy/subscriptions","organizations_url":"https://api.github.com/users/ppearcy/orgs","repos_url":"https://api.github.com/users/ppearcy/repos","events_url":"https://api.github.com/users/ppearcy/events{/privacy}","received_events_url":"https://api.github.com/users/ppearcy/received_events","type":"User","site_admin":false},"created_at":"2010-11-12T18:45:00Z","updated_at":"2010-11-12T18:45:00Z","author_association":"CONTRIBUTOR","body":"FYI, as ES should not be your primary data store, it makes a good amount of sense to have this value propagated in from whatever your primary data store is. \n\nGranted, if your primary store doesn't have this feature, you're out of luck, but then again, if your primary data store doesn't have this, you probably don't need it in your ES setup.\n\n(disclosure: I am not an ES developer and this is just my personal thoughts)\n\nThanks,\nPaul\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/1215376","html_url":"https://github.com/elastic/elasticsearch/issues/490#issuecomment-1215376","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/490","id":1215376,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTUzNzY=","user":{"login":"karussell","id":129644,"node_id":"MDQ6VXNlcjEyOTY0NA==","avatar_url":"https://avatars0.githubusercontent.com/u/129644?v=4","gravatar_id":"","url":"https://api.github.com/users/karussell","html_url":"https://github.com/karussell","followers_url":"https://api.github.com/users/karussell/followers","following_url":"https://api.github.com/users/karussell/following{/other_user}","gists_url":"https://api.github.com/users/karussell/gists{/gist_id}","starred_url":"https://api.github.com/users/karussell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karussell/subscriptions","organizations_url":"https://api.github.com/users/karussell/orgs","repos_url":"https://api.github.com/users/karussell/repos","events_url":"https://api.github.com/users/karussell/events{/privacy}","received_events_url":"https://api.github.com/users/karussell/received_events","type":"User","site_admin":false},"created_at":"2011-05-21T20:04:33Z","updated_at":"2011-05-21T20:04:33Z","author_association":"CONTRIBUTOR","body":"This can be closed as of #594 ?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/1215437","html_url":"https://github.com/elastic/elasticsearch/issues/490#issuecomment-1215437","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/490","id":1215437,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTU0Mzc=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2011-05-21T20:25:44Z","updated_at":"2011-05-21T20:25:44Z","author_association":"MEMBER","body":"Right, it can be closed. Also, @ppearcy request is solved with `version_type` set to `external`.\n","performed_via_github_app":null}]