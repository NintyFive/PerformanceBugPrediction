{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/55381","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55381/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55381/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55381/events","html_url":"https://github.com/elastic/elasticsearch/issues/55381","id":601877725,"node_id":"MDU6SXNzdWU2MDE4Nzc3MjU=","number":55381,"title":"I am unable to use script field in another script field as parameter.On running the below query dsl the value of b field is coming to be \"a\"","user":{"login":"samara-101","id":63850063,"node_id":"MDQ6VXNlcjYzODUwMDYz","avatar_url":"https://avatars3.githubusercontent.com/u/63850063?v=4","gravatar_id":"","url":"https://api.github.com/users/samara-101","html_url":"https://github.com/samara-101","followers_url":"https://api.github.com/users/samara-101/followers","following_url":"https://api.github.com/users/samara-101/following{/other_user}","gists_url":"https://api.github.com/users/samara-101/gists{/gist_id}","starred_url":"https://api.github.com/users/samara-101/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samara-101/subscriptions","organizations_url":"https://api.github.com/users/samara-101/orgs","repos_url":"https://api.github.com/users/samara-101/repos","events_url":"https://api.github.com/users/samara-101/events{/privacy}","received_events_url":"https://api.github.com/users/samara-101/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-04-17T10:38:40Z","updated_at":"2020-04-17T16:43:27Z","closed_at":"2020-04-17T16:43:26Z","author_association":"NONE","active_lock_reason":null,"body":"{\r\n  \"size\": 10,\r\n  \"timeout\": \"45000ms\",\r\n  \"query\": {\r\n    \"bool\": {\r\n      \"filter\": [\r\n        \r\n        {\r\n          \"query_string\": {\r\n            \"query\": \"*\",\r\n            \"fields\": [],\r\n            \"type\": \"best_fields\",\r\n            \"default_operator\": \"or\",\r\n            \"max_determinized_states\": 10000,\r\n            \"enable_position_increments\": true,\r\n            \"fuzziness\": \"AUTO\",\r\n            \"fuzzy_prefix_length\": 0,\r\n            \"fuzzy_max_expansions\": 50,\r\n            \"phrase_slop\": 0,\r\n            \"escape\": false,\r\n            \"auto_generate_synonyms_phrase_query\": true,\r\n            \"fuzzy_transpositions\": true,\r\n            \"boost\": 1\r\n          }\r\n        },\r\n        \r\n      ],\r\n      \"adjust_pure_negative\": true,\r\n      \"boost\": 1\r\n    }\r\n  },\r\n  \"_source\": {\r\n    \"includes\": [],\r\n    \"excludes\": []\r\n  },\r\n  \"stored_fields\": \"*\",\r\n  \"docvalue_fields\": [\r\n    {\r\n      \"field\": \"@timestamp\"\r\n    }\r\n  ],\r\n  \"script_fields\": {\r\n    \"a\": {\r\n      \"script\": {\r\n        \"source\": \"return 1\",\r\n        \"lang\": \"painless\"\r\n      },\r\n      \"ignore_failure\": false\r\n    },\r\n    \"b\": {\r\n      \"script\": {\r\n        \"source\": \"if(params.pr != null){return params.pr}\",\r\n        \"lang\": \"painless\",\r\n        \"params\": {\r\n          \"pr\": \"a\"\r\n            \r\n          \r\n        }\r\n      },\r\n      \"ignore_failure\": false\r\n    }\r\n  },\r\n  \"sort\": [\r\n    {\r\n      \"@timestamp\": {\r\n        \"order\": \"asc\",\r\n        \"unmapped_type\": \"boolean\"\r\n      }\r\n    }\r\n  ],\r\n  \"aggregations\": {\r\n    \"2\": {\r\n      \"date_histogram\": {\r\n        \"field\": \"@timestamp\",\r\n        \"time_zone\": \"Asia/Kolkata\",\r\n        \"interval\": \"1w\",\r\n        \"offset\": 0,\r\n        \"order\": {\r\n          \"_key\": \"asc\"\r\n        },\r\n        \"keyed\": false,\r\n        \"min_doc_count\": 1\r\n      }\r\n    }\r\n  },\r\n  \r\n}","closed_by":{"login":"albertzaharovits","id":4568420,"node_id":"MDQ6VXNlcjQ1Njg0MjA=","avatar_url":"https://avatars2.githubusercontent.com/u/4568420?v=4","gravatar_id":"","url":"https://api.github.com/users/albertzaharovits","html_url":"https://github.com/albertzaharovits","followers_url":"https://api.github.com/users/albertzaharovits/followers","following_url":"https://api.github.com/users/albertzaharovits/following{/other_user}","gists_url":"https://api.github.com/users/albertzaharovits/gists{/gist_id}","starred_url":"https://api.github.com/users/albertzaharovits/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertzaharovits/subscriptions","organizations_url":"https://api.github.com/users/albertzaharovits/orgs","repos_url":"https://api.github.com/users/albertzaharovits/repos","events_url":"https://api.github.com/users/albertzaharovits/events{/privacy}","received_events_url":"https://api.github.com/users/albertzaharovits/received_events","type":"User","site_admin":false},"performed_via_github_app":null}