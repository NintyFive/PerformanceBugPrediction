[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/397331360","html_url":"https://github.com/elastic/elasticsearch/issues/31335#issuecomment-397331360","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31335","id":397331360,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzMzMTM2MA==","user":{"login":"weberhofer","id":793251,"node_id":"MDQ6VXNlcjc5MzI1MQ==","avatar_url":"https://avatars0.githubusercontent.com/u/793251?v=4","gravatar_id":"","url":"https://api.github.com/users/weberhofer","html_url":"https://github.com/weberhofer","followers_url":"https://api.github.com/users/weberhofer/followers","following_url":"https://api.github.com/users/weberhofer/following{/other_user}","gists_url":"https://api.github.com/users/weberhofer/gists{/gist_id}","starred_url":"https://api.github.com/users/weberhofer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weberhofer/subscriptions","organizations_url":"https://api.github.com/users/weberhofer/orgs","repos_url":"https://api.github.com/users/weberhofer/repos","events_url":"https://api.github.com/users/weberhofer/events{/privacy}","received_events_url":"https://api.github.com/users/weberhofer/received_events","type":"User","site_admin":false},"created_at":"2018-06-14T15:12:28Z","updated_at":"2018-06-14T15:12:28Z","author_association":"NONE","body":"Could be related to #25518","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/397524525","html_url":"https://github.com/elastic/elasticsearch/issues/31335#issuecomment-397524525","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31335","id":397524525,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzUyNDUyNQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-06-15T06:16:51Z","updated_at":"2018-06-15T06:16:51Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search-aggs","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/397605965","html_url":"https://github.com/elastic/elasticsearch/issues/31335#issuecomment-397605965","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31335","id":397605965,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzYwNTk2NQ==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2018-06-15T12:31:05Z","updated_at":"2018-06-15T12:31:05Z","author_association":"CONTRIBUTOR","body":"I suspect that you expand synonyms only at search time, or at index time by replacing mapping `lgbt` to some other term `lgbt => some_other_term`.\r\n\r\nThe fact that it doesn't work is expected: Elasticsearch doesn't apply synonyms on what might be a partial term.\r\n\r\nIf you want this to work, you will need to apply synonyms at index time using a comma-separated list of synonyms, such as `lgbt, some_other_term`.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/397631406","html_url":"https://github.com/elastic/elasticsearch/issues/31335#issuecomment-397631406","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31335","id":397631406,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzYzMTQwNg==","user":{"login":"weberhofer","id":793251,"node_id":"MDQ6VXNlcjc5MzI1MQ==","avatar_url":"https://avatars0.githubusercontent.com/u/793251?v=4","gravatar_id":"","url":"https://api.github.com/users/weberhofer","html_url":"https://github.com/weberhofer","followers_url":"https://api.github.com/users/weberhofer/followers","following_url":"https://api.github.com/users/weberhofer/following{/other_user}","gists_url":"https://api.github.com/users/weberhofer/gists{/gist_id}","starred_url":"https://api.github.com/users/weberhofer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weberhofer/subscriptions","organizations_url":"https://api.github.com/users/weberhofer/orgs","repos_url":"https://api.github.com/users/weberhofer/repos","events_url":"https://api.github.com/users/weberhofer/events{/privacy}","received_events_url":"https://api.github.com/users/weberhofer/received_events","type":"User","site_admin":false},"created_at":"2018-06-15T14:04:20Z","updated_at":"2018-06-15T14:04:20Z","author_association":"NONE","body":"Thanks for your answer. For our use-case synonyms replacement on search-time was a huge improvement, especially together with the automatic phrase detection. I'll see if I have an idea how I can work around this issue.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/443128865","html_url":"https://github.com/elastic/elasticsearch/issues/31335#issuecomment-443128865","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31335","id":443128865,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MzEyODg2NQ==","user":{"login":"weberhofer","id":793251,"node_id":"MDQ6VXNlcjc5MzI1MQ==","avatar_url":"https://avatars0.githubusercontent.com/u/793251?v=4","gravatar_id":"","url":"https://api.github.com/users/weberhofer","html_url":"https://github.com/weberhofer","followers_url":"https://api.github.com/users/weberhofer/followers","following_url":"https://api.github.com/users/weberhofer/following{/other_user}","gists_url":"https://api.github.com/users/weberhofer/gists{/gist_id}","starred_url":"https://api.github.com/users/weberhofer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weberhofer/subscriptions","organizations_url":"https://api.github.com/users/weberhofer/orgs","repos_url":"https://api.github.com/users/weberhofer/repos","events_url":"https://api.github.com/users/weberhofer/events{/privacy}","received_events_url":"https://api.github.com/users/weberhofer/received_events","type":"User","site_admin":false},"created_at":"2018-11-30T08:28:44Z","updated_at":"2018-11-30T08:28:44Z","author_association":"NONE","body":"I have solved this problem by sending an different query whenever a '*' occures within the search string: A boolean SHOULD query containing two different searches:\r\n- query one is running searching for a filtered search-string (without * characters) and the graph_synonyms analyzer\r\n- query two uses the original search string without graph_synonyms analyzer","performed_via_github_app":null}]