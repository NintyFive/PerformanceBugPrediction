[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/303842946","html_url":"https://github.com/elastic/elasticsearch/issues/24872#issuecomment-303842946","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24872","id":303842946,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzg0Mjk0Ng==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2017-05-24T20:31:53Z","updated_at":"2017-05-24T20:31:53Z","author_association":"CONTRIBUTOR","body":"If it is possible to reproduce It'd be helpful to have `error_trace` turned on.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/303844088","html_url":"https://github.com/elastic/elasticsearch/issues/24872#issuecomment-303844088","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24872","id":303844088,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzg0NDA4OA==","user":{"login":"abeyad","id":1631297,"node_id":"MDQ6VXNlcjE2MzEyOTc=","avatar_url":"https://avatars2.githubusercontent.com/u/1631297?v=4","gravatar_id":"","url":"https://api.github.com/users/abeyad","html_url":"https://github.com/abeyad","followers_url":"https://api.github.com/users/abeyad/followers","following_url":"https://api.github.com/users/abeyad/following{/other_user}","gists_url":"https://api.github.com/users/abeyad/gists{/gist_id}","starred_url":"https://api.github.com/users/abeyad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abeyad/subscriptions","organizations_url":"https://api.github.com/users/abeyad/orgs","repos_url":"https://api.github.com/users/abeyad/repos","events_url":"https://api.github.com/users/abeyad/events{/privacy}","received_events_url":"https://api.github.com/users/abeyad/received_events","type":"User","site_admin":false},"created_at":"2017-05-24T20:36:15Z","updated_at":"2017-05-24T20:36:15Z","author_association":"CONTRIBUTOR","body":"I can't reproduce this with the above steps, I'm sure that there were some node failures in a particular manner that allowed this error to manifest.  \r\n\r\n@cwurm Any other steps that you can add for the reproduction?  ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/303847925","html_url":"https://github.com/elastic/elasticsearch/issues/24872#issuecomment-303847925","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24872","id":303847925,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzg0NzkyNQ==","user":{"login":"cwurm","id":694597,"node_id":"MDQ6VXNlcjY5NDU5Nw==","avatar_url":"https://avatars2.githubusercontent.com/u/694597?v=4","gravatar_id":"","url":"https://api.github.com/users/cwurm","html_url":"https://github.com/cwurm","followers_url":"https://api.github.com/users/cwurm/followers","following_url":"https://api.github.com/users/cwurm/following{/other_user}","gists_url":"https://api.github.com/users/cwurm/gists{/gist_id}","starred_url":"https://api.github.com/users/cwurm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cwurm/subscriptions","organizations_url":"https://api.github.com/users/cwurm/orgs","repos_url":"https://api.github.com/users/cwurm/repos","events_url":"https://api.github.com/users/cwurm/events{/privacy}","received_events_url":"https://api.github.com/users/cwurm/received_events","type":"User","site_admin":false},"created_at":"2017-05-24T20:51:00Z","updated_at":"2017-05-24T20:51:00Z","author_association":"CONTRIBUTOR","body":"@nik9000 It's a Cloud cluster, I don't think I can turn this on. :-(\r\n\r\n@abeyad It only happens on this index as far as I can tell. I know we resized that Cloud cluster (doubled it in size) earlier today. Cloud console shows all nodes as up and running. No errors in the log.\r\n\r\nI'm not sure what I can do. You can access the cluster if you want - ping me.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/303849880","html_url":"https://github.com/elastic/elasticsearch/issues/24872#issuecomment-303849880","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24872","id":303849880,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzg0OTg4MA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-05-24T20:58:34Z","updated_at":"2017-05-24T20:58:34Z","author_association":"MEMBER","body":"> It's a Cloud cluster, I don't think I can turn this on. :-(\r\n\r\nIt's a request parameter, you can set it (`?error_trace=true`).\r\n\r\n> No errors in the log.\r\n\r\nAre you sure? We warn log all requests that are responded to with a 500 (unless `error_trace` is set to true).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/303856000","html_url":"https://github.com/elastic/elasticsearch/issues/24872#issuecomment-303856000","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24872","id":303856000,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzg1NjAwMA==","user":{"login":"cwurm","id":694597,"node_id":"MDQ6VXNlcjY5NDU5Nw==","avatar_url":"https://avatars2.githubusercontent.com/u/694597?v=4","gravatar_id":"","url":"https://api.github.com/users/cwurm","html_url":"https://github.com/cwurm","followers_url":"https://api.github.com/users/cwurm/followers","following_url":"https://api.github.com/users/cwurm/following{/other_user}","gists_url":"https://api.github.com/users/cwurm/gists{/gist_id}","starred_url":"https://api.github.com/users/cwurm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cwurm/subscriptions","organizations_url":"https://api.github.com/users/cwurm/orgs","repos_url":"https://api.github.com/users/cwurm/repos","events_url":"https://api.github.com/users/cwurm/events{/privacy}","received_events_url":"https://api.github.com/users/cwurm/received_events","type":"User","site_admin":false},"created_at":"2017-05-24T21:24:07Z","updated_at":"2017-05-24T21:24:07Z","author_association":"CONTRIBUTOR","body":"@jasontedor Oh sorry, my bad. Running `GET it_ops_logs/_stats?error_trace=true` doesn't change the output though.\r\n\r\nI'm searching furiously through the logs UI in Cloud, but can't find anything related. Unfortunately, it seems next to impossible to go through ES logs in Cloud sequentially (new log lines get added all the time and screw up the pagination). What would the exception look like? (I searched for `exception`, `error`, `failed` - anything I could think of).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/304464148","html_url":"https://github.com/elastic/elasticsearch/issues/24872#issuecomment-304464148","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24872","id":304464148,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDQ2NDE0OA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-05-27T17:00:41Z","updated_at":"2017-05-27T17:00:41Z","author_association":"MEMBER","body":"I obtained the logs from this instance and I know what the issue is, we have a double decrement bug when handling certain queries that fail in the fetch phase. This double decrement leads to the number of outstanding queries on a shard falling negative and that leads to the serialization issue here.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/304466432","html_url":"https://github.com/elastic/elasticsearch/issues/24872#issuecomment-304466432","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24872","id":304466432,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDQ2NjQzMg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-05-27T17:42:12Z","updated_at":"2017-05-27T17:42:12Z","author_association":"MEMBER","body":"I opened #24922.","performed_via_github_app":null}]