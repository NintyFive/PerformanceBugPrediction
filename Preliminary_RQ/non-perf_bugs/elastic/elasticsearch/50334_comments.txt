[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/567179105","html_url":"https://github.com/elastic/elasticsearch/issues/50334#issuecomment-567179105","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50334","id":567179105,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzE3OTEwNQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-12-18T19:36:10Z","updated_at":"2019-12-18T19:36:10Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra (:Core/Infra/Build)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/567215166","html_url":"https://github.com/elastic/elasticsearch/issues/50334#issuecomment-567215166","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50334","id":567215166,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzIxNTE2Ng==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2019-12-18T21:12:24Z","updated_at":"2019-12-18T21:12:24Z","author_association":"CONTRIBUTOR","body":"I'm not sure the file being written to would necessarily cause an error. At least when using the `tar` CLI utility, this scenario is simply a warning, and doesn't cause the operation to fail. Perhaps there _is_ a bug in the Ant tar task here. \r\n\r\nThis exception is benign (the build doesn't fail, just means we don't upload the logs to GCP), bit searching through build-stats this seems to happen a couple of times a day, most commonly on packing the `audit.json` log file. Perhaps something _is_ touching these files and the Ant implementation just can't cope well.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/567578463","html_url":"https://github.com/elastic/elasticsearch/issues/50334#issuecomment-567578463","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50334","id":567578463,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzU3ODQ2Mw==","user":{"login":"jaymode","id":4339958,"node_id":"MDQ6VXNlcjQzMzk5NTg=","avatar_url":"https://avatars1.githubusercontent.com/u/4339958?v=4","gravatar_id":"","url":"https://api.github.com/users/jaymode","html_url":"https://github.com/jaymode","followers_url":"https://api.github.com/users/jaymode/followers","following_url":"https://api.github.com/users/jaymode/following{/other_user}","gists_url":"https://api.github.com/users/jaymode/gists{/gist_id}","starred_url":"https://api.github.com/users/jaymode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaymode/subscriptions","organizations_url":"https://api.github.com/users/jaymode/orgs","repos_url":"https://api.github.com/users/jaymode/repos","events_url":"https://api.github.com/users/jaymode/events{/privacy}","received_events_url":"https://api.github.com/users/jaymode/received_events","type":"User","site_admin":false},"created_at":"2019-12-19T17:09:59Z","updated_at":"2019-12-19T17:09:59Z","author_association":"MEMBER","body":"The build linked did fail due to building the bug fix version. The commit that was checked out did not have the 7.5.2 version bump so this explains the failure and does not have to do with the tar aspect.\r\n\r\n@mark-vieira I'm going to assign this to you to see if we can resolve the issues with the failed tar for uploading logs.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/567584758","html_url":"https://github.com/elastic/elasticsearch/issues/50334#issuecomment-567584758","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50334","id":567584758,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzU4NDc1OA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2019-12-19T17:27:02Z","updated_at":"2019-12-19T17:27:02Z","author_association":"MEMBER","body":"> The build linked did fail due to building the bug fix version.\r\n\r\nThis shouldn't have happened, given our newer style of bwc checkout which uses commit times. @jpountz Did you use an atomic commit to push the new version commits to `master`, `7.x` and `7.5`?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/567585739","html_url":"https://github.com/elastic/elasticsearch/issues/50334#issuecomment-567585739","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50334","id":567585739,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzU4NTczOQ==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2019-12-19T17:29:53Z","updated_at":"2019-12-19T17:29:53Z","author_association":"CONTRIBUTOR","body":"Yes I did.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/567588180","html_url":"https://github.com/elastic/elasticsearch/issues/50334#issuecomment-567588180","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50334","id":567588180,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzU4ODE4MA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2019-12-19T17:36:42Z","updated_at":"2019-12-19T17:36:42Z","author_association":"MEMBER","body":"Ok thanks. I will investigate how we didn't get the right version then.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/567588517","html_url":"https://github.com/elastic/elasticsearch/issues/50334#issuecomment-567588517","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50334","id":567588517,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzU4ODUxNw==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2019-12-19T17:37:34Z","updated_at":"2019-12-19T17:37:34Z","author_association":"MEMBER","body":"Oh, which order did you make the commits locally before pushing? Was it master first?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/567590047","html_url":"https://github.com/elastic/elasticsearch/issues/50334#issuecomment-567590047","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50334","id":567590047,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzU5MDA0Nw==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2019-12-19T17:41:49Z","updated_at":"2019-12-19T17:41:49Z","author_association":"CONTRIBUTOR","body":"I committed locally on 7.5 first, but I don't remember whether I then did 7.x or master next. My first atomic push failed and I had to `git pull --rebase` on some branches before pushing atomically again. Why does the order of the local commits matter?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/567590704","html_url":"https://github.com/elastic/elasticsearch/issues/50334#issuecomment-567590704","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50334","id":567590704,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzU5MDcwNA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2019-12-19T17:43:49Z","updated_at":"2019-12-19T17:43:49Z","author_association":"MEMBER","body":"IIRC the bwc checkout logic is looking at the commit time.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/567689216","html_url":"https://github.com/elastic/elasticsearch/issues/50334#issuecomment-567689216","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50334","id":567689216,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzY4OTIxNg==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2019-12-19T21:44:50Z","updated_at":"2019-12-19T21:44:50Z","author_association":"CONTRIBUTOR","body":"If we need to continue this BWC conversation let's move it to another issue since it's unrelated to the tar issue.  That said, I'm hoping [this](https://github.com/elastic/elasticsearch/pull/50401) is a potential solution for the \"atomic push\" issues folks are facing.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/669674773","html_url":"https://github.com/elastic/elasticsearch/issues/50334#issuecomment-669674773","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50334","id":669674773,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTY3NDc3Mw==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2020-08-06T04:21:54Z","updated_at":"2020-08-06T04:21:54Z","author_association":"MEMBER","body":"I'm going to close this issue as we haven't seen it reoccur that I know of.","performed_via_github_app":null}]