{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/13292","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13292/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13292/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13292/events","html_url":"https://github.com/elastic/elasticsearch/issues/13292","id":104568146,"node_id":"MDU6SXNzdWUxMDQ1NjgxNDY=","number":13292,"title":"Tribe node initialisation issue","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"labels":[{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":110815527,"node_id":"MDU6TGFiZWwxMTA4MTU1Mjc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/help%20wanted","name":"help wanted","color":"207de5","default":true,"description":"adoptme"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-09-02T20:48:22Z","updated_at":"2018-02-27T19:45:58Z","closed_at":"2018-02-27T19:45:58Z","author_association":"MEMBER","active_lock_reason":null,"body":"If the tribe node has started then sometimes api calls can fail for a while until the tribe node has finally all the information of all the other clusters it has been configured with. This can take a while sometimes.\n\nConcrete scenario:\n1) Start cluster\n2) Create index and wait for yellow\n3) Start cluster\n4) Create index and wait for yellow\n5) Start tribe node\n6) Execute index call. This hangs sometimes, because the tribe node doesn't have collected all the cluster states from the cluster it has been configured with. This can take a while (until a cluster update from one of the cluster it is following comes in).\n\nI think we can improve this by making sure that the cluster states have examined by the tribe node during startup. \n","closed_by":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"performed_via_github_app":null}