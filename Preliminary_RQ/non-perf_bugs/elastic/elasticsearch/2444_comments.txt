[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/10694432","html_url":"https://github.com/elastic/elasticsearch/issues/2444#issuecomment-10694432","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2444","id":10694432,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNjk0NDMy","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2012-11-25T15:17:34Z","updated_at":"2012-11-25T15:17:34Z","author_association":"MEMBER","body":"I am not sure I understand the difference between this proposal and simply enabling 2 replicas for the index. Could you clarify it a bit? \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/10694509","html_url":"https://github.com/elastic/elasticsearch/issues/2444#issuecomment-10694509","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2444","id":10694509,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNjk0NTA5","user":{"login":"wojons","id":139396,"node_id":"MDQ6VXNlcjEzOTM5Ng==","avatar_url":"https://avatars2.githubusercontent.com/u/139396?v=4","gravatar_id":"","url":"https://api.github.com/users/wojons","html_url":"https://github.com/wojons","followers_url":"https://api.github.com/users/wojons/followers","following_url":"https://api.github.com/users/wojons/following{/other_user}","gists_url":"https://api.github.com/users/wojons/gists{/gist_id}","starred_url":"https://api.github.com/users/wojons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wojons/subscriptions","organizations_url":"https://api.github.com/users/wojons/orgs","repos_url":"https://api.github.com/users/wojons/repos","events_url":"https://api.github.com/users/wojons/events{/privacy}","received_events_url":"https://api.github.com/users/wojons/received_events","type":"User","site_admin":false},"created_at":"2012-11-25T15:24:54Z","updated_at":"2012-11-25T15:24:54Z","author_association":"NONE","body":"From my understanding in all databases unless you are running master-master replication which can become messed up quickly its hard to have replicas scale your writes. Considering that by default elasticsearch is not async replication so all writes would have to be written at once, and if it was async we have a higher chance of things falling out of sync. \n\nAlso if we just add more replicas, I dont know if elasticsearch will split the query against each replica to report back a different range of data. as i understand it, if you use routing reads and writes for that route are limited by the performance of a single machine.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/10694652","html_url":"https://github.com/elastic/elasticsearch/issues/2444#issuecomment-10694652","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2444","id":10694652,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNjk0NjUy","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2012-11-25T15:36:07Z","updated_at":"2012-11-25T15:36:07Z","author_association":"MEMBER","body":"When you specify routing, users requests are distributed among all replicas of the shard, which indeed can lead to somewhat different results while shard is being refreshed. If you want to provide a consistent view for a user, you can add a randomly generated [preference](http://www.elasticsearch.org/guide/reference/api/search/preference.html) to user's query. As long as the preference value stays the same and all shards are available, this user's query will be directed to the same shard. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/10695551","html_url":"https://github.com/elastic/elasticsearch/issues/2444#issuecomment-10695551","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2444","id":10695551,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNjk1NTUx","user":{"login":"wojons","id":139396,"node_id":"MDQ6VXNlcjEzOTM5Ng==","avatar_url":"https://avatars2.githubusercontent.com/u/139396?v=4","gravatar_id":"","url":"https://api.github.com/users/wojons","html_url":"https://github.com/wojons","followers_url":"https://api.github.com/users/wojons/followers","following_url":"https://api.github.com/users/wojons/following{/other_user}","gists_url":"https://api.github.com/users/wojons/gists{/gist_id}","starred_url":"https://api.github.com/users/wojons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wojons/subscriptions","organizations_url":"https://api.github.com/users/wojons/orgs","repos_url":"https://api.github.com/users/wojons/repos","events_url":"https://api.github.com/users/wojons/events{/privacy}","received_events_url":"https://api.github.com/users/wojons/received_events","type":"User","site_admin":false},"created_at":"2012-11-25T17:01:08Z","updated_at":"2012-11-25T17:01:08Z","author_association":"NONE","body":"So what your saying is i can make as many routes as I need to make related\nto a single user. And place that as an alies for that user. Am I able to\nhave one alies that spans more then one index each with multiple routing\nrules.\nOn Nov 25, 2012 7:36 AM, \"Igor Motov\" notifications@github.com wrote:\n\n> When you specify routing, users requests are distributed among all\n> replicas of the shard, which indeed can lead to somewhat different results\n> while shard is being refreshed. If you want to provide a consistent view\n> for a user, you can add a randomly generated preferencehttp://www.elasticsearch.org/guide/reference/api/search/preference.htmlto user's query. As long as the preference value stays the same and all\n> shards are available, this user's query will be directed to the same shard.\n> \n> â€”\n> Reply to this email directly or view it on GitHubhttps://github.com/elasticsearch/elasticsearch/issues/2444#issuecomment-10694652.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/10696026","html_url":"https://github.com/elastic/elasticsearch/issues/2444#issuecomment-10696026","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2444","id":10696026,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNjk2MDI2","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2012-11-25T17:45:50Z","updated_at":"2012-11-25T17:45:50Z","author_association":"MEMBER","body":"No, you cannot have more than one routing value per request.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/10696065","html_url":"https://github.com/elastic/elasticsearch/issues/2444#issuecomment-10696065","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2444","id":10696065,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNjk2MDY1","user":{"login":"wojons","id":139396,"node_id":"MDQ6VXNlcjEzOTM5Ng==","avatar_url":"https://avatars2.githubusercontent.com/u/139396?v=4","gravatar_id":"","url":"https://api.github.com/users/wojons","html_url":"https://github.com/wojons","followers_url":"https://api.github.com/users/wojons/followers","following_url":"https://api.github.com/users/wojons/following{/other_user}","gists_url":"https://api.github.com/users/wojons/gists{/gist_id}","starred_url":"https://api.github.com/users/wojons/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wojons/subscriptions","organizations_url":"https://api.github.com/users/wojons/orgs","repos_url":"https://api.github.com/users/wojons/repos","events_url":"https://api.github.com/users/wojons/events{/privacy}","received_events_url":"https://api.github.com/users/wojons/received_events","type":"User","site_admin":false},"created_at":"2012-11-25T17:48:50Z","updated_at":"2012-11-25T17:48:50Z","author_association":"NONE","body":"Is that for just adding a new document or for reading also? \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/10696381","html_url":"https://github.com/elastic/elasticsearch/issues/2444#issuecomment-10696381","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2444","id":10696381,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNjk2Mzgx","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2012-11-25T18:14:38Z","updated_at":"2012-11-25T18:14:38Z","author_association":"MEMBER","body":"Yes, when you retrieve a document using [get](http://www.elasticsearch.org/guide/reference/api/get.html) operation, you have to specify routing if you used non-default routing for indexing. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27376230","html_url":"https://github.com/elastic/elasticsearch/issues/2444#issuecomment-27376230","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2444","id":27376230,"node_id":"MDEyOklzc3VlQ29tbWVudDI3Mzc2MjMw","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2013-10-30T09:52:16Z","updated_at":"2013-10-30T09:52:16Z","author_association":"MEMBER","body":"Closing this for now, as there are ways to implement similar functionality.\n\nI highly recommend watching the following, which explains how to efficiently handle certain data flows in an elasticsearch cluster\n\nhttp://www.elasticsearch.org/videos/big-data-search-and-analytics/ \n","performed_via_github_app":null}]