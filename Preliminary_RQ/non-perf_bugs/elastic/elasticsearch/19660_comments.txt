[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/235990164","html_url":"https://github.com/elastic/elasticsearch/issues/19660#issuecomment-235990164","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19660","id":235990164,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTk5MDE2NA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2016-07-28T18:53:09Z","updated_at":"2016-07-28T18:53:09Z","author_association":"MEMBER","body":"This proposed tool is much different than the translog tool. For the translog, it is deleting a local file. But to manually recover dangling indices would require modifying cluster state right? Or am I misunderstanding what this tool would do?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/235990937","html_url":"https://github.com/elastic/elasticsearch/issues/19660#issuecomment-235990937","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19660","id":235990937,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTk5MDkzNw==","user":{"login":"abeyad","id":1631297,"node_id":"MDQ6VXNlcjE2MzEyOTc=","avatar_url":"https://avatars2.githubusercontent.com/u/1631297?v=4","gravatar_id":"","url":"https://api.github.com/users/abeyad","html_url":"https://github.com/abeyad","followers_url":"https://api.github.com/users/abeyad/followers","following_url":"https://api.github.com/users/abeyad/following{/other_user}","gists_url":"https://api.github.com/users/abeyad/gists{/gist_id}","starred_url":"https://api.github.com/users/abeyad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abeyad/subscriptions","organizations_url":"https://api.github.com/users/abeyad/orgs","repos_url":"https://api.github.com/users/abeyad/repos","events_url":"https://api.github.com/users/abeyad/events{/privacy}","received_events_url":"https://api.github.com/users/abeyad/received_events","type":"User","site_admin":false},"created_at":"2016-07-28T18:55:40Z","updated_at":"2016-07-28T18:55:40Z","author_association":"CONTRIBUTOR","body":"That's correct, it would have to recover data from potentially many nodes (wherever shards are stored for that dangling index) and modify the cluster state. It was a thought we had to provide some kind of tool like this in the distributed meeting, but its by no means a fleshed out idea. I should probably put a discuss label on it instead.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/236139357","html_url":"https://github.com/elastic/elasticsearch/issues/19660#issuecomment-236139357","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19660","id":236139357,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNjEzOTM1Nw==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-07-29T09:45:05Z","updated_at":"2016-07-29T09:45:05Z","author_association":"MEMBER","body":"Some clarification, based on a discussion in fix it friday:\n1) The idea was indeed born as a potential solution to the situation where all masters were lost and new indices were auto-created by ongoing indexing _before_ existing indices were reimported. At that point we can't import those indices anymore and such a tool would allow it.\n2) Currently there isn't any \"cluster state on disk\" but rather a collection of files on different levels - cluster settings and such on the top level and per index metadata in each index folder (though that will change it  the future). The tool should just go into a specific index and change the metadata file in it.\n3) We should verify the node is not running at the time.\n4) We should have a test that verifies what happens where someone renames an index on disk (within its UUID named folder) and creates a conflict between data folders/cluster state where an index with the same uuid has different names.\n5) We had the concern of having to maintain multiple complex bash script. If not already the case we should make the bash (and bat) be as simple as possible wrappers around java where do and test all commands/actions/param testing. This will make it more accessible for people who do not live in bash/bat\n\nAnother question that came up is whether we see another use case for index on disk renaming other than dangling indices. If you know one, please speak up.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/374570499","html_url":"https://github.com/elastic/elasticsearch/issues/19660#issuecomment-374570499","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19660","id":374570499,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDU3MDQ5OQ==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2018-03-20T11:53:41Z","updated_at":"2018-03-20T11:53:41Z","author_association":"MEMBER","body":"While being a valid idea, it hasn't seen any interest in the last (almost) 2 years and we have no concrete plans to implement. I'm going to close it for now. We can re-open if the need occurs. ","performed_via_github_app":null}]