[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/441782324","html_url":"https://github.com/elastic/elasticsearch/issues/35917#issuecomment-441782324","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35917","id":441782324,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTc4MjMyNA==","user":{"login":"pyro2927","id":39943,"node_id":"MDQ6VXNlcjM5OTQz","avatar_url":"https://avatars1.githubusercontent.com/u/39943?v=4","gravatar_id":"","url":"https://api.github.com/users/pyro2927","html_url":"https://github.com/pyro2927","followers_url":"https://api.github.com/users/pyro2927/followers","following_url":"https://api.github.com/users/pyro2927/following{/other_user}","gists_url":"https://api.github.com/users/pyro2927/gists{/gist_id}","starred_url":"https://api.github.com/users/pyro2927/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyro2927/subscriptions","organizations_url":"https://api.github.com/users/pyro2927/orgs","repos_url":"https://api.github.com/users/pyro2927/repos","events_url":"https://api.github.com/users/pyro2927/events{/privacy}","received_events_url":"https://api.github.com/users/pyro2927/received_events","type":"User","site_admin":false},"created_at":"2018-11-26T20:15:51Z","updated_at":"2018-11-26T20:16:01Z","author_association":"NONE","body":"Realizing the only reason this worked before for us was because Kibana itself supported parsing out index names into an `_msearch`. ðŸ˜ž ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/441977406","html_url":"https://github.com/elastic/elasticsearch/issues/35917#issuecomment-441977406","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35917","id":441977406,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTk3NzQwNg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-11-27T08:54:52Z","updated_at":"2018-11-27T08:54:52Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/443237410","html_url":"https://github.com/elastic/elasticsearch/issues/35917#issuecomment-443237410","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35917","id":443237410,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MzIzNzQxMA==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2018-11-30T15:24:32Z","updated_at":"2018-11-30T15:24:32Z","author_association":"MEMBER","body":"This setting was added to protect running queries against too many shards. However in 6 we added a pre-search phase that filters shards that does not fall into the range of the query. We also introduced the incremental reduce of search responses so even if a lot shards are left after the first pre-search we 'll limit the number of response that we handle at once in the coordinating node. With these two improvements we removed the default limit of `action.search.shard_count.limit` and made it unlimited by default in 6. Can you explain why do you think that you still need to set a low limit in this version ? We have protections in place now to avoid the breakage of your cluster if you hit a lot of shards so we're wondering if this setting is still needed. \r\nAlso, the setting was explicitly  added to limit the number of shards that can be search on a single request so it would be different to apply the limit after the filter phase. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/445328936","html_url":"https://github.com/elastic/elasticsearch/issues/35917#issuecomment-445328936","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35917","id":445328936,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NTMyODkzNg==","user":{"login":"pyro2927","id":39943,"node_id":"MDQ6VXNlcjM5OTQz","avatar_url":"https://avatars1.githubusercontent.com/u/39943?v=4","gravatar_id":"","url":"https://api.github.com/users/pyro2927","html_url":"https://github.com/pyro2927","followers_url":"https://api.github.com/users/pyro2927/followers","following_url":"https://api.github.com/users/pyro2927/following{/other_user}","gists_url":"https://api.github.com/users/pyro2927/gists{/gist_id}","starred_url":"https://api.github.com/users/pyro2927/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyro2927/subscriptions","organizations_url":"https://api.github.com/users/pyro2927/orgs","repos_url":"https://api.github.com/users/pyro2927/repos","events_url":"https://api.github.com/users/pyro2927/events{/privacy}","received_events_url":"https://api.github.com/users/pyro2927/received_events","type":"User","site_admin":false},"created_at":"2018-12-07T18:51:01Z","updated_at":"2018-12-07T18:51:01Z","author_association":"NONE","body":"@jimczi having learned a new term this week, not having the limit enables \"Killbana\" for us.  Users will log in and select a time range of all time to view all of their data at once, which causes the cluster to come to a screeching halt.  While those security measures you mentioned exist, they don't prevent our cluster from falling over.\r\n\r\nThat said I'll close this issue because it's on the Kibana side and not ES.","performed_via_github_app":null}]