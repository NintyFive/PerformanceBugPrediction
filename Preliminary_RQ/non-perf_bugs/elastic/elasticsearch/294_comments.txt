[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/339793","html_url":"https://github.com/elastic/elasticsearch/issues/294#issuecomment-339793","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/294","id":339793,"node_id":"MDEyOklzc3VlQ29tbWVudDMzOTc5Mw==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2010-08-03T18:52:26Z","updated_at":"2010-08-03T18:52:26Z","author_association":"MEMBER","body":"Geo: Polygon based filter, closed by 959eb0e703a0bb23b55ccfc07f4350b71eaaf25c.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/346985","html_url":"https://github.com/elastic/elasticsearch/issues/294#issuecomment-346985","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/294","id":346985,"node_id":"MDEyOklzc3VlQ29tbWVudDM0Njk4NQ==","user":{"login":"otisg","id":332580,"node_id":"MDQ6VXNlcjMzMjU4MA==","avatar_url":"https://avatars2.githubusercontent.com/u/332580?v=4","gravatar_id":"","url":"https://api.github.com/users/otisg","html_url":"https://github.com/otisg","followers_url":"https://api.github.com/users/otisg/followers","following_url":"https://api.github.com/users/otisg/following{/other_user}","gists_url":"https://api.github.com/users/otisg/gists{/gist_id}","starred_url":"https://api.github.com/users/otisg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/otisg/subscriptions","organizations_url":"https://api.github.com/users/otisg/orgs","repos_url":"https://api.github.com/users/otisg/repos","events_url":"https://api.github.com/users/otisg/events{/privacy}","received_events_url":"https://api.github.com/users/otisg/received_events","type":"User","site_admin":false},"created_at":"2010-08-09T13:20:49Z","updated_at":"2010-08-09T13:20:49Z","author_association":"NONE","body":"What is that \"drn5x1g8cu2y\" in the last example?  Thanks.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/347062","html_url":"https://github.com/elastic/elasticsearch/issues/294#issuecomment-347062","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/294","id":347062,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NzA2Mg==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2010-08-09T14:20:49Z","updated_at":"2010-08-09T14:20:49Z","author_association":"MEMBER","body":"Thats a geohash.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/837601","html_url":"https://github.com/elastic/elasticsearch/issues/294#issuecomment-837601","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/294","id":837601,"node_id":"MDEyOklzc3VlQ29tbWVudDgzNzYwMQ==","user":{"login":"richardsyeo","id":652492,"node_id":"MDQ6VXNlcjY1MjQ5Mg==","avatar_url":"https://avatars1.githubusercontent.com/u/652492?v=4","gravatar_id":"","url":"https://api.github.com/users/richardsyeo","html_url":"https://github.com/richardsyeo","followers_url":"https://api.github.com/users/richardsyeo/followers","following_url":"https://api.github.com/users/richardsyeo/following{/other_user}","gists_url":"https://api.github.com/users/richardsyeo/gists{/gist_id}","starred_url":"https://api.github.com/users/richardsyeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richardsyeo/subscriptions","organizations_url":"https://api.github.com/users/richardsyeo/orgs","repos_url":"https://api.github.com/users/richardsyeo/repos","events_url":"https://api.github.com/users/richardsyeo/events{/privacy}","received_events_url":"https://api.github.com/users/richardsyeo/received_events","type":"User","site_admin":false},"created_at":"2011-03-05T13:08:05Z","updated_at":"2011-03-05T13:08:05Z","author_association":"NONE","body":"I am having a problem getting the geo location stuff to work with v0.15 on windows 7 x64. Sun JDK 1.6.0.20.\n\nI have done many things successfully with elasticsearch but just struggling with this. Also why is pin.location required, i.e. why is pin outer required? I was following examples.\n\nRemember on windows need to use \" instead of '. The \" need to be repeated 3 times to escape.\n\nThe following command returns success...\n\n\\gnu\\bin\\curl\\curl -XPUT \"http://localhost:9200/scratch/test/12345\" -d \"{\"\"\"pin\"\"\":{\"\"\"MyId\"\"\":12345,\"\"\"location\"\"\":{\"\"\"type\"\"\":\"\"\"geo_point\"\"\",\"\"\"lat\"\"\":40.12,\"\"\"lon\"\"\":-71.34}}}\"\n\nThe following errors\n\n\\gnu\\bin\\curl\\curl -XGET \"http://localhost:9200/scratch/test/_search?pretty=true\" -d \"{\"\"\"filtered\"\"\":{\"\"\"query\"\"\":{\"\"\"match_all\"\"\":{}},\"\"\"filter\"\"\":{\"\"\"geo_polygon\"\"\":{\"\"\"pin.location\"\"\":{\"\"\"points\"\"\":[{\"\"\"lat\"\"\":40,\"\"\"lon\"\"\":-70},{\"\"\"lat\"\"\":30,\"\"\"lon\"\"\":-80},{\"\"\"lat\"\"\":20,\"\"\"lon\"\"\":-90}]}}}}}\"\n\n{\n  \"error\" : \"SearchPhaseExecutionException[Failed to execute phase [query], total failure; shardFailures {[AlmTJezeRUir7yIqVQ5cWA][s\ncratch][0]: SearchParseException[[scratch][0]: from[-1],size[-1]: Parse Failure [Failed to parse source [{\\\"filtered\\\":{\\\"query\\\":{\\\n\"match_all\\\":{}},\\\"filter\\\":{\\\"geo_polygon\\\":{\\\"pin.location\\\":{\\\"points\\\":[{\\\"lat\\\":40,\\\"lon\\\":-70},{\\\"lat\\\":30,\\\"lon\\\":-80},{\\\"lat\n\\\":20,\\\"lon\\\":-90}]}}}}}]]]; nested: SearchParseException[[scratch][0]: from[-1],size[-1]: Parse Failure [No parser for element [fil\ntered]]]; }{[AlmTJezeRUir7yIqVQ5cWA][scratch][1]: SearchParseException[[scratch][1]: from[-1],size[-1]: Parse Failure [Failed to par\nse source [{\\\"filtered\\\":{\\\"query\\\":{\\\"match_all\\\":{}},\\\"filter\\\":{\\\"geo_polygon\\\":{\\\"pin.location\\\":{\\\"points\\\":[{\\\"lat\\\":40,\\\"lon\\\n\":-70},{\\\"lat\\\":30,\\\"lon\\\":-80},{\\\"lat\\\":20,\\\"lon\\\":-90}]}}}}}]]]; nested: SearchParseException[[scratch][1]: from[-1],size[-1]: Par\nse Failure [No parser for element [filtered]]]; }{[AlmTJezeRUir7yIqVQ5cWA][scratch][2]: SearchParseException[[scratch][2]: from[-1],\nsize[-1]: Parse Failure [Failed to parse source [{\\\"filtered\\\":{\\\"query\\\":{\\\"match_all\\\":{}},\\\"filter\\\":{\\\"geo_polygon\\\":{\\\"pin.loca\ntion\\\":{\\\"points\\\":[{\\\"lat\\\":40,\\\"lon\\\":-70},{\\\"lat\\\":30,\\\"lon\\\":-80},{\\\"lat\\\":20,\\\"lon\\\":-90}]}}}}}]]]; nested: SearchParseExceptio\nn[[scratch][2]: from[-1],size[-1]: Parse Failure [No parser for element [filtered]]]; }{[AlmTJezeRUir7yIqVQ5cWA][scratch][3]: Search\nParseException[[scratch][3]: from[-1],size[-1]: Parse Failure [Failed to parse source [{\\\"filtered\\\":{\\\"query\\\":{\\\"match_all\\\":{}},\\\n\"filter\\\":{\\\"geo_polygon\\\":{\\\"pin.location\\\":{\\\"points\\\":[{\\\"lat\\\":40,\\\"lon\\\":-70},{\\\"lat\\\":30,\\\"lon\\\":-80},{\\\"lat\\\":20,\\\"lon\\\":-90}\n]}}}}}]]]; nested: SearchParseException[[scratch][3]: from[-1],size[-1]: Parse Failure [No parser for element [filtered]]]; }{[AlmTJ\nezeRUir7yIqVQ5cWA][scratch][4]: SearchParseException[[scratch][4]: from[-1],size[-1]: Parse Failure [Failed to parse source [{\\\"filt\nered\\\":{\\\"query\\\":{\\\"match_all\\\":{}},\\\"filter\\\":{\\\"geo_polygon\\\":{\\\"pin.location\\\":{\\\"points\\\":[{\\\"lat\\\":40,\\\"lon\\\":-70},{\\\"lat\\\":30\n,\\\"lon\\\":-80},{\\\"lat\\\":20,\\\"lon\\\":-90}]}}}}}]]]; nested: SearchParseException[[scratch][4]: from[-1],size[-1]: Parse Failure [No par\nser for element [filtered]]]; }]\",\n  \"status\" : 500\n}\n\n[2011-03-05 13:04:26,294][DEBUG][action.search.type       ] [Stonecutter] [scratch][4], node[AlmTJezeRUir7yIqVQ5cWA], [P], s[STARTED\n]: Failed to execute [org.elasticsearch.action.search.SearchRequest@9c4dfd]\norg.elasticsearch.search.SearchParseException: [scratch][4]: from[-1],size[-1]: Parse Failure [Failed to parse source [{\"filtered\":{\n\"query\":{\"match_all\":{}},\"filter\":{\"geo_polygon\":{\"pin.location\":{\"points\":[{\"lat\":40,\"lon\":-70},{\"lat\":30,\"lon\":-80},{\"lat\":20,\"lon\n\":-90}]}}}}}]]\n        at org.elasticsearch.search.SearchService.parseSource(SearchService.java:416)\n        at org.elasticsearch.search.SearchService.createContext(SearchService.java:331)\n        at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:165)\n        at org.elasticsearch.search.action.SearchServiceTransportAction.sendExecuteQuery(SearchServiceTransportAction.java:132)\n        at org.elasticsearch.action.search.type.TransportSearchQueryThenFetchAction$AsyncAction.sendExecuteFirstPhase(TransportSearc\nhQueryThenFetchAction.java:76)\n        at org.elasticsearch.action.search.type.TransportSearchTypeAction$BaseAsyncAction.performFirstPhase(TransportSearchTypeActio\nn.java:191)\n        at org.elasticsearch.action.search.type.TransportSearchTypeAction$BaseAsyncAction.access$000(TransportSearchTypeAction.java:\n75)\n        at org.elasticsearch.action.search.type.TransportSearchTypeAction$BaseAsyncAction$1.run(TransportSearchTypeAction.java:150)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n        at java.lang.Thread.run(Thread.java:619)\nCaused by: org.elasticsearch.search.SearchParseException: [scratch][4]: from[-1],size[-1]: Parse Failure [No parser for element [fil\ntered]]\n        at org.elasticsearch.search.SearchService.parseSource(SearchService.java:401)\n        ... 10 more\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/846050","html_url":"https://github.com/elastic/elasticsearch/issues/294#issuecomment-846050","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/294","id":846050,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NjA1MA==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2011-03-08T05:59:11Z","updated_at":"2011-03-08T05:59:11Z","author_association":"MEMBER","body":"Can you create a recreation and gist it, and then post it on the mailing list? (check http://www.elasticsearch.org/help).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/850991","html_url":"https://github.com/elastic/elasticsearch/issues/294#issuecomment-850991","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/294","id":850991,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MDk5MQ==","user":{"login":"richardsyeo","id":652492,"node_id":"MDQ6VXNlcjY1MjQ5Mg==","avatar_url":"https://avatars1.githubusercontent.com/u/652492?v=4","gravatar_id":"","url":"https://api.github.com/users/richardsyeo","html_url":"https://github.com/richardsyeo","followers_url":"https://api.github.com/users/richardsyeo/followers","following_url":"https://api.github.com/users/richardsyeo/following{/other_user}","gists_url":"https://api.github.com/users/richardsyeo/gists{/gist_id}","starred_url":"https://api.github.com/users/richardsyeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richardsyeo/subscriptions","organizations_url":"https://api.github.com/users/richardsyeo/orgs","repos_url":"https://api.github.com/users/richardsyeo/repos","events_url":"https://api.github.com/users/richardsyeo/events{/privacy}","received_events_url":"https://api.github.com/users/richardsyeo/received_events","type":"User","site_admin":false},"created_at":"2011-03-09T09:34:59Z","updated_at":"2011-03-09T09:34:59Z","author_association":"NONE","body":"Got it working eventually. Unfortunately the examples were not clear / misleading / being new to elasticsearch.\n\nWe found a subsequent comment somewhere which mentioned that geo_point no longer automatically detected.\n\nI manually defined the index and specified type as geo_point. Extra \" because via windows command line...\n\n{\"\"\"location\"\"\":{\"type\":\"\"\"geo_point\"\"\"}}\n\nI didn't wrap with outer \"pin\".\n\nI then imported data.\n\nWe then had to wrap the \"filtered\" with a \"query\":{ } which is not shown in examples.\n\nHere is example of query for windows command line which returns matches for UK and Ireland...\n\n\\curl -XGET \"http://localhost:9200/scratch/test/_search?pretty=true\" -d \"{\"\"\"query\"\"\":{\"\"\"filtered\"\"\":{\"\"\"query\"\"\":{\"\"\"match_all\"\"\":{}},\"\"\"filter\"\"\":{\"\"\"geo_bounding_box\"\"\":{\"\"\"location\"\"\":{\"\"\"top_left\"\"\":{\"\"\"lat\"\"\":60,\"\"\"lon\"\"\":-10},\"\"\"bottom_right\"\"\":{\"\"\"lat\"\"\":50,\"\"\"lon\"\"\":-0}}}}}}}\"\n\nUseful website for working out long and lats.\nhttp://www.getlatlon.com/\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/851001","html_url":"https://github.com/elastic/elasticsearch/issues/294#issuecomment-851001","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/294","id":851001,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MTAwMQ==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2011-03-09T09:39:24Z","updated_at":"2011-03-09T09:39:24Z","author_association":"MEMBER","body":"Great. In the geo polygon filter it states that the geo_type is _required_: http://www.elasticsearch.org/guide/reference/query-dsl/geo-polygon-filter.html.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/851025","html_url":"https://github.com/elastic/elasticsearch/issues/294#issuecomment-851025","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/294","id":851025,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MTAyNQ==","user":{"login":"richardsyeo","id":652492,"node_id":"MDQ6VXNlcjY1MjQ5Mg==","avatar_url":"https://avatars1.githubusercontent.com/u/652492?v=4","gravatar_id":"","url":"https://api.github.com/users/richardsyeo","html_url":"https://github.com/richardsyeo","followers_url":"https://api.github.com/users/richardsyeo/followers","following_url":"https://api.github.com/users/richardsyeo/following{/other_user}","gists_url":"https://api.github.com/users/richardsyeo/gists{/gist_id}","starred_url":"https://api.github.com/users/richardsyeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richardsyeo/subscriptions","organizations_url":"https://api.github.com/users/richardsyeo/orgs","repos_url":"https://api.github.com/users/richardsyeo/repos","events_url":"https://api.github.com/users/richardsyeo/events{/privacy}","received_events_url":"https://api.github.com/users/richardsyeo/received_events","type":"User","site_admin":false},"created_at":"2011-03-09T09:50:08Z","updated_at":"2011-03-09T09:50:08Z","author_association":"NONE","body":"Thanks. As a newbie to elasticsearch I wasn't clear what this meant. I tried passing as part of query explicitly. If examples were a little more complete and included actual curl command would greatly assist for novices. ElasticSearch is looking very promising!\n","performed_via_github_app":null}]