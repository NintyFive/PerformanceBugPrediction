[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/624025782","html_url":"https://github.com/elastic/elasticsearch/issues/56195#issuecomment-624025782","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/56195","id":624025782,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDAyNTc4Mg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-05-05T12:28:47Z","updated_at":"2020-05-05T12:28:47Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search (:Search/Mapping)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/624498257","html_url":"https://github.com/elastic/elasticsearch/issues/56195#issuecomment-624498257","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/56195","id":624498257,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDQ5ODI1Nw==","user":{"login":"ruflin","id":244900,"node_id":"MDQ6VXNlcjI0NDkwMA==","avatar_url":"https://avatars3.githubusercontent.com/u/244900?v=4","gravatar_id":"","url":"https://api.github.com/users/ruflin","html_url":"https://github.com/ruflin","followers_url":"https://api.github.com/users/ruflin/followers","following_url":"https://api.github.com/users/ruflin/following{/other_user}","gists_url":"https://api.github.com/users/ruflin/gists{/gist_id}","starred_url":"https://api.github.com/users/ruflin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruflin/subscriptions","organizations_url":"https://api.github.com/users/ruflin/orgs","repos_url":"https://api.github.com/users/ruflin/repos","events_url":"https://api.github.com/users/ruflin/events{/privacy}","received_events_url":"https://api.github.com/users/ruflin/received_events","type":"User","site_admin":false},"created_at":"2020-05-06T07:55:05Z","updated_at":"2020-05-06T07:55:05Z","author_association":"CONTRIBUTOR","body":"This is great and will work really well with the new indexing strategy. It would be nice if also `@timestamp` could be used as a filter. This would answer the question: Give me the `_field_caps` only for the data I'm currently looking on. I would not expect it to provide partial results of an index but exclude all indices that do not match the timestamp at all.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/624510766","html_url":"https://github.com/elastic/elasticsearch/issues/56195#issuecomment-624510766","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/56195","id":624510766,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDUxMDc2Ng==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2020-05-06T08:24:50Z","updated_at":"2020-05-06T08:24:50Z","author_association":"MEMBER","body":"> It would be nice if also @timestamp could be used as a filter.\r\n\r\nThat will be handled natively with the pre-filter phase.\r\n\r\n>  I would not expect it to provide partial results of an index but exclude all indices that do not match the timestamp at all.\r\n\r\n+1, it's not clear in the description but the idea is to eliminate indices if they cannot match the filter on **all** shards.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/624736819","html_url":"https://github.com/elastic/elasticsearch/issues/56195#issuecomment-624736819","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/56195","id":624736819,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDczNjgxOQ==","user":{"login":"jtibshirani","id":7461306,"node_id":"MDQ6VXNlcjc0NjEzMDY=","avatar_url":"https://avatars3.githubusercontent.com/u/7461306?v=4","gravatar_id":"","url":"https://api.github.com/users/jtibshirani","html_url":"https://github.com/jtibshirani","followers_url":"https://api.github.com/users/jtibshirani/followers","following_url":"https://api.github.com/users/jtibshirani/following{/other_user}","gists_url":"https://api.github.com/users/jtibshirani/gists{/gist_id}","starred_url":"https://api.github.com/users/jtibshirani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtibshirani/subscriptions","organizations_url":"https://api.github.com/users/jtibshirani/orgs","repos_url":"https://api.github.com/users/jtibshirani/repos","events_url":"https://api.github.com/users/jtibshirani/events{/privacy}","received_events_url":"https://api.github.com/users/jtibshirani/received_events","type":"User","site_admin":false},"created_at":"2020-05-06T16:00:30Z","updated_at":"2020-05-06T16:11:54Z","author_association":"MEMBER","body":"A small suggestion: perhaps the section could be named something like `index_filter` instead of `filter`? That would help clarify that the query is used to filter out entire indices. Otherwise users might assume that they could provide any search query, and we'd only return fields that appear in some matching document (I think this is the idea of 'partial results' that @ruflin mentioned).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/635957821","html_url":"https://github.com/elastic/elasticsearch/issues/56195#issuecomment-635957821","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/56195","id":635957821,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTk1NzgyMQ==","user":{"login":"astefan","id":893749,"node_id":"MDQ6VXNlcjg5Mzc0OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/893749?v=4","gravatar_id":"","url":"https://api.github.com/users/astefan","html_url":"https://github.com/astefan","followers_url":"https://api.github.com/users/astefan/followers","following_url":"https://api.github.com/users/astefan/following{/other_user}","gists_url":"https://api.github.com/users/astefan/gists{/gist_id}","starred_url":"https://api.github.com/users/astefan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astefan/subscriptions","organizations_url":"https://api.github.com/users/astefan/orgs","repos_url":"https://api.github.com/users/astefan/repos","events_url":"https://api.github.com/users/astefan/events{/privacy}","received_events_url":"https://api.github.com/users/astefan/received_events","type":"User","site_admin":false},"created_at":"2020-05-29T12:57:08Z","updated_at":"2020-05-29T12:57:08Z","author_association":"CONTRIBUTOR","body":"Wondering if this feature would be useful for sql/eql where users have the option of providing a query DSL in the form of a `filter` section in the request. We would use the query in the `filter` section for the `_field_caps` call... @costin wdyt?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/635962563","html_url":"https://github.com/elastic/elasticsearch/issues/56195#issuecomment-635962563","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/56195","id":635962563,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTk2MjU2Mw==","user":{"login":"costin","id":76245,"node_id":"MDQ6VXNlcjc2MjQ1","avatar_url":"https://avatars3.githubusercontent.com/u/76245?v=4","gravatar_id":"","url":"https://api.github.com/users/costin","html_url":"https://github.com/costin","followers_url":"https://api.github.com/users/costin/followers","following_url":"https://api.github.com/users/costin/following{/other_user}","gists_url":"https://api.github.com/users/costin/gists{/gist_id}","starred_url":"https://api.github.com/users/costin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/costin/subscriptions","organizations_url":"https://api.github.com/users/costin/orgs","repos_url":"https://api.github.com/users/costin/repos","events_url":"https://api.github.com/users/costin/events{/privacy}","received_events_url":"https://api.github.com/users/costin/received_events","type":"User","site_admin":false},"created_at":"2020-05-29T13:07:39Z","updated_at":"2020-05-29T13:07:39Z","author_association":"MEMBER","body":"Indeed, adding the filter to the query should speed things up when dealing with large mappings (e.g. beats). ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/638241665","html_url":"https://github.com/elastic/elasticsearch/issues/56195#issuecomment-638241665","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/56195","id":638241665,"node_id":"MDEyOklzc3VlQ29tbWVudDYzODI0MTY2NQ==","user":{"login":"wylieconlon","id":666475,"node_id":"MDQ6VXNlcjY2NjQ3NQ==","avatar_url":"https://avatars2.githubusercontent.com/u/666475?v=4","gravatar_id":"","url":"https://api.github.com/users/wylieconlon","html_url":"https://github.com/wylieconlon","followers_url":"https://api.github.com/users/wylieconlon/followers","following_url":"https://api.github.com/users/wylieconlon/following{/other_user}","gists_url":"https://api.github.com/users/wylieconlon/gists{/gist_id}","starred_url":"https://api.github.com/users/wylieconlon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wylieconlon/subscriptions","organizations_url":"https://api.github.com/users/wylieconlon/orgs","repos_url":"https://api.github.com/users/wylieconlon/repos","events_url":"https://api.github.com/users/wylieconlon/events{/privacy}","received_events_url":"https://api.github.com/users/wylieconlon/received_events","type":"User","site_admin":false},"created_at":"2020-06-03T14:38:37Z","updated_at":"2020-06-03T14:38:37Z","author_association":"MEMBER","body":"This seems like an unintuitive API choice- like other commenters, I was expecting that this would filter individual fields as well. I previously described the expected API in https://github.com/elastic/elasticsearch/issues/52730, with the semantics that others were expecting.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/638350418","html_url":"https://github.com/elastic/elasticsearch/issues/56195#issuecomment-638350418","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/56195","id":638350418,"node_id":"MDEyOklzc3VlQ29tbWVudDYzODM1MDQxOA==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2020-06-03T17:43:27Z","updated_at":"2020-06-03T17:43:27Z","author_association":"MEMBER","body":"We discussed offline with @wylieconlon and agreed that this proposal has the benefit of keeping things fast on any circumstances. We also clarified that this solution will be effective once we move to the new indexing strategy in beats so the user experience should be the same as the one proposed in #52730.","performed_via_github_app":null}]