[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/378895976","html_url":"https://github.com/elastic/elasticsearch/issues/29392#issuecomment-378895976","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29392","id":378895976,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODg5NTk3Ng==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-04-05T10:49:32Z","updated_at":"2018-04-05T10:49:32Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/378912364","html_url":"https://github.com/elastic/elasticsearch/issues/29392#issuecomment-378912364","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29392","id":378912364,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODkxMjM2NA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-04-05T12:00:51Z","updated_at":"2018-04-05T12:00:51Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/378918284","html_url":"https://github.com/elastic/elasticsearch/issues/29392#issuecomment-378918284","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29392","id":378918284,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODkxODI4NA==","user":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"created_at":"2018-04-05T12:25:50Z","updated_at":"2018-04-05T12:25:50Z","author_association":"MEMBER","body":"CI Log: [testSyncedFlushSkipOutOfSyncReplicas.txt](https://github.com/elastic/elasticsearch/files/1879899/testSyncedFlushSkipOutOfSyncReplicas.txt)\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/380037940","html_url":"https://github.com/elastic/elasticsearch/issues/29392#issuecomment-380037940","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29392","id":380037940,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDAzNzk0MA==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2018-04-10T09:38:04Z","updated_at":"2018-04-10T09:38:04Z","author_association":"MEMBER","body":"@dnhatn did you get anywhere with this?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/381818300","html_url":"https://github.com/elastic/elasticsearch/issues/29392#issuecomment-381818300","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29392","id":381818300,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTgxODMwMA==","user":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"created_at":"2018-04-17T03:01:22Z","updated_at":"2018-04-17T03:01:22Z","author_association":"MEMBER","body":"A similar instance [testDoNotRenewSyncedFlushWhenAllSealed.txt](https://github.com/elastic/elasticsearch/files/1918013/testDoNotRenewSyncedFlushWhenAllSealed.txt)\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+multijob-unix-compatibility/os=oraclelinux/2323/console\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/381818381","html_url":"https://github.com/elastic/elasticsearch/issues/29392#issuecomment-381818381","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29392","id":381818381,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTgxODM4MQ==","user":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"created_at":"2018-04-17T03:01:44Z","updated_at":"2018-04-17T03:01:44Z","author_association":"MEMBER","body":"@bleskes I will be looking at this tomorrow.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/383900563","html_url":"https://github.com/elastic/elasticsearch/issues/29392#issuecomment-383900563","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29392","id":383900563,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzkwMDU2Mw==","user":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"created_at":"2018-04-24T11:42:00Z","updated_at":"2018-04-24T11:42:00Z","author_association":"CONTRIBUTOR","body":"Another instance of this today\r\n\r\n```\r\nFAILURE 0.99s J0 | FlushIT.testDoNotRenewSyncedFlushWhenAllSealed <<< FAILURES!\r\n10:53:05    > Throwable #1: java.lang.AssertionError: \r\n10:53:05    > Expected: <3>\r\n10:53:05    >      but: was <0>\r\n10:53:05    > \tat __randomizedtesting.SeedInfo.seed([B2D1D0AA1E7F53C3:EFEE892888111141]:0)\r\n10:53:05    > \tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n10:53:05    > \tat org.elasticsearch.indices.flush.FlushIT.testDoNotRenewSyncedFlushWhenAllSealed(FlushIT.java:313)\r\n10:53:05    > \tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+multijob-windows-compatibility/1565/consoleFull","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/385995856","html_url":"https://github.com/elastic/elasticsearch/issues/29392#issuecomment-385995856","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29392","id":385995856,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTk5NTg1Ng==","user":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"created_at":"2018-05-02T14:24:55Z","updated_at":"2018-05-02T14:24:55Z","author_association":"MEMBER","body":"@bleskes You're right - it's not related to the cluster state. I got a new failure that shows that actual reason.\r\n\r\n>   1> [2018-05-02T23:10:32,145][INFO ][o.e.i.f.FlushIT          ] Third seal: Total shards: [2], failed: [true], reason: [[1] ongoing operations on primary], detail: []\r\n\r\nLog: [flush.txt](https://github.com/elastic/elasticsearch/files/1967623/flush.txt)\r\nCI: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+ccr+feature-branch-periodic/636/console\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/386872833","html_url":"https://github.com/elastic/elasticsearch/issues/29392#issuecomment-386872833","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29392","id":386872833,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Njg3MjgzMw==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2018-05-06T11:33:56Z","updated_at":"2018-05-06T11:33:56Z","author_association":"MEMBER","body":"@dnhatn cool. Any idea what the operation is?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/388271311","html_url":"https://github.com/elastic/elasticsearch/issues/29392#issuecomment-388271311","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29392","id":388271311,"node_id":"MDEyOklzc3VlQ29tbWVudDM4ODI3MTMxMQ==","user":{"login":"jtibshirani","id":7461306,"node_id":"MDQ6VXNlcjc0NjEzMDY=","avatar_url":"https://avatars3.githubusercontent.com/u/7461306?v=4","gravatar_id":"","url":"https://api.github.com/users/jtibshirani","html_url":"https://github.com/jtibshirani","followers_url":"https://api.github.com/users/jtibshirani/followers","following_url":"https://api.github.com/users/jtibshirani/following{/other_user}","gists_url":"https://api.github.com/users/jtibshirani/gists{/gist_id}","starred_url":"https://api.github.com/users/jtibshirani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtibshirani/subscriptions","organizations_url":"https://api.github.com/users/jtibshirani/orgs","repos_url":"https://api.github.com/users/jtibshirani/repos","events_url":"https://api.github.com/users/jtibshirani/events{/privacy}","received_events_url":"https://api.github.com/users/jtibshirani/received_events","type":"User","site_admin":false},"created_at":"2018-05-11T06:16:15Z","updated_at":"2018-05-11T06:16:15Z","author_association":"MEMBER","body":"A similar failure came up today -- the build information is below. While this is being resolved, I plan to mute `testSyncedFlushSkipOutOfSyncReplicas` and `testDoNotRenewSyncedFlushWhenAllSealed`.\r\n\r\nCI link: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.3+multijob-unix-compatibility/os=oraclelinux/55/console\r\n\r\nCommand to reproduce (does not reproduce for me locally):\r\n\r\n```\r\n./gradlew :server:integTest \\\r\n  -Dtests.seed=A189D899652C33F6 \\\r\n  -Dtests.class=org.elasticsearch.indices.flush.FlushIT \\\r\n  -Dtests.method=\"testDoNotRenewSyncedFlushWhenAllSealed\" \\\r\n  -Dtests.security.manager=true \\\r\n  -Dtests.locale=sk \\\r\n  -Dtests.timezone=Etc/GMT-9\r\n```\r\n\r\nStack trace:\r\n```\r\n05:27:18 FAILURE 0.61s J1 | FlushIT.testDoNotRenewSyncedFlushWhenAllSealed <<< FAILURES!\r\n05:27:18    > Throwable #1: java.lang.AssertionError: \r\n05:27:18    > Expected: <2>\r\n05:27:18    >      but: was <0>\r\n05:27:18    > \tat __randomizedtesting.SeedInfo.seed([A189D899652C33F6:FCB6811BF3427174]:0)\r\n05:27:18    > \tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n05:27:18    > \tat org.elasticsearch.indices.flush.FlushIT.testDoNotRenewSyncedFlushWhenAllSealed(FlushIT.java:326)\r\n05:27:18    > \tat java.lang.Thread.run(Thread.java:748)\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/388279454","html_url":"https://github.com/elastic/elasticsearch/issues/29392#issuecomment-388279454","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29392","id":388279454,"node_id":"MDEyOklzc3VlQ29tbWVudDM4ODI3OTQ1NA==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2018-05-11T07:03:39Z","updated_at":"2018-05-11T07:03:39Z","author_association":"MEMBER","body":"@dnhatn can you please prioritize this? Failing tests are not good.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/388337186","html_url":"https://github.com/elastic/elasticsearch/issues/29392#issuecomment-388337186","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29392","id":388337186,"node_id":"MDEyOklzc3VlQ29tbWVudDM4ODMzNzE4Ng==","user":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"created_at":"2018-05-11T11:26:11Z","updated_at":"2018-05-11T11:26:11Z","author_association":"MEMBER","body":"@bleskes Sorry for the delay. Looking at this now.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/388524087","html_url":"https://github.com/elastic/elasticsearch/issues/29392#issuecomment-388524087","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29392","id":388524087,"node_id":"MDEyOklzc3VlQ29tbWVudDM4ODUyNDA4Nw==","user":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"created_at":"2018-05-12T02:34:27Z","updated_at":"2018-05-12T02:34:27Z","author_association":"MEMBER","body":"@bleskes \r\nThese tests failed because of ongoing operations on the primary which means someone was holding an index shard permit. I spent several hours on this but could not figure out the acquirer. \r\n\r\nI have re-enabled these tests (in https://github.com/elastic/elasticsearch/commit/d96bc5b22766a3e5d2c7e5c0edfcf0265853e08d ) with a trace log of the permit holders when checking inflight operations. If this fails again, we will know the acquirer.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/393148106","html_url":"https://github.com/elastic/elasticsearch/issues/29392#issuecomment-393148106","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29392","id":393148106,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MzE0ODEwNg==","user":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"created_at":"2018-05-30T12:47:13Z","updated_at":"2018-05-30T12:47:13Z","author_association":"MEMBER","body":"Another instance https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+intake/1998/console\r\nThe test failed because the global checkpoint sync acquired a shard permit while the synced-flushing was happening. I am looking at this again.\r\n\r\n```\r\n1> [2018-05-30T04:00:48,248][TRACE][o.e.i.f.SyncedFlushService] [node_s1] in flight operations 1, acquirers [GlobalCheckpointSyncAction.Request{shardId=[test][0], timeout=1m, index='test', waitForActiveShards=1}\r\n1> \tat org.elasticsearch.index.shard.IndexShardOperationPermits.acquire(IndexShardOperationPermits.java:229)\r\n1> \tat org.elasticsearch.index.shard.IndexShard.acquirePrimaryOperationPermit(IndexShard.java:2178)\r\n1> \tat org.elasticsearch.action.support.replication.TransportReplicationAction.acquirePrimaryShardReference(TransportReplicationAction.java:968)\r\n1> \tat org.elasticsearch.action.support.replication.TransportReplicationAction.access$500(TransportReplicationAction.java:98)\r\n1> \tat org.elasticsearch.action.support.replication.TransportReplicationAction$AsyncPrimaryAction.doRun(TransportReplicationAction.java:318)\r\n1> \tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)\r\n1> \tat org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryOperationTransportHandler.messageReceived(TransportReplicationAction.java:293)\r\n1> \tat org.elasticsearch.action.support.replication.TransportReplicationAction$PrimaryOperationTransportHandler.messageReceived(TransportReplicationAction.java:280)\r\n1> \tat org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:66)\r\n1> \tat org.elasticsearch.transport.TransportService$7.doRun(TransportService.java:656)\r\n1> \tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:724)\r\n1> \tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)\r\n1> \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n1> \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n1> \tat java.lang.Thread.run(Thread.java:748)]\r\n\r\n1> [2018-05-30T04:00:48,248][INFO ][o.e.i.f.FlushIT          ] Third seal: Total shards: [2], failed: [true], reason: [[1] ongoing operations on primary], detail: []\r\n```","performed_via_github_app":null}]