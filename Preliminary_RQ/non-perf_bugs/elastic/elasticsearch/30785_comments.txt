[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/391048775","html_url":"https://github.com/elastic/elasticsearch/issues/30785#issuecomment-391048775","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30785","id":391048775,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MTA0ODc3NQ==","user":{"login":"jdconrad","id":2126764,"node_id":"MDQ6VXNlcjIxMjY3NjQ=","avatar_url":"https://avatars2.githubusercontent.com/u/2126764?v=4","gravatar_id":"","url":"https://api.github.com/users/jdconrad","html_url":"https://github.com/jdconrad","followers_url":"https://api.github.com/users/jdconrad/followers","following_url":"https://api.github.com/users/jdconrad/following{/other_user}","gists_url":"https://api.github.com/users/jdconrad/gists{/gist_id}","starred_url":"https://api.github.com/users/jdconrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdconrad/subscriptions","organizations_url":"https://api.github.com/users/jdconrad/orgs","repos_url":"https://api.github.com/users/jdconrad/repos","events_url":"https://api.github.com/users/jdconrad/events{/privacy}","received_events_url":"https://api.github.com/users/jdconrad/received_events","type":"User","site_admin":false},"created_at":"2018-05-22T16:08:47Z","updated_at":"2018-05-22T16:08:47Z","author_association":"CONTRIBUTOR","body":"This error message needs improvement -- org.joda.time.MutableDateTime does not exist in Painless.  Times are currently returned as org.joda.time.ReadableDateTime and should be converted to build in Java time classes for use.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/391048904","html_url":"https://github.com/elastic/elasticsearch/issues/30785#issuecomment-391048904","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30785","id":391048904,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MTA0ODkwNA==","user":{"login":"jdconrad","id":2126764,"node_id":"MDQ6VXNlcjIxMjY3NjQ=","avatar_url":"https://avatars2.githubusercontent.com/u/2126764?v=4","gravatar_id":"","url":"https://api.github.com/users/jdconrad","html_url":"https://github.com/jdconrad","followers_url":"https://api.github.com/users/jdconrad/followers","following_url":"https://api.github.com/users/jdconrad/following{/other_user}","gists_url":"https://api.github.com/users/jdconrad/gists{/gist_id}","starred_url":"https://api.github.com/users/jdconrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdconrad/subscriptions","organizations_url":"https://api.github.com/users/jdconrad/orgs","repos_url":"https://api.github.com/users/jdconrad/repos","events_url":"https://api.github.com/users/jdconrad/events{/privacy}","received_events_url":"https://api.github.com/users/jdconrad/received_events","type":"User","site_admin":false},"created_at":"2018-05-22T16:09:13Z","updated_at":"2018-05-22T16:09:28Z","author_association":"CONTRIBUTOR","body":"This is expected behaviour  so I'm going to close this issue.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/391072699","html_url":"https://github.com/elastic/elasticsearch/issues/30785#issuecomment-391072699","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30785","id":391072699,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MTA3MjY5OQ==","user":{"login":"benhairui","id":13082166,"node_id":"MDQ6VXNlcjEzMDgyMTY2","avatar_url":"https://avatars2.githubusercontent.com/u/13082166?v=4","gravatar_id":"","url":"https://api.github.com/users/benhairui","html_url":"https://github.com/benhairui","followers_url":"https://api.github.com/users/benhairui/followers","following_url":"https://api.github.com/users/benhairui/following{/other_user}","gists_url":"https://api.github.com/users/benhairui/gists{/gist_id}","starred_url":"https://api.github.com/users/benhairui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benhairui/subscriptions","organizations_url":"https://api.github.com/users/benhairui/orgs","repos_url":"https://api.github.com/users/benhairui/repos","events_url":"https://api.github.com/users/benhairui/events{/privacy}","received_events_url":"https://api.github.com/users/benhairui/received_events","type":"User","site_admin":false},"created_at":"2018-05-22T17:22:26Z","updated_at":"2018-05-22T17:22:26Z","author_association":"NONE","body":"Thank you for your answer@jdconradã€‚ Here is another question, i find the returned value'type is org.joda.time.ReadableDateTime.But i can not find some method to convert it to java time. Is it developing?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/391073496","html_url":"https://github.com/elastic/elasticsearch/issues/30785#issuecomment-391073496","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30785","id":391073496,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MTA3MzQ5Ng==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2018-05-22T17:24:57Z","updated_at":"2018-05-22T18:35:40Z","author_association":"MEMBER","body":"@benhairui Please ask questions on [our forum](https://discuss.elastic.co/c/elasticsearch). We use github for feature requests and confirmed bug reports.\r\n\r\nYou need to grab the milliseconds from the ReadableDateTime:\r\n\r\n```\r\nInstant.ofEpochMilli(doc['tt'].value.millis)\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/391078486","html_url":"https://github.com/elastic/elasticsearch/issues/30785#issuecomment-391078486","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30785","id":391078486,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MTA3ODQ4Ng==","user":{"login":"benhairui","id":13082166,"node_id":"MDQ6VXNlcjEzMDgyMTY2","avatar_url":"https://avatars2.githubusercontent.com/u/13082166?v=4","gravatar_id":"","url":"https://api.github.com/users/benhairui","html_url":"https://github.com/benhairui","followers_url":"https://api.github.com/users/benhairui/followers","following_url":"https://api.github.com/users/benhairui/following{/other_user}","gists_url":"https://api.github.com/users/benhairui/gists{/gist_id}","starred_url":"https://api.github.com/users/benhairui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benhairui/subscriptions","organizations_url":"https://api.github.com/users/benhairui/orgs","repos_url":"https://api.github.com/users/benhairui/repos","events_url":"https://api.github.com/users/benhairui/events{/privacy}","received_events_url":"https://api.github.com/users/benhairui/received_events","type":"User","site_admin":false},"created_at":"2018-05-22T17:40:46Z","updated_at":"2018-05-22T17:40:46Z","author_association":"NONE","body":"@rjernst Thanks for your answer, i will take your advice if i have another question. \r\nI try \"Instance.ofEpochMilli(doc['tt'].value.millis)\", but it report anther error.\r\n\r\n{\r\n  \"error\": {\r\n    \"root_cause\": [\r\n      {\r\n        \"type\": \"script_exception\",\r\n        \"reason\": \"compile error\",\r\n        \"script_stack\": [\r\n          \"          long time = Instance.ofEpochMilli(doc ...\",\r\n          \"                      ^---- HERE\"\r\n        ],\r\n        \"script\": \"          long time = Instance.ofEpochMilli(doc['produceDate'].value.millis);\\n        return time;\",\r\n        \"lang\": \"painless\"\r\n      }\r\n    ],\r\n    \"type\": \"search_phase_execution_exception\",\r\n    \"reason\": \"all shards failed\",\r\n    \"phase\": \"query\",\r\n    \"grouped\": true,\r\n    \"failed_shards\": [\r\n      {\r\n        \"shard\": 0,\r\n        \"index\": \"my_index\",\r\n        \"node\": \"IFseLg0mTEyuubB1mKyJPg\",\r\n        \"reason\": {\r\n          \"type\": \"script_exception\",\r\n          \"reason\": \"compile error\",\r\n          \"script_stack\": [\r\n            \"          long time = Instance.ofEpochMilli(doc ...\",\r\n            \"                      ^---- HERE\"\r\n          ],\r\n          \"script\": \"          long time = Instance.ofEpochMilli(doc['produceDate'].value.millis);\\n        return time;\",\r\n          \"lang\": \"painless\",\r\n          \"caused_by\": {\r\n            \"type\": \"illegal_argument_exception\",\r\n            \"reason\": \"Variable [Instance] is not defined.\"\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  },\r\n  \"status\": 500\r\n}","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/391096407","html_url":"https://github.com/elastic/elasticsearch/issues/30785#issuecomment-391096407","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30785","id":391096407,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MTA5NjQwNw==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2018-05-22T18:36:16Z","updated_at":"2018-05-22T18:36:16Z","author_association":"MEMBER","body":"My apologies. I mean `Instant`, not `Instance`. But again, please ask questions on [our forum](https://discuss.elastic.co/c/elasticsearch).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/391101068","html_url":"https://github.com/elastic/elasticsearch/issues/30785#issuecomment-391101068","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30785","id":391101068,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MTEwMTA2OA==","user":{"login":"benhairui","id":13082166,"node_id":"MDQ6VXNlcjEzMDgyMTY2","avatar_url":"https://avatars2.githubusercontent.com/u/13082166?v=4","gravatar_id":"","url":"https://api.github.com/users/benhairui","html_url":"https://github.com/benhairui","followers_url":"https://api.github.com/users/benhairui/followers","following_url":"https://api.github.com/users/benhairui/following{/other_user}","gists_url":"https://api.github.com/users/benhairui/gists{/gist_id}","starred_url":"https://api.github.com/users/benhairui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benhairui/subscriptions","organizations_url":"https://api.github.com/users/benhairui/orgs","repos_url":"https://api.github.com/users/benhairui/repos","events_url":"https://api.github.com/users/benhairui/events{/privacy}","received_events_url":"https://api.github.com/users/benhairui/received_events","type":"User","site_admin":false},"created_at":"2018-05-22T18:50:34Z","updated_at":"2018-05-22T18:50:34Z","author_association":"NONE","body":"@rjernst thanks for your answer again! I am sorry for asking question on this page. I will take your advice!\r\nThanks again!!!","performed_via_github_app":null}]