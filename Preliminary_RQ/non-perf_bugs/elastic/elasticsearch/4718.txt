{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/4718","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4718/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4718/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4718/events","html_url":"https://github.com/elastic/elasticsearch/issues/4718","id":25548130,"node_id":"MDU6SXNzdWUyNTU0ODEzMA==","number":4718,"title":"generate timestamp when path is null","user":{"login":"khoan","id":45188,"node_id":"MDQ6VXNlcjQ1MTg4","avatar_url":"https://avatars2.githubusercontent.com/u/45188?v=4","gravatar_id":"","url":"https://api.github.com/users/khoan","html_url":"https://github.com/khoan","followers_url":"https://api.github.com/users/khoan/followers","following_url":"https://api.github.com/users/khoan/following{/other_user}","gists_url":"https://api.github.com/users/khoan/gists{/gist_id}","starred_url":"https://api.github.com/users/khoan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/khoan/subscriptions","organizations_url":"https://api.github.com/users/khoan/orgs","repos_url":"https://api.github.com/users/khoan/repos","events_url":"https://api.github.com/users/khoan/events{/privacy}","received_events_url":"https://api.github.com/users/khoan/received_events","type":"User","site_admin":false},"labels":[{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":111540092,"node_id":"MDU6TGFiZWwxMTE1NDAwOTI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v1.4.0.Beta1","name":"v1.4.0.Beta1","color":"dddddd","default":false,"description":null},{"id":76184120,"node_id":"MDU6TGFiZWw3NjE4NDEyMA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v2.0.0-beta1","name":"v2.0.0-beta1","color":"dddddd","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"assignees":[{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false}],"milestone":null,"comments":7,"created_at":"2014-01-14T02:01:54Z","updated_at":"2015-05-01T07:24:48Z","closed_at":"2014-07-31T18:42:33Z","author_association":"NONE","active_lock_reason":null,"body":"Shouldn't timestamp be generated when value of path is null ?\n\nMapping definition:\n\n``` bash\ncurl -X PUT  http://localhost:9200/twitter/ -d '{\n    \"mappings\": {\n        \"_default_\": {\n            \"_timestamp\" : {\n                \"enabled\" : \"yes\",\n                \"store\": \"yes\",\n                \"path\" : \"post_date\"\n            },\n            \"properties\": {\n                \"message\": {\n                    \"type\": \"string\"\n                }\n            }\n        }\n    }\n}'\n```\n\nGet error when:\n\n``` bash\ncurl -X PUT http://127.0.0.1:9200/twitter/tweet/123 -d '{\n  message: \"bam bam\"\n}'\n\n=>  {\"error\":\"ElasticSearchParseException[failed to parse doc to extract routing/timestamp]; nested: TimestampParsingException[failed to parse timestamp [null]]; \",\"status\":400}\n\ncurl -X PUT http://127.0.0.1:9200/twitter/tweet/123 -d '{\n  message: \"bam bam\",\n  post_date: \"2009-11-15T14:12:12Z\"\n}'\n\n=> {\"ok\":true,\"_index\":\"twitter\",\"_type\":\"tweet\",\"_id\":\"123\",\"_version\":1}\n```\n","closed_by":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"performed_via_github_app":null}