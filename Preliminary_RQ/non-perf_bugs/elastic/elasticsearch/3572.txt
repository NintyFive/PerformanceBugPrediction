{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/3572","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3572/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3572/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3572/events","html_url":"https://github.com/elastic/elasticsearch/issues/3572","id":18541655,"node_id":"MDU6SXNzdWUxODU0MTY1NQ==","number":3572,"title":"Allow removing of per-index settings","user":{"login":"brutester","id":452594,"node_id":"MDQ6VXNlcjQ1MjU5NA==","avatar_url":"https://avatars0.githubusercontent.com/u/452594?v=4","gravatar_id":"","url":"https://api.github.com/users/brutester","html_url":"https://github.com/brutester","followers_url":"https://api.github.com/users/brutester/followers","following_url":"https://api.github.com/users/brutester/following{/other_user}","gists_url":"https://api.github.com/users/brutester/gists{/gist_id}","starred_url":"https://api.github.com/users/brutester/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brutester/subscriptions","organizations_url":"https://api.github.com/users/brutester/orgs","repos_url":"https://api.github.com/users/brutester/repos","events_url":"https://api.github.com/users/brutester/events{/privacy}","received_events_url":"https://api.github.com/users/brutester/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2013-08-26T09:59:08Z","updated_at":"2014-07-04T12:37:57Z","closed_at":"2014-07-04T12:37:57Z","author_association":"NONE","active_lock_reason":null,"body":"If you enable a setting on a index you cannot remove it.\n\nFor example if you want to disable shard relocation in cluster and enable it for one index you use:\n\n<pre>\ncurl -XPUT http://localhost:9200/articles/_settings -d '{\"index.routing.allocation.disable_allocation\": false}'\ncurl -XPUT http://localhost:9200/_cluster/settings -d '{\"transient\":{\"cluster.routing.allocation.disable_allocation\": true}}'\n</pre>\n\nThen if you want to use the cluster setting on the index there is no way to delete the defined value and you need to manually maintain it.\n\nA good enhancement will be to have the ability to use:\n\n<pre>curl -XDELETE http://localhost:9200/articles/_settings -d '{\"index.routing.allocation.disable_allocation\"}'\n</pre>\n\nor\n\n<pre> \ncurl -XPUT http://localhost:9200/articles/_settings -d '{\"index.routing.allocation.disable_allocation\":default}'\n</pre>\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}