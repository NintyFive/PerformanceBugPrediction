[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/140654273","html_url":"https://github.com/elastic/elasticsearch/issues/13604#issuecomment-140654273","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13604","id":140654273,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MDY1NDI3Mw==","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2015-09-16T07:26:09Z","updated_at":"2015-09-16T07:26:09Z","author_association":"CONTRIBUTOR","body":"The failure is intentional. Why should we be lenient about this? it is still a form of jar hell!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/140654602","html_url":"https://github.com/elastic/elasticsearch/issues/13604#issuecomment-140654602","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13604","id":140654602,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MDY1NDYwMg==","user":{"login":"jprante","id":635745,"node_id":"MDQ6VXNlcjYzNTc0NQ==","avatar_url":"https://avatars1.githubusercontent.com/u/635745?v=4","gravatar_id":"","url":"https://api.github.com/users/jprante","html_url":"https://github.com/jprante","followers_url":"https://api.github.com/users/jprante/followers","following_url":"https://api.github.com/users/jprante/following{/other_user}","gists_url":"https://api.github.com/users/jprante/gists{/gist_id}","starred_url":"https://api.github.com/users/jprante/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jprante/subscriptions","organizations_url":"https://api.github.com/users/jprante/orgs","repos_url":"https://api.github.com/users/jprante/repos","events_url":"https://api.github.com/users/jprante/events{/privacy}","received_events_url":"https://api.github.com/users/jprante/received_events","type":"User","site_admin":false},"created_at":"2015-09-16T07:28:26Z","updated_at":"2015-09-16T07:28:26Z","author_association":"CONTRIBUTOR","body":"If the duplicate class files exist inside the same class loader, and the two duplicate class files are exactly identical then it does not matter which one gets chosen first - this situation is not dangerous.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/140659232","html_url":"https://github.com/elastic/elasticsearch/issues/13604#issuecomment-140659232","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13604","id":140659232,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MDY1OTIzMg==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2015-09-16T07:53:05Z","updated_at":"2015-09-16T07:53:05Z","author_association":"CONTRIBUTOR","body":"> If the duplicate class files exist inside the same class loader, and the two duplicate class files are exactly identical then it does not matter which one gets chosen first - this situation is not dangerous.\n\nhaving the same file twice is a problem we can't work around this and add leniency on that level - we are just enforcing things to be setup properly.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/157844840","html_url":"https://github.com/elastic/elasticsearch/issues/13604#issuecomment-157844840","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13604","id":157844840,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Nzg0NDg0MA==","user":{"login":"vchekan","id":106474,"node_id":"MDQ6VXNlcjEwNjQ3NA==","avatar_url":"https://avatars1.githubusercontent.com/u/106474?v=4","gravatar_id":"","url":"https://api.github.com/users/vchekan","html_url":"https://github.com/vchekan","followers_url":"https://api.github.com/users/vchekan/followers","following_url":"https://api.github.com/users/vchekan/following{/other_user}","gists_url":"https://api.github.com/users/vchekan/gists{/gist_id}","starred_url":"https://api.github.com/users/vchekan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vchekan/subscriptions","organizations_url":"https://api.github.com/users/vchekan/orgs","repos_url":"https://api.github.com/users/vchekan/repos","events_url":"https://api.github.com/users/vchekan/events{/privacy}","received_events_url":"https://api.github.com/users/vchekan/received_events","type":"User","site_admin":false},"created_at":"2015-11-18T20:00:01Z","updated_at":"2015-11-18T20:00:01Z","author_association":"NONE","body":"@s1monw correct me if I am wrong, but jar hell conflict can happen not just between a plugin and elasticsearch, but between 2 plugins.\n\nAs a plugin author, I can not \"setup things properly\" because this would require me to know target server's list of plugins at my plugin compile time. In other words, it is impossible for a plugin author to make their plugin compatible with all existing and all future plugins.\n\nTo make it even worse, if I exclude a conflicting jar from my plugin, it will break if the other plugin gets uninstalled, because now my plugin could not find needed jar. What should I do as a plugin author?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/157845338","html_url":"https://github.com/elastic/elasticsearch/issues/13604#issuecomment-157845338","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13604","id":157845338,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Nzg0NTMzOA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2015-11-18T20:02:00Z","updated_at":"2015-11-18T20:02:00Z","author_association":"CONTRIBUTOR","body":"> As a plugin author, I can not \"setup things properly\" because this would require me to know target server's list of plugins at my plugin compile time. In other words, it is impossible for a plugin author to make their plugin compatible with all existing and all future plugins.\n\nI believe plugins run in isolated classloaders so two plugins can define the same class without this being an issue.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/157847664","html_url":"https://github.com/elastic/elasticsearch/issues/13604#issuecomment-157847664","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13604","id":157847664,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Nzg0NzY2NA==","user":{"login":"vchekan","id":106474,"node_id":"MDQ6VXNlcjEwNjQ3NA==","avatar_url":"https://avatars1.githubusercontent.com/u/106474?v=4","gravatar_id":"","url":"https://api.github.com/users/vchekan","html_url":"https://github.com/vchekan","followers_url":"https://api.github.com/users/vchekan/followers","following_url":"https://api.github.com/users/vchekan/following{/other_user}","gists_url":"https://api.github.com/users/vchekan/gists{/gist_id}","starred_url":"https://api.github.com/users/vchekan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vchekan/subscriptions","organizations_url":"https://api.github.com/users/vchekan/orgs","repos_url":"https://api.github.com/users/vchekan/repos","events_url":"https://api.github.com/users/vchekan/events{/privacy}","received_events_url":"https://api.github.com/users/vchekan/received_events","type":"User","site_admin":false},"created_at":"2015-11-18T20:11:23Z","updated_at":"2015-11-18T20:11:23Z","author_association":"NONE","body":"@nik9000 hmm, I think I understood. I am actually doing bulk insert, and pointing to ES install with some plugins already installed. Perhaps, jar isolation works differently when bulk node is registered. I will solve it by pointing bulk node at \"clean\" ES install, without any plugins.\n","performed_via_github_app":null}]