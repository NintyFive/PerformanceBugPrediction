{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/2691","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2691/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2691/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2691/events","html_url":"https://github.com/elastic/elasticsearch/issues/2691","id":11393783,"node_id":"MDU6SXNzdWUxMTM5Mzc4Mw==","number":2691,"title":"Allow analyzed fields to be returned in fields array","user":{"login":"Downchuck","id":141466,"node_id":"MDQ6VXNlcjE0MTQ2Ng==","avatar_url":"https://avatars1.githubusercontent.com/u/141466?v=4","gravatar_id":"","url":"https://api.github.com/users/Downchuck","html_url":"https://github.com/Downchuck","followers_url":"https://api.github.com/users/Downchuck/followers","following_url":"https://api.github.com/users/Downchuck/following{/other_user}","gists_url":"https://api.github.com/users/Downchuck/gists{/gist_id}","starred_url":"https://api.github.com/users/Downchuck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Downchuck/subscriptions","organizations_url":"https://api.github.com/users/Downchuck/orgs","repos_url":"https://api.github.com/users/Downchuck/repos","events_url":"https://api.github.com/users/Downchuck/events{/privacy}","received_events_url":"https://api.github.com/users/Downchuck/received_events","type":"User","site_admin":false},"labels":[{"id":23172,"node_id":"MDU6TGFiZWwyMzE3Mg==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Efeature","name":">feature","color":"006b75","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2013-02-26T04:43:51Z","updated_at":"2013-09-30T19:34:39Z","closed_at":"2013-09-30T19:20:48Z","author_association":"NONE","active_lock_reason":null,"body":"It seems we currently need to [use facets to get the results of an analyzer](http://codeslashslashcomment.com/2012/09/01/search-query-suggestions-using-elasticsearch-via-shingle-filter-and-facets/) on a non-stored index.\n\nFor example, on a single record, this will return the results of the analyzer:\n\ncurl localhost:9200/test/idx/_search?pretty -d '{\"fields\":[\"title\"], \"facets\":{\"terms\":{\"terms\": {\"field\":\"terms\"}}}, \"query\": {\"match_all\":{}}}'\n\nVia:\n     {\n    \"_source\": { \"enabled\": false },\n        \"properties\" : {\n            \"terms\" : { \"type\" : \"string\", \"analyzer\": \"camel\", store: \"no\" },\n            \"folder\" : { \"type\" : \"string\", store: \"yes\" },\n            \"title\" : { \"type\" : \"string\", store: \"yes\" }\n        }\n   }\n\nAnalyzer/tokenizers are lossy, that's the point, but it'd be nice to be able to pull the results from records more naturally, with something such as:\n\ncurl localhost:9200/test/idx/_search?pretty -d '{\"fields\":[\"title\",\"_analyzer.terms\"], \"query\": {\"match_all\":{}}}'\n","closed_by":{"login":"Downchuck","id":141466,"node_id":"MDQ6VXNlcjE0MTQ2Ng==","avatar_url":"https://avatars1.githubusercontent.com/u/141466?v=4","gravatar_id":"","url":"https://api.github.com/users/Downchuck","html_url":"https://github.com/Downchuck","followers_url":"https://api.github.com/users/Downchuck/followers","following_url":"https://api.github.com/users/Downchuck/following{/other_user}","gists_url":"https://api.github.com/users/Downchuck/gists{/gist_id}","starred_url":"https://api.github.com/users/Downchuck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Downchuck/subscriptions","organizations_url":"https://api.github.com/users/Downchuck/orgs","repos_url":"https://api.github.com/users/Downchuck/repos","events_url":"https://api.github.com/users/Downchuck/events{/privacy}","received_events_url":"https://api.github.com/users/Downchuck/received_events","type":"User","site_admin":false},"performed_via_github_app":null}