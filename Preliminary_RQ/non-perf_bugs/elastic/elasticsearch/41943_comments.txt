[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/490449239","html_url":"https://github.com/elastic/elasticsearch/issues/41943#issuecomment-490449239","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41943","id":490449239,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDQ0OTIzOQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-05-08T11:25:09Z","updated_at":"2019-05-08T11:25:09Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-security","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/490572333","html_url":"https://github.com/elastic/elasticsearch/issues/41943#issuecomment-490572333","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41943","id":490572333,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDU3MjMzMw==","user":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"created_at":"2019-05-08T17:14:43Z","updated_at":"2019-05-08T17:14:43Z","author_association":"CONTRIBUTOR","body":"A comment here for the required permissions with the current situation is that ` manage_token` is not required, `cluster:admin/xpack/security/token/create` should be enough. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/490826146","html_url":"https://github.com/elastic/elasticsearch/issues/41943#issuecomment-490826146","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41943","id":490826146,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDgyNjE0Ng==","user":{"login":"azasypkin","id":1713708,"node_id":"MDQ6VXNlcjE3MTM3MDg=","avatar_url":"https://avatars1.githubusercontent.com/u/1713708?v=4","gravatar_id":"","url":"https://api.github.com/users/azasypkin","html_url":"https://github.com/azasypkin","followers_url":"https://api.github.com/users/azasypkin/followers","following_url":"https://api.github.com/users/azasypkin/following{/other_user}","gists_url":"https://api.github.com/users/azasypkin/gists{/gist_id}","starred_url":"https://api.github.com/users/azasypkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/azasypkin/subscriptions","organizations_url":"https://api.github.com/users/azasypkin/orgs","repos_url":"https://api.github.com/users/azasypkin/repos","events_url":"https://api.github.com/users/azasypkin/events{/privacy}","received_events_url":"https://api.github.com/users/azasypkin/received_events","type":"User","site_admin":false},"created_at":"2019-05-09T09:17:46Z","updated_at":"2019-05-09T09:17:46Z","author_association":"MEMBER","body":"Thanks @jkakavas! Updated title and description.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/490886468","html_url":"https://github.com/elastic/elasticsearch/issues/41943#issuecomment-490886468","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41943","id":490886468,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDg4NjQ2OA==","user":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"created_at":"2019-05-09T12:40:38Z","updated_at":"2019-05-09T12:40:38Z","author_association":"CONTRIBUTOR","body":"We discussed this and reached a general consensus that it would be better to introduce a kerberos-aware grant type that worked in the same manner as the `password` grant type (i.e. it runs under the kibana user & provides both access+refresh tokens), rather than trying to make client_credentials work for this use case.\r\n\r\n@jkakavas & @bizybot will come up with a concrete proposal for that (at which point we can close this issue).\r\n ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/490914287","html_url":"https://github.com/elastic/elasticsearch/issues/41943#issuecomment-490914287","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41943","id":490914287,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDkxNDI4Nw==","user":{"login":"azasypkin","id":1713708,"node_id":"MDQ6VXNlcjE3MTM3MDg=","avatar_url":"https://avatars1.githubusercontent.com/u/1713708?v=4","gravatar_id":"","url":"https://api.github.com/users/azasypkin","html_url":"https://github.com/azasypkin","followers_url":"https://api.github.com/users/azasypkin/followers","following_url":"https://api.github.com/users/azasypkin/following{/other_user}","gists_url":"https://api.github.com/users/azasypkin/gists{/gist_id}","starred_url":"https://api.github.com/users/azasypkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/azasypkin/subscriptions","organizations_url":"https://api.github.com/users/azasypkin/orgs","repos_url":"https://api.github.com/users/azasypkin/repos","events_url":"https://api.github.com/users/azasypkin/events{/privacy}","received_events_url":"https://api.github.com/users/azasypkin/received_events","type":"User","site_admin":false},"created_at":"2019-05-09T13:53:03Z","updated_at":"2019-05-09T13:53:03Z","author_association":"MEMBER","body":"Thanks for the update! \r\n\r\n> provides both access+refresh tokens\r\n\r\nWhen we'll try to refresh such a token, will Elasticsearch check that Kerberos Ticket used to retrieve this access/refresh token pair is still valid as well?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/490925712","html_url":"https://github.com/elastic/elasticsearch/issues/41943#issuecomment-490925712","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41943","id":490925712,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDkyNTcxMg==","user":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"created_at":"2019-05-09T14:22:28Z","updated_at":"2019-05-09T14:22:28Z","author_association":"CONTRIBUTOR","body":"> When we'll try to refresh such a token, will Elasticsearch check that Kerberos Ticket used to retrieve this access/refresh token pair is still valid as well?\r\n\r\nThis needs to be discussed. Currently we do not support something similar in the TokenService and for SAML i.e. we do not take the time constraints that the IDP sets for the session into consideration _after_ initial authentication. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/490929976","html_url":"https://github.com/elastic/elasticsearch/issues/41943#issuecomment-490929976","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41943","id":490929976,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDkyOTk3Ng==","user":{"login":"azasypkin","id":1713708,"node_id":"MDQ6VXNlcjE3MTM3MDg=","avatar_url":"https://avatars1.githubusercontent.com/u/1713708?v=4","gravatar_id":"","url":"https://api.github.com/users/azasypkin","html_url":"https://github.com/azasypkin","followers_url":"https://api.github.com/users/azasypkin/followers","following_url":"https://api.github.com/users/azasypkin/following{/other_user}","gists_url":"https://api.github.com/users/azasypkin/gists{/gist_id}","starred_url":"https://api.github.com/users/azasypkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/azasypkin/subscriptions","organizations_url":"https://api.github.com/users/azasypkin/orgs","repos_url":"https://api.github.com/users/azasypkin/repos","events_url":"https://api.github.com/users/azasypkin/events{/privacy}","received_events_url":"https://api.github.com/users/azasypkin/received_events","type":"User","site_admin":false},"created_at":"2019-05-09T14:32:59Z","updated_at":"2019-05-09T14:33:50Z","author_association":"MEMBER","body":"Got it, with `client_credentials` this would be implicitly enforced by Kibana - once token expires and there is no refresh token available we can't do anything other then to respond with `401 Authorization: Negotiate` and get new (or cached) SPNEGO token from browser.","performed_via_github_app":null}]