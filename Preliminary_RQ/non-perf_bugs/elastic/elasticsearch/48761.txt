{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/48761","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48761/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48761/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48761/events","html_url":"https://github.com/elastic/elasticsearch/issues/48761","id":515513303,"node_id":"MDU6SXNzdWU1MTU1MTMzMDM=","number":48761,"title":"IndexLifecycleRestIT Test Basic Move To Step test failure","user":{"login":"hendrikmuhs","id":7126422,"node_id":"MDQ6VXNlcjcxMjY0MjI=","avatar_url":"https://avatars3.githubusercontent.com/u/7126422?v=4","gravatar_id":"","url":"https://api.github.com/users/hendrikmuhs","html_url":"https://github.com/hendrikmuhs","followers_url":"https://api.github.com/users/hendrikmuhs/followers","following_url":"https://api.github.com/users/hendrikmuhs/following{/other_user}","gists_url":"https://api.github.com/users/hendrikmuhs/gists{/gist_id}","starred_url":"https://api.github.com/users/hendrikmuhs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hendrikmuhs/subscriptions","organizations_url":"https://api.github.com/users/hendrikmuhs/orgs","repos_url":"https://api.github.com/users/hendrikmuhs/repos","events_url":"https://api.github.com/users/hendrikmuhs/events{/privacy}","received_events_url":"https://api.github.com/users/hendrikmuhs/received_events","type":"User","site_admin":false},"labels":[{"id":912828538,"node_id":"MDU6TGFiZWw5MTI4Mjg1Mzg=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/ILM+SLM","name":":Core/Features/ILM+SLM","color":"0e8a16","default":false,"description":"Index and Snapshot lifecycle management"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"assignees":[{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2019-10-31T15:13:41Z","updated_at":"2019-11-01T19:57:48Z","closed_at":"2019-11-01T19:57:48Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"failure on `7.x`, does not reproduce locally\r\n\r\nlogs:\r\n\t\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.x+release-tests/519/console\r\nhttps://gradle-enterprise.elastic.co/s/nyxotdmqku2x4\r\n\r\nfailure:\r\n\r\n```\r\n14:18:58   1> [2019-10-31T09:18:51,555][INFO ][o.e.x.i.IndexLifecycleRestIT] [test] [yaml=ilm/20_move_to_step/Test Basic Move To Step] before test\r\n14:18:58   1> [2019-10-31T09:18:51,862][INFO ][o.e.x.i.IndexLifecycleRestIT] [test] Stash dump on test failure [{\r\n14:18:58   1>   \"stash\" : {\r\n14:18:58   1>     \"body\" : {\r\n14:18:58   1>       \"indices\" : {\r\n14:18:58   1>         \"my_index\" : {\r\n14:18:58   1>           \"index\" : \"my_index\",\r\n14:18:58   1>           \"managed\" : true,\r\n14:18:58   1>           \"policy\" : \"my_moveable_timeseries_lifecycle\",\r\n14:18:58   1>           \"lifecycle_date_millis\" : 1572531531589,\r\n14:18:58   1>           \"age\" : \"264ms\",\r\n14:18:58   1>           \"phase\" : \"warm\",\r\n14:18:58   1>           \"phase_time_millis\" : 1572531531776,\r\n14:18:58   1>           \"action\" : \"forcemerge\",\r\n14:18:58   1>           \"action_time_millis\" : 1572531531776,\r\n14:18:58   1>           \"step\" : \"segment-count\",\r\n14:18:58   1>           \"step_time_millis\" : 1572531531831,\r\n14:18:58   1>           \"phase_execution\" : {\r\n14:18:58   1>             \"policy\" : \"my_moveable_timeseries_lifecycle\",\r\n14:18:58   1>             \"phase_definition\" : {\r\n14:18:58   1>               \"min_age\" : \"1000s\",\r\n14:18:58   1>               \"actions\" : {\r\n14:18:58   1>                 \"forcemerge\" : {\r\n14:18:58   1>                   \"max_num_segments\" : 10000\r\n14:18:58   1>                 }\r\n14:18:58   1>               }\r\n14:18:58   1>             },\r\n14:18:58   1>             \"version\" : 1,\r\n14:18:58   1>             \"modified_date_in_millis\" : 1572531531562\r\n14:18:58   1>           }\r\n14:18:58   1>         }\r\n14:18:58   1>       }\r\n14:18:58   1>     }\r\n14:18:58   1>   }\r\n14:18:58   1> }]\r\n14:18:58   1> [2019-10-31T09:18:52,291][INFO ][o.e.x.i.IndexLifecycleRestIT] [test] [yaml=ilm/20_move_to_step/Test Basic Move To Step] after test\r\n14:18:58   2> REPRODUCE WITH: ./gradlew ':x-pack:plugin:ilm:qa:rest:restTestRunner' --tests \"org.elasticsearch.xpack.ilm.IndexLifecycleRestIT.test {yaml=ilm/20_move_to_step/Test Basic Move To Step}\" -Dtests.seed=63D4A5893B5B0A10 -Dtests.security.manager=true -Dbuild.snapshot=false -Dtests.jvm.argline=\"-Dbuild.snapshot=false\" -Dtests.locale=is -Dtests.timezone=America/Matamoros -Dcompiler.java=12 -Druntime.java=8\r\n14:18:58   2> java.lang.AssertionError: Failure at [ilm/20_move_to_step:84]: indices.my_index.step didn't match expected value:\r\n14:18:58              indices.my_index.step: expected String [forcemerge] but was String [segment-count]\r\n\r\n```","closed_by":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"performed_via_github_app":null}