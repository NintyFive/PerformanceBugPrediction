[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/267582169","html_url":"https://github.com/elastic/elasticsearch/issues/22209#issuecomment-267582169","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22209","id":267582169,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NzU4MjE2OQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-12-16T12:15:24Z","updated_at":"2016-12-16T12:15:24Z","author_association":"CONTRIBUTOR","body":"That's weird - if I create a field which is not indexed and not aggregatable, it still shows up in the field mappings API:\r\n\r\n```\r\nPUT t \r\n{\r\n  \"mappings\": {\r\n    \"t\": {\r\n      \"properties\": {\r\n        \"one\": {\r\n          \"type\": \"keyword\",\r\n          \"index\": false,\r\n          \"doc_values\": false\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nGET t/_mapping/field/one\r\n```\r\n\r\nSo I'm not sure why the `_parent` isn't being returned.  @martijnvg do you have any ideas?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/269304492","html_url":"https://github.com/elastic/elasticsearch/issues/22209#issuecomment-269304492","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22209","id":269304492,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTMwNDQ5Mg==","user":{"login":"makeyang","id":13898618,"node_id":"MDQ6VXNlcjEzODk4NjE4","avatar_url":"https://avatars2.githubusercontent.com/u/13898618?v=4","gravatar_id":"","url":"https://api.github.com/users/makeyang","html_url":"https://github.com/makeyang","followers_url":"https://api.github.com/users/makeyang/followers","following_url":"https://api.github.com/users/makeyang/following{/other_user}","gists_url":"https://api.github.com/users/makeyang/gists{/gist_id}","starred_url":"https://api.github.com/users/makeyang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/makeyang/subscriptions","organizations_url":"https://api.github.com/users/makeyang/orgs","repos_url":"https://api.github.com/users/makeyang/repos","events_url":"https://api.github.com/users/makeyang/events{/privacy}","received_events_url":"https://api.github.com/users/makeyang/received_events","type":"User","site_admin":false},"created_at":"2016-12-27T10:02:33Z","updated_at":"2016-12-27T10:02:33Z","author_association":"CONTRIBUTOR","body":"@martijnvg  are you working on this? if not, I'd like give it a try.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/269316745","html_url":"https://github.com/elastic/elasticsearch/issues/22209#issuecomment-269316745","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22209","id":269316745,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTMxNjc0NQ==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2016-12-27T11:58:19Z","updated_at":"2016-12-27T11:58:19Z","author_association":"MEMBER","body":"@makeyang No, I haven't had the time to look into it...\r\n\r\nThe reason the `_parent` field isn't returned is because the field name is actually `_parent#[parent-type]`. The `_parent` key is the mapping is really a just a key, not the actual field name that we use the index and mapping. So I expect `GET authors/book/_mapping/field/_parent#author` or `GET authors/book/_mapping/field/_parent*` to return the fields. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/269317779","html_url":"https://github.com/elastic/elasticsearch/issues/22209#issuecomment-269317779","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22209","id":269317779,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTMxNzc3OQ==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2016-12-27T12:09:37Z","updated_at":"2016-12-27T12:09:37Z","author_association":"MEMBER","body":"The following does return the parent fields from the field mapping api:\r\n\r\n```\r\nPUT /authors\r\n{\r\n  \"mappings\": {\r\n    \"author\": {},\r\n    \"book\": {\r\n      \"_parent\": {\r\n        \"type\": \"author\"\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nGET authors/book/_mapping/field/_parent%23author\r\n\r\nGET authors/book/_mapping/field/_parent*\r\n```\r\n\r\nAlthough when specifying the mapping the `_parent` name is used, there is no such field internally it is translated into `_parent#[parent-type]`. In an index there can be many _parent fields, one per parent type. Although this may look confusing, from a field level it is consistent. I think this will be clearer once the `_parent` field is replaced with the `join` field as described in #20257. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/373678404","html_url":"https://github.com/elastic/elasticsearch/issues/22209#issuecomment-373678404","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22209","id":373678404,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzY3ODQwNA==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2018-03-16T10:54:09Z","updated_at":"2018-03-16T10:54:09Z","author_association":"MEMBER","body":"Given the explanation from @martijnvg above and the fact that parent child works now without requiring multiple types under the same index, I am closing this issue.","performed_via_github_app":null}]