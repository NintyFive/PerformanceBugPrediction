{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/41300","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41300/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41300/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41300/events","html_url":"https://github.com/elastic/elasticsearch/issues/41300","id":434237216,"node_id":"MDU6SXNzdWU0MzQyMzcyMTY=","number":41300,"title":"Running tests from SQL's \"security\" project doesn't work anymore","user":{"login":"astefan","id":893749,"node_id":"MDQ6VXNlcjg5Mzc0OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/893749?v=4","gravatar_id":"","url":"https://api.github.com/users/astefan","html_url":"https://github.com/astefan","followers_url":"https://api.github.com/users/astefan/followers","following_url":"https://api.github.com/users/astefan/following{/other_user}","gists_url":"https://api.github.com/users/astefan/gists{/gist_id}","starred_url":"https://api.github.com/users/astefan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astefan/subscriptions","organizations_url":"https://api.github.com/users/astefan/orgs","repos_url":"https://api.github.com/users/astefan/repos","events_url":"https://api.github.com/users/astefan/events{/privacy}","received_events_url":"https://api.github.com/users/astefan/received_events","type":"User","site_admin":false},"labels":[{"id":106454670,"node_id":"MDU6TGFiZWwxMDY0NTQ2NzA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Build","name":":Delivery/Build","color":"0e8a16","default":false,"description":"Build or test infrastructure"},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"}],"state":"closed","locked":false,"assignee":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"assignees":[{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2019-04-17T11:42:39Z","updated_at":"2020-11-11T21:49:09Z","closed_at":"2019-04-18T15:10:20Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"This issue seems to be similar with https://github.com/elastic/elasticsearch/issues/41264. The PR mentioned there - https://github.com/elastic/elasticsearch/pull/40877 - seems to have changed the way tests are executed in this project.\r\n\r\nAt the moment, running `gradlew :x-pack:plugin:sql:qa:security:without-ssl:integTestRunner --tests \"org.elasticsearch.xpack.sql.qa.security.JdbcSecurityIT.test*\" -Dtests.seed=817215EC9743C1CF -Dtests.security.manager=true -Dtests.locale=bn-BD -Dtests.timezone=America/Denver -Dcompiler.java=12 -Druntime.java=11` there is no error but it **will not run any tests** from that integration test class.\r\n\r\nReverting back to the commit before the one mentioned above, and using `gradlew :x-pack:plugin:sql:qa:security:with-ssl:integTestRunner -Dtests.seed=CDAFA8CD10B79641 -Dtests.class=org.elasticsearch.xpack.sql.qa.security.JdbcSecurityIT -Dtests.method=\"test*\" -Dtests.security.manager=true` everything seems ok.\r\n\r\nTesting the same commands as above on the PR https://github.com/elastic/elasticsearch/pull/40877 will output an error message:\r\n\r\n```\r\n[2019-04-17T14:36:04,601][INFO ][o.e.n.Node               ] [node-0] starting ...                                                                                         \r\n[2019-04-17T14:36:05,402][INFO ][o.e.t.TransportService   ] [node-0] publish_address {127.0.0.1:58381}, bound_addresses {127.0.0.1:58381}, {[::1]:58382}                  \r\n[2019-04-17T14:36:05,413][WARN ][o.e.b.BootstrapChecks    ] [node-0] Java version [11-ea] is an early-access build, only use release builds                               \r\n[2019-04-17T14:36:05,426][INFO ][o.e.c.c.Coordinator      ] [node-0] setting initial configuration to VotingConfiguration{jJn6jDtNTCunlgTvfWmEog}                         \r\n[2019-04-17T14:36:05,425][WARN ][o.e.d.FileBasedSeedHostsProvider] [node-0] expected, but did not find, a dynamic hosts list at [W:\\ECLIPS~3\\ELASTI~1\\x-pack\\plugin\\sql\\qa\r\n\\security\\WITHOU~1\\build\\cluster\\INTEGT~1\\ELASTI~1.0-S\\config\\unicast_hosts.txt]                                                                                          \r\n[2019-04-17T14:36:05,566][INFO ][o.e.c.s.MasterService    ] [node-0] elected-as-master ([1] nodes joined)[{node-0}{jJn6jDtNTCunlgTvfWmEog}{G6JL9bfMRjS8z6Len4mucg}{127.0.0\r\n.1}{127.0.0.1:58381}{xpack.installed=true, testattr=test} elect leader, _BECOME_MASTER_TASK_, _FINISH_ELECTION_], term: 1, version: 1, reason: master node changed {previo\r\nus [], current [{node-0}{jJn6jDtNTCunlgTvfWmEog}{G6JL9bfMRjS8z6Len4mucg}{127.0.0.1}{127.0.0.1:58381}{xpack.installed=true, testattr=test}]}                               \r\n[2019-04-17T14:36:05,647][INFO ][o.e.c.s.ClusterApplierService] [node-0] master node changed {previous [], current [{node-0}{jJn6jDtNTCunlgTvfWmEog}{G6JL9bfMRjS8z6Len4muc\r\ng}{127.0.0.1}{127.0.0.1:58381}{xpack.installed=true, testattr=test}]}, term: 1, version: 1, reason: Publication{term=1, version=1}                                        \r\n[2019-04-17T14:36:05,717][INFO ][o.e.g.GatewayService     ] [node-0] recovered [0] indices into cluster_state                                                             \r\n=========================================                                                                                                                                 \r\n                                                                                                                                                                          \r\nFAILURE: Build failed with an exception.                                                                                                                                  \r\n                                                                                                                                                                          \r\n* What went wrong:                                                                                                                                                        \r\nExecution failed for task ':x-pack:plugin:sql:qa:security:without-ssl:integTestRunner'.                                                                                   \r\n> W:\\Eclipse_workspace_master\\elasticsearch\\x-pack\\plugin\\sql\\qa\\security\\without-ssl\\build\\classes\\java\\test does not exist.                                             \r\n```","closed_by":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"performed_via_github_app":null}