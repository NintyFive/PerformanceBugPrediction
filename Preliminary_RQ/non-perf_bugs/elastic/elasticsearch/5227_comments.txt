[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/35818491","html_url":"https://github.com/elastic/elasticsearch/issues/5227#issuecomment-35818491","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5227","id":35818491,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODE4NDkx","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2014-02-22T23:21:44Z","updated_at":"2014-02-22T23:21:44Z","author_association":"CONTRIBUTOR","body":"Indeed, field data only stores unique values per document per field, so the second John would have a single rating associated with it: `[ \"10\" ]`. One way to work around this limitation would be to have one document per rating, so instead of having two johns which have 2 ratings each, you would have 4 johns with 1 rating each.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/35824176","html_url":"https://github.com/elastic/elasticsearch/issues/5227#issuecomment-35824176","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5227","id":35824176,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODI0MTc2","user":{"login":"lordaugustus","id":3888487,"node_id":"MDQ6VXNlcjM4ODg0ODc=","avatar_url":"https://avatars1.githubusercontent.com/u/3888487?v=4","gravatar_id":"","url":"https://api.github.com/users/lordaugustus","html_url":"https://github.com/lordaugustus","followers_url":"https://api.github.com/users/lordaugustus/followers","following_url":"https://api.github.com/users/lordaugustus/following{/other_user}","gists_url":"https://api.github.com/users/lordaugustus/gists{/gist_id}","starred_url":"https://api.github.com/users/lordaugustus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lordaugustus/subscriptions","organizations_url":"https://api.github.com/users/lordaugustus/orgs","repos_url":"https://api.github.com/users/lordaugustus/repos","events_url":"https://api.github.com/users/lordaugustus/events{/privacy}","received_events_url":"https://api.github.com/users/lordaugustus/received_events","type":"User","site_admin":false},"created_at":"2014-02-23T05:12:32Z","updated_at":"2014-02-23T05:12:32Z","author_association":"NONE","body":"Is it consider a bug or is there design consideration behind this? \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/35830225","html_url":"https://github.com/elastic/elasticsearch/issues/5227#issuecomment-35830225","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5227","id":35830225,"node_id":"MDEyOklzc3VlQ29tbWVudDM1ODMwMjI1","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2014-02-23T12:12:16Z","updated_at":"2014-02-23T12:12:16Z","author_association":"CONTRIBUTOR","body":"I wouldn't call it a bug, but this is indeed a limitation of field data. The contract on field data is that it stores the set of unique values per document and in order. We may add support for returning frequencies in the future in order to solve the issue that you described but this would be quite a large change.\n","performed_via_github_app":null}]