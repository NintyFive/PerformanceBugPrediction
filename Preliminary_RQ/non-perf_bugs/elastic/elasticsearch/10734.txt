{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/10734","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10734/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10734/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10734/events","html_url":"https://github.com/elastic/elasticsearch/issues/10734","id":70191691,"node_id":"MDU6SXNzdWU3MDE5MTY5MQ==","number":10734,"title":"Enable node shutdown API for masters when gateway.recover_after_data_nodes is set","user":{"login":"nemonster","id":1417839,"node_id":"MDQ6VXNlcjE0MTc4Mzk=","avatar_url":"https://avatars3.githubusercontent.com/u/1417839?v=4","gravatar_id":"","url":"https://api.github.com/users/nemonster","html_url":"https://github.com/nemonster","followers_url":"https://api.github.com/users/nemonster/followers","following_url":"https://api.github.com/users/nemonster/following{/other_user}","gists_url":"https://api.github.com/users/nemonster/gists{/gist_id}","starred_url":"https://api.github.com/users/nemonster/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nemonster/subscriptions","organizations_url":"https://api.github.com/users/nemonster/orgs","repos_url":"https://api.github.com/users/nemonster/repos","events_url":"https://api.github.com/users/nemonster/events{/privacy}","received_events_url":"https://api.github.com/users/nemonster/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2015-04-22T17:46:53Z","updated_at":"2015-07-02T19:55:36Z","closed_at":"2015-07-02T19:55:34Z","author_association":"NONE","active_lock_reason":null,"body":"After setting the gateway.recover_after_data_nodes any started masters will not respond to _shutdown.  It will result in:\n\n```\n{ \n   \"error\" : \"ClusterBlockException[blocked by: [SERVICE_UNAVAILABLE/1/state not recovered /    initialized];]\", \n   \"status\" : 503 \n}\n```\n\nIn this case the decision has been made to take down the cluster before any data nodes are started so is it necessary to continue to block operations in this case? \n","closed_by":{"login":"pickypg","id":1501235,"node_id":"MDQ6VXNlcjE1MDEyMzU=","avatar_url":"https://avatars2.githubusercontent.com/u/1501235?v=4","gravatar_id":"","url":"https://api.github.com/users/pickypg","html_url":"https://github.com/pickypg","followers_url":"https://api.github.com/users/pickypg/followers","following_url":"https://api.github.com/users/pickypg/following{/other_user}","gists_url":"https://api.github.com/users/pickypg/gists{/gist_id}","starred_url":"https://api.github.com/users/pickypg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pickypg/subscriptions","organizations_url":"https://api.github.com/users/pickypg/orgs","repos_url":"https://api.github.com/users/pickypg/repos","events_url":"https://api.github.com/users/pickypg/events{/privacy}","received_events_url":"https://api.github.com/users/pickypg/received_events","type":"User","site_admin":false},"performed_via_github_app":null}