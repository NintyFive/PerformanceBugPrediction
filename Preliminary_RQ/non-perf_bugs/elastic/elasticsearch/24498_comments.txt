[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/299397545","html_url":"https://github.com/elastic/elasticsearch/issues/24498#issuecomment-299397545","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24498","id":299397545,"node_id":"MDEyOklzc3VlQ29tbWVudDI5OTM5NzU0NQ==","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"created_at":"2017-05-05T07:10:37Z","updated_at":"2017-05-05T07:10:37Z","author_association":"MEMBER","body":"Verified on 5.3.0 and also current master. When opening the index, it fails with\r\n\r\n```\r\n[elasticsearch] [2017-05-05T09:07:40,073][WARN ][r.suppressed             ] path: /test/_open, params: {index=test}\r\n[elasticsearch] org.elasticsearch.ElasticsearchException: Failed to verify index [test/9NLrpfRJSZSHK4-fwfQwPA]\r\n[elasticsearch]         at org.elasticsearch.cluster.metadata.MetaDataIndexStateService$2.execute(MetaDataIndexStateService.java:175) ~[elasticsearch-6.0.0-alpha1-SNAPSHOT.jar:6.0.0-alpha1-SNAPSHOT]\r\n[elasticsearch]         at org.elasticsearch.cluster.ClusterStateUpdateTask.execute(ClusterStateUpdateTask.java:45) ~[elasticsearch-6.0.0-alpha1-SNAPSHOT.jar:6.0.0-alpha1-SNAPSHOT]\r\n[elasticsearch]         at org.elasticsearch.cluster.service.MasterService.executeTasks(MasterService.java:639) ~[elasticsearch-6.0.0-alpha1-SNAPSHOT.jar:6.0.0-alpha1-SNAPSHOT]\r\n[elasticsearch]         at org.elasticsearch.cluster.service.MasterService.calculateTaskOutputs(MasterService.java:269) ~[elasticsearch-6.0.0-alpha1-SNAPSHOT.jar:6.0.0-alpha1-SNAPSHOT]\r\n[elasticsearch]         at org.elasticsearch.cluster.service.MasterService.runTasks(MasterService.java:194) [elasticsearch-6.0.0-alpha1-SNAPSHOT.jar:6.0.0-alpha1-SNAPSHOT]\r\n[elasticsearch]         at org.elasticsearch.cluster.service.MasterService$Batcher.run(MasterService.java:129) [elasticsearch-6.0.0-alpha1-SNAPSHOT.jar:6.0.0-alpha1-SNAPSHOT]\r\n[elasticsearch]         at org.elasticsearch.cluster.service.TaskBatcher.runIfNotProcessed(TaskBatcher.java:150) [elasticsearch-6.0.0-alpha1-SNAPSHOT.jar:6.0.0-alpha1-SNAPSHOT]\r\n[elasticsearch]         at org.elasticsearch.cluster.service.TaskBatcher$BatchedTask.run(TaskBatcher.java:188) [elasticsearch-6.0.0-alpha1-SNAPSHOT.jar:6.0.0-alpha1-SNAPSHOT]\r\n[elasticsearch]         at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:569) [elasticsearch-6.0.0-alpha1-SNAPSHOT.jar:6.0.0-alpha1-SNAPSHOT]\r\n[elasticsearch]         at org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.runAndClean(PrioritizedEsThreadPoolExecutor.java:247) [elasticsearch-6.0.0-alpha1-SNAPSHOT.jar:6.0.0-alpha1-SNAPSHOT]\r\n[elasticsearch]         at org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.run(PrioritizedEsThreadPoolExecutor.java:210) [elasticsearch-6.0.0-alpha1-SNAPSHOT.jar:6.0.0-alpha1-SNAPSHOT]\r\n[elasticsearch]         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_131]\r\n[elasticsearch]         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_131]\r\n[elasticsearch]         at java.lang.Thread.run(Thread.java:748) [?:1.8.0_131]\r\n[elasticsearch] Caused by: java.lang.IllegalArgumentException: illegal b value: 2.0, must be between 0 and 1\r\n[elasticsearch]         at org.apache.lucene.search.similarities.BM25Similarity.<init>(BM25Similarity.java:55) ~[lucene-core-7.0.0-snapshot-89f6d17.jar:7.0.0-snapshot-89f6d17 89f6d170f5db176c81980d58ffe21484885eb464 - jpountz - 2017-04-13 09:46:42]\r\n[elasticsearch]         at org.elasticsearch.index.similarity.BM25SimilarityProvider.<init>(BM25SimilarityProvider.java:52) ~[elasticsearch-6.0.0-alpha1-SNAPSHOT.jar:6.0.0-alpha1-SNAPSHOT]\r\n[elasticsearch]         at org.elasticsearch.index.similarity.SimilarityService.<init>(SimilarityService.java:87) ~[elasticsearch-6.0.0-alpha1-SNAPSHOT.jar:6.0.0-alpha1-SNAPSHOT]\r\n[elasticsearch]         at org.elasticsearch.index.IndexModule.newIndexService(IndexModule.java:366) ~[elasticsearch-6.0.0-alpha1-SNAPSHOT.jar:6.0.0-alpha1-SNAPSHOT]\r\n[elasticsearch]         at org.elasticsearch.indices.IndicesService.createIndexService(IndicesService.java:441) ~[elasticsearch-6.0.0-alpha1-SNAPSHOT.jar:6.0.0-alpha1-SNAPSHOT]\r\n[elasticsearch]         at org.elasticsearch.indices.IndicesService.verifyIndexMetadata(IndicesService.java:485) ~[elasticsearch-6.0.0-alpha1-SNAPSHOT.jar:6.0.0-alpha1-SNAPSHOT]\r\n[elasticsearch]         at org.elasticsearch.cluster.metadata.MetaDataIndexStateService$2.execute(MetaDataIndexStateService.java:173) ~[elasticsearch-6.0.0-alpha1-SNAPSHOT.jar:6.0.0-alpha1-SNAPSHOT]\r\n[elasticsearch]         ... 13 more\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/299397913","html_url":"https://github.com/elastic/elasticsearch/issues/24498#issuecomment-299397913","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24498","id":299397913,"node_id":"MDEyOklzc3VlQ29tbWVudDI5OTM5NzkxMw==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2017-05-05T07:13:08Z","updated_at":"2017-05-05T07:13:08Z","author_association":"MEMBER","body":"Thanks for the report @adrianocrestani \r\nThis is a duplicate of https://github.com/elastic/elasticsearch/issues/23787 that should be fixed with \r\nhttps://github.com/elastic/elasticsearch/pull/24487\r\n","performed_via_github_app":null}]