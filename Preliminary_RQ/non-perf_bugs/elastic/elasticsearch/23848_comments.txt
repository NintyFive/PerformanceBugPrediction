[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/290692597","html_url":"https://github.com/elastic/elasticsearch/issues/23848#issuecomment-290692597","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23848","id":290692597,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDY5MjU5Nw==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2017-03-31T11:53:55Z","updated_at":"2017-03-31T11:53:55Z","author_association":"CONTRIBUTOR","body":"I didn't realize we had this ability. +1 to remove. I figure if you want\nthis you probably use the tar package already because you didn't know it\nwas possible with deb or rpm.\n\nOn Fri, Mar 31, 2017, 7:32 AM Jason Tedor <notifications@github.com> wrote:\n\n> Our packaging tries to provide a way for users to customize the user/group\n> for Elasticsearch.\n>\n> It works okay for Sys V init (although installation does spew some errors\n> that it turns out can be ignored).\n>\n> It does not work at all for systemd, it requires some customization after\n> installation.\n>\n> We do not test either configuration.\n>\n> I think permitting custom user/groups here is unnecessary complexity to\n> our packaging, and we should remove this.\n>\n> I think that for users that want custom user/groups, they should use an\n> archive distribution, or use a configuration management solution like\n> Ansible/Chef (e.g., our Ansible role permits customizing the user/group for\n> both Sys V init\n> <https://github.com/elastic/ansible-elasticsearch/blob/771dac0829381033c7faaf4bf149c5bc1bc19891/templates/init/debian/elasticsearch.j2#L37-L39>\n> and systemd\n> <https://github.com/elastic/ansible-elasticsearch/blob/771dac0829381033c7faaf4bf149c5bc1bc19891/templates/systemd/elasticsearch.j2#L17-L18>\n> ).\n>\n> I note that Logstash does not provide the ability to customize the\n> user/group through the packaging.\n>\n> Relates #21231 <https://github.com/elastic/elasticsearch/issues/21231>,\n> relates #22044 <https://github.com/elastic/elasticsearch/issues/22044>\n>\n> —\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/elastic/elasticsearch/issues/23848>, or mute the\n> thread\n> <https://github.com/notifications/unsubscribe-auth/AANLoqto2sdpR7TC6feaTz9FOszX3tDDks5rrORBgaJpZM4Mvjdr>\n> .\n>\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/290726487","html_url":"https://github.com/elastic/elasticsearch/issues/23848#issuecomment-290726487","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23848","id":290726487,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDcyNjQ4Nw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-03-31T14:25:06Z","updated_at":"2017-03-31T14:25:06Z","author_association":"MEMBER","body":"We discussed this in Fix-it-Friday and we are going to proceed with removing this functionality.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/290823209","html_url":"https://github.com/elastic/elasticsearch/issues/23848#issuecomment-290823209","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23848","id":290823209,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDgyMzIwOQ==","user":{"login":"martinb3","id":103033,"node_id":"MDQ6VXNlcjEwMzAzMw==","avatar_url":"https://avatars0.githubusercontent.com/u/103033?v=4","gravatar_id":"","url":"https://api.github.com/users/martinb3","html_url":"https://github.com/martinb3","followers_url":"https://api.github.com/users/martinb3/followers","following_url":"https://api.github.com/users/martinb3/following{/other_user}","gists_url":"https://api.github.com/users/martinb3/gists{/gist_id}","starred_url":"https://api.github.com/users/martinb3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinb3/subscriptions","organizations_url":"https://api.github.com/users/martinb3/orgs","repos_url":"https://api.github.com/users/martinb3/repos","events_url":"https://api.github.com/users/martinb3/events{/privacy}","received_events_url":"https://api.github.com/users/martinb3/received_events","type":"User","site_admin":false},"created_at":"2017-03-31T20:36:15Z","updated_at":"2017-03-31T20:40:35Z","author_association":"NONE","body":"> We are going to rely on the configuration management solutions\r\n\r\nHi @jasontedor -- as a maintainer of the Chef cookbook for elasticsearch, we generally look upstream for advice on how best to customize and deploy elasticsearch. In fact, maintaining forks of init scripts / unit files and merging in changes from upstream is something I'd really _love_ to avoid doing. It's been very prone to error in the past. Many, many packages provide this functionality; in my estimation, logstash packaging is not a great standard for comparison.\r\n\r\nI urge you to reconsider pushing this responsibility down to the maintainers to (a) manage separate sysv init scripts/systemd unit files and (b) continuously merge in changes to their forks.\r\n\r\nFor the record, I'll deal with it if you decide to proceed -- but I'd rather not! Thanks!","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/290830542","html_url":"https://github.com/elastic/elasticsearch/issues/23848#issuecomment-290830542","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23848","id":290830542,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDgzMDU0Mg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-03-31T21:09:07Z","updated_at":"2017-04-02T14:31:22Z","author_association":"MEMBER","body":"@martinb3 Thank you for your input here, I appreciate it. I share the same concern as you regarding forking scripts and configuration files, please see comments I left in elastic/ansible-elasticsearch#285.\r\n\r\n> I urge you to reconsider pushing this responsibility down to the maintainers to manage separate init-system scripts and continuously merge in changes.\r\n\r\nYou do not have to take on this responsibility if you do not want to, and based on your comments in #21231 it seems that you're okay with removing support for customizing the user/group? The mention of configuration management solutions to address this problem was only a recommendation for what users that want to customize the user/group could do, not a burden being pushed on to you and other maintainers, I'm sorry that you took it that way.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/290833530","html_url":"https://github.com/elastic/elasticsearch/issues/23848#issuecomment-290833530","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23848","id":290833530,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDgzMzUzMA==","user":{"login":"martinb3","id":103033,"node_id":"MDQ6VXNlcjEwMzAzMw==","avatar_url":"https://avatars0.githubusercontent.com/u/103033?v=4","gravatar_id":"","url":"https://api.github.com/users/martinb3","html_url":"https://github.com/martinb3","followers_url":"https://api.github.com/users/martinb3/followers","following_url":"https://api.github.com/users/martinb3/following{/other_user}","gists_url":"https://api.github.com/users/martinb3/gists{/gist_id}","starred_url":"https://api.github.com/users/martinb3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinb3/subscriptions","organizations_url":"https://api.github.com/users/martinb3/orgs","repos_url":"https://api.github.com/users/martinb3/repos","events_url":"https://api.github.com/users/martinb3/events{/privacy}","received_events_url":"https://api.github.com/users/martinb3/received_events","type":"User","site_admin":false},"created_at":"2017-03-31T21:22:41Z","updated_at":"2017-03-31T21:22:41Z","author_association":"NONE","body":"Thank you for your response, @jasontedor -- I truly appreciate it!\r\n\r\nIndeed, right now, we're simply not providing the functionality in systemd init scripts in the Chef cookbook. I'm okay with just leaving it as-is, but I was also thinking it would be a short term problem and eventually get resolved upstream.\r\n\r\nWe can always tell users to simply [provide their own unit file for systemd instead](https://github.com/elastic/cookbook-elasticsearch/blob/master/libraries/resource_service.rb#L26-L27). I imagine this will upset some folks enough to come read this issue and potentially open more issues here upstream, but I understand not wanting to maintain this stuff here either (after all, I'm basically in the same boat/saying the same thing 👍 ).\r\n\r\nIt might be useful to have a list of what Elasticsearch does and doesn't allow overrides for using the environment, so we can solve some of this through documentation, and then both projects (elasticsearch and the chef cookbook, and even the Ansible playbook too) can link to this as an authoritative design doc. Maybe this already exists?\r\n\r\nAs long as we allow/enable people to inject their own init scripts, I don't feel like we're locking anyone out from making changes. Thanks again!","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/290836681","html_url":"https://github.com/elastic/elasticsearch/issues/23848#issuecomment-290836681","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23848","id":290836681,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDgzNjY4MQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-03-31T21:38:41Z","updated_at":"2017-03-31T21:38:41Z","author_association":"MEMBER","body":"> Maybe this already exists?\r\n\r\nI agree, we should clearly document this change and at least provide some guidance on what users that want to customize the user/group can do to meet that need.\r\n\r\n> As long as we allow/enable people to inject their own init scripts, I don't feel like we're locking anyone out from making changes.\r\n\r\nI agree.\r\n\r\n> Thanks again!\r\n\r\nThank *you*.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/294222656","html_url":"https://github.com/elastic/elasticsearch/issues/23848#issuecomment-294222656","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23848","id":294222656,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDIyMjY1Ng==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-04-14T19:45:39Z","updated_at":"2017-04-14T19:45:39Z","author_association":"MEMBER","body":"Thank you @dakrone!","performed_via_github_app":null}]