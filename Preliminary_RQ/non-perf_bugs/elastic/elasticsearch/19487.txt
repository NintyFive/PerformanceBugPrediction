{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/19487","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19487/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19487/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19487/events","html_url":"https://github.com/elastic/elasticsearch/issues/19487","id":166167465,"node_id":"MDU6SXNzdWUxNjYxNjc0NjU=","number":19487,"title":"[CI] org.elasticsearch.backwards.MultiNodeBackwardsIT.test {p0=search.aggregation/20_terms/Double test} fails","user":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"labels":[{"id":141141324,"node_id":"MDU6TGFiZWwxNDExNDEzMjQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Analytics/Aggregations","name":":Analytics/Aggregations","color":"0e8a16","default":false,"description":"Aggregations"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"assignees":[{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2016-07-18T19:00:49Z","updated_at":"2017-05-19T07:23:03Z","closed_at":"2017-05-19T07:23:03Z","author_association":"MEMBER","active_lock_reason":null,"body":"Reliably fails.  I tried to go back and git bisect, but was unable to find a recent non-failing commit.\n\nExample failure: http://build-us-00.elastic.co/job/es_core_master_windows-2012-r2/3563/\n\n```\nERROR   30.9s | MultiNodeBackwardsIT.test {p0=search.aggregation/20_terms/Double test} <<< FAILURES!\n   > Throwable #1: java.net.SocketTimeoutException: Read timed out\n   >    at __randomizedtesting.SeedInfo.seed([4A8B947DEF21C44D:C2DFABA741DDA9B5]:0)\n   >    at java.net.SocketInputStream.socketRead0(Native Method)\n   >    at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\n   >    at java.net.SocketInputStream.read(SocketInputStream.java:170)\n   >    at java.net.SocketInputStream.read(SocketInputStream.java:141)\n   >    at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:139)\n   >    at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:155)\n   >    at org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:284)\n   >    at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:140)\n   >    at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:57)\n   >    at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:261)\n   >    at org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:165)\n   >    at org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:167)\n   >    at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:272)\n   >    at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:124)\n   >    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:271)\n   >    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\n   >    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\n   >    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\n   >    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\n   >    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:117)\n   >    at org.elasticsearch.client.RestClient.performRequest(RestClient.java:194)\n   >    at org.elasticsearch.test.rest.client.RestTestClient.callApi(RestTestClient.java:245)\n   >    at org.elasticsearch.test.rest.RestTestExecutionContext.callApiInternal(RestTestExecutionContext.java:109)\n   >    at org.elasticsearch.test.rest.RestTestExecutionContext.callApi(RestTestExecutionContext.java:77)\n   >    at org.elasticsearch.test.rest.section.DoSection.execute(DoSection.java:92)\n   >    at org.elasticsearch.test.rest.ESRestTestCase.test(ESRestTestCase.java:390)\n   >    at java.lang.Thread.run(Thread.java:745)\n\n```\n\nReliably reproduces with:\n\n```\ngradle :qa:backwards-5.0:integTest -Dtests.seed=4A8B947DEF21C44D -Dtests.class=org.elasticsearch.backwards.MultiNodeBackwardsIT -Dtests.method=\"test {p0=search.aggregation/20_terms/Double test}\" -Dtests.es.logger.level=DEBUG -Dtests.security.manager=true -Dtests.nightly=false -Dtests.heap.size=512m -Dtests.jvm.argline=\"-server -XX:+UseConcMarkSweepGC -XX:+UseCompressedOops -XX:+AggressiveOpts\" -Dtests.locale=en-GB -Dtests.timezone=Etc/GMT-10\n```\n\nFWIW, I tested on the entire suite (not just the \"Double Test\" test) and they all fail with the same timeout:\n\n```\ngradle :qa:backwards-5.0:integTest -Dtests.seed=4A8B947DEF21C44D -Dtests.class=org.elasticsearch.backwards.MultiNodeBackwardsIT  -Dtests.es.logger.level=DEBUG -Dtests.security.manager=true -Dtests.nightly=false -Dtests.heap.size=512m -Dtests.jvm.argline=\"-server -XX:+UseConcMarkSweepGC -XX:+UseCompressedOops -XX:+AggressiveOpts\" -Dtests.locale=en-GB -Dtests.timezone=Etc/GMT-10\n```\n\nI have no idea how to debug these bwc tests however, sorry :(\n","closed_by":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"performed_via_github_app":null}