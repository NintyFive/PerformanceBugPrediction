[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/221208744","html_url":"https://github.com/elastic/elasticsearch/issues/18536#issuecomment-221208744","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18536","id":221208744,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTIwODc0NA==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2016-05-24T09:02:20Z","updated_at":"2016-05-24T09:38:32Z","author_association":"MEMBER","body":"Hi @pradeepg-telsiz this sounds weird given that the REST layer uses the java api internally. That means that if the java api cannot add a document to an alias, it is very likely that the REST layer doesn't work either. Are you working against a single cluster? Is it possible that those java api commands get sent to different clusters, one has the alias but the cluster where you index the document doesn't have it?\n\nYour code snippets have some problems (e.g. a missing comma when you add the alias). Could you please post a complete recreation with exactly the code you are using?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/221216728","html_url":"https://github.com/elastic/elasticsearch/issues/18536#issuecomment-221216728","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18536","id":221216728,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTIxNjcyOA==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-05-24T09:35:30Z","updated_at":"2016-05-24T09:35:30Z","author_association":"CONTRIBUTOR","body":"we have a test that verifies this works from the java API https://github.com/elastic/elasticsearch/blob/master/core/src/test/java/org/elasticsearch/aliases/IndexAliasesIT.java#L86\n\nI can see you use `getClient()` and `client` in your code maybe you talk to different clusters?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/221277899","html_url":"https://github.com/elastic/elasticsearch/issues/18536#issuecomment-221277899","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18536","id":221277899,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTI3Nzg5OQ==","user":{"login":"pradeepg-telsiz","id":10928422,"node_id":"MDQ6VXNlcjEwOTI4NDIy","avatar_url":"https://avatars2.githubusercontent.com/u/10928422?v=4","gravatar_id":"","url":"https://api.github.com/users/pradeepg-telsiz","html_url":"https://github.com/pradeepg-telsiz","followers_url":"https://api.github.com/users/pradeepg-telsiz/followers","following_url":"https://api.github.com/users/pradeepg-telsiz/following{/other_user}","gists_url":"https://api.github.com/users/pradeepg-telsiz/gists{/gist_id}","starred_url":"https://api.github.com/users/pradeepg-telsiz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pradeepg-telsiz/subscriptions","organizations_url":"https://api.github.com/users/pradeepg-telsiz/orgs","repos_url":"https://api.github.com/users/pradeepg-telsiz/repos","events_url":"https://api.github.com/users/pradeepg-telsiz/events{/privacy}","received_events_url":"https://api.github.com/users/pradeepg-telsiz/received_events","type":"User","site_admin":false},"created_at":"2016-05-24T13:56:19Z","updated_at":"2016-05-24T13:56:19Z","author_association":"NONE","body":"I am able to figure out the problem. Below is the program to reproduce.\n\n```\npublic class AliasTest {\n\n    private TransportClient client;\n    String indexName = \"testindex\";\n    String aliasName = \"testIndex_alias\"; // Create different index\n    //String aliasName = \"testindex_write_alias\"; // Create record in same\n\n    public void createTransportClient() throws UnknownHostException {\n\n        Settings.Builder settings = Settings.settingsBuilder();\n        settings.put(\"cluster.name\", \"elastic-cluster\").put(\"client.transport.nodes_sampler_interval\", \"30s\")\n                .put(\"client.transport.ping_timeout\", \"30s\").put(\"client.transport.ignore_cluster_name\", false)\n                .put(\"client.transport.sniff\", true).put(\"client.transport\", \"TRACE\");\n        TransportClient client = TransportClient.builder().settings(settings).build();\n        client = client.addTransportAddress(new InetSocketTransportAddress(InetAddress.getByName(\"localhost\"), 9300));\n        this.client = client;\n\n    }\n\n    public static void main(String[] args) throws UnknownHostException {\n        AliasTest aliasTest = new AliasTest();\n        aliasTest.createTransportClient();\n        aliasTest.buildIndex();\n        aliasTest.addAlias();\n        aliasTest.addDocumnetUsingAlias();\n    }\n\n    private String source(String id, String nameValue) {\n        return \"{ \\\"id\\\" : \\\"\" + id + \"\\\", \\\"name\\\" : \\\"\" + nameValue + \"\\\" }\";\n    }\n\n    private void addDocumnetUsingAlias() {\n\n        IndexResponse response = client.prepareIndex(aliasName.toLowerCase(), \"sometype\", \"1\")\n                .setSource(source(\"1\", \"test\")).execute().actionGet();\n        if (!response.isCreated())\n            client.admin().indices().prepareRefresh().execute().actionGet();\n        if (response.isCreated()) {\n            System.out.println(\"Document Created\");\n        } else {\n            System.out.println(\"Failed to create document\");\n        }\n    }\n\n    private void buildIndex() {\n        CreateIndexRequest indexRequest = new CreateIndexRequest(indexName);\n        CreateIndexResponse response = client.admin().indices().create(indexRequest).actionGet();\n        if (response.isAcknowledged()) {\n            System.out.println(\"Index Created: {\" + indexName + \"}\");\n        } else {\n            System.out.println(\"Failed to create Index: {\" + indexName + \"}\");\n        }\n    }\n\n    private void addAlias() {\n        IndicesAliasesResponse indAliasesResponse = client.admin().indices().prepareAliases()\n                .addAlias(indexName, aliasName).execute().actionGet();\n        if (indAliasesResponse.isAcknowledged()) {\n            System.out.println(\"Alias Created: {\" + aliasName + \"}\");\n        } else {\n            System.out.println(\"Failed to create alias: {\" + aliasName + \"}\");\n        }\n    }\n\n}\n```\n\nSo index name is not case sensitive. I added the alias with camel case but while inserting I was using lower case. This was causing new index creation. Is this the expected behavior? \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/221522877","html_url":"https://github.com/elastic/elasticsearch/issues/18536#issuecomment-221522877","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18536","id":221522877,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTUyMjg3Nw==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-05-25T09:37:00Z","updated_at":"2016-05-25T09:37:00Z","author_association":"CONTRIBUTOR","body":"index names are case-sensitive!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/221559421","html_url":"https://github.com/elastic/elasticsearch/issues/18536#issuecomment-221559421","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18536","id":221559421,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTU1OTQyMQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2016-05-25T12:28:52Z","updated_at":"2016-05-25T12:28:52Z","author_association":"MEMBER","body":"seems like you have found the problem @pradeepg-telsiz , this is the expected behaviour, index names are case sensitive.\n","performed_via_github_app":null}]