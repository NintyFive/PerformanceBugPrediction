{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/3674","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3674/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3674/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3674/events","html_url":"https://github.com/elastic/elasticsearch/issues/3674","id":19378192,"node_id":"MDU6SXNzdWUxOTM3ODE5Mg==","number":3674,"title":"Lastest git master does not build clean","user":{"login":"h4ck3rm1k3","id":34903,"node_id":"MDQ6VXNlcjM0OTAz","avatar_url":"https://avatars2.githubusercontent.com/u/34903?v=4","gravatar_id":"","url":"https://api.github.com/users/h4ck3rm1k3","html_url":"https://github.com/h4ck3rm1k3","followers_url":"https://api.github.com/users/h4ck3rm1k3/followers","following_url":"https://api.github.com/users/h4ck3rm1k3/following{/other_user}","gists_url":"https://api.github.com/users/h4ck3rm1k3/gists{/gist_id}","starred_url":"https://api.github.com/users/h4ck3rm1k3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/h4ck3rm1k3/subscriptions","organizations_url":"https://api.github.com/users/h4ck3rm1k3/orgs","repos_url":"https://api.github.com/users/h4ck3rm1k3/repos","events_url":"https://api.github.com/users/h4ck3rm1k3/events{/privacy}","received_events_url":"https://api.github.com/users/h4ck3rm1k3/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":12,"created_at":"2013-09-12T12:28:08Z","updated_at":"2013-10-30T11:47:40Z","closed_at":"2013-10-30T11:47:40Z","author_association":"NONE","active_lock_reason":null,"body":"  1> REPRODUCE WITH  : mvn test -Dtests.seed=23CD52CEE15D72 -Dtests.class=org.elasticsearch.routing.SimpleRoutingTests -Dtests.method=testSimpleSearchRouting -Dtests.prefix=tests -Dtests.integration= -Dtests.nightly= -Dfile.encoding=UTF-8 -Duser.timezone=America/Los_Angeles\n  1> Throwable:\n  1> org.elasticsearch.index.mapper.MapperParsingException: External routing [0] and document path routing [null] mismatch\n  1>     __randomizedtesting.SeedInfo.seed([23CD52CEE15D72:BC2675518BB49BEA]:0)\n  1>     org.elasticsearch.index.mapper.internal.RoutingFieldMapper.validate(RoutingFieldMapper.java:185)\n  1>     org.elasticsearch.index.mapper.DocumentMapper.parse(DocumentMapper.java:520)\n  1>     org.elasticsearch.index.mapper.DocumentMapper.parse(DocumentMapper.java:452)\n  1>     org.elasticsearch.index.shard.service.InternalIndexShard.prepareIndex(InternalIndexShard.java:358)\n  1>     org.elasticsearch.action.index.TransportIndexAction.shardOperationOnPrimary(TransportIndexAction.java:201)\n  1>     org.elasticsearch.action.support.replication.TransportShardReplicationOperationAction$AsyncShardOperationAction.performOnPrimary(TransportShardReplicationOperationAction.java:544)\n  1>     org.elasticsearch.action.support.replication.TransportShardReplicationOperationAction$AsyncShardOperationAction$1.run(TransportShardReplicationOperationAction.java:429)\n  1>     java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n  1>     java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n  1>     java.lang.Thread.run(Thread.java:724)\n  1> \n  1> [2013-09-11 16:12:37,660][INFO ][org.elasticsearch        ] Test testSimpleSearchRouting(org.elasticsearch.routing.SimpleRoutingTests) finished\nERROR   0.18s | SimpleRoutingTests.testSimpleSearchRouting <<<\n\n> Throwable #1: org.elasticsearch.index.mapper.MapperParsingException: External routing [0] and document path routing [null] mismatch\n>    at __randomizedtesting.SeedInfo.seed([23CD52CEE15D72:BC2675518BB49BEA]:0)\n>    at org.elasticsearch.index.mapper.internal.RoutingFieldMapper.validate(RoutingFieldMapper.java:185)\n>    at org.elasticsearch.index.mapper.DocumentMapper.parse(DocumentMapper.java:520)\n>    at org.elasticsearch.index.mapper.DocumentMapper.parse(DocumentMapper.java:452)\n>    at org.elasticsearch.index.shard.service.InternalIndexShard.prepareIndex(InternalIndexShard.java:358)\n>    at org.elasticsearch.action.index.TransportIndexAction.shardOperationOnPrimary(TransportIndexAction.java:201)\n>    at org.elasticsearch.action.support.replication.TransportShardReplicationOperationAction$AsyncShardOperationAction.performOnPrimary(TransportShardReplicationOperationAction.java:544)\n>    at org.elasticsearch.action.support.replication.TransportShardReplicationOperationAction$AsyncShardOperationAction$1.run(TransportShardReplicationOperationAction.java:429)\n>    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n>    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n>    at java.lang.Thread.run(Thread.java:724)\n> Completed in 1.23s, 6 tests, 1 error <<< FAILURES!\n\n  1> REPRODUCE WITH  : mvn test -Dtests.seed=23CD52CEE15D72 -Dtests.class=org.elasticsearch.search.simple.SimpleSearchTests -Dtests.method=simpleDateMathTests -Dtests.prefix=tests -Dtests.integration= -Dtests.nightly= -Dfile.encoding=UTF-8 -Duser.timezone=America/Los_Angeles\n  1> Throwable:\n  1> java.lang.AssertionError: Hit count is 0 but 2 was expected.  Total shards: 5 Successful shards: 5 & 0 shard failures:\n  1>     __randomizedtesting.SeedInfo.seed([23CD52CEE15D72:16F64B1793B3F5AC]:0)\n  1>     [...org.junit._]\n  1>     org.elasticsearch.test.hamcrest.ElasticsearchAssertions.assertHitCount(ElasticsearchAssertions.java:103)\n  1>     org.elasticsearch.search.simple.SimpleSearchTests.simpleDateMathTests(SimpleSearchTests.java:155)\n  1>     [...sun._, com.carrotsearch.randomizedtesting._, java.lang.reflect._]\n  1>     org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:50)\n  1>     org.apache.lucene.util.TestRuleFieldCacheSanity$1.evaluate(TestRuleFieldCacheSanity.java:51)\n  1>     org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:46)\n  1>     [...com.carrotsearch.randomizedtesting._]\n  1>     org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:49)\n  1>     org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:70)\n  1>     org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:48)\n  1>     [...com.carrotsearch.randomizedtesting._]\n  1>     org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:46)\n  1>     org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:42)\n  1>     [...com.carrotsearch.randomizedtesting._]\n  1>     org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:43)\n  1>     org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:48)\n  1>     org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:70)\n  1>     org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:55)\n  1>     [...com.carrotsearch.randomizedtesting._]\n  1>     java.lang.Thread.run(Thread.java:724)\n  1> \n  1> [2013-09-11 16:06:04,998][INFO ][org.elasticsearch        ] Test simpleDateMathTests(org.elasticsearch.search.simple.SimpleSearchTests) finished\nFAILURE 0.21s | SimpleSearchTests.simpleDateMathTests <<<\n\n> Throwable #1: java.lang.AssertionError: Hit count is 0 but 2 was expected.  Total shards: 5 Successful shards: 5 & 0 shard failures:\n>    at __randomizedtesting.SeedInfo.seed([23CD52CEE15D72:16F64B1793B3F5AC]:0)\n>    at org.junit.Assert.fail(Assert.java:93)\n>    at org.elasticsearch.test.hamcrest.ElasticsearchAssertions.assertHitCount(ElasticsearchAssertions.java:103)\n>    at org.elasticsearch.search.simple.SimpleSearchTests.simpleDateMathTests(SimpleSearchTests.java:155)\n>    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n>    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n>    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n>    at java.lang.reflect.Method.invoke(Method.java:606)\n>    at com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1559)\n>    at com.carrotsearch.randomizedtesting.RandomizedRunner.access$600(RandomizedRunner.java:79)\n>    at com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:737)\n>    at com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:773)\n>    at com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:787)\n>    at org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:50)\n>    at org.apache.lucene.util.TestRuleFieldCacheSanity$1.evaluate(TestRuleFieldCacheSanity.java:51)\n>    at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:46)\n>    at com.carrotsearch.randomizedtesting.rules.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:55)\n>    at org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:49)\n>    at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:70)\n>    at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:48)\n>    at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n>    at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:358)\n>    at com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:782)\n>    at com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:442)\n>    at com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:746)\n>    at com.carrotsearch.randomizedtesting.RandomizedRunner$3.evaluate(RandomizedRunner.java:648)\n>    at com.carrotsearch.randomizedtesting.RandomizedRunner$4.evaluate(RandomizedRunner.java:682)\n>    at com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:693)\n>    at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:46)\n>    at org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:42)\n>    at com.carrotsearch.randomizedtesting.rules.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:55)\n>    at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:39)\n>    at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:39)\n>    at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n>    at org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:43)\n>    at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:48)\n>    at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:70)\n>    at org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:55)\n>    at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n>    at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:358)\n>    at java.lang.Thread.run(Thread.java:724)\n","closed_by":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"performed_via_github_app":null}