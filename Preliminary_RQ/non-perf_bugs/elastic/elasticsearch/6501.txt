{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/6501","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6501/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6501/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6501/events","html_url":"https://github.com/elastic/elasticsearch/issues/6501","id":35722005,"node_id":"MDU6SXNzdWUzNTcyMjAwNQ==","number":6501,"title":"ElasticSearch - Conflict in retrieval of document saved with CouchbaseLite database?","user":{"login":"PankaJJakhar","id":1659848,"node_id":"MDQ6VXNlcjE2NTk4NDg=","avatar_url":"https://avatars0.githubusercontent.com/u/1659848?v=4","gravatar_id":"","url":"https://api.github.com/users/PankaJJakhar","html_url":"https://github.com/PankaJJakhar","followers_url":"https://api.github.com/users/PankaJJakhar/followers","following_url":"https://api.github.com/users/PankaJJakhar/following{/other_user}","gists_url":"https://api.github.com/users/PankaJJakhar/gists{/gist_id}","starred_url":"https://api.github.com/users/PankaJJakhar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PankaJJakhar/subscriptions","organizations_url":"https://api.github.com/users/PankaJJakhar/orgs","repos_url":"https://api.github.com/users/PankaJJakhar/repos","events_url":"https://api.github.com/users/PankaJJakhar/events{/privacy}","received_events_url":"https://api.github.com/users/PankaJJakhar/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2014-06-14T05:53:03Z","updated_at":"2014-06-16T10:07:49Z","closed_at":"2014-06-16T10:07:49Z","author_association":"NONE","active_lock_reason":null,"body":"I am using ElasticSearch on server side (.NET C#) that is sitting on the CouchDB database for indexing. And I am facing this issue with the documents which are updated with CouchbaseLite. If document is updated using CBLite then it throws exception. If document is saved using CouchDB then it works fine.\n\nLets say that this revision is saved using CBLite and synced to CouchDB server.\n\n```\n{\n\"_id\":\"d2f09b05-96f4-4fc0-aa94-73902fb4d469\",\n\"_rev\":\"1-48eed54757c9fb2f8422a61bc460ed2d\"\n}\n```\n\nthen elastic-search will throw an exception. Exception trace is given below.\n\n```\nInput string was not in a correct format.\nWhen converting a string to DateTime, parse the string to take the data before putting each variable into the DateTime Object\n```\n\nNow, Lets say that this document is updated on CouchDB side from futon interface and its revision is update from `\"_rev\":\"1-48eed54757c9fb2f8422a61bc460ed2d\"` to `\"_rev\":\"2-7b7d5ec4b5df62e12edb3f284a3702a7\"`\n\nThen document becomes.\n\n```\n{\n\"_id\":\"d2f09b05-96f4-4fc0-aa94-73902fb4d469\",\n\"_rev\":\"2-7b7d5ec4b5df62e12edb3f284a3702a7\"\n}\n```\n\nNow elastic search will be accessing it successfully without throwing any exception.\n\nIf again, you update this document using CBL then elastic-search will keep on throwing above exception on server side. \n\n```\n{\n\"_id\":\"d2f09b05-96f4-4fc0-aa94-73902fb4d469\",\n\"_rev\":\"3-1321fc8139f8f87f8271efc6d3d0ca55\"\n}\n```\n\nAnd the change in the document is only this `_rev` field.\n","closed_by":{"login":"PankaJJakhar","id":1659848,"node_id":"MDQ6VXNlcjE2NTk4NDg=","avatar_url":"https://avatars0.githubusercontent.com/u/1659848?v=4","gravatar_id":"","url":"https://api.github.com/users/PankaJJakhar","html_url":"https://github.com/PankaJJakhar","followers_url":"https://api.github.com/users/PankaJJakhar/followers","following_url":"https://api.github.com/users/PankaJJakhar/following{/other_user}","gists_url":"https://api.github.com/users/PankaJJakhar/gists{/gist_id}","starred_url":"https://api.github.com/users/PankaJJakhar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PankaJJakhar/subscriptions","organizations_url":"https://api.github.com/users/PankaJJakhar/orgs","repos_url":"https://api.github.com/users/PankaJJakhar/repos","events_url":"https://api.github.com/users/PankaJJakhar/events{/privacy}","received_events_url":"https://api.github.com/users/PankaJJakhar/received_events","type":"User","site_admin":false},"performed_via_github_app":null}