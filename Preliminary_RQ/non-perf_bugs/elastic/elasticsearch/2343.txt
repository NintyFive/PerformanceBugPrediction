{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/2343","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2343/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2343/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2343/events","html_url":"https://github.com/elastic/elasticsearch/issues/2343","id":7737408,"node_id":"MDU6SXNzdWU3NzM3NDA4","number":2343,"title":"Improve implementation of SimpleIdCache","user":{"login":"serj-p","id":2565455,"node_id":"MDQ6VXNlcjI1NjU0NTU=","avatar_url":"https://avatars0.githubusercontent.com/u/2565455?v=4","gravatar_id":"","url":"https://api.github.com/users/serj-p","html_url":"https://github.com/serj-p","followers_url":"https://api.github.com/users/serj-p/followers","following_url":"https://api.github.com/users/serj-p/following{/other_user}","gists_url":"https://api.github.com/users/serj-p/gists{/gist_id}","starred_url":"https://api.github.com/users/serj-p/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/serj-p/subscriptions","organizations_url":"https://api.github.com/users/serj-p/orgs","repos_url":"https://api.github.com/users/serj-p/repos","events_url":"https://api.github.com/users/serj-p/events{/privacy}","received_events_url":"https://api.github.com/users/serj-p/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2012-10-20T13:01:23Z","updated_at":"2017-03-22T14:50:00Z","closed_at":"2013-10-30T09:42:09Z","author_association":"NONE","active_lock_reason":null,"body":"From doc I've read that \n\nWith the current implementation, all _id values are loaded to memory (heap) in order to support fast lookups, so make sure there is enough mem for it.\n\nSuch implementation causes very wasteful memory usage and high IO when it's unnecessary.\nSo I hope that this implementation will be improved. It will be great if SimpleIdCache will obtain LRU behaviour. And if it will be filled by demand. I mean that if I have query with filer that should go through some filtered set of parent and child docs then only this doc ids appended to SimpleIdCache but not all.\n\nMy unsuccessful user experience described here  \nhttps://groups.google.com/forum/?fromgroups=#!topic/elasticsearch/IVLNd1SMlrs\n","closed_by":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"performed_via_github_app":null}