{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/24816","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24816/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24816/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24816/events","html_url":"https://github.com/elastic/elasticsearch/issues/24816","id":230176535,"node_id":"MDU6SXNzdWUyMzAxNzY1MzU=","number":24816,"title":"Document backwards-incompatible change for GeoDistance queries (5.3 breaking change/incompatibility)","user":{"login":"astral303","id":1194357,"node_id":"MDQ6VXNlcjExOTQzNTc=","avatar_url":"https://avatars2.githubusercontent.com/u/1194357?v=4","gravatar_id":"","url":"https://api.github.com/users/astral303","html_url":"https://github.com/astral303","followers_url":"https://api.github.com/users/astral303/followers","following_url":"https://api.github.com/users/astral303/following{/other_user}","gists_url":"https://api.github.com/users/astral303/gists{/gist_id}","starred_url":"https://api.github.com/users/astral303/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astral303/subscriptions","organizations_url":"https://api.github.com/users/astral303/orgs","repos_url":"https://api.github.com/users/astral303/repos","events_url":"https://api.github.com/users/astral303/events{/privacy}","received_events_url":"https://api.github.com/users/astral303/received_events","type":"User","site_admin":false},"labels":[{"id":141079527,"node_id":"MDU6TGFiZWwxNDEwNzk1Mjc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Analytics/Geo","name":":Analytics/Geo","color":"0e8a16","default":false,"description":"Indexing, search aggregations of geo points and shapes"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"nknize","id":830187,"node_id":"MDQ6VXNlcjgzMDE4Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/830187?v=4","gravatar_id":"","url":"https://api.github.com/users/nknize","html_url":"https://github.com/nknize","followers_url":"https://api.github.com/users/nknize/followers","following_url":"https://api.github.com/users/nknize/following{/other_user}","gists_url":"https://api.github.com/users/nknize/gists{/gist_id}","starred_url":"https://api.github.com/users/nknize/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nknize/subscriptions","organizations_url":"https://api.github.com/users/nknize/orgs","repos_url":"https://api.github.com/users/nknize/repos","events_url":"https://api.github.com/users/nknize/events{/privacy}","received_events_url":"https://api.github.com/users/nknize/received_events","type":"User","site_admin":false},"assignees":[{"login":"nknize","id":830187,"node_id":"MDQ6VXNlcjgzMDE4Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/830187?v=4","gravatar_id":"","url":"https://api.github.com/users/nknize","html_url":"https://github.com/nknize","followers_url":"https://api.github.com/users/nknize/followers","following_url":"https://api.github.com/users/nknize/following{/other_user}","gists_url":"https://api.github.com/users/nknize/gists{/gist_id}","starred_url":"https://api.github.com/users/nknize/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nknize/subscriptions","organizations_url":"https://api.github.com/users/nknize/orgs","repos_url":"https://api.github.com/users/nknize/repos","events_url":"https://api.github.com/users/nknize/events{/privacy}","received_events_url":"https://api.github.com/users/nknize/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2017-05-20T20:15:43Z","updated_at":"2017-06-09T20:28:07Z","closed_at":"2017-06-09T20:28:07Z","author_association":"NONE","active_lock_reason":null,"body":"When running a 5.2.2 client against a 5.3 or 5.4 server, when GeoDistance queries with default settings are sent, the server responds with an error:\r\n\r\nCaused by: java.io.IOException: Unknown GeoDistance ordinal [3]\r\n\r\nThis regression was introduced in 5.3 and on in this commit:\r\n\r\nhttps://github.com/elastic/elasticsearch/commit/3a2c628fabe2b30545cd16afc9227542b24bfcfe\r\n\r\nThat commit changed the ordinals of the Enums in a backwards-incompatible way.\r\n\r\nThis should be documented in the breaking changes for 5.3. This also breaks the promise of 5.x clients being able to talk to 5.x servers compatibly (note that the 5.2.2 client is not using any new features here). ","closed_by":{"login":"nknize","id":830187,"node_id":"MDQ6VXNlcjgzMDE4Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/830187?v=4","gravatar_id":"","url":"https://api.github.com/users/nknize","html_url":"https://github.com/nknize","followers_url":"https://api.github.com/users/nknize/followers","following_url":"https://api.github.com/users/nknize/following{/other_user}","gists_url":"https://api.github.com/users/nknize/gists{/gist_id}","starred_url":"https://api.github.com/users/nknize/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nknize/subscriptions","organizations_url":"https://api.github.com/users/nknize/orgs","repos_url":"https://api.github.com/users/nknize/repos","events_url":"https://api.github.com/users/nknize/events{/privacy}","received_events_url":"https://api.github.com/users/nknize/received_events","type":"User","site_admin":false},"performed_via_github_app":null}