[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/100924302","html_url":"https://github.com/elastic/elasticsearch/issues/11091#issuecomment-100924302","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11091","id":100924302,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMDkyNDMwMg==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2015-05-11T14:22:21Z","updated_at":"2015-05-11T14:22:21Z","author_association":"CONTRIBUTOR","body":"Can you deprecate rather than remove the\n{\n  \"script\": \" name/body\",\n  \"lang\": \" whatever\"\n}\nstyle?\n\nOr maybe offer the new style in 1.6 if you are dropping the old in 2.0?\n\nCreated from the discussion at #8393 (comment)\nhttps://github.com/elastic/elasticsearch/pull/8393#issuecomment-96388815\n\nThe ScriptParameterParser added in 1.5 was an effort to make the parsing of\nscripts in Elasticsearch consistent but did not go far enough. The way\nscripts are defined in requests is still not one consistent method across\nthe codebase. We want scripts to be defined in an object containing the\nscript, params, lang, and type. This will be defined in the request in the\nfollowing way:\n\nInline Scripts:\n\n...\"script\": {\n    \"inline\": \"doc[foo] + 1\",\n    \"lang\": \"groovy\",\n    \"params\": {\n        ...\n    }\n}\n...\n\nFile Scripts:\n\n...\"script\": {\n    \"file\": \"my_file_script\",\n    \"lang\": \"groovy\",\n    \"params\": {\n        ...\n    }\n}\n...\n\nIndex Scripts:\n\n...\"script\": {\n    \"id\": \"my_indexed_script\",\n    \"lang\": \"groovy\",\n    \"params\": {\n        ...\n    }\n}\n...\n\nInline scripts can also be specified using the following short form, but\nthe language will be the default language and the params will be empty:\n\n...\"script\": \"doc[foo] + 1\"\n...\n\nWe should have similar constructs for templates. Also, the script and\ntemplate classes should be available in the Java API and should be able to\nparse and render (build) themselves in XContent as well as being able to be\nserialized between nodes.\n\n—\nReply to this email directly or view it on GitHub\nhttps://github.com/elastic/elasticsearch/issues/11091.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/100926206","html_url":"https://github.com/elastic/elasticsearch/issues/11091#issuecomment-100926206","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11091","id":100926206,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMDkyNjIwNg==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2015-05-11T14:29:32Z","updated_at":"2015-05-11T14:29:32Z","author_association":"MEMBER","body":"@nik9000 yes, it is the intention to support both the current format and the new format in 1.6. Sorry, I should have mentioned that in the issue.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/100928892","html_url":"https://github.com/elastic/elasticsearch/issues/11091#issuecomment-100928892","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11091","id":100928892,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMDkyODg5Mg==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2015-05-11T14:40:12Z","updated_at":"2015-05-11T14:40:12Z","author_association":"CONTRIBUTOR","body":"Thanks!\n\nOn Mon, May 11, 2015 at 10:29 AM, Colin Goodheart-Smithe <\nnotifications@github.com> wrote:\n\n> @nik9000 https://github.com/nik9000 yes, it is the intention to support\n> both the current format and the new format in 1.6. Sorry, I should have\n> mentioned that in the issue.\n> \n> —\n> Reply to this email directly or view it on GitHub\n> https://github.com/elastic/elasticsearch/issues/11091#issuecomment-100926206\n> .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/106794347","html_url":"https://github.com/elastic/elasticsearch/issues/11091#issuecomment-106794347","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11091","id":106794347,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNjc5NDM0Nw==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2015-05-29T12:51:10Z","updated_at":"2015-05-29T12:51:10Z","author_association":"MEMBER","body":"Backporting the changes to 1.6 proved far too complex to have the confidence in the change, so the plan is now to merge this to 2.0 only and support the old API in the REST layer so that stuff thats stored like transforms and templates continue to work, but to remove support for the old script API in the Java API and the wire format. When the old script API is used through the REST layer it will log a deprecation warning to the new deprecation logger\n","performed_via_github_app":null}]