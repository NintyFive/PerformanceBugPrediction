{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/46357","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46357/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46357/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46357/events","html_url":"https://github.com/elastic/elasticsearch/issues/46357","id":489457459,"node_id":"MDU6SXNzdWU0ODk0NTc0NTk=","number":46357,"title":"index going to \"completed\" ILM phase instead of \"warm\"","user":{"login":"DanRoscigno","id":25182304,"node_id":"MDQ6VXNlcjI1MTgyMzA0","avatar_url":"https://avatars3.githubusercontent.com/u/25182304?v=4","gravatar_id":"","url":"https://api.github.com/users/DanRoscigno","html_url":"https://github.com/DanRoscigno","followers_url":"https://api.github.com/users/DanRoscigno/followers","following_url":"https://api.github.com/users/DanRoscigno/following{/other_user}","gists_url":"https://api.github.com/users/DanRoscigno/gists{/gist_id}","starred_url":"https://api.github.com/users/DanRoscigno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DanRoscigno/subscriptions","organizations_url":"https://api.github.com/users/DanRoscigno/orgs","repos_url":"https://api.github.com/users/DanRoscigno/repos","events_url":"https://api.github.com/users/DanRoscigno/events{/privacy}","received_events_url":"https://api.github.com/users/DanRoscigno/received_events","type":"User","site_admin":false},"labels":[{"id":912828538,"node_id":"MDU6TGFiZWw5MTI4Mjg1Mzg=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/ILM+SLM","name":":Core/Features/ILM+SLM","color":"0e8a16","default":false,"description":"Index and Snapshot lifecycle management"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":37,"created_at":"2019-09-04T23:41:55Z","updated_at":"2020-02-11T21:38:31Z","closed_at":"2020-02-11T21:38:30Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Bug report\r\n\r\n**Elasticsearch version** \r\n7.2.0 and 7.3.1 ESS\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\nWhen I look at my indices under index management and apply the Lifecycle filters (hot, warm, cold) I see that I have a bunch of Filebeat indices that are not in any of the above states.  When I look at the details I see the state is \"completed\":\r\n\r\n![image](https://user-images.githubusercontent.com/25182304/64300553-34fcf280-cf4b-11e9-892c-5ac3bb77a495.png)\r\n\r\nUsing the following ILM policy index should go to \"warm\" on rollover:\r\n```\r\n{\r\n    \"policy\": {\r\n        \"phases\": {\r\n            \"hot\": {\r\n                \"min_age\": \"0ms\",\r\n                \"actions\": {\r\n                    \"rollover\": {\r\n                        \"max_age\": \"1h\",\r\n                        \"max_size\": \"50mb\",\r\n                        \"max_docs\": 100\r\n                    }\r\n                }\r\n            },\r\n            \"warm\": {\r\n                \"min_age\": \"1h\",\r\n                \"actions\": {\r\n                    \"allocate\": {\r\n                        \"include\": {},\r\n                        \"exclude\": {},\r\n                        \"require\": {\r\n                            \"data\": \"warm\"\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**Steps to reproduce**:\r\n\r\n1. Run `filebeat setup`\r\n2. Edit ILM policy to reduce time (so you do not have to wait 30 days)\r\n3. Run `filebeat`\r\n4. Wait for rollover\r\n\r\n\r\n","closed_by":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"performed_via_github_app":null}