[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/98073847","html_url":"https://github.com/elastic/elasticsearch/issues/10914#issuecomment-98073847","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10914","id":98073847,"node_id":"MDEyOklzc3VlQ29tbWVudDk4MDczODQ3","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2015-05-01T08:21:21Z","updated_at":"2015-05-01T08:21:21Z","author_association":"MEMBER","body":"I see what happens: the query gets analyzed once with the `_all` analyzer, which gives `organization` as token to highlight. The content of each field to highlight gets retrieved and re-analyzed on-the-fly using the same analyzer that was used at index time (may differ per field). In this specific case `field` is analyzed using `snowball` which produces `organ` as output, thus there is nothing to highlight (`organization` != `organ`).\n\nThis is the expected behaviour. This is probably the bigger downside of querying one field and highlighting other fields. Highlighting the same fields that get queried probably makes more sense and solves the issue.\n","performed_via_github_app":null}]