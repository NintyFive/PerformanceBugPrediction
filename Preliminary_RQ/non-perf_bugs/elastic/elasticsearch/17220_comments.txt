[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/199320710","html_url":"https://github.com/elastic/elasticsearch/issues/17220#issuecomment-199320710","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17220","id":199320710,"node_id":"MDEyOklzc3VlQ29tbWVudDE5OTMyMDcxMA==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2016-03-21T14:43:32Z","updated_at":"2016-03-21T14:43:32Z","author_association":"MEMBER","body":"@spinscale why not? Storing the logs in the journal allows an administrator to do something like: `journalctl _PID=1234 --since \"20 min ago\"` that is more difficult to do tailing logs.\n\nIs there any reason why _shouldn't_ put logs in it on systemd systems?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/199347924","html_url":"https://github.com/elastic/elasticsearch/issues/17220#issuecomment-199347924","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17220","id":199347924,"node_id":"MDEyOklzc3VlQ29tbWVudDE5OTM0NzkyNA==","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2016-03-21T15:45:46Z","updated_at":"2016-03-21T15:45:46Z","author_association":"MEMBER","body":"As far as my knowledge about systemd journal goes, by default it cleans itself up in case it takes up too much space. If Elasticsearch is on a log blast, we fill up the disk twice (which I dont care too much about, monitoring will kick in and notify), but this might expire other important entries out of the journal logs, where we have the es logs anyway.\n\nThat said, I do like the querying capabilties :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/199355850","html_url":"https://github.com/elastic/elasticsearch/issues/17220#issuecomment-199355850","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17220","id":199355850,"node_id":"MDEyOklzc3VlQ29tbWVudDE5OTM1NTg1MA==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2016-03-21T16:01:36Z","updated_at":"2016-03-21T16:01:36Z","author_association":"MEMBER","body":"> If Elasticsearch is on a log blast, we fill up the disk twice (which I dont care too much about, monitoring will kick in and notify), but this might expire other important entries out of the journal logs, where we have the es logs anyway.\n\nThat sounds like evidence that we should log _only_ to the journal on systemd machines, since you can easily configure the journal to write to a log file additionally.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/199406962","html_url":"https://github.com/elastic/elasticsearch/issues/17220#issuecomment-199406962","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17220","id":199406962,"node_id":"MDEyOklzc3VlQ29tbWVudDE5OTQwNjk2Mg==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-03-21T18:08:15Z","updated_at":"2016-03-21T18:08:15Z","author_association":"CONTRIBUTOR","body":"So long as we only log one place I really don't care which place that is.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/199408749","html_url":"https://github.com/elastic/elasticsearch/issues/17220#issuecomment-199408749","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17220","id":199408749,"node_id":"MDEyOklzc3VlQ29tbWVudDE5OTQwODc0OQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-03-21T18:12:47Z","updated_at":"2016-03-21T18:15:22Z","author_association":"MEMBER","body":"I'm in favor of `systemd` logging, but if we are only going to log to one place I think that it should be `/var/log/elasticsearch/elasticsearch.log`; the journal can be confusing, and has caused trouble for users in the past (because they don't know to look there, and the vast body of knowledge accessible through searches will point people towards `/var/log/elasticsearch/elasticsearch.log` rather than `systemd`). See #16159 and the related issues for some recent issues that support this.\n\nWe can provide commented out journal configuration for end-users that want this instead of the simpler default.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/199461798","html_url":"https://github.com/elastic/elasticsearch/issues/17220#issuecomment-199461798","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17220","id":199461798,"node_id":"MDEyOklzc3VlQ29tbWVudDE5OTQ2MTc5OA==","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2016-03-21T20:24:37Z","updated_at":"2016-03-21T20:24:37Z","author_association":"MEMBER","body":"When it comes to elasticsearch as a _system service_ I think we should try to integrate as much as possible with the OS features. I feel like systemd is adopted by more and more distributions and the journalctl is really powerful. We could enable persistent log with a max file size and compress by default.\n\nConcerning the vast body of knowledge referring to /var/log/elasticsearch/elasticsearch.log file, I think dropping a file there with a single line comment saying to look at the journal is OK.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/199602369","html_url":"https://github.com/elastic/elasticsearch/issues/17220#issuecomment-199602369","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17220","id":199602369,"node_id":"MDEyOklzc3VlQ29tbWVudDE5OTYwMjM2OQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-03-22T02:48:37Z","updated_at":"2016-03-22T11:58:27Z","author_association":"MEMBER","body":"@tlrx I'm all in favor in `systemd` but my argument is merely that if we are going to pick one, we should pick the simplest. As an added note, on all other systems we still have to support `/var/log/elasticsearch/elasticsearch.log`.\n\n> We could enable persistent log with a max file size and compress by default.\n\nWe can also provide a `logrotate.d` conf file for this.\n\n> Concerning the vast body of knowledge referring to /var/log/elasticsearch/elasticsearch.log file, I think dropping a file there with a single line comment saying to look at the journal is OK.\n\nThat does not alleviate my concerns that I've encountered many end users that have found the journal confusing.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/199682001","html_url":"https://github.com/elastic/elasticsearch/issues/17220#issuecomment-199682001","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17220","id":199682001,"node_id":"MDEyOklzc3VlQ29tbWVudDE5OTY4MjAwMQ==","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2016-03-22T07:46:06Z","updated_at":"2016-03-22T07:46:06Z","author_association":"MEMBER","body":"I also completely forgot we are still bound to maintain `init.d` based systems, due to LTS releases from various distributions.\n\nProposal from my side, unless we are on systemd exclusively (lets see if that works out without another dozen of init systems jumping into existence): Remove the `console` from `logging.yml`, but also add documentation how to do systemd logging exclusively and include some of the nice command line arguments that Lee showed off above and mentioning to not care about log rotatation in that case.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/244336905","html_url":"https://github.com/elastic/elasticsearch/issues/17220#issuecomment-244336905","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17220","id":244336905,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NDMzNjkwNQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-09-02T10:09:14Z","updated_at":"2016-09-02T10:09:14Z","author_association":"CONTRIBUTOR","body":"Discussed in FixitFriday, agreed with https://github.com/elastic/elasticsearch/issues/17220#issuecomment-199682001,, especially given that having logs in a standard place makes it easier for our diagnostic tools to capture them\n","performed_via_github_app":null}]