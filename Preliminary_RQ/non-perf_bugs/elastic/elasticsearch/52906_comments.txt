[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/592090690","html_url":"https://github.com/elastic/elasticsearch/issues/52906#issuecomment-592090690","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52906","id":592090690,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjA5MDY5MA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-02-27T17:50:07Z","updated_at":"2020-02-27T17:50:07Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed (:Distributed/Snapshot/Restore)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/592111921","html_url":"https://github.com/elastic/elasticsearch/issues/52906#issuecomment-592111921","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52906","id":592111921,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjExMTkyMQ==","user":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"created_at":"2020-02-27T18:37:14Z","updated_at":"2020-02-27T18:37:14Z","author_association":"MEMBER","body":"This is very likely yet another instance of a JDK bug.\r\nSee https://github.com/elastic/elasticsearch/pull/51933 for explanation and fix. I'll try to track it down today before my vacation.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/592121024","html_url":"https://github.com/elastic/elasticsearch/issues/52906#issuecomment-592121024","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52906","id":592121024,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjEyMTAyNA==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2020-02-27T18:57:05Z","updated_at":"2020-02-27T18:57:05Z","author_association":"MEMBER","body":"This one looks like it *might* be related: https://gradle-enterprise.elastic.co/s/vrjiq7uidkdv4 it has the same `Read timed out` error, but a different (410) exception. I don't see the assertion tripping, but it could also be not provided in the output.\r\n\r\nLet me know if it looks related or whether I should open a new issue for it.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/592122970","html_url":"https://github.com/elastic/elasticsearch/issues/52906#issuecomment-592122970","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52906","id":592122970,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjEyMjk3MA==","user":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"created_at":"2020-02-27T19:01:12Z","updated_at":"2020-02-27T19:01:12Z","author_association":"MEMBER","body":"@dakrone thanks for posting that one. It's related and explains the issue perfectly :) Somehow we're failing to fully drain a stream there ... ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/592158517","html_url":"https://github.com/elastic/elasticsearch/issues/52906#issuecomment-592158517","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52906","id":592158517,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjE1ODUxNw==","user":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"created_at":"2020-02-27T20:20:55Z","updated_at":"2020-02-27T20:20:55Z","author_association":"MEMBER","body":"@tlrx I don't have any more time to look into this one I'm afraid. Maybe you can have a look next week while I'm away?\r\n\r\nThis is definitely the same assertion from https://bugs.openjdk.java.net/browse/JDK-8180754 but I can't find a spot where we wouldn't drain the input stream before writing the response at this point.\r\nMy suggestion would be to maybe not waste too much time and simply skip these tests on JDK-8.\r\nI haven't seen this fail on anything but JDK-8 and that's in line with the open JDK bug that seems to only apply to 8. If we just skip 8 we retain all the coverage and this ordeal is finally over with :D ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/592200359","html_url":"https://github.com/elastic/elasticsearch/issues/52906#issuecomment-592200359","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52906","id":592200359,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjIwMDM1OQ==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2020-02-27T22:05:09Z","updated_at":"2020-02-27T22:05:09Z","author_association":"MEMBER","body":"This one failed again https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.x+periodic/833/console / https://gradle-enterprise.elastic.co/s/7bhod6xfqi5us\r\n\r\nI'm going to mute it for now.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/594638448","html_url":"https://github.com/elastic/elasticsearch/issues/52906#issuecomment-594638448","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52906","id":594638448,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDYzODQ0OA==","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2020-03-04T16:17:36Z","updated_at":"2020-03-04T16:17:36Z","author_association":"MEMBER","body":"I've spent some time today trying to reproduce locally with the same OS/JDK that almost all the test failures on CI and I did not reproduce the failure. I also looked at the code and saw nothing worrying, all the streams seem to be correctly closed. I've also not found any message in tests execution logs that could indicate that we were not fully draining the request's input stream. I verified the stats and I agree it only failed on JDK-8.\r\n\r\nThus, I'm following your suggestion Armin and opened #53119 to mute the tests on JDK8.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/595109682","html_url":"https://github.com/elastic/elasticsearch/issues/52906#issuecomment-595109682","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52906","id":595109682,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTEwOTY4Mg==","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2020-03-05T09:02:36Z","updated_at":"2020-03-05T09:02:36Z","author_association":"MEMBER","body":"Tests muted for JDK8 in #53119 ","performed_via_github_app":null}]