[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/302331182","html_url":"https://github.com/elastic/elasticsearch/issues/24755#issuecomment-302331182","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24755","id":302331182,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjMzMTE4Mg==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2017-05-18T08:02:00Z","updated_at":"2017-05-18T08:02:00Z","author_association":"CONTRIBUTOR","body":"What filesystem are you using for your `data/` dir?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/302332748","html_url":"https://github.com/elastic/elasticsearch/issues/24755#issuecomment-302332748","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24755","id":302332748,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjMzMjc0OA==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2017-05-18T08:09:42Z","updated_at":"2017-05-18T08:09:42Z","author_association":"CONTRIBUTOR","body":"I think this is still related to java issues on mac OS related to fsync... [here](http://mail.openjdk.java.net/pipermail/nio-dev/2015-May/003156.html) is an example where this was raised on the mailing list and it should be fixed in JDK9 if I read [this](https://bugs.openjdk.java.net/browse/JDK-8084262) correctly","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/302341800","html_url":"https://github.com/elastic/elasticsearch/issues/24755#issuecomment-302341800","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24755","id":302341800,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjM0MTgwMA==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2017-05-18T08:48:56Z","updated_at":"2017-05-18T08:48:56Z","author_association":"MEMBER","body":"I looked at the logs and agree with Simon that this is consistent with the translog file not being fsynced correctly and as a result it was trimmed due to the unexpected shutdown. I also read the JDK9 fix in the same way.\r\n\r\nSince this is the only copy of the data, the only way to recover is to use the [translog trimming tool](https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules-translog.html#corrupt-translog-truncation) to be able to recover the data from the lucene index and accept that the data in the translog is lost.\r\n\r\nSadly, I think we should close the issue as there is nothing much we can do on our end. @s1monw do you agree?\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/302428517","html_url":"https://github.com/elastic/elasticsearch/issues/24755#issuecomment-302428517","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24755","id":302428517,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjQyODUxNw==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2017-05-18T14:53:38Z","updated_at":"2017-05-18T14:53:38Z","author_association":"CONTRIBUTOR","body":"I agree @bleskes ","performed_via_github_app":null}]