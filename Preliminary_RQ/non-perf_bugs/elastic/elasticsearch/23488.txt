{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/23488","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23488/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23488/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23488/events","html_url":"https://github.com/elastic/elasticsearch/issues/23488","id":211976278,"node_id":"MDU6SXNzdWUyMTE5NzYyNzg=","number":23488,"title":"Allow multiple similar scores being returned","user":{"login":"firstprayer","id":2390732,"node_id":"MDQ6VXNlcjIzOTA3MzI=","avatar_url":"https://avatars2.githubusercontent.com/u/2390732?v=4","gravatar_id":"","url":"https://api.github.com/users/firstprayer","html_url":"https://github.com/firstprayer","followers_url":"https://api.github.com/users/firstprayer/followers","following_url":"https://api.github.com/users/firstprayer/following{/other_user}","gists_url":"https://api.github.com/users/firstprayer/gists{/gist_id}","starred_url":"https://api.github.com/users/firstprayer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/firstprayer/subscriptions","organizations_url":"https://api.github.com/users/firstprayer/orgs","repos_url":"https://api.github.com/users/firstprayer/repos","events_url":"https://api.github.com/users/firstprayer/events{/privacy}","received_events_url":"https://api.github.com/users/firstprayer/received_events","type":"User","site_admin":false},"labels":[{"id":146832564,"node_id":"MDU6TGFiZWwxNDY4MzI1NjQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Search","name":":Search/Search","color":"0e8a16","default":false,"description":"Search-related issues that do not fall into other categories"},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-03-05T19:32:00Z","updated_at":"2018-02-14T13:43:47Z","closed_at":"2017-05-24T11:51:31Z","author_association":"NONE","active_lock_reason":null,"body":"Looking through the docs it seems there isn't a way to returning multiple similarity scores for retrieved documents so making the feature requests here (if this is supported please close this issue).\r\n\r\nBasically what I want is, when doing the search, returning top-relevant documents based on BM25 score (the default strategy), but in the meantime, also compute other similarity scores for those documents (such as TF-IDF similarity, DFI similarity), and returned them as part of the results for each document.\r\n\r\nReason why we need this being - we'd like to use BM25 for an initial retrieve, then do fine-tuning on the retrieved set on our side. We'd like to use learning-to-rank algorithm and we want to use BM25 score, TF-IDF score, DFI score, etc, as part of the features. \r\n\r\nWhile it's possible to do the calculation in our end - say, for TF-IDF we can just fetch the termVector for each document, and then do the computation manually - I feel it's much ideal if we can get this done with ElasticSearch, since it has all the data it need to do the computation.\r\n\r\nI'm thinking about having something like\r\n```\r\n{\r\n  fieldName: {\r\n     type: \"text\",\r\n     similarity: \"BM25\",\r\n     extra_similarity: [\"classic\", \"dfi\"],\r\n  }\r\n}\r\n```\r\n\r\nThen in the returned results:\r\n\r\n```\r\n{_score: bm25Score, _extra_scores: {classic: ..., dfi: ...}}\r\n```\r\n\r\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}