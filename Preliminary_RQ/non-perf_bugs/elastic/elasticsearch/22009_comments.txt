[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/265273930","html_url":"https://github.com/elastic/elasticsearch/issues/22009#issuecomment-265273930","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22009","id":265273930,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NTI3MzkzMA==","user":{"login":"niemyjski","id":1020579,"node_id":"MDQ6VXNlcjEwMjA1Nzk=","avatar_url":"https://avatars3.githubusercontent.com/u/1020579?v=4","gravatar_id":"","url":"https://api.github.com/users/niemyjski","html_url":"https://github.com/niemyjski","followers_url":"https://api.github.com/users/niemyjski/followers","following_url":"https://api.github.com/users/niemyjski/following{/other_user}","gists_url":"https://api.github.com/users/niemyjski/gists{/gist_id}","starred_url":"https://api.github.com/users/niemyjski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niemyjski/subscriptions","organizations_url":"https://api.github.com/users/niemyjski/orgs","repos_url":"https://api.github.com/users/niemyjski/repos","events_url":"https://api.github.com/users/niemyjski/events{/privacy}","received_events_url":"https://api.github.com/users/niemyjski/received_events","type":"User","site_admin":false},"created_at":"2016-12-06T21:13:12Z","updated_at":"2016-12-06T21:14:27Z","author_association":"CONTRIBUTOR","body":"Seems specifying any value for `missing` doesn't work. I also tried `\"include\": 1` and that blew up with \r\n\r\n```json\r\n{\r\n  \"error\": {\r\n    \"root_cause\": [\r\n      {\r\n        \"type\": \"parsing_exception\",\r\n        \"reason\": \"Unexpected token VALUE_NUMBER [include] in [terms_is_first_occurrence].\",\r\n        \"line\": 7,\r\n        \"col\": 20\r\n      }\r\n    ],\r\n    \"type\": \"parsing_exception\",\r\n    \"reason\": \"Unexpected token VALUE_NUMBER [include] in [terms_is_first_occurrence].\",\r\n    \"line\": 7,\r\n    \"col\": 20\r\n  },\r\n  \"status\": 400\r\n}`\r\n```\r\n\r\nDoing `\"include\": true` gives\r\n\r\n```json\r\n{\r\n  \"error\": {\r\n    \"root_cause\": [\r\n      {\r\n        \"type\": \"parsing_exception\",\r\n        \"reason\": \"Unexpected token VALUE_BOOLEAN [include] in [terms_is_first_occurrence].\",\r\n        \"line\": 7,\r\n        \"col\": 20\r\n      }\r\n    ],\r\n    \"type\": \"parsing_exception\",\r\n    \"reason\": \"Unexpected token VALUE_BOOLEAN [include] in [terms_is_first_occurrence].\",\r\n    \"line\": 7,\r\n    \"col\": 20\r\n  },\r\n  \"status\": 400\r\n}\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/265407505","html_url":"https://github.com/elastic/elasticsearch/issues/22009#issuecomment-265407505","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22009","id":265407505,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NTQwNzUwNQ==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-12-07T10:09:51Z","updated_at":"2016-12-07T10:09:51Z","author_association":"CONTRIBUTOR","body":"Thanks for the bug report. I can reproduce the issue that you describe.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/265562839","html_url":"https://github.com/elastic/elasticsearch/issues/22009#issuecomment-265562839","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22009","id":265562839,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NTU2MjgzOQ==","user":{"login":"telser","id":36592,"node_id":"MDQ6VXNlcjM2NTky","avatar_url":"https://avatars3.githubusercontent.com/u/36592?v=4","gravatar_id":"","url":"https://api.github.com/users/telser","html_url":"https://github.com/telser","followers_url":"https://api.github.com/users/telser/followers","following_url":"https://api.github.com/users/telser/following{/other_user}","gists_url":"https://api.github.com/users/telser/gists{/gist_id}","starred_url":"https://api.github.com/users/telser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/telser/subscriptions","organizations_url":"https://api.github.com/users/telser/orgs","repos_url":"https://api.github.com/users/telser/repos","events_url":"https://api.github.com/users/telser/events{/privacy}","received_events_url":"https://api.github.com/users/telser/received_events","type":"User","site_admin":false},"created_at":"2016-12-07T20:24:05Z","updated_at":"2016-12-07T20:24:05Z","author_association":"NONE","body":"Also hit this bug, we see it for text fields and boolean fields. Really confusing issue.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/265566750","html_url":"https://github.com/elastic/elasticsearch/issues/22009#issuecomment-265566750","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22009","id":265566750,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NTU2Njc1MA==","user":{"login":"drewboardman","id":8429384,"node_id":"MDQ6VXNlcjg0MjkzODQ=","avatar_url":"https://avatars1.githubusercontent.com/u/8429384?v=4","gravatar_id":"","url":"https://api.github.com/users/drewboardman","html_url":"https://github.com/drewboardman","followers_url":"https://api.github.com/users/drewboardman/followers","following_url":"https://api.github.com/users/drewboardman/following{/other_user}","gists_url":"https://api.github.com/users/drewboardman/gists{/gist_id}","starred_url":"https://api.github.com/users/drewboardman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drewboardman/subscriptions","organizations_url":"https://api.github.com/users/drewboardman/orgs","repos_url":"https://api.github.com/users/drewboardman/repos","events_url":"https://api.github.com/users/drewboardman/events{/privacy}","received_events_url":"https://api.github.com/users/drewboardman/received_events","type":"User","site_admin":false},"created_at":"2016-12-07T20:39:58Z","updated_at":"2016-12-07T20:41:12Z","author_association":"NONE","body":"Hit this bug as well. We discovered it does not throw an error with `keywordField` types.\r\n\r\n    \"aggregations\" : {\r\n    \"statuses\" : {\r\n      \"terms\" : {\r\n        \"field\" : \"myIntField\",\r\n        \"missing\" : \"other\"\r\n      }\r\n    }\r\n\r\nreturns\r\n\r\n      \"error\": {\r\n          \"root_cause\": [\r\n            {\r\n              \"type\": \"illegal_argument_exception\",\r\n              \"reason\": \"Field [myIntField] of type [integer] does not support custom time zones\"\r\n            }\r\n          ],\r\n          \"type\": \"search_phase_execution_exception\",\r\n          \"reason\": \"all shards failed\",\r\n          \"phase\": \"query\",\r\n          \"grouped\": true,\r\n          \"failed_shards\": [\r\n            {\r\n              \"shard\": 0,\r\n              \"index\": \"production_index\",\r\n              \"node\": \"myNode\",\r\n              \"reason\": {\r\n                \"type\": \"illegal_argument_exception\",\r\n                \"reason\": \"Field [myIntField] of type [integer] does not support custom time zones\"\r\n              }\r\n            }\r\n          ],\r\n          \"caused_by\": {\r\n            \"type\": \"illegal_argument_exception\",\r\n            \"reason\": \"Field [myIntField] of type [integer] does not support custom time zones\"\r\n          }\r\n        },\r\n        \"status\": 400\r\n      }","performed_via_github_app":null}]