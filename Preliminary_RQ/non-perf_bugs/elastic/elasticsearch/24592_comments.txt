[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/300536498","html_url":"https://github.com/elastic/elasticsearch/issues/24592#issuecomment-300536498","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24592","id":300536498,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMDUzNjQ5OA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2017-05-10T16:23:23Z","updated_at":"2017-05-10T16:23:23Z","author_association":"CONTRIBUTOR","body":"@elastic/es-clients please could you comment","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/300544082","html_url":"https://github.com/elastic/elasticsearch/issues/24592#issuecomment-300544082","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24592","id":300544082,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMDU0NDA4Mg==","user":{"login":"Mpdreamz","id":245275,"node_id":"MDQ6VXNlcjI0NTI3NQ==","avatar_url":"https://avatars3.githubusercontent.com/u/245275?v=4","gravatar_id":"","url":"https://api.github.com/users/Mpdreamz","html_url":"https://github.com/Mpdreamz","followers_url":"https://api.github.com/users/Mpdreamz/followers","following_url":"https://api.github.com/users/Mpdreamz/following{/other_user}","gists_url":"https://api.github.com/users/Mpdreamz/gists{/gist_id}","starred_url":"https://api.github.com/users/Mpdreamz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Mpdreamz/subscriptions","organizations_url":"https://api.github.com/users/Mpdreamz/orgs","repos_url":"https://api.github.com/users/Mpdreamz/repos","events_url":"https://api.github.com/users/Mpdreamz/events{/privacy}","received_events_url":"https://api.github.com/users/Mpdreamz/received_events","type":"User","site_admin":false},"created_at":"2017-05-10T16:49:50Z","updated_at":"2017-05-10T16:49:50Z","author_association":"MEMBER","body":"Gut knee jerk reaction: not a fan of the `append` nomer. \r\n\r\nHow about \r\n\r\nPOST /{index}/_doc(ument)/{id} \r\nPUT  /{index}/_doc(ument)\r\n\r\nAs the new canonical for the index API? In the interim we could keep supporting /{index}/{type}/{id} and if someone really needs to store `_document` typed docs create a as flag for that in 6?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/300605119","html_url":"https://github.com/elastic/elasticsearch/issues/24592#issuecomment-300605119","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24592","id":300605119,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMDYwNTExOQ==","user":{"login":"spalger","id":1329312,"node_id":"MDQ6VXNlcjEzMjkzMTI=","avatar_url":"https://avatars1.githubusercontent.com/u/1329312?v=4","gravatar_id":"","url":"https://api.github.com/users/spalger","html_url":"https://github.com/spalger","followers_url":"https://api.github.com/users/spalger/followers","following_url":"https://api.github.com/users/spalger/following{/other_user}","gists_url":"https://api.github.com/users/spalger/gists{/gist_id}","starred_url":"https://api.github.com/users/spalger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spalger/subscriptions","organizations_url":"https://api.github.com/users/spalger/orgs","repos_url":"https://api.github.com/users/spalger/repos","events_url":"https://api.github.com/users/spalger/events{/privacy}","received_events_url":"https://api.github.com/users/spalger/received_events","type":"User","site_admin":false},"created_at":"2017-05-10T20:37:24Z","updated_at":"2017-05-10T20:37:24Z","author_association":"MEMBER","body":"I like the idea of separating `index` and `append` operations so that the automatic-id assignment is more clear, but I'm not sold on the name. That said, the only option I **don't** like is the qs parameter.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/300609962","html_url":"https://github.com/elastic/elasticsearch/issues/24592#issuecomment-300609962","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24592","id":300609962,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMDYwOTk2Mg==","user":{"login":"HonzaKral","id":32132,"node_id":"MDQ6VXNlcjMyMTMy","avatar_url":"https://avatars0.githubusercontent.com/u/32132?v=4","gravatar_id":"","url":"https://api.github.com/users/HonzaKral","html_url":"https://github.com/HonzaKral","followers_url":"https://api.github.com/users/HonzaKral/followers","following_url":"https://api.github.com/users/HonzaKral/following{/other_user}","gists_url":"https://api.github.com/users/HonzaKral/gists{/gist_id}","starred_url":"https://api.github.com/users/HonzaKral/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HonzaKral/subscriptions","organizations_url":"https://api.github.com/users/HonzaKral/orgs","repos_url":"https://api.github.com/users/HonzaKral/repos","events_url":"https://api.github.com/users/HonzaKral/events{/privacy}","received_events_url":"https://api.github.com/users/HonzaKral/received_events","type":"User","site_admin":false},"created_at":"2017-05-10T20:56:29Z","updated_at":"2017-05-10T20:56:29Z","author_association":"MEMBER","body":"Note that with this schema we are limiting what ids are valid - anything that is a valid endpoint (`_settings`, `_refresh`, ...) will no longer be a valid document id. Currently there is no such requirement and it can even contain `/` character. While we are doing this it might be worth to have a discussion around what constitutes a valid document id.\r\n\r\nI would love to see more something like `PUT {index}/_auto` - just use the `_auto` (or any other `_word`) in place of the ID and finally end the difference between `POST` and `PUT` that only exists with this API. Essentially just have a special value for the document id meaning elasticsearch should just make one up.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/300613534","html_url":"https://github.com/elastic/elasticsearch/issues/24592#issuecomment-300613534","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24592","id":300613534,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMDYxMzUzNA==","user":{"login":"pickypg","id":1501235,"node_id":"MDQ6VXNlcjE1MDEyMzU=","avatar_url":"https://avatars2.githubusercontent.com/u/1501235?v=4","gravatar_id":"","url":"https://api.github.com/users/pickypg","html_url":"https://github.com/pickypg","followers_url":"https://api.github.com/users/pickypg/followers","following_url":"https://api.github.com/users/pickypg/following{/other_user}","gists_url":"https://api.github.com/users/pickypg/gists{/gist_id}","starred_url":"https://api.github.com/users/pickypg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pickypg/subscriptions","organizations_url":"https://api.github.com/users/pickypg/orgs","repos_url":"https://api.github.com/users/pickypg/repos","events_url":"https://api.github.com/users/pickypg/events{/privacy}","received_events_url":"https://api.github.com/users/pickypg/received_events","type":"User","site_admin":false},"created_at":"2017-05-10T21:10:08Z","updated_at":"2017-05-10T21:10:08Z","author_association":"MEMBER","body":"If we default the `_type` to `doc`, then what's the plan for 7.x? Deprecate `/{index}/doc/{id}` in favor of `/{index}/{id}` or forever live with doc there? It seems like that would be hard to \"fix\" without being totally disruptive in 7.x.\r\n\r\n> In ES 7 (which won't have any types), we could just ignore the setting (or throw an exception if it is set to true)\r\n\r\nThe query string parameter seems like it might be the most favorable in terms of stripping it in 7.x and blocking requests in the future. Especially since we automatically block requests with unused parameters, this seems like the most appropriate way to get this done.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/300615067","html_url":"https://github.com/elastic/elasticsearch/issues/24592#issuecomment-300615067","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24592","id":300615067,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMDYxNTA2Nw==","user":{"login":"pickypg","id":1501235,"node_id":"MDQ6VXNlcjE1MDEyMzU=","avatar_url":"https://avatars2.githubusercontent.com/u/1501235?v=4","gravatar_id":"","url":"https://api.github.com/users/pickypg","html_url":"https://github.com/pickypg","followers_url":"https://api.github.com/users/pickypg/followers","following_url":"https://api.github.com/users/pickypg/following{/other_user}","gists_url":"https://api.github.com/users/pickypg/gists{/gist_id}","starred_url":"https://api.github.com/users/pickypg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pickypg/subscriptions","organizations_url":"https://api.github.com/users/pickypg/orgs","repos_url":"https://api.github.com/users/pickypg/repos","events_url":"https://api.github.com/users/pickypg/events{/privacy}","received_events_url":"https://api.github.com/users/pickypg/received_events","type":"User","site_admin":false},"created_at":"2017-05-10T21:16:22Z","updated_at":"2017-05-10T21:16:59Z","author_association":"MEMBER","body":"To continue with that thought, in 7.x we'd have to _block_ sending `{id}` with a `POST` request so that 6.x users sending a `_type` can't accidentally continue to use the same API.\r\n\r\n```http\r\nPOST /my-index/my-type\r\n{ }\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/300616575","html_url":"https://github.com/elastic/elasticsearch/issues/24592#issuecomment-300616575","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24592","id":300616575,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMDYxNjU3NQ==","user":{"login":"HonzaKral","id":32132,"node_id":"MDQ6VXNlcjMyMTMy","avatar_url":"https://avatars0.githubusercontent.com/u/32132?v=4","gravatar_id":"","url":"https://api.github.com/users/HonzaKral","html_url":"https://github.com/HonzaKral","followers_url":"https://api.github.com/users/HonzaKral/followers","following_url":"https://api.github.com/users/HonzaKral/following{/other_user}","gists_url":"https://api.github.com/users/HonzaKral/gists{/gist_id}","starred_url":"https://api.github.com/users/HonzaKral/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HonzaKral/subscriptions","organizations_url":"https://api.github.com/users/HonzaKral/orgs","repos_url":"https://api.github.com/users/HonzaKral/repos","events_url":"https://api.github.com/users/HonzaKral/events{/privacy}","received_events_url":"https://api.github.com/users/HonzaKral/received_events","type":"User","site_admin":false},"created_at":"2017-05-10T21:22:43Z","updated_at":"2017-05-10T21:22:43Z","author_association":"MEMBER","body":"For sending types in `6.x` I would much prefer to move the `_type` into a query string rather than have 2 different versions of the url with a qs parameter distinguishing them - we could even add that to the last `5.x` release (if there is still going to be one) to make it fw compatible and ease the migration...","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/301447806","html_url":"https://github.com/elastic/elasticsearch/issues/24592#issuecomment-301447806","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24592","id":301447806,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMTQ0NzgwNg==","user":{"login":"Mpdreamz","id":245275,"node_id":"MDQ6VXNlcjI0NTI3NQ==","avatar_url":"https://avatars3.githubusercontent.com/u/245275?v=4","gravatar_id":"","url":"https://api.github.com/users/Mpdreamz","html_url":"https://github.com/Mpdreamz","followers_url":"https://api.github.com/users/Mpdreamz/followers","following_url":"https://api.github.com/users/Mpdreamz/following{/other_user}","gists_url":"https://api.github.com/users/Mpdreamz/gists{/gist_id}","starred_url":"https://api.github.com/users/Mpdreamz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Mpdreamz/subscriptions","organizations_url":"https://api.github.com/users/Mpdreamz/orgs","repos_url":"https://api.github.com/users/Mpdreamz/repos","events_url":"https://api.github.com/users/Mpdreamz/events{/privacy}","received_events_url":"https://api.github.com/users/Mpdreamz/received_events","type":"User","site_admin":false},"created_at":"2017-05-15T11:23:57Z","updated_at":"2017-05-15T11:23:57Z","author_association":"MEMBER","body":"Can someone reply to my suggestion? Not seeing how it would not work and it feels the least obtrusive moving forward.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/301709370","html_url":"https://github.com/elastic/elasticsearch/issues/24592#issuecomment-301709370","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24592","id":301709370,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMTcwOTM3MA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2017-05-16T08:15:20Z","updated_at":"2017-05-16T08:15:20Z","author_association":"CONTRIBUTOR","body":"@Mpdreamz I think I'm coming around to your suggestion, although semantically the methods are the wrong way around, they should be:\r\n\r\n    PUT /{index}/_doc/{id}\r\n    POST /{index}/_doc\r\n\r\nThis works nicely with (eg):\r\n\r\n    PUT /{index}/_alias/{name}\r\n    PUT /{index}/_settings\r\n\r\netc","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/301786948","html_url":"https://github.com/elastic/elasticsearch/issues/24592#issuecomment-301786948","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24592","id":301786948,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMTc4Njk0OA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2017-05-16T13:45:39Z","updated_at":"2017-05-16T13:45:39Z","author_association":"CONTRIBUTOR","body":"Would we also have `GET /{index}/_doc/{id}`? `PUT` and `GET` should line up whatever we do.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/301787946","html_url":"https://github.com/elastic/elasticsearch/issues/24592#issuecomment-301787946","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24592","id":301787946,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMTc4Nzk0Ng==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2017-05-16T13:48:44Z","updated_at":"2017-05-16T13:48:44Z","author_association":"CONTRIBUTOR","body":"> Would we also have GET /{index}/_doc/{id}? PUT and GET should line up whatever we do.\r\n\r\nmakes sense","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/307387597","html_url":"https://github.com/elastic/elasticsearch/issues/24592#issuecomment-307387597","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24592","id":307387597,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzM4NzU5Nw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2017-06-09T13:25:02Z","updated_at":"2017-06-09T13:25:02Z","author_association":"CONTRIBUTOR","body":"Closing in favour of https://github.com/elastic/elasticsearch/issues/15613","performed_via_github_app":null}]