[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/196894118","html_url":"https://github.com/elastic/elasticsearch/issues/17115#issuecomment-196894118","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17115","id":196894118,"node_id":"MDEyOklzc3VlQ29tbWVudDE5Njg5NDExOA==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2016-03-15T15:56:37Z","updated_at":"2016-03-15T15:56:37Z","author_association":"MEMBER","body":"looked at it a bit more, it seem like this requires full tree model representation of the output before it gets filtered, which is different compared to the \"stream\" filtering we do in filter path, so it will have memory implications.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/196896818","html_url":"https://github.com/elastic/elasticsearch/issues/17115#issuecomment-196896818","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17115","id":196896818,"node_id":"MDEyOklzc3VlQ29tbWVudDE5Njg5NjgxOA==","user":{"login":"rashidkpc","id":1250387,"node_id":"MDQ6VXNlcjEyNTAzODc=","avatar_url":"https://avatars1.githubusercontent.com/u/1250387?v=4","gravatar_id":"","url":"https://api.github.com/users/rashidkpc","html_url":"https://github.com/rashidkpc","followers_url":"https://api.github.com/users/rashidkpc/followers","following_url":"https://api.github.com/users/rashidkpc/following{/other_user}","gists_url":"https://api.github.com/users/rashidkpc/gists{/gist_id}","starred_url":"https://api.github.com/users/rashidkpc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rashidkpc/subscriptions","organizations_url":"https://api.github.com/users/rashidkpc/orgs","repos_url":"https://api.github.com/users/rashidkpc/repos","events_url":"https://api.github.com/users/rashidkpc/events{/privacy}","received_events_url":"https://api.github.com/users/rashidkpc/received_events","type":"User","site_admin":false},"created_at":"2016-03-15T16:02:21Z","updated_at":"2016-03-15T16:02:41Z","author_association":"NONE","body":"This would be amazing. Certainly has abuse implications, eg, using _search with a huge size to do aggregations on a bunch of _source fields, but would allow for some fantastic work arounds for less agreeable response structures. \n\nI'd love to have it, we might just need a sane limit on how big of an object could be loaded in the jq pipe.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/198312534","html_url":"https://github.com/elastic/elasticsearch/issues/17115#issuecomment-198312534","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17115","id":198312534,"node_id":"MDEyOklzc3VlQ29tbWVudDE5ODMxMjUzNA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-03-18T11:16:21Z","updated_at":"2016-03-18T11:16:21Z","author_association":"CONTRIBUTOR","body":"We talked about this in Fix It Friday and some concerns were raised.\n\nElasticsearch is designed to return small representations of your data. Using something like jq may well lead to abuse of this by hiding the size/complexity of the response behind the jq layer, which can have a performance and memory impact.\n\nWe already have response filtering which is efficient and simple.  jq has a syntax which means potentially dealing with syntax errors (which probably means a different response from the one the user expects)\n\nThis processing can obviously be done client side.  Is the resistance to doing this on the client because of network bandwidth?  If so, perhaps the answer is to enable HTTP compression by default instead (something which we are going to investigate https://github.com/elastic/elasticsearch/issues/7309)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/199304001","html_url":"https://github.com/elastic/elasticsearch/issues/17115#issuecomment-199304001","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17115","id":199304001,"node_id":"MDEyOklzc3VlQ29tbWVudDE5OTMwNDAwMQ==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2016-03-21T14:15:30Z","updated_at":"2016-03-21T14:15:30Z","author_association":"MEMBER","body":"I agree, this can be dangerous..., specifically with the amount of potential processing/memory it will require. Maybe we can have some examples of where this can be handy to begin with captured in this issue.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/299321700","html_url":"https://github.com/elastic/elasticsearch/issues/17115#issuecomment-299321700","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17115","id":299321700,"node_id":"MDEyOklzc3VlQ29tbWVudDI5OTMyMTcwMA==","user":{"login":"TheFrozenFire","id":948014,"node_id":"MDQ6VXNlcjk0ODAxNA==","avatar_url":"https://avatars1.githubusercontent.com/u/948014?v=4","gravatar_id":"","url":"https://api.github.com/users/TheFrozenFire","html_url":"https://github.com/TheFrozenFire","followers_url":"https://api.github.com/users/TheFrozenFire/followers","following_url":"https://api.github.com/users/TheFrozenFire/following{/other_user}","gists_url":"https://api.github.com/users/TheFrozenFire/gists{/gist_id}","starred_url":"https://api.github.com/users/TheFrozenFire/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TheFrozenFire/subscriptions","organizations_url":"https://api.github.com/users/TheFrozenFire/orgs","repos_url":"https://api.github.com/users/TheFrozenFire/repos","events_url":"https://api.github.com/users/TheFrozenFire/events{/privacy}","received_events_url":"https://api.github.com/users/TheFrozenFire/received_events","type":"User","site_admin":false},"created_at":"2017-05-04T22:01:57Z","updated_at":"2017-05-04T22:02:34Z","author_association":"NONE","body":"I've been looking for exactly this sort of feature. My organization does a lot of data reporting right out of ES. Right now, I'm having to maintain external tooling which queries ES and then runs the response through jq to produce the report format I need (such as converting to CSV).\r\n\r\nI would envision this being implemented as an additional script type like mustache, groovy, and painless. One could specify a jq filter script inline, indexed, or from a file. The jq filter could be specified as a response filter, which would be executed by the coordinating node to process the response body accordingly.\r\n\r\nI think that such functionality would come with the explicit instruction that when used, the response body becomes unpredictable and possibly non-JSON. As I don't use ES extensively, I admittedly don't know what the further-reaching implications of this would be. But, I don't see it as much different than having a load balancer in front of the coordinating nodes, and that balancer possibly returning unexpected output to HTTP requests.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/299493917","html_url":"https://github.com/elastic/elasticsearch/issues/17115#issuecomment-299493917","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17115","id":299493917,"node_id":"MDEyOklzc3VlQ29tbWVudDI5OTQ5MzkxNw==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2017-05-05T15:20:16Z","updated_at":"2017-05-05T15:20:16Z","author_association":"CONTRIBUTOR","body":"I don't think we're likely to work on this in the near future. Maybe never, given the whole tree processing thing. I love jq and it'd be super fun to have an implementation of it available but I don't think it is worth it and I know it isn't worth it at this time.","performed_via_github_app":null}]