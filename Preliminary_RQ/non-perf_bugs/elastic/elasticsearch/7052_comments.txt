[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/50481231","html_url":"https://github.com/elastic/elasticsearch/issues/7052#issuecomment-50481231","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7052","id":50481231,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDgxMjMx","user":{"login":"mikemccand","id":796508,"node_id":"MDQ6VXNlcjc5NjUwOA==","avatar_url":"https://avatars0.githubusercontent.com/u/796508?v=4","gravatar_id":"","url":"https://api.github.com/users/mikemccand","html_url":"https://github.com/mikemccand","followers_url":"https://api.github.com/users/mikemccand/followers","following_url":"https://api.github.com/users/mikemccand/following{/other_user}","gists_url":"https://api.github.com/users/mikemccand/gists{/gist_id}","starred_url":"https://api.github.com/users/mikemccand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikemccand/subscriptions","organizations_url":"https://api.github.com/users/mikemccand/orgs","repos_url":"https://api.github.com/users/mikemccand/repos","events_url":"https://api.github.com/users/mikemccand/events{/privacy}","received_events_url":"https://api.github.com/users/mikemccand/received_events","type":"User","site_admin":false},"created_at":"2014-07-29T14:16:06Z","updated_at":"2014-07-29T14:16:06Z","author_association":"CONTRIBUTOR","body":"We could use IndexWriter's tryDeleteDocument to delete by docID for each doc matching the query?  Typically it would be successful, and fast, if the reader used for searching is \"recent\"; when it fails to do the delete, you'd have to fall back to delete-by-Term.\n\nAlternatively, it's also possible to wrap any Query and \"spy on\" the communication between the consumer (IndexWriter in this case) and that query, to see all docIDs that were visited; this way we could continue to use IW's more efficient delete-by-Query, but gather up all docIDs that were in fact deleted.  But this is a more hairy/evil/complex solution... though I think Solr already has something doing this.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/68434846","html_url":"https://github.com/elastic/elasticsearch/issues/7052#issuecomment-68434846","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7052","id":68434846,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDM0ODQ2","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2014-12-31T10:41:52Z","updated_at":"2014-12-31T10:41:52Z","author_association":"CONTRIBUTOR","body":"Very nice: This would also allow to return the number of deleted documents to the consumer. So we can change the reply to include the document count. I sometimes have the problem that I need the count of deleted documents, which is hairy: You can first execute the query as count and later execute the delete, but this fails on high load because of non-atomicness.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/86663244","html_url":"https://github.com/elastic/elasticsearch/issues/7052#issuecomment-86663244","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7052","id":86663244,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjYzMjQ0","user":{"login":"mikemccand","id":796508,"node_id":"MDQ6VXNlcjc5NjUwOA==","avatar_url":"https://avatars0.githubusercontent.com/u/796508?v=4","gravatar_id":"","url":"https://api.github.com/users/mikemccand","html_url":"https://github.com/mikemccand","followers_url":"https://api.github.com/users/mikemccand/followers","following_url":"https://api.github.com/users/mikemccand/following{/other_user}","gists_url":"https://api.github.com/users/mikemccand/gists{/gist_id}","starred_url":"https://api.github.com/users/mikemccand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikemccand/subscriptions","organizations_url":"https://api.github.com/users/mikemccand/orgs","repos_url":"https://api.github.com/users/mikemccand/repos","events_url":"https://api.github.com/users/mikemccand/events{/privacy}","received_events_url":"https://api.github.com/users/mikemccand/received_events","type":"User","site_admin":false},"created_at":"2015-03-26T18:41:53Z","updated_at":"2015-03-26T18:41:53Z","author_association":"CONTRIBUTOR","body":"On #10067 @kimchy pointed out that we need not wait for task management API for this issue, i.e. we can just synchronously (in the user's current request) do the scan/scroll + bulk deletes...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/86665460","html_url":"https://github.com/elastic/elasticsearch/issues/7052#issuecomment-86665460","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7052","id":86665460,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjY1NDYw","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2015-03-26T18:47:18Z","updated_at":"2015-03-26T18:47:18Z","author_association":"CONTRIBUTOR","body":"+1\n\nThis also means the (incomplete) deprecation on delete-by-query APIs could be removed: #10082\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/87360387","html_url":"https://github.com/elastic/elasticsearch/issues/7052#issuecomment-87360387","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7052","id":87360387,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MzYwMzg3","user":{"login":"TwP","id":6323,"node_id":"MDQ6VXNlcjYzMjM=","avatar_url":"https://avatars0.githubusercontent.com/u/6323?v=4","gravatar_id":"","url":"https://api.github.com/users/TwP","html_url":"https://github.com/TwP","followers_url":"https://api.github.com/users/TwP/followers","following_url":"https://api.github.com/users/TwP/following{/other_user}","gists_url":"https://api.github.com/users/TwP/gists{/gist_id}","starred_url":"https://api.github.com/users/TwP/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TwP/subscriptions","organizations_url":"https://api.github.com/users/TwP/orgs","repos_url":"https://api.github.com/users/TwP/repos","events_url":"https://api.github.com/users/TwP/events{/privacy}","received_events_url":"https://api.github.com/users/TwP/received_events","type":"User","site_admin":false},"created_at":"2015-03-29T05:32:08Z","updated_at":"2015-03-29T05:32:08Z","author_association":"NONE","body":"As a user who is quite a big fan of delete-by-query, I'm very much hoping it can be implemented in Elasticsearch itself as a scan/scroll + bulk deletes. Moving the scan/scroll + bulk deletes logic into the client would create a bit of wasted network traffic. But if that is the solution moving forward, then so be it. My vote is to keep the current API in place and change the underlying implementation.\n\nOut of perverse curiosity .. with a client side solution, can the bulk deletes happen in parallel with the scroll/scan operations? As a set of documents are returned by the call to `/_search/scroll`, can those documents immediately be deleted via bulk delete operations? Or would I need to complete the entire scan and _then_ delete documents.\n\nWill Elasticsearch be unhappy if we start deleting the data that it is currently iterating over.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/87369561","html_url":"https://github.com/elastic/elasticsearch/issues/7052#issuecomment-87369561","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7052","id":87369561,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MzY5NTYx","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2015-03-29T08:09:47Z","updated_at":"2015-03-29T08:09:47Z","author_association":"CONTRIBUTOR","body":"Hi @TwP, \nyou can do the scan and scroll in parallel. Scan and scroll uses the IndexReader openend at the time of the query and keeps it open. Deletes happening while scrolling will not be visible to this IndexReader until scrolling is done. All other search queries (or other scrolls) in parallel will see the deletes, of course. While scrolling you see a consistent view on the index.\n\nI agree, we should keep the current API and implement the scan-scroll-delete behind the API (please also keep the Java API, not only the REST API (RequestBuilders,...). I am also a big fan of this API. One good thing would be: the delete-by-query can now return the number of deleted documents, which would be great, so I would be happy if the DeleteByQueryResponse would contain a \"long getCount()\"!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/87371747","html_url":"https://github.com/elastic/elasticsearch/issues/7052#issuecomment-87371747","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7052","id":87371747,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MzcxNzQ3","user":{"login":"mikemccand","id":796508,"node_id":"MDQ6VXNlcjc5NjUwOA==","avatar_url":"https://avatars0.githubusercontent.com/u/796508?v=4","gravatar_id":"","url":"https://api.github.com/users/mikemccand","html_url":"https://github.com/mikemccand","followers_url":"https://api.github.com/users/mikemccand/followers","following_url":"https://api.github.com/users/mikemccand/following{/other_user}","gists_url":"https://api.github.com/users/mikemccand/gists{/gist_id}","starred_url":"https://api.github.com/users/mikemccand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikemccand/subscriptions","organizations_url":"https://api.github.com/users/mikemccand/orgs","repos_url":"https://api.github.com/users/mikemccand/repos","events_url":"https://api.github.com/users/mikemccand/events{/privacy}","received_events_url":"https://api.github.com/users/mikemccand/received_events","type":"User","site_admin":false},"created_at":"2015-03-29T08:38:17Z","updated_at":"2015-03-29T08:38:17Z","author_association":"CONTRIBUTOR","body":"> you can do the scan and scroll in parallel. \n\nThat's right: scan/scroll gives you a point-in-time view of the index.  It won't see any changes that happened after that time, as long as you keep the scroll \"alive\".\n\n>  I'm very much hoping it can be implemented in Elasticsearch itself as a scan/scroll + bulk deletes.\n\nThis is the plan... AbstractClient's deleteByQuery methods will be changed to final methods that do the scan/scroll + bulk delete.\n\n> please also keep the Java API, not only the REST API (RequestBuilders,...).\n\nYeah this is also now the plan...\n\n> the delete-by-query can now return the number of deleted documents, which would be great, so I would be happy if the DeleteByQueryResponse would contain a \"long getCount()\"!\n\nOK I'll add that, and also \"int getCount()\" to each IndexDeleteByQueryResponse, because you can pass multiple index names to DBQ.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/87378444","html_url":"https://github.com/elastic/elasticsearch/issues/7052#issuecomment-87378444","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7052","id":87378444,"node_id":"MDEyOklzc3VlQ29tbWVudDg3Mzc4NDQ0","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2015-03-29T09:32:02Z","updated_at":"2015-03-29T09:32:02Z","author_association":"CONTRIBUTOR","body":"This just came into my mind: I already implemented the bulk delete stuff locally (in Java client, see https://sourceforge.net/p/panfmp/code/647/tree//main/trunk/src/de/pangaea/metadataportal/processor/DocumentProcessor.java?diff=516c2e8d5fcbc9791083b0a3:646 for example). For the given code version numbers are not really a problem, but for the deleteByQuery API to be consistent, it should execute scan-scroll and collect all doc ids AND version (!!!) numbers. When doing the bulk delete, each of this deletes should use the version number as returned by the scan-scroll, otherwise it could happen that updates/inserts of a concurrent indexing are destroyed.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/87378477","html_url":"https://github.com/elastic/elasticsearch/issues/7052#issuecomment-87378477","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7052","id":87378477,"node_id":"MDEyOklzc3VlQ29tbWVudDg3Mzc4NDc3","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2015-03-29T09:33:10Z","updated_at":"2015-03-29T09:33:10Z","author_association":"MEMBER","body":"@uschindler aye, it should be implemented similar to what we do with single document update, so for example, making sure to handle parent and routing into account\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/87691055","html_url":"https://github.com/elastic/elasticsearch/issues/7052#issuecomment-87691055","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7052","id":87691055,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NjkxMDU1","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2015-03-30T14:03:29Z","updated_at":"2015-03-30T14:03:29Z","author_association":"CONTRIBUTOR","body":"I think we should split the problems into engine level and shard level. The shard level problems (consistency between replica and primary) can be solved in a different PR than the engine level problems.\n\n I think we should take babysteps here and implement the deletion as a simple lucene search inside the engine and keep on using the query inside the transaction log etc. just keep everything as it is exception of iterating the hits inside the engine and delete them one by one. Also replication stays the same for now. This solves the refresh problem as well as the OOM etc. we can also utilize `IW#tryDeleteDocument` to speed up things. \n\nThe shard level problem is a bigger one and should maybe be solved by using sequence IDs (delete after) or a lock on the shard level that prevents any other changes to happen concurrently on both replica and primaries. \n\nSolving the issue on the engine level lets up make progress on the right level IMO and we can fix the distributed system problems on the layer where they are happening. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/87753741","html_url":"https://github.com/elastic/elasticsearch/issues/7052#issuecomment-87753741","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7052","id":87753741,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NzUzNzQx","user":{"login":"mikemccand","id":796508,"node_id":"MDQ6VXNlcjc5NjUwOA==","avatar_url":"https://avatars0.githubusercontent.com/u/796508?v=4","gravatar_id":"","url":"https://api.github.com/users/mikemccand","html_url":"https://github.com/mikemccand","followers_url":"https://api.github.com/users/mikemccand/followers","following_url":"https://api.github.com/users/mikemccand/following{/other_user}","gists_url":"https://api.github.com/users/mikemccand/gists{/gist_id}","starred_url":"https://api.github.com/users/mikemccand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikemccand/subscriptions","organizations_url":"https://api.github.com/users/mikemccand/orgs","repos_url":"https://api.github.com/users/mikemccand/repos","events_url":"https://api.github.com/users/mikemccand/events{/privacy}","received_events_url":"https://api.github.com/users/mikemccand/received_events","type":"User","site_admin":false},"created_at":"2015-03-30T17:09:47Z","updated_at":"2015-03-30T17:09:47Z","author_association":"CONTRIBUTOR","body":"> I think we should split the problems into engine level and shard level. \n\n+1: if we can really decouple the two (engine impl vs shard consistency), that's wonderful.  I can tackle the engine level, to fix the OOME during concurrent indexing (#6025).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/88079850","html_url":"https://github.com/elastic/elasticsearch/issues/7052#issuecomment-88079850","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7052","id":88079850,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDc5ODUw","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2015-03-31T13:16:59Z","updated_at":"2015-03-31T13:16:59Z","author_association":"CONTRIBUTOR","body":"@mikemccand to be honest I think we should just stop indexing for the duration of the delete by query. Simple solution though...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/111141699","html_url":"https://github.com/elastic/elasticsearch/issues/7052#issuecomment-111141699","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7052","id":111141699,"node_id":"MDEyOklzc3VlQ29tbWVudDExMTE0MTY5OQ==","user":{"login":"nariman-haghighi","id":544521,"node_id":"MDQ6VXNlcjU0NDUyMQ==","avatar_url":"https://avatars1.githubusercontent.com/u/544521?v=4","gravatar_id":"","url":"https://api.github.com/users/nariman-haghighi","html_url":"https://github.com/nariman-haghighi","followers_url":"https://api.github.com/users/nariman-haghighi/followers","following_url":"https://api.github.com/users/nariman-haghighi/following{/other_user}","gists_url":"https://api.github.com/users/nariman-haghighi/gists{/gist_id}","starred_url":"https://api.github.com/users/nariman-haghighi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nariman-haghighi/subscriptions","organizations_url":"https://api.github.com/users/nariman-haghighi/orgs","repos_url":"https://api.github.com/users/nariman-haghighi/repos","events_url":"https://api.github.com/users/nariman-haghighi/events{/privacy}","received_events_url":"https://api.github.com/users/nariman-haghighi/received_events","type":"User","site_admin":false},"created_at":"2015-06-11T13:49:15Z","updated_at":"2015-06-11T13:49:15Z","author_association":"NONE","body":"To echo @TwP's sentiment, this is a massively common API that many teams use regularly to delete thousands of documents. Moving this to the client or deprecating it outright would be an utter disaster. A new server-side implementation that preserves the API is the only sensible path, please provide some final guidance on this so we can plan appropriately. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/111157802","html_url":"https://github.com/elastic/elasticsearch/issues/7052#issuecomment-111157802","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7052","id":111157802,"node_id":"MDEyOklzc3VlQ29tbWVudDExMTE1NzgwMg==","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2015-06-11T14:41:38Z","updated_at":"2015-06-11T14:41:38Z","author_association":"MEMBER","body":"@nariman-haghighi you may be interested in #11516 and #11584.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/118458876","html_url":"https://github.com/elastic/elasticsearch/issues/7052#issuecomment-118458876","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7052","id":118458876,"node_id":"MDEyOklzc3VlQ29tbWVudDExODQ1ODg3Ng==","user":{"login":"traviscollins","id":923065,"node_id":"MDQ6VXNlcjkyMzA2NQ==","avatar_url":"https://avatars1.githubusercontent.com/u/923065?v=4","gravatar_id":"","url":"https://api.github.com/users/traviscollins","html_url":"https://github.com/traviscollins","followers_url":"https://api.github.com/users/traviscollins/followers","following_url":"https://api.github.com/users/traviscollins/following{/other_user}","gists_url":"https://api.github.com/users/traviscollins/gists{/gist_id}","starred_url":"https://api.github.com/users/traviscollins/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/traviscollins/subscriptions","organizations_url":"https://api.github.com/users/traviscollins/orgs","repos_url":"https://api.github.com/users/traviscollins/repos","events_url":"https://api.github.com/users/traviscollins/events{/privacy}","received_events_url":"https://api.github.com/users/traviscollins/received_events","type":"User","site_admin":false},"created_at":"2015-07-04T03:51:06Z","updated_at":"2015-07-04T03:51:06Z","author_association":"NONE","body":"I agree with @TwP and @nariman-haghighi - removing the delete-by-query API is really not serving users well. This is basic functionality that should be implemented on the server side in the core API with a simple client method. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/123435027","html_url":"https://github.com/elastic/elasticsearch/issues/7052#issuecomment-123435027","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7052","id":123435027,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzQzNTAyNw==","user":{"login":"MattFriedman","id":2347312,"node_id":"MDQ6VXNlcjIzNDczMTI=","avatar_url":"https://avatars0.githubusercontent.com/u/2347312?v=4","gravatar_id":"","url":"https://api.github.com/users/MattFriedman","html_url":"https://github.com/MattFriedman","followers_url":"https://api.github.com/users/MattFriedman/followers","following_url":"https://api.github.com/users/MattFriedman/following{/other_user}","gists_url":"https://api.github.com/users/MattFriedman/gists{/gist_id}","starred_url":"https://api.github.com/users/MattFriedman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MattFriedman/subscriptions","organizations_url":"https://api.github.com/users/MattFriedman/orgs","repos_url":"https://api.github.com/users/MattFriedman/repos","events_url":"https://api.github.com/users/MattFriedman/events{/privacy}","received_events_url":"https://api.github.com/users/MattFriedman/received_events","type":"User","site_admin":false},"created_at":"2015-07-21T18:43:21Z","updated_at":"2015-07-21T18:43:21Z","author_association":"NONE","body":"I see this issue is now closed. Has it been resolved? Will the native Elastic interface be maintained or removed? I read all the comments and I'm still not sure. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/124045013","html_url":"https://github.com/elastic/elasticsearch/issues/7052#issuecomment-124045013","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7052","id":124045013,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNDA0NTAxMw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-07-23T10:12:42Z","updated_at":"2015-07-23T10:12:42Z","author_association":"CONTRIBUTOR","body":"@MattFriedman in 2.0 delete-by-query has been implemented using bulk, and moved into a plugin: https://github.com/elastic/elasticsearch/tree/master/plugins/delete-by-query\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/238007764","html_url":"https://github.com/elastic/elasticsearch/issues/7052#issuecomment-238007764","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7052","id":238007764,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODAwNzc2NA==","user":{"login":"pulkitsinghal","id":821963,"node_id":"MDQ6VXNlcjgyMTk2Mw==","avatar_url":"https://avatars1.githubusercontent.com/u/821963?v=4","gravatar_id":"","url":"https://api.github.com/users/pulkitsinghal","html_url":"https://github.com/pulkitsinghal","followers_url":"https://api.github.com/users/pulkitsinghal/followers","following_url":"https://api.github.com/users/pulkitsinghal/following{/other_user}","gists_url":"https://api.github.com/users/pulkitsinghal/gists{/gist_id}","starred_url":"https://api.github.com/users/pulkitsinghal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pulkitsinghal/subscriptions","organizations_url":"https://api.github.com/users/pulkitsinghal/orgs","repos_url":"https://api.github.com/users/pulkitsinghal/repos","events_url":"https://api.github.com/users/pulkitsinghal/events{/privacy}","received_events_url":"https://api.github.com/users/pulkitsinghal/received_events","type":"User","site_admin":false},"created_at":"2016-08-06T05:54:51Z","updated_at":"2016-08-06T05:55:03Z","author_association":"NONE","body":"@clintongormley - I went looking but did not find it ... should i instead rely on the summary I found in the commits stating:\n\n> The Delete-By-Query plugin has been removed in favor of a new Delete By Query API implementation in core. It now supports throttling, retries and cancellation but no longer supports timeouts. Instead use the cancel API to cancel deletes that run too long.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/238017465","html_url":"https://github.com/elastic/elasticsearch/issues/7052#issuecomment-238017465","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7052","id":238017465,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODAxNzQ2NQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-08-06T10:42:04Z","updated_at":"2016-08-06T10:42:04Z","author_association":"CONTRIBUTOR","body":"It should be mentioned somewhere in the migration docs but I'm on mobile.\nYes, in 5.0 delete-by-query is included in the distribution. It is\ntechnically shipped in the mobile called reindex, meaning it is in a pre\nbundled plugin.\n\nOn Aug 6, 2016 1:54 AM, \"Pulkit Singhal\" notifications@github.com wrote:\n\n> @clintongormley https://github.com/clintongormley - I went lookign but\n> did not find it ... should i instead rely on the summary I found in the\n> commits stating:\n> \n> The Delete-By-Query plugin has been removed in favor of a new Delete By\n> Query API implementation in core. It now supports throttling, retries and\n> cancellation but no longer supports timeouts. Instead use the cancel API to\n> cancel deletes that run too long.\n> \n> â€”\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> https://github.com/elastic/elasticsearch/issues/7052#issuecomment-238007764,\n> or mute the thread\n> https://github.com/notifications/unsubscribe-auth/AANLorGaujTViuxaRg6UAMUBnB-EN3ymks5qdCGvgaJpZM4CRdK3\n> .\n","performed_via_github_app":null}]