{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/27960","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27960/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27960/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27960/events","html_url":"https://github.com/elastic/elasticsearch/issues/27960","id":284128629,"node_id":"MDU6SXNzdWUyODQxMjg2Mjk=","number":27960,"title":"[CI] SearchWithRandomIOExceptionsIT (aggressive opts) failures","user":{"login":"davidkyle","id":2353640,"node_id":"MDQ6VXNlcjIzNTM2NDA=","avatar_url":"https://avatars1.githubusercontent.com/u/2353640?v=4","gravatar_id":"","url":"https://api.github.com/users/davidkyle","html_url":"https://github.com/davidkyle","followers_url":"https://api.github.com/users/davidkyle/followers","following_url":"https://api.github.com/users/davidkyle/following{/other_user}","gists_url":"https://api.github.com/users/davidkyle/gists{/gist_id}","starred_url":"https://api.github.com/users/davidkyle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidkyle/subscriptions","organizations_url":"https://api.github.com/users/davidkyle/orgs","repos_url":"https://api.github.com/users/davidkyle/repos","events_url":"https://api.github.com/users/davidkyle/events{/privacy}","received_events_url":"https://api.github.com/users/davidkyle/received_events","type":"User","site_admin":false},"labels":[{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"assignees":[{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2017-12-22T10:31:03Z","updated_at":"2017-12-22T20:04:51Z","closed_at":"2017-12-22T20:04:51Z","author_association":"MEMBER","active_lock_reason":null,"body":"https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+aggressive-opts/1051/console\r\n\r\n\r\n```\r\ncom.carrotsearch.randomizedtesting.UncaughtExceptionError: Captured an uncaught exception in thread: Thread[id=6568, name=elasticsearch[node_s0][generic][T#2], state=RUNNABLE, group=TGRP-SearchWithRandomIOExceptionsIT]\r\n\tat __randomizedtesting.SeedInfo.seed([F5311D11BF9B3C4F:BCCD7139A1DDD7EE]:0)\r\nCaused by: java.lang.AssertionError: index is created, but we have commits\r\n\tat __randomizedtesting.SeedInfo.seed([F5311D11BF9B3C4F]:0)\r\n\tat org.elasticsearch.index.engine.CombinedDeletionPolicy.onInit(CombinedDeletionPolicy.java:56)\r\n\tat org.apache.lucene.index.SnapshotDeletionPolicy.onInit(SnapshotDeletionPolicy.java:81)\r\n\tat org.apache.lucene.index.IndexFileDeleter.<init>(IndexFileDeleter.java:238)\r\n\tat org.apache.lucene.index.IndexWriter.<init>(IndexWriter.java:1121)\r\n\tat org.elasticsearch.index.engine.InternalEngine.createWriter(InternalEngine.java:1793)\r\n\tat org.elasticsearch.index.engine.InternalEngine.createWriter(InternalEngine.java:1784)\r\n\tat org.elasticsearch.index.engine.InternalEngine.<init>(InternalEngine.java:187)\r\n\tat org.elasticsearch.index.engine.InternalEngine.<init>(InternalEngine.java:151)\r\n\tat org.elasticsearch.index.engine.InternalEngineFactory.newReadWriteEngine(InternalEngineFactory.java:25)\r\n\tat org.elasticsearch.index.shard.IndexShard.newEngine(IndexShard.java:2139)\r\n\tat org.elasticsearch.index.shard.IndexShard.createNewEngine(IndexShard.java:2121)\r\n\tat org.elasticsearch.index.shard.IndexShard.internalPerformTranslogRecovery(IndexShard.java:1339)\r\n\tat org.elasticsearch.index.shard.IndexShard.performTranslogRecovery(IndexShard.java:1288)\r\n\tat org.elasticsearch.index.shard.StoreRecovery.internalRecoverFromStore(StoreRecovery.java:395)\r\n\tat org.elasticsearch.index.shard.StoreRecovery.lambda$recoverFromStore$0(StoreRecovery.java:94)\r\n\tat org.elasticsearch.index.shard.StoreRecovery.executeRecovery(StoreRecovery.java:292)\r\n\tat org.elasticsearch.index.shard.StoreRecovery.recoverFromStore(StoreRecovery.java:92)\r\n\tat org.elasticsearch.index.shard.IndexShard.recoverFromStore(IndexShard.java:1581)\r\n\tat org.elasticsearch.index.shard.IndexShard.lambda$startRecovery$6(IndexShard.java:2014)\r\n\tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:566)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\n\r\nThis reproduces wit:\r\n```\r\ngradle :core:integTest \\\r\n  -Dtests.seed=F5311D11BF9B3C4F \\\r\n  -Dtests.class=org.elasticsearch.search.basic.SearchWithRandomIOExceptionsIT \\\r\n  -Dtests.method=\"testRandomDirectoryIOExceptions\" \\\r\n  -Dtests.security.manager=true \\\r\n  -Dtests.jvm.argline=\"-XX:+AggressiveOpts\" \\\r\n  -Dtests.locale=el \\\r\n  -Dtests.timezone=Turkey\r\n```\r\n\r\n","closed_by":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"performed_via_github_app":null}