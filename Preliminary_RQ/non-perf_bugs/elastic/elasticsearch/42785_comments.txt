[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/498150612","html_url":"https://github.com/elastic/elasticsearch/issues/42785#issuecomment-498150612","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42785","id":498150612,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODE1MDYxMg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-06-03T07:50:10Z","updated_at":"2019-06-03T07:50:10Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/498407900","html_url":"https://github.com/elastic/elasticsearch/issues/42785#issuecomment-498407900","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42785","id":498407900,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODQwNzkwMA==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2019-06-03T20:11:39Z","updated_at":"2019-06-03T20:11:39Z","author_association":"MEMBER","body":"> There's no good reason for ids query to return documents in an order other than the order of the ids that were provided. The ids are provided in an array, which is ordered, so the values should be returned as such. What's the benefit in surprising users in a negative way doing something order than what would be expected by default?\r\n\r\nThat's not how search works. Ids queries are just one type of query that you can mix with other (`boolean`) to retrieve results. The default sort is by relevancy, which means that documents are sorted by their query score. If you're only searching for a couple of ids you can use the [multi_get apis](http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/docs-multi-get.html) which will preserve the order and should be much faster than using a custom script sort and the ids query. Is there a reason why you cannot use the multi-get ?\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/499009075","html_url":"https://github.com/elastic/elasticsearch/issues/42785#issuecomment-499009075","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42785","id":499009075,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTAwOTA3NQ==","user":{"login":"rightaway","id":3680078,"node_id":"MDQ6VXNlcjM2ODAwNzg=","avatar_url":"https://avatars0.githubusercontent.com/u/3680078?v=4","gravatar_id":"","url":"https://api.github.com/users/rightaway","html_url":"https://github.com/rightaway","followers_url":"https://api.github.com/users/rightaway/followers","following_url":"https://api.github.com/users/rightaway/following{/other_user}","gists_url":"https://api.github.com/users/rightaway/gists{/gist_id}","starred_url":"https://api.github.com/users/rightaway/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rightaway/subscriptions","organizations_url":"https://api.github.com/users/rightaway/orgs","repos_url":"https://api.github.com/users/rightaway/repos","events_url":"https://api.github.com/users/rightaway/events{/privacy}","received_events_url":"https://api.github.com/users/rightaway/received_events","type":"User","site_admin":false},"created_at":"2019-06-05T09:27:28Z","updated_at":"2019-06-05T09:27:28Z","author_association":"NONE","body":"Limitations of multi-get api is described in the linked issue https://github.com/elastic/elasticsearch/issues/3458#issuecomment-26591217.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/499057066","html_url":"https://github.com/elastic/elasticsearch/issues/42785#issuecomment-499057066","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42785","id":499057066,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTA1NzA2Ng==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2019-06-05T12:11:32Z","updated_at":"2019-06-05T12:11:32Z","author_association":"MEMBER","body":"Yes, along with the reasons why we don't want to support this and the possible workarounds.\r\nThe ordering of documents in the response is controlled by the `sort` criteria. I understand that the `_ids` query can be thought differently since each id can match at most 1 document. Though this is the search API, not a multi get API, so I don't see why one query should dictate the behavior of the whole search. I would also add that even if we wanted to support this feature it would require a lot of thinking to make it work with the current design in a way that wouldn't be too surprising. It would be much easier for you to simply re-sort the hits in the response with the logic you want client side. This would also be much faster than the script sort solution because it requires to load the `id` field in the fielddata (we don't build `doc_values` on the `_id` field).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/509983451","html_url":"https://github.com/elastic/elasticsearch/issues/42785#issuecomment-509983451","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42785","id":509983451,"node_id":"MDEyOklzc3VlQ29tbWVudDUwOTk4MzQ1MQ==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2019-07-10T09:20:51Z","updated_at":"2019-07-10T09:20:51Z","author_association":"MEMBER","body":"Looks like this is not something we're going to work on, so I'm closing this.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/510012019","html_url":"https://github.com/elastic/elasticsearch/issues/42785#issuecomment-510012019","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42785","id":510012019,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDAxMjAxOQ==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2019-07-10T10:49:55Z","updated_at":"2019-07-10T10:49:55Z","author_association":"CONTRIBUTOR","body":"@cbuescher - I think we are effectively working on this with the [pinned query proposal](https://github.com/elastic/elasticsearch/issues/44074)","performed_via_github_app":null}]