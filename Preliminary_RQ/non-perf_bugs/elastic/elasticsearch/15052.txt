{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/15052","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15052/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15052/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15052/events","html_url":"https://github.com/elastic/elasticsearch/issues/15052","id":119087687,"node_id":"MDU6SXNzdWUxMTkwODc2ODc=","number":15052,"title":"JarHell does not check whether a given path entry exists","user":{"login":"tberne","id":10933706,"node_id":"MDQ6VXNlcjEwOTMzNzA2","avatar_url":"https://avatars1.githubusercontent.com/u/10933706?v=4","gravatar_id":"","url":"https://api.github.com/users/tberne","html_url":"https://github.com/tberne","followers_url":"https://api.github.com/users/tberne/followers","following_url":"https://api.github.com/users/tberne/following{/other_user}","gists_url":"https://api.github.com/users/tberne/gists{/gist_id}","starred_url":"https://api.github.com/users/tberne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tberne/subscriptions","organizations_url":"https://api.github.com/users/tberne/orgs","repos_url":"https://api.github.com/users/tberne/repos","events_url":"https://api.github.com/users/tberne/events{/privacy}","received_events_url":"https://api.github.com/users/tberne/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":15,"created_at":"2015-11-26T18:03:00Z","updated_at":"2015-11-30T12:50:56Z","closed_at":"2015-11-30T12:42:52Z","author_association":"NONE","active_lock_reason":null,"body":"When embedding ES in Websphere Application Server (don't know the app server version right now), it is breaking boot because of:\n\n> Caused by: java.lang.IllegalStateException: failed to load bundle [] due to jar hell\n>   at org.elasticsearch.plugins.PluginsService.loadBundles(PluginsService.java:342)\n>   at org.elasticsearch.plugins.PluginsService.<init>(PluginsService.java:113)\n>   at org.elasticsearch.node.Node.<init>(Node.java:144)\n>   at org.elasticsearch.node.NodeBuilder.build(NodeBuilder.java:145)\n>   at org.elasticsearch.node.NodeBuilder.node(NodeBuilder.java:152)\n>   ... 97 more\n> Caused by: java.io.FileNotFoundException: C:\\Program Files (x86)\\IBM\\WebSphere\\AppServer\\lib\\jsf-nls.jar \n> (The system cannot find the file specified)\n>   at java.util.zip.ZipFile.open(Native Method)\n>   at java.util.zip.ZipFile.<init>(ZipFile.java:231)\n>   at java.util.zip.ZipFile.<init>(ZipFile.java:161)\n>   at java.util.jar.JarFile.<init>(JarFile.java:169)\n>   at java.util.jar.JarFile.<init>(JarFile.java:106)\n>   at org.elasticsearch.bootstrap.JarHell.checkJarHell(JarHell.java:173)\n>   at org.elasticsearch.plugins.PluginsService.loadBundles(PluginsService.java:340)\n>   ... 104 more\n\nThe correction is as simple as an if in [JarHell](https://github.com/elastic/elasticsearch/blob/master/core/src/main/java/org/elasticsearch/bootstrap/JarHell.java#L174).\n","closed_by":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"performed_via_github_app":null}