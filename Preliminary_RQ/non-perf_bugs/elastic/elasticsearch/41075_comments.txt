[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/481686770","html_url":"https://github.com/elastic/elasticsearch/issues/41075#issuecomment-481686770","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41075","id":481686770,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTY4Njc3MA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-04-10T13:18:00Z","updated_at":"2019-04-10T13:18:00Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/481687305","html_url":"https://github.com/elastic/elasticsearch/issues/41075#issuecomment-481687305","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41075","id":481687305,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTY4NzMwNQ==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2019-04-10T13:19:29Z","updated_at":"2019-04-10T13:19:29Z","author_association":"MEMBER","body":"This is from the actual built linked above:\r\n```\r\n# Trying to connect to elasticsearch and wait for expected status green for index \r\n# curl: error while loading shared libraries: libcrypt.so.1: failed to map segment from shared object: Cannot allocate memory\r\n# Connecting to localhost|::1|:9200... connected.\r\n# HTTP request sent, awaiting response... 200 OK\r\n# Length: 389 [application/json]\r\n# Saving to: “STDOUT”\r\n# {\"cluster_name\":\"elasticsearch\",\"status\":\"green\",\"timed_out\":false,\"number_of_nodes\":1,\"number_of_data_nodes\":1,\"active_primary_shards\":0,\"active_shards\":0,\"relocating_shards\":0,\"initializing_shards\":0,\"unassigned_shards\":0,\"delayed_unassigned_shards\":0,\"number_of_pending_tasks\":0,\"number_of_in_flight_fetch\":0,\"task_max_waiting_in_queue_millis\":0,\"active_shards_percent_as_number\":100.0}\r\n#      0K                                                       100% 82.6M=0s\r\n# \r\n# 2019-04-10 04:30:54 (82.6 MB/s) - written to stdout [389/389]\r\n# \r\n# Trying to connect to elasticsearch and wait for expected status green for index \r\n# curl: error while loading shared libraries: libcrypt.so.1: failed to map segment from shared object: Cannot allocate memory\r\nok 145 [INIT.D] sysctl is not run when it already has a larger or equal value set\r\nok 146 [UPGRADE] install old version\r\nok 147 [UPGRADE] start old version\r\nok 148 [UPGRADE] check elasticsearch version is old version\r\nok 149 [UPGRADE] index some documents into a few indexes\r\nok 150 [UPGRADE] verify that the documents are there\r\nok 151 [UPGRADE] stop old version\r\nok 152 [UPGRADE] install version under test\r\nok 153 [UPGRADE] start version under test\r\nok 154 [UPGRADE] check elasticsearch version is version under test\r\nok 155 [UPGRADE] verify that the documents are there after restart\r\nok 156 [UPGRADE] stop version under test\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/481687955","html_url":"https://github.com/elastic/elasticsearch/issues/41075#issuecomment-481687955","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41075","id":481687955,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTY4Nzk1NQ==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2019-04-10T13:21:17Z","updated_at":"2019-04-10T13:21:17Z","author_association":"MEMBER","body":"Also in https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+packaging-tests/658/console\r\n\r\n```\r\n# Trying to connect to elasticsearch and wait for expected status green for index \r\n# curl: error while loading shared libraries: libcrypt.so.1: failed to map segment from shared object: Cannot allocate memory\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/481689579","html_url":"https://github.com/elastic/elasticsearch/issues/41075#issuecomment-481689579","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41075","id":481689579,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTY4OTU3OQ==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2019-04-10T13:25:27Z","updated_at":"2019-04-10T13:25:27Z","author_association":"MEMBER","body":"More recent occurances:\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+packaging-tests/656/console\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+packaging-tests/655/console\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+packaging-tests/654/console\r\n...\r\nSeems to be one particular job.\r\n\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/481962862","html_url":"https://github.com/elastic/elasticsearch/issues/41075#issuecomment-481962862","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41075","id":481962862,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTk2Mjg2Mg==","user":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"created_at":"2019-04-11T04:43:47Z","updated_at":"2019-04-11T04:43:47Z","author_association":"MEMBER","body":"And another: \r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+packaging-tests/660/console","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/483520144","html_url":"https://github.com/elastic/elasticsearch/issues/41075#issuecomment-483520144","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41075","id":483520144,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzUyMDE0NA==","user":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"created_at":"2019-04-16T05:48:25Z","updated_at":"2019-04-16T05:48:25Z","author_association":"CONTRIBUTOR","body":"The packaging tests seem to be failing quite often (maybe always) due to memory issues.\r\nWe haven't had a green build since April 7th.\r\n\r\n[Build 675](https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+packaging-tests/675) failed with:\r\n```\r\n# \"stacktrace\": [\"java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\",\r\n# \"stacktrace\": [\"java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached”,\r\n```\r\n\r\nBuild stats suggests this is a frequent occurrence.\r\n\r\n\r\n\r\n ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/483991454","html_url":"https://github.com/elastic/elasticsearch/issues/41075#issuecomment-483991454","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41075","id":483991454,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mzk5MTQ1NA==","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"created_at":"2019-04-17T08:35:31Z","updated_at":"2019-04-17T08:35:31Z","author_association":"MEMBER","body":"This sounds a lot like [an issue we've debugged a while ago in CI](https://www.elastic.co/blog/we-are-out-of-memory-systemd-process-limits). I am not really familiar with the details but I assume we need to configure the CentOS 6 Vagrant image so the process limits are increased.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/484986292","html_url":"https://github.com/elastic/elasticsearch/issues/41075#issuecomment-484986292","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41075","id":484986292,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDk4NjI5Mg==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2019-04-19T18:56:30Z","updated_at":"2019-04-19T18:56:30Z","author_association":"MEMBER","body":"I believe this should be fixed now by https://github.com/elastic/elasticsearch/pull/41277. ","performed_via_github_app":null}]