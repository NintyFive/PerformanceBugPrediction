[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/294204203","html_url":"https://github.com/elastic/elasticsearch/issues/24116#issuecomment-294204203","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24116","id":294204203,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDIwNDIwMw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-04-14T18:05:00Z","updated_at":"2017-04-14T18:05:00Z","author_association":"MEMBER","body":"It's always been like this (at least back to the 1.x series), it's not just a since 5.x thing. I do agree it's problematic though, for example you can not get such a document via the get API.\r\n\r\n> This should create 3 documents, all with flake IDs (like the third document here).\r\n\r\nMaybe, or perhaps it should simply be rejected as an invalid request?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/294204450","html_url":"https://github.com/elastic/elasticsearch/issues/24116#issuecomment-294204450","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24116","id":294204450,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDIwNDQ1MA==","user":{"login":"pickypg","id":1501235,"node_id":"MDQ6VXNlcjE1MDEyMzU=","avatar_url":"https://avatars2.githubusercontent.com/u/1501235?v=4","gravatar_id":"","url":"https://api.github.com/users/pickypg","html_url":"https://github.com/pickypg","followers_url":"https://api.github.com/users/pickypg/followers","following_url":"https://api.github.com/users/pickypg/following{/other_user}","gists_url":"https://api.github.com/users/pickypg/gists{/gist_id}","starred_url":"https://api.github.com/users/pickypg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pickypg/subscriptions","organizations_url":"https://api.github.com/users/pickypg/orgs","repos_url":"https://api.github.com/users/pickypg/repos","events_url":"https://api.github.com/users/pickypg/events{/privacy}","received_events_url":"https://api.github.com/users/pickypg/received_events","type":"User","site_admin":false},"created_at":"2017-04-14T18:06:20Z","updated_at":"2017-04-14T18:06:20Z","author_association":"MEMBER","body":"@jasontedor \r\n\r\nYeah, I've been slowly testing more and more builds.\r\n\r\n> Maybe, or perhaps it should simply be rejected as an invalid request?\r\n\r\nThat works for me too, specifically because individual indexing requests with a blank `_id` are rejected:\r\n\r\n```http\r\nPUT /test/type/\r\n{ \"doc\": 1 }\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/294205158","html_url":"https://github.com/elastic/elasticsearch/issues/24116#issuecomment-294205158","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24116","id":294205158,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDIwNTE1OA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-04-14T18:09:41Z","updated_at":"2017-04-14T18:11:15Z","author_association":"MEMBER","body":"The reason I think that it should be rejected is because allowing `_id: \"\"` is a form of leniency. An application bug could easily unintentionally introduce `_id: \"\"` on a request and if I were an application developer accidentally introducing such a bug I would want Elasticsearch to reject it. We already have a way to specify auto-generated IDs: do not send an explicit ID field `_id` on the request, I don't think that we need a second way.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/294207512","html_url":"https://github.com/elastic/elasticsearch/issues/24116#issuecomment-294207512","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24116","id":294207512,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDIwNzUxMg==","user":{"login":"gmoskovicz","id":1675411,"node_id":"MDQ6VXNlcjE2NzU0MTE=","avatar_url":"https://avatars3.githubusercontent.com/u/1675411?v=4","gravatar_id":"","url":"https://api.github.com/users/gmoskovicz","html_url":"https://github.com/gmoskovicz","followers_url":"https://api.github.com/users/gmoskovicz/followers","following_url":"https://api.github.com/users/gmoskovicz/following{/other_user}","gists_url":"https://api.github.com/users/gmoskovicz/gists{/gist_id}","starred_url":"https://api.github.com/users/gmoskovicz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmoskovicz/subscriptions","organizations_url":"https://api.github.com/users/gmoskovicz/orgs","repos_url":"https://api.github.com/users/gmoskovicz/repos","events_url":"https://api.github.com/users/gmoskovicz/events{/privacy}","received_events_url":"https://api.github.com/users/gmoskovicz/received_events","type":"User","site_admin":false},"created_at":"2017-04-14T18:21:40Z","updated_at":"2017-04-14T18:21:40Z","author_association":"CONTRIBUTOR","body":"Agree that we should reject empty ID's. By the way, the issue is only with empty ID's, because if it's a space, you can still get the document by ID:\r\n\r\n```\r\nPUT /_bulk\r\n{\"index\":{\"_index\":\"test\",\"_type\":\"type\",\"_id\":\" \"}}\r\n{\"doc\":\"1\"}\r\n\r\nGET test/type/%20\r\n```\r\n\r\n```\r\n{\r\n  \"_index\": \"test\",\r\n  \"_type\": \"type\",\r\n  \"_id\": \" \",\r\n  \"_version\": 1,\r\n  \"found\": true,\r\n  \"_source\": {\r\n    \"doc\": \"1\"\r\n  }\r\n}\r\n```\r\n\r\nTBH, not sure if it should be rejected, or treated like it needs to auto-generate the ID. That's another option, right? ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/294209027","html_url":"https://github.com/elastic/elasticsearch/issues/24116#issuecomment-294209027","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24116","id":294209027,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDIwOTAyNw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-04-14T18:29:16Z","updated_at":"2017-04-14T18:29:16Z","author_association":"MEMBER","body":"Yes, I do not think that we should reject a space as the `_id` as those can still be obtained exactly as you say.\r\n\r\n> TBH, not sure if it should be rejected, or treated like it needs to auto-generate the ID. That's another option, right?\r\n\r\nI do not think so, that would be a breaking change.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/294209400","html_url":"https://github.com/elastic/elasticsearch/issues/24116#issuecomment-294209400","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24116","id":294209400,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDIwOTQwMA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-04-14T18:31:15Z","updated_at":"2017-04-14T18:31:15Z","author_association":"MEMBER","body":"The issue of `_id` being empty however is already broken, there's nothing to break but rather to fix.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/294217640","html_url":"https://github.com/elastic/elasticsearch/issues/24116#issuecomment-294217640","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24116","id":294217640,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDIxNzY0MA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-04-14T19:15:27Z","updated_at":"2017-04-14T19:15:27Z","author_association":"MEMBER","body":"I opened #24118.","performed_via_github_app":null}]