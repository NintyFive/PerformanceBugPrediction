{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/51614","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51614/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51614/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51614/events","html_url":"https://github.com/elastic/elasticsearch/issues/51614","id":556871697,"node_id":"MDU6SXNzdWU1NTY4NzE2OTc=","number":51614,"title":"[Java.time] Document or fix timeezone migration","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"labels":[{"id":144797810,"node_id":"MDU6TGFiZWwxNDQ3OTc4MTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Core","name":":Core/Infra/Core","color":"0e8a16","default":false,"description":"Core issues without another label"}],"state":"closed","locked":false,"assignee":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"assignees":[{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2020-01-29T13:45:09Z","updated_at":"2020-04-24T13:07:23Z","closed_at":"2020-04-24T13:07:23Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"The goal is document or add a feature that will help print/parse dates as they used previously after the migration from joda to java is performed by a user.\r\nWe should consider what should be adviced to users in doc for this scenario.\r\n\r\nwhen migrating from joda, timezone specifier has changed behaviour. It previously in joda allowed parsing and printing all these formats:\r\n```\r\n           // hh\r\n            // hhmm\r\n            // hhmmss\r\n            // hhmmssSSS\r\n            // hh:mm\r\n            // hh:mm:ss\r\n            // hh:mm:ss.SSS\r\n```\r\n\r\nIn order to achieve the same behaviour using java.time an optional section of a pattern has to be used.\r\nFor instance:\r\n`YYYY-MM-dd'T'HH:mm:ss.SSSZZ` where `ZZ` means \r\nhttps://www.joda.org/joda-time/apidocs/org/joda/time/format/DateTimeFormat.html\r\n\r\n> Zone: 'Z' outputs offset without a colon, 'ZZ' outputs the offset with a colon, 'ZZZ' or more outputs the zone id.\r\n\r\nallows parsing all the mentioned formats with colon. In order to achieve that in java.time a format has to be changed to:\r\n`yyyy-MM-dd'T'HH:mm:ss.SSS[XXXXX][XXX][X]`\r\nwhere XXXXX parses Hour, Minute and Second with colon\r\nXXX parses Hour and Minute with colon\r\nX parses just Hour\r\nI am skipping millisecond part as it is not defined in docs anyway.\r\n\r\nIf someone migrates `YYYY-MM-dd'T'HH:mm:ss.SSSZZ` -> `yyyy-MM-dd'T'HH:mm:ss.SSS[XXXXX][XXX][X]`\r\nit will be able to parse all the date that was parasble with joda, \r\nbut it won't be able print the same way. \r\nFor formats mentioend above and input being parsed first 2020-01-01T01:01:01.001+01:02:03\r\nJoda will print `2019-12-31T23:58:58.001+00:00`\r\nJava will print `2020-01-01T01:01:01.001+01:02:03+01:02+0102`\r\n","closed_by":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"performed_via_github_app":null}