[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/294771017","html_url":"https://github.com/elastic/elasticsearch/issues/24153#issuecomment-294771017","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24153","id":294771017,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDc3MTAxNw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-04-18T10:29:44Z","updated_at":"2017-04-18T10:38:59Z","author_association":"MEMBER","body":"This does not reproduce:\r\n\r\n```\r\n06:21:31 [jason:~] $ curl -XGET localhost:9200/            \r\n{\r\n  \"name\" : \"Rachel van Helsing\",\r\n  \"cluster_name\" : \"elasticsearch\",\r\n  \"version\" : {\r\n    \"number\" : \"2.3.5\",\r\n    \"build_hash\" : \"90f439ff60a3c0f497f91663701e64ccd01edbb4\",\r\n    \"build_timestamp\" : \"2016-07-27T10:36:52Z\",\r\n    \"build_snapshot\" : false,\r\n    \"lucene_version\" : \"5.5.0\"\r\n  },\r\n  \"tagline\" : \"You Know, for Search\"\r\n}\r\n06:24:41 [jason:~] $ curl -XPUT localhost:9200/test/type1/1?pretty=true -d '            \r\n{\r\n  \"counter\": 1,\r\n  \"tags\": [\"red\"]\r\n}'\r\n{\r\n  \"_index\" : \"test\",\r\n  \"_type\" : \"type1\",\r\n  \"_id\" : \"1\",\r\n  \"_version\" : 1,\r\n  \"_shards\" : {\r\n    \"total\" : 2,\r\n    \"successful\" : 2,\r\n    \"failed\" : 0\r\n  },\r\n  \"created\" : true\r\n}\r\n06:24:47 [jason:~] $ curl -XPOST localhost:9200/test/type1/1/_update?pretty=true -d '\r\n{\r\n  \"script\": {\r\n    \"inline\": \"ctx._source.counter += count\",\r\n    \"params\": {\r\n      \"count\": 4\r\n    }\r\n  }\r\n}'\r\n{\r\n  \"_index\" : \"test\",\r\n  \"_type\" : \"type1\",\r\n  \"_id\" : \"1\",\r\n  \"_version\" : 2,\r\n  \"_shards\" : {\r\n    \"total\" : 2,\r\n    \"successful\" : 2,\r\n    \"failed\" : 0\r\n  }\r\n}\r\n06:25:00 [jason:~] $ \r\n```\r\n\r\nTypically when we see these kinds of problems, it's due to security manager permissions. Have you modified your security permissions? Have you modified the install? It's clear that there is a reproduction step that you are leaving out. If you could open a post on the [forum](https://discuss.elastic.co), someone could try to work through the issue with you. Since Elastic reserves GitHub only for verified bug reports and feature requests, I'm closing this issue as unable to reproduce.","performed_via_github_app":null}]