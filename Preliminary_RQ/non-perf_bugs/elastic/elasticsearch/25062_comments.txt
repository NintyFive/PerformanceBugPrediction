[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/306357214","html_url":"https://github.com/elastic/elasticsearch/issues/25062#issuecomment-306357214","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25062","id":306357214,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNjM1NzIxNA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-06-06T01:39:56Z","updated_at":"2017-06-06T01:39:56Z","author_association":"MEMBER","body":"> It wouldn't reproduce because the --add-opens=java.base/java.lang=ALL-UNNAMED option seems to break the JVM on my laptop\r\n\r\nThat's because this is a JDK 9 build and those are JDK 9 flags and I suspect that you were not using JDK 9.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/306488998","html_url":"https://github.com/elastic/elasticsearch/issues/25062#issuecomment-306488998","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25062","id":306488998,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNjQ4ODk5OA==","user":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"created_at":"2017-06-06T13:39:31Z","updated_at":"2017-06-06T13:39:31Z","author_association":"MEMBER","body":"Yep, that would most certainly be the case.  Oops :)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/307046900","html_url":"https://github.com/elastic/elasticsearch/issues/25062#issuecomment-307046900","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25062","id":307046900,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzA0NjkwMA==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2017-06-08T09:14:55Z","updated_at":"2017-06-08T09:14:55Z","author_association":"MEMBER","body":"A reproducible failure on master:\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+periodic/3106/console\r\n\r\n````\r\ngradle :core:integTest -Dtests.seed=E174387F042AEDA5 -Dtests.class=org.elasticsearch.snapshots.DedicatedClusterSnapshotRestoreIT -Dtests.method=\"testMasterShutdownDuringFailedSnapshot\" -Dtests.security.manager=true -Dtests.locale=cs -Dtests.timezone=Antarctica/South_Pole\r\n````\r\n\r\nThis is not related to java 9, other similar failures:\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+multijob-unix-compatibility/os=ubuntu/1062\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+5.x+multijob-unix-compatibility/os=debian/837\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/307891307","html_url":"https://github.com/elastic/elasticsearch/issues/25062#issuecomment-307891307","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25062","id":307891307,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzg5MTMwNw==","user":{"login":"jaymode","id":4339958,"node_id":"MDQ6VXNlcjQzMzk5NTg=","avatar_url":"https://avatars1.githubusercontent.com/u/4339958?v=4","gravatar_id":"","url":"https://api.github.com/users/jaymode","html_url":"https://github.com/jaymode","followers_url":"https://api.github.com/users/jaymode/followers","following_url":"https://api.github.com/users/jaymode/following{/other_user}","gists_url":"https://api.github.com/users/jaymode/gists{/gist_id}","starred_url":"https://api.github.com/users/jaymode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaymode/subscriptions","organizations_url":"https://api.github.com/users/jaymode/orgs","repos_url":"https://api.github.com/users/jaymode/repos","events_url":"https://api.github.com/users/jaymode/events{/privacy}","received_events_url":"https://api.github.com/users/jaymode/received_events","type":"User","site_admin":false},"created_at":"2017-06-12T19:15:22Z","updated_at":"2017-06-12T19:15:22Z","author_association":"MEMBER","body":"Another reproducible failure on 5.x (macOS):\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+5.x+multijob-unix-compatibility/os=sles/864/console\r\n\r\n```\r\ncom.carrotsearch.randomizedtesting.UncaughtExceptionError: Captured an uncaught exception in thread: Thread[id=4477, name=elasticsearch[node_tm1][snapshot][T#1], state=RUNNABLE, group=TGRP-DedicatedClusterSnapshotRestoreIT]\r\n\tat __randomizedtesting.SeedInfo.seed([FF459C1B16690789:917979BAE9D3007F]:0)\r\nCaused by: java.lang.AssertionError: On Linux and MacOSX fsyncing a directory should not throw IOException, we just don't want to rely on that in production (undocumented). Got: java.nio.channels.ClosedByInterruptException\r\n\tat __randomizedtesting.SeedInfo.seed([FF459C1B16690789]:0)\r\n\tat org.apache.lucene.util.IOUtils.fsync(IOUtils.java:475)\r\n\tat org.elasticsearch.common.blobstore.fs.FsBlobContainer.move(FsBlobContainer.java:145)\r\n\tat org.elasticsearch.snapshots.mockstore.BlobContainerWrapper.move(BlobContainerWrapper.java:76)\r\n\tat org.elasticsearch.snapshots.mockstore.MockRepository$MockBlobStore$MockBlobContainer.move(MockRepository.java:327)\r\n\tat org.elasticsearch.repositories.blobstore.BlobStoreRepository.writeAtomic(BlobStoreRepository.java:950)\r\n\tat org.elasticsearch.repositories.blobstore.BlobStoreRepository.writeIndexGen(BlobStoreRepository.java:839)\r\n\tat org.elasticsearch.repositories.blobstore.BlobStoreRepository.finalizeSnapshot(BlobStoreRepository.java:563)\r\n\tat org.elasticsearch.snapshots.SnapshotsService$5.run(SnapshotsService.java:950)\r\n\tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:569)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n```\r\n\r\nReproduce line:\r\n\r\n```\r\ngradle :core:integTest -Dtests.seed=FF459C1B16690789 -Dtests.class=org.elasticsearch.snapshots.DedicatedClusterSnapshotRestoreIT -Dtests.method=\"testMasterShutdownDuringFailedSnapshot\" -Dtests.security.manager=true -Dtests.locale=ar-LY -Dtests.timezone=Pacific/Enderbury\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/308997376","html_url":"https://github.com/elastic/elasticsearch/issues/25062#issuecomment-308997376","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25062","id":308997376,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODk5NzM3Ng==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2017-06-16T11:03:01Z","updated_at":"2017-06-16T11:03:28Z","author_association":"MEMBER","body":"Another one, still reproducible, @abeyad  can you confirm that this is related to https://github.com/elastic/elasticsearch/issues/24452 ?\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+5.x+multijob-unix-compatibility/os=centos/881\r\n\r\n````\r\ngradle :core:integTest -Dtests.seed=F4B1E0D9FCFB6CD -Dtests.class=org.elasticsearch.snapshots.DedicatedClusterSnapshotRestoreIT -Dtests.method=\"testMasterShutdownDuringFailedSnapshot\" -Dtests.security.manager=true -Dtests.locale=en-SG -Dtests.timezone=Pacific/Truk\r\n````","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/309132923","html_url":"https://github.com/elastic/elasticsearch/issues/25062#issuecomment-309132923","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25062","id":309132923,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTEzMjkyMw==","user":{"login":"abeyad","id":1631297,"node_id":"MDQ6VXNlcjE2MzEyOTc=","avatar_url":"https://avatars2.githubusercontent.com/u/1631297?v=4","gravatar_id":"","url":"https://api.github.com/users/abeyad","html_url":"https://github.com/abeyad","followers_url":"https://api.github.com/users/abeyad/followers","following_url":"https://api.github.com/users/abeyad/following{/other_user}","gists_url":"https://api.github.com/users/abeyad/gists{/gist_id}","starred_url":"https://api.github.com/users/abeyad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abeyad/subscriptions","organizations_url":"https://api.github.com/users/abeyad/orgs","repos_url":"https://api.github.com/users/abeyad/repos","events_url":"https://api.github.com/users/abeyad/events{/privacy}","received_events_url":"https://api.github.com/users/abeyad/received_events","type":"User","site_admin":false},"created_at":"2017-06-16T20:59:59Z","updated_at":"2017-06-16T20:59:59Z","author_association":"CONTRIBUTOR","body":"@imotov and I debugged this issue - there are a couple things going on here for which I opened a new issue #25281 and silenced the test in 0c697348f41e1ebdcf2396a95e48b6eccc50dd3b.  I'm closing this issue as the problem has been identified and the new issue opened, and the AwaitsFix will be removed on the test once #25281 is resolved.","performed_via_github_app":null}]