[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/508644159","html_url":"https://github.com/elastic/elasticsearch/issues/43990#issuecomment-508644159","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43990","id":508644159,"node_id":"MDEyOklzc3VlQ29tbWVudDUwODY0NDE1OQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-07-05T06:20:42Z","updated_at":"2019-07-05T06:20:42Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/508670519","html_url":"https://github.com/elastic/elasticsearch/issues/43990#issuecomment-508670519","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43990","id":508670519,"node_id":"MDEyOklzc3VlQ29tbWVudDUwODY3MDUxOQ==","user":{"login":"dliappis","id":1754575,"node_id":"MDQ6VXNlcjE3NTQ1NzU=","avatar_url":"https://avatars0.githubusercontent.com/u/1754575?v=4","gravatar_id":"","url":"https://api.github.com/users/dliappis","html_url":"https://github.com/dliappis","followers_url":"https://api.github.com/users/dliappis/followers","following_url":"https://api.github.com/users/dliappis/following{/other_user}","gists_url":"https://api.github.com/users/dliappis/gists{/gist_id}","starred_url":"https://api.github.com/users/dliappis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dliappis/subscriptions","organizations_url":"https://api.github.com/users/dliappis/orgs","repos_url":"https://api.github.com/users/dliappis/repos","events_url":"https://api.github.com/users/dliappis/events{/privacy}","received_events_url":"https://api.github.com/users/dliappis/received_events","type":"User","site_admin":false},"created_at":"2019-07-05T08:04:10Z","updated_at":"2019-07-05T11:45:05Z","author_association":"CONTRIBUTOR","body":"To ada a new gc file location via an env var you can specify `-Xlog:gc:<the_path>` in `ES_JAVA_OPTS` e.g.\r\n\r\n```\r\ndocker run --rm --name es01 -e 'discovery.type=single-node' -e 'ES_JAVA_OPTS=-Xlog:gc*,gc+age=trace,safepoint:file=/var/tmp/gc.log:utctime,pid,tags:filecount=32,filesize=64m' docker.elastic.co/elasticsearch/elasticsearch:7.2.0\r\n\r\n$ docker exec -u 1000:0 -ti es01 tail /var/tmp/gc.log\r\n[2019-07-05T07:55:06.146+0000][1][safepoint    ] Leaving safepoint region\r\n[2019-07-05T07:55:06.146+0000][1][safepoint    ] Total time for which application threads were stopped: 0.0002322 seconds, Stopping threads took: 0.0000546 seconds\r\n[2019-07-05T07:55:06.188+0000][1][safepoint    ] Application time: 0.0419649 seconds\r\n[2019-07-05T07:55:06.188+0000][1][safepoint    ] Entering safepoint region: BulkRevokeBias\r\n[2019-07-05T07:55:06.188+0000][1][safepoint    ] Leaving safepoint region\r\n[2019-07-05T07:55:06.188+0000][1][safepoint    ] Total time for which application threads were stopped: 0.0001994 seconds, Stopping threads took: 0.0000521 seconds\r\n[2019-07-05T07:55:06.210+0000][1][safepoint    ] Application time: 0.0223417 seconds\r\n[2019-07-05T07:55:06.210+0000][1][safepoint    ] Entering safepoint region: CollectForMetadataAllocation\r\n[2019-07-05T07:55:06.211+0000][1][safepoint    ] Leaving safepoint region\r\n[2019-07-05T07:55:06.211+0000][1][safepoint    ] Total time for which application threads were stopped: 0.0001615 seconds, Stopping threads took: 0.0000414 seconds\r\n```\r\n\r\nNote that the gc.log is also written under the default `/usr/share/elasticsearch/logs` so you'd still need to comment out the relevant line in `jvm.options` and bind mount the file.\r\n\r\nAccording to [JEP 271](https://openjdk.java.net/jeps/271) and [JEP 158](https://openjdk.java.net/jeps/158) output can be:\r\n\r\n```\r\n   output         :=  'stderr'\r\n                       'stdout'\r\n                       [file=]<filename>\r\n```\r\n\r\nso in theory one could:\r\n\r\n```\r\ndocker run --rm --name es01 -e 'discovery.type=single-node' -e 'ES_JAVA_OPTS=-Xlog:gc*,gc+age=trace,safepoint:file=stdout:utctime,pid,tags:' docker.elastic.co/elasticsearch/elasticsearch:7.2.0\r\n```\r\n\r\nbut this doesn't seem to bring to show anything on stdout. I will discuss this with @pgomulka .\r\n\r\nHowever do note that even if this would work, you'd end up with interspersed json structured output (from ES) and non-json (from GC) on your stdout, so not sure how helpful is that.\r\n\r\n### References\r\n\r\n- [jvm-9 gc logging presentation](https://www.slideshare.net/PoonamBajaj5/lets-learn-to-talk-to-gc-logs-in-java-9)\r\n- [JEP 271](https://openjdk.java.net/jeps/271)\r\n- [JEP 158](https://openjdk.java.net/jeps/158) output can be:\r\n- [Elasticsearch GC logging](https://www.elastic.co/guide/en/elasticsearch/reference/6.7/gc-logging.html)\r\n- [Elasticsearch Fatal Error logs](https://www.elastic.co/guide/en/elasticsearch/reference/7.2/error-file-path.html)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/518992782","html_url":"https://github.com/elastic/elasticsearch/issues/43990#issuecomment-518992782","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43990","id":518992782,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODk5Mjc4Mg==","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"created_at":"2019-08-07T08:16:38Z","updated_at":"2019-08-07T08:17:36Z","author_association":"CONTRIBUTOR","body":"the comment by @dliappis is excellent. \r\n```\r\ndocker run --rm --name es01 -e 'discovery.type=single-node' -e 'ES_JAVA_OPTS=-Xlog:gc*,gc+age=trace,safepoint:file=stdout:utctime,pid,tags:' docker.elastic.co/elasticsearch/elasticsearch:7.2.0\r\n```\r\nThis command works, but because `file=stdout` is specified, you end up with a file `stdout` (this will be its name) in your elasticsearch directory\r\nIf you just want to use that command line and output to standard ouput just remove the `file=` section\r\n ```\r\ndocker run --rm --name es01 -e 'discovery.type=single-node' -e 'ES_JAVA_OPTS=-Xlog:gc*,gc+age=trace,safepoint:stdout:utctime,pid,tags:' docker.elastic.co/elasticsearch/elasticsearch:7.2.0\r\n```\r\n\r\nThis is because the grammar for output in JEP 158 is defined as \r\n```\r\noutput         :=  'stderr'\r\n                       'stdout'\r\n                       [file=]<filename>\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/518997200","html_url":"https://github.com/elastic/elasticsearch/issues/43990#issuecomment-518997200","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43990","id":518997200,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODk5NzIwMA==","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"created_at":"2019-08-07T08:28:35Z","updated_at":"2019-08-07T08:28:47Z","author_association":"CONTRIBUTOR","body":"@jguay also bear in mind  what Java version is used in the docker image. These Gc logging options changed from 8 to 9+","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/519011538","html_url":"https://github.com/elastic/elasticsearch/issues/43990#issuecomment-519011538","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43990","id":519011538,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTAxMTUzOA==","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"created_at":"2019-08-07T09:07:24Z","updated_at":"2019-08-07T09:07:24Z","author_association":"CONTRIBUTOR","body":"I also don't know if we can expect any other decorators then `[ ]` to simplify JSON parsing.\r\nThe JEP 158 is stating that this is an open issue, but I couldn't find anything concrete in mailing lists\r\n```\r\nShould decorations be surrounded by something else than [] to make it easier to parse the output?\r\n```\r\nhttp://mail.openjdk.java.net/pipermail/hotspot-gc-dev/2015-September/014791.html","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/540592034","html_url":"https://github.com/elastic/elasticsearch/issues/43990#issuecomment-540592034","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43990","id":540592034,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDU5MjAzNA==","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"created_at":"2019-10-10T13:47:41Z","updated_at":"2019-10-10T13:47:41Z","author_association":"CONTRIBUTOR","body":"@dliappis @jguay do you think the solutions suggested in comments here are good enough?\r\nThere is no way to format GC logs into json, and apart from possibly making them visible in console interleaving json logs, there is nothing I can think of to do (bear in mind this will likely break filebeat)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/541037252","html_url":"https://github.com/elastic/elasticsearch/issues/43990#issuecomment-541037252","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43990","id":541037252,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MTAzNzI1Mg==","user":{"login":"dliappis","id":1754575,"node_id":"MDQ6VXNlcjE3NTQ1NzU=","avatar_url":"https://avatars0.githubusercontent.com/u/1754575?v=4","gravatar_id":"","url":"https://api.github.com/users/dliappis","html_url":"https://github.com/dliappis","followers_url":"https://api.github.com/users/dliappis/followers","following_url":"https://api.github.com/users/dliappis/following{/other_user}","gists_url":"https://api.github.com/users/dliappis/gists{/gist_id}","starred_url":"https://api.github.com/users/dliappis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dliappis/subscriptions","organizations_url":"https://api.github.com/users/dliappis/orgs","repos_url":"https://api.github.com/users/dliappis/repos","events_url":"https://api.github.com/users/dliappis/events{/privacy}","received_events_url":"https://api.github.com/users/dliappis/received_events","type":"User","site_admin":false},"created_at":"2019-10-11T12:08:11Z","updated_at":"2019-10-11T12:08:11Z","author_association":"CONTRIBUTOR","body":"@pgomulka Your [earlier comment](https://github.com/elastic/elasticsearch/issues/43990#issuecomment-518992782) solves this issue perfectly IMO. The only question is whether we should document this in the Elasticsearch Docker [docs page](https://github.com/elastic/elasticsearch/blob/master/docs/reference/setup/install/docker.asciidoc) as it's not very easy to find.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/546768817","html_url":"https://github.com/elastic/elasticsearch/issues/43990#issuecomment-546768817","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43990","id":546768817,"node_id":"MDEyOklzc3VlQ29tbWVudDU0Njc2ODgxNw==","user":{"login":"CpuID","id":916201,"node_id":"MDQ6VXNlcjkxNjIwMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/916201?v=4","gravatar_id":"","url":"https://api.github.com/users/CpuID","html_url":"https://github.com/CpuID","followers_url":"https://api.github.com/users/CpuID/followers","following_url":"https://api.github.com/users/CpuID/following{/other_user}","gists_url":"https://api.github.com/users/CpuID/gists{/gist_id}","starred_url":"https://api.github.com/users/CpuID/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CpuID/subscriptions","organizations_url":"https://api.github.com/users/CpuID/orgs","repos_url":"https://api.github.com/users/CpuID/repos","events_url":"https://api.github.com/users/CpuID/events{/privacy}","received_events_url":"https://api.github.com/users/CpuID/received_events","type":"User","site_admin":false},"created_at":"2019-10-28T02:37:03Z","updated_at":"2019-10-28T02:37:03Z","author_association":"NONE","body":"An issue being caused without this implemented: GC logs consume disk space, which for smallish filesystems can fill the disk. You may have your data volume mapped out to another FS, but the GC logs may not be and would be written to the container filesystem instead.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/584655468","html_url":"https://github.com/elastic/elasticsearch/issues/43990#issuecomment-584655468","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43990","id":584655468,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDY1NTQ2OA==","user":{"login":"JqckB","id":4499998,"node_id":"MDQ6VXNlcjQ0OTk5OTg=","avatar_url":"https://avatars1.githubusercontent.com/u/4499998?v=4","gravatar_id":"","url":"https://api.github.com/users/JqckB","html_url":"https://github.com/JqckB","followers_url":"https://api.github.com/users/JqckB/followers","following_url":"https://api.github.com/users/JqckB/following{/other_user}","gists_url":"https://api.github.com/users/JqckB/gists{/gist_id}","starred_url":"https://api.github.com/users/JqckB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JqckB/subscriptions","organizations_url":"https://api.github.com/users/JqckB/orgs","repos_url":"https://api.github.com/users/JqckB/repos","events_url":"https://api.github.com/users/JqckB/events{/privacy}","received_events_url":"https://api.github.com/users/JqckB/received_events","type":"User","site_admin":false},"created_at":"2020-02-11T14:16:05Z","updated_at":"2020-02-11T14:17:57Z","author_association":"NONE","body":"I'm not OK with this proposition, which isn't working on my case for 7.1.1 : \r\n\r\n```\r\ndocker run -d -p 9201:9200 -p 9301:9300 -v es-7.1.1-data:/usr/share/elasticsearch/data -e \"discovery.type=single-node\" -e 'ES_JAVA_OPTS=-Xlog:gc*,gc+age=trace,safepoint:stdout:utctime,pid,tags:' --name es-7.1.1 docker.elastic.co/elasticsearch/elasticsearch-oss:7.1.1\r\n```\r\nWith your proposition, both `-Xlog:gc` is on the command line and gc.log files are still created : \r\n```\r\n/usr/share/elasticsearch/jdk/bin/java -Xms1g -Xmx1g -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=75 -XX:+UseCMSInitiatingOccupancyOnly -Des.networkaddress.cache.ttl=60 -Des.networkaddress.cache.negative.ttl=10 -XX:+AlwaysPreTouch -Xss1m -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djna.nosys=true -XX:-OmitStackTraceInFastThrow -Dio.netty.noUnsafe=true -Dio.netty.noKeySetOptimization=true -Dio.netty.recycler.maxCapacityPerThread=0 -Dlog4j.shutdownHookEnabled=false -Dlog4j2.disable.jmx=true -Djava.io.tmpdir=/tmp/elasticsearch-3576427146310754484 -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=data -XX:ErrorFile=logs/hs_err_pid%p.log -Xlog:gc*,gc+age=trace,safepoint:file=logs/gc.log:utctime,pid,tags:filecount=32,filesize=64m -Djava.locale.providers=COMPAT -Dio.netty.allocator.type=unpooled -Des.cgroups.hierarchy.override=/ -Xlog:gc*,gc+age=trace,safepoint:stdout:utctime,pid,tags: -Des.path.home=/usr/share/elasticsearch -Des.path.conf=/usr/share/elasticsearch/config -Des.distribution.flavor=oss -Des.distribution.type=docker -Des.bundled_jdk=true -cp /usr/share/elasticsearch/lib/* org.elasticsearch.bootstrap.Elasticsearch -Ediscovery.type=single-node\r\n```\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/590893928","html_url":"https://github.com/elastic/elasticsearch/issues/43990#issuecomment-590893928","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43990","id":590893928,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDg5MzkyOA==","user":{"login":"pugnascotia","id":8696382,"node_id":"MDQ6VXNlcjg2OTYzODI=","avatar_url":"https://avatars1.githubusercontent.com/u/8696382?v=4","gravatar_id":"","url":"https://api.github.com/users/pugnascotia","html_url":"https://github.com/pugnascotia","followers_url":"https://api.github.com/users/pugnascotia/followers","following_url":"https://api.github.com/users/pugnascotia/following{/other_user}","gists_url":"https://api.github.com/users/pugnascotia/gists{/gist_id}","starred_url":"https://api.github.com/users/pugnascotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pugnascotia/subscriptions","organizations_url":"https://api.github.com/users/pugnascotia/orgs","repos_url":"https://api.github.com/users/pugnascotia/repos","events_url":"https://api.github.com/users/pugnascotia/events{/privacy}","received_events_url":"https://api.github.com/users/pugnascotia/received_events","type":"User","site_admin":false},"created_at":"2020-02-25T14:29:30Z","updated_at":"2020-02-25T14:29:30Z","author_association":"CONTRIBUTOR","body":"I was able to suppress the normal GC logging with:\r\n\r\n    ES_JAVA_OPTS=\"-Xlog:disable -Xlog:gc=debug:stderr\"\r\n\r\nEssentially, I disabled logging entirely, then re-enabled it pointing to standard error. By doing that, the GC logs are separated from the regular Elasticsearch logs e.g. I could do:\r\n\r\n    docker logs my-container-id >/dev/null\r\n\r\n...and only stderr is displayed. Note that `logs/gc.log` was still created, but it stayed empty while log information was being written to stderr\r\n\r\nThat being said, I whether we should reconsider the defaults. The default GC settings allow for a maximum of 32 files of at most 64mb, and that's potentially 2GB of GC logs. That feels like a lot. We could reduce these values so that we consume less space in the container's filesystem, or we could log only to stderr and let the container runtime / orchestrator worry about what to do with the logs. That's what [nginx] and [apache] do.\r\n\r\n@dliappis / @pgomulka what do you think?\r\n\r\n[nginx]: https://github.com/nginxinc/docker-nginx/blob/5971de30c487356d5d2a2e1a79e02b2612f9a72f/mainline/buster/Dockerfile#L95\r\n[apache]: https://github.com/docker-library/httpd/blob/4faace97468d7bced1ac4a072f89f151359ee9fa/2.4/Dockerfile#L137","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/590924935","html_url":"https://github.com/elastic/elasticsearch/issues/43990#issuecomment-590924935","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43990","id":590924935,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDkyNDkzNQ==","user":{"login":"JqckB","id":4499998,"node_id":"MDQ6VXNlcjQ0OTk5OTg=","avatar_url":"https://avatars1.githubusercontent.com/u/4499998?v=4","gravatar_id":"","url":"https://api.github.com/users/JqckB","html_url":"https://github.com/JqckB","followers_url":"https://api.github.com/users/JqckB/followers","following_url":"https://api.github.com/users/JqckB/following{/other_user}","gists_url":"https://api.github.com/users/JqckB/gists{/gist_id}","starred_url":"https://api.github.com/users/JqckB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JqckB/subscriptions","organizations_url":"https://api.github.com/users/JqckB/orgs","repos_url":"https://api.github.com/users/JqckB/repos","events_url":"https://api.github.com/users/JqckB/events{/privacy}","received_events_url":"https://api.github.com/users/JqckB/received_events","type":"User","site_admin":false},"created_at":"2020-02-25T15:30:11Z","updated_at":"2020-02-25T15:30:11Z","author_association":"NONE","body":"+1 with @pugnascotia on the default configuration. It should redirect all in stderr and let the container runtime handle the logs.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/591449725","html_url":"https://github.com/elastic/elasticsearch/issues/43990#issuecomment-591449725","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43990","id":591449725,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTQ0OTcyNQ==","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"created_at":"2020-02-26T14:20:38Z","updated_at":"2020-02-26T14:20:38Z","author_association":"CONTRIBUTOR","body":"@pugnascotia I like the idea of directing logs to stderr. We should still be able to distinguish streams of logs.  stdout are contains logs in JSON format with type field, and GC being on a different stream would not interfere.\r\nIt might be worth discussing changing the default, but using stderr sounds better to me","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/591516235","html_url":"https://github.com/elastic/elasticsearch/issues/43990#issuecomment-591516235","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43990","id":591516235,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTUxNjIzNQ==","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"created_at":"2020-02-26T16:26:57Z","updated_at":"2020-02-26T16:26:57Z","author_association":"CONTRIBUTOR","body":"we discussed this with a team and we came up with a conclusion that stderr should not be used. It should not be forgotten that it is aimed to be used by exception messages like JVM errors or similar. \r\nThe default options which end up taking 2GB of data are not excessive and we should stick with them.\r\nUsers are still able to limit amount of logs retained by changing jvm options as per https://openjdk.java.net/jeps/158 \r\nIf this is a frequent problem, maybe we should document this?\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/591528398","html_url":"https://github.com/elastic/elasticsearch/issues/43990#issuecomment-591528398","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43990","id":591528398,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTUyODM5OA==","user":{"login":"pugnascotia","id":8696382,"node_id":"MDQ6VXNlcjg2OTYzODI=","avatar_url":"https://avatars1.githubusercontent.com/u/8696382?v=4","gravatar_id":"","url":"https://api.github.com/users/pugnascotia","html_url":"https://github.com/pugnascotia","followers_url":"https://api.github.com/users/pugnascotia/followers","following_url":"https://api.github.com/users/pugnascotia/following{/other_user}","gists_url":"https://api.github.com/users/pugnascotia/gists{/gist_id}","starred_url":"https://api.github.com/users/pugnascotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pugnascotia/subscriptions","organizations_url":"https://api.github.com/users/pugnascotia/orgs","repos_url":"https://api.github.com/users/pugnascotia/repos","events_url":"https://api.github.com/users/pugnascotia/events{/privacy}","received_events_url":"https://api.github.com/users/pugnascotia/received_events","type":"User","site_admin":false},"created_at":"2020-02-26T16:51:28Z","updated_at":"2020-02-26T16:51:28Z","author_association":"CONTRIBUTOR","body":"I’ll update the documentation","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/591599588","html_url":"https://github.com/elastic/elasticsearch/issues/43990#issuecomment-591599588","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43990","id":591599588,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTU5OTU4OA==","user":{"login":"dliappis","id":1754575,"node_id":"MDQ6VXNlcjE3NTQ1NzU=","avatar_url":"https://avatars0.githubusercontent.com/u/1754575?v=4","gravatar_id":"","url":"https://api.github.com/users/dliappis","html_url":"https://github.com/dliappis","followers_url":"https://api.github.com/users/dliappis/followers","following_url":"https://api.github.com/users/dliappis/following{/other_user}","gists_url":"https://api.github.com/users/dliappis/gists{/gist_id}","starred_url":"https://api.github.com/users/dliappis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dliappis/subscriptions","organizations_url":"https://api.github.com/users/dliappis/orgs","repos_url":"https://api.github.com/users/dliappis/repos","events_url":"https://api.github.com/users/dliappis/events{/privacy}","received_events_url":"https://api.github.com/users/dliappis/received_events","type":"User","site_admin":false},"created_at":"2020-02-26T19:25:18Z","updated_at":"2020-02-26T19:25:18Z","author_association":"CONTRIBUTOR","body":"> I’ll update the documentation\r\n\r\nTackling this through documentation, in my eyes, is a practical solution. Thanks both @pugnascotia and @pgomulka for picking it up.","performed_via_github_app":null}]