[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/555155007","html_url":"https://github.com/elastic/elasticsearch/issues/49261#issuecomment-555155007","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49261","id":555155007,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTE1NTAwNw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-11-18T18:48:34Z","updated_at":"2019-11-18T18:48:34Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-security (:Security/Authorization)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/559691359","html_url":"https://github.com/elastic/elasticsearch/issues/49261#issuecomment-559691359","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49261","id":559691359,"node_id":"MDEyOklzc3VlQ29tbWVudDU1OTY5MTM1OQ==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2019-11-29T07:39:39Z","updated_at":"2019-11-29T07:39:39Z","author_association":"CONTRIBUTOR","body":"@jkakavas Did you close the wrong issue?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/559692762","html_url":"https://github.com/elastic/elasticsearch/issues/49261#issuecomment-559692762","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49261","id":559692762,"node_id":"MDEyOklzc3VlQ29tbWVudDU1OTY5Mjc2Mg==","user":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"created_at":"2019-11-29T07:45:40Z","updated_at":"2019-11-29T07:45:40Z","author_association":"CONTRIBUTOR","body":"Yeap, wrong resolves link :/","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/562213460","html_url":"https://github.com/elastic/elasticsearch/issues/49261#issuecomment-562213460","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49261","id":562213460,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjIxMzQ2MA==","user":{"login":"olegbonar","id":25862932,"node_id":"MDQ6VXNlcjI1ODYyOTMy","avatar_url":"https://avatars3.githubusercontent.com/u/25862932?v=4","gravatar_id":"","url":"https://api.github.com/users/olegbonar","html_url":"https://github.com/olegbonar","followers_url":"https://api.github.com/users/olegbonar/followers","following_url":"https://api.github.com/users/olegbonar/following{/other_user}","gists_url":"https://api.github.com/users/olegbonar/gists{/gist_id}","starred_url":"https://api.github.com/users/olegbonar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/olegbonar/subscriptions","organizations_url":"https://api.github.com/users/olegbonar/orgs","repos_url":"https://api.github.com/users/olegbonar/repos","events_url":"https://api.github.com/users/olegbonar/events{/privacy}","received_events_url":"https://api.github.com/users/olegbonar/received_events","type":"User","site_admin":false},"created_at":"2019-12-05T16:47:32Z","updated_at":"2019-12-05T16:47:32Z","author_association":"CONTRIBUTOR","body":"Hi @jpountz! If I understand you correctly we can try using a `RemovalListener` in order to remove the leaking entry from `keysByIndex` too. What do you think?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/562605698","html_url":"https://github.com/elastic/elasticsearch/issues/49261#issuecomment-562605698","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49261","id":562605698,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjYwNTY5OA==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2019-12-06T15:01:41Z","updated_at":"2019-12-06T15:01:41Z","author_association":"CONTRIBUTOR","body":"Yes this is the idea. The tricky part is to make sure there are no race conditions in case a query is removed from the cache and shortly added back afterwards.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/567978417","html_url":"https://github.com/elastic/elasticsearch/issues/49261#issuecomment-567978417","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49261","id":567978417,"node_id":"MDEyOklzc3VlQ29tbWVudDU2Nzk3ODQxNw==","user":{"login":"olegbonar","id":25862932,"node_id":"MDQ6VXNlcjI1ODYyOTMy","avatar_url":"https://avatars3.githubusercontent.com/u/25862932?v=4","gravatar_id":"","url":"https://api.github.com/users/olegbonar","html_url":"https://github.com/olegbonar","followers_url":"https://api.github.com/users/olegbonar/followers","following_url":"https://api.github.com/users/olegbonar/following{/other_user}","gists_url":"https://api.github.com/users/olegbonar/gists{/gist_id}","starred_url":"https://api.github.com/users/olegbonar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/olegbonar/subscriptions","organizations_url":"https://api.github.com/users/olegbonar/orgs","repos_url":"https://api.github.com/users/olegbonar/repos","events_url":"https://api.github.com/users/olegbonar/events{/privacy}","received_events_url":"https://api.github.com/users/olegbonar/received_events","type":"User","site_admin":false},"created_at":"2019-12-20T16:11:08Z","updated_at":"2019-12-20T16:11:25Z","author_association":"CONTRIBUTOR","body":"@jpountz, I'm not a concurrency expert but should we make adding to the cache and adding to the hashmap a single atomic operation? Aren't they atomic now?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/569845069","html_url":"https://github.com/elastic/elasticsearch/issues/49261#issuecomment-569845069","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49261","id":569845069,"node_id":"MDEyOklzc3VlQ29tbWVudDU2OTg0NTA2OQ==","user":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"created_at":"2019-12-31T01:36:47Z","updated_at":"2019-12-31T01:36:47Z","author_association":"CONTRIBUTOR","body":"@olegbonar Have you made any progress on this? I'd like to fix this bug in the next couple of weeks, but I'm happy to leave it for you if you've got something underway.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/569880413","html_url":"https://github.com/elastic/elasticsearch/issues/49261#issuecomment-569880413","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49261","id":569880413,"node_id":"MDEyOklzc3VlQ29tbWVudDU2OTg4MDQxMw==","user":{"login":"olegbonar","id":25862932,"node_id":"MDQ6VXNlcjI1ODYyOTMy","avatar_url":"https://avatars3.githubusercontent.com/u/25862932?v=4","gravatar_id":"","url":"https://api.github.com/users/olegbonar","html_url":"https://github.com/olegbonar","followers_url":"https://api.github.com/users/olegbonar/followers","following_url":"https://api.github.com/users/olegbonar/following{/other_user}","gists_url":"https://api.github.com/users/olegbonar/gists{/gist_id}","starred_url":"https://api.github.com/users/olegbonar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/olegbonar/subscriptions","organizations_url":"https://api.github.com/users/olegbonar/orgs","repos_url":"https://api.github.com/users/olegbonar/repos","events_url":"https://api.github.com/users/olegbonar/events{/privacy}","received_events_url":"https://api.github.com/users/olegbonar/received_events","type":"User","site_admin":false},"created_at":"2019-12-31T07:24:50Z","updated_at":"2019-12-31T07:24:50Z","author_association":"CONTRIBUTOR","body":"@tvernum, I haven't. Please take it.","performed_via_github_app":null}]