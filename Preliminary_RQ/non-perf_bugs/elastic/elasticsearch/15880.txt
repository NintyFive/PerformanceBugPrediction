{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/15880","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15880/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15880/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15880/events","html_url":"https://github.com/elastic/elasticsearch/issues/15880","id":125913435,"node_id":"MDU6SXNzdWUxMjU5MTM0MzU=","number":15880,"title":"elasticsearch fails to start tribe node","user":{"login":"zcola","id":3234989,"node_id":"MDQ6VXNlcjMyMzQ5ODk=","avatar_url":"https://avatars3.githubusercontent.com/u/3234989?v=4","gravatar_id":"","url":"https://api.github.com/users/zcola","html_url":"https://github.com/zcola","followers_url":"https://api.github.com/users/zcola/followers","following_url":"https://api.github.com/users/zcola/following{/other_user}","gists_url":"https://api.github.com/users/zcola/gists{/gist_id}","starred_url":"https://api.github.com/users/zcola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zcola/subscriptions","organizations_url":"https://api.github.com/users/zcola/orgs","repos_url":"https://api.github.com/users/zcola/repos","events_url":"https://api.github.com/users/zcola/events{/privacy}","received_events_url":"https://api.github.com/users/zcola/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2016-01-11T10:19:57Z","updated_at":"2016-01-27T09:24:30Z","closed_at":"2016-01-11T16:55:12Z","author_association":"NONE","active_lock_reason":null,"body":"Hi folks,\n\nI'm trying to start tribe node using following config:\n\n```\nnetwork.host: 10.63.19.34\ntribe:\n    e6001:\n        #path.conf: /home/elk/etc/tribe-client\n        cluster.name: es-test\n        discovery.zen.ping.timeout: 100s\n        discovery.zen.ping.multicast.enabled: false\n        discovery.zen.ping.unicast.hosts: [\"10.63.19.36\", \"10.63.19.37\"]\n    e6002:\n        #path.conf: /home/elk/etc/tribe-client\n        cluster.name: es-testold\n        discovery.zen.ping.timeout: 100s\n        discovery.zen.ping.multicast.enabled: false\n        discovery.zen.ping.unicast.hosts: [\"10.63.19.34\"]\n    blocks:\n        write:    true\n        metadata: true\n```\n\nThis config resides in the file `~/etc/elasticsearch_tribe/elasticsearch.yml`. I'm starting it using following command:\n\n```\n/home/elk/running/elasticsearch/bin/elasticsearch  --path.conf /home/elk/etc/elasticsearch_tribe\n```\n\nElasticsearch fails with following output:\n\n2.1.1\n\n```\n/home/elk/running/elasticsearch/bin/elasticsearch  --path.conf /home/elk/etc/elasticsearch_tribe\n[2016-01-11 18:14:07,952][WARN ][bootstrap                ] unable to install syscall filter: prctl(PR_GET_NO_NEW_PRIVS): Invalid argument\n[2016-01-11 18:14:08,312][INFO ][node                     ] [Great Gambonnos] version[2.1.1], pid[21083], build[40e2c53/2015-12-15T13:05:55Z]\n[2016-01-11 18:14:08,312][INFO ][node                     ] [Great Gambonnos] initializing ...\n[2016-01-11 18:14:08,686][INFO ][plugins                  ] [Great Gambonnos] loaded [elasticsearch-analysis-ik], sites []\n[2016-01-11 18:14:11,782][INFO ][ik-analyzer              ] [Dict Loading]ik/custom/mydict.dic\n[2016-01-11 18:14:11,783][INFO ][ik-analyzer              ] [Dict Loading]ik/custom/single_word_low_freq.dic\n[2016-01-11 18:14:11,787][INFO ][ik-analyzer              ] [Dict Loading]ik/custom/ext_stopword.dic\n[2016-01-11 18:14:12,705][INFO ][node                     ] [Great Gambonnos/e6001] version[2.1.1], pid[21083], build[40e2c53/2015-12-15T13:05:55Z]\n[2016-01-11 18:14:12,706][INFO ][node                     ] [Great Gambonnos/e6001] initializing ...\n[2016-01-11 18:14:13,080][INFO ][plugins                  ] [Great Gambonnos/e6001] loaded [elasticsearch-analysis-ik], sites []\nException in thread \"main\" java.security.AccessControlException: access denied (\"java.io.FilePermission\" \"/home/elk/running/elasticsearch/config/hunspell\" \"read\")\n    at java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\n    at java.security.AccessController.checkPermission(AccessController.java:884)\n    at java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\n    at java.lang.SecurityManager.checkRead(SecurityManager.java:888)\n    at sun.nio.fs.UnixPath.checkRead(UnixPath.java:795)\n    at sun.nio.fs.UnixFileAttributeViews$Basic.readAttributes(UnixFileAttributeViews.java:49)\n    at sun.nio.fs.UnixFileSystemProvider.readAttributes(UnixFileSystemProvider.java:144)\n    at sun.nio.fs.LinuxFileSystemProvider.readAttributes(LinuxFileSystemProvider.java:99)\n    at java.nio.file.Files.readAttributes(Files.java:1737)\n    at java.nio.file.Files.isDirectory(Files.java:2192)\n    at org.elasticsearch.indices.analysis.HunspellService.scanAndLoadDictionaries(HunspellService.java:127)\n    at org.elasticsearch.indices.analysis.HunspellService.<init>(HunspellService.java:102)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:422)\n    at <<<guice>>>\n    at org.elasticsearch.node.Node.<init>(Node.java:200)\n    at org.elasticsearch.tribe.TribeClientNode.<init>(TribeClientNode.java:35)\n    at org.elasticsearch.tribe.TribeService.<init>(TribeService.java:140)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:422)\n    at <<<guice>>>\n    at org.elasticsearch.node.Node.<init>(Node.java:200)\n    at org.elasticsearch.node.Node.<init>(Node.java:128)\n    at org.elasticsearch.node.NodeBuilder.build(NodeBuilder.java:145)\n    at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:178)\n    at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:285)\n    <<<truncated>>>\n```\n\n2.1.0\n\n```\n/home/elk/running/elasticsearch/bin/elasticsearch  --path.conf /home/elk/etc/elasticsearch_tribe\n[2016-01-11 18:17:05,196][WARN ][bootstrap                ] unable to install syscall filter: prctl(PR_GET_NO_NEW_PRIVS): Invalid argument\n[2016-01-11 18:17:05,562][INFO ][node                     ] [Lasher] version[2.1.0], pid[22340], build[72cd1f1/2015-11-18T22:40:03Z]\n[2016-01-11 18:17:05,562][INFO ][node                     ] [Lasher] initializing ...\n[2016-01-11 18:17:06,120][INFO ][plugins                  ] [Lasher] loaded [license, marvel-agent, ${elasticsearch.plugin.name}], sites [kopf]\n[2016-01-11 18:17:09,358][INFO ][ik-analyzer              ] [Dict Loading]ik/custom/mydict.dic\n[2016-01-11 18:17:09,366][INFO ][ik-analyzer              ] [Dict Loading]ik/custom/single_word_low_freq.dic\n[2016-01-11 18:17:09,372][INFO ][ik-analyzer              ] [Dict Loading]ik/custom/ext_stopword.dic\nException in thread \"main\" java.security.AccessControlException: access denied (\"java.io.FilePermission\" \"/home/elk/running/elasticsearch/config/elasticsearch.yml\" \"read\")\n    at java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\n    at java.security.AccessController.checkPermission(AccessController.java:884)\n    at java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\n    at java.lang.SecurityManager.checkRead(SecurityManager.java:888)\n    at sun.nio.fs.UnixPath.checkRead(UnixPath.java:795)\n    at sun.nio.fs.UnixFileSystemProvider.checkAccess(UnixFileSystemProvider.java:290)\n    at java.nio.file.Files.exists(Files.java:2385)\n    at org.elasticsearch.node.internal.InternalSettingsPreparer.prepareEnvironment(InternalSettingsPreparer.java:86)\n    at org.elasticsearch.node.Node.<init>(Node.java:135)\n    at org.elasticsearch.node.Node.<init>(Node.java:129)\n    at org.elasticsearch.node.NodeBuilder.build(NodeBuilder.java:145)\n    at org.elasticsearch.tribe.TribeService.<init>(TribeService.java:140)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:422)\n    at <<<guice>>>\n    at org.elasticsearch.node.Node.<init>(Node.java:202)\n    at org.elasticsearch.node.Node.<init>(Node.java:129)\n    at org.elasticsearch.node.NodeBuilder.build(NodeBuilder.java:145)\n    at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:178)\n    at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:285)\n    at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:35)\n```\n\n```\njava -version\njava version \"1.8.0_66\"\nJava(TM) SE Runtime Environment (build 1.8.0_66-b17)\nJava HotSpot(TM) 64-Bit Server VM (build 25.66-b17, mixed mode)\ncat /etc/debian_version\n7.9\n```\n\nPlease advise how this can be resolved.\n\nThinks\n","closed_by":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"performed_via_github_app":null}