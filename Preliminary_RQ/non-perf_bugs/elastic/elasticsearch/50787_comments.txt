[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/572513255","html_url":"https://github.com/elastic/elasticsearch/issues/50787#issuecomment-572513255","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50787","id":572513255,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MjUxMzI1NQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-01-09T11:09:01Z","updated_at":"2020-01-09T11:09:01Z","author_association":"COLLABORATOR","body":"Pinging @elastic/ml-core (:ml)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/572519661","html_url":"https://github.com/elastic/elasticsearch/issues/50787#issuecomment-572519661","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50787","id":572519661,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MjUxOTY2MQ==","user":{"login":"przemekwitek","id":19312454,"node_id":"MDQ6VXNlcjE5MzEyNDU0","avatar_url":"https://avatars3.githubusercontent.com/u/19312454?v=4","gravatar_id":"","url":"https://api.github.com/users/przemekwitek","html_url":"https://github.com/przemekwitek","followers_url":"https://api.github.com/users/przemekwitek/followers","following_url":"https://api.github.com/users/przemekwitek/following{/other_user}","gists_url":"https://api.github.com/users/przemekwitek/gists{/gist_id}","starred_url":"https://api.github.com/users/przemekwitek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/przemekwitek/subscriptions","organizations_url":"https://api.github.com/users/przemekwitek/orgs","repos_url":"https://api.github.com/users/przemekwitek/repos","events_url":"https://api.github.com/users/przemekwitek/events{/privacy}","received_events_url":"https://api.github.com/users/przemekwitek/received_events","type":"User","site_admin":false},"created_at":"2020-01-09T11:26:34Z","updated_at":"2020-01-09T11:26:34Z","author_association":"CONTRIBUTOR","body":"I was able to reproduce the issue locally, using integration test.\r\nThe failure is:\r\n```\r\n  2> java.lang.AssertionError: \r\n    Expected: is null\r\n         but: was \"[dependent_variable_of_type_alias] Failed to join results: failures while writing results [failure in bulk execution:\\n[0]: index [dependent_variable_of_type_alias_source_index_results], id [h5oMim8BRLpRVR6aNCHK], message [org.elasticsearch.index.mapper.MapperParsingException: failed to parse]\\n[1]: index [dependent_variable_of_type_alias_source_index_results], id [hpoMim8BRLpRVR6aNCHK], message [org.elasticsearch.index.mapper.MapperParsingException: failed to parse]\\n[2]: index [dependent_variable_of_type_alias_source_index_results], id [i5oMim8BRLpRVR6aNCHK], message [org.elasticsearch.index.mapper.MapperParsingException: failed to parse]\\n[3]: index [dependent_variable_of_type_alias_source_index_results], id [iJoMim8BRLpRVR6aNCHK], message [org.elasticsearch.index.mapper.MapperParsingException: failed to parse]\\n[4]: index [dependent_variable_of_type_alias_source_index_results], id [iZoMim8BRLpRVR6aNCHK], message [org.elasticsearch.index.mapper.MapperParsingException: failed to parse]\\n[5]: index [dependent_variable_of_type_alias_source_index_results], id [ipoMim8BRLpRVR6aNCHK], message [org.elasticsearch.index.mapper.MapperParsingException: failed to parse]\\n[6]: index [dependent_variable_of_type_alias_source_index_results], id [j5oMim8BRLpRVR6aNCHK], message [org.elasticsearch.index.mapper.MapperParsingException: failed to parse]\\n[7]: index [dependent_variable_of_type_alias_source_index_results], id [jJoMim8BRLpRVR6aNCHK], message [org.elasticsearch.index.mapper.MapperParsingException: failed to parse]\\n[8]: index [dependent_variable_of_type_alias_source_index_results], id [jZoMim8BRLpRVR6aNCHK], message [org.elasticsearch.index.mapper.MapperParsingException: failed to parse]\\n[9]: index [dependent_variable_of_type_alias_source_index_results], id [jpoMim8BRLpRVR6aNCHK], message [org.elasticsearch.index.mapper.MapperParsingException: failed to parse]\\n[10]: index [dependent_variable_of_type_alias_source_index_results], id [kJoMim8BRLpRVR6aNCHK], message [org.elasticsearch.index.mapper.MapperParsingException: failed to parse]]\"\r\n        at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:18)\r\n        at org.junit.Assert.assertThat(Assert.java:956)\r\n        at org.junit.Assert.assertThat(Assert.java:923)\r\n        at org.elasticsearch.xpack.ml.integration.MlNativeDataFrameAnalyticsIntegTestCase.assertIsStopped(MlNativeDataFrameAnalyticsIntegTestCase.java:188)\r\n        at org.elasticsearch.xpack.ml.integration.MlNativeDataFrameAnalyticsIntegTestCase.lambda$waitUntilAnalyticsIsStopped$0(MlNativeDataFrameAnalyticsIntegTestCase.java:139)\r\n        at org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:879)\r\n        at org.elasticsearch.xpack.ml.integration.MlNativeDataFrameAnalyticsIntegTestCase.waitUntilAnalyticsIsStopped(MlNativeDataFrameAnalyticsIntegTestCase.java:139)\r\n        at org.elasticsearch.xpack.ml.integration.MlNativeDataFrameAnalyticsIntegTestCase.waitUntilAnalyticsIsStopped(MlNativeDataFrameAnalyticsIntegTestCase.java:135)\r\n        at org.elasticsearch.xpack.ml.integration.ClassificationIT.testDependentVariableOfTypeAlias(ClassificationIT.java:357)\r\n\r\n    java.lang.RuntimeException: Had to resort to force-stopping jobs, something went wrong?\r\n        at org.elasticsearch.xpack.ml.integration.MlNativeDataFrameAnalyticsIntegTestCase.stopAnalyticsAndForceStopOnError(MlNativeDataFrameAnalyticsIntegTestCase.java:98)\r\n        at org.elasticsearch.xpack.ml.integration.MlNativeDataFrameAnalyticsIntegTestCase.cleanUpAnalytics(MlNativeDataFrameAnalyticsIntegTestCase.java:76)\r\n        at org.elasticsearch.xpack.ml.integration.MlNativeDataFrameAnalyticsIntegTestCase.cleanUpResources(MlNativeDataFrameAnalyticsIntegTestCase.java:72)\r\n        at org.elasticsearch.xpack.ml.integration.MlNativeIntegTestCase.cleanUp(MlNativeIntegTestCase.java:128)\r\n        at org.elasticsearch.xpack.ml.integration.ClassificationIT.cleanup(ClassificationIT.java:79)\r\n\r\n        Caused by:\r\n        org.elasticsearch.ElasticsearchStatusException: cannot close data frame analytics [dependent_variable_of_type_alias] because it failed, use force stop instead\r\n```","performed_via_github_app":null}]