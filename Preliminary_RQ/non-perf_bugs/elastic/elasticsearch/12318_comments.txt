[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/122298060","html_url":"https://github.com/elastic/elasticsearch/issues/12318#issuecomment-122298060","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12318","id":122298060,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjI5ODA2MA==","user":{"login":"Srinathc","id":1152327,"node_id":"MDQ6VXNlcjExNTIzMjc=","avatar_url":"https://avatars1.githubusercontent.com/u/1152327?v=4","gravatar_id":"","url":"https://api.github.com/users/Srinathc","html_url":"https://github.com/Srinathc","followers_url":"https://api.github.com/users/Srinathc/followers","following_url":"https://api.github.com/users/Srinathc/following{/other_user}","gists_url":"https://api.github.com/users/Srinathc/gists{/gist_id}","starred_url":"https://api.github.com/users/Srinathc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Srinathc/subscriptions","organizations_url":"https://api.github.com/users/Srinathc/orgs","repos_url":"https://api.github.com/users/Srinathc/repos","events_url":"https://api.github.com/users/Srinathc/events{/privacy}","received_events_url":"https://api.github.com/users/Srinathc/received_events","type":"User","site_admin":false},"created_at":"2015-07-17T14:45:51Z","updated_at":"2015-07-17T14:45:51Z","author_association":"NONE","body":"Update - the cluster recovered to green state with each node reporting consistent state (_cluster/state) after around 12 hours. Will resume bulk indexing at a lower rate to understand this better.\n\nIs there any other info that will be helpful in looking into and resolving this issue?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/124459463","html_url":"https://github.com/elastic/elasticsearch/issues/12318#issuecomment-124459463","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12318","id":124459463,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNDQ1OTQ2Mw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-07-24T09:53:15Z","updated_at":"2015-07-24T09:53:15Z","author_association":"CONTRIBUTOR","body":"Possibly related to https://github.com/elastic/elasticsearch/issues/12011\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/124459665","html_url":"https://github.com/elastic/elasticsearch/issues/12318#issuecomment-124459665","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12318","id":124459665,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNDQ1OTY2NQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-07-24T09:54:46Z","updated_at":"2015-07-24T09:54:46Z","author_association":"CONTRIBUTOR","body":"HI @Srinathc \n\nCan you tell us the reason that the cluster went yellow in the first place? What caused the shard failure?\n\nThen could you also try to provide the info requested here please: https://github.com/elastic/elasticsearch/issues/12011#issuecomment-122241136\n\nthanks\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/124601497","html_url":"https://github.com/elastic/elasticsearch/issues/12318#issuecomment-124601497","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12318","id":124601497,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNDYwMTQ5Nw==","user":{"login":"ClauditaO","id":5437126,"node_id":"MDQ6VXNlcjU0MzcxMjY=","avatar_url":"https://avatars0.githubusercontent.com/u/5437126?v=4","gravatar_id":"","url":"https://api.github.com/users/ClauditaO","html_url":"https://github.com/ClauditaO","followers_url":"https://api.github.com/users/ClauditaO/followers","following_url":"https://api.github.com/users/ClauditaO/following{/other_user}","gists_url":"https://api.github.com/users/ClauditaO/gists{/gist_id}","starred_url":"https://api.github.com/users/ClauditaO/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ClauditaO/subscriptions","organizations_url":"https://api.github.com/users/ClauditaO/orgs","repos_url":"https://api.github.com/users/ClauditaO/repos","events_url":"https://api.github.com/users/ClauditaO/events{/privacy}","received_events_url":"https://api.github.com/users/ClauditaO/received_events","type":"User","site_admin":false},"created_at":"2015-07-24T18:05:10Z","updated_at":"2015-07-24T18:06:22Z","author_association":"NONE","body":"Hi,\n\nany ideas on why this is happening? I have a similar problem, after indexing 500M docs, my cluster will not recover any index.\n\nrecovered [0] indices into cluster_state\n\nIt was showing all the indexes before the last indexing process.\n\nShould I leave elasticsearch running to see if it manages to recover the indexes after a while?\n\nThank you\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/124944749","html_url":"https://github.com/elastic/elasticsearch/issues/12318#issuecomment-124944749","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12318","id":124944749,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNDk0NDc0OQ==","user":{"login":"Srinathc","id":1152327,"node_id":"MDQ6VXNlcjExNTIzMjc=","avatar_url":"https://avatars1.githubusercontent.com/u/1152327?v=4","gravatar_id":"","url":"https://api.github.com/users/Srinathc","html_url":"https://github.com/Srinathc","followers_url":"https://api.github.com/users/Srinathc/followers","following_url":"https://api.github.com/users/Srinathc/following{/other_user}","gists_url":"https://api.github.com/users/Srinathc/gists{/gist_id}","starred_url":"https://api.github.com/users/Srinathc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Srinathc/subscriptions","organizations_url":"https://api.github.com/users/Srinathc/orgs","repos_url":"https://api.github.com/users/Srinathc/repos","events_url":"https://api.github.com/users/Srinathc/events{/privacy}","received_events_url":"https://api.github.com/users/Srinathc/received_events","type":"User","site_admin":false},"created_at":"2015-07-26T04:33:47Z","updated_at":"2015-07-26T04:34:49Z","author_association":"NONE","body":"@clintongormley not sure why it went into yellow but there was good amount of GC events happening. Will run up the tests again and share the hot_threads output if this happens again.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/125087914","html_url":"https://github.com/elastic/elasticsearch/issues/12318#issuecomment-125087914","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12318","id":125087914,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNTA4NzkxNA==","user":{"login":"Srinathc","id":1152327,"node_id":"MDQ6VXNlcjExNTIzMjc=","avatar_url":"https://avatars1.githubusercontent.com/u/1152327?v=4","gravatar_id":"","url":"https://api.github.com/users/Srinathc","html_url":"https://github.com/Srinathc","followers_url":"https://api.github.com/users/Srinathc/followers","following_url":"https://api.github.com/users/Srinathc/following{/other_user}","gists_url":"https://api.github.com/users/Srinathc/gists{/gist_id}","starred_url":"https://api.github.com/users/Srinathc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Srinathc/subscriptions","organizations_url":"https://api.github.com/users/Srinathc/orgs","repos_url":"https://api.github.com/users/Srinathc/repos","events_url":"https://api.github.com/users/Srinathc/events{/privacy}","received_events_url":"https://api.github.com/users/Srinathc/received_events","type":"User","site_admin":false},"created_at":"2015-07-27T05:09:59Z","updated_at":"2015-07-27T05:09:59Z","author_association":"NONE","body":"@clintongormley we encountered this issue again during our overnight test.\nThe hot threads output is available here - https://gist.github.com/Srinathc/4726dfaa0e9ca314e666#file-hot_threads-txt.\n\nDocuments of around 2k were being indexed at the rate of 2500 per second and things seemed to be really calm with CPU ~15%. But we increased the index rate to around 3500-4000 per second and found that the cluster was in this state in the morning.\n\nHope it helps to resolve the issue. Let me know if you need anything else\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/125176651","html_url":"https://github.com/elastic/elasticsearch/issues/12318#issuecomment-125176651","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12318","id":125176651,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNTE3NjY1MQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-07-27T11:47:38Z","updated_at":"2015-07-27T11:47:38Z","author_association":"CONTRIBUTOR","body":"@martijnvg could you take a look at this please?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/146516467","html_url":"https://github.com/elastic/elasticsearch/issues/12318#issuecomment-146516467","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12318","id":146516467,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjUxNjQ2Nw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-10-08T11:58:20Z","updated_at":"2015-10-08T11:58:20Z","author_association":"CONTRIBUTOR","body":"This looks like it is related to this bug in Lucene: https://issues.apache.org/jira/browse/LUCENE-6670\n\nBasically, an OOM exception is thrown on a merge thread which means the lock is never released.  This bug is fixed in Lucene 5.3 and backported to 2.0.  For 1.x, there is not much we can do expect advising you to keep heap usage as low as possible.\n","performed_via_github_app":null}]