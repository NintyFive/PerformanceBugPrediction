{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/15624","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15624/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15624/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15624/events","html_url":"https://github.com/elastic/elasticsearch/issues/15624","id":123614309,"node_id":"MDU6SXNzdWUxMjM2MTQzMDk=","number":15624,"title":"One server SERVER_UNAVAILBLE","user":{"login":"shaharmor","id":10861920,"node_id":"MDQ6VXNlcjEwODYxOTIw","avatar_url":"https://avatars3.githubusercontent.com/u/10861920?v=4","gravatar_id":"","url":"https://api.github.com/users/shaharmor","html_url":"https://github.com/shaharmor","followers_url":"https://api.github.com/users/shaharmor/followers","following_url":"https://api.github.com/users/shaharmor/following{/other_user}","gists_url":"https://api.github.com/users/shaharmor/gists{/gist_id}","starred_url":"https://api.github.com/users/shaharmor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shaharmor/subscriptions","organizations_url":"https://api.github.com/users/shaharmor/orgs","repos_url":"https://api.github.com/users/shaharmor/repos","events_url":"https://api.github.com/users/shaharmor/events{/privacy}","received_events_url":"https://api.github.com/users/shaharmor/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-12-23T07:30:40Z","updated_at":"2015-12-23T08:20:44Z","closed_at":"2015-12-23T08:20:44Z","author_association":"NONE","active_lock_reason":null,"body":"```\n[2015-12-23 07:28:50,395][INFO ][cluster.service          ] [elasticsearch5eu] detected_master {elasticsearch4eu}{mwj3SPCCTxC6Hs-vVUi7DA}{10.240.0.27}{10.240.0.27:9300}{max_local_storage_nodes=1}, added {{elasticsearch4eu}{mwj3SPCCTxC6Hs-vVUi7DA}{10.240.0.27}{10.240.0.27:9300}{max_local_storage_nodes=1},}, reason: zen-disco-receive(from master [{elasticsearch4eu}{mwj3SPCCTxC6Hs-vVUi7DA}{10.240.0.27}{10.240.0.27:9300}{max_local_storage_nodes=1}])\n[2015-12-23 07:28:50,397][INFO ][discovery.zen            ] [elasticsearch5eu] master_left [{elasticsearch4eu}{mwj3SPCCTxC6Hs-vVUi7DA}{10.240.0.27}{10.240.0.27:9300}{max_local_storage_nodes=1}], reason [transport disconnected]\n[2015-12-23 07:28:50,397][INFO ][discovery.zen            ] [elasticsearch5eu] failed to send join request to master [{elasticsearch4eu}{mwj3SPCCTxC6Hs-vVUi7DA}{10.240.0.27}{10.240.0.27:9300}{max_local_storage_nodes=1}], reason [NodeDisconnectedException[[elasticsearch4eu][10.240.0.27:9300][internal:discovery/zen/join] disconnected]]\n[2015-12-23 07:28:50,397][WARN ][discovery.zen            ] [elasticsearch5eu] master left (reason = transport disconnected), current nodes: {{elasticsearch3eu}{p5GtQctYTUmBxt9ICB8NrA}{10.240.0.22}{10.240.0.22:9300}{max_local_storage_nodes=1},{elasticsearch5eu}{-PXOfPkwQRSPYpwsLpapag}{10.240.0.29}{10.240.0.29:9300}{max_local_storage_nodes=1},}\n[2015-12-23 07:28:50,397][INFO ][cluster.service          ] [elasticsearch5eu] removed {{elasticsearch4eu}{mwj3SPCCTxC6Hs-vVUi7DA}{10.240.0.27}{10.240.0.27:9300}{max_local_storage_nodes=1},}, reason: zen-disco-master_failed ({elasticsearch4eu}{mwj3SPCCTxC6Hs-vVUi7DA}{10.240.0.27}{10.240.0.27:9300}{max_local_storage_nodes=1})\n[2015-12-23 07:28:50,397][WARN ][cluster.service          ] [elasticsearch5eu] failed to notify ClusterStateListener\njava.lang.IllegalStateException: master not available when registering auto-generated license\n    at org.elasticsearch.license.plugin.core.LicensesService.requestTrialLicense(LicensesService.java:750)\n    at org.elasticsearch.license.plugin.core.LicensesService.clusterChanged(LicensesService.java:484)\n    at org.elasticsearch.cluster.service.InternalClusterService$UpdateTask.run(InternalClusterService.java:494)\n    at org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.runAndClean(PrioritizedEsThreadPoolExecutor.java:231)\n    at org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.run(PrioritizedEsThreadPoolExecutor.java:194)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n[2015-12-23 07:28:51,422][INFO ][rest.suppressed          ] /_bulk Params: {}\nClusterBlockException[blocked by: [SERVICE_UNAVAILABLE/2/no master];]\n    at org.elasticsearch.cluster.block.ClusterBlocks.globalBlockedException(ClusterBlocks.java:154)\n    at org.elasticsearch.cluster.block.ClusterBlocks.globalBlockedRaiseException(ClusterBlocks.java:144)\n    at org.elasticsearch.action.bulk.TransportBulkAction.executeBulk(TransportBulkAction.java:212)\n    at org.elasticsearch.action.bulk.TransportBulkAction.doExecute(TransportBulkAction.java:159)\n    at org.elasticsearch.action.bulk.TransportBulkAction.doExecute(TransportBulkAction.java:71)\n    at org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:70)\n    at org.elasticsearch.client.node.NodeClient.doExecute(NodeClient.java:58)\n    at org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:347)\n    at org.elasticsearch.client.FilterClient.doExecute(FilterClient.java:52)\n    at org.elasticsearch.rest.BaseRestHandler$HeadersAndContextCopyClient.doExecute(BaseRestHandler.java:83)\n    at org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:347)\n    at org.elasticsearch.client.support.AbstractClient.bulk(AbstractClient.java:424)\n    at org.elasticsearch.rest.action.bulk.RestBulkAction.handleRequest(RestBulkAction.java:90)\n    at org.elasticsearch.rest.BaseRestHandler.handleRequest(BaseRestHandler.java:54)\n    at org.elasticsearch.rest.RestController.executeHandler(RestController.java:207)\n    at org.elasticsearch.rest.RestController.dispatchRequest(RestController.java:166)\n    at org.elasticsearch.http.HttpServer.internalDispatchRequest(HttpServer.java:128)\n    at org.elasticsearch.http.HttpServer$Dispatcher.dispatchRequest(HttpServer.java:86)\n    at org.elasticsearch.http.netty.NettyHttpServerTransport.dispatchRequest(NettyHttpServerTransport.java:348)\n    at org.elasticsearch.http.netty.HttpRequestHandler.messageReceived(HttpRequestHandler.java:63)\n    at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70)\n    at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)\n    at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)\n    at org.elasticsearch.http.netty.pipelining.HttpPipeliningHandler.messageReceived(HttpPipeliningHandler.java:60)\n    at org.jboss.netty.channel.SimpleChannelHandler.handleUpstream(SimpleChannelHandler.java:88)\n    at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)\n    at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)\n    at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:296)\n    at org.jboss.netty.handler.codec.http.HttpChunkAggregator.messageReceived(HttpChunkAggregator.java:194)\n    at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70)\n    at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)\n    at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)\n    at org.jboss.netty.handler.codec.http.HttpContentDecoder.messageReceived(HttpContentDecoder.java:135)\n    at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70)\n    at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)\n    at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)\n    at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:296)\n    at org.jboss.netty.handler.codec.frame.FrameDecoder.unfoldAndFireMessageReceived(FrameDecoder.java:452)\n    at org.jboss.netty.handler.codec.replay.ReplayingDecoder.callDecode(ReplayingDecoder.java:536)\n    at org.jboss.netty.handler.codec.replay.ReplayingDecoder.messageReceived(ReplayingDecoder.java:435)\n    at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70)\n    at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)\n    at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)\n    at org.elasticsearch.common.netty.OpenChannelsHandler.handleUpstream(OpenChannelsHandler.java:75)\n    at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)\n    at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:559)\n    at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:268)\n    at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:255)\n    at org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:88)\n    at org.jboss.netty.channel.socket.nio.AbstractNioWorker.process(AbstractNioWorker.java:108)\n    at org.jboss.netty.channel.socket.nio.AbstractNioSelector.run(AbstractNioSelector.java:337)\n    at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:89)\n    at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:178)\n    at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:108)\n    at org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\n```\n","closed_by":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"performed_via_github_app":null}