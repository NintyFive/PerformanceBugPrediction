[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/561007329","html_url":"https://github.com/elastic/elasticsearch/issues/49787#issuecomment-561007329","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49787","id":561007329,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTAwNzMyOQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-12-03T05:38:02Z","updated_at":"2019-12-03T05:38:02Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra (:Core/Infra/Build)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/562541174","html_url":"https://github.com/elastic/elasticsearch/issues/49787#issuecomment-562541174","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49787","id":562541174,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjU0MTE3NA==","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2019-12-06T11:42:49Z","updated_at":"2019-12-06T11:42:49Z","author_association":"MEMBER","body":"Is there anything, that can be done in order to be able to build external plugins against 7.5.0 or is it to wait for 7.5.1?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/562541467","html_url":"https://github.com/elastic/elasticsearch/issues/49787#issuecomment-562541467","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49787","id":562541467,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjU0MTQ2Nw==","user":{"login":"consulthys","id":1280019,"node_id":"MDQ6VXNlcjEyODAwMTk=","avatar_url":"https://avatars2.githubusercontent.com/u/1280019?v=4","gravatar_id":"","url":"https://api.github.com/users/consulthys","html_url":"https://github.com/consulthys","followers_url":"https://api.github.com/users/consulthys/followers","following_url":"https://api.github.com/users/consulthys/following{/other_user}","gists_url":"https://api.github.com/users/consulthys/gists{/gist_id}","starred_url":"https://api.github.com/users/consulthys/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/consulthys/subscriptions","organizations_url":"https://api.github.com/users/consulthys/orgs","repos_url":"https://api.github.com/users/consulthys/repos","events_url":"https://api.github.com/users/consulthys/events{/privacy}","received_events_url":"https://api.github.com/users/consulthys/received_events","type":"User","site_admin":false},"created_at":"2019-12-06T11:43:59Z","updated_at":"2019-12-06T11:43:59Z","author_association":"CONTRIBUTOR","body":"Everything I tried so far was unsuccessful, so I guess I'll have to wait for 7.5.1.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/562704640","html_url":"https://github.com/elastic/elasticsearch/issues/49787#issuecomment-562704640","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49787","id":562704640,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjcwNDY0MA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2019-12-06T19:23:39Z","updated_at":"2019-12-06T19:24:25Z","author_association":"MEMBER","body":"Adding this to the build.gradle will workaround this failure:\r\n```\r\nconfigurations.whenObjectAdded { c ->\r\n  if (c.name == 'elasticsearch_7.5.0_integ_test_zip_null') {\r\n    project.dependencies.add('elasticsearch_7.5.0_integ_test_zip_null', 'org.elasticsearch.distribution.integ-test-zip:elasticsearch:7.5.0@zip'\r\n  }\r\n}\r\n```\r\n\r\nNote, however, that does not yet make the integ tests runnable. There seems to be another issue related to testclusters which I am looking into:\r\n\r\n```\r\n* What went wrong:\r\nExecution failed for task ':integTestRunner'.\r\n> Can't wait for `node{::integTest-0}` as it's not started. Does the task have `useCluster` ?\r\n```\r\n\r\nI will reopen this until that is fixed.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/562720655","html_url":"https://github.com/elastic/elasticsearch/issues/49787#issuecomment-562720655","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49787","id":562720655,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjcyMDY1NQ==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2019-12-06T20:10:52Z","updated_at":"2019-12-06T20:10:52Z","author_association":"MEMBER","body":"Alright, I will open a PR to fix this for 7.5.1, but in the meantime, here is a workaround. In addition to the whenObjectAdded block above, add these imports to the top of `build.gradle`:\r\n\r\n```\r\nimport org.elasticsearch.gradle.testclusters.TestClustersRegistry\r\nimport org.elasticsearch.gradle.testclusters.TestClustersPlugin\r\n```\r\n\r\nAnd then at the bottom of `build.gradle` add:\r\n```\r\nTestClustersRegistry registry = project.rootProject.extensions.create(\"testClustersRegistry\", TestClustersRegistry)\r\nTestClustersPlugin.configureClaimClustersHook(project.gradle, registry)\r\nTestClustersPlugin.configureStartClustersHook(project.gradle, registry)\r\nTestClustersPlugin.configureStopClustersHook(project.gradle, registry)\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/562826076","html_url":"https://github.com/elastic/elasticsearch/issues/49787#issuecomment-562826076","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49787","id":562826076,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjgyNjA3Ng==","user":{"login":"consulthys","id":1280019,"node_id":"MDQ6VXNlcjEyODAwMTk=","avatar_url":"https://avatars2.githubusercontent.com/u/1280019?v=4","gravatar_id":"","url":"https://api.github.com/users/consulthys","html_url":"https://github.com/consulthys","followers_url":"https://api.github.com/users/consulthys/followers","following_url":"https://api.github.com/users/consulthys/following{/other_user}","gists_url":"https://api.github.com/users/consulthys/gists{/gist_id}","starred_url":"https://api.github.com/users/consulthys/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/consulthys/subscriptions","organizations_url":"https://api.github.com/users/consulthys/orgs","repos_url":"https://api.github.com/users/consulthys/repos","events_url":"https://api.github.com/users/consulthys/events{/privacy}","received_events_url":"https://api.github.com/users/consulthys/received_events","type":"User","site_admin":false},"created_at":"2019-12-07T07:55:20Z","updated_at":"2019-12-07T07:55:20Z","author_association":"CONTRIBUTOR","body":"Thank you so much @rjernst !","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/563148811","html_url":"https://github.com/elastic/elasticsearch/issues/49787#issuecomment-563148811","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49787","id":563148811,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MzE0ODgxMQ==","user":{"login":"consulthys","id":1280019,"node_id":"MDQ6VXNlcjEyODAwMTk=","avatar_url":"https://avatars2.githubusercontent.com/u/1280019?v=4","gravatar_id":"","url":"https://api.github.com/users/consulthys","html_url":"https://github.com/consulthys","followers_url":"https://api.github.com/users/consulthys/followers","following_url":"https://api.github.com/users/consulthys/following{/other_user}","gists_url":"https://api.github.com/users/consulthys/gists{/gist_id}","starred_url":"https://api.github.com/users/consulthys/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/consulthys/subscriptions","organizations_url":"https://api.github.com/users/consulthys/orgs","repos_url":"https://api.github.com/users/consulthys/repos","events_url":"https://api.github.com/users/consulthys/events{/privacy}","received_events_url":"https://api.github.com/users/consulthys/received_events","type":"User","site_admin":false},"created_at":"2019-12-09T09:43:34Z","updated_at":"2019-12-09T09:43:34Z","author_association":"CONTRIBUTOR","body":"The trick worked out @rjernst \r\nI could build the plugin with 7.5.0\r\nMuch appreciated, thanks!","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/567397768","html_url":"https://github.com/elastic/elasticsearch/issues/49787#issuecomment-567397768","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49787","id":567397768,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzM5Nzc2OA==","user":{"login":"consulthys","id":1280019,"node_id":"MDQ6VXNlcjEyODAwMTk=","avatar_url":"https://avatars2.githubusercontent.com/u/1280019?v=4","gravatar_id":"","url":"https://api.github.com/users/consulthys","html_url":"https://github.com/consulthys","followers_url":"https://api.github.com/users/consulthys/followers","following_url":"https://api.github.com/users/consulthys/following{/other_user}","gists_url":"https://api.github.com/users/consulthys/gists{/gist_id}","starred_url":"https://api.github.com/users/consulthys/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/consulthys/subscriptions","organizations_url":"https://api.github.com/users/consulthys/orgs","repos_url":"https://api.github.com/users/consulthys/repos","events_url":"https://api.github.com/users/consulthys/events{/privacy}","received_events_url":"https://api.github.com/users/consulthys/received_events","type":"User","site_admin":false},"created_at":"2019-12-19T08:56:47Z","updated_at":"2019-12-19T08:56:47Z","author_association":"CONTRIBUTOR","body":"@rjernst Thanks for fixing all this. I've tried building the plugin against 7.5.1. The issue related to testclusters doesn't seem to be fixed, though, the build only works by adding what you suggested [here](https://github.com/elastic/elasticsearch/issues/49787#issuecomment-562720655) at the bottom of the `build.gradle` file, otherwise I still get the following error:\r\n```\r\n* What went wrong:\r\nExecution failed for task ':integTestRunner'.\r\n> Can't wait for `node{::integTest-0}` as it's not started. Does the task have `useCluster` ?\r\n```\r\nJust thought you'd like to know.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/568445240","html_url":"https://github.com/elastic/elasticsearch/issues/49787#issuecomment-568445240","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49787","id":568445240,"node_id":"MDEyOklzc3VlQ29tbWVudDU2ODQ0NTI0MA==","user":{"login":"Ethan-Zhang","id":3809645,"node_id":"MDQ6VXNlcjM4MDk2NDU=","avatar_url":"https://avatars1.githubusercontent.com/u/3809645?v=4","gravatar_id":"","url":"https://api.github.com/users/Ethan-Zhang","html_url":"https://github.com/Ethan-Zhang","followers_url":"https://api.github.com/users/Ethan-Zhang/followers","following_url":"https://api.github.com/users/Ethan-Zhang/following{/other_user}","gists_url":"https://api.github.com/users/Ethan-Zhang/gists{/gist_id}","starred_url":"https://api.github.com/users/Ethan-Zhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ethan-Zhang/subscriptions","organizations_url":"https://api.github.com/users/Ethan-Zhang/orgs","repos_url":"https://api.github.com/users/Ethan-Zhang/repos","events_url":"https://api.github.com/users/Ethan-Zhang/events{/privacy}","received_events_url":"https://api.github.com/users/Ethan-Zhang/received_events","type":"User","site_admin":false},"created_at":"2019-12-23T11:10:18Z","updated_at":"2019-12-23T11:10:18Z","author_association":"NONE","body":"> @rjernst Thanks for fixing all this. I've tried building the plugin against 7.5.1. The issue related to testclusters doesn't seem to be fixed, though, the build only works by adding what you suggested [here](https://github.com/elastic/elasticsearch/issues/49787#issuecomment-562720655) at the bottom of the `build.gradle` file, otherwise I still get the following error:\r\n> \r\n> ```\r\n> * What went wrong:\r\n> Execution failed for task ':integTestRunner'.\r\n> > Can't wait for `node{::integTest-0}` as it's not started. Does the task have `useCluster` ?\r\n> ```\r\n> \r\n> Just thought you'd like to know.\r\n\r\n@rjernst I got this problem either, is it bug being to fix?\r\n\r\n```\r\n* Exception is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':integTestRunner'.\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$3.accept(ExecuteActionsTaskExecuter.java:166)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$3.accept(ExecuteActionsTaskExecuter.java:163)\r\n\tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:191)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:156)\r\n\tat org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:62)\r\n\tat org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:108)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveBeforeExecutionOutputsTaskExecuter.execute(ResolveBeforeExecutionOutputsTaskExecuter.java:67)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveAfterPreviousExecutionStateTaskExecuter.execute(ResolveAfterPreviousExecutionStateTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:94)\r\n\tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n\tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:95)\r\n\tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n\tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n\tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:416)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$CallableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:406)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:102)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.call(DelegatingBuildOperationExecutor.java:36)\r\n\tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n\tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:43)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:355)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:343)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:336)\r\n\tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:322)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:134)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker$1.execute(DefaultPlanExecutor.java:129)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:202)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:193)\r\n\tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:129)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\nCaused by: java.lang.NullPointerException: Can't wait for `node{::integTest-0}` as it's not started. Does the task have `useCluster` ?\r\n\tat org.elasticsearch.gradle.testclusters.ElasticsearchNode.isProcessAlive(ElasticsearchNode.java:1200)\r\n\tat org.elasticsearch.gradle.testclusters.TestClusterConfiguration.lambda$waitForConditions$0(TestClusterConfiguration.java:123)\r\n\tat org.elasticsearch.gradle.testclusters.TestClusterConfiguration.waitForConditions(TestClusterConfiguration.java:116)\r\n\tat org.elasticsearch.gradle.testclusters.ElasticsearchNode.waitForAllConditions(ElasticsearchNode.java:1208)\r\n\tat org.elasticsearch.gradle.testclusters.ElasticsearchNode.getAllTransportPortURI(ElasticsearchNode.java:739)\r\n\tat org.elasticsearch.gradle.testclusters.ElasticsearchCluster.lambda$writeUnicastHostsFiles$30(ElasticsearchCluster.java:382)\r\n\tat org.elasticsearch.gradle.testclusters.ElasticsearchCluster.writeUnicastHostsFiles(ElasticsearchCluster.java:382)\r\n\tat org.elasticsearch.gradle.testclusters.ElasticsearchCluster.waitForAllConditions(ElasticsearchCluster.java:421)\r\n\tat org.elasticsearch.gradle.testclusters.ElasticsearchCluster.getAllHttpSocketURI(ElasticsearchCluster.java:409)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.elasticsearch.gradle.test.RestIntegTestTask$_closure2.doCall(RestIntegTestTask.groovy:63)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.elasticsearch.gradle.SystemPropertyCommandLineArgumentProvider.lambda$asArguments$0(SystemPropertyCommandLineArgumentProvider.java:21)\r\n\tat org.elasticsearch.gradle.SystemPropertyCommandLineArgumentProvider.asArguments(SystemPropertyCommandLineArgumentProvider.java:22)\r\n\tat org.gradle.process.internal.DefaultJavaForkOptions.copyTo(DefaultJavaForkOptions.java:220)\r\n\tat org.gradle.api.tasks.testing.Test.copyTo(Test.java:566)\r\n\tat org.gradle.api.tasks.testing.Test.createTestExecutionSpec(Test.java:578)\r\n\tat org.gradle.api.tasks.testing.Test.createTestExecutionSpec(Test.java:138)\r\n\tat org.gradle.api.tasks.testing.AbstractTestTask.executeTests(AbstractTestTask.java:451)\r\n\tat org.gradle.api.tasks.testing.Test.executeTests(Test.java:613)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:103)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.doExecute(StandardTaskAction.java:49)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:42)\r\n\tat org.gradle.api.internal.project.taskfactory.StandardTaskAction.execute(StandardTaskAction.java:28)\r\n\tat org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:717)\r\n\tat org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:684)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$5.run(ExecuteActionsTaskExecuter.java:476)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:402)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:394)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor$1.execute(DefaultBuildOperationExecutor.java:165)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:250)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:158)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:92)\r\n\tat org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:461)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:444)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.access$200(ExecuteActionsTaskExecuter.java:93)\r\n\tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:237)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.lambda$execute$1(ExecuteStep.java:33)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:33)\r\n\tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:26)\r\n\tat org.gradle.internal.execution.steps.CleanupOutputsStep.execute(CleanupOutputsStep.java:58)\r\n\tat org.gradle.internal.execution.steps.CleanupOutputsStep.execute(CleanupOutputsStep.java:35)\r\n\tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\r\n* Get more help at https://help.gradle.org\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/584641674","html_url":"https://github.com/elastic/elasticsearch/issues/49787#issuecomment-584641674","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49787","id":584641674,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDY0MTY3NA==","user":{"login":"dweiss","id":199470,"node_id":"MDQ6VXNlcjE5OTQ3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/199470?v=4","gravatar_id":"","url":"https://api.github.com/users/dweiss","html_url":"https://github.com/dweiss","followers_url":"https://api.github.com/users/dweiss/followers","following_url":"https://api.github.com/users/dweiss/following{/other_user}","gists_url":"https://api.github.com/users/dweiss/gists{/gist_id}","starred_url":"https://api.github.com/users/dweiss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dweiss/subscriptions","organizations_url":"https://api.github.com/users/dweiss/orgs","repos_url":"https://api.github.com/users/dweiss/repos","events_url":"https://api.github.com/users/dweiss/events{/privacy}","received_events_url":"https://api.github.com/users/dweiss/received_events","type":"User","site_admin":false},"created_at":"2020-02-11T13:46:55Z","updated_at":"2020-02-11T13:47:27Z","author_association":"CONTRIBUTOR","body":"I just tried upgrading to 7.5.2 and removed the hack above but then it results in:\r\n````\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task ':integTestRunner'.\r\n> Can't wait for `node{::integTest-0}` as it's not started. Does the task have `useCluster` ?\r\n````\r\n\r\nWith the hack the build passes. \r\n````\r\n// >>> Build HACK for 7.5.2\r\n\r\nimport org.elasticsearch.gradle.testclusters.TestClustersRegistry\r\nimport org.elasticsearch.gradle.testclusters.TestClustersPlugin\r\n\r\nconfigure(rootProject) {\r\n  TestClustersRegistry registry = rootProject.extensions.create(\"testClustersRegistry\", estClustersRegistry)\r\n  TestClustersPlugin.configureClaimClustersHook(project.gradle, registry)\r\n  TestClustersPlugin.configureStartClustersHook(project.gradle, registry)\r\n  TestClustersPlugin.configureStopClustersHook(project.gradle, registry)\r\n}\r\n\r\n// <<< Build HACK for 7.5.2\r\n````","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/586526671","html_url":"https://github.com/elastic/elasticsearch/issues/49787#issuecomment-586526671","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49787","id":586526671,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjUyNjY3MQ==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2020-02-15T00:06:58Z","updated_at":"2020-02-15T00:06:58Z","author_association":"MEMBER","body":"@dweiss Please try upgrading to 7.6.0. I did try backporting the fixes into 7.5, but I don't remember if I got all of them. At this point if there is still any issue we would fix in 7.6.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/586920094","html_url":"https://github.com/elastic/elasticsearch/issues/49787#issuecomment-586920094","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49787","id":586920094,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjkyMDA5NA==","user":{"login":"stefanobranco","id":45937322,"node_id":"MDQ6VXNlcjQ1OTM3MzIy","avatar_url":"https://avatars1.githubusercontent.com/u/45937322?v=4","gravatar_id":"","url":"https://api.github.com/users/stefanobranco","html_url":"https://github.com/stefanobranco","followers_url":"https://api.github.com/users/stefanobranco/followers","following_url":"https://api.github.com/users/stefanobranco/following{/other_user}","gists_url":"https://api.github.com/users/stefanobranco/gists{/gist_id}","starred_url":"https://api.github.com/users/stefanobranco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stefanobranco/subscriptions","organizations_url":"https://api.github.com/users/stefanobranco/orgs","repos_url":"https://api.github.com/users/stefanobranco/repos","events_url":"https://api.github.com/users/stefanobranco/events{/privacy}","received_events_url":"https://api.github.com/users/stefanobranco/received_events","type":"User","site_admin":false},"created_at":"2020-02-17T10:20:07Z","updated_at":"2020-02-17T12:01:26Z","author_association":"NONE","body":"@dweiss Is this solved for you now? I just upgraded to 7.6, and now I'm getting \r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not determine the dependencies of task ':extractElasticsearch7.6.0'.\r\n> Could not resolve all files for configuration ':elasticsearch_7.6.0_integ_test_zip_null'.\r\n   > Could not find org.elasticsearch.distribution.integ-test-zip:elasticsearch:7.6.0.\r\n     Required by:\r\n         project :\r\n```\r\n\r\n\r\n@rjernst I tried the fixes, but those did not work for me either (though that might well be user error on my end). The build hack \"works\" if I access the TestClustersHookPlugin static class, but does not solve the issue for me. The other one does nothing for me as well.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/586970165","html_url":"https://github.com/elastic/elasticsearch/issues/49787#issuecomment-586970165","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49787","id":586970165,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Njk3MDE2NQ==","user":{"login":"dweiss","id":199470,"node_id":"MDQ6VXNlcjE5OTQ3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/199470?v=4","gravatar_id":"","url":"https://api.github.com/users/dweiss","html_url":"https://github.com/dweiss","followers_url":"https://api.github.com/users/dweiss/followers","following_url":"https://api.github.com/users/dweiss/following{/other_user}","gists_url":"https://api.github.com/users/dweiss/gists{/gist_id}","starred_url":"https://api.github.com/users/dweiss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dweiss/subscriptions","organizations_url":"https://api.github.com/users/dweiss/orgs","repos_url":"https://api.github.com/users/dweiss/repos","events_url":"https://api.github.com/users/dweiss/events{/privacy}","received_events_url":"https://api.github.com/users/dweiss/received_events","type":"User","site_admin":false},"created_at":"2020-02-17T12:24:12Z","updated_at":"2020-02-17T12:24:12Z","author_association":"CONTRIBUTOR","body":"Thanks @rjernst Yes, 7.6.0 works without any hacks needed (except for logger check, I'll file a separate issue).\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/586970492","html_url":"https://github.com/elastic/elasticsearch/issues/49787#issuecomment-586970492","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49787","id":586970492,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Njk3MDQ5Mg==","user":{"login":"dweiss","id":199470,"node_id":"MDQ6VXNlcjE5OTQ3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/199470?v=4","gravatar_id":"","url":"https://api.github.com/users/dweiss","html_url":"https://github.com/dweiss","followers_url":"https://api.github.com/users/dweiss/followers","following_url":"https://api.github.com/users/dweiss/following{/other_user}","gists_url":"https://api.github.com/users/dweiss/gists{/gist_id}","starred_url":"https://api.github.com/users/dweiss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dweiss/subscriptions","organizations_url":"https://api.github.com/users/dweiss/orgs","repos_url":"https://api.github.com/users/dweiss/repos","events_url":"https://api.github.com/users/dweiss/events{/privacy}","received_events_url":"https://api.github.com/users/dweiss/received_events","type":"User","site_admin":false},"created_at":"2020-02-17T12:25:09Z","updated_at":"2020-02-17T12:25:09Z","author_association":"CONTRIBUTOR","body":"@stefanobranco Works for me in 7.6.0 without any special treatment:\r\n\r\nhttps://github.com/carrot2/elasticsearch-carrot2/blob/master/build.gradle","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/586971248","html_url":"https://github.com/elastic/elasticsearch/issues/49787#issuecomment-586971248","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49787","id":586971248,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Njk3MTI0OA==","user":{"login":"dweiss","id":199470,"node_id":"MDQ6VXNlcjE5OTQ3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/199470?v=4","gravatar_id":"","url":"https://api.github.com/users/dweiss","html_url":"https://github.com/dweiss","followers_url":"https://api.github.com/users/dweiss/followers","following_url":"https://api.github.com/users/dweiss/following{/other_user}","gists_url":"https://api.github.com/users/dweiss/gists{/gist_id}","starred_url":"https://api.github.com/users/dweiss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dweiss/subscriptions","organizations_url":"https://api.github.com/users/dweiss/orgs","repos_url":"https://api.github.com/users/dweiss/repos","events_url":"https://api.github.com/users/dweiss/events{/privacy}","received_events_url":"https://api.github.com/users/dweiss/received_events","type":"User","site_admin":false},"created_at":"2020-02-17T12:27:26Z","updated_at":"2020-02-17T12:27:26Z","author_association":"CONTRIBUTOR","body":"Filed logger issue here.\r\nhttps://github.com/elastic/elasticsearch/issues/52408","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/596190731","html_url":"https://github.com/elastic/elasticsearch/issues/49787#issuecomment-596190731","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49787","id":596190731,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjE5MDczMQ==","user":{"login":"hosuaby","id":5645920,"node_id":"MDQ6VXNlcjU2NDU5MjA=","avatar_url":"https://avatars2.githubusercontent.com/u/5645920?v=4","gravatar_id":"","url":"https://api.github.com/users/hosuaby","html_url":"https://github.com/hosuaby","followers_url":"https://api.github.com/users/hosuaby/followers","following_url":"https://api.github.com/users/hosuaby/following{/other_user}","gists_url":"https://api.github.com/users/hosuaby/gists{/gist_id}","starred_url":"https://api.github.com/users/hosuaby/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hosuaby/subscriptions","organizations_url":"https://api.github.com/users/hosuaby/orgs","repos_url":"https://api.github.com/users/hosuaby/repos","events_url":"https://api.github.com/users/hosuaby/events{/privacy}","received_events_url":"https://api.github.com/users/hosuaby/received_events","type":"User","site_admin":false},"created_at":"2020-03-08T10:39:32Z","updated_at":"2020-03-08T10:39:32Z","author_association":"NONE","body":"@stefanobranco I had that problem that just appeared to be misconfiguration of gradle repositories. Ensure that you included followings repositories in your gradle:\r\n```groovy\r\nrepositories {\r\n    mavenCentral()\r\n    mavenLocal()\r\n    jcenter{\r\n        url \"https://jcenter.bintray.com/\"\r\n        metadataSources{\r\n            artifact()\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIf you put your plugin in submodule of gradle project, ensure that those repositories are listed in `build.gradle` of parent project.","performed_via_github_app":null}]