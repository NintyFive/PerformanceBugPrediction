[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/278966391","html_url":"https://github.com/elastic/elasticsearch/issues/23108#issuecomment-278966391","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23108","id":278966391,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODk2NjM5MQ==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T14:57:12Z","updated_at":"2017-02-10T14:57:12Z","author_association":"CONTRIBUTOR","body":"Terms aggregations might indeed be very inaccurate when sorting by anything else than `_term:asc`, `_term:desc` or `_count:desc`. This issue will likely never be fixed and an option that has been discussed in the past was rather to drop the ability to sort by sub aggregations, or at least restrict it. Sorting by sub `avg` aggregations is probably one of the worst-case scenarii.\r\n\r\nClosing as a duplicate of #17588.","performed_via_github_app":null}]