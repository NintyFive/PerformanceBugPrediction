{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/45430","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45430/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45430/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45430/events","html_url":"https://github.com/elastic/elasticsearch/issues/45430","id":479446122,"node_id":"MDU6SXNzdWU0Nzk0NDYxMjI=","number":45430,"title":"Problem reading index from store(mmapfs(/data3/nodes/1/indices/P3GEjUvnSKCnYOf_giLm7w/12/index))","user":{"login":"liulinisgood","id":10221818,"node_id":"MDQ6VXNlcjEwMjIxODE4","avatar_url":"https://avatars1.githubusercontent.com/u/10221818?v=4","gravatar_id":"","url":"https://api.github.com/users/liulinisgood","html_url":"https://github.com/liulinisgood","followers_url":"https://api.github.com/users/liulinisgood/followers","following_url":"https://api.github.com/users/liulinisgood/following{/other_user}","gists_url":"https://api.github.com/users/liulinisgood/gists{/gist_id}","starred_url":"https://api.github.com/users/liulinisgood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liulinisgood/subscriptions","organizations_url":"https://api.github.com/users/liulinisgood/orgs","repos_url":"https://api.github.com/users/liulinisgood/repos","events_url":"https://api.github.com/users/liulinisgood/events{/privacy}","received_events_url":"https://api.github.com/users/liulinisgood/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-08-12T02:30:53Z","updated_at":"2019-08-12T11:48:45Z","closed_at":"2019-08-12T11:48:45Z","author_association":"NONE","active_lock_reason":null,"body":"I met a error for a long time, it occurs at 23:10 every day , I am very puzzled.\r\nES version: 5.5.3\r\nos: centos7 3.10.0-327.el7.x86_64\r\ndisk: ssd\r\njdk8, g1  \r\n[2019-08-11T23:08:20,178][WARN ][o.e.i.e.Engine           ] [10.32.144.131_1] [index-2019-08-11][12] failed engine [refresh failed]\r\norg.apache.lucene.index.CorruptIndexException: Problem reading index from store(mmapfs(/data3/nodes/1/indices/P3GEjUvnSKCnYOf_giLm7w/12/index)) (resource=store(mmapfs(/data3/nodes/1/indices/P3GEjUvnSKCnYOf_giLm7w/12/index)))\r\n    at org.apache.lucene.index.SegmentCoreReaders.<init>(SegmentCoreReaders.java:140) ~[lucene-core-6.6.0.jar:6.6.0 5c7a7b65d2aa7ce5ec96458315c661a18b320241 - ishan - 2017-05-30 07:29:46]\r\n    at org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:74) ~[lucene-core-6.6.0.jar:6.6.0 5c7a7b65d2aa7ce5ec96458315c661a18b320241 - ishan - 2017-05-30 07:29:46]\r\n    at org.apache.lucene.index.ReadersAndUpdates.getReader(ReadersAndUpdates.java:145) ~[lucene-core-6.6.0.jar:6.6.0 5c7a7b65d2aa7ce5ec96458315c661a18b320241 - ishan - 2017-05-30 07:29:46]\r\n    at org.apache.lucene.index.ReadersAndUpdates.getReadOnlyClone(ReadersAndUpdates.java:197) ~[lucene-core-6.6.0.jar:6.6.0 5c7a7b65d2aa7ce5ec96458315c661a18b320241 - ishan - 2017-05-30 07:29:46]\r\n    at org.apache.lucene.index.StandardDirectoryReader.open(StandardDirectoryReader.java:103) ~[lucene-core-6.6.0.jar:6.6.0 5c7a7b65d2aa7ce5ec96458315c661a18b320241 - ishan - 2017-05-30 07:29:46]\r\n    at org.apache.lucene.index.IndexWriter.getReader(IndexWriter.java:467) ~[lucene-core-6.6.0.jar:6.6.0 5c7a7b65d2aa7ce5ec96458315c661a18b320241 - ishan - 2017-05-30 07:29:46]\r\n    at org.apache.lucene.index.StandardDirectoryReader.doOpenFromWriter(StandardDirectoryReader.java:291) ~[lucene-core-6.6.0.jar:6.6.0 5c7a7b65d2aa7ce5ec96458315c661a18b320241 - ishan - 2017-05-30 07:29:46]\r\n    at org.apache.lucene.index.StandardDirectoryReader.doOpenIfChanged(StandardDirectoryReader.java:266) ~[lucene-core-6.6.0.jar:6.6.0 5c7a7b65d2aa7ce5ec96458315c661a18b320241 - ishan - 2017-05-30 07:29:46]\r\n    at org.apache.lucene.index.StandardDirectoryReader.doOpenIfChanged(StandardDirectoryReader.java:256) ~[lucene-core-6.6.0.jar:6.6.0 5c7a7b65d2aa7ce5ec96458315c661a18b320241 - ishan - 2017-05-30 07:29:46]\r\n    at org.apache.lucene.index.FilterDirectoryReader.doOpenIfChanged(FilterDirectoryReader.java:104) ~[lucene-core-6.6.0.jar:6.6.0 5c7a7b65d2aa7ce5ec96458315c661a18b320241 - ishan - 2017-05-30 07:29:46]\r\n    at org.apache.lucene.index.DirectoryReader.openIfChanged(DirectoryReader.java:140) ~[lucene-core-6.6.0.jar:6.6.0 5c7a7b65d2aa7ce5ec96458315c661a18b320241 - ishan - 2017-05-30 07:29:46]\r\n    at org.apache.lucene.search.SearcherManager.refreshIfNeeded(SearcherManager.java:156) ~[lucene-core-6.6.0.jar:6.6.0 5c7a7b65d2aa7ce5ec96458315c661a18b320241 - ishan - 2017-05-30 07:29:46]\r\n    at org.apache.lucene.search.SearcherManager.refreshIfNeeded(SearcherManager.java:58) ~[lucene-core-6.6.0.jar:6.6.0 5c7a7b65d2aa7ce5ec96458315c661a18b320241 - ishan - 2017-05-30 07:29:46]\r\n    at org.apache.lucene.search.ReferenceManager.doMaybeRefresh(ReferenceManager.java:176) ~[lucene-core-6.6.0.jar:6.6.0 5c7a7b65d2aa7ce5ec96458315c661a18b320241 - ishan - 2017-05-30 07:29:46]\r\n    at org.apache.lucene.search.ReferenceManager.maybeRefreshBlocking(ReferenceManager.java:253) ~[lucene-core-6.6.0.jar:6.6.0 5c7a7b65d2aa7ce5ec96458315c661a18b320241 - ishan - 2017-05-30 07:29:46]\r\n    at org.elasticsearch.index.engine.InternalEngine.refresh(InternalEngine.java:910) [elasticsearch-5.5.3.jar:5.5.3]\r\n    at org.elasticsearch.index.shard.IndexShard.refresh(IndexShard.java:632) [elasticsearch-5.5.3.jar:5.5.3]\r\n\r\nI got these error logs above, then shard unassigned, unrecovered. The cluster health was red. I use checkIndex tool to check shard, but result was no problem.\r\n\r\n\r\n","closed_by":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"performed_via_github_app":null}