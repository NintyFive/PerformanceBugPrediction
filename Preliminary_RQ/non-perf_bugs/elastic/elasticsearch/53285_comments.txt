[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/596576551","html_url":"https://github.com/elastic/elasticsearch/issues/53285#issuecomment-596576551","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/53285","id":596576551,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjU3NjU1MQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-03-09T14:46:06Z","updated_at":"2020-03-09T14:46:06Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-analytics-geo (:Analytics/Aggregations)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/599172491","html_url":"https://github.com/elastic/elasticsearch/issues/53285#issuecomment-599172491","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/53285","id":599172491,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTE3MjQ5MQ==","user":{"login":"axw","id":843579,"node_id":"MDQ6VXNlcjg0MzU3OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/843579?v=4","gravatar_id":"","url":"https://api.github.com/users/axw","html_url":"https://github.com/axw","followers_url":"https://api.github.com/users/axw/followers","following_url":"https://api.github.com/users/axw/following{/other_user}","gists_url":"https://api.github.com/users/axw/gists{/gist_id}","starred_url":"https://api.github.com/users/axw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/axw/subscriptions","organizations_url":"https://api.github.com/users/axw/orgs","repos_url":"https://api.github.com/users/axw/repos","events_url":"https://api.github.com/users/axw/events{/privacy}","received_events_url":"https://api.github.com/users/axw/received_events","type":"User","site_admin":false},"created_at":"2020-03-15T06:10:12Z","updated_at":"2020-03-15T06:10:12Z","author_association":"CONTRIBUTOR","body":"@roncohen I've taken the liberty of adding the \"histogram\" aggregation to the list, as we'll also need this in the APM UI for the \"Transaction duration distribution\" chart.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/602693322","html_url":"https://github.com/elastic/elasticsearch/issues/53285#issuecomment-602693322","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/53285","id":602693322,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjY5MzMyMg==","user":{"login":"csoulios","id":1561376,"node_id":"MDQ6VXNlcjE1NjEzNzY=","avatar_url":"https://avatars2.githubusercontent.com/u/1561376?v=4","gravatar_id":"","url":"https://api.github.com/users/csoulios","html_url":"https://github.com/csoulios","followers_url":"https://api.github.com/users/csoulios/followers","following_url":"https://api.github.com/users/csoulios/following{/other_user}","gists_url":"https://api.github.com/users/csoulios/gists{/gist_id}","starred_url":"https://api.github.com/users/csoulios/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csoulios/subscriptions","organizations_url":"https://api.github.com/users/csoulios/orgs","repos_url":"https://api.github.com/users/csoulios/repos","events_url":"https://api.github.com/users/csoulios/events{/privacy}","received_events_url":"https://api.github.com/users/csoulios/received_events","type":"User","site_admin":false},"created_at":"2020-03-23T15:59:30Z","updated_at":"2020-03-23T15:59:30Z","author_association":"CONTRIBUTOR","body":"Hey @roncohen , thank you submitting this feature request. Those aggregations on histogram datatype sound very useful and we would be happy to add them to our roadmap. \r\n\r\nHowever, can you please elaborate a bit more on how the count aggregation should work on histograms and what information would it return?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/602706895","html_url":"https://github.com/elastic/elasticsearch/issues/53285#issuecomment-602706895","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/53285","id":602706895,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjcwNjg5NQ==","user":{"login":"roncohen","id":744,"node_id":"MDQ6VXNlcjc0NA==","avatar_url":"https://avatars0.githubusercontent.com/u/744?v=4","gravatar_id":"","url":"https://api.github.com/users/roncohen","html_url":"https://github.com/roncohen","followers_url":"https://api.github.com/users/roncohen/followers","following_url":"https://api.github.com/users/roncohen/following{/other_user}","gists_url":"https://api.github.com/users/roncohen/gists{/gist_id}","starred_url":"https://api.github.com/users/roncohen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roncohen/subscriptions","organizations_url":"https://api.github.com/users/roncohen/orgs","repos_url":"https://api.github.com/users/roncohen/repos","events_url":"https://api.github.com/users/roncohen/events{/privacy}","received_events_url":"https://api.github.com/users/roncohen/received_events","type":"User","site_admin":false},"created_at":"2020-03-23T16:22:33Z","updated_at":"2020-03-23T16:22:33Z","author_association":"NONE","body":"thanks @csoulios!\r\n\r\nI'll let @axw drive the conversation forward here, but here's my immediate thinking: \r\n\r\nBy \"count\" here, I mean sum of the counts of the buckets (HDR) or sum of weights (tdigest). For a histogram of response times, this is \"total number of requests\". \r\n\r\nFor \"sum\" I'd want the sum each bucket multiplied by its count. For a histogram of response times, this is an approximate \"total time spent\". I don't know if the equivalent works for tdigest centroids. \r\n\r\nLet me know if that helps","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/602964242","html_url":"https://github.com/elastic/elasticsearch/issues/53285#issuecomment-602964242","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/53285","id":602964242,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjk2NDI0Mg==","user":{"login":"axw","id":843579,"node_id":"MDQ6VXNlcjg0MzU3OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/843579?v=4","gravatar_id":"","url":"https://api.github.com/users/axw","html_url":"https://github.com/axw","followers_url":"https://api.github.com/users/axw/followers","following_url":"https://api.github.com/users/axw/following{/other_user}","gists_url":"https://api.github.com/users/axw/gists{/gist_id}","starred_url":"https://api.github.com/users/axw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/axw/subscriptions","organizations_url":"https://api.github.com/users/axw/orgs","repos_url":"https://api.github.com/users/axw/repos","events_url":"https://api.github.com/users/axw/events{/privacy}","received_events_url":"https://api.github.com/users/axw/received_events","type":"User","site_admin":false},"created_at":"2020-03-24T02:03:53Z","updated_at":"2020-03-24T02:03:53Z","author_association":"CONTRIBUTOR","body":"FWIW, I've been thinking of the \"count\" aggregation here as if it were a value_count agg over the original values that made up the pre-aggregated histogram. Would it make sense to special-case value_count for histogram fields?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/603218164","html_url":"https://github.com/elastic/elasticsearch/issues/53285#issuecomment-603218164","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/53285","id":603218164,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzIxODE2NA==","user":{"login":"csoulios","id":1561376,"node_id":"MDQ6VXNlcjE1NjEzNzY=","avatar_url":"https://avatars2.githubusercontent.com/u/1561376?v=4","gravatar_id":"","url":"https://api.github.com/users/csoulios","html_url":"https://github.com/csoulios","followers_url":"https://api.github.com/users/csoulios/followers","following_url":"https://api.github.com/users/csoulios/following{/other_user}","gists_url":"https://api.github.com/users/csoulios/gists{/gist_id}","starred_url":"https://api.github.com/users/csoulios/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csoulios/subscriptions","organizations_url":"https://api.github.com/users/csoulios/orgs","repos_url":"https://api.github.com/users/csoulios/repos","events_url":"https://api.github.com/users/csoulios/events{/privacy}","received_events_url":"https://api.github.com/users/csoulios/received_events","type":"User","site_admin":false},"created_at":"2020-03-24T12:47:17Z","updated_at":"2020-03-24T12:47:17Z","author_association":"CONTRIBUTOR","body":"@axw a `value_count` would simply return the number of values extracted from the documents. If we special-case the `value_count` agg, we miss this feature. I would prefer the creation of a specific `histo_value_count` aggregation that would return the sum of the counts of the buckets.\r\n\r\nLet me discuss this with the team and I will get back to you. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/614300662","html_url":"https://github.com/elastic/elasticsearch/issues/53285#issuecomment-614300662","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/53285","id":614300662,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDMwMDY2Mg==","user":{"login":"graphaelli","id":83483,"node_id":"MDQ6VXNlcjgzNDgz","avatar_url":"https://avatars3.githubusercontent.com/u/83483?v=4","gravatar_id":"","url":"https://api.github.com/users/graphaelli","html_url":"https://github.com/graphaelli","followers_url":"https://api.github.com/users/graphaelli/followers","following_url":"https://api.github.com/users/graphaelli/following{/other_user}","gists_url":"https://api.github.com/users/graphaelli/gists{/gist_id}","starred_url":"https://api.github.com/users/graphaelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/graphaelli/subscriptions","organizations_url":"https://api.github.com/users/graphaelli/orgs","repos_url":"https://api.github.com/users/graphaelli/repos","events_url":"https://api.github.com/users/graphaelli/events{/privacy}","received_events_url":"https://api.github.com/users/graphaelli/received_events","type":"User","site_admin":false},"created_at":"2020-04-15T21:57:35Z","updated_at":"2020-04-15T21:57:35Z","author_association":"MEMBER","body":"@csoulios Did the discussion take place?  Does the team need any more information that we could provide?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/614485483","html_url":"https://github.com/elastic/elasticsearch/issues/53285#issuecomment-614485483","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/53285","id":614485483,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDQ4NTQ4Mw==","user":{"login":"csoulios","id":1561376,"node_id":"MDQ6VXNlcjE1NjEzNzY=","avatar_url":"https://avatars2.githubusercontent.com/u/1561376?v=4","gravatar_id":"","url":"https://api.github.com/users/csoulios","html_url":"https://github.com/csoulios","followers_url":"https://api.github.com/users/csoulios/followers","following_url":"https://api.github.com/users/csoulios/following{/other_user}","gists_url":"https://api.github.com/users/csoulios/gists{/gist_id}","starred_url":"https://api.github.com/users/csoulios/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csoulios/subscriptions","organizations_url":"https://api.github.com/users/csoulios/orgs","repos_url":"https://api.github.com/users/csoulios/repos","events_url":"https://api.github.com/users/csoulios/events{/privacy}","received_events_url":"https://api.github.com/users/csoulios/received_events","type":"User","site_admin":false},"created_at":"2020-04-16T08:06:55Z","updated_at":"2020-04-16T08:06:55Z","author_association":"CONTRIBUTOR","body":"Hi @graphaelli, we have scheduled implementations of `value_count`, `sum` and `average` aggs on histogram field types. Currently there are no blockers. \r\n\r\nOnce we have those aggs done, we will discuss about the histogram aggs.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/657590413","html_url":"https://github.com/elastic/elasticsearch/issues/53285#issuecomment-657590413","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/53285","id":657590413,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NzU5MDQxMw==","user":{"login":"csoulios","id":1561376,"node_id":"MDQ6VXNlcjE1NjEzNzY=","avatar_url":"https://avatars2.githubusercontent.com/u/1561376?v=4","gravatar_id":"","url":"https://api.github.com/users/csoulios","html_url":"https://github.com/csoulios","followers_url":"https://api.github.com/users/csoulios/followers","following_url":"https://api.github.com/users/csoulios/following{/other_user}","gists_url":"https://api.github.com/users/csoulios/gists{/gist_id}","starred_url":"https://api.github.com/users/csoulios/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csoulios/subscriptions","organizations_url":"https://api.github.com/users/csoulios/orgs","repos_url":"https://api.github.com/users/csoulios/repos","events_url":"https://api.github.com/users/csoulios/events{/privacy}","received_events_url":"https://api.github.com/users/csoulios/received_events","type":"User","site_admin":false},"created_at":"2020-07-13T14:21:52Z","updated_at":"2020-07-13T14:21:52Z","author_association":"CONTRIBUTOR","body":"Merging https://github.com/elastic/elasticsearch/pull/58930 closes this issue.","performed_via_github_app":null}]