[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/128691413","html_url":"https://github.com/elastic/elasticsearch/issues/12712#issuecomment-128691413","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12712","id":128691413,"node_id":"MDEyOklzc3VlQ29tbWVudDEyODY5MTQxMw==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2015-08-07T12:46:05Z","updated_at":"2015-08-07T12:56:02Z","author_association":"MEMBER","body":"I ran the following as a manual test to test the beta and also to start recording tests that we might want to have for this when we write an automated test to cover it. The test was run on a 2.0.0-beta1-snapshot build with no configuration changes at all (literally unzip and run).\n\n### Installing a plugin to a custom path\n\nran:\n\n```\nbin/plugin -Des.path.plugins=/path/to/custom/plugins install scirpt-python -u file:/path/to/elasticsearch-master/plugins/lang-python/target/releases/elasticsearch-lang-python-2.0.0-beta1-SNAPSHOT.zip\n```\n\noutput on command line was:\n\n```\n-> Installing scirpt-python...\nTrying file:/path/to/elasticsearch-master/plugins/lang-python/target/releases/elasticsearch-lang-python-2.0.0-beta1-SNAPSHOT.zip ...\nDownloading ............................................................................................................................................................................................................................................................................................................................................DONE\nPluginInfo{name='scirpt-python', description='The Python language plugin allows to have python as the language of scripts to execute.', site=false, jvm=true, classname=org.elasticsearch.plugin.python.PythonPlugin, isolated=true, version='2.0.0-beta1-SNAPSHOT'}\nInstalled scirpt-python into /path/to/custom/plugins/scirpt-python\n```\n\n`ls /path/to/custom/plugins/scirpt-python` gives: \n\n`elasticsearch-lang-python-2.0.0-beta1-SNAPSHOT.jar jython-standalone-2.7.0.jar                        plugin-descriptor.properties`\n\nSUCCESSFUL\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/128691792","html_url":"https://github.com/elastic/elasticsearch/issues/12712#issuecomment-128691792","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12712","id":128691792,"node_id":"MDEyOklzc3VlQ29tbWVudDEyODY5MTc5Mg==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-08-07T12:48:42Z","updated_at":"2015-08-07T12:48:42Z","author_association":"CONTRIBUTOR","body":"@colings86 probably need to test custom logs/config/scripts/repo paths as well\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/128691880","html_url":"https://github.com/elastic/elasticsearch/issues/12712#issuecomment-128691880","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12712","id":128691880,"node_id":"MDEyOklzc3VlQ29tbWVudDEyODY5MTg4MA==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2015-08-07T12:49:23Z","updated_at":"2015-08-07T12:49:23Z","author_association":"MEMBER","body":"yup, getting to that now. Posting one test at a time ;)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/128692834","html_url":"https://github.com/elastic/elasticsearch/issues/12712#issuecomment-128692834","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12712","id":128692834,"node_id":"MDEyOklzc3VlQ29tbWVudDEyODY5MjgzNA==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2015-08-07T12:55:27Z","updated_at":"2015-08-07T12:56:13Z","author_association":"MEMBER","body":"### Listing plugins in a custom directory\n\nRan:\n\n```\nbin/plugin -Des.path.plugins=/path/to/custom/plugins list\n```\n\noutput:\n\n```\nInstalled plugins in /path/to/custom/plugins:\n    - scirpt-python\n```\n\nSUCCESSFUL\n\n### Removing a plugin using a custom plugins path\n\nran:\n\n```\nbin/plugin -Des.path.plugins=/path/to/custom/plugins remove scirpt-python\n```\n\noutput:\n\n```\n-> Removing scirpt-python...\nRemoved scirpt-python\n```\n\n`/path/to/custom/plugins` directory no longer contained `scirpt-python` directory\n\nSUCCESSFUL\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/128695205","html_url":"https://github.com/elastic/elasticsearch/issues/12712#issuecomment-128695205","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12712","id":128695205,"node_id":"MDEyOklzc3VlQ29tbWVudDEyODY5NTIwNQ==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2015-08-07T13:08:00Z","updated_at":"2015-08-07T13:08:00Z","author_association":"MEMBER","body":"## bin/plugin with custom config directory\n\nFor this test I created a conf directory at `/path/to/custom/config` and copied the default elasticsearch.yml file changing it only to add `path.plugins: /path/to/custom/plugins`\n\n### Installing a plugin\n\nran:\n\n```\nbin/plugin -Des.path.conf=/path/to/custom/config install script-python -u file:/path/to/elasticsearch-master/plugins/lang-python/target/releases/elasticsearch-lang-python-2.0.0-beta1-SNAPSHOT.zip\n```\n\noutput:\n\n```\n-> Installing script-python...\nTrying file:/path/to/elasticsearch-master/plugins/lang-python/target/releases/elasticsearch-lang-python-2.0.0-beta1-SNAPSHOT.zip ...\nDownloading ............................................................................................................................................................................................................................................................................................................................................DONE\nPluginInfo{name='script-python', description='The Python language plugin allows to have python as the language of scripts to execute.', site=false, jvm=true, classname=org.elasticsearch.plugin.python.PythonPlugin, isolated=true, version='2.0.0-beta1-SNAPSHOT'}\nlog4j:WARN No appenders could be found for logger (org.elasticsearch.bootstrap).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\nInstalled script-python into /path/to/custom/plugins/script-python\n```\n\nConfirmed `script-python` directory added to `/path/to/custom/plugins`\n\nSUCCESSFUL\n\n### Listing plugins\n\nran:\n\n```\nbin/plugin -Des.path.conf=/path/to/custom/config list\n```\n\noutput:\n\n```\nInstalled plugins in /path/to/custom/plugins:\n    - script-python\n```\n\nSUCCESSFUL\n\n### Remove plugins\n\nran:\n\n```\nbin/plugin -Des.path.conf=/path/to/custom/config remove script-python\n```\n\noutput:\n\n```\n-> Removing script-python...\nRemoved script-python\n```\n\nConfirmed `script-python` directory removed from `/path/to/custom/plugins`\n\nSUCCESSFUL\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/128696412","html_url":"https://github.com/elastic/elasticsearch/issues/12712#issuecomment-128696412","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12712","id":128696412,"node_id":"MDEyOklzc3VlQ29tbWVudDEyODY5NjQxMg==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2015-08-07T13:16:05Z","updated_at":"2015-08-07T13:16:05Z","author_association":"MEMBER","body":"## bin/plugin with custom log directory\n\n### Installing a plugin\n\nran:\n\n```\nbin/plugin -Des.path.logs=/path/to/custom/logs install script-python -u file:/path/to/elasticsearch-master/plugins/lang-python/target/releases/elasticsearch-lang-python-2.0.0-beta1-SNAPSHOT.zip\n```\n\nConfirmed `script-python` directory added to `/path/to/custom/plugins` and `/path/to/custom/logs` directory created with the following files:\n\n```\nelasticsearch.log                        elasticsearch_deprecation.log            elasticsearch_index_indexing_slowlog.log elasticsearch_index_search_slowlog.log\n```\n\nAlso confirmed default logs directory was not created.\n\nSUCCESSFUL\n\n### Listing plugins\n\nran:\n\n```\nbin/plugin -Des.path.logs=/path/to/custom/logs list\n```\n\noutput:\n\n```\nInstalled plugins in /path/to/custom/plugins:\n    - script-python\n```\n\nConfirmed `/path/to/custom/logs` directory created with the following files:\n\n```\nelasticsearch.log                        elasticsearch_deprecation.log            elasticsearch_index_indexing_slowlog.log elasticsearch_index_search_slowlog.log\n```\n\nAlso confirmed default logs directory was not created.\n\nSUCCESSFUL\n\n### Remove plugins\n\nran:\n\n```\nbin/plugin -Des.path.logs=/path/to/custom/logs remove script-python\n```\n\noutput:\n\n```\n-> Removing script-python...\nRemoved script-python\n```\n\nConfirmed `script-python` directory removed from `/path/to/custom/plugins` and `/path/to/custom/logs` directory created with the following files:\n\n```\nelasticsearch.log                        elasticsearch_deprecation.log            elasticsearch_index_indexing_slowlog.log elasticsearch_index_search_slowlog.log\n```\n\nAlso confirmed default logs directory was not created.\n\nSUCCESSFUL\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/129924100","html_url":"https://github.com/elastic/elasticsearch/issues/12712#issuecomment-129924100","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12712","id":129924100,"node_id":"MDEyOklzc3VlQ29tbWVudDEyOTkyNDEwMA==","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2015-08-11T15:11:05Z","updated_at":"2015-08-11T15:11:05Z","author_association":"MEMBER","body":"how exactly should this be implemented for automated tests? Would we have another project in `qa/` that installs/removes plugins with custom paths using custom `./integration-tests.xml` files?\n\nOr do we have more `<ant antfile` calls in the `pom.xml` of the `smoke-test-plugins` that just installs plugins into different paths?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/132154496","html_url":"https://github.com/elastic/elasticsearch/issues/12712#issuecomment-132154496","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12712","id":132154496,"node_id":"MDEyOklzc3VlQ29tbWVudDEzMjE1NDQ5Ng==","user":{"login":"brwe","id":4320215,"node_id":"MDQ6VXNlcjQzMjAyMTU=","avatar_url":"https://avatars0.githubusercontent.com/u/4320215?v=4","gravatar_id":"","url":"https://api.github.com/users/brwe","html_url":"https://github.com/brwe","followers_url":"https://api.github.com/users/brwe/followers","following_url":"https://api.github.com/users/brwe/following{/other_user}","gists_url":"https://api.github.com/users/brwe/gists{/gist_id}","starred_url":"https://api.github.com/users/brwe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brwe/subscriptions","organizations_url":"https://api.github.com/users/brwe/orgs","repos_url":"https://api.github.com/users/brwe/repos","events_url":"https://api.github.com/users/brwe/events{/privacy}","received_events_url":"https://api.github.com/users/brwe/received_events","type":"User","site_admin":false},"created_at":"2015-08-18T10:07:19Z","updated_at":"2015-08-18T10:07:19Z","author_association":"CONTRIBUTOR","body":"I made a pr with the first option (another project in qa/ that installs/removes plugins with custom paths) here: #12954.\nI wonder if a bats test for this would be better though. Maybe @nik9000 has an opinion on this?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/138895611","html_url":"https://github.com/elastic/elasticsearch/issues/12712#issuecomment-138895611","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12712","id":138895611,"node_id":"MDEyOklzc3VlQ29tbWVudDEzODg5NTYxMQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2015-09-09T12:34:55Z","updated_at":"2015-09-09T12:34:55Z","author_association":"CONTRIBUTOR","body":"> I wonder if a bats test for this would be better though. Maybe @nik9000 has an opinion on this?\n\nSorry I hadn't noticed this! Right now the bats tests are used to test `bin/plugin` and `bin/elasticsearch` with a few custom paths already so its not a huge stretch, especially when many path errors come from space escaping issues with bash. So its a reasonable choice.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/146119355","html_url":"https://github.com/elastic/elasticsearch/issues/12712#issuecomment-146119355","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12712","id":146119355,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjExOTM1NQ==","user":{"login":"brwe","id":4320215,"node_id":"MDQ6VXNlcjQzMjAyMTU=","avatar_url":"https://avatars0.githubusercontent.com/u/4320215?v=4","gravatar_id":"","url":"https://api.github.com/users/brwe","html_url":"https://github.com/brwe","followers_url":"https://api.github.com/users/brwe/followers","following_url":"https://api.github.com/users/brwe/following{/other_user}","gists_url":"https://api.github.com/users/brwe/gists{/gist_id}","starred_url":"https://api.github.com/users/brwe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brwe/subscriptions","organizations_url":"https://api.github.com/users/brwe/orgs","repos_url":"https://api.github.com/users/brwe/repos","events_url":"https://api.github.com/users/brwe/events{/privacy}","received_events_url":"https://api.github.com/users/brwe/received_events","type":"User","site_admin":false},"created_at":"2015-10-07T08:41:33Z","updated_at":"2015-10-07T08:41:33Z","author_association":"CONTRIBUTOR","body":"This has been implemented as bats test now #12717, in https://github.com/elastic/elasticsearch/pull/13258 , https://github.com/elastic/elasticsearch/pull/13772 , https://github.com/elastic/elasticsearch/pull/13617 and https://github.com/elastic/elasticsearch/pull/13640\n","performed_via_github_app":null}]