[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/285845174","html_url":"https://github.com/elastic/elasticsearch/issues/22748#issuecomment-285845174","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22748","id":285845174,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NTg0NTE3NA==","user":{"login":"StefanGor","id":12494648,"node_id":"MDQ6VXNlcjEyNDk0NjQ4","avatar_url":"https://avatars0.githubusercontent.com/u/12494648?v=4","gravatar_id":"","url":"https://api.github.com/users/StefanGor","html_url":"https://github.com/StefanGor","followers_url":"https://api.github.com/users/StefanGor/followers","following_url":"https://api.github.com/users/StefanGor/following{/other_user}","gists_url":"https://api.github.com/users/StefanGor/gists{/gist_id}","starred_url":"https://api.github.com/users/StefanGor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StefanGor/subscriptions","organizations_url":"https://api.github.com/users/StefanGor/orgs","repos_url":"https://api.github.com/users/StefanGor/repos","events_url":"https://api.github.com/users/StefanGor/events{/privacy}","received_events_url":"https://api.github.com/users/StefanGor/received_events","type":"User","site_admin":false},"created_at":"2017-03-11T05:43:48Z","updated_at":"2017-03-11T05:43:48Z","author_association":"CONTRIBUTOR","body":"Hi there, \r\nI am interested in picking this one up.\r\nI am new to the project, but as far as I can tell, the only change needed is in [RestClearIndicesCacheAction.java](https://github.com/elastic/elasticsearch/blob/6265ef1c1ba1d308bcc28d00dccccac555e33b89/core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestClearIndicesCacheAction.java) where `REQUEST_CACHE` would be renamed to `REQUEST` and \r\n`public static final ParseField REQUEST_CACHE = new ParseField(\"request_cache\");`\r\nwould become:\r\n`public static final ParseField REQUEST = new ParseField(\"request\", \"request_cache\");`\r\nDoes this seem correct? ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/285990177","html_url":"https://github.com/elastic/elasticsearch/issues/22748#issuecomment-285990177","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22748","id":285990177,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NTk5MDE3Nw==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2017-03-13T00:19:34Z","updated_at":"2017-03-13T00:19:34Z","author_association":"CONTRIBUTOR","body":"I think that sounds about right. Probably worth adding another rest test\nand you'll have to fix the rest tests that use the deprecated parameter so\nthey don't fail.\n\nOn Fri, Mar 10, 2017, 9:43 PM Stefan Gorgiovski <notifications@github.com>\nwrote:\n\n> Hi there,\n> I am interested in picking this one up.\n> I am new to the project, but as far as I can tell, the only change needed\n> is in RestClearIndicesCacheAction.java\n> <https://github.com/elastic/elasticsearch/blob/6265ef1c1ba1d308bcc28d00dccccac555e33b89/core/src/main/java/org/elasticsearch/rest/action/admin/indices/RestClearIndicesCacheAction.java>\n> where REQUEST_CACHE would be renamed to REQUEST and\n> public static final ParseField REQUEST_CACHE = new\n> ParseField(\"request_cache\");\n> would become:\n> public static final ParseField REQUEST = new ParseField(\"request\",\n> \"request_cache\");\n> Does this seem correct?\n>\n> â€”\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/elastic/elasticsearch/issues/22748#issuecomment-285845174>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AANLoneOeWqFSiIISDbu3vFTOz0SNfCCks5rkjSWgaJpZM4LrRNm>\n> .\n>\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/286546723","html_url":"https://github.com/elastic/elasticsearch/issues/22748#issuecomment-286546723","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22748","id":286546723,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjU0NjcyMw==","user":{"login":"nfsec","id":15172919,"node_id":"MDQ6VXNlcjE1MTcyOTE5","avatar_url":"https://avatars0.githubusercontent.com/u/15172919?v=4","gravatar_id":"","url":"https://api.github.com/users/nfsec","html_url":"https://github.com/nfsec","followers_url":"https://api.github.com/users/nfsec/followers","following_url":"https://api.github.com/users/nfsec/following{/other_user}","gists_url":"https://api.github.com/users/nfsec/gists{/gist_id}","starred_url":"https://api.github.com/users/nfsec/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nfsec/subscriptions","organizations_url":"https://api.github.com/users/nfsec/orgs","repos_url":"https://api.github.com/users/nfsec/repos","events_url":"https://api.github.com/users/nfsec/events{/privacy}","received_events_url":"https://api.github.com/users/nfsec/received_events","type":"User","site_admin":false},"created_at":"2017-03-14T20:18:59Z","updated_at":"2017-03-14T20:18:59Z","author_association":"CONTRIBUTOR","body":"Good to take care of this because the api calls to clear cache from python client don't work now.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/286851059","html_url":"https://github.com/elastic/elasticsearch/issues/22748#issuecomment-286851059","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22748","id":286851059,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njg1MTA1OQ==","user":{"login":"StefanGor","id":12494648,"node_id":"MDQ6VXNlcjEyNDk0NjQ4","avatar_url":"https://avatars0.githubusercontent.com/u/12494648?v=4","gravatar_id":"","url":"https://api.github.com/users/StefanGor","html_url":"https://github.com/StefanGor","followers_url":"https://api.github.com/users/StefanGor/followers","following_url":"https://api.github.com/users/StefanGor/following{/other_user}","gists_url":"https://api.github.com/users/StefanGor/gists{/gist_id}","starred_url":"https://api.github.com/users/StefanGor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StefanGor/subscriptions","organizations_url":"https://api.github.com/users/StefanGor/orgs","repos_url":"https://api.github.com/users/StefanGor/repos","events_url":"https://api.github.com/users/StefanGor/events{/privacy}","received_events_url":"https://api.github.com/users/StefanGor/received_events","type":"User","site_admin":false},"created_at":"2017-03-15T19:20:24Z","updated_at":"2017-03-15T19:20:24Z","author_association":"CONTRIBUTOR","body":"I could use some guidance on creating a proper rest test for this. I can't find any that specifically test the cache (and didn't have to update any tests to not use the deprecated parameter).\r\n\r\nI currently have [this](https://github.com/StefanGor/elasticsearch/commit/43976fe45addb2ecc7e53d265ccd3f62fb00839b) for my commit. While the test case I have written does fail on the current master branch and passes with this commit, I'm not sure that this is the way I should have done it.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/286871512","html_url":"https://github.com/elastic/elasticsearch/issues/22748#issuecomment-286871512","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22748","id":286871512,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njg3MTUxMg==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2017-03-15T20:39:11Z","updated_at":"2017-03-15T20:39:11Z","author_association":"CONTRIBUTOR","body":"We usually use the rest tests written in `yaml` (most are [here](https://github.com/elastic/elasticsearch/tree/master/rest-api-spec/src/main/resources/rest-api-spec/test)) to validate this kind of thing because it buys us some integration testing coverage as well. I'd see about implementing one of those instead of/in addition to the unit test you've written. I'd also have a look at adding one for the old name. That should pass without the change and fail with the change because it gets a deprecation warning. You can look up how to handle those deprecation warnings in other tests. Once you've got that going the test should pass again.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/287220474","html_url":"https://github.com/elastic/elasticsearch/issues/22748#issuecomment-287220474","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22748","id":287220474,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NzIyMDQ3NA==","user":{"login":"StefanGor","id":12494648,"node_id":"MDQ6VXNlcjEyNDk0NjQ4","avatar_url":"https://avatars0.githubusercontent.com/u/12494648?v=4","gravatar_id":"","url":"https://api.github.com/users/StefanGor","html_url":"https://github.com/StefanGor","followers_url":"https://api.github.com/users/StefanGor/followers","following_url":"https://api.github.com/users/StefanGor/following{/other_user}","gists_url":"https://api.github.com/users/StefanGor/gists{/gist_id}","starred_url":"https://api.github.com/users/StefanGor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StefanGor/subscriptions","organizations_url":"https://api.github.com/users/StefanGor/orgs","repos_url":"https://api.github.com/users/StefanGor/repos","events_url":"https://api.github.com/users/StefanGor/events{/privacy}","received_events_url":"https://api.github.com/users/StefanGor/received_events","type":"User","site_admin":false},"created_at":"2017-03-16T23:12:49Z","updated_at":"2017-03-16T23:12:49Z","author_association":"CONTRIBUTOR","body":"I've now added some yaml tests, is [this](https://github.com/StefanGor/elasticsearch/commit/503fe9ec2b171ddf04e7a88223aeebaa4ce0846a) sufficient or should I be trying to validate the output of the request as well?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/287358466","html_url":"https://github.com/elastic/elasticsearch/issues/22748#issuecomment-287358466","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22748","id":287358466,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NzM1ODQ2Ng==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2017-03-17T13:49:55Z","updated_at":"2017-03-17T13:49:55Z","author_association":"CONTRIBUTOR","body":"> I've now added some yaml tests, is this sufficient or should I be trying to validate the output of the request as well?\r\n\r\nI think it is pretty much right. You've made me realize we don't have a thing for deprecated parameters in those JSON files. I hadn't thought about that! But what you've showed me is a great start. If you open a PR I'll be glad to review it.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/335810985","html_url":"https://github.com/elastic/elasticsearch/issues/22748#issuecomment-335810985","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22748","id":335810985,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTgxMDk4NQ==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2017-10-11T13:33:57Z","updated_at":"2017-10-11T13:33:57Z","author_association":"MEMBER","body":"Looks like this is fixed by #23638, closing","performed_via_github_app":null}]