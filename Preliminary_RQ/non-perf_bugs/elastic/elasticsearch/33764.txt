{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/33764","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33764/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33764/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33764/events","html_url":"https://github.com/elastic/elasticsearch/issues/33764","id":360845879,"node_id":"MDU6SXNzdWUzNjA4NDU4Nzk=","number":33764,"title":"Task fails silently during parallel _reindex operation","user":{"login":"Katulus","id":1485893,"node_id":"MDQ6VXNlcjE0ODU4OTM=","avatar_url":"https://avatars2.githubusercontent.com/u/1485893?v=4","gravatar_id":"","url":"https://api.github.com/users/Katulus","html_url":"https://github.com/Katulus","followers_url":"https://api.github.com/users/Katulus/followers","following_url":"https://api.github.com/users/Katulus/following{/other_user}","gists_url":"https://api.github.com/users/Katulus/gists{/gist_id}","starred_url":"https://api.github.com/users/Katulus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Katulus/subscriptions","organizations_url":"https://api.github.com/users/Katulus/orgs","repos_url":"https://api.github.com/users/Katulus/repos","events_url":"https://api.github.com/users/Katulus/events{/privacy}","received_events_url":"https://api.github.com/users/Katulus/received_events","type":"User","site_admin":false},"labels":[{"id":289830280,"node_id":"MDU6TGFiZWwyODk4MzAyODA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Task%20Management","name":":Distributed/Task Management","color":"0e8a16","default":false,"description":"Issues for anything around the Tasks API - both persistent and node level."},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"assignees":[{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false}],"milestone":null,"comments":5,"created_at":"2018-09-17T12:29:18Z","updated_at":"2018-11-30T21:06:59Z","closed_at":"2018-11-30T21:06:59Z","author_association":"NONE","active_lock_reason":null,"body":"**Elasticsearch version**: Version: 6.4.0, Build: default/tar/595516e/2018-08-17T23:18:47.308994Z, JVM: 10.0.2 (**Note:** This is official docker container `docker.elastic.co/elasticsearch/elasticsearch:6.4.0`)\r\n\r\n**Plugins installed**: [og9AEaa ingest-geoip(6.4.0), og9AEaa ingest-user-agent (6.4.0)]\r\n\r\n**JVM version**: 10.0.2\r\n\r\n**OS version**: Linux 45660be5076f 4.15.0-34-generic #37-Ubuntu SMP Mon Aug 27 15:21:48 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\n\r\nI'm running reindex operation from remote ES 1.4 cluster via [Reindex API](https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-reindex.html). Since remote reindex does not support slicing I'm doing manual slicing using `query` and limiting remote search by `min < document_timestamp && document_timestamp < max` and using `wait_for_completion=false` to generate multiple parallel tasks. \r\nWhen I use up to 8 manual slices everything seems to be working fine. But when I double to 16 slices (source index has 100,000 documents so each slice has 6250 documents) the target ES 6.4 at one point loses track of reindex task. \r\nIt first correctly creates 16 reindexing tasks and returns their IDs, then it correctly gives me status of all 16 tasks when I ask for it via `http://localhost:9206/_tasks/<task:id>` (I have container port 9200 mapped to local 9206) but when I ask for status few times one of those 16 tasks returns 404 - not found.\r\n\r\nSample of reindexing script log (the problematic task is `HI4YEIRMRuSdwsE4bCK7Bg:197`):\r\n```\r\n... create 16 reindexing tasks ...\r\n\r\n2018-09-17 13:48:23 DEBUG http://localhost:9206 \"POST /_reindex?pretty&refresh&wait_for_completion=false&requests_per_second=-1 HTTP/1.1\" 200 70\r\n2018-09-17 13:48:23 DEBUG {'task': 'HI4YEIRMRuSdwsE4bCK7Bg:192'}\r\n2018-09-17 13:48:23 DEBUG http://localhost:9206 \"POST /_reindex?pretty&refresh&wait_for_completion=false&requests_per_second=-1 HTTP/1.1\" 200 70\r\n2018-09-17 13:48:23 DEBUG {'task': 'HI4YEIRMRuSdwsE4bCK7Bg:193'}\r\n2018-09-17 13:48:23 DEBUG http://localhost:9206 \"POST /_reindex?pretty&refresh&wait_for_completion=false&requests_per_second=-1 HTTP/1.1\" 200 70\r\n2018-09-17 13:48:23 DEBUG {'task': 'HI4YEIRMRuSdwsE4bCK7Bg:194'}\r\n2018-09-17 13:48:23 DEBUG http://localhost:9206 \"POST /_reindex?pretty&refresh&wait_for_completion=false&requests_per_second=-1 HTTP/1.1\" 200 70\r\n2018-09-17 13:48:23 DEBUG {'task': 'HI4YEIRMRuSdwsE4bCK7Bg:195'}\r\n2018-09-17 13:48:23 DEBUG http://localhost:9206 \"POST /_reindex?pretty&refresh&wait_for_completion=false&requests_per_second=-1 HTTP/1.1\" 200 70\r\n2018-09-17 13:48:23 DEBUG {'task': 'HI4YEIRMRuSdwsE4bCK7Bg:196'}\r\n2018-09-17 13:48:23 DEBUG http://localhost:9206 \"POST /_reindex?pretty&refresh&wait_for_completion=false&requests_per_second=-1 HTTP/1.1\" 200 70\r\n2018-09-17 13:48:23 DEBUG {'task': 'HI4YEIRMRuSdwsE4bCK7Bg:197'}\r\n2018-09-17 13:48:23 DEBUG http://localhost:9206 \"POST /_reindex?pretty&refresh&wait_for_completion=false&requests_per_second=-1 HTTP/1.1\" 200 70\r\n2018-09-17 13:48:23 DEBUG {'task': 'HI4YEIRMRuSdwsE4bCK7Bg:198'}\r\n2018-09-17 13:48:23 DEBUG http://localhost:9206 \"POST /_reindex?pretty&refresh&wait_for_completion=false&requests_per_second=-1 HTTP/1.1\" 200 70\r\n2018-09-17 13:48:23 DEBUG {'task': 'HI4YEIRMRuSdwsE4bCK7Bg:199'}\r\n2018-09-17 13:48:23 DEBUG http://localhost:9206 \"POST /_reindex?pretty&refresh&wait_for_completion=false&requests_per_second=-1 HTTP/1.1\" 200 70\r\n2018-09-17 13:48:23 DEBUG {'task': 'HI4YEIRMRuSdwsE4bCK7Bg:200'}\r\n2018-09-17 13:48:24 DEBUG http://localhost:9206 \"POST /_reindex?pretty&refresh&wait_for_completion=false&requests_per_second=-1 HTTP/1.1\" 200 70\r\n2018-09-17 13:48:24 DEBUG {'task': 'HI4YEIRMRuSdwsE4bCK7Bg:201'}\r\n2018-09-17 13:48:24 DEBUG http://localhost:9206 \"POST /_reindex?pretty&refresh&wait_for_completion=false&requests_per_second=-1 HTTP/1.1\" 200 70\r\n2018-09-17 13:48:24 DEBUG {'task': 'HI4YEIRMRuSdwsE4bCK7Bg:202'}\r\n2018-09-17 13:48:24 DEBUG http://localhost:9206 \"POST /_reindex?pretty&refresh&wait_for_completion=false&requests_per_second=-1 HTTP/1.1\" 200 70\r\n2018-09-17 13:48:24 DEBUG {'task': 'HI4YEIRMRuSdwsE4bCK7Bg:203'}\r\n2018-09-17 13:48:24 DEBUG http://localhost:9206 \"POST /_reindex?pretty&refresh&wait_for_completion=false&requests_per_second=-1 HTTP/1.1\" 200 70\r\n2018-09-17 13:48:24 DEBUG {'task': 'HI4YEIRMRuSdwsE4bCK7Bg:204'}\r\n2018-09-17 13:48:24 DEBUG http://localhost:9206 \"POST /_reindex?pretty&refresh&wait_for_completion=false&requests_per_second=-1 HTTP/1.1\" 200 70\r\n2018-09-17 13:48:24 DEBUG {'task': 'HI4YEIRMRuSdwsE4bCK7Bg:205'}\r\n2018-09-17 13:48:24 DEBUG http://localhost:9206 \"POST /_reindex?pretty&refresh&wait_for_completion=false&requests_per_second=-1 HTTP/1.1\" 200 70\r\n2018-09-17 13:48:24 DEBUG {'task': 'HI4YEIRMRuSdwsE4bCK7Bg:208'}\r\n2018-09-17 13:48:24 DEBUG http://localhost:9206 \"POST /_reindex?pretty&refresh&wait_for_completion=false&requests_per_second=-1 HTTP/1.1\" 200 70\r\n2018-09-17 13:48:24 DEBUG {'task': 'HI4YEIRMRuSdwsE4bCK7Bg:209'}\r\n\r\n... now ask every 5 seconds for tasks status ...\r\n\r\n2018-09-17 13:48:25 DEBUG http://localhost:9206 \"GET /_tasks/HI4YEIRMRuSdwsE4bCK7Bg:192 HTTP/1.1\" 200 576\r\n2018-09-17 13:48:25 DEBUG Got reindexing task result from http://localhost:9206/_tasks/HI4YEIRMRuSdwsE4bCK7Bg:192: {\"completed\":false,\"task\":{\"node\":\"HI4YEIRMRuSdwsE4bCK7Bg\",\"id\":192,\"type\":\"transport\",\"action\":\"indices:data/write/reindex\",\"status\":{\"total\":0,\"updated\":0,\"created\":0,\"deleted\":0,\"batches\":0,\"version_conflicts\":0,\"noops\":0,\"retries\":{\"bulk\":0,\"search\":0},\"throttled_millis\":0,\"requests_per_second\":-1.0,\"throttled_until_millis\":0},\"description\":\"reindex from [host=es port=9200 query={\\n  \\\"bool\\\" : {\\n    \\\"must\\\" : [\\n      {\\n        \\\"term\\\" : {\\n          \\\"_custid\\\" : 1\\n        }\\n      },\\n      {\\n        \\\"range\\\" : {\\n          \\\"_idxts\\\" : {\\n            \\\"lt\\\" : 1536826733750,\\n            \\\"gte\\\" : 1536820483000\\n          }\\n        }\\n      }\\n    ]\\n  }\\n}][1.180914.1021.shared.7f7640] updated with Script{type=inline, lang='painless', idOrCode='ctx._source.remove('_id');ctx._type = \\\"_doc\\\";', options={}, params={}} to [1.180914.1021.shared.7f7640]\",\"start_time_in_millis\":1537184902870,\"running_time_in_nanos\":2272736951,\"cancellable\":true,\"headers\":{}}}\r\n2018-09-17 13:48:25 DEBUG http://localhost:9206 \"GET /_tasks/HI4YEIRMRuSdwsE4bCK7Bg:193 HTTP/1.1\" 200 576\r\n2018-09-17 13:48:25 DEBUG Got reindexing task result from http://localhost:9206/_tasks/HI4YEIRMRuSdwsE4bCK7Bg:193: {\"completed\":false,\"task\":{\"node\":\"HI4YEIRMRuSdwsE4bCK7Bg\",\"id\":193,\"type\":\"transport\",\"action\":\"indices:data/write/reindex\",\"status\":{\"total\":0,\"updated\":0,\"created\":0,\"deleted\":0,\"batches\":0,\"version_conflicts\":0,\"noops\":0,\"retries\":{\"bulk\":0,\"search\":0},\"throttled_millis\":0,\"requests_per_second\":-1.0,\"throttled_until_millis\":0},\"description\":\"reindex from [host=es port=9200 query={\\n  \\\"bool\\\" : {\\n    \\\"must\\\" : [\\n      {\\n        \\\"term\\\" : {\\n          \\\"_custid\\\" : 1\\n        }\\n      },\\n      {\\n        \\\"range\\\" : {\\n          \\\"_idxts\\\" : {\\n            \\\"lt\\\" : 1536832984500,\\n            \\\"gte\\\" : 1536826733750\\n          }\\n        }\\n      }\\n    ]\\n  }\\n}][1.180914.1021.shared.7f7640] updated with Script{type=inline, lang='painless', idOrCode='ctx._source.remove('_id');ctx._type = \\\"_doc\\\";', options={}, params={}} to [1.180914.1021.shared.7f7640]\",\"start_time_in_millis\":1537184903030,\"running_time_in_nanos\":2151889086,\"cancellable\":true,\"headers\":{}}}\r\n2018-09-17 13:48:25 DEBUG http://localhost:9206 \"GET /_tasks/HI4YEIRMRuSdwsE4bCK7Bg:194 HTTP/1.1\" 200 576\r\n2018-09-17 13:48:25 DEBUG Got reindexing task result from http://localhost:9206/_tasks/HI4YEIRMRuSdwsE4bCK7Bg:194: {\"completed\":false,\"task\":{\"node\":\"HI4YEIRMRuSdwsE4bCK7Bg\",\"id\":194,\"type\":\"transport\",\"action\":\"indices:data/write/reindex\",\"status\":{\"total\":0,\"updated\":0,\"created\":0,\"deleted\":0,\"batches\":0,\"version_conflicts\":0,\"noops\":0,\"retries\":{\"bulk\":0,\"search\":0},\"throttled_millis\":0,\"requests_per_second\":-1.0,\"throttled_until_millis\":0},\"description\":\"reindex from [host=es port=9200 query={\\n  \\\"bool\\\" : {\\n    \\\"must\\\" : [\\n      {\\n        \\\"term\\\" : {\\n          \\\"_custid\\\" : 1\\n        }\\n      },\\n      {\\n        \\\"range\\\" : {\\n          \\\"_idxts\\\" : {\\n            \\\"lt\\\" : 1536839235250,\\n            \\\"gte\\\" : 1536832984500\\n          }\\n        }\\n      }\\n    ]\\n  }\\n}][1.180914.1021.shared.7f7640] updated with Script{type=inline, lang='painless', idOrCode='ctx._source.remove('_id');ctx._type = \\\"_doc\\\";', options={}, params={}} to [1.180914.1021.shared.7f7640]\",\"start_time_in_millis\":1537184903061,\"running_time_in_nanos\":2159403370,\"cancellable\":true,\"headers\":{}}}\r\n2018-09-17 13:48:25 DEBUG http://localhost:9206 \"GET /_tasks/HI4YEIRMRuSdwsE4bCK7Bg:195 HTTP/1.1\" 200 576\r\n2018-09-17 13:48:25 DEBUG Got reindexing task result from http://localhost:9206/_tasks/HI4YEIRMRuSdwsE4bCK7Bg:195: {\"completed\":false,\"task\":{\"node\":\"HI4YEIRMRuSdwsE4bCK7Bg\",\"id\":195,\"type\":\"transport\",\"action\":\"indices:data/write/reindex\",\"status\":{\"total\":0,\"updated\":0,\"created\":0,\"deleted\":0,\"batches\":0,\"version_conflicts\":0,\"noops\":0,\"retries\":{\"bulk\":0,\"search\":0},\"throttled_millis\":0,\"requests_per_second\":-1.0,\"throttled_until_millis\":0},\"description\":\"reindex from [host=es port=9200 query={\\n  \\\"bool\\\" : {\\n    \\\"must\\\" : [\\n      {\\n        \\\"term\\\" : {\\n          \\\"_custid\\\" : 1\\n        }\\n      },\\n      {\\n        \\\"range\\\" : {\\n          \\\"_idxts\\\" : {\\n            \\\"lt\\\" : 1536845486000,\\n            \\\"gte\\\" : 1536839235250\\n          }\\n        }\\n      }\\n    ]\\n  }\\n}][1.180914.1021.shared.7f7640] updated with Script{type=inline, lang='painless', idOrCode='ctx._source.remove('_id');ctx._type = \\\"_doc\\\";', options={}, params={}} to [1.180914.1021.shared.7f7640]\",\"start_time_in_millis\":1537184903104,\"running_time_in_nanos\":2125611320,\"cancellable\":true,\"headers\":{}}}\r\n2018-09-17 13:48:25 DEBUG http://localhost:9206 \"GET /_tasks/HI4YEIRMRuSdwsE4bCK7Bg:196 HTTP/1.1\" 200 577\r\n2018-09-17 13:48:25 DEBUG Got reindexing task result from http://localhost:9206/_tasks/HI4YEIRMRuSdwsE4bCK7Bg:196: {\"completed\":false,\"task\":{\"node\":\"HI4YEIRMRuSdwsE4bCK7Bg\",\"id\":196,\"type\":\"transport\",\"action\":\"indices:data/write/reindex\",\"status\":{\"total\":0,\"updated\":0,\"created\":0,\"deleted\":0,\"batches\":0,\"version_conflicts\":0,\"noops\":0,\"retries\":{\"bulk\":0,\"search\":0},\"throttled_millis\":0,\"requests_per_second\":-1.0,\"throttled_until_millis\":0},\"description\":\"reindex from [host=es port=9200 query={\\n  \\\"bool\\\" : {\\n    \\\"must\\\" : [\\n      {\\n        \\\"term\\\" : {\\n          \\\"_custid\\\" : 1\\n        }\\n      },\\n      {\\n        \\\"range\\\" : {\\n          \\\"_idxts\\\" : {\\n            \\\"lt\\\" : 1536851736750,\\n            \\\"gte\\\" : 1536845486000\\n          }\\n        }\\n      }\\n    ]\\n  }\\n}][1.180914.1021.shared.7f7640] updated with Script{type=inline, lang='painless', idOrCode='ctx._source.remove('_id');ctx._type = \\\"_doc\\\";', options={}, params={}} to [1.180914.1021.shared.7f7640]\",\"start_time_in_millis\":1537184903172,\"running_time_in_nanos\":2076257258,\"cancellable\":true,\"headers\":{}}}\r\n2018-09-17 13:48:25 DEBUG http://localhost:9206 \"GET /_tasks/HI4YEIRMRuSdwsE4bCK7Bg:197 HTTP/1.1\" 200 574\r\n2018-09-17 13:48:25 DEBUG Got reindexing task result from http://localhost:9206/_tasks/HI4YEIRMRuSdwsE4bCK7Bg:197: {\"completed\":false,\"task\":{\"node\":\"HI4YEIRMRuSdwsE4bCK7Bg\",\"id\":197,\"type\":\"transport\",\"action\":\"indices:data/write/reindex\",\"status\":{\"total\":0,\"updated\":0,\"created\":0,\"deleted\":0,\"batches\":0,\"version_conflicts\":0,\"noops\":0,\"retries\":{\"bulk\":0,\"search\":0},\"throttled_millis\":0,\"requests_per_second\":-1.0,\"throttled_until_millis\":0},\"description\":\"reindex from [host=es port=9200 query={\\n  \\\"bool\\\" : {\\n    \\\"must\\\" : [\\n      {\\n        \\\"term\\\" : {\\n          \\\"_custid\\\" : 1\\n        }\\n      },\\n      {\\n        \\\"range\\\" : {\\n          \\\"_idxts\\\" : {\\n            \\\"lt\\\" : 1536857987500,\\n            \\\"gte\\\" : 1536851736750\\n          }\\n        }\\n      }\\n    ]\\n  }\\n}][1.180914.1021.shared.7f7640] updated with Script{type=inline, lang='painless', idOrCode='ctx._source.remove('_id');ctx._type = \\\"_doc\\\";', options={}, params={}} to [1.180914.1021.shared.7f7640]\",\"start_time_in_millis\":1537184903328,\"running_time_in_nanos\":1931714207,\"cancellable\":true,\"headers\":{}}}\r\n2018-09-17 13:48:25 DEBUG http://localhost:9206 \"GET /_tasks/HI4YEIRMRuSdwsE4bCK7Bg:198 HTTP/1.1\" 200 577\r\n2018-09-17 13:48:25 DEBUG Got reindexing task result from http://localhost:9206/_tasks/HI4YEIRMRuSdwsE4bCK7Bg:198: {\"completed\":false,\"task\":{\"node\":\"HI4YEIRMRuSdwsE4bCK7Bg\",\"id\":198,\"type\":\"transport\",\"action\":\"indices:data/write/reindex\",\"status\":{\"total\":0,\"updated\":0,\"created\":0,\"deleted\":0,\"batches\":0,\"version_conflicts\":0,\"noops\":0,\"retries\":{\"bulk\":0,\"search\":0},\"throttled_millis\":0,\"requests_per_second\":-1.0,\"throttled_until_millis\":0},\"description\":\"reindex from [host=es port=9200 query={\\n  \\\"bool\\\" : {\\n    \\\"must\\\" : [\\n      {\\n        \\\"term\\\" : {\\n          \\\"_custid\\\" : 1\\n        }\\n      },\\n      {\\n        \\\"range\\\" : {\\n          \\\"_idxts\\\" : {\\n            \\\"lt\\\" : 1536864238250,\\n            \\\"gte\\\" : 1536857987500\\n          }\\n        }\\n      }\\n    ]\\n  }\\n}][1.180914.1021.shared.7f7640] updated with Script{type=inline, lang='painless', idOrCode='ctx._source.remove('_id');ctx._type = \\\"_doc\\\";', options={}, params={}} to [1.180914.1021.shared.7f7640]\",\"start_time_in_millis\":1537184903489,\"running_time_in_nanos\":1780568785,\"cancellable\":true,\"headers\":{}}}\r\n2018-09-17 13:48:25 DEBUG http://localhost:9206 \"GET /_tasks/HI4YEIRMRuSdwsE4bCK7Bg:199 HTTP/1.1\" 200 576\r\n2018-09-17 13:48:25 DEBUG Got reindexing task result from http://localhost:9206/_tasks/HI4YEIRMRuSdwsE4bCK7Bg:199: {\"completed\":false,\"task\":{\"node\":\"HI4YEIRMRuSdwsE4bCK7Bg\",\"id\":199,\"type\":\"transport\",\"action\":\"indices:data/write/reindex\",\"status\":{\"total\":0,\"updated\":0,\"created\":0,\"deleted\":0,\"batches\":0,\"version_conflicts\":0,\"noops\":0,\"retries\":{\"bulk\":0,\"search\":0},\"throttled_millis\":0,\"requests_per_second\":-1.0,\"throttled_until_millis\":0},\"description\":\"reindex from [host=es port=9200 query={\\n  \\\"bool\\\" : {\\n    \\\"must\\\" : [\\n      {\\n        \\\"term\\\" : {\\n          \\\"_custid\\\" : 1\\n        }\\n      },\\n      {\\n        \\\"range\\\" : {\\n          \\\"_idxts\\\" : {\\n            \\\"lt\\\" : 1536870489000,\\n            \\\"gte\\\" : 1536864238250\\n          }\\n        }\\n      }\\n    ]\\n  }\\n}][1.180914.1021.shared.7f7640] updated with Script{type=inline, lang='painless', idOrCode='ctx._source.remove('_id');ctx._type = \\\"_doc\\\";', options={}, params={}} to [1.180914.1021.shared.7f7640]\",\"start_time_in_millis\":1537184903615,\"running_time_in_nanos\":1678313831,\"cancellable\":true,\"headers\":{}}}\r\n2018-09-17 13:48:25 DEBUG http://localhost:9206 \"GET /_tasks/HI4YEIRMRuSdwsE4bCK7Bg:200 HTTP/1.1\" 200 576\r\n2018-09-17 13:48:25 DEBUG Got reindexing task result from http://localhost:9206/_tasks/HI4YEIRMRuSdwsE4bCK7Bg:200: {\"completed\":false,\"task\":{\"node\":\"HI4YEIRMRuSdwsE4bCK7Bg\",\"id\":200,\"type\":\"transport\",\"action\":\"indices:data/write/reindex\",\"status\":{\"total\":0,\"updated\":0,\"created\":0,\"deleted\":0,\"batches\":0,\"version_conflicts\":0,\"noops\":0,\"retries\":{\"bulk\":0,\"search\":0},\"throttled_millis\":0,\"requests_per_second\":-1.0,\"throttled_until_millis\":0},\"description\":\"reindex from [host=es port=9200 query={\\n  \\\"bool\\\" : {\\n    \\\"must\\\" : [\\n      {\\n        \\\"term\\\" : {\\n          \\\"_custid\\\" : 1\\n        }\\n      },\\n      {\\n        \\\"range\\\" : {\\n          \\\"_idxts\\\" : {\\n            \\\"lt\\\" : 1536876739750,\\n            \\\"gte\\\" : 1536870489000\\n          }\\n        }\\n      }\\n    ]\\n  }\\n}][1.180914.1021.shared.7f7640] updated with Script{type=inline, lang='painless', idOrCode='ctx._source.remove('_id');ctx._type = \\\"_doc\\\";', options={}, params={}} to [1.180914.1021.shared.7f7640]\",\"start_time_in_millis\":1537184903722,\"running_time_in_nanos\":1584805836,\"cancellable\":true,\"headers\":{}}}\r\n2018-09-17 13:48:25 DEBUG http://localhost:9206 \"GET /_tasks/HI4YEIRMRuSdwsE4bCK7Bg:201 HTTP/1.1\" 200 576\r\n2018-09-17 13:48:25 DEBUG Got reindexing task result from http://localhost:9206/_tasks/HI4YEIRMRuSdwsE4bCK7Bg:201: {\"completed\":false,\"task\":{\"node\":\"HI4YEIRMRuSdwsE4bCK7Bg\",\"id\":201,\"type\":\"transport\",\"action\":\"indices:data/write/reindex\",\"status\":{\"total\":0,\"updated\":0,\"created\":0,\"deleted\":0,\"batches\":0,\"version_conflicts\":0,\"noops\":0,\"retries\":{\"bulk\":0,\"search\":0},\"throttled_millis\":0,\"requests_per_second\":-1.0,\"throttled_until_millis\":0},\"description\":\"reindex from [host=es port=9200 query={\\n  \\\"bool\\\" : {\\n    \\\"must\\\" : [\\n      {\\n        \\\"term\\\" : {\\n          \\\"_custid\\\" : 1\\n        }\\n      },\\n      {\\n        \\\"range\\\" : {\\n          \\\"_idxts\\\" : {\\n            \\\"lt\\\" : 1536882990500,\\n            \\\"gte\\\" : 1536876739750\\n          }\\n        }\\n      }\\n    ]\\n  }\\n}][1.180914.1021.shared.7f7640] updated with Script{type=inline, lang='painless', idOrCode='ctx._source.remove('_id');ctx._type = \\\"_doc\\\";', options={}, params={}} to [1.180914.1021.shared.7f7640]\",\"start_time_in_millis\":1537184903964,\"running_time_in_nanos\":1380729600,\"cancellable\":true,\"headers\":{}}}\r\n2018-09-17 13:48:25 DEBUG http://localhost:9206 \"GET /_tasks/HI4YEIRMRuSdwsE4bCK7Bg:202 HTTP/1.1\" 200 575\r\n2018-09-17 13:48:25 DEBUG Got reindexing task result from http://localhost:9206/_tasks/HI4YEIRMRuSdwsE4bCK7Bg:202: {\"completed\":false,\"task\":{\"node\":\"HI4YEIRMRuSdwsE4bCK7Bg\",\"id\":202,\"type\":\"transport\",\"action\":\"indices:data/write/reindex\",\"status\":{\"total\":0,\"updated\":0,\"created\":0,\"deleted\":0,\"batches\":0,\"version_conflicts\":0,\"noops\":0,\"retries\":{\"bulk\":0,\"search\":0},\"throttled_millis\":0,\"requests_per_second\":-1.0,\"throttled_until_millis\":0},\"description\":\"reindex from [host=es port=9200 query={\\n  \\\"bool\\\" : {\\n    \\\"must\\\" : [\\n      {\\n        \\\"term\\\" : {\\n          \\\"_custid\\\" : 1\\n        }\\n      },\\n      {\\n        \\\"range\\\" : {\\n          \\\"_idxts\\\" : {\\n            \\\"lt\\\" : 1536889241250,\\n            \\\"gte\\\" : 1536882990500\\n          }\\n        }\\n      }\\n    ]\\n  }\\n}][1.180914.1021.shared.7f7640] updated with Script{type=inline, lang='painless', idOrCode='ctx._source.remove('_id');ctx._type = \\\"_doc\\\";', options={}, params={}} to [1.180914.1021.shared.7f7640]\",\"start_time_in_millis\":1537184904100,\"running_time_in_nanos\":1259823857,\"cancellable\":true,\"headers\":{}}}\r\n2018-09-17 13:48:25 DEBUG http://localhost:9206 \"GET /_tasks/HI4YEIRMRuSdwsE4bCK7Bg:203 HTTP/1.1\" 200 574\r\n2018-09-17 13:48:25 DEBUG Got reindexing task result from http://localhost:9206/_tasks/HI4YEIRMRuSdwsE4bCK7Bg:203: {\"completed\":false,\"task\":{\"node\":\"HI4YEIRMRuSdwsE4bCK7Bg\",\"id\":203,\"type\":\"transport\",\"action\":\"indices:data/write/reindex\",\"status\":{\"total\":0,\"updated\":0,\"created\":0,\"deleted\":0,\"batches\":0,\"version_conflicts\":0,\"noops\":0,\"retries\":{\"bulk\":0,\"search\":0},\"throttled_millis\":0,\"requests_per_second\":-1.0,\"throttled_until_millis\":0},\"description\":\"reindex from [host=es port=9200 query={\\n  \\\"bool\\\" : {\\n    \\\"must\\\" : [\\n      {\\n        \\\"term\\\" : {\\n          \\\"_custid\\\" : 1\\n        }\\n      },\\n      {\\n        \\\"range\\\" : {\\n          \\\"_idxts\\\" : {\\n            \\\"lt\\\" : 1536895492000,\\n            \\\"gte\\\" : 1536889241250\\n          }\\n        }\\n      }\\n    ]\\n  }\\n}][1.180914.1021.shared.7f7640] updated with Script{type=inline, lang='painless', idOrCode='ctx._source.remove('_id');ctx._type = \\\"_doc\\\";', options={}, params={}} to [1.180914.1021.shared.7f7640]\",\"start_time_in_millis\":1537184904160,\"running_time_in_nanos\":1225550074,\"cancellable\":true,\"headers\":{}}}\r\n2018-09-17 13:48:25 DEBUG http://localhost:9206 \"GET /_tasks/HI4YEIRMRuSdwsE4bCK7Bg:204 HTTP/1.1\" 200 575\r\n2018-09-17 13:48:25 DEBUG Got reindexing task result from http://localhost:9206/_tasks/HI4YEIRMRuSdwsE4bCK7Bg:204: {\"completed\":false,\"task\":{\"node\":\"HI4YEIRMRuSdwsE4bCK7Bg\",\"id\":204,\"type\":\"transport\",\"action\":\"indices:data/write/reindex\",\"status\":{\"total\":0,\"updated\":0,\"created\":0,\"deleted\":0,\"batches\":0,\"version_conflicts\":0,\"noops\":0,\"retries\":{\"bulk\":0,\"search\":0},\"throttled_millis\":0,\"requests_per_second\":-1.0,\"throttled_until_millis\":0},\"description\":\"reindex from [host=es port=9200 query={\\n  \\\"bool\\\" : {\\n    \\\"must\\\" : [\\n      {\\n        \\\"term\\\" : {\\n          \\\"_custid\\\" : 1\\n        }\\n      },\\n      {\\n        \\\"range\\\" : {\\n          \\\"_idxts\\\" : {\\n            \\\"lt\\\" : 1536901742750,\\n            \\\"gte\\\" : 1536895492000\\n          }\\n        }\\n      }\\n    ]\\n  }\\n}][1.180914.1021.shared.7f7640] updated with Script{type=inline, lang='painless', idOrCode='ctx._source.remove('_id');ctx._type = \\\"_doc\\\";', options={}, params={}} to [1.180914.1021.shared.7f7640]\",\"start_time_in_millis\":1537184904394,\"running_time_in_nanos\":1013116012,\"cancellable\":true,\"headers\":{}}}\r\n2018-09-17 13:48:25 DEBUG http://localhost:9206 \"GET /_tasks/HI4YEIRMRuSdwsE4bCK7Bg:205 HTTP/1.1\" 200 573\r\n2018-09-17 13:48:25 DEBUG Got reindexing task result from http://localhost:9206/_tasks/HI4YEIRMRuSdwsE4bCK7Bg:205: {\"completed\":false,\"task\":{\"node\":\"HI4YEIRMRuSdwsE4bCK7Bg\",\"id\":205,\"type\":\"transport\",\"action\":\"indices:data/write/reindex\",\"status\":{\"total\":0,\"updated\":0,\"created\":0,\"deleted\":0,\"batches\":0,\"version_conflicts\":0,\"noops\":0,\"retries\":{\"bulk\":0,\"search\":0},\"throttled_millis\":0,\"requests_per_second\":-1.0,\"throttled_until_millis\":0},\"description\":\"reindex from [host=es port=9200 query={\\n  \\\"bool\\\" : {\\n    \\\"must\\\" : [\\n      {\\n        \\\"term\\\" : {\\n          \\\"_custid\\\" : 1\\n        }\\n      },\\n      {\\n        \\\"range\\\" : {\\n          \\\"_idxts\\\" : {\\n            \\\"lt\\\" : 1536907993500,\\n            \\\"gte\\\" : 1536901742750\\n          }\\n        }\\n      }\\n    ]\\n  }\\n}][1.180914.1021.shared.7f7640] updated with Script{type=inline, lang='painless', idOrCode='ctx._source.remove('_id');ctx._type = \\\"_doc\\\";', options={}, params={}} to [1.180914.1021.shared.7f7640]\",\"start_time_in_millis\":1537184904537,\"running_time_in_nanos\":896998560,\"cancellable\":true,\"headers\":{}}}\r\n2018-09-17 13:48:25 DEBUG http://localhost:9206 \"GET /_tasks/HI4YEIRMRuSdwsE4bCK7Bg:208 HTTP/1.1\" 200 574\r\n2018-09-17 13:48:25 DEBUG Got reindexing task result from http://localhost:9206/_tasks/HI4YEIRMRuSdwsE4bCK7Bg:208: {\"completed\":false,\"task\":{\"node\":\"HI4YEIRMRuSdwsE4bCK7Bg\",\"id\":208,\"type\":\"transport\",\"action\":\"indices:data/write/reindex\",\"status\":{\"total\":0,\"updated\":0,\"created\":0,\"deleted\":0,\"batches\":0,\"version_conflicts\":0,\"noops\":0,\"retries\":{\"bulk\":0,\"search\":0},\"throttled_millis\":0,\"requests_per_second\":-1.0,\"throttled_until_millis\":0},\"description\":\"reindex from [host=es port=9200 query={\\n  \\\"bool\\\" : {\\n    \\\"must\\\" : [\\n      {\\n        \\\"term\\\" : {\\n          \\\"_custid\\\" : 1\\n        }\\n      },\\n      {\\n        \\\"range\\\" : {\\n          \\\"_idxts\\\" : {\\n            \\\"lt\\\" : 1536914244250,\\n            \\\"gte\\\" : 1536907993500\\n          }\\n        }\\n      }\\n    ]\\n  }\\n}][1.180914.1021.shared.7f7640] updated with Script{type=inline, lang='painless', idOrCode='ctx._source.remove('_id');ctx._type = \\\"_doc\\\";', options={}, params={}} to [1.180914.1021.shared.7f7640]\",\"start_time_in_millis\":1537184904632,\"running_time_in_nanos\":861332226,\"cancellable\":true,\"headers\":{}}}\r\n2018-09-17 13:48:25 DEBUG http://localhost:9206 \"GET /_tasks/HI4YEIRMRuSdwsE4bCK7Bg:209 HTTP/1.1\" 200 572\r\n2018-09-17 13:48:25 DEBUG Got reindexing task result from http://localhost:9206/_tasks/HI4YEIRMRuSdwsE4bCK7Bg:209: {\"completed\":false,\"task\":{\"node\":\"HI4YEIRMRuSdwsE4bCK7Bg\",\"id\":209,\"type\":\"transport\",\"action\":\"indices:data/write/reindex\",\"status\":{\"total\":0,\"updated\":0,\"created\":0,\"deleted\":0,\"batches\":0,\"version_conflicts\":0,\"noops\":0,\"retries\":{\"bulk\":0,\"search\":0},\"throttled_millis\":0,\"requests_per_second\":-1.0,\"throttled_until_millis\":0},\"description\":\"reindex from [host=es port=9200 query={\\n  \\\"bool\\\" : {\\n    \\\"must\\\" : [\\n      {\\n        \\\"term\\\" : {\\n          \\\"_custid\\\" : 1\\n        }\\n      },\\n      {\\n        \\\"range\\\" : {\\n          \\\"_idxts\\\" : {\\n            \\\"lt\\\" : 1536920495001,\\n            \\\"gte\\\" : 1536914244250\\n          }\\n        }\\n      }\\n    ]\\n  }\\n}][1.180914.1021.shared.7f7640] updated with Script{type=inline, lang='painless', idOrCode='ctx._source.remove('_id');ctx._type = \\\"_doc\\\";', options={}, params={}} to [1.180914.1021.shared.7f7640]\",\"start_time_in_millis\":1537184904850,\"running_time_in_nanos\":664256833,\"cancellable\":true,\"headers\":{}}}\r\n\r\n... second, and third round are the same, all tasks report status ...\r\n... now 4th round ...\r\n\r\n2018-09-17 13:48:39 DEBUG http://localhost:9206 \"GET /_tasks/HI4YEIRMRuSdwsE4bCK7Bg:192 HTTP/1.1\" 200 581\r\n2018-09-17 13:48:39 DEBUG Got reindexing task result from http://localhost:9206/_tasks/HI4YEIRMRuSdwsE4bCK7Bg:192: {\"completed\":false,\"task\":{\"node\":\"HI4YEIRMRuSdwsE4bCK7Bg\",\"id\":192,\"type\":\"transport\",\"action\":\"indices:data/write/reindex\",\"status\":{\"total\":6251,\"updated\":0,\"created\":0,\"deleted\":0,\"batches\":1,\"version_conflicts\":0,\"noops\":0,\"retries\":{\"bulk\":2,\"search\":0},\"throttled_millis\":0,\"requests_per_second\":-1.0,\"throttled_until_millis\":0},\"description\":\"reindex from [host=es port=9200 query={\\n  \\\"bool\\\" : {\\n    \\\"must\\\" : [\\n      {\\n        \\\"term\\\" : {\\n          \\\"_custid\\\" : 1\\n        }\\n      },\\n      {\\n        \\\"range\\\" : {\\n          \\\"_idxts\\\" : {\\n            \\\"lt\\\" : 1536826733750,\\n            \\\"gte\\\" : 1536820483000\\n          }\\n        }\\n      }\\n    ]\\n  }\\n}][1.180914.1021.shared.7f7640] updated with Script{type=inline, lang='painless', idOrCode='ctx._source.remove('_id');ctx._type = \\\"_doc\\\";', options={}, params={}} to [1.180914.1021.shared.7f7640]\",\"start_time_in_millis\":1537184902870,\"running_time_in_nanos\":16132017224,\"cancellable\":true,\"headers\":{}}}\r\n2018-09-17 13:48:39 DEBUG http://localhost:9206 \"GET /_tasks/HI4YEIRMRuSdwsE4bCK7Bg:193 HTTP/1.1\" 200 582\r\n2018-09-17 13:48:39 DEBUG Got reindexing task result from http://localhost:9206/_tasks/HI4YEIRMRuSdwsE4bCK7Bg:193: {\"completed\":false,\"task\":{\"node\":\"HI4YEIRMRuSdwsE4bCK7Bg\",\"id\":193,\"type\":\"transport\",\"action\":\"indices:data/write/reindex\",\"status\":{\"total\":6250,\"updated\":0,\"created\":0,\"deleted\":0,\"batches\":1,\"version_conflicts\":0,\"noops\":0,\"retries\":{\"bulk\":2,\"search\":0},\"throttled_millis\":0,\"requests_per_second\":-1.0,\"throttled_until_millis\":0},\"description\":\"reindex from [host=es port=9200 query={\\n  \\\"bool\\\" : {\\n    \\\"must\\\" : [\\n      {\\n        \\\"term\\\" : {\\n          \\\"_custid\\\" : 1\\n        }\\n      },\\n      {\\n        \\\"range\\\" : {\\n          \\\"_idxts\\\" : {\\n            \\\"lt\\\" : 1536832984500,\\n            \\\"gte\\\" : 1536826733750\\n          }\\n        }\\n      }\\n    ]\\n  }\\n}][1.180914.1021.shared.7f7640] updated with Script{type=inline, lang='painless', idOrCode='ctx._source.remove('_id');ctx._type = \\\"_doc\\\";', options={}, params={}} to [1.180914.1021.shared.7f7640]\",\"start_time_in_millis\":1537184903030,\"running_time_in_nanos\":15979935211,\"cancellable\":true,\"headers\":{}}}\r\n2018-09-17 13:48:39 DEBUG http://localhost:9206 \"GET /_tasks/HI4YEIRMRuSdwsE4bCK7Bg:194 HTTP/1.1\" 200 624\r\n2018-09-17 13:48:39 DEBUG Got reindexing task result from http://localhost:9206/_tasks/HI4YEIRMRuSdwsE4bCK7Bg:194: {\"completed\":true,\"task\":{\"node\":\"HI4YEIRMRuSdwsE4bCK7Bg\",\"id\":194,\"type\":\"transport\",\"action\":\"indices:data/write/reindex\",\"status\":{\"total\":6251,\"updated\":0,\"created\":6251,\"deleted\":0,\"batches\":1,\"version_conflicts\":0,\"noops\":0,\"retries\":{\"bulk\":0,\"search\":0},\"throttled_millis\":0,\"requests_per_second\":-1.0,\"throttled_until_millis\":0},\"description\":\"reindex from [host=es port=9200 query={\\n  \\\"bool\\\" : {\\n    \\\"must\\\" : [\\n      {\\n        \\\"term\\\" : {\\n          \\\"_custid\\\" : 1\\n        }\\n      },\\n      {\\n        \\\"range\\\" : {\\n          \\\"_idxts\\\" : {\\n            \\\"lt\\\" : 1536839235250,\\n            \\\"gte\\\" : 1536832984500\\n          }\\n        }\\n      }\\n    ]\\n  }\\n}][1.180914.1021.shared.7f7640] updated with Script{type=inline, lang='painless', idOrCode='ctx._source.remove('_id');ctx._type = \\\"_doc\\\";', options={}, params={}} to [1.180914.1021.shared.7f7640]\",\"start_time_in_millis\":1537184903061,\"running_time_in_nanos\":12494097836,\"cancellable\":true,\"headers\":{}},\"response\":{\"took\":12488,\"timed_out\":false,\"total\":6251,\"updated\":0,\"created\":6251,\"deleted\":0,\"batches\":1,\"version_conflicts\":0,\"noops\":0,\"retries\":{\"bulk\":0,\"search\":0},\"throttled_millis\":0,\"requests_per_second\":-1.0,\"throttled_until_millis\":0,\"failures\":[]}}\r\n2018-09-17 13:48:39 DEBUG http://localhost:9206 \"GET /_tasks/HI4YEIRMRuSdwsE4bCK7Bg:195 HTTP/1.1\" 200 583\r\n2018-09-17 13:48:39 DEBUG Got reindexing task result from http://localhost:9206/_tasks/HI4YEIRMRuSdwsE4bCK7Bg:195: {\"completed\":false,\"task\":{\"node\":\"HI4YEIRMRuSdwsE4bCK7Bg\",\"id\":195,\"type\":\"transport\",\"action\":\"indices:data/write/reindex\",\"status\":{\"total\":6249,\"updated\":0,\"created\":0,\"deleted\":0,\"batches\":1,\"version_conflicts\":0,\"noops\":0,\"retries\":{\"bulk\":1,\"search\":0},\"throttled_millis\":0,\"requests_per_second\":-1.0,\"throttled_until_millis\":0},\"description\":\"reindex from [host=es port=9200 query={\\n  \\\"bool\\\" : {\\n    \\\"must\\\" : [\\n      {\\n        \\\"term\\\" : {\\n          \\\"_custid\\\" : 1\\n        }\\n      },\\n      {\\n        \\\"range\\\" : {\\n          \\\"_idxts\\\" : {\\n            \\\"lt\\\" : 1536845486000,\\n            \\\"gte\\\" : 1536839235250\\n          }\\n        }\\n      }\\n    ]\\n  }\\n}][1.180914.1021.shared.7f7640] updated with Script{type=inline, lang='painless', idOrCode='ctx._source.remove('_id');ctx._type = \\\"_doc\\\";', options={}, params={}} to [1.180914.1021.shared.7f7640]\",\"start_time_in_millis\":1537184903104,\"running_time_in_nanos\":16142388968,\"cancellable\":true,\"headers\":{}}}\r\n2018-09-17 13:48:39 DEBUG http://localhost:9206 \"GET /_tasks/HI4YEIRMRuSdwsE4bCK7Bg:196 HTTP/1.1\" 200 583\r\n2018-09-17 13:48:39 DEBUG Got reindexing task result from http://localhost:9206/_tasks/HI4YEIRMRuSdwsE4bCK7Bg:196: {\"completed\":false,\"task\":{\"node\":\"HI4YEIRMRuSdwsE4bCK7Bg\",\"id\":196,\"type\":\"transport\",\"action\":\"indices:data/write/reindex\",\"status\":{\"total\":6249,\"updated\":0,\"created\":0,\"deleted\":0,\"batches\":1,\"version_conflicts\":0,\"noops\":0,\"retries\":{\"bulk\":2,\"search\":0},\"throttled_millis\":0,\"requests_per_second\":-1.0,\"throttled_until_millis\":0},\"description\":\"reindex from [host=es port=9200 query={\\n  \\\"bool\\\" : {\\n    \\\"must\\\" : [\\n      {\\n        \\\"term\\\" : {\\n          \\\"_custid\\\" : 1\\n        }\\n      },\\n      {\\n        \\\"range\\\" : {\\n          \\\"_idxts\\\" : {\\n            \\\"lt\\\" : 1536851736750,\\n            \\\"gte\\\" : 1536845486000\\n          }\\n        }\\n      }\\n    ]\\n  }\\n}][1.180914.1021.shared.7f7640] updated with Script{type=inline, lang='painless', idOrCode='ctx._source.remove('_id');ctx._type = \\\"_doc\\\";', options={}, params={}} to [1.180914.1021.shared.7f7640]\",\"start_time_in_millis\":1537184903172,\"running_time_in_nanos\":16080621544,\"cancellable\":true,\"headers\":{}}}\r\n\r\n... and now the task HI4YEIRMRuSdwsE4bCK7Bg:197 returns \"not found\" instead of status as all others ...\r\n\r\n2018-09-17 13:48:39 DEBUG http://localhost:9206 \"GET /_tasks/HI4YEIRMRuSdwsE4bCK7Bg:197 HTTP/1.1\" 404 176\r\n2018-09-17 13:48:39 DEBUG Got reindexing task result from http://localhost:9206/_tasks/HI4YEIRMRuSdwsE4bCK7Bg:197: {\"error\":{\"root_cause\":[{\"type\":\"resource_not_found_exception\",\"reason\":\"task [HI4YEIRMRuSdwsE4bCK7Bg:197] isn't running and hasn't stored its results\"}],\"type\":\"resource_not_found_exception\",\"reason\":\"task [HI4YEIRMRuSdwsE4bCK7Bg:197] isn't running and hasn't stored its results\"},\"status\":404}\r\n\r\n... but next tasks still works correctly ...\r\n\r\n2018-09-17 13:48:39 DEBUG http://localhost:9206 \"GET /_tasks/HI4YEIRMRuSdwsE4bCK7Bg:198 HTTP/1.1\" 200 582\r\n2018-09-17 13:48:39 DEBUG Got reindexing task result from http://localhost:9206/_tasks/HI4YEIRMRuSdwsE4bCK7Bg:198: {\"completed\":false,\"task\":{\"node\":\"HI4YEIRMRuSdwsE4bCK7Bg\",\"id\":198,\"type\":\"transport\",\"action\":\"indices:data/write/reindex\",\"status\":{\"total\":6250,\"updated\":0,\"created\":0,\"deleted\":0,\"batches\":1,\"version_conflicts\":0,\"noops\":0,\"retries\":{\"bulk\":3,\"search\":0},\"throttled_millis\":0,\"requests_per_second\":-1.0,\"throttled_until_millis\":0},\"description\":\"reindex from [host=es port=9200 query={\\n  \\\"bool\\\" : {\\n    \\\"must\\\" : [\\n      {\\n        \\\"term\\\" : {\\n          \\\"_custid\\\" : 1\\n        }\\n      },\\n      {\\n        \\\"range\\\" : {\\n          \\\"_idxts\\\" : {\\n            \\\"lt\\\" : 1536864238250,\\n            \\\"gte\\\" : 1536857987500\\n          }\\n        }\\n      }\\n    ]\\n  }\\n}][1.180914.1021.shared.7f7640] updated with Script{type=inline, lang='painless', idOrCode='ctx._source.remove('_id');ctx._type = \\\"_doc\\\";', options={}, params={}} to [1.180914.1021.shared.7f7640]\",\"start_time_in_millis\":1537184903489,\"running_time_in_nanos\":15868744097,\"cancellable\":true,\"headers\":{}}}\r\n2018-09-17 13:48:39 DEBUG http://localhost:9206 \"GET /_tasks/HI4YEIRMRuSdwsE4bCK7Bg:199 HTTP/1.1\" 200 580\r\n2018-09-17 13:48:39 DEBUG Got reindexing task result from http://localhost:9206/_tasks/HI4YEIRMRuSdwsE4bCK7Bg:199: {\"completed\":false,\"task\":{\"node\":\"HI4YEIRMRuSdwsE4bCK7Bg\",\"id\":199,\"type\":\"transport\",\"action\":\"indices:data/write/reindex\",\"status\":{\"total\":6249,\"updated\":0,\"created\":0,\"deleted\":0,\"batches\":1,\"version_conflicts\":0,\"noops\":0,\"retries\":{\"bulk\":2,\"search\":0},\"throttled_millis\":0,\"requests_per_second\":-1.0,\"throttled_until_millis\":0},\"description\":\"reindex from [host=es port=9200 query={\\n  \\\"bool\\\" : {\\n    \\\"must\\\" : [\\n      {\\n        \\\"term\\\" : {\\n          \\\"_custid\\\" : 1\\n        }\\n      },\\n      {\\n        \\\"range\\\" : {\\n          \\\"_idxts\\\" : {\\n            \\\"lt\\\" : 1536870489000,\\n            \\\"gte\\\" : 1536864238250\\n          }\\n        }\\n      }\\n    ]\\n  }\\n}][1.180914.1021.shared.7f7640] updated with Script{type=inline, lang='painless', idOrCode='ctx._source.remove('_id');ctx._type = \\\"_doc\\\";', options={}, params={}} to [1.180914.1021.shared.7f7640]\",\"start_time_in_millis\":1537184903615,\"running_time_in_nanos\":15752580914,\"cancellable\":true,\"headers\":{}}}\r\n```\r\n\r\nWhen I look at ES log I see that given task failed (full log at the bottom):\r\n```\r\n[2018-09-17T11:48:39,243][WARN ][o.e.t.LoggingTaskListener] 197 failed with exception\r\norg.elasticsearch.transport.RemoteTransportException: [HI4YEIR][172.30.0.6:9300][indices:data/write/bulk[s][p]]\r\nCaused by: org.elasticsearch.common.util.concurrent.EsRejectedExecutionException: rejected execution of org.elasticsearch.transport.TransportService$7@15ac841d on EsThreadPoolExecutor[name = HI4YEIR/write, queue capacity = 200, org.elasticsearch.common.util.concurrent.EsThreadPoolExecutor@36d96df1[Running, pool size = 8, active threads = 8, queued tasks = 200, completed tasks = 239]]\r\n```\r\n\r\nAs it looks to me (without knowing much about ES internals) the `write` thread pool is full because of running reindexing and when ES tries to something with task that operation is rejected because of full queue. I would expect that tasks just take longer to execute, not that they fail silently (looking from outside). If it happens I have to fail whole reindexing process and start over, which fails again.\r\n\r\n**Steps to reproduce**:\r\n\r\n1. Have ES 1.4 instance with index that contains 100,000 documents, total index size is 92MB.\r\n2. Have ES 6.4 running in docker container having max Java heap set to 16GB\r\n3. Start 16 parallel reindexing tasks from 1.4 to 6.4 using request to `http://localhost:9206/_reindex?pretty&refresh&wait_for_completion=false`\r\n4. Every 5 seconds query ES 6.4 for tasks status using `GET http://localhost:9206/_tasks/<part_1_of_task_id:number>`\r\n5. As some point one of tasks query returns `resource_not_found_exception`\r\n6. Looking at ES logs there is an error\r\n```\r\n[2018-09-17T11:48:39,243][WARN ][o.e.t.LoggingTaskListener] 197 failed with exception\r\norg.elasticsearch.transport.RemoteTransportException: [HI4YEIR][172.30.0.6:9300][indices:data/write/bulk[s][p]]\r\nCaused by: org.elasticsearch.common.util.concurrent.EsRejectedExecutionException: rejected execution of org.elasticsearch.transport.TransportService$7@15ac841d on EsThreadPoolExecutor[name = HI4YEIR/write, queue capacity = 200, org.elasticsearch.common.util.concurrent.EsThreadPoolExecutor@36d96df1[Running, pool size = 8, active threads = 8, queued tasks = 200, completed tasks = 239]]\r\n```\r\n\r\n**ES 6.4 logs**:\r\n```\r\nOpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\r\n[2018-09-17T11:48:07,965][INFO ][o.e.n.Node               ] [] initializing ...\r\n[2018-09-17T11:48:08,017][INFO ][o.e.e.NodeEnvironment    ] [HI4YEIR] using [1] data paths, mounts [[/ (overlay)]], net usable_space [90.5gb], net total_space [196.4gb], types [overlay]\r\n[2018-09-17T11:48:08,018][INFO ][o.e.e.NodeEnvironment    ] [HI4YEIR] heap size [15.9gb], compressed ordinary object pointers [true]\r\n[2018-09-17T11:48:08,019][INFO ][o.e.n.Node               ] [HI4YEIR] node name derived from node ID [HI4YEIRMRuSdwsE4bCK7Bg]; set [node.name] to override\r\n[2018-09-17T11:48:08,020][INFO ][o.e.n.Node               ] [HI4YEIR] version[6.4.0], pid[10], build[default/tar/595516e/2018-08-17T23:18:47.308994Z], OS[Linux/4.15.0-34-generic/amd64], JVM[\"Oracle Corporation\"/OpenJDK 64-Bit Server VM/10.0.2/10.0.2+13]\r\n[2018-09-17T11:48:08,020][INFO ][o.e.n.Node               ] [HI4YEIR] JVM arguments [-Xms1g, -Xmx1g, -XX:+UseConcMarkSweepGC, -XX:CMSInitiatingOccupancyFraction=75, -XX:+UseCMSInitiatingOccupancyOnly, -XX:+AlwaysPreTouch, -Xss1m, -Djava.awt.headless=true, -Dfile.encoding=UTF-8, -Djna.nosys=true, -XX:-OmitStackTraceInFastThrow, -Dio.netty.noUnsafe=true, -Dio.netty.noKeySetOptimization=true, -Dio.netty.recycler.maxCapacityPerThread=0, -Dlog4j.shutdownHookEnabled=false, -Dlog4j2.disable.jmx=true, -Djava.io.tmpdir=/tmp/elasticsearch.b7vtokTJ, -XX:+HeapDumpOnOutOfMemoryError, -XX:HeapDumpPath=data, -XX:ErrorFile=logs/hs_err_pid%p.log, -Xlog:gc*,gc+age=trace,safepoint:file=logs/gc.log:utctime,pid,tags:filecount=32,filesize=64m, -Djava.locale.providers=COMPAT, -XX:UseAVX=2, -Des.cgroups.hierarchy.override=/, -Xms1g, -Xmx16g, -Des.path.home=/usr/share/elasticsearch, -Des.path.conf=/usr/share/elasticsearch/config, -Des.distribution.flavor=default, -Des.distribution.type=tar]\r\n[2018-09-17T11:48:08,705][WARN ][o.e.x.w.Watcher          ] the [action.auto_create_index] setting is configured to be restrictive [.security,.monitoring*,.watches,.triggered_watches,.watcher-history*,.ml*,.kibana*].  for the next 6 months daily history indices are allowed to be created, but please make sure that any future history indices after 6 months with the pattern [.watcher-history-YYYY.MM.dd] are allowed to be created\r\n[2018-09-17T11:48:09,538][INFO ][o.e.p.PluginsService     ] [HI4YEIR] loaded module [aggs-matrix-stats]\r\n[2018-09-17T11:48:09,538][INFO ][o.e.p.PluginsService     ] [HI4YEIR] loaded module [analysis-common]\r\n[2018-09-17T11:48:09,538][INFO ][o.e.p.PluginsService     ] [HI4YEIR] loaded module [ingest-common]\r\n[2018-09-17T11:48:09,538][INFO ][o.e.p.PluginsService     ] [HI4YEIR] loaded module [lang-expression]\r\n[2018-09-17T11:48:09,538][INFO ][o.e.p.PluginsService     ] [HI4YEIR] loaded module [lang-mustache]\r\n[2018-09-17T11:48:09,538][INFO ][o.e.p.PluginsService     ] [HI4YEIR] loaded module [lang-painless]\r\n[2018-09-17T11:48:09,538][INFO ][o.e.p.PluginsService     ] [HI4YEIR] loaded module [mapper-extras]\r\n[2018-09-17T11:48:09,538][INFO ][o.e.p.PluginsService     ] [HI4YEIR] loaded module [parent-join]\r\n[2018-09-17T11:48:09,538][INFO ][o.e.p.PluginsService     ] [HI4YEIR] loaded module [percolator]\r\n[2018-09-17T11:48:09,538][INFO ][o.e.p.PluginsService     ] [HI4YEIR] loaded module [rank-eval]\r\n[2018-09-17T11:48:09,539][INFO ][o.e.p.PluginsService     ] [HI4YEIR] loaded module [reindex]\r\n[2018-09-17T11:48:09,539][INFO ][o.e.p.PluginsService     ] [HI4YEIR] loaded module [repository-url]\r\n[2018-09-17T11:48:09,539][INFO ][o.e.p.PluginsService     ] [HI4YEIR] loaded module [transport-netty4]\r\n[2018-09-17T11:48:09,539][INFO ][o.e.p.PluginsService     ] [HI4YEIR] loaded module [tribe]\r\n[2018-09-17T11:48:09,539][INFO ][o.e.p.PluginsService     ] [HI4YEIR] loaded module [x-pack-core]\r\n[2018-09-17T11:48:09,539][INFO ][o.e.p.PluginsService     ] [HI4YEIR] loaded module [x-pack-deprecation]\r\n[2018-09-17T11:48:09,539][INFO ][o.e.p.PluginsService     ] [HI4YEIR] loaded module [x-pack-graph]\r\n[2018-09-17T11:48:09,539][INFO ][o.e.p.PluginsService     ] [HI4YEIR] loaded module [x-pack-logstash]\r\n[2018-09-17T11:48:09,539][INFO ][o.e.p.PluginsService     ] [HI4YEIR] loaded module [x-pack-ml]\r\n[2018-09-17T11:48:09,539][INFO ][o.e.p.PluginsService     ] [HI4YEIR] loaded module [x-pack-monitoring]\r\n[2018-09-17T11:48:09,539][INFO ][o.e.p.PluginsService     ] [HI4YEIR] loaded module [x-pack-rollup]\r\n[2018-09-17T11:48:09,539][INFO ][o.e.p.PluginsService     ] [HI4YEIR] loaded module [x-pack-security]\r\n[2018-09-17T11:48:09,540][INFO ][o.e.p.PluginsService     ] [HI4YEIR] loaded module [x-pack-sql]\r\n[2018-09-17T11:48:09,540][INFO ][o.e.p.PluginsService     ] [HI4YEIR] loaded module [x-pack-upgrade]\r\n[2018-09-17T11:48:09,540][INFO ][o.e.p.PluginsService     ] [HI4YEIR] loaded module [x-pack-watcher]\r\n[2018-09-17T11:48:09,540][INFO ][o.e.p.PluginsService     ] [HI4YEIR] loaded plugin [ingest-geoip]\r\n[2018-09-17T11:48:09,540][INFO ][o.e.p.PluginsService     ] [HI4YEIR] loaded plugin [ingest-user-agent]\r\n[2018-09-17T11:48:11,141][WARN ][o.e.d.s.ScriptModule     ] Script: returning default values for missing document values is deprecated. Set system property '-Des.scripting.exception_for_missing_value=true' to make behaviour compatible with future major versions.\r\n[2018-09-17T11:48:12,930][INFO ][o.e.x.s.a.s.FileRolesStore] [HI4YEIR] parsed [0] roles from file [/usr/share/elasticsearch/config/roles.yml]\r\n[2018-09-17T11:48:13,409][INFO ][o.e.x.m.j.p.l.CppLogMessageHandler] [controller/124] [Main.cc@109] controller (64 bit): Version 6.4.0 (Build cf8246175efff5) Copyright (c) 2018 Elasticsearch BV\r\n[2018-09-17T11:48:13,901][INFO ][o.e.d.DiscoveryModule    ] [HI4YEIR] using discovery type [single-node]\r\n[2018-09-17T11:48:14,537][INFO ][o.e.n.Node               ] [HI4YEIR] initialized\r\n[2018-09-17T11:48:14,537][INFO ][o.e.n.Node               ] [HI4YEIR] starting ...\r\n[2018-09-17T11:48:14,705][INFO ][o.e.t.TransportService   ] [HI4YEIR] publish_address {172.30.0.6:9300}, bound_addresses {0.0.0.0:9300}\r\n[2018-09-17T11:48:14,723][WARN ][o.e.b.BootstrapChecks    ] [HI4YEIR] initial heap size [1073741824] not equal to maximum heap size [17179869184]; this can cause resize pauses and prevents mlockall from locking the entire heap\r\n[2018-09-17T11:48:14,723][WARN ][o.e.b.BootstrapChecks    ] [HI4YEIR] max virtual memory areas vm.max_map_count [65530] is too low, increase to at least [262144]\r\n[2018-09-17T11:48:14,750][INFO ][o.e.x.s.t.n.SecurityNetty4HttpServerTransport] [HI4YEIR] publish_address {172.30.0.6:9200}, bound_addresses {0.0.0.0:9200}\r\n[2018-09-17T11:48:14,750][INFO ][o.e.n.Node               ] [HI4YEIR] started\r\n[2018-09-17T11:48:14,813][WARN ][o.e.x.s.a.s.m.NativeRoleMappingStore] [HI4YEIR] Failed to clear cache for realms [[]]\r\n[2018-09-17T11:48:14,867][INFO ][o.e.g.GatewayService     ] [HI4YEIR] recovered [0] indices into cluster_state\r\n[2018-09-17T11:48:14,969][INFO ][o.e.c.m.MetaDataIndexTemplateService] [HI4YEIR] adding template [.watches] for index patterns [.watches*]\r\n[2018-09-17T11:48:15,015][INFO ][o.e.c.m.MetaDataIndexTemplateService] [HI4YEIR] adding template [.watch-history-9] for index patterns [.watcher-history-9*]\r\n[2018-09-17T11:48:15,039][INFO ][o.e.c.m.MetaDataIndexTemplateService] [HI4YEIR] adding template [.triggered_watches] for index patterns [.triggered_watches*]\r\n[2018-09-17T11:48:15,068][INFO ][o.e.c.m.MetaDataIndexTemplateService] [HI4YEIR] adding template [.monitoring-logstash] for index patterns [.monitoring-logstash-6-*]\r\n[2018-09-17T11:48:15,109][INFO ][o.e.c.m.MetaDataIndexTemplateService] [HI4YEIR] adding template [.monitoring-es] for index patterns [.monitoring-es-6-*]\r\n[2018-09-17T11:48:15,132][INFO ][o.e.c.m.MetaDataIndexTemplateService] [HI4YEIR] adding template [.monitoring-alerts] for index patterns [.monitoring-alerts-6]\r\n[2018-09-17T11:48:15,167][INFO ][o.e.c.m.MetaDataIndexTemplateService] [HI4YEIR] adding template [.monitoring-beats] for index patterns [.monitoring-beats-6-*]\r\n[2018-09-17T11:48:15,193][INFO ][o.e.c.m.MetaDataIndexTemplateService] [HI4YEIR] adding template [.monitoring-kibana] for index patterns [.monitoring-kibana-6-*]\r\n[2018-09-17T11:48:15,309][INFO ][o.e.l.LicenseService     ] [HI4YEIR] license [d8db3744-797c-4065-87a8-25b8958f8fd5] mode [basic] - valid\r\n[2018-09-17T11:48:17,845][INFO ][o.e.c.m.MetaDataCreateIndexService] [HI4YEIR] [1.180914.1021.shared.79e425] creating index, cause [api], templates [], shards [40]/[0], mappings [_doc]\r\n[2018-09-17T11:48:19,732][INFO ][o.e.c.r.a.AllocationService] [HI4YEIR] Cluster health status changed from [YELLOW] to [GREEN] (reason: [shards started [[1.180914.1021.shared.79e425][39]] ...]).\r\n[2018-09-17T11:48:19,847][INFO ][o.e.c.m.MetaDataCreateIndexService] [HI4YEIR] [1.180914.1021.shared.32dd90] creating index, cause [api], templates [], shards [40]/[0], mappings [_doc]\r\n[2018-09-17T11:48:20,670][INFO ][o.e.c.m.MetaDataCreateIndexService] [HI4YEIR] [.monitoring-kibana-6-2018.09.17] creating index, cause [auto(bulk api)], templates [.monitoring-kibana], shards [1]/[0], mappings [doc]\r\n[2018-09-17T11:48:21,397][INFO ][o.e.c.r.a.AllocationService] [HI4YEIR] Cluster health status changed from [YELLOW] to [GREEN] (reason: [shards started [[1.180914.1021.shared.32dd90][38], [1.180914.1021.shared.32dd90][39]] ...]).\r\n[2018-09-17T11:48:21,467][INFO ][o.e.c.m.MetaDataCreateIndexService] [HI4YEIR] [1.180914.1021.shared.7f7640] creating index, cause [api], templates [], shards [40]/[0], mappings [_doc]\r\n[2018-09-17T11:48:22,840][INFO ][o.e.c.r.a.AllocationService] [HI4YEIR] Cluster health status changed from [YELLOW] to [GREEN] (reason: [shards started [[1.180914.1021.shared.7f7640][39], [1.180914.1021.shared.7f7640][38]] ...]).\r\n[2018-09-17T11:48:27,107][INFO ][o.e.c.m.MetaDataCreateIndexService] [HI4YEIR] [.monitoring-es-6-2018.09.17] creating index, cause [auto(bulk api)], templates [.monitoring-es], shards [1]/[0], mappings [doc]\r\n[2018-09-17T11:48:27,626][INFO ][o.e.c.r.a.AllocationService] [HI4YEIR] Cluster health status changed from [YELLOW] to [GREEN] (reason: [shards started [[.monitoring-es-6-2018.09.17][0]] ...]).\r\n[2018-09-17T11:48:28,727][INFO ][o.e.m.j.JvmGcMonitorService] [HI4YEIR] [gc][14] overhead, spent [270ms] collecting in the last [1s]\r\n[2018-09-17T11:48:29,496][INFO ][o.e.c.m.MetaDataMappingService] [HI4YEIR] [1.180914.1021.shared.7f7640/9z0s7w05QTm9Zja8BWUW1g] update_mapping [_doc]\r\n[2018-09-17T11:48:35,633][INFO ][o.e.c.m.MetaDataCreateIndexService] [HI4YEIR] [.tasks] creating index, cause [auto(task api)], templates [], shards [1]/[1], mappings [task]\r\n[2018-09-17T11:48:35,655][INFO ][o.e.c.r.a.AllocationService] [HI4YEIR] updating number_of_replicas to [0] for indices [.tasks]\r\n[2018-09-17T11:48:36,163][INFO ][o.e.c.r.a.AllocationService] [HI4YEIR] Cluster health status changed from [YELLOW] to [GREEN] (reason: [shards started [[.tasks][0]] ...]).\r\n[2018-09-17T11:48:38,687][INFO ][o.e.t.LoggingTaskListener] 194 finished with response BulkByScrollResponse[took=12.4s,timed_out=false,sliceId=null,updated=0,created=6251,deleted=0,batches=1,versionConflicts=0,noops=0,retries=0,throttledUntil=0s,bulk_failures=[],search_failures=[]]\r\n[2018-09-17T11:48:38,696][INFO ][o.e.t.LoggingTaskListener] 201 finished with response BulkByScrollResponse[took=14.3s,timed_out=false,sliceId=null,updated=0,created=6249,deleted=0,batches=1,versionConflicts=0,noops=0,retries=0,throttledUntil=0s,bulk_failures=[],search_failures=[]]\r\n[2018-09-17T11:48:39,226][WARN ][o.e.t.TaskManager        ] [HI4YEIR] couldn't store response BulkByScrollResponse[took=15.8s,timed_out=false,sliceId=null,updated=0,created=6251,deleted=0,batches=1,versionConflicts=0,noops=0,retries=0,throttledUntil=0s,bulk_failures=[],search_failures=[]]\r\norg.elasticsearch.transport.RemoteTransportException: [HI4YEIR][172.30.0.6:9300][indices:data/write/bulk[s][p]]\r\nCaused by: org.elasticsearch.common.util.concurrent.EsRejectedExecutionException: rejected execution of org.elasticsearch.transport.TransportService$7@15ac841d on EsThreadPoolExecutor[name = HI4YEIR/write, queue capacity = 200, org.elasticsearch.common.util.concurrent.EsThreadPoolExecutor@36d96df1[Running, pool size = 8, active threads = 8, queued tasks = 200, completed tasks = 239]]\r\n\tat org.elasticsearch.common.util.concurrent.EsAbortPolicy.rejectedExecution(EsAbortPolicy.java:48) ~[elasticsearch-6.4.0.jar:6.4.0]\r\n\tat java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:832) ~[?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1365) ~[?:?]\r\n\tat org.elasticsearch.common.util.concurrent.EsThreadPoolExecutor.doExecute(EsThreadPoolExecutor.java:98) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.common.util.concurrent.EsThreadPoolExecutor.execute(EsThreadPoolExecutor.java:93) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.transport.TransportService.sendLocalRequest(TransportService.java:661) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.transport.TransportService.access$000(TransportService.java:75) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.transport.TransportService$3.sendRequest(TransportService.java:131) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.transport.TransportService.sendRequestInternal(TransportService.java:605) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.xpack.security.transport.SecurityServerTransportInterceptor$1.sendRequest(SecurityServerTransportInterceptor.java:137) [x-pack-security-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.transport.TransportService.sendRequest(TransportService.java:524) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.transport.TransportService.sendRequest(TransportService.java:512) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction$ReroutePhase.performAction(TransportReplicationAction.java:825) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction$ReroutePhase.performLocalAction(TransportReplicationAction.java:743) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction$ReroutePhase.doRun(TransportReplicationAction.java:731) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction.doExecute(TransportReplicationAction.java:169) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction.doExecute(TransportReplicationAction.java:97) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:167) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.apply(SecurityActionFilter.java:128) [x-pack-security-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:165) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:139) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:81) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.bulk.TransportBulkAction$BulkOperation.doRun(TransportBulkAction.java:349) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.bulk.TransportBulkAction.executeBulk(TransportBulkAction.java:461) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.bulk.TransportBulkAction.doExecute(TransportBulkAction.java:174) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.bulk.TransportBulkAction.doExecute(TransportBulkAction.java:85) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:167) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.apply(SecurityActionFilter.java:128) [x-pack-security-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:165) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:139) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.bulk.TransportSingleItemBulkWriteAction.doExecute(TransportSingleItemBulkWriteAction.java:69) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.bulk.TransportSingleItemBulkWriteAction.doExecute(TransportSingleItemBulkWriteAction.java:44) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:167) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.apply(SecurityActionFilter.java:128) [x-pack-security-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:165) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:139) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:81) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.client.node.NodeClient.executeLocally(NodeClient.java:87) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.client.node.NodeClient.doExecute(NodeClient.java:76) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:407) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.ActionRequestBuilder.execute(ActionRequestBuilder.java:71) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.tasks.TaskResultsService.doStoreResult(TaskResultsService.java:159) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.tasks.TaskResultsService.storeResult(TaskResultsService.java:134) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.tasks.TaskManager.storeResult(TaskManager.java:237) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.TransportAction$TaskResultStoringActionListener.onResponse(TransportAction.java:196) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.TransportAction$TaskResultStoringActionListener.onResponse(TransportAction.java:182) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.index.reindex.AbstractAsyncBulkByScrollAction.lambda$finishHim$4(AbstractAsyncBulkByScrollAction.java:500) [reindex-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.index.reindex.remote.RemoteScrollableHitSource.lambda$cleanup$2(RemoteScrollableHitSource.java:149) [reindex-6.4.0.jar:6.4.0]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:514) [?:?]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:264) [?:?]\r\n\tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:624) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [?:?]\r\n\tat java.lang.Thread.run(Thread.java:844) [?:?]\r\n[2018-09-17T11:48:39,243][WARN ][o.e.t.LoggingTaskListener] 197 failed with exception\r\norg.elasticsearch.transport.RemoteTransportException: [HI4YEIR][172.30.0.6:9300][indices:data/write/bulk[s][p]]\r\nCaused by: org.elasticsearch.common.util.concurrent.EsRejectedExecutionException: rejected execution of org.elasticsearch.transport.TransportService$7@15ac841d on EsThreadPoolExecutor[name = HI4YEIR/write, queue capacity = 200, org.elasticsearch.common.util.concurrent.EsThreadPoolExecutor@36d96df1[Running, pool size = 8, active threads = 8, queued tasks = 200, completed tasks = 239]]\r\n\tat org.elasticsearch.common.util.concurrent.EsAbortPolicy.rejectedExecution(EsAbortPolicy.java:48) ~[elasticsearch-6.4.0.jar:6.4.0]\r\n\tat java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:832) ~[?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1365) ~[?:?]\r\n\tat org.elasticsearch.common.util.concurrent.EsThreadPoolExecutor.doExecute(EsThreadPoolExecutor.java:98) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.common.util.concurrent.EsThreadPoolExecutor.execute(EsThreadPoolExecutor.java:93) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.transport.TransportService.sendLocalRequest(TransportService.java:661) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.transport.TransportService.access$000(TransportService.java:75) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.transport.TransportService$3.sendRequest(TransportService.java:131) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.transport.TransportService.sendRequestInternal(TransportService.java:605) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.xpack.security.transport.SecurityServerTransportInterceptor$1.sendRequest(SecurityServerTransportInterceptor.java:137) [x-pack-security-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.transport.TransportService.sendRequest(TransportService.java:524) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.transport.TransportService.sendRequest(TransportService.java:512) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction$ReroutePhase.performAction(TransportReplicationAction.java:825) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction$ReroutePhase.performLocalAction(TransportReplicationAction.java:743) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction$ReroutePhase.doRun(TransportReplicationAction.java:731) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction.doExecute(TransportReplicationAction.java:169) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction.doExecute(TransportReplicationAction.java:97) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:167) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.apply(SecurityActionFilter.java:128) [x-pack-security-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:165) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:139) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:81) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.bulk.TransportBulkAction$BulkOperation.doRun(TransportBulkAction.java:349) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.bulk.TransportBulkAction.executeBulk(TransportBulkAction.java:461) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.bulk.TransportBulkAction.doExecute(TransportBulkAction.java:174) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.bulk.TransportBulkAction.doExecute(TransportBulkAction.java:85) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:167) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.apply(SecurityActionFilter.java:128) [x-pack-security-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:165) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:139) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.bulk.TransportSingleItemBulkWriteAction.doExecute(TransportSingleItemBulkWriteAction.java:69) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.bulk.TransportSingleItemBulkWriteAction.doExecute(TransportSingleItemBulkWriteAction.java:44) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:167) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.apply(SecurityActionFilter.java:128) [x-pack-security-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:165) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:139) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:81) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.client.node.NodeClient.executeLocally(NodeClient.java:87) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.client.node.NodeClient.doExecute(NodeClient.java:76) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:407) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.ActionRequestBuilder.execute(ActionRequestBuilder.java:71) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.tasks.TaskResultsService.doStoreResult(TaskResultsService.java:159) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.tasks.TaskResultsService.storeResult(TaskResultsService.java:134) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.tasks.TaskManager.storeResult(TaskManager.java:237) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.TransportAction$TaskResultStoringActionListener.onResponse(TransportAction.java:196) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.action.support.TransportAction$TaskResultStoringActionListener.onResponse(TransportAction.java:182) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.index.reindex.AbstractAsyncBulkByScrollAction.lambda$finishHim$4(AbstractAsyncBulkByScrollAction.java:500) [reindex-6.4.0.jar:6.4.0]\r\n\tat org.elasticsearch.index.reindex.remote.RemoteScrollableHitSource.lambda$cleanup$2(RemoteScrollableHitSource.java:149) [reindex-6.4.0.jar:6.4.0]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:514) [?:?]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:264) [?:?]\r\n\tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:624) [elasticsearch-6.4.0.jar:6.4.0]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1135) [?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) [?:?]\r\n\tat java.lang.Thread.run(Thread.java:844) [?:?]\r\n[2018-09-17T11:48:44,932][INFO ][o.e.t.LoggingTaskListener] 202 finished with response BulkByScrollResponse[took=15.6s,timed_out=false,sliceId=null,updated=0,created=6251,deleted=0,batches=1,versionConflicts=0,noops=0,retries=0,throttledUntil=0s,bulk_failures=[],search_failures=[]]\r\n[2018-09-17T11:48:45,535][INFO ][o.e.t.LoggingTaskListener] 203 finished with response BulkByScrollResponse[took=16.2s,timed_out=false,sliceId=null,updated=0,created=6249,deleted=0,batches=1,versionConflicts=0,noops=0,retries=0,throttledUntil=0s,bulk_failures=[],search_failures=[]]\r\n[2018-09-17T11:48:45,547][INFO ][o.e.t.LoggingTaskListener] 195 finished with response BulkByScrollResponse[took=17.9s,timed_out=false,sliceId=null,updated=0,created=6249,deleted=0,batches=1,versionConflicts=0,noops=0,retries=1,throttledUntil=0s,bulk_failures=[],search_failures=[]]\r\n[2018-09-17T11:48:45,558][INFO ][o.e.t.LoggingTaskListener] 196 finished with response BulkByScrollResponse[took=18.8s,timed_out=false,sliceId=null,updated=0,created=6249,deleted=0,batches=1,versionConflicts=0,noops=0,retries=2,throttledUntil=0s,bulk_failures=[],search_failures=[]]\r\n[2018-09-17T11:48:45,568][INFO ][o.e.t.LoggingTaskListener] 209 finished with response BulkByScrollResponse[took=18.2s,timed_out=false,sliceId=null,updated=0,created=6251,deleted=0,batches=1,versionConflicts=0,noops=0,retries=2,throttledUntil=0s,bulk_failures=[],search_failures=[]]\r\n[2018-09-17T11:48:45,578][INFO ][o.e.t.LoggingTaskListener] 192 finished with response BulkByScrollResponse[took=21.2s,timed_out=false,sliceId=null,updated=0,created=6251,deleted=0,batches=1,versionConflicts=0,noops=0,retries=2,throttledUntil=0s,bulk_failures=[],search_failures=[]]\r\n[2018-09-17T11:48:48,833][INFO ][o.e.t.LoggingTaskListener] 199 finished with response BulkByScrollResponse[took=22.2s,timed_out=false,sliceId=null,updated=0,created=6249,deleted=0,batches=1,versionConflicts=0,noops=0,retries=2,throttledUntil=0s,bulk_failures=[],search_failures=[]]\r\n```\r\n\r\n","closed_by":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"performed_via_github_app":null}