{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/8647","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8647/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8647/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8647/events","html_url":"https://github.com/elastic/elasticsearch/issues/8647","id":49982696,"node_id":"MDU6SXNzdWU0OTk4MjY5Ng==","number":8647,"title":"Search Template - sort field not rendering correctly","user":{"login":"chenfisher","id":1457209,"node_id":"MDQ6VXNlcjE0NTcyMDk=","avatar_url":"https://avatars3.githubusercontent.com/u/1457209?v=4","gravatar_id":"","url":"https://api.github.com/users/chenfisher","html_url":"https://github.com/chenfisher","followers_url":"https://api.github.com/users/chenfisher/followers","following_url":"https://api.github.com/users/chenfisher/following{/other_user}","gists_url":"https://api.github.com/users/chenfisher/gists{/gist_id}","starred_url":"https://api.github.com/users/chenfisher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenfisher/subscriptions","organizations_url":"https://api.github.com/users/chenfisher/orgs","repos_url":"https://api.github.com/users/chenfisher/repos","events_url":"https://api.github.com/users/chenfisher/events{/privacy}","received_events_url":"https://api.github.com/users/chenfisher/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2014-11-25T06:49:28Z","updated_at":"2014-11-27T10:14:22Z","closed_at":"2014-11-27T10:14:22Z","author_association":"NONE","active_lock_reason":null,"body":"It seems the sort field, when using search template, does not support array template:\n\n```\ncurl -XGET localhost:9200/_search/template\\?pretty -d '{\"template\":{\"sort\":[\"{{#sort}}\",\"{{.}}\",\"{{/sort}}\"]}, \"params\":{\"sort\":[\"created_at\"]}}'\n```\n\nServer logs:\n\n```\nParse Failure [Failed to parse source [{\"sort\":[\"\",\"created_at\",\"\"]}]]\n```\n\nDoing this works (sorting by one field without specifying sort order):\n\n```\ncurl -XGET localhost:9200/_search/template\\?pretty -d '{\"template\":{\"sort\":[\"{{sort}}\"]}, \"params\":{\"sort\":\"created_at\"}}'\n```\n\nBut specifying order (desc | asc) is not supported:\n\n```\ncurl -XGET localhost:9200/_search/template\\?pretty -d '{\"template\":{\"sort\":[\"{{sort}}\"]}, \"params\":{\"sort\":{\"publishDate\":\"desc\"}}}'\n```\n\nLogs:\n\n```\nFailed to parse source [{\"sort\":[\"{publishDate=desc}\"]}]\n```\n","closed_by":{"login":"GaelTadh","id":5190064,"node_id":"MDQ6VXNlcjUxOTAwNjQ=","avatar_url":"https://avatars1.githubusercontent.com/u/5190064?v=4","gravatar_id":"","url":"https://api.github.com/users/GaelTadh","html_url":"https://github.com/GaelTadh","followers_url":"https://api.github.com/users/GaelTadh/followers","following_url":"https://api.github.com/users/GaelTadh/following{/other_user}","gists_url":"https://api.github.com/users/GaelTadh/gists{/gist_id}","starred_url":"https://api.github.com/users/GaelTadh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GaelTadh/subscriptions","organizations_url":"https://api.github.com/users/GaelTadh/orgs","repos_url":"https://api.github.com/users/GaelTadh/repos","events_url":"https://api.github.com/users/GaelTadh/events{/privacy}","received_events_url":"https://api.github.com/users/GaelTadh/received_events","type":"User","site_admin":false},"performed_via_github_app":null}