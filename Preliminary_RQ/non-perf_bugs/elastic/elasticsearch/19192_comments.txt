[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/229798192","html_url":"https://github.com/elastic/elasticsearch/issues/19192#issuecomment-229798192","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19192","id":229798192,"node_id":"MDEyOklzc3VlQ29tbWVudDIyOTc5ODE5Mg==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2016-06-30T21:45:39Z","updated_at":"2016-06-30T21:45:39Z","author_association":"CONTRIBUTOR","body":"@pickypg, I've opened a PR ^^ to implement this edge-case optimization. It is as minimal as it can be. Basically, it avoids the creation of the Map of Maps for the IngestDocument (which is probably the most costly thing). It does not avoid the Ingest Service, so index requests still get routed to ingest nodes and all that comes with that.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/229926877","html_url":"https://github.com/elastic/elasticsearch/issues/19192#issuecomment-229926877","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19192","id":229926877,"node_id":"MDEyOklzc3VlQ29tbWVudDIyOTkyNjg3Nw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-07-01T11:46:37Z","updated_at":"2016-07-01T11:46:37Z","author_association":"CONTRIBUTOR","body":"@talevy If the coordinating node has `node.ingest: true`, will ingest happen on that node, or will it be sent to some ingest node in round-robin fashion?  Just wondering if we should support a `pipeline_preference`  option, like we do for search.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/229981785","html_url":"https://github.com/elastic/elasticsearch/issues/19192#issuecomment-229981785","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19192","id":229981785,"node_id":"MDEyOklzc3VlQ29tbWVudDIyOTk4MTc4NQ==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2016-07-01T15:50:53Z","updated_at":"2016-07-01T15:50:53Z","author_association":"CONTRIBUTOR","body":"@clintongormley iirc, ingest will happen on the coordinating node of the index request. This may or may not be the same as the coordinating node of a bulk request. So, I believe it tags along to whatever preference behavior the regular index request adopts\n","performed_via_github_app":null}]