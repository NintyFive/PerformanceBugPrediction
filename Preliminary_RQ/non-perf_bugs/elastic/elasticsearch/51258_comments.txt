[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/576753720","html_url":"https://github.com/elastic/elasticsearch/issues/51258#issuecomment-576753720","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51258","id":576753720,"node_id":"MDEyOklzc3VlQ29tbWVudDU3Njc1MzcyMA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-01-21T16:08:22Z","updated_at":"2020-01-21T16:08:22Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search (:Search/SQL)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/583571011","html_url":"https://github.com/elastic/elasticsearch/issues/51258#issuecomment-583571011","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51258","id":583571011,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzU3MTAxMQ==","user":{"login":"matriv","id":5058131,"node_id":"MDQ6VXNlcjUwNTgxMzE=","avatar_url":"https://avatars1.githubusercontent.com/u/5058131?v=4","gravatar_id":"","url":"https://api.github.com/users/matriv","html_url":"https://github.com/matriv","followers_url":"https://api.github.com/users/matriv/followers","following_url":"https://api.github.com/users/matriv/following{/other_user}","gists_url":"https://api.github.com/users/matriv/gists{/gist_id}","starred_url":"https://api.github.com/users/matriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matriv/subscriptions","organizations_url":"https://api.github.com/users/matriv/orgs","repos_url":"https://api.github.com/users/matriv/repos","events_url":"https://api.github.com/users/matriv/events{/privacy}","received_events_url":"https://api.github.com/users/matriv/received_events","type":"User","site_admin":false},"created_at":"2020-02-07T19:40:18Z","updated_at":"2020-02-07T19:40:18Z","author_association":"CONTRIBUTOR","body":"@bpintea This \"issue\" has to do with not passing the `\"time_zone\": \"Europe/Belrin\"` param to the subsequent `\"cursor\": \"xxxxxx` requests. If it's not passed the subsequent requests will use `Z` zoneId, thus resulting to this discrepancy in the results.\r\n\r\nI will open a PR to clarify this in our docs.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/583596924","html_url":"https://github.com/elastic/elasticsearch/issues/51258#issuecomment-583596924","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51258","id":583596924,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzU5NjkyNA==","user":{"login":"matriv","id":5058131,"node_id":"MDQ6VXNlcjUwNTgxMzE=","avatar_url":"https://avatars1.githubusercontent.com/u/5058131?v=4","gravatar_id":"","url":"https://api.github.com/users/matriv","html_url":"https://github.com/matriv","followers_url":"https://api.github.com/users/matriv/followers","following_url":"https://api.github.com/users/matriv/following{/other_user}","gists_url":"https://api.github.com/users/matriv/gists{/gist_id}","starred_url":"https://api.github.com/users/matriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matriv/subscriptions","organizations_url":"https://api.github.com/users/matriv/orgs","repos_url":"https://api.github.com/users/matriv/repos","events_url":"https://api.github.com/users/matriv/events{/privacy}","received_events_url":"https://api.github.com/users/matriv/received_events","type":"User","site_admin":false},"created_at":"2020-02-07T20:28:38Z","updated_at":"2020-02-07T20:29:11Z","author_association":"CONTRIBUTOR","body":"The query is of course executed once with the correct timezone passed with the initial HTTP request, the problem is in the `HitExtractors` where the  timezone is set to `Z` for the processing of the subsequent pages.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/583641960","html_url":"https://github.com/elastic/elasticsearch/issues/51258#issuecomment-583641960","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51258","id":583641960,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzY0MTk2MA==","user":{"login":"bpintea","id":1562801,"node_id":"MDQ6VXNlcjE1NjI4MDE=","avatar_url":"https://avatars3.githubusercontent.com/u/1562801?v=4","gravatar_id":"","url":"https://api.github.com/users/bpintea","html_url":"https://github.com/bpintea","followers_url":"https://api.github.com/users/bpintea/followers","following_url":"https://api.github.com/users/bpintea/following{/other_user}","gists_url":"https://api.github.com/users/bpintea/gists{/gist_id}","starred_url":"https://api.github.com/users/bpintea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bpintea/subscriptions","organizations_url":"https://api.github.com/users/bpintea/orgs","repos_url":"https://api.github.com/users/bpintea/repos","events_url":"https://api.github.com/users/bpintea/events{/privacy}","received_events_url":"https://api.github.com/users/bpintea/received_events","type":"User","site_admin":false},"created_at":"2020-02-07T22:21:53Z","updated_at":"2020-02-07T22:21:53Z","author_association":"CONTRIBUTOR","body":"> @bpintea This \"issue\" has to do with not passing the `\"time_zone\": \"Europe/Belrin\"` param to the subsequent `\"cursor\": \"xxxxxx` requests. If it's not passed the subsequent requests will use `Z` zoneId, thus resulting to this discrepancy in the results.\r\n\r\nAh, I see. I haven't checked what the cursor actually stores, but:\r\n* the (/some?) other parameters (like page size) seem to be stored in it, since the size given to the first request is kept on subsequent pages;\r\n* a quick base64 decode reveals that the timezone appears in it, even if the time zone is not specified past the 1st request;\r\n* (I vaguely remember seeing a comment stating that only the page timeout parameter should influence the request that contains a cursor -- I'll check it on Monday).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/583643445","html_url":"https://github.com/elastic/elasticsearch/issues/51258#issuecomment-583643445","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51258","id":583643445,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzY0MzQ0NQ==","user":{"login":"bpintea","id":1562801,"node_id":"MDQ6VXNlcjE1NjI4MDE=","avatar_url":"https://avatars3.githubusercontent.com/u/1562801?v=4","gravatar_id":"","url":"https://api.github.com/users/bpintea","html_url":"https://github.com/bpintea","followers_url":"https://api.github.com/users/bpintea/followers","following_url":"https://api.github.com/users/bpintea/following{/other_user}","gists_url":"https://api.github.com/users/bpintea/gists{/gist_id}","starred_url":"https://api.github.com/users/bpintea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bpintea/subscriptions","organizations_url":"https://api.github.com/users/bpintea/orgs","repos_url":"https://api.github.com/users/bpintea/repos","events_url":"https://api.github.com/users/bpintea/events{/privacy}","received_events_url":"https://api.github.com/users/bpintea/received_events","type":"User","site_admin":false},"created_at":"2020-02-07T22:26:43Z","updated_at":"2020-02-07T22:27:00Z","author_association":"CONTRIBUTOR","body":"[The docs](https://www.elastic.co/guide/en/elasticsearch/reference/current/sql-rest-fields.html) currently state: `Do note that most parameters (outside the timeout and columnar ones) make sense only during the initial query - any follow-up pagination request only requires the cursor parameter as explained in the pagination chapter. Thatâ€™s because the query has already been executed and the calls are simply about returning the found results - thus the parameters are simply ignored.\r\n`","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/583657190","html_url":"https://github.com/elastic/elasticsearch/issues/51258#issuecomment-583657190","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51258","id":583657190,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzY1NzE5MA==","user":{"login":"matriv","id":5058131,"node_id":"MDQ6VXNlcjUwNTgxMzE=","avatar_url":"https://avatars1.githubusercontent.com/u/5058131?v=4","gravatar_id":"","url":"https://api.github.com/users/matriv","html_url":"https://github.com/matriv","followers_url":"https://api.github.com/users/matriv/followers","following_url":"https://api.github.com/users/matriv/following{/other_user}","gists_url":"https://api.github.com/users/matriv/gists{/gist_id}","starred_url":"https://api.github.com/users/matriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matriv/subscriptions","organizations_url":"https://api.github.com/users/matriv/orgs","repos_url":"https://api.github.com/users/matriv/repos","events_url":"https://api.github.com/users/matriv/events{/privacy}","received_events_url":"https://api.github.com/users/matriv/received_events","type":"User","site_admin":false},"created_at":"2020-02-07T23:18:14Z","updated_at":"2020-02-07T23:18:14Z","author_association":"CONTRIBUTOR","body":"I opened #52080 to fix docs and also fix the issue for the JDBC driver.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/583776209","html_url":"https://github.com/elastic/elasticsearch/issues/51258#issuecomment-583776209","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51258","id":583776209,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzc3NjIwOQ==","user":{"login":"matriv","id":5058131,"node_id":"MDQ6VXNlcjUwNTgxMzE=","avatar_url":"https://avatars1.githubusercontent.com/u/5058131?v=4","gravatar_id":"","url":"https://api.github.com/users/matriv","html_url":"https://github.com/matriv","followers_url":"https://api.github.com/users/matriv/followers","following_url":"https://api.github.com/users/matriv/following{/other_user}","gists_url":"https://api.github.com/users/matriv/gists{/gist_id}","starred_url":"https://api.github.com/users/matriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matriv/subscriptions","organizations_url":"https://api.github.com/users/matriv/orgs","repos_url":"https://api.github.com/users/matriv/repos","events_url":"https://api.github.com/users/matriv/events{/privacy}","received_events_url":"https://api.github.com/users/matriv/received_events","type":"User","site_admin":false},"created_at":"2020-02-08T20:57:24Z","updated_at":"2020-02-08T20:57:24Z","author_association":"CONTRIBUTOR","body":"@bpintea I was confused with the implementation. And @costin helped out (as always :) ): https://github.com/elastic/elasticsearch/pull/52080#issuecomment-583761426\r\n\r\nThe expected behaviour is not to pass the timezone in the subsequent paging requests, so there is a bug that affects both http REST endpoint and the jdbc driver.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/584681692","html_url":"https://github.com/elastic/elasticsearch/issues/51258#issuecomment-584681692","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51258","id":584681692,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDY4MTY5Mg==","user":{"login":"matriv","id":5058131,"node_id":"MDQ6VXNlcjUwNTgxMzE=","avatar_url":"https://avatars1.githubusercontent.com/u/5058131?v=4","gravatar_id":"","url":"https://api.github.com/users/matriv","html_url":"https://github.com/matriv","followers_url":"https://api.github.com/users/matriv/followers","following_url":"https://api.github.com/users/matriv/following{/other_user}","gists_url":"https://api.github.com/users/matriv/gists{/gist_id}","starred_url":"https://api.github.com/users/matriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matriv/subscriptions","organizations_url":"https://api.github.com/users/matriv/orgs","repos_url":"https://api.github.com/users/matriv/repos","events_url":"https://api.github.com/users/matriv/events{/privacy}","received_events_url":"https://api.github.com/users/matriv/received_events","type":"User","site_admin":false},"created_at":"2020-02-11T15:09:41Z","updated_at":"2020-02-11T15:09:41Z","author_association":"CONTRIBUTOR","body":"`master` : 8f7afbdeb9295999b48a6c36db5b31cbe0cee432\r\n`7.x` : 204d086266f5e130b944a753cad1cb6044b47ecb\r\n`7.6` : 3c8ea17e0bc92352e83d3afee294064be21eab08","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/584709700","html_url":"https://github.com/elastic/elasticsearch/issues/51258#issuecomment-584709700","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51258","id":584709700,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDcwOTcwMA==","user":{"login":"matriv","id":5058131,"node_id":"MDQ6VXNlcjUwNTgxMzE=","avatar_url":"https://avatars1.githubusercontent.com/u/5058131?v=4","gravatar_id":"","url":"https://api.github.com/users/matriv","html_url":"https://github.com/matriv","followers_url":"https://api.github.com/users/matriv/followers","following_url":"https://api.github.com/users/matriv/following{/other_user}","gists_url":"https://api.github.com/users/matriv/gists{/gist_id}","starred_url":"https://api.github.com/users/matriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matriv/subscriptions","organizations_url":"https://api.github.com/users/matriv/orgs","repos_url":"https://api.github.com/users/matriv/repos","events_url":"https://api.github.com/users/matriv/events{/privacy}","received_events_url":"https://api.github.com/users/matriv/received_events","type":"User","site_admin":false},"created_at":"2020-02-11T16:04:10Z","updated_at":"2020-02-11T16:04:23Z","author_association":"CONTRIBUTOR","body":"The bug doesn't apply to `6.8` as it was introduced with #45678\r\nSo instead, only the integration tests (adapted for 6.x) were added:\r\n4797347ae8f3d2024452d150e2b84da53b990de5","performed_via_github_app":null}]