{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/26064","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26064/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26064/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26064/events","html_url":"https://github.com/elastic/elasticsearch/issues/26064","id":248079145,"node_id":"MDU6SXNzdWUyNDgwNzkxNDU=","number":26064,"title":"action.destructive_requires_name: true is ignored docker.elastic.co 5.5.0","user":{"login":"rodrigongarcia","id":21955844,"node_id":"MDQ6VXNlcjIxOTU1ODQ0","avatar_url":"https://avatars3.githubusercontent.com/u/21955844?v=4","gravatar_id":"","url":"https://api.github.com/users/rodrigongarcia","html_url":"https://github.com/rodrigongarcia","followers_url":"https://api.github.com/users/rodrigongarcia/followers","following_url":"https://api.github.com/users/rodrigongarcia/following{/other_user}","gists_url":"https://api.github.com/users/rodrigongarcia/gists{/gist_id}","starred_url":"https://api.github.com/users/rodrigongarcia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rodrigongarcia/subscriptions","organizations_url":"https://api.github.com/users/rodrigongarcia/orgs","repos_url":"https://api.github.com/users/rodrigongarcia/repos","events_url":"https://api.github.com/users/rodrigongarcia/events{/privacy}","received_events_url":"https://api.github.com/users/rodrigongarcia/received_events","type":"User","site_admin":false},"labels":[{"id":144457604,"node_id":"MDU6TGFiZWwxNDQ0NTc2MDQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Settings","name":":Core/Infra/Settings","color":"0e8a16","default":false,"description":"Settings infrastructure and APIs"},{"id":111624690,"node_id":"MDU6TGFiZWwxMTE2MjQ2OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/feedback_needed","name":"feedback_needed","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2017-08-04T18:13:08Z","updated_at":"2017-08-07T14:15:34Z","closed_at":"2017-08-07T14:15:34Z","author_association":"NONE","active_lock_reason":null,"body":"Elasticsearch Docker version: 5.5.0\r\nDockerfile\r\n```\r\nFROM docker.elastic.co/elasticsearch/elasticsearch:5.5.0\r\nRUN rm -f /usr/share/elasticsearch/config/elasticsearch.yml\r\nADD config/ /usr/share/elasticsearch/config/\r\n#Install plugin\r\nRUN bin/elasticsearch-plugin install discovery-ec2 --batch\r\n\r\n```\r\nSteps to reproduce:\r\n    elasticsearch.yml contains the property: action.destructive_requires_name: true\r\n    Do:\r\n`GET /_cat/indices/trackeame-rc-client_*-2017.07.31 `\r\nResult:\r\n```\r\ngreen open trackeame-rc-client_1-2017.07.31  LGLj26U2ST-Prfk99KE9Xw 5 1 496 27   8.4mb     4mb\r\ngreen open trackeame-rc-client_-1-2017.07.31 MEZ9hDXnQp2hpS9ZvOHpXg 5 1   8  0 676.8kb   336kb\r\ngreen open trackeame-rc-client_7-2017.07.31  ySgPfDTRQj6EI61HRCX_nA 5 1   1  0  82.1kb    41kb\r\ngreen open trackeame-rc-client_9-2017.07.31  sZmH9sRfTdSCLeL6DUh1aw 5 1  25  0   1.4mb 779.3kb\r\ngreen open trackeame-rc-client_6-2017.07.31  WKdM7cgpRgmH9MFN7KXvOA 5 1  14  0   1.2mb 629.2kb\r\ngreen open trackeame-rc-client_8-2017.07.31  lA6s-P9dQkisBrXOr69Whg 5 1 283 39   5.9mb   2.9mb\r\ngreen open trackeame-rc-client_3-2017.07.31  ifjSIjJ8SBqTWMh8te7AMQ 5 1   1  0  90.8kb  45.4kb\r\ngreen open trackeame-rc-client_2-2017.07.31  LktIFOE_TBerj23ZbeWtzg 5 1   2  0 128.9kb  64.4kb\r\n\r\n```\r\n`DELETE trackeame-rc-client_*-2017.07.31`\r\n\r\nError indicates acknowledgement of the feature\r\n\r\n```\r\n{\r\n   \"error\": {\r\n      \"root_cause\": [\r\n         {\r\n            \"type\": \"illegal_argument_exception\",\r\n            \"reason\": \"Wildcard expressions or all indices are not allowed\"\r\n         }\r\n      ],\r\n      \"type\": \"illegal_argument_exception\",\r\n      \"reason\": \"Wildcard expressions or all indices are not allowed\"\r\n   },\r\n   \"status\": 400\r\n}\r\n```\r\n\r\nNext no deletes:\r\n`GET /_cat/indices/trackeame-rc-client_*-2017.07.31 ` shows all indices whitout changes.","closed_by":{"login":"rodrigongarcia","id":21955844,"node_id":"MDQ6VXNlcjIxOTU1ODQ0","avatar_url":"https://avatars3.githubusercontent.com/u/21955844?v=4","gravatar_id":"","url":"https://api.github.com/users/rodrigongarcia","html_url":"https://github.com/rodrigongarcia","followers_url":"https://api.github.com/users/rodrigongarcia/followers","following_url":"https://api.github.com/users/rodrigongarcia/following{/other_user}","gists_url":"https://api.github.com/users/rodrigongarcia/gists{/gist_id}","starred_url":"https://api.github.com/users/rodrigongarcia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rodrigongarcia/subscriptions","organizations_url":"https://api.github.com/users/rodrigongarcia/orgs","repos_url":"https://api.github.com/users/rodrigongarcia/repos","events_url":"https://api.github.com/users/rodrigongarcia/events{/privacy}","received_events_url":"https://api.github.com/users/rodrigongarcia/received_events","type":"User","site_admin":false},"performed_via_github_app":null}