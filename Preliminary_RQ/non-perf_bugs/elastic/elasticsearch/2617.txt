{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/2617","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2617/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2617/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2617/events","html_url":"https://github.com/elastic/elasticsearch/issues/2617","id":10659133,"node_id":"MDU6SXNzdWUxMDY1OTEzMw==","number":2617,"title":"Support aggregations for \"missing\" and \"other\" in tems_stats facet","user":{"login":"roytmana","id":2524911,"node_id":"MDQ6VXNlcjI1MjQ5MTE=","avatar_url":"https://avatars0.githubusercontent.com/u/2524911?v=4","gravatar_id":"","url":"https://api.github.com/users/roytmana","html_url":"https://github.com/roytmana","followers_url":"https://api.github.com/users/roytmana/followers","following_url":"https://api.github.com/users/roytmana/following{/other_user}","gists_url":"https://api.github.com/users/roytmana/gists{/gist_id}","starred_url":"https://api.github.com/users/roytmana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roytmana/subscriptions","organizations_url":"https://api.github.com/users/roytmana/orgs","repos_url":"https://api.github.com/users/roytmana/repos","events_url":"https://api.github.com/users/roytmana/events{/privacy}","received_events_url":"https://api.github.com/users/roytmana/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2013-02-05T17:25:01Z","updated_at":"2014-08-08T10:07:20Z","closed_at":"2014-08-08T10:07:20Z","author_association":"NONE","active_lock_reason":null,"body":"Currently terms_stats facet will not calculate aggregations (I am particularly interested in total) for document missing the term or where term was not included in result due to facet size limit. When doing stats, users expect to see consistent breakdown of their data set  by term. without knowing aggregates for missing and other it is impossible to present user a consistent picture - think a pie-chart with segments for terms. To be complete and consistent it must have Other and Missing segments! \n\nIn case by case scenario it may be possible to calculate multiple facets (statistical, terms and terms_stats) but even that would not allow for differentiation of aggregates for other and missing (except counts since they are coming from terms facet). \n\nIdeally it should follow terms facet in providing aggregations for missing and other terms.\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}