[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/282069634","html_url":"https://github.com/elastic/elasticsearch/issues/23332#issuecomment-282069634","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23332","id":282069634,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjA2OTYzNA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-02-23T17:57:58Z","updated_at":"2017-02-23T18:00:22Z","author_association":"MEMBER","body":"I think that you're misunderstanding the purpose of these lines. The purpose of these lines is to inform you that environment variables that we use to support are no longer supported. It would be awful to migrate from Elasticsearch 2.x (where `ES_HEAP_SIZE` was a common way to set the heap size) to Elasticsearch 5.x (where `ES_HEAP_SIZE` does nothing) and Elasticsearch silently marches on ignoring `ES_HEAP_SIZE`. Instead we say if `ES_HEAP_SIZE` (or any of the other now unsupported environment variables) are set, we are going to refuse to start); this way the user can fix their configuration so that Elasticsearch starts the way that they intended it. In this specific case, we are not saying to set `ES_JAVA_OPTS` to the literal string \"`-Xms$ES_HEAP_SIZE -Xmx$ES_HEAP_SIZE`\" but rather to set it to the literal string \"`-Xms1g -Xms1g`\" if, for example, `ES_HEAP_SIZE` was equal to `1g` (or, more preferably, set these in `jvm.options`). Precisely, if you start Elasticsearch 5.x with `ES_HEAP_SIZE` set, this is what is displayed:\r\n\r\n```\r\n12:57:30 [jason:~] $ ES_HEAP_SIZE=1g ~/elasticsearch/elasticsearch-5.2.1/bin/elasticsearch\r\nError: encountered environment variables that are no longer supported\r\nUse jvm.options or ES_JAVA_OPTS to configure the JVM\r\nES_HEAP_SIZE=1g: set -Xms1g and -Xmx1g in jvm.options or add \"-Xms1g -Xmx1g\" to ES_JAVA_OPTS\r\n```","performed_via_github_app":null}]