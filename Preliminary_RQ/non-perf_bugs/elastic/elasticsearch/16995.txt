{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/16995","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16995/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16995/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16995/events","html_url":"https://github.com/elastic/elasticsearch/issues/16995","id":139150518,"node_id":"MDU6SXNzdWUxMzkxNTA1MTg=","number":16995,"title":"Error when trying to define an absolute path for synonyms/stopwords file.","user":{"login":"abrahamduran","id":9121130,"node_id":"MDQ6VXNlcjkxMjExMzA=","avatar_url":"https://avatars2.githubusercontent.com/u/9121130?v=4","gravatar_id":"","url":"https://api.github.com/users/abrahamduran","html_url":"https://github.com/abrahamduran","followers_url":"https://api.github.com/users/abrahamduran/followers","following_url":"https://api.github.com/users/abrahamduran/following{/other_user}","gists_url":"https://api.github.com/users/abrahamduran/gists{/gist_id}","starred_url":"https://api.github.com/users/abrahamduran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abrahamduran/subscriptions","organizations_url":"https://api.github.com/users/abrahamduran/orgs","repos_url":"https://api.github.com/users/abrahamduran/repos","events_url":"https://api.github.com/users/abrahamduran/events{/privacy}","received_events_url":"https://api.github.com/users/abrahamduran/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2016-03-08T01:46:18Z","updated_at":"2016-03-08T06:17:57Z","closed_at":"2016-03-08T03:02:01Z","author_association":"NONE","active_lock_reason":null,"body":"This is the error I am getting: `reason=access denied (\"java.io.FilePermission\" \"E:\\elasticsearch\\synonyms\\synonyms.txt\" \"read\")`\n\nNow, I know the message is really specific about the problem, there's only one problem... that folder and file have literally no security restrictions, I open the file permissions to everyone, and I'm still getting the same error. \n\nIs this an error, or what am I doing wrong here? O.o\n\nThis is the request I am sending\n\n```\n{  \n    \"settings\":{ \n        \"analysis\":{  \n            \"analyzer\":{  \n                \"standard\":{  \n                    \"tokenizer\":\"standard\",\n                    \"filter\":[  \n                        \"lowercase\",\n                        \"asciifolding\",\n                        \"standard\",\n                        \"synonyms\"\n                    ],\n                    \"type\":\"custom\"\n                }\n            },\n            \"filter\":{  \n                \"synonyms\":{  \n                    \"synonyms_path\":\"E:\\\\elasticsearch\\\\synonyms\\\\synonyms.txt\",\n                    \"ignore_case\":true,\n                    \"type\":\"synonym\"\n                }\n            }\n        }\n    }\n}\n```\n\nBy the way, I'm using Windows Server 2012 here\nThere you have the file permissions' settings right now for the file.\n<img width=\"330\" alt=\"screen shot 2016-03-07 at 9 27 29 pm\" src=\"https://cloud.githubusercontent.com/assets/9121130/13589125/db20de58-e4ab-11e5-8f3c-fc8149d0fa65.png\">\n\nMy ES version is 2.2.0\nJVM version: 1.8.0_65\nOS version: Windows Server 2012\n\nAlso, here you have the log information, just in case you found it useful:\n\n```\n[2016-03-07 21:22:16,030][DEBUG][action.admin.indices.create] [node_name] [index_name] failed to create\n[index_name] IndexCreationException[failed to create index]; nested: AccessControlException[access denied (\"java.io.FilePermission\" \"E:\\elasticsearch\\synonyms\\synonyms.txt\" \"read\")];\nat org.elasticsearch.indices.IndicesService.createIndex(IndicesService.java:360)\nat org.elasticsearch.cluster.metadata.MetaDataCreateIndexService$1.execute(MetaDataCreateIndexService.java:309)\nat org.elasticsearch.cluster.ClusterStateUpdateTask.execute(ClusterStateUpdateTask.java:45)\nat org.elasticsearch.cluster.service.InternalClusterService.runTasksForExecutor(InternalClusterService.java:458)\nat org.elasticsearch.cluster.service.InternalClusterService$UpdateTask.run(InternalClusterService.java:762)\nat org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.runAndClean(PrioritizedEsThreadPoolExecutor.java:231)\nat org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.run(PrioritizedEsThreadPoolExecutor.java:194)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat java.lang.Thread.run(Thread.java:745)\nCaused by: java.security.AccessControlException: access denied (\"java.io.FilePermission\" \"E:\\elasticsearch\\synonyms\\synonyms.txt\" \"read\")\nat java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\nat java.security.AccessController.checkPermission(AccessController.java:884)\nat java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\nat java.lang.SecurityManager.checkRead(SecurityManager.java:888)\nat java.io.File.isDirectory(File.java:844)\nat sun.net.www.protocol.file.FileURLConnection.connect(FileURLConnection.java:82)\nat sun.net.www.protocol.file.FileURLConnection.getInputStream(FileURLConnection.java:188)\nat java.net.URL.openStream(URL.java:1038)\nat org.elasticsearch.common.io.FileSystemUtils.newBufferedReader(FileSystemUtils.java:161)\nat org.elasticsearch.index.analysis.Analysis.getReaderFromFile(Analysis.java:285)\nat org.elasticsearch.index.analysis.SynonymTokenFilterFactory.<init>(SynonymTokenFilterFactory.java:64)\nat sun.reflect.GeneratedConstructorAccessor68.newInstance(Unknown Source)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:422)\nat org.elasticsearch.common.inject.DefaultConstructionProxyFactory$1.newInstance(DefaultConstructionProxyFactory.java:50)\nat org.elasticsearch.common.inject.ConstructorInjector.construct(ConstructorInjector.java:86)\nat org.elasticsearch.common.inject.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:104)\nat org.elasticsearch.common.inject.FactoryProxy.get(FactoryProxy.java:54)\nat org.elasticsearch.common.inject.InjectorImpl$5$1.call(InjectorImpl.java:828)\nat org.elasticsearch.common.inject.InjectorImpl.callInContext(InjectorImpl.java:887)\nat org.elasticsearch.common.inject.InjectorImpl$5.get(InjectorImpl.java:823)\nat org.elasticsearch.common.inject.assistedinject.FactoryProvider2.invoke(FactoryProvider2.java:236)\nat com.sun.proxy.$Proxy14.create(Unknown Source)\nat org.elasticsearch.index.analysis.AnalysisService.<init>(AnalysisService.java:161)\nat org.elasticsearch.index.analysis.AnalysisService.<init>(AnalysisService.java:66)\nat sun.reflect.GeneratedConstructorAccessor30.newInstance(Unknown Source)\nat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nat java.lang.reflect.Constructor.newInstance(Constructor.java:422)\nat org.elasticsearch.common.inject.DefaultConstructionProxyFactory$1.newInstance(DefaultConstructionProxyFactory.java:50)\nat org.elasticsearch.common.inject.ConstructorInjector.construct(ConstructorInjector.java:86)\nat org.elasticsearch.common.inject.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:104)\nat org.elasticsearch.common.inject.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:47)\nat org.elasticsearch.common.inject.InjectorImpl.callInContext(InjectorImpl.java:887)\nat org.elasticsearch.common.inject.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:43)\nat org.elasticsearch.common.inject.Scopes$1$1.get(Scopes.java:59)\nat org.elasticsearch.common.inject.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:46)\nat org.elasticsearch.common.inject.SingleParameterInjector.inject(SingleParameterInjector.java:42)\nat org.elasticsearch.common.inject.SingleParameterInjector.getAll(SingleParameterInjector.java:66)\nat org.elasticsearch.common.inject.ConstructorInjector.construct(ConstructorInjector.java:85)\nat org.elasticsearch.common.inject.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:104)\nat org.elasticsearch.common.inject.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:47)\nat org.elasticsearch.common.inject.InjectorImpl.callInContext(InjectorImpl.java:887)\nat org.elasticsearch.common.inject.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:43)\nat org.elasticsearch.common.inject.Scopes$1$1.get(Scopes.java:59)\nat org.elasticsearch.common.inject.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:46)\nat org.elasticsearch.common.inject.SingleParameterInjector.inject(SingleParameterInjector.java:42)\nat org.elasticsearch.common.inject.SingleParameterInjector.getAll(SingleParameterInjector.java:66)\nat org.elasticsearch.common.inject.ConstructorInjector.construct(ConstructorInjector.java:85)\nat org.elasticsearch.common.inject.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:104)\nat org.elasticsearch.common.inject.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:47)\nat org.elasticsearch.common.inject.InjectorImpl.callInContext(InjectorImpl.java:887)\nat org.elasticsearch.common.inject.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:43)\nat org.elasticsearch.common.inject.Scopes$1$1.get(Scopes.java:59)\nat org.elasticsearch.common.inject.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:46)\nat org.elasticsearch.common.inject.InjectorBuilder$1.call(InjectorBuilder.java:201)\nat org.elasticsearch.common.inject.InjectorBuilder$1.call(InjectorBuilder.java:193)\nat org.elasticsearch.common.inject.InjectorImpl.callInContext(InjectorImpl.java:880)\nat org.elasticsearch.common.inject.InjectorBuilder.loadEagerSingletons(InjectorBuilder.java:193)\nat org.elasticsearch.common.inject.InjectorBuilder.injectDynamically(InjectorBuilder.java:175)\nat org.elasticsearch.common.inject.InjectorBuilder.build(InjectorBuilder.java:110)\nat org.elasticsearch.common.inject.InjectorImpl.createChildInjector(InjectorImpl.java:159)\nat org.elasticsearch.common.inject.ModulesBuilder.createChildInjector(ModulesBuilder.java:55)\nat org.elasticsearch.indices.IndicesService.createIndex(IndicesService.java:358)\n... 9 more\n```\n","closed_by":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"performed_via_github_app":null}