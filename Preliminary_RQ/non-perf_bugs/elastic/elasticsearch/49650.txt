{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/49650","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49650/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49650/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49650/events","html_url":"https://github.com/elastic/elasticsearch/issues/49650","id":529403884,"node_id":"MDU6SXNzdWU1Mjk0MDM4ODQ=","number":49650,"title":"enhancement: provide an API to manually rollover an index that currently has an ILM policy","user":{"login":"tarp2699","id":21263834,"node_id":"MDQ6VXNlcjIxMjYzODM0","avatar_url":"https://avatars2.githubusercontent.com/u/21263834?v=4","gravatar_id":"","url":"https://api.github.com/users/tarp2699","html_url":"https://github.com/tarp2699","followers_url":"https://api.github.com/users/tarp2699/followers","following_url":"https://api.github.com/users/tarp2699/following{/other_user}","gists_url":"https://api.github.com/users/tarp2699/gists{/gist_id}","starred_url":"https://api.github.com/users/tarp2699/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tarp2699/subscriptions","organizations_url":"https://api.github.com/users/tarp2699/orgs","repos_url":"https://api.github.com/users/tarp2699/repos","events_url":"https://api.github.com/users/tarp2699/events{/privacy}","received_events_url":"https://api.github.com/users/tarp2699/received_events","type":"User","site_admin":false},"labels":[{"id":912828538,"node_id":"MDU6TGFiZWw5MTI4Mjg1Mzg=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/ILM+SLM","name":":Core/Features/ILM+SLM","color":"0e8a16","default":false,"description":"Index and Snapshot lifecycle management"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-11-27T15:05:23Z","updated_at":"2019-11-27T17:32:13Z","closed_at":"2019-11-27T17:30:00Z","author_association":"NONE","active_lock_reason":null,"body":"<!-- Feature request -->\r\n\r\nReason: Mappings or index settings are changed in templates and an index rollover is necessary to pick up the change. The change needs to be immediate and you can't wait for the index to roll normally. \r\nProcess: \r\nCurrently I do the following. \r\n1. Create a new index with an incremented number \r\n2. API call to _alias to set is_write_index to false on the current one and true on the new one. \r\n3. Update _settings on the original index to index.lifecycle.indexing_complete: true \r\nThose 3 steps are kind of pain to do by hand or lookup. I wrote a wrapper python script that does this, but it seems like it would be easy just to create a new API call to perform this. \r\n\r\n\r\n","closed_by":{"login":"gwbrown","id":1522844,"node_id":"MDQ6VXNlcjE1MjI4NDQ=","avatar_url":"https://avatars1.githubusercontent.com/u/1522844?v=4","gravatar_id":"","url":"https://api.github.com/users/gwbrown","html_url":"https://github.com/gwbrown","followers_url":"https://api.github.com/users/gwbrown/followers","following_url":"https://api.github.com/users/gwbrown/following{/other_user}","gists_url":"https://api.github.com/users/gwbrown/gists{/gist_id}","starred_url":"https://api.github.com/users/gwbrown/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gwbrown/subscriptions","organizations_url":"https://api.github.com/users/gwbrown/orgs","repos_url":"https://api.github.com/users/gwbrown/repos","events_url":"https://api.github.com/users/gwbrown/events{/privacy}","received_events_url":"https://api.github.com/users/gwbrown/received_events","type":"User","site_admin":false},"performed_via_github_app":null}