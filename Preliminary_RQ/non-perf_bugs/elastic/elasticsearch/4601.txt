{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/4601","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4601/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4601/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4601/events","html_url":"https://github.com/elastic/elasticsearch/issues/4601","id":25010425,"node_id":"MDU6SXNzdWUyNTAxMDQyNQ==","number":4601,"title":"ES v0.20.6 significant faster then v0.90.x","user":{"login":"julianhille","id":741067,"node_id":"MDQ6VXNlcjc0MTA2Nw==","avatar_url":"https://avatars1.githubusercontent.com/u/741067?v=4","gravatar_id":"","url":"https://api.github.com/users/julianhille","html_url":"https://github.com/julianhille","followers_url":"https://api.github.com/users/julianhille/followers","following_url":"https://api.github.com/users/julianhille/following{/other_user}","gists_url":"https://api.github.com/users/julianhille/gists{/gist_id}","starred_url":"https://api.github.com/users/julianhille/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julianhille/subscriptions","organizations_url":"https://api.github.com/users/julianhille/orgs","repos_url":"https://api.github.com/users/julianhille/repos","events_url":"https://api.github.com/users/julianhille/events{/privacy}","received_events_url":"https://api.github.com/users/julianhille/received_events","type":"User","site_admin":false},"labels":[{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2014-01-03T11:17:29Z","updated_at":"2014-07-25T09:37:17Z","closed_at":"2014-07-25T09:37:17Z","author_association":"NONE","active_lock_reason":null,"body":"im having a weird performance issue, where a way more powerfull machine is much slower then the old one.\n\nOld machine:\n- 4 cpu cores\n- 12 GB ra,\n- ES 0.20.5\n- java 7u21 (oracle)\n- normal HDD\n\nNew machine:\n- 12 cpu core (with more cache)\n- 32 GB ram (higher mhz rate)\n- ES 0.90.8 \n- java (oracle 7u45)\n- SSD with cascaded cache\n\nBoth in common:\n- index size of 2 GB\n- indexed documents (around 120.000)\n- cache size of 40%\n- mlock off\n- SAME INDEX (same docs, same mapping)\n- SAME QUERIES\n- rest of the config settings untouched and as default from the deb package\n- both debian 7 systems (updated)\n- tested with curl requests on the bash\n\nThe more powerfull machine was about 50ms (from 40-50ms up to 100ms-120ms)\nso half the speed as before.\n\nWhat i tried so far:\n- downgrade java version to the same 7u21 (little speed gain for about 7-10ms but that could be measure problems)\n- looked at any changed default values in configs\n  - found a change where thread pools changed from cached to fixed (reset that values back to the old default), nearly no change.\n- downgraded (everytime with reindex) one by one the ES versions. which changed nothing until i reached 0.20.6 where i got the speed i got on 0.20.5\n- upgraded again and have the same speed issue.\n- store mode changed from niofs to mmapfs -> slower\n- store mode changed to memory -> bit faster but still slower than 0.20.6 (verfified that its really in memory through restart and empty index)\n- tested both with the _source compress set to false. cause this was also a change from 0.20.6 to 0.90.0\n\nIm a bit lost and searching for a way to investigate this more. Is this a known information? Any one else saw this speed decrease? \n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}