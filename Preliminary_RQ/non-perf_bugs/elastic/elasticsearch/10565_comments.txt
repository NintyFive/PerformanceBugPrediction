[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/92331688","html_url":"https://github.com/elastic/elasticsearch/issues/10565#issuecomment-92331688","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10565","id":92331688,"node_id":"MDEyOklzc3VlQ29tbWVudDkyMzMxNjg4","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-04-13T12:16:02Z","updated_at":"2015-04-13T12:16:02Z","author_association":"CONTRIBUTOR","body":"@s1monw what should be done here? delete the legacy file? or can the non-legacy file not be read for some reason, so we should bump up logging?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/92333020","html_url":"https://github.com/elastic/elasticsearch/issues/10565#issuecomment-92333020","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10565","id":92333020,"node_id":"MDEyOklzc3VlQ29tbWVudDkyMzMzMDIw","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2015-04-13T12:21:15Z","updated_at":"2015-04-13T12:21:15Z","author_association":"CONTRIBUTOR","body":"you are running windows here right? did you upgrade and downgrade again by any chance?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/92333163","html_url":"https://github.com/elastic/elasticsearch/issues/10565#issuecomment-92333163","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10565","id":92333163,"node_id":"MDEyOklzc3VlQ29tbWVudDkyMzMzMTYz","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2015-04-13T12:22:31Z","updated_at":"2015-04-13T12:22:31Z","author_association":"CONTRIBUTOR","body":"or did you upgrade to 1.5.0 first for some reason?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/92569379","html_url":"https://github.com/elastic/elasticsearch/issues/10565#issuecomment-92569379","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10565","id":92569379,"node_id":"MDEyOklzc3VlQ29tbWVudDkyNTY5Mzc5","user":{"login":"wumingwuan","id":11922624,"node_id":"MDQ6VXNlcjExOTIyNjI0","avatar_url":"https://avatars3.githubusercontent.com/u/11922624?v=4","gravatar_id":"","url":"https://api.github.com/users/wumingwuan","html_url":"https://github.com/wumingwuan","followers_url":"https://api.github.com/users/wumingwuan/followers","following_url":"https://api.github.com/users/wumingwuan/following{/other_user}","gists_url":"https://api.github.com/users/wumingwuan/gists{/gist_id}","starred_url":"https://api.github.com/users/wumingwuan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wumingwuan/subscriptions","organizations_url":"https://api.github.com/users/wumingwuan/orgs","repos_url":"https://api.github.com/users/wumingwuan/repos","events_url":"https://api.github.com/users/wumingwuan/events{/privacy}","received_events_url":"https://api.github.com/users/wumingwuan/received_events","type":"User","site_admin":false},"created_at":"2015-04-14T02:47:57Z","updated_at":"2015-04-14T02:47:57Z","author_association":"NONE","body":"This my upgrade process.\n1. backup 1.4.2 data/config folder.\n2.copy 1.4.2 data/config to extracted 1.5.0 folder \n3.execute 1.5.0/elasticsearch.bat  => exception throw\nI thought maybe 1.5.1 fix this problem. so i download 1.5.1\nand copy 1.4.2 data/config to extracted 1.5.1 folder =>same exception throw.\nFinally, I download 1.4.4 for test.\nand copy 1.4.2 data/config to extracted 1.4.4 folder =>working.\n\nWe tried the last week 1.4.2 backup data in 1.5.1=> working .\nmaybe this week's UAT 1.4.2 data corrupt or something.\nWe will try this upgrade on our production machine , if same problem happen , we will let you know.\nThank you for your help :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/93690745","html_url":"https://github.com/elastic/elasticsearch/issues/10565#issuecomment-93690745","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10565","id":93690745,"node_id":"MDEyOklzc3VlQ29tbWVudDkzNjkwNzQ1","user":{"login":"nellicus","id":8770097,"node_id":"MDQ6VXNlcjg3NzAwOTc=","avatar_url":"https://avatars2.githubusercontent.com/u/8770097?v=4","gravatar_id":"","url":"https://api.github.com/users/nellicus","html_url":"https://github.com/nellicus","followers_url":"https://api.github.com/users/nellicus/followers","following_url":"https://api.github.com/users/nellicus/following{/other_user}","gists_url":"https://api.github.com/users/nellicus/gists{/gist_id}","starred_url":"https://api.github.com/users/nellicus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nellicus/subscriptions","organizations_url":"https://api.github.com/users/nellicus/orgs","repos_url":"https://api.github.com/users/nellicus/repos","events_url":"https://api.github.com/users/nellicus/events{/privacy}","received_events_url":"https://api.github.com/users/nellicus/received_events","type":"User","site_admin":false},"created_at":"2015-04-16T09:28:39Z","updated_at":"2015-04-16T09:28:39Z","author_association":"MEMBER","body":"I am seeing this in my test system on Linux/1.5.0, though not right after upgrade, 1.5.0 has been running for a while with several stop/restart.\nIt's my test box where I do lot of test/hacking so not sure about sequence of events :/\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/98641602","html_url":"https://github.com/elastic/elasticsearch/issues/10565#issuecomment-98641602","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10565","id":98641602,"node_id":"MDEyOklzc3VlQ29tbWVudDk4NjQxNjAy","user":{"login":"HenrikOssipoff","id":4737224,"node_id":"MDQ6VXNlcjQ3MzcyMjQ=","avatar_url":"https://avatars2.githubusercontent.com/u/4737224?v=4","gravatar_id":"","url":"https://api.github.com/users/HenrikOssipoff","html_url":"https://github.com/HenrikOssipoff","followers_url":"https://api.github.com/users/HenrikOssipoff/followers","following_url":"https://api.github.com/users/HenrikOssipoff/following{/other_user}","gists_url":"https://api.github.com/users/HenrikOssipoff/gists{/gist_id}","starred_url":"https://api.github.com/users/HenrikOssipoff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HenrikOssipoff/subscriptions","organizations_url":"https://api.github.com/users/HenrikOssipoff/orgs","repos_url":"https://api.github.com/users/HenrikOssipoff/repos","events_url":"https://api.github.com/users/HenrikOssipoff/events{/privacy}","received_events_url":"https://api.github.com/users/HenrikOssipoff/received_events","type":"User","site_admin":false},"created_at":"2015-05-04T08:59:30Z","updated_at":"2015-05-04T08:59:30Z","author_association":"CONTRIBUTOR","body":"Seeing the same in an upgrade from 1.4.3 to 1.5.2, running Linux.\n\nIn our process we actually upgraded to 1.5.2, but had to downgrade back to 1.4.3 (no indices were created while running 1.5.2, so theoretically this shouldn't have been an issue?).\n\nAfter we settled an issue we had, we once again tried upgrading to 1.5.2, but we're now seeing this issue.\n\nWhat's the best way to get around this issue once we're in this place?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/98708679","html_url":"https://github.com/elastic/elasticsearch/issues/10565#issuecomment-98708679","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10565","id":98708679,"node_id":"MDEyOklzc3VlQ29tbWVudDk4NzA4Njc5","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-05-04T13:48:13Z","updated_at":"2015-05-04T13:48:13Z","author_association":"CONTRIBUTOR","body":"> In our process we actually upgraded to 1.5.2, but had to downgrade back to 1.4.3 (no indices were created while running 1.5.2, so theoretically this shouldn't have been an issue?).\n\nNot true - any writes could have changed the index (and in fact it looks like it wrote a new state file during the failed upgrade).\n\n@s1monw what can be done once an index is in this state?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/98709398","html_url":"https://github.com/elastic/elasticsearch/issues/10565#issuecomment-98709398","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10565","id":98709398,"node_id":"MDEyOklzc3VlQ29tbWVudDk4NzA5Mzk4","user":{"login":"HenrikOssipoff","id":4737224,"node_id":"MDQ6VXNlcjQ3MzcyMjQ=","avatar_url":"https://avatars2.githubusercontent.com/u/4737224?v=4","gravatar_id":"","url":"https://api.github.com/users/HenrikOssipoff","html_url":"https://github.com/HenrikOssipoff","followers_url":"https://api.github.com/users/HenrikOssipoff/followers","following_url":"https://api.github.com/users/HenrikOssipoff/following{/other_user}","gists_url":"https://api.github.com/users/HenrikOssipoff/gists{/gist_id}","starred_url":"https://api.github.com/users/HenrikOssipoff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HenrikOssipoff/subscriptions","organizations_url":"https://api.github.com/users/HenrikOssipoff/orgs","repos_url":"https://api.github.com/users/HenrikOssipoff/repos","events_url":"https://api.github.com/users/HenrikOssipoff/events{/privacy}","received_events_url":"https://api.github.com/users/HenrikOssipoff/received_events","type":"User","site_admin":false},"created_at":"2015-05-04T13:51:06Z","updated_at":"2015-05-04T13:51:06Z","author_association":"CONTRIBUTOR","body":"Worth noting that no new indices were created while running 1.5.x and downgrading the node to 1.4.x and it runs without issues.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/98727781","html_url":"https://github.com/elastic/elasticsearch/issues/10565#issuecomment-98727781","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10565","id":98727781,"node_id":"MDEyOklzc3VlQ29tbWVudDk4NzI3Nzgx","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2015-05-04T14:32:27Z","updated_at":"2015-05-04T14:32:27Z","author_association":"CONTRIBUTOR","body":"you can just remove the state file in without the `.st` ending in this case to recover one you are on 1.5\nie. `file:D:\\elasticsearch-1.5.1\\data\\elasticsearchaa\\nodes\\0\\indices\\8934\\1\\_state\\state-18`\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/98785669","html_url":"https://github.com/elastic/elasticsearch/issues/10565#issuecomment-98785669","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10565","id":98785669,"node_id":"MDEyOklzc3VlQ29tbWVudDk4Nzg1NjY5","user":{"login":"HenrikOssipoff","id":4737224,"node_id":"MDQ6VXNlcjQ3MzcyMjQ=","avatar_url":"https://avatars2.githubusercontent.com/u/4737224?v=4","gravatar_id":"","url":"https://api.github.com/users/HenrikOssipoff","html_url":"https://github.com/HenrikOssipoff","followers_url":"https://api.github.com/users/HenrikOssipoff/followers","following_url":"https://api.github.com/users/HenrikOssipoff/following{/other_user}","gists_url":"https://api.github.com/users/HenrikOssipoff/gists{/gist_id}","starred_url":"https://api.github.com/users/HenrikOssipoff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HenrikOssipoff/subscriptions","organizations_url":"https://api.github.com/users/HenrikOssipoff/orgs","repos_url":"https://api.github.com/users/HenrikOssipoff/repos","events_url":"https://api.github.com/users/HenrikOssipoff/events{/privacy}","received_events_url":"https://api.github.com/users/HenrikOssipoff/received_events","type":"User","site_admin":false},"created_at":"2015-05-04T17:24:00Z","updated_at":"2015-05-04T17:24:00Z","author_association":"CONTRIBUTOR","body":"Worked perfectly, thank you.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/98826299","html_url":"https://github.com/elastic/elasticsearch/issues/10565#issuecomment-98826299","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10565","id":98826299,"node_id":"MDEyOklzc3VlQ29tbWVudDk4ODI2Mjk5","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-05-04T19:33:13Z","updated_at":"2015-05-04T19:33:13Z","author_association":"CONTRIBUTOR","body":"thanks for letting us know @HenrikOssipoff - closing\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/141706784","html_url":"https://github.com/elastic/elasticsearch/issues/10565#issuecomment-141706784","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10565","id":141706784,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MTcwNjc4NA==","user":{"login":"geekamit","id":7371865,"node_id":"MDQ6VXNlcjczNzE4NjU=","avatar_url":"https://avatars2.githubusercontent.com/u/7371865?v=4","gravatar_id":"","url":"https://api.github.com/users/geekamit","html_url":"https://github.com/geekamit","followers_url":"https://api.github.com/users/geekamit/followers","following_url":"https://api.github.com/users/geekamit/following{/other_user}","gists_url":"https://api.github.com/users/geekamit/gists{/gist_id}","starred_url":"https://api.github.com/users/geekamit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geekamit/subscriptions","organizations_url":"https://api.github.com/users/geekamit/orgs","repos_url":"https://api.github.com/users/geekamit/repos","events_url":"https://api.github.com/users/geekamit/events{/privacy}","received_events_url":"https://api.github.com/users/geekamit/received_events","type":"User","site_admin":false},"created_at":"2015-09-19T20:54:46Z","updated_at":"2015-09-19T20:54:46Z","author_association":"NONE","body":"Thanks. Removing .st file worked perfectly.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/165616334","html_url":"https://github.com/elastic/elasticsearch/issues/10565#issuecomment-165616334","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10565","id":165616334,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NTYxNjMzNA==","user":{"login":"skylarmb","id":7543705,"node_id":"MDQ6VXNlcjc1NDM3MDU=","avatar_url":"https://avatars1.githubusercontent.com/u/7543705?v=4","gravatar_id":"","url":"https://api.github.com/users/skylarmb","html_url":"https://github.com/skylarmb","followers_url":"https://api.github.com/users/skylarmb/followers","following_url":"https://api.github.com/users/skylarmb/following{/other_user}","gists_url":"https://api.github.com/users/skylarmb/gists{/gist_id}","starred_url":"https://api.github.com/users/skylarmb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/skylarmb/subscriptions","organizations_url":"https://api.github.com/users/skylarmb/orgs","repos_url":"https://api.github.com/users/skylarmb/repos","events_url":"https://api.github.com/users/skylarmb/events{/privacy}","received_events_url":"https://api.github.com/users/skylarmb/received_events","type":"User","site_admin":false},"created_at":"2015-12-17T23:38:35Z","updated_at":"2015-12-17T23:38:35Z","author_association":"NONE","body":"Just in cast anyone comes across this in the future and the above solution does not work for you, here is what I did to fix it. DISCLAIMER: I am setting up a local dev machine, so all my data is replaceable and unimportant. I DO NOT know the effects of this on a server or other machine where you don't have a backup of this data in case it doesn't work... \n\nI installed 2.1 and later found out the app I was trying to work on required 1.7.3 and tried to downgrade. I received this error \n\n`[ERROR][gateway.local.state.shards] [Lilandra Neramani] failed to read local state (started shards), exiting...\norg.elasticsearch.ElasticsearchException: unexpected field in shard state [index_uuid]`\n\nAfter trying many things that didnt work, including the above solution, I resorted to simply deleting the entire data folder for elasticsearch and rebuilding it. `rm -rf /usr/local/var/elasticsearch`. Then I just ran a reindex which rebuilt that folder `rake search:reindex` and everything worked just fine. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/166267893","html_url":"https://github.com/elastic/elasticsearch/issues/10565#issuecomment-166267893","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10565","id":166267893,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NjI2Nzg5Mw==","user":{"login":"dlamichhane","id":365507,"node_id":"MDQ6VXNlcjM2NTUwNw==","avatar_url":"https://avatars1.githubusercontent.com/u/365507?v=4","gravatar_id":"","url":"https://api.github.com/users/dlamichhane","html_url":"https://github.com/dlamichhane","followers_url":"https://api.github.com/users/dlamichhane/followers","following_url":"https://api.github.com/users/dlamichhane/following{/other_user}","gists_url":"https://api.github.com/users/dlamichhane/gists{/gist_id}","starred_url":"https://api.github.com/users/dlamichhane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlamichhane/subscriptions","organizations_url":"https://api.github.com/users/dlamichhane/orgs","repos_url":"https://api.github.com/users/dlamichhane/repos","events_url":"https://api.github.com/users/dlamichhane/events{/privacy}","received_events_url":"https://api.github.com/users/dlamichhane/received_events","type":"User","site_admin":false},"created_at":"2015-12-21T10:42:31Z","updated_at":"2015-12-21T10:42:31Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/173319202","html_url":"https://github.com/elastic/elasticsearch/issues/10565#issuecomment-173319202","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10565","id":173319202,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzMxOTIwMg==","user":{"login":"cerealkill","id":2923413,"node_id":"MDQ6VXNlcjI5MjM0MTM=","avatar_url":"https://avatars3.githubusercontent.com/u/2923413?v=4","gravatar_id":"","url":"https://api.github.com/users/cerealkill","html_url":"https://github.com/cerealkill","followers_url":"https://api.github.com/users/cerealkill/followers","following_url":"https://api.github.com/users/cerealkill/following{/other_user}","gists_url":"https://api.github.com/users/cerealkill/gists{/gist_id}","starred_url":"https://api.github.com/users/cerealkill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cerealkill/subscriptions","organizations_url":"https://api.github.com/users/cerealkill/orgs","repos_url":"https://api.github.com/users/cerealkill/repos","events_url":"https://api.github.com/users/cerealkill/events{/privacy}","received_events_url":"https://api.github.com/users/cerealkill/received_events","type":"User","site_admin":false},"created_at":"2016-01-20T18:38:55Z","updated_at":"2016-01-20T18:38:55Z","author_association":"NONE","body":"Thank you @skylarmb .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/182895610","html_url":"https://github.com/elastic/elasticsearch/issues/10565#issuecomment-182895610","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10565","id":182895610,"node_id":"MDEyOklzc3VlQ29tbWVudDE4Mjg5NTYxMA==","user":{"login":"ckc6cz","id":10505527,"node_id":"MDQ6VXNlcjEwNTA1NTI3","avatar_url":"https://avatars3.githubusercontent.com/u/10505527?v=4","gravatar_id":"","url":"https://api.github.com/users/ckc6cz","html_url":"https://github.com/ckc6cz","followers_url":"https://api.github.com/users/ckc6cz/followers","following_url":"https://api.github.com/users/ckc6cz/following{/other_user}","gists_url":"https://api.github.com/users/ckc6cz/gists{/gist_id}","starred_url":"https://api.github.com/users/ckc6cz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ckc6cz/subscriptions","organizations_url":"https://api.github.com/users/ckc6cz/orgs","repos_url":"https://api.github.com/users/ckc6cz/repos","events_url":"https://api.github.com/users/ckc6cz/events{/privacy}","received_events_url":"https://api.github.com/users/ckc6cz/received_events","type":"User","site_admin":false},"created_at":"2016-02-11T14:51:28Z","updated_at":"2016-02-11T14:51:28Z","author_association":"NONE","body":"Not an issue, just me being stupid. Sorry!\n\nOn Thu, Feb 11, 2016 at 3:59 AM, Pradeep Gowda notifications@github.com\nwrote:\n\n> We lost all the data after removing .st file. Is this a know issue?\n> \n> â€”\n> Reply to this email directly or view it on GitHub\n> https://github.com/elastic/elasticsearch/issues/10565#issuecomment-182772523\n> .\n\n## \n\nChelsea Chandler\nUniversity of Virginia Class of 2016\nB.A. Computer Science and Mathematics\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/183039900","html_url":"https://github.com/elastic/elasticsearch/issues/10565#issuecomment-183039900","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10565","id":183039900,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MzAzOTkwMA==","user":{"login":"pradbk","id":5422038,"node_id":"MDQ6VXNlcjU0MjIwMzg=","avatar_url":"https://avatars3.githubusercontent.com/u/5422038?v=4","gravatar_id":"","url":"https://api.github.com/users/pradbk","html_url":"https://github.com/pradbk","followers_url":"https://api.github.com/users/pradbk/followers","following_url":"https://api.github.com/users/pradbk/following{/other_user}","gists_url":"https://api.github.com/users/pradbk/gists{/gist_id}","starred_url":"https://api.github.com/users/pradbk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pradbk/subscriptions","organizations_url":"https://api.github.com/users/pradbk/orgs","repos_url":"https://api.github.com/users/pradbk/repos","events_url":"https://api.github.com/users/pradbk/events{/privacy}","received_events_url":"https://api.github.com/users/pradbk/received_events","type":"User","site_admin":false},"created_at":"2016-02-11T20:00:39Z","updated_at":"2016-02-11T20:00:39Z","author_association":"NONE","body":"I did a upgrade from 1.4.4 to 1.7.1 in production. Ended up in same state (ElasticsearchIllegalStateException). removed all state file and I lost months worth of data! Do you guys have any fix for this? How to recover safely from this state? \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/194939716","html_url":"https://github.com/elastic/elasticsearch/issues/10565#issuecomment-194939716","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10565","id":194939716,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NDkzOTcxNg==","user":{"login":"HenleyChiu","id":788695,"node_id":"MDQ6VXNlcjc4ODY5NQ==","avatar_url":"https://avatars1.githubusercontent.com/u/788695?v=4","gravatar_id":"","url":"https://api.github.com/users/HenleyChiu","html_url":"https://github.com/HenleyChiu","followers_url":"https://api.github.com/users/HenleyChiu/followers","following_url":"https://api.github.com/users/HenleyChiu/following{/other_user}","gists_url":"https://api.github.com/users/HenleyChiu/gists{/gist_id}","starred_url":"https://api.github.com/users/HenleyChiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HenleyChiu/subscriptions","organizations_url":"https://api.github.com/users/HenleyChiu/orgs","repos_url":"https://api.github.com/users/HenleyChiu/repos","events_url":"https://api.github.com/users/HenleyChiu/events{/privacy}","received_events_url":"https://api.github.com/users/HenleyChiu/received_events","type":"User","site_admin":false},"created_at":"2016-03-10T16:32:57Z","updated_at":"2016-03-10T16:32:57Z","author_association":"NONE","body":"I had this same problem. \n\nI'm not sure what fixed it but I did these 2 things that I did NOT do before:\n1) Sync-Flush the nodes running with old version: https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-synced-flush.html\n2) Shutdown the nodes properly rather than do a kill -9.\ncurl -XPOST 'http://localhost:9200/_cluster/nodes/_local/_shutdown'\n\nThen when I copied the data files over, it was able to start successfully with the new version with no errors.\nThis is from 1.0.1 to 2.2\n","performed_via_github_app":null}]