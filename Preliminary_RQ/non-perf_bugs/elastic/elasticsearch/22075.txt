{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/22075","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22075/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22075/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22075/events","html_url":"https://github.com/elastic/elasticsearch/issues/22075","id":194595385,"node_id":"MDU6SXNzdWUxOTQ1OTUzODU=","number":22075,"title":"ES  5.x JAVA API SortBuilder throws an exception.","user":{"login":"muteri","id":24272054,"node_id":"MDQ6VXNlcjI0MjcyMDU0","avatar_url":"https://avatars3.githubusercontent.com/u/24272054?v=4","gravatar_id":"","url":"https://api.github.com/users/muteri","html_url":"https://github.com/muteri","followers_url":"https://api.github.com/users/muteri/followers","following_url":"https://api.github.com/users/muteri/following{/other_user}","gists_url":"https://api.github.com/users/muteri/gists{/gist_id}","starred_url":"https://api.github.com/users/muteri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muteri/subscriptions","organizations_url":"https://api.github.com/users/muteri/orgs","repos_url":"https://api.github.com/users/muteri/repos","events_url":"https://api.github.com/users/muteri/events{/privacy}","received_events_url":"https://api.github.com/users/muteri/received_events","type":"User","site_admin":false},"labels":[{"id":146829143,"node_id":"MDU6TGFiZWwxNDY4MjkxNDM=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Transport%20API","name":":Core/Infra/Transport API","color":"0e8a16","default":false,"description":"Transport client API"},{"id":111624690,"node_id":"MDU6TGFiZWwxMTE2MjQ2OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/feedback_needed","name":"feedback_needed","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2016-12-09T13:21:06Z","updated_at":"2016-12-15T15:03:23Z","closed_at":"2016-12-15T15:03:23Z","author_association":"NONE","active_lock_reason":null,"body":"\r\n**Elasticsearch version**: 5.1.1\r\n\r\n**Plugins installed**: []\r\n\r\n**JVM version**: 1.8.0_74\r\n\r\n**OS version**: \r\n\r\n**Description of the problem including expected versus actual behavior**:\r\n\r\nSince ES 5.0 we have an issue when using sortBuilders from java API.\r\nIf we use Builder.addSort(SortBuilder) we got an error, if we replace by Builder.addSort(field, SortOrder) everything is fine.\r\nIn both case the generated json Query is the same and is working fine with sense. The issue seems only occurs from JAVA APi.\r\n\r\nThe sort was on _sort field.\r\n\r\n**Steps to reproduce**:\r\n 1. Create a search, with highlight, add Track_scores=true, and addsort(SortBuilder) with _score\r\n \r\n","closed_by":{"login":"muteri","id":24272054,"node_id":"MDQ6VXNlcjI0MjcyMDU0","avatar_url":"https://avatars3.githubusercontent.com/u/24272054?v=4","gravatar_id":"","url":"https://api.github.com/users/muteri","html_url":"https://github.com/muteri","followers_url":"https://api.github.com/users/muteri/followers","following_url":"https://api.github.com/users/muteri/following{/other_user}","gists_url":"https://api.github.com/users/muteri/gists{/gist_id}","starred_url":"https://api.github.com/users/muteri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muteri/subscriptions","organizations_url":"https://api.github.com/users/muteri/orgs","repos_url":"https://api.github.com/users/muteri/repos","events_url":"https://api.github.com/users/muteri/events{/privacy}","received_events_url":"https://api.github.com/users/muteri/received_events","type":"User","site_admin":false},"performed_via_github_app":null}