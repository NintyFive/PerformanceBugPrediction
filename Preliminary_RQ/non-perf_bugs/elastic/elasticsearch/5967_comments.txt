[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41805476","html_url":"https://github.com/elastic/elasticsearch/issues/5967#issuecomment-41805476","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5967","id":41805476,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODA1NDc2","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2014-04-30T14:49:38Z","updated_at":"2014-04-30T14:49:38Z","author_association":"MEMBER","body":"What happens if you call the analyze API like this? (wondering why the frequency is 1 as well)\n\n```\ncurl -X PUT localhost:9200/foo\ncurl -XGET 'localhost:9200/foo/_analyze?analyzer= vi_analyzer&pretty' -d 'bong bay'\ncurl -XGET 'localhost:9200/foo/_analyze?analyzer= vi_analyzer&pretty' -d 'ba bong bong'\ncurl -XGET 'localhost:9200/foo/_analyze?analyzer= vi_analyzer&pretty' -d 'ba bong bay'\n```\n\nAlso, can you call a refresh after the index operations in your example? Or index with the refresh flag set to true in this test?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41811713","html_url":"https://github.com/elastic/elasticsearch/issues/5967#issuecomment-41811713","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5967","id":41811713,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODExNzEz","user":{"login":"letrungtrung","id":7106318,"node_id":"MDQ6VXNlcjcxMDYzMTg=","avatar_url":"https://avatars0.githubusercontent.com/u/7106318?v=4","gravatar_id":"","url":"https://api.github.com/users/letrungtrung","html_url":"https://github.com/letrungtrung","followers_url":"https://api.github.com/users/letrungtrung/followers","following_url":"https://api.github.com/users/letrungtrung/following{/other_user}","gists_url":"https://api.github.com/users/letrungtrung/gists{/gist_id}","starred_url":"https://api.github.com/users/letrungtrung/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/letrungtrung/subscriptions","organizations_url":"https://api.github.com/users/letrungtrung/orgs","repos_url":"https://api.github.com/users/letrungtrung/repos","events_url":"https://api.github.com/users/letrungtrung/events{/privacy}","received_events_url":"https://api.github.com/users/letrungtrung/received_events","type":"User","site_admin":false},"created_at":"2014-04-30T15:35:18Z","updated_at":"2014-05-01T01:39:39Z","author_association":"NONE","body":"- I've just updated my debug with your requirement ( calling refresh after indexing) and you can see results above.\n- This's my logs of analyzer:\n\n$ curl -XGET 'localhost:9200/foo/_analyze?analyzer=vi_analyzer&pretty' -d 'bong                                                                                                                 bay'\n{\n  \"tokens\" : [ {\n    \"token\" : \"bong\",\n    \"start_offset\" : 0,\n    \"end_offset\" : 4,\n    \"type\" : \"word\",\n    \"position\" : 1\n  }, {\n    \"token\" : \"bay\",\n    \"start_offset\" : 5,\n    \"end_offset\" : 8,\n    \"type\" : \"word\",\n    \"position\" : 2\n  } ]\n}\n\n$ curl -XGET 'localhost:9200/foo/_analyze?analyzer=vi_analyzer&pretty' -d 'ba bong bong'\n{\n  \"tokens\" : [ {\n    \"token\" : \"ba\",\n    \"start_offset\" : 0,\n    \"end_offset\" : 2,\n    \"type\" : \"word\",\n    \"position\" : 1\n  }, {\n    \"token\" : \"bong\",\n    \"start_offset\" : 3,\n    \"end_offset\" : 7,\n    \"type\" : \"word\",\n    \"position\" : 2\n  }, {\n    \"token\" : \"bong\",\n    \"start_offset\" : 8,\n    \"end_offset\" : 12,\n    \"type\" : \"word\",\n    \"position\" : 3\n  } ]\n}\n\n$ curl -XGET 'localhost:9200/foo/_analyze?analyzer=vi_analyzer&pretty' -d 'ba bong bay'\n{\n  \"tokens\" : [ {\n    \"token\" : \"ba\",\n    \"start_offset\" : 0,\n    \"end_offset\" : 2,\n    \"type\" : \"word\",\n    \"position\" : 1\n  }, {\n    \"token\" : \"bong\",\n    \"start_offset\" : 3,\n    \"end_offset\" : 7,\n    \"type\" : \"word\",\n    \"position\" : 2\n  }, {\n    \"token\" : \"bay\",\n    \"start_offset\" : 8,\n    \"end_offset\" : 11,\n    \"type\" : \"word\",\n    \"position\" : 3\n  } ]\n}\n\n# Note\n\nalso, you can remove 'hunspell_vi' filter to debug because it's not effect to the results.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/42122212","html_url":"https://github.com/elastic/elasticsearch/issues/5967#issuecomment-42122212","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5967","id":42122212,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTIyMjEy","user":{"login":"letrungtrung","id":7106318,"node_id":"MDQ6VXNlcjcxMDYzMTg=","avatar_url":"https://avatars0.githubusercontent.com/u/7106318?v=4","gravatar_id":"","url":"https://api.github.com/users/letrungtrung","html_url":"https://github.com/letrungtrung","followers_url":"https://api.github.com/users/letrungtrung/followers","following_url":"https://api.github.com/users/letrungtrung/following{/other_user}","gists_url":"https://api.github.com/users/letrungtrung/gists{/gist_id}","starred_url":"https://api.github.com/users/letrungtrung/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/letrungtrung/subscriptions","organizations_url":"https://api.github.com/users/letrungtrung/orgs","repos_url":"https://api.github.com/users/letrungtrung/repos","events_url":"https://api.github.com/users/letrungtrung/events{/privacy}","received_events_url":"https://api.github.com/users/letrungtrung/received_events","type":"User","site_admin":false},"created_at":"2014-05-04T02:34:15Z","updated_at":"2014-05-04T02:34:15Z","author_association":"NONE","body":"hey @spinscale !\ndid my isssue record? That's problem or not, please explain for me. I want to end it to close this topic and get back my job! Please feedback early, thanks a lot. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/68373898","html_url":"https://github.com/elastic/elasticsearch/issues/5967#issuecomment-68373898","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5967","id":68373898,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzczODk4","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-12-30T16:58:20Z","updated_at":"2014-12-30T16:58:20Z","author_association":"CONTRIBUTOR","body":"It appears that the `term` suggester only takes local shard statistics into account, which is why the same term `ba` is returned with suggest_mode `missing`\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/91627739","html_url":"https://github.com/elastic/elasticsearch/issues/5967#issuecomment-91627739","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5967","id":91627739,"node_id":"MDEyOklzc3VlQ29tbWVudDkxNjI3NzM5","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2015-04-10T17:24:48Z","updated_at":"2015-04-10T17:24:48Z","author_association":"MEMBER","body":"@areek can you follow up with this?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/91708113","html_url":"https://github.com/elastic/elasticsearch/issues/5967#issuecomment-91708113","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5967","id":91708113,"node_id":"MDEyOklzc3VlQ29tbWVudDkxNzA4MTEz","user":{"login":"areek","id":753679,"node_id":"MDQ6VXNlcjc1MzY3OQ==","avatar_url":"https://avatars1.githubusercontent.com/u/753679?v=4","gravatar_id":"","url":"https://api.github.com/users/areek","html_url":"https://github.com/areek","followers_url":"https://api.github.com/users/areek/followers","following_url":"https://api.github.com/users/areek/following{/other_user}","gists_url":"https://api.github.com/users/areek/gists{/gist_id}","starred_url":"https://api.github.com/users/areek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areek/subscriptions","organizations_url":"https://api.github.com/users/areek/orgs","repos_url":"https://api.github.com/users/areek/repos","events_url":"https://api.github.com/users/areek/events{/privacy}","received_events_url":"https://api.github.com/users/areek/received_events","type":"User","site_admin":false},"created_at":"2015-04-10T22:25:36Z","updated_at":"2015-04-10T22:25:36Z","author_association":"CONTRIBUTOR","body":"In `missing` mode, the suggested term is only checked for existence at the local shard. The document(s) with the token `bay` are present only in certain shards.\nIn order to use the `missing` mode correctly in this situation, all the relevant document(s) should reside in the same shard (e.g. adding `routing=xyz` to all the index requests will do the right thing) \n","performed_via_github_app":null}]