[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/167296128","html_url":"https://github.com/elastic/elasticsearch/issues/12688#issuecomment-167296128","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12688","id":167296128,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NzI5NjEyOA==","user":{"login":"jeffwidman","id":483314,"node_id":"MDQ6VXNlcjQ4MzMxNA==","avatar_url":"https://avatars2.githubusercontent.com/u/483314?v=4","gravatar_id":"","url":"https://api.github.com/users/jeffwidman","html_url":"https://github.com/jeffwidman","followers_url":"https://api.github.com/users/jeffwidman/followers","following_url":"https://api.github.com/users/jeffwidman/following{/other_user}","gists_url":"https://api.github.com/users/jeffwidman/gists{/gist_id}","starred_url":"https://api.github.com/users/jeffwidman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeffwidman/subscriptions","organizations_url":"https://api.github.com/users/jeffwidman/orgs","repos_url":"https://api.github.com/users/jeffwidman/repos","events_url":"https://api.github.com/users/jeffwidman/events{/privacy}","received_events_url":"https://api.github.com/users/jeffwidman/received_events","type":"User","site_admin":false},"created_at":"2015-12-26T08:58:06Z","updated_at":"2015-12-30T08:18:37Z","author_association":"NONE","body":"I vote yes on chown when installing the package.\n\nI got bit by this myself and couldn't figure it out until I ran across @imsaar's [helpful post](https://github.com/elastic/elasticsearch/issues/10671#issuecomment-127457647) (big thank you!) \n\nI have a fairly small ES install on a single node, so I thought I was being completely safe by removing the old ES 1.7 package, updating the repo info to ES v2, and then doing a fresh install of ES v2, and planning to just rebuild my indexes from scratch. I was befuddled for quite a while on why I couldn't connect to ES because every time I ran `service elasticsearch restart` it reported 'OK'. (Which I think is part of the problem, it should complain to systemd/the user). When I finally ran `service elasticsearch status` I got an exception that I was able to google and eventually find @imsaar's comment. \n\nThere is a risk that the admin had purposefully set ownership to someone other the the default ES user/group, and will be surprised by the `chown`. But something should be done, as I suspect a lot more people will be bit by not `chown`'ing than the other way. If you want to be extra cautious, maybe as part of the install routing print a message saying that this was done and the admin needs to redo any customizations if they were done.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/198347904","html_url":"https://github.com/elastic/elasticsearch/issues/12688#issuecomment-198347904","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12688","id":198347904,"node_id":"MDEyOklzc3VlQ29tbWVudDE5ODM0NzkwNA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-03-18T13:08:38Z","updated_at":"2016-03-18T13:08:38Z","author_association":"MEMBER","body":"The config directory in `/etc/elasticsearch` needs to be recursively `chown`'ed as well. I have a fix and a test case for this, but I'll keep it in my pocket until #17152 is in.\n","performed_via_github_app":null}]