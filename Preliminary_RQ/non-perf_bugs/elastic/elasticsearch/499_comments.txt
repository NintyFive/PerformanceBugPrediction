[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/529083","html_url":"https://github.com/elastic/elasticsearch/issues/499#issuecomment-529083","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/499","id":529083,"node_id":"MDEyOklzc3VlQ29tbWVudDUyOTA4Mw==","user":{"login":"apatrida","id":182340,"node_id":"MDQ6VXNlcjE4MjM0MA==","avatar_url":"https://avatars3.githubusercontent.com/u/182340?v=4","gravatar_id":"","url":"https://api.github.com/users/apatrida","html_url":"https://github.com/apatrida","followers_url":"https://api.github.com/users/apatrida/followers","following_url":"https://api.github.com/users/apatrida/following{/other_user}","gists_url":"https://api.github.com/users/apatrida/gists{/gist_id}","starred_url":"https://api.github.com/users/apatrida/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apatrida/subscriptions","organizations_url":"https://api.github.com/users/apatrida/orgs","repos_url":"https://api.github.com/users/apatrida/repos","events_url":"https://api.github.com/users/apatrida/events{/privacy}","received_events_url":"https://api.github.com/users/apatrida/received_events","type":"User","site_admin":false},"created_at":"2010-11-09T15:24:36Z","updated_at":"2010-11-09T15:24:36Z","author_association":"CONTRIBUTOR","body":"Oh, the reason I mention the Solr tags is that it is flexible in that the facet counting and facet value filtering do not have to be so perfectly lined up to have them work with each other and could actually cross fields if you desired (I can't think of that use case, but I'm sure it could exist).\n\nDate ranges are another area where you do a histogram of the dates, and let them select a subset, but still want the overall histogram present even after so that they can reselect a broader date range again.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/542702","html_url":"https://github.com/elastic/elasticsearch/issues/499#issuecomment-542702","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/499","id":542702,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MjcwMg==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2010-11-15T17:19:58Z","updated_at":"2010-11-15T17:19:58Z","author_association":"MEMBER","body":"I am not sure I follow exactly what you mean. Currently, in elasticsearch, you can specify that a facet will run globally (not bounded by the current query), and bounded by the current query (i.e. it will aggregate results only for documents matching the search query). Every facet type in elasticsearch accepts a filter (one of the many options you have in the query dsl) to further restrict the docs it will run on. Is that what you are after?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/625869","html_url":"https://github.com/elastic/elasticsearch/issues/499#issuecomment-625869","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/499","id":625869,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNTg2OQ==","user":{"login":"karussell","id":129644,"node_id":"MDQ6VXNlcjEyOTY0NA==","avatar_url":"https://avatars0.githubusercontent.com/u/129644?v=4","gravatar_id":"","url":"https://api.github.com/users/karussell","html_url":"https://github.com/karussell","followers_url":"https://api.github.com/users/karussell/followers","following_url":"https://api.github.com/users/karussell/following{/other_user}","gists_url":"https://api.github.com/users/karussell/gists{/gist_id}","starred_url":"https://api.github.com/users/karussell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karussell/subscriptions","organizations_url":"https://api.github.com/users/karussell/orgs","repos_url":"https://api.github.com/users/karussell/repos","events_url":"https://api.github.com/users/karussell/events{/privacy}","received_events_url":"https://api.github.com/users/karussell/received_events","type":"User","site_admin":false},"created_at":"2010-12-20T22:05:30Z","updated_at":"2010-12-20T22:05:30Z","author_association":"CONTRIBUTOR","body":"(WARN: I'm not aware of the elasticsearch stuff only solr)\n\nI think, he means the following: when I do a filter ala fieldA:value then all other facet queries (fieldA:value2, fieldA:value3) will get a count of zero. For simplicity we assume that that field is not a multivalue field. \n\nThis 'hiding' behaviour is ok but a lot of times you still want to display the counts of the other facets as well. So you'll have to use ugly !ex and !tag stuff in your query. This is called local parameter (hack ;-))\n\nSee http://wiki.apache.org/solr/SimpleFacetParameters#Multi-Select_Faceting_and_LocalParams\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/702626","html_url":"https://github.com/elastic/elasticsearch/issues/499#issuecomment-702626","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/499","id":702626,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjYyNg==","user":{"login":"karussell","id":129644,"node_id":"MDQ6VXNlcjEyOTY0NA==","avatar_url":"https://avatars0.githubusercontent.com/u/129644?v=4","gravatar_id":"","url":"https://api.github.com/users/karussell","html_url":"https://github.com/karussell","followers_url":"https://api.github.com/users/karussell/followers","following_url":"https://api.github.com/users/karussell/following{/other_user}","gists_url":"https://api.github.com/users/karussell/gists{/gist_id}","starred_url":"https://api.github.com/users/karussell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karussell/subscriptions","organizations_url":"https://api.github.com/users/karussell/orgs","repos_url":"https://api.github.com/users/karussell/repos","events_url":"https://api.github.com/users/karussell/events{/privacy}","received_events_url":"https://api.github.com/users/karussell/received_events","type":"User","site_admin":false},"created_at":"2011-01-24T14:07:33Z","updated_at":"2011-01-24T14:09:42Z","author_association":"CONTRIBUTOR","body":"@kimchy: now that I understand better how ES works I would like to ask if the following is possible.\n\nWhen I would use normal range/date facets with ES and I 'select' (use the facet as filter) one of the entries then the other counts will disappear. That means the user needs to 'go back' to again see the counts in all ranges.  When I would set them 'global' this would be perfect\n\nEXCEPT that now even if I filter e.g. for language:english the range facets won't change, which can be fixed using additional filters but that is suboptimal IMHO, because every facet which needs this feature would need those additional filters.\n\nPlease, see jetwick.com where the solr tag hack is implemented.\n\nOr do I need to use a 'scope' variable for the range facets in ES and another one for the other filters? Or is this 'grouping' not possible yet in ES?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/707412","html_url":"https://github.com/elastic/elasticsearch/issues/499#issuecomment-707412","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/499","id":707412,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNzQxMg==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2011-01-25T21:49:27Z","updated_at":"2011-01-25T21:49:27Z","author_association":"MEMBER","body":"Still not sure I understand, does \"moving\" the relevant facets to be a global facet (scope == global\") and not a \"main\" facet is the problem? Maybe I can introduce something like a \"search filter\", that will only get applied for the query results, but will not apply to facets (or you can choose if it gets applied to them or not)?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/708880","html_url":"https://github.com/elastic/elasticsearch/issues/499#issuecomment-708880","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/499","id":708880,"node_id":"MDEyOklzc3VlQ29tbWVudDcwODg4MA==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2011-01-26T10:58:07Z","updated_at":"2011-01-26T10:58:07Z","author_association":"MEMBER","body":"I have just pushed #650, I think it does what you are after.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/708881","html_url":"https://github.com/elastic/elasticsearch/issues/499#issuecomment-708881","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/499","id":708881,"node_id":"MDEyOklzc3VlQ29tbWVudDcwODg4MQ==","user":{"login":"karussell","id":129644,"node_id":"MDQ6VXNlcjEyOTY0NA==","avatar_url":"https://avatars0.githubusercontent.com/u/129644?v=4","gravatar_id":"","url":"https://api.github.com/users/karussell","html_url":"https://github.com/karussell","followers_url":"https://api.github.com/users/karussell/followers","following_url":"https://api.github.com/users/karussell/following{/other_user}","gists_url":"https://api.github.com/users/karussell/gists{/gist_id}","starred_url":"https://api.github.com/users/karussell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karussell/subscriptions","organizations_url":"https://api.github.com/users/karussell/orgs","repos_url":"https://api.github.com/users/karussell/repos","events_url":"https://api.github.com/users/karussell/events{/privacy}","received_events_url":"https://api.github.com/users/karussell/received_events","type":"User","site_admin":false},"created_at":"2011-01-26T10:58:18Z","updated_at":"2011-01-26T10:58:18Z","author_association":"CONTRIBUTOR","body":"Yes, I think we are talking about the same :)\n\nIt would be handy when one can say: this filter gets applied to only _some_ facets. E.g. when I'm using the language filter I can specify that it wouldn't have an effect on the language facets but it will have an effect on the date facets. The same for the date filter.\n\nBut all filters (in my use case) should have an effect on the search results...\n\nI'm not sure if there are use cases to make it more complicated: defining exclusion groups etc like it is possible with the \"!tag !ex\" in Solr. You _tag_ facets with names and when filtering you can _ex_clude them ...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/708923","html_url":"https://github.com/elastic/elasticsearch/issues/499#issuecomment-708923","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/499","id":708923,"node_id":"MDEyOklzc3VlQ29tbWVudDcwODkyMw==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2011-01-26T11:19:29Z","updated_at":"2011-01-26T11:19:29Z","author_association":"MEMBER","body":"@karussell: have you seen #650? I think that that with this one, and the ability to configure a custom filter on a facet (and the ability to control if a facet is bounded by the query or run globally), it gives you all the possible options you want. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/710603","html_url":"https://github.com/elastic/elasticsearch/issues/499#issuecomment-710603","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/499","id":710603,"node_id":"MDEyOklzc3VlQ29tbWVudDcxMDYwMw==","user":{"login":"karussell","id":129644,"node_id":"MDQ6VXNlcjEyOTY0NA==","avatar_url":"https://avatars0.githubusercontent.com/u/129644?v=4","gravatar_id":"","url":"https://api.github.com/users/karussell","html_url":"https://github.com/karussell","followers_url":"https://api.github.com/users/karussell/followers","following_url":"https://api.github.com/users/karussell/following{/other_user}","gists_url":"https://api.github.com/users/karussell/gists{/gist_id}","starred_url":"https://api.github.com/users/karussell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karussell/subscriptions","organizations_url":"https://api.github.com/users/karussell/orgs","repos_url":"https://api.github.com/users/karussell/repos","events_url":"https://api.github.com/users/karussell/events{/privacy}","received_events_url":"https://api.github.com/users/karussell/received_events","type":"User","site_admin":false},"created_at":"2011-01-26T21:00:03Z","updated_at":"2011-01-26T21:00:03Z","author_association":"CONTRIBUTOR","body":"@kimchy sorry, didn't notived that one. and yes: you can now close this here! Thanks a lot I'll try that!\n","performed_via_github_app":null}]