[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/288396512","html_url":"https://github.com/elastic/elasticsearch/issues/23696#issuecomment-288396512","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23696","id":288396512,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODM5NjUxMg==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2017-03-22T13:23:54Z","updated_at":"2017-03-22T13:23:54Z","author_association":"MEMBER","body":"@nik9000 maybe you can see what's going on here","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/288399376","html_url":"https://github.com/elastic/elasticsearch/issues/23696#issuecomment-288399376","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23696","id":288399376,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODM5OTM3Ng==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2017-03-22T13:34:34Z","updated_at":"2017-03-22T13:34:34Z","author_association":"CONTRIBUTOR","body":"Sure!","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/288444582","html_url":"https://github.com/elastic/elasticsearch/issues/23696#issuecomment-288444582","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23696","id":288444582,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODQ0NDU4Mg==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2017-03-22T15:52:28Z","updated_at":"2017-03-22T15:52:28Z","author_association":"CONTRIBUTOR","body":"Just getting to this - it doesn't reproduce and doesn't make a whole lot of sense. It looks like the reindex only saw 1 document when it meant to see 2. I'd love to see it fail after #23688.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/288445011","html_url":"https://github.com/elastic/elasticsearch/issues/23696#issuecomment-288445011","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23696","id":288445011,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODQ0NTAxMQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2017-03-22T15:53:37Z","updated_at":"2017-03-22T15:53:37Z","author_association":"CONTRIBUTOR","body":"And [here](https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+multijob-unix-compatibility/os=fedora/738/console) one is.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/288447003","html_url":"https://github.com/elastic/elasticsearch/issues/23696#issuecomment-288447003","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23696","id":288447003,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODQ0NzAwMw==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2017-03-22T15:59:14Z","updated_at":"2017-03-22T15:59:14Z","author_association":"CONTRIBUTOR","body":"From the CI log:\r\n```\r\n[2017-03-22T11:32:22,828][DEBUG][o.e.a.s.TransportSearchAction] [node-0] [twitter][4], node[Zpj9dh0mT7Oa70Vkd1i-kw], [P], s[STARTED], a[id=nW0VSi1QS-Widm4CmKJFbw]: Failed to execute [SearchRequest{searchType=QUERY_THEN_FETCH, indices=[twitter], indicesOptions=IndicesOptions[id=38, ignore_unavailable=false, allow_no_indices=true, expand_wildcards_open=true, expand_wildcards_closed=false, allow_aliases_to_multiple_indices=true, forbid_closed_indices=true], types=[], routing='null', preference='null', requestCache=null, scroll=Scroll{keepAlive=5m}, source={\r\n  \"size\" : 1000,\r\n  \"version\" : false,\r\n  \"sort\" : [\r\n    {\r\n      \"_doc\" : {\r\n        \"order\" : \"asc\"\r\n      }\r\n    }\r\n  ]\r\n}}] lastShard [true]\r\norg.elasticsearch.transport.RemoteTransportException: [node-0][127.0.0.1:34305][indices:data/read/search[phase/query]]\r\nCaused by: java.lang.NullPointerException\r\n        at org.elasticsearch.search.DefaultSearchContext.buildFilteredQuery(DefaultSearchContext.java:289) ~[elasticsearch-6.0.0-alpha1-SNAPSHOT.jar:6.0.0-alpha1-SNAPSHOT]\r\n        at org.elasticsearch.search.DefaultSearchContext.preProcess(DefaultSearchContext.java:247) ~[elasticsearch-6.0.0-alpha1-SNAPSHOT.jar:6.0.0-alpha1-SNAPSHOT]\r\n        at org.elasticsearch.search.query.QueryPhase.preProcess(QueryPhase.java:90) ~[elasticsearch-6.0.0-alpha1-SNAPSHOT.jar:6.0.0-alpha1-SNAPSHOT]\r\n        at org.elasticsearch.search.SearchService.createContext(SearchService.java:480) ~[elasticsearch-6.0.0-alpha1-SNAPSHOT.jar:6.0.0-alpha1-SNAPSHOT]\r\n        at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:444) ~[elasticsearch-6.0.0-alpha1-SNAPSHOT.jar:6.0.0-alpha1-SNAPSHOT]\r\n        at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:252) ~[elasticsearch-6.0.0-alpha1-SNAPSHOT.jar:6.0.0-alpha1-SNAPSHOT]\r\n        at org.elasticsearch.action.search.SearchTransportService$6.messageReceived(SearchTransportService.java:330) ~[elasticsearch-6.0.0-alpha1-SNAPSHOT.jar:6.0.0-alpha1-SNAPSHOT]\r\n        at org.elasticsearch.action.search.SearchTransportService$6.messageReceived(SearchTransportService.java:327) ~[elasticsearch-6.0.0-alpha1-SNAPSHOT.jar:6.0.0-alpha1-SNAPSHOT]\r\n        at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:66) ~[elasticsearch-6.0.0-alpha1-SNAPSHOT.jar:6.0.0-alpha1-SNAPSHOT]\r\n        at org.elasticsearch.transport.TransportService$7.doRun(TransportService.java:623) [elasticsearch-6.0.0-alpha1-SNAPSHOT.jar:6.0.0-alpha1-SNAPSHOT]\r\n        at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:613) [elasticsearch-6.0.0-alpha1-SNAPSHOT.jar:6.0.0-alpha1-SNAPSHOT]\r\n        at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) [elasticsearch-6.0.0-alpha1-SNAPSHOT.jar:6.0.0-alpha1-SNAPSHOT]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_121]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_121]\r\n        at java.lang.Thread.run(Thread.java:745) [?:1.8.0_121]\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/288448485","html_url":"https://github.com/elastic/elasticsearch/issues/23696#issuecomment-288448485","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23696","id":288448485,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODQ0ODQ4NQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2017-03-22T16:03:23Z","updated_at":"2017-03-22T16:03:23Z","author_association":"CONTRIBUTOR","body":"That code looks like:\r\n```\r\n            BooleanQuery.Builder builder = new BooleanQuery.Builder();\r\n            builder.add(query, Occur.MUST);\r\n            for (Query filter : filters) {\r\n                builder.add(filter, Occur.FILTER);\r\n            }\r\n            return builder.build();   <---- NPE right here\r\n```\r\n\r\nWhich doesn't make a whole ton of sense.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/291979610","html_url":"https://github.com/elastic/elasticsearch/issues/23696#issuecomment-291979610","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23696","id":291979610,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTk3OTYxMA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2017-04-05T20:00:11Z","updated_at":"2017-04-05T20:00:11Z","author_association":"CONTRIBUTOR","body":"These seem to have gone away?","performed_via_github_app":null}]