{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/22941","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22941/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22941/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22941/events","html_url":"https://github.com/elastic/elasticsearch/issues/22941","id":204965756,"node_id":"MDU6SXNzdWUyMDQ5NjU3NTY=","number":22941,"title":"Elasticsearch cluster status RED and not responding ","user":{"login":"pkbelidha","id":8989813,"node_id":"MDQ6VXNlcjg5ODk4MTM=","avatar_url":"https://avatars1.githubusercontent.com/u/8989813?v=4","gravatar_id":"","url":"https://api.github.com/users/pkbelidha","html_url":"https://github.com/pkbelidha","followers_url":"https://api.github.com/users/pkbelidha/followers","following_url":"https://api.github.com/users/pkbelidha/following{/other_user}","gists_url":"https://api.github.com/users/pkbelidha/gists{/gist_id}","starred_url":"https://api.github.com/users/pkbelidha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pkbelidha/subscriptions","organizations_url":"https://api.github.com/users/pkbelidha/orgs","repos_url":"https://api.github.com/users/pkbelidha/repos","events_url":"https://api.github.com/users/pkbelidha/events{/privacy}","received_events_url":"https://api.github.com/users/pkbelidha/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-02-02T19:05:19Z","updated_at":"2017-02-02T19:56:01Z","closed_at":"2017-02-02T19:56:01Z","author_association":"NONE","active_lock_reason":null,"body":"<!--\r\nHi friends, \r\n\r\nMy Elastic search cluster is not responding and status is RED from last few days. It is not able to allocate the shards which are unassigned. This issue started when I first restart the primary instance and I am also not able to delete the shards which are unassigned. Can you please help \r\n\r\nNo of nodes in the cluster\r\n172.16.112.112 172.16.112.112 62 69 0.27 d m elastic-search-60586867-3-183395336.major-qa.graylog.dfwqa2.qa.walmart.com \r\n172.16.118.13  172.16.118.13  46 87 0.00 c - graylog-c4884382-571a-4490-90e5-01a125578189                                              \r\n172.16.114.239 172.16.114.239 64 80 1.09 d m elastic-search-60586867-1-183395330.major-qa.graylog.dfwqa2.qa.walmart.com \r\n172.16.118.172 172.16.118.172 65 89 0.00 c - graylog-ae9e0ce7-07d7-44d5-ad65-2e01d842f314                                              \r\n172.16.115.216 172.16.115.216 82 59 1.15 d m elastic-search-60586867-2-183395333.major-qa.graylog.dfwqa2.qa.walmart.com \r\n172.16.118.17  172.16.118.17  32 86 0.22 c - graylog-82a8d493-012a-4894-b749-3b2ac276b708                                              \r\n172.16.115.233 172.16.115.233 40 68 0.62 d m elastic-search-60586867-4-190299637.major-qa.graylog.dfwqa2.qa.walmart.com \r\n172.16.113.146 172.16.113.146 49 67 1.13 d * elastic-search-60586867-5-190299640.major-qa.graylog.dfwqa2.qa.walmart.com \r\n172.16.118.14  172.16.118.14  25 86 0.17 c - graylog-e400e5f3-9f72-41c8-8ef3-b57ba5270693                                              -->\r\nand here is the status I can see \r\n{\r\n  \"cluster_name\" : \"elasticsearch-major-qa\",\r\n  \"status\" : \"red\",\r\n  \"timed_out\" : false,\r\n  \"number_of_nodes\" : 9,\r\n  \"number_of_data_nodes\" : 5,\r\n  \"active_primary_shards\" : 14718,\r\n  \"active_shards\" : 29436,\r\n  \"relocating_shards\" : 0,\r\n  \"initializing_shards\" : 0,\r\n  \"unassigned_shards\" : 8220,\r\n  \"delayed_unassigned_shards\" : 0,\r\n  \"number_of_pending_tasks\" : 0,\r\n  \"number_of_in_flight_fetch\" : 0,\r\n  \"task_max_waiting_in_queue_millis\" : 0,\r\n  \"active_shards_percent_as_number\" : 78.17080943275973\r\n}","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}