[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/521428839","html_url":"https://github.com/elastic/elasticsearch/issues/45587#issuecomment-521428839","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45587","id":521428839,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTQyODgzOQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-08-14T21:38:43Z","updated_at":"2019-08-14T21:38:43Z","author_association":"COLLABORATOR","body":"Pinging @elastic/ml-core","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/521574424","html_url":"https://github.com/elastic/elasticsearch/issues/45587#issuecomment-521574424","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45587","id":521574424,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTU3NDQyNA==","user":{"login":"davidkyle","id":2353640,"node_id":"MDQ6VXNlcjIzNTM2NDA=","avatar_url":"https://avatars1.githubusercontent.com/u/2353640?v=4","gravatar_id":"","url":"https://api.github.com/users/davidkyle","html_url":"https://github.com/davidkyle","followers_url":"https://api.github.com/users/davidkyle/followers","following_url":"https://api.github.com/users/davidkyle/following{/other_user}","gists_url":"https://api.github.com/users/davidkyle/gists{/gist_id}","starred_url":"https://api.github.com/users/davidkyle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidkyle/subscriptions","organizations_url":"https://api.github.com/users/davidkyle/orgs","repos_url":"https://api.github.com/users/davidkyle/repos","events_url":"https://api.github.com/users/davidkyle/events{/privacy}","received_events_url":"https://api.github.com/users/davidkyle/received_events","type":"User","site_admin":false},"created_at":"2019-08-15T09:18:24Z","updated_at":"2019-08-15T09:18:24Z","author_association":"MEMBER","body":"Thanks for raising this @mark-vieira, it looks like something significant changed around the 9th August causing a jump in failure rate. I'll dig in. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/521585212","html_url":"https://github.com/elastic/elasticsearch/issues/45587#issuecomment-521585212","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45587","id":521585212,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTU4NTIxMg==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2019-08-15T09:48:35Z","updated_at":"2019-08-15T09:48:35Z","author_association":"CONTRIBUTOR","body":"> We've had over 500 individual test failures related to this test class in the last 7 days\r\n\r\nAll but one of these were between 9th and 12th August.  Most of them are duplicates of #45405, which really related to all tests in the `native-multi-node-tests` directory, and is itself just a specific case of #45444, which affected Rally, Kibana CI, and presumably any other test suite that sent a non-trivial amount of data between nodes.  You could raise an issue like this one for every test in `native-multi-node-tests`, for example [`ModelPlotIT`](https://build-stats.elastic.co/app/kibana#/discover?_g=(refreshInterval:(pause:!t,value:0),time:(from:now-7d,mode:quick,to:now))&_a=(columns:!(branch,test,build_url,build-id),index:e58bf320-7efd-11e8-bf69-63c8ef516157,interval:auto,query:(language:kuery,query:'class%20:%20%22org.elasticsearch.xpack.ml.integration.ModelPlotsIT%22'),sort:!(time,desc))), [`OverallBucketsIT`](https://build-stats.elastic.co/app/kibana#/discover?_g=(refreshInterval:(pause:!t,value:0),time:(from:now-7d,mode:quick,to:now))&_a=(columns:!(branch,test,build_url,build-id),index:e58bf320-7efd-11e8-bf69-63c8ef516157,interval:auto,query:(language:kuery,query:'class%20:%20%22org.elasticsearch.xpack.ml.integration.OverallBucketsIT%22'),sort:!(time,desc))) and [`RestoreModelSnapshotIT`](https://build-stats.elastic.co/app/kibana#/discover?_g=(refreshInterval:(pause:!t,value:0),time:(from:now-7d,mode:quick,to:now))&_a=(columns:!(branch,test,build_url,build-id),index:e58bf320-7efd-11e8-bf69-63c8ef516157,interval:auto,query:(language:kuery,query:'class%20:%20%22org.elasticsearch.xpack.ml.integration.RestoreModelSnapshotIT%22'),sort:!(time,desc))) also failed regularly between 9th and 12th August.  This is why I suggested muting the entire directory in https://github.com/elastic/elasticsearch/issues/45405#issuecomment-520378806.\r\n\r\nIt's true that there are sporadic failures for other reasons, for example the one that shows up in the chart on 14th August (after #45444 was fixed).  But unlike the problem that affected the whole of `native-multi-node-tests` these more intermittent failures will differ between the precise tests that are failing, so a catch-all issue at the suite level isn't really a good way to track them.  The people doing test triage on the days when these sporadic failures occur should be opening specific issues for the specific failures.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/521601153","html_url":"https://github.com/elastic/elasticsearch/issues/45587#issuecomment-521601153","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45587","id":521601153,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTYwMTE1Mw==","user":{"login":"davidkyle","id":2353640,"node_id":"MDQ6VXNlcjIzNTM2NDA=","avatar_url":"https://avatars1.githubusercontent.com/u/2353640?v=4","gravatar_id":"","url":"https://api.github.com/users/davidkyle","html_url":"https://github.com/davidkyle","followers_url":"https://api.github.com/users/davidkyle/followers","following_url":"https://api.github.com/users/davidkyle/following{/other_user}","gists_url":"https://api.github.com/users/davidkyle/gists{/gist_id}","starred_url":"https://api.github.com/users/davidkyle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidkyle/subscriptions","organizations_url":"https://api.github.com/users/davidkyle/orgs","repos_url":"https://api.github.com/users/davidkyle/repos","events_url":"https://api.github.com/users/davidkyle/events{/privacy}","received_events_url":"https://api.github.com/users/davidkyle/received_events","type":"User","site_admin":false},"created_at":"2019-08-15T10:51:28Z","updated_at":"2019-08-15T10:51:28Z","author_association":"MEMBER","body":"Looking at the recent failures I'm happy they were all due to #45444 and fixed on the 12th. I checked the  outlier on the 14th and it was a PR build based on an older commit.\r\n\r\nLooking back at the last 30 days of failures, there were a number around 30th July, I putting those down to branching issues as that was the time of the 7.2.1 & 7.3.0 release. There were a bunch of failures on 16th July, they were all PR builds which failed with hundreds of test failures. \r\n\r\nClosing this issue. The evidence doesn't point to any flakiness in the test all the failures are due to external issues. ","performed_via_github_app":null}]