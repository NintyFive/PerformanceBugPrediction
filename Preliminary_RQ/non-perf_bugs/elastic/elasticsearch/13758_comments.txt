[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/147711755","html_url":"https://github.com/elastic/elasticsearch/issues/13758#issuecomment-147711755","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13758","id":147711755,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NzcxMTc1NQ==","user":{"login":"brwe","id":4320215,"node_id":"MDQ6VXNlcjQzMjAyMTU=","avatar_url":"https://avatars0.githubusercontent.com/u/4320215?v=4","gravatar_id":"","url":"https://api.github.com/users/brwe","html_url":"https://github.com/brwe","followers_url":"https://api.github.com/users/brwe/followers","following_url":"https://api.github.com/users/brwe/following{/other_user}","gists_url":"https://api.github.com/users/brwe/gists{/gist_id}","starred_url":"https://api.github.com/users/brwe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brwe/subscriptions","organizations_url":"https://api.github.com/users/brwe/orgs","repos_url":"https://api.github.com/users/brwe/repos","events_url":"https://api.github.com/users/brwe/events{/privacy}","received_events_url":"https://api.github.com/users/brwe/received_events","type":"User","site_admin":false},"created_at":"2015-10-13T13:20:22Z","updated_at":"2015-10-13T13:20:22Z","author_association":"CONTRIBUTOR","body":"This failed four times within five days (19-24 Sep) but not before or after. I was unable to reproduce it too.\nIt seems like whatever caused this failure is fixed now. It is unsatisfying to not know what was going on but don't think it makes much sense to spend time on an analysis so I will just close this issue. Feel free to reopen if you disagree.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/147713359","html_url":"https://github.com/elastic/elasticsearch/issues/13758#issuecomment-147713359","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13758","id":147713359,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NzcxMzM1OQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2015-10-13T13:26:18Z","updated_at":"2015-10-13T13:26:18Z","author_association":"MEMBER","body":"funny timing, I was looking into this as it just failed on the 2.1 branch...reopening :)\n\nhttp://build-us-00.elastic.co/job/es_core_21_centos/76/\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/147745536","html_url":"https://github.com/elastic/elasticsearch/issues/13758#issuecomment-147745536","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13758","id":147745536,"node_id":"MDEyOklzc3VlQ29tbWVudDE0Nzc0NTUzNg==","user":{"login":"brwe","id":4320215,"node_id":"MDQ6VXNlcjQzMjAyMTU=","avatar_url":"https://avatars0.githubusercontent.com/u/4320215?v=4","gravatar_id":"","url":"https://api.github.com/users/brwe","html_url":"https://github.com/brwe","followers_url":"https://api.github.com/users/brwe/followers","following_url":"https://api.github.com/users/brwe/following{/other_user}","gists_url":"https://api.github.com/users/brwe/gists{/gist_id}","starred_url":"https://api.github.com/users/brwe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brwe/subscriptions","organizations_url":"https://api.github.com/users/brwe/orgs","repos_url":"https://api.github.com/users/brwe/repos","events_url":"https://api.github.com/users/brwe/events{/privacy}","received_events_url":"https://api.github.com/users/brwe/received_events","type":"User","site_admin":false},"created_at":"2015-10-13T15:13:49Z","updated_at":"2015-10-13T15:13:49Z","author_association":"CONTRIBUTOR","body":"chatted with @s1monw and we found the problem: in the test we use the WindowsFS mock file system to simulate that windows does not delete files if they are opened by some other process and instead gives you `java.io.IOException: access denied`. In the test we also check if the shard was deleted while it is being deleted. This check might hold on to a file while the node is trying to delete it and deletion will fail then. I am trying to figure out if this is a bug. We might end up having shards lying around forever if for example a virus scanner is opening files while shards are relocated away from a node on windows.\n","performed_via_github_app":null}]