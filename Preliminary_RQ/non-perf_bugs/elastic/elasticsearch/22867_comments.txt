[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/276319313","html_url":"https://github.com/elastic/elasticsearch/issues/22867#issuecomment-276319313","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22867","id":276319313,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjMxOTMxMw==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2017-01-31T09:48:10Z","updated_at":"2017-01-31T09:48:10Z","author_association":"MEMBER","body":"@pnjc thanks for reporting this. The reason that using Enums directly in ES 2.x java client worked was that requests were internally converted from the java to the representation on the Rest layer. This implicitly converted enums to their String representation, so the search was actually performed on that. Now (version >5) we send search requests from the transport client via the internal transport protocol, which doesn't convert those enums to Strings, so as you noted you need to do this step on your side now. So this behaviour is not unexpected.\r\nI agree that this isn't totally clear from the API currently. Maybe we could try to detect enums and convert them to their String value, although it is not always clear if that is what the user intended to search for.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/276323378","html_url":"https://github.com/elastic/elasticsearch/issues/22867#issuecomment-276323378","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22867","id":276323378,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjMyMzM3OA==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-01-31T10:07:44Z","updated_at":"2017-01-31T10:07:44Z","author_association":"MEMBER","body":"-1 on doing magic. I think we should only support registered types. The fact that enums previously worked was more a side-effect of how queries were parsed later. If we have to do something, I think we should rather fail when these non supported types are set rather than only when serializing them, which is a bit too late.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/290670903","html_url":"https://github.com/elastic/elasticsearch/issues/22867#issuecomment-290670903","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22867","id":290670903,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDY3MDkwMw==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2017-03-31T09:55:50Z","updated_at":"2017-03-31T09:55:50Z","author_association":"MEMBER","body":"I agree with @javanna here, we should only support registered types, closing this issue. If anyone objects please reopen and comment","performed_via_github_app":null}]