[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/62372418","html_url":"https://github.com/elastic/elasticsearch/issues/5661#issuecomment-62372418","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5661","id":62372418,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzcyNDE4","user":{"login":"mjgp2","id":888462,"node_id":"MDQ6VXNlcjg4ODQ2Mg==","avatar_url":"https://avatars0.githubusercontent.com/u/888462?v=4","gravatar_id":"","url":"https://api.github.com/users/mjgp2","html_url":"https://github.com/mjgp2","followers_url":"https://api.github.com/users/mjgp2/followers","following_url":"https://api.github.com/users/mjgp2/following{/other_user}","gists_url":"https://api.github.com/users/mjgp2/gists{/gist_id}","starred_url":"https://api.github.com/users/mjgp2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjgp2/subscriptions","organizations_url":"https://api.github.com/users/mjgp2/orgs","repos_url":"https://api.github.com/users/mjgp2/repos","events_url":"https://api.github.com/users/mjgp2/events{/privacy}","received_events_url":"https://api.github.com/users/mjgp2/received_events","type":"User","site_admin":false},"created_at":"2014-11-10T11:32:30Z","updated_at":"2014-11-10T11:32:30Z","author_association":"NONE","body":"So you have removed the ability to update only if the current version matches a specific (external) version?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/62377702","html_url":"https://github.com/elastic/elasticsearch/issues/5661#issuecomment-62377702","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5661","id":62377702,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzc3NzAy","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2014-11-10T12:28:55Z","updated_at":"2014-11-10T12:28:55Z","author_association":"MEMBER","body":"@mjgp2 well, you can abuse it that way. The thing is that if external version semantics (update if version is lower then X) can not guarantee we don't override changes made by a concurrent indexing/update commands.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/62390457","html_url":"https://github.com/elastic/elasticsearch/issues/5661#issuecomment-62390457","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5661","id":62390457,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMzkwNDU3","user":{"login":"mjgp2","id":888462,"node_id":"MDQ6VXNlcjg4ODQ2Mg==","avatar_url":"https://avatars0.githubusercontent.com/u/888462?v=4","gravatar_id":"","url":"https://api.github.com/users/mjgp2","html_url":"https://github.com/mjgp2","followers_url":"https://api.github.com/users/mjgp2/followers","following_url":"https://api.github.com/users/mjgp2/following{/other_user}","gists_url":"https://api.github.com/users/mjgp2/gists{/gist_id}","starred_url":"https://api.github.com/users/mjgp2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjgp2/subscriptions","organizations_url":"https://api.github.com/users/mjgp2/orgs","repos_url":"https://api.github.com/users/mjgp2/repos","events_url":"https://api.github.com/users/mjgp2/events{/privacy}","received_events_url":"https://api.github.com/users/mjgp2/received_events","type":"User","site_admin":false},"created_at":"2014-11-10T14:25:22Z","updated_at":"2014-11-10T14:25:22Z","author_association":"NONE","body":"@bleskes could you point me at where using a generated id vs using an externally generated id differs here in the code? I'm trying to understand exactly what the limitation is to work out how easy it is to fix.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/62443448","html_url":"https://github.com/elastic/elasticsearch/issues/5661#issuecomment-62443448","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5661","id":62443448,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDQzNDQ4","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2014-11-10T19:51:38Z","updated_at":"2014-11-10T19:51:38Z","author_association":"MEMBER","body":"@mjgp2 the update API is nothing else then a get call followed by an index call. See: \n\nhttps://github.com/elasticsearch/elasticsearch/blob/master/src/main/java/org/elasticsearch/action/update/UpdateHelper.java#L76\n\nFollowed by:\nhttps://github.com/elasticsearch/elasticsearch/blob/master/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java#L214\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/62473754","html_url":"https://github.com/elastic/elasticsearch/issues/5661#issuecomment-62473754","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5661","id":62473754,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNDczNzU0","user":{"login":"mjgp2","id":888462,"node_id":"MDQ6VXNlcjg4ODQ2Mg==","avatar_url":"https://avatars0.githubusercontent.com/u/888462?v=4","gravatar_id":"","url":"https://api.github.com/users/mjgp2","html_url":"https://github.com/mjgp2","followers_url":"https://api.github.com/users/mjgp2/followers","following_url":"https://api.github.com/users/mjgp2/following{/other_user}","gists_url":"https://api.github.com/users/mjgp2/gists{/gist_id}","starred_url":"https://api.github.com/users/mjgp2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjgp2/subscriptions","organizations_url":"https://api.github.com/users/mjgp2/orgs","repos_url":"https://api.github.com/users/mjgp2/repos","events_url":"https://api.github.com/users/mjgp2/events{/privacy}","received_events_url":"https://api.github.com/users/mjgp2/received_events","type":"User","site_admin":false},"created_at":"2014-11-10T23:12:07Z","updated_at":"2014-11-10T23:12:07Z","author_association":"NONE","body":"Oh ok so it should be fairly simple to reintroduce using external ids then, as in there's no impassable barrier here by the looks of it? :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/62519189","html_url":"https://github.com/elastic/elasticsearch/issues/5661#issuecomment-62519189","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5661","id":62519189,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNTE5MTg5","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2014-11-11T08:59:19Z","updated_at":"2014-11-11T08:59:19Z","author_association":"MEMBER","body":"Well, as I said , the problem is an algorithmic one - the mixture of external version semantics during the get process (exact match) and indexing process (local indexed version must be lower then the once supplied) that donâ€™t play well together to guaranty no data is lost during concurrent indexing. In general the external version is designed to be used with an external source of truth where the update will be done and sent to ES as an indexing requests.\n\nOn Tue, Nov 11, 2014 at 12:12 AM, Matthew Painter\nnotifications@github.com wrote:\n\n> ## Oh ok so it should be fairly simple to reintroduce using external ids then, as in there's no impassable barrier here by the looks of it? :)\n> \n> Reply to this email directly or view it on GitHub:\n> https://github.com/elasticsearch/elasticsearch/issues/5661#issuecomment-62473754\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/64165925","html_url":"https://github.com/elastic/elasticsearch/issues/5661#issuecomment-64165925","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5661","id":64165925,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MTY1OTI1","user":{"login":"cvasii","id":6130444,"node_id":"MDQ6VXNlcjYxMzA0NDQ=","avatar_url":"https://avatars2.githubusercontent.com/u/6130444?v=4","gravatar_id":"","url":"https://api.github.com/users/cvasii","html_url":"https://github.com/cvasii","followers_url":"https://api.github.com/users/cvasii/followers","following_url":"https://api.github.com/users/cvasii/following{/other_user}","gists_url":"https://api.github.com/users/cvasii/gists{/gist_id}","starred_url":"https://api.github.com/users/cvasii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cvasii/subscriptions","organizations_url":"https://api.github.com/users/cvasii/orgs","repos_url":"https://api.github.com/users/cvasii/repos","events_url":"https://api.github.com/users/cvasii/events{/privacy}","received_events_url":"https://api.github.com/users/cvasii/received_events","type":"User","site_admin":false},"created_at":"2014-11-24T08:56:32Z","updated_at":"2014-11-25T10:35:52Z","author_association":"NONE","body":"But if I use version type as \"force\", then it should be the same thing as using version type external in pre 1.2 releases?\n\nActually, is not. No VersionConflictException will be thrown in this case. Ignore my question\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/69822741","html_url":"https://github.com/elastic/elasticsearch/issues/5661#issuecomment-69822741","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5661","id":69822741,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODIyNzQx","user":{"login":"TronPaul","id":108126,"node_id":"MDQ6VXNlcjEwODEyNg==","avatar_url":"https://avatars3.githubusercontent.com/u/108126?v=4","gravatar_id":"","url":"https://api.github.com/users/TronPaul","html_url":"https://github.com/TronPaul","followers_url":"https://api.github.com/users/TronPaul/followers","following_url":"https://api.github.com/users/TronPaul/following{/other_user}","gists_url":"https://api.github.com/users/TronPaul/gists{/gist_id}","starred_url":"https://api.github.com/users/TronPaul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TronPaul/subscriptions","organizations_url":"https://api.github.com/users/TronPaul/orgs","repos_url":"https://api.github.com/users/TronPaul/repos","events_url":"https://api.github.com/users/TronPaul/events{/privacy}","received_events_url":"https://api.github.com/users/TronPaul/received_events","type":"User","site_admin":false},"created_at":"2015-01-13T21:23:26Z","updated_at":"2015-01-13T21:23:26Z","author_association":"NONE","body":"Please update the documentation surrounding external versioning to indicate that you shouldn't use the Update API with external versioning.\n\nhttp://www.elasticsearch.org/guide/en/elasticsearch/guide/current/optimistic-concurrency-control.html\nhttp://www.elasticsearch.org/blog/elasticsearch-versioning-support/\n\nWas switching to external versioning following the above links and was confused by the errors I was getting until running into this issue.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/70149319","html_url":"https://github.com/elastic/elasticsearch/issues/5661#issuecomment-70149319","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5661","id":70149319,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMTQ5MzE5","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-01-15T19:49:10Z","updated_at":"2015-01-15T19:49:10Z","author_association":"CONTRIBUTOR","body":"@TronPaul the update docs already specify that external versioning is not supported: http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/docs-update.html#_parameters_3\n","performed_via_github_app":null}]