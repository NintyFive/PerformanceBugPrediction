{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/54733","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54733/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54733/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54733/events","html_url":"https://github.com/elastic/elasticsearch/issues/54733","id":593529343,"node_id":"MDU6SXNzdWU1OTM1MjkzNDM=","number":54733,"title":"SamlServiceProviderDocumentTests.testXContentRoundTripWithAllFields fails","user":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"labels":[{"id":912838879,"node_id":"MDU6TGFiZWw5MTI4Mzg4Nzk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Security/Security","name":":Security/Security","color":"0e8a16","default":false,"description":"Security issues without another label"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"assignees":[{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2020-04-03T17:22:11Z","updated_at":"2020-04-16T05:25:52Z","closed_at":"2020-04-16T05:25:52Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"https://gradle-enterprise.elastic.co/s/orte4xd75yhpk/console-log?task=:x-pack:plugin:identity-provider:test\r\n\r\n```\r\norg.elasticsearch.xpack.idp.saml.sp.SamlServiceProviderDocumentTests > testStreamRoundTripWithAllFields FAILED\r\n    java.lang.AssertionError: Error when comparing xContent.\r\n                               acs: same [https://BPrYIu.NPgwWiZR/saml/acs]\r\n                        attributes: \r\n                               email: same [urn:PsPJcI.aIkYn]\r\n                                name: same [urn:BnQXP.moCyjjS]\r\n                           principal: same [urn:CLykwchH.EOTb]\r\n                               roles: same [urn:ROzAKMT.ZXPYL]\r\n                   authn_expiry_ms: same [3424948]\r\n                      certificates: \r\n                        idp_metadata: \r\n                                     0: same [MIIDYzCCAkugAwIBAgIVAITQVqXYYUT0w04Z2gWAZ6pv7gwbMA...]\r\n                                     1: same [MIICYjCCAcugAwIBAgIUL9T74f75INSxmpirmjJTZHJXOGAwDQ...]\r\n                         idp_signing: \r\n                                     0: same [MIICYjCCAcugAwIBAgIUL9T74f75INSxmpirmjJTZHJXOGAwDQ...]\r\n                                     1: same [MIIDYzCCAkugAwIBAgIVAITQVqXYYUT0w04Z2gWAZ6pv7gwbMA...]\r\n                          sp_signing: \r\n                                     0: same [MIICYjCCAcugAwIBAgIUL9T74f75INSxmpirmjJTZHJXOGAwDQ...]\r\n                           created: same [1585931417384]\r\n                           enabled: same [true]\r\n                         entity_id: same [urn:WMlzwyPe.IcSbecXh]\r\n                     last_modified: same [1585931781053]\r\n                              name: same [XCdUghDKK]\r\n                    name_id_format: same [urn:oasis:names:tc:SAML:1.1:nameid-format:emailAdd...]\r\n                        privileges: \r\n                            resource: same [service:YlMyAaRsGQXx:IRIOpYWXtxMm]\r\n                               roles: \r\n                                     0: same [svBJBu:(sMCOqR)]\r\n                                     1: same [Tcjlgy:(QfMvSX)]\r\n                                     2: expected String [KwagVK:(TcJmyz)] but was String [mZhekz:(EUxfto)]\r\n                                     3: expected String [mZhekz:(EUxfto)] but was String [KwagVK:(TcJmyz)]\r\n                     sign_messages: same [empty list]\r\n        at __randomizedtesting.SeedInfo.seed([A6058E14C7A36194:DCAC96F09EB255D3]:0)\r\n        at org.elasticsearch.test.hamcrest.ElasticsearchAssertions.assertToXContentEquivalent(ElasticsearchAssertions.java:661)\r\n        at org.elasticsearch.xpack.idp.saml.sp.SamlServiceProviderDocumentTests.assertXContentRoundTrip(SamlServiceProviderDocumentTests.java:148)\r\n        at org.elasticsearch.xpack.idp.saml.sp.SamlServiceProviderDocumentTests.testStreamRoundTripWithAllFields(SamlServiceProviderDocumentTests.java:85)\r\n\r\n        Caused by:\r\n        org.junit.ComparisonFailure: expected:<[KwagVK:(TcJmyz])> but was:<[mZhekz:(EUxfto])>\r\n            at org.junit.Assert.assertEquals(Assert.java:115)\r\n            at org.junit.Assert.assertEquals(Assert.java:144)\r\n            at org.elasticsearch.test.hamcrest.ElasticsearchAssertions.assertObjectEquals(ElasticsearchAssertions.java:729)\r\n            at org.elasticsearch.test.hamcrest.ElasticsearchAssertions.assertListEquals(ElasticsearchAssertions.java:709)\r\n            at org.elasticsearch.test.hamcrest.ElasticsearchAssertions.assertObjectEquals(ElasticsearchAssertions.java:723)\r\n            at org.elasticsearch.test.hamcrest.ElasticsearchAssertions.assertMapEquals(ElasticsearchAssertions.java:696)\r\n            at org.elasticsearch.test.hamcrest.ElasticsearchAssertions.assertObjectEquals(ElasticsearchAssertions.java:721)\r\n            at org.elasticsearch.test.hamcrest.ElasticsearchAssertions.assertMapEquals(ElasticsearchAssertions.java:696)\r\n            at org.elasticsearch.test.hamcrest.ElasticsearchAssertions.assertToXContentEquivalent(ElasticsearchAssertions.java:657)\r\n            ... 2 more\r\n```\r\n\r\nAttempted to fix it with 2a38b9a31e2670e4a31d19657812774a8e936d33 but this has the same issue exactly. Muting this until we can find a proper solution on Monday","closed_by":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"performed_via_github_app":null}