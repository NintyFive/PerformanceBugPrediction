{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/16528","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16528/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16528/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16528/events","html_url":"https://github.com/elastic/elasticsearch/issues/16528","id":132370895,"node_id":"MDU6SXNzdWUxMzIzNzA4OTU=","number":16528,"title":"Unable to run Elasticsearch (2.2.0) windows service","user":{"login":"habibcs","id":6168697,"node_id":"MDQ6VXNlcjYxNjg2OTc=","avatar_url":"https://avatars3.githubusercontent.com/u/6168697?v=4","gravatar_id":"","url":"https://api.github.com/users/habibcs","html_url":"https://github.com/habibcs","followers_url":"https://api.github.com/users/habibcs/followers","following_url":"https://api.github.com/users/habibcs/following{/other_user}","gists_url":"https://api.github.com/users/habibcs/gists{/gist_id}","starred_url":"https://api.github.com/users/habibcs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/habibcs/subscriptions","organizations_url":"https://api.github.com/users/habibcs/orgs","repos_url":"https://api.github.com/users/habibcs/repos","events_url":"https://api.github.com/users/habibcs/events{/privacy}","received_events_url":"https://api.github.com/users/habibcs/received_events","type":"User","site_admin":false},"labels":[{"id":114977275,"node_id":"MDU6TGFiZWwxMTQ5NzcyNzU=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Packaging","name":":Delivery/Packaging","color":"0e8a16","default":false,"description":"RPM and deb packaging, tar and zip archives, shell and batch scripts"},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"gmarz","id":1594777,"node_id":"MDQ6VXNlcjE1OTQ3Nzc=","avatar_url":"https://avatars0.githubusercontent.com/u/1594777?v=4","gravatar_id":"","url":"https://api.github.com/users/gmarz","html_url":"https://github.com/gmarz","followers_url":"https://api.github.com/users/gmarz/followers","following_url":"https://api.github.com/users/gmarz/following{/other_user}","gists_url":"https://api.github.com/users/gmarz/gists{/gist_id}","starred_url":"https://api.github.com/users/gmarz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmarz/subscriptions","organizations_url":"https://api.github.com/users/gmarz/orgs","repos_url":"https://api.github.com/users/gmarz/repos","events_url":"https://api.github.com/users/gmarz/events{/privacy}","received_events_url":"https://api.github.com/users/gmarz/received_events","type":"User","site_admin":false},"assignees":[{"login":"gmarz","id":1594777,"node_id":"MDQ6VXNlcjE1OTQ3Nzc=","avatar_url":"https://avatars0.githubusercontent.com/u/1594777?v=4","gravatar_id":"","url":"https://api.github.com/users/gmarz","html_url":"https://github.com/gmarz","followers_url":"https://api.github.com/users/gmarz/followers","following_url":"https://api.github.com/users/gmarz/following{/other_user}","gists_url":"https://api.github.com/users/gmarz/gists{/gist_id}","starred_url":"https://api.github.com/users/gmarz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmarz/subscriptions","organizations_url":"https://api.github.com/users/gmarz/orgs","repos_url":"https://api.github.com/users/gmarz/repos","events_url":"https://api.github.com/users/gmarz/events{/privacy}","received_events_url":"https://api.github.com/users/gmarz/received_events","type":"User","site_admin":false}],"milestone":null,"comments":12,"created_at":"2016-02-09T09:34:12Z","updated_at":"2020-11-11T21:58:58Z","closed_at":"2016-04-18T10:14:52Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\n\nInstalled the service from zip (windows 8.1 professional - developer machine) with all default options.\nJVM is present and all settings seems to be alright.\n\n**\\- service install -> installs perfectly**\n**\\- service manager (then start - argument: start) -> service starts and then stops (logging mode set to Debug)**\n\n**elasticsearch-service-x64-stderr.2016-02-09.log** =>\n2016-02-09 10:00:32 Commons Daemon procrun stderr initialized\nJava HotSpot(TM) 64-Bit Server VM warning: Using the ParNew young collector with the Serial old collector is deprecated and will likely be removed in a future release\nException in thread \"main\" tstrap.Bootstrap.init(Bootstrap.java:248)\n    at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:35)\nRefer to the log for complete error details\n\n**elasticsearch-service-x64.2016-02-09.log** =>\n[2016-02-09 10:00:32] [debug](prunsrv.c:1679) [ 8288] Commons Daemon procrun log initialized\n[2016-02-09 10:00:32] [info](prunsrv.c:1683) [ 8288] Commons Daemon procrun (1.0.15.0 64-bit) started\n[2016-02-09 10:00:32] [info](prunsrv.c:1596) [ 8288] Running 'elasticsearch-service-x64' Service...\n[2016-02-09 10:00:32] [debug](prunsrv.c:1374) [ 5200] Inside ServiceMain...\n[2016-02-09 10:00:32] [debug](prunsrv.c:844) [ 5200] reportServiceStatusE: 2, 0, 3000, 0\n[2016-02-09 10:00:32] [info](prunsrv.c:1127) [ 5200] Starting service...\n[2016-02-09 10:00:32] [debug](javajni.c:233) [ 5200] loading jvm 'C:\\Program Files\\Java\\jdk1.8.0_11\\jre\\bin\\server\\jvm.dll'\n[2016-02-09 10:00:32] [debug](javajni.c:704) [ 8444] Jvm Option[0] -XX:+UseParNewGC\n[2016-02-09 10:00:32] [debug](javajni.c:704) [ 8444] Jvm Option[1] -Xms256m\n[2016-02-09 10:00:32] [debug](javajni.c:704) [ 8444] Jvm Option[2] -Xmx1g\n[2016-02-09 10:00:32] [debug](javajni.c:704) [ 8444] Jvm Option[3] -Djava.awt.headless=true\n[2016-02-09 10:00:32] [debug](javajni.c:704) [ 8444] Jvm Option[4] -XX:+UseCMSInitiatingOccupancyOnly\n[2016-02-09 10:00:32] [debug](javajni.c:704) [ 8444] Jvm Option[5] -XX:+HeapDumpOnOutOfMemoryError\n[2016-02-09 10:00:32] [debug](javajni.c:704) [ 8444] Jvm Option[6] -XX:+DisableExplicitGC\n[2016-02-09 10:00:32] [debug](javajni.c:704) [ 8444] Jvm Option[7] -Dfile.encoding=UTF-8\n[2016-02-09 10:00:32] [debug](javajni.c:704) [ 8444] Jvm Option[8] -Djna.nosys=true\n[2016-02-09 10:00:32] [debug](javajni.c:704) [ 8444] Jvm Option[9] -Delasticsearch\n[2016-02-09 10:00:32] [debug](javajni.c:704) [ 8444] Jvm Option[10] -Des.path.home=C:\\LogAggregator\\elasticsearch\n[2016-02-09 10:00:32] [debug](javajni.c:704) [ 8444] Jvm Option[11] -Des.default.path.home=C:\\LogAggregator\\elasticsearch\n[2016-02-09 10:00:32] [debug](javajni.c:704) [ 8444] Jvm Option[12] -Des.default.path.logs=C:\\LogAggregator\\elasticsearch\\logs\n[2016-02-09 10:00:32] [debug](javajni.c:704) [ 8444] Jvm Option[13] -Des.default.path.data=C:\\LogAggregator\\elasticsearch\\data\n[2016-02-09 10:00:32] [debug](javajni.c:704) [ 8444] Jvm Option[14] -Des.default.path.conf=C:\\LogAggregator\\elasticsearch\\config\n[2016-02-09 10:00:32] [debug](javajni.c:704) [ 8444] Jvm Option[15] -Djava.class.path=C:\\LogAggregator\\elasticsearch/lib/elasticsearch-2.2.0.jar;C:\\LogAggregator\\elasticsearch/lib/antlr-runtime-3.5.jar;C:\\LogAggregator\\elasticsearch/lib/apache-log4j-extras-1.2.17.jar;C:\\LogAggregator\\elasticsearch/lib/asm-4.1.jar;C:\\LogAggregator\\elasticsearch/lib/asm-commons-4.1.jar;C:\\LogAggregator\\elasticsearch/lib/commons-cli-1.3.1.jar;C:\\LogAggregator\\elasticsearch/lib/compiler-0.8.13.jar;C:\\LogAggregator\\elasticsearch/lib/compress-lzf-1.0.2.jar;C:\\LogAggregator\\elasticsearch/lib/elasticsearch-2.1.1.jar;C:\\LogAggregator\\elasticsearch/lib/elasticsearch-2.2.0.jar;C:\\LogAggregator\\elasticsearch/lib/groovy-all-2.4.4-indy.jar;C:\\LogAggregator\\elasticsearch/lib/guava-18.0.jar;C:\\LogAggregator\\elasticsearch/lib/HdrHistogram-2.1.6.jar;C:\\LogAggregator\\elasticsearch/lib/hppc-0.7.1.jar;C:\\LogAggregator\\elasticsearch/lib/jackson-core-2.6.2.jar;C:\\LogAggregator\\elasticsearch/lib/jackson-dataformat-cbor-2.6.2.jar;C:\\LogAggregator\\elasticsearch/lib/jackson-dataformat-smile-2.6.2.jar;C:\\\n[2016-02-09 10:00:32] [debug](javajni.c:704) [ 8444] Jvm Option[16] exit\n[2016-02-09 10:00:32] [debug](javajni.c:704) [ 8444] Jvm Option[17] -Xms256m\n[2016-02-09 10:00:32] [debug](javajni.c:704) [ 8444] Jvm Option[18] -Xmx1024m\n[2016-02-09 10:00:32] [debug](javajni.c:704) [ 8444] Jvm Option[19] -Xss256k\n[2016-02-09 10:00:32] [debug](javajni.c:888) [ 8444] argv[0] = start\n[2016-02-09 10:00:32] [debug](javajni.c:941) [ 8444] Java Worker thread started org/elasticsearch/bootstrap/Elasticsearch:main\n[2016-02-09 10:00:32] [debug](javajni.c:952) [ 8444] Exception has been thrown\n[2016-02-09 10:00:32] [debug](javajni.c:964) [ 8444] Java Worker thread finished org/elasticsearch/bootstrap/Elasticsearch:main with status=6\n[2016-02-09 10:00:33] [debug](prunsrv.c:1186) [ 5200] Java started org/elasticsearch/bootstrap/Elasticsearch\n[2016-02-09 10:00:33] [info](prunsrv.c:1284) [ 5200] Service started in 1095 ms.\n[2016-02-09 10:00:33] [debug](prunsrv.c:844) [ 5200] reportServiceStatusE: 4, 0, 0, 0\n[2016-02-09 10:00:33] [debug](prunsrv.c:1528) [ 5200] Waiting for worker to finish...\n[2016-02-09 10:00:33] [debug](prunsrv.c:1533) [ 5200] Worker finished.\n[2016-02-09 10:00:33] [debug](prunsrv.c:1559) [ 5200] Waiting for all threads to exit\n[2016-02-09 10:00:33] [debug](prunsrv.c:844) [ 5200] reportServiceStatusE: 3, 0, 0, 0\n[2016-02-09 10:00:33] [debug](prunsrv.c:1563) [ 5200] JVM destroyed.\n[2016-02-09 10:00:33] [debug](prunsrv.c:844) [ 5200] reportServiceStatusE: 1, 1066, 0, 1\n[2016-02-09 10:00:33] [info](prunsrv.c:1598) [ 8288] Run service finished.\n[2016-02-09 10:00:33] [info](prunsrv.c:1764) [ 8288] Commons Daemon procrun finished\n\nWhat is missing?\nJust to enable ELS service to run on a windows machine (single default node)\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}