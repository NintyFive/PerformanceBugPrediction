{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/24951","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24951/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24951/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24951/events","html_url":"https://github.com/elastic/elasticsearch/issues/24951","id":232168719,"node_id":"MDU6SXNzdWUyMzIxNjg3MTk=","number":24951,"title":"CircuitBreakingException: Data too large","user":{"login":"shcherbak","id":14364672,"node_id":"MDQ6VXNlcjE0MzY0Njcy","avatar_url":"https://avatars0.githubusercontent.com/u/14364672?v=4","gravatar_id":"","url":"https://api.github.com/users/shcherbak","html_url":"https://github.com/shcherbak","followers_url":"https://api.github.com/users/shcherbak/followers","following_url":"https://api.github.com/users/shcherbak/following{/other_user}","gists_url":"https://api.github.com/users/shcherbak/gists{/gist_id}","starred_url":"https://api.github.com/users/shcherbak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shcherbak/subscriptions","organizations_url":"https://api.github.com/users/shcherbak/orgs","repos_url":"https://api.github.com/users/shcherbak/repos","events_url":"https://api.github.com/users/shcherbak/events{/privacy}","received_events_url":"https://api.github.com/users/shcherbak/received_events","type":"User","site_admin":false},"labels":[{"id":166507771,"node_id":"MDU6TGFiZWwxNjY1MDc3NzE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Circuit%20Breakers","name":":Core/Infra/Circuit Breakers","color":"0e8a16","default":false,"description":"Track estimates of memory consumption to prevent overload"},{"id":111624690,"node_id":"MDU6TGFiZWwxMTE2MjQ2OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/feedback_needed","name":"feedback_needed","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2017-05-30T07:47:50Z","updated_at":"2017-07-21T12:12:00Z","closed_at":"2017-07-21T12:12:00Z","author_association":"NONE","active_lock_reason":null,"body":"<!-- Bug report -->\r\n\r\n**Elasticsearch version**: 5.2.1\r\n\r\n**Plugins installed**: [No]\r\n\r\n**JVM version** (`java -version`): java version \"1.8.0_121\"\r\nJava(TM) SE Runtime Environment (build 1.8.0_121-b13)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.121-b13, mixed mode)\r\n\r\n\r\n**OS version** (`uname -a` if on a Unix-like system): Linux fo-sys-els-02.srv.icecat.biz 4.9.0-0.bpo.2-amd64 #1 SMP Debian 4.9.13-1~bpo8+1 (2017-02-27) x86_64 GNU/Linux\r\n\r\n\r\n**Description of the problem including expected versus actual behavior**: cluster fails on date parsing bigger then java.Date max value\r\n\r\n**Steps to reproduce**:\r\n 1. add message with big date field for example '2050-01-01'\r\n\r\n**Provide logs (if relevant)**:\r\n2017-05-29T12:13:17,482][DEBUG][o.e.a.b.TransportShardBulkAction] [els-02] [product_multimedia_object][3] failed to execute bulk item (index) index {[product_multimedia_object][product_multimedia_objecttype][22573736|5534367], source[{\"product_id\":\"22573736\",\"updated\":1495030982,\"data_source_id\":\"0\",\"size\":\"6987938\",\"md5_origin\":\"94b5057c05c087a89d706fcfc0c8e875\",\"uuid\":\"bb8b2cc1-756b-48e7-9f20-430154832096\",\"link\":29272.pdf\",\"short_descr\":\"Building instructions\",\"link_origin\":\"\",\"id\":\"5534367\",\"langid\":\"1\",\"type\":\"pdf\",**\"ExpiryDate\":\"2050-12-12\"**,\"content_type\":\"application\\/pdf\"}]}\r\norg.elasticsearch.index.mapper.MapperParsingException: failed to parse [ExpiryDate]\r\n        at org.elasticsearch.index.mapper.FieldMapper.parse(FieldMapper.java:298) ~[elasticsearch-5.2.1.jar:5.2.1]\r\n        at org.elasticsearch.index.mapper.DocumentParser.parseObjectOrField(DocumentParser.java:449) ~[elasticsearch-5.2.1.jar:5.2.1]\r\n        at org.elasticsearch.index.mapper.DocumentParser.parseValue(DocumentParser.java:575) ~[elasticsearch-5.2.1.jar:5.2.1]\r\n        at org.elasticsearch.index.mapper.DocumentParser.innerParseObject(DocumentParser.java:395) ~[elasticsearch-5.2.1.jar:5.2.1]\r\n        at org.elasticsearch.index.mapper.DocumentParser.parseObjectOrNested(DocumentParser.java:372) ~[elasticsearch-5.2.1.jar:5.2.1]\r\n        at org.elasticsearch.index.mapper.DocumentParser.internalParseDocument(DocumentParser.java:93) ~[elasticsearch-5.2.1.jar:5.2.1]\r\n        at org.elasticsearch.index.mapper.DocumentParser.parseDocument(DocumentParser.java:66) ~[elasticsearch-5.2.1.jar:5.2.1]\r\n        at org.elasticsearch.index.mapper.DocumentMapper.parse(DocumentMapper.java:275) ~[elasticsearch-5.2.1.jar:5.2.1]\r\n        at org.elasticsearch.index.shard.IndexShard.prepareIndex(IndexShard.java:533) ~[elasticsearch-5.2.1.jar:5.2.1]\r\n        at org.elasticsearch.index.shard.IndexShard.prepareIndexOnPrimary(IndexShard.java:510) ~[elasticsearch-5.2.1.jar:5.2.1]\r\n        at org.elasticsearch.action.index.TransportIndexAction.prepareIndexOperationOnPrimary(TransportIndexAction.java:196) ~[elasticsearch-5.2.1.jar:5.2.1]\r\n[2017-05-30T08:00:02,930][WARN ][r.suppressed             ] path: /product_multimedia_object/product_multimedia_objecttype/_search, params: {scroll=10s, index=product_multimedia_object, type=product_multimedia_objecttype}\r\norg.elasticsearch.common.breaker.CircuitBreakingException: [parent] Data too large, data for [<http_request>] would be larger than limit of [1951531007/1.8gb]\r\n        at org.elasticsearch.indices.breaker.HierarchyCircuitBreakerService.checkParentLimit(HierarchyCircuitBreakerService.java:211) ~[elasticsearch-5.2.1.jar:5.2.1]\r\n        at org.elasticsearch.common.breaker.ChildMemoryCircuitBreaker.addEstimateBytesAndMaybeBreak(ChildMemoryCircuitBreaker.java:128) ~[elasticsearch-5.2.1.jar:5.2.1]\r\n        at org.elasticsearch.http.HttpServer.dispatchRequest(HttpServer.java:109) [elasticsearch-5.2.1.jar:5.2.1]\r\n","closed_by":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"performed_via_github_app":null}