[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/373364333","html_url":"https://github.com/elastic/elasticsearch/issues/28974#issuecomment-373364333","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28974","id":373364333,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzM2NDMzMw==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2018-03-15T12:48:13Z","updated_at":"2018-03-15T12:48:13Z","author_association":"MEMBER","body":"@pickypg this seems to come from monitoring, any ideas if or how we should improve documentation? I have the impression the current logging is already pointing in the right direction, not sure if either the log or the docs can be improved? Assigning to you in lack of a proper area label...","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/373374995","html_url":"https://github.com/elastic/elasticsearch/issues/28974#issuecomment-373374995","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28974","id":373374995,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzM3NDk5NQ==","user":{"login":"javadevmtl","id":2964042,"node_id":"MDQ6VXNlcjI5NjQwNDI=","avatar_url":"https://avatars2.githubusercontent.com/u/2964042?v=4","gravatar_id":"","url":"https://api.github.com/users/javadevmtl","html_url":"https://github.com/javadevmtl","followers_url":"https://api.github.com/users/javadevmtl/followers","following_url":"https://api.github.com/users/javadevmtl/following{/other_user}","gists_url":"https://api.github.com/users/javadevmtl/gists{/gist_id}","starred_url":"https://api.github.com/users/javadevmtl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javadevmtl/subscriptions","organizations_url":"https://api.github.com/users/javadevmtl/orgs","repos_url":"https://api.github.com/users/javadevmtl/repos","events_url":"https://api.github.com/users/javadevmtl/events{/privacy}","received_events_url":"https://api.github.com/users/javadevmtl/received_events","type":"User","site_admin":false},"created_at":"2018-03-15T13:27:29Z","updated_at":"2018-03-15T13:27:29Z","author_association":"NONE","body":"IMHO the log is a bit missleading because it tells you that x-pack is not installed. When it is.\r\n\r\nMaybe there's a way to disable monitoring just for the upgrade?\r\n\r\nAlso is there a prefered order of upgrade when multinode cluster is involved?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/373375576","html_url":"https://github.com/elastic/elasticsearch/issues/28974#issuecomment-373375576","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28974","id":373375576,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzM3NTU3Ng==","user":{"login":"javadevmtl","id":2964042,"node_id":"MDQ6VXNlcjI5NjQwNDI=","avatar_url":"https://avatars2.githubusercontent.com/u/2964042?v=4","gravatar_id":"","url":"https://api.github.com/users/javadevmtl","html_url":"https://github.com/javadevmtl","followers_url":"https://api.github.com/users/javadevmtl/followers","following_url":"https://api.github.com/users/javadevmtl/following{/other_user}","gists_url":"https://api.github.com/users/javadevmtl/gists{/gist_id}","starred_url":"https://api.github.com/users/javadevmtl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javadevmtl/subscriptions","organizations_url":"https://api.github.com/users/javadevmtl/orgs","repos_url":"https://api.github.com/users/javadevmtl/repos","events_url":"https://api.github.com/users/javadevmtl/events{/privacy}","received_events_url":"https://api.github.com/users/javadevmtl/received_events","type":"User","site_admin":false},"created_at":"2018-03-15T13:29:21Z","updated_at":"2018-03-15T13:29:21Z","author_association":"NONE","body":"Also I would like to add the nodes did not join until all masters where 6.2.2 and the last 6.1.2 master was turned off.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/399955084","html_url":"https://github.com/elastic/elasticsearch/issues/28974#issuecomment-399955084","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28974","id":399955084,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTk1NTA4NA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-06-25T13:39:22Z","updated_at":"2018-06-25T13:39:22Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/435202902","html_url":"https://github.com/elastic/elasticsearch/issues/28974#issuecomment-435202902","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28974","id":435202902,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTIwMjkwMg==","user":{"login":"OpakAlex","id":1227774,"node_id":"MDQ6VXNlcjEyMjc3NzQ=","avatar_url":"https://avatars3.githubusercontent.com/u/1227774?v=4","gravatar_id":"","url":"https://api.github.com/users/OpakAlex","html_url":"https://github.com/OpakAlex","followers_url":"https://api.github.com/users/OpakAlex/followers","following_url":"https://api.github.com/users/OpakAlex/following{/other_user}","gists_url":"https://api.github.com/users/OpakAlex/gists{/gist_id}","starred_url":"https://api.github.com/users/OpakAlex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OpakAlex/subscriptions","organizations_url":"https://api.github.com/users/OpakAlex/orgs","repos_url":"https://api.github.com/users/OpakAlex/repos","events_url":"https://api.github.com/users/OpakAlex/events{/privacy}","received_events_url":"https://api.github.com/users/OpakAlex/received_events","type":"User","site_admin":false},"created_at":"2018-11-01T22:04:33Z","updated_at":"2018-11-01T22:04:33Z","author_association":"CONTRIBUTOR","body":"same for 6.3.0","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/435479041","html_url":"https://github.com/elastic/elasticsearch/issues/28974#issuecomment-435479041","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28974","id":435479041,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTQ3OTA0MQ==","user":{"login":"javadevmtl","id":2964042,"node_id":"MDQ6VXNlcjI5NjQwNDI=","avatar_url":"https://avatars2.githubusercontent.com/u/2964042?v=4","gravatar_id":"","url":"https://api.github.com/users/javadevmtl","html_url":"https://github.com/javadevmtl","followers_url":"https://api.github.com/users/javadevmtl/followers","following_url":"https://api.github.com/users/javadevmtl/following{/other_user}","gists_url":"https://api.github.com/users/javadevmtl/gists{/gist_id}","starred_url":"https://api.github.com/users/javadevmtl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javadevmtl/subscriptions","organizations_url":"https://api.github.com/users/javadevmtl/orgs","repos_url":"https://api.github.com/users/javadevmtl/repos","events_url":"https://api.github.com/users/javadevmtl/events{/privacy}","received_events_url":"https://api.github.com/users/javadevmtl/received_events","type":"User","site_admin":false},"created_at":"2018-11-02T19:07:24Z","updated_at":"2018-11-02T19:08:17Z","author_association":"NONE","body":"And same for upgrade from 6.2.x to 6.4.x","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/440743101","html_url":"https://github.com/elastic/elasticsearch/issues/28974#issuecomment-440743101","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28974","id":440743101,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MDc0MzEwMQ==","user":{"login":"snarlistic","id":14789793,"node_id":"MDQ6VXNlcjE0Nzg5Nzkz","avatar_url":"https://avatars1.githubusercontent.com/u/14789793?v=4","gravatar_id":"","url":"https://api.github.com/users/snarlistic","html_url":"https://github.com/snarlistic","followers_url":"https://api.github.com/users/snarlistic/followers","following_url":"https://api.github.com/users/snarlistic/following{/other_user}","gists_url":"https://api.github.com/users/snarlistic/gists{/gist_id}","starred_url":"https://api.github.com/users/snarlistic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snarlistic/subscriptions","organizations_url":"https://api.github.com/users/snarlistic/orgs","repos_url":"https://api.github.com/users/snarlistic/repos","events_url":"https://api.github.com/users/snarlistic/events{/privacy}","received_events_url":"https://api.github.com/users/snarlistic/received_events","type":"User","site_admin":false},"created_at":"2018-11-21T17:12:34Z","updated_at":"2018-11-21T17:12:34Z","author_association":"NONE","body":"Ever since upgrading from version 6.1.2 to 6.4.2 I had a similar experience, except that these messages where not printed a few times during upgrade, but every now and than ever after. I noticed that especially during the making of a snapshot these messages appeared, but also at other times when for instance a node left or joined the cluster.\r\n\r\nSearching the Elasticsearch source code I found the solution below:\r\n\r\n$ grep xpack /etc/elasticsearch/elasticsearch.yml\r\nxpack.monitoring.exporters.my_local.type: local\r\nxpack.monitoring.exporters.my_local.use_ingest: false\r\n$\r\n\r\nThis feels a bit like cheating and I'm not sure about all the consequences. Especially not since https://www.elastic.co/guide/en/elasticsearch/reference/master/monitoring-settings.html#local-exporter-settings states the following about the use_ingest option:\r\n\r\n> \"If disabled, then it means that it will not use pipelines, which means that a future release cannot automatically upgrade bulk requests to future-proof them.\"\r\n\r\nBut since I do not use xpack monitoring I feel this is an acceptable work-around to stop the pollution of my logfiles, until somebody with a deeper understanding about what's going on will solve the problem. Anybody an idea what is really going on?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/443727382","html_url":"https://github.com/elastic/elasticsearch/issues/28974#issuecomment-443727382","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28974","id":443727382,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MzcyNzM4Mg==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2018-12-03T14:24:58Z","updated_at":"2018-12-03T14:24:58Z","author_association":"CONTRIBUTOR","body":"`waiting for elected master node ... to setup local exporter [default_local] (does it have x-pack installed?)`\r\n\r\n> Anybody an idea what is really going on?\r\n\r\nThis message is shown on nodes other than the elected master each time (except the first) they receive a cluster state update from the elected master in which monitoring is not completely set up (i.e. a template or an ingest pipeline is missing).\r\n\r\nOne explanation for this is that the elected master is not configured to set up monitoring, perhaps because it does not have X-pack installed (hence the `does it have x-pack installed?`). However when a cluster is first forming the master has quite a few things to do, and may not get around to setting up monitoring for some time.\r\n\r\nI think we should not emit this message until the node has been waiting an unreasonably long time for the master to set these things up.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/443879586","html_url":"https://github.com/elastic/elasticsearch/issues/28974#issuecomment-443879586","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28974","id":443879586,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0Mzg3OTU4Ng==","user":{"login":"snarlistic","id":14789793,"node_id":"MDQ6VXNlcjE0Nzg5Nzkz","avatar_url":"https://avatars1.githubusercontent.com/u/14789793?v=4","gravatar_id":"","url":"https://api.github.com/users/snarlistic","html_url":"https://github.com/snarlistic","followers_url":"https://api.github.com/users/snarlistic/followers","following_url":"https://api.github.com/users/snarlistic/following{/other_user}","gists_url":"https://api.github.com/users/snarlistic/gists{/gist_id}","starred_url":"https://api.github.com/users/snarlistic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snarlistic/subscriptions","organizations_url":"https://api.github.com/users/snarlistic/orgs","repos_url":"https://api.github.com/users/snarlistic/repos","events_url":"https://api.github.com/users/snarlistic/events{/privacy}","received_events_url":"https://api.github.com/users/snarlistic/received_events","type":"User","site_admin":false},"created_at":"2018-12-03T21:37:15Z","updated_at":"2018-12-03T21:37:15Z","author_association":"NONE","body":"So you suggest my elected master never gets around to setting up the monitoring, because I keep receiving these messages? Is there an easy way to find out if monitoring is successfully setup at my elected master? Perhaps by increasing the debug level or hopefully by simply running an API call?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/444036512","html_url":"https://github.com/elastic/elasticsearch/issues/28974#issuecomment-444036512","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28974","id":444036512,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NDAzNjUxMg==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2018-12-04T09:45:06Z","updated_at":"2018-12-04T09:45:06Z","author_association":"CONTRIBUTOR","body":"@snarlistic you say\r\n\r\n> I do not use xpack monitoring\r\n\r\nHave you disabled monitoring by setting `xpack.monitoring.enabled: false` on every node? I think that'll suppress these messages.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/444093256","html_url":"https://github.com/elastic/elasticsearch/issues/28974#issuecomment-444093256","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28974","id":444093256,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NDA5MzI1Ng==","user":{"login":"snarlistic","id":14789793,"node_id":"MDQ6VXNlcjE0Nzg5Nzkz","avatar_url":"https://avatars1.githubusercontent.com/u/14789793?v=4","gravatar_id":"","url":"https://api.github.com/users/snarlistic","html_url":"https://github.com/snarlistic","followers_url":"https://api.github.com/users/snarlistic/followers","following_url":"https://api.github.com/users/snarlistic/following{/other_user}","gists_url":"https://api.github.com/users/snarlistic/gists{/gist_id}","starred_url":"https://api.github.com/users/snarlistic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snarlistic/subscriptions","organizations_url":"https://api.github.com/users/snarlistic/orgs","repos_url":"https://api.github.com/users/snarlistic/repos","events_url":"https://api.github.com/users/snarlistic/events{/privacy}","received_events_url":"https://api.github.com/users/snarlistic/received_events","type":"User","site_admin":false},"created_at":"2018-12-04T13:07:02Z","updated_at":"2018-12-04T13:07:02Z","author_association":"NONE","body":"No, I have not. And this sounds like a bit better/cleaner solution than I myself came up with. Thank you!","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/480270635","html_url":"https://github.com/elastic/elasticsearch/issues/28974#issuecomment-480270635","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28974","id":480270635,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDI3MDYzNQ==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2019-04-05T13:14:20Z","updated_at":"2019-04-05T13:14:20Z","author_association":"CONTRIBUTOR","body":"Closing this in favour of #40898","performed_via_github_app":null}]