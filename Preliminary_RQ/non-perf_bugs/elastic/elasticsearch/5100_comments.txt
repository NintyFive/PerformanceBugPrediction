[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/39718839","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-39718839","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":39718839,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzE4ODM5","user":{"login":"abronner","id":3842297,"node_id":"MDQ6VXNlcjM4NDIyOTc=","avatar_url":"https://avatars2.githubusercontent.com/u/3842297?v=4","gravatar_id":"","url":"https://api.github.com/users/abronner","html_url":"https://github.com/abronner","followers_url":"https://api.github.com/users/abronner/followers","following_url":"https://api.github.com/users/abronner/following{/other_user}","gists_url":"https://api.github.com/users/abronner/gists{/gist_id}","starred_url":"https://api.github.com/users/abronner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abronner/subscriptions","organizations_url":"https://api.github.com/users/abronner/orgs","repos_url":"https://api.github.com/users/abronner/repos","events_url":"https://api.github.com/users/abronner/events{/privacy}","received_events_url":"https://api.github.com/users/abronner/received_events","type":"User","site_admin":false},"created_at":"2014-04-07T11:20:27Z","updated_at":"2014-04-07T11:20:27Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/39853471","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-39853471","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":39853471,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODUzNDcx","user":{"login":"ltamrazov","id":6433656,"node_id":"MDQ6VXNlcjY0MzM2NTY=","avatar_url":"https://avatars1.githubusercontent.com/u/6433656?v=4","gravatar_id":"","url":"https://api.github.com/users/ltamrazov","html_url":"https://github.com/ltamrazov","followers_url":"https://api.github.com/users/ltamrazov/followers","following_url":"https://api.github.com/users/ltamrazov/following{/other_user}","gists_url":"https://api.github.com/users/ltamrazov/gists{/gist_id}","starred_url":"https://api.github.com/users/ltamrazov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ltamrazov/subscriptions","organizations_url":"https://api.github.com/users/ltamrazov/orgs","repos_url":"https://api.github.com/users/ltamrazov/repos","events_url":"https://api.github.com/users/ltamrazov/events{/privacy}","received_events_url":"https://api.github.com/users/ltamrazov/received_events","type":"User","site_admin":false},"created_at":"2014-04-08T14:21:37Z","updated_at":"2014-04-08T14:21:37Z","author_association":"NONE","body":"+1\n\nI agree. Multi-field support would be nice for other aggregations as well, especially for statistical ones such as avg. An example would be to calculate an average across multiple fields. Currently we have to compute the sum and count for each field and do the calculation ourselves. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41789087","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-41789087","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":41789087,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzg5MDg3","user":{"login":"JnBrymn","id":566533,"node_id":"MDQ6VXNlcjU2NjUzMw==","avatar_url":"https://avatars3.githubusercontent.com/u/566533?v=4","gravatar_id":"","url":"https://api.github.com/users/JnBrymn","html_url":"https://github.com/JnBrymn","followers_url":"https://api.github.com/users/JnBrymn/followers","following_url":"https://api.github.com/users/JnBrymn/following{/other_user}","gists_url":"https://api.github.com/users/JnBrymn/gists{/gist_id}","starred_url":"https://api.github.com/users/JnBrymn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JnBrymn/subscriptions","organizations_url":"https://api.github.com/users/JnBrymn/orgs","repos_url":"https://api.github.com/users/JnBrymn/repos","events_url":"https://api.github.com/users/JnBrymn/events{/privacy}","received_events_url":"https://api.github.com/users/JnBrymn/received_events","type":"User","site_admin":true},"created_at":"2014-04-30T12:12:15Z","updated_at":"2014-04-30T12:12:15Z","author_association":"CONTRIBUTOR","body":"+1 already needed this\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41851580","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-41851580","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":41851580,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODUxNTgw","user":{"login":"fernandolins","id":1887601,"node_id":"MDQ6VXNlcjE4ODc2MDE=","avatar_url":"https://avatars0.githubusercontent.com/u/1887601?v=4","gravatar_id":"","url":"https://api.github.com/users/fernandolins","html_url":"https://github.com/fernandolins","followers_url":"https://api.github.com/users/fernandolins/followers","following_url":"https://api.github.com/users/fernandolins/following{/other_user}","gists_url":"https://api.github.com/users/fernandolins/gists{/gist_id}","starred_url":"https://api.github.com/users/fernandolins/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fernandolins/subscriptions","organizations_url":"https://api.github.com/users/fernandolins/orgs","repos_url":"https://api.github.com/users/fernandolins/repos","events_url":"https://api.github.com/users/fernandolins/events{/privacy}","received_events_url":"https://api.github.com/users/fernandolins/received_events","type":"User","site_admin":false},"created_at":"2014-04-30T21:14:41Z","updated_at":"2014-04-30T21:14:41Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/42054992","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-42054992","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":42054992,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDU0OTky","user":{"login":"cwarny","id":2788526,"node_id":"MDQ6VXNlcjI3ODg1MjY=","avatar_url":"https://avatars2.githubusercontent.com/u/2788526?v=4","gravatar_id":"","url":"https://api.github.com/users/cwarny","html_url":"https://github.com/cwarny","followers_url":"https://api.github.com/users/cwarny/followers","following_url":"https://api.github.com/users/cwarny/following{/other_user}","gists_url":"https://api.github.com/users/cwarny/gists{/gist_id}","starred_url":"https://api.github.com/users/cwarny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cwarny/subscriptions","organizations_url":"https://api.github.com/users/cwarny/orgs","repos_url":"https://api.github.com/users/cwarny/repos","events_url":"https://api.github.com/users/cwarny/events{/privacy}","received_events_url":"https://api.github.com/users/cwarny/received_events","type":"User","site_admin":false},"created_at":"2014-05-02T17:11:12Z","updated_at":"2014-05-02T17:11:12Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/43980630","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-43980630","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":43980630,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTgwNjMw","user":{"login":"clirix","id":1056854,"node_id":"MDQ6VXNlcjEwNTY4NTQ=","avatar_url":"https://avatars3.githubusercontent.com/u/1056854?v=4","gravatar_id":"","url":"https://api.github.com/users/clirix","html_url":"https://github.com/clirix","followers_url":"https://api.github.com/users/clirix/followers","following_url":"https://api.github.com/users/clirix/following{/other_user}","gists_url":"https://api.github.com/users/clirix/gists{/gist_id}","starred_url":"https://api.github.com/users/clirix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clirix/subscriptions","organizations_url":"https://api.github.com/users/clirix/orgs","repos_url":"https://api.github.com/users/clirix/repos","events_url":"https://api.github.com/users/clirix/events{/privacy}","received_events_url":"https://api.github.com/users/clirix/received_events","type":"User","site_admin":false},"created_at":"2014-05-23T07:52:12Z","updated_at":"2014-05-23T07:52:12Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/44176592","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-44176592","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":44176592,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTc2NTky","user":{"login":"ariasdelrio","id":668781,"node_id":"MDQ6VXNlcjY2ODc4MQ==","avatar_url":"https://avatars0.githubusercontent.com/u/668781?v=4","gravatar_id":"","url":"https://api.github.com/users/ariasdelrio","html_url":"https://github.com/ariasdelrio","followers_url":"https://api.github.com/users/ariasdelrio/followers","following_url":"https://api.github.com/users/ariasdelrio/following{/other_user}","gists_url":"https://api.github.com/users/ariasdelrio/gists{/gist_id}","starred_url":"https://api.github.com/users/ariasdelrio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ariasdelrio/subscriptions","organizations_url":"https://api.github.com/users/ariasdelrio/orgs","repos_url":"https://api.github.com/users/ariasdelrio/repos","events_url":"https://api.github.com/users/ariasdelrio/events{/privacy}","received_events_url":"https://api.github.com/users/ariasdelrio/received_events","type":"User","site_admin":false},"created_at":"2014-05-26T10:26:11Z","updated_at":"2014-05-26T10:26:11Z","author_association":"NONE","body":"+1 already need this\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/44909355","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-44909355","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":44909355,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTA5MzU1","user":{"login":"shane-axiom","id":1138892,"node_id":"MDQ6VXNlcjExMzg4OTI=","avatar_url":"https://avatars2.githubusercontent.com/u/1138892?v=4","gravatar_id":"","url":"https://api.github.com/users/shane-axiom","html_url":"https://github.com/shane-axiom","followers_url":"https://api.github.com/users/shane-axiom/followers","following_url":"https://api.github.com/users/shane-axiom/following{/other_user}","gists_url":"https://api.github.com/users/shane-axiom/gists{/gist_id}","starred_url":"https://api.github.com/users/shane-axiom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shane-axiom/subscriptions","organizations_url":"https://api.github.com/users/shane-axiom/orgs","repos_url":"https://api.github.com/users/shane-axiom/repos","events_url":"https://api.github.com/users/shane-axiom/events{/privacy}","received_events_url":"https://api.github.com/users/shane-axiom/received_events","type":"User","site_admin":false},"created_at":"2014-06-03T01:01:42Z","updated_at":"2014-06-03T01:01:42Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46528473","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-46528473","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":46528473,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NTI4NDcz","user":{"login":"nai0om","id":1193049,"node_id":"MDQ6VXNlcjExOTMwNDk=","avatar_url":"https://avatars2.githubusercontent.com/u/1193049?v=4","gravatar_id":"","url":"https://api.github.com/users/nai0om","html_url":"https://github.com/nai0om","followers_url":"https://api.github.com/users/nai0om/followers","following_url":"https://api.github.com/users/nai0om/following{/other_user}","gists_url":"https://api.github.com/users/nai0om/gists{/gist_id}","starred_url":"https://api.github.com/users/nai0om/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nai0om/subscriptions","organizations_url":"https://api.github.com/users/nai0om/orgs","repos_url":"https://api.github.com/users/nai0om/repos","events_url":"https://api.github.com/users/nai0om/events{/privacy}","received_events_url":"https://api.github.com/users/nai0om/received_events","type":"User","site_admin":false},"created_at":"2014-06-19T06:44:19Z","updated_at":"2014-06-19T06:44:19Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/47228438","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-47228438","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":47228438,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MjI4NDM4","user":{"login":"jreddin","id":4892680,"node_id":"MDQ6VXNlcjQ4OTI2ODA=","avatar_url":"https://avatars0.githubusercontent.com/u/4892680?v=4","gravatar_id":"","url":"https://api.github.com/users/jreddin","html_url":"https://github.com/jreddin","followers_url":"https://api.github.com/users/jreddin/followers","following_url":"https://api.github.com/users/jreddin/following{/other_user}","gists_url":"https://api.github.com/users/jreddin/gists{/gist_id}","starred_url":"https://api.github.com/users/jreddin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jreddin/subscriptions","organizations_url":"https://api.github.com/users/jreddin/orgs","repos_url":"https://api.github.com/users/jreddin/repos","events_url":"https://api.github.com/users/jreddin/events{/privacy}","received_events_url":"https://api.github.com/users/jreddin/received_events","type":"User","site_admin":false},"created_at":"2014-06-26T13:57:11Z","updated_at":"2014-06-26T13:57:11Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/47575866","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-47575866","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":47575866,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTc1ODY2","user":{"login":"ddebernardy","id":225259,"node_id":"MDQ6VXNlcjIyNTI1OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/225259?v=4","gravatar_id":"","url":"https://api.github.com/users/ddebernardy","html_url":"https://github.com/ddebernardy","followers_url":"https://api.github.com/users/ddebernardy/followers","following_url":"https://api.github.com/users/ddebernardy/following{/other_user}","gists_url":"https://api.github.com/users/ddebernardy/gists{/gist_id}","starred_url":"https://api.github.com/users/ddebernardy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddebernardy/subscriptions","organizations_url":"https://api.github.com/users/ddebernardy/orgs","repos_url":"https://api.github.com/users/ddebernardy/repos","events_url":"https://api.github.com/users/ddebernardy/events{/privacy}","received_events_url":"https://api.github.com/users/ddebernardy/received_events","type":"User","site_admin":false},"created_at":"2014-06-30T19:32:50Z","updated_at":"2014-06-30T19:32:50Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/47923503","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-47923503","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":47923503,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTIzNTAz","user":{"login":"ibaiul","id":8058261,"node_id":"MDQ6VXNlcjgwNTgyNjE=","avatar_url":"https://avatars0.githubusercontent.com/u/8058261?v=4","gravatar_id":"","url":"https://api.github.com/users/ibaiul","html_url":"https://github.com/ibaiul","followers_url":"https://api.github.com/users/ibaiul/followers","following_url":"https://api.github.com/users/ibaiul/following{/other_user}","gists_url":"https://api.github.com/users/ibaiul/gists{/gist_id}","starred_url":"https://api.github.com/users/ibaiul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ibaiul/subscriptions","organizations_url":"https://api.github.com/users/ibaiul/orgs","repos_url":"https://api.github.com/users/ibaiul/repos","events_url":"https://api.github.com/users/ibaiul/events{/privacy}","received_events_url":"https://api.github.com/users/ibaiul/received_events","type":"User","site_admin":false},"created_at":"2014-07-03T12:32:29Z","updated_at":"2014-07-03T12:46:42Z","author_association":"NONE","body":"+1 \nI already needed this. My dirty solution was to create a new field in the document with the combination of both values and use the terms aggregation against the new combined field, e.g.\nDocument: {\"island\":\"fiji\", \"programming_language\": \"php\"}\nNew Document: {\"island\":\"fiji\", \"programming_language\": \"php\", \"combined_field\": \"fiji-php\"}\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/48001106","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-48001106","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":48001106,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDAxMTA2","user":{"login":"emalock3","id":4936401,"node_id":"MDQ6VXNlcjQ5MzY0MDE=","avatar_url":"https://avatars2.githubusercontent.com/u/4936401?v=4","gravatar_id":"","url":"https://api.github.com/users/emalock3","html_url":"https://github.com/emalock3","followers_url":"https://api.github.com/users/emalock3/followers","following_url":"https://api.github.com/users/emalock3/following{/other_user}","gists_url":"https://api.github.com/users/emalock3/gists{/gist_id}","starred_url":"https://api.github.com/users/emalock3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emalock3/subscriptions","organizations_url":"https://api.github.com/users/emalock3/orgs","repos_url":"https://api.github.com/users/emalock3/repos","events_url":"https://api.github.com/users/emalock3/events{/privacy}","received_events_url":"https://api.github.com/users/emalock3/received_events","type":"User","site_admin":false},"created_at":"2014-07-04T01:27:21Z","updated_at":"2014-07-04T01:27:21Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/48288755","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-48288755","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":48288755,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mjg4NzU1","user":{"login":"halfblood369","id":1528639,"node_id":"MDQ6VXNlcjE1Mjg2Mzk=","avatar_url":"https://avatars1.githubusercontent.com/u/1528639?v=4","gravatar_id":"","url":"https://api.github.com/users/halfblood369","html_url":"https://github.com/halfblood369","followers_url":"https://api.github.com/users/halfblood369/followers","following_url":"https://api.github.com/users/halfblood369/following{/other_user}","gists_url":"https://api.github.com/users/halfblood369/gists{/gist_id}","starred_url":"https://api.github.com/users/halfblood369/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/halfblood369/subscriptions","organizations_url":"https://api.github.com/users/halfblood369/orgs","repos_url":"https://api.github.com/users/halfblood369/repos","events_url":"https://api.github.com/users/halfblood369/events{/privacy}","received_events_url":"https://api.github.com/users/halfblood369/received_events","type":"User","site_admin":false},"created_at":"2014-07-08T09:11:46Z","updated_at":"2014-07-08T09:11:46Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/48499663","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-48499663","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":48499663,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDk5NjYz","user":{"login":"mmounirou","id":759944,"node_id":"MDQ6VXNlcjc1OTk0NA==","avatar_url":"https://avatars3.githubusercontent.com/u/759944?v=4","gravatar_id":"","url":"https://api.github.com/users/mmounirou","html_url":"https://github.com/mmounirou","followers_url":"https://api.github.com/users/mmounirou/followers","following_url":"https://api.github.com/users/mmounirou/following{/other_user}","gists_url":"https://api.github.com/users/mmounirou/gists{/gist_id}","starred_url":"https://api.github.com/users/mmounirou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmounirou/subscriptions","organizations_url":"https://api.github.com/users/mmounirou/orgs","repos_url":"https://api.github.com/users/mmounirou/repos","events_url":"https://api.github.com/users/mmounirou/events{/privacy}","received_events_url":"https://api.github.com/users/mmounirou/received_events","type":"User","site_admin":false},"created_at":"2014-07-09T16:35:11Z","updated_at":"2014-07-09T16:35:11Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/49631982","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-49631982","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":49631982,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NjMxOTgy","user":{"login":"reidjax","id":8226403,"node_id":"MDQ6VXNlcjgyMjY0MDM=","avatar_url":"https://avatars1.githubusercontent.com/u/8226403?v=4","gravatar_id":"","url":"https://api.github.com/users/reidjax","html_url":"https://github.com/reidjax","followers_url":"https://api.github.com/users/reidjax/followers","following_url":"https://api.github.com/users/reidjax/following{/other_user}","gists_url":"https://api.github.com/users/reidjax/gists{/gist_id}","starred_url":"https://api.github.com/users/reidjax/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reidjax/subscriptions","organizations_url":"https://api.github.com/users/reidjax/orgs","repos_url":"https://api.github.com/users/reidjax/repos","events_url":"https://api.github.com/users/reidjax/events{/privacy}","received_events_url":"https://api.github.com/users/reidjax/received_events","type":"User","site_admin":false},"created_at":"2014-07-21T16:46:37Z","updated_at":"2014-07-21T16:46:37Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/51311458","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-51311458","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":51311458,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzExNDU4","user":{"login":"njjkgeerts","id":504749,"node_id":"MDQ6VXNlcjUwNDc0OQ==","avatar_url":"https://avatars0.githubusercontent.com/u/504749?v=4","gravatar_id":"","url":"https://api.github.com/users/njjkgeerts","html_url":"https://github.com/njjkgeerts","followers_url":"https://api.github.com/users/njjkgeerts/followers","following_url":"https://api.github.com/users/njjkgeerts/following{/other_user}","gists_url":"https://api.github.com/users/njjkgeerts/gists{/gist_id}","starred_url":"https://api.github.com/users/njjkgeerts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/njjkgeerts/subscriptions","organizations_url":"https://api.github.com/users/njjkgeerts/orgs","repos_url":"https://api.github.com/users/njjkgeerts/repos","events_url":"https://api.github.com/users/njjkgeerts/events{/privacy}","received_events_url":"https://api.github.com/users/njjkgeerts/received_events","type":"User","site_admin":false},"created_at":"2014-08-06T09:19:36Z","updated_at":"2014-08-06T09:19:36Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/51313754","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-51313754","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":51313754,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzEzNzU0","user":{"login":"dpogretskiy","id":4599204,"node_id":"MDQ6VXNlcjQ1OTkyMDQ=","avatar_url":"https://avatars0.githubusercontent.com/u/4599204?v=4","gravatar_id":"","url":"https://api.github.com/users/dpogretskiy","html_url":"https://github.com/dpogretskiy","followers_url":"https://api.github.com/users/dpogretskiy/followers","following_url":"https://api.github.com/users/dpogretskiy/following{/other_user}","gists_url":"https://api.github.com/users/dpogretskiy/gists{/gist_id}","starred_url":"https://api.github.com/users/dpogretskiy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dpogretskiy/subscriptions","organizations_url":"https://api.github.com/users/dpogretskiy/orgs","repos_url":"https://api.github.com/users/dpogretskiy/repos","events_url":"https://api.github.com/users/dpogretskiy/events{/privacy}","received_events_url":"https://api.github.com/users/dpogretskiy/received_events","type":"User","site_admin":false},"created_at":"2014-08-06T09:46:37Z","updated_at":"2014-08-06T09:46:37Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/51841812","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-51841812","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":51841812,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODQxODEy","user":{"login":"mrdanadams","id":871974,"node_id":"MDQ6VXNlcjg3MTk3NA==","avatar_url":"https://avatars3.githubusercontent.com/u/871974?v=4","gravatar_id":"","url":"https://api.github.com/users/mrdanadams","html_url":"https://github.com/mrdanadams","followers_url":"https://api.github.com/users/mrdanadams/followers","following_url":"https://api.github.com/users/mrdanadams/following{/other_user}","gists_url":"https://api.github.com/users/mrdanadams/gists{/gist_id}","starred_url":"https://api.github.com/users/mrdanadams/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mrdanadams/subscriptions","organizations_url":"https://api.github.com/users/mrdanadams/orgs","repos_url":"https://api.github.com/users/mrdanadams/repos","events_url":"https://api.github.com/users/mrdanadams/events{/privacy}","received_events_url":"https://api.github.com/users/mrdanadams/received_events","type":"User","site_admin":false},"created_at":"2014-08-11T21:14:33Z","updated_at":"2014-08-11T21:14:33Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/51910335","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-51910335","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":51910335,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTEwMzM1","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2014-08-12T13:03:17Z","updated_at":"2014-08-12T13:03:17Z","author_association":"CONTRIBUTOR","body":"This is something that can already be done using scripts. For example, if you have two fields `f` and `g`, you can run a terms aggregation on the union of the values of these fields by running the following aggregation (it works with both groovy and mvel):\n\n``` json\nGET test/_search\n{\n  \"aggs\": {\n    \"t\": {\n      \"terms\": {\n        \"script\": \"doc['f'].values + doc['g'].values\"\n      }\n    }\n  }\n}\n```\n\nIt might not be very performant, so if you plan on running a terms aggregation on several fields on a regular basis, you might want to use the `copy_to` directive in your mappings in order to copy field values to a dedicated field at indexing time and use this field to run the aggregations:\n\n``` json\nPUT test\n{\n  \"mappings\": {\n    \"test\": {\n      \"properties\": {\n        \"f\": {\n          \"type\": \"string\",\n          \"index\": \"not_analyzed\",\n          \"copy_to\": \"f_and_g\"\n        },\n        \"g\": {\n          \"type\": \"string\",\n          \"index\": \"not_analyzed\",\n          \"copy_to\": \"f_and_g\"\n        },\n        \"f_and_g\": {\n          \"type\": \"string\",\n          \"index\": \"not_analyzed\"\n        }\n      }\n    }\n  }\n}\n\n[Add data]\n\nGET test/_search\n{\n  \"aggs\": {\n    \"t\": {\n      \"terms\": {\n        \"field\": \"f_and_g\"\n      }\n    }\n  }\n}\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/51915490","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-51915490","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":51915490,"node_id":"MDEyOklzc3VlQ29tbWVudDUxOTE1NDkw","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-08-12T13:46:44Z","updated_at":"2014-08-12T13:46:44Z","author_association":"CONTRIBUTOR","body":"The reason why we're not planning on supporting this directly is that it would be much slower and heavier than a normal `terms` aggregation.  The `terms` agg uses global ordinals (rather than concrete values) for counting, but the global ordinals for two different fields are completely separate, so we would have to look up each concrete value independently, which would be a huge performance cost.\n\nWith the solutions that @jpountz has suggested, the performance cost is obvious to the user: either you pay the price at aggregation time (with a script) or at index time (with the copy_to) field.  We'd rather make this cost obvious to the user, instead of providing functionality which performs poorly.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/52954245","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-52954245","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":52954245,"node_id":"MDEyOklzc3VlQ29tbWVudDUyOTU0MjQ1","user":{"login":"shane-axiom","id":1138892,"node_id":"MDQ6VXNlcjExMzg4OTI=","avatar_url":"https://avatars2.githubusercontent.com/u/1138892?v=4","gravatar_id":"","url":"https://api.github.com/users/shane-axiom","html_url":"https://github.com/shane-axiom","followers_url":"https://api.github.com/users/shane-axiom/followers","following_url":"https://api.github.com/users/shane-axiom/following{/other_user}","gists_url":"https://api.github.com/users/shane-axiom/gists{/gist_id}","starred_url":"https://api.github.com/users/shane-axiom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shane-axiom/subscriptions","organizations_url":"https://api.github.com/users/shane-axiom/orgs","repos_url":"https://api.github.com/users/shane-axiom/repos","events_url":"https://api.github.com/users/shane-axiom/events{/privacy}","received_events_url":"https://api.github.com/users/shane-axiom/received_events","type":"User","site_admin":false},"created_at":"2014-08-21T17:32:46Z","updated_at":"2014-08-21T17:32:46Z","author_association":"NONE","body":"That makes sense. Perhaps a section saying as much could be added to the aggregations documentation, since this was a popular request?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/53069982","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-53069982","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":53069982,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDY5OTgy","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-08-22T14:52:12Z","updated_at":"2014-08-22T14:52:12Z","author_association":"CONTRIBUTOR","body":"@shane-axiom good suggestion. Would you be interested in sending a docs PR?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/54759119","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-54759119","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":54759119,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzU5MTE5","user":{"login":"shane-axiom","id":1138892,"node_id":"MDQ6VXNlcjExMzg4OTI=","avatar_url":"https://avatars2.githubusercontent.com/u/1138892?v=4","gravatar_id":"","url":"https://api.github.com/users/shane-axiom","html_url":"https://github.com/shane-axiom","followers_url":"https://api.github.com/users/shane-axiom/followers","following_url":"https://api.github.com/users/shane-axiom/following{/other_user}","gists_url":"https://api.github.com/users/shane-axiom/gists{/gist_id}","starred_url":"https://api.github.com/users/shane-axiom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shane-axiom/subscriptions","organizations_url":"https://api.github.com/users/shane-axiom/orgs","repos_url":"https://api.github.com/users/shane-axiom/repos","events_url":"https://api.github.com/users/shane-axiom/events{/privacy}","received_events_url":"https://api.github.com/users/shane-axiom/received_events","type":"User","site_admin":false},"created_at":"2014-09-07T20:17:27Z","updated_at":"2014-09-07T20:17:27Z","author_association":"NONE","body":"Sorry @clintongormley, this was on my TODO list but haven't had any time. Thanks very much for adding this.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/59197120","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-59197120","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":59197120,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTk3MTIw","user":{"login":"jphilippe92","id":9215531,"node_id":"MDQ6VXNlcjkyMTU1MzE=","avatar_url":"https://avatars1.githubusercontent.com/u/9215531?v=4","gravatar_id":"","url":"https://api.github.com/users/jphilippe92","html_url":"https://github.com/jphilippe92","followers_url":"https://api.github.com/users/jphilippe92/followers","following_url":"https://api.github.com/users/jphilippe92/following{/other_user}","gists_url":"https://api.github.com/users/jphilippe92/gists{/gist_id}","starred_url":"https://api.github.com/users/jphilippe92/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jphilippe92/subscriptions","organizations_url":"https://api.github.com/users/jphilippe92/orgs","repos_url":"https://api.github.com/users/jphilippe92/repos","events_url":"https://api.github.com/users/jphilippe92/events{/privacy}","received_events_url":"https://api.github.com/users/jphilippe92/received_events","type":"User","site_admin":false},"created_at":"2014-10-15T12:24:36Z","updated_at":"2014-10-15T12:24:36Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/61955513","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-61955513","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":61955513,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTU1NTEz","user":{"login":"olegmorajko","id":3327638,"node_id":"MDQ6VXNlcjMzMjc2Mzg=","avatar_url":"https://avatars3.githubusercontent.com/u/3327638?v=4","gravatar_id":"","url":"https://api.github.com/users/olegmorajko","html_url":"https://github.com/olegmorajko","followers_url":"https://api.github.com/users/olegmorajko/followers","following_url":"https://api.github.com/users/olegmorajko/following{/other_user}","gists_url":"https://api.github.com/users/olegmorajko/gists{/gist_id}","starred_url":"https://api.github.com/users/olegmorajko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/olegmorajko/subscriptions","organizations_url":"https://api.github.com/users/olegmorajko/orgs","repos_url":"https://api.github.com/users/olegmorajko/repos","events_url":"https://api.github.com/users/olegmorajko/events{/privacy}","received_events_url":"https://api.github.com/users/olegmorajko/received_events","type":"User","site_admin":false},"created_at":"2014-11-06T10:08:37Z","updated_at":"2014-11-06T10:08:37Z","author_association":"NONE","body":"+1 \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/64512358","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-64512358","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":64512358,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTEyMzU4","user":{"login":"xiaohelong","id":1913153,"node_id":"MDQ6VXNlcjE5MTMxNTM=","avatar_url":"https://avatars2.githubusercontent.com/u/1913153?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaohelong","html_url":"https://github.com/xiaohelong","followers_url":"https://api.github.com/users/xiaohelong/followers","following_url":"https://api.github.com/users/xiaohelong/following{/other_user}","gists_url":"https://api.github.com/users/xiaohelong/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaohelong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaohelong/subscriptions","organizations_url":"https://api.github.com/users/xiaohelong/orgs","repos_url":"https://api.github.com/users/xiaohelong/repos","events_url":"https://api.github.com/users/xiaohelong/events{/privacy}","received_events_url":"https://api.github.com/users/xiaohelong/received_events","type":"User","site_admin":false},"created_at":"2014-11-26T04:06:31Z","updated_at":"2014-11-26T04:06:31Z","author_association":"NONE","body":"here I got what I want , if you can ,please write a book about how to query search, give more examples,now ,there is so little sample query on web .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/64529782","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-64529782","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":64529782,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTI5Nzgy","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-11-26T08:31:06Z","updated_at":"2014-11-26T08:31:06Z","author_association":"CONTRIBUTOR","body":"@xiaohelong2005 \n\n> if you can ,please write a book about how to query search, give more examples,now ,there is so little sample query on web .\n\nWe have: http://www.elasticsearch.org/guide/en/elasticsearch/guide/current/index.html\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/64665475","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-64665475","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":64665475,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NjY1NDc1","user":{"login":"xiaohelong","id":1913153,"node_id":"MDQ6VXNlcjE5MTMxNTM=","avatar_url":"https://avatars2.githubusercontent.com/u/1913153?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaohelong","html_url":"https://github.com/xiaohelong","followers_url":"https://api.github.com/users/xiaohelong/followers","following_url":"https://api.github.com/users/xiaohelong/following{/other_user}","gists_url":"https://api.github.com/users/xiaohelong/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaohelong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaohelong/subscriptions","organizations_url":"https://api.github.com/users/xiaohelong/orgs","repos_url":"https://api.github.com/users/xiaohelong/repos","events_url":"https://api.github.com/users/xiaohelong/events{/privacy}","received_events_url":"https://api.github.com/users/xiaohelong/received_events","type":"User","site_admin":false},"created_at":"2014-11-26T15:50:30Z","updated_at":"2014-11-26T15:50:30Z","author_association":"NONE","body":"@clintongormley \nhello, as a developer, the document you give help me a lot , but in my experience, the query examples are not enough to start, ES is a good software,its' aim is to provide search , in my project ,search or query 's syntax are easy to have problem,when get the example,changed based on the example,it maybe more easier to a new starter, encourage the user to have it on.\nabove all, it's only my personl suggestions and experience. I have  projects based on ES\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/78086160","html_url":"https://github.com/elastic/elasticsearch/issues/5100#issuecomment-78086160","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5100","id":78086160,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MDg2MTYw","user":{"login":"nostalgiaz","id":1184352,"node_id":"MDQ6VXNlcjExODQzNTI=","avatar_url":"https://avatars1.githubusercontent.com/u/1184352?v=4","gravatar_id":"","url":"https://api.github.com/users/nostalgiaz","html_url":"https://github.com/nostalgiaz","followers_url":"https://api.github.com/users/nostalgiaz/followers","following_url":"https://api.github.com/users/nostalgiaz/following{/other_user}","gists_url":"https://api.github.com/users/nostalgiaz/gists{/gist_id}","starred_url":"https://api.github.com/users/nostalgiaz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nostalgiaz/subscriptions","organizations_url":"https://api.github.com/users/nostalgiaz/orgs","repos_url":"https://api.github.com/users/nostalgiaz/repos","events_url":"https://api.github.com/users/nostalgiaz/events{/privacy}","received_events_url":"https://api.github.com/users/nostalgiaz/received_events","type":"User","site_admin":false},"created_at":"2015-03-10T16:06:22Z","updated_at":"2015-03-10T16:06:22Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null}]