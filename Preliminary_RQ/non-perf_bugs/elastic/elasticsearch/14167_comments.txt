[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/149908193","html_url":"https://github.com/elastic/elasticsearch/issues/14167#issuecomment-149908193","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14167","id":149908193,"node_id":"MDEyOklzc3VlQ29tbWVudDE0OTkwODE5Mw==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2015-10-21T14:11:33Z","updated_at":"2015-10-21T14:11:33Z","author_association":"CONTRIBUTOR","body":"I think we should remove this leniency.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/168058486","html_url":"https://github.com/elastic/elasticsearch/issues/14167#issuecomment-168058486","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14167","id":168058486,"node_id":"MDEyOklzc3VlQ29tbWVudDE2ODA1ODQ4Ng==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2015-12-30T19:15:24Z","updated_at":"2015-12-30T19:15:24Z","author_association":"MEMBER","body":"#15571 fixed the min should match when the number of optional clauses is smaller than the provided value. For instance you have 2 optional clauses and min should match is set to 3, in such case the query will now return 0 result. Regarding your example, min should match is ignored when there is no optional clauses so I don't think that #15571 changed anything here. I don't fully understand what you mean by \"this behaviour seemed odd\". What is the expected behaviour ? Should we translate the non optional clauses into optional ones and take the min should match into account ?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/169049448","html_url":"https://github.com/elastic/elasticsearch/issues/14167#issuecomment-169049448","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14167","id":169049448,"node_id":"MDEyOklzc3VlQ29tbWVudDE2OTA0OTQ0OA==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2016-01-05T16:22:13Z","updated_at":"2016-01-05T16:22:13Z","author_association":"MEMBER","body":"I see what you mean @jimferenczi  I think my example wasn't that representative, I had missed that with no optional clauses minimum should match gets ignored, which makes sense to me. What I cared about was that we don't override the explicitly set minimum should match depending on the number of optional clauses, otherwise could return results while it really shouldn't. I am happy, you fixed this, closing this issue.\n","performed_via_github_app":null}]