[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/36509646","html_url":"https://github.com/elastic/elasticsearch/issues/5314#issuecomment-36509646","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5314","id":36509646,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTA5NjQ2","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2014-03-03T13:29:29Z","updated_at":"2014-03-03T13:29:29Z","author_association":"MEMBER","body":"This was intentional, the query used to be the main part of the request body, but in >= 1.0 the query is now under the top level json field `query`, this was done in order to be be consistent with the search api. The `QuerySourceBuilder` encapsulates that now.\n\nIn the `DeleteByQueryRequestBuilder` you can still use the `setQuery` method, which under the hood uses the `QuerySourceBuilder` class.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/36623751","html_url":"https://github.com/elastic/elasticsearch/issues/5314#issuecomment-36623751","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5314","id":36623751,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjIzNzUx","user":{"login":"lpouget-zz","id":3713997,"node_id":"MDQ6VXNlcjM3MTM5OTc=","avatar_url":"https://avatars0.githubusercontent.com/u/3713997?v=4","gravatar_id":"","url":"https://api.github.com/users/lpouget-zz","html_url":"https://github.com/lpouget-zz","followers_url":"https://api.github.com/users/lpouget-zz/followers","following_url":"https://api.github.com/users/lpouget-zz/following{/other_user}","gists_url":"https://api.github.com/users/lpouget-zz/gists{/gist_id}","starred_url":"https://api.github.com/users/lpouget-zz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lpouget-zz/subscriptions","organizations_url":"https://api.github.com/users/lpouget-zz/orgs","repos_url":"https://api.github.com/users/lpouget-zz/repos","events_url":"https://api.github.com/users/lpouget-zz/events{/privacy}","received_events_url":"https://api.github.com/users/lpouget-zz/received_events","type":"User","site_admin":false},"created_at":"2014-03-04T13:33:58Z","updated_at":"2014-03-04T13:33:58Z","author_association":"NONE","body":"Ok so there are no more way to do this in fluent way (or I missed something ...).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/36721853","html_url":"https://github.com/elastic/elasticsearch/issues/5314#issuecomment-36721853","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5314","id":36721853,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NzIxODUz","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2014-03-05T09:00:07Z","updated_at":"2014-03-05T09:00:07Z","author_association":"MEMBER","body":"The `QuerySourceBuilder` is also fluent so you could also code in the following way:\n\n``` java\nRequests.deleteByQueryRequest(\"index\").source(new QuerySourceBuilder().setQuery(QueryBuilders.matchAllQuery()))\n```\n\nHowever you can use the `DeleteByQueryRequestBuilder` and its `setQuery` method to also code in a fluent way, which is shorter than the above since you don't need to use  `QuerySourceBuilder` in your code:\n\n``` java\nclient.prepareDeleteByQuery(\"index\").setQuery(QueryBuilders.matchAllQuery()).get();\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/36736942","html_url":"https://github.com/elastic/elasticsearch/issues/5314#issuecomment-36736942","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5314","id":36736942,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NzM2OTQy","user":{"login":"lpouget-zz","id":3713997,"node_id":"MDQ6VXNlcjM3MTM5OTc=","avatar_url":"https://avatars0.githubusercontent.com/u/3713997?v=4","gravatar_id":"","url":"https://api.github.com/users/lpouget-zz","html_url":"https://github.com/lpouget-zz","followers_url":"https://api.github.com/users/lpouget-zz/followers","following_url":"https://api.github.com/users/lpouget-zz/following{/other_user}","gists_url":"https://api.github.com/users/lpouget-zz/gists{/gist_id}","starred_url":"https://api.github.com/users/lpouget-zz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lpouget-zz/subscriptions","organizations_url":"https://api.github.com/users/lpouget-zz/orgs","repos_url":"https://api.github.com/users/lpouget-zz/repos","events_url":"https://api.github.com/users/lpouget-zz/events{/privacy}","received_events_url":"https://api.github.com/users/lpouget-zz/received_events","type":"User","site_admin":false},"created_at":"2014-03-05T12:23:10Z","updated_at":"2014-03-05T12:23:10Z","author_association":"NONE","body":"Ok thanks for your response !\n","performed_via_github_app":null}]