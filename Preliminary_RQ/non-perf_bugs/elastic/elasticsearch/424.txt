{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/424","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/424/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/424/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/424/events","html_url":"https://github.com/elastic/elasticsearch/issues/424","id":359733,"node_id":"MDU6SXNzdWUzNTk3MzM=","number":424,"title":"Query DSL: Fine grained filter caching control with sensible defaults","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"labels":[{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":49729,"node_id":"MDU6TGFiZWw0OTcyOQ==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v0.12.0","name":"v0.12.0","color":"DDDDDD","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2010-10-12T23:37:00Z","updated_at":"2010-10-12T23:37:56Z","closed_at":"2010-10-12T23:37:56Z","author_association":"MEMBER","active_lock_reason":null,"body":"A more fine grained control over filters and if they should be cached or not. Caching a filter basically means building a fast in memory lookup of doc_id -> bit (0 does not match, 1 match). For some filters, it make sense to default to cache them, and some not. All allow to change the default behavior by setting  `_cache`  to either `true` or `false`.\n\nThe following filters are cached by default: `prefix`, `term`, `terms`, `range`.\n\nThe following filters are not cached by default: `and`, `bool`, `fquery`, `geo_bounding_box`, `geo_distance`, `geo_polygon`, `not`, `or`, `script`.\n\nThe ones that are not cached are already either fast since they work against cached field data, or the chances of executing the same filter are low enough that it does not make sense to default it.\n\nThere are cases though where it does make sense to cache it. For example, executing a common filter for distance from a certain point should enable caching.\n","closed_by":null,"performed_via_github_app":null}