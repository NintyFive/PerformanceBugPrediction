{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/20277","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20277/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20277/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20277/events","html_url":"https://github.com/elastic/elasticsearch/issues/20277","id":174464909,"node_id":"MDU6SXNzdWUxNzQ0NjQ5MDk=","number":20277,"title":"How do I get max of all the selected records in function score","user":{"login":"mahehss","id":9798514,"node_id":"MDQ6VXNlcjk3OTg1MTQ=","avatar_url":"https://avatars3.githubusercontent.com/u/9798514?v=4","gravatar_id":"","url":"https://api.github.com/users/mahehss","html_url":"https://github.com/mahehss","followers_url":"https://api.github.com/users/mahehss/followers","following_url":"https://api.github.com/users/mahehss/following{/other_user}","gists_url":"https://api.github.com/users/mahehss/gists{/gist_id}","starred_url":"https://api.github.com/users/mahehss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mahehss/subscriptions","organizations_url":"https://api.github.com/users/mahehss/orgs","repos_url":"https://api.github.com/users/mahehss/repos","events_url":"https://api.github.com/users/mahehss/events{/privacy}","received_events_url":"https://api.github.com/users/mahehss/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-09-01T08:27:07Z","updated_at":"2016-09-02T12:59:02Z","closed_at":"2016-09-02T12:59:02Z","author_association":"NONE","active_lock_reason":null,"body":"I wanted to use gauss function like below to change the relevance algo.\n\n\"gauss\": {\n            \"price\": { \n              \"origin\": \"50\", \n              \"offset\": \"50\",\n              \"scale\":  \"20\"\n            }\n          },\n          \"weight\": 2 \n\nMy problem is that prices of the products varies significantly so I am not able to use any fixed origin(\ne.g. lets say that prices of the products vary from 0 to 100000 but after applying filters the filtered products have prices ranging between 100 to 5000 all of them get a zero score if I use 100000 as the origin.)\nIs there a way I can get a relative value gauss curve(i.e. it looks at the values available after all the filters being applied and form gauss curve based on percent distribution of the values. in the above example origin should be 5000 and offset is 100 and scale is 100 where as if my result set consists of products having prices 100000 to 80,000  it should set origin to 100000 and scale and offset accordingly so that I get proper distribution)\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}