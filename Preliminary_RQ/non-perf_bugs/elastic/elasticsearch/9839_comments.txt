[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/75708967","html_url":"https://github.com/elastic/elasticsearch/issues/9839#issuecomment-75708967","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9839","id":75708967,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NzA4OTY3","user":{"login":"markwalkom","id":3184718,"node_id":"MDQ6VXNlcjMxODQ3MTg=","avatar_url":"https://avatars0.githubusercontent.com/u/3184718?v=4","gravatar_id":"","url":"https://api.github.com/users/markwalkom","html_url":"https://github.com/markwalkom","followers_url":"https://api.github.com/users/markwalkom/followers","following_url":"https://api.github.com/users/markwalkom/following{/other_user}","gists_url":"https://api.github.com/users/markwalkom/gists{/gist_id}","starred_url":"https://api.github.com/users/markwalkom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markwalkom/subscriptions","organizations_url":"https://api.github.com/users/markwalkom/orgs","repos_url":"https://api.github.com/users/markwalkom/repos","events_url":"https://api.github.com/users/markwalkom/events{/privacy}","received_events_url":"https://api.github.com/users/markwalkom/received_events","type":"User","site_admin":false},"created_at":"2015-02-24T07:02:01Z","updated_at":"2015-02-24T07:02:01Z","author_association":"MEMBER","body":"Simply reindex the document, it will then update it. See http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/docs-index_.html\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/75710926","html_url":"https://github.com/elastic/elasticsearch/issues/9839#issuecomment-75710926","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9839","id":75710926,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NzEwOTI2","user":{"login":"Praveen82","id":11171859,"node_id":"MDQ6VXNlcjExMTcxODU5","avatar_url":"https://avatars3.githubusercontent.com/u/11171859?v=4","gravatar_id":"","url":"https://api.github.com/users/Praveen82","html_url":"https://github.com/Praveen82","followers_url":"https://api.github.com/users/Praveen82/followers","following_url":"https://api.github.com/users/Praveen82/following{/other_user}","gists_url":"https://api.github.com/users/Praveen82/gists{/gist_id}","starred_url":"https://api.github.com/users/Praveen82/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Praveen82/subscriptions","organizations_url":"https://api.github.com/users/Praveen82/orgs","repos_url":"https://api.github.com/users/Praveen82/repos","events_url":"https://api.github.com/users/Praveen82/events{/privacy}","received_events_url":"https://api.github.com/users/Praveen82/received_events","type":"User","site_admin":false},"created_at":"2015-02-24T07:26:41Z","updated_at":"2015-02-24T07:26:41Z","author_association":"NONE","body":"Hi Markwalkom,\n\n  ReIndex the document is overwriting/update the old values to new values.\nI mean,I could see  the following json  after reindexing or calling update and upsert api's.\n\n{\n\"id\": 1,\n\"name\": \"A green door\",\n\"price\": 12.50,\n\"tags\": [\"yellow\"]\n}\n\nIn the output json, I have lost my old values from array tag\n \"tags\": [\"home\", \"green\"]\n\nJava Api's to update the exist doc or create new document if not exit.\n\nIndexRequest indexRequest = new IndexRequest(\"user\", \"test\",\"1\")\n            .source(builder);\n            UpdateRequest updateRequest = new UpdateRequest(\"user\", \"test\",\"1\")\n            .doc(builder)\n            .upsert(indexRequest);  \n            client.update(updateRequest).get();\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/75712867","html_url":"https://github.com/elastic/elasticsearch/issues/9839#issuecomment-75712867","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9839","id":75712867,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NzEyODY3","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2015-02-24T07:48:49Z","updated_at":"2015-02-24T07:48:49Z","author_association":"MEMBER","body":"This is exactly what is happening behind the scene. Update API get the previous doc, merge values, index the full new doc.\n\nBTW please ask questions on the mailing list. This space is for issues or feature requests.\n","performed_via_github_app":null}]