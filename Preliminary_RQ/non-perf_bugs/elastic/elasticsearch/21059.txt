{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/21059","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21059/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21059/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21059/events","html_url":"https://github.com/elastic/elasticsearch/issues/21059","id":184437130,"node_id":"MDU6SXNzdWUxODQ0MzcxMzA=","number":21059,"title":"Elasticsearch runs out of heap space after running ~1 week","user":{"login":"jbstrm","id":16323249,"node_id":"MDQ6VXNlcjE2MzIzMjQ5","avatar_url":"https://avatars0.githubusercontent.com/u/16323249?v=4","gravatar_id":"","url":"https://api.github.com/users/jbstrm","html_url":"https://github.com/jbstrm","followers_url":"https://api.github.com/users/jbstrm/followers","following_url":"https://api.github.com/users/jbstrm/following{/other_user}","gists_url":"https://api.github.com/users/jbstrm/gists{/gist_id}","starred_url":"https://api.github.com/users/jbstrm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbstrm/subscriptions","organizations_url":"https://api.github.com/users/jbstrm/orgs","repos_url":"https://api.github.com/users/jbstrm/repos","events_url":"https://api.github.com/users/jbstrm/events{/privacy}","received_events_url":"https://api.github.com/users/jbstrm/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-10-21T09:14:54Z","updated_at":"2016-10-21T09:16:41Z","closed_at":"2016-10-21T09:16:33Z","author_association":"NONE","active_lock_reason":null,"body":"We're running Elasticsearch 2.3.2 (and Kibana 4.5.0) on an Azure Virtual Machine with Windows Server 2012 R2 and 14 MB RAM (2 core cpu). Java version 8.0.910.14. head plugin is also installed.\n\nWe have a problem with used heap size, while fluctuating a bit, slowly increases until it reaches 99% and staying there constantly. It warns about GC (old) taking about 12 seconds to finish. Then it crashes with a java.lang.OutOfMemoryError: Java heap space. This takes about a week to ten days.\n\nbootstrap.mlockall is set to true in elasticsearch.yml config.\n\nElasticsearch service manager Java Options:\n-XX:+UseParNewGC\n-Xms4096m\n-Xmx4096m\n-Djava.awt.headless=true\n-XX:+UseCMSInitiatingOccupancyOnly\n-XX:+HeapDumpOnOutOfMemoryError\n-XX:+DisableExplicitGC\n-Dfile.encoding=UTF-8\n-Djna.nosys=true\n-Delasticsearch\n\nInitial memory pool: 4096 MB\nMaximum memory pool_ 4096 MB\nThread stack size: 256 KB\n\nAny ideas?\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}