[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/292338740","html_url":"https://github.com/elastic/elasticsearch/issues/23955#issuecomment-292338740","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23955","id":292338740,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjMzODc0MA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-04-06T22:09:13Z","updated_at":"2017-04-06T22:09:13Z","author_association":"MEMBER","body":"There's nowhere near enough information to reproduce this. Also, please remove Search Guard and see if the issue still reproduces as we will want a minimal reproduction anyway.\r\n\r\nSince Elastic prefers to use GitHub only for verified bug reports and feature requests, I'm going to close this issue. If you need help digging through this, you can try the [forum](https://discuss.elastic.co).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/292458423","html_url":"https://github.com/elastic/elasticsearch/issues/23955#issuecomment-292458423","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23955","id":292458423,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjQ1ODQyMw==","user":{"login":"floragunn","id":11678154,"node_id":"MDQ6VXNlcjExNjc4MTU0","avatar_url":"https://avatars3.githubusercontent.com/u/11678154?v=4","gravatar_id":"","url":"https://api.github.com/users/floragunn","html_url":"https://github.com/floragunn","followers_url":"https://api.github.com/users/floragunn/followers","following_url":"https://api.github.com/users/floragunn/following{/other_user}","gists_url":"https://api.github.com/users/floragunn/gists{/gist_id}","starred_url":"https://api.github.com/users/floragunn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/floragunn/subscriptions","organizations_url":"https://api.github.com/users/floragunn/orgs","repos_url":"https://api.github.com/users/floragunn/repos","events_url":"https://api.github.com/users/floragunn/events{/privacy}","received_events_url":"https://api.github.com/users/floragunn/received_events","type":"User","site_admin":false},"created_at":"2017-04-07T07:03:50Z","updated_at":"2017-04-07T07:03:50Z","author_association":"NONE","body":"java.lang.StackOverflowError within java.util.regex.Pattern in bulk thread, this indeed looks like a bug (either in ES or in Search Guard)\r\n\r\n<pre>[2017-04-06T20:10:15,489][ERROR][o.e.b.ElasticsearchUncaughtExceptionHandler] [] fatal error in thread [elasticsearch[MkZ0lPb][bulk][T#1]], exiting\r\njava.lang.StackOverflowError: null\r\n\tat java.util.regex.Pattern$GroupHead.match(Pattern.java:4658) ~[?:1.8.0_121]\r\n\tat java.util.regex.Pattern$Loop.match(Pattern.java:4785) ~[?:1.8.0_121]\r\n\tat java.util.regex.Pattern$GroupTail.match(Pattern.java:4717) ~[?:1.8.0_121]\r\n\tat java.util.regex.Pattern$BranchConn.match(Pattern.java:4568) ~[?:1.8.0_121]\r\n\tat java.util.regex.Pattern$CharProperty.match(Pattern.java:3777) ~[?:1.8.0_121]\r\n\tat java.util.regex.Pattern$Branch.match(Pattern.java:4604) ~[?:1.8.0_121]\r\n\tat java.util.regex.Pattern$GroupHead.match(Pattern.java:4658) ~[?:1.8.0_121]\r\n\tat java.util.regex.Pattern$Loop.match(Pattern.java:4785) ~[?:1.8.0_121]\r\n\tat java.util.regex.Pattern$GroupTail.match(Pattern.java:4717) ~[?:1.8.0_121]\r\n\tat java.util.regex.Pattern$BranchConn.match(Pattern.java:4568) ~[?:1.8.0_121]\r\n\tat java.util.regex.Pattern$CharProperty.match(Pattern.java:3777) ~[?:1.8.0_121]\r\n\tat java.util.regex.Pattern$Branch.match(Pattern.java:4604) ~[?:1.8.0_121]\r\n\tat java.util.regex.Pattern$GroupHead.match(Pattern.java:4658) ~[?:1.8.0_121]</pre>\r\n\r\nMaybe related to https://github.com/elastic/elasticsearch/pull/22812","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/292484962","html_url":"https://github.com/elastic/elasticsearch/issues/23955#issuecomment-292484962","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23955","id":292484962,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjQ4NDk2Mg==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2017-04-07T09:14:13Z","updated_at":"2017-04-07T09:14:13Z","author_association":"MEMBER","body":">  this indeed looks like a bug (either in ES or in Search Guard)\r\n\r\n@floragunncom without a clear reproducible case we can't help you. \r\nAs @jasontedor suggested check first if disabling SearchGuard eliminates the problem.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/297587541","html_url":"https://github.com/elastic/elasticsearch/issues/23955#issuecomment-297587541","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23955","id":297587541,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NzU4NzU0MQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-04-27T01:40:12Z","updated_at":"2017-04-27T01:40:12Z","author_association":"MEMBER","body":"I have a hunch what caused this. I think it's due to excessive backtracking from the regular expression used to extract warning values when de-duplicating warning headers and this was addressed by #24114. If you upgrade to 5.3.1, you should see this issue is fixed (if not, then it means you're experiencing a different issue).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/298055615","html_url":"https://github.com/elastic/elasticsearch/issues/23955#issuecomment-298055615","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23955","id":298055615,"node_id":"MDEyOklzc3VlQ29tbWVudDI5ODA1NTYxNQ==","user":{"login":"floragunn","id":11678154,"node_id":"MDQ6VXNlcjExNjc4MTU0","avatar_url":"https://avatars3.githubusercontent.com/u/11678154?v=4","gravatar_id":"","url":"https://api.github.com/users/floragunn","html_url":"https://github.com/floragunn","followers_url":"https://api.github.com/users/floragunn/followers","following_url":"https://api.github.com/users/floragunn/following{/other_user}","gists_url":"https://api.github.com/users/floragunn/gists{/gist_id}","starred_url":"https://api.github.com/users/floragunn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/floragunn/subscriptions","organizations_url":"https://api.github.com/users/floragunn/orgs","repos_url":"https://api.github.com/users/floragunn/repos","events_url":"https://api.github.com/users/floragunn/events{/privacy}","received_events_url":"https://api.github.com/users/floragunn/received_events","type":"User","site_admin":false},"created_at":"2017-04-28T17:16:05Z","updated_at":"2017-04-28T17:16:05Z","author_association":"NONE","body":"I came up with that idea three weeks ago ;-)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/298056013","html_url":"https://github.com/elastic/elasticsearch/issues/23955#issuecomment-298056013","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23955","id":298056013,"node_id":"MDEyOklzc3VlQ29tbWVudDI5ODA1NjAxMw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-04-28T17:17:57Z","updated_at":"2017-04-28T17:17:57Z","author_association":"MEMBER","body":"I don't understand what you're saying? The logs clearly have a stack overflow, the issue was where they were coming from, not that there was a stack overflow?","performed_via_github_app":null}]