[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/182279458","html_url":"https://github.com/elastic/elasticsearch/issues/16406#issuecomment-182279458","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16406","id":182279458,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MjI3OTQ1OA==","user":{"login":"schmorgs","id":5444727,"node_id":"MDQ6VXNlcjU0NDQ3Mjc=","avatar_url":"https://avatars0.githubusercontent.com/u/5444727?v=4","gravatar_id":"","url":"https://api.github.com/users/schmorgs","html_url":"https://github.com/schmorgs","followers_url":"https://api.github.com/users/schmorgs/followers","following_url":"https://api.github.com/users/schmorgs/following{/other_user}","gists_url":"https://api.github.com/users/schmorgs/gists{/gist_id}","starred_url":"https://api.github.com/users/schmorgs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schmorgs/subscriptions","organizations_url":"https://api.github.com/users/schmorgs/orgs","repos_url":"https://api.github.com/users/schmorgs/repos","events_url":"https://api.github.com/users/schmorgs/events{/privacy}","received_events_url":"https://api.github.com/users/schmorgs/received_events","type":"User","site_admin":false},"created_at":"2016-02-10T09:40:06Z","updated_at":"2016-02-10T09:50:50Z","author_association":"NONE","body":"Hi, I have the exact same problem.  Settings worked in 2.1.0 but broke in 2.2.0\n\nI tried your suggestion but in my case, I only want ES to listen on loopback as we have it behind a reverse proxy.  When I add both interfaces to network.host, it means the port is open externally as well.\n\nIf I then override network.bind_host to 127.0.0.1 only, it breaks the cluster again.\n\nThis breaks : \n\n```\nnetwork.host: [\"127.0.0.1\",\"1.2.3.4\"]\nnetwork.publish_host: [\"1.2.3.4\"]\ntransport.bind_host: 1.2.3.4\nnetwork.bind_host: 127.0.0.1\nhttp.port: 9200\n```\n\nThis works but means ES listens on external interface which is less secure (in our case) : \n\n```\nnetwork.host: [\"127.0.0.1\",\"1.2.3.4\"]\nnetwork.publish_host: [\"1.2.3.4\"]\ntransport.bind_host: 1.2.3.4\n\nhttp.port: 9200\n```\n\nLooks like this change is the reason : https://github.com/elastic/elasticsearch/pull/13954 \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/183718817","html_url":"https://github.com/elastic/elasticsearch/issues/16406#issuecomment-183718817","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16406","id":183718817,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MzcxODgxNw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-02-13T18:31:35Z","updated_at":"2016-02-13T18:31:35Z","author_association":"CONTRIBUTOR","body":"Hi @jlecour \n\nThe breaking change is documented in the breaking changes list: https://www.elastic.co/guide/en/elasticsearch/reference/2.2/breaking_20_network_changes.html and the network setup docs have been greatly improved here: https://www.elastic.co/guide/en/elasticsearch/reference/2.2/modules-network.html#advanced-network-settings\n\nWhat do you think is still missing?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/183718889","html_url":"https://github.com/elastic/elasticsearch/issues/16406#issuecomment-183718889","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16406","id":183718889,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MzcxODg4OQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-02-13T18:32:19Z","updated_at":"2016-02-13T18:32:19Z","author_association":"CONTRIBUTOR","body":"@schmorgs you seem to have misunderstood these settings (if i understand you correctly).  If Elasticsearch binds only to localhost, then it is unable to communicate with nodes on other servers.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/183746939","html_url":"https://github.com/elastic/elasticsearch/issues/16406#issuecomment-183746939","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16406","id":183746939,"node_id":"MDEyOklzc3VlQ29tbWVudDE4Mzc0NjkzOQ==","user":{"login":"schmorgs","id":5444727,"node_id":"MDQ6VXNlcjU0NDQ3Mjc=","avatar_url":"https://avatars0.githubusercontent.com/u/5444727?v=4","gravatar_id":"","url":"https://api.github.com/users/schmorgs","html_url":"https://github.com/schmorgs","followers_url":"https://api.github.com/users/schmorgs/followers","following_url":"https://api.github.com/users/schmorgs/following{/other_user}","gists_url":"https://api.github.com/users/schmorgs/gists{/gist_id}","starred_url":"https://api.github.com/users/schmorgs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schmorgs/subscriptions","organizations_url":"https://api.github.com/users/schmorgs/orgs","repos_url":"https://api.github.com/users/schmorgs/repos","events_url":"https://api.github.com/users/schmorgs/events{/privacy}","received_events_url":"https://api.github.com/users/schmorgs/received_events","type":"User","site_admin":false},"created_at":"2016-02-13T20:15:55Z","updated_at":"2016-02-13T20:15:55Z","author_association":"NONE","body":"Maybe I have, but the intention is that ES will only listen on loopback for incoming http requests. I then then sit ES:9200 behind a reverse proxy to control incoming access.\nIn 2.1.0 it worked as desired but in 2.2.0 won't start up. I've been given a potential solution elsewhere which is to set http.publish_host and I haven't tried that yet but will update if it works\n\nTrevor\n\nOn 13 Feb 2016, 18:34 +0000, Clinton Gormleynotifications@github.com, wrote:\n\n> @schmorgs(https://github.com/schmorgs)you seem to have misunderstood these settings (if i understand you correctly). If Elasticsearch binds only to localhost, then it is unable to communicate with nodes on other servers.\n> \n> â€”\n> Reply to this email directly orview it on GitHub(https://github.com/elastic/elasticsearch/issues/16406#issuecomment-183718889).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/183752561","html_url":"https://github.com/elastic/elasticsearch/issues/16406#issuecomment-183752561","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16406","id":183752561,"node_id":"MDEyOklzc3VlQ29tbWVudDE4Mzc1MjU2MQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-02-13T20:41:54Z","updated_at":"2016-02-13T20:41:54Z","author_association":"CONTRIBUTOR","body":"@schmorgs in which case you want to set `http.host`: https://www.elastic.co/guide/en/elasticsearch/reference/2.2/modules-http.html\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/190729384","html_url":"https://github.com/elastic/elasticsearch/issues/16406#issuecomment-190729384","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16406","id":190729384,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MDcyOTM4NA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-03-01T13:46:21Z","updated_at":"2016-03-01T13:46:21Z","author_association":"CONTRIBUTOR","body":"No further feedback. Closing\n","performed_via_github_app":null}]