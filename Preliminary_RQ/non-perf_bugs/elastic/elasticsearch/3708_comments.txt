[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/24523502","html_url":"https://github.com/elastic/elasticsearch/issues/3708#issuecomment-24523502","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3708","id":24523502,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTIzNTAy","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2013-09-16T16:25:39Z","updated_at":"2013-09-16T16:25:39Z","author_association":"MEMBER","body":"@synhershko Can you make a gist for this issue? (with your mapping mapping and a sample doc)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/24525478","html_url":"https://github.com/elastic/elasticsearch/issues/3708#issuecomment-24525478","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3708","id":24525478,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTI1NDc4","user":{"login":"synhershko","id":212252,"node_id":"MDQ6VXNlcjIxMjI1Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/212252?v=4","gravatar_id":"","url":"https://api.github.com/users/synhershko","html_url":"https://github.com/synhershko","followers_url":"https://api.github.com/users/synhershko/followers","following_url":"https://api.github.com/users/synhershko/following{/other_user}","gists_url":"https://api.github.com/users/synhershko/gists{/gist_id}","starred_url":"https://api.github.com/users/synhershko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/synhershko/subscriptions","organizations_url":"https://api.github.com/users/synhershko/orgs","repos_url":"https://api.github.com/users/synhershko/repos","events_url":"https://api.github.com/users/synhershko/events{/privacy}","received_events_url":"https://api.github.com/users/synhershko/received_events","type":"User","site_admin":false},"created_at":"2013-09-16T16:51:28Z","updated_at":"2013-09-16T16:51:28Z","author_association":"CONTRIBUTOR","body":"https://gist.github.com/synhershko/2bb415462761ca9ecb37\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/24529204","html_url":"https://github.com/elastic/elasticsearch/issues/3708#issuecomment-24529204","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3708","id":24529204,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTI5MjA0","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2013-09-16T17:43:22Z","updated_at":"2013-09-16T17:43:22Z","author_association":"MEMBER","body":"I wonder why you use the per field analyzer, and not just have the hebrew analyzer registered, and then configure it on the mappings?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/24529497","html_url":"https://github.com/elastic/elasticsearch/issues/3708#issuecomment-24529497","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3708","id":24529497,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTI5NDk3","user":{"login":"synhershko","id":212252,"node_id":"MDQ6VXNlcjIxMjI1Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/212252?v=4","gravatar_id":"","url":"https://api.github.com/users/synhershko","html_url":"https://github.com/synhershko","followers_url":"https://api.github.com/users/synhershko/followers","following_url":"https://api.github.com/users/synhershko/following{/other_user}","gists_url":"https://api.github.com/users/synhershko/gists{/gist_id}","starred_url":"https://api.github.com/users/synhershko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/synhershko/subscriptions","organizations_url":"https://api.github.com/users/synhershko/orgs","repos_url":"https://api.github.com/users/synhershko/repos","events_url":"https://api.github.com/users/synhershko/events{/privacy}","received_events_url":"https://api.github.com/users/synhershko/received_events","type":"User","site_admin":false},"created_at":"2013-09-16T17:46:44Z","updated_at":"2013-09-16T17:46:44Z","author_association":"CONTRIBUTOR","body":"Because the document may be in another language - we use the _analyzer field when indexing after determining the document language, and the query language is defined by the user.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/24584901","html_url":"https://github.com/elastic/elasticsearch/issues/3708#issuecomment-24584901","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3708","id":24584901,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTg0OTAx","user":{"login":"synhershko","id":212252,"node_id":"MDQ6VXNlcjIxMjI1Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/212252?v=4","gravatar_id":"","url":"https://api.github.com/users/synhershko","html_url":"https://github.com/synhershko","followers_url":"https://api.github.com/users/synhershko/followers","following_url":"https://api.github.com/users/synhershko/following{/other_user}","gists_url":"https://api.github.com/users/synhershko/gists{/gist_id}","starred_url":"https://api.github.com/users/synhershko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/synhershko/subscriptions","organizations_url":"https://api.github.com/users/synhershko/orgs","repos_url":"https://api.github.com/users/synhershko/repos","events_url":"https://api.github.com/users/synhershko/events{/privacy}","received_events_url":"https://api.github.com/users/synhershko/received_events","type":"User","site_admin":false},"created_at":"2013-09-17T12:45:04Z","updated_at":"2013-09-17T12:45:04Z","author_association":"CONTRIBUTOR","body":"@martijnvg I was able to reproduce this in a vanilla project - see https://dl.dropboxusercontent.com/u/9218365/ElasticSearchBug.tar.gz\n\nI did mvn install -DskipTests after updating elasticsearch-test locally to use 0.90.4, you might need to do that as well.\n\nUsing 0.90.4, if you put a breakpoint in IndexQueryParserService.java:282 you will see the parent_forum field is being tokenized - while it definitely shouldn't according to both the index definition AND the defined analyzer behavior.\n\nThere is one query that does work - query1. The only difference is in the order of the clauses. And if it is being executed before the failing_query it will make that query pass. This is another reason why I suspect this to be a caching issue.\n\nWill be happy to help nailing this down further.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/24671089","html_url":"https://github.com/elastic/elasticsearch/issues/3708#issuecomment-24671089","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3708","id":24671089,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjcxMDg5","user":{"login":"synhershko","id":212252,"node_id":"MDQ6VXNlcjIxMjI1Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/212252?v=4","gravatar_id":"","url":"https://api.github.com/users/synhershko","html_url":"https://github.com/synhershko","followers_url":"https://api.github.com/users/synhershko/followers","following_url":"https://api.github.com/users/synhershko/following{/other_user}","gists_url":"https://api.github.com/users/synhershko/gists{/gist_id}","starred_url":"https://api.github.com/users/synhershko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/synhershko/subscriptions","organizations_url":"https://api.github.com/users/synhershko/orgs","repos_url":"https://api.github.com/users/synhershko/repos","events_url":"https://api.github.com/users/synhershko/events{/privacy}","received_events_url":"https://api.github.com/users/synhershko/received_events","type":"User","site_admin":false},"created_at":"2013-09-18T15:02:41Z","updated_at":"2013-09-18T15:02:41Z","author_association":"CONTRIBUTOR","body":"FWIW, this seems to work fine with 0.90.0. I'll try to bisect this further - if you could refactor this into a an ES test I'll be happy to git bisect this all the way to the faulty commit.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/25079425","html_url":"https://github.com/elastic/elasticsearch/issues/3708#issuecomment-25079425","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3708","id":25079425,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MDc5NDI1","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2013-09-25T11:41:42Z","updated_at":"2013-09-25T11:41:42Z","author_association":"MEMBER","body":"I found the problem, it relates to the fact that NamedAnalyzer uses global reuse strategy, and the per field analyzer that the custom plugin returns actually needs the per field one. This has been addressed in Lucene, and will be fixed when upgradign to 4.5. Once 4.5 is out, we need to fix it on our end as well, see: c282a3784ef728d564397745d2531f05c7faec41.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46918572","html_url":"https://github.com/elastic/elasticsearch/issues/3708#issuecomment-46918572","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3708","id":46918572,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTE4NTcy","user":{"login":"synhershko","id":212252,"node_id":"MDQ6VXNlcjIxMjI1Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/212252?v=4","gravatar_id":"","url":"https://api.github.com/users/synhershko","html_url":"https://github.com/synhershko","followers_url":"https://api.github.com/users/synhershko/followers","following_url":"https://api.github.com/users/synhershko/following{/other_user}","gists_url":"https://api.github.com/users/synhershko/gists{/gist_id}","starred_url":"https://api.github.com/users/synhershko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/synhershko/subscriptions","organizations_url":"https://api.github.com/users/synhershko/orgs","repos_url":"https://api.github.com/users/synhershko/repos","events_url":"https://api.github.com/users/synhershko/events{/privacy}","received_events_url":"https://api.github.com/users/synhershko/received_events","type":"User","site_admin":false},"created_at":"2014-06-24T00:20:53Z","updated_at":"2014-06-24T00:20:53Z","author_association":"CONTRIBUTOR","body":"@kimchy @s1monw can this be safely closed now?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46957138","html_url":"https://github.com/elastic/elasticsearch/issues/3708#issuecomment-46957138","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3708","id":46957138,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTU3MTM4","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2014-06-24T10:52:16Z","updated_at":"2014-06-24T10:52:16Z","author_association":"MEMBER","body":"@synhershko yes, I think so.\n","performed_via_github_app":null}]