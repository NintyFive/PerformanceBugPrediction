[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/239321138","html_url":"https://github.com/elastic/elasticsearch/issues/19967#issuecomment-239321138","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19967","id":239321138,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTMyMTEzOA==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2016-08-11T23:12:44Z","updated_at":"2016-08-11T23:12:44Z","author_association":"MEMBER","body":"Do you have multiple nodes and you unmount the share only on some of them?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/239329122","html_url":"https://github.com/elastic/elasticsearch/issues/19967#issuecomment-239329122","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19967","id":239329122,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTMyOTEyMg==","user":{"login":"karthikrmit","id":20979592,"node_id":"MDQ6VXNlcjIwOTc5NTky","avatar_url":"https://avatars0.githubusercontent.com/u/20979592?v=4","gravatar_id":"","url":"https://api.github.com/users/karthikrmit","html_url":"https://github.com/karthikrmit","followers_url":"https://api.github.com/users/karthikrmit/followers","following_url":"https://api.github.com/users/karthikrmit/following{/other_user}","gists_url":"https://api.github.com/users/karthikrmit/gists{/gist_id}","starred_url":"https://api.github.com/users/karthikrmit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karthikrmit/subscriptions","organizations_url":"https://api.github.com/users/karthikrmit/orgs","repos_url":"https://api.github.com/users/karthikrmit/repos","events_url":"https://api.github.com/users/karthikrmit/events{/privacy}","received_events_url":"https://api.github.com/users/karthikrmit/received_events","type":"User","site_admin":false},"created_at":"2016-08-12T00:02:41Z","updated_at":"2016-08-12T00:02:41Z","author_association":"NONE","body":"yes, I do have 3 nodes and I unmount only on the one I am executing the snapshot creation.\nThe same is not true for restoring a snapshot 'I suppose'. i.e even if one of the nodes has the share mounted, we can restore the snapshot on a different node where the share is unmounted.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/239337525","html_url":"https://github.com/elastic/elasticsearch/issues/19967#issuecomment-239337525","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19967","id":239337525,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTMzNzUyNQ==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2016-08-12T01:05:52Z","updated_at":"2016-08-12T01:05:52Z","author_association":"MEMBER","body":"> I unmount only on the one I am executing the snapshot creation\n\nThe snapshot command is always executed on the master node and data nodes that contain the primary shards for the indices that you are snapshotting. The node that you send the snapshot command to may be not involved in the snapshot operation at all if it doesn't contain any primary shards. However, it looks like in your case it contains some of the primary shards and these shards fail to snapshot. The PARTIAL status that you get back basically means that at least one shard wasn't successfully snapshotted, but the master node was able to access the repository. We [don't have](#18978) a special status code for 'PARTIAL' responses at the moment, so you need to check the snapshot status before making the decision about deleting the indices.\n\n> If the same is attempted with '-d' option which is to delete the indices after snapshot, we end up with a partial snapshot and also losing original indices.\n\nCould you elaborate on this? I am not sure what you mean by '-d' option. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/239534761","html_url":"https://github.com/elastic/elasticsearch/issues/19967#issuecomment-239534761","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19967","id":239534761,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTUzNDc2MQ==","user":{"login":"karthikrmit","id":20979592,"node_id":"MDQ6VXNlcjIwOTc5NTky","avatar_url":"https://avatars0.githubusercontent.com/u/20979592?v=4","gravatar_id":"","url":"https://api.github.com/users/karthikrmit","html_url":"https://github.com/karthikrmit","followers_url":"https://api.github.com/users/karthikrmit/followers","following_url":"https://api.github.com/users/karthikrmit/following{/other_user}","gists_url":"https://api.github.com/users/karthikrmit/gists{/gist_id}","starred_url":"https://api.github.com/users/karthikrmit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karthikrmit/subscriptions","organizations_url":"https://api.github.com/users/karthikrmit/orgs","repos_url":"https://api.github.com/users/karthikrmit/repos","events_url":"https://api.github.com/users/karthikrmit/events{/privacy}","received_events_url":"https://api.github.com/users/karthikrmit/received_events","type":"User","site_admin":false},"created_at":"2016-08-12T19:10:51Z","updated_at":"2016-08-12T19:10:51Z","author_association":"NONE","body":"thanks for the clarification. And sorry about the '-d', my bad, it is something that I am using in my script. Will make necessary changes.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/239590009","html_url":"https://github.com/elastic/elasticsearch/issues/19967#issuecomment-239590009","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19967","id":239590009,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTU5MDAwOQ==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2016-08-13T00:32:45Z","updated_at":"2016-08-13T00:32:45Z","author_association":"MEMBER","body":"Cool. I am going to close this issue then. If you have any further questions, please don't hesitate to ask them on our discussion forum https://discuss.elastic.co/. \n","performed_via_github_app":null}]