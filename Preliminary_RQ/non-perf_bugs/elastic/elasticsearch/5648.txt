{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/5648","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5648/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5648/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5648/events","html_url":"https://github.com/elastic/elasticsearch/issues/5648","id":30610403,"node_id":"MDU6SXNzdWUzMDYxMDQwMw==","number":5648,"title":"Make customizing analyzers simpler","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":14,"created_at":"2014-04-01T15:39:38Z","updated_at":"2014-06-10T13:06:06Z","closed_at":"2014-06-10T13:06:06Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"I've edited this issue so some of the comments may not make sense.  The edited description is below with the original after it.\n\nRight now if you want to customize a builtin analyzer beyond a certain point you have to dig into Elasticsearch and Lucene source code to figure out how to rebuild it as a custom analyzer.  From there you can customize it but this is error prone.  I propose:\n\nCreate an endpoint that returns the json required to build any builtin analyzer as a custom analyzer.  Users could hit the endpoint and then manually customize the returned json or let code do the customizing.  Either way they have the confidence that the only changes being made are the ones they intend to make. \n\nBefore edit for posterity:\n\nRight now if you want to customize an analyzer you have to dig into Elasticsearch and Lucene source code to figure out what json you'd have to send Elasticsearch to build it.  Then you have to customize the json.  I propose:\n\nCreate an endpoint that returns the json required to build the analyzer as a custom analyzer.  The application could hit that endpoint, parse the json, add what it needs, and then send it back when creating analyzer.\n\nI like making an endpoint because it should be pretty simple to test if not simple to implement.  You could spin up both the \"custom\" version of the analyzer that the endpoint would return and the normal version then bang random and non-random strings against them.\n\nI prefer this option over some kind of hack on top of the analyzer configuration that allows users to add filters \"in between\" those that are already in the language analyzer because that sounds harder to work with and harder to test.  Giving the users the json ultimately gives them more power.\n\nI'm happy to work on this if folks think it is the right way to go.\n","closed_by":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"performed_via_github_app":null}