[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/277548171","html_url":"https://github.com/elastic/elasticsearch/issues/22986#issuecomment-277548171","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22986","id":277548171,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NzU0ODE3MQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2017-02-05T20:50:45Z","updated_at":"2017-02-05T20:50:45Z","author_association":"CONTRIBUTOR","body":"Bleh. Looks like we shouldn't use comma, yeah. [This](http://stackoverflow.com/questions/3096888/standard-for-adding-multiple-values-of-a-single-http-header-to-a-request-or-resp) SO question has some fun discussion about it. It looks like a lot of standard headers contain `,` and can't be merged, but well behaved headers don't contain `,`. It links to [this](https://github.com/bnoordhuis/mozilla-central/blob/master/netwerk/protocol/http/nsHttpHeaderArray.h#L185) (MPLed) code that shows how a browser does it....","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/280652231","html_url":"https://github.com/elastic/elasticsearch/issues/22986#issuecomment-280652231","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22986","id":280652231,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDY1MjIzMQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-02-17T13:41:46Z","updated_at":"2017-02-17T13:41:46Z","author_association":"MEMBER","body":"It is indeed the case that the warning header can be multi-valued which means that we do need to address the comma-separated issue here. On closer inspection of the HTTP spec, we are not following the warning header specification. We should be prepending each warning with a code (we can just use 199 miscellaneous) and an agent (we can just use the Elasticsearch version), and then we should be quoting each warning string to address the comma issue.","performed_via_github_app":null}]