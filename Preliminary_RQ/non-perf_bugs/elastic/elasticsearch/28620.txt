{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/28620","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28620/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28620/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28620/events","html_url":"https://github.com/elastic/elasticsearch/issues/28620","id":296156020,"node_id":"MDU6SXNzdWUyOTYxNTYwMjA=","number":28620,"title":"environment is not locked Caused by: java.nio.file.NoSuchFileException","user":{"login":"dzyangxi","id":7111305,"node_id":"MDQ6VXNlcjcxMTEzMDU=","avatar_url":"https://avatars2.githubusercontent.com/u/7111305?v=4","gravatar_id":"","url":"https://api.github.com/users/dzyangxi","html_url":"https://github.com/dzyangxi","followers_url":"https://api.github.com/users/dzyangxi/followers","following_url":"https://api.github.com/users/dzyangxi/following{/other_user}","gists_url":"https://api.github.com/users/dzyangxi/gists{/gist_id}","starred_url":"https://api.github.com/users/dzyangxi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dzyangxi/subscriptions","organizations_url":"https://api.github.com/users/dzyangxi/orgs","repos_url":"https://api.github.com/users/dzyangxi/repos","events_url":"https://api.github.com/users/dzyangxi/events{/privacy}","received_events_url":"https://api.github.com/users/dzyangxi/received_events","type":"User","site_admin":false},"labels":[{"id":111624690,"node_id":"MDU6TGFiZWwxMTE2MjQ2OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/feedback_needed","name":"feedback_needed","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-02-11T03:16:25Z","updated_at":"2019-01-05T14:43:05Z","closed_at":"2018-04-13T10:20:28Z","author_association":"NONE","active_lock_reason":null,"body":"ElasticSearch 5.5.3\r\n\r\nJVM version (java -version): Java HotSpot(TM) 64-Bit Server VM (build 25.151-b12, mixed mode)\r\n\r\nOS version (linux): Ubuntu 14.04.5 LTS (GNU/Linux 3.13.0-32-generic x86_64)\r\n\r\n[2018-02-11T10:23:46,025][WARN ][o.e.c.s.ClusterService   ] [avatar] failed to notify ClusterStateListener\r\njava.lang.IllegalStateException: environment is not locked\r\n\tat org.elasticsearch.env.NodeEnvironment.assertEnvIsLocked(NodeEnvironment.java:944) ~[elasticsearch-5.5.3.jar:5.5.3]\r\n\tat org.elasticsearch.env.NodeEnvironment.availableIndexFolders(NodeEnvironment.java:820) ~[elasticsearch-5.5.3.jar:5.5.3]\r\n\tat org.elasticsearch.gateway.MetaStateService.loadIndicesStates(MetaStateService.java:89) ~[elasticsearch-5.5.3.jar:5.5.3]\r\n\tat org.elasticsearch.gateway.DanglingIndicesState.findNewDanglingIndices(DanglingIndicesState.java:131) ~[elasticsearch-5.5.3.jar:5.5.3]\r\n\tat org.elasticsearch.gateway.DanglingIndicesState.findNewAndAddDanglingIndices(DanglingIndicesState.java:116) ~[elasticsearch-5.5.3.jar:5.5.3]\r\n\tat org.elasticsearch.gateway.DanglingIndicesState.processDanglingIndices(DanglingIndicesState.java:81) ~[elasticsearch-5.5.3.jar:5.5.3]\r\n\tat org.elasticsearch.gateway.DanglingIndicesState.clusterChanged(DanglingIndicesState.java:185) ~[elasticsearch-5.5.3.jar:5.5.3]\r\n\tat org.elasticsearch.cluster.service.ClusterService.lambda$publishAndApplyChanges$7(ClusterService.java:777) ~[elasticsearch-5.5.3.jar:5.5.3]\r\n\tat java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948) [?:1.8.0_151]\r\n\tat java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742) [?:1.8.0_151]\r\n\tat java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:580) [?:1.8.0_151]\r\n\tat org.elasticsearch.cluster.service.ClusterService.publishAndApplyChanges(ClusterService.java:774) [elasticsearch-5.5.3.jar:5.5.3]\r\n\tat org.elasticsearch.cluster.service.ClusterService.runTasks(ClusterService.java:587) [elasticsearch-5.5.3.jar:5.5.3]\r\n\tat org.elasticsearch.cluster.service.ClusterService$ClusterServiceTaskBatcher.run(ClusterService.java:263) [elasticsearch-5.5.3.jar:5.5.3]\r\n\tat org.elasticsearch.cluster.service.TaskBatcher.runIfNotProcessed(TaskBatcher.java:150) [elasticsearch-5.5.3.jar:5.5.3]\r\n\tat org.elasticsearch.cluster.service.TaskBatcher$BatchedTask.run(TaskBatcher.java:188) [elasticsearch-5.5.3.jar:5.5.3]\r\n\tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:569) [elasticsearch-5.5.3.jar:5.5.3]\r\n\tat org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.runAndClean(PrioritizedEsThreadPoolExecutor.java:247) [elasticsearch-5.5.3.jar:5.5.3]\r\n\tat org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.run(PrioritizedEsThreadPoolExecutor.java:210) [elasticsearch-5.5.3.jar:5.5.3]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_151]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_151]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_151]\r\nCaused by: java.nio.file.NoSuchFileException: /home/user/elk/elasticsearch/data/nodes/0/node.lock\r\n\tat sun.nio.fs.UnixException.translateToIOException(UnixException.java:86) ~[?:?]\r\n\tat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102) ~[?:?]\r\n\tat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107) ~[?:?]\r\n\tat sun.nio.fs.UnixFileAttributeViews$Basic.readAttributes(UnixFileAttributeViews.java:55) ~[?:?]\r\n\tat sun.nio.fs.UnixFileSystemProvider.readAttributes(UnixFileSystemProvider.java:144) ~[?:?]\r\n\tat sun.nio.fs.LinuxFileSystemProvider.readAttributes(LinuxFileSystemProvider.java:99) ~[?:?]\r\n\tat java.nio.file.Files.readAttributes(Files.java:1737) ~[?:1.8.0_151]\r\n\tat org.apache.lucene.store.NativeFSLockFactory$NativeFSLock.ensureValid(NativeFSLockFactory.java:177) ~[lucene-core-6.6.0.jar:6.6.0 5c7a7b65d2aa7ce5ec96458315c661a18b320241 - ishan - 2017-05-30 07:29:46]\r\n","closed_by":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"performed_via_github_app":null}