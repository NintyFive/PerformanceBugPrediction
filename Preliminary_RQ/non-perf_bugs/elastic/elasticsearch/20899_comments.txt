[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/253369724","html_url":"https://github.com/elastic/elasticsearch/issues/20899#issuecomment-253369724","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20899","id":253369724,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MzM2OTcyNA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-10-12T23:34:35Z","updated_at":"2016-10-12T23:34:53Z","author_association":"MEMBER","body":"You missed the message: \n\n`thread stack size not set; configure via C:\\elasticsearch-5.0.0-rc1\\config\\jvm.options or ES_JAVA_OPTS`\n\nThis is covered in the [docs](https://www.elastic.co/guide/en/elasticsearch/reference/5.0/windows.html#windows-service):\n\n> The service installer requires that the thread stack size setting be configured in jvm.options _before_ you install the service. On 32-bit Windows, you should add `-Xss320k` to the jvm.options file, and on 64-bit Windows you should add `-Xss1m` to the jvm.options file.\n\nIdeally you'll just set the heap and the stack size in the jvm.options file, leave `ES_JAVA_OPTS` out of it (it's there, it's an option, it's useful for development but the preferred approach is to just set your configs in the jvm.options file).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/253480381","html_url":"https://github.com/elastic/elasticsearch/issues/20899#issuecomment-253480381","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20899","id":253480381,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MzQ4MDM4MQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-10-13T10:51:03Z","updated_at":"2016-10-13T10:51:13Z","author_association":"MEMBER","body":"Many thanks for downloading and trying out 5.0.0-rc1; I've added you to the [Pioneer Program](http://www.elastic.co/blog/elastic-pioneer-program). Please do let us know if you encounter any other issues. :smile:\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/253507464","html_url":"https://github.com/elastic/elasticsearch/issues/20899#issuecomment-253507464","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20899","id":253507464,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MzUwNzQ2NA==","user":{"login":"mike-mosher","id":13191780,"node_id":"MDQ6VXNlcjEzMTkxNzgw","avatar_url":"https://avatars2.githubusercontent.com/u/13191780?v=4","gravatar_id":"","url":"https://api.github.com/users/mike-mosher","html_url":"https://github.com/mike-mosher","followers_url":"https://api.github.com/users/mike-mosher/followers","following_url":"https://api.github.com/users/mike-mosher/following{/other_user}","gists_url":"https://api.github.com/users/mike-mosher/gists{/gist_id}","starred_url":"https://api.github.com/users/mike-mosher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mike-mosher/subscriptions","organizations_url":"https://api.github.com/users/mike-mosher/orgs","repos_url":"https://api.github.com/users/mike-mosher/repos","events_url":"https://api.github.com/users/mike-mosher/events{/privacy}","received_events_url":"https://api.github.com/users/mike-mosher/received_events","type":"User","site_admin":false},"created_at":"2016-10-13T13:07:01Z","updated_at":"2016-10-13T13:07:01Z","author_association":"NONE","body":"I appreciate the help.  I'm not a Java person, so I assumed it was barking about the heap size.  I didn't realize there was a difference between this and the thread stack size.  \n\nThanks for your help.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/253542813","html_url":"https://github.com/elastic/elasticsearch/issues/20899#issuecomment-253542813","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20899","id":253542813,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MzU0MjgxMw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-10-13T15:11:57Z","updated_at":"2016-10-13T15:11:57Z","author_association":"MEMBER","body":"> Thanks for your help.\n\nYou are very welcome.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/273864197","html_url":"https://github.com/elastic/elasticsearch/issues/20899#issuecomment-273864197","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20899","id":273864197,"node_id":"MDEyOklzc3VlQ29tbWVudDI3Mzg2NDE5Nw==","user":{"login":"joniba","id":223911,"node_id":"MDQ6VXNlcjIyMzkxMQ==","avatar_url":"https://avatars1.githubusercontent.com/u/223911?v=4","gravatar_id":"","url":"https://api.github.com/users/joniba","html_url":"https://github.com/joniba","followers_url":"https://api.github.com/users/joniba/followers","following_url":"https://api.github.com/users/joniba/following{/other_user}","gists_url":"https://api.github.com/users/joniba/gists{/gist_id}","starred_url":"https://api.github.com/users/joniba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joniba/subscriptions","organizations_url":"https://api.github.com/users/joniba/orgs","repos_url":"https://api.github.com/users/joniba/repos","events_url":"https://api.github.com/users/joniba/events{/privacy}","received_events_url":"https://api.github.com/users/joniba/received_events","type":"User","site_admin":false},"created_at":"2017-01-19T18:53:30Z","updated_at":"2017-01-19T18:53:30Z","author_association":"NONE","body":"@jasontedor the referenced [docs](https://www.elastic.co/guide/en/elasticsearch/reference/5.0/windows.html#windows-service) do not contain the quoted paragraph about thread stack size. I think it's somewhat discouraging that non-java people running on windows need to sift through github issues just to try to start elastic for the very first time.\r\n\r\nI'm sure it's all very clear to those that are fluent with the settings. But I don't even see this jvm.options file. I've read through the documentation about installing on windows and certainly it does not work as per the documentation (on windows 10 at least).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/273865010","html_url":"https://github.com/elastic/elasticsearch/issues/20899#issuecomment-273865010","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20899","id":273865010,"node_id":"MDEyOklzc3VlQ29tbWVudDI3Mzg2NTAxMA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-01-19T18:56:39Z","updated_at":"2017-01-19T21:30:31Z","author_association":"MEMBER","body":"@joniba That's because we ship with thread stack size settings in the default jvm.options file now, you'll see this in the latest versions of the packages. Because of this, the note in question has been moved to a different [page](https://www.elastic.co/guide/en/elasticsearch/reference/5.1/setup.html) of the docs as it now pertains to *all* installations.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/273866018","html_url":"https://github.com/elastic/elasticsearch/issues/20899#issuecomment-273866018","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20899","id":273866018,"node_id":"MDEyOklzc3VlQ29tbWVudDI3Mzg2NjAxOA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-01-19T19:00:11Z","updated_at":"2017-01-19T19:00:11Z","author_association":"MEMBER","body":"The point is, we recognize the pain that was here and are trying to make it easier.\r\n\r\nRelates #21920","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/273869896","html_url":"https://github.com/elastic/elasticsearch/issues/20899#issuecomment-273869896","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20899","id":273869896,"node_id":"MDEyOklzc3VlQ29tbWVudDI3Mzg2OTg5Ng==","user":{"login":"joniba","id":223911,"node_id":"MDQ6VXNlcjIyMzkxMQ==","avatar_url":"https://avatars1.githubusercontent.com/u/223911?v=4","gravatar_id":"","url":"https://api.github.com/users/joniba","html_url":"https://github.com/joniba","followers_url":"https://api.github.com/users/joniba/followers","following_url":"https://api.github.com/users/joniba/following{/other_user}","gists_url":"https://api.github.com/users/joniba/gists{/gist_id}","starred_url":"https://api.github.com/users/joniba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joniba/subscriptions","organizations_url":"https://api.github.com/users/joniba/orgs","repos_url":"https://api.github.com/users/joniba/repos","events_url":"https://api.github.com/users/joniba/events{/privacy}","received_events_url":"https://api.github.com/users/joniba/received_events","type":"User","site_admin":false},"created_at":"2017-01-19T19:14:34Z","updated_at":"2017-01-19T19:14:34Z","author_association":"NONE","body":"Sorry if I'm being a pain but the page you linked also does not mention setting -Xss1m in the jvm.options. I don't understand why there isn't a simple note somewhere, at least for windows users (or which ones need to set this? I didn't get it) to set this variable.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/273870903","html_url":"https://github.com/elastic/elasticsearch/issues/20899#issuecomment-273870903","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20899","id":273870903,"node_id":"MDEyOklzc3VlQ29tbWVudDI3Mzg3MDkwMw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-01-19T19:18:25Z","updated_at":"2017-01-19T19:18:25Z","author_association":"MEMBER","body":"> Sorry if I'm being a pain but the page you linked also does not mention setting -Xss1m in the jvm.options.\r\n\r\nAs I mentioned, you do not need to set it anymore with the default jvm.options file that ships with Elasticsearch starting in version 5.1.1 (the latest is 5.1.2). The note on the page that I linked to says:\r\n\r\n>Elasticsearch ships with default configuration for running Elasticsearch on 64-bit server JVMs. If you are using a 32-bit client JVM, you must remove `-server` from jvm.options and if you are using any 32-bit JVM you should reconfigure the thread stack size from `-Xss1m` to `-Xss320k`.\r\n\r\nThis is because the default jvm.options that we ship with works on all platforms *except* those that have a 32-bit client JVM (exceedingly rare these days). The stack size in the jvm.options also works on all platforms although it is best to change it on 32-bit JVMs.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/273872053","html_url":"https://github.com/elastic/elasticsearch/issues/20899#issuecomment-273872053","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20899","id":273872053,"node_id":"MDEyOklzc3VlQ29tbWVudDI3Mzg3MjA1Mw==","user":{"login":"joniba","id":223911,"node_id":"MDQ6VXNlcjIyMzkxMQ==","avatar_url":"https://avatars1.githubusercontent.com/u/223911?v=4","gravatar_id":"","url":"https://api.github.com/users/joniba","html_url":"https://github.com/joniba","followers_url":"https://api.github.com/users/joniba/followers","following_url":"https://api.github.com/users/joniba/following{/other_user}","gists_url":"https://api.github.com/users/joniba/gists{/gist_id}","starred_url":"https://api.github.com/users/joniba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joniba/subscriptions","organizations_url":"https://api.github.com/users/joniba/orgs","repos_url":"https://api.github.com/users/joniba/repos","events_url":"https://api.github.com/users/joniba/events{/privacy}","received_events_url":"https://api.github.com/users/joniba/received_events","type":"User","site_admin":false},"created_at":"2017-01-19T19:22:40Z","updated_at":"2017-01-19T19:22:40Z","author_association":"NONE","body":"Hmm I'm on 5.0.0 and getting the thread stack size error. I only downloaded it yesterday. Weird. Downloading 5.1.2 now.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/273872260","html_url":"https://github.com/elastic/elasticsearch/issues/20899#issuecomment-273872260","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20899","id":273872260,"node_id":"MDEyOklzc3VlQ29tbWVudDI3Mzg3MjI2MA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-01-19T19:23:23Z","updated_at":"2017-01-19T19:23:23Z","author_association":"MEMBER","body":"> Hmm I'm on 5.0.0 and getting the thread stack size error. I only downloaded it yesterday. Weird. \r\n\r\nThat's because the change to ship with a default was only introduced in 5.1.1.\r\n\r\n> Downloading 5.1.2 now.\r\n\r\nYou will not have this specific problem with that package.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/274080210","html_url":"https://github.com/elastic/elasticsearch/issues/20899#issuecomment-274080210","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20899","id":274080210,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDA4MDIxMA==","user":{"login":"joniba","id":223911,"node_id":"MDQ6VXNlcjIyMzkxMQ==","avatar_url":"https://avatars1.githubusercontent.com/u/223911?v=4","gravatar_id":"","url":"https://api.github.com/users/joniba","html_url":"https://github.com/joniba","followers_url":"https://api.github.com/users/joniba/followers","following_url":"https://api.github.com/users/joniba/following{/other_user}","gists_url":"https://api.github.com/users/joniba/gists{/gist_id}","starred_url":"https://api.github.com/users/joniba/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joniba/subscriptions","organizations_url":"https://api.github.com/users/joniba/orgs","repos_url":"https://api.github.com/users/joniba/repos","events_url":"https://api.github.com/users/joniba/events{/privacy}","received_events_url":"https://api.github.com/users/joniba/received_events","type":"User","site_admin":false},"created_at":"2017-01-20T14:08:52Z","updated_at":"2017-01-20T14:08:52Z","author_association":"NONE","body":"Yes 5.1.2 worked more or less out of the box, thanks.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/274113503","html_url":"https://github.com/elastic/elasticsearch/issues/20899#issuecomment-274113503","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20899","id":274113503,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDExMzUwMw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-01-20T16:21:40Z","updated_at":"2017-01-20T16:21:40Z","author_association":"MEMBER","body":"> Yes 5.1.2 worked more or less out of the box, thanks.\r\n\r\nAwesome, thank you for reporting back, it's appreciated.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/282070416","html_url":"https://github.com/elastic/elasticsearch/issues/20899#issuecomment-282070416","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20899","id":282070416,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjA3MDQxNg==","user":{"login":"aateeque","id":319157,"node_id":"MDQ6VXNlcjMxOTE1Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/319157?v=4","gravatar_id":"","url":"https://api.github.com/users/aateeque","html_url":"https://github.com/aateeque","followers_url":"https://api.github.com/users/aateeque/followers","following_url":"https://api.github.com/users/aateeque/following{/other_user}","gists_url":"https://api.github.com/users/aateeque/gists{/gist_id}","starred_url":"https://api.github.com/users/aateeque/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aateeque/subscriptions","organizations_url":"https://api.github.com/users/aateeque/orgs","repos_url":"https://api.github.com/users/aateeque/repos","events_url":"https://api.github.com/users/aateeque/events{/privacy}","received_events_url":"https://api.github.com/users/aateeque/received_events","type":"User","site_admin":false},"created_at":"2017-02-23T18:00:48Z","updated_at":"2017-02-23T18:00:48Z","author_association":"NONE","body":"5.1.2 worked pretty much out of the box; but trying to install 5.2.1 on the same box I am seeing the same error:\r\n```\r\nduplicate min heap size settings found\r\n```\r\n\r\nWhere all does the install script look for the min heap size settings? \r\n\r\nIn my jvm.options I have:\r\n   - `-Xms2g` & `-Xmx4g` commented out \r\n   - `-server` set\r\n   - `Xss1m` set\r\n  \r\nHave env var: `ES_HEAP_SIZE=-Xms4g -Xmx4g`\r\n\r\nAny pointers on what's happening here? Thanks! ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/282072726","html_url":"https://github.com/elastic/elasticsearch/issues/20899#issuecomment-282072726","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20899","id":282072726,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjA3MjcyNg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-02-23T18:09:16Z","updated_at":"2017-02-23T18:09:16Z","author_association":"MEMBER","body":"I think that you have `-Xms` or `-XX:MinHeapSize` set in (either in `jvm.options` or `ES_JAVA_OPTS`) and you have also set `JVM_MS`. Just unset `JVM_MS`.\r\n\r\nAlso, `ES_HEAP_SIZE` is not supported in 5.x, you need to remove that.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/282076151","html_url":"https://github.com/elastic/elasticsearch/issues/20899#issuecomment-282076151","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20899","id":282076151,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjA3NjE1MQ==","user":{"login":"aateeque","id":319157,"node_id":"MDQ6VXNlcjMxOTE1Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/319157?v=4","gravatar_id":"","url":"https://api.github.com/users/aateeque","html_url":"https://github.com/aateeque","followers_url":"https://api.github.com/users/aateeque/followers","following_url":"https://api.github.com/users/aateeque/following{/other_user}","gists_url":"https://api.github.com/users/aateeque/gists{/gist_id}","starred_url":"https://api.github.com/users/aateeque/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aateeque/subscriptions","organizations_url":"https://api.github.com/users/aateeque/orgs","repos_url":"https://api.github.com/users/aateeque/repos","events_url":"https://api.github.com/users/aateeque/events{/privacy}","received_events_url":"https://api.github.com/users/aateeque/received_events","type":"User","site_admin":false},"created_at":"2017-02-23T18:21:52Z","updated_at":"2017-02-23T18:21:52Z","author_association":"NONE","body":"I am running ES 1.x on the same box; will removing `ES_HEAP_SIZE` cause problems for v1 instance?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/282077028","html_url":"https://github.com/elastic/elasticsearch/issues/20899#issuecomment-282077028","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20899","id":282077028,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjA3NzAyOA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-02-23T18:25:00Z","updated_at":"2017-02-23T18:25:00Z","author_association":"MEMBER","body":"If you're using `ES_HEAP_SIZE` for your v1 instance then yes, removing it will cause problems because it will not be set anymore when you start your v1 instance.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/282078814","html_url":"https://github.com/elastic/elasticsearch/issues/20899#issuecomment-282078814","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20899","id":282078814,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjA3ODgxNA==","user":{"login":"aateeque","id":319157,"node_id":"MDQ6VXNlcjMxOTE1Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/319157?v=4","gravatar_id":"","url":"https://api.github.com/users/aateeque","html_url":"https://github.com/aateeque","followers_url":"https://api.github.com/users/aateeque/followers","following_url":"https://api.github.com/users/aateeque/following{/other_user}","gists_url":"https://api.github.com/users/aateeque/gists{/gist_id}","starred_url":"https://api.github.com/users/aateeque/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aateeque/subscriptions","organizations_url":"https://api.github.com/users/aateeque/orgs","repos_url":"https://api.github.com/users/aateeque/repos","events_url":"https://api.github.com/users/aateeque/events{/privacy}","received_events_url":"https://api.github.com/users/aateeque/received_events","type":"User","site_admin":false},"created_at":"2017-02-23T18:31:31Z","updated_at":"2017-02-23T18:31:48Z","author_association":"NONE","body":"I have another server, which has both 1.x & 5.2.1 running quite happily with `ES_HEAP_SIZE=4g`. I have copied over the same java.options file, but can't install the service on second server.\r\n\r\nAfter copying the jvm.options over I am now getting this on server 2:\r\n```\r\nError: encountered environment variables that are no longer supported\r\nUse jvm.options or ES_JAVA_OPTS to configure the JVM\r\nES_HEAP_SIZE=4g: set -Xms4g and -Xmx4g in jvm.options or add \"-Xms4g -Xmx4g\" to ES_JAVA_OPTS\r\n```\r\n\r\nWhy is this so hard :(","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/282079992","html_url":"https://github.com/elastic/elasticsearch/issues/20899#issuecomment-282079992","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20899","id":282079992,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjA3OTk5Mg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-02-23T18:35:52Z","updated_at":"2017-02-23T18:35:52Z","author_association":"MEMBER","body":"> I have another server, which has both 1.x & 5.2.1 running quite happily with `ES_HEAP_SIZE=4g`.\r\n\r\nIf this is the case, then you started 5.2.1 without `ES_HEAP_SIZE` set. That environment variable is unsupported for 5.x, and we do not silently ignore it so that you do not mistakenly think it's doing something useful.\r\n\r\nThe error message that you're seeing now is expected when `ES_HEAP_SIZE` is set and a 5.x instance is started.\r\n\r\n> Why is this so hard :(\r\n\r\nI'm sorry that you're struggling with this. The changes across two major releases were done to make the system easier to work worth but of course there's always transition pain. If you continue to struggle with this, please ask for help on the [forum](https://discuss.elastic.co); we will be happy to help.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/282080896","html_url":"https://github.com/elastic/elasticsearch/issues/20899#issuecomment-282080896","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20899","id":282080896,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjA4MDg5Ng==","user":{"login":"aateeque","id":319157,"node_id":"MDQ6VXNlcjMxOTE1Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/319157?v=4","gravatar_id":"","url":"https://api.github.com/users/aateeque","html_url":"https://github.com/aateeque","followers_url":"https://api.github.com/users/aateeque/followers","following_url":"https://api.github.com/users/aateeque/following{/other_user}","gists_url":"https://api.github.com/users/aateeque/gists{/gist_id}","starred_url":"https://api.github.com/users/aateeque/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aateeque/subscriptions","organizations_url":"https://api.github.com/users/aateeque/orgs","repos_url":"https://api.github.com/users/aateeque/repos","events_url":"https://api.github.com/users/aateeque/events{/privacy}","received_events_url":"https://api.github.com/users/aateeque/received_events","type":"User","site_admin":false},"created_at":"2017-02-23T18:39:13Z","updated_at":"2017-02-23T18:39:13Z","author_association":"NONE","body":"I've removed that env var, and now trying `elasticsearch-service.bat install`, I get:\r\n```\r\nInstalling service      :  \"elasticsearch-service-x64\"\r\nUsing JAVA_HOME (64-bit):  \"D:\\Java\\jdk1.8.0_40x64\\jre\"\r\nFailed installing 'elasticsearch-service-x64' service\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/282083167","html_url":"https://github.com/elastic/elasticsearch/issues/20899#issuecomment-282083167","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20899","id":282083167,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjA4MzE2Nw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-02-23T18:47:34Z","updated_at":"2017-02-23T18:47:34Z","author_association":"MEMBER","body":"You have to look at the service logs. May I suggest again that you create a topic on the [forum](https://discuss.elastic.co)? Feel free to link to it from here.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/282109725","html_url":"https://github.com/elastic/elasticsearch/issues/20899#issuecomment-282109725","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20899","id":282109725,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MjEwOTcyNQ==","user":{"login":"aateeque","id":319157,"node_id":"MDQ6VXNlcjMxOTE1Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/319157?v=4","gravatar_id":"","url":"https://api.github.com/users/aateeque","html_url":"https://github.com/aateeque","followers_url":"https://api.github.com/users/aateeque/followers","following_url":"https://api.github.com/users/aateeque/following{/other_user}","gists_url":"https://api.github.com/users/aateeque/gists{/gist_id}","starred_url":"https://api.github.com/users/aateeque/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aateeque/subscriptions","organizations_url":"https://api.github.com/users/aateeque/orgs","repos_url":"https://api.github.com/users/aateeque/repos","events_url":"https://api.github.com/users/aateeque/events{/privacy}","received_events_url":"https://api.github.com/users/aateeque/received_events","type":"User","site_admin":false},"created_at":"2017-02-23T20:22:50Z","updated_at":"2017-02-23T20:22:50Z","author_association":"NONE","body":"Thanks, I have created it [here](https://discuss.elastic.co/t/running-1-x-5-x-sxs/76289)","performed_via_github_app":null}]