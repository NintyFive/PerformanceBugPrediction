[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/22395695","html_url":"https://github.com/elastic/elasticsearch/issues/3457#issuecomment-22395695","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3457","id":22395695,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMzk1Njk1","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2013-08-09T13:55:47Z","updated_at":"2013-08-09T14:00:10Z","author_association":"MEMBER","body":"Using \"just_name\" effectively means that you want the field to be indexed on the top level using just its name. That means that the field will be indexed with `sortValue` name instead of `a.sortValue`. Both your `a.sortValue` and `b.sortValue` will then go to the same `sortValue` common field, therefore your sort behaviour is the expected one. Even if you refer explicitly to `a.sortValue` and `b.sortValue`, elasticsearch maps that name internally to the physical index name, which is `sortValue` in both cases. If you want to keep the distinction between the two fields you should use the default `\"path\": \"full\"`. Have a look [here](http://www.elasticsearch.org/guide/reference/mapping/object-type/) for some more examples on full path or just_name.\n\nWhat I find strange here is the search behaviour that you mentioned. You mean that you get different matches for the same query either querying `a.sortValue` or `b.sortValue`? Would you mind posting a [curl recreation](http://www.elasticsearch.org/help/)?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/22437029","html_url":"https://github.com/elastic/elasticsearch/issues/3457#issuecomment-22437029","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3457","id":22437029,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNDM3MDI5","user":{"login":"tandres19","id":2283348,"node_id":"MDQ6VXNlcjIyODMzNDg=","avatar_url":"https://avatars2.githubusercontent.com/u/2283348?v=4","gravatar_id":"","url":"https://api.github.com/users/tandres19","html_url":"https://github.com/tandres19","followers_url":"https://api.github.com/users/tandres19/followers","following_url":"https://api.github.com/users/tandres19/following{/other_user}","gists_url":"https://api.github.com/users/tandres19/gists{/gist_id}","starred_url":"https://api.github.com/users/tandres19/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandres19/subscriptions","organizations_url":"https://api.github.com/users/tandres19/orgs","repos_url":"https://api.github.com/users/tandres19/repos","events_url":"https://api.github.com/users/tandres19/events{/privacy}","received_events_url":"https://api.github.com/users/tandres19/received_events","type":"User","site_admin":false},"created_at":"2013-08-10T09:44:07Z","updated_at":"2013-08-10T09:44:07Z","author_association":"NONE","body":"Thanks for the answer. I misunderstood just_name a bit then (might be good to have an example in the docu with just_name and fields with the same name). I thought it just allowed to use partial path to address it instead of always using just the final path segment.\n\nI noticed now, that the searching didn't behave as expected as well. Our test cases found the correct document by accident rather than by design...\n\nIs there some other way to address fields with partial path? (some wildcard to use in the path or something) I have a hierarchic document structure with children of the same type as the parent and would like to search in a specific field accross all children. That works with just_name, but broke with the substructre I used for sorting. \n\nThanks for your help.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/22455651","html_url":"https://github.com/elastic/elasticsearch/issues/3457#issuecomment-22455651","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3457","id":22455651,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNDU1NjUx","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2013-08-11T10:30:30Z","updated_at":"2013-08-11T10:30:30Z","author_association":"MEMBER","body":"We have a pretty good example of how \"just_name\" works compared to \"full\" [here](http://www.elasticsearch.org/guide/reference/mapping/object-type/) (path section).\n\n@tandres19 I guess it would be good to know what queries you're making and knowing a little more about your usecase. Anyways, our [google group](https://groups.google.com/forum/?fromgroups#!forum/elasticsearch) is a better place for this kind of questions. It would nice if you can send a message there and we'll definitely try to help.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/22477346","html_url":"https://github.com/elastic/elasticsearch/issues/3457#issuecomment-22477346","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3457","id":22477346,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNDc3MzQ2","user":{"login":"tandres19","id":2283348,"node_id":"MDQ6VXNlcjIyODMzNDg=","avatar_url":"https://avatars2.githubusercontent.com/u/2283348?v=4","gravatar_id":"","url":"https://api.github.com/users/tandres19","html_url":"https://github.com/tandres19","followers_url":"https://api.github.com/users/tandres19/followers","following_url":"https://api.github.com/users/tandres19/following{/other_user}","gists_url":"https://api.github.com/users/tandres19/gists{/gist_id}","starred_url":"https://api.github.com/users/tandres19/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tandres19/subscriptions","organizations_url":"https://api.github.com/users/tandres19/orgs","repos_url":"https://api.github.com/users/tandres19/repos","events_url":"https://api.github.com/users/tandres19/events{/privacy}","received_events_url":"https://api.github.com/users/tandres19/received_events","type":"User","site_admin":false},"created_at":"2013-08-12T07:39:29Z","updated_at":"2013-08-12T07:39:29Z","author_association":"NONE","body":"I've seen the path example. What I didn't get from it, was that subfields with the same name can't be distinguished anymore with just_name set. So an example to show this would be nice.\n\nBy now we changed our mapping to avoid this substructure for sort values and add them as an additional field which works fine.\nThanks again for you help. I'll check out the group later on when I've got the time :)\n","performed_via_github_app":null}]