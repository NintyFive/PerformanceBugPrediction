{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/26759","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26759/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26759/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26759/events","html_url":"https://github.com/elastic/elasticsearch/issues/26759","id":259912006,"node_id":"MDU6SXNzdWUyNTk5MTIwMDY=","number":26759,"title":"Simple substring query seems to be impossible with Elasticsearch/Lucene--please add it.","user":{"login":"szalapski","id":2723505,"node_id":"MDQ6VXNlcjI3MjM1MDU=","avatar_url":"https://avatars1.githubusercontent.com/u/2723505?v=4","gravatar_id":"","url":"https://api.github.com/users/szalapski","html_url":"https://github.com/szalapski","followers_url":"https://api.github.com/users/szalapski/followers","following_url":"https://api.github.com/users/szalapski/following{/other_user}","gists_url":"https://api.github.com/users/szalapski/gists{/gist_id}","starred_url":"https://api.github.com/users/szalapski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szalapski/subscriptions","organizations_url":"https://api.github.com/users/szalapski/orgs","repos_url":"https://api.github.com/users/szalapski/repos","events_url":"https://api.github.com/users/szalapski/events{/privacy}","received_events_url":"https://api.github.com/users/szalapski/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2017-09-22T19:19:36Z","updated_at":"2017-09-22T20:59:45Z","closed_at":"2017-09-22T20:16:30Z","author_association":"NONE","active_lock_reason":null,"body":"<!-- Feature request -->\r\n**Describe the feature**:  \r\n\r\nIn Elasticsearch, it seems impossible to search for an arbitrary substring, perhaps including spaces. (Searching for part of a word isn't quite enough; I want to search any substring of an entire field.)\r\n\r\nSuppose I have only a few thousand documents in my Elasticsearch index, and I try:\r\n\r\n  \"query\": {\r\n         \"wildcard\" : { \"description\" : \"*plan*\" }\r\n  }\r\nThat works as expected--I get every item where \"plan\" is in the description, even ones like \"supplantation\".\r\n\r\nNow, I'd like to do\r\n\r\n  \"query\": {\r\n         \"wildcard\" : { \"description\" : \"*plan is*\" }\r\n  }   \r\n...so that I might match documents with \"Kaplan isn't\" among many other possibilities.\r\n\r\nI was hoping there might be something built-in for this Elasticsearch, given that this simple substring search seems like a very basic capability (Thinking about it, it is implemented as strstr() in C, LIKE '%%' in SQL, Ctrl+F in most text editors, String.IndexOf in C#, etc.), but this seems not to be the case. It seems this isn't possible with wildcard, match prefix, or any other query type I might see. How do I simply search on any substring?\r\n\r\nI could use a RegExp query, but even that is limited to a field that uses the keyword analyzer and is 32K or less.  I also have to convert my term to lowercase, even if the data has uppercase.\r\n\r\n(I am aware any such query would be slow or perhaps even impossible for large data sets.)\r\n\r\nSee also https://stackoverflow.com/questions/44791075/in-elasticsearch-how-do-i-search-for-an-arbitrary-substring/44803618#44803618","closed_by":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"performed_via_github_app":null}