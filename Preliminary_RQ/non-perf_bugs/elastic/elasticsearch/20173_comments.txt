[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/242664240","html_url":"https://github.com/elastic/elasticsearch/issues/20173#issuecomment-242664240","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20173","id":242664240,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MjY2NDI0MA==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-08-26T08:22:56Z","updated_at":"2016-08-26T08:22:56Z","author_association":"CONTRIBUTOR","body":"@teolupus thanks for opening this issue. It's a tough topic. I think I can say that we all try to get as much compatibility as possible to the user and reduce upgrade pain is a major topic in the dev team. From a engineering perspective I personally think that we just haven't been mature enough to do this from a products perspective. Full cluster restarts allow us to make changes that would not be possible otherwise like the [two phase clusterstate commit](https://github.com/elastic/elasticsearch/pull/13062) since they require major changes. Doing this across major versions would be a huge hassle or rather too fragile for us to commit to it. \n\nThat said, we have come a long way since version 1.0 and the product as well as the testing has matured to discuss this topic again. By no means I want to commit to anything in this post but I'd want to start the discussion of how we could get to this point. I personally think we can't allow upgrades from _N.X_ to _N+1.Y_ ever, this must be something that is well defined and contained.  Now, we are aiming for major releases every 8 to 12 months (if you plan for 8 it will be 12 :) ), that means we would need to keep wire protocol stable for 2 years. \n\nNow one scenario that I could imagine is to narrow down the scope of the compatibility ie. if _5.3_ is the last release in the _5.x_ series we allow rolling upgrades from _5.3_ to _6.x_ only. This would help a lot with testing as well as allows us to specifically release bugfixes that cause problems along the lines. I think this could be a starting point for a discussion around this limitation. \nI am curious what others think, I know there are people that will object or are critical but it's good to start writing them down.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/242680675","html_url":"https://github.com/elastic/elasticsearch/issues/20173#issuecomment-242680675","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20173","id":242680675,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MjY4MDY3NQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-08-26T09:35:50Z","updated_at":"2016-08-26T09:35:50Z","author_association":"MEMBER","body":"> With technologies like Solrcloud supporting rolling upgrades (as per https://cwiki.apache.org/confluence/display/solr/Upgrading+a+Solr+Cluster)\n\nSolr does not support rolling upgrades across major versions. Please see this [mail thread](http://search-lucene.com/m/l6pAi1jmacw1OwlBB&subj=Rolling+upgrades+from+5+x+to+6+0) for reference.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/242724387","html_url":"https://github.com/elastic/elasticsearch/issues/20173#issuecomment-242724387","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20173","id":242724387,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MjcyNDM4Nw==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-08-26T12:39:45Z","updated_at":"2016-08-26T12:39:45Z","author_association":"CONTRIBUTOR","body":"> Now one scenario that I could imagine is to narrow down the scope of the compatibility ie. if 5.3 is the last release in the 5.x series we allow rolling upgrades from 5.3 to 6.x only.\n\nI don't know that we'll be able to get it for 5.latest -> 6.x but its a good idea. I like limiting the scope of things we have to test.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/242940867","html_url":"https://github.com/elastic/elasticsearch/issues/20173#issuecomment-242940867","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20173","id":242940867,"node_id":"MDEyOklzc3VlQ29tbWVudDI0Mjk0MDg2Nw==","user":{"login":"teolupus","id":1207356,"node_id":"MDQ6VXNlcjEyMDczNTY=","avatar_url":"https://avatars1.githubusercontent.com/u/1207356?v=4","gravatar_id":"","url":"https://api.github.com/users/teolupus","html_url":"https://github.com/teolupus","followers_url":"https://api.github.com/users/teolupus/followers","following_url":"https://api.github.com/users/teolupus/following{/other_user}","gists_url":"https://api.github.com/users/teolupus/gists{/gist_id}","starred_url":"https://api.github.com/users/teolupus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teolupus/subscriptions","organizations_url":"https://api.github.com/users/teolupus/orgs","repos_url":"https://api.github.com/users/teolupus/repos","events_url":"https://api.github.com/users/teolupus/events{/privacy}","received_events_url":"https://api.github.com/users/teolupus/received_events","type":"User","site_admin":false},"created_at":"2016-08-27T21:06:13Z","updated_at":"2016-08-27T21:06:13Z","author_association":"NONE","body":"If ES supports rolling upgrades for major releases, I'd expect and agree it is a requirement to be on the latest minor release before I can do it.\n\nI appreciate Elastic wants to be sure it can introduce ground breaking changes to keep evolving the product as fast as possible. That said, this needs to be balanced with the ability for big customers to continue to be big customers and roll their clusters on to the next version.\n\nI wonder if this could be initially tested as a soft commitment rather then a rule. Ie: where possible we will allow you to do a rolling upgrades from latest minor to next major, but we do reserve the right to require downtime to introduce ground breaking features that our users need.\n\nMaybe, after running this as an experiment for a while, we will all be in a better place to discuss this topic again.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/300275541","html_url":"https://github.com/elastic/elasticsearch/issues/20173#issuecomment-300275541","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20173","id":300275541,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMDI3NTU0MQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-05-09T19:27:18Z","updated_at":"2017-05-09T19:27:18Z","author_association":"MEMBER","body":"Elasticsearch 6.0.0-alpha1 is out and it supports rolling upgrades from Elasticsearch 5.latest. Same will be valid once Elasticsearch 6.0 GA is out. See https://www.elastic.co/blog/elasticsearch-6-0-0-alpha1-released . Happily closing this issue :)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/302293749","html_url":"https://github.com/elastic/elasticsearch/issues/20173#issuecomment-302293749","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20173","id":302293749,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjI5Mzc0OQ==","user":{"login":"teolupus","id":1207356,"node_id":"MDQ6VXNlcjEyMDczNTY=","avatar_url":"https://avatars1.githubusercontent.com/u/1207356?v=4","gravatar_id":"","url":"https://api.github.com/users/teolupus","html_url":"https://github.com/teolupus","followers_url":"https://api.github.com/users/teolupus/followers","following_url":"https://api.github.com/users/teolupus/following{/other_user}","gists_url":"https://api.github.com/users/teolupus/gists{/gist_id}","starred_url":"https://api.github.com/users/teolupus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/teolupus/subscriptions","organizations_url":"https://api.github.com/users/teolupus/orgs","repos_url":"https://api.github.com/users/teolupus/repos","events_url":"https://api.github.com/users/teolupus/events{/privacy}","received_events_url":"https://api.github.com/users/teolupus/received_events","type":"User","site_admin":false},"created_at":"2017-05-18T03:55:23Z","updated_at":"2017-05-18T03:55:23Z","author_association":"NONE","body":"This is great news and a major step forward for ES as a technology and business. I'm sure a lot of people in the community must be celebrating this right now. Congratulations and a big thanks to the people involved in this work.","performed_via_github_app":null}]