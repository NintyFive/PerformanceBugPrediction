[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/32985108","html_url":"https://github.com/elastic/elasticsearch/issues/4840#issuecomment-32985108","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4840","id":32985108,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTg1MTA4","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2014-01-22T01:27:18Z","updated_at":"2014-01-22T01:27:18Z","author_association":"MEMBER","body":"@grantr could you elaborate a bit on why full snapshots are more desirable? I would like to better understand the your use case for this feature. I am not sure I understand why having the same file copied several times to the same drive is better than having a full separate copy in another drive, bucket or maybe even region. Could you help me better understand the rationale behind this request? \n\nYou should be able to create multiple S3 repositories. I will update documentation to make it clearer. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/32988654","html_url":"https://github.com/elastic/elasticsearch/issues/4840#issuecomment-32988654","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4840","id":32988654,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTg4NjU0","user":{"login":"grantr","id":680,"node_id":"MDQ6VXNlcjY4MA==","avatar_url":"https://avatars3.githubusercontent.com/u/680?v=4","gravatar_id":"","url":"https://api.github.com/users/grantr","html_url":"https://github.com/grantr","followers_url":"https://api.github.com/users/grantr/followers","following_url":"https://api.github.com/users/grantr/following{/other_user}","gists_url":"https://api.github.com/users/grantr/gists{/gist_id}","starred_url":"https://api.github.com/users/grantr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grantr/subscriptions","organizations_url":"https://api.github.com/users/grantr/orgs","repos_url":"https://api.github.com/users/grantr/repos","events_url":"https://api.github.com/users/grantr/events{/privacy}","received_events_url":"https://api.github.com/users/grantr/received_events","type":"User","site_admin":false},"created_at":"2014-01-22T02:41:36Z","updated_at":"2014-01-22T02:41:36Z","author_association":"NONE","body":"@imotov The use case I'm thinking of is off-site backup of an index that is rotated every month; that is, every month has totally new data in it. Imagine you want to take a final snapshot of the index that was rotated out at the end of each month.\n\nIn this case there is no advantage to incremental backups. A single repository stores all snapshots as a single unit even if they share no data. Having self-contained snapshots is more convenient because older snapshots can be relocated, verified, and deleted as needed by external tools without affecting other snapshots and without knowledge of the internal snapshot structure.\n\nIt seems like this can be accomplished today by creating a new repository for every snapshot. If this is the recommendation going forward, then I'd like a `?snapshot=true` option to create a new snapshot right away when a repository is created. Used this way, a repository is equivalent to a snapshot and we only need the repository create and snapshot restore APIs.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/33093838","html_url":"https://github.com/elastic/elasticsearch/issues/4840#issuecomment-33093838","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4840","id":33093838,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDkzODM4","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2014-01-23T03:19:37Z","updated_at":"2014-01-23T03:19:37Z","author_association":"MEMBER","body":"@grantr I think I am starting to understand your use case. So, basically, a full snapshot would mean \"create a new snapshot and delete all previous snapshots\" or maybe other way around \"delete all snapshots from the repository and create a new one\". Did I understand it correctly? \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/38304690","html_url":"https://github.com/elastic/elasticsearch/issues/4840#issuecomment-38304690","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4840","id":38304690,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzA0Njkw","user":{"login":"grantr","id":680,"node_id":"MDQ6VXNlcjY4MA==","avatar_url":"https://avatars3.githubusercontent.com/u/680?v=4","gravatar_id":"","url":"https://api.github.com/users/grantr","html_url":"https://github.com/grantr","followers_url":"https://api.github.com/users/grantr/followers","following_url":"https://api.github.com/users/grantr/following{/other_user}","gists_url":"https://api.github.com/users/grantr/gists{/gist_id}","starred_url":"https://api.github.com/users/grantr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grantr/subscriptions","organizations_url":"https://api.github.com/users/grantr/orgs","repos_url":"https://api.github.com/users/grantr/repos","events_url":"https://api.github.com/users/grantr/events{/privacy}","received_events_url":"https://api.github.com/users/grantr/received_events","type":"User","site_admin":false},"created_at":"2014-03-21T18:01:23Z","updated_at":"2014-03-21T18:01:23Z","author_association":"NONE","body":"Yes, I think that's the idea. Probably would be preferable to create a new snapshot first, then delete to avoid any time when there are zero valid snapshots.\n\nI think such functionality is probably too complicated. Currently single-snapshot repositories can be used as full snapshots. That use case should be officially supported.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/417659648","html_url":"https://github.com/elastic/elasticsearch/issues/4840#issuecomment-417659648","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4840","id":417659648,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNzY1OTY0OA==","user":{"login":"iahmad-khan","id":13478264,"node_id":"MDQ6VXNlcjEzNDc4MjY0","avatar_url":"https://avatars0.githubusercontent.com/u/13478264?v=4","gravatar_id":"","url":"https://api.github.com/users/iahmad-khan","html_url":"https://github.com/iahmad-khan","followers_url":"https://api.github.com/users/iahmad-khan/followers","following_url":"https://api.github.com/users/iahmad-khan/following{/other_user}","gists_url":"https://api.github.com/users/iahmad-khan/gists{/gist_id}","starred_url":"https://api.github.com/users/iahmad-khan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iahmad-khan/subscriptions","organizations_url":"https://api.github.com/users/iahmad-khan/orgs","repos_url":"https://api.github.com/users/iahmad-khan/repos","events_url":"https://api.github.com/users/iahmad-khan/events{/privacy}","received_events_url":"https://api.github.com/users/iahmad-khan/received_events","type":"User","site_admin":false},"created_at":"2018-08-31T13:12:32Z","updated_at":"2018-08-31T14:36:34Z","author_association":"NONE","body":"Hi,\r\n\r\nI have deleted the old snapshots , and now I need to restore data , but the recent snapshots dont have those indices? Can I do full backups instead so that I can restore any time from that one snapshot? managing many many snapshots is not practical and there must be an option to take full backup using the API.\r\n","performed_via_github_app":null}]