[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/25494503","html_url":"https://github.com/elastic/elasticsearch/issues/3816#issuecomment-25494503","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3816","id":25494503,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NDk0NTAz","user":{"login":"ajhalani","id":1163503,"node_id":"MDQ6VXNlcjExNjM1MDM=","avatar_url":"https://avatars3.githubusercontent.com/u/1163503?v=4","gravatar_id":"","url":"https://api.github.com/users/ajhalani","html_url":"https://github.com/ajhalani","followers_url":"https://api.github.com/users/ajhalani/followers","following_url":"https://api.github.com/users/ajhalani/following{/other_user}","gists_url":"https://api.github.com/users/ajhalani/gists{/gist_id}","starred_url":"https://api.github.com/users/ajhalani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajhalani/subscriptions","organizations_url":"https://api.github.com/users/ajhalani/orgs","repos_url":"https://api.github.com/users/ajhalani/repos","events_url":"https://api.github.com/users/ajhalani/events{/privacy}","received_events_url":"https://api.github.com/users/ajhalani/received_events","type":"User","site_admin":false},"created_at":"2013-10-01T21:48:50Z","updated_at":"2013-10-01T21:57:23Z","author_association":"NONE","body":"I will be glad to develop and submit this feature. \nOn a high level changes will need to be done in TermsStringOrdinalFacetExecutor to save TermEntry for included terms. These included TermEntries will be member of InternalStringTermFacet like the ordered entries. When SearchPhaseController merges facet results from different shards, it will add the included entries to the ordered entries. Similar changes would be done for double/long terms facet. \nThank you!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/25622795","html_url":"https://github.com/elastic/elasticsearch/issues/3816#issuecomment-25622795","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3816","id":25622795,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NjIyNzk1","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2013-10-03T14:03:19Z","updated_at":"2013-10-03T14:03:19Z","author_association":"MEMBER","body":"I'm not quite sure if it makes sense to return more facet entries than `size`, I find it misleading. Can't you work around this using scripting? With a script you could control which entries are going to be part of the facet, depending on whether the script returns true or false. Have a look here: http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/search-facets-terms-facet.html .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/25627318","html_url":"https://github.com/elastic/elasticsearch/issues/3816#issuecomment-25627318","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3816","id":25627318,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NjI3MzE4","user":{"login":"ajhalani","id":1163503,"node_id":"MDQ6VXNlcjExNjM1MDM=","avatar_url":"https://avatars3.githubusercontent.com/u/1163503?v=4","gravatar_id":"","url":"https://api.github.com/users/ajhalani","html_url":"https://github.com/ajhalani","followers_url":"https://api.github.com/users/ajhalani/followers","following_url":"https://api.github.com/users/ajhalani/following{/other_user}","gists_url":"https://api.github.com/users/ajhalani/gists{/gist_id}","starred_url":"https://api.github.com/users/ajhalani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajhalani/subscriptions","organizations_url":"https://api.github.com/users/ajhalani/orgs","repos_url":"https://api.github.com/users/ajhalani/repos","events_url":"https://api.github.com/users/ajhalani/events{/privacy}","received_events_url":"https://api.github.com/users/ajhalani/received_events","type":"User","site_admin":false},"created_at":"2013-10-03T14:55:23Z","updated_at":"2013-10-03T14:55:23Z","author_association":"NONE","body":"It seems to me that script can only get the terms satisfying the script, it will not include the top-n terms. If I misunderstood, could you please provide an example with the above data how it would work?\nWith respect to getting more count as misleading, I would disagree since the user is manually including terms so he expects extra results. As supporting examples, Amazon and Linkedin facets also work in similar fashion. \n\nExample amazon.com, language facet on a book search shows **15** results - \n![amazon_15_results](https://f.cloud.github.com/assets/1163503/1262151/0f41ad9c-2c3b-11e3-86c8-58d5bb95cf8b.PNG)\n\nWhen I manually included another term, it now shows **16** shows results - \n![amazon_16_results](https://f.cloud.github.com/assets/1163503/1262160/23f3a452-2c3b-11e3-9660-9aac9e49b64d.PNG)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/40247782","html_url":"https://github.com/elastic/elasticsearch/issues/3816#issuecomment-40247782","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3816","id":40247782,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjQ3Nzgy","user":{"login":"nariman-haghighi","id":544521,"node_id":"MDQ6VXNlcjU0NDUyMQ==","avatar_url":"https://avatars1.githubusercontent.com/u/544521?v=4","gravatar_id":"","url":"https://api.github.com/users/nariman-haghighi","html_url":"https://github.com/nariman-haghighi","followers_url":"https://api.github.com/users/nariman-haghighi/followers","following_url":"https://api.github.com/users/nariman-haghighi/following{/other_user}","gists_url":"https://api.github.com/users/nariman-haghighi/gists{/gist_id}","starred_url":"https://api.github.com/users/nariman-haghighi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nariman-haghighi/subscriptions","organizations_url":"https://api.github.com/users/nariman-haghighi/orgs","repos_url":"https://api.github.com/users/nariman-haghighi/repos","events_url":"https://api.github.com/users/nariman-haghighi/events{/privacy}","received_events_url":"https://api.github.com/users/nariman-haghighi/received_events","type":"User","site_admin":false},"created_at":"2014-04-11T20:05:29Z","updated_at":"2014-04-11T20:05:29Z","author_association":"NONE","body":"+1 would find this feature very useful.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/51634431","html_url":"https://github.com/elastic/elasticsearch/issues/3816#issuecomment-51634431","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3816","id":51634431,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjM0NDMx","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-08-08T17:43:48Z","updated_at":"2014-08-08T17:43:48Z","author_association":"CONTRIBUTOR","body":"Facets are now deprecated, and aggregations has more extensive support for the above.  Closing\n","performed_via_github_app":null}]