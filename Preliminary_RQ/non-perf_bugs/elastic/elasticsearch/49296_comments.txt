[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/555464083","html_url":"https://github.com/elastic/elasticsearch/issues/49296#issuecomment-555464083","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49296","id":555464083,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTQ2NDA4Mw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-11-19T11:24:17Z","updated_at":"2019-11-19T11:24:17Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-analytics-geo (:Analytics/Geo)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/556118342","html_url":"https://github.com/elastic/elasticsearch/issues/49296#issuecomment-556118342","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49296","id":556118342,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NjExODM0Mg==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2019-11-20T17:11:29Z","updated_at":"2019-11-21T00:13:04Z","author_association":"MEMBER","body":"~I started to look into it, and implemented serialization, but then I realized that we didn't support circles in queries for a very long time (if ever) I went all the way back to v2.4.6 and we didn't support circle queries even back then. So, it's not just a serialization issue. Considering that we are trying to deprecate and remove the legacy index strategy, I am not totally sure it's worth the effort to add it there. I think we should discuss it before I sink more time into it.~","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/556152806","html_url":"https://github.com/elastic/elasticsearch/issues/49296#issuecomment-556152806","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49296","id":556152806,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NjE1MjgwNg==","user":{"login":"iverase","id":29038686,"node_id":"MDQ6VXNlcjI5MDM4Njg2","avatar_url":"https://avatars1.githubusercontent.com/u/29038686?v=4","gravatar_id":"","url":"https://api.github.com/users/iverase","html_url":"https://github.com/iverase","followers_url":"https://api.github.com/users/iverase/followers","following_url":"https://api.github.com/users/iverase/following{/other_user}","gists_url":"https://api.github.com/users/iverase/gists{/gist_id}","starred_url":"https://api.github.com/users/iverase/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iverase/subscriptions","organizations_url":"https://api.github.com/users/iverase/orgs","repos_url":"https://api.github.com/users/iverase/repos","events_url":"https://api.github.com/users/iverase/events{/privacy}","received_events_url":"https://api.github.com/users/iverase/received_events","type":"User","site_admin":false},"created_at":"2019-11-20T17:38:10Z","updated_at":"2019-11-20T17:38:10Z","author_association":"CONTRIBUTOR","body":"Circles queries are supported for LegacyGeoShape (aka prefix trees). I think this needs to be fixed.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/556163110","html_url":"https://github.com/elastic/elasticsearch/issues/49296#issuecomment-556163110","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49296","id":556163110,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NjE2MzExMA==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2019-11-20T17:46:48Z","updated_at":"2019-11-20T17:46:48Z","author_association":"MEMBER","body":"It doesn't look like there is support on the [elasticsearch side](https://github.com/elastic/elasticsearch/blob/13a8835e5a8615aeb8304b48fd9e543a83361e13/server/src/main/java/org/elasticsearch/index/query/LegacyGeoShapeQueryProcessor.java#L126).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/556169405","html_url":"https://github.com/elastic/elasticsearch/issues/49296#issuecomment-556169405","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49296","id":556169405,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NjE2OTQwNQ==","user":{"login":"iverase","id":29038686,"node_id":"MDQ6VXNlcjI5MDM4Njg2","avatar_url":"https://avatars1.githubusercontent.com/u/29038686?v=4","gravatar_id":"","url":"https://api.github.com/users/iverase","html_url":"https://github.com/iverase","followers_url":"https://api.github.com/users/iverase/followers","following_url":"https://api.github.com/users/iverase/following{/other_user}","gists_url":"https://api.github.com/users/iverase/gists{/gist_id}","starred_url":"https://api.github.com/users/iverase/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iverase/subscriptions","organizations_url":"https://api.github.com/users/iverase/orgs","repos_url":"https://api.github.com/users/iverase/repos","events_url":"https://api.github.com/users/iverase/events{/privacy}","received_events_url":"https://api.github.com/users/iverase/received_events","type":"User","site_admin":false},"created_at":"2019-11-20T17:52:10Z","updated_at":"2019-11-20T17:52:10Z","author_association":"CONTRIBUTOR","body":"https://discuss.elastic.co/t/circle-geo-shape-query-not-supported-in-es7-4-2/208404/2","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/556216025","html_url":"https://github.com/elastic/elasticsearch/issues/49296#issuecomment-556216025","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49296","id":556216025,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NjIxNjAyNQ==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2019-11-20T18:31:19Z","updated_at":"2019-11-20T18:57:19Z","author_association":"MEMBER","body":"Reproduction:\r\n\r\n```\r\nDELETE test\r\nPUT test\r\n{\r\n  \"mappings\": {\r\n    \"doc\": {\r\n      \"properties\": {\r\n        \"location\": {\r\n          \"type\": \"geo_shape\",\r\n          \"tree\": \"geohash\",\r\n          \"strategy\": \"recursive\"\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nPUT test/doc/1\r\n{\r\n  \"location\": {\r\n    \"type\": \"circle\",\r\n    \"coordinates\": [10, 20],\r\n    \"radius\": \"100m\"\r\n  }\r\n}\r\n\r\nPOST test/doc/_search\r\n{\r\n  \"query\": {\r\n    \"geo_shape\": {\r\n      \"location\": {\r\n        \"shape\": {\r\n          \"type\": \"circle\",\r\n          \"coordinates\": [\r\n            10,\r\n            20\r\n          ],\r\n          \"radius\": \"100m\"\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/556568982","html_url":"https://github.com/elastic/elasticsearch/issues/49296#issuecomment-556568982","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49296","id":556568982,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NjU2ODk4Mg==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2019-11-21T00:12:50Z","updated_at":"2019-11-21T00:12:50Z","author_association":"MEMBER","body":"Just to clarify. I was looking at the wrong place. We did indeed support it, but I lost it during refactoring in 7.4.0. I opened PR that restores this functionality. ","performed_via_github_app":null}]