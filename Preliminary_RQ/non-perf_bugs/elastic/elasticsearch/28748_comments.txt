[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/367008040","html_url":"https://github.com/elastic/elasticsearch/issues/28748#issuecomment-367008040","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28748","id":367008040,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NzAwODA0MA==","user":{"login":"albertzaharovits","id":4568420,"node_id":"MDQ6VXNlcjQ1Njg0MjA=","avatar_url":"https://avatars2.githubusercontent.com/u/4568420?v=4","gravatar_id":"","url":"https://api.github.com/users/albertzaharovits","html_url":"https://github.com/albertzaharovits","followers_url":"https://api.github.com/users/albertzaharovits/followers","following_url":"https://api.github.com/users/albertzaharovits/following{/other_user}","gists_url":"https://api.github.com/users/albertzaharovits/gists{/gist_id}","starred_url":"https://api.github.com/users/albertzaharovits/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertzaharovits/subscriptions","organizations_url":"https://api.github.com/users/albertzaharovits/orgs","repos_url":"https://api.github.com/users/albertzaharovits/repos","events_url":"https://api.github.com/users/albertzaharovits/events{/privacy}","received_events_url":"https://api.github.com/users/albertzaharovits/received_events","type":"User","site_admin":false},"created_at":"2018-02-20T15:11:14Z","updated_at":"2018-02-20T15:11:14Z","author_association":"CONTRIBUTOR","body":"@elastic/es-core-infra ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/367008558","html_url":"https://github.com/elastic/elasticsearch/issues/28748#issuecomment-367008558","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28748","id":367008558,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NzAwODU1OA==","user":{"login":"albertzaharovits","id":4568420,"node_id":"MDQ6VXNlcjQ1Njg0MjA=","avatar_url":"https://avatars2.githubusercontent.com/u/4568420?v=4","gravatar_id":"","url":"https://api.github.com/users/albertzaharovits","html_url":"https://github.com/albertzaharovits","followers_url":"https://api.github.com/users/albertzaharovits/followers","following_url":"https://api.github.com/users/albertzaharovits/following{/other_user}","gists_url":"https://api.github.com/users/albertzaharovits/gists{/gist_id}","starred_url":"https://api.github.com/users/albertzaharovits/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertzaharovits/subscriptions","organizations_url":"https://api.github.com/users/albertzaharovits/orgs","repos_url":"https://api.github.com/users/albertzaharovits/repos","events_url":"https://api.github.com/users/albertzaharovits/events{/privacy}","received_events_url":"https://api.github.com/users/albertzaharovits/received_events","type":"User","site_admin":false},"created_at":"2018-02-20T15:12:54Z","updated_at":"2018-02-20T15:12:54Z","author_association":"CONTRIBUTOR","body":"This looks like: https://github.com/elastic/elasticsearch/issues/27289\r\nbut should have been fixed in 6.x https://github.com/elastic/elasticsearch/issues/27289#issuecomment-342501587 ?\r\nIs it the same underlying cause @DaveCTurner , can you please take a look?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/367013661","html_url":"https://github.com/elastic/elasticsearch/issues/28748#issuecomment-367013661","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28748","id":367013661,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NzAxMzY2MQ==","user":{"login":"cstack89","id":932747,"node_id":"MDQ6VXNlcjkzMjc0Nw==","avatar_url":"https://avatars1.githubusercontent.com/u/932747?v=4","gravatar_id":"","url":"https://api.github.com/users/cstack89","html_url":"https://github.com/cstack89","followers_url":"https://api.github.com/users/cstack89/followers","following_url":"https://api.github.com/users/cstack89/following{/other_user}","gists_url":"https://api.github.com/users/cstack89/gists{/gist_id}","starred_url":"https://api.github.com/users/cstack89/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cstack89/subscriptions","organizations_url":"https://api.github.com/users/cstack89/orgs","repos_url":"https://api.github.com/users/cstack89/repos","events_url":"https://api.github.com/users/cstack89/events{/privacy}","received_events_url":"https://api.github.com/users/cstack89/received_events","type":"User","site_admin":false},"created_at":"2018-02-20T15:27:40Z","updated_at":"2018-02-20T15:27:40Z","author_association":"NONE","body":"Still early but it looks like it's working for me if I change to delayed expansion for ES_CLASSPATH and ES_JVM_OPTIONS in elasticsearch.bat line 46 (or whichever line sets the JVM_OPTIONS).\r\n\r\nAnd in elasticsearch-service.bat where it sets LOG_OPTS I turned on delayed expansion for LOG_OPTS and  SERVICE_LOG_DIR and also did the delayed expansion change for ES_CLASSPATH and ES_JVM_OPTIONS where it sets up JVM_OPTIONS (around line 104) ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/367145676","html_url":"https://github.com/elastic/elasticsearch/issues/28748#issuecomment-367145676","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28748","id":367145676,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NzE0NTY3Ng==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-02-20T22:38:41Z","updated_at":"2018-02-20T22:38:41Z","author_association":"MEMBER","body":"This has nothing to do with #27289, the problem is not the spaces. The problem is the closing parenthesis in the path, it busts the `for` statement. I have a fix.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/367146843","html_url":"https://github.com/elastic/elasticsearch/issues/28748#issuecomment-367146843","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28748","id":367146843,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NzE0Njg0Mw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-02-20T22:43:03Z","updated_at":"2018-02-20T22:43:03Z","author_association":"MEMBER","body":"> 2. Unzip ES somewhere in Program Files or Program Files (x86).\r\n\r\nThis reproduction is not accurate. All is well in `Program Files` but not `Program Files (x86)` (because of the closing `)`.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/367152761","html_url":"https://github.com/elastic/elasticsearch/issues/28748#issuecomment-367152761","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28748","id":367152761,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NzE1Mjc2MQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-02-20T23:06:09Z","updated_at":"2018-02-20T23:06:09Z","author_association":"MEMBER","body":"Also, another reason that #27289 is not relevant: the code tripping here in the batch file is new in 6.2 and does not exist in 5.6 at all.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/367154193","html_url":"https://github.com/elastic/elasticsearch/issues/28748#issuecomment-367154193","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28748","id":367154193,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NzE1NDE5Mw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-02-20T23:12:43Z","updated_at":"2018-02-20T23:12:43Z","author_association":"MEMBER","body":"I opened #28753.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/367374914","html_url":"https://github.com/elastic/elasticsearch/issues/28748#issuecomment-367374914","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28748","id":367374914,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NzM3NDkxNA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-02-21T16:01:20Z","updated_at":"2018-02-21T16:01:20Z","author_association":"MEMBER","body":"Thanks so much for the report @cstack89.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/367775160","html_url":"https://github.com/elastic/elasticsearch/issues/28748#issuecomment-367775160","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28748","id":367775160,"node_id":"MDEyOklzc3VlQ29tbWVudDM2Nzc3NTE2MA==","user":{"login":"cstack89","id":932747,"node_id":"MDQ6VXNlcjkzMjc0Nw==","avatar_url":"https://avatars1.githubusercontent.com/u/932747?v=4","gravatar_id":"","url":"https://api.github.com/users/cstack89","html_url":"https://github.com/cstack89","followers_url":"https://api.github.com/users/cstack89/followers","following_url":"https://api.github.com/users/cstack89/following{/other_user}","gists_url":"https://api.github.com/users/cstack89/gists{/gist_id}","starred_url":"https://api.github.com/users/cstack89/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cstack89/subscriptions","organizations_url":"https://api.github.com/users/cstack89/orgs","repos_url":"https://api.github.com/users/cstack89/repos","events_url":"https://api.github.com/users/cstack89/events{/privacy}","received_events_url":"https://api.github.com/users/cstack89/received_events","type":"User","site_admin":false},"created_at":"2018-02-22T18:28:18Z","updated_at":"2018-02-22T18:28:18Z","author_association":"NONE","body":"Sorry I've been out of office, I also had to change \r\n\r\n`if \"%LOG_OPTS%\" == \"\" set LOG_OPTS=--LogPath \"%SERVICE_LOG_DIR%\" --LogPrefix \"%SERVICE_ID%\" --StdError auto --StdOutput auto`\r\n\r\nto\r\n \r\n`if \"!LOG_OPTS!\" == \"\" set LOG_OPTS=--LogPath \"%SERVICE_LOG_DIR%\" --LogPrefix \"%SERVICE_ID%\" --StdError auto --StdOutput auto`\r\n\r\nin elasticsearch-service.bat. Otherwise it does not make it past that line. Are you not seeing that behavior? \r\n\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/368540229","html_url":"https://github.com/elastic/elasticsearch/issues/28748#issuecomment-368540229","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28748","id":368540229,"node_id":"MDEyOklzc3VlQ29tbWVudDM2ODU0MDIyOQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-02-26T15:28:41Z","updated_at":"2018-02-26T15:28:41Z","author_association":"MEMBER","body":"@cstack89 No, I did not see that behavior; what are you setting the relevant environment variables here to?","performed_via_github_app":null}]