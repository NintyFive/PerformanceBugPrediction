{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/24599","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24599/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24599/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24599/events","html_url":"https://github.com/elastic/elasticsearch/issues/24599","id":227794355,"node_id":"MDU6SXNzdWUyMjc3OTQzNTU=","number":24599,"title":"[CI] org.elasticsearch.recovery.RelocationIT.testIndexAndRelocateConcurrently fails due to global checkpoint mismatch","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"labels":[{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"assignees":[{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false}],"milestone":null,"comments":9,"created_at":"2017-05-10T20:03:32Z","updated_at":"2017-05-29T15:45:11Z","closed_at":"2017-05-29T15:38:04Z","author_association":"MEMBER","active_lock_reason":null,"body":"Using\r\n\r\n```\r\ngradle :core:integTest -Dtests.seed=43166F36FCC6395D -Dtests.class=org.elasticsearch.recovery.RelocationIT -Dtests.method=\"testIndexAndRelocateConcurrently\" -Dtests.security.manager=true -Dtests.locale=hu-HU -Dtests.timezone=Antarctica/Davis\r\n```\r\n\r\nI get the following reproducible failure:\r\n\r\n```\r\nFAILURE 23.7s | RelocationIT.testIndexAndRelocateConcurrently <<< FAILURES!\r\n   > Throwable #1: java.lang.AssertionError: [test][4], node[SSgDlhBBQiWaq17k34x9VA], [R], s[STARTED], a[id=5Z9JOyGLT6WZfoF7z3ItzA] global checkpoint mismatch\r\n   > Expected: <27L>\r\n   >      but: was <20L>\r\n   > \tat __randomizedtesting.SeedInfo.seed([43166F36FCC6395D:9C276EBBE0C326FE]:0)\r\n   > \tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n   > \tat org.elasticsearch.recovery.RelocationIT.lambda$beforeIndexDeletion$1(RelocationIT.java:127)\r\n   > \tat org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:716)\r\n   > \tat org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:690)\r\n   > \tat org.elasticsearch.recovery.RelocationIT.beforeIndexDeletion(RelocationIT.java:109)\r\n   > \tat org.elasticsearch.test.ESIntegTestCase.afterInternal(ESIntegTestCase.java:581)\r\n   > \tat org.elasticsearch.test.ESIntegTestCase.cleanUpCluster(ESIntegTestCase.java:2059)\r\n   > \tat java.lang.Thread.run(Thread.java:745)\r\n```\r\n\r\nOriginally seen at https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+pull-request/1385/console , but as that's a PR-build, the log for it might be gone soon. I've uploaded a log from my local running in case the Jenkins log goes away - [err.txt](https://github.com/elastic/elasticsearch/files/991077/err.txt)\r\n\r\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}