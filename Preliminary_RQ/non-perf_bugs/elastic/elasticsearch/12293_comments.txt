[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/122023578","html_url":"https://github.com/elastic/elasticsearch/issues/12293#issuecomment-122023578","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12293","id":122023578,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjAyMzU3OA==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2015-07-16T17:06:07Z","updated_at":"2015-07-16T17:06:07Z","author_association":"CONTRIBUTOR","body":"This looks easier to understand to me than MLT for multiple documents. However I think there are too many parameters here. I know we have them on MLT as well but I'm concerned we are investing time and energy in supporting these parameters while few people are using them. I would rather keep as few parameters as possible and invest time into making it work better out of the box?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/122026808","html_url":"https://github.com/elastic/elasticsearch/issues/12293#issuecomment-122026808","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12293","id":122026808,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjAyNjgwOA==","user":{"login":"alexksikes","id":43475,"node_id":"MDQ6VXNlcjQzNDc1","avatar_url":"https://avatars2.githubusercontent.com/u/43475?v=4","gravatar_id":"","url":"https://api.github.com/users/alexksikes","html_url":"https://github.com/alexksikes","followers_url":"https://api.github.com/users/alexksikes/followers","following_url":"https://api.github.com/users/alexksikes/following{/other_user}","gists_url":"https://api.github.com/users/alexksikes/gists{/gist_id}","starred_url":"https://api.github.com/users/alexksikes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexksikes/subscriptions","organizations_url":"https://api.github.com/users/alexksikes/orgs","repos_url":"https://api.github.com/users/alexksikes/repos","events_url":"https://api.github.com/users/alexksikes/events{/privacy}","received_events_url":"https://api.github.com/users/alexksikes/received_events","type":"User","site_admin":false},"created_at":"2015-07-16T17:21:15Z","updated_at":"2015-07-16T17:21:15Z","author_association":"CONTRIBUTOR","body":"Thanks for the quick feedback. \n\nThe `items` and `terms` parameters are nothing more than the same parameters as the mTVs API. So in terms of support we are re-using these parsers and then simply making a call to the mTVs API. The only new code to be written is for the `query` parameter, but then it seems fairly straight forward to write the code to select the best terms from the characteristic vectors and generate a boolean OR query from these terms. The `combination` sub-parameter might be a little more tricky though, but we might not need to support this at first. \n\nIf you think there are two many options, which can confuse the user, it is also possible to restrict them and keep it simple. But under the hood, it is term vectors code with terms filtering.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/122031132","html_url":"https://github.com/elastic/elasticsearch/issues/12293#issuecomment-122031132","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12293","id":122031132,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjAzMTEzMg==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2015-07-16T17:37:29Z","updated_at":"2015-07-16T17:37:29Z","author_association":"MEMBER","body":"Can we call it \"documents\" query instead of \"items\"? We index documents, documents are what the items query refers to (with _id and such) and we don't use the terminology \"items\" anywhere I know of? Since we are aiming for simplicity, I don't think we should reuse terminology from MLT where it doesn't make sense.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/122528429","html_url":"https://github.com/elastic/elasticsearch/issues/12293#issuecomment-122528429","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12293","id":122528429,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjUyODQyOQ==","user":{"login":"mikemccand","id":796508,"node_id":"MDQ6VXNlcjc5NjUwOA==","avatar_url":"https://avatars0.githubusercontent.com/u/796508?v=4","gravatar_id":"","url":"https://api.github.com/users/mikemccand","html_url":"https://github.com/mikemccand","followers_url":"https://api.github.com/users/mikemccand/followers","following_url":"https://api.github.com/users/mikemccand/following{/other_user}","gists_url":"https://api.github.com/users/mikemccand/gists{/gist_id}","starred_url":"https://api.github.com/users/mikemccand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikemccand/subscriptions","organizations_url":"https://api.github.com/users/mikemccand/orgs","repos_url":"https://api.github.com/users/mikemccand/repos","events_url":"https://api.github.com/users/mikemccand/events{/privacy}","received_events_url":"https://api.github.com/users/mikemccand/received_events","type":"User","site_admin":false},"created_at":"2015-07-18T10:42:26Z","updated_at":"2015-07-18T10:42:26Z","author_association":"CONTRIBUTOR","body":"This looks like a nice generalization of MLT!  I agree \"documents\" seems better since it's a known name users all understand already.\n\nCan you give some example real-world use cases?  I know you have a cool screen shot somewhere showing how to find similar movies :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/122564139","html_url":"https://github.com/elastic/elasticsearch/issues/12293#issuecomment-122564139","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12293","id":122564139,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjU2NDEzOQ==","user":{"login":"alexksikes","id":43475,"node_id":"MDQ6VXNlcjQzNDc1","avatar_url":"https://avatars2.githubusercontent.com/u/43475?v=4","gravatar_id":"","url":"https://api.github.com/users/alexksikes","html_url":"https://github.com/alexksikes","followers_url":"https://api.github.com/users/alexksikes/followers","following_url":"https://api.github.com/users/alexksikes/following{/other_user}","gists_url":"https://api.github.com/users/alexksikes/gists{/gist_id}","starred_url":"https://api.github.com/users/alexksikes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexksikes/subscriptions","organizations_url":"https://api.github.com/users/alexksikes/orgs","repos_url":"https://api.github.com/users/alexksikes/repos","events_url":"https://api.github.com/users/alexksikes/events{/privacy}","received_events_url":"https://api.github.com/users/alexksikes/received_events","type":"User","site_admin":false},"created_at":"2015-07-18T17:04:01Z","updated_at":"2015-07-18T18:35:57Z","author_association":"CONTRIBUTOR","body":"@mikemccand Thanks for the feedback.\n\nThere is a good reason why this is called item query as opposed to document query, but I still need to write the proposal on Features. Right now it is best to think of this as a generalized MLT, just more powerful and easier to understand.\n\nConcerning the screen shot, I think that was for the [intensity highlighter](https://github.com/elastic/elasticsearch/issues/12326) which I think would be much needed in the context of MLT or Item Query.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/122581330","html_url":"https://github.com/elastic/elasticsearch/issues/12293#issuecomment-122581330","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12293","id":122581330,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjU4MTMzMA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2015-07-18T19:11:37Z","updated_at":"2015-07-18T19:11:37Z","author_association":"MEMBER","body":"> There is a good reason why this is called item query as opposed to document query, but I still need to write the proposal on Features. Right now it is best to think of this as a generalized MLT, just more powerful and easier to understand.\n\nCan you explain the reasoning for item query without referencing MLT? The point I was making is we shouldn't be stuck in naming simply because this is a \"generalized MLT\". Think of someone who has never used MLT: what makes sense to them, a query that you pass \"documents\" (a term already used throughout), or a query that you pass \"items\" (a term they haven't seen at all in our documentation)?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/122660134","html_url":"https://github.com/elastic/elasticsearch/issues/12293#issuecomment-122660134","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12293","id":122660134,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjY2MDEzNA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-07-19T13:06:02Z","updated_at":"2015-07-19T13:06:02Z","author_association":"CONTRIBUTOR","body":">  I would rather keep as few parameters as possible and invest time into making it work better out of the box?\n\nI agree - I'd like to hear about the variety of use cases for this feature.  If there are one or two use cases which make up 95%, (eg query expansion) then perhaps we can provide something more specific which just works out of the box.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/122853471","html_url":"https://github.com/elastic/elasticsearch/issues/12293#issuecomment-122853471","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12293","id":122853471,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjg1MzQ3MQ==","user":{"login":"alexksikes","id":43475,"node_id":"MDQ6VXNlcjQzNDc1","avatar_url":"https://avatars2.githubusercontent.com/u/43475?v=4","gravatar_id":"","url":"https://api.github.com/users/alexksikes","html_url":"https://github.com/alexksikes","followers_url":"https://api.github.com/users/alexksikes/followers","following_url":"https://api.github.com/users/alexksikes/following{/other_user}","gists_url":"https://api.github.com/users/alexksikes/gists{/gist_id}","starred_url":"https://api.github.com/users/alexksikes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexksikes/subscriptions","organizations_url":"https://api.github.com/users/alexksikes/orgs","repos_url":"https://api.github.com/users/alexksikes/repos","events_url":"https://api.github.com/users/alexksikes/events{/privacy}","received_events_url":"https://api.github.com/users/alexksikes/received_events","type":"User","site_admin":false},"created_at":"2015-07-20T11:20:33Z","updated_at":"2015-07-20T11:20:33Z","author_association":"CONTRIBUTOR","body":"Sure let's take an example in the context of image search and computational biology. The [YRC Public Image Repository](http://images.yeastrc.org/imagerepo/searchImageRepoInit.do) is a large image collection of yeasts which have been genetically modified and studied. If you wanted to provide a \"more like this\" feature for that system, the first thing you may want to try is reduce each image to an histogram of intensities, turn these histograms into vectors and perform nearest neighbor search in that space. The hope is that images with similar histograms are probably related. \n\nThe picture below shows more precisely how intensity histograms are computed. Here we simply go over each pixel, or neighborhood around that pixel, and count the intensity values.\n\n![intensity_histograms](https://cloud.githubusercontent.com/assets/43475/8773190/a12af5ba-2ed2-11e5-9184-584e2a0b562e.png)\n\nThis just one type of features for images, but there are many others for all types of applications. For example, we could have further considered texture features or shape features. However, no matter what types of features we choose, the same process could be applied. The feature values are extracted from the item, and then put into a vector so that we can perform nearest neighbor search in that space.\n\nHow is this related to Item Query?\n\nOur feature space is no longer tf-idf based, but rather intensity counts based. If we want to have decent results, we would need to change the default Lucene similarity to take these counts into account. We would also need a custom way to generate the characteristic vector for the image, which is no longer based of tf-idf. This later correspond to the `terms` parameter of item query which in the future should allow for scripting. \n\nI haven't mentioned how these feature vectors would be stored. There are different approaches, but we could for example imagine storing them as unique tokens with payloads corresponding to the intensity values, all in one field.\n\nSo the process has been to go from a document, which is not necessarily textual, that we call item, to a characteristic vector of terms or features, not necessarily based of tf-idf, and finally to an actual textual query.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/123199626","html_url":"https://github.com/elastic/elasticsearch/issues/12293#issuecomment-123199626","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12293","id":123199626,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzE5OTYyNg==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2015-07-21T07:34:42Z","updated_at":"2015-07-21T07:34:42Z","author_association":"CONTRIBUTOR","body":"> Can we call it \"documents\" query instead of \"items\"?\n\n+1 to documents, this looks more consistent to me\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/372760589","html_url":"https://github.com/elastic/elasticsearch/issues/12293#issuecomment-372760589","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12293","id":372760589,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Mjc2MDU4OQ==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2018-03-13T17:58:40Z","updated_at":"2018-03-13T17:58:40Z","author_association":"MEMBER","body":"cc @elastic/es-search-aggs ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/478979078","html_url":"https://github.com/elastic/elasticsearch/issues/12293#issuecomment-478979078","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12293","id":478979078,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODk3OTA3OA==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2019-04-02T12:46:56Z","updated_at":"2019-04-02T12:46:56Z","author_association":"MEMBER","body":"The linked [issue](https://github.com/elastic/elasticsearch/issues/11814) is closed so nothing further here, closing.","performed_via_github_app":null}]