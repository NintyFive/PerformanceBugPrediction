{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/24806","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24806/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24806/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24806/events","html_url":"https://github.com/elastic/elasticsearch/issues/24806","id":230070515,"node_id":"MDU6SXNzdWUyMzAwNzA1MTU=","number":24806,"title":"Refreshes caused by realtime gets are not counted in the refresh stats","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"labels":[{"id":146836529,"node_id":"MDU6TGFiZWwxNDY4MzY1Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Stats","name":":Core/Features/Stats","color":"0e8a16","default":false,"description":"Statistics tracking and retrieval APIs"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":92913858,"node_id":"MDU6TGFiZWw5MjkxMzg1OA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/good%20first%20issue","name":"good first issue","color":"07569b","default":true,"description":"low hanging fruit"},{"id":110815527,"node_id":"MDU6TGFiZWwxMTA4MTU1Mjc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/help%20wanted","name":"help wanted","color":"207de5","default":true,"description":"adoptme"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-05-19T19:36:29Z","updated_at":"2017-06-06T16:39:33Z","closed_at":"2017-06-06T16:39:33Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"I was investigating something else and it *looks* like refreshes caused by realtime gets do not get factored into the refresh cycle. I was just looking around the code and that is how it looked. This reproduces the problem, I think:\r\n\r\n```\r\nDELETE /test\r\n\r\nPUT /test\r\n{\r\n  \"settings\": {\r\n    \"refresh_interval\": -1\r\n  }\r\n}\r\n\r\nPUT /test/doc/1\r\n{\r\n  \"test\": \"TEST\"\r\n}\r\n\r\nGET /test/doc/1\r\n\r\nGET /test/_stats/refresh\r\n```\r\n\r\nThe refresh stats should show a refresh. Actually, it might be useful to track just how many of these we're getting in their own stat either on their own or in addition to refresh stats because many of them is indicative of a problem.","closed_by":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"performed_via_github_app":null}