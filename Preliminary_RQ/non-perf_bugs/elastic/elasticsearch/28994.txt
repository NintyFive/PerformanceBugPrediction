{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/28994","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28994/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28994/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28994/events","html_url":"https://github.com/elastic/elasticsearch/issues/28994","id":304381263,"node_id":"MDU6SXNzdWUzMDQzODEyNjM=","number":28994,"title":"Automatic prefix on text fields should index offsets and term vectors if they are activated on the parent field","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"labels":[{"id":146832564,"node_id":"MDU6TGFiZWwxNDY4MzI1NjQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Search","name":":Search/Search","color":"0e8a16","default":false,"description":"Search-related issues that do not fall into other categories"},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-03-12T13:56:16Z","updated_at":"2018-03-16T11:39:47Z","closed_at":"2018-03-16T11:39:47Z","author_association":"MEMBER","active_lock_reason":null,"body":"The new option `index_prefix` on `text` fields that automatically creates a sub-field to index edge-ngrams in order to speed up prefix queries does not check the index options of the parent field.\r\nIf `offsets` or `term_vectors` for instance are indexed in the parent `text` field, they will be omitted in the prefix sub-field. Currently this sub-field only indexes doc and disables all other options, this was done to make sure that this sub-field does not use extra disk space for features that won't be used by the query. Though it could be beneficial to apply the same options than the parent field if we want to use this sub-field for highlighting prefix queries. Currently highlighting prefix queries on a `text` field does not work in conjunction with this new option (we create a term query that targets a different field) but we want to handle this case in the future so it would be beneficial to create this sub-field with the index options set on the parent field if these options are used by the highlighters. This could speed up the prefix query highlighting since a prefix query on that field is a simple term query and since this feature has not been released yet we could also avoid BWC issue by adding these options in the first release of this feature (6.3).","closed_by":{"login":"romseygeek","id":1347065,"node_id":"MDQ6VXNlcjEzNDcwNjU=","avatar_url":"https://avatars0.githubusercontent.com/u/1347065?v=4","gravatar_id":"","url":"https://api.github.com/users/romseygeek","html_url":"https://github.com/romseygeek","followers_url":"https://api.github.com/users/romseygeek/followers","following_url":"https://api.github.com/users/romseygeek/following{/other_user}","gists_url":"https://api.github.com/users/romseygeek/gists{/gist_id}","starred_url":"https://api.github.com/users/romseygeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/romseygeek/subscriptions","organizations_url":"https://api.github.com/users/romseygeek/orgs","repos_url":"https://api.github.com/users/romseygeek/repos","events_url":"https://api.github.com/users/romseygeek/events{/privacy}","received_events_url":"https://api.github.com/users/romseygeek/received_events","type":"User","site_admin":false},"performed_via_github_app":null}