[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/350546740","html_url":"https://github.com/elastic/elasticsearch/issues/18543#issuecomment-350546740","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18543","id":350546740,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDU0Njc0MA==","user":{"login":"luizgpsantos","id":794133,"node_id":"MDQ6VXNlcjc5NDEzMw==","avatar_url":"https://avatars1.githubusercontent.com/u/794133?v=4","gravatar_id":"","url":"https://api.github.com/users/luizgpsantos","html_url":"https://github.com/luizgpsantos","followers_url":"https://api.github.com/users/luizgpsantos/followers","following_url":"https://api.github.com/users/luizgpsantos/following{/other_user}","gists_url":"https://api.github.com/users/luizgpsantos/gists{/gist_id}","starred_url":"https://api.github.com/users/luizgpsantos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luizgpsantos/subscriptions","organizations_url":"https://api.github.com/users/luizgpsantos/orgs","repos_url":"https://api.github.com/users/luizgpsantos/repos","events_url":"https://api.github.com/users/luizgpsantos/events{/privacy}","received_events_url":"https://api.github.com/users/luizgpsantos/received_events","type":"User","site_admin":false},"created_at":"2017-12-10T12:58:21Z","updated_at":"2017-12-10T12:58:21Z","author_association":"CONTRIBUTOR","body":"It seems that the snapshot status endpoint exposes this information in stats.total_size field:\r\n\r\nGET /_snapshot/my_backup/snapshot_1/_status?human","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/375354304","html_url":"https://github.com/elastic/elasticsearch/issues/18543#issuecomment-375354304","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18543","id":375354304,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTM1NDMwNA==","user":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"created_at":"2018-03-22T15:45:19Z","updated_at":"2018-03-22T15:45:19Z","author_association":"CONTRIBUTOR","body":"@luizgpsantos that's different, that's just the size of the increment. \r\n\r\n@tlrx and I looked at the code and think this should be simple to compute and add to the stats.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/381625465","html_url":"https://github.com/elastic/elasticsearch/issues/18543#issuecomment-381625465","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18543","id":381625465,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTYyNTQ2NQ==","user":{"login":"vladimirdolzhenko","id":209440,"node_id":"MDQ6VXNlcjIwOTQ0MA==","avatar_url":"https://avatars0.githubusercontent.com/u/209440?v=4","gravatar_id":"","url":"https://api.github.com/users/vladimirdolzhenko","html_url":"https://github.com/vladimirdolzhenko","followers_url":"https://api.github.com/users/vladimirdolzhenko/followers","following_url":"https://api.github.com/users/vladimirdolzhenko/following{/other_user}","gists_url":"https://api.github.com/users/vladimirdolzhenko/gists{/gist_id}","starred_url":"https://api.github.com/users/vladimirdolzhenko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vladimirdolzhenko/subscriptions","organizations_url":"https://api.github.com/users/vladimirdolzhenko/orgs","repos_url":"https://api.github.com/users/vladimirdolzhenko/repos","events_url":"https://api.github.com/users/vladimirdolzhenko/events{/privacy}","received_events_url":"https://api.github.com/users/vladimirdolzhenko/received_events","type":"User","site_admin":false},"created_at":"2018-04-16T14:47:55Z","updated_at":"2018-04-17T06:57:20Z","author_association":"CONTRIBUTOR","body":"There are properties **total_size_in_bytes** and **processed_size_in_bytes** in snapshot stats. \r\n\r\nIn fact **total_size_in_bytes** shows difference size between previous snapshot and current one, **processed_size_in_bytes** shows the progress of making snapshot - so it in in a range between 0 and  **total_size_in_bytes**.\r\n\r\nIf we add another property, e.g. **accumulated_size_in_bytes** - it will confuse usage even more. Instead of that I'd like to **break** the semantic of **total_size_in_bytes** - it will reflect indeed **total** size of snapshot, while another property **diff_size** will reflect difference size between previous snapshot and current one (**processed_size_in_bytes** will be in a range 0 and **diff_size**)\r\n\r\nAnother question: is it worth to align **number_of_files** to be consistent with  **total_size_in_bytes** and **diff_size** - it will require adding one more extra property like **diff_number_of_files** ?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/383075398","html_url":"https://github.com/elastic/elasticsearch/issues/18543#issuecomment-383075398","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18543","id":383075398,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzA3NTM5OA==","user":{"login":"vladimirdolzhenko","id":209440,"node_id":"MDQ6VXNlcjIwOTQ0MA==","avatar_url":"https://avatars0.githubusercontent.com/u/209440?v=4","gravatar_id":"","url":"https://api.github.com/users/vladimirdolzhenko","html_url":"https://github.com/vladimirdolzhenko","followers_url":"https://api.github.com/users/vladimirdolzhenko/followers","following_url":"https://api.github.com/users/vladimirdolzhenko/following{/other_user}","gists_url":"https://api.github.com/users/vladimirdolzhenko/gists{/gist_id}","starred_url":"https://api.github.com/users/vladimirdolzhenko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vladimirdolzhenko/subscriptions","organizations_url":"https://api.github.com/users/vladimirdolzhenko/orgs","repos_url":"https://api.github.com/users/vladimirdolzhenko/repos","events_url":"https://api.github.com/users/vladimirdolzhenko/events{/privacy}","received_events_url":"https://api.github.com/users/vladimirdolzhenko/received_events","type":"User","site_admin":false},"created_at":"2018-04-20T12:06:37Z","updated_at":"2018-04-20T12:06:37Z","author_association":"CONTRIBUTOR","body":"To summarize the change:\r\n\r\nstats (for op like `GET /_snapshot/backup1/snapshot_2/_status?human`) looks\r\n\r\n**before:**\r\n```json\r\n\"stats\": {\r\n\"number_of_files\": 8,\r\n\"processed_files\": 8,\r\n\"total_size\": \"4.6kb\",\r\n\"total_size_in_bytes\": 4797,\r\n\"processed_size\": \"4.6kb\",\r\n\"processed_size_in_bytes\": 4797,\r\n\"start_time_in_millis\": 1523882347327,\r\n\"time\": \"225ms\",\r\n\"time_in_millis\": 225\r\n}\r\n```\r\n**after:**\r\n```json\r\n\"stats\": {\r\n\"incremental_file_count\": 8,\r\n\"total_file_count\": 11,\r\n\"processed_file_count\": 8,\r\n\"incremental_size\": \"4.6kb\",\r\n\"incremental_size_in_bytes\": 4797,\r\n\"total_size\": \"8kb\",\r\n\"total_size_in_bytes\": 8276,\r\n\"processed_size\": \"4.6kb\",\r\n\"processed_size_in_bytes\": 4797,\r\n\"start_time_in_millis\": 1523882347327,\r\n\"time\": \"225ms\",\r\n\"time_in_millis\": 225\r\n}\r\n```","performed_via_github_app":null}]