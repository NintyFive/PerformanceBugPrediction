{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/5045","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5045/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5045/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5045/events","html_url":"https://github.com/elastic/elasticsearch/issues/5045","id":27132848,"node_id":"MDU6SXNzdWUyNzEzMjg0OA==","number":5045,"title":"relocating replicas displays wrong information","user":{"login":"faxm0dem","id":112638,"node_id":"MDQ6VXNlcjExMjYzOA==","avatar_url":"https://avatars2.githubusercontent.com/u/112638?v=4","gravatar_id":"","url":"https://api.github.com/users/faxm0dem","html_url":"https://github.com/faxm0dem","followers_url":"https://api.github.com/users/faxm0dem/followers","following_url":"https://api.github.com/users/faxm0dem/following{/other_user}","gists_url":"https://api.github.com/users/faxm0dem/gists{/gist_id}","starred_url":"https://api.github.com/users/faxm0dem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/faxm0dem/subscriptions","organizations_url":"https://api.github.com/users/faxm0dem/orgs","repos_url":"https://api.github.com/users/faxm0dem/repos","events_url":"https://api.github.com/users/faxm0dem/events{/privacy}","received_events_url":"https://api.github.com/users/faxm0dem/received_events","type":"User","site_admin":false},"labels":[{"id":111624690,"node_id":"MDU6TGFiZWwxMTE2MjQ2OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/feedback_needed","name":"feedback_needed","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2014-02-07T12:51:21Z","updated_at":"2015-02-28T05:06:19Z","closed_at":"2015-02-28T05:06:19Z","author_association":"NONE","active_lock_reason":null,"body":"It seems that a system where a node has been excluded using \"shard allocation filtering\", the information as given by the rest API is wrong. The cluster in this example is composed of 3 nodes, and NodeB has been filtered\n\n```\n$ es shards | awk '$1 == \"webclusterlogs-2014.02.04\" && $2 == 5 { print }'\nwebclusterlogs-2014.02.04               5 p STARTED       84661  78.7mb    82580177 134.158.108.171 NodeA\nwebclusterlogs-2014.02.04               5 r RELOCATING    84661  78.7mb    82578811 134.158.108.25  NodeB -> 134.158.104.214 NodeC\n```\n\nHow could the data come from NodeB when it doesn't host the shard? Also, when monitoring network activity, it is clear that it is in fact NodeA sending the data to NodeC\n\nVersion is from rpm distribution elasticsearch-0.90.10-1.noarch on NodeA and NodeB, and elasticsearch-0.90.7-1.noarch on NodeC\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}