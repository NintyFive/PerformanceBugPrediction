{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/27490","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27490/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27490/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27490/events","html_url":"https://github.com/elastic/elasticsearch/issues/27490","id":275989995,"node_id":"MDU6SXNzdWUyNzU5ODk5OTU=","number":27490,"title":"[CI] RemoteClusterConnectionTests#testRemoteConnectionInfoBwComp test failure","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"labels":[{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"assignees":[{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2017-11-22T09:01:27Z","updated_at":"2017-11-23T15:07:23Z","closed_at":"2017-11-23T15:07:23Z","author_association":"MEMBER","active_lock_reason":null,"body":"This failure reproduces.\r\n\r\n```\r\nSuite: org.elasticsearch.transport.RemoteClusterConnectionTests\r\n  1> [2017-11-22T09:53:50,683][WARN ][o.e.b.JNANatives         ] Unable to lock JVM Memory: error=12, reason=Cannot allocate memory\r\n  1> [2017-11-22T09:53:50,685][WARN ][o.e.b.JNANatives         ] This can result in part of the JVM being swapped out.\r\n  1> [2017-11-22T09:53:50,685][WARN ][o.e.b.JNANatives         ] Increase RLIMIT_MEMLOCK, soft limit: 65536, hard limit: 65536\r\n  1> [2017-11-22T09:53:50,685][WARN ][o.e.b.JNANatives         ] These can be adjusted by modifying /etc/security/limits.conf, for example: \r\n  1>    # allow user 'mvg' mlockall\r\n  1>    mvg soft memlock unlimited\r\n  1>    mvg hard memlock unlimited\r\n  1> [2017-11-22T09:53:50,686][WARN ][o.e.b.JNANatives         ] If you are logged in interactively, you will have to re-login for the new limits to take effect.\r\n  1> [2017-11-22T03:53:51,150][INFO ][o.e.t.RemoteClusterConnectionTests] [testRemoteConnectionInfoBwComp]: before test\r\n  1> [2017-11-22T03:53:51,186][INFO ][o.e.t.RemoteClusterConnectionTests] [testRemoteConnectionInfoBwComp]: after test\r\n  2> REPRODUCE WITH: gradle :core:test -Dtests.seed=78B866491658224A -Dtests.class=org.elasticsearch.transport.RemoteClusterConnectionTests -Dtests.method=\"testRemoteConnectionInfoBwComp\" -Dtests.security.manager=true -Dtests.locale=es-PE -Dtests.timezone=America/Indiana/Petersburg\r\nFAILURE 0.13s | RemoteClusterConnectionTests.testRemoteConnectionInfoBwComp <<< FAILURES!\r\n   > Throwable #1: java.lang.AssertionError: illegal transport ID from node of version: 5.6.5 got: 1024 expected: 1\r\n   >    at __randomizedtesting.SeedInfo.seed([78B866491658224A:4FA0695EA23DC024]:0)\r\n   >    at org.elasticsearch.common.transport.TransportAddress.<init>(TransportAddress.java:84)\r\n   >    at org.elasticsearch.common.transport.TransportAddress.<init>(TransportAddress.java:73)\r\n   >    at org.elasticsearch.common.io.stream.StreamInput.readList(StreamInput.java:909)\r\n   >    at org.elasticsearch.transport.RemoteConnectionInfo.<init>(RemoteConnectionInfo.java:61)\r\n   >    at org.elasticsearch.transport.RemoteClusterConnectionTests.testRemoteConnectionInfoBwComp(RemoteClusterConnectionTests.java:791)\r\n   >    at java.lang.Thread.run(Thread.java:748)\r\n  2> NOTE: leaving temporary files on disk at: /home/mvg/dev/projects/elasticsearch/6.x/elasticsearch/core/build/testrun/test/J0/temp/org.elasticsearch.transport.RemoteClusterConnectionTests_78B866491658224A-001\r\n  2> NOTE: test params are: codec=Asserting(Lucene70): {}, docValues:{}, maxPointsInLeafNode=216, maxMBSortInHeap=5.117707204542016, sim=RandomSimilarity(queryNorm=true): {}, locale=es-PE, timezone=America/Indiana/Petersburg\r\n  2> NOTE: Linux 4.4.0-98-generic amd64/Oracle Corporation 1.8.0_144 (64-bit)/cpus=12,threads=1,free=422866072,total=514850816\r\n  2> NOTE: All tests run in this JVM: [RemoteClusterConnectionTests]\r\nCompleted [1/1] in 0.89s, 1 test, 1 failure <<< FAILURES!\r\n\r\n```","closed_by":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"performed_via_github_app":null}