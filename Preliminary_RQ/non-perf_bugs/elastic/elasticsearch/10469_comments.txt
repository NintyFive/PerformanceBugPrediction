[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/90865993","html_url":"https://github.com/elastic/elasticsearch/issues/10469#issuecomment-90865993","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10469","id":90865993,"node_id":"MDEyOklzc3VlQ29tbWVudDkwODY1OTkz","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2015-04-08T09:51:59Z","updated_at":"2015-04-08T09:51:59Z","author_association":"CONTRIBUTOR","body":"I will look into this, yet the `That duration is proportional to the shard size.` is a property of the shared filesystem not of elasticsearch in this case.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/90960548","html_url":"https://github.com/elastic/elasticsearch/issues/10469#issuecomment-90960548","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10469","id":90960548,"node_id":"MDEyOklzc3VlQ29tbWVudDkwOTYwNTQ4","user":{"login":"kozaczynski","id":7853376,"node_id":"MDQ6VXNlcjc4NTMzNzY=","avatar_url":"https://avatars1.githubusercontent.com/u/7853376?v=4","gravatar_id":"","url":"https://api.github.com/users/kozaczynski","html_url":"https://github.com/kozaczynski","followers_url":"https://api.github.com/users/kozaczynski/followers","following_url":"https://api.github.com/users/kozaczynski/following{/other_user}","gists_url":"https://api.github.com/users/kozaczynski/gists{/gist_id}","starred_url":"https://api.github.com/users/kozaczynski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kozaczynski/subscriptions","organizations_url":"https://api.github.com/users/kozaczynski/orgs","repos_url":"https://api.github.com/users/kozaczynski/repos","events_url":"https://api.github.com/users/kozaczynski/events{/privacy}","received_events_url":"https://api.github.com/users/kozaczynski/received_events","type":"User","site_admin":false},"created_at":"2015-04-08T16:04:17Z","updated_at":"2015-04-08T16:04:17Z","author_association":"NONE","body":"The duration comment is about the current behavior that we need to change. The cumulative effect of that behavior is that when we restore a large index with 30+ shards into a cluster that already has number of large indexes we see the cluster go in-and-out of the red state for an extended period of time.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/91146488","html_url":"https://github.com/elastic/elasticsearch/issues/10469#issuecomment-91146488","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10469","id":91146488,"node_id":"MDEyOklzc3VlQ29tbWVudDkxMTQ2NDg4","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2015-04-09T08:16:01Z","updated_at":"2015-04-09T08:16:01Z","author_association":"CONTRIBUTOR","body":"I think the issue with going in-and-out of the  red state here is mainly triggered by the restore operation. I think you should disable allocation for those indices or at least for the primary while you restore? Yet, I think it's a bug that we go red here or at least a not so nice impl detail. Yet, the only other downside (aside of a false-red kind of) of this is that you can't write to that index for the time being. Yet, I stated looking into it but it's not a trivial change so it might take some time to get it fixed\n","performed_via_github_app":null}]