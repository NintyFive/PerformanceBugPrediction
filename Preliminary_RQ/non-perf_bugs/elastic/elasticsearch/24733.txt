{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/24733","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24733/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24733/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24733/events","html_url":"https://github.com/elastic/elasticsearch/issues/24733","id":229296933,"node_id":"MDU6SXNzdWUyMjkyOTY5MzM=","number":24733,"title":"Javadoc generation failed with JDK 9 ","user":{"login":"vaibhavaingankar09","id":11788322,"node_id":"MDQ6VXNlcjExNzg4MzIy","avatar_url":"https://avatars1.githubusercontent.com/u/11788322?v=4","gravatar_id":"","url":"https://api.github.com/users/vaibhavaingankar09","html_url":"https://github.com/vaibhavaingankar09","followers_url":"https://api.github.com/users/vaibhavaingankar09/followers","following_url":"https://api.github.com/users/vaibhavaingankar09/following{/other_user}","gists_url":"https://api.github.com/users/vaibhavaingankar09/gists{/gist_id}","starred_url":"https://api.github.com/users/vaibhavaingankar09/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vaibhavaingankar09/subscriptions","organizations_url":"https://api.github.com/users/vaibhavaingankar09/orgs","repos_url":"https://api.github.com/users/vaibhavaingankar09/repos","events_url":"https://api.github.com/users/vaibhavaingankar09/events{/privacy}","received_events_url":"https://api.github.com/users/vaibhavaingankar09/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-05-17T09:51:14Z","updated_at":"2017-08-23T00:07:41Z","closed_at":"2017-05-17T11:15:43Z","author_association":"NONE","active_lock_reason":null,"body":"\r\n\r\n<!--\r\n\r\n** Please read the guidelines below. **\r\n\r\nIssues that do not follow these guidelines are likely to be closed.\r\n\r\n1.  GitHub is reserved for bug reports and feature requests. The best place to\r\n    ask a general question is at the Elastic [forums](https://discuss.elastic.co).\r\n    GitHub is not the place for general questions.\r\n\r\n2.  Is this bug report or feature request for a supported OS? If not, it\r\n    is likely to be closed.  See https://www.elastic.co/support/matrix#show_os\r\n\r\n3.  Please fill out EITHER the feature request block or the bug report block\r\n    below, and delete the other block.\r\n\r\n-->\r\n\r\n<!-- Feature request -->\r\n\r\n**Describe the feature**:\r\n```\r\njavadoc: error - An exception occurred while building a component: TagInfo\r\n        (com.sun.tools.javac.code.ClassFinder$BadClassFile: bad class file: /root/elasticsearch/core/build/classes/main/org/elasticsearch/common/settings/SecureSetting$1.class\r\n\r\n```\r\n<!-- Bug report -->\r\n\r\n**Elasticsearch version**: 5.4.0\r\n\r\n**JVM version**: openjdk version \"9-internal\"\r\n\r\n**OS version** : Linux\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\n\r\n**Steps to reproduce**:\r\n```\r\ngit clone https://github.com/elastic/elasticsearch\r\ncd elasticsearch\r\ngradle assemble\r\n```\r\n\r\n**Provide logs (if relevant)**:\r\n```\r\njavadoc: error - An exception occurred while building a component: TagInfo\r\n        (com.sun.tools.javac.code.ClassFinder$BadClassFile: bad class file: /root/elasticsearch/core/build/classes/main/org/elasticsearch/common/settings/SecureSetting$1.class\r\n  class file contains malformed variable arity method: (java.lang.String,org.elasticsearch.common.settings.Setting.Property[],org.elasticsearch.common.settings.Setting)\r\n  Please remove or make sure it appears in the correct subdirectory of the classpath.)\r\nPlease file a bug against the javadoc tool via the Java bug reporting page\r\n(http://bugreport.java.com) after checking the Bug Database (http://bugs.java.com)\r\nfor duplicates. Include error messages and the following diagnostic in your report. Thank you.\r\ncom.sun.tools.javac.code.ClassFinder$BadClassFile: bad class file: /root/elasticsearch/core/build/classes/main/org/elasticsearch/common/settings/SecureSetting$1.class\r\n  class file contains malformed variable arity method: (java.lang.String,org.elasticsearch.common.settings.Setting.Property[],org.elasticsearch.common.settings.Setting)\r\n  Please remove or make sure it appears in the correct subdirectory of the classpath.\r\n        at jdk.compiler/com.sun.tools.javac.jvm.ClassReader.badClassFile(ClassReader.java:278)\r\n        at jdk.compiler/com.sun.tools.javac.jvm.ClassReader.readMethod(ClassReader.java:2402)\r\n        at jdk.compiler/com.sun.tools.javac.jvm.ClassReader.readClass(ClassReader.java:2641)\r\n        at jdk.compiler/com.sun.tools.javac.jvm.ClassReader.readClassBuffer(ClassReader.java:2706)\r\n        at jdk.compiler/com.sun.tools.javac.jvm.ClassReader.readClassFile(ClassReader.java:2719)\r\n        at jdk.compiler/com.sun.tools.javac.code.ClassFinder.fillIn(ClassFinder.java:348)\r\n        at jdk.compiler/com.sun.tools.javac.code.ClassFinder.complete(ClassFinder.java:285)\r\n        at jdk.compiler/com.sun.tools.javac.code.Symbol.complete(Symbol.java:633)\r\n        at jdk.compiler/com.sun.tools.javac.code.Symbol$ClassSymbol.complete(Symbol.java:1303)\r\n        at jdk.compiler/com.sun.tools.javac.code.Symbol$ClassSymbol.flags(Symbol.java:1237)\r\n        at jdk.compiler/com.sun.tools.javac.code.Symbol$TypeSymbol.getEnclosedElements(Symbol.java:800)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getItems0(Utils.java:2464)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getItems0(Utils.java:2459)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.recursiveGetItems(Utils.java:2447)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils$16.visitPackage(Utils.java:2432)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils$16.visitPackage(Utils.java:2428)\r\n        at jdk.compiler/com.sun.tools.javac.code.Symbol$PackageSymbol.accept(Symbol.java:1155)\r\n        at java.compiler/javax.lang.model.util.AbstractElementVisitor6.visit(AbstractElementVisitor6.java:106)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getItems(Utils.java:2441)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getClasses(Utils.java:2178)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getAllClasses(Utils.java:2351)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.findClassInPackageElement(Utils.java:1047)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.WorkArounds.searchClass(WorkArounds.java:231)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.findClass(Utils.java:1065)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.taglets.ThrowsTaglet.inherit(ThrowsTaglet.java:76)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.DocFinder.search(DocFinder.java:257)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.taglets.ThrowsTaglet.inheritThrowsDocumentation(ThrowsTaglet.java:133)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.taglets.ThrowsTaglet.getTagletOutput(ThrowsTaglet.java:164)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.taglets.TagletWriter.genTagOutput(TagletWriter.java:238)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.formats.html.HtmlDocletWriter.addTagsInfo(HtmlDocletWriter.java:319)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.formats.html.MethodWriterImpl.addTags(MethodWriterImpl.java:206)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.MethodBuilder.buildTagInfo(MethodBuilder.java:209)\r\n        at jdk.internal.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:563)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.AbstractBuilder.build(AbstractBuilder.java:157)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.AbstractMemberBuilder.build(AbstractMemberBuilder.java:87)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.AbstractBuilder.buildChildren(AbstractBuilder.java:200)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.MethodBuilder.buildMethodDoc(MethodBuilder.java:153)\r\n        at jdk.internal.reflect.GeneratedMethodAccessor33.invoke(Unknown Source)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:563)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.AbstractBuilder.build(AbstractBuilder.java:157)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.AbstractMemberBuilder.build(AbstractMemberBuilder.java:87)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.AbstractBuilder.buildChildren(AbstractBuilder.java:200)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.ClassBuilder.buildMethodDetails(ClassBuilder.java:412)\r\n        at jdk.internal.reflect.GeneratedMethodAccessor32.invoke(Unknown Source)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:563)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.AbstractBuilder.build(AbstractBuilder.java:157)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.AbstractBuilder.buildChildren(AbstractBuilder.java:200)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.ClassBuilder.buildMemberDetails(ClassBuilder.java:346)\r\n        at jdk.internal.reflect.GeneratedMethodAccessor27.invoke(Unknown Source)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:563)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.AbstractBuilder.build(AbstractBuilder.java:157)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.AbstractBuilder.buildChildren(AbstractBuilder.java:200)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.ClassBuilder.buildClassDoc(ClassBuilder.java:155)\r\n        at jdk.internal.reflect.GeneratedMethodAccessor5.invoke(Unknown Source)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:563)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.AbstractBuilder.build(AbstractBuilder.java:157)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.ClassBuilder.build(ClassBuilder.java:125)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.formats.html.HtmlDoclet.generateClassFiles(HtmlDoclet.java:263)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.AbstractDoclet.generateClassFiles(AbstractDoclet.java:286)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.AbstractDoclet.generateClassFiles(AbstractDoclet.java:268)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.AbstractDoclet.startGeneration(AbstractDoclet.java:207)\r\n        at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.AbstractDoclet.run(AbstractDoclet.java:117)\r\n        at jdk.javadoc/jdk.javadoc.doclet.StandardDoclet.run(StandardDoclet.java:68)\r\n        at jdk.javadoc/jdk.javadoc.internal.tool.Start.parseAndExecute(Start.java:608)\r\n        at jdk.javadoc/jdk.javadoc.internal.tool.Start.begin(Start.java:424)\r\n        at jdk.javadoc/jdk.javadoc.internal.tool.Start.begin(Start.java:341)\r\n        at jdk.javadoc/jdk.javadoc.internal.tool.Main.execute(Main.java:63)\r\n        at jdk.javadoc/jdk.javadoc.internal.tool.Main.main(Main.java:52)\r\n\r\n```","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}