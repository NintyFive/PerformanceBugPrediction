{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/11294","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11294/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11294/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11294/events","html_url":"https://github.com/elastic/elasticsearch/issues/11294","id":79344462,"node_id":"MDU6SXNzdWU3OTM0NDQ2Mg==","number":11294,"title":"How do search on _all fields except X field?","user":{"login":"abibell","id":544653,"node_id":"MDQ6VXNlcjU0NDY1Mw==","avatar_url":"https://avatars0.githubusercontent.com/u/544653?v=4","gravatar_id":"","url":"https://api.github.com/users/abibell","html_url":"https://github.com/abibell","followers_url":"https://api.github.com/users/abibell/followers","following_url":"https://api.github.com/users/abibell/following{/other_user}","gists_url":"https://api.github.com/users/abibell/gists{/gist_id}","starred_url":"https://api.github.com/users/abibell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abibell/subscriptions","organizations_url":"https://api.github.com/users/abibell/orgs","repos_url":"https://api.github.com/users/abibell/repos","events_url":"https://api.github.com/users/abibell/events{/privacy}","received_events_url":"https://api.github.com/users/abibell/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-05-22T08:04:26Z","updated_at":"2015-09-27T22:26:34Z","closed_at":"2015-09-27T22:26:34Z","author_association":"NONE","active_lock_reason":null,"body":"# Situation\n\nCluster contains several indices, types and documents with several fields. We want to search fulltext on-demand as opposed to normally since we have richer metadata. We don't want to list every field in `fields` in the query. I realise the fields property takes `city.*` format. Since listing every field that is not fulltext can be handled by Elastic as opposed to the application.\n# Request\n\nCan we provide NOT field syntax in fields property something like `!fulltext`?\n\n``` javascript\nPOST _search\n{\n   \"query\": {\n    \"query_string\": {\n       \"query\": \"*\",\n       \"fields\": [\n          \"!fulltext\"\n       ]\n    }\n   }\n}\n```\n# My DIY experience\n\nI tried to debug and find out if the syntax supported any other formats, as the [help document](https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html) didn't cover **NOT fields**. I had this error\n\n```\nDescription Resource    Path    Location    Type\nProject build error: Non-resolvable parent POM: Failure to transfer org.sonatype.oss:oss-parent:pom:7 from http://download.elastic.co/lucenesnapshots/${lucene.snapshot.revision} was cached in the local repository, resolution will not be reattempted until the update interval of lucene-snapshots has elapsed or updates are forced. Original error: Could not transfer artifact org.sonatype.oss:oss-parent:pom:7 from/to lucene-snapshots (http://download.elastic.co/lucenesnapshots/${lucene.snapshot.revision}): Illegal character in path at index 44: http://download.elastic.co/lucenesnapshots/${lucene.snapshot.revision}/org/sonatype/oss/oss-parent/7/oss-parent-7.pom and 'parent.relativePath' points at wrong local POM pom.xml /elasticsearch  line 27 Maven pom Loading Problem\n```\n","closed_by":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"performed_via_github_app":null}