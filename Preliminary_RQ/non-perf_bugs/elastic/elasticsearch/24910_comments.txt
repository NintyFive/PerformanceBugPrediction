[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/305121626","html_url":"https://github.com/elastic/elasticsearch/issues/24910#issuecomment-305121626","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24910","id":305121626,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTEyMTYyNg==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2017-05-31T08:27:09Z","updated_at":"2017-05-31T08:27:09Z","author_association":"CONTRIBUTOR","body":"The only thing I'd question here is whether it makes sense to support negative weights in the query requests in the first place.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/305482531","html_url":"https://github.com/elastic/elasticsearch/issues/24910#issuecomment-305482531","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24910","id":305482531,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTQ4MjUzMQ==","user":{"login":"csben","id":28986189,"node_id":"MDQ6VXNlcjI4OTg2MTg5","avatar_url":"https://avatars3.githubusercontent.com/u/28986189?v=4","gravatar_id":"","url":"https://api.github.com/users/csben","html_url":"https://github.com/csben","followers_url":"https://api.github.com/users/csben/followers","following_url":"https://api.github.com/users/csben/following{/other_user}","gists_url":"https://api.github.com/users/csben/gists{/gist_id}","starred_url":"https://api.github.com/users/csben/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csben/subscriptions","organizations_url":"https://api.github.com/users/csben/orgs","repos_url":"https://api.github.com/users/csben/repos","events_url":"https://api.github.com/users/csben/events{/privacy}","received_events_url":"https://api.github.com/users/csben/received_events","type":"User","site_admin":false},"created_at":"2017-06-01T12:46:19Z","updated_at":"2017-06-02T10:45:06Z","author_association":"NONE","body":"I feel like there's a mathematical argument against supporting negative weights, but that in practice, they're kind of important.  In particular, we ran into this while computing sums of log probability scores using field_value_factor functions with a modifier of LOG1P.  For values of P in (0,1), each LOG1P is going to be negative, so a negative weight is required when summing.  This happens to both be a fairly standard scoring method and one that appears to be intentionally supported by the modifiers available for field_value_factor.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/316679583","html_url":"https://github.com/elastic/elasticsearch/issues/24910#issuecomment-316679583","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24910","id":316679583,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNjY3OTU4Mw==","user":{"login":"david206","id":153303,"node_id":"MDQ6VXNlcjE1MzMwMw==","avatar_url":"https://avatars0.githubusercontent.com/u/153303?v=4","gravatar_id":"","url":"https://api.github.com/users/david206","html_url":"https://github.com/david206","followers_url":"https://api.github.com/users/david206/followers","following_url":"https://api.github.com/users/david206/following{/other_user}","gists_url":"https://api.github.com/users/david206/gists{/gist_id}","starred_url":"https://api.github.com/users/david206/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/david206/subscriptions","organizations_url":"https://api.github.com/users/david206/orgs","repos_url":"https://api.github.com/users/david206/repos","events_url":"https://api.github.com/users/david206/events{/privacy}","received_events_url":"https://api.github.com/users/david206/received_events","type":"User","site_admin":false},"created_at":"2017-07-20T11:48:22Z","updated_at":"2017-07-20T11:48:22Z","author_association":"CONTRIBUTOR","body":"actually, all the `score_mode` returns default value of `1` which doesn't make sense for `boost_mode` other then `multiply`","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/373664214","html_url":"https://github.com/elastic/elasticsearch/issues/24910#issuecomment-373664214","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24910","id":373664214,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzY2NDIxNA==","user":{"login":"lmenezes","id":750074,"node_id":"MDQ6VXNlcjc1MDA3NA==","avatar_url":"https://avatars1.githubusercontent.com/u/750074?v=4","gravatar_id":"","url":"https://api.github.com/users/lmenezes","html_url":"https://github.com/lmenezes","followers_url":"https://api.github.com/users/lmenezes/followers","following_url":"https://api.github.com/users/lmenezes/following{/other_user}","gists_url":"https://api.github.com/users/lmenezes/gists{/gist_id}","starred_url":"https://api.github.com/users/lmenezes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lmenezes/subscriptions","organizations_url":"https://api.github.com/users/lmenezes/orgs","repos_url":"https://api.github.com/users/lmenezes/repos","events_url":"https://api.github.com/users/lmenezes/events{/privacy}","received_events_url":"https://api.github.com/users/lmenezes/received_events","type":"User","site_admin":false},"created_at":"2018-03-16T10:04:14Z","updated_at":"2018-03-16T10:04:14Z","author_association":"CONTRIBUTOR","body":"@markharwood Are there plans to work/fix this? Would you welcome a PR and guide a bit how this should actually work? :)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/373787845","html_url":"https://github.com/elastic/elasticsearch/issues/24910#issuecomment-373787845","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24910","id":373787845,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Mzc4Nzg0NQ==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2018-03-16T17:31:27Z","updated_at":"2018-03-16T17:31:27Z","author_association":"CONTRIBUTOR","body":"I know there was some discussion recently on changing/improving FunctionScore - perhaps by beefing up the context passed to scripts such that common functions like `gauss` would be accessible to scripts. @colings86 - do you have any input on these plans?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/374799446","html_url":"https://github.com/elastic/elasticsearch/issues/24910#issuecomment-374799446","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24910","id":374799446,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDc5OTQ0Ng==","user":{"login":"andyb-elastic","id":29205940,"node_id":"MDQ6VXNlcjI5MjA1OTQw","avatar_url":"https://avatars2.githubusercontent.com/u/29205940?v=4","gravatar_id":"","url":"https://api.github.com/users/andyb-elastic","html_url":"https://github.com/andyb-elastic","followers_url":"https://api.github.com/users/andyb-elastic/followers","following_url":"https://api.github.com/users/andyb-elastic/following{/other_user}","gists_url":"https://api.github.com/users/andyb-elastic/gists{/gist_id}","starred_url":"https://api.github.com/users/andyb-elastic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andyb-elastic/subscriptions","organizations_url":"https://api.github.com/users/andyb-elastic/orgs","repos_url":"https://api.github.com/users/andyb-elastic/repos","events_url":"https://api.github.com/users/andyb-elastic/events{/privacy}","received_events_url":"https://api.github.com/users/andyb-elastic/received_events","type":"User","site_admin":false},"created_at":"2018-03-21T00:09:06Z","updated_at":"2018-03-21T00:09:06Z","author_association":"CONTRIBUTOR","body":"@elastic/es-search-aggs @mayya-sharipova @polyfractal ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/375028191","html_url":"https://github.com/elastic/elasticsearch/issues/24910#issuecomment-375028191","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24910","id":375028191,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTAyODE5MQ==","user":{"login":"mayya-sharipova","id":5738841,"node_id":"MDQ6VXNlcjU3Mzg4NDE=","avatar_url":"https://avatars1.githubusercontent.com/u/5738841?v=4","gravatar_id":"","url":"https://api.github.com/users/mayya-sharipova","html_url":"https://github.com/mayya-sharipova","followers_url":"https://api.github.com/users/mayya-sharipova/followers","following_url":"https://api.github.com/users/mayya-sharipova/following{/other_user}","gists_url":"https://api.github.com/users/mayya-sharipova/gists{/gist_id}","starred_url":"https://api.github.com/users/mayya-sharipova/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayya-sharipova/subscriptions","organizations_url":"https://api.github.com/users/mayya-sharipova/orgs","repos_url":"https://api.github.com/users/mayya-sharipova/repos","events_url":"https://api.github.com/users/mayya-sharipova/events{/privacy}","received_events_url":"https://api.github.com/users/mayya-sharipova/received_events","type":"User","site_admin":false},"created_at":"2018-03-21T17:27:35Z","updated_at":"2018-03-21T17:27:35Z","author_association":"CONTRIBUTOR","body":"@csben Thanks for your input, and you are right about the code!  We still need to discuss the idea of negative weights though.\r\n\r\n@lmenezes The only reason we would to hold off with PRs for function score is we may redesign Function score. We have a new issue for this: https://github.com/elastic/elasticsearch/issues/27588","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/403849575","html_url":"https://github.com/elastic/elasticsearch/issues/24910#issuecomment-403849575","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24910","id":403849575,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzg0OTU3NQ==","user":{"login":"mayya-sharipova","id":5738841,"node_id":"MDQ6VXNlcjU3Mzg4NDE=","avatar_url":"https://avatars1.githubusercontent.com/u/5738841?v=4","gravatar_id":"","url":"https://api.github.com/users/mayya-sharipova","html_url":"https://github.com/mayya-sharipova","followers_url":"https://api.github.com/users/mayya-sharipova/followers","following_url":"https://api.github.com/users/mayya-sharipova/following{/other_user}","gists_url":"https://api.github.com/users/mayya-sharipova/gists{/gist_id}","starred_url":"https://api.github.com/users/mayya-sharipova/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayya-sharipova/subscriptions","organizations_url":"https://api.github.com/users/mayya-sharipova/orgs","repos_url":"https://api.github.com/users/mayya-sharipova/repos","events_url":"https://api.github.com/users/mayya-sharipova/events{/privacy}","received_events_url":"https://api.github.com/users/mayya-sharipova/received_events","type":"User","site_admin":false},"created_at":"2018-07-10T14:47:16Z","updated_at":"2018-07-10T14:47:16Z","author_association":"CONTRIBUTOR","body":"We have discussed in our meeting, and decided NOT to allow negative values for weights in Function Score Query: https://github.com/elastic/elasticsearch/issues/31927.   Lucene is going towards not allowing negative scores, and in Lucene 8 negative scores will be completely forbidden. We would like to go along this road as well.\r\n\r\n@csben would it be possible for you to redesign your query to use painless script instead so that you can control not to output negative scores at all? In this case you wouldn't need to multiply scores by negative weight.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/416283746","html_url":"https://github.com/elastic/elasticsearch/issues/24910#issuecomment-416283746","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24910","id":416283746,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNjI4Mzc0Ng==","user":{"login":"mayya-sharipova","id":5738841,"node_id":"MDQ6VXNlcjU3Mzg4NDE=","avatar_url":"https://avatars1.githubusercontent.com/u/5738841?v=4","gravatar_id":"","url":"https://api.github.com/users/mayya-sharipova","html_url":"https://github.com/mayya-sharipova","followers_url":"https://api.github.com/users/mayya-sharipova/followers","following_url":"https://api.github.com/users/mayya-sharipova/following{/other_user}","gists_url":"https://api.github.com/users/mayya-sharipova/gists{/gist_id}","starred_url":"https://api.github.com/users/mayya-sharipova/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayya-sharipova/subscriptions","organizations_url":"https://api.github.com/users/mayya-sharipova/orgs","repos_url":"https://api.github.com/users/mayya-sharipova/repos","events_url":"https://api.github.com/users/mayya-sharipova/events{/privacy}","received_events_url":"https://api.github.com/users/mayya-sharipova/received_events","type":"User","site_admin":false},"created_at":"2018-08-27T16:26:02Z","updated_at":"2018-08-27T16:26:02Z","author_association":"CONTRIBUTOR","body":"Closing this ticket, as there is no further user feedback.","performed_via_github_app":null}]