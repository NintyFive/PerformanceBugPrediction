[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/435423517","html_url":"https://github.com/elastic/elasticsearch/issues/35209#issuecomment-435423517","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35209","id":435423517,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTQyMzUxNw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-11-02T15:46:31Z","updated_at":"2018-11-02T15:46:31Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/435440841","html_url":"https://github.com/elastic/elasticsearch/issues/35209#issuecomment-435440841","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35209","id":435440841,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTQ0MDg0MQ==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2018-11-02T16:44:58Z","updated_at":"2018-11-02T16:44:58Z","author_association":"CONTRIBUTOR","body":"thanks for opening this @davidkyle. I am running the check locally with my fix\r\n\r\n```diff\r\n--- a/test/framework/src/main/java/org/elasticsearch/test/rest/ESRestTestCase.java\r\n+++ b/test/framework/src/main/java/org/elasticsearch/test/rest/ESRestTestCase.java\r\n@@ -534,7 +534,8 @@ public abstract class ESRestTestCase extends ESTestCase {\r\n             Response response = adminClient().performRequest(new Request(\"GET\", \"/_ilm/policy\"));\r\n             policies = entityAsMap(response);\r\n         } catch (ResponseException e) {\r\n-            if (RestStatus.METHOD_NOT_ALLOWED.getStatus() == e.getResponse().getStatusLine().getStatusCode()) {\r\n+            int statusCode = e.getResponse().getStatusLine().getStatusCode();\r\n+            if (RestStatus.METHOD_NOT_ALLOWED.getStatus() == statusCode || RestStatus.BAD_REQUEST.getStatus() == statusCode) {\r\n                 // If bad request returned, ILM is not enabled.\r\n                 return;\r\n             }\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/435443723","html_url":"https://github.com/elastic/elasticsearch/issues/35209#issuecomment-435443723","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35209","id":435443723,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTQ0MzcyMw==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2018-11-02T16:55:50Z","updated_at":"2018-11-02T16:55:50Z","author_association":"CONTRIBUTOR","body":"pushed. this should be fixed. will watch and close out this issue if solved\r\n\r\ncommit in 6.x: https://github.com/elastic/elasticsearch/commit/4748741bad185209dd98ff749f7ddaa4f1769044","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/435997632","html_url":"https://github.com/elastic/elasticsearch/issues/35209#issuecomment-435997632","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35209","id":435997632,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTk5NzYzMg==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2018-11-05T19:09:50Z","updated_at":"2018-11-05T19:09:50Z","author_association":"CONTRIBUTOR","body":"fixed","performed_via_github_app":null}]