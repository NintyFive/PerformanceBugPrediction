{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/3776","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3776/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3776/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3776/events","html_url":"https://github.com/elastic/elasticsearch/issues/3776","id":20040941,"node_id":"MDU6SXNzdWUyMDA0MDk0MQ==","number":3776,"title":"Highlighting could be made to produce larger fragments if there aren't as many fragments","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"labels":[{"id":111549183,"node_id":"MDU6TGFiZWwxMTE1NDkxODM=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Highlighting","name":":Search/Highlighting","color":"0e8a16","default":false,"description":"How a query matched a document"},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2013-09-25T13:22:03Z","updated_at":"2018-03-23T09:04:23Z","closed_at":"2018-03-23T09:04:23Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Our current search system supports returning either one big fragment or two half sized ones.  It'll return one big fragment only if all the highlighting fits into fragment.  Elasticsearch could do that too, except letting the user pick maximum number of fragments.  Something like this:\n\n``` javascript\n\"highlight\": {\n  \"fields\": {\n    \"foo\": {\n      \"number_of_fragments\": 2,\n      \"total_fragment_size\": 150\n    }\n  }\n}\n```\n\nI don't really know how important this is and I haven't thought through exactly how you'd do it.  I don't have any plans to implement this soon but if anyone is interested I could make time.\n","closed_by":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"performed_via_github_app":null}