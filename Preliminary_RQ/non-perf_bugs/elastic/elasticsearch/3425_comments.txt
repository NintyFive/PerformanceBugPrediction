[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/21989725","html_url":"https://github.com/elastic/elasticsearch/issues/3425#issuecomment-21989725","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3425","id":21989725,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTg5NzI1","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2013-08-02T07:05:02Z","updated_at":"2013-08-02T07:05:02Z","author_association":"MEMBER","body":"Hey,\n\ncan you please provide more information. how you did this? I just tried the following (under Mac OS):\n\n```\nbin/elasticsearch -p /tmp/pid\nsleep 10 && cat /tmp/pid\n36756\nbin/elasticsearch -p /tmp/pid\nsleep 10 && cat /tmp/pid\n36792\n```\n\nIn my case the truncation works flawlessly (there is no check in elasticsearch if the pid file already exists). Anything you did different with the exception of your operating system? I am wondering if the sigar library is completely supported under freebsd, but judging from the official documentation it looks like it.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/22017252","html_url":"https://github.com/elastic/elasticsearch/issues/3425#issuecomment-22017252","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3425","id":22017252,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDE3MjUy","user":{"login":"khera","id":367424,"node_id":"MDQ6VXNlcjM2NzQyNA==","avatar_url":"https://avatars3.githubusercontent.com/u/367424?v=4","gravatar_id":"","url":"https://api.github.com/users/khera","html_url":"https://github.com/khera","followers_url":"https://api.github.com/users/khera/followers","following_url":"https://api.github.com/users/khera/following{/other_user}","gists_url":"https://api.github.com/users/khera/gists{/gist_id}","starred_url":"https://api.github.com/users/khera/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/khera/subscriptions","organizations_url":"https://api.github.com/users/khera/orgs","repos_url":"https://api.github.com/users/khera/repos","events_url":"https://api.github.com/users/khera/events{/privacy}","received_events_url":"https://api.github.com/users/khera/received_events","type":"User","site_admin":false},"created_at":"2013-08-02T16:29:27Z","updated_at":"2013-08-02T16:29:27Z","author_association":"NONE","body":"Your example shows the PID both of length 5.\n\nTry this:\n\necho aaaaaaaaaa > /tmp/pid\n\nthen run your test.\n\nHere is what it looks like to me:\n\n[root@logger]# /usr/local/etc/rc.d/elasticsearch start\nStarting elasticsearch.\n[root@logger]# cat /var/run/elasticsearch.pid\n40757[root@logger]#\n[root@logger]# /usr/local/etc/rc.d/elasticsearch stop\nStopping elasticsearch.\n[root@logger]# echo aaaaaaaaaa > /var/run/elasticsearch.pid\n[root@logger]# cat /var/run/elasticsearch.pid\naaaaaaaaaa\n[root@logger]# /usr/local/etc/rc.d/elasticsearch start\nStarting elasticsearch.\n[root@logger]# cat /var/run/elasticsearch.pid\n75686aaaaa\n\nBasically, if the pid assigned to elastic search is 5 digits long, and then\nafter a restart, the PID becomes 3 or 4 digits long, whatever was leftover\nwill still be there.\n\nSo if the first PID is 12345 and the second pid is 4321, what will be in\nthe file is 43215.\n\nOn FreeBSD, the PIDs are not necessarily monotonically increasing, so this\nhas actually happened to me, and is not just a theoretical problem. I'm not\nso familiar with Java, but in C or Perl, I'd add the O_TRUNC flag to the\nfile open.\n\nThanks!\n\nOn Fri, Aug 2, 2013 at 3:05 AM, Alexander Reelsen\nnotifications@github.comwrote:\n\n> Hey,\n> \n> can you please provide more information. how you did this? I just tried\n> the following (under Mac OS):\n> \n> bin/elasticsearch -p /tmp/pid\n> sleep 10 && cat /tmp/pid\n> 36756\n> bin/elasticsearch -p /tmp/pid\n> sleep 10 && cat /tmp/pid\n> 36792\n> \n> In my case the truncation works flawlessly (there is no check in\n> elasticsearch if the pid file already exists). Anything you did different\n> with the exception of your operating system? I am wondering if the sigar\n> library is completely supported under freebsd, but judging from the\n> official documentation it looks like it.\n> \n> â€”\n> Reply to this email directly or view it on GitHubhttps://github.com/elasticsearch/elasticsearch/issues/3425#issuecomment-21989725\n> .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/22055419","html_url":"https://github.com/elastic/elasticsearch/issues/3425#issuecomment-22055419","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3425","id":22055419,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDU1NDE5","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2013-08-03T14:09:58Z","updated_at":"2013-08-03T14:09:58Z","author_association":"MEMBER","body":"sorry, I got you wrong. Will fix it.\n\nThanks for your patience to report!\n","performed_via_github_app":null}]