{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/5905","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5905/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5905/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5905/events","html_url":"https://github.com/elastic/elasticsearch/issues/5905","id":31985775,"node_id":"MDU6SXNzdWUzMTk4NTc3NQ==","number":5905,"title":"change default numeric precision_step","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"labels":[{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":92913858,"node_id":"MDU6TGFiZWw5MjkxMzg1OA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/good%20first%20issue","name":"good first issue","color":"07569b","default":true,"description":"low hanging fruit"},{"id":85667032,"node_id":"MDU6TGFiZWw4NTY2NzAzMg==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v1.2.0","name":"v1.2.0","color":"dddddd","default":false,"description":null},{"id":76184120,"node_id":"MDU6TGFiZWw3NjE4NDEyMA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v2.0.0-beta1","name":"v2.0.0-beta1","color":"dddddd","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2014-04-22T15:57:07Z","updated_at":"2014-04-23T13:05:40Z","closed_at":"2014-04-23T13:05:40Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"The current precision_step value for all numeric fields is 4. This equates to 8 terms-per-value for 32-bit types, and 16-terms-per-value for 64-bit types. This means these fields are 8x or 16x more costly than a \"regular\" field (in terms of space/indexing), to accelerate range queries.\n\nThe benefit of the lower precision step is to visit less terms during range queries, and these terms will be denser (so smaller integers in the postings lists, but large ones).\n\nSeveral things in Lucene have changed in the past few years: visiting more terms at query-time is less costly because this is executed per-segment, postings list compression has improved, the term dictionary is faster in general, and terms with only one posting are inlined into the term dictionary.\n\nFurthermore, the speedup has much less benefit when using filters, because in that case it only impacts \"uncached\" filters. Once cached, its the same either way since it is just a bitset.\n\nI think we should change the default: its just a default. The current default IMO is too aggressive.\n\nThere are some benchmarks posted here: https://issues.apache.org/jira/browse/LUCENE-5609\n","closed_by":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"performed_via_github_app":null}