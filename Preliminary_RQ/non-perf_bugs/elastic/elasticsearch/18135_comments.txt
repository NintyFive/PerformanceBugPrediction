[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/216916659","html_url":"https://github.com/elastic/elasticsearch/issues/18135#issuecomment-216916659","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18135","id":216916659,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjkxNjY1OQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-05-04T16:15:36Z","updated_at":"2016-05-04T16:15:36Z","author_association":"CONTRIBUTOR","body":"Trying to work up a recreation\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/216933517","html_url":"https://github.com/elastic/elasticsearch/issues/18135#issuecomment-216933517","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18135","id":216933517,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjkzMzUxNw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-05-04T17:05:41Z","updated_at":"2016-05-04T17:05:41Z","author_association":"CONTRIBUTOR","body":"OK - simple recreation.  Start a cluster with two nodes, then run the following:\n\n```\nDELETE t\n\nPOST t/t/_bulk\n{\"index\":{}}\n{\"@timestamp\":\"2000-01-01T00:00:00.0+00\"}\n{\"index\":{}}\n{\"@timestamp\":\"2000-01-01T00:00:00.0+00\"}\n{\"index\":{}}\n{\"@timestamp\":\"2000-01-01T00:00:00.0+00\"}\n{\"index\":{}}\n{\"@timestamp\":\"2000-01-01T00:00:00.0+00\"}\n{\"index\":{}}\n{\"@timestamp\":\"2000-01-01T00:00:00.0+00\"}\n{\"index\":{}}\n{\"@timestamp\":\"2000-01-01T00:00:00.0+00\"}\n{\"index\":{}}\n{\"@timestamp\":\"2000-01-01T00:00:00.0+00\"}\n{\"index\":{}}\n{\"@timestamp\":\"2000-01-01T00:00:00.0+00\"}\n{\"index\":{}}\n{\"@timestamp\":\"2000-01-01T00:00:00.0+00\"}\n\nGET t/_field_stats?level=indices&fields=@timestamp\n```\n\nThe above returns:\n\n```\n{\n   \"error\": {\n      \"root_cause\": [\n         {\n            \"type\": \"illegal_state_exception\",\n            \"reason\": \"trying to merge the field stats of field [@timestamp] from index [t] but the field type is incompatible, try to set the 'level' option to 'indices'\"\n         }\n      ],\n      \"type\": \"illegal_state_exception\",\n      \"reason\": \"trying to merge the field stats of field [@timestamp] from index [t] but the field type is incompatible, try to set the 'level' option to 'indices'\"\n   },\n   \"status\": 500\n}\n```\n\nWith the following stack trace:\n\n```\n[2016-05-04 19:04:43,705][WARN ][rest.suppressed          ] /t/_field_stats Params: {level=indices, index=t, fields=@timestamp}\njava.lang.IllegalStateException: trying to merge the field stats of field [@timestamp] from index [t] but the field type is incompatible, try to set the 'level' option to 'indices'\n  at org.elasticsearch.action.fieldstats.TransportFieldStatsTransportAction.newResponse(TransportFieldStatsTransportAction.java:108)\n  at org.elasticsearch.action.fieldstats.TransportFieldStatsTransportAction.newResponse(TransportFieldStatsTransportAction.java:58)\n  at org.elasticsearch.action.support.broadcast.TransportBroadcastAction$AsyncBroadcastAction.finishHim(TransportBroadcastAction.java:248)\n  at org.elasticsearch.action.support.broadcast.TransportBroadcastAction$AsyncBroadcastAction.onOperation(TransportBroadcastAction.java:213)\n  at org.elasticsearch.action.support.broadcast.TransportBroadcastAction$AsyncBroadcastAction$1.handleResponse(TransportBroadcastAction.java:193)\n  at org.elasticsearch.action.support.broadcast.TransportBroadcastAction$AsyncBroadcastAction$1.handleResponse(TransportBroadcastAction.java:180)\n  at org.elasticsearch.transport.TransportService$ContextRestoreResponseHandler.handleResponse(TransportService.java:789)\n  at org.elasticsearch.transport.netty.MessageChannelHandler.handleResponse(MessageChannelHandler.java:178)\n  at org.elasticsearch.transport.netty.MessageChannelHandler.messageReceived(MessageChannelHandler.java:143)\n  at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70)\n  at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)\n  at org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791)\n  at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:296)\n  at org.jboss.netty.handler.codec.frame.FrameDecoder.unfoldAndFireMessageReceived(FrameDecoder.java:462)\n  at org.jboss.netty.handler.codec.frame.FrameDecoder.callDecode(FrameDecoder.java:443)\n  at org.jboss.netty.handler.codec.frame.FrameDecoder.messageReceived(FrameDecoder.java:303)\n  at org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70)\n  at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564)\n  at org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:559)\n  at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:268)\n  at org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:255)\n  at org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:88)\n  at org.jboss.netty.channel.socket.nio.AbstractNioWorker.process(AbstractNioWorker.java:108)\n  at org.jboss.netty.channel.socket.nio.AbstractNioSelector.run(AbstractNioSelector.java:337)\n  at org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:89)\n  at org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:178)\n  at org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:108)\n  at org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n  at java.lang.Thread.run(Thread.java:745)\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/217009242","html_url":"https://github.com/elastic/elasticsearch/issues/18135#issuecomment-217009242","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18135","id":217009242,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzAwOTI0Mg==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2016-05-04T21:28:35Z","updated_at":"2016-05-04T21:28:35Z","author_association":"MEMBER","body":"This is a serialization bug in the field stats transport that was introduced when the new point api was added. It occurs only with 5.0.0-alpha2 and has been fixed in master with this commit https://github.com/elastic/elasticsearch/commit/f600c4ab9c4a575a269287bb5aaa22d828c56496\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/218497804","html_url":"https://github.com/elastic/elasticsearch/issues/18135#issuecomment-218497804","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18135","id":218497804,"node_id":"MDEyOklzc3VlQ29tbWVudDIxODQ5NzgwNA==","user":{"login":"nellicus","id":8770097,"node_id":"MDQ6VXNlcjg3NzAwOTc=","avatar_url":"https://avatars2.githubusercontent.com/u/8770097?v=4","gravatar_id":"","url":"https://api.github.com/users/nellicus","html_url":"https://github.com/nellicus","followers_url":"https://api.github.com/users/nellicus/followers","following_url":"https://api.github.com/users/nellicus/following{/other_user}","gists_url":"https://api.github.com/users/nellicus/gists{/gist_id}","starred_url":"https://api.github.com/users/nellicus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nellicus/subscriptions","organizations_url":"https://api.github.com/users/nellicus/orgs","repos_url":"https://api.github.com/users/nellicus/repos","events_url":"https://api.github.com/users/nellicus/events{/privacy}","received_events_url":"https://api.github.com/users/nellicus/received_events","type":"User","site_admin":false},"created_at":"2016-05-11T15:36:32Z","updated_at":"2016-05-11T15:36:32Z","author_association":"MEMBER","body":"@jimferenczi this effectively prevents, at least in my environment, any use in kibana of the data coming from logstash. just raising a concern that this might impede proper testing of alpha2 through our user base\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/218713498","html_url":"https://github.com/elastic/elasticsearch/issues/18135#issuecomment-218713498","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18135","id":218713498,"node_id":"MDEyOklzc3VlQ29tbWVudDIxODcxMzQ5OA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-05-12T10:01:59Z","updated_at":"2016-05-12T10:01:59Z","author_association":"CONTRIBUTOR","body":"@nellicus yeah - not much we can do about it until the next release\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/219060736","html_url":"https://github.com/elastic/elasticsearch/issues/18135#issuecomment-219060736","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18135","id":219060736,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTA2MDczNg==","user":{"login":"anhlqn","id":3209539,"node_id":"MDQ6VXNlcjMyMDk1Mzk=","avatar_url":"https://avatars0.githubusercontent.com/u/3209539?v=4","gravatar_id":"","url":"https://api.github.com/users/anhlqn","html_url":"https://github.com/anhlqn","followers_url":"https://api.github.com/users/anhlqn/followers","following_url":"https://api.github.com/users/anhlqn/following{/other_user}","gists_url":"https://api.github.com/users/anhlqn/gists{/gist_id}","starred_url":"https://api.github.com/users/anhlqn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anhlqn/subscriptions","organizations_url":"https://api.github.com/users/anhlqn/orgs","repos_url":"https://api.github.com/users/anhlqn/repos","events_url":"https://api.github.com/users/anhlqn/events{/privacy}","received_events_url":"https://api.github.com/users/anhlqn/received_events","type":"User","site_admin":false},"created_at":"2016-05-13T14:33:55Z","updated_at":"2016-05-13T14:33:55Z","author_association":"NONE","body":"This also occurred when I tried to use the winlogbeat indexes on a fresh installation without Logstash\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/222031867","html_url":"https://github.com/elastic/elasticsearch/issues/18135#issuecomment-222031867","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18135","id":222031867,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMjAzMTg2Nw==","user":{"login":"gluckspilz","id":196428,"node_id":"MDQ6VXNlcjE5NjQyOA==","avatar_url":"https://avatars0.githubusercontent.com/u/196428?v=4","gravatar_id":"","url":"https://api.github.com/users/gluckspilz","html_url":"https://github.com/gluckspilz","followers_url":"https://api.github.com/users/gluckspilz/followers","following_url":"https://api.github.com/users/gluckspilz/following{/other_user}","gists_url":"https://api.github.com/users/gluckspilz/gists{/gist_id}","starred_url":"https://api.github.com/users/gluckspilz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gluckspilz/subscriptions","organizations_url":"https://api.github.com/users/gluckspilz/orgs","repos_url":"https://api.github.com/users/gluckspilz/repos","events_url":"https://api.github.com/users/gluckspilz/events{/privacy}","received_events_url":"https://api.github.com/users/gluckspilz/received_events","type":"User","site_admin":false},"created_at":"2016-05-27T00:33:37Z","updated_at":"2016-05-27T16:42:32Z","author_association":"NONE","body":"Will adding \"format\" : \"date_time\" to the mapping for the index created by logstash stop this error?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/222544721","html_url":"https://github.com/elastic/elasticsearch/issues/18135#issuecomment-222544721","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18135","id":222544721,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMjU0NDcyMQ==","user":{"login":"michalterbert","id":15417117,"node_id":"MDQ6VXNlcjE1NDE3MTE3","avatar_url":"https://avatars0.githubusercontent.com/u/15417117?v=4","gravatar_id":"","url":"https://api.github.com/users/michalterbert","html_url":"https://github.com/michalterbert","followers_url":"https://api.github.com/users/michalterbert/followers","following_url":"https://api.github.com/users/michalterbert/following{/other_user}","gists_url":"https://api.github.com/users/michalterbert/gists{/gist_id}","starred_url":"https://api.github.com/users/michalterbert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michalterbert/subscriptions","organizations_url":"https://api.github.com/users/michalterbert/orgs","repos_url":"https://api.github.com/users/michalterbert/repos","events_url":"https://api.github.com/users/michalterbert/events{/privacy}","received_events_url":"https://api.github.com/users/michalterbert/received_events","type":"User","site_admin":false},"created_at":"2016-05-30T19:30:57Z","updated_at":"2016-05-30T19:30:57Z","author_association":"NONE","body":"@gluckspilz: for me doesn't work 👎 \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/223048714","html_url":"https://github.com/elastic/elasticsearch/issues/18135#issuecomment-223048714","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18135","id":223048714,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMzA0ODcxNA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-06-01T16:28:37Z","updated_at":"2016-06-01T16:28:37Z","author_association":"CONTRIBUTOR","body":"This is fixed in 5.0.0-alpha3, which is out already\n","performed_via_github_app":null}]