[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/396202736","html_url":"https://github.com/elastic/elasticsearch/issues/31240#issuecomment-396202736","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31240","id":396202736,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjIwMjczNg==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2018-06-11T10:51:51Z","updated_at":"2018-06-11T10:51:51Z","author_association":"MEMBER","body":"Dear @olivergierke\r\n\r\nIt could be great if you can actually move to the Rest Client. And may be the High Level Rest client.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/396204024","html_url":"https://github.com/elastic/elasticsearch/issues/31240#issuecomment-396204024","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31240","id":396204024,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjIwNDAyNA==","user":{"login":"odrotbohm","id":128577,"node_id":"MDQ6VXNlcjEyODU3Nw==","avatar_url":"https://avatars1.githubusercontent.com/u/128577?v=4","gravatar_id":"","url":"https://api.github.com/users/odrotbohm","html_url":"https://github.com/odrotbohm","followers_url":"https://api.github.com/users/odrotbohm/followers","following_url":"https://api.github.com/users/odrotbohm/following{/other_user}","gists_url":"https://api.github.com/users/odrotbohm/gists{/gist_id}","starred_url":"https://api.github.com/users/odrotbohm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/odrotbohm/subscriptions","organizations_url":"https://api.github.com/users/odrotbohm/orgs","repos_url":"https://api.github.com/users/odrotbohm/repos","events_url":"https://api.github.com/users/odrotbohm/events{/privacy}","received_events_url":"https://api.github.com/users/odrotbohm/received_events","type":"User","site_admin":false},"created_at":"2018-06-11T10:57:24Z","updated_at":"2018-06-11T10:57:24Z","author_association":"NONE","body":"I know that this would be great. But right now, Spring Data Elasticsearch is a community project, which means that we don't control how much time the community is able and willing to invest. Still, the Spring Data team needs to sort out compatibility issues for already released Spring Data generations, in which we can't arbitrarily upgrade to a different driver type due to backwards compatibility requirements of APIs.\r\n\r\nIf you don't intend to solve the issue anymore, we can certainly try to find a different way to work around the issue. I just thought that there was some intention behind providing both Netty 4 and Netty 3 plugins, and requiring both on the classpath felt a bit weird, which made me think this might be an oversight.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/396207081","html_url":"https://github.com/elastic/elasticsearch/issues/31240#issuecomment-396207081","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31240","id":396207081,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjIwNzA4MQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-06-11T11:10:00Z","updated_at":"2018-06-11T11:10:00Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/396210900","html_url":"https://github.com/elastic/elasticsearch/issues/31240#issuecomment-396210900","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31240","id":396210900,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjIxMDkwMA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-06-11T11:26:00Z","updated_at":"2018-06-11T11:26:00Z","author_association":"MEMBER","body":"> The broader context of us running into this is that we're trying to get Spring Data Elasticsearch examples run on JDK 11 and that fails due to an invalid manifest in Netty 3.10.6. So we're looking into options of how to get rid of that dependency.\r\n\r\nYou do not have to use the pre-built transport client, you can create a transport client that only use the Netty 4 plugin. For us, we will not change anything for 5.6 for the pre-built transport client since it is a stable branch now, and we will not attempt to support JDK 11 for similar reasoning. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/396215638","html_url":"https://github.com/elastic/elasticsearch/issues/31240#issuecomment-396215638","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31240","id":396215638,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjIxNTYzOA==","user":{"login":"odrotbohm","id":128577,"node_id":"MDQ6VXNlcjEyODU3Nw==","avatar_url":"https://avatars1.githubusercontent.com/u/128577?v=4","gravatar_id":"","url":"https://api.github.com/users/odrotbohm","html_url":"https://github.com/odrotbohm","followers_url":"https://api.github.com/users/odrotbohm/followers","following_url":"https://api.github.com/users/odrotbohm/following{/other_user}","gists_url":"https://api.github.com/users/odrotbohm/gists{/gist_id}","starred_url":"https://api.github.com/users/odrotbohm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/odrotbohm/subscriptions","organizations_url":"https://api.github.com/users/odrotbohm/orgs","repos_url":"https://api.github.com/users/odrotbohm/repos","events_url":"https://api.github.com/users/odrotbohm/events{/privacy}","received_events_url":"https://api.github.com/users/odrotbohm/received_events","type":"User","site_admin":false},"created_at":"2018-06-11T11:46:51Z","updated_at":"2018-06-11T11:46:51Z","author_association":"NONE","body":"That's useful information, thanks. However the only non-abstract implementation of `TransportClient` is `PreBuiltTransportClient`. `TransportClient` itself doesn't seem to have any abstract methods though. I'll see what we can do to select the proper list of plugins based on some classpath inspection, but it feels weird that a downstream client actually has to do the runtime checks and select plugins.\r\n\r\nCan someone elaborate, why both Netty 3 *and* Netty 4 are expected to be on the classpath to properly use the transport client? I can see that this is a stable branch but it feels to me that an overly restrictive dependency setup qualifies as bug that would be nice to be fixed, wouldn't it?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/396225383","html_url":"https://github.com/elastic/elasticsearch/issues/31240#issuecomment-396225383","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31240","id":396225383,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjIyNTM4Mw==","user":{"login":"odrotbohm","id":128577,"node_id":"MDQ6VXNlcjEyODU3Nw==","avatar_url":"https://avatars1.githubusercontent.com/u/128577?v=4","gravatar_id":"","url":"https://api.github.com/users/odrotbohm","html_url":"https://github.com/odrotbohm","followers_url":"https://api.github.com/users/odrotbohm/followers","following_url":"https://api.github.com/users/odrotbohm/following{/other_user}","gists_url":"https://api.github.com/users/odrotbohm/gists{/gist_id}","starred_url":"https://api.github.com/users/odrotbohm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/odrotbohm/subscriptions","organizations_url":"https://api.github.com/users/odrotbohm/orgs","repos_url":"https://api.github.com/users/odrotbohm/repos","events_url":"https://api.github.com/users/odrotbohm/events{/privacy}","received_events_url":"https://api.github.com/users/odrotbohm/received_events","type":"User","site_admin":false},"created_at":"2018-06-11T12:24:49Z","updated_at":"2018-06-11T12:24:49Z","author_association":"NONE","body":"I've just filed and fixed [this ticket](https://jira.spring.io/browse/DATAES-460) in our tracker. That makes things work with Netty 4 only. However, I still think that this kind of code should live on our side, especially as it requires quite a bit of copying from `PreBuiltTransportClient`, essentially everything but the default plugin list.","performed_via_github_app":null}]