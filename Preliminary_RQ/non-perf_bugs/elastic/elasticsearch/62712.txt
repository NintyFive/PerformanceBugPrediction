{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/62712","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/62712/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/62712/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/62712/events","html_url":"https://github.com/elastic/elasticsearch/issues/62712","id":705704503,"node_id":"MDU6SXNzdWU3MDU3MDQ1MDM=","number":62712,"title":"[Transform] Support for data stream as transform destination","user":{"login":"mikeh-elastic","id":16882389,"node_id":"MDQ6VXNlcjE2ODgyMzg5","avatar_url":"https://avatars0.githubusercontent.com/u/16882389?v=4","gravatar_id":"","url":"https://api.github.com/users/mikeh-elastic","html_url":"https://github.com/mikeh-elastic","followers_url":"https://api.github.com/users/mikeh-elastic/followers","following_url":"https://api.github.com/users/mikeh-elastic/following{/other_user}","gists_url":"https://api.github.com/users/mikeh-elastic/gists{/gist_id}","starred_url":"https://api.github.com/users/mikeh-elastic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikeh-elastic/subscriptions","organizations_url":"https://api.github.com/users/mikeh-elastic/orgs","repos_url":"https://api.github.com/users/mikeh-elastic/repos","events_url":"https://api.github.com/users/mikeh-elastic/events{/privacy}","received_events_url":"https://api.github.com/users/mikeh-elastic/received_events","type":"User","site_admin":false},"labels":[{"id":1272783040,"node_id":"MDU6TGFiZWwxMjcyNzgzMDQw","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:ml/Transform","name":":ml/Transform","color":"0e8a16","default":false,"description":"Transform"},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":929267538,"node_id":"MDU6TGFiZWw5MjkyNjc1Mzg=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/team-discuss","name":"team-discuss","color":"fbca04","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2020-09-21T15:30:06Z","updated_at":"2020-09-30T15:02:12Z","closed_at":"2020-09-30T15:02:12Z","author_association":"NONE","active_lock_reason":null,"body":"Now that data streams are released users will expect to be able to run transforms to write to them as a destination.\r\n\r\nWhen I did not create the data stream in advance but set up the template and let the transform create it, it somehow created an index even though the template was indicating it was supposed to be a data stream.\r\n\r\nCreating a data stream manually first via a PUT and setting it as the destination index results in this error in Kibana being presented to the user:\r\n\r\n{\"msg\":\"[runtime_exception] runtime_exception: Could not create destination index [my-data-stream] for transform [my-data-stream2]\",\"path\":\"/_transform/my-data-stream2/_start\",\"query\":{},\"statusCode\":500,\"response\":\"{\\\"error\\\":{\\\"root_cause\\\":[{\\\"type\\\":\\\"runtime_exception\\\",\\\"reason\\\":\\\"runtime_exception: Could not create destination index [my-data-stream] for transform [my-data-stream2]\\\"}],\\\"type\\\":\\\"runtime_exception\\\",\\\"reason\\\":\\\"runtime_exception: Could not create destination index [my-data-stream] for transform [my-data-stream2]\\\",\\\"caused_by\\\":{\\\"type\\\":\\\"illegal_state_exception\\\",\\\"reason\\\":\\\"index, alias, and data stream names need to be unique, but the following duplicates were found [data stream [my-data-stream] conflicts with index]\\\"}},\\\"status\\\":500}\"}","closed_by":{"login":"hendrikmuhs","id":7126422,"node_id":"MDQ6VXNlcjcxMjY0MjI=","avatar_url":"https://avatars3.githubusercontent.com/u/7126422?v=4","gravatar_id":"","url":"https://api.github.com/users/hendrikmuhs","html_url":"https://github.com/hendrikmuhs","followers_url":"https://api.github.com/users/hendrikmuhs/followers","following_url":"https://api.github.com/users/hendrikmuhs/following{/other_user}","gists_url":"https://api.github.com/users/hendrikmuhs/gists{/gist_id}","starred_url":"https://api.github.com/users/hendrikmuhs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hendrikmuhs/subscriptions","organizations_url":"https://api.github.com/users/hendrikmuhs/orgs","repos_url":"https://api.github.com/users/hendrikmuhs/repos","events_url":"https://api.github.com/users/hendrikmuhs/events{/privacy}","received_events_url":"https://api.github.com/users/hendrikmuhs/received_events","type":"User","site_admin":false},"performed_via_github_app":null}