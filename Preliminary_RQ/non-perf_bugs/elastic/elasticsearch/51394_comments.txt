[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/578048873","html_url":"https://github.com/elastic/elasticsearch/issues/51394#issuecomment-578048873","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51394","id":578048873,"node_id":"MDEyOklzc3VlQ29tbWVudDU3ODA0ODg3Mw==","user":{"login":"faxm0dem","id":112638,"node_id":"MDQ6VXNlcjExMjYzOA==","avatar_url":"https://avatars2.githubusercontent.com/u/112638?v=4","gravatar_id":"","url":"https://api.github.com/users/faxm0dem","html_url":"https://github.com/faxm0dem","followers_url":"https://api.github.com/users/faxm0dem/followers","following_url":"https://api.github.com/users/faxm0dem/following{/other_user}","gists_url":"https://api.github.com/users/faxm0dem/gists{/gist_id}","starred_url":"https://api.github.com/users/faxm0dem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/faxm0dem/subscriptions","organizations_url":"https://api.github.com/users/faxm0dem/orgs","repos_url":"https://api.github.com/users/faxm0dem/repos","events_url":"https://api.github.com/users/faxm0dem/events{/privacy}","received_events_url":"https://api.github.com/users/faxm0dem/received_events","type":"User","site_admin":false},"created_at":"2020-01-24T09:08:46Z","updated_at":"2020-01-24T09:08:46Z","author_association":"NONE","body":"I have to add that I used java 1.8 in both cases, *not* the bundled java11","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/578055468","html_url":"https://github.com/elastic/elasticsearch/issues/51394#issuecomment-578055468","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51394","id":578055468,"node_id":"MDEyOklzc3VlQ29tbWVudDU3ODA1NTQ2OA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-01-24T09:29:33Z","updated_at":"2020-01-24T09:29:33Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search (:Search/Mapping)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/578067480","html_url":"https://github.com/elastic/elasticsearch/issues/51394#issuecomment-578067480","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51394","id":578067480,"node_id":"MDEyOklzc3VlQ29tbWVudDU3ODA2NzQ4MA==","user":{"login":"faxm0dem","id":112638,"node_id":"MDQ6VXNlcjExMjYzOA==","avatar_url":"https://avatars2.githubusercontent.com/u/112638?v=4","gravatar_id":"","url":"https://api.github.com/users/faxm0dem","html_url":"https://github.com/faxm0dem","followers_url":"https://api.github.com/users/faxm0dem/followers","following_url":"https://api.github.com/users/faxm0dem/following{/other_user}","gists_url":"https://api.github.com/users/faxm0dem/gists{/gist_id}","starred_url":"https://api.github.com/users/faxm0dem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/faxm0dem/subscriptions","organizations_url":"https://api.github.com/users/faxm0dem/orgs","repos_url":"https://api.github.com/users/faxm0dem/repos","events_url":"https://api.github.com/users/faxm0dem/events{/privacy}","received_events_url":"https://api.github.com/users/faxm0dem/received_events","type":"User","site_admin":false},"created_at":"2020-01-24T10:08:06Z","updated_at":"2020-01-24T10:08:06Z","author_association":"NONE","body":"In fact, using `YYYY-MM-dd'T'HH:mm:ssZZZZZ` in the date format doesn't throw, but it indexes all my current documents to the correct time, but to January first 1970...","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/578081245","html_url":"https://github.com/elastic/elasticsearch/issues/51394#issuecomment-578081245","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51394","id":578081245,"node_id":"MDEyOklzc3VlQ29tbWVudDU3ODA4MTI0NQ==","user":{"login":"faxm0dem","id":112638,"node_id":"MDQ6VXNlcjExMjYzOA==","avatar_url":"https://avatars2.githubusercontent.com/u/112638?v=4","gravatar_id":"","url":"https://api.github.com/users/faxm0dem","html_url":"https://github.com/faxm0dem","followers_url":"https://api.github.com/users/faxm0dem/followers","following_url":"https://api.github.com/users/faxm0dem/following{/other_user}","gists_url":"https://api.github.com/users/faxm0dem/gists{/gist_id}","starred_url":"https://api.github.com/users/faxm0dem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/faxm0dem/subscriptions","organizations_url":"https://api.github.com/users/faxm0dem/orgs","repos_url":"https://api.github.com/users/faxm0dem/repos","events_url":"https://api.github.com/users/faxm0dem/events{/privacy}","received_events_url":"https://api.github.com/users/faxm0dem/received_events","type":"User","site_admin":false},"created_at":"2020-01-24T10:49:37Z","updated_at":"2020-01-24T10:49:37Z","author_association":"NONE","body":"Update: I realised I was using the weekyear `Y` instead of the \"era\" year `y`.\r\nIf I use the `yyyy-MM-dd'T'HH:mm:ssZZZZZ`, the document is correctly parsed.\r\nSo I guess it accidentally worked in 6.x","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/578176819","html_url":"https://github.com/elastic/elasticsearch/issues/51394#issuecomment-578176819","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51394","id":578176819,"node_id":"MDEyOklzc3VlQ29tbWVudDU3ODE3NjgxOQ==","user":{"login":"mayya-sharipova","id":5738841,"node_id":"MDQ6VXNlcjU3Mzg4NDE=","avatar_url":"https://avatars1.githubusercontent.com/u/5738841?v=4","gravatar_id":"","url":"https://api.github.com/users/mayya-sharipova","html_url":"https://github.com/mayya-sharipova","followers_url":"https://api.github.com/users/mayya-sharipova/followers","following_url":"https://api.github.com/users/mayya-sharipova/following{/other_user}","gists_url":"https://api.github.com/users/mayya-sharipova/gists{/gist_id}","starred_url":"https://api.github.com/users/mayya-sharipova/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayya-sharipova/subscriptions","organizations_url":"https://api.github.com/users/mayya-sharipova/orgs","repos_url":"https://api.github.com/users/mayya-sharipova/repos","events_url":"https://api.github.com/users/mayya-sharipova/events{/privacy}","received_events_url":"https://api.github.com/users/mayya-sharipova/received_events","type":"User","site_admin":false},"created_at":"2020-01-24T15:27:17Z","updated_at":"2020-01-24T15:27:17Z","author_association":"CONTRIBUTOR","body":"@faxm0dem Just to confirm, does the code on 7.5 works as expected and this issue can be closed?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/578187599","html_url":"https://github.com/elastic/elasticsearch/issues/51394#issuecomment-578187599","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51394","id":578187599,"node_id":"MDEyOklzc3VlQ29tbWVudDU3ODE4NzU5OQ==","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"created_at":"2020-01-24T15:52:44Z","updated_at":"2020-01-24T15:52:44Z","author_association":"CONTRIBUTOR","body":"@faxm0dem thank you for raising this.\r\nThis is indeed a breaking change and it is documented in our breaking changes list for 7.0 https://www.elastic.co/guide/en/elasticsearch/reference/current/breaking-changes-7.0.html#breaking_70_java_time_changes\r\n\r\nAs described on that page, we are using java.time implementation for date parsing and formatting (previously using joda)\r\nYou were affected by two of these. \r\n`Y` - year-of-era in 6.8 becomes `y` in java.time and ES 7\r\n`Z` has similar meaining but differs when it comes to number of letters used and parsing of 0offset (Zulu)\r\nas per https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n\r\n> Offset Z: This formats the offset based on the number of pattern letters. One, two or three letters outputs the hour and minute, without a colon, such as '+0130'. The output will be '+0000' when the offset is zero. Four letters outputs the full form of localized offset, equivalent to four letters of Offset-O. The output will be the corresponding localized offset text if the offset is zero. Five letters outputs the hour, minute, with optional second if non-zero, with colon. It outputs 'Z' if the offset is zero. Six or more letters throws IllegalArgumentException.\r\n\r\nI don't know your usecase but you probably want to use `XXX`\r\n\r\n> Offset X and x: This formats the offset based on the number of pattern letters. One letter outputs just the hour, such as '+01', unless the minute is non-zero in which case the minute is also output, such as '+0130'. Two letters outputs the hour and minute, without a colon, such as '+0130'. Three letters outputs the hour and minute, with a colon, such as '+01:30'. Four letters outputs the hour and minute and optional second, without a colon, such as '+013015'. Five letters outputs the hour and minute and optional second, with a colon, such as '+01:30:15'. Six or more letters throws IllegalArgumentException. Pattern letter 'X' (upper case) will output 'Z' when the offset to be output would be zero, whereas pattern letter 'x' (lower case) will output '+00', '+0000', or '+00:00'.\r\n\r\nYou might be also interested in https://www.elastic.co/guide/en/kibana/6.8/upgrade-assistant.html\r\nThis tool can identify all the breaking changes in mappings you are using. You can then create new with fixed pattern them and perform reindex.\r\n\r\nYou can find more backgorund on this here https://www.elastic.co/blog/journey-support-nanosecond-timestamps-elasticsearch","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/578318302","html_url":"https://github.com/elastic/elasticsearch/issues/51394#issuecomment-578318302","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51394","id":578318302,"node_id":"MDEyOklzc3VlQ29tbWVudDU3ODMxODMwMg==","user":{"login":"faxm0dem","id":112638,"node_id":"MDQ6VXNlcjExMjYzOA==","avatar_url":"https://avatars2.githubusercontent.com/u/112638?v=4","gravatar_id":"","url":"https://api.github.com/users/faxm0dem","html_url":"https://github.com/faxm0dem","followers_url":"https://api.github.com/users/faxm0dem/followers","following_url":"https://api.github.com/users/faxm0dem/following{/other_user}","gists_url":"https://api.github.com/users/faxm0dem/gists{/gist_id}","starred_url":"https://api.github.com/users/faxm0dem/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/faxm0dem/subscriptions","organizations_url":"https://api.github.com/users/faxm0dem/orgs","repos_url":"https://api.github.com/users/faxm0dem/repos","events_url":"https://api.github.com/users/faxm0dem/events{/privacy}","received_events_url":"https://api.github.com/users/faxm0dem/received_events","type":"User","site_admin":false},"created_at":"2020-01-24T21:58:56Z","updated_at":"2020-01-24T21:58:56Z","author_association":"NONE","body":"Thanks for your input, I'm closing this then","performed_via_github_app":null}]