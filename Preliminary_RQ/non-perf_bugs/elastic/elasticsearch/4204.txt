{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/4204","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4204/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4204/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4204/events","html_url":"https://github.com/elastic/elasticsearch/issues/4204","id":22917540,"node_id":"MDU6SXNzdWUyMjkxNzU0MA==","number":4204,"title":"Lat/Long are Reversed In GeoDistanceFilterBuilder","user":{"login":"darylrobbins","id":2270905,"node_id":"MDQ6VXNlcjIyNzA5MDU=","avatar_url":"https://avatars1.githubusercontent.com/u/2270905?v=4","gravatar_id":"","url":"https://api.github.com/users/darylrobbins","html_url":"https://github.com/darylrobbins","followers_url":"https://api.github.com/users/darylrobbins/followers","following_url":"https://api.github.com/users/darylrobbins/following{/other_user}","gists_url":"https://api.github.com/users/darylrobbins/gists{/gist_id}","starred_url":"https://api.github.com/users/darylrobbins/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/darylrobbins/subscriptions","organizations_url":"https://api.github.com/users/darylrobbins/orgs","repos_url":"https://api.github.com/users/darylrobbins/repos","events_url":"https://api.github.com/users/darylrobbins/events{/privacy}","received_events_url":"https://api.github.com/users/darylrobbins/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2013-11-19T14:43:47Z","updated_at":"2013-11-19T14:52:25Z","closed_at":"2013-11-19T14:52:25Z","author_association":"NONE","active_lock_reason":null,"body":"The latitude and longitude values are being reversed by the GeoDistanceFilterBuilder when attempted to construct a search. I have had to do the following in my client code:\n\n``` java\nsearchClient.prepareSearch(\"stores\")\n        .setTypes(\"store\")\n        .setQuery(QueryBuilders.matchAllQuery())\n        .setFilter(FilterBuilders.geoDistanceFilter(\"location\")\n        .lat(longitude)          // BUG: These are reversed in the ES API\n        .lon(latitude)\n```\n\nThe issue is with the following line of code:\nhttps://github.com/elasticsearch/elasticsearch/blob/master/src/main/java/org/elasticsearch/index/query/GeoDistanceFilterBuilder.java#L125\n\nFixing this issue would however break the backwards compatibility of the API, if anyone happened to be relying on this functionality being reversed to get their application working.\n","closed_by":{"login":"darylrobbins","id":2270905,"node_id":"MDQ6VXNlcjIyNzA5MDU=","avatar_url":"https://avatars1.githubusercontent.com/u/2270905?v=4","gravatar_id":"","url":"https://api.github.com/users/darylrobbins","html_url":"https://github.com/darylrobbins","followers_url":"https://api.github.com/users/darylrobbins/followers","following_url":"https://api.github.com/users/darylrobbins/following{/other_user}","gists_url":"https://api.github.com/users/darylrobbins/gists{/gist_id}","starred_url":"https://api.github.com/users/darylrobbins/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/darylrobbins/subscriptions","organizations_url":"https://api.github.com/users/darylrobbins/orgs","repos_url":"https://api.github.com/users/darylrobbins/repos","events_url":"https://api.github.com/users/darylrobbins/events{/privacy}","received_events_url":"https://api.github.com/users/darylrobbins/received_events","type":"User","site_admin":false},"performed_via_github_app":null}