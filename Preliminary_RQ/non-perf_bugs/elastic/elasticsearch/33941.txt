{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/33941","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33941/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33941/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33941/events","html_url":"https://github.com/elastic/elasticsearch/issues/33941","id":362589024,"node_id":"MDU6SXNzdWUzNjI1ODkwMjQ=","number":33941,"title":"Highlighting is not working as expected with synonym wordnet filter in elasticsearch","user":{"login":"ashwinrao286","id":43471814,"node_id":"MDQ6VXNlcjQzNDcxODE0","avatar_url":"https://avatars1.githubusercontent.com/u/43471814?v=4","gravatar_id":"","url":"https://api.github.com/users/ashwinrao286","html_url":"https://github.com/ashwinrao286","followers_url":"https://api.github.com/users/ashwinrao286/followers","following_url":"https://api.github.com/users/ashwinrao286/following{/other_user}","gists_url":"https://api.github.com/users/ashwinrao286/gists{/gist_id}","starred_url":"https://api.github.com/users/ashwinrao286/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashwinrao286/subscriptions","organizations_url":"https://api.github.com/users/ashwinrao286/orgs","repos_url":"https://api.github.com/users/ashwinrao286/repos","events_url":"https://api.github.com/users/ashwinrao286/events{/privacy}","received_events_url":"https://api.github.com/users/ashwinrao286/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-09-21T12:14:19Z","updated_at":"2018-09-21T12:41:51Z","closed_at":"2018-09-21T12:41:51Z","author_association":"NONE","active_lock_reason":null,"body":"Hi Guys,\r\nI am facing some issue in highlighting synonyms which are mapped from Wordnet. It is highlighting irrelevant words while searching.\r\n\r\nHere's my code below.\r\n```\r\n{\r\n  \"settings\" : {\r\n    \"index\" : {\r\n        \"analysis\" : {\r\n            \"analyzer\" : {\r\n                \"synonym\" : {\r\n                    \"tokenizer\" : \"standard\",\r\n                    \"filter\" : [\"synonym\",\"lowercase\"]\r\n                }\r\n            },\r\n            \"filter\" : {\r\n                \"synonym\" : {\r\n                    \"type\": \"synonym\",\r\n                    \"format\" : \"wordnet\",\r\n                    \"synonyms_path\": \"analysis/wn_s.pl\"\r\n                }\r\n            }\r\n        }\r\n    }\r\n  },\r\n    \"mappings\": {\r\n        \"header\": {\r\n            \"properties\": {\r\n              \"test_string\": { \r\n                \"type\": \"text\",\r\n                \"analyzer\": \"synonym\",\r\n                \"term_vector\": \"with_positions_offsets\"\r\n              }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nMy search query\r\n```\r\n{\r\n  \"query\": {\r\n    \"query_string\": {\r\n      \"query\": \"info~\"\r\n    }\r\n  },\r\n  \"highlight\": {\r\n    \"pre_tags\": [\r\n      \"<span>\"\r\n    ],\r\n    \"post_tags\": [\r\n      \"</span>\"\r\n    ],\r\n    \"fields\": {\r\n      \"test_string\": {}\r\n    },\r\n    \"fragment_size\": 501,\r\n    \"number_of_fragments\": 1\r\n  }\r\n}\r\n```\r\n\r\nResults are as below.\r\n\r\nTEST: This area contains the Customer name: TEST Customer Type TEST: This area contains **information** on the  type: TEST DLA\r\n\r\nNote : Please click '**new** value' column and 'old value' column on the Contract Header page to view complete values.\r\n\r\nNote: Transaction report present on Header display only partial value, user need to click '**Old** Value' and 'New Value' to view complete.\r\n\r\n\r\nPlease suggest where I am going wrong. Thanks.\r\n","closed_by":{"login":"astefan","id":893749,"node_id":"MDQ6VXNlcjg5Mzc0OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/893749?v=4","gravatar_id":"","url":"https://api.github.com/users/astefan","html_url":"https://github.com/astefan","followers_url":"https://api.github.com/users/astefan/followers","following_url":"https://api.github.com/users/astefan/following{/other_user}","gists_url":"https://api.github.com/users/astefan/gists{/gist_id}","starred_url":"https://api.github.com/users/astefan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astefan/subscriptions","organizations_url":"https://api.github.com/users/astefan/orgs","repos_url":"https://api.github.com/users/astefan/repos","events_url":"https://api.github.com/users/astefan/events{/privacy}","received_events_url":"https://api.github.com/users/astefan/received_events","type":"User","site_admin":false},"performed_via_github_app":null}