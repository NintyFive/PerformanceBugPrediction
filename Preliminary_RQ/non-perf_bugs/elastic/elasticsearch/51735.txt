{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/51735","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51735/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51735/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51735/events","html_url":"https://github.com/elastic/elasticsearch/issues/51735","id":558083204,"node_id":"MDU6SXNzdWU1NTgwODMyMDQ=","number":51735,"title":"_id clash on restored server.","user":{"login":"praveenkutty","id":26202822,"node_id":"MDQ6VXNlcjI2MjAyODIy","avatar_url":"https://avatars0.githubusercontent.com/u/26202822?v=4","gravatar_id":"","url":"https://api.github.com/users/praveenkutty","html_url":"https://github.com/praveenkutty","followers_url":"https://api.github.com/users/praveenkutty/followers","following_url":"https://api.github.com/users/praveenkutty/following{/other_user}","gists_url":"https://api.github.com/users/praveenkutty/gists{/gist_id}","starred_url":"https://api.github.com/users/praveenkutty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/praveenkutty/subscriptions","organizations_url":"https://api.github.com/users/praveenkutty/orgs","repos_url":"https://api.github.com/users/praveenkutty/repos","events_url":"https://api.github.com/users/praveenkutty/events{/privacy}","received_events_url":"https://api.github.com/users/praveenkutty/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-01-31T11:43:39Z","updated_at":"2020-01-31T17:09:10Z","closed_at":"2020-01-31T17:09:10Z","author_association":"NONE","active_lock_reason":null,"body":"Hey,\r\n\r\nI migrated elasticsearch onto a new server using npm package elasticdump. \r\n\r\nAfter restoring when I ingest new data, it does not add since it seems to use an existing _id for the  new data and is being rejected as duplicate data. The _id is a auto generated one.\r\n\r\nIs there a way where I can start the sequence of _id based on the max of _id. \r\n\r\nAlso I the _id being auto generated seems to be an UUID based and I want to change it time based id. Any pointers on this would solve my problem.\r\n\r\nI have tried reIndexing on the same server but issue persist on the new index too. \r\n\r\n**ElasticSearch version: 5.6.4**\r\n**1 cluster\r\n1 node** \r\n\r\nThe index was created as below\r\nlet index = {\r\n    \"mappings\": {\r\n      \"textindex\": {\r\n        \"properties\": {\r\n          \"a\": {\r\n            \"type\": \"integer\"\r\n          },\r\n          \"b\": {\r\n            \"type\": \"keyword\"\r\n          },\r\n          \"c\": {\r\n            \"type\": \"integer\"\r\n          },\r\n          \"d\": {\r\n            \"type\": \"text\",\r\n            \"fields\": {\r\n              \"raw\": {\r\n                \"type\": \"keyword\"\r\n              }\r\n            },\r\n            \"analyzer\": \"english\"\r\n          },\r\n          \"e\": {\r\n            \"type\": \"integer\"\r\n          },\r\n          \"f\": {\r\n            \"type\": \"keyword\"\r\n          },\r\n          \"g\": {\r\n            \"type\": \"text\",\r\n            \"analyzer\": \"english\"\r\n          },\r\n          \"h\": {\r\n            \"type\": \"text\",\r\n            \"analyzer\": \"english\",\r\n            \"fielddata\": true\r\n          },\r\n          \"i\": {\r\n            \"type\": \"keyword\",\r\n            \"boost\": 3\r\n          }\r\n        }\r\n      },\r\n      \"category\": {\r\n        \"properties\": {\r\n          \"name\": {\r\n            \"type\": \"keyword\"\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n    let esindex = await (0, _axios2.default)({\r\n      method: 'put',\r\n      url: `http://localhost:9200/textindex/`,\r\n      data: index\r\n    }\r\n\r\n","closed_by":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"performed_via_github_app":null}