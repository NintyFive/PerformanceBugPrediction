{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/28533","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28533/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28533/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28533/events","html_url":"https://github.com/elastic/elasticsearch/issues/28533","id":294767740,"node_id":"MDU6SXNzdWUyOTQ3Njc3NDA=","number":28533,"title":"[X-PACK] [Monitoring] Improvement of \"Disk Available\" display","user":{"login":"Cornoualis","id":379309,"node_id":"MDQ6VXNlcjM3OTMwOQ==","avatar_url":"https://avatars2.githubusercontent.com/u/379309?v=4","gravatar_id":"","url":"https://api.github.com/users/Cornoualis","html_url":"https://github.com/Cornoualis","followers_url":"https://api.github.com/users/Cornoualis/followers","following_url":"https://api.github.com/users/Cornoualis/following{/other_user}","gists_url":"https://api.github.com/users/Cornoualis/gists{/gist_id}","starred_url":"https://api.github.com/users/Cornoualis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Cornoualis/subscriptions","organizations_url":"https://api.github.com/users/Cornoualis/orgs","repos_url":"https://api.github.com/users/Cornoualis/repos","events_url":"https://api.github.com/users/Cornoualis/events{/privacy}","received_events_url":"https://api.github.com/users/Cornoualis/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-02-06T13:55:43Z","updated_at":"2018-02-08T11:55:36Z","closed_at":"2018-02-07T18:39:45Z","author_association":"NONE","active_lock_reason":null,"body":"**Feature request** \r\n\r\n**Describe the feature**: Improve the \"Disk Available\" value on the main \"Monitoring\" page, by only counting the free disk space on nodes that have _node.data=true_ in their config.\r\n\r\n**Elasticsearch version**: Version: 5.6.2, Build: 57e20f3/2017-09-23T13:16:45.703Z, JVM: 1.8.0_131\r\n\r\n**Plugins installed**: [x-pack]\r\n\r\n**JVM version** : 1.8.0_131\r\n\r\n**OS version** : RHEL7\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\n\r\nThe \"Disk Available\" value on the main \"Monitoring\" page displays the sum of free disk space on **all** the nodes in the cluster, even if those nodes don't have the node.data setting to 'true'. The resulting value could be misleading.\r\n\r\n**Example:** This morning, I had a **red cluster state**, caused by shards that couldn't be allocated because of no disk space left...and at this moment, **the \"Disk Available\" value was 20%** (because I have several non data nodes included in that value).","closed_by":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"performed_via_github_app":null}