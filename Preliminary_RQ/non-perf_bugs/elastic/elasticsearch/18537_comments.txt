[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/221216389","html_url":"https://github.com/elastic/elasticsearch/issues/18537#issuecomment-221216389","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18537","id":221216389,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTIxNjM4OQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-05-24T09:34:10Z","updated_at":"2016-05-24T09:34:10Z","author_association":"CONTRIBUTOR","body":"@brwe what do you think about this?  I'm loathe to add more parameters unless they genuinely generically useful, given that this can all be achieved with a script  (and will be improved with https://github.com/elastic/elasticsearch/issues/17116)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/221297922","html_url":"https://github.com/elastic/elasticsearch/issues/18537#issuecomment-221297922","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18537","id":221297922,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTI5NzkyMg==","user":{"login":"JnBrymn-EB","id":11304245,"node_id":"MDQ6VXNlcjExMzA0MjQ1","avatar_url":"https://avatars1.githubusercontent.com/u/11304245?v=4","gravatar_id":"","url":"https://api.github.com/users/JnBrymn-EB","html_url":"https://github.com/JnBrymn-EB","followers_url":"https://api.github.com/users/JnBrymn-EB/followers","following_url":"https://api.github.com/users/JnBrymn-EB/following{/other_user}","gists_url":"https://api.github.com/users/JnBrymn-EB/gists{/gist_id}","starred_url":"https://api.github.com/users/JnBrymn-EB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JnBrymn-EB/subscriptions","organizations_url":"https://api.github.com/users/JnBrymn-EB/orgs","repos_url":"https://api.github.com/users/JnBrymn-EB/repos","events_url":"https://api.github.com/users/JnBrymn-EB/events{/privacy}","received_events_url":"https://api.github.com/users/JnBrymn-EB/received_events","type":"User","site_admin":false},"created_at":"2016-05-24T14:56:15Z","updated_at":"2016-05-24T14:56:15Z","author_association":"NONE","body":"@clintongormley your prior issue #6955 is relevant here. There you needed a weight for all of the functions - but when using the functions multiplicatively, just having weights does not make sense. Consider that in the multiplicative use case the total score of a document is `query_score*(weight1*field_value1)*(weight2*field_value2)` - you can see that final score with weighting is equal to the original non-weighted score times `weight1*weight2`.\n\nBecause weight doesn't have any effect when the the function values are multiplied together I think there is a need for an offset parameter.\n\nConsider also that the most basic definition for a linear function is: `y = m*x + b`. I think we're missing the `b`.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/221375945","html_url":"https://github.com/elastic/elasticsearch/issues/18537#issuecomment-221375945","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18537","id":221375945,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTM3NTk0NQ==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2016-05-24T19:23:27Z","updated_at":"2016-05-24T19:23:27Z","author_association":"MEMBER","body":"I don't see the point, given, as Clint said, that this can be done with a script, and even with an `expression` script, which will be very fast (I benchmarked this when adding expressions, specifically comparing to `function_value_factor` and the perf was identical).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/221556194","html_url":"https://github.com/elastic/elasticsearch/issues/18537#issuecomment-221556194","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18537","id":221556194,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTU1NjE5NA==","user":{"login":"brwe","id":4320215,"node_id":"MDQ6VXNlcjQzMjAyMTU=","avatar_url":"https://avatars0.githubusercontent.com/u/4320215?v=4","gravatar_id":"","url":"https://api.github.com/users/brwe","html_url":"https://github.com/brwe","followers_url":"https://api.github.com/users/brwe/followers","following_url":"https://api.github.com/users/brwe/following{/other_user}","gists_url":"https://api.github.com/users/brwe/gists{/gist_id}","starred_url":"https://api.github.com/users/brwe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brwe/subscriptions","organizations_url":"https://api.github.com/users/brwe/orgs","repos_url":"https://api.github.com/users/brwe/repos","events_url":"https://api.github.com/users/brwe/events{/privacy}","received_events_url":"https://api.github.com/users/brwe/received_events","type":"User","site_admin":false},"created_at":"2016-05-25T12:17:04Z","updated_at":"2016-05-25T12:17:04Z","author_association":"CONTRIBUTOR","body":"I also do not think that we can or should cover too many score combinations with the functions we provide so far. The idea of function score originally was to allow basic functionality out of the box and leave more sophisticated stuff to script_score. I somewhat agree that we are missing the b and that the weights do not make sense when the functions are multiplied  in the end. But on the other hand the offset does not make sense either when the functions are summed up...not sure. I am more inclined to work on #17116 and leave the factor function as is. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/221591508","html_url":"https://github.com/elastic/elasticsearch/issues/18537#issuecomment-221591508","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18537","id":221591508,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTU5MTUwOA==","user":{"login":"JnBrymn-EB","id":11304245,"node_id":"MDQ6VXNlcjExMzA0MjQ1","avatar_url":"https://avatars1.githubusercontent.com/u/11304245?v=4","gravatar_id":"","url":"https://api.github.com/users/JnBrymn-EB","html_url":"https://github.com/JnBrymn-EB","followers_url":"https://api.github.com/users/JnBrymn-EB/followers","following_url":"https://api.github.com/users/JnBrymn-EB/following{/other_user}","gists_url":"https://api.github.com/users/JnBrymn-EB/gists{/gist_id}","starred_url":"https://api.github.com/users/JnBrymn-EB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JnBrymn-EB/subscriptions","organizations_url":"https://api.github.com/users/JnBrymn-EB/orgs","repos_url":"https://api.github.com/users/JnBrymn-EB/repos","events_url":"https://api.github.com/users/JnBrymn-EB/events{/privacy}","received_events_url":"https://api.github.com/users/JnBrymn-EB/received_events","type":"User","site_admin":false},"created_at":"2016-05-25T14:21:28Z","updated_at":"2016-05-25T14:21:28Z","author_association":"NONE","body":"Ok - presuming I'm on Elasticsearch 2.3.x which scripting approach should I use? Groovy? Painless? Lucene Expression Script? My impression is that Groovy is insecure (which actually probably doesn't matter for my case); Painless is not available yet; Lucene Expression Script is marked as undergoing development.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/221593442","html_url":"https://github.com/elastic/elasticsearch/issues/18537#issuecomment-221593442","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18537","id":221593442,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTU5MzQ0Mg==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-05-25T14:27:35Z","updated_at":"2016-05-25T14:27:35Z","author_association":"CONTRIBUTOR","body":"Expressions are very fast and stable, I'll remove that warning from the docs.  I'd definitely use expressions if it does what you need (which it sounds like it will).  The only downside is it may not support all the syntax you need, in which case your only option for the moment is Groovy.  Painless will be the lang to move to once 5.0 is out.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/221593864","html_url":"https://github.com/elastic/elasticsearch/issues/18537#issuecomment-221593864","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18537","id":221593864,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTU5Mzg2NA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-05-25T14:28:56Z","updated_at":"2016-05-25T14:28:56Z","author_association":"CONTRIBUTOR","body":"Removed in https://github.com/elastic/elasticsearch/commit/cf7b13d11217ca11e765bf924f6c36418e94fee8\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/221726496","html_url":"https://github.com/elastic/elasticsearch/issues/18537#issuecomment-221726496","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18537","id":221726496,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTcyNjQ5Ng==","user":{"login":"JnBrymn-EB","id":11304245,"node_id":"MDQ6VXNlcjExMzA0MjQ1","avatar_url":"https://avatars1.githubusercontent.com/u/11304245?v=4","gravatar_id":"","url":"https://api.github.com/users/JnBrymn-EB","html_url":"https://github.com/JnBrymn-EB","followers_url":"https://api.github.com/users/JnBrymn-EB/followers","following_url":"https://api.github.com/users/JnBrymn-EB/following{/other_user}","gists_url":"https://api.github.com/users/JnBrymn-EB/gists{/gist_id}","starred_url":"https://api.github.com/users/JnBrymn-EB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JnBrymn-EB/subscriptions","organizations_url":"https://api.github.com/users/JnBrymn-EB/orgs","repos_url":"https://api.github.com/users/JnBrymn-EB/repos","events_url":"https://api.github.com/users/JnBrymn-EB/events{/privacy}","received_events_url":"https://api.github.com/users/JnBrymn-EB/received_events","type":"User","site_admin":false},"created_at":"2016-05-25T22:26:25Z","updated_at":"2016-05-25T22:26:25Z","author_association":"NONE","body":"thanks, All\n\n-John\n\nOn Wed, May 25, 2016 at 9:31 AM, Clinton Gormley notifications@github.com\nwrote:\n\n> Removed in cf7b13d\n> https://github.com/elastic/elasticsearch/commit/cf7b13d11217ca11e765bf924f6c36418e94fee8\n> \n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly or view it on GitHub\n> https://github.com/elastic/elasticsearch/issues/18537#issuecomment-221593864\n","performed_via_github_app":null}]