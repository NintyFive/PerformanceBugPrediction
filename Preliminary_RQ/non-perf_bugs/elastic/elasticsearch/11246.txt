{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/11246","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11246/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11246/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11246/events","html_url":"https://github.com/elastic/elasticsearch/issues/11246","id":78386175,"node_id":"MDU6SXNzdWU3ODM4NjE3NQ==","number":11246,"title":"Better exception if array passed to `term` query","user":{"login":"spyk","id":812009,"node_id":"MDQ6VXNlcjgxMjAwOQ==","avatar_url":"https://avatars0.githubusercontent.com/u/812009?v=4","gravatar_id":"","url":"https://api.github.com/users/spyk","html_url":"https://github.com/spyk","followers_url":"https://api.github.com/users/spyk/followers","following_url":"https://api.github.com/users/spyk/following{/other_user}","gists_url":"https://api.github.com/users/spyk/gists{/gist_id}","starred_url":"https://api.github.com/users/spyk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spyk/subscriptions","organizations_url":"https://api.github.com/users/spyk/orgs","repos_url":"https://api.github.com/users/spyk/repos","events_url":"https://api.github.com/users/spyk/events{/privacy}","received_events_url":"https://api.github.com/users/spyk/received_events","type":"User","site_admin":false},"labels":[{"id":146832564,"node_id":"MDU6TGFiZWwxNDY4MzI1NjQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Search","name":":Search/Search","color":"0e8a16","default":false,"description":"Search-related issues that do not fall into other categories"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":92913858,"node_id":"MDU6TGFiZWw5MjkxMzg1OA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/good%20first%20issue","name":"good first issue","color":"07569b","default":true,"description":"low hanging fruit"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-05-20T05:52:55Z","updated_at":"2018-02-14T13:39:28Z","closed_at":"2015-05-29T11:40:39Z","author_association":"NONE","active_lock_reason":null,"body":"Example: in the query \"term\" : [\"doc1\", \"doc2\", \"doc3\"] only \"doc3\" will be searched. \n\nI think an error message would be more preferable in case of array, as this is not immediately obvious and might take some time to track down why the query is not returning the expected values (as it happened to me). The user probably meant to run a \"terms\" query. \n\nSteps to reproduce:\n\n<pre>\ncurl -XDELETE localhost:9200/test \ncurl -XPUT localhost:9200/test/test/1 -d ' { \"title\": \"doc1\"} '\ncurl -XPUT localhost:9200/test/test/2 -d ' { \"title\": \"doc2\"} '\ncurl -XPUT localhost:9200/test/test/3 -d ' { \"title\": \"doc3\"} '\n\n// Query will only return doc3\ncurl -XGET localhost:9200/test/test/_search -d  '{\"query\":{\"term\":{\"title\": [\"doc1\", \"doc2\", \"doc3\"]}}}'\n</pre>\n","closed_by":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"performed_via_github_app":null}