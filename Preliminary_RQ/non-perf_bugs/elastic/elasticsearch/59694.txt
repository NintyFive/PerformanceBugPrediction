{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/59694","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/59694/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/59694/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/59694/events","html_url":"https://github.com/elastic/elasticsearch/issues/59694","id":658084570,"node_id":"MDU6SXNzdWU2NTgwODQ1NzA=","number":59694,"title":"Ingest node user agent processor regular expression file is outdated","user":{"login":"shahzad31","id":3505601,"node_id":"MDQ6VXNlcjM1MDU2MDE=","avatar_url":"https://avatars0.githubusercontent.com/u/3505601?v=4","gravatar_id":"","url":"https://api.github.com/users/shahzad31","html_url":"https://github.com/shahzad31","followers_url":"https://api.github.com/users/shahzad31/followers","following_url":"https://api.github.com/users/shahzad31/following{/other_user}","gists_url":"https://api.github.com/users/shahzad31/gists{/gist_id}","starred_url":"https://api.github.com/users/shahzad31/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shahzad31/subscriptions","organizations_url":"https://api.github.com/users/shahzad31/orgs","repos_url":"https://api.github.com/users/shahzad31/repos","events_url":"https://api.github.com/users/shahzad31/events{/privacy}","received_events_url":"https://api.github.com/users/shahzad31/received_events","type":"User","site_admin":false},"labels":[{"id":268963484,"node_id":"MDU6TGFiZWwyNjg5NjM0ODQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Ingest","name":":Core/Features/Ingest","color":"0e8a16","default":false,"description":"Execution or management of Ingest Pipelines"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":1967496097,"node_id":"MDU6TGFiZWwxOTY3NDk2MDk3","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Core/Features","name":"Team:Core/Features","color":"fef2c0","default":false,"description":"Meta label for core/features team"},{"id":2042400575,"node_id":"MDU6TGFiZWwyMDQyNDAwNTc1","url":"https://api.github.com/repos/elastic/elasticsearch/labels/needs:triage","name":"needs:triage","color":"c5def5","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"shahzad31","id":3505601,"node_id":"MDQ6VXNlcjM1MDU2MDE=","avatar_url":"https://avatars0.githubusercontent.com/u/3505601?v=4","gravatar_id":"","url":"https://api.github.com/users/shahzad31","html_url":"https://github.com/shahzad31","followers_url":"https://api.github.com/users/shahzad31/followers","following_url":"https://api.github.com/users/shahzad31/following{/other_user}","gists_url":"https://api.github.com/users/shahzad31/gists{/gist_id}","starred_url":"https://api.github.com/users/shahzad31/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shahzad31/subscriptions","organizations_url":"https://api.github.com/users/shahzad31/orgs","repos_url":"https://api.github.com/users/shahzad31/repos","events_url":"https://api.github.com/users/shahzad31/events{/privacy}","received_events_url":"https://api.github.com/users/shahzad31/received_events","type":"User","site_admin":false},"assignees":[{"login":"shahzad31","id":3505601,"node_id":"MDQ6VXNlcjM1MDU2MDE=","avatar_url":"https://avatars0.githubusercontent.com/u/3505601?v=4","gravatar_id":"","url":"https://api.github.com/users/shahzad31","html_url":"https://github.com/shahzad31","followers_url":"https://api.github.com/users/shahzad31/followers","following_url":"https://api.github.com/users/shahzad31/following{/other_user}","gists_url":"https://api.github.com/users/shahzad31/gists{/gist_id}","starred_url":"https://api.github.com/users/shahzad31/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shahzad31/subscriptions","organizations_url":"https://api.github.com/users/shahzad31/orgs","repos_url":"https://api.github.com/users/shahzad31/repos","events_url":"https://api.github.com/users/shahzad31/events{/privacy}","received_events_url":"https://api.github.com/users/shahzad31/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2020-07-16T10:51:43Z","updated_at":"2020-07-17T14:54:35Z","closed_at":"2020-07-17T14:54:35Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Elasticsearch version** (`Master/7.8/7.9 Build`):\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\nElastic user agent processor file is outdated, it marks majority of devices as others, for example for following data \r\n\r\n```\r\nconst UserAgents = [\r\n  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.97 Safari/537.36',\r\n  'Mozilla/5.0 (Linux; Android 8.0.0; SM-G960F Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.84 Mobile Safari/537.36',\r\n  'Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/69.0.3497.105 Mobile/15E148 Safari/605.1',\r\n  'Mozilla/5.0 (iPhone; CPU iPhone OS 12_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/12.0 Mobile/15E148 Safari/604.1',\r\n  'Mozilla/5.0 (Linux; Android 7.0; Pixel C Build/NRD90M; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/52.0.2743.98 Safari/537.36',\r\n  'Mozilla/5.0 (X11; CrOS x86_64 8172.45.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.64 Safari/537.36',\r\n  'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_2) AppleWebKit/601.3.9 (KHTML, like Gecko) Version/9.0.2 Safari/601.3.9',\r\n  'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:15.0) Gecko/20100101 Firefox/15.0.1',\r\n  'Mozilla/5.0 (CrKey armv7l 1.5.16041) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/31.0.1650.0 Safari/537.36',\r\n];\r\n```\r\nIt marks devices as follows, it seems to missing few important categories Mac OS X etc \r\nhttps://github.com/ua-parser/uap-core/blob/f21592418f6323f9ce32f10e231841cf8e782b43/regexes.yaml#L5578-L5587\r\n\r\n![image](https://user-images.githubusercontent.com/3505601/87662703-e3c0b080-c762-11ea-952a-2f7c3568abe8.png)\r\n\r\n\r\n\r\n","closed_by":{"login":"shahzad31","id":3505601,"node_id":"MDQ6VXNlcjM1MDU2MDE=","avatar_url":"https://avatars0.githubusercontent.com/u/3505601?v=4","gravatar_id":"","url":"https://api.github.com/users/shahzad31","html_url":"https://github.com/shahzad31","followers_url":"https://api.github.com/users/shahzad31/followers","following_url":"https://api.github.com/users/shahzad31/following{/other_user}","gists_url":"https://api.github.com/users/shahzad31/gists{/gist_id}","starred_url":"https://api.github.com/users/shahzad31/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shahzad31/subscriptions","organizations_url":"https://api.github.com/users/shahzad31/orgs","repos_url":"https://api.github.com/users/shahzad31/repos","events_url":"https://api.github.com/users/shahzad31/events{/privacy}","received_events_url":"https://api.github.com/users/shahzad31/received_events","type":"User","site_admin":false},"performed_via_github_app":null}