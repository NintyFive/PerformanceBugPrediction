{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/6213","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6213/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6213/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6213/events","html_url":"https://github.com/elastic/elasticsearch/issues/6213","id":33729515,"node_id":"MDU6SXNzdWUzMzcyOTUxNQ==","number":6213,"title":"\"porter2\" option in stemmer token filter return porter v 1","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"labels":[{"id":33660,"node_id":"MDU6TGFiZWwzMzY2MA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebreaking","name":">breaking","color":"d93f0b","default":false,"description":null},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2014-05-17T12:17:10Z","updated_at":"2014-06-11T10:31:18Z","closed_at":"2014-06-11T10:31:18Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"There are two implementations of the original Porter stemmer in Lucene:\n- PorterStemFilter\n- PorterStemmer (based on Snowball)\n\nThe Porter2 algorithm is actually implemented as the EnglishStemmer (based on Snowball).\n\nHowever, the StemmerTokenFilter uses this logic:\n\n```\n    } else if (\"english\".equalsIgnoreCase(language)) {\n        return new SnowballFilter(tokenStream, new EnglishStemmer());\n    ...\n    } else if (\"porter\".equalsIgnoreCase(language)) {\n        return new PorterStemFilter(tokenStream);\n    } else if (\"porter2\".equalsIgnoreCase(language)) {\n        return new SnowballFilter(tokenStream, new PorterStemmer());\n```\n\nThe `porter2` language actually returns the original Porter algorithm, when it should return the EnglishStemmer.\n\nI don't know if there are any differences in performance or output between the PorterStemmer and the PorterStemFilter, but possibly we should just expose one of those classes via the `porter` option.  \n\nNot sure what to do with `porter2`.  To be correct, it should be changed to point to the EnglishStemmer, but that's not backwards compatible.  Possibly we should just deprecate it (and warn when it is used) then later remove it. \n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}