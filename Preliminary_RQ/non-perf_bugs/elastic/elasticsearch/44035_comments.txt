[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/508865534","html_url":"https://github.com/elastic/elasticsearch/issues/44035#issuecomment-508865534","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44035","id":508865534,"node_id":"MDEyOklzc3VlQ29tbWVudDUwODg2NTUzNA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-07-05T21:28:16Z","updated_at":"2019-07-05T21:28:16Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/509274687","html_url":"https://github.com/elastic/elasticsearch/issues/44035#issuecomment-509274687","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44035","id":509274687,"node_id":"MDEyOklzc3VlQ29tbWVudDUwOTI3NDY4Nw==","user":{"login":"mayya-sharipova","id":5738841,"node_id":"MDQ6VXNlcjU3Mzg4NDE=","avatar_url":"https://avatars1.githubusercontent.com/u/5738841?v=4","gravatar_id":"","url":"https://api.github.com/users/mayya-sharipova","html_url":"https://github.com/mayya-sharipova","followers_url":"https://api.github.com/users/mayya-sharipova/followers","following_url":"https://api.github.com/users/mayya-sharipova/following{/other_user}","gists_url":"https://api.github.com/users/mayya-sharipova/gists{/gist_id}","starred_url":"https://api.github.com/users/mayya-sharipova/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayya-sharipova/subscriptions","organizations_url":"https://api.github.com/users/mayya-sharipova/orgs","repos_url":"https://api.github.com/users/mayya-sharipova/repos","events_url":"https://api.github.com/users/mayya-sharipova/events{/privacy}","received_events_url":"https://api.github.com/users/mayya-sharipova/received_events","type":"User","site_admin":false},"created_at":"2019-07-08T15:31:21Z","updated_at":"2019-07-08T15:31:21Z","author_association":"CONTRIBUTOR","body":"We have discussed this within the team, while people are in favour of implementing it (as we have similar functionality with composite aggs), we still need to investigate the technical feasibility of this feature.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/516052690","html_url":"https://github.com/elastic/elasticsearch/issues/44035#issuecomment-516052690","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44035","id":516052690,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjA1MjY5MA==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2019-07-29T15:59:50Z","updated_at":"2019-07-29T15:59:50Z","author_association":"MEMBER","body":"For field collapsing we need a way to quickly find all documents belonging to a group, this way we can retrieve `inner_hits` efficiently. With `script` we'd need to do a full scan of the documents to retrieve the top hits of a single group so I doubt that it is a price that users are willing to take.\r\nFor exploratory cases the  `terms` aggregation accepts `script` so it should be doable there. Users can then create a composite field and reindex if they want to speed up the search with `collapsing`.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/516867127","html_url":"https://github.com/elastic/elasticsearch/issues/44035#issuecomment-516867127","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44035","id":516867127,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjg2NzEyNw==","user":{"login":"mayya-sharipova","id":5738841,"node_id":"MDQ6VXNlcjU3Mzg4NDE=","avatar_url":"https://avatars1.githubusercontent.com/u/5738841?v=4","gravatar_id":"","url":"https://api.github.com/users/mayya-sharipova","html_url":"https://github.com/mayya-sharipova","followers_url":"https://api.github.com/users/mayya-sharipova/followers","following_url":"https://api.github.com/users/mayya-sharipova/following{/other_user}","gists_url":"https://api.github.com/users/mayya-sharipova/gists{/gist_id}","starred_url":"https://api.github.com/users/mayya-sharipova/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayya-sharipova/subscriptions","organizations_url":"https://api.github.com/users/mayya-sharipova/orgs","repos_url":"https://api.github.com/users/mayya-sharipova/repos","events_url":"https://api.github.com/users/mayya-sharipova/events{/privacy}","received_events_url":"https://api.github.com/users/mayya-sharipova/received_events","type":"User","site_admin":false},"created_at":"2019-07-31T14:13:37Z","updated_at":"2019-07-31T14:13:37Z","author_association":"CONTRIBUTOR","body":"Closing this issue, as Jim noted an exploratory use case can be achieved with `term` agg, and for speedups a composite field can be created.","performed_via_github_app":null}]