{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/29367","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29367/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29367/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29367/events","html_url":"https://github.com/elastic/elasticsearch/issues/29367","id":311204456,"node_id":"MDU6SXNzdWUzMTEyMDQ0NTY=","number":29367,"title":"Add RequestedAuthnContext for MFA in SAML SP","user":{"login":"dherrhoyiu","id":38072787,"node_id":"MDQ6VXNlcjM4MDcyNzg3","avatar_url":"https://avatars2.githubusercontent.com/u/38072787?v=4","gravatar_id":"","url":"https://api.github.com/users/dherrhoyiu","html_url":"https://github.com/dherrhoyiu","followers_url":"https://api.github.com/users/dherrhoyiu/followers","following_url":"https://api.github.com/users/dherrhoyiu/following{/other_user}","gists_url":"https://api.github.com/users/dherrhoyiu/gists{/gist_id}","starred_url":"https://api.github.com/users/dherrhoyiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dherrhoyiu/subscriptions","organizations_url":"https://api.github.com/users/dherrhoyiu/orgs","repos_url":"https://api.github.com/users/dherrhoyiu/repos","events_url":"https://api.github.com/users/dherrhoyiu/events{/privacy}","received_events_url":"https://api.github.com/users/dherrhoyiu/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-04-04T12:14:56Z","updated_at":"2018-04-04T13:26:24Z","closed_at":"2018-04-04T13:17:36Z","author_association":"NONE","active_lock_reason":null,"body":"<!--\r\n\r\n** Please read the guidelines below. **\r\n\r\nIssues that do not follow these guidelines are likely to be closed.\r\n\r\n1.  GitHub is reserved for bug reports and feature requests. The best place to\r\n    ask a general question is at the Elastic [forums](https://discuss.elastic.co).\r\n    GitHub is not the place for general questions.\r\n\r\n2.  Is this bug report or feature request for a supported OS? If not, it\r\n    is likely to be closed.  See https://www.elastic.co/support/matrix#show_os\r\n\r\n3.  Please fill out EITHER the feature request block or the bug report block\r\n    below, and delete the other block.\r\n\r\n-->\r\n\r\n<!-- Feature request -->\r\n\r\nSupport MFA (Multifactor Authentication) using the authnContextClassRef=\"http://id.incommon.org/assurance/mfa\" attribute on the SP side (Kibana).  This is for Shibboleth, which we are using for federated IdM in the Omnisoc initiative (http://omnisoc.iu.edu).  The federation is InCommon, a higher ed federation.\r\n\r\nI have used Shibboleth on the SP side in ES 6.1 to do MFA, but it's really just an overlay on ES.  There's shibd running, which is the SP, and I can add RequestedAuthnContext there within /etc/shibboleth/shibboleth2.xml as authnContextClassRef=\"http://id.incommon.org/assurance/mfa\" in the <SSO ...> entity.\r\nShould be able to do something similar in the ES SAML implementation.\r\n\r\nI do have SAML working in a dev ELK with ES 6.2.2.\r\n\r\n\r\n\r\n","closed_by":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"performed_via_github_app":null}