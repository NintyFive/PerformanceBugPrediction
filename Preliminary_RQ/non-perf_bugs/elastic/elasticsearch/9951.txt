{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/9951","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9951/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9951/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9951/events","html_url":"https://github.com/elastic/elasticsearch/issues/9951","id":59507461,"node_id":"MDU6SXNzdWU1OTUwNzQ2MQ==","number":9951,"title":"Very high disk read io when bulk","user":{"login":"sylvae","id":11273813,"node_id":"MDQ6VXNlcjExMjczODEz","avatar_url":"https://avatars2.githubusercontent.com/u/11273813?v=4","gravatar_id":"","url":"https://api.github.com/users/sylvae","html_url":"https://github.com/sylvae","followers_url":"https://api.github.com/users/sylvae/followers","following_url":"https://api.github.com/users/sylvae/following{/other_user}","gists_url":"https://api.github.com/users/sylvae/gists{/gist_id}","starred_url":"https://api.github.com/users/sylvae/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sylvae/subscriptions","organizations_url":"https://api.github.com/users/sylvae/orgs","repos_url":"https://api.github.com/users/sylvae/repos","events_url":"https://api.github.com/users/sylvae/events{/privacy}","received_events_url":"https://api.github.com/users/sylvae/received_events","type":"User","site_admin":false},"labels":[{"id":111624690,"node_id":"MDU6TGFiZWwxMTE2MjQ2OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/feedback_needed","name":"feedback_needed","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2015-03-02T16:46:46Z","updated_at":"2018-09-26T07:10:02Z","closed_at":"2015-03-10T16:02:19Z","author_association":"NONE","active_lock_reason":null,"body":"We have about 95 nodes in our cluster,and index have 89 shards.\nWe send bulk requests to these nodes random,total about 1 million per seconds.\n\nEvery thing is good except some nodes(about 5~10) have very high disk read io:\nDevice:         rrqm/s   wrqm/s     r/s     w/s   rsec/s   wsec/s avgrq-sz avgqu-sz   await  svctm  %util\nsdh               0.00     0.50 19739.00   18.00 573624.00  3128.00    29.19    75.48    3.82   0.05 100.00\nsdg               0.00     0.00 10850.00    0.00 298556.00     0.00    27.52     4.26    0.39   0.06  65.30\n\nbut other nodes are normal,they have very little read io:\nDevice:         rrqm/s   wrqm/s     r/s     w/s   rsec/s   wsec/s avgrq-sz avgqu-sz   await  svctm  %util\nsdh               0.00     0.50    0.00   41.00     0.00  8964.00   218.63     0.22    5.45   0.23   0.95\nsdg               0.00     0.00    1.50    0.00    12.00     0.00     8.00     0.00    0.00   0.00   0.00\n\nI think this is very abnormal,there is not other process except  ES ,and the disk is not bad.\nI look the index codes ,it seems that only the \"loadVersion\" function need to read the disk,but how can it use so many read io? Please help ,thanks very much.\n","closed_by":{"login":"sylvae","id":11273813,"node_id":"MDQ6VXNlcjExMjczODEz","avatar_url":"https://avatars2.githubusercontent.com/u/11273813?v=4","gravatar_id":"","url":"https://api.github.com/users/sylvae","html_url":"https://github.com/sylvae","followers_url":"https://api.github.com/users/sylvae/followers","following_url":"https://api.github.com/users/sylvae/following{/other_user}","gists_url":"https://api.github.com/users/sylvae/gists{/gist_id}","starred_url":"https://api.github.com/users/sylvae/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sylvae/subscriptions","organizations_url":"https://api.github.com/users/sylvae/orgs","repos_url":"https://api.github.com/users/sylvae/repos","events_url":"https://api.github.com/users/sylvae/events{/privacy}","received_events_url":"https://api.github.com/users/sylvae/received_events","type":"User","site_admin":false},"performed_via_github_app":null}