[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/340784162","html_url":"https://github.com/elastic/elasticsearch/issues/27186#issuecomment-340784162","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27186","id":340784162,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MDc4NDE2Mg==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2017-10-31T14:42:59Z","updated_at":"2017-10-31T14:42:59Z","author_association":"CONTRIBUTOR","body":"+1 to options for hard timeouts\r\n\r\nNaming-wise I think I'd rather like having a `timeout` and `hard_timeout` than adding a `timeout_type`.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/340785240","html_url":"https://github.com/elastic/elasticsearch/issues/27186#issuecomment-340785240","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27186","id":340785240,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MDc4NTI0MA==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2017-10-31T14:46:23Z","updated_at":"2017-10-31T14:46:23Z","author_association":"MEMBER","body":"Personally I'd rather stick with a single `timeout` option, and add a new one for opt-in partial results:\r\n\r\n```json\r\n{\r\n  \"query\": { ... },\r\n  \"timeout\": \"1m\",\r\n  \"partial_results\": true\r\n}\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/340805090","html_url":"https://github.com/elastic/elasticsearch/issues/27186#issuecomment-340805090","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27186","id":340805090,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MDgwNTA5MA==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-10-31T15:45:23Z","updated_at":"2017-10-31T15:45:23Z","author_association":"MEMBER","body":"Isn't `partial_results` too generic though? Elasticsearch returns partial results in other cases but this param enables only partial results coming from timeouts and whether a timeout should fail the whole request or not.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/340809346","html_url":"https://github.com/elastic/elasticsearch/issues/27186#issuecomment-340809346","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27186","id":340809346,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MDgwOTM0Ng==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2017-10-31T15:57:46Z","updated_at":"2017-10-31T15:57:46Z","author_association":"MEMBER","body":"I agree with @javanna , adding more options will not clarify the meaning of `timeout` which seems to be the gist of this issue. \r\nI would prefer to change the`timeout` option to **always** be an hard timeout and use another option to represent the time limited query. We already have `terminate_after` that I find more meaningful than `timeout`, we could extend the syntax to accept `terminate_after=1m`.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/340859103","html_url":"https://github.com/elastic/elasticsearch/issues/27186#issuecomment-340859103","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27186","id":340859103,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MDg1OTEwMw==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2017-10-31T18:30:15Z","updated_at":"2017-10-31T18:30:15Z","author_association":"MEMBER","body":"> I would prefer to change thetimeout option to always be an hard timeout and use another option to represent the time limited query.\r\n\r\nYes, I am in favor of this also\r\n\r\n> We already have `terminate_after` that I find more meaningful than timeout, we could extend the syntax to accept `terminate_after=1m`.\r\n\r\nI think that's a great idea, `terminate_after` use seems much better than introducing a `partial_results` option.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/341083791","html_url":"https://github.com/elastic/elasticsearch/issues/27186#issuecomment-341083791","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27186","id":341083791,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MTA4Mzc5MQ==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2017-11-01T11:41:48Z","updated_at":"2017-11-01T11:42:43Z","author_association":"CONTRIBUTOR","body":"If we want to provide for hard+ soft timeouts we need an unambiguous way of stating that.\r\n\r\n>I'd rather like having a `timeout` and `hard_timeout`\r\n\r\nThen both could be supplied in a request and we'd need to reject due to ambiguity.\r\n\r\n>We already have `terminate_after`\r\n\r\nWhich responds with a `terminated_early` response field so I guess we'd effectively have no need for  the `timed_out` field any more if `timeout` setting changes to throw hard errors? \r\n\r\nRemoving the `timed_out` flag then raises the question of BWC for those that are reliant on existing partial results behaviour. They'd need to re-code their apps' response checking logic to look for `terminated_early` rather than `timed_out`.\r\nPerhaps the `timeout_type` approach allows us to preserve the existing API+behaviour and migrate more easily? Early adopters can make use of new hard timeouts and laggards can keep the existing behaviour until we make hard timeouts the default default type (and even then they can change one cluster setting to continue with soft timeouts).\r\n\r\nIt looks like if might come down to a choice between:\r\n1) Breaking change for better syntax (use terminate_after/terminated_early)\r\n2) Non-breaking change on existing syntax (add a `timeout_type`)\r\n\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/345268681","html_url":"https://github.com/elastic/elasticsearch/issues/27186#issuecomment-345268681","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27186","id":345268681,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTI2ODY4MQ==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2017-11-17T15:07:06Z","updated_at":"2017-11-17T15:07:06Z","author_association":"CONTRIBUTOR","body":"Closing in favour of broader flag for tolerating partial results: https://github.com/elastic/elasticsearch/issues/27435","performed_via_github_app":null}]