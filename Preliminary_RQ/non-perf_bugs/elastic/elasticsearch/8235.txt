{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/8235","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8235/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8235/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8235/events","html_url":"https://github.com/elastic/elasticsearch/issues/8235","id":46888354,"node_id":"MDU6SXNzdWU0Njg4ODM1NA==","number":8235,"title":"Compound words filter operator","user":{"login":"MarcusSjolin","id":1456676,"node_id":"MDQ6VXNlcjE0NTY2NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1456676?v=4","gravatar_id":"","url":"https://api.github.com/users/MarcusSjolin","html_url":"https://github.com/MarcusSjolin","followers_url":"https://api.github.com/users/MarcusSjolin/followers","following_url":"https://api.github.com/users/MarcusSjolin/following{/other_user}","gists_url":"https://api.github.com/users/MarcusSjolin/gists{/gist_id}","starred_url":"https://api.github.com/users/MarcusSjolin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MarcusSjolin/subscriptions","organizations_url":"https://api.github.com/users/MarcusSjolin/orgs","repos_url":"https://api.github.com/users/MarcusSjolin/repos","events_url":"https://api.github.com/users/MarcusSjolin/events{/privacy}","received_events_url":"https://api.github.com/users/MarcusSjolin/received_events","type":"User","site_admin":false},"labels":[{"id":142001965,"node_id":"MDU6TGFiZWwxNDIwMDE5NjU=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Analysis","name":":Search/Analysis","color":"0e8a16","default":false,"description":"How text is split into tokens"},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2014-10-27T10:10:38Z","updated_at":"2017-11-03T10:56:16Z","closed_at":"2016-11-26T11:53:06Z","author_association":"NONE","active_lock_reason":null,"body":"# Compound words\n### Ranking and operator type issue\n\nGiven the keyword \"shoerack\" was misspelled into one word, then I would expect it to be split into:\n\n```\n\"shoerack\", \"shoe\" and \"rack\"\n```\n\nUsing this compound word list:\n\n```\n[\"shoe\", \"rack\"]\n```\n\nThis all works fine. Testing the analyzer returns the above as expected. When I continue to perform the search after this the keywords appear to be searched this way, when I have the operator set on the multi_match query to be AND:\n\n```\n\"shoerack\" || \"shoe\" || \"rack\"\n```\n\nI would like these keywords to act as they are searched for this way:\n\n```\n\"shoerack\" || (\"shoe\" && \"rack\")\n```\n\nI would like the second argument to be ranked separately\n\nI'm looking for a way to set up an operator in the filter itself to be AND, or maybe it isn't aware at all that the two or more keywords belong together.\n\nI think this might be a feature request or enhancement, however it might be doable already, just that I have not found a solution to it.\n\nThanks\n/Marcus\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}