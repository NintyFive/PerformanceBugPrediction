{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/2656","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2656/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2656/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2656/events","html_url":"https://github.com/elastic/elasticsearch/issues/2656","id":11053437,"node_id":"MDU6SXNzdWUxMTA1MzQzNw==","number":2656,"title":"UncategorizedExecutionException in Terms Query","user":{"login":"bagdemir","id":1160613,"node_id":"MDQ6VXNlcjExNjA2MTM=","avatar_url":"https://avatars0.githubusercontent.com/u/1160613?v=4","gravatar_id":"","url":"https://api.github.com/users/bagdemir","html_url":"https://github.com/bagdemir","followers_url":"https://api.github.com/users/bagdemir/followers","following_url":"https://api.github.com/users/bagdemir/following{/other_user}","gists_url":"https://api.github.com/users/bagdemir/gists{/gist_id}","starred_url":"https://api.github.com/users/bagdemir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bagdemir/subscriptions","organizations_url":"https://api.github.com/users/bagdemir/orgs","repos_url":"https://api.github.com/users/bagdemir/repos","events_url":"https://api.github.com/users/bagdemir/events{/privacy}","received_events_url":"https://api.github.com/users/bagdemir/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2013-02-15T21:32:34Z","updated_at":"2013-03-01T20:27:23Z","closed_at":"2013-03-01T20:27:02Z","author_association":"NONE","active_lock_reason":null,"body":"I got that weird UncategorizedExecutionException when i execute a terms - query through the API: \n\nQueryBuilder builder = QueryBuilders.boolQuery().must(QueryBuilders.termsQuery(\"foo\", docIds.toArray())).must(QueryBuilders.rangeQuery(FIELD_INDEXED_AT).lt(dateTime));\nSearchResponse searchResponse = getClient().prepareSearch(indexName).setQuery(builder).execute().actionGet(10*1000);\n\nHere is what query builder generates: \n\n{\n  \"bool\" : {\n    \"must\" : [ {\n      \"terms\" : {\n        \"foo\" : [ \"33425\", \"33862\", \"42689\" ]\n      }\n    }, {\n      \"range\" : {\n        \"indexedAt\" : {\n          \"from\" : null,\n          \"to\" : \"2013-02-15T22:03:10.556+01:00\",\n          \"include_lower\" : true,\n          \"include_upper\" : true\n        }\n      }\n    } ]\n  }\n}\n\nIf i send that terms query using HTTP Requestor, then everything seems ok. Query is valid and i get some hits from ES. We are using ES 0.19.8. \n","closed_by":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"performed_via_github_app":null}