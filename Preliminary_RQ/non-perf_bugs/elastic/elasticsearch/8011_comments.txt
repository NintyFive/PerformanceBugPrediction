[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/59227443","html_url":"https://github.com/elastic/elasticsearch/issues/8011#issuecomment-59227443","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8011","id":59227443,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjI3NDQz","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-10-15T15:46:57Z","updated_at":"2014-10-15T15:46:57Z","author_association":"CONTRIBUTOR","body":"Hi @maximpashuk \n\nI'm afraid I don't understand what you have written at all.  Please can you provide a simple but complete curl recreation of the problem.  Closing for now - feel free to reopen when you have a replication\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/59332816","html_url":"https://github.com/elastic/elasticsearch/issues/8011#issuecomment-59332816","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8011","id":59332816,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzMyODE2","user":{"login":"golubev","id":951364,"node_id":"MDQ6VXNlcjk1MTM2NA==","avatar_url":"https://avatars0.githubusercontent.com/u/951364?v=4","gravatar_id":"","url":"https://api.github.com/users/golubev","html_url":"https://github.com/golubev","followers_url":"https://api.github.com/users/golubev/followers","following_url":"https://api.github.com/users/golubev/following{/other_user}","gists_url":"https://api.github.com/users/golubev/gists{/gist_id}","starred_url":"https://api.github.com/users/golubev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/golubev/subscriptions","organizations_url":"https://api.github.com/users/golubev/orgs","repos_url":"https://api.github.com/users/golubev/repos","events_url":"https://api.github.com/users/golubev/events{/privacy}","received_events_url":"https://api.github.com/users/golubev/received_events","type":"User","site_admin":false},"created_at":"2014-10-16T08:58:21Z","updated_at":"2014-10-16T08:58:21Z","author_association":"CONTRIBUTOR","body":"Hello @clintongormley \n\nIt seems to me that @maximpashuk describes the same issue about the top-level `filter` as in the #7971.\n\nHe sais that a filter applied in the `filtered` `query` affects the aggregation results, while filter applied in the top-level `filter` - does not. But he expected that the results will be the same as I did too.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/59335453","html_url":"https://github.com/elastic/elasticsearch/issues/8011#issuecomment-59335453","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8011","id":59335453,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzM1NDUz","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-10-16T09:22:41Z","updated_at":"2014-10-16T09:22:41Z","author_association":"CONTRIBUTOR","body":"ok @golubev - see my answer to #7971. You will see on the search docs that `filter` isn't even documented: http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/search-request-body.html\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/59336033","html_url":"https://github.com/elastic/elasticsearch/issues/8011#issuecomment-59336033","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8011","id":59336033,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzM2MDMz","user":{"login":"golubev","id":951364,"node_id":"MDQ6VXNlcjk1MTM2NA==","avatar_url":"https://avatars0.githubusercontent.com/u/951364?v=4","gravatar_id":"","url":"https://api.github.com/users/golubev","html_url":"https://github.com/golubev","followers_url":"https://api.github.com/users/golubev/followers","following_url":"https://api.github.com/users/golubev/following{/other_user}","gists_url":"https://api.github.com/users/golubev/gists{/gist_id}","starred_url":"https://api.github.com/users/golubev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/golubev/subscriptions","organizations_url":"https://api.github.com/users/golubev/orgs","repos_url":"https://api.github.com/users/golubev/repos","events_url":"https://api.github.com/users/golubev/events{/privacy}","received_events_url":"https://api.github.com/users/golubev/received_events","type":"User","site_admin":false},"created_at":"2014-10-16T09:27:57Z","updated_at":"2014-10-16T09:27:57Z","author_association":"CONTRIBUTOR","body":"Thanks, @clintongormley !\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/59352196","html_url":"https://github.com/elastic/elasticsearch/issues/8011#issuecomment-59352196","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8011","id":59352196,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzUyMTk2","user":{"login":"maximpashuk","id":5028850,"node_id":"MDQ6VXNlcjUwMjg4NTA=","avatar_url":"https://avatars2.githubusercontent.com/u/5028850?v=4","gravatar_id":"","url":"https://api.github.com/users/maximpashuk","html_url":"https://github.com/maximpashuk","followers_url":"https://api.github.com/users/maximpashuk/followers","following_url":"https://api.github.com/users/maximpashuk/following{/other_user}","gists_url":"https://api.github.com/users/maximpashuk/gists{/gist_id}","starred_url":"https://api.github.com/users/maximpashuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maximpashuk/subscriptions","organizations_url":"https://api.github.com/users/maximpashuk/orgs","repos_url":"https://api.github.com/users/maximpashuk/repos","events_url":"https://api.github.com/users/maximpashuk/events{/privacy}","received_events_url":"https://api.github.com/users/maximpashuk/received_events","type":"User","site_admin":false},"created_at":"2014-10-16T12:16:03Z","updated_at":"2014-10-16T12:16:03Z","author_association":"NONE","body":"@clintongormley Thanks for explanations abount 'post_filter', now I understand that this is expected behaviour.\nYou right I can always use query->filtered->filter\n","performed_via_github_app":null}]