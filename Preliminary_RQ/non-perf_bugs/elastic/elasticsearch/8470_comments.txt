[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/62924662","html_url":"https://github.com/elastic/elasticsearch/issues/8470#issuecomment-62924662","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8470","id":62924662,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTI0NjYy","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-11-13T16:51:13Z","updated_at":"2014-11-13T16:51:13Z","author_association":"CONTRIBUTOR","body":"You can configure `elasticsearch.yml` to set the node name to an environment variable, eg:\n\n```\nnode.name: ${FOO}\n```\n\nthen start Elasticsearch with:\n\n```\nFOO=foo.bar.com bin/elasticsearch\n```\n\nYou could also use `${HOSTNAME}`, but be aware that even though `echo $HOSTNAME` works, it is not a real environment variable (at least in `bash`).  However, if you update the config to:\n\n```\nnode.name: ${HOSTNAME}\n```\n\nthen the following line works:\n\n```\nHOSTNAME=$HOSTNAME bin/elasticsearch\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/62929020","html_url":"https://github.com/elastic/elasticsearch/issues/8470#issuecomment-62929020","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8470","id":62929020,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTI5MDIw","user":{"login":"printercu","id":1144890,"node_id":"MDQ6VXNlcjExNDQ4OTA=","avatar_url":"https://avatars0.githubusercontent.com/u/1144890?v=4","gravatar_id":"","url":"https://api.github.com/users/printercu","html_url":"https://github.com/printercu","followers_url":"https://api.github.com/users/printercu/followers","following_url":"https://api.github.com/users/printercu/following{/other_user}","gists_url":"https://api.github.com/users/printercu/gists{/gist_id}","starred_url":"https://api.github.com/users/printercu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/printercu/subscriptions","organizations_url":"https://api.github.com/users/printercu/orgs","repos_url":"https://api.github.com/users/printercu/repos","events_url":"https://api.github.com/users/printercu/events{/privacy}","received_events_url":"https://api.github.com/users/printercu/received_events","type":"User","site_admin":false},"created_at":"2014-11-13T17:12:57Z","updated_at":"2014-11-13T17:12:57Z","author_association":"CONTRIBUTOR","body":"I know. As in the book (http://www.elasticsearch.org/guide/en/elasticsearch/guide/current/_important_configuration_changes.html) said it's recommended to rename host, I think having default node name to hostname will be 'stable by default'.\n\nHaving comic heroes names is cool, but it's not useful in production.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/62929174","html_url":"https://github.com/elastic/elasticsearch/issues/8470#issuecomment-62929174","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8470","id":62929174,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTI5MTc0","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-11-13T17:13:49Z","updated_at":"2014-11-13T17:13:49Z","author_association":"CONTRIBUTOR","body":"The problem is that you can start more than one node on the same host.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/62932020","html_url":"https://github.com/elastic/elasticsearch/issues/8470#issuecomment-62932020","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8470","id":62932020,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTMyMDIw","user":{"login":"printercu","id":1144890,"node_id":"MDQ6VXNlcjExNDQ4OTA=","avatar_url":"https://avatars0.githubusercontent.com/u/1144890?v=4","gravatar_id":"","url":"https://api.github.com/users/printercu","html_url":"https://github.com/printercu","followers_url":"https://api.github.com/users/printercu/followers","following_url":"https://api.github.com/users/printercu/following{/other_user}","gists_url":"https://api.github.com/users/printercu/gists{/gist_id}","starred_url":"https://api.github.com/users/printercu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/printercu/subscriptions","organizations_url":"https://api.github.com/users/printercu/orgs","repos_url":"https://api.github.com/users/printercu/repos","events_url":"https://api.github.com/users/printercu/events{/privacy}","received_events_url":"https://api.github.com/users/printercu/received_events","type":"User","site_admin":false},"created_at":"2014-11-13T17:31:26Z","updated_at":"2014-11-13T17:31:26Z","author_association":"CONTRIBUTOR","body":"Yeah, haven't thought of it. Thank you.\n\nHowever maybe it'll be useful to have magic variable (like `_local_` or `_non_loopback_` for network) to set name to hostname without adding `export HOSTNAME` to init.d scripts.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/62933989","html_url":"https://github.com/elastic/elasticsearch/issues/8470#issuecomment-62933989","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8470","id":62933989,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTMzOTg5","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-11-13T17:43:24Z","updated_at":"2014-11-13T17:43:24Z","author_association":"CONTRIBUTOR","body":"@printercu I agree, which is why I had left this ticket open :)  I'll reopen.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/68607448","html_url":"https://github.com/elastic/elasticsearch/issues/8470#issuecomment-68607448","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8470","id":68607448,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjA3NDQ4","user":{"login":"AndreKR","id":1188538,"node_id":"MDQ6VXNlcjExODg1Mzg=","avatar_url":"https://avatars0.githubusercontent.com/u/1188538?v=4","gravatar_id":"","url":"https://api.github.com/users/AndreKR","html_url":"https://github.com/AndreKR","followers_url":"https://api.github.com/users/AndreKR/followers","following_url":"https://api.github.com/users/AndreKR/following{/other_user}","gists_url":"https://api.github.com/users/AndreKR/gists{/gist_id}","starred_url":"https://api.github.com/users/AndreKR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AndreKR/subscriptions","organizations_url":"https://api.github.com/users/AndreKR/orgs","repos_url":"https://api.github.com/users/AndreKR/repos","events_url":"https://api.github.com/users/AndreKR/events{/privacy}","received_events_url":"https://api.github.com/users/AndreKR/received_events","type":"User","site_admin":false},"created_at":"2015-01-03T20:00:26Z","updated_at":"2015-01-03T20:00:26Z","author_association":"CONTRIBUTOR","body":"Please do so. :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/68696540","html_url":"https://github.com/elastic/elasticsearch/issues/8470#issuecomment-68696540","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8470","id":68696540,"node_id":"MDEyOklzc3VlQ29tbWVudDY4Njk2NTQw","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-01-05T11:28:25Z","updated_at":"2015-01-05T11:28:25Z","author_association":"CONTRIBUTOR","body":"I think all we need to do here is to export `HOSTNAME` as a real environment variable, then users can use it easily in their config\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/88551820","html_url":"https://github.com/elastic/elasticsearch/issues/8470#issuecomment-88551820","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8470","id":88551820,"node_id":"MDEyOklzc3VlQ29tbWVudDg4NTUxODIw","user":{"login":"HariSekhon","id":2211051,"node_id":"MDQ6VXNlcjIyMTEwNTE=","avatar_url":"https://avatars1.githubusercontent.com/u/2211051?v=4","gravatar_id":"","url":"https://api.github.com/users/HariSekhon","html_url":"https://github.com/HariSekhon","followers_url":"https://api.github.com/users/HariSekhon/followers","following_url":"https://api.github.com/users/HariSekhon/following{/other_user}","gists_url":"https://api.github.com/users/HariSekhon/gists{/gist_id}","starred_url":"https://api.github.com/users/HariSekhon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HariSekhon/subscriptions","organizations_url":"https://api.github.com/users/HariSekhon/orgs","repos_url":"https://api.github.com/users/HariSekhon/repos","events_url":"https://api.github.com/users/HariSekhon/events{/privacy}","received_events_url":"https://api.github.com/users/HariSekhon/received_events","type":"User","site_admin":false},"created_at":"2015-04-01T16:51:06Z","updated_at":"2015-04-01T16:52:45Z","author_association":"NONE","body":"How about just setting the default node name to `$HOSTNAME:<port>` - that will account for multiple instances per host.\n\nThis is similar to what SolrCloud does (they actually do `<ip>:<port>` which is also unique but much less useful unless you only have a few servers and know all their IPs off by heart or enjoy doing DNS lookups - I changed those to hostname:port).\n\nThe Marvel names are interesting but were starting to make debugging more tedious so I've set them to hostnames too since I only have one instance per server.\n\nIn order to work around the\n\n```\nnode.name ${HOSTNAME}\n```\n\nvariable not being available you can put this in /etc/sysconfig/elasticsearch\n\n```\nexport HOSTNAME=$(hostname -s)\n```\n\nwhich is easier to auto-manage across a cluster of nodes than say `HOSTNAME=$HOSTNAME bin/elasticsearch` if you're using automation and not starting nodes by hand. Note that the `export` keyword is required in /etc/sysconfig/elasticsearch unless you want to go around editing/copying your init scripts to do an explicit `export HOSTNAME` afterwards after sourcing that file. Most decent automation folks will already be managing elasticsearch.yml and sysconfig/elasticsearch anyway.\n","performed_via_github_app":null}]