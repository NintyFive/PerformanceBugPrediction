{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/15079","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15079/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15079/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15079/events","html_url":"https://github.com/elastic/elasticsearch/issues/15079","id":119289024,"node_id":"MDU6SXNzdWUxMTkyODkwMjQ=","number":15079,"title":"ES2.1.0 \"no handler for type [murmur3] declared on field [hash]\"","user":{"login":"dagatsoin","id":3670794,"node_id":"MDQ6VXNlcjM2NzA3OTQ=","avatar_url":"https://avatars2.githubusercontent.com/u/3670794?v=4","gravatar_id":"","url":"https://api.github.com/users/dagatsoin","html_url":"https://github.com/dagatsoin","followers_url":"https://api.github.com/users/dagatsoin/followers","following_url":"https://api.github.com/users/dagatsoin/following{/other_user}","gists_url":"https://api.github.com/users/dagatsoin/gists{/gist_id}","starred_url":"https://api.github.com/users/dagatsoin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagatsoin/subscriptions","organizations_url":"https://api.github.com/users/dagatsoin/orgs","repos_url":"https://api.github.com/users/dagatsoin/repos","events_url":"https://api.github.com/users/dagatsoin/events{/privacy}","received_events_url":"https://api.github.com/users/dagatsoin/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2015-11-28T11:48:12Z","updated_at":"2017-05-21T10:30:33Z","closed_at":"2015-11-28T12:00:03Z","author_association":"NONE","active_lock_reason":null,"body":"Maybe related to https://github.com/elastic/elasticsearch/issues/14828 but this happens when I put mapping, not when I start ES.\n\nI try to use murmur3 and have this error when putting mapping in ES2.1.0\n\nHere is the final error\n\n```\n{\n    \"traces_v1\": {\n        \"aliases\": {\n            \"traces\": {}\n        }\n    }\n} {\n    \"error\": {\n        \"root_cause\": [{\n            \"type\": \"mapper_parsing_exception\",\n            \"reason\": \"no handler for type [murmur3] declared on field [hash]\"\n        }],\n        \"type\": \"mapper_parsing_exception\",\n        \"reason\": \"no handler for type [murmur3] declared on field [hash]\"\n    },\n    \"status\": 400\n}\n```\n\nAnd here is my bash file. It is for reseting/reindexing an indice via logstash.\n\n```\n#!/bin/bash\n\ncurl -XDELETE 'http://xxx:9200/traces_v1'\n\ncurl -XPUT 'http://xxx:9200/traces_v1' -d '\nindex :\n    number_of_shards : 3\n'\n\ncurl -XPOST 'http://xxx:9200/_aliases' -d'\n{\n    \"actions\": [\n        { \"add\": {\n            \"alias\": \"traces\",\n            \"index\": \"traces_v1\"\n        }}\n    ]\n}'\n\ncurl -XGET 'http://xxx:9200/_aliases?v'\n\ncurl -XPUT http://xxx:9200/traces_v1/_mapping/website' -d '\n{\n  \"properties\": {\n    \"loc\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"type\": {\n          \"type\": \"string\"\n        },\n        \"coordinates\":{\n          \"type\": \"geo_point\",\n          \"geohash\":true,\n          \"geohash_prefix\":true,\n          \"lat_lon\":true,\n          \"fielddata\" : {\n              \"format\" : \"compressed\",\n              \"precision\" : \"1cm\"\n          }\n        }\n      }\n    },\n    \"trackerId\":{\n      \"type\": \"string\",\n      \"index\" : \"not_analyzed\"\n    },\n    \"geoip\": {\n      \"type\": \"boolean\"\n    },\n    \"date\": {\n      \"type\": \"date\"\n    },\n    \"visitor\": {\n      \"type\": \"object\",\n      \"properties\": {\n        \"returning\": {\n          \"type\": \"boolean\"\n        },\n        \"uuid\":{\n          \"type\" : \"string\",\n          \"fields\": {\n            \"hash\": {\n              \"type\": \"murmur3\" \n            }\n          }\n        },\n        \"navigator\":{\n          \"type\" : \"object\",\n          \"properties\": {\n            \"appCodeName\":{\n              \"type\" : \"string\"\n            },\n            \"appName\":{\n              \"type\" : \"string\"\n            },\n            \"appVersion\":{\n              \"type\" : \"string\"\n            },\n            \"language\":{\n              \"type\" : \"string\"\n            },\n            \"platform\":{\n              \"type\" : \"string\"\n            },\n            \"userAgent\":{\n              \"type\" : \"string\"\n            }\n          }\n        }\n      }\n    },\n    \"usage\":{\n      \"type\" : \"object\",\n      \"properties\": {\n        \"actualPage\":{\n          \"type\" : \"string\",\n          \"fields\": {\n            \"hash\": {\n              \"type\": \"murmur3\" \n            }\n          }\n        },\n        \"referrer\":{\n          \"type\" : \"string\",\n          \"fields\": {\n            \"hash\": {\n              \"type\": \"murmur3\" \n            }\n          }\n        }\n      }\n    }\n  }\n}'\n```\n","closed_by":{"login":"dagatsoin","id":3670794,"node_id":"MDQ6VXNlcjM2NzA3OTQ=","avatar_url":"https://avatars2.githubusercontent.com/u/3670794?v=4","gravatar_id":"","url":"https://api.github.com/users/dagatsoin","html_url":"https://github.com/dagatsoin","followers_url":"https://api.github.com/users/dagatsoin/followers","following_url":"https://api.github.com/users/dagatsoin/following{/other_user}","gists_url":"https://api.github.com/users/dagatsoin/gists{/gist_id}","starred_url":"https://api.github.com/users/dagatsoin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagatsoin/subscriptions","organizations_url":"https://api.github.com/users/dagatsoin/orgs","repos_url":"https://api.github.com/users/dagatsoin/repos","events_url":"https://api.github.com/users/dagatsoin/events{/privacy}","received_events_url":"https://api.github.com/users/dagatsoin/received_events","type":"User","site_admin":false},"performed_via_github_app":null}