[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/618470825","html_url":"https://github.com/elastic/elasticsearch/issues/55638#issuecomment-618470825","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55638","id":618470825,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODQ3MDgyNQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-04-23T15:38:05Z","updated_at":"2020-04-23T15:38:05Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed (:Distributed/CCR)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/618475164","html_url":"https://github.com/elastic/elasticsearch/issues/55638#issuecomment-618475164","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55638","id":618475164,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODQ3NTE2NA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2020-04-23T15:45:02Z","updated_at":"2020-04-23T15:45:02Z","author_association":"MEMBER","body":"Swapping out the engine dynamically is unlikely to be an area where we invest any effort, as it will be difficult to do correctly, and could have unexpected consequences.\r\n\r\nThat means that the index will need to continue to be closed, so that we can do the engine swap safely. That the user has to go through a pause/close/unfollow/open workflow is a deliberate choice as it puts in the forefront the consequences of this API: operations will no longer be replicated, the index will be closed (and therefore unavailable to for searches!), the following relationship will be permanently broken, and then the index can be made available for reads/writes.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/618888505","html_url":"https://github.com/elastic/elasticsearch/issues/55638#issuecomment-618888505","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55638","id":618888505,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODg4ODUwNQ==","user":{"login":"hackerwin7","id":15257080,"node_id":"MDQ6VXNlcjE1MjU3MDgw","avatar_url":"https://avatars3.githubusercontent.com/u/15257080?v=4","gravatar_id":"","url":"https://api.github.com/users/hackerwin7","html_url":"https://github.com/hackerwin7","followers_url":"https://api.github.com/users/hackerwin7/followers","following_url":"https://api.github.com/users/hackerwin7/following{/other_user}","gists_url":"https://api.github.com/users/hackerwin7/gists{/gist_id}","starred_url":"https://api.github.com/users/hackerwin7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hackerwin7/subscriptions","organizations_url":"https://api.github.com/users/hackerwin7/orgs","repos_url":"https://api.github.com/users/hackerwin7/repos","events_url":"https://api.github.com/users/hackerwin7/events{/privacy}","received_events_url":"https://api.github.com/users/hackerwin7/received_events","type":"User","site_admin":false},"created_at":"2020-04-24T08:49:56Z","updated_at":"2020-04-24T08:53:38Z","author_association":"NONE","body":"@jasontedor \r\n> Swapping out the engine dynamically is unlikely to be an area where we invest any effort\r\n\r\nCould we make `FollowingRegularEngine` instead of `FollowingEngine`. \r\n`FollowingRegularEngine` have two mode : 1. following mode  2. regular mode\r\n\r\nInitially `FollowingRegularEngine` is in **following mode** , some methods such as `indexingStrategyForOperation` and `deletionStrategyForOperation` etc. use original `FollowingEngine` methods.\r\n\r\nWhen we call unfollow API, FollowingRegularEngine is in **regular mode**, some methods such as `indexingStrategyForOperation` and `deletionStrategyForOperation` etc. use `InternalEngine` methods.\r\n\r\nInner unfollow API, before switch `FollowingRegularEngine` from following mode to regular mode, we can do pause API to stop the persistent shard follow tasks for specific index.\r\n\r\nIn this way. we do not need to switch engine dynamically but convert follower index to regular index dynamically.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/619062106","html_url":"https://github.com/elastic/elasticsearch/issues/55638#issuecomment-619062106","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55638","id":619062106,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTA2MjEwNg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2020-04-24T14:56:55Z","updated_at":"2020-04-24T14:56:55Z","author_association":"MEMBER","body":"@hackerwin7 I would not be in favor of implementing it in this way because it could allow for the introduction of subtle bugs, and also makes it harder for to reason about the engine, and its future maintenance (it's a rather complex piece of code). It's a far simpler model for us to think about: if an index is a regular index it uses an internal engine, and if it's a follower index it uses a follower engine.","performed_via_github_app":null}]