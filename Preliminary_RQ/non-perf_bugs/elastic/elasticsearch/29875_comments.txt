[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384131552","html_url":"https://github.com/elastic/elasticsearch/issues/29875#issuecomment-384131552","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29875","id":384131552,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzMTU1Mg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-03-09T19:06:03Z","updated_at":"2018-04-25T01:26:59Z","author_association":"COLLABORATOR","body":"*Original comment by @nik9000:*\n\nThis only comes up in when you install with RPM or DEB.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/606059424","html_url":"https://github.com/elastic/elasticsearch/issues/29875#issuecomment-606059424","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29875","id":606059424,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjA1OTQyNA==","user":{"login":"matriv","id":5058131,"node_id":"MDQ6VXNlcjUwNTgxMzE=","avatar_url":"https://avatars1.githubusercontent.com/u/5058131?v=4","gravatar_id":"","url":"https://api.github.com/users/matriv","html_url":"https://github.com/matriv","followers_url":"https://api.github.com/users/matriv/followers","following_url":"https://api.github.com/users/matriv/following{/other_user}","gists_url":"https://api.github.com/users/matriv/gists{/gist_id}","starred_url":"https://api.github.com/users/matriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matriv/subscriptions","organizations_url":"https://api.github.com/users/matriv/orgs","repos_url":"https://api.github.com/users/matriv/repos","events_url":"https://api.github.com/users/matriv/events{/privacy}","received_events_url":"https://api.github.com/users/matriv/received_events","type":"User","site_admin":false},"created_at":"2020-03-30T15:11:37Z","updated_at":"2020-03-30T15:11:37Z","author_association":"CONTRIBUTOR","body":"@elastic/es-ql","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/630088213","html_url":"https://github.com/elastic/elasticsearch/issues/29875#issuecomment-630088213","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29875","id":630088213,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMDA4ODIxMw==","user":{"login":"matriv","id":5058131,"node_id":"MDQ6VXNlcjUwNTgxMzE=","avatar_url":"https://avatars1.githubusercontent.com/u/5058131?v=4","gravatar_id":"","url":"https://api.github.com/users/matriv","html_url":"https://github.com/matriv","followers_url":"https://api.github.com/users/matriv/followers","following_url":"https://api.github.com/users/matriv/following{/other_user}","gists_url":"https://api.github.com/users/matriv/gists{/gist_id}","starred_url":"https://api.github.com/users/matriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matriv/subscriptions","organizations_url":"https://api.github.com/users/matriv/orgs","repos_url":"https://api.github.com/users/matriv/repos","events_url":"https://api.github.com/users/matriv/events{/privacy}","received_events_url":"https://api.github.com/users/matriv/received_events","type":"User","site_admin":false},"created_at":"2020-05-18T10:17:26Z","updated_at":"2020-05-18T10:17:26Z","author_association":"CONTRIBUTOR","body":"This behavior is still valid for Ubuntu and .deb package (tested 18.04.4 LTS) as\r\nwell as with RedHat (tested enterprise 8). Used latest elasticsearch-7.0.0 deb and rpm packages,\r\nbut also valid for all elasticsearch cli commands:\r\n\r\n```\r\nmarios_trivyzas@marios-test-sql-cli:~$ cd /usr/share/elasticsearch/bin\r\nmarios_trivyzas@marios-test-sql-cli:/usr/share/elasticsearch/bin$ ./elasticsearch-users \r\n./elasticsearch-env: line 81: /etc/default/elasticsearch: Permission denied\r\nmarios_trivyzas@marios-test-sql-cli:/usr/share/elasticsearch/bin$ ./elasticsearch-sql-cli\r\n./elasticsearch-env: line 81: /etc/default/elasticsearch: Permission denied\r\nmarios_trivyzas@marios-test-sql-cli:/usr/share/elasticsearch/bin$ sudo chmod o+r /etc/default/elasticsearch\r\nmarios_trivyzas@marios-test-sql-cli:/usr/share/elasticsearch/bin$ ./elasticsearch-users \r\n./elasticsearch-env: line 81: /etc/default/elasticsearch: Permission denied\r\nmarios_trivyzas@marios-test-sql-cli:/usr/share/elasticsearch/bin$ ./elasticsearch-sql-cli\r\n./elasticsearch-env: line 81: /etc/default/elasticsearch: Permission denied\r\nmarios_trivyzas@marios-test-sql-cli:/usr/share/elasticsearch/bin$ sudo chmod o+x /etc/elasticsearch/\r\nmarios_trivyzas@marios-test-sql-cli:/usr/share/elasticsearch/bin$ ./elasticsearch-users \r\nManages elasticsearch file users\r\nNon-option arguments:\r\ncommand              \r\nOption             Description        \r\n------             -----------        \r\n-E <KeyValuePair>  Configure a setting\r\n-h, --help         Show help          \r\n-s, --silent       Show minimal output\r\n-v, --verbose      Show verbose output\r\nERROR: Missing command\r\n``` \r\n\r\nInstead the user can be added to the `elasticsearch` group and then can execute the cli commands. (for Redhat the file that needs read permissions is `/etc/sysconfig/elasticsearch` instead of `/etc/default/elasticsearch`\r\n\r\n/cc @elastic/es-core-infra Is there any reason to change this behavior? otherwise I'll close this issues.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/630399953","html_url":"https://github.com/elastic/elasticsearch/issues/29875#issuecomment-630399953","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29875","id":630399953,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMDM5OTk1Mw==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2020-05-18T19:49:38Z","updated_at":"2020-05-18T19:49:38Z","author_association":"MEMBER","body":"IMO this is fine as is. While it is different than other sql tools (since it is not \"world\" runnable), we do need to source sysconfig because JAVA_HOME can be set there, which is needed to actually run the tool. We might be able to change this in the future since we have the bundled jdk, but for now I think we should just say this is a limitation of using the sql cli that is bundled with the distribution. Users can always download the cli on their own.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/630403737","html_url":"https://github.com/elastic/elasticsearch/issues/29875#issuecomment-630403737","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29875","id":630403737,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMDQwMzczNw==","user":{"login":"matriv","id":5058131,"node_id":"MDQ6VXNlcjUwNTgxMzE=","avatar_url":"https://avatars1.githubusercontent.com/u/5058131?v=4","gravatar_id":"","url":"https://api.github.com/users/matriv","html_url":"https://github.com/matriv","followers_url":"https://api.github.com/users/matriv/followers","following_url":"https://api.github.com/users/matriv/following{/other_user}","gists_url":"https://api.github.com/users/matriv/gists{/gist_id}","starred_url":"https://api.github.com/users/matriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matriv/subscriptions","organizations_url":"https://api.github.com/users/matriv/orgs","repos_url":"https://api.github.com/users/matriv/repos","events_url":"https://api.github.com/users/matriv/events{/privacy}","received_events_url":"https://api.github.com/users/matriv/received_events","type":"User","site_admin":false},"created_at":"2020-05-18T19:57:38Z","updated_at":"2020-05-18T19:57:38Z","author_association":"CONTRIBUTOR","body":"Thx @rjernst! Closing this issue.","performed_via_github_app":null}]