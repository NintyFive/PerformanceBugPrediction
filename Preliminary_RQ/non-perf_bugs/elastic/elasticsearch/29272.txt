{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/29272","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29272/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29272/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29272/events","html_url":"https://github.com/elastic/elasticsearch/issues/29272","id":309160300,"node_id":"MDU6SXNzdWUzMDkxNjAzMDA=","number":29272,"title":"Debian package fails to install","user":{"login":"fschutt","id":12084016,"node_id":"MDQ6VXNlcjEyMDg0MDE2","avatar_url":"https://avatars1.githubusercontent.com/u/12084016?v=4","gravatar_id":"","url":"https://api.github.com/users/fschutt","html_url":"https://github.com/fschutt","followers_url":"https://api.github.com/users/fschutt/followers","following_url":"https://api.github.com/users/fschutt/following{/other_user}","gists_url":"https://api.github.com/users/fschutt/gists{/gist_id}","starred_url":"https://api.github.com/users/fschutt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fschutt/subscriptions","organizations_url":"https://api.github.com/users/fschutt/orgs","repos_url":"https://api.github.com/users/fschutt/repos","events_url":"https://api.github.com/users/fschutt/events{/privacy}","received_events_url":"https://api.github.com/users/fschutt/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-03-27T22:45:47Z","updated_at":"2018-03-27T22:57:44Z","closed_at":"2018-03-27T22:57:44Z","author_association":"NONE","active_lock_reason":null,"body":"**Elasticsearch version** (`bin/elasticsearch --version`):\r\n\r\n6.2.3\r\n\r\n**Plugins installed**: []\r\n\r\nNone (not sure how to determine, this is my first time using elasticsearch)\r\n\r\n**JVM version** (`java -version`):\r\n\r\n```\r\nopenjdk version \"1.8.0_162\"\r\nOpenJDK Runtime Environment (build 1.8.0_162-8u162-b12-1~deb9u1-b12)\r\nOpenJDK 64-Bit Server VM (build 25.162-b12, mixed mode)\r\n```\r\n\r\n**OS version** (`uname -a` if on a Unix-like system):\r\n\r\n```\r\nLinux thinkpad 4.14.0-0.bpo.3-amd64 #1 SMP Debian 4.14.13-1~bpo9+1 (2018-01-14) x86_64 GNU/Linux\r\n```\r\nDebian 9.4 / Linux 4.14\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\n\r\nExpected: elasticsearch gets installed.\r\n\r\nGot:\r\n```\r\nsudo dpkg -i ./elasticsearch-6.2.3.deb\r\n(Reading database ... 246923 files and directories currently installed.)\r\nPreparing to unpack ./elasticsearch-6.2.3.deb ...\r\nUnpacking elasticsearch (6.2.3) ...\r\ndpkg-deb (subprocess): decompressing archive member: internal gzip read error: '<fd:4>: invalid distance code'\r\ndpkg-deb: error: subprocess <decompress> returned error exit status 2\r\ndpkg: error processing archive ./elasticsearch-6.2.3.deb (--install):\r\n cannot copy extracted data for './usr/share/elasticsearch/lib/lucene-spatial-extras-7.2.1.jar' to '/usr/share/elasticsearch/lib/lucene-spatial-extras-7.2.1.jar.dpkg-new': unexpected end of file or stream\r\nErrors were encountered while processing:\r\n ./elasticsearch-6.2.3.deb\r\n```\r\n\r\n**Steps to reproduce**:\r\n\r\n```\r\ncurl https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-6.2.3.deb > elasticsearch-6.3.2.deb\r\nsudo dpkg -i ./elasticsearch-6.2.3.deb\r\n```\r\n\r\n<hr/>\r\n\r\nIt seems like the debian package is broken in some way (`unexpected end of file or stream`):\r\n\r\n```\r\n$ ar -x ./elasticsearch-6.2.3.deb\r\nar: ./elasticsearch-6.2.3.deb: Malformed archive\r\n```\r\n\r\n```\r\n$ sudo dpkg --dry-run -i ./elasticsearch-6.2.3.deb\r\n(Reading database ... 246923 files and directories currently installed.)\r\nPreparing to unpack ./elasticsearch-6.2.3.deb ...\r\n```\r\n\r\nThe sha512sum is valid - no malicious package, just a misconfigured one.","closed_by":{"login":"fschutt","id":12084016,"node_id":"MDQ6VXNlcjEyMDg0MDE2","avatar_url":"https://avatars1.githubusercontent.com/u/12084016?v=4","gravatar_id":"","url":"https://api.github.com/users/fschutt","html_url":"https://github.com/fschutt","followers_url":"https://api.github.com/users/fschutt/followers","following_url":"https://api.github.com/users/fschutt/following{/other_user}","gists_url":"https://api.github.com/users/fschutt/gists{/gist_id}","starred_url":"https://api.github.com/users/fschutt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fschutt/subscriptions","organizations_url":"https://api.github.com/users/fschutt/orgs","repos_url":"https://api.github.com/users/fschutt/repos","events_url":"https://api.github.com/users/fschutt/events{/privacy}","received_events_url":"https://api.github.com/users/fschutt/received_events","type":"User","site_admin":false},"performed_via_github_app":null}