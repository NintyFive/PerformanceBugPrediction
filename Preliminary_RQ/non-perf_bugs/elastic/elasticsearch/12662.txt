{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/12662","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12662/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12662/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12662/events","html_url":"https://github.com/elastic/elasticsearch/issues/12662","id":99122084,"node_id":"MDU6SXNzdWU5OTEyMjA4NA==","number":12662,"title":"Provide Update details to Index Transform scripts","user":{"login":"pickypg","id":1501235,"node_id":"MDQ6VXNlcjE1MDEyMzU=","avatar_url":"https://avatars2.githubusercontent.com/u/1501235?v=4","gravatar_id":"","url":"https://api.github.com/users/pickypg","html_url":"https://github.com/pickypg","followers_url":"https://api.github.com/users/pickypg/followers","following_url":"https://api.github.com/users/pickypg/following{/other_user}","gists_url":"https://api.github.com/users/pickypg/gists{/gist_id}","starred_url":"https://api.github.com/users/pickypg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pickypg/subscriptions","organizations_url":"https://api.github.com/users/pickypg/orgs","repos_url":"https://api.github.com/users/pickypg/repos","events_url":"https://api.github.com/users/pickypg/events{/privacy}","received_events_url":"https://api.github.com/users/pickypg/received_events","type":"User","site_admin":false},"labels":[{"id":146834791,"node_id":"MDU6TGFiZWwxNDY4MzQ3OTE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Scripting","name":":Core/Infra/Scripting","color":"0e8a16","default":false,"description":"Scripting abstractions, Painless, and Mustache"},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-08-05T05:18:07Z","updated_at":"2015-08-05T16:40:56Z","closed_at":"2015-08-05T16:40:56Z","author_association":"MEMBER","active_lock_reason":null,"body":"Currently, index transformers behave like triggers that allow you to mutate the incoming document without effecting the stored `_source`. It would also be useful if you could do other things, similar to the Update API, to block/log indexing operations based on selected criteria.\n\nOn the topic of blocking things, it would also be useful to pass in what the current operation is: a create or an update (since delete's aren't transformed, this can probably be a boolean). If not too unreasonable, as the document is on the same node and probably in memory already, it may be worthwhile to also pass in the previous version of the document so that old fields can be transformed (e.g., an indexed, trigger-based version field). This should allow true trigger-like manipulation.\n","closed_by":{"login":"pickypg","id":1501235,"node_id":"MDQ6VXNlcjE1MDEyMzU=","avatar_url":"https://avatars2.githubusercontent.com/u/1501235?v=4","gravatar_id":"","url":"https://api.github.com/users/pickypg","html_url":"https://github.com/pickypg","followers_url":"https://api.github.com/users/pickypg/followers","following_url":"https://api.github.com/users/pickypg/following{/other_user}","gists_url":"https://api.github.com/users/pickypg/gists{/gist_id}","starred_url":"https://api.github.com/users/pickypg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pickypg/subscriptions","organizations_url":"https://api.github.com/users/pickypg/orgs","repos_url":"https://api.github.com/users/pickypg/repos","events_url":"https://api.github.com/users/pickypg/events{/privacy}","received_events_url":"https://api.github.com/users/pickypg/received_events","type":"User","site_admin":false},"performed_via_github_app":null}