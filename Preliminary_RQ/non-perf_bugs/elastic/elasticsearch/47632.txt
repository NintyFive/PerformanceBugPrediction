{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/47632","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47632/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47632/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47632/events","html_url":"https://github.com/elastic/elasticsearch/issues/47632","id":503244805,"node_id":"MDU6SXNzdWU1MDMyNDQ4MDU=","number":47632,"title":"ES 7.4.0 and 6.8.3 in docker continue to eat up ridiculous amounts of memory and hammer the CPU","user":{"login":"doctorpangloss","id":2229300,"node_id":"MDQ6VXNlcjIyMjkzMDA=","avatar_url":"https://avatars3.githubusercontent.com/u/2229300?v=4","gravatar_id":"","url":"https://api.github.com/users/doctorpangloss","html_url":"https://github.com/doctorpangloss","followers_url":"https://api.github.com/users/doctorpangloss/followers","following_url":"https://api.github.com/users/doctorpangloss/following{/other_user}","gists_url":"https://api.github.com/users/doctorpangloss/gists{/gist_id}","starred_url":"https://api.github.com/users/doctorpangloss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/doctorpangloss/subscriptions","organizations_url":"https://api.github.com/users/doctorpangloss/orgs","repos_url":"https://api.github.com/users/doctorpangloss/repos","events_url":"https://api.github.com/users/doctorpangloss/events{/privacy}","received_events_url":"https://api.github.com/users/doctorpangloss/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-10-07T05:46:38Z","updated_at":"2019-10-07T06:24:15Z","closed_at":"2019-10-07T06:01:58Z","author_association":"NONE","active_lock_reason":null,"body":"I just want to use the Elasticsearch docker images.\r\n\r\nFor some reason I am experiencing full CPU load on an instance that is not being queried.\r\n\r\nThis is for `jaeger`, I'm not the only person on Earth using `elasticsearch` with it.\r\n\r\nThe volume for its data is ~3GB, why do I constantly need to increase the Java heap? It's at 4GB now, which is insane. Am I doing something wrong? Shouldn't this work like every other database, and use the memory limits intelligently?\r\n\r\nI've searched endlessly for proper configuration for \"memory limit.\" This seems to be database 101 stuff. Why is it so hard to find? When it comes to something so rarely queried like a database for a tracer, just sort of give me the low-query-performance configuration.\r\n\r\nWhat is the correct configuration for a single node `elasticsearch` container that we should use?\r\n\r\n**Edit**: If you're googling whether to use Cassandra or ElasticSearch with Jaeger, just use Cassandra. I ended up nuking my ElasticSearch install.","closed_by":{"login":"bizybot","id":902768,"node_id":"MDQ6VXNlcjkwMjc2OA==","avatar_url":"https://avatars2.githubusercontent.com/u/902768?v=4","gravatar_id":"","url":"https://api.github.com/users/bizybot","html_url":"https://github.com/bizybot","followers_url":"https://api.github.com/users/bizybot/followers","following_url":"https://api.github.com/users/bizybot/following{/other_user}","gists_url":"https://api.github.com/users/bizybot/gists{/gist_id}","starred_url":"https://api.github.com/users/bizybot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bizybot/subscriptions","organizations_url":"https://api.github.com/users/bizybot/orgs","repos_url":"https://api.github.com/users/bizybot/repos","events_url":"https://api.github.com/users/bizybot/events{/privacy}","received_events_url":"https://api.github.com/users/bizybot/received_events","type":"User","site_admin":false},"performed_via_github_app":null}