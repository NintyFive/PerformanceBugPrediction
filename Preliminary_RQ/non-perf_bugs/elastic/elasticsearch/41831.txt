{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/41831","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41831/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41831/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41831/events","html_url":"https://github.com/elastic/elasticsearch/issues/41831","id":440554524,"node_id":"MDU6SXNzdWU0NDA1NTQ1MjQ=","number":41831,"title":"Storing a non-secure setting in the keystore should prevent node start","user":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"labels":[{"id":144457604,"node_id":"MDU6TGFiZWwxNDQ0NTc2MDQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Settings","name":":Core/Infra/Settings","color":"0e8a16","default":false,"description":"Settings infrastructure and APIs"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-05-06T06:20:59Z","updated_at":"2019-05-20T18:35:32Z","closed_at":"2019-05-20T18:35:32Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"`AbstractScopedSettings` validates against unknown settings, and that validation reflects where we read the setting's value from (so the error message says \"unknown setting\" or \"unknown secure setting\" depending on context).\r\n\r\nHowever, we only validate whether a setting is \"known\", we don't validate whether it has been added to the correct file.\r\n\r\nThis means, for example the following does not produce any errors (but really ought to)\r\n```\r\necho maybe | bin/elasticsearch-keystore add node.master\r\nbin/elasticsearch\r\n```\r\n\r\n","closed_by":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"performed_via_github_app":null}