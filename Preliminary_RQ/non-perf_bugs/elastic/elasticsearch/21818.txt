{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/21818","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21818/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21818/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21818/events","html_url":"https://github.com/elastic/elasticsearch/issues/21818","id":191947713,"node_id":"MDU6SXNzdWUxOTE5NDc3MTM=","number":21818,"title":"Failed to start elasticsearch after reinstall","user":{"login":"tianchao-haohan","id":8639363,"node_id":"MDQ6VXNlcjg2MzkzNjM=","avatar_url":"https://avatars3.githubusercontent.com/u/8639363?v=4","gravatar_id":"","url":"https://api.github.com/users/tianchao-haohan","html_url":"https://github.com/tianchao-haohan","followers_url":"https://api.github.com/users/tianchao-haohan/followers","following_url":"https://api.github.com/users/tianchao-haohan/following{/other_user}","gists_url":"https://api.github.com/users/tianchao-haohan/gists{/gist_id}","starred_url":"https://api.github.com/users/tianchao-haohan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tianchao-haohan/subscriptions","organizations_url":"https://api.github.com/users/tianchao-haohan/orgs","repos_url":"https://api.github.com/users/tianchao-haohan/repos","events_url":"https://api.github.com/users/tianchao-haohan/events{/privacy}","received_events_url":"https://api.github.com/users/tianchao-haohan/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-11-28T08:44:22Z","updated_at":"2016-11-28T09:57:12Z","closed_at":"2016-11-28T09:57:12Z","author_association":"NONE","active_lock_reason":null,"body":"<!--\r\nGitHub is reserved for bug reports and feature requests. The best place\r\nto ask a general question is at the Elastic Discourse forums at\r\nhttps://discuss.elastic.co. If you are in fact posting a bug report or\r\na feature request, please include one and only one of the below blocks\r\nin your new issue. Note that whether you're filing a bug report or a\r\nfeature request, ensure that your submission is for an\r\n[OS that we support](https://www.elastic.co/support/matrix#show_os).\r\nBug reports on an OS that we do not support or feature requests\r\nspecific to an OS that we do not support will be closed.\r\n-->\r\n\r\n<!--\r\nIf you are filing a bug report, please remove the below feature\r\nrequest block and provide responses for all of the below items.\r\n-->\r\n\r\n**Elasticsearch version**: 5.0.0-alpha1\r\n\r\n**Plugins installed**: []\r\n\r\n**JVM version**:1.8.0_60\r\n\r\n**OS version**:SUSE Enterprise 12\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\nremove 5.0.0-alpha1 with rpm -ev. then install elasticsearch-2.4.1. Failed to start elasticsearch\r\n\r\n**Steps to reproduce**:\r\n 1. Install elasticsearch-5.0.0-alpha1\r\n 2. uninstall elasticsearch-5.0.0-alpha1\r\n 3. install elasticsearch-2.4.1\r\n 4. start elasticsearch with sudo systemctl start   elasticsearch \r\n 5. ps -ef | grep elastic\r\nelastic+  6400     1  0 03:17 pts/1    00:00:00 /usr/bin/java -Xms256m -Xmx1g -Djava.awt.headless=true -XX:+UseParNewGC -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=75 -XX:+UseCMSInitiatingOccupancyOnly -XX:+HeapDumpOnOutOfMemoryError -XX:+DisableExplicitGC -Dfile.encoding=UTF-8 -Djna.nosys=true -Des.path.home=/usr/share/elasticsearch -cp /usr/share/elasticsearch/lib/elasticsearch-2.4.1.jar:/usr/share/elasticsearch/lib/* org.elasticsearch.bootstrap.Elasticsearch start -d -p /var/run/elasticsearch.pid --default.config=/etc/elasticsearch/elasticsearch.yml --default.path.home=/usr/share/elasticsearch --default.path.logs=/var/log/elasticsearch --default.path.data=/var/lib/elasticsearch --default.path.work=/tmp/elasticsearch --default.path.conf=/etc/elasticsearch                                                                                                           \r\n 6. /bin/netstat -nap | grep 9200, nothing could be found\r\n 7. No logs under /var/log/elasticsearch\r\n 8. Failed to \"curl -XGET localhost:9200\", network host in elasticsearch.yml has been configured to 0.0.0.0\r\n**Provide logs (if relevant)**:\r\n\r\n<!--\r\nIf you are filing a feature request, please remove the above bug\r\nreport block and provide responses for all of the below items.\r\n-->\r\n\r\n**Describe the feature**:  jstack the pid:\r\n\"Signal Dispatcher\" #5 daemon prio=9 os_prio=0 tid=0x00007fcfc0172000 nid=0x4dd0 runnable [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n\"Surrogate Locker Thread (Concurrent GC)\" #4 daemon prio=9 os_prio=0 tid=0x00007fcfc0170800 nid=0x4dcf waiting on condition [0x0000000000000000]\r\n   java.lang.Thread.State: RUNNABLE\r\n\r\n\"Finalizer\" #3 daemon prio=8 os_prio=0 tid=0x00007fcfc0134000 nid=0x4dce in Object.wait() [0x00007fcf734fb000]\r\n   java.lang.Thread.State: WAITING (on object monitor)\r\n        at java.lang.Object.wait(Native Method)\r\n        - waiting on <0x00000000c00070b8> (a java.lang.ref.ReferenceQueue$Lock)\r\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:143)\r\n        - locked <0x00000000c00070b8> (a java.lang.ref.ReferenceQueue$Lock)\r\n        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:164)\r\n        at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:209)\r\n\r\n\"Reference Handler\" #2 daemon prio=10 os_prio=0 tid=0x00007fcfc0132000 nid=0x4dcd in Object.wait() [0x00007fcf735fc000]\r\n   java.lang.Thread.State: WAITING (on object monitor)\r\n        at java.lang.Object.wait(Native Method)\r\n        - waiting on <0x00000000c0006af8> (a java.lang.ref.Reference$Lock)\r\n        at java.lang.Object.wait(Object.java:502)\r\n        at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:157)\r\n        - locked <0x00000000c0006af8> (a java.lang.ref.Reference$Lock)\r\n\r\n\"main\" #1 prio=5 os_prio=0 tid=0x00007fcfc0009800 nid=0x4db9 runnable [0x00007fcfc7955000]\r\n   java.lang.Thread.State: RUNNABLE\r\n        at sun.nio.fs.UnixNativeDispatcher.stat0(Native Method)\r\n        at sun.nio.fs.UnixNativeDispatcher.stat(UnixNativeDispatcher.java:286)\r\n        at sun.nio.fs.UnixFileAttributes.get(UnixFileAttributes.java:70)\r\n        at sun.nio.fs.UnixFileStore.devFor(UnixFileStore.java:55)\r\n        at sun.nio.fs.UnixFileStore.<init>(UnixFileStore.java:70)\r\n        at sun.nio.fs.LinuxFileStore.<init>(LinuxFileStore.java:48)\r\n        at sun.nio.fs.LinuxFileSystem.getFileStore(LinuxFileSystem.java:112)\r\n        at sun.nio.fs.UnixFileSystem$FileStoreIterator.readNext(UnixFileSystem.java:213)\r\n        at sun.nio.fs.UnixFileSystem$FileStoreIterator.hasNext(UnixFileSystem.java:224)\r\n        - locked <0x00000000c0b74e48> (a sun.nio.fs.UnixFileSystem$FileStoreIterator)\r\n        at org.apache.lucene.util.IOUtils.getFileStore(IOUtils.java:515)\r\n        at org.apache.lucene.util.IOUtils.spinsLinux(IOUtils.java:459)\r\n        at org.apache.lucene.util.IOUtils.spins(IOUtils.java:448)\r\n        at org.elasticsearch.env.ESFileStore.<init>(ESFileStore.java:57)\r\n        at org.elasticsearch.env.Environment.<clinit>(Environment.java:90)\r\n        at org.elasticsearch.node.internal.InternalSettingsPreparer.prepareEnvironment(InternalSettingsPreparer.java:81)\r\n        at org.elasticsearch.common.cli.CliTool.<init>(CliTool.java:107)\r\n        at org.elasticsearch.common.cli.CliTool.<init>(CliTool.java:100)\r\n        at org.elasticsearch.bootstrap.BootstrapCLIParser.<init>(BootstrapCLIParser.java:48)\r\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:242)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:35)\r\n\r\n\"VM Thread\" os_prio=0 tid=0x00007fcfc012d000 nid=0x4dcc runnable \r\n\r\n\"Gang worker#0 (Parallel GC Threads)\" os_prio=0 tid=0x00007fcfc001a800 nid=0x4dba runnable \r\n\r\n\"Gang worker#1 (Parallel GC Threads)\" os_prio=0 tid=0x00007fcfc001c000 nid=0x4dbb runnable","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}