{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/20723","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20723/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20723/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20723/events","html_url":"https://github.com/elastic/elasticsearch/issues/20723","id":180692064,"node_id":"MDU6SXNzdWUxODA2OTIwNjQ=","number":20723,"title":"Beta: Setting network.host: or network.bind_host: fail to function","user":{"login":"DigiAngel","id":947191,"node_id":"MDQ6VXNlcjk0NzE5MQ==","avatar_url":"https://avatars0.githubusercontent.com/u/947191?v=4","gravatar_id":"","url":"https://api.github.com/users/DigiAngel","html_url":"https://github.com/DigiAngel","followers_url":"https://api.github.com/users/DigiAngel/followers","following_url":"https://api.github.com/users/DigiAngel/following{/other_user}","gists_url":"https://api.github.com/users/DigiAngel/gists{/gist_id}","starred_url":"https://api.github.com/users/DigiAngel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DigiAngel/subscriptions","organizations_url":"https://api.github.com/users/DigiAngel/orgs","repos_url":"https://api.github.com/users/DigiAngel/repos","events_url":"https://api.github.com/users/DigiAngel/events{/privacy}","received_events_url":"https://api.github.com/users/DigiAngel/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2016-10-03T17:01:01Z","updated_at":"2017-02-01T11:55:25Z","closed_at":"2016-10-03T17:05:41Z","author_association":"NONE","active_lock_reason":null,"body":"**Elasticsearch version**:  version[5.0.0-beta1], pid[361], build[7eb6260/2016-09-20T23:10:37.942Z]\n\n**Plugins installed**: None\n\n**JVM version**: 8\n\n**OS version**: Ubuntu 16.04\n\n**Description of the problem including expected versus actual behavior**:  Fails to start with network.host_global_:, fails to open port with network.host: or network.bind_host: set. \n\n**Steps to reproduce**:\n1. Set network.host:_global or\n2. Set network.host_bind: anything\n   3.\n\n**Provide logs (if relevant)**:\nWhen setting to \"_ global _\": <- changed because github, there is no space with the _'s\n\n```\n[2016-10-03T10:37:49,363][ERROR][o.e.b.Bootstrap          ] [scanner] Exception\njava.lang.IllegalArgumentException: No up-and-running global-scope (public) addresses found, got [name:lo (lo), name:eth0 (eth0)]\n        at org.elasticsearch.common.network.NetworkUtils.getGlobalAddresses(NetworkUtils.java:207) ~[elasticsearch-5.0.0-beta1.jar:5.0.0-beta1]\n        at org.elasticsearch.common.network.NetworkService.resolveInternal(NetworkService.java:252) ~[elasticsearch-5.0.0-beta1.jar:5.0.0-beta1]\n        at org.elasticsearch.common.network.NetworkService.resolveInetAddresses(NetworkService.java:220) ~[elasticsearch-5.0.0-beta1.jar:5.0.0-beta1]\n        at org.elasticsearch.common.network.NetworkService.resolveBindHostAddresses(NetworkService.java:130) ~[elasticsearch-5.0.0-beta1.jar:5.0.0-beta1]\n        at org.elasticsearch.transport.TcpTransport.bindServer(TcpTransport.java:575) ~[elasticsearch-5.0.0-beta1.jar:5.0.0-beta1]\n        at org.elasticsearch.transport.netty4.Netty4Transport.doStart(Netty4Transport.java:182) ~[?:?]\n        at org.elasticsearch.common.component.AbstractLifecycleComponent.start(AbstractLifecycleComponent.java:68) ~[elasticsearch-5.0.0-beta1.jar:5.0.0-beta1]\n        at org.elasticsearch.transport.TransportService.doStart(TransportService.java:182) ~[elasticsearch-5.0.0-beta1.jar:5.0.0-beta1]\n        at org.elasticsearch.common.component.AbstractLifecycleComponent.start(AbstractLifecycleComponent.java:68) ~[elasticsearch-5.0.0-beta1.jar:5.0.0-beta1]\n        at org.elasticsearch.node.Node.start(Node.java:506) ~[elasticsearch-5.0.0-beta1.jar:5.0.0-beta1]\n        at org.elasticsearch.bootstrap.Bootstrap.start(Bootstrap.java:211) ~[elasticsearch-5.0.0-beta1.jar:5.0.0-beta1]\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:288) [elasticsearch-5.0.0-beta1.jar:5.0.0-beta1]\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:112) [elasticsearch-5.0.0-beta1.jar:5.0.0-beta1]\n        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:103) [elasticsearch-5.0.0-beta1.jar:5.0.0-beta1]\n        at org.elasticsearch.cli.SettingCommand.execute(SettingCommand.java:54) [elasticsearch-5.0.0-beta1.jar:5.0.0-beta1]\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:96) [elasticsearch-5.0.0-beta1.jar:5.0.0-beta1]\n        at org.elasticsearch.cli.Command.main(Command.java:62) [elasticsearch-5.0.0-beta1.jar:5.0.0-beta1]\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:80) [elasticsearch-5.0.0-beta1.jar:5.0.0-beta1]\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:73) [elasticsearch-5.0.0-beta1.jar:5.0.0-beta1]\n```\n\nWhen setting \"network.host: [\"192.168.1.8\", \"127.0.0.1\"]\":\n\n```\n[2016-10-03T10:44:05,977][INFO ][o.e.t.TransportService   ] [scanner] publish_address {192.168.1.8:9300}, bound_addresses {192.168.1.8:9300}, {127.0.0.1:9300}\n[2016-10-03T10:44:06,030][INFO ][o.e.b.BootstrapCheck     ] [scanner] bound or publishing to a non-loopback or non-link-local address, enforcing bootstrap checks\n[2016-10-03T10:44:06,034][ERROR][o.e.b.Bootstrap          ] [scanner] node validation exception\nbootstrap checks failed\n```\n\nWhen setting \"network.bind_host: [\"_eth0:ipv4_\", \"_local_\"]\": <- these include _'s not shown\n\n```\n[2016-10-03T10:53:25,197][INFO ][o.e.t.TransportService   ] [scanner] publish_address {127.0.0.1:9300}, bound_addresses {192.168.1.8:9300}, {[::1]:9300}, {127.0.0.1:9300}\n[2016-10-03T10:53:25,213][INFO ][o.e.b.BootstrapCheck     ] [scanner] bound or publishing to a non-loopback or non-link-local address, enforcing bootstrap checks\n[2016-10-03T10:53:25,219][ERROR][o.e.b.Bootstrap          ] [scanner] node validation exception\nbootstrap checks failed\n```\n\nCurrently I can only get the beta to listen to localhost, and only if I comment out the network.host: or network.bind_host: directives.\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}