[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/510104547","html_url":"https://github.com/elastic/elasticsearch/issues/44175#issuecomment-510104547","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44175","id":510104547,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDEwNDU0Nw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-07-10T15:13:47Z","updated_at":"2019-07-10T15:13:47Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-features","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/516954597","html_url":"https://github.com/elastic/elasticsearch/issues/44175#issuecomment-516954597","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44175","id":516954597,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNjk1NDU5Nw==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2019-07-31T17:55:32Z","updated_at":"2019-07-31T17:55:32Z","author_association":"MEMBER","body":"@fkelbert can you explain what you'd want ES to do here? In this case, it went to roll over the index but it's not actually the correct index since it was manually rolled over.\r\n\r\nDo you have a use case for manual and automatic rollover at the same time?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/517460195","html_url":"https://github.com/elastic/elasticsearch/issues/44175#issuecomment-517460195","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44175","id":517460195,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzQ2MDE5NQ==","user":{"login":"gwbrown","id":1522844,"node_id":"MDQ6VXNlcjE1MjI4NDQ=","avatar_url":"https://avatars1.githubusercontent.com/u/1522844?v=4","gravatar_id":"","url":"https://api.github.com/users/gwbrown","html_url":"https://github.com/gwbrown","followers_url":"https://api.github.com/users/gwbrown/followers","following_url":"https://api.github.com/users/gwbrown/following{/other_user}","gists_url":"https://api.github.com/users/gwbrown/gists{/gist_id}","starred_url":"https://api.github.com/users/gwbrown/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gwbrown/subscriptions","organizations_url":"https://api.github.com/users/gwbrown/orgs","repos_url":"https://api.github.com/users/gwbrown/repos","events_url":"https://api.github.com/users/gwbrown/events{/privacy}","received_events_url":"https://api.github.com/users/gwbrown/received_events","type":"User","site_admin":false},"created_at":"2019-08-01T21:12:40Z","updated_at":"2019-08-01T21:12:40Z","author_association":"CONTRIBUTOR","body":"We discussed this in the core/features sync today.\r\n\r\nBecause Rollover information is recorded in the index metadata when an index is rolled over, we can detect this situation in ILM, and have ILM skip trying to roll over the index if it has been rolled over via the alias configured in `index.lifecycle.rollover_alias`.  We had previously discussed this, but were concerned that it might be \"too magic\" because the rollover info stored in the index metadata is not easily visible anywhere and there is no way (other than the general Elasticsearch logs) to expose why ILM skipped rollover in this case.  However, we could not think of any use cases where a manual rollover is performed and the case where users want to roll over again, specifically via ILM, using the same alias.\r\n\r\nThe upshot of this is that we're going to move ahead with implementing this feature to have ILM skip the rollover action if it detects that an index has been manually rolled over via the alias defined in `index.lifecycle.rollover_alias`, but if anyone has any objections, please do bring them up here.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/518098763","html_url":"https://github.com/elastic/elasticsearch/issues/44175#issuecomment-518098763","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44175","id":518098763,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODA5ODc2Mw==","user":{"login":"fkelbert","id":714592,"node_id":"MDQ6VXNlcjcxNDU5Mg==","avatar_url":"https://avatars0.githubusercontent.com/u/714592?v=4","gravatar_id":"","url":"https://api.github.com/users/fkelbert","html_url":"https://github.com/fkelbert","followers_url":"https://api.github.com/users/fkelbert/followers","following_url":"https://api.github.com/users/fkelbert/following{/other_user}","gists_url":"https://api.github.com/users/fkelbert/gists{/gist_id}","starred_url":"https://api.github.com/users/fkelbert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkelbert/subscriptions","organizations_url":"https://api.github.com/users/fkelbert/orgs","repos_url":"https://api.github.com/users/fkelbert/repos","events_url":"https://api.github.com/users/fkelbert/events{/privacy}","received_events_url":"https://api.github.com/users/fkelbert/received_events","type":"User","site_admin":false},"created_at":"2019-08-05T06:08:21Z","updated_at":"2019-08-05T06:08:21Z","author_association":"CONTRIBUTOR","body":"The use case / situation here was as follows:\r\n\r\n1. Create an index including corresponding index template and ILM\r\n2. Index data\r\n3. Realize that the index mappings within the index template need modification\r\n4. Modify index template\r\n5. Run rollover (`_roller`) to force the creation of a new index that uses the new mappings\r\n6. Expect ILM to work just as it did before (which failed)\r\n\r\nIs there a possibility to make the \"ILM skip rollover behaviour\" configurable?\r\n\r\nShould we have handled the above situation differently?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/518272618","html_url":"https://github.com/elastic/elasticsearch/issues/44175#issuecomment-518272618","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44175","id":518272618,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODI3MjYxOA==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2019-08-05T15:05:33Z","updated_at":"2019-08-05T15:05:33Z","author_association":"MEMBER","body":"> Is there a possibility to make the \"ILM skip rollover behaviour\" configurable?\r\n\r\nAre you talking about the proposed rollover skip behavior? Where we would automatically detect that you manually rolled over and skip the ILM-level rollover?\r\n\r\n> Should we have handled the above situation differently?\r\n\r\nNo that sounds like a valid use case, thanks for explaining it. This will help us figure out the best solution for this issue.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/518276110","html_url":"https://github.com/elastic/elasticsearch/issues/44175#issuecomment-518276110","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44175","id":518276110,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODI3NjExMA==","user":{"login":"fkelbert","id":714592,"node_id":"MDQ6VXNlcjcxNDU5Mg==","avatar_url":"https://avatars0.githubusercontent.com/u/714592?v=4","gravatar_id":"","url":"https://api.github.com/users/fkelbert","html_url":"https://github.com/fkelbert","followers_url":"https://api.github.com/users/fkelbert/followers","following_url":"https://api.github.com/users/fkelbert/following{/other_user}","gists_url":"https://api.github.com/users/fkelbert/gists{/gist_id}","starred_url":"https://api.github.com/users/fkelbert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkelbert/subscriptions","organizations_url":"https://api.github.com/users/fkelbert/orgs","repos_url":"https://api.github.com/users/fkelbert/repos","events_url":"https://api.github.com/users/fkelbert/events{/privacy}","received_events_url":"https://api.github.com/users/fkelbert/received_events","type":"User","site_admin":false},"created_at":"2019-08-05T15:14:19Z","updated_at":"2019-08-05T15:14:19Z","author_association":"CONTRIBUTOR","body":"> > Is there a possibility to make the \"ILM skip rollover behaviour\" configurable?\r\n> \r\n> Are you talking about the proposed rollover skip behavior? Where we would automatically detect that you manually rolled over and skip the ILM-level rollover?\r\n> \r\n\r\nYes.\r\n\r\n> > Should we have handled the above situation differently?\r\n> \r\n> No that sounds like a valid use case, thanks for explaining it. This will help us figure out the best solution for this issue.\r\n\r\nGreat! happy to provide more input if needed.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/518290863","html_url":"https://github.com/elastic/elasticsearch/issues/44175#issuecomment-518290863","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44175","id":518290863,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODI5MDg2Mw==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2019-08-05T15:50:55Z","updated_at":"2019-08-05T15:50:55Z","author_association":"MEMBER","body":">>> Is there a possibility to make the \"ILM skip rollover behaviour\" configurable?\r\n\r\n>> Are you talking about the proposed rollover skip behavior? Where we would automatically detect that you manually rolled over and skip the ILM-level rollover?\r\n\r\n> Yes.\r\n\r\nWe could probably add a setting to enable/disable the auto-rollover detection/skipping.\r\n\r\n@gwbrown what do you think?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/518294649","html_url":"https://github.com/elastic/elasticsearch/issues/44175#issuecomment-518294649","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44175","id":518294649,"node_id":"MDEyOklzc3VlQ29tbWVudDUxODI5NDY0OQ==","user":{"login":"gwbrown","id":1522844,"node_id":"MDQ6VXNlcjE1MjI4NDQ=","avatar_url":"https://avatars1.githubusercontent.com/u/1522844?v=4","gravatar_id":"","url":"https://api.github.com/users/gwbrown","html_url":"https://github.com/gwbrown","followers_url":"https://api.github.com/users/gwbrown/followers","following_url":"https://api.github.com/users/gwbrown/following{/other_user}","gists_url":"https://api.github.com/users/gwbrown/gists{/gist_id}","starred_url":"https://api.github.com/users/gwbrown/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gwbrown/subscriptions","organizations_url":"https://api.github.com/users/gwbrown/orgs","repos_url":"https://api.github.com/users/gwbrown/repos","events_url":"https://api.github.com/users/gwbrown/events{/privacy}","received_events_url":"https://api.github.com/users/gwbrown/received_events","type":"User","site_admin":false},"created_at":"2019-08-05T16:00:48Z","updated_at":"2019-08-05T16:00:48Z","author_association":"CONTRIBUTOR","body":"It's definitely possible to add a setting to control that behavior, my only concern is that I think the setting is going to be rather confusing to explain, and entirely unnecessary for most users.  That's probably solvable with an info box in the docs that says something to the effect of \"This is an expert setting, you probably don't need it\" though.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/530401885","html_url":"https://github.com/elastic/elasticsearch/issues/44175#issuecomment-530401885","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44175","id":530401885,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDQwMTg4NQ==","user":{"login":"lio-p","id":5880709,"node_id":"MDQ6VXNlcjU4ODA3MDk=","avatar_url":"https://avatars2.githubusercontent.com/u/5880709?v=4","gravatar_id":"","url":"https://api.github.com/users/lio-p","html_url":"https://github.com/lio-p","followers_url":"https://api.github.com/users/lio-p/followers","following_url":"https://api.github.com/users/lio-p/following{/other_user}","gists_url":"https://api.github.com/users/lio-p/gists{/gist_id}","starred_url":"https://api.github.com/users/lio-p/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lio-p/subscriptions","organizations_url":"https://api.github.com/users/lio-p/orgs","repos_url":"https://api.github.com/users/lio-p/repos","events_url":"https://api.github.com/users/lio-p/events{/privacy}","received_events_url":"https://api.github.com/users/lio-p/received_events","type":"User","site_admin":false},"created_at":"2019-09-11T14:18:41Z","updated_at":"2019-09-11T14:18:55Z","author_association":"NONE","body":"One workaround is to move the index in error to a stable state: \r\n\r\n```\r\nPOST _ilm/move/<index_name>\r\n{\r\n  \"current_step\": {\r\n    \"phase\": \"hot\",\r\n    \"action\": \"rollover\",\r\n    \"name\": \"ERROR\"\r\n  },\r\n  \"next_step\": {\r\n    \"phase\": \"hot\",\r\n    \"action\": \"complete\",\r\n    \"name\": \"complete\"\r\n  }\r\n}\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/538578985","html_url":"https://github.com/elastic/elasticsearch/issues/44175#issuecomment-538578985","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44175","id":538578985,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODU3ODk4NQ==","user":{"login":"fkelbert","id":714592,"node_id":"MDQ6VXNlcjcxNDU5Mg==","avatar_url":"https://avatars0.githubusercontent.com/u/714592?v=4","gravatar_id":"","url":"https://api.github.com/users/fkelbert","html_url":"https://github.com/fkelbert","followers_url":"https://api.github.com/users/fkelbert/followers","following_url":"https://api.github.com/users/fkelbert/following{/other_user}","gists_url":"https://api.github.com/users/fkelbert/gists{/gist_id}","starred_url":"https://api.github.com/users/fkelbert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkelbert/subscriptions","organizations_url":"https://api.github.com/users/fkelbert/orgs","repos_url":"https://api.github.com/users/fkelbert/repos","events_url":"https://api.github.com/users/fkelbert/events{/privacy}","received_events_url":"https://api.github.com/users/fkelbert/received_events","type":"User","site_admin":false},"created_at":"2019-10-04T22:23:17Z","updated_at":"2019-10-04T22:23:17Z","author_association":"CONTRIBUTOR","body":"Thank you very much for fixing @andreidan ","performed_via_github_app":null}]