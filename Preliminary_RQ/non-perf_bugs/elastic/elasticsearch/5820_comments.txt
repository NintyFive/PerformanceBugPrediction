[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/40504436","html_url":"https://github.com/elastic/elasticsearch/issues/5820#issuecomment-40504436","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5820","id":40504436,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTA0NDM2","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2014-04-15T16:40:03Z","updated_at":"2014-04-15T16:40:03Z","author_association":"CONTRIBUTOR","body":"I think this is a problem in the explain output. do you really see the score bein a sum?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/40538949","html_url":"https://github.com/elastic/elasticsearch/issues/5820#issuecomment-40538949","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5820","id":40538949,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTM4OTQ5","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2014-04-15T21:50:41Z","updated_at":"2014-04-15T21:50:41Z","author_association":"MEMBER","body":"@vincentlaucy the `\"sum of:\"` portion of the explanation comes from the `bool` query for the root object. Scores from multiple `must` clauses in the `bool` query are added together, hence the `\"sum of\"` in the description. The entire nested query explanation is represented as a single entrance. \n\n```\n{\nvalue: 8.011673\ndescription: \"Score based on child doc range from 21106 to 21136\"\n}\n```\n\nI did a couple of tests, the `sum` and `max` in the nested query works as expected.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/40560313","html_url":"https://github.com/elastic/elasticsearch/issues/5820#issuecomment-40560313","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5820","id":40560313,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTYwMzEz","user":{"login":"vincentlaucy","id":1883877,"node_id":"MDQ6VXNlcjE4ODM4Nzc=","avatar_url":"https://avatars3.githubusercontent.com/u/1883877?v=4","gravatar_id":"","url":"https://api.github.com/users/vincentlaucy","html_url":"https://github.com/vincentlaucy","followers_url":"https://api.github.com/users/vincentlaucy/followers","following_url":"https://api.github.com/users/vincentlaucy/following{/other_user}","gists_url":"https://api.github.com/users/vincentlaucy/gists{/gist_id}","starred_url":"https://api.github.com/users/vincentlaucy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vincentlaucy/subscriptions","organizations_url":"https://api.github.com/users/vincentlaucy/orgs","repos_url":"https://api.github.com/users/vincentlaucy/repos","events_url":"https://api.github.com/users/vincentlaucy/events{/privacy}","received_events_url":"https://api.github.com/users/vincentlaucy/received_events","type":"User","site_admin":false},"created_at":"2014-04-16T03:48:09Z","updated_at":"2014-04-16T03:48:09Z","author_association":"NONE","body":"Thanks. I tried to reduce the query as below, however seems still get the score & explanation.\nI am using 1.1.0\n\n```\n{\n    \"size\": 10,\n    \"explain\": true,\n    \"min_score\": 0.2,\n            \"query\": {\n                        \"nested\": {\n                            \"path\": \"myObj1\",\n                            \"scoreMode\": \"max\",\n                            \"query\": {\n                                            \"mlt_field\": {\n                                                \"myObj1.myField\": {\n                                                    \"like_text\": \" Text To Like\",\n\n                                                    \"min_term_freq\": 1,\n                                                    \"min_doc_freq\": 1\n                                                }\n                                            }\n                            }\n                }\n            }\n\n\n}\n```\n\n```\n_explanation: {\nvalue: 7.9484005\ndescription: \"Score based on child doc range from 3498 to 3499\"\n}\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/40662222","html_url":"https://github.com/elastic/elasticsearch/issues/5820#issuecomment-40662222","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5820","id":40662222,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjYyMjIy","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2014-04-16T22:52:02Z","updated_at":"2014-04-16T22:52:02Z","author_association":"MEMBER","body":"Yes, and as you can see you no longer get anything about `sum`, because `sum` was part of the explanation for `bool` query. All you get is explanation for the `nested` query. Can we close the issue?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/40712230","html_url":"https://github.com/elastic/elasticsearch/issues/5820#issuecomment-40712230","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5820","id":40712230,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzEyMjMw","user":{"login":"vincentlaucy","id":1883877,"node_id":"MDQ6VXNlcjE4ODM4Nzc=","avatar_url":"https://avatars3.githubusercontent.com/u/1883877?v=4","gravatar_id":"","url":"https://api.github.com/users/vincentlaucy","html_url":"https://github.com/vincentlaucy","followers_url":"https://api.github.com/users/vincentlaucy/followers","following_url":"https://api.github.com/users/vincentlaucy/following{/other_user}","gists_url":"https://api.github.com/users/vincentlaucy/gists{/gist_id}","starred_url":"https://api.github.com/users/vincentlaucy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vincentlaucy/subscriptions","organizations_url":"https://api.github.com/users/vincentlaucy/orgs","repos_url":"https://api.github.com/users/vincentlaucy/repos","events_url":"https://api.github.com/users/vincentlaucy/events{/privacy}","received_events_url":"https://api.github.com/users/vincentlaucy/received_events","type":"User","site_admin":false},"created_at":"2014-04-17T13:15:22Z","updated_at":"2014-04-17T13:15:22Z","author_association":"NONE","body":"Thanks @Imotov . originally i assumed score of mlt is of scale 0 to 1 and thus the confusion.  Are there ways to match against the text in  child doc's field and normalize the score?  Should I use fuzzy like this instead  if i want, when mlt text is \"text\" child doc is \"text,  score as 1.0  ? (100% match in my case) \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/40719774","html_url":"https://github.com/elastic/elasticsearch/issues/5820#issuecomment-40719774","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5820","id":40719774,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNzE5Nzc0","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2014-04-17T14:28:13Z","updated_at":"2014-04-17T14:28:13Z","author_association":"MEMBER","body":"@vincentlaucy I am not completely sure what you are trying to achieve, but there are several different ways to affect scoring of your requests by using [constant_score](http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/query-dsl-constant-score-query.html) queries, [function_score](http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/query-dsl-function-score-query.html) queries and [configurable similarities](http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/index-modules-similarity.html). If you have any questions about using them, let's continue this conversation on the mailing list. \n","performed_via_github_app":null}]