[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/705228764","html_url":"https://github.com/elastic/elasticsearch/issues/63446#issuecomment-705228764","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/63446","id":705228764,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTIyODc2NA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-10-07T22:34:48Z","updated_at":"2020-10-07T22:34:48Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search (:Search/Search)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/705404767","html_url":"https://github.com/elastic/elasticsearch/issues/63446#issuecomment-705404767","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/63446","id":705404767,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTQwNDc2Nw==","user":{"login":"romseygeek","id":1347065,"node_id":"MDQ6VXNlcjEzNDcwNjU=","avatar_url":"https://avatars0.githubusercontent.com/u/1347065?v=4","gravatar_id":"","url":"https://api.github.com/users/romseygeek","html_url":"https://github.com/romseygeek","followers_url":"https://api.github.com/users/romseygeek/followers","following_url":"https://api.github.com/users/romseygeek/following{/other_user}","gists_url":"https://api.github.com/users/romseygeek/gists{/gist_id}","starred_url":"https://api.github.com/users/romseygeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/romseygeek/subscriptions","organizations_url":"https://api.github.com/users/romseygeek/orgs","repos_url":"https://api.github.com/users/romseygeek/repos","events_url":"https://api.github.com/users/romseygeek/events{/privacy}","received_events_url":"https://api.github.com/users/romseygeek/received_events","type":"User","site_admin":false},"created_at":"2020-10-08T08:07:00Z","updated_at":"2020-10-08T08:07:00Z","author_association":"CONTRIBUTOR","body":"The index-time analyzer for a MapperService needs to know about all index-time fields, and it currently learns about them via the `iterator()` method on Mapper, which is the same way that the MappingLookup learns about field types.  I've wanted to change this for a while - if we can instead register analyzers and field types separately, then we don't need to have full-blown Mapper implementations for these subfields and can instead handle everything in the parent `parseCreateField`.\r\n\r\n`search_as_you_type` is slightly different because it works by letting users search directly on the subfields.  It would be nice to hide this implementation detail behind a specialised query instead.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/706967132","html_url":"https://github.com/elastic/elasticsearch/issues/63446#issuecomment-706967132","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/63446","id":706967132,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjk2NzEzMg==","user":{"login":"romseygeek","id":1347065,"node_id":"MDQ6VXNlcjEzNDcwNjU=","avatar_url":"https://avatars0.githubusercontent.com/u/1347065?v=4","gravatar_id":"","url":"https://api.github.com/users/romseygeek","html_url":"https://github.com/romseygeek","followers_url":"https://api.github.com/users/romseygeek/followers","following_url":"https://api.github.com/users/romseygeek/following{/other_user}","gists_url":"https://api.github.com/users/romseygeek/gists{/gist_id}","starred_url":"https://api.github.com/users/romseygeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/romseygeek/subscriptions","organizations_url":"https://api.github.com/users/romseygeek/orgs","repos_url":"https://api.github.com/users/romseygeek/repos","events_url":"https://api.github.com/users/romseygeek/events{/privacy}","received_events_url":"https://api.github.com/users/romseygeek/received_events","type":"User","site_admin":false},"created_at":"2020-10-12T08:28:54Z","updated_at":"2020-10-12T08:28:54Z","author_association":"CONTRIBUTOR","body":"Thinking about this more, separating the registration of Mappers and MappedFieldTypes wouldn't actually help here, because we still need the MappedFieldType to be set up so that it can be searched.  Perhaps a better move would be to make MappedFieldType responsible for building IndexFieldCapabilities, so that an implementation can choose to not make itself visible to field caps by returning `null`?","performed_via_github_app":null}]