{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/21747","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21747/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21747/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21747/events","html_url":"https://github.com/elastic/elasticsearch/issues/21747","id":191231893,"node_id":"MDU6SXNzdWUxOTEyMzE4OTM=","number":21747,"title":"Pre-registered indexed search template not working ","user":{"login":"svola","id":1832934,"node_id":"MDQ6VXNlcjE4MzI5MzQ=","avatar_url":"https://avatars2.githubusercontent.com/u/1832934?v=4","gravatar_id":"","url":"https://api.github.com/users/svola","html_url":"https://github.com/svola","followers_url":"https://api.github.com/users/svola/followers","following_url":"https://api.github.com/users/svola/following{/other_user}","gists_url":"https://api.github.com/users/svola/gists{/gist_id}","starred_url":"https://api.github.com/users/svola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/svola/subscriptions","organizations_url":"https://api.github.com/users/svola/orgs","repos_url":"https://api.github.com/users/svola/repos","events_url":"https://api.github.com/users/svola/events{/privacy}","received_events_url":"https://api.github.com/users/svola/received_events","type":"User","site_admin":false},"labels":[{"id":146832564,"node_id":"MDU6TGFiZWwxNDY4MzI1NjQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Search","name":":Search/Search","color":"0e8a16","default":false,"description":"Search-related issues that do not fall into other categories"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"assignees":[{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false}],"milestone":null,"comments":7,"created_at":"2016-11-23T10:17:26Z","updated_at":"2018-02-14T13:42:37Z","closed_at":"2016-11-29T19:52:43Z","author_association":"NONE","active_lock_reason":null,"body":"I have worked with Search-Templates before. In older versions of ES it worked.\r\nBut now in ES 5.0.1 it is not working anymore.\r\nI'm following the docs here:\r\nhttps://www.elastic.co/guide/en/elasticsearch/reference/current/search-template.html#pre-registered-templates\r\n\r\n\r\n\tPOST /_search/template/template1\r\n\t{\r\n\t  \"template\": {\r\n\t    \"size\": 10,\r\n\t    \"query\": {\r\n\t      \"multi_match\": {\r\n\t\t\"query\": \"{{query_string}}\",\r\n\t\t\"fields\": [\r\n\t\t  \"description\",\r\n\t\t  \"title\"\r\n\t\t]\r\n\t      }\r\n\t    }\r\n\t  }\r\n\t}\r\n\r\n\r\n\tGET /_search/template\r\n\t{\r\n\t    \"id\": \"template1\", \r\n\t    \"params\": {\r\n\t\t\"query_string\": \"search for these words\"\r\n\t    }\r\n\t}\r\n\r\nStoring the template returns a success message.\r\n\r\nSearching returns:\r\n\r\n\t{\r\n\t  \"error\": {\r\n\t    \"root_cause\": [\r\n\t      {\r\n\t\t\"type\": \"illegal_state_exception\",\r\n\t\t\"reason\": \"There are no external requests known to support wildcards that don't support replacing their indices\"\r\n\t      }\r\n\t    ],\r\n\t    \"type\": \"illegal_state_exception\",\r\n\t    \"reason\": \"There are no external requests known to support wildcards that don't support replacing their indices\"\r\n\t  },\r\n\t  \"status\": 500\r\n\t}\r\n\r\n\r\nThe .scripts index is empty aswell.\r\n\r\nIs the documentation wrong or is it a bug?","closed_by":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"performed_via_github_app":null}