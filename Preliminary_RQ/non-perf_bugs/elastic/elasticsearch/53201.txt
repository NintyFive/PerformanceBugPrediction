{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/53201","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/53201/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/53201/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/53201/events","html_url":"https://github.com/elastic/elasticsearch/issues/53201","id":576578479,"node_id":"MDU6SXNzdWU1NzY1Nzg0Nzk=","number":53201,"title":"File conflicts on install of elasticsearch 7.6.1 rpm","user":{"login":"vb-dave","id":37385029,"node_id":"MDQ6VXNlcjM3Mzg1MDI5","avatar_url":"https://avatars2.githubusercontent.com/u/37385029?v=4","gravatar_id":"","url":"https://api.github.com/users/vb-dave","html_url":"https://github.com/vb-dave","followers_url":"https://api.github.com/users/vb-dave/followers","following_url":"https://api.github.com/users/vb-dave/following{/other_user}","gists_url":"https://api.github.com/users/vb-dave/gists{/gist_id}","starred_url":"https://api.github.com/users/vb-dave/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vb-dave/subscriptions","organizations_url":"https://api.github.com/users/vb-dave/orgs","repos_url":"https://api.github.com/users/vb-dave/repos","events_url":"https://api.github.com/users/vb-dave/events{/privacy}","received_events_url":"https://api.github.com/users/vb-dave/received_events","type":"User","site_admin":false},"labels":[{"id":114977275,"node_id":"MDU6TGFiZWwxMTQ5NzcyNzU=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Packaging","name":":Delivery/Packaging","color":"0e8a16","default":false,"description":"RPM and deb packaging, tar and zip archives, shell and batch scripts"},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"},{"id":111624690,"node_id":"MDU6TGFiZWwxMTE2MjQ2OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/feedback_needed","name":"feedback_needed","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-03-05T22:49:10Z","updated_at":"2020-11-11T21:54:36Z","closed_at":"2020-05-04T08:41:55Z","author_association":"NONE","active_lock_reason":null,"body":"On a Centos 7.7 server running Elasticsearch 7.6.0 installed from RPM via Chef cookbook https://github.com/elastic/cookbook-elasticsearch/, when we try and install 7.6.1 the package is not being installed.\r\n\r\nWhen I try and install elasticsearch-7.6.1-x86_64.rpm manually on the command line I get the following error:\r\n`$ rpm -ivh elasticsearch-7.6.1-x86_64.rpm\r\nPreparing...                          ################################# [100%]\r\n\tfile /usr/lib/systemd/system/elasticsearch.service from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/bin/elasticsearch-env-from-file from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/aggs-matrix-stats/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/analysis-common/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/flattened/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/frozen-indices/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/ingest-common/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/ingest-geoip/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/ingest-user-agent/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/lang-expression/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/lang-mustache/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/lang-painless/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/mapper-extras/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/parent-join/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/percolator/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/rank-eval/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/reindex/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/repository-url/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/search-business-rules/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/spatial/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/systemd/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/transform/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/transport-netty4/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/vectors/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/x-pack-analytics/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/x-pack-ccr/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/x-pack-core/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/x-pack-deprecation/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/x-pack-enrich/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/x-pack-graph/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/x-pack-ilm/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/x-pack-logstash/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/x-pack-ml/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/x-pack-monitoring/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/x-pack-rollup/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/x-pack-security/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/x-pack-sql/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/x-pack-voting-only-node/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/x-pack-watcher/plugin-descriptor.properties from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/x-pack-ml/platform/linux-x86_64/bin/autoconfig from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/x-pack-ml/platform/linux-x86_64/bin/autodetect from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/x-pack-ml/platform/linux-x86_64/bin/categorize from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/x-pack-ml/platform/linux-x86_64/bin/controller from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/x-pack-ml/platform/linux-x86_64/bin/data_frame_analyzer from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64\r\n\tfile /usr/share/elasticsearch/modules/x-pack-ml/platform/linux-x86_64/bin/normalize from install of elasticsearch-0:7.6.1-1.x86_64 conflicts with file from package elasticsearch-0:7.6.0-1.x86_64`\r\n\r\nIf I uninstall the existing 7.6.0 rpm first, then run Chef again the 7.6.1 rpm installs without issue. However, we've never had to do this in the upgrade path before. Am I missing something?","closed_by":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"performed_via_github_app":null}