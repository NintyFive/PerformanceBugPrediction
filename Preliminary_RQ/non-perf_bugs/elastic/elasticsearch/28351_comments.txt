[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/360055951","html_url":"https://github.com/elastic/elasticsearch/issues/28351#issuecomment-360055951","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28351","id":360055951,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MDA1NTk1MQ==","user":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"created_at":"2018-01-24T08:26:12Z","updated_at":"2018-01-24T08:26:12Z","author_association":"CONTRIBUTOR","body":"You can delete the directory named `FbLIamfiTieF8hzOKJWbpQ` in your data directory (under `nodes/0/indices`, which is the watcher index that conflicts with the alias.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/365960770","html_url":"https://github.com/elastic/elasticsearch/issues/28351#issuecomment-365960770","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28351","id":365960770,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTk2MDc3MA==","user":{"login":"yawboateng","id":17864529,"node_id":"MDQ6VXNlcjE3ODY0NTI5","avatar_url":"https://avatars1.githubusercontent.com/u/17864529?v=4","gravatar_id":"","url":"https://api.github.com/users/yawboateng","html_url":"https://github.com/yawboateng","followers_url":"https://api.github.com/users/yawboateng/followers","following_url":"https://api.github.com/users/yawboateng/following{/other_user}","gists_url":"https://api.github.com/users/yawboateng/gists{/gist_id}","starred_url":"https://api.github.com/users/yawboateng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yawboateng/subscriptions","organizations_url":"https://api.github.com/users/yawboateng/orgs","repos_url":"https://api.github.com/users/yawboateng/repos","events_url":"https://api.github.com/users/yawboateng/events{/privacy}","received_events_url":"https://api.github.com/users/yawboateng/received_events","type":"User","site_admin":false},"created_at":"2018-02-15T15:25:48Z","updated_at":"2018-02-15T15:25:48Z","author_association":"NONE","body":"This keeps happening even after the upgrade and running v6 for a while now. my data nodes randomly goes in a crashloop with same error but on the kibana index and i end up having to delete and re create.\r\n\r\n```\r\n[2018-02-15T15:08:53,635][WARN ][o.e.b.ElasticsearchUncaughtExceptionHandler] [elasticsearch-data-ss-2] uncaught exception in thread [main]\r\norg.elasticsearch.bootstrap.StartupException: java.lang.IllegalStateException: index and alias names need to be unique, but the following duplicates were found [.kibana (alias of [.kibana-6/_ixMMN4zRK2YKBzfQmUwzA])]\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/365963088","html_url":"https://github.com/elastic/elasticsearch/issues/28351#issuecomment-365963088","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28351","id":365963088,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTk2MzA4OA==","user":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"created_at":"2018-02-15T15:32:41Z","updated_at":"2018-02-15T15:32:41Z","author_association":"CONTRIBUTOR","body":"> and i end up having to delete and re create.\r\n\r\nwhat do you mean by that? Are you deleting the folder on disk as I suggested above, or are you issuing a DELETE command on the index?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/365964517","html_url":"https://github.com/elastic/elasticsearch/issues/28351#issuecomment-365964517","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28351","id":365964517,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTk2NDUxNw==","user":{"login":"yawboateng","id":17864529,"node_id":"MDQ6VXNlcjE3ODY0NTI5","avatar_url":"https://avatars1.githubusercontent.com/u/17864529?v=4","gravatar_id":"","url":"https://api.github.com/users/yawboateng","html_url":"https://github.com/yawboateng","followers_url":"https://api.github.com/users/yawboateng/followers","following_url":"https://api.github.com/users/yawboateng/following{/other_user}","gists_url":"https://api.github.com/users/yawboateng/gists{/gist_id}","starred_url":"https://api.github.com/users/yawboateng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yawboateng/subscriptions","organizations_url":"https://api.github.com/users/yawboateng/orgs","repos_url":"https://api.github.com/users/yawboateng/repos","events_url":"https://api.github.com/users/yawboateng/events{/privacy}","received_events_url":"https://api.github.com/users/yawboateng/received_events","type":"User","site_admin":false},"created_at":"2018-02-15T15:37:03Z","updated_at":"2018-02-15T15:37:03Z","author_association":"NONE","body":"the folder","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/365965130","html_url":"https://github.com/elastic/elasticsearch/issues/28351#issuecomment-365965130","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28351","id":365965130,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTk2NTEzMA==","user":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"created_at":"2018-02-15T15:38:55Z","updated_at":"2018-02-15T15:38:55Z","author_association":"CONTRIBUTOR","body":"what do you mean by recreate then? Why are you recreating the folder?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/365998467","html_url":"https://github.com/elastic/elasticsearch/issues/28351#issuecomment-365998467","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28351","id":365998467,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTk5ODQ2Nw==","user":{"login":"yawboateng","id":17864529,"node_id":"MDQ6VXNlcjE3ODY0NTI5","avatar_url":"https://avatars1.githubusercontent.com/u/17864529?v=4","gravatar_id":"","url":"https://api.github.com/users/yawboateng","html_url":"https://github.com/yawboateng","followers_url":"https://api.github.com/users/yawboateng/followers","following_url":"https://api.github.com/users/yawboateng/following{/other_user}","gists_url":"https://api.github.com/users/yawboateng/gists{/gist_id}","starred_url":"https://api.github.com/users/yawboateng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yawboateng/subscriptions","organizations_url":"https://api.github.com/users/yawboateng/orgs","repos_url":"https://api.github.com/users/yawboateng/repos","events_url":"https://api.github.com/users/yawboateng/events{/privacy}","received_events_url":"https://api.github.com/users/yawboateng/received_events","type":"User","site_admin":false},"created_at":"2018-02-15T17:19:10Z","updated_at":"2018-02-15T17:19:10Z","author_association":"NONE","body":"as in rerun the steps at:\r\nhttps://www.elastic.co/guide/en/kibana/6.0/migrating-6.0-index.html","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/366189216","html_url":"https://github.com/elastic/elasticsearch/issues/28351#issuecomment-366189216","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28351","id":366189216,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjE4OTIxNg==","user":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"created_at":"2018-02-16T09:48:17Z","updated_at":"2018-02-16T09:48:17Z","author_association":"CONTRIBUTOR","body":"I don't understand why you would rerun those steps as you're already on 6.0?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/366287206","html_url":"https://github.com/elastic/elasticsearch/issues/28351#issuecomment-366287206","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28351","id":366287206,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjI4NzIwNg==","user":{"login":"yawboateng","id":17864529,"node_id":"MDQ6VXNlcjE3ODY0NTI5","avatar_url":"https://avatars1.githubusercontent.com/u/17864529?v=4","gravatar_id":"","url":"https://api.github.com/users/yawboateng","html_url":"https://github.com/yawboateng","followers_url":"https://api.github.com/users/yawboateng/followers","following_url":"https://api.github.com/users/yawboateng/following{/other_user}","gists_url":"https://api.github.com/users/yawboateng/gists{/gist_id}","starred_url":"https://api.github.com/users/yawboateng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yawboateng/subscriptions","organizations_url":"https://api.github.com/users/yawboateng/orgs","repos_url":"https://api.github.com/users/yawboateng/repos","events_url":"https://api.github.com/users/yawboateng/events{/privacy}","received_events_url":"https://api.github.com/users/yawboateng/received_events","type":"User","site_admin":false},"created_at":"2018-02-16T16:35:42Z","updated_at":"2018-02-16T16:35:42Z","author_association":"NONE","body":"Because after deleting, the UI was still showing the error:\r\n`Your Kibana index is out of date, reset it or use the X-Pack upgrade assistant.`\r\n\r\ndidint happen on the most recent delete though. \r\n\r\n\r\nanyway, I randomly get that same error for some of my indexes that I've created an  alias for...runs ok for weeks then all of a sudden, it goes into a crashloop\r\n\r\n```\r\n[2018-02-15T15:08:53,635][WARN ][o.e.b.ElasticsearchUncaughtExceptionHandler] [elasticsearch-data-ss-2] uncaught exception in thread [main]\r\norg.elasticsearch.bootstrap.StartupException: java.lang.IllegalStateException: index and alias names need to be unique, but the following duplicates were found [yawboateng-2018.01.29 (alias of [yawboateng-2018.01.29.v1/EyFtdHEMT5qPYd1r58x8fw])]\r\n```\r\n\r\nshould we not be creating aliases? \r\n\r\nI did my in other to change the number of shards from the default 5. \r\n\r\nsteps:\r\n\r\n1, create a new index, set the new number of shards, and replicas (number_of_shards and number_of_replicas)\r\n2, re-index the old indexes to use the new one\r\n3, create an aliases between the old index name and the new one\r\n4, delete the old index\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/366749920","html_url":"https://github.com/elastic/elasticsearch/issues/28351#issuecomment-366749920","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28351","id":366749920,"node_id":"MDEyOklzc3VlQ29tbWVudDM2Njc0OTkyMA==","user":{"login":"yawboateng","id":17864529,"node_id":"MDQ6VXNlcjE3ODY0NTI5","avatar_url":"https://avatars1.githubusercontent.com/u/17864529?v=4","gravatar_id":"","url":"https://api.github.com/users/yawboateng","html_url":"https://github.com/yawboateng","followers_url":"https://api.github.com/users/yawboateng/followers","following_url":"https://api.github.com/users/yawboateng/following{/other_user}","gists_url":"https://api.github.com/users/yawboateng/gists{/gist_id}","starred_url":"https://api.github.com/users/yawboateng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yawboateng/subscriptions","organizations_url":"https://api.github.com/users/yawboateng/orgs","repos_url":"https://api.github.com/users/yawboateng/repos","events_url":"https://api.github.com/users/yawboateng/events{/privacy}","received_events_url":"https://api.github.com/users/yawboateng/received_events","type":"User","site_admin":false},"created_at":"2018-02-19T16:55:36Z","updated_at":"2018-02-19T16:55:36Z","author_association":"NONE","body":"hit it again:\r\n```\r\n[2018-02-19T16:52:09,863][ERROR][o.e.g.GatewayMetaState   ] [elasticsearch-data-ss-2] failed to read local state, exiting...\r\njava.lang.IllegalStateException: index and alias names need to be unique, but the following duplicates were found [.kibana (alias of [.kibana-6/_ixMMN4zRK2YKBzfQmUwzA])]\r\n\tat org.elasticsearch.cluster.metadata.MetaData$Builder.build(MetaData.java:948) ~[elasticsearch-6.1.1.jar:6.1.1]\r\n```\r\n\r\nNote i did  not recreate the steps: https://github.com/elastic/elasticsearch/issues/28351#issuecomment-366189216","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/366858066","html_url":"https://github.com/elastic/elasticsearch/issues/28351#issuecomment-366858066","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28351","id":366858066,"node_id":"MDEyOklzc3VlQ29tbWVudDM2Njg1ODA2Ng==","user":{"login":"yawboateng","id":17864529,"node_id":"MDQ6VXNlcjE3ODY0NTI5","avatar_url":"https://avatars1.githubusercontent.com/u/17864529?v=4","gravatar_id":"","url":"https://api.github.com/users/yawboateng","html_url":"https://github.com/yawboateng","followers_url":"https://api.github.com/users/yawboateng/followers","following_url":"https://api.github.com/users/yawboateng/following{/other_user}","gists_url":"https://api.github.com/users/yawboateng/gists{/gist_id}","starred_url":"https://api.github.com/users/yawboateng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yawboateng/subscriptions","organizations_url":"https://api.github.com/users/yawboateng/orgs","repos_url":"https://api.github.com/users/yawboateng/repos","events_url":"https://api.github.com/users/yawboateng/events{/privacy}","received_events_url":"https://api.github.com/users/yawboateng/received_events","type":"User","site_admin":false},"created_at":"2018-02-20T03:36:01Z","updated_at":"2018-02-20T03:40:16Z","author_association":"NONE","body":"just upgraded from 6.1 to 6.2 and kibana is showing:\r\n\r\n`plugin:elasticsearch@6.2.1 | Your Kibana index is out of date, reset it or use the X-Pack upgrade assistant.`\r\n\r\nwhich i believe ill have to rerun: https://github.com/elastic/elasticsearch/issues/28351#issuecomment-365998467 again but problem is after a few days, the data nodes will crash with error: https://github.com/elastic/elasticsearch/issues/28351#issuecomment-366749920\r\n","performed_via_github_app":null}]