{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/39235","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39235/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39235/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39235/events","html_url":"https://github.com/elastic/elasticsearch/issues/39235","id":412887152,"node_id":"MDU6SXNzdWU0MTI4ODcxNTI=","number":39235,"title":"Delete elasticsearch old indices based on created_time","user":{"login":"naithagoni","id":11850500,"node_id":"MDQ6VXNlcjExODUwNTAw","avatar_url":"https://avatars3.githubusercontent.com/u/11850500?v=4","gravatar_id":"","url":"https://api.github.com/users/naithagoni","html_url":"https://github.com/naithagoni","followers_url":"https://api.github.com/users/naithagoni/followers","following_url":"https://api.github.com/users/naithagoni/following{/other_user}","gists_url":"https://api.github.com/users/naithagoni/gists{/gist_id}","starred_url":"https://api.github.com/users/naithagoni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naithagoni/subscriptions","organizations_url":"https://api.github.com/users/naithagoni/orgs","repos_url":"https://api.github.com/users/naithagoni/repos","events_url":"https://api.github.com/users/naithagoni/events{/privacy}","received_events_url":"https://api.github.com/users/naithagoni/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-02-21T11:52:53Z","updated_at":"2019-02-21T13:04:36Z","closed_at":"2019-02-21T13:04:36Z","author_association":"NONE","active_lock_reason":null,"body":"\r\nI have a question regarding deleting the indices by date_formant(created date). I am using elasticsearch 6.4\r\n\r\nFor example, I have a indices structure as below:\r\n\r\nlogstash-2019.03.21\r\nlogstash-2019.03.20\r\nlogstash-2019.03.15\r\nlogstash-2019.03.10\r\nlogstash-2019.03.12\r\nI want to delete the indices (not the documents) let say 3 days older`\r\n\r\nNOTE: I have also used different ways, for example.\r\n\r\nusing date math: query {index: '%3Clogstash-%7Bnow-3d%7D%3E'}. this way, it only apply for the single index.\r\n2.\r\n\r\nlet query = {\r\n  index: 'logstash*',\r\n  headers: null,\r\n  body: {\r\n    query: {\r\n      range: {\r\n        '@timestamp': {\r\n          lt: 'now-2d'\r\n        },\r\n      },\r\n    },\r\n  },\r\n};\r\nthis deletes the documents not the indices.\r\n\r\n3. I am not(do not want) using Elasticsearch-curator.","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}