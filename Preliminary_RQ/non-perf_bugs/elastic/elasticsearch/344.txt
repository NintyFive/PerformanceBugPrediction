{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/344","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/344/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/344/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/344/events","html_url":"https://github.com/elastic/elasticsearch/issues/344","id":296603,"node_id":"MDU6SXNzdWUyOTY2MDM=","number":344,"title":"Frequent \"error: \"MasterNotDiscoveredException[]\" when starting in EC2 w/ S3 gateway","user":{"login":"ppearcy","id":307414,"node_id":"MDQ6VXNlcjMwNzQxNA==","avatar_url":"https://avatars3.githubusercontent.com/u/307414?v=4","gravatar_id":"","url":"https://api.github.com/users/ppearcy","html_url":"https://github.com/ppearcy","followers_url":"https://api.github.com/users/ppearcy/followers","following_url":"https://api.github.com/users/ppearcy/following{/other_user}","gists_url":"https://api.github.com/users/ppearcy/gists{/gist_id}","starred_url":"https://api.github.com/users/ppearcy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppearcy/subscriptions","organizations_url":"https://api.github.com/users/ppearcy/orgs","repos_url":"https://api.github.com/users/ppearcy/repos","events_url":"https://api.github.com/users/ppearcy/events{/privacy}","received_events_url":"https://api.github.com/users/ppearcy/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":13,"created_at":"2010-08-31T19:52:55Z","updated_at":"2010-10-11T16:36:01Z","closed_at":"2010-09-04T04:35:44Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Running 0.10.0 w/ aws cloud plugin. \n\nI have been playing around with EC2 + S3 in order to do performance testing. Overall, things work pretty well. \n\nThe main problem I keep running into is that a new node will fail to discover the cluster. When I check cluster health on the node, it displays:\nerror: \"MasterNotDiscoveredException[]\"\n\nThe nodes just get stuck in this state and I then have to manually connect to the ones that hang and restart elasticsearch. \n\nThis seems to happen about 50% of the time and when it occurs nothing appears in the log. \n\nThis is not a blocking issue for me, as I am just doing performance testing, but if I really wanted to deploy in the cloud, this would prevent it (or at the very least, I'd need to write some monitor scripts to bounce ES when it gets in this state).\n\nThanks,\nPaul\n","closed_by":null,"performed_via_github_app":null}