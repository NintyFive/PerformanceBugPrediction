{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/5957","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5957/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5957/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5957/events","html_url":"https://github.com/elastic/elasticsearch/issues/5957","id":32355074,"node_id":"MDU6SXNzdWUzMjM1NTA3NA==","number":5957,"title":"elasticsearch randomly not responding to query","user":{"login":"SomeProgrammer85","id":7427819,"node_id":"MDQ6VXNlcjc0Mjc4MTk=","avatar_url":"https://avatars2.githubusercontent.com/u/7427819?v=4","gravatar_id":"","url":"https://api.github.com/users/SomeProgrammer85","html_url":"https://github.com/SomeProgrammer85","followers_url":"https://api.github.com/users/SomeProgrammer85/followers","following_url":"https://api.github.com/users/SomeProgrammer85/following{/other_user}","gists_url":"https://api.github.com/users/SomeProgrammer85/gists{/gist_id}","starred_url":"https://api.github.com/users/SomeProgrammer85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SomeProgrammer85/subscriptions","organizations_url":"https://api.github.com/users/SomeProgrammer85/orgs","repos_url":"https://api.github.com/users/SomeProgrammer85/repos","events_url":"https://api.github.com/users/SomeProgrammer85/events{/privacy}","received_events_url":"https://api.github.com/users/SomeProgrammer85/received_events","type":"User","site_admin":false},"labels":[{"id":111624690,"node_id":"MDU6TGFiZWwxMTE2MjQ2OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/feedback_needed","name":"feedback_needed","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":13,"created_at":"2014-04-28T12:34:46Z","updated_at":"2016-08-11T09:06:18Z","closed_at":"2014-09-24T09:05:52Z","author_association":"NONE","active_lock_reason":null,"body":"Hi folks,\n\nwe use elasticsearch since a couple of weeks and there are over 160 million of entries separated in a couple of indexes splitted by month (e.g. index_2014_01,index_2014_02,....).\nSometimes if we send a bulk query requests to the elasticsearch nodes for some requests there is no responses and no timeouts. There is no chance to reproduce this problem because it happens randomly and also on querys wich worked seconds before with a minimum response time.\nWe started to debug down to the elasticsearch transport client without success. We noticed that there was a request without response (Breakpoints where hooked in response-listener, request-listener and failure-listener) - even after a long wait time there was no response or failure. There is no exception or log-output which indicates that problem except that after a time there is a \"disconnected from node\" message. In the logs from the cluster-nodes there is no error either.\nThe only thing we noticed is that after a few minutes a NodeDisconnectedException is thrown.\nThere is not much load on the elasticsearch cluster and on our firewall all ports from 9200 to 9400 are open.\n\nOur application structure:\nTOMCAT 7 (JAVAEE-7u25) --> spring-data-elasticsearch-1.0.0.M2 --> elasticsearch-1.1.0(1.0.0 with same issue) ----------> elasticsearch (8 nodes) version 1.0.0 (JAVA-7u25)\n\nThis issue happens randomly and we have no idea where it comes from.\n","closed_by":{"login":"SomeProgrammer85","id":7427819,"node_id":"MDQ6VXNlcjc0Mjc4MTk=","avatar_url":"https://avatars2.githubusercontent.com/u/7427819?v=4","gravatar_id":"","url":"https://api.github.com/users/SomeProgrammer85","html_url":"https://github.com/SomeProgrammer85","followers_url":"https://api.github.com/users/SomeProgrammer85/followers","following_url":"https://api.github.com/users/SomeProgrammer85/following{/other_user}","gists_url":"https://api.github.com/users/SomeProgrammer85/gists{/gist_id}","starred_url":"https://api.github.com/users/SomeProgrammer85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SomeProgrammer85/subscriptions","organizations_url":"https://api.github.com/users/SomeProgrammer85/orgs","repos_url":"https://api.github.com/users/SomeProgrammer85/repos","events_url":"https://api.github.com/users/SomeProgrammer85/events{/privacy}","received_events_url":"https://api.github.com/users/SomeProgrammer85/received_events","type":"User","site_admin":false},"performed_via_github_app":null}