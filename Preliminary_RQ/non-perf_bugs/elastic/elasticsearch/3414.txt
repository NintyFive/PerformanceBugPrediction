{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/3414","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3414/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3414/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3414/events","html_url":"https://github.com/elastic/elasticsearch/issues/3414","id":17430131,"node_id":"MDU6SXNzdWUxNzQzMDEzMQ==","number":3414,"title":"String values are stored in float field","user":{"login":"shaoweite","id":5125384,"node_id":"MDQ6VXNlcjUxMjUzODQ=","avatar_url":"https://avatars1.githubusercontent.com/u/5125384?v=4","gravatar_id":"","url":"https://api.github.com/users/shaoweite","html_url":"https://github.com/shaoweite","followers_url":"https://api.github.com/users/shaoweite/followers","following_url":"https://api.github.com/users/shaoweite/following{/other_user}","gists_url":"https://api.github.com/users/shaoweite/gists{/gist_id}","starred_url":"https://api.github.com/users/shaoweite/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shaoweite/subscriptions","organizations_url":"https://api.github.com/users/shaoweite/orgs","repos_url":"https://api.github.com/users/shaoweite/repos","events_url":"https://api.github.com/users/shaoweite/events{/privacy}","received_events_url":"https://api.github.com/users/shaoweite/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"assignees":[{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false}],"milestone":null,"comments":6,"created_at":"2013-07-31T01:22:45Z","updated_at":"2013-10-15T16:10:57Z","closed_at":"2013-10-15T16:10:57Z","author_association":"NONE","active_lock_reason":null,"body":"(Version 0.90.0) I have a float field defined in a mapping and I was able to put a string values into the float field as long as the string value can pass java.lang.Float.parserFloat(). Later sorting on this field will result in exception like this:\n\n```\n        at org.elasticsearch.search.SearchService.parseSource(SearchService.java:573)\n        at org.elasticsearch.search.SearchService.createContext(SearchService.java:484)\n        at org.elasticsearch.search.SearchService.createContext(SearchService.java:469)\n        at org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:462)\n        at org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:234)\n        at org.elasticsearch.search.action.SearchServiceTransportAction.sendExecuteQuery(SearchServiceTransportAc\ntion.java:141)\n        at org.elasticsearch.action.search.type.TransportSearchQueryThenFetchAction$AsyncAction.sendExecuteFirstP\nhase(TransportSearchQueryThenFetchAction.java:80)\n        at org.elasticsearch.action.search.type.TransportSearchTypeAction$BaseAsyncAction.performFirstPhase(Trans\nportSearchTypeAction.java:205)\n        at org.elasticsearch.action.search.type.TransportSearchTypeAction$BaseAsyncAction.performFirstPhase(Trans\nportSearchTypeAction.java:192)\n        at org.elasticsearch.action.search.type.TransportSearchTypeAction$BaseAsyncAction$2.run(TransportSearchTy\npeAction.java:178)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1146)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n        at java.lang.Thread.run(Thread.java:679)\nCaused by: org.elasticsearch.search.facet.FacetPhaseExecutionException: Facet [latitude]: value_field [loc_lat] isn't a number field, but a string\n        at org.elasticsearch.search.facet.termsstats.TermsStatsFacetParser.parse(TermsStatsFacetParser.java:127)\n        at org.elasticsearch.search.facet.FacetParseElement.parse(FacetParseElement.java:92)\n        at org.elasticsearch.search.SearchService.parseSource(SearchService.java:561)\n        ... 12 more\n```\n","closed_by":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"performed_via_github_app":null}