{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/51848","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51848/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51848/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51848/events","html_url":"https://github.com/elastic/elasticsearch/issues/51848","id":559553568,"node_id":"MDU6SXNzdWU1NTk1NTM1Njg=","number":51848,"title":"Elasticsearch cannot be started after an upgrade: Temporary file directory [${ES_TMPDIR}] does not exist or is not accessible","user":{"login":"nelyanne-v","id":60167176,"node_id":"MDQ6VXNlcjYwMTY3MTc2","avatar_url":"https://avatars1.githubusercontent.com/u/60167176?v=4","gravatar_id":"","url":"https://api.github.com/users/nelyanne-v","html_url":"https://github.com/nelyanne-v","followers_url":"https://api.github.com/users/nelyanne-v/followers","following_url":"https://api.github.com/users/nelyanne-v/following{/other_user}","gists_url":"https://api.github.com/users/nelyanne-v/gists{/gist_id}","starred_url":"https://api.github.com/users/nelyanne-v/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nelyanne-v/subscriptions","organizations_url":"https://api.github.com/users/nelyanne-v/orgs","repos_url":"https://api.github.com/users/nelyanne-v/repos","events_url":"https://api.github.com/users/nelyanne-v/events{/privacy}","received_events_url":"https://api.github.com/users/nelyanne-v/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-02-04T08:12:09Z","updated_at":"2020-02-04T11:00:10Z","closed_at":"2020-02-04T11:00:10Z","author_association":"NONE","active_lock_reason":null,"body":"<!--\r\n\r\n** Please read the guidelines below. **\r\n\r\nIssues that do not follow these guidelines are likely to be closed.\r\n\r\n1.  GitHub is reserved for bug reports and feature requests. The best place to\r\n    ask a general question is at the Elastic [forums](https://discuss.elastic.co).\r\n    GitHub is not the place for general questions.\r\n\r\n2.  Is this bug report or feature request for a supported OS? If not, it\r\n    is likely to be closed.  See https://www.elastic.co/support/matrix#show_os\r\n\r\n3.  Please fill out EITHER the feature request block or the bug report block\r\n    below, and delete the other block.\r\n\r\n-->\r\n\r\n<!-- Bug report -->\r\n\r\n**Elasticsearch version** (`bin/elasticsearch --version`): 7.5.2\r\n\r\n**Plugins installed**: [kibana, x-pack]\r\n\r\n**JVM version** (`java -version`): Java(TM) SE Runtime Environment (build 1.8.0_112-b15)\r\n\r\n\r\n**OS version** (`uname -a` if on a Unix-like system): CentOS 7\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\n\r\nI am trying to upgrade my Elasticsearch cluster from 7.4.0 to 7.5.2. I successfully upgraded the first node, but having some issues with the second one. I used the rpm files from https://www.elastic.co/downloads/elasticsearch. \r\n\r\n**Steps to reproduce**:\r\n\r\n 1. sudo rpm -Uvh elasticsearch-7.5.2-x86_64.rpm\r\n 2. systemctl daemon-reload\r\n 3. sudo systemctl start elasticsearch.service\r\n\r\nService cannot be started, see the logs below.\r\nI saw that there was another topic mentioning the same error message ([https://github.com/elastic/elasticsearch/issues/40812](url)), but it doesn't help me much.\r\n\r\n**Provide logs (if relevant)**:\r\n\r\n> -- Unit elasticsearch.service has begun starting up.\r\nFeb 04 16:01:59 xxx-server-3 elasticsearch[129216]: OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future rele\r\nFeb 04 16:02:00 xxx-server-3 elasticsearch[129216]: ERROR: Temporary file directory [${ES_TMPDIR}] does not exist or is not accessible\r\nFeb 04 16:02:00 xxx-server-3 systemd[1]: elasticsearch.service: main process exited, code=exited, status=78/n/a\r\nFeb 04 16:02:00 xxx-server-3 systemd[1]: Failed to start Elasticsearch.\r\n-- Subject: Unit elasticsearch.service has failed\r\n-- Defined-By: systemd\r\n-- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel\r\n--\r\n-- Unit elasticsearch.service has failed.\r\n--\r\n-- The result is failed.\r\nFeb 04 16:02:00 xxx-server-3 systemd[1]: Unit elasticsearch.service entered failed state.\r\nFeb 04 16:02:00 xxx-server-3 systemd[1]: elasticsearch.service failed.\r\n","closed_by":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"performed_via_github_app":null}