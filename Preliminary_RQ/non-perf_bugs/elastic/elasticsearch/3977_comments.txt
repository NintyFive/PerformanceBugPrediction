[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/59186751","html_url":"https://github.com/elastic/elasticsearch/issues/3977#issuecomment-59186751","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3977","id":59186751,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTg2NzUx","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2014-10-15T10:33:43Z","updated_at":"2014-10-15T10:33:43Z","author_association":"CONTRIBUTOR","body":"Hi @spinscale,\n\nI cannot reopen issues, but in fact the problem here is not completely solved. Should I open a new issue? My problem is that this check introduced here only works if the weight is a number. Unfortunately the parser has a bit strange logic: Your new code is not executed if the client (creating the JSON) is passing the weight as \"string\", e.g. { \"weight\" : \"10\" }\n\nIn fact the weight is then ignored completely and not even an error is given (this is an additional bug). This caused me headaches yesterday, because the weight was given as JSON string in the indexing document. For other fields this makes no difference while indexing.\n\nThe parser for completion fields should be improved to have the outer check on the JSON key first and later check the types, not vice versa.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/59186949","html_url":"https://github.com/elastic/elasticsearch/issues/3977#issuecomment-59186949","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3977","id":59186949,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTg2OTQ5","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-10-15T10:35:50Z","updated_at":"2014-10-15T10:35:50Z","author_association":"CONTRIBUTOR","body":"Hi @uschindler \n\nyes please open another issue for this\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/59187486","html_url":"https://github.com/elastic/elasticsearch/issues/3977#issuecomment-59187486","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3977","id":59187486,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTg3NDg2","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2014-10-15T10:41:28Z","updated_at":"2014-10-15T10:41:28Z","author_association":"CONTRIBUTOR","body":"OK. done.\n","performed_via_github_app":null}]