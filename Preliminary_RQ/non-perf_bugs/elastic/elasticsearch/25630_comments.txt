[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/314137213","html_url":"https://github.com/elastic/elasticsearch/issues/25630#issuecomment-314137213","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25630","id":314137213,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNDEzNzIxMw==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2017-07-10T15:14:05Z","updated_at":"2017-07-10T15:14:05Z","author_association":"MEMBER","body":"I cannot reproduce the difference between GET/POST you report. I also get the failure you are seeing, I think this might be an error in the documentation for the span near query. My understanding from reading the SpanNearQuery Lucene is that it always requires at least two clauses. Maybe @jpountz or @jimczi can confirm this? In this case we should update the documentation and maybe throw an error earlier in the Elasticsearch query builder if we only have one clause.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/314159710","html_url":"https://github.com/elastic/elasticsearch/issues/25630#issuecomment-314159710","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25630","id":314159710,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNDE1OTcxMA==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2017-07-10T16:27:47Z","updated_at":"2017-07-10T16:27:47Z","author_association":"MEMBER","body":"I think it should be handled automatically in ES. I fixed the auto-generated case where another query creates a SpanNearQuery with a single clause but I did not change the SpanNearQueryBuilder itself.\r\nWe could also fix this in Lucene since I am not sure why it throws an error instead of just rewriting the query internally. I'll check","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/314165827","html_url":"https://github.com/elastic/elasticsearch/issues/25630#issuecomment-314165827","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25630","id":314165827,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNDE2NTgyNw==","user":{"login":"juretta","id":746,"node_id":"MDQ6VXNlcjc0Ng==","avatar_url":"https://avatars0.githubusercontent.com/u/746?v=4","gravatar_id":"","url":"https://api.github.com/users/juretta","html_url":"https://github.com/juretta","followers_url":"https://api.github.com/users/juretta/followers","following_url":"https://api.github.com/users/juretta/following{/other_user}","gists_url":"https://api.github.com/users/juretta/gists{/gist_id}","starred_url":"https://api.github.com/users/juretta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/juretta/subscriptions","organizations_url":"https://api.github.com/users/juretta/orgs","repos_url":"https://api.github.com/users/juretta/repos","events_url":"https://api.github.com/users/juretta/events{/privacy}","received_events_url":"https://api.github.com/users/juretta/received_events","type":"User","site_admin":false},"created_at":"2017-07-10T16:48:58Z","updated_at":"2017-07-10T16:48:58Z","author_association":"NONE","body":"Ok, my bad. My test client (Paw) didn't actually sent the request body. Just using curl (as I added as an example, doh) does show that it fails regardless whether it is `GET` or `POST`. So I see the same @cbuescher is seeing.\r\n\r\nSorry for the confusion.","performed_via_github_app":null}]