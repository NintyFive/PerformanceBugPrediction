[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384595808","html_url":"https://github.com/elastic/elasticsearch/issues/30171#issuecomment-384595808","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30171","id":384595808,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDU5NTgwOA==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2018-04-26T10:46:58Z","updated_at":"2018-04-26T10:46:58Z","author_association":"MEMBER","body":"In order to use params with your script you need to specify your `script` field as a JSON object in the format detailed here: https://www.elastic.co/guide/en/elasticsearch/reference/6.2/modules-scripting-using.html\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384875832","html_url":"https://github.com/elastic/elasticsearch/issues/30171#issuecomment-384875832","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30171","id":384875832,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDg3NTgzMg==","user":{"login":"yunmengxin","id":29886090,"node_id":"MDQ6VXNlcjI5ODg2MDkw","avatar_url":"https://avatars1.githubusercontent.com/u/29886090?v=4","gravatar_id":"","url":"https://api.github.com/users/yunmengxin","html_url":"https://github.com/yunmengxin","followers_url":"https://api.github.com/users/yunmengxin/followers","following_url":"https://api.github.com/users/yunmengxin/following{/other_user}","gists_url":"https://api.github.com/users/yunmengxin/gists{/gist_id}","starred_url":"https://api.github.com/users/yunmengxin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yunmengxin/subscriptions","organizations_url":"https://api.github.com/users/yunmengxin/orgs","repos_url":"https://api.github.com/users/yunmengxin/repos","events_url":"https://api.github.com/users/yunmengxin/events{/privacy}","received_events_url":"https://api.github.com/users/yunmengxin/received_events","type":"User","site_admin":false},"created_at":"2018-04-27T06:20:32Z","updated_at":"2018-04-27T06:20:32Z","author_association":"NONE","body":"thx","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/389200582","html_url":"https://github.com/elastic/elasticsearch/issues/30171#issuecomment-389200582","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30171","id":389200582,"node_id":"MDEyOklzc3VlQ29tbWVudDM4OTIwMDU4Mg==","user":{"login":"carlos-olr","id":2043739,"node_id":"MDQ6VXNlcjIwNDM3Mzk=","avatar_url":"https://avatars0.githubusercontent.com/u/2043739?v=4","gravatar_id":"","url":"https://api.github.com/users/carlos-olr","html_url":"https://github.com/carlos-olr","followers_url":"https://api.github.com/users/carlos-olr/followers","following_url":"https://api.github.com/users/carlos-olr/following{/other_user}","gists_url":"https://api.github.com/users/carlos-olr/gists{/gist_id}","starred_url":"https://api.github.com/users/carlos-olr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/carlos-olr/subscriptions","organizations_url":"https://api.github.com/users/carlos-olr/orgs","repos_url":"https://api.github.com/users/carlos-olr/repos","events_url":"https://api.github.com/users/carlos-olr/events{/privacy}","received_events_url":"https://api.github.com/users/carlos-olr/received_events","type":"User","site_admin":false},"created_at":"2018-05-15T15:04:10Z","updated_at":"2018-05-15T15:04:10Z","author_association":"NONE","body":"@chroje Can you post the correction?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/442299169","html_url":"https://github.com/elastic/elasticsearch/issues/30171#issuecomment-442299169","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30171","id":442299169,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjI5OTE2OQ==","user":{"login":"hanxirui","id":5877842,"node_id":"MDQ6VXNlcjU4Nzc4NDI=","avatar_url":"https://avatars0.githubusercontent.com/u/5877842?v=4","gravatar_id":"","url":"https://api.github.com/users/hanxirui","html_url":"https://github.com/hanxirui","followers_url":"https://api.github.com/users/hanxirui/followers","following_url":"https://api.github.com/users/hanxirui/following{/other_user}","gists_url":"https://api.github.com/users/hanxirui/gists{/gist_id}","starred_url":"https://api.github.com/users/hanxirui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hanxirui/subscriptions","organizations_url":"https://api.github.com/users/hanxirui/orgs","repos_url":"https://api.github.com/users/hanxirui/repos","events_url":"https://api.github.com/users/hanxirui/events{/privacy}","received_events_url":"https://api.github.com/users/hanxirui/received_events","type":"User","site_admin":false},"created_at":"2018-11-28T02:48:36Z","updated_at":"2018-11-28T02:48:36Z","author_association":"NONE","body":"@chroje Can you post the correction?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/491840049","html_url":"https://github.com/elastic/elasticsearch/issues/30171#issuecomment-491840049","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30171","id":491840049,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTg0MDA0OQ==","user":{"login":"DanielVF","id":837,"node_id":"MDQ6VXNlcjgzNw==","avatar_url":"https://avatars1.githubusercontent.com/u/837?v=4","gravatar_id":"","url":"https://api.github.com/users/DanielVF","html_url":"https://github.com/DanielVF","followers_url":"https://api.github.com/users/DanielVF/followers","following_url":"https://api.github.com/users/DanielVF/following{/other_user}","gists_url":"https://api.github.com/users/DanielVF/gists{/gist_id}","starred_url":"https://api.github.com/users/DanielVF/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DanielVF/subscriptions","organizations_url":"https://api.github.com/users/DanielVF/orgs","repos_url":"https://api.github.com/users/DanielVF/repos","events_url":"https://api.github.com/users/DanielVF/events{/privacy}","received_events_url":"https://api.github.com/users/DanielVF/received_events","type":"User","site_admin":false},"created_at":"2019-05-13T14:13:55Z","updated_at":"2019-05-13T14:14:31Z","author_association":"NONE","body":"@hanxirui, @carlos-olr \r\n\r\nBefore, with this error:\r\n```\r\nscript_score: {\r\n  params: { 'foo': 'bar'},\r\n  script: '...'\r\n}\r\n```\r\n\r\nAfter, correct:\r\n```\r\nscript_score: {\r\n  script: {\r\n    params: { 'foo': 'bar'},\r\n    source: '...'\r\n  }\r\n}\r\n```\r\n\r\nBasically, the params have to be underneath the `script` object, not under the `script_score` object. In order to do this, you need to switch to using the long form of the `script` object.\r\n\r\nAnd a big thanks to @colings86, since I was beating my head today against this very error.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/498476481","html_url":"https://github.com/elastic/elasticsearch/issues/30171#issuecomment-498476481","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30171","id":498476481,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODQ3NjQ4MQ==","user":{"login":"ronakvora","id":5076641,"node_id":"MDQ6VXNlcjUwNzY2NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/5076641?v=4","gravatar_id":"","url":"https://api.github.com/users/ronakvora","html_url":"https://github.com/ronakvora","followers_url":"https://api.github.com/users/ronakvora/followers","following_url":"https://api.github.com/users/ronakvora/following{/other_user}","gists_url":"https://api.github.com/users/ronakvora/gists{/gist_id}","starred_url":"https://api.github.com/users/ronakvora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ronakvora/subscriptions","organizations_url":"https://api.github.com/users/ronakvora/orgs","repos_url":"https://api.github.com/users/ronakvora/repos","events_url":"https://api.github.com/users/ronakvora/events{/privacy}","received_events_url":"https://api.github.com/users/ronakvora/received_events","type":"User","site_admin":false},"created_at":"2019-06-04T00:43:40Z","updated_at":"2019-06-04T00:43:40Z","author_association":"NONE","body":"Also, in case anyone else runs into this issue, the accessing the param ```foo``` above in ```source``` is done via ```params.foo```","performed_via_github_app":null}]