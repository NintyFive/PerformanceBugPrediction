[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/665214803","html_url":"https://github.com/elastic/elasticsearch/issues/60330#issuecomment-665214803","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/60330","id":665214803,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTIxNDgwMw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-07-28T18:50:33Z","updated_at":"2020-07-28T18:50:33Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed (:Distributed/Snapshot/Restore)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/665216785","html_url":"https://github.com/elastic/elasticsearch/issues/60330#issuecomment-665216785","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/60330","id":665216785,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTIxNjc4NQ==","user":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"created_at":"2020-07-28T18:54:53Z","updated_at":"2020-07-28T19:03:29Z","author_association":"MEMBER","body":"We are tripping an assertion here in a BwC test. \r\n\r\n```\r\njava.lang.Thread.run(Thread.java:748)\\n\"}],\"type\":\"null_pointer_exception\",\"reason\":null,\"stack_trace\":\"java.lang.NullPointerException\\n\\tat org.elasticsearch.cluster.SnapshotsInProgress$Entry.assertShardsConsistent(SnapshotsInProgress.java:164)\\n\\tat org.elasticsearch.cluster.SnapshotsInProgress$Entry.<init>(SnapshotsInProgress.java:118)\\n\\tat org.elasticsearch.cluster.SnapshotsInProgress$Entry.<init>(SnapshotsInProgress.java:186)\\n\\tat org.elasticsearch.snapshots.SnapshotsService$3.lambda$doRun$1(SnapshotsService.java:568)\\n\\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:63)\\n\\tat org.elasticsearch.common.util.concurrent.ListenableFuture$1.doRun(ListenableFuture.java:112)\\n\\tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)\\n\\tat org.elasticsearch.common.util.concurrent.EsExecutors$DirectExecutorService.execute(EsExecutors.java:226)\\n\\tat org.elasticsearch.common.util.concurrent.ListenableFuture.notifyListener(ListenableFuture.java:106)\\n\\tat org.elasticsearch.common.util.concurrent.ListenableFuture.lambda$done$0(ListenableFuture.java:98)\\n\\tat java.util.ArrayList.forEach(ArrayList.java:1257)\\n\\tat org.elasticsearch.common.util.concurrent.ListenableFuture.done(ListenableFuture.java:98)\\n\\tat org.elasticsearch.common.util.concurrent.BaseFuture.set(BaseFuture.java:144)\\n\\tat org.elasticsearch.common.util.concurrent.ListenableFuture.onResponse(ListenableFuture.java:127)\\n\\tat org.elasticsearch.action.StepListener.innerOnResponse(StepListener.java:62)\\n\\tat org.elasticsearch.action.NotifyOnceListener.onResponse(NotifyOnceListener.java:40)\\n\\tat org.elasticsearch.repositories.blobstore.BlobStoreRepository.doGetRepositoryData(BlobStoreRepository.java:1273)\\n\\tat org.elasticsearch.action.ActionRunnable$2.doRun(ActionRunnable.java:73)\\n\\tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:710)\\n\\tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)\\n\\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\\n\\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\\n\\tat java.lang.Thread.run(Thread.java:748)\\n\"},\"status\":500}]\r\n            at org.junit.Assert.fail(Assert.java:88)\r\n            at org.elasticsearch.test.rest.yaml.section.DoSection.execute(DoSection.java:297)\r\n            at org.elasticsearch.test.rest.yaml.ESClientYamlSuiteTestCase.executeSection(ESClientYamlSuiteTestCase.java:407)\r\n            ... 37 more\r\n```\r\n\r\nshould be something obvious and easy to fix, I'll fix it tomorrow.\r\n\r\nEDIT: jup, in `org.elasticsearch.snapshots.SnapshotsService#beginSnapshot` we pass `null` for the shards map and NPE out. Will fix in the morning","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/665528596","html_url":"https://github.com/elastic/elasticsearch/issues/60330#issuecomment-665528596","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/60330","id":665528596,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTUyODU5Ng==","user":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"created_at":"2020-07-29T08:47:41Z","updated_at":"2020-07-29T08:47:41Z","author_association":"MEMBER","body":"Fixed in https://github.com/elastic/elasticsearch/pull/60355","performed_via_github_app":null}]