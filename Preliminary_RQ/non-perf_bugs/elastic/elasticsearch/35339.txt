{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/35339","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35339/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35339/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35339/events","html_url":"https://github.com/elastic/elasticsearch/issues/35339","id":378319111,"node_id":"MDU6SXNzdWUzNzgzMTkxMTE=","number":35339,"title":"OpenID Connect realm support","user":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"labels":[{"id":912837951,"node_id":"MDU6TGFiZWw5MTI4Mzc5NTE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Security/Authentication","name":":Security/Authentication","color":"0e8a16","default":false,"description":"Logging in, Usernames/passwords, Realms (Native/LDAP/AD/SAML/PKI/etc)"},{"id":23172,"node_id":"MDU6TGFiZWwyMzE3Mg==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Efeature","name":">feature","color":"006b75","default":false,"description":null},{"id":158399402,"node_id":"MDU6TGFiZWwxNTgzOTk0MDI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Meta","name":"Meta","color":"e11d21","default":false,"description":null},{"id":1222918656,"node_id":"MDU6TGFiZWwxMjIyOTE4NjU2","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v7.2.0","name":"v7.2.0","color":"DDDDDD","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"assignees":[{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2018-11-07T14:46:25Z","updated_at":"2019-06-27T13:13:44Z","closed_at":"2019-06-27T13:13:43Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"This issue tracks the effort to offer an OpenID Connect authentication realm in Elasticsearch. \r\n\r\nRelevant specifications:\r\n- [OpenID Connect core](http://openid.net/specs/openid-connect-core-1_0.html)\r\n- [OpenID Connect dynamic registration](http://openid.net/specs/openid-connect-discovery-1_0.html)\r\n- [Implementer's drafts](https://openid.net/developers/specs/)\r\n\r\nElasticsearch will implement and OpenID Connect Relying Party (RP). The initial idea is that this will be handled in a similar way to the SAML Authentication realm where\r\n- Elasticsearch will implement all the necessary OpenID Connect related functionality\r\n- Elasticsearch will expose the necessary REST API endpoints\r\n- Users will be able to authenticate with OIDC via a _facilitator_ which can be Kibana (in which case the Elastic stack is the RP) or a custom web application\r\n- At the successful completion of an OIDC flow, Elasticsearch will exchange the OIDC ID token it receives from an OIDC Provider with an Elasticsearch token that can be used to authenticate future requests to Elasticsearch. \r\n\r\nTasks :\r\n\r\n- [x] Support for oAuth2 implicit flow ( as a client )\r\n- [x] Support for oAuth2 authorization code flow ( as a client )\r\n- [x] Support client (ES) authentication.\r\n- [x] Support ~OP discovery~ and static OP configuration\r\n- [x] `JWS` and `JWE` support\r\n- [x] OIDC Rest endpoints for _facilitator_ communication \r\n- [x] ID token parsing and validation\r\n- [x] Support for requests to the `userinfo` endpoint\r\n- [x] Map claims to attributes ( and thus roles )\r\n- ~Submit request for the OpenID Foundation [conformance certification](https://openid.net/certification/rp_testing)~\r\n- ~Support dynamic registration with an OP~\r\n","closed_by":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"performed_via_github_app":null}