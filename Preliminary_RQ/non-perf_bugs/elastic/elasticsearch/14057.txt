{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/14057","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14057/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14057/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14057/events","html_url":"https://github.com/elastic/elasticsearch/issues/14057","id":110813476,"node_id":"MDU6SXNzdWUxMTA4MTM0NzY=","number":14057,"title":"Cluster concurrent rebalance ignored on node allocation exclusion","user":{"login":"lb425","id":2752044,"node_id":"MDQ6VXNlcjI3NTIwNDQ=","avatar_url":"https://avatars3.githubusercontent.com/u/2752044?v=4","gravatar_id":"","url":"https://api.github.com/users/lb425","html_url":"https://github.com/lb425","followers_url":"https://api.github.com/users/lb425/followers","following_url":"https://api.github.com/users/lb425/following{/other_user}","gists_url":"https://api.github.com/users/lb425/gists{/gist_id}","starred_url":"https://api.github.com/users/lb425/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lb425/subscriptions","organizations_url":"https://api.github.com/users/lb425/orgs","repos_url":"https://api.github.com/users/lb425/repos","events_url":"https://api.github.com/users/lb425/events{/privacy}","received_events_url":"https://api.github.com/users/lb425/received_events","type":"User","site_admin":false},"labels":[{"id":837246479,"node_id":"MDU6TGFiZWw4MzcyNDY0Nzk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Allocation","name":":Distributed/Allocation","color":"0e8a16","default":false,"description":"All issues relating to the decision making around placing a shard (both master logic & on the nodes)"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"assignees":[{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2015-10-10T19:52:41Z","updated_at":"2018-02-14T14:04:53Z","closed_at":"2015-10-26T08:27:05Z","author_association":"NONE","active_lock_reason":null,"body":"The setting cluster.routing.allocation.cluster_concurrent_rebalance appears to be ignored when moving shard off a node that has been excluded from allocation with the setting cluster.routing.allocation.exclude._ip .\n\nES Version: 1.7.2\n\nRepeatedly experienced with the following steps:\nset cluster.routing.allocation.cluster_concurrent_rebalance to 1\nexclude node from allocation with cluster.routing.allocation.exclude._ip\n\nThis results in 80 shards rebalancing at a time until all shards are removed from the excluded node.\n","closed_by":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"performed_via_github_app":null}