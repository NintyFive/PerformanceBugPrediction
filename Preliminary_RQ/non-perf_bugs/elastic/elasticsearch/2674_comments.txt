[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/13956372","html_url":"https://github.com/elastic/elasticsearch/issues/2674#issuecomment-13956372","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2674","id":13956372,"node_id":"MDEyOklzc3VlQ29tbWVudDEzOTU2Mzcy","user":{"login":"Downchuck","id":141466,"node_id":"MDQ6VXNlcjE0MTQ2Ng==","avatar_url":"https://avatars1.githubusercontent.com/u/141466?v=4","gravatar_id":"","url":"https://api.github.com/users/Downchuck","html_url":"https://github.com/Downchuck","followers_url":"https://api.github.com/users/Downchuck/followers","following_url":"https://api.github.com/users/Downchuck/following{/other_user}","gists_url":"https://api.github.com/users/Downchuck/gists{/gist_id}","starred_url":"https://api.github.com/users/Downchuck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Downchuck/subscriptions","organizations_url":"https://api.github.com/users/Downchuck/orgs","repos_url":"https://api.github.com/users/Downchuck/repos","events_url":"https://api.github.com/users/Downchuck/events{/privacy}","received_events_url":"https://api.github.com/users/Downchuck/received_events","type":"User","site_admin":false},"created_at":"2013-02-22T17:16:38Z","updated_at":"2013-02-22T17:16:38Z","author_association":"NONE","body":"This nearly finishes/fixes the feature issue #2671\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/17093168","html_url":"https://github.com/elastic/elasticsearch/issues/2674#issuecomment-17093168","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2674","id":17093168,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MDkzMTY4","user":{"login":"telvis07","id":1306507,"node_id":"MDQ6VXNlcjEzMDY1MDc=","avatar_url":"https://avatars0.githubusercontent.com/u/1306507?v=4","gravatar_id":"","url":"https://api.github.com/users/telvis07","html_url":"https://github.com/telvis07","followers_url":"https://api.github.com/users/telvis07/followers","following_url":"https://api.github.com/users/telvis07/following{/other_user}","gists_url":"https://api.github.com/users/telvis07/gists{/gist_id}","starred_url":"https://api.github.com/users/telvis07/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/telvis07/subscriptions","organizations_url":"https://api.github.com/users/telvis07/orgs","repos_url":"https://api.github.com/users/telvis07/repos","events_url":"https://api.github.com/users/telvis07/events{/privacy}","received_events_url":"https://api.github.com/users/telvis07/received_events","type":"User","site_admin":false},"created_at":"2013-04-26T18:46:02Z","updated_at":"2013-04-26T18:46:02Z","author_association":"NONE","body":"In this example, shouldn't tweet/1 have user \"1\" or \"3\"? This example doesn't return hits for me but it does when I change it to 1 or 3. I have a gist here: https://gist.github.com/telvis07/5469479\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/18082512","html_url":"https://github.com/elastic/elasticsearch/issues/2674#issuecomment-18082512","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2674","id":18082512,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MDgyNTEy","user":{"login":"loris","id":8362,"node_id":"MDQ6VXNlcjgzNjI=","avatar_url":"https://avatars0.githubusercontent.com/u/8362?v=4","gravatar_id":"","url":"https://api.github.com/users/loris","html_url":"https://github.com/loris","followers_url":"https://api.github.com/users/loris/followers","following_url":"https://api.github.com/users/loris/following{/other_user}","gists_url":"https://api.github.com/users/loris/gists{/gist_id}","starred_url":"https://api.github.com/users/loris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/loris/subscriptions","organizations_url":"https://api.github.com/users/loris/orgs","repos_url":"https://api.github.com/users/loris/repos","events_url":"https://api.github.com/users/loris/events{/privacy}","received_events_url":"https://api.github.com/users/loris/received_events","type":"User","site_admin":false},"created_at":"2013-05-17T19:50:58Z","updated_at":"2013-05-17T19:50:58Z","author_association":"NONE","body":"@kimchy Quick question about using this feature vs using the IDs filter\nI have a use case where I would need to fetch IDs from an external datastore (mysql and redis) and make some get (with multi get) or search (with the IDs filter) in ElasticSearch against the list of documents matching the IDs.\nThe amount of IDs per search can vary from some dozens to a few thousands.\nThat said, will this perform poorly? Should I use the lookup term feature instead (would also mean that I would need to index the IDs and maintain sync with the primary datastores) ?\n\nI will probably implement both for benchmark purpose but would love to hear from your feedback!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/18099349","html_url":"https://github.com/elastic/elasticsearch/issues/2674#issuecomment-18099349","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2674","id":18099349,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MDk5MzQ5","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2013-05-18T11:34:05Z","updated_at":"2013-05-18T11:48:42Z","author_association":"CONTRIBUTOR","body":"If you index the terms into ES, and use the \"external terms filter\", you\nwill get significantly better performance, because:\n1. you greatly reduce the amount of network traffic\n2. you greatly reduce the amount of query parsing\n3. your filter will be cached after the first use, and thus very fast on\n   subsequent uses\n\nclint\n\nOn 17 May 2013 21:51, Loris Guignard notifications@github.com wrote:\n\n> @kimchy https://github.com/kimchy Quick question about using this\n> feature vs using the IDs filter\n> I have a use case where I would need to fetch IDs from an external\n> datastore (mysql and redis) and make some get (with multi get) or search\n> (with the IDs filter) in ElasticSearch against the list of documents\n> matching the IDs.\n> The amount of IDs per search can vary from some dozens to a few thousands.\n> That said, will this perform poorly? Should I use the lookup term feature\n> instead (would also mean that I would need to index the IDs and maintain\n> sync with the primary datastores) ?\n> \n> I will probably implement both for benchmark purpose but would love to\n> hear from your feedback!\n> \n> â€”\n> Reply to this email directly or view it on GitHubhttps://github.com/elasticsearch/elasticsearch/issues/2674#issuecomment-18082512\n> .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/32137439","html_url":"https://github.com/elastic/elasticsearch/issues/2674#issuecomment-32137439","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2674","id":32137439,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTM3NDM5","user":{"login":"junjun-zhang","id":1071695,"node_id":"MDQ6VXNlcjEwNzE2OTU=","avatar_url":"https://avatars2.githubusercontent.com/u/1071695?v=4","gravatar_id":"","url":"https://api.github.com/users/junjun-zhang","html_url":"https://github.com/junjun-zhang","followers_url":"https://api.github.com/users/junjun-zhang/followers","following_url":"https://api.github.com/users/junjun-zhang/following{/other_user}","gists_url":"https://api.github.com/users/junjun-zhang/gists{/gist_id}","starred_url":"https://api.github.com/users/junjun-zhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junjun-zhang/subscriptions","organizations_url":"https://api.github.com/users/junjun-zhang/orgs","repos_url":"https://api.github.com/users/junjun-zhang/repos","events_url":"https://api.github.com/users/junjun-zhang/events{/privacy}","received_events_url":"https://api.github.com/users/junjun-zhang/received_events","type":"User","site_admin":false},"created_at":"2014-01-12T23:07:31Z","updated_at":"2014-01-12T23:07:31Z","author_association":"NONE","body":"This is a very useful feature. Just curious whether it's possible to generalize this to support JOIN. In the case of join, the list of lookup terms is not fetched from another document, but rather it's the result of a query from a related document. Replicating this related document in all nodes can also eliminate networking.\n\nI have a use case where I need to embed a particular document under another related document as nested doc. As it is a many-to-many relationship, this embedding introduced a huge number of redundant docs. If JOIN is supported, I will not need to embed the actual doc, include a field keeping the related doc IDs will be sufficient.\n\nIt seems Solr supports join in a similar fashion: http://wiki.apache.org/solr/Join. It is somewhat limited, but if used properly, it can be very helpful.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/32183844","html_url":"https://github.com/elastic/elasticsearch/issues/2674#issuecomment-32183844","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2674","id":32183844,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMTgzODQ0","user":{"login":"mattweber","id":173955,"node_id":"MDQ6VXNlcjE3Mzk1NQ==","avatar_url":"https://avatars3.githubusercontent.com/u/173955?v=4","gravatar_id":"","url":"https://api.github.com/users/mattweber","html_url":"https://github.com/mattweber","followers_url":"https://api.github.com/users/mattweber/followers","following_url":"https://api.github.com/users/mattweber/following{/other_user}","gists_url":"https://api.github.com/users/mattweber/gists{/gist_id}","starred_url":"https://api.github.com/users/mattweber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattweber/subscriptions","organizations_url":"https://api.github.com/users/mattweber/orgs","repos_url":"https://api.github.com/users/mattweber/repos","events_url":"https://api.github.com/users/mattweber/events{/privacy}","received_events_url":"https://api.github.com/users/mattweber/received_events","type":"User","site_admin":false},"created_at":"2014-01-13T16:17:31Z","updated_at":"2014-01-13T16:17:31Z","author_association":"CONTRIBUTOR","body":"@junjun-zhang see #3278.  Hopefully @martijnvg and @kimchy will get a chance to have a look at this soon.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/94086216","html_url":"https://github.com/elastic/elasticsearch/issues/2674#issuecomment-94086216","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2674","id":94086216,"node_id":"MDEyOklzc3VlQ29tbWVudDk0MDg2MjE2","user":{"login":"brupm","id":336,"node_id":"MDQ6VXNlcjMzNg==","avatar_url":"https://avatars3.githubusercontent.com/u/336?v=4","gravatar_id":"","url":"https://api.github.com/users/brupm","html_url":"https://github.com/brupm","followers_url":"https://api.github.com/users/brupm/followers","following_url":"https://api.github.com/users/brupm/following{/other_user}","gists_url":"https://api.github.com/users/brupm/gists{/gist_id}","starred_url":"https://api.github.com/users/brupm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brupm/subscriptions","organizations_url":"https://api.github.com/users/brupm/orgs","repos_url":"https://api.github.com/users/brupm/repos","events_url":"https://api.github.com/users/brupm/events{/privacy}","received_events_url":"https://api.github.com/users/brupm/received_events","type":"User","site_admin":false},"created_at":"2015-04-17T22:09:46Z","updated_at":"2015-04-17T22:10:54Z","author_association":"NONE","body":"In this example: \n\n``` son\ncurl -XGET localhost:9200/tweets/_search -d '{\n  \"query\" : {\n    \"filtered\" : {\n        \"filter\" : {\n            \"terms\" : {\n                \"user\" : {\n                    \"index\" : \"users\",\n                    \"type\" : \"user\",\n                    \"id\" : \"2\",\n                    \"path\" : \"friends\"\n                }\n            }\n        }\n    }\n  }\n}\n```\n\nSay I wanted to pass an array of ids instead of a single id as it's shown `\"id\" : \"2\"` \n\nReason is I have several documents I want to combine.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/96216654","html_url":"https://github.com/elastic/elasticsearch/issues/2674#issuecomment-96216654","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2674","id":96216654,"node_id":"MDEyOklzc3VlQ29tbWVudDk2MjE2NjU0","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-04-25T14:41:31Z","updated_at":"2015-04-25T14:41:31Z","author_association":"CONTRIBUTOR","body":"@brupm then just use several terms lookup filters, wrapped in a `bool.should` filter.  Doing this lookup is not cheap, so I would prefer not to add syntax that makes it look cheap to the naive user.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/96250712","html_url":"https://github.com/elastic/elasticsearch/issues/2674#issuecomment-96250712","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2674","id":96250712,"node_id":"MDEyOklzc3VlQ29tbWVudDk2MjUwNzEy","user":{"login":"brupm","id":336,"node_id":"MDQ6VXNlcjMzNg==","avatar_url":"https://avatars3.githubusercontent.com/u/336?v=4","gravatar_id":"","url":"https://api.github.com/users/brupm","html_url":"https://github.com/brupm","followers_url":"https://api.github.com/users/brupm/followers","following_url":"https://api.github.com/users/brupm/following{/other_user}","gists_url":"https://api.github.com/users/brupm/gists{/gist_id}","starred_url":"https://api.github.com/users/brupm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brupm/subscriptions","organizations_url":"https://api.github.com/users/brupm/orgs","repos_url":"https://api.github.com/users/brupm/repos","events_url":"https://api.github.com/users/brupm/events{/privacy}","received_events_url":"https://api.github.com/users/brupm/received_events","type":"User","site_admin":false},"created_at":"2015-04-25T18:09:16Z","updated_at":"2015-04-25T18:09:23Z","author_association":"NONE","body":"Is there an upper limit on who many terms filters I can have wrapped in a bool.should?  @clintongormley - thank you!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/96413672","html_url":"https://github.com/elastic/elasticsearch/issues/2674#issuecomment-96413672","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2674","id":96413672,"node_id":"MDEyOklzc3VlQ29tbWVudDk2NDEzNjcy","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-04-26T17:52:05Z","updated_at":"2015-04-26T17:52:05Z","author_association":"CONTRIBUTOR","body":"Probably 1024, which should be more than enough...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/251592208","html_url":"https://github.com/elastic/elasticsearch/issues/2674#issuecomment-251592208","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2674","id":251592208,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MTU5MjIwOA==","user":{"login":"banupriya20","id":17703342,"node_id":"MDQ6VXNlcjE3NzAzMzQy","avatar_url":"https://avatars1.githubusercontent.com/u/17703342?v=4","gravatar_id":"","url":"https://api.github.com/users/banupriya20","html_url":"https://github.com/banupriya20","followers_url":"https://api.github.com/users/banupriya20/followers","following_url":"https://api.github.com/users/banupriya20/following{/other_user}","gists_url":"https://api.github.com/users/banupriya20/gists{/gist_id}","starred_url":"https://api.github.com/users/banupriya20/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/banupriya20/subscriptions","organizations_url":"https://api.github.com/users/banupriya20/orgs","repos_url":"https://api.github.com/users/banupriya20/repos","events_url":"https://api.github.com/users/banupriya20/events{/privacy}","received_events_url":"https://api.github.com/users/banupriya20/received_events","type":"User","site_admin":false},"created_at":"2016-10-05T06:24:42Z","updated_at":"2016-10-05T06:24:42Z","author_association":"NONE","body":"please provide a suggestion on this Index 1 and index 2 had common entity (Ex. Empl no.)\nhow to Create join query to search on index1 and get the document from index2 based on the common entity(emp no)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/330193588","html_url":"https://github.com/elastic/elasticsearch/issues/2674#issuecomment-330193588","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2674","id":330193588,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDE5MzU4OA==","user":{"login":"saralamuralikrishna","id":9860533,"node_id":"MDQ6VXNlcjk4NjA1MzM=","avatar_url":"https://avatars1.githubusercontent.com/u/9860533?v=4","gravatar_id":"","url":"https://api.github.com/users/saralamuralikrishna","html_url":"https://github.com/saralamuralikrishna","followers_url":"https://api.github.com/users/saralamuralikrishna/followers","following_url":"https://api.github.com/users/saralamuralikrishna/following{/other_user}","gists_url":"https://api.github.com/users/saralamuralikrishna/gists{/gist_id}","starred_url":"https://api.github.com/users/saralamuralikrishna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saralamuralikrishna/subscriptions","organizations_url":"https://api.github.com/users/saralamuralikrishna/orgs","repos_url":"https://api.github.com/users/saralamuralikrishna/repos","events_url":"https://api.github.com/users/saralamuralikrishna/events{/privacy}","received_events_url":"https://api.github.com/users/saralamuralikrishna/received_events","type":"User","site_admin":false},"created_at":"2017-09-18T11:32:46Z","updated_at":"2017-09-18T11:32:46Z","author_association":"NONE","body":"I am getting only 400 even if the lookup type has 524 documnts. any suggestion on what could be wrong. below is the query\r\n{\"from\":0,\"size\":1000,\"sort\":[{\"Id\":{\"order\":\"asc\"}}],\"query\":{\"terms\":{\"Id.Raw\":{\"index\":\"myindex\",\"type\":\"Infos\",\"id\":32939,\"path\":\"ArticleNumbers\"}}}}","performed_via_github_app":null}]