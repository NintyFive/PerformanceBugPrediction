[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/232156804","html_url":"https://github.com/elastic/elasticsearch/issues/19390#issuecomment-232156804","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19390","id":232156804,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMjE1NjgwNA==","user":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"created_at":"2016-07-12T19:42:09Z","updated_at":"2016-07-12T19:42:09Z","author_association":"MEMBER","body":"++\n\nIt's also confusing because the syntax is only subtly different from the template search request.  I was just helping a user on the forums who was confused why their `\"size\"` parameter wasn't being applied.  Turns out they were using a template query instead of template search request on accident.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/232180615","html_url":"https://github.com/elastic/elasticsearch/issues/19390#issuecomment-232180615","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19390","id":232180615,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMjE4MDYxNQ==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-07-12T21:03:44Z","updated_at":"2016-07-12T21:03:44Z","author_association":"CONTRIBUTOR","body":"I wonder if that has an impact on https://github.com/elastic/elasticsearch/issues/19195 which might eventually want to run template queries rather than template requests? for the metrics to evaluate queries we want to be in charge of the search request the user should only specify the query?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/232288564","html_url":"https://github.com/elastic/elasticsearch/issues/19390#issuecomment-232288564","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19390","id":232288564,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMjI4ODU2NA==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2016-07-13T08:17:28Z","updated_at":"2016-07-13T08:17:28Z","author_association":"MEMBER","body":"@s1monw I would expect that the ranking evaluation API is supposed to work with actual concrete user queries rather than templated queries? I can imagine that if templating is wanted then maybe also the set of search results should be templatable (or just the entire request)? \n\nIf templating is required for other APIs too then we can think of a way to support this in general? For example maybe if the url path ends with `_template` the requests gets redirected to the template api first, templating happens and then the request is redirected to the target API. \n\nToday the validate query and the explain APIs are the only APIs that allow specifying a query and these APIs would then lose the ability to template if `template` query were to be removed. I think that this fine, because these are debug APIs. In the case a query needs to be explained that sits in file or stored template then one can use the template render api to resolve that, extract the query bit from the rendered request and then execute the explain api.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/232290171","html_url":"https://github.com/elastic/elasticsearch/issues/19390#issuecomment-232290171","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19390","id":232290171,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMjI5MDE3MQ==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-07-13T08:24:51Z","updated_at":"2016-07-13T08:24:51Z","author_association":"CONTRIBUTOR","body":"> @s1monw I would expect that the ranking evaluation API is supposed to work with actual concrete user queries rather than templated queries? I can imagine that if templating is wanted then maybe also the set of search results should be templatable (or just the entire request)?\n\nthat is not true - usually these APIs work with the user input and a template - if you bind your evaluation to a specific way how to query the API is useless. You use that for experiments so you just wanna change the template not the input data for the query. its the same reason why logging queries is useless, all you need is the data to build the query ie. the user input from the application layer\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/232295653","html_url":"https://github.com/elastic/elasticsearch/issues/19390#issuecomment-232295653","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19390","id":232295653,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMjI5NTY1Mw==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2016-07-13T08:49:06Z","updated_at":"2016-07-13T08:49:06Z","author_association":"MEMBER","body":"Thanks for explaining. I didn't exactly know how the evaluation API should work. So just to be sure the ranking evaluation request will hold a template that is used by all the specified queries to be evaluated? \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/232301623","html_url":"https://github.com/elastic/elasticsearch/issues/19390#issuecomment-232301623","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19390","id":232301623,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMjMwMTYyMw==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-07-13T09:15:26Z","updated_at":"2016-07-13T09:15:26Z","author_association":"CONTRIBUTOR","body":"I want @MaineC and @cbuescher to comment here too before we make a move\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/232456624","html_url":"https://github.com/elastic/elasticsearch/issues/19390#issuecomment-232456624","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19390","id":232456624,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMjQ1NjYyNA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-07-13T19:11:03Z","updated_at":"2016-07-13T19:11:03Z","author_association":"CONTRIBUTOR","body":"> You use that for experiments so you just wanna change the template not the input data for the query. \n\nThis would still be feasible with a search template rather than a query template.  We could evaluate the search template first, then make any changes we wanted to make on top of that, no?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/232608034","html_url":"https://github.com/elastic/elasticsearch/issues/19390#issuecomment-232608034","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19390","id":232608034,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMjYwODAzNA==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-07-14T09:01:38Z","updated_at":"2016-07-14T09:01:38Z","author_association":"CONTRIBUTOR","body":"> This would still be feasible with a search template rather than a query template. We could evaluate the search template first, then make any changes we wanted to make on top of that, no?\n\nI think this is a huge hassle, we would need to embed it ourself. we can try this but I want this to be  tested before we delete this feature.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234504927","html_url":"https://github.com/elastic/elasticsearch/issues/19390#issuecomment-234504927","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19390","id":234504927,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDUwNDkyNw==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-07-22T09:59:45Z","updated_at":"2016-07-22T09:59:45Z","author_association":"CONTRIBUTOR","body":"@martijnvg just explained me that we use could just use a script to evaluate to a string instead of a template query inside a search template, similar to what suggest collate does. I think that makes sense so I think we can just move forward here. +1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/234904355","html_url":"https://github.com/elastic/elasticsearch/issues/19390#issuecomment-234904355","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19390","id":234904355,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNDkwNDM1NQ==","user":{"login":"MaineC","id":70953,"node_id":"MDQ6VXNlcjcwOTUz","avatar_url":"https://avatars3.githubusercontent.com/u/70953?v=4","gravatar_id":"","url":"https://api.github.com/users/MaineC","html_url":"https://github.com/MaineC","followers_url":"https://api.github.com/users/MaineC/followers","following_url":"https://api.github.com/users/MaineC/following{/other_user}","gists_url":"https://api.github.com/users/MaineC/gists{/gist_id}","starred_url":"https://api.github.com/users/MaineC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaineC/subscriptions","organizations_url":"https://api.github.com/users/MaineC/orgs","repos_url":"https://api.github.com/users/MaineC/repos","events_url":"https://api.github.com/users/MaineC/events{/privacy}","received_events_url":"https://api.github.com/users/MaineC/received_events","type":"User","site_admin":false},"created_at":"2016-07-25T09:25:53Z","updated_at":"2016-07-25T09:25:53Z","author_association":"CONTRIBUTOR","body":"Sounds like a good plan to me (with the caveat that I don't know exactly how suggest collate works).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/235282576","html_url":"https://github.com/elastic/elasticsearch/issues/19390#issuecomment-235282576","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19390","id":235282576,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTI4MjU3Ng==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2016-07-26T14:21:10Z","updated_at":"2016-07-26T14:21:10Z","author_association":"MEMBER","body":"@MaineC It is basically a query that runs to verify if a candidate suggestions actually yields documents. The collate query can be specified as mustache script and the candidate suggestion is available here as a variable. Makes sense?\n","performed_via_github_app":null}]