{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/12281","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12281/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12281/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12281/events","html_url":"https://github.com/elastic/elasticsearch/issues/12281","id":95314635,"node_id":"MDU6SXNzdWU5NTMxNDYzNQ==","number":12281,"title":"Elasticsearch crashing on Windows because of problem with sigar","user":{"login":"msimos","id":11743255,"node_id":"MDQ6VXNlcjExNzQzMjU1","avatar_url":"https://avatars3.githubusercontent.com/u/11743255?v=4","gravatar_id":"","url":"https://api.github.com/users/msimos","html_url":"https://github.com/msimos","followers_url":"https://api.github.com/users/msimos/followers","following_url":"https://api.github.com/users/msimos/following{/other_user}","gists_url":"https://api.github.com/users/msimos/gists{/gist_id}","starred_url":"https://api.github.com/users/msimos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/msimos/subscriptions","organizations_url":"https://api.github.com/users/msimos/orgs","repos_url":"https://api.github.com/users/msimos/repos","events_url":"https://api.github.com/users/msimos/events{/privacy}","received_events_url":"https://api.github.com/users/msimos/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2015-07-15T23:57:27Z","updated_at":"2016-05-13T08:18:31Z","closed_at":"2015-07-17T13:32:46Z","author_association":"MEMBER","active_lock_reason":null,"body":"On Elasticsearch 1.4.4 on Windows Server 2008, the elasticsearch process for the master node crashes. The follow error is showing up. This has happened several times and consistently sigar in the Java frames. I understand in Elasticsearch 2.0 sigar is being removed but what workaround is there for Elasticsearch 1.4.4?\n\n```\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x00000000202c7cf5, pid=11224, tid=15288\n#\n# JRE version: Java(TM) SE Runtime Environment (8.0_11-b12) (build 1.8.0_11-b12)\n# Java VM: Java HotSpot(TM) 64-Bit Server VM (25.11-b03 mixed mode windows-amd64 compressed oops)\n# Problematic frame:\n# C  [sigar-amd64-winnt.dll+0x7cf5]\n#\n# Core dump written. Default location: D:\\ElasticCluster-9200\\Engine\\hs_err_pid11224.mdmp\n#\n# If you would like to submit a bug report, please visit:\n#   http://bugreport.sun.com/bugreport/crash.jsp\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n#\n\n---------------  T H R E A D  ---------------\n\nCurrent thread (0x000000001f0f3000):  JavaThread \"elasticsearch[fastprods13.production.online.dell.com][management][T#4]\" daemon [_thread_in_native, id=15288, stack(0x0000000026960000,0x00000000269a0000)]\n\nsiginfo: ExceptionCode=0xc0000005, reading address 0x0000000025d2aca8\n\nRegisters:\nRAX=0x0000000025d2aca8, RBX=0x000000002699f378, RCX=0x000000000129c000, RDX=0x0000000024a8ebc0\nRSP=0x000000002699f0a0, RBP=0x000000002699f290, RSI=0x0000000000000040, RDI=0x000000068b56ce28\nR8 =0x0000000000000000, R9 =0x0000000000000000, R10=0x0000000000000002, R11=0x0000000000000000\nR12=0x0000000000000000, R13=0x00000000cc9f182e, R14=0x000000068b4a2d68, R15=0x000000001f0f3000\nRIP=0x00000000202c7cf5, EFLAGS=0x0000000000010213\n\nTop of Stack: (sp=0x000000002699f0a0)\n0x000000002699f0a0:   0000000021ff7c80 0000000020318b88\n0x000000002699f0b0:   0000000000000001 000000002699f130\n0x000000002699f0c0:   00000007c01e14f0 000000001489aa20\n0x000000002699f0d0:   000000002699f0e8 000000001f0f3000\n0x000000002699f0e0:   0000000700000001 0000000021ff80d0\n0x000000002699f0f0:   0000000024a8ebc0 0000000400000000\n0x000000002699f100:   0000000000000000 0000000000000000\n0x000000002699f110:   0000000000000000 0000000000000000\n0x000000002699f120:   0000000025d2aca8 0000000055a6dd25\n0x000000002699f130:   0000000000000000 0000000024a8e5e0\n0x000000002699f140:   00000000000000d8 0000000024a8eca8\n0x000000002699f150:   0000000000000000 0000000000000694\n0x000000002699f160:   000000002699f290 00000000202d5193\n0x000000002699f170:   0000000022e90f48 0000000000000032\n0x000000002699f180:   000000001f0f31e0 00000000202c867e\n0x000000002699f190:   0000000021ff7c80 0000000000002bd8 \n\nInstructions: (pc=0x00000000202c7cf5)\n0x00000000202c7cd5:   00 00 00 48 8b 84 24 98 00 00 00 8b 40 28 39 44\n0x00000000202c7ce5:   24 40 0f 83 7f 02 00 00 48 8b 84 24 80 00 00 00\n0x00000000202c7cf5:   8b 00 48 8b 8c 24 80 00 00 00 48 03 c8 48 8b c1\n0x00000000202c7d05:   48 89 84 24 a8 00 00 00 83 7c 24 70 00 74 18 8b \n\n\nRegister to memory mapping:\n\nRAX=0x0000000025d2aca8 is pointing into the stack for thread: 0x0000000021b58800\nRBX=0x000000002699f378 is pointing into the stack for thread: 0x000000001f0f3000\nRCX=0x000000000129c000 is pointing into the stack for thread: 0x000000001d832000\nRDX=0x0000000024a8ebc0 is an unknown value\nRSP=0x000000002699f0a0 is pointing into the stack for thread: 0x000000001f0f3000\nRBP=0x000000002699f290 is pointing into the stack for thread: 0x000000001f0f3000\nRSI=0x0000000000000040 is an unknown value\nRDI=0x000000068b56ce28 is an oop\norg.elasticsearch.monitor.process.ProcessService \n - klass: 'org/elasticsearch/monitor/process/ProcessService'\nR8 =0x0000000000000000 is an unknown value\nR9 =0x0000000000000000 is an unknown value\nR10=0x0000000000000002 is an unknown value\nR11=0x0000000000000000 is an unknown value\nR12=0x0000000000000000 is an unknown value\nR13=0x00000000cc9f182e is an unknown value\nR14=0x000000068b4a2d68 is an oop\n[Ljava.lang.Object; \n - klass: 'java/lang/Object'[]\n - length: 64\nR15=0x000000001f0f3000 is a thread\n\n\nStack: [0x0000000026960000,0x00000000269a0000],  sp=0x000000002699f0a0,  free space=252k\nNative frames: (J=compiled Java code, j=interpreted, Vv=VM code, C=native code)\nC  [sigar-amd64-winnt.dll+0x7cf5]\nC  [sigar-amd64-winnt.dll+0x867e]\nC  [sigar-amd64-winnt.dll+0x1fc55]\nC  0x0000000002811d4d\n\nJava frames: (J=compiled Java code, j=interpreted, Vv=VM code)\nJ 4271  org.hyperic.sigar.ProcFd.gather(Lorg/hyperic/sigar/Sigar;J)V (0 bytes) @ 0x0000000002811ccf [0x0000000002811c80+0x4f]\nJ 4841 C2 org.elasticsearch.node.service.NodeService.stats(Lorg/elasticsearch/action/admin/indices/stats/CommonStatsFlags;ZZZZZZZZZ)Lorg/elasticsearch/action/admin/cluster/node/stats/NodeStats; (210 bytes) @ 0x000000000293aaa8 [0x0000000002939be0+0xec8]\nJ 4160 C1 org.elasticsearch.action.admin.cluster.stats.TransportClusterStatsAction.nodeOperation(Lorg/elasticsearch/action/admin/cluster/stats/TransportClusterStatsAction$ClusterStatsNodeRequest;)Lorg/elasticsearch/action/admin/cluster/stats/ClusterStatsNodeResponse; (380 bytes) @ 0x000000000279db4c [0x000000000279d9e0+0x16c]\nJ 4840 C2 org.elasticsearch.transport.netty.MessageChannelHandler$RequestHandler.run()V (113 bytes) @ 0x0000000002163de0 [0x0000000002161380+0x2a60]\nJ 3880 C1 java.util.concurrent.ThreadPoolExecutor.runWorker(Ljava/util/concurrent/ThreadPoolExecutor$Worker;)V (225 bytes) @ 0x00000000026ba034 [0x00000000026b9180+0xeb4]\nj  java.util.concurrent.ThreadPoolExecutor$Worker.run()V+5\nj  java.lang.Thread.run()V+11\nv  ~StubRoutines::call_stub\n```\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}