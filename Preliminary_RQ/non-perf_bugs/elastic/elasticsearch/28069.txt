{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/28069","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28069/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28069/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28069/events","html_url":"https://github.com/elastic/elasticsearch/issues/28069","id":285869395,"node_id":"MDU6SXNzdWUyODU4NjkzOTU=","number":28069,"title":"ES 6.1 windows service: canâ€™t have multiple clusters on one VM any more?","user":{"login":"tdoman","id":11098266,"node_id":"MDQ6VXNlcjExMDk4MjY2","avatar_url":"https://avatars1.githubusercontent.com/u/11098266?v=4","gravatar_id":"","url":"https://api.github.com/users/tdoman","html_url":"https://github.com/tdoman","followers_url":"https://api.github.com/users/tdoman/followers","following_url":"https://api.github.com/users/tdoman/following{/other_user}","gists_url":"https://api.github.com/users/tdoman/gists{/gist_id}","starred_url":"https://api.github.com/users/tdoman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tdoman/subscriptions","organizations_url":"https://api.github.com/users/tdoman/orgs","repos_url":"https://api.github.com/users/tdoman/repos","events_url":"https://api.github.com/users/tdoman/events{/privacy}","received_events_url":"https://api.github.com/users/tdoman/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-01-04T03:02:39Z","updated_at":"2018-01-04T03:23:06Z","closed_at":"2018-01-04T03:23:06Z","author_association":"NONE","active_lock_reason":null,"body":"In our development environments, as well as production, we have multiple ES 1.7.5 services running on a number of single windows VMs.  They share the computing space only.  The data drives, etc. are separate as the clusters are for different, yet related purposes and sharing the computing space works great for us.  Heretofore, we've followed the procedure as outlined here: [Installing Elasticsearch as a Service on Windows](https://www.elastic.co/guide/en/elasticsearch/reference/5.1/windows.html#windows-service).\r\n\r\nNow, we're in the process of upgrading to ES 6.1 and I'm struggling to figure out how to achieve the same thing.  I've found that the MSI does not accommodate this scenario so I decided to just download the .ZIP as we've done in the past and just manually install the service.  Namely,\r\n```\r\nelasticsearch-service.bat install <service_id>\r\n```\r\nThis works in terms of getting the windows service into the windows service list but when I attempt to start it, it fails.  The std-err output indicates it's looking for the `config` directory in `C:\\ProgramData\\Elastic\\Elasticsearch\\config`.  I know that using the MSI will configure it to look in that directory but I expected that installing it directly as a service as shown above would use the directory structure where the service installer was located.\r\n```\r\nException in thread \"main\" .BootstrapException: java.nio.file.NoSuchFileException: C:\\ProgramData\\Elastic\\Elasticsearch\\config\r\n```\r\nIs there a way to indicate where it should find the config directory in the startup parameters or some other way?  Is there a new way to achieve what we've counted on in the past?  I've looked for documented startup parameters but all I've found so far are conflicting reports of how to do it and besides that, I can't get the windows service properties startup options to save anything I put in the `Start Parameters:` box on the \"General\" tab anyway.","closed_by":{"login":"tdoman","id":11098266,"node_id":"MDQ6VXNlcjExMDk4MjY2","avatar_url":"https://avatars1.githubusercontent.com/u/11098266?v=4","gravatar_id":"","url":"https://api.github.com/users/tdoman","html_url":"https://github.com/tdoman","followers_url":"https://api.github.com/users/tdoman/followers","following_url":"https://api.github.com/users/tdoman/following{/other_user}","gists_url":"https://api.github.com/users/tdoman/gists{/gist_id}","starred_url":"https://api.github.com/users/tdoman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tdoman/subscriptions","organizations_url":"https://api.github.com/users/tdoman/orgs","repos_url":"https://api.github.com/users/tdoman/repos","events_url":"https://api.github.com/users/tdoman/events{/privacy}","received_events_url":"https://api.github.com/users/tdoman/received_events","type":"User","site_admin":false},"performed_via_github_app":null}