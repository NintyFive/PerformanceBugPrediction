[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/468189221","html_url":"https://github.com/elastic/elasticsearch/issues/39495#issuecomment-468189221","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39495","id":468189221,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODE4OTIyMQ==","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"created_at":"2019-02-28T08:50:57Z","updated_at":"2019-02-28T09:04:21Z","author_association":"MEMBER","body":"I am not sure this is a bug. The error message says that it expects the file to **NOT** exist at this location:\r\n\r\n```\r\njava.lang.RuntimeException: java.io.IOException: expected database [GeoLite2-ASN.mmdb] to not exist in [/etc/elasticsearch/ingest-geoip]\r\n```\r\n\r\nThis is caused by a leftover from an old installation and can either be resolved via uninstalling the plugin in 6.6.1 before attempting the upgrade with the `--purge` option, i.e.:\r\n\r\n```\r\n./bin/elasticsearch-plugin remove --purge ingest-geoip\r\n```\r\n\r\nor manually removing the files in the config directory after the upgrade.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/468224234","html_url":"https://github.com/elastic/elasticsearch/issues/39495#issuecomment-468224234","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39495","id":468224234,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODIyNDIzNA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-02-28T10:39:30Z","updated_at":"2019-02-28T10:39:30Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/468301714","html_url":"https://github.com/elastic/elasticsearch/issues/39495#issuecomment-468301714","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39495","id":468301714,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODMwMTcxNA==","user":{"login":"inqueue","id":6099128,"node_id":"MDQ6VXNlcjYwOTkxMjg=","avatar_url":"https://avatars2.githubusercontent.com/u/6099128?v=4","gravatar_id":"","url":"https://api.github.com/users/inqueue","html_url":"https://github.com/inqueue","followers_url":"https://api.github.com/users/inqueue/followers","following_url":"https://api.github.com/users/inqueue/following{/other_user}","gists_url":"https://api.github.com/users/inqueue/gists{/gist_id}","starred_url":"https://api.github.com/users/inqueue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/inqueue/subscriptions","organizations_url":"https://api.github.com/users/inqueue/orgs","repos_url":"https://api.github.com/users/inqueue/repos","events_url":"https://api.github.com/users/inqueue/events{/privacy}","received_events_url":"https://api.github.com/users/inqueue/received_events","type":"User","site_admin":false},"created_at":"2019-02-28T14:53:14Z","updated_at":"2019-02-28T14:53:14Z","author_association":"MEMBER","body":"> The error message says that it expects the file to **NOT** exist at this location:\r\n\r\nSorry it was late and I missed that. That is the issue @danielmitterdorfer; the ingest-geoip plugin was removed without the purge option. I removed blocker and added the docs label. Those were files leftover from the ingest-geoip plugin that was manually installed in 6.6.1. `rm -rf ingest-geoip` fixed it.\r\n\r\nI do not exactly see why we have to fail the node for files not in use. This will happen to anyone that hasn't purged those files, so it at least warrants a clear note in the documentation.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/468345855","html_url":"https://github.com/elastic/elasticsearch/issues/39495#issuecomment-468345855","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39495","id":468345855,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODM0NTg1NQ==","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"created_at":"2019-02-28T16:45:19Z","updated_at":"2019-02-28T16:45:19Z","author_association":"MEMBER","body":"> I do not exactly see why we have to fail the node for files not in use.\r\n\r\nI did not implement that check but I'd reason that we want to fail fast here because those files were previously used by the plugin and we want to avoid that people *think* that they are still used by the module and wonder why they are not picked up.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/475211365","html_url":"https://github.com/elastic/elasticsearch/issues/39495#issuecomment-475211365","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39495","id":475211365,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTIxMTM2NQ==","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"created_at":"2019-03-21T12:33:54Z","updated_at":"2019-03-21T12:33:54Z","author_association":"MEMBER","body":"Closed by https://github.com/elastic/elasticsearch/pull/39553","performed_via_github_app":null}]