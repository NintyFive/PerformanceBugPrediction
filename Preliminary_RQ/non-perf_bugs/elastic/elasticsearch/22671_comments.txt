[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/273460226","html_url":"https://github.com/elastic/elasticsearch/issues/22671#issuecomment-273460226","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22671","id":273460226,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzQ2MDIyNg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-01-18T12:13:55Z","updated_at":"2017-01-18T12:13:55Z","author_association":"MEMBER","body":"I don't think this is right, I think you can use a bridge to SLF4J and use another logging framework. And if that's not right, we should make it right instead of making this dependency non-optional.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/273466355","html_url":"https://github.com/elastic/elasticsearch/issues/22671#issuecomment-273466355","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22671","id":273466355,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzQ2NjM1NQ==","user":{"login":"Gordiychuk","id":10699594,"node_id":"MDQ6VXNlcjEwNjk5NTk0","avatar_url":"https://avatars3.githubusercontent.com/u/10699594?v=4","gravatar_id":"","url":"https://api.github.com/users/Gordiychuk","html_url":"https://github.com/Gordiychuk","followers_url":"https://api.github.com/users/Gordiychuk/followers","following_url":"https://api.github.com/users/Gordiychuk/following{/other_user}","gists_url":"https://api.github.com/users/Gordiychuk/gists{/gist_id}","starred_url":"https://api.github.com/users/Gordiychuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gordiychuk/subscriptions","organizations_url":"https://api.github.com/users/Gordiychuk/orgs","repos_url":"https://api.github.com/users/Gordiychuk/repos","events_url":"https://api.github.com/users/Gordiychuk/events{/privacy}","received_events_url":"https://api.github.com/users/Gordiychuk/received_events","type":"User","site_admin":false},"created_at":"2017-01-18T12:46:09Z","updated_at":"2017-01-18T12:46:09Z","author_association":"NONE","body":"> I don't think this is right, I think you can use a bridge to SLF4J and use another logging framework.\r\n\r\nYes, we can, but bridge uses as implementation for API. \r\n```\r\n  compile \"org.apache.logging.log4j:log4j-api:${versions.log4j}\", optional //api\r\n  compile \"org.apache.logging.log4j:log4j-core:${versions.log4j}\", optional //impl\r\n```\r\nI want to save dependency on implementation as optional. In dependency tree will exists only log4j-api, and it allow user specify which implementation use bridge over slf4j or log4j. \r\n\r\n```\r\n<dependency>\r\n    <groupId>org.elasticsearch.client</groupId>\r\n    <artifactId>transport</artifactId>\r\n    <version>5.1.2</version>\r\n</dependency>\r\n<dependency>\r\n    <groupId>org.apache.logging.log4j</groupId>\r\n    <artifactId>log4j-slf4j-impl</artifactId>\r\n    <version>2.7</version>\r\n</dependency>\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/273466627","html_url":"https://github.com/elastic/elasticsearch/issues/22671#issuecomment-273466627","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22671","id":273466627,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzQ2NjYyNw==","user":{"login":"Gordiychuk","id":10699594,"node_id":"MDQ6VXNlcjEwNjk5NTk0","avatar_url":"https://avatars3.githubusercontent.com/u/10699594?v=4","gravatar_id":"","url":"https://api.github.com/users/Gordiychuk","html_url":"https://github.com/Gordiychuk","followers_url":"https://api.github.com/users/Gordiychuk/followers","following_url":"https://api.github.com/users/Gordiychuk/following{/other_user}","gists_url":"https://api.github.com/users/Gordiychuk/gists{/gist_id}","starred_url":"https://api.github.com/users/Gordiychuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gordiychuk/subscriptions","organizations_url":"https://api.github.com/users/Gordiychuk/orgs","repos_url":"https://api.github.com/users/Gordiychuk/repos","events_url":"https://api.github.com/users/Gordiychuk/events{/privacy}","received_events_url":"https://api.github.com/users/Gordiychuk/received_events","type":"User","site_admin":false},"created_at":"2017-01-18T12:47:29Z","updated_at":"2017-01-18T12:47:29Z","author_association":"NONE","body":"@jasontedor do you want replace inside elasticsearch logging from log4j to slf4j?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/273498813","html_url":"https://github.com/elastic/elasticsearch/issues/22671#issuecomment-273498813","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22671","id":273498813,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzQ5ODgxMw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-01-18T15:02:43Z","updated_at":"2017-01-18T18:06:41Z","author_association":"MEMBER","body":"This works for me, this is an example using logback instead of Log4j 2, and the Log4j 2 dependency is not on the classpath, just the bridge. I think this establishes the dependency is not required, and we definitely do not want to make it required.\r\n\r\n`build.gradle`:\r\n\r\n```gradle\r\ngroup 'me.tedor.jason'\r\nversion '1.0.0-SNAPSHOT'\r\n\r\napply plugin: 'java'\r\n\r\nsourceCompatibility = 1.8\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    compile group: 'org.elasticsearch.client', name: 'transport', version: '5.1.2'\r\n    compile group: 'org.apache.logging.log4j', name: 'log4j-to-slf4j', version: '2.7'\r\n    compile group: 'org.slf4j', name: 'slf4j-api', version: '1.7.21'\r\n    compile group: 'ch.qos.logback', name: 'logback-classic', version: '1.1.8'\r\n    testCompile group: 'junit', name: 'junit', version: '4.11'\r\n}\r\n\r\ntask runTransportClientExample(type: JavaExec) {\r\n    classpath = sourceSets.main.runtimeClasspath\r\n\r\n    main = 'me.tedor.jason.transport_client_example.TransportClientExample'\r\n\r\n    args commandLineArgs\r\n}\r\n```\r\n\r\n`settings.gradle`:\r\n\r\n```gradle\r\nrootProject.name = 'transport-client-example'\r\n```\r\n\r\n`src/main/java/me/tedor/jason/transport_client_example/TransportClientExample.java`:\r\n\r\n```java\r\npackage me.tedor.jason.transport_client_example;\r\n\r\nimport org.elasticsearch.client.transport.TransportClient;\r\nimport org.elasticsearch.common.settings.Settings;\r\nimport org.elasticsearch.common.transport.InetSocketTransportAddress;\r\nimport org.elasticsearch.transport.client.PreBuiltTransportClient;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport java.net.InetAddress;\r\n\r\npublic class TransportClientExample {\r\n\r\n    public static void main(String[] args) {\r\n        if (args.length != 1) {\r\n            throw new IllegalArgumentException(\"usage: me.tedor.jason.TransportClientExample [index]\");\r\n        }\r\n        new TransportClientExample().run(args[0]);\r\n    }\r\n\r\n    private final Logger logger = LoggerFactory.getLogger(getClass());\r\n    private final TransportClient client =\r\n            new PreBuiltTransportClient(Settings.EMPTY)\r\n                    .addTransportAddress(new InetSocketTransportAddress(InetAddress.getLoopbackAddress(), 9300));\r\n\r\n    private TransportClientExample() {\r\n\r\n    }\r\n\r\n    private void run(final String index) {\r\n        logger.info(\"client will create index [{}]\", index);\r\n        client.admin().indices().prepareCreate(index).get();\r\n        logger.info(\"client successfully created index [{}]\", index);\r\n        logger.info(\"client will delete index [{}]\", index);\r\n        client.admin().indices().prepareDelete(index).get();\r\n        logger.info(\"client successfully deleted index [{}]\", index);\r\n    }\r\n\r\n}\r\n```\r\n\r\n`src/main/resources/logback.xml`:\r\n\r\n```xml\r\n<configuration debug=\"true\">\r\n\r\n    <appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\">\r\n        <encoder>\r\n            <pattern>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n</pattern>\r\n        </encoder>\r\n    </appender>\r\n\r\n    <root level=\"info\">\r\n        <appender-ref ref=\"STDOUT\" />\r\n    </root>\r\n</configuration>\r\n```\r\n\r\nAnd then:\r\n\r\n```bash\r\n09:56:59 [jason:~/src/jasontedor/transport-client-example] 1 $ gradle runTransportClientExample -PcommandLineArgs=test-index\r\n:compileJava UP-TO-DATE\r\n:processResources UP-TO-DATE\r\n:classes UP-TO-DATE\r\n:runTransportClientExample\r\n09:58:27,138 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback.groovy]\r\n09:58:27,138 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Could NOT find resource [logback-test.xml]\r\n09:58:27,138 |-INFO in ch.qos.logback.classic.LoggerContext[default] - Found resource [logback.xml] at [file:/Users/jason/src/jasontedor/transport-client-example/build/resources/main/logback.xml]\r\n09:58:27,219 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - About to instantiate appender of type [ch.qos.logback.core.ConsoleAppender]\r\n09:58:27,221 |-INFO in ch.qos.logback.core.joran.action.AppenderAction - Naming appender as [STDOUT]\r\n09:58:27,227 |-INFO in ch.qos.logback.core.joran.action.NestedComplexPropertyIA - Assuming default type [ch.qos.logback.classic.encoder.PatternLayoutEncoder] for [encoder] property\r\n09:58:27,249 |-INFO in ch.qos.logback.classic.joran.action.RootLoggerAction - Setting level of ROOT logger to INFO\r\n09:58:27,249 |-INFO in ch.qos.logback.core.joran.action.AppenderRefAction - Attaching appender named [STDOUT] to Logger[ROOT]\r\n09:58:27,249 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - End of configuration.\r\n09:58:27,250 |-INFO in ch.qos.logback.classic.joran.JoranConfigurator@445b84c0 - Registering current configuration as safe fallback point\r\n09:58:27.490 [main] INFO  o.e.plugins.PluginsService - no modules loaded\r\n09:58:27.494 [main] INFO  o.e.plugins.PluginsService - loaded plugin [org.elasticsearch.index.reindex.ReindexPlugin]\r\n09:58:27.494 [main] INFO  o.e.plugins.PluginsService - loaded plugin [org.elasticsearch.percolator.PercolatorPlugin]\r\n09:58:27.494 [main] INFO  o.e.plugins.PluginsService - loaded plugin [org.elasticsearch.script.mustache.MustachePlugin]\r\n09:58:27.494 [main] INFO  o.e.plugins.PluginsService - loaded plugin [org.elasticsearch.transport.Netty3Plugin]\r\n09:58:27.494 [main] INFO  o.e.plugins.PluginsService - loaded plugin [org.elasticsearch.transport.Netty4Plugin]\r\n09:58:28.351 [main] INFO  m.t.j.t.TransportClientExample - client will create index [test-index]\r\n09:58:28.587 [main] INFO  m.t.j.t.TransportClientExample - client successfully created index [test-index]\r\n09:58:28.587 [main] INFO  m.t.j.t.TransportClientExample - client will delete index [test-index]\r\n09:58:28.821 [main] INFO  m.t.j.t.TransportClientExample - client successfully deleted index [test-index]\r\n\r\nBUILD SUCCESSFUL\r\n\r\nTotal time: 4.707 secs\r\n\r\nThis build could be faster, please consider using the Gradle Daemon: https://docs.gradle.org/2.13/userguide/gradle_daemon.html\r\n09:58:29 [jason:~/src/jasontedor/transport-client-example] $ \r\n```\r\n\r\nAnd on my cluster:\r\n\r\n```\r\n[2017-01-18T09:58:17,183][INFO ][o.e.n.Node               ] [] initializing ...\r\n[2017-01-18T09:58:17,239][INFO ][o.e.e.NodeEnvironment    ] [23YKuCt] using [1] data paths, mounts [[/ (/dev/disk1)]], net usable_space [240.5gb], net total_space [464.7gb], spins? [unknown], types [hfs]\r\n[2017-01-18T09:58:17,239][INFO ][o.e.e.NodeEnvironment    ] [23YKuCt] heap size [1.9gb], compressed ordinary object pointers [true]\r\n[2017-01-18T09:58:17,240][INFO ][o.e.n.Node               ] node name [23YKuCt] derived from node ID [23YKuCtmR0uV5VXxExRHCQ]; set [node.name] to override\r\n[2017-01-18T09:58:17,242][INFO ][o.e.n.Node               ] version[5.1.2], pid[50823], build[c8c4c16/2017-01-11T20:18:39.146Z], OS[Mac OS X/10.12.2/x86_64], JVM[Oracle Corporation/Java HotSpot(TM) 64-Bit Server VM/1.8.0_121/25.121-b13]\r\n[2017-01-18T09:58:17,806][INFO ][o.e.p.PluginsService     ] [23YKuCt] loaded module [aggs-matrix-stats]\r\n[2017-01-18T09:58:17,807][INFO ][o.e.p.PluginsService     ] [23YKuCt] loaded module [ingest-common]\r\n[2017-01-18T09:58:17,807][INFO ][o.e.p.PluginsService     ] [23YKuCt] loaded module [lang-expression]\r\n[2017-01-18T09:58:17,807][INFO ][o.e.p.PluginsService     ] [23YKuCt] loaded module [lang-groovy]\r\n[2017-01-18T09:58:17,807][INFO ][o.e.p.PluginsService     ] [23YKuCt] loaded module [lang-mustache]\r\n[2017-01-18T09:58:17,807][INFO ][o.e.p.PluginsService     ] [23YKuCt] loaded module [lang-painless]\r\n[2017-01-18T09:58:17,807][INFO ][o.e.p.PluginsService     ] [23YKuCt] loaded module [percolator]\r\n[2017-01-18T09:58:17,807][INFO ][o.e.p.PluginsService     ] [23YKuCt] loaded module [reindex]\r\n[2017-01-18T09:58:17,807][INFO ][o.e.p.PluginsService     ] [23YKuCt] loaded module [transport-netty3]\r\n[2017-01-18T09:58:17,808][INFO ][o.e.p.PluginsService     ] [23YKuCt] loaded module [transport-netty4]\r\n[2017-01-18T09:58:17,808][INFO ][o.e.p.PluginsService     ] [23YKuCt] no plugins loaded\r\n[2017-01-18T09:58:19,164][INFO ][o.e.n.Node               ] initialized\r\n[2017-01-18T09:58:19,164][INFO ][o.e.n.Node               ] [23YKuCt] starting ...\r\n[2017-01-18T09:58:19,311][INFO ][o.e.t.TransportService   ] [23YKuCt] publish_address {127.0.0.1:9300}, bound_addresses {[fe80::1]:9300}, {[::1]:9300}, {127.0.0.1:9300}\r\n[2017-01-18T09:58:22,368][INFO ][o.e.c.s.ClusterService   ] [23YKuCt] new_master {23YKuCt}{23YKuCtmR0uV5VXxExRHCQ}{5yShIZ1lQRmbGJOsVtTF9A}{127.0.0.1}{127.0.0.1:9300}, reason: zen-disco-elected-as-master ([0] nodes joined)\r\n[2017-01-18T09:58:22,386][INFO ][o.e.h.HttpServer         ] [23YKuCt] publish_address {127.0.0.1:9200}, bound_addresses {[fe80::1]:9200}, {[::1]:9200}, {127.0.0.1:9200}\r\n[2017-01-18T09:58:22,386][INFO ][o.e.n.Node               ] [23YKuCt] started\r\n[2017-01-18T09:58:22,391][INFO ][o.e.g.GatewayService     ] [23YKuCt] recovered [0] indices into cluster_state\r\n[2017-01-18T09:58:28,422][INFO ][o.e.c.m.MetaDataCreateIndexService] [23YKuCt] [test-index] creating index, cause [api], templates [], shards [5]/[1], mappings []\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/273499329","html_url":"https://github.com/elastic/elasticsearch/issues/22671#issuecomment-273499329","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22671","id":273499329,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzQ5OTMyOQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-01-18T15:04:12Z","updated_at":"2017-01-18T15:04:12Z","author_association":"MEMBER","body":"> do you want replace inside elasticsearch logging from log4j to slf4j?\r\n\r\nNo, that's not going to happen. It's simpler for the server to support exactly one logging framework, and I do not like abstraction layers that do not let you take advantage of the preferred underlying implementation (you have to code to the lowest common denominator).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/273583692","html_url":"https://github.com/elastic/elasticsearch/issues/22671#issuecomment-273583692","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22671","id":273583692,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzU4MzY5Mg==","user":{"login":"Gordiychuk","id":10699594,"node_id":"MDQ6VXNlcjEwNjk5NTk0","avatar_url":"https://avatars3.githubusercontent.com/u/10699594?v=4","gravatar_id":"","url":"https://api.github.com/users/Gordiychuk","html_url":"https://github.com/Gordiychuk","followers_url":"https://api.github.com/users/Gordiychuk/followers","following_url":"https://api.github.com/users/Gordiychuk/following{/other_user}","gists_url":"https://api.github.com/users/Gordiychuk/gists{/gist_id}","starred_url":"https://api.github.com/users/Gordiychuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gordiychuk/subscriptions","organizations_url":"https://api.github.com/users/Gordiychuk/orgs","repos_url":"https://api.github.com/users/Gordiychuk/repos","events_url":"https://api.github.com/users/Gordiychuk/events{/privacy}","received_events_url":"https://api.github.com/users/Gordiychuk/received_events","type":"User","site_admin":false},"created_at":"2017-01-18T19:57:44Z","updated_at":"2017-01-18T19:57:44Z","author_association":"NONE","body":"Ok, i agree it works. But if we check dependency list for `org.apache.logging.log4j:log4j-to-slf4j` we will find in list `org.apache.logging.log4j:log4j-api`. API jar in dependency list allow us not fail with `ClassNotFoundException`, and if user not add implementation to dependency list we will get warning, but code will still work. \r\nI thinks optional dependency, it's dependency without that code can still works, it our case it's not true. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/274121101","html_url":"https://github.com/elastic/elasticsearch/issues/22671#issuecomment-274121101","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22671","id":274121101,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDEyMTEwMQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-01-20T16:51:05Z","updated_at":"2017-01-20T16:51:05Z","author_association":"MEMBER","body":"> I thinks optional dependency, it's dependency without that code can still works, it our case it's not true.\r\n\r\nPlease provide a stack trace.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/274129715","html_url":"https://github.com/elastic/elasticsearch/issues/22671#issuecomment-274129715","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22671","id":274129715,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDEyOTcxNQ==","user":{"login":"Gordiychuk","id":10699594,"node_id":"MDQ6VXNlcjEwNjk5NTk0","avatar_url":"https://avatars3.githubusercontent.com/u/10699594?v=4","gravatar_id":"","url":"https://api.github.com/users/Gordiychuk","html_url":"https://github.com/Gordiychuk","followers_url":"https://api.github.com/users/Gordiychuk/followers","following_url":"https://api.github.com/users/Gordiychuk/following{/other_user}","gists_url":"https://api.github.com/users/Gordiychuk/gists{/gist_id}","starred_url":"https://api.github.com/users/Gordiychuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gordiychuk/subscriptions","organizations_url":"https://api.github.com/users/Gordiychuk/orgs","repos_url":"https://api.github.com/users/Gordiychuk/repos","events_url":"https://api.github.com/users/Gordiychuk/events{/privacy}","received_events_url":"https://api.github.com/users/Gordiychuk/received_events","type":"User","site_admin":false},"created_at":"2017-01-20T17:27:57Z","updated_at":"2017-01-20T17:27:57Z","author_association":"NONE","body":"@jasontedor \r\n\r\n```\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.elasticsearch.client.Client]: Factory method 'elasticSearchClient' threw exception; nested exception is java.lang.NoClassDefFoundError: org/apache/logging/log4j/Logger\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)\r\n\t... 98 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: org/apache/logging/log4j/Logger\r\n\tat org.elasticsearch.common.logging.Loggers.getLogger(Loggers.java:105)\r\n\tat org.elasticsearch.common.logging.Loggers.getLogger(Loggers.java:72)\r\n\tat org.elasticsearch.common.component.AbstractComponent.<init>(AbstractComponent.java:37)\r\n\tat org.elasticsearch.plugins.PluginsService.<init>(PluginsService.java:98)\r\n\tat org.elasticsearch.client.transport.TransportClient.newPluginService(TransportClient.java:94)\r\n\tat org.elasticsearch.client.transport.TransportClient.buildTemplate(TransportClient.java:119)\r\n\tat org.elasticsearch.client.transport.TransportClient.<init>(TransportClient.java:247)\r\n\tat org.elasticsearch.transport.client.PreBuiltTransportClient.<init>(PreBuiltTransportClient.java:125)\r\n\tat org.elasticsearch.transport.client.PreBuiltTransportClient.<init>(PreBuiltTransportClient.java:111)\r\n\tat org.elasticsearch.transport.client.PreBuiltTransportClient.<init>(PreBuiltTransportClient.java:101)\r\n\tat com.netcracker.search.worker.config.SpringConfiguration.elasticSearchClient(SpringConfiguration.java:43)\r\n\tat com.netcracker.search.worker.config.SpringConfiguration$$EnhancerBySpringCGLIB$$493d1f4d.CGLIB$elasticSearchClient$0(<generated>)\r\n\tat com.netcracker.search.worker.config.SpringConfiguration$$EnhancerBySpringCGLIB$$493d1f4d$$FastClassBySpringCGLIB$$8d72f9f6.invoke(<generated>)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:356)\r\n\tat com.netcracker.search.worker.config.SpringConfiguration$$EnhancerBySpringCGLIB$$493d1f4d.elasticSearchClient(<generated>)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162)\r\n\t... 99 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.Logger\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n\t... 120 common frames omitted\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/274131379","html_url":"https://github.com/elastic/elasticsearch/issues/22671#issuecomment-274131379","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22671","id":274131379,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDEzMTM3OQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-01-20T17:35:08Z","updated_at":"2017-01-20T17:35:08Z","author_association":"MEMBER","body":"You're not providing enough information here, what are you binding the logging to?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/274131929","html_url":"https://github.com/elastic/elasticsearch/issues/22671#issuecomment-274131929","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22671","id":274131929,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDEzMTkyOQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-01-20T17:37:22Z","updated_at":"2017-01-20T17:37:22Z","author_association":"MEMBER","body":"Again, you either have to pull in the optional Log4j 2 dependencies, or use the SLF4J bridge like I showed. So, what I'm looking for from you is a problem where you pulled in the dependencies and it didn't work, or you pulled in the bridge and it didn't work. But if you're not pulling in either then of course you're going to have problems.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/274136389","html_url":"https://github.com/elastic/elasticsearch/issues/22671#issuecomment-274136389","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22671","id":274136389,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDEzNjM4OQ==","user":{"login":"Gordiychuk","id":10699594,"node_id":"MDQ6VXNlcjEwNjk5NTk0","avatar_url":"https://avatars3.githubusercontent.com/u/10699594?v=4","gravatar_id":"","url":"https://api.github.com/users/Gordiychuk","html_url":"https://github.com/Gordiychuk","followers_url":"https://api.github.com/users/Gordiychuk/followers","following_url":"https://api.github.com/users/Gordiychuk/following{/other_user}","gists_url":"https://api.github.com/users/Gordiychuk/gists{/gist_id}","starred_url":"https://api.github.com/users/Gordiychuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gordiychuk/subscriptions","organizations_url":"https://api.github.com/users/Gordiychuk/orgs","repos_url":"https://api.github.com/users/Gordiychuk/repos","events_url":"https://api.github.com/users/Gordiychuk/events{/privacy}","received_events_url":"https://api.github.com/users/Gordiychuk/received_events","type":"User","site_admin":false},"created_at":"2017-01-20T17:56:12Z","updated_at":"2017-01-20T17:56:12Z","author_association":"NONE","body":"As i sad before, client not working without additional dependency. Adding dependency to log4j or bridge solve it proble, but it's looks like WA. Because for example if my problem use only sl4j and I want use transport client i get exception about until not add bridge or log4j-api. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/274139270","html_url":"https://github.com/elastic/elasticsearch/issues/22671#issuecomment-274139270","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22671","id":274139270,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDEzOTI3MA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-01-20T18:08:25Z","updated_at":"2017-01-20T18:08:39Z","author_association":"MEMBER","body":"> Adding dependency to log4j or bridge solve it proble, but it's looks like WA.\r\n\r\nI'm so sorry, but I do not understand \"WA\"? Can you elaborate what you mean here?\r\n\r\n> Because for example if my problem use only sl4j and I want use transport client i get exception about until not add bridge or log4j-api.\r\n\r\nWe document this though, the dependency is optional, you [have to use it](https://www.elastic.co/guide/en/elasticsearch/client/java-api/current/_log4j_2_logger.html), or [use the bridge](https://www.elastic.co/guide/en/elasticsearch/client/java-api/current/_using_another_logger.html).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/275453078","html_url":"https://github.com/elastic/elasticsearch/issues/22671#issuecomment-275453078","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22671","id":275453078,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTQ1MzA3OA==","user":{"login":"mrmiroslav","id":11501583,"node_id":"MDQ6VXNlcjExNTAxNTgz","avatar_url":"https://avatars3.githubusercontent.com/u/11501583?v=4","gravatar_id":"","url":"https://api.github.com/users/mrmiroslav","html_url":"https://github.com/mrmiroslav","followers_url":"https://api.github.com/users/mrmiroslav/followers","following_url":"https://api.github.com/users/mrmiroslav/following{/other_user}","gists_url":"https://api.github.com/users/mrmiroslav/gists{/gist_id}","starred_url":"https://api.github.com/users/mrmiroslav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mrmiroslav/subscriptions","organizations_url":"https://api.github.com/users/mrmiroslav/orgs","repos_url":"https://api.github.com/users/mrmiroslav/repos","events_url":"https://api.github.com/users/mrmiroslav/events{/privacy}","received_events_url":"https://api.github.com/users/mrmiroslav/received_events","type":"User","site_admin":false},"created_at":"2017-01-26T17:29:35Z","updated_at":"2017-01-26T17:29:35Z","author_association":"NONE","body":"This is all great, I have been trying in a variety of ways now, including adding \"log4j-to-slf4j\".\r\n\r\nHowever I am getting stuck on:\r\n\r\n```\r\ncom.google.cloud.dataflow.sdk.util.UserCodeException: java.lang.RuntimeException: java.lang.RuntimeException: java.lang.AbstractMethodError: org.apache.logging.slf4j.SLF4JLogger.isEnabled(Lorg/apache/logging/log4j/Level;Lorg/apache/logging/log4j/Marker;Ljava/lang/String;Ljava/lang/Object;)Z\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/283806719","html_url":"https://github.com/elastic/elasticsearch/issues/22671#issuecomment-283806719","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22671","id":283806719,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzgwNjcxOQ==","user":{"login":"junghoahnsc","id":20134198,"node_id":"MDQ6VXNlcjIwMTM0MTk4","avatar_url":"https://avatars3.githubusercontent.com/u/20134198?v=4","gravatar_id":"","url":"https://api.github.com/users/junghoahnsc","html_url":"https://github.com/junghoahnsc","followers_url":"https://api.github.com/users/junghoahnsc/followers","following_url":"https://api.github.com/users/junghoahnsc/following{/other_user}","gists_url":"https://api.github.com/users/junghoahnsc/gists{/gist_id}","starred_url":"https://api.github.com/users/junghoahnsc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junghoahnsc/subscriptions","organizations_url":"https://api.github.com/users/junghoahnsc/orgs","repos_url":"https://api.github.com/users/junghoahnsc/repos","events_url":"https://api.github.com/users/junghoahnsc/events{/privacy}","received_events_url":"https://api.github.com/users/junghoahnsc/received_events","type":"User","site_admin":false},"created_at":"2017-03-02T22:42:47Z","updated_at":"2017-03-02T22:42:47Z","author_association":"NONE","body":"We had the same issue with the transport 5.2.1. I tried to use the bridge, but got the same `java.lang.AbstractMethodError` error.\r\n\r\nIs there any workaround on this?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/283818229","html_url":"https://github.com/elastic/elasticsearch/issues/22671#issuecomment-283818229","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22671","id":283818229,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzgxODIyOQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-03-02T23:37:49Z","updated_at":"2017-03-02T23:44:29Z","author_association":"MEMBER","body":"I think that this is caused by dependency mismatches. I would suggest opening a topic on [forum](https://discuss.elastic.co), link to it from here, and I (or someone else from the community) will try to help. Please post as much detail as possible. In particular, post the version of all the Elasticsearch artifacts that you're using, and the version of the logging artifacts that you're using.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/302869647","html_url":"https://github.com/elastic/elasticsearch/issues/22671#issuecomment-302869647","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22671","id":302869647,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjg2OTY0Nw==","user":{"login":"ankitmalpani","id":7353805,"node_id":"MDQ6VXNlcjczNTM4MDU=","avatar_url":"https://avatars0.githubusercontent.com/u/7353805?v=4","gravatar_id":"","url":"https://api.github.com/users/ankitmalpani","html_url":"https://github.com/ankitmalpani","followers_url":"https://api.github.com/users/ankitmalpani/followers","following_url":"https://api.github.com/users/ankitmalpani/following{/other_user}","gists_url":"https://api.github.com/users/ankitmalpani/gists{/gist_id}","starred_url":"https://api.github.com/users/ankitmalpani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankitmalpani/subscriptions","organizations_url":"https://api.github.com/users/ankitmalpani/orgs","repos_url":"https://api.github.com/users/ankitmalpani/repos","events_url":"https://api.github.com/users/ankitmalpani/events{/privacy}","received_events_url":"https://api.github.com/users/ankitmalpani/received_events","type":"User","site_admin":false},"created_at":"2017-05-20T12:18:04Z","updated_at":"2017-05-20T12:18:04Z","author_association":"NONE","body":"We are having similar issues. Any resolution on this ?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/304407463","html_url":"https://github.com/elastic/elasticsearch/issues/22671#issuecomment-304407463","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22671","id":304407463,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDQwNzQ2Mw==","user":{"login":"sprgn","id":16725498,"node_id":"MDQ6VXNlcjE2NzI1NDk4","avatar_url":"https://avatars1.githubusercontent.com/u/16725498?v=4","gravatar_id":"","url":"https://api.github.com/users/sprgn","html_url":"https://github.com/sprgn","followers_url":"https://api.github.com/users/sprgn/followers","following_url":"https://api.github.com/users/sprgn/following{/other_user}","gists_url":"https://api.github.com/users/sprgn/gists{/gist_id}","starred_url":"https://api.github.com/users/sprgn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sprgn/subscriptions","organizations_url":"https://api.github.com/users/sprgn/orgs","repos_url":"https://api.github.com/users/sprgn/repos","events_url":"https://api.github.com/users/sprgn/events{/privacy}","received_events_url":"https://api.github.com/users/sprgn/received_events","type":"User","site_admin":false},"created_at":"2017-05-26T23:22:08Z","updated_at":"2017-05-26T23:22:08Z","author_association":"NONE","body":"Same issue here.  This dependency on log4j-core is a very hard dependency on a logging implementation.  Is there not a way to disable log4j when elasticsearch is used as part of an app that uses other logging implementation other than log4j?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/307083571","html_url":"https://github.com/elastic/elasticsearch/issues/22671#issuecomment-307083571","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22671","id":307083571,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzA4MzU3MQ==","user":{"login":"hristo-vrigazov","id":14914140,"node_id":"MDQ6VXNlcjE0OTE0MTQw","avatar_url":"https://avatars0.githubusercontent.com/u/14914140?v=4","gravatar_id":"","url":"https://api.github.com/users/hristo-vrigazov","html_url":"https://github.com/hristo-vrigazov","followers_url":"https://api.github.com/users/hristo-vrigazov/followers","following_url":"https://api.github.com/users/hristo-vrigazov/following{/other_user}","gists_url":"https://api.github.com/users/hristo-vrigazov/gists{/gist_id}","starred_url":"https://api.github.com/users/hristo-vrigazov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hristo-vrigazov/subscriptions","organizations_url":"https://api.github.com/users/hristo-vrigazov/orgs","repos_url":"https://api.github.com/users/hristo-vrigazov/repos","events_url":"https://api.github.com/users/hristo-vrigazov/events{/privacy}","received_events_url":"https://api.github.com/users/hristo-vrigazov/received_events","type":"User","site_admin":false},"created_at":"2017-06-08T12:05:09Z","updated_at":"2017-06-08T12:05:09Z","author_association":"NONE","body":"+1","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/307159724","html_url":"https://github.com/elastic/elasticsearch/issues/22671#issuecomment-307159724","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22671","id":307159724,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzE1OTcyNA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-06-08T16:40:17Z","updated_at":"2017-06-08T16:42:13Z","author_association":"MEMBER","body":"I do not understand why this issue continues to receive attention. I have shown [previously](https://github.com/elastic/elasticsearch/issues/22671#issuecomment-273498813) that the dependency on log4j-core is optional, you can use another logging implementation in your application without relying on this dependency.\r\n\r\n@sprgn Would you please explain why you think that log4j-core is required (see my previous example, I think it's not, you can use a different logging implementation in your application)?\r\n\r\n@hristo-vrigazov Why did you +1 this issue, what are you trying to communicate? I want to help you.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/307161723","html_url":"https://github.com/elastic/elasticsearch/issues/22671#issuecomment-307161723","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22671","id":307161723,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzE2MTcyMw==","user":{"login":"Gordiychuk","id":10699594,"node_id":"MDQ6VXNlcjEwNjk5NTk0","avatar_url":"https://avatars3.githubusercontent.com/u/10699594?v=4","gravatar_id":"","url":"https://api.github.com/users/Gordiychuk","html_url":"https://github.com/Gordiychuk","followers_url":"https://api.github.com/users/Gordiychuk/followers","following_url":"https://api.github.com/users/Gordiychuk/following{/other_user}","gists_url":"https://api.github.com/users/Gordiychuk/gists{/gist_id}","starred_url":"https://api.github.com/users/Gordiychuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gordiychuk/subscriptions","organizations_url":"https://api.github.com/users/Gordiychuk/orgs","repos_url":"https://api.github.com/users/Gordiychuk/repos","events_url":"https://api.github.com/users/Gordiychuk/events{/privacy}","received_events_url":"https://api.github.com/users/Gordiychuk/received_events","type":"User","site_admin":false},"created_at":"2017-06-08T16:48:03Z","updated_at":"2017-06-08T16:48:03Z","author_association":"NONE","body":"@jasontedor dependency to core can't be required, but dependency to api required to avoid this problem in future, when someone add dependency on elasticsearch and it's not work because need add additional transitive dependency that not describe in poms.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/307163568","html_url":"https://github.com/elastic/elasticsearch/issues/22671#issuecomment-307163568","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22671","id":307163568,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzE2MzU2OA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-06-08T16:55:14Z","updated_at":"2017-06-08T16:55:14Z","author_association":"MEMBER","body":"Okay, I understand the source of the confusion. Thank you @Gordiychuk.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/307164330","html_url":"https://github.com/elastic/elasticsearch/issues/22671#issuecomment-307164330","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22671","id":307164330,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzE2NDMzMA==","user":{"login":"hristo-vrigazov","id":14914140,"node_id":"MDQ6VXNlcjE0OTE0MTQw","avatar_url":"https://avatars0.githubusercontent.com/u/14914140?v=4","gravatar_id":"","url":"https://api.github.com/users/hristo-vrigazov","html_url":"https://github.com/hristo-vrigazov","followers_url":"https://api.github.com/users/hristo-vrigazov/followers","following_url":"https://api.github.com/users/hristo-vrigazov/following{/other_user}","gists_url":"https://api.github.com/users/hristo-vrigazov/gists{/gist_id}","starred_url":"https://api.github.com/users/hristo-vrigazov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hristo-vrigazov/subscriptions","organizations_url":"https://api.github.com/users/hristo-vrigazov/orgs","repos_url":"https://api.github.com/users/hristo-vrigazov/repos","events_url":"https://api.github.com/users/hristo-vrigazov/events{/privacy}","received_events_url":"https://api.github.com/users/hristo-vrigazov/received_events","type":"User","site_admin":false},"created_at":"2017-06-08T16:58:10Z","updated_at":"2017-06-08T16:58:10Z","author_association":"NONE","body":"@jasontedor +1 usually means \"I am also experiencing this problem\". I understand that you are trying to help, but it is annoying to be forced to add a bridge or log4j just because I want to use a simple client for Elastic. I understand that it is not the end of the world, but if every framework in the world forced you to add additional things outside of what it is meant to do, it would quickly become extremely difficult to track what is needed and why. What bugs me even more that this problem with log4j appears at runtime. If I start cleaning up dependencies and delete the bridge dependency, everything will build and will be fine and only when I am using the application will the problem appear.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/307165415","html_url":"https://github.com/elastic/elasticsearch/issues/22671#issuecomment-307165415","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22671","id":307165415,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzE2NTQxNQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-06-08T17:02:16Z","updated_at":"2017-06-08T17:02:16Z","author_association":"MEMBER","body":"@Gordiychuk I opened #25136 to address the confusion on the API dependency.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/307213247","html_url":"https://github.com/elastic/elasticsearch/issues/22671#issuecomment-307213247","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22671","id":307213247,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzIxMzI0Nw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-06-08T20:08:56Z","updated_at":"2017-06-08T20:08:56Z","author_association":"MEMBER","body":"@hristo-vrigazov Yeah, no one likes that the transport client is so heavily entangled with the server implementation. I wish we could snap our fingers and make it go away but we can't. It's a very long road for us to build a client that is as functional at a high-level as the transport client yet for it to not be dependent on the server implementation. For now, the best we can do is iterate on what we have. I hope marking the API dependency as non-optional at least clarifies the situation.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/307221656","html_url":"https://github.com/elastic/elasticsearch/issues/22671#issuecomment-307221656","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22671","id":307221656,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzIyMTY1Ng==","user":{"login":"Gordiychuk","id":10699594,"node_id":"MDQ6VXNlcjEwNjk5NTk0","avatar_url":"https://avatars3.githubusercontent.com/u/10699594?v=4","gravatar_id":"","url":"https://api.github.com/users/Gordiychuk","html_url":"https://github.com/Gordiychuk","followers_url":"https://api.github.com/users/Gordiychuk/followers","following_url":"https://api.github.com/users/Gordiychuk/following{/other_user}","gists_url":"https://api.github.com/users/Gordiychuk/gists{/gist_id}","starred_url":"https://api.github.com/users/Gordiychuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gordiychuk/subscriptions","organizations_url":"https://api.github.com/users/Gordiychuk/orgs","repos_url":"https://api.github.com/users/Gordiychuk/repos","events_url":"https://api.github.com/users/Gordiychuk/events{/privacy}","received_events_url":"https://api.github.com/users/Gordiychuk/received_events","type":"User","site_admin":false},"created_at":"2017-06-08T20:43:02Z","updated_at":"2017-06-08T20:43:02Z","author_association":"NONE","body":"@jasontedor good, thanks.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/413271961","html_url":"https://github.com/elastic/elasticsearch/issues/22671#issuecomment-413271961","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22671","id":413271961,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMzI3MTk2MQ==","user":{"login":"rosacanada","id":34579791,"node_id":"MDQ6VXNlcjM0NTc5Nzkx","avatar_url":"https://avatars2.githubusercontent.com/u/34579791?v=4","gravatar_id":"","url":"https://api.github.com/users/rosacanada","html_url":"https://github.com/rosacanada","followers_url":"https://api.github.com/users/rosacanada/followers","following_url":"https://api.github.com/users/rosacanada/following{/other_user}","gists_url":"https://api.github.com/users/rosacanada/gists{/gist_id}","starred_url":"https://api.github.com/users/rosacanada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rosacanada/subscriptions","organizations_url":"https://api.github.com/users/rosacanada/orgs","repos_url":"https://api.github.com/users/rosacanada/repos","events_url":"https://api.github.com/users/rosacanada/events{/privacy}","received_events_url":"https://api.github.com/users/rosacanada/received_events","type":"User","site_admin":false},"created_at":"2018-08-15T17:27:21Z","updated_at":"2018-08-15T17:27:21Z","author_association":"NONE","body":"I had the same issue on Tomcat which hosts multiple applications. It happens when redeploy an app or deploy new app. Even the app run well before, without any config/ dependency change, just redeploy fail with this error.  Whenever it happens, restart Tomcat solved the issue for my case. ","performed_via_github_app":null}]