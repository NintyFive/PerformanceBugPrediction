{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/320","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/320/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/320/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/320/events","html_url":"https://github.com/elastic/elasticsearch/issues/320","id":277794,"node_id":"MDU6SXNzdWUyNzc3OTQ=","number":320,"title":"Add logic to handle OR queries with non-grouped negatives","user":{"login":"ppearcy","id":307414,"node_id":"MDQ6VXNlcjMwNzQxNA==","avatar_url":"https://avatars3.githubusercontent.com/u/307414?v=4","gravatar_id":"","url":"https://api.github.com/users/ppearcy","html_url":"https://github.com/ppearcy","followers_url":"https://api.github.com/users/ppearcy/followers","following_url":"https://api.github.com/users/ppearcy/following{/other_user}","gists_url":"https://api.github.com/users/ppearcy/gists{/gist_id}","starred_url":"https://api.github.com/users/ppearcy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppearcy/subscriptions","organizations_url":"https://api.github.com/users/ppearcy/orgs","repos_url":"https://api.github.com/users/ppearcy/repos","events_url":"https://api.github.com/users/ppearcy/events{/privacy}","received_events_url":"https://api.github.com/users/ppearcy/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2010-08-13T18:40:47Z","updated_at":"2014-01-25T13:44:45Z","closed_at":"2014-01-25T13:44:45Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Here are the details:\nMay want to consider adding logic in the case of non-nested negatives\nin OR clauses.\n\nFor example\nindexid:\"test\" OR -indexid:\"test\"\n->\nindexid:\"test\" OR (-indexid:\"test\" AND _:_)\n\nRight now, with ES when doing query generation from a syntax tree with\nthis, I am adding grouping around negative OR clauses to accommodate.\n\nSo:\nindexid:\"test\" OR -indexid:\"test\"\n->\nindexid:\"test\" OR (-indexid:\"test\")\n\nWhich I believe ES then interprets as:\nindexid:\"test\" OR (-indexid:\"test\" AND _:_) \n\nA few more details are here:\nhttp://groups.google.com/a/elasticsearch.com/group/users/browse_thread/thread/9e80a32a3e8827f1/5e48ef4c9f596b16#5e48ef4c9f596b16\n\nI would consider this a low  priority request. \n\nThanks!\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}