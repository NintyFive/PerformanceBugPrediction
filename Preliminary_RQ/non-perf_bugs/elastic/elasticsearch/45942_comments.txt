[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/524589017","html_url":"https://github.com/elastic/elasticsearch/issues/45942#issuecomment-524589017","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45942","id":524589017,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNDU4OTAxNw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-08-24T23:55:29Z","updated_at":"2019-08-24T23:55:29Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/527195119","html_url":"https://github.com/elastic/elasticsearch/issues/45942#issuecomment-527195119","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45942","id":527195119,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzE5NTExOQ==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2019-09-02T16:07:30Z","updated_at":"2019-09-02T16:07:30Z","author_association":"CONTRIBUTOR","body":"We discussed this today in the weekly search meeting.\r\nWe've seen this feature in Solr and one of the concerns we had was that when you are dealing with multiple clients written in different languages the issue of their encodings and reliable offsets and lengths comes in. The client also has some responsibilities to ensure positions etc tie up with the strict Lucene requirements about valid token streams.\r\nThere's also the question of how to handle search input - we need to know which analyzer to use on any text searches.\r\n\r\nThe main use case for this I expect are things like entity extraction tools (as was the case with the referenced discuss question). We targeted this with the `annotated_text` type and one (known) limit was the lack of support for nested annotations. An example might be this text:\r\n\r\n    he met with the President of Mexico\r\n\r\nAn entity extraction tool might want to annotate both the person \"President of Mexico\" and the country \"Mexico\". Today we might get around that using a multi-value annotation separated by ampersands eg\r\n\r\n```\r\n  he met with the [President of Mexico](Andrés+Obrador&Mexico) \r\n```\r\n\r\nThis might be adequate for some scenarios. Another consideration is to create a new form of markup that supports nesting using start and end tags. An example with two number annotations might be:\r\n\r\n```\r\n  he met with the [1 Andrés+Obrador]President of [2 Mexico]Mexico[/1][/2]\r\n```\r\nThis might help solve the indexing issues but of course highlighting is another messy area to have to deal with and nested annotations will require some complex code there too.\r\n\r\nI'd like to see just how many people need the added complication of nested annotations before embarking on any support for that.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/534153556","html_url":"https://github.com/elastic/elasticsearch/issues/45942#issuecomment-534153556","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45942","id":534153556,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNDE1MzU1Ng==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2019-09-23T15:32:19Z","updated_at":"2019-09-23T15:32:19Z","author_association":"CONTRIBUTOR","body":"The original discuss issue relating to nested annotations has now had an [update](https://discuss.elastic.co/t/data-type-to-specify-exact-tokens-to-index/195637/11?u=mark_harwood)\r\n\r\nThe user has proposed using the annotated text plugin in this way:\r\n\r\n```One solution we are looking at is marking up each word separately so we can support nested entities, for example if we have the entity 'leg' (ANAT:456) within 'short leg syndrome' (IND:123): [short](IND:123) [leg](IND:123&ANAT:456) [syndrome](IND:123)```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/600655979","html_url":"https://github.com/elastic/elasticsearch/issues/45942#issuecomment-600655979","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45942","id":600655979,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDY1NTk3OQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2020-03-18T14:30:18Z","updated_at":"2020-03-18T14:30:18Z","author_association":"CONTRIBUTOR","body":"@markharwood should we keep this one open?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/600664830","html_url":"https://github.com/elastic/elasticsearch/issues/45942#issuecomment-600664830","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45942","id":600664830,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDY2NDgzMA==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2020-03-18T14:45:58Z","updated_at":"2020-03-18T14:45:58Z","author_association":"CONTRIBUTOR","body":"Closing seems reasonable. I don't think we have any strong cases emerging for something beyond what annotated text offers today.","performed_via_github_app":null}]