{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/19233","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19233/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19233/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19233/events","html_url":"https://github.com/elastic/elasticsearch/issues/19233","id":163554567,"node_id":"MDU6SXNzdWUxNjM1NTQ1Njc=","number":19233,"title":"Can't map array of [lon, lat] ","user":{"login":"nerotix","id":6172483,"node_id":"MDQ6VXNlcjYxNzI0ODM=","avatar_url":"https://avatars0.githubusercontent.com/u/6172483?v=4","gravatar_id":"","url":"https://api.github.com/users/nerotix","html_url":"https://github.com/nerotix","followers_url":"https://api.github.com/users/nerotix/followers","following_url":"https://api.github.com/users/nerotix/following{/other_user}","gists_url":"https://api.github.com/users/nerotix/gists{/gist_id}","starred_url":"https://api.github.com/users/nerotix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nerotix/subscriptions","organizations_url":"https://api.github.com/users/nerotix/orgs","repos_url":"https://api.github.com/users/nerotix/repos","events_url":"https://api.github.com/users/nerotix/events{/privacy}","received_events_url":"https://api.github.com/users/nerotix/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-07-03T09:29:05Z","updated_at":"2016-07-03T10:08:44Z","closed_at":"2016-07-03T10:08:44Z","author_association":"NONE","active_lock_reason":null,"body":"I'm trying to get Kibana to see my location info as a geo_point. I've been running about mapping and how to do it, but I can't seem to figure it out. The data looks like this in mongodb:\n\n`{ \"_id\" : \"3\", \"loc\" : \"[-122.0574, 37.41919999999999]\", \"fs\" : \"Clean\", \"name\" : \"www.googleapis.com\", \"timestamp\" : \"2016-07-02T21:02:53.623Z\", \"destination\" : \"192.168.79.136\", \"source\" : \"216.58.212.138\", \"vt\" : \"0\" }`\n\nI've tried the following:\n\n```\ncurl -XPUT 'http://localhost:9200/yapdns/_mapping' -d '\n    {\n      \"mappings\": {\n        \"loc\": {\n          \"properties\": {\n            \"location\": {\n              \"type\": \"geo_point\"\n            }\n          }\n        }\n      }\n    } '\n```\n\nBut got this error: \n`{\"error\":{\"root_cause\":[{\"type\":\"action_request_validation_exception\",\"reason\":\"Validation Failed: 1: mapping type is missing;\"}],\"type\":\"action_request_validation_exception\",\"reason\":\"Validation Failed: 1: mapping type is missing;\"},\"status\":400}`\n\nThen I tried:\n\n```\ncurl -XPUT 'http://localhost:9200/yapdns/_mapping/loc' -d '\n{\n  \"properties\": {\n    \"loc\": {\n      \"type\": \"geo_point\"\n    }\n  }\n}\n```\n\nand got this error:\n\n`{\"error\":{\"root_cause\":[{\"type\":\"illegal_argument_exception\",\"reason\":\"mapper [loc] cannot be changed from type [string] to [geo_point]\"}],\"type\":\"illegal_argument_exception\",\"reason\":\"mapper [loc] cannot be changed from type [string] to [geo_point]\"},\"status\":400}`\n\nI'm with struggling with this issue for hours now..\n\nHow would I map the values that are stored in the key \"loc\" as geo_point?\n","closed_by":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"performed_via_github_app":null}