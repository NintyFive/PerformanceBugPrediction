{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/18361","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18361/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18361/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18361/events","html_url":"https://github.com/elastic/elasticsearch/issues/18361","id":154905402,"node_id":"MDU6SXNzdWUxNTQ5MDU0MDI=","number":18361,"title":"copy_to not working as expected with the mapper plugin","user":{"login":"sikron","id":2979076,"node_id":"MDQ6VXNlcjI5NzkwNzY=","avatar_url":"https://avatars2.githubusercontent.com/u/2979076?v=4","gravatar_id":"","url":"https://api.github.com/users/sikron","html_url":"https://github.com/sikron","followers_url":"https://api.github.com/users/sikron/followers","following_url":"https://api.github.com/users/sikron/following{/other_user}","gists_url":"https://api.github.com/users/sikron/gists{/gist_id}","starred_url":"https://api.github.com/users/sikron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sikron/subscriptions","organizations_url":"https://api.github.com/users/sikron/orgs","repos_url":"https://api.github.com/users/sikron/repos","events_url":"https://api.github.com/users/sikron/events{/privacy}","received_events_url":"https://api.github.com/users/sikron/received_events","type":"User","site_admin":false},"labels":[{"id":141145460,"node_id":"MDU6TGFiZWwxNDExNDU0NjA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Mapping","name":":Search/Mapping","color":"0e8a16","default":false,"description":"How fields should be indexed"},{"id":23715,"node_id":"MDU6TGFiZWwyMzcxNQ==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Edocs","name":">docs","color":"db755e","default":false,"description":"General docs changes"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-05-15T12:05:36Z","updated_at":"2018-02-13T20:49:08Z","closed_at":"2016-05-15T17:33:00Z","author_association":"NONE","active_lock_reason":null,"body":"**Elasticsearch version**:\n2.3.2\n\n**JVM version**:\n1.7.0_101 x64\n\n**OS version**:\nUbuntu 14.04\n\n**Description of the problem including expected versus actual behavior**:\nHi,\ni am using Elasticsearch 2.3.2 with the Mapper Attachments Plugin. I try to copy the extracted content to another field, as described [here](https://github.com/elastic/elasticsearch-mapper-attachments#copy-to-feature)\nThis is not working for me, though.\n\nI also found a closed bug here #14946. But the discussion does it not make clear, whether the bug has been resolved or not.\n\nTherefore i would be happy, if you could give me a definitive answer, whether this is possible or not.\n\n**Steps to reproduce**:\ncurl -XPOST 'http://localhost:9200/test' -d '{\n  \"entry\": {\n    \"properties\": {\n      \"file\": {\n        \"type\": \"attachment\",\n        \"fields\": {\n          \"content\": {\n            \"type\": \"string\",\n            \"copy_to\": \"fulltext_en\"\n          }\n        }\n      },\n      \"fulltext_en\": {\n        \"type\": \"string\",\n        \"analyzer\": \"english\"\n      }\n    }\n  }\n}'\n\ncurl -XPOST 'http://localhost:9200/test/entry' -d '{\n  \"file\": \"TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQ=\"\n}'\n// the base64 is \"Lorem ipsum dolor sit amet\"\n\ncurl -XPOST 'http://localhost:9200/test/_search' -d '\n{\n  \"query\": {\n    \"match\": {\n      \"fulltext_en\": \"ipsum\"\n    }\n  }\n}'\n\nthe result of the search is then empty, which is wrong, as \"ipsum\" is contained in the base64.\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}