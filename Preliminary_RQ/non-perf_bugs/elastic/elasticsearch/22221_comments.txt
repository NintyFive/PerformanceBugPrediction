[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/267576170","html_url":"https://github.com/elastic/elasticsearch/issues/22221#issuecomment-267576170","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22221","id":267576170,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NzU3NjE3MA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-12-16T11:37:35Z","updated_at":"2016-12-16T11:37:35Z","author_association":"CONTRIBUTOR","body":"Hi @itkovian \r\n\r\nFrom the logs it looks like you have corrupt indices, and I'd be taking a careful look at your disks to make sure you're not going to lose more data.  From your comments you seem to think this is a bug instead of corruption.  Why is that?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/267622593","html_url":"https://github.com/elastic/elasticsearch/issues/22221#issuecomment-267622593","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22221","id":267622593,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NzYyMjU5Mw==","user":{"login":"itkovian","id":196619,"node_id":"MDQ6VXNlcjE5NjYxOQ==","avatar_url":"https://avatars3.githubusercontent.com/u/196619?v=4","gravatar_id":"","url":"https://api.github.com/users/itkovian","html_url":"https://github.com/itkovian","followers_url":"https://api.github.com/users/itkovian/followers","following_url":"https://api.github.com/users/itkovian/following{/other_user}","gists_url":"https://api.github.com/users/itkovian/gists{/gist_id}","starred_url":"https://api.github.com/users/itkovian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itkovian/subscriptions","organizations_url":"https://api.github.com/users/itkovian/orgs","repos_url":"https://api.github.com/users/itkovian/repos","events_url":"https://api.github.com/users/itkovian/events{/privacy}","received_events_url":"https://api.github.com/users/itkovian/received_events","type":"User","site_admin":false},"created_at":"2016-12-16T15:44:32Z","updated_at":"2016-12-16T15:44:32Z","author_association":"NONE","body":"I'm not seeing anything /var/log/messages that's indicative of failing disks. smartctl also says everything is fine. We've also not seen this occur until we moved to CentOS 7.2 (from SL6). As long as both nodes are up, things seem to stay green and there's nothing in the elasticsearch logs. Once a node goes down (as was the case during yesterday's update), we see the above or similar.\r\n\r\nOne thing that came to mind is the following. Could this be caused by a split-brain event, as we only have two nodes and (fingers crossed) the event seems to occur when one of them has been down.\r\n\r\nAny pointers to chase down the cause are much appreciated.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/270121799","html_url":"https://github.com/elastic/elasticsearch/issues/22221#issuecomment-270121799","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22221","id":270121799,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDEyMTc5OQ==","user":{"login":"itkovian","id":196619,"node_id":"MDQ6VXNlcjE5NjYxOQ==","avatar_url":"https://avatars3.githubusercontent.com/u/196619?v=4","gravatar_id":"","url":"https://api.github.com/users/itkovian","html_url":"https://github.com/itkovian","followers_url":"https://api.github.com/users/itkovian/followers","following_url":"https://api.github.com/users/itkovian/following{/other_user}","gists_url":"https://api.github.com/users/itkovian/gists{/gist_id}","starred_url":"https://api.github.com/users/itkovian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itkovian/subscriptions","organizations_url":"https://api.github.com/users/itkovian/orgs","repos_url":"https://api.github.com/users/itkovian/repos","events_url":"https://api.github.com/users/itkovian/events{/privacy}","received_events_url":"https://api.github.com/users/itkovian/received_events","type":"User","site_admin":false},"created_at":"2017-01-03T14:10:21Z","updated_at":"2017-01-03T14:10:21Z","author_association":"NONE","body":"After using the pointers from http://www.jillesvangurp.com/2015/02/18/elasticsearch-failed-shard-recovery/, we seem to be green again. I'm going to await the state after tomorrow's logstash index is created before closing this.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/270315401","html_url":"https://github.com/elastic/elasticsearch/issues/22221#issuecomment-270315401","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22221","id":270315401,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDMxNTQwMQ==","user":{"login":"itkovian","id":196619,"node_id":"MDQ6VXNlcjE5NjYxOQ==","avatar_url":"https://avatars3.githubusercontent.com/u/196619?v=4","gravatar_id":"","url":"https://api.github.com/users/itkovian","html_url":"https://github.com/itkovian","followers_url":"https://api.github.com/users/itkovian/followers","following_url":"https://api.github.com/users/itkovian/following{/other_user}","gists_url":"https://api.github.com/users/itkovian/gists{/gist_id}","starred_url":"https://api.github.com/users/itkovian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/itkovian/subscriptions","organizations_url":"https://api.github.com/users/itkovian/orgs","repos_url":"https://api.github.com/users/itkovian/repos","events_url":"https://api.github.com/users/itkovian/events{/privacy}","received_events_url":"https://api.github.com/users/itkovian/received_events","type":"User","site_admin":false},"created_at":"2017-01-04T08:09:59Z","updated_at":"2017-01-04T08:09:59Z","author_association":"NONE","body":"It seems that when a new lucene block was started (?), the corruption was occurring again. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/271657719","html_url":"https://github.com/elastic/elasticsearch/issues/22221#issuecomment-271657719","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22221","id":271657719,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MTY1NzcxOQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2017-01-10T18:32:29Z","updated_at":"2017-01-10T18:32:29Z","author_association":"CONTRIBUTOR","body":"@itkovian everything is pointing at your hardware.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/273200267","html_url":"https://github.com/elastic/elasticsearch/issues/22221#issuecomment-273200267","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22221","id":273200267,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzIwMDI2Nw==","user":{"login":"roffe","id":5434736,"node_id":"MDQ6VXNlcjU0MzQ3MzY=","avatar_url":"https://avatars0.githubusercontent.com/u/5434736?v=4","gravatar_id":"","url":"https://api.github.com/users/roffe","html_url":"https://github.com/roffe","followers_url":"https://api.github.com/users/roffe/followers","following_url":"https://api.github.com/users/roffe/following{/other_user}","gists_url":"https://api.github.com/users/roffe/gists{/gist_id}","starred_url":"https://api.github.com/users/roffe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roffe/subscriptions","organizations_url":"https://api.github.com/users/roffe/orgs","repos_url":"https://api.github.com/users/roffe/repos","events_url":"https://api.github.com/users/roffe/events{/privacy}","received_events_url":"https://api.github.com/users/roffe/received_events","type":"User","site_admin":false},"created_at":"2017-01-17T15:25:33Z","updated_at":"2017-01-17T15:25:33Z","author_association":"NONE","body":"Strange, getting the same problems but only when i store the data on a glusterfs backed storage.\r\nIf i use node local storage i don't get these errors.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/290725140","html_url":"https://github.com/elastic/elasticsearch/issues/22221#issuecomment-290725140","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22221","id":290725140,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDcyNTE0MA==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2017-03-31T14:19:57Z","updated_at":"2017-03-31T14:19:57Z","author_association":"MEMBER","body":"No further feedback. @itkovian if you are still seeing this issue please reopen this issue and provide any information you can.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/390757269","html_url":"https://github.com/elastic/elasticsearch/issues/22221#issuecomment-390757269","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22221","id":390757269,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MDc1NzI2OQ==","user":{"login":"drekle","id":1883554,"node_id":"MDQ6VXNlcjE4ODM1NTQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1883554?v=4","gravatar_id":"","url":"https://api.github.com/users/drekle","html_url":"https://github.com/drekle","followers_url":"https://api.github.com/users/drekle/followers","following_url":"https://api.github.com/users/drekle/following{/other_user}","gists_url":"https://api.github.com/users/drekle/gists{/gist_id}","starred_url":"https://api.github.com/users/drekle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drekle/subscriptions","organizations_url":"https://api.github.com/users/drekle/orgs","repos_url":"https://api.github.com/users/drekle/repos","events_url":"https://api.github.com/users/drekle/events{/privacy}","received_events_url":"https://api.github.com/users/drekle/received_events","type":"User","site_admin":false},"created_at":"2018-05-21T19:29:01Z","updated_at":"2018-05-21T19:29:01Z","author_association":"NONE","body":"I am also seeing this using the helm charts elasticsearch and fluentd-elasticsearch in a kubernetes cluster where the default storage class is gluster.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/403246608","html_url":"https://github.com/elastic/elasticsearch/issues/22221#issuecomment-403246608","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22221","id":403246608,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzI0NjYwOA==","user":{"login":"pblaas","id":12804065,"node_id":"MDQ6VXNlcjEyODA0MDY1","avatar_url":"https://avatars1.githubusercontent.com/u/12804065?v=4","gravatar_id":"","url":"https://api.github.com/users/pblaas","html_url":"https://github.com/pblaas","followers_url":"https://api.github.com/users/pblaas/followers","following_url":"https://api.github.com/users/pblaas/following{/other_user}","gists_url":"https://api.github.com/users/pblaas/gists{/gist_id}","starred_url":"https://api.github.com/users/pblaas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pblaas/subscriptions","organizations_url":"https://api.github.com/users/pblaas/orgs","repos_url":"https://api.github.com/users/pblaas/repos","events_url":"https://api.github.com/users/pblaas/events{/privacy}","received_events_url":"https://api.github.com/users/pblaas/received_events","type":"User","site_admin":false},"created_at":"2018-07-07T22:23:10Z","updated_at":"2018-07-07T22:23:10Z","author_association":"NONE","body":"Same as Drekle. I currently experienced this also with fluentd to es which is stored onto GlusterFS. \r\nI also noticed this with other then fluentd workloads to es on gluster volumes.\r\nAt a random time its corrupts the indices.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/403269583","html_url":"https://github.com/elastic/elasticsearch/issues/22221#issuecomment-403269583","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22221","id":403269583,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzI2OTU4Mw==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2018-07-08T07:46:59Z","updated_at":"2018-07-08T07:46:59Z","author_association":"CONTRIBUTOR","body":"The first few Google hits for `elasticsearch glusterfs` lead to some serious-looking open GlusterFS issues:\r\n\r\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1390050\r\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1379568\r\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1552257\r\n\r\nThere may be more. It seems likely that corruption on GlusterFS-backed clusters is due to issues outside of Elasticsearch.","performed_via_github_app":null}]