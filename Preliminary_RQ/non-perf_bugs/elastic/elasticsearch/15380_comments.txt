[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/163884085","html_url":"https://github.com/elastic/elasticsearch/issues/15380#issuecomment-163884085","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15380","id":163884085,"node_id":"MDEyOklzc3VlQ29tbWVudDE2Mzg4NDA4NQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-12-11T09:22:45Z","updated_at":"2015-12-11T09:22:45Z","author_association":"CONTRIBUTOR","body":"Disconnects happen for many reasons, eg network, slow garbage collection, etc.  The problem is that you are running Elasticsearch with only two nodes, and without `minimum_master_nodes` set to a quorum of nodes in the cluster (which in your case would be two).  So when the nodes are unable to communicate with each other, each node thinks the other has disappeared and forms its own cluster.  These nodes will never reconnect.\n\nYou should have a minimum of 3 nodes in the cluster, and have `minimum_master_nodes` set to 2.  That way, if a single node disconnects then it will not form its own cluster but will try to rejoin the other two nodes.  If all 3 nodes disconnect from each other, your cluster will be non-functional until they reconnect.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/164004953","html_url":"https://github.com/elastic/elasticsearch/issues/15380#issuecomment-164004953","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15380","id":164004953,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NDAwNDk1Mw==","user":{"login":"tdoman","id":11098266,"node_id":"MDQ6VXNlcjExMDk4MjY2","avatar_url":"https://avatars1.githubusercontent.com/u/11098266?v=4","gravatar_id":"","url":"https://api.github.com/users/tdoman","html_url":"https://github.com/tdoman","followers_url":"https://api.github.com/users/tdoman/followers","following_url":"https://api.github.com/users/tdoman/following{/other_user}","gists_url":"https://api.github.com/users/tdoman/gists{/gist_id}","starred_url":"https://api.github.com/users/tdoman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tdoman/subscriptions","organizations_url":"https://api.github.com/users/tdoman/orgs","repos_url":"https://api.github.com/users/tdoman/repos","events_url":"https://api.github.com/users/tdoman/events{/privacy}","received_events_url":"https://api.github.com/users/tdoman/received_events","type":"User","site_admin":false},"created_at":"2015-12-11T18:02:52Z","updated_at":"2015-12-11T18:03:28Z","author_association":"NONE","body":"Great, thank you very much for the prompt response Clinton, we'll make those changes.  We've gotten away w/ 2 nodes for well over a year now (impressive no?) and since ES performed so well for us, always worked like a charm, and more nodes cost $$$, we never added the recommended 3rd node for performance or any other needs.  Looks like we have grown into that place where that 3rd node is not only recommended but necessary.\n","performed_via_github_app":null}]