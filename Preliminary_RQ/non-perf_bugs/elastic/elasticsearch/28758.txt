{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/28758","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28758/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28758/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28758/events","html_url":"https://github.com/elastic/elasticsearch/issues/28758","id":298858364,"node_id":"MDU6SXNzdWUyOTg4NTgzNjQ=","number":28758,"title":"PluginsServiceTests fail on windows (again)","user":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"labels":[{"id":146832994,"node_id":"MDU6TGFiZWwxNDY4MzI5OTQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Plugins","name":":Core/Infra/Plugins","color":"0e8a16","default":false,"description":"Plugin API and infrastructure"},{"id":60445228,"node_id":"MDU6TGFiZWw2MDQ0NTIyOA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest","name":">test","color":"5319e7","default":false,"description":"Issues or PRs that are addressing/adding tests"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"assignees":[{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2018-02-21T06:42:58Z","updated_at":"2018-02-21T20:24:08Z","closed_at":"2018-02-21T20:24:08Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Related: https://github.com/elastic/elasticsearch/issues/28095\r\n\r\nIt seems that recent changes to the PluginsServiceTests have (re)introduced a windows incompatibility.\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+multijob-windows-compatibility/700/console\r\n```\r\n05:55:22 ERROR   0.00s J1 | PluginsServiceTests (suite) <<< FAILURES!\r\n05:55:22    > Throwable #1: java.io.IOException: Could not remove the following files (in the order of attempts):\r\n05:55:22    >    C:\\Users\\jenkins\\workspace\\elastic+elasticsearch+6.x+multijob-windows-compatibility\\server\\build\\testrun\\test\\J1\\temp\\org.elasticsearch.plugins.PluginsServiceTests_85B3DAB5DD409299-001\\tempDir-037\\plugins\\fake-meta\\fake\\plugin.jar: java.nio.file.FileSystemException: C:\\Users\\jenkins\\workspace\\elastic+elasticsearch+6.x+multijob-windows-compatibility\\server\\build\\testrun\\test\\J1\\temp\\org.elasticsearch.plugins.PluginsServiceTests_85B3DAB5DD409299-001\\tempDir-037\\plugins\\fake-meta\\fake\\plugin.jar: The process cannot access the file because it is being used by another process.\r\n05:55:22    >    C:\\Users\\jenkins\\workspace\\elastic+elasticsearch+6.x+multijob-windows-compatibility\\server\\build\\testrun\\test\\J1\\temp\\org.elasticsearch.plugins.PluginsServiceTests_85B3DAB5DD409299-001\\tempDir-037\\plugins\\fake-meta\\fake: java.nio.file.DirectoryNotEmptyException: C:\\Users\\jenkins\\workspace\\elastic+elasticsearch+6.x+multijob-windows-compatibility\\server\\build\\testrun\\test\\J1\\temp\\org.elasticsearch.plugins.PluginsServiceTests_85B3DAB5DD409299-001\\tempDir-037\\plugins\\fake-meta\\fake\r\n```\r\n\r\nIt seems that this is triggered by the changes in 106f5c5925059f4655b9c2abadcdbb18b4da4180\r\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}