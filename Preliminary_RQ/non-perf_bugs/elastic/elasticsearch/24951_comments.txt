[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/304832774","html_url":"https://github.com/elastic/elasticsearch/issues/24951#issuecomment-304832774","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24951","id":304832774,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDgzMjc3NA==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2017-05-30T10:03:31Z","updated_at":"2017-05-30T10:03:31Z","author_association":"MEMBER","body":"This doesn't look like a date parsing problem to me. Adding a simple document like `{\"ExpiryDate\":\"2050-12-12\"}` works just fine for me in 5.2.1.\r\n@shcherbak where do you see the \"java data parse error\"? What's the mappings for the \"ExpiryDate\" field? Also the source of the document in the log looks strange, my json formatter complains starting with `...\"link\":29272.pdf\"...` where the quoting of the string seems to be broken somehow. How do you generate those documents?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/304837329","html_url":"https://github.com/elastic/elasticsearch/issues/24951#issuecomment-304837329","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24951","id":304837329,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDgzNzMyOQ==","user":{"login":"shcherbak","id":14364672,"node_id":"MDQ6VXNlcjE0MzY0Njcy","avatar_url":"https://avatars0.githubusercontent.com/u/14364672?v=4","gravatar_id":"","url":"https://api.github.com/users/shcherbak","html_url":"https://github.com/shcherbak","followers_url":"https://api.github.com/users/shcherbak/followers","following_url":"https://api.github.com/users/shcherbak/following{/other_user}","gists_url":"https://api.github.com/users/shcherbak/gists{/gist_id}","starred_url":"https://api.github.com/users/shcherbak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shcherbak/subscriptions","organizations_url":"https://api.github.com/users/shcherbak/orgs","repos_url":"https://api.github.com/users/shcherbak/repos","events_url":"https://api.github.com/users/shcherbak/events{/privacy}","received_events_url":"https://api.github.com/users/shcherbak/received_events","type":"User","site_admin":false},"created_at":"2017-05-30T10:24:02Z","updated_at":"2017-05-30T10:24:02Z","author_association":"NONE","body":"@cbuescher , here it is:\r\norg.elasticsearch.index.mapper.MapperParsingException: failed to parse [ExpiryDate]\r\n\"link\":29272.pdf\" -  vas a valid json, i'v deleted some of data because of security issue (domain, resource etc). it sould be \"link\":\"29272.pdf\"","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/304839896","html_url":"https://github.com/elastic/elasticsearch/issues/24951#issuecomment-304839896","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24951","id":304839896,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDgzOTg5Ng==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2017-05-30T10:36:48Z","updated_at":"2017-05-30T10:37:02Z","author_association":"MEMBER","body":"Ok, thanks for clearing up the issue with the documents \"source\". As I mentioned, the error shown doesn't point to a problem with the date parsing, it only happens with your \"ExpiryDate\" field. I checked that there is nothing wrong in general with the format, without a mapping \"2050-12-12\" gets recognized as a date and parsed correctly. So in order to reproduce this we need a minimal example of a mapping and document that show this behaviour, otherwise I suspect some other issue with your bulk request or your mapping.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/304840471","html_url":"https://github.com/elastic/elasticsearch/issues/24951#issuecomment-304840471","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24951","id":304840471,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDg0MDQ3MQ==","user":{"login":"shcherbak","id":14364672,"node_id":"MDQ6VXNlcjE0MzY0Njcy","avatar_url":"https://avatars0.githubusercontent.com/u/14364672?v=4","gravatar_id":"","url":"https://api.github.com/users/shcherbak","html_url":"https://github.com/shcherbak","followers_url":"https://api.github.com/users/shcherbak/followers","following_url":"https://api.github.com/users/shcherbak/following{/other_user}","gists_url":"https://api.github.com/users/shcherbak/gists{/gist_id}","starred_url":"https://api.github.com/users/shcherbak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shcherbak/subscriptions","organizations_url":"https://api.github.com/users/shcherbak/orgs","repos_url":"https://api.github.com/users/shcherbak/repos","events_url":"https://api.github.com/users/shcherbak/events{/privacy}","received_events_url":"https://api.github.com/users/shcherbak/received_events","type":"User","site_admin":false},"created_at":"2017-05-30T10:39:50Z","updated_at":"2017-05-30T11:50:15Z","author_association":"NONE","body":"@cbuescher , i have reproduce (100%)\r\n\r\n`GET product_gallery/product_gallerytype/_search\r\n{\r\n  \"query\": {\r\n    \"match\": {\r\n      \"_id\": \"21213533\"\r\n    }\r\n  }\r\n}\r\n\r\n\r\n{\r\n  \"took\": 264,\r\n  \"timed_out\": false,\r\n  \"_shards\": {\r\n    \"total\": 5,\r\n    \"successful\": 5,\r\n    \"failed\": 0\r\n  },\r\n  \"hits\": {\r\n    \"total\": 1,\r\n    \"max_score\": 1,\r\n    \"hits\": [\r\n      {\r\n        \"_index\": \"product_gallery\",\r\n        \"_type\": \"product_gallerytype\",\r\n        \"_id\": \"21213533\",\r\n        \"_score\": 1,\r\n        \"_source\": {\r\n          \"product_id\": \"37033502\",\r\n          \"low_height\": \"200\",\r\n          \"id\": \"21213533\",\r\n          \"low_width\": \"102\",\r\n          \"link_origin\": \"link_origin_masked/S450_222-02.jpg\",\r\n          \"medium_size\": \"29661\",\r\n          \"data_source_id\": \"0\",\r\n          \"editor_user_id\": \"52979\",\r\n          \"ExpiryDate\": \"2050-01-01 00:00:00\",\r\n          \"medium_height\": \"500\",\r\n          \"md5_origin\": \"c0131ddba6aba7431636f775af01933b\",\r\n          \"link_raw\": \"link_raw_masked/37033502_7964155893.jpeg\",\r\n          \"medium_width\": \"256\",\r\n          \"thumb_size\": \"923\",\r\n          \"is_main\": true,\r\n          \"low_link\": \"low_link_masked/37033502_7964155893.jpg\",\r\n          \"thumb_link\": \"thumb_link_masked/37033502_7964155893.jpg\",\r\n          \"height\": \"1772\",\r\n          \"low_size\": \"7573\",\r\n          \"quality\": \"1\",\r\n          \"medium_link\": \"medium_link_masked/37033502_7964155893.jpg\",\r\n          \"langid\": \"0\",\r\n          \"width\": \"909\",\r\n          \"link\": \"link_masked/37033502_7964155893.jpg\",\r\n          \"size\": \"98721\",\r\n          \"size_origin\": \"49105\",\r\n          \"updated\": \"2050-01-01 00:00:00\",\r\n          \"no\": \"2\"\r\n        }\r\n      }\r\n    ]\r\n  }\r\n}`\r\n\r\n\r\nbuffer overflows and then we see in logs:\r\nData too large, data for [<http_request>] would be larger than limit of [195153100\r\n7/1.8gb]\r\n\r\nthere is no data such size, even indexes are smaller. this is a test system\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/304924324","html_url":"https://github.com/elastic/elasticsearch/issues/24951#issuecomment-304924324","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24951","id":304924324,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDkyNDMyNA==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2017-05-30T15:56:13Z","updated_at":"2017-05-30T20:58:43Z","author_association":"MEMBER","body":"So just to be clear, this is not a date parsing error. I updated the title accordingly. I think your issue might be related to a bug fixed in https://github.com/elastic/elasticsearch/pull/23310 which should be in 5.2.2. I'd advise you try this with a version higher than 5.2.1.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/316985116","html_url":"https://github.com/elastic/elasticsearch/issues/24951#issuecomment-316985116","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24951","id":316985116,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNjk4NTExNg==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2017-07-21T12:12:00Z","updated_at":"2017-07-21T12:12:00Z","author_association":"MEMBER","body":"No further feedback. If you manage to reproduce this on 5.2.2+ please reopen this issue and provide details","performed_via_github_app":null}]