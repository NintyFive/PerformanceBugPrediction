[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/411746895","html_url":"https://github.com/elastic/elasticsearch/issues/32694#issuecomment-411746895","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32694","id":411746895,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTc0Njg5NQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-08-09T12:53:29Z","updated_at":"2018-08-09T12:53:29Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search-aggs","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/411800889","html_url":"https://github.com/elastic/elasticsearch/issues/32694#issuecomment-411800889","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32694","id":411800889,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTgwMDg4OQ==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2018-08-09T15:36:15Z","updated_at":"2018-08-09T15:36:15Z","author_association":"MEMBER","body":"If you switch the `synonym` filter to a `synonym_graph` your example works as expected. Mixing `synonym_graph` and `word_delimiter_graph` is not fully supported though since these filters are not able to handle an input with multiple paths. Your example is a bit different because it uses a `keyword` tokenizer so you can only have one position in the stream. I am closing this issue because the recreation works with a `synonym_graph`, thanks @shaunstone for reporting.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/411826537","html_url":"https://github.com/elastic/elasticsearch/issues/32694#issuecomment-411826537","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32694","id":411826537,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTgyNjUzNw==","user":{"login":"shaunstone","id":8634697,"node_id":"MDQ6VXNlcjg2MzQ2OTc=","avatar_url":"https://avatars0.githubusercontent.com/u/8634697?v=4","gravatar_id":"","url":"https://api.github.com/users/shaunstone","html_url":"https://github.com/shaunstone","followers_url":"https://api.github.com/users/shaunstone/followers","following_url":"https://api.github.com/users/shaunstone/following{/other_user}","gists_url":"https://api.github.com/users/shaunstone/gists{/gist_id}","starred_url":"https://api.github.com/users/shaunstone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shaunstone/subscriptions","organizations_url":"https://api.github.com/users/shaunstone/orgs","repos_url":"https://api.github.com/users/shaunstone/repos","events_url":"https://api.github.com/users/shaunstone/events{/privacy}","received_events_url":"https://api.github.com/users/shaunstone/received_events","type":"User","site_admin":false},"created_at":"2018-08-09T16:58:28Z","updated_at":"2018-08-09T16:58:28Z","author_association":"NONE","body":"Thanks for the update @jimczi.  I have a couple of concerns about switching to the `synonym_graph` was that for one it is marked as \"experimental\" in the es [docs](https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-synonym-graph-tokenfilter.html) (as is `word_delimiter_graph`) and also it is recommended that we not use the `synonym_graph` for index time synonyms.  ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/411897037","html_url":"https://github.com/elastic/elasticsearch/issues/32694#issuecomment-411897037","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32694","id":411897037,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTg5NzAzNw==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2018-08-09T21:06:05Z","updated_at":"2018-08-09T21:06:05Z","author_association":"MEMBER","body":"The recommendation around synonyms in general is that you should use `synonym_graph` at query time if you have multi word rules like `msg, madison square garden`. This way we are able to preserve the path of each synonym in the query and combine it with other terms that appear before and after it. \r\nIn your example you apply synonyms at index *and* query time but you use expanding rules (`mvg, madison square garden`) so you should apply it only at query time and use the `synonym_graph`.\r\nRegarding the `experimental` status we'll remove it soon so you shouldn't worry too much. We plan to keep this filter and we will not change its behavior without proper deprecation.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/411897390","html_url":"https://github.com/elastic/elasticsearch/issues/32694#issuecomment-411897390","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32694","id":411897390,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTg5NzM5MA==","user":{"login":"shaunstone","id":8634697,"node_id":"MDQ6VXNlcjg2MzQ2OTc=","avatar_url":"https://avatars0.githubusercontent.com/u/8634697?v=4","gravatar_id":"","url":"https://api.github.com/users/shaunstone","html_url":"https://github.com/shaunstone","followers_url":"https://api.github.com/users/shaunstone/followers","following_url":"https://api.github.com/users/shaunstone/following{/other_user}","gists_url":"https://api.github.com/users/shaunstone/gists{/gist_id}","starred_url":"https://api.github.com/users/shaunstone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shaunstone/subscriptions","organizations_url":"https://api.github.com/users/shaunstone/orgs","repos_url":"https://api.github.com/users/shaunstone/repos","events_url":"https://api.github.com/users/shaunstone/events{/privacy}","received_events_url":"https://api.github.com/users/shaunstone/received_events","type":"User","site_admin":false},"created_at":"2018-08-09T21:07:16Z","updated_at":"2018-08-09T21:07:16Z","author_association":"NONE","body":"awesome thanks alot @jimczi ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/494259479","html_url":"https://github.com/elastic/elasticsearch/issues/32694#issuecomment-494259479","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32694","id":494259479,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDI1OTQ3OQ==","user":{"login":"pankaj3-s","id":3471180,"node_id":"MDQ6VXNlcjM0NzExODA=","avatar_url":"https://avatars2.githubusercontent.com/u/3471180?v=4","gravatar_id":"","url":"https://api.github.com/users/pankaj3-s","html_url":"https://github.com/pankaj3-s","followers_url":"https://api.github.com/users/pankaj3-s/followers","following_url":"https://api.github.com/users/pankaj3-s/following{/other_user}","gists_url":"https://api.github.com/users/pankaj3-s/gists{/gist_id}","starred_url":"https://api.github.com/users/pankaj3-s/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pankaj3-s/subscriptions","organizations_url":"https://api.github.com/users/pankaj3-s/orgs","repos_url":"https://api.github.com/users/pankaj3-s/repos","events_url":"https://api.github.com/users/pankaj3-s/events{/privacy}","received_events_url":"https://api.github.com/users/pankaj3-s/received_events","type":"User","site_admin":false},"created_at":"2019-05-21T06:36:56Z","updated_at":"2019-05-21T06:36:56Z","author_association":"NONE","body":"Fantastic!!","performed_via_github_app":null}]