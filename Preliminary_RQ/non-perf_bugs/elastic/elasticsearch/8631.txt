{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/8631","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8631/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8631/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8631/events","html_url":"https://github.com/elastic/elasticsearch/issues/8631","id":49882033,"node_id":"MDU6SXNzdWU0OTg4MjAzMw==","number":8631,"title":"Only primary IP address in `_cat/nodes` ouput","user":{"login":"errordeveloper","id":251467,"node_id":"MDQ6VXNlcjI1MTQ2Nw==","avatar_url":"https://avatars1.githubusercontent.com/u/251467?v=4","gravatar_id":"","url":"https://api.github.com/users/errordeveloper","html_url":"https://github.com/errordeveloper","followers_url":"https://api.github.com/users/errordeveloper/followers","following_url":"https://api.github.com/users/errordeveloper/following{/other_user}","gists_url":"https://api.github.com/users/errordeveloper/gists{/gist_id}","starred_url":"https://api.github.com/users/errordeveloper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/errordeveloper/subscriptions","organizations_url":"https://api.github.com/users/errordeveloper/orgs","repos_url":"https://api.github.com/users/errordeveloper/repos","events_url":"https://api.github.com/users/errordeveloper/events{/privacy}","received_events_url":"https://api.github.com/users/errordeveloper/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2014-11-24T11:57:58Z","updated_at":"2014-11-25T12:44:33Z","closed_at":"2014-11-25T12:44:33Z","author_association":"NONE","active_lock_reason":null,"body":"I have set `-Des.network.bind_host` and `-Des.network.publish_host` to use IP address of an non-primary interface, but the `_cat/nodes?h=ip,name` still gives me primary IP.\n\n``` JSON\ncurl '10.10.1.1:9200/_nodes/_local?pretty'\n{\n  \"cluster_name\" : \"elasticsearch\",\n  \"nodes\" : {\n    \"wxDJnCJfQjKjsm0dQvqIVQ\" : {\n      \"name\" : \"Algrim the Strong\",\n      \"transport_address\" : \"inet[/10.10.1.1:9300]\",\n      \"host\" : \"d1edb4b54c7f\",\n      \"ip\" : \"10.1.0.11\",\n      \"version\" : \"1.4.0\",\n      \"build\" : \"bc94bd8\",\n      \"http_address\" : \"inet[/10.10.1.1:9200]\",\n      \"settings\" : {\n        \"name\" : \"Algrim the Strong\",\n        \"path\" : {\n          \"logs\" : \"/usr/elasticsearch-1.4.0/logs\",\n          \"home\" : \"/usr/elasticsearch-1.4.0\"\n        },\n        \"cluster\" : {\n          \"name\" : \"elasticsearch\"\n        },\n        \"client\" : {\n          \"type\" : \"node\"\n        },\n        \"foreground\" : \"yes\",\n        \"network\" : {\n          \"bind_host\" : \"_ethwe:ipv4_\",\n          \"publish_host\" : \"_ethwe:ipv4_\"\n        }\n      },\n      \"os\" : {\n        \"refresh_interval_in_millis\" : 1000,\n        \"available_processors\" : 1,\n        \"cpu\" : {\n          \"vendor\" : \"Intel\",\n          \"model\" : \"Core(TM) i7-4870HQ CPU @ 2.50GHz\",\n          \"mhz\" : 2498,\n          \"total_cores\" : 1,\n          \"total_sockets\" : 1,\n          \"cores_per_socket\" : 1,\n          \"cache_size_in_bytes\" : 6144\n        },\n        \"mem\" : {\n          \"total_in_bytes\" : 1046568960\n        },\n        \"swap\" : {\n          \"total_in_bytes\" : 0\n        }\n      },\n      \"process\" : {\n        \"refresh_interval_in_millis\" : 1000,\n        \"id\" : 1,\n        \"max_file_descriptors\" : 1048576,\n        \"mlockall\" : false\n      },\n      \"jvm\" : {\n        \"pid\" : 1,\n        \"version\" : \"1.8.0_25\",\n        \"vm_name\" : \"Java HotSpot(TM) 64-Bit Server VM\",\n        \"vm_version\" : \"25.25-b02\",\n        \"vm_vendor\" : \"Oracle Corporation\",\n        \"start_time_in_millis\" : 1416827899445,\n        \"mem\" : {\n          \"heap_init_in_bytes\" : 268435456,\n          \"heap_max_in_bytes\" : 1065025536,\n          \"non_heap_init_in_bytes\" : 2555904,\n          \"non_heap_max_in_bytes\" : 0,\n          \"direct_max_in_bytes\" : 1065025536\n        },\n        \"gc_collectors\" : [ \"ParNew\", \"ConcurrentMarkSweep\" ],\n        \"memory_pools\" : [ \"Code Cache\", \"Metaspace\", \"Compressed Class Space\", \"Par Eden Space\", \"Par Survivor Space\", \"CMS Old Gen\" ]\n      },\n      \"thread_pool\" : {\n        \"percolate\" : {\n          \"type\" : \"fixed\",\n          \"min\" : 1,\n          \"max\" : 1,\n          \"queue_size\" : \"1k\"\n        },\n        \"bench\" : {\n          \"type\" : \"scaling\",\n          \"min\" : 1,\n          \"max\" : 1,\n          \"keep_alive\" : \"5m\",\n          \"queue_size\" : -1\n        },\n        \"listener\" : {\n          \"type\" : \"fixed\",\n          \"min\" : 1,\n          \"max\" : 1,\n          \"queue_size\" : -1\n        },\n        \"index\" : {\n          \"type\" : \"fixed\",\n          \"min\" : 1,\n          \"max\" : 1,\n          \"queue_size\" : \"200\"\n        },\n        \"refresh\" : {\n          \"type\" : \"scaling\",\n          \"min\" : 1,\n          \"max\" : 1,\n          \"keep_alive\" : \"5m\",\n          \"queue_size\" : -1\n        },\n        \"suggest\" : {\n          \"type\" : \"fixed\",\n          \"min\" : 1,\n          \"max\" : 1,\n          \"queue_size\" : \"1k\"\n        },\n        \"generic\" : {\n          \"type\" : \"cached\",\n          \"keep_alive\" : \"30s\",\n          \"queue_size\" : -1\n        },\n        \"warmer\" : {\n          \"type\" : \"scaling\",\n          \"min\" : 1,\n          \"max\" : 1,\n          \"keep_alive\" : \"5m\",\n          \"queue_size\" : -1\n        },\n        \"search\" : {\n          \"type\" : \"fixed\",\n          \"min\" : 3,\n          \"max\" : 3,\n          \"queue_size\" : \"1k\"\n        },\n        \"flush\" : {\n          \"type\" : \"scaling\",\n          \"min\" : 1,\n          \"max\" : 1,\n          \"keep_alive\" : \"5m\",\n          \"queue_size\" : -1\n        },\n        \"optimize\" : {\n          \"type\" : \"fixed\",\n          \"min\" : 1,\n          \"max\" : 1,\n          \"queue_size\" : -1\n        },\n        \"management\" : {\n          \"type\" : \"scaling\",\n          \"min\" : 1,\n          \"max\" : 5,\n          \"keep_alive\" : \"5m\",\n          \"queue_size\" : -1\n        },\n        \"get\" : {\n          \"type\" : \"fixed\",\n          \"min\" : 1,\n          \"max\" : 1,\n          \"queue_size\" : \"1k\"\n        },\n        \"merge\" : {\n          \"type\" : \"scaling\",\n          \"min\" : 1,\n          \"max\" : 1,\n          \"keep_alive\" : \"5m\",\n          \"queue_size\" : -1\n        },\n        \"bulk\" : {\n          \"type\" : \"fixed\",\n          \"min\" : 1,\n          \"max\" : 1,\n          \"queue_size\" : \"50\"\n        },\n        \"snapshot\" : {\n          \"type\" : \"scaling\",\n          \"min\" : 1,\n          \"max\" : 1,\n          \"keep_alive\" : \"5m\",\n          \"queue_size\" : -1\n        }\n      },\n      \"network\" : {\n        \"refresh_interval_in_millis\" : 5000,\n        \"primary_interface\" : {\n          \"address\" : \"10.1.0.11\",\n          \"name\" : \"eth0\",\n          \"mac_address\" : \"02:42:0A:01:00:0B\"\n        }\n      },\n      \"transport\" : {\n        \"bound_address\" : \"inet[/10.10.1.1:9300]\",\n        \"publish_address\" : \"inet[/10.10.1.1:9300]\"\n      },\n      \"http\" : {\n        \"bound_address\" : \"inet[/10.10.1.1:9200]\",\n        \"publish_address\" : \"inet[/10.10.1.1:9200]\",\n        \"max_content_length_in_bytes\" : 104857600\n      },\n      \"plugins\" : [ ]\n    }\n  }\n}\n```\n\nAlthough the above has correct addresses in most places, but the `nodes.*.ip`...\n\n```\ncurl '10.10.1.1:9200/_cat/nodes?h=ip,name,http_address'\n10.1.0.6  Thane Ector       \n10.1.0.12 Steel Spider      \n10.1.0.5  Aguja             \n10.1.0.11 Algrim the Strong \n```\n\nAt least it would be great to be able to do `_cat/nodes?h=http_address` as sort of a work-around, I guess, but doesn't look like it's currently exposed.\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}