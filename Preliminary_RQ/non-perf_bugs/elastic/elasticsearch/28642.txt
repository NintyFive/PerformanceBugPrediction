{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/28642","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28642/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28642/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28642/events","html_url":"https://github.com/elastic/elasticsearch/issues/28642","id":296521904,"node_id":"MDU6SXNzdWUyOTY1MjE5MDQ=","number":28642,"title":"ES 6.1.1: receiving TransportShardMultiTermsVectorAction exception","user":{"login":"tdoman","id":11098266,"node_id":"MDQ6VXNlcjExMDk4MjY2","avatar_url":"https://avatars1.githubusercontent.com/u/11098266?v=4","gravatar_id":"","url":"https://api.github.com/users/tdoman","html_url":"https://github.com/tdoman","followers_url":"https://api.github.com/users/tdoman/followers","following_url":"https://api.github.com/users/tdoman/following{/other_user}","gists_url":"https://api.github.com/users/tdoman/gists{/gist_id}","starred_url":"https://api.github.com/users/tdoman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tdoman/subscriptions","organizations_url":"https://api.github.com/users/tdoman/orgs","repos_url":"https://api.github.com/users/tdoman/repos","events_url":"https://api.github.com/users/tdoman/events{/privacy}","received_events_url":"https://api.github.com/users/tdoman/received_events","type":"User","site_admin":false},"labels":[{"id":146832564,"node_id":"MDU6TGFiZWwxNDY4MzI1NjQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Search","name":":Search/Search","color":"0e8a16","default":false,"description":"Search-related issues that do not fall into other categories"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":773475250,"node_id":"MDU6TGFiZWw3NzM0NzUyNTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v6.1.1","name":"v6.1.1","color":"dddddd","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2018-02-12T20:58:33Z","updated_at":"2018-06-27T23:51:22Z","closed_at":"2018-06-27T23:46:32Z","author_association":"NONE","active_lock_reason":null,"body":"ES 6.1.1\r\nNEST 6.0\r\n\r\nIn perusing my ES logs, I've noticed that I'm rather frequently seeing `TransportShardMultiTermsVectorAction` exceptions.  I'm not exactly sure what a **MultiTermsVector** even is.  Anyway, I'm trying to determine the exact request that's producing this but, in the meantime, I wanted to enter this issue since I expect it's beyond my control.  Here's an example from my log:\r\n```\r\n[2018-02-12T20:30:59,803][DEBUG][o.e.a.t.TransportShardMultiTermsVectorAction]\r\n[ES-MYNODE1] [my_index][9] failed to execute multi term vectors for [my_type]/[3288128]\r\norg.elasticsearch.ElasticsearchException: failed to execute term vector request\r\n\tat org.elasticsearch.index.termvectors.TermVectorsService.getTermVectors(TermVectorsService.java:150) ~[elasticsearch-6.1.1.jar:6.1.1]\r\n\tat org.elasticsearch.index.termvectors.TermVectorsService.getTermVectors(TermVectorsService.java:77) ~[elasticsearch-6.1.1.jar:6.1.1]\r\n\tat org.elasticsearch.action.termvectors.TransportShardMultiTermsVectorAction.shardOperation(TransportShardMultiTermsVectorAction.java:86) [elasticsearch-6.1.1.jar:6.1.1]\r\n\tat org.elasticsearch.action.termvectors.TransportShardMultiTermsVectorAction.shardOperation(TransportShardMultiTermsVectorAction.java:42) [elasticsearch-6.1.1.jar:6.1.1]\r\n\tat org.elasticsearch.action.support.single.shard.TransportSingleShardAction$ShardTransportHandler.messageReceived(TransportSingleShardAction.java:294) [elasticsearch-6.1.1.jar:6.1.1]\r\n\tat org.elasticsearch.action.support.single.shard.TransportSingleShardAction$ShardTransportHandler.messageReceived(TransportSingleShardAction.java:287) [elasticsearch-6.1.1.jar:6.1.1]\r\n\tat org.elasticsearch.transport.TransportRequestHandler.messageReceived(TransportRequestHandler.java:30) [elasticsearch-6.1.1.jar:6.1.1]\r\n\tat org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:66) [elasticsearch-6.1.1.jar:6.1.1]\r\n\tat org.elasticsearch.transport.TransportService$7.doRun(TransportService.java:652) [elasticsearch-6.1.1.jar:6.1.1]\r\n\tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:637) [elasticsearch-6.1.1.jar:6.1.1]\r\n\tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) [elasticsearch-6.1.1.jar:6.1.1]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_112]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_112]\r\n\tat java.lang.Thread.run(Thread.java:745) [?:1.8.0_112]\r\nCaused by: java.lang.NullPointerException\r\n\tat org.elasticsearch.action.termvectors.TermVectorsWriter.setFields(TermVectorsWriter.java:82) ~[elasticsearch-6.1.1.jar:6.1.1]\r\n\tat org.elasticsearch.action.termvectors.TermVectorsResponse.setFields(TermVectorsResponse.java:360) ~[elasticsearch-6.1.1.jar:6.1.1]\r\n\tat org.elasticsearch.index.termvectors.TermVectorsService.getTermVectors(TermVectorsService.java:146) ~[elasticsearch-6.1.1.jar:6.1.1]\r\n\t... 13 more\r\n```","closed_by":{"login":"tdoman","id":11098266,"node_id":"MDQ6VXNlcjExMDk4MjY2","avatar_url":"https://avatars1.githubusercontent.com/u/11098266?v=4","gravatar_id":"","url":"https://api.github.com/users/tdoman","html_url":"https://github.com/tdoman","followers_url":"https://api.github.com/users/tdoman/followers","following_url":"https://api.github.com/users/tdoman/following{/other_user}","gists_url":"https://api.github.com/users/tdoman/gists{/gist_id}","starred_url":"https://api.github.com/users/tdoman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tdoman/subscriptions","organizations_url":"https://api.github.com/users/tdoman/orgs","repos_url":"https://api.github.com/users/tdoman/repos","events_url":"https://api.github.com/users/tdoman/events{/privacy}","received_events_url":"https://api.github.com/users/tdoman/received_events","type":"User","site_admin":false},"performed_via_github_app":null}