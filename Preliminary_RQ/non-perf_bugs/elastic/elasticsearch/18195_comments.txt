[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/217634240","html_url":"https://github.com/elastic/elasticsearch/issues/18195#issuecomment-217634240","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18195","id":217634240,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzYzNDI0MA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-05-07T13:13:58Z","updated_at":"2016-05-07T13:13:58Z","author_association":"CONTRIBUTOR","body":"In the original issue (https://github.com/elastic/elasticsearch/issues/12394) I went into great detail to explain the reasoning behind this change, but to address your questions here:\n\n> Defaulting this way will continue to pattern of users seeing increased disk utilization out of the box as they upgraded versions of elasticsearch\n\nIn the past, the `string` field could be used for full text search and for aggregations, by loading all the terms into the heap in fielddata.  The behaviour of these fields depended largely on the type of value that was specified, eg \"The quick brown fox...\" implied the use of full text search (but not aggregations or sorting), while \"London\" might be a single identifier used for single-term lookups, aggregations and sorting.  But \"New York\", which is probably intended for the second use case could actually only be used for the first.\n\nWe can't deduce which use case a user intends when we receive a string field - it could be either.  The solution for this is to provide a main `text` field for full text search (with fielddata disabled so that users don't unwittingly flood their heap by trying to run aggregations or sorting on that field), and a sub-field of type `keyword` for the single-term lookup, sorting, and aggregations use case.\n\nThe benefit of this is that, without any config, you get both access patterns for string fields out of the box.  The downside is that you index string values twice.This is exactly the same pattern that Logstash has used for string fields for a long time so users of Logstash are unlikely to see any change.\n\nIt is very easy to optimize disk space usage here: just map your fields as `text` or `keyword` or add a dynamic mapping for `text`which specifies whether a field should be only `text` or only `keyword`.  \n\n> By using keyword for the multi-field name we are tightly coupling it to what tokenizer is used. For example if we every rename the keyword tokenizer to noop (which I would love to see since it more accurately describes what it does and also is how we tend to explain it to folks) then the multi-field option.\n\nNo we aren't.  This field is not named after the `keyword` analyzer, it is named after the field type `keyword`.  The field type got its name in the same way as the `keyword` analyzer did: we don't want full `text`, we want to treat this value as a single keyword.  What other name would your recommend to describe the datatype for this field?\n\nAnd `keyword` fields in the future will not be restricted to the `keyword` analyzer. We will add support for limited analysis which allows, eg lowercasing or performing unicode normalization, or unicode collations. \n\nFor me, the only debate is whether this sub-field should be called `keyword` or `raw`, which is the name used today in Logstash.  For bwc, `raw` would probably be better, but I think that `keyword` is more descriptive. My current feeling is that we should continue to use `keyword`.  Logstash is free to keep their index template which uses `raw` instead.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/217727071","html_url":"https://github.com/elastic/elasticsearch/issues/18195#issuecomment-217727071","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18195","id":217727071,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzcyNzA3MQ==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-05-08T15:29:21Z","updated_at":"2016-05-08T15:29:21Z","author_association":"CONTRIBUTOR","body":"+1 to what Clinton said. The fact that we did not map strings both for text search and keyword search/aggs in the past caused bad out-of-the-box experiences since you almost certainly had to reindex once you realized that you could not aggregate on whole string values.\n\nRegarding disk usage, it will be higher with default mappings for sure, but the problem is mitigated by the use of `ignore_above: 256`. There is a trade-off for sure, but I think having to reindex to run aggregations is more disappointing than higher-than-expected disk usage.\n\nHowever I'm also open to changing the name to either `raw` like logstash or `original` like @rjernst suggested. I have a slight preference for `keyword` though.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/218994889","html_url":"https://github.com/elastic/elasticsearch/issues/18195#issuecomment-218994889","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18195","id":218994889,"node_id":"MDEyOklzc3VlQ29tbWVudDIxODk5NDg4OQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-05-13T09:26:31Z","updated_at":"2016-05-13T09:26:31Z","author_association":"CONTRIBUTOR","body":"Discussed it in Fix it Friday - we prefer the `keyword` field.  Logstash can continue to use `raw` with dynamic templates, should they so choose.\n\nI will improve the docs to explain that we're optimising for the OOB experience, but disk usage can be improved with some simple mappings.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/220442022","html_url":"https://github.com/elastic/elasticsearch/issues/18195#issuecomment-220442022","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18195","id":220442022,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDQ0MjAyMg==","user":{"login":"djschny","id":129643,"node_id":"MDQ6VXNlcjEyOTY0Mw==","avatar_url":"https://avatars0.githubusercontent.com/u/129643?v=4","gravatar_id":"","url":"https://api.github.com/users/djschny","html_url":"https://github.com/djschny","followers_url":"https://api.github.com/users/djschny/followers","following_url":"https://api.github.com/users/djschny/following{/other_user}","gists_url":"https://api.github.com/users/djschny/gists{/gist_id}","starred_url":"https://api.github.com/users/djschny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/djschny/subscriptions","organizations_url":"https://api.github.com/users/djschny/orgs","repos_url":"https://api.github.com/users/djschny/repos","events_url":"https://api.github.com/users/djschny/events{/privacy}","received_events_url":"https://api.github.com/users/djschny/received_events","type":"User","site_admin":false},"created_at":"2016-05-19T20:26:03Z","updated_at":"2016-05-19T20:26:03Z","author_association":"CONTRIBUTOR","body":"> What other name would your recommend to describe the datatype for this field?\n\n`not_tokenized`\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/237694871","html_url":"https://github.com/elastic/elasticsearch/issues/18195#issuecomment-237694871","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18195","id":237694871,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzY5NDg3MQ==","user":{"login":"jordansissel","id":131818,"node_id":"MDQ6VXNlcjEzMTgxOA==","avatar_url":"https://avatars1.githubusercontent.com/u/131818?v=4","gravatar_id":"","url":"https://api.github.com/users/jordansissel","html_url":"https://github.com/jordansissel","followers_url":"https://api.github.com/users/jordansissel/followers","following_url":"https://api.github.com/users/jordansissel/following{/other_user}","gists_url":"https://api.github.com/users/jordansissel/gists{/gist_id}","starred_url":"https://api.github.com/users/jordansissel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jordansissel/subscriptions","organizations_url":"https://api.github.com/users/jordansissel/orgs","repos_url":"https://api.github.com/users/jordansissel/repos","events_url":"https://api.github.com/users/jordansissel/events{/privacy}","received_events_url":"https://api.github.com/users/jordansissel/received_events","type":"User","site_admin":false},"created_at":"2016-08-04T21:52:02Z","updated_at":"2016-08-05T02:24:46Z","author_association":"CONTRIBUTOR","body":"> Logstash can continue to use raw\n\nMuch of the road to 5.0 has been a theme of consistency. We've used `raw` for a long long time, and now are suddenly calling this thing `keyword` -- this is inconsistent.  Logstash should not keep inconsistency and is looking at [fixing that](https://github.com/logstash-plugins/logstash-output-elasticsearch/pull/462) very soon, which is why I'm here talking about our new friend `keyword`. I do not believe Logstash can continue using `raw` because after 5.0 this becomes a user experience problem that ES uses `keyword` for strings where Logstash uses `raw`.\n\nThat said, for me personally, `keyword` is the wrong name. \"United States\" is two _words_, \"San Jose Sharks\" is three _words_, and yet the `keyword` name implies a singular `word`. A user agent string is even further something I would consider a `keyword` and yet I use Logstash's `raw` feature to allow me to do aggregations on user agents. My chief concerns on naming things is about how much I expect it to confuse users.\n\nWith the hands-on-workshop, I teach people about analyzers/tokenizers by showing what happens to a `string` by default in Elasticsearch, then we talk about treating these entire strings as a single field value (or \"term\"). Because we're on the topic of analyzers, it is easy to say \"We solve this by using this thing called `not_analyzed`, and logstash calls this field the 'raw' value\". It is early for this keyword feature, but I have trouble coming up with such a story for teaching.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/237749646","html_url":"https://github.com/elastic/elasticsearch/issues/18195#issuecomment-237749646","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18195","id":237749646,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzc0OTY0Ng==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-08-05T03:59:17Z","updated_at":"2016-08-05T03:59:17Z","author_association":"MEMBER","body":"And raw is a shorter name :)\n\nI think consistency is a good point here.\n\nBut I'd like to be able to apply some token filters on this type of fields at some point so I don't think that having \"raw\" + an analyzer would make sense in term of meaning.\n\"Keyword\" + an analyzer has more meaning IMO.\n\nI think we should mark this discussion as a blocker for the next release because it will be hard to change after we released the beta.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/238372868","html_url":"https://github.com/elastic/elasticsearch/issues/18195#issuecomment-238372868","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18195","id":238372868,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODM3Mjg2OA==","user":{"login":"jordansissel","id":131818,"node_id":"MDQ6VXNlcjEzMTgxOA==","avatar_url":"https://avatars1.githubusercontent.com/u/131818?v=4","gravatar_id":"","url":"https://api.github.com/users/jordansissel","html_url":"https://github.com/jordansissel","followers_url":"https://api.github.com/users/jordansissel/followers","following_url":"https://api.github.com/users/jordansissel/following{/other_user}","gists_url":"https://api.github.com/users/jordansissel/gists{/gist_id}","starred_url":"https://api.github.com/users/jordansissel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jordansissel/subscriptions","organizations_url":"https://api.github.com/users/jordansissel/orgs","repos_url":"https://api.github.com/users/jordansissel/repos","events_url":"https://api.github.com/users/jordansissel/events{/privacy}","received_events_url":"https://api.github.com/users/jordansissel/received_events","type":"User","site_admin":false},"created_at":"2016-08-08T20:50:58Z","updated_at":"2016-08-08T20:57:48Z","author_association":"CONTRIBUTOR","body":"I've been thinking the past few days how to find a way to convince myself that `keyword` is the right name. Here is the story on how I can explain to myself why `keyword` might be the right name:\n\nI thought `keyword` was poor because I view Elasticsearch field mappings as a way to say \"The data is of this type\". This worked well for me to understand and explain various obvious-to-me data types in Elasticsearch such as dates, longs, floats, strings, etc.\n\nIn this model, I was telling Elasticsearch _what the data is_, and trying to distinguish strings vs keyword vs text was not fitting my mental model.\n\nThe Elasticsearch [documentation on mappings](https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping.html) says this:\n\n> Mapping is the process of defining how a document, and the fields it contains, are stored and indexed.\n\nIn this description, it seems that the mapping is presented as _how_ Elasticsearch uses the data, not _what_ the data is. If I view things with the _how_ in mind, instead of the _what_, I think `keyword` makes sense -- I can tell Elasticsearch _how_ to treat something like \"United States\" (such as text or keyword).\n\nThe above explanation may be confusing, but I think I can use this model -- _how_ instead of _what_ -- to tell stories in trainings, etc, about reasons for using `text` vs `keyword`. \"Treat it as a keyword\", for example.\n\nI am still nervous about the difficult schema change this will require on the Logstash side; in the battle for consistency, Logstash will want to change the multifield `.raw` to match what Elasticsearch uses: `.keyword`.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/238473026","html_url":"https://github.com/elastic/elasticsearch/issues/18195#issuecomment-238473026","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18195","id":238473026,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODQ3MzAyNg==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-08-09T07:16:24Z","updated_at":"2016-08-09T07:16:24Z","author_association":"CONTRIBUTOR","body":"If this proves to be a challenge to logstash, I'd personally be ok with keeping the field called `keyword` but having it named `xxx.raw` in the default mappings. Am I right to assume this is something you'd be happy with?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/238488243","html_url":"https://github.com/elastic/elasticsearch/issues/18195#issuecomment-238488243","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18195","id":238488243,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODQ4ODI0Mw==","user":{"login":"cdahlqvist","id":2804455,"node_id":"MDQ6VXNlcjI4MDQ0NTU=","avatar_url":"https://avatars0.githubusercontent.com/u/2804455?v=4","gravatar_id":"","url":"https://api.github.com/users/cdahlqvist","html_url":"https://github.com/cdahlqvist","followers_url":"https://api.github.com/users/cdahlqvist/followers","following_url":"https://api.github.com/users/cdahlqvist/following{/other_user}","gists_url":"https://api.github.com/users/cdahlqvist/gists{/gist_id}","starred_url":"https://api.github.com/users/cdahlqvist/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdahlqvist/subscriptions","organizations_url":"https://api.github.com/users/cdahlqvist/orgs","repos_url":"https://api.github.com/users/cdahlqvist/repos","events_url":"https://api.github.com/users/cdahlqvist/events{/privacy}","received_events_url":"https://api.github.com/users/cdahlqvist/received_events","type":"User","site_admin":false},"created_at":"2016-08-09T08:31:51Z","updated_at":"2016-08-09T08:31:51Z","author_association":"NONE","body":"There are a lot of users with massive amounts of data ingested through Logstash where the current .raw field convention is used. Changing the default from .raw has the potential to unnecessarily break a lot of systems and cause problems for users using the default templates or custom index templates based on these. Please take this into consideration before deciding to change the existing .raw field naming convention.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/238724442","html_url":"https://github.com/elastic/elasticsearch/issues/18195#issuecomment-238724442","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18195","id":238724442,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODcyNDQ0Mg==","user":{"login":"jordansissel","id":131818,"node_id":"MDQ6VXNlcjEzMTgxOA==","avatar_url":"https://avatars1.githubusercontent.com/u/131818?v=4","gravatar_id":"","url":"https://api.github.com/users/jordansissel","html_url":"https://github.com/jordansissel","followers_url":"https://api.github.com/users/jordansissel/followers","following_url":"https://api.github.com/users/jordansissel/following{/other_user}","gists_url":"https://api.github.com/users/jordansissel/gists{/gist_id}","starred_url":"https://api.github.com/users/jordansissel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jordansissel/subscriptions","organizations_url":"https://api.github.com/users/jordansissel/orgs","repos_url":"https://api.github.com/users/jordansissel/repos","events_url":"https://api.github.com/users/jordansissel/events{/privacy}","received_events_url":"https://api.github.com/users/jordansissel/received_events","type":"User","site_admin":false},"created_at":"2016-08-09T23:34:03Z","updated_at":"2016-08-09T23:34:03Z","author_association":"CONTRIBUTOR","body":"@cdahlqvist We're discussing the options and impacts of `.raw` vs `.keyword` over on https://github.com/logstash-plugins/logstash-output-elasticsearch/pull/462\n\nI have a rough draft of a proposal here: https://github.com/logstash-plugins/logstash-output-elasticsearch/pull/462#issuecomment-238376557\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/238724718","html_url":"https://github.com/elastic/elasticsearch/issues/18195#issuecomment-238724718","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18195","id":238724718,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODcyNDcxOA==","user":{"login":"jordansissel","id":131818,"node_id":"MDQ6VXNlcjEzMTgxOA==","avatar_url":"https://avatars1.githubusercontent.com/u/131818?v=4","gravatar_id":"","url":"https://api.github.com/users/jordansissel","html_url":"https://github.com/jordansissel","followers_url":"https://api.github.com/users/jordansissel/followers","following_url":"https://api.github.com/users/jordansissel/following{/other_user}","gists_url":"https://api.github.com/users/jordansissel/gists{/gist_id}","starred_url":"https://api.github.com/users/jordansissel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jordansissel/subscriptions","organizations_url":"https://api.github.com/users/jordansissel/orgs","repos_url":"https://api.github.com/users/jordansissel/repos","events_url":"https://api.github.com/users/jordansissel/events{/privacy}","received_events_url":"https://api.github.com/users/jordansissel/received_events","type":"User","site_admin":false},"created_at":"2016-08-09T23:35:42Z","updated_at":"2016-08-09T23:35:42Z","author_association":"CONTRIBUTOR","body":"@jpountz I'd be OK having ES's default to `xxx.raw`, yes. The benefit there is to not divide users across the release boundary of 5.0 (new users and old users would both get `.raw` if we did this)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/238841499","html_url":"https://github.com/elastic/elasticsearch/issues/18195#issuecomment-238841499","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18195","id":238841499,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODg0MTQ5OQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-08-10T11:38:15Z","updated_at":"2016-08-10T11:38:15Z","author_association":"CONTRIBUTOR","body":"@jordansissel I agree with the conclusion you reached in https://github.com/elastic/elasticsearch/issues/18195#issuecomment-238372868 and I think that `keyword` is fundamentally the right name for this field (including for the reasons cited in https://github.com/elastic/elasticsearch/issues/18195#issuecomment-237749646). Long term it makes the purpose of the field easier to explain.\n\nWhile I'm not completely against keeping the field as `raw`, I think that (unfettered by history) we'd choose `keyword` today instead.\n\nAll that said, I obviously recognise that this makes for a painful transition in Logstash.  I don't have great suggestions for how to make this easier, but the options are probably as follows:\n- New users - use `keyword` from the outset\n- Existing users with custom templates - most of these won't be much impacted\n- Existing users with short retention periods - could use `raw` and `keyword` for the duration of the transition\n- Existing users with long retention periods - could change the template to just use `raw` going forwards\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/238884211","html_url":"https://github.com/elastic/elasticsearch/issues/18195#issuecomment-238884211","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18195","id":238884211,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODg4NDIxMQ==","user":{"login":"jordansissel","id":131818,"node_id":"MDQ6VXNlcjEzMTgxOA==","avatar_url":"https://avatars1.githubusercontent.com/u/131818?v=4","gravatar_id":"","url":"https://api.github.com/users/jordansissel","html_url":"https://github.com/jordansissel","followers_url":"https://api.github.com/users/jordansissel/followers","following_url":"https://api.github.com/users/jordansissel/following{/other_user}","gists_url":"https://api.github.com/users/jordansissel/gists{/gist_id}","starred_url":"https://api.github.com/users/jordansissel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jordansissel/subscriptions","organizations_url":"https://api.github.com/users/jordansissel/orgs","repos_url":"https://api.github.com/users/jordansissel/repos","events_url":"https://api.github.com/users/jordansissel/events{/privacy}","received_events_url":"https://api.github.com/users/jordansissel/received_events","type":"User","site_admin":false},"created_at":"2016-08-10T14:28:55Z","updated_at":"2016-08-10T14:28:55Z","author_association":"CONTRIBUTOR","body":"+1 clint's comments and keeping 'keyword'.\n\nI think we can help users through  this period of transition. It may be\nhard, but I think it's the right direction.\n\nOn Wednesday, August 10, 2016, Clinton Gormley notifications@github.com\nwrote:\n\n> @jordansissel https://github.com/jordansissel I agree with the\n> conclusion you reached in #18195 (comment)\n> https://github.com/elastic/elasticsearch/issues/18195#issuecomment-238372868\n> and I think that keyword is fundamentally the right name for this field\n> (including for the reasons cited in #18195 (comment)\n> https://github.com/elastic/elasticsearch/issues/18195#issuecomment-237749646).\n> Long term it makes the purpose of the field easier to explain.\n> \n> While I'm not completely against keeping the field as raw, I think that\n> (unfettered by history) we'd choose keyword today instead.\n> \n> All that said, I obviously recognise that this makes for a painful\n> transition in Logstash. I don't have great suggestions for how to make this\n> easier, but the options are probably as follows:\n> - New users - use keyword from the outset\n> - Existing users with custom templates - most of these won't be much\n>   impacted\n> - Existing users with short retention periods - could use raw and\n>   keyword for the duration of the transition\n> - Existing users with long retention periods - could change the\n>   template to just use raw going forwards\n> \n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> https://github.com/elastic/elasticsearch/issues/18195#issuecomment-238841499,\n> or mute the thread\n> https://github.com/notifications/unsubscribe-auth/AAIC6vUIeZey6EZJHL9KAaDqxjsgRugYks5qebhpgaJpZM4IZVF6\n> .\n","performed_via_github_app":null}]