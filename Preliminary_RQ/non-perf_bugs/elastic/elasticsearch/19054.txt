{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/19054","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19054/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19054/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19054/events","html_url":"https://github.com/elastic/elasticsearch/issues/19054","id":162086497,"node_id":"MDU6SXNzdWUxNjIwODY0OTc=","number":19054,"title":"SearchGraurd plugin not connecting  with Elasticsearch","user":{"login":"kavipreetha","id":12067145,"node_id":"MDQ6VXNlcjEyMDY3MTQ1","avatar_url":"https://avatars3.githubusercontent.com/u/12067145?v=4","gravatar_id":"","url":"https://api.github.com/users/kavipreetha","html_url":"https://github.com/kavipreetha","followers_url":"https://api.github.com/users/kavipreetha/followers","following_url":"https://api.github.com/users/kavipreetha/following{/other_user}","gists_url":"https://api.github.com/users/kavipreetha/gists{/gist_id}","starred_url":"https://api.github.com/users/kavipreetha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kavipreetha/subscriptions","organizations_url":"https://api.github.com/users/kavipreetha/orgs","repos_url":"https://api.github.com/users/kavipreetha/repos","events_url":"https://api.github.com/users/kavipreetha/events{/privacy}","received_events_url":"https://api.github.com/users/kavipreetha/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-06-24T06:46:23Z","updated_at":"2016-06-24T08:00:06Z","closed_at":"2016-06-24T08:00:05Z","author_association":"NONE","active_lock_reason":null,"body":"I use elasticssearch 2.3.3 \nand installed following as plugin in ES\nsearch-guard-ssl - 2.3.3.13\nsearch-guard-2 - 2.3.3.1\n1. Created jks file using search-guard-ssl and copied to elasticsearch/config path\n2. elasticsearch.yml added entried related to search-guard-ssl \n   searchguard.ssl.transport.keystore_filepath: node-guidanz-keystore.jks\n   searchguard.ssl.transport.keystore_password: guidanz123\n   searchguard.ssl.transport.truststore_filepath: truststore.jks\n   searchguard.ssl.transport.truststore_password: guidanz123\n   searchguard.ssl.transport.enforce_hostname_verification: false\n   searchguard.ssl.http.enabled: true\n   searchguard.ssl.http.keystore_filepath: node-guidanz-keystore.jks\n   searchguard.ssl.http.keystore_password: guidanz123\n   searchguard.ssl.http.truststore_filepath: truststore.jks\n   searchguard.ssl.http.truststore_password: guidanz123\n3. elasticsearch.yml added the entry of search-guard-2 plugin\n   searchguard.authcz.admin_dn:\n   - \"DC=com, DC=10.9.14.8, O=Guidanz Com Inc., OU=Guidanz Com Inc. Root CA, CN=Guidanz Com Inc. Root CA\"\n4. Opened another terminal and ran the following command,\n   plugins/search-guard-2/tools/sgadmin.sh -cd plugins/search-guard-2/sgconfig/ -h 10.9.14.8 -p 9300 -ks plugins/search-guard-2/sgconfig/node-guidanz-keystore.jks  -kspass guidanz123 -ts plugins/search-guard-2/sgconfig/truststore.jks -tspass guidanz123  -nrhn\n   Got the following error,\n   Connect to 10.9.14.8:9300\n   Exception in thread \"main\" NoNodeAvailableException[None of the configured nodes are available: [{#transport#-1}{10.9.14.8}{10.9.14.8:9300}]]\n   at org.elasticsearch.client.transport.TransportClientNodesService.ensureNodesAreAvailable(TransportClientNodesService.java:290)\n   at org.elasticsearch.client.transport.TransportClientNodesService.execute(TransportClientNodesService.java:207)\n   at org.elasticsearch.client.transpotore_filepath: truststore.jks\n   searchguard.ssl.transport.truststore_password: guidanz123\n   searchguard.ssl.transport.enforce_hostname_verification: false\n   searchguard.ssl.http.enabled: true\n   searchguard.ssl.http.keystore_filepath: node-guidanz-keystore.jks\n   searchguard.ssl.http.keystore_password: guidanz123\n   searchguard.ssl.http.truststore_filepath: truststore.jks\n   searchguard.ssl.http.truststore_password: guidanz123\n\nsearchguard.audit.type: internal_elasticsearch\n\nKindly suggest to proceed further.rt.support.TransportProxyClient.execute(TransportProxyClient.java:55)\n    at org.elasticsearch.client.transport.TransportClient.doExecute(TransportClient.java:288)\n    at org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:359)\n    at org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:348)\n    at org.elasticsearch.client.support.AbstractClient$ClusterAdmin.execute(AbstractClient.java:848)\n    at org.elasticsearch.client.support.AbstractClient$ClusterAdmin.health(AbstractClient.java:868)\n    at com.floragunn.searchguard.tools.SearchGuardAdmin.main(SearchGuardAdmin.java:201)\n1. And in elelasticsearch got the following error,\n\n[2016-06-24 11:56:38,625][ERROR][com.floragunn.searchguard.transport.SearchGuardTransportService] No user found in this LivenessRequest for action cluster:monitor/nodes/liveness and transport type netty. If you see this error related when you use sgadmin make sure you connect with a client (and not with a node) certificate.\n\nBelow is full configuration of my elasticsearch.yml\n\ncluster.name: my-searchgaurd-application\nnetwork.host: 10.9.14.8\nhttp.port: 9500\nsearchguard.authcz.admin_dn:\n- \"DC=com, DC=10.9.14.8, O=Guidanz Com Inc., OU=Guidanz Com Inc. Root CA, CN=Guidanz Com Inc. Root CA\"\n\nsearchguard.ssl.transport.keystore_filepath: node-guidanz-keystore.jks\nsearchguard.ssl.transport.keystore_password: guidanz123\nsearchguard.ssl.transport.truststore_filepath: truststore.jks\nsearchguard.ssl.transport.truststore_password: guidanz123\nsearchguard.ssl.transport.enforce_hostname_verification: false\nsearchguard.ssl.http.enabled: true\nsearchguard.ssl.http.keystore_filepath: node-guidanz-keystore.jks\nsearchguard.ssl.http.keystore_password: guidanz123\nsearchguard.ssl.http.truststore_filepath: truststore.jks\nsearchguard.ssl.http.truststore_password: guidanz123\n\nsearchguard.audit.type: internal_elasticsearch\n\nKindly suggest to proceed further.\n","closed_by":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"performed_via_github_app":null}