{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/10510","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10510/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10510/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10510/events","html_url":"https://github.com/elastic/elasticsearch/issues/10510","id":67366430,"node_id":"MDU6SXNzdWU2NzM2NjQzMA==","number":10510,"title":"ES barfs on 3D coordinates","user":{"login":"hukka","id":119247,"node_id":"MDQ6VXNlcjExOTI0Nw==","avatar_url":"https://avatars2.githubusercontent.com/u/119247?v=4","gravatar_id":"","url":"https://api.github.com/users/hukka","html_url":"https://github.com/hukka","followers_url":"https://api.github.com/users/hukka/followers","following_url":"https://api.github.com/users/hukka/following{/other_user}","gists_url":"https://api.github.com/users/hukka/gists{/gist_id}","starred_url":"https://api.github.com/users/hukka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hukka/subscriptions","organizations_url":"https://api.github.com/users/hukka/orgs","repos_url":"https://api.github.com/users/hukka/repos","events_url":"https://api.github.com/users/hukka/events{/privacy}","received_events_url":"https://api.github.com/users/hukka/received_events","type":"User","site_admin":false},"labels":[{"id":141079527,"node_id":"MDU6TGFiZWwxNDEwNzk1Mjc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Analytics/Geo","name":":Analytics/Geo","color":"0e8a16","default":false,"description":"Indexing, search aggregations of geo points and shapes"}],"state":"closed","locked":false,"assignee":{"login":"nknize","id":830187,"node_id":"MDQ6VXNlcjgzMDE4Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/830187?v=4","gravatar_id":"","url":"https://api.github.com/users/nknize","html_url":"https://github.com/nknize","followers_url":"https://api.github.com/users/nknize/followers","following_url":"https://api.github.com/users/nknize/following{/other_user}","gists_url":"https://api.github.com/users/nknize/gists{/gist_id}","starred_url":"https://api.github.com/users/nknize/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nknize/subscriptions","organizations_url":"https://api.github.com/users/nknize/orgs","repos_url":"https://api.github.com/users/nknize/repos","events_url":"https://api.github.com/users/nknize/events{/privacy}","received_events_url":"https://api.github.com/users/nknize/received_events","type":"User","site_admin":false},"assignees":[{"login":"nknize","id":830187,"node_id":"MDQ6VXNlcjgzMDE4Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/830187?v=4","gravatar_id":"","url":"https://api.github.com/users/nknize","html_url":"https://github.com/nknize","followers_url":"https://api.github.com/users/nknize/followers","following_url":"https://api.github.com/users/nknize/following{/other_user}","gists_url":"https://api.github.com/users/nknize/gists{/gist_id}","starred_url":"https://api.github.com/users/nknize/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nknize/subscriptions","organizations_url":"https://api.github.com/users/nknize/orgs","repos_url":"https://api.github.com/users/nknize/repos","events_url":"https://api.github.com/users/nknize/events{/privacy}","received_events_url":"https://api.github.com/users/nknize/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2015-04-09T13:49:49Z","updated_at":"2015-04-10T20:36:07Z","closed_at":"2015-04-10T20:36:07Z","author_association":"NONE","active_lock_reason":null,"body":"GeoJSON allows for altitude/elevation data in coordinates: \"A position is represented by an array of numbers. There must be at least two elements, and may be more. The order of elements must follow x, y, z order (easting, northing, altitude for coordinates in a projected coordinate reference system, or longitude, latitude, altitude for coordinates in a geographic coordinate reference system).\"\n\nUnfortunately ES does not like this at all. For example\n\n```\n\"location\": {\"coordinates\": [[21.758451554932154, 59.94981396923298, 4.606], [21.758562151951164, 59.94958900257331, 4.507], [21.758594573325485, 59.949384308291066, 5.845], [21.758506828193497, 59.94908418029604, 8.552], [21.75850445683433, 59.9489969477522, 8.753], [21.75851567477881, 59.94896506422581, 8.745], [21.758709217831672, 59.94875661966012, 7.749], [21.758812419950235, 59.94852881190606, 6.785], [21.758934003178023, 59.9481809000838, 5.878], [21.75894258819726, 59.948156920023145, 5.831]], \"type\": \"LineString\"}\n```\n\nreturns\n\n```\norg.elasticsearch.ElasticsearchParseException: Invalid number of points in LineString (found 1 - must be >= 2)\nat org.elasticsearch.common.geo.builders.ShapeBuilder$GeoShapeType.parseLineString(ShapeBuilder.java:838)\nat org.elasticsearch.common.geo.builders.ShapeBuilder$GeoShapeType.parse(ShapeBuilder.java:757)\nat org.elasticsearch.common.geo.builders.ShapeBuilder.parse(ShapeBuilder.java:289)\nat org.elasticsearch.index.mapper.geo.GeoShapeFieldMapper.parse(GeoShapeFieldMapper.java:242)\n... 12 more\n```\n\n(linenumbers do not match to master HEAD in github, but the problem is in parseCoordinates method).\nThe limitation is not mentioned in the documentation either (or at least it wasn't on the geo_shape page).\n","closed_by":{"login":"nknize","id":830187,"node_id":"MDQ6VXNlcjgzMDE4Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/830187?v=4","gravatar_id":"","url":"https://api.github.com/users/nknize","html_url":"https://github.com/nknize","followers_url":"https://api.github.com/users/nknize/followers","following_url":"https://api.github.com/users/nknize/following{/other_user}","gists_url":"https://api.github.com/users/nknize/gists{/gist_id}","starred_url":"https://api.github.com/users/nknize/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nknize/subscriptions","organizations_url":"https://api.github.com/users/nknize/orgs","repos_url":"https://api.github.com/users/nknize/repos","events_url":"https://api.github.com/users/nknize/events{/privacy}","received_events_url":"https://api.github.com/users/nknize/received_events","type":"User","site_admin":false},"performed_via_github_app":null}