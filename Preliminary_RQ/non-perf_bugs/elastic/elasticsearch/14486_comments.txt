[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/154097472","html_url":"https://github.com/elastic/elasticsearch/issues/14486#issuecomment-154097472","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14486","id":154097472,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NDA5NzQ3Mg==","user":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"created_at":"2015-11-05T15:42:23Z","updated_at":"2015-11-05T15:42:23Z","author_association":"MEMBER","body":"What would you like to do with the values in the range buckets?  Do you mainly want to do group metrics like `min`/`max`/`avg`, etc?  Or also \"sequential\" operations like `moving_avg`?\n\nI ask because the first set would be relatively simple, whereas the second is much more complicated.  Operations like a moving average rely on the previous data to be evenly spaced and contiguous.  We currently have a \"gap policy\" that helps fill in gaps in a series of data...but I'm not sure how that would work with ranges that can be unequally sized and spaced.\n\n/cc @colings86 \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/177095888","html_url":"https://github.com/elastic/elasticsearch/issues/14486#issuecomment-177095888","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14486","id":177095888,"node_id":"MDEyOklzc3VlQ29tbWVudDE3NzA5NTg4OA==","user":{"login":"nishasingla1224","id":12969115,"node_id":"MDQ6VXNlcjEyOTY5MTE1","avatar_url":"https://avatars0.githubusercontent.com/u/12969115?v=4","gravatar_id":"","url":"https://api.github.com/users/nishasingla1224","html_url":"https://github.com/nishasingla1224","followers_url":"https://api.github.com/users/nishasingla1224/followers","following_url":"https://api.github.com/users/nishasingla1224/following{/other_user}","gists_url":"https://api.github.com/users/nishasingla1224/gists{/gist_id}","starred_url":"https://api.github.com/users/nishasingla1224/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishasingla1224/subscriptions","organizations_url":"https://api.github.com/users/nishasingla1224/orgs","repos_url":"https://api.github.com/users/nishasingla1224/repos","events_url":"https://api.github.com/users/nishasingla1224/events{/privacy}","received_events_url":"https://api.github.com/users/nishasingla1224/received_events","type":"User","site_admin":false},"created_at":"2016-01-30T07:40:59Z","updated_at":"2016-01-30T07:40:59Z","author_association":"NONE","body":"Hi \nI want to group the computed data using pipeline aggregations.Would be great to have a support of this feature.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/183904841","html_url":"https://github.com/elastic/elasticsearch/issues/14486#issuecomment-183904841","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14486","id":183904841,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MzkwNDg0MQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-02-14T15:21:45Z","updated_at":"2016-02-14T15:21:45Z","author_association":"CONTRIBUTOR","body":"@davmrtl @nishasingla1224 I still don't understand what you mean by \"grouping\" here.  Could you provide a concrete example?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/221229733","html_url":"https://github.com/elastic/elasticsearch/issues/14486#issuecomment-221229733","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14486","id":221229733,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTIyOTczMw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-05-24T10:31:02Z","updated_at":"2016-05-24T10:31:02Z","author_association":"CONTRIBUTOR","body":"This issue is fairly old and there hasn't been much activity on it. Closing, but please re-open if it still occurs.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/240349381","html_url":"https://github.com/elastic/elasticsearch/issues/14486#issuecomment-240349381","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14486","id":240349381,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MDM0OTM4MQ==","user":{"login":"phoenixgao","id":853338,"node_id":"MDQ6VXNlcjg1MzMzOA==","avatar_url":"https://avatars1.githubusercontent.com/u/853338?v=4","gravatar_id":"","url":"https://api.github.com/users/phoenixgao","html_url":"https://github.com/phoenixgao","followers_url":"https://api.github.com/users/phoenixgao/followers","following_url":"https://api.github.com/users/phoenixgao/following{/other_user}","gists_url":"https://api.github.com/users/phoenixgao/gists{/gist_id}","starred_url":"https://api.github.com/users/phoenixgao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phoenixgao/subscriptions","organizations_url":"https://api.github.com/users/phoenixgao/orgs","repos_url":"https://api.github.com/users/phoenixgao/repos","events_url":"https://api.github.com/users/phoenixgao/events{/privacy}","received_events_url":"https://api.github.com/users/phoenixgao/received_events","type":"User","site_admin":false},"created_at":"2016-08-17T08:38:42Z","updated_at":"2016-08-17T08:38:42Z","author_association":"NONE","body":"Imaging I have indexed events into elasticsearch, each event is like:\n{\"timestamp\" : @timestamp, \"event_name\": \"hit a button\", \"user_id\": 123}\n\nSo I'd like to have a first buckets aggregation to count the times a user hit the button group by user_id, then I want to know the range of these counts\n\nIs it possible to do this without a pipeline range aggregation? @clintongormley @polyfractal \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/240410014","html_url":"https://github.com/elastic/elasticsearch/issues/14486#issuecomment-240410014","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14486","id":240410014,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MDQxMDAxNA==","user":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"created_at":"2016-08-17T13:26:32Z","updated_at":"2016-08-17T13:26:32Z","author_association":"MEMBER","body":"@phoenixgao: you can do something like this:\n\n``` json\n{\n   \"query\": {\n      \"constant_score\": {\n         \"filter\": {\n            \"term\": {\n               \"event_name\": \"hit a button\"\n            }\n         }\n      }\n   },\n   \"aggs\": {\n      \"users\": {\n         \"terms\": {\n            \"field\": \"user_id\"\n         }\n      },\n      \"click_stats\": {\n         \"stats_bucket\": {\n            \"buckets_path\": \"users._count\"\n         }\n      }\n   }\n}\n```\n\nThe query limits the docs to those that were \"button click\" events, the `terms` agg groups by user_id, and the `stats_bucket` will show you the min/max/avg, etc of the user click counts.\n\n@phoenixgao If you have any more questions, please [make a thread at the discussion forums](https://discuss.elastic.co/).  Github tickets are more for bug reports and feature requests, general questions are better suited for the forums :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/240423992","html_url":"https://github.com/elastic/elasticsearch/issues/14486#issuecomment-240423992","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14486","id":240423992,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MDQyMzk5Mg==","user":{"login":"phoenixgao","id":853338,"node_id":"MDQ6VXNlcjg1MzMzOA==","avatar_url":"https://avatars1.githubusercontent.com/u/853338?v=4","gravatar_id":"","url":"https://api.github.com/users/phoenixgao","html_url":"https://github.com/phoenixgao","followers_url":"https://api.github.com/users/phoenixgao/followers","following_url":"https://api.github.com/users/phoenixgao/following{/other_user}","gists_url":"https://api.github.com/users/phoenixgao/gists{/gist_id}","starred_url":"https://api.github.com/users/phoenixgao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phoenixgao/subscriptions","organizations_url":"https://api.github.com/users/phoenixgao/orgs","repos_url":"https://api.github.com/users/phoenixgao/repos","events_url":"https://api.github.com/users/phoenixgao/events{/privacy}","received_events_url":"https://api.github.com/users/phoenixgao/received_events","type":"User","site_admin":false},"created_at":"2016-08-17T14:13:27Z","updated_at":"2016-08-17T14:13:27Z","author_association":"NONE","body":"@polyfractal Thanks!!\nwhat I was asking might be a duplicate of https://github.com/elastic/elasticsearch/issues/17590 though\n","performed_via_github_app":null}]