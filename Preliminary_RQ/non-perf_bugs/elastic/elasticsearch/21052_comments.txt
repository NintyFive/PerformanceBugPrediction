[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/255296367","html_url":"https://github.com/elastic/elasticsearch/issues/21052#issuecomment-255296367","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21052","id":255296367,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NTI5NjM2Nw==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-10-21T05:23:48Z","updated_at":"2016-10-21T05:23:48Z","author_association":"MEMBER","body":"Elasticsearch never modifies your source document and stores it as is.\nNot an issue here.\n\nThe thing is that 0001 can be parsed as a number so it's not rejected.\n\nChange your mapping and store the field. The search and ask for this field instead of _source and you will hopefully see the numerical form.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/255299121","html_url":"https://github.com/elastic/elasticsearch/issues/21052#issuecomment-255299121","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21052","id":255299121,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NTI5OTEyMQ==","user":{"login":"renewooller","id":3643599,"node_id":"MDQ6VXNlcjM2NDM1OTk=","avatar_url":"https://avatars0.githubusercontent.com/u/3643599?v=4","gravatar_id":"","url":"https://api.github.com/users/renewooller","html_url":"https://github.com/renewooller","followers_url":"https://api.github.com/users/renewooller/followers","following_url":"https://api.github.com/users/renewooller/following{/other_user}","gists_url":"https://api.github.com/users/renewooller/gists{/gist_id}","starred_url":"https://api.github.com/users/renewooller/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/renewooller/subscriptions","organizations_url":"https://api.github.com/users/renewooller/orgs","repos_url":"https://api.github.com/users/renewooller/repos","events_url":"https://api.github.com/users/renewooller/events{/privacy}","received_events_url":"https://api.github.com/users/renewooller/received_events","type":"User","site_admin":false},"created_at":"2016-10-21T05:47:37Z","updated_at":"2016-10-21T05:47:37Z","author_association":"NONE","body":"FYI, asking for field is still not returned as a JSON number, but as a JSON string eg:\n\nhttp://dev-es.nightlifr.com:9200/shmap/type/_search?q=*:*&fields=shint\n\n```\n{\ntook: 1,\ntimed_out: false,\n_shards: {\ntotal: 1,\nsuccessful: 1,\nfailed: 0\n},\nhits: {\ntotal: 1,\nmax_score: 1,\nhits: [\n{\n_index: \"shmap\",\n_type: \"type\",\n_id: \"AVfkZpuVNiGlzqOiHCLg\",\n_score: 1,\nfields: {\nshint: [\n\"00000001\"\n]\n}\n}\n]\n}\n}\n```\n\nI understand that the source document is never changed, but is nonetheless seems wrong that if a mapping is an integer, it is returned back as a string. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/255312040","html_url":"https://github.com/elastic/elasticsearch/issues/21052#issuecomment-255312040","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21052","id":255312040,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NTMxMjA0MA==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-10-21T07:21:12Z","updated_at":"2016-10-21T07:21:12Z","author_association":"CONTRIBUTOR","body":"If you need these fields to be returned as numbers, then they would have to be provided as numbers at ingestion time too. If you want to reject such values, you could specify `coerce: false` in your mappings.\n\nSide note: Elasticsearch 5.0 will have the ability to do conversions at index time so that numbers-as-strings can be converted to proper numbers at index time: https://www.elastic.co/guide/en/elasticsearch/reference/master/convert-processor.html.\n","performed_via_github_app":null}]