{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/27992","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27992/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27992/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27992/events","html_url":"https://github.com/elastic/elasticsearch/issues/27992","id":284563122,"node_id":"MDU6SXNzdWUyODQ1NjMxMjI=","number":27992,"title":"[Doc] ignore_above default value is wrong.","user":{"login":"AlJuan","id":11271692,"node_id":"MDQ6VXNlcjExMjcxNjky","avatar_url":"https://avatars3.githubusercontent.com/u/11271692?v=4","gravatar_id":"","url":"https://api.github.com/users/AlJuan","html_url":"https://github.com/AlJuan","followers_url":"https://api.github.com/users/AlJuan/followers","following_url":"https://api.github.com/users/AlJuan/following{/other_user}","gists_url":"https://api.github.com/users/AlJuan/gists{/gist_id}","starred_url":"https://api.github.com/users/AlJuan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlJuan/subscriptions","organizations_url":"https://api.github.com/users/AlJuan/orgs","repos_url":"https://api.github.com/users/AlJuan/repos","events_url":"https://api.github.com/users/AlJuan/events{/privacy}","received_events_url":"https://api.github.com/users/AlJuan/received_events","type":"User","site_admin":false},"labels":[{"id":141145460,"node_id":"MDU6TGFiZWwxNDExNDU0NjA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Mapping","name":":Search/Mapping","color":"0e8a16","default":false,"description":"How fields should be indexed"},{"id":23715,"node_id":"MDU6TGFiZWwyMzcxNQ==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Edocs","name":">docs","color":"db755e","default":false,"description":"General docs changes"},{"id":815164092,"node_id":"MDU6TGFiZWw4MTUxNjQwOTI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v6.1.4","name":"v6.1.4","color":"dddddd","default":false,"description":null},{"id":753477051,"node_id":"MDU6TGFiZWw3NTM0NzcwNTE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v6.3.0","name":"v6.3.0","color":"DDDDDD","default":false,"description":null},{"id":1223177445,"node_id":"MDU6TGFiZWwxMjIzMTc3NDQ1","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v7.0.0-beta1","name":"v7.0.0-beta1","color":"dddddd","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"assignees":[{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false}],"milestone":null,"comments":4,"created_at":"2017-12-26T14:25:56Z","updated_at":"2019-02-07T08:39:37Z","closed_at":"2018-01-31T14:03:20Z","author_association":"NONE","active_lock_reason":null,"body":"<!-- Bug report -->\r\n\r\n**Elasticsearch version** (`bin/elasticsearch --version`): Version: 6.1.1, Build: bd92e7f/2017-12-17T20:23:25.338Z, JVM: 1.8.0_151\r\n\r\n**Plugins installed**: []\r\n\r\n**JVM version** (`java -version`): openjdk version \"1.8.0_151\"\r\nOpenJDK Runtime Environment (build 1.8.0_151-8u151-b12-0ubuntu0.16.04.2-b12)\r\nOpenJDK 64-Bit Server VM (build 25.151-b12, mixed mode)\r\n\r\n**OS version** (`uname -a` if on a Unix-like system): Linux pmitn009906 4.4.0-41-generic #61-Ubuntu SMP Tue Sep 27 17:27:48 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n**Description of the problem including expected versus actual behavior**: When i create a new index, the keyword mapping ignore_above defaults to 256. The doc says the default is 2147483647.\r\n\r\n**Steps to reproduce**:\r\n\r\nPlease include a *minimal* but *complete* recreation of the problem, including\r\n(e.g.) index creation, mappings, settings, query etc.  The easier you make for\r\nus to reproduce it, the more likely that somebody will take the time to look at it.\r\n\r\n 1. First create an index:\r\n`\r\ncurl -XPUT 'localhost:9200/test?pretty' -H 'Content-Type: application/json' -d'\r\n{\r\n    \"settings\" : {\r\n        \"index\" : {\r\n        }\r\n    }\r\n}'\r\n`\r\n 2. Then insert some value:\r\n`\r\ncurl -XPUT 'localhost:9200/test/testType/1?pretty' -H 'Content-Type: application/json' -d'\r\n{\r\n    \"user\" : \"kimchy\",\r\n    \"post_date\" : \"2009-11-15T14:12:12\",\r\n    \"message\" : \"trying out Elasticsearch\"\r\n}\r\n'\r\n`\r\n 3. When I get the mapping info for that index (curl -XGET 'localhost:9200/test/_mapping/testType?pretty') it returns:\r\n```\r\n{\r\n  \"test\" : {\r\n    \"mappings\" : {\r\n      \"testType\" : {\r\n        \"properties\" : {\r\n          \"message\" : {\r\n            \"type\" : \"text\",\r\n            \"fields\" : {\r\n              \"keyword\" : {\r\n                \"type\" : \"keyword\",\r\n                \"ignore_above\" : 256\r\n              }\r\n            }\r\n          },\r\n          \"post_date\" : {\r\n            \"type\" : \"date\"\r\n          },\r\n          \"user\" : {\r\n            \"type\" : \"text\",\r\n            \"fields\" : {\r\n              \"keyword\" : {\r\n                \"type\" : \"keyword\",\r\n                \"ignore_above\" : 256\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nIn addition to this, there is a [blog post](https://www.elastic.co/blog/strings-are-dead-long-live-strings) by Adrien Grand saying that the default ignore_above value is 256.\r\n\r\n","closed_by":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"performed_via_github_app":null}