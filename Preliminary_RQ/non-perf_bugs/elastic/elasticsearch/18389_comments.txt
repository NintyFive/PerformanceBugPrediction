[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/219669767","html_url":"https://github.com/elastic/elasticsearch/issues/18389#issuecomment-219669767","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18389","id":219669767,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTY2OTc2Nw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-05-17T09:45:16Z","updated_at":"2016-05-17T09:45:16Z","author_association":"CONTRIBUTOR","body":"@emaudoux please upload a complete recreation in curl syntax. You haven't given us the index settings, the mappings, or the document.  Btw, with the Perl client just do:\n\n```\n$e = Search::Elasticsearch->new(trace_to => 'Stdout')\n```\n\nand it will dump all your requests in curl syntax\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/219669892","html_url":"https://github.com/elastic/elasticsearch/issues/18389#issuecomment-219669892","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18389","id":219669892,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTY2OTg5Mg==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-05-17T09:45:53Z","updated_at":"2016-05-17T09:45:53Z","author_association":"CONTRIBUTOR","body":"Also, please make the recreation as small as possible - I don't want to have to wade through lots of fields etc that don't form a part of the problem\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/219700069","html_url":"https://github.com/elastic/elasticsearch/issues/18389#issuecomment-219700069","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18389","id":219700069,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTcwMDA2OQ==","user":{"login":"emaudoux","id":19403797,"node_id":"MDQ6VXNlcjE5NDAzNzk3","avatar_url":"https://avatars1.githubusercontent.com/u/19403797?v=4","gravatar_id":"","url":"https://api.github.com/users/emaudoux","html_url":"https://github.com/emaudoux","followers_url":"https://api.github.com/users/emaudoux/followers","following_url":"https://api.github.com/users/emaudoux/following{/other_user}","gists_url":"https://api.github.com/users/emaudoux/gists{/gist_id}","starred_url":"https://api.github.com/users/emaudoux/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emaudoux/subscriptions","organizations_url":"https://api.github.com/users/emaudoux/orgs","repos_url":"https://api.github.com/users/emaudoux/repos","events_url":"https://api.github.com/users/emaudoux/events{/privacy}","received_events_url":"https://api.github.com/users/emaudoux/received_events","type":"User","site_admin":false},"created_at":"2016-05-17T12:15:54Z","updated_at":"2016-05-17T12:52:15Z","author_association":"NONE","body":"I'm not sure I understand everything you said above but still , here is my request : \n\n```\n\n    \"size\" : 10,\n    \"from\" : 0,\n    \"body\"  : {\n      \"query\" :{\n        \"bool\" : {\n          \"must\" : {\n            \"multi_match\" : { \"query\" : $full_recherche{general},\n                                        \"operator\" : \"and\",\n                     \"fields\" : [ qw/title recipe ingredients/ ], \n            } \n         },\n          \"filter\" : [ ...  ],\n          \"must_not\" : $must_not,\n        }\n      },\n      \"highlight\" : {\n         \"fields\" : {\n            \"recipe\" : {}\n          }\n        }\n      }\n    }\n  );`\n```\n\nHere is the mapping : \n\n```\n{\n    \"mappings\": {\n        \"docs\": {\n            \"properties\": {\n                ...\n                \"recipe\": { \"type\": \"string\", \"index\": \"analyzed\", \"analyzer\": \"french\" },\n                ...\n            }\n        }\n    }\n}\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/219790916","html_url":"https://github.com/elastic/elasticsearch/issues/18389#issuecomment-219790916","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18389","id":219790916,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTc5MDkxNg==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-05-17T17:24:36Z","updated_at":"2016-05-17T17:24:36Z","author_association":"CONTRIBUTOR","body":"@emaudoux Unless you provide a full recreation that we can copy and paste which demonstrates the issue (without having to guess about what values you're passing in), nobody is likely to look at this.\n\nhere's an example of what a full recreation looks like: https://github.com/elastic/elasticsearch/issues/11277#issuecomment-105249937\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/220051612","html_url":"https://github.com/elastic/elasticsearch/issues/18389#issuecomment-220051612","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18389","id":220051612,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDA1MTYxMg==","user":{"login":"emaudoux","id":19403797,"node_id":"MDQ6VXNlcjE5NDAzNzk3","avatar_url":"https://avatars1.githubusercontent.com/u/19403797?v=4","gravatar_id":"","url":"https://api.github.com/users/emaudoux","html_url":"https://github.com/emaudoux","followers_url":"https://api.github.com/users/emaudoux/followers","following_url":"https://api.github.com/users/emaudoux/following{/other_user}","gists_url":"https://api.github.com/users/emaudoux/gists{/gist_id}","starred_url":"https://api.github.com/users/emaudoux/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emaudoux/subscriptions","organizations_url":"https://api.github.com/users/emaudoux/orgs","repos_url":"https://api.github.com/users/emaudoux/repos","events_url":"https://api.github.com/users/emaudoux/events{/privacy}","received_events_url":"https://api.github.com/users/emaudoux/received_events","type":"User","site_admin":false},"created_at":"2016-05-18T14:53:08Z","updated_at":"2016-05-18T14:53:08Z","author_association":"NONE","body":"I finally found the problem, it was a silly mistake, thank you for the time you spent on this. And sorry for the disturbance. \n","performed_via_github_app":null}]