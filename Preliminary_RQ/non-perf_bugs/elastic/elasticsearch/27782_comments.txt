[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/351321753","html_url":"https://github.com/elastic/elasticsearch/issues/27782#issuecomment-351321753","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27782","id":351321753,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTMyMTc1Mw==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2017-12-13T08:40:15Z","updated_at":"2017-12-13T08:40:15Z","author_association":"MEMBER","body":"Thanks @mrszg it's a bug in the rewrite phase of aggregations, only the root aggregation gets rewritten and sub aggregations are skipped. I'll take a look.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/351640822","html_url":"https://github.com/elastic/elasticsearch/issues/27782#issuecomment-351640822","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27782","id":351640822,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTY0MDgyMg==","user":{"login":"marcmos","id":63678,"node_id":"MDQ6VXNlcjYzNjc4","avatar_url":"https://avatars0.githubusercontent.com/u/63678?v=4","gravatar_id":"","url":"https://api.github.com/users/marcmos","html_url":"https://github.com/marcmos","followers_url":"https://api.github.com/users/marcmos/followers","following_url":"https://api.github.com/users/marcmos/following{/other_user}","gists_url":"https://api.github.com/users/marcmos/gists{/gist_id}","starred_url":"https://api.github.com/users/marcmos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marcmos/subscriptions","organizations_url":"https://api.github.com/users/marcmos/orgs","repos_url":"https://api.github.com/users/marcmos/repos","events_url":"https://api.github.com/users/marcmos/events{/privacy}","received_events_url":"https://api.github.com/users/marcmos/received_events","type":"User","site_admin":false},"created_at":"2017-12-14T08:24:05Z","updated_at":"2017-12-14T08:24:05Z","author_association":"NONE","body":"It seems that version 6.1.0 is affected too.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/352378419","html_url":"https://github.com/elastic/elasticsearch/issues/27782#issuecomment-352378419","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27782","id":352378419,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MjM3ODQxOQ==","user":{"login":"lbrzekowski","id":7273791,"node_id":"MDQ6VXNlcjcyNzM3OTE=","avatar_url":"https://avatars1.githubusercontent.com/u/7273791?v=4","gravatar_id":"","url":"https://api.github.com/users/lbrzekowski","html_url":"https://github.com/lbrzekowski","followers_url":"https://api.github.com/users/lbrzekowski/followers","following_url":"https://api.github.com/users/lbrzekowski/following{/other_user}","gists_url":"https://api.github.com/users/lbrzekowski/gists{/gist_id}","starred_url":"https://api.github.com/users/lbrzekowski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lbrzekowski/subscriptions","organizations_url":"https://api.github.com/users/lbrzekowski/orgs","repos_url":"https://api.github.com/users/lbrzekowski/repos","events_url":"https://api.github.com/users/lbrzekowski/events{/privacy}","received_events_url":"https://api.github.com/users/lbrzekowski/received_events","type":"User","site_admin":false},"created_at":"2017-12-18T09:56:31Z","updated_at":"2017-12-18T09:56:31Z","author_association":"NONE","body":"@jimczi Do you know when this bug will be fixed?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/352380449","html_url":"https://github.com/elastic/elasticsearch/issues/27782#issuecomment-352380449","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27782","id":352380449,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MjM4MDQ0OQ==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2017-12-18T10:04:25Z","updated_at":"2017-12-18T10:04:25Z","author_association":"MEMBER","body":"Unfortunately this bug requires a larger fix than I initially thought. The rewriting of aggregations has a bug when multiple rewrite of the query is needed, the `terms` query is rewritten in multiple rounds (create the fetch query to get the document, retrieve the document and creates the final query) but currently only one rewrite is called. We know how to fix this but it will require some time, I cannot give any date or version for the fix though @lbrzekowski , I'll update this issue when I have a pr ready for it.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/355844203","html_url":"https://github.com/elastic/elasticsearch/issues/27782#issuecomment-355844203","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27782","id":355844203,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTg0NDIwMw==","user":{"login":"mrszg","id":16191343,"node_id":"MDQ6VXNlcjE2MTkxMzQz","avatar_url":"https://avatars0.githubusercontent.com/u/16191343?v=4","gravatar_id":"","url":"https://api.github.com/users/mrszg","html_url":"https://github.com/mrszg","followers_url":"https://api.github.com/users/mrszg/followers","following_url":"https://api.github.com/users/mrszg/following{/other_user}","gists_url":"https://api.github.com/users/mrszg/gists{/gist_id}","starred_url":"https://api.github.com/users/mrszg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mrszg/subscriptions","organizations_url":"https://api.github.com/users/mrszg/orgs","repos_url":"https://api.github.com/users/mrszg/repos","events_url":"https://api.github.com/users/mrszg/events{/privacy}","received_events_url":"https://api.github.com/users/mrszg/received_events","type":"User","site_admin":false},"created_at":"2018-01-07T19:02:20Z","updated_at":"2018-01-07T19:02:20Z","author_association":"NONE","body":"@jimczi Can you provide any update on this issue?  ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/386131339","html_url":"https://github.com/elastic/elasticsearch/issues/27782#issuecomment-386131339","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27782","id":386131339,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjEzMTMzOQ==","user":{"login":"bbansal","id":73856,"node_id":"MDQ6VXNlcjczODU2","avatar_url":"https://avatars0.githubusercontent.com/u/73856?v=4","gravatar_id":"","url":"https://api.github.com/users/bbansal","html_url":"https://github.com/bbansal","followers_url":"https://api.github.com/users/bbansal/followers","following_url":"https://api.github.com/users/bbansal/following{/other_user}","gists_url":"https://api.github.com/users/bbansal/gists{/gist_id}","starred_url":"https://api.github.com/users/bbansal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbansal/subscriptions","organizations_url":"https://api.github.com/users/bbansal/orgs","repos_url":"https://api.github.com/users/bbansal/repos","events_url":"https://api.github.com/users/bbansal/events{/privacy}","received_events_url":"https://api.github.com/users/bbansal/received_events","type":"User","site_admin":false},"created_at":"2018-05-02T21:45:20Z","updated_at":"2018-05-02T21:45:20Z","author_association":"NONE","body":"Hi, \r\n\r\nIs this fixed in elasticsearch 6.2 ? I tried using 6.2 but I still see the same error. which release this will get fixed ?\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/389575943","html_url":"https://github.com/elastic/elasticsearch/issues/27782#issuecomment-389575943","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27782","id":389575943,"node_id":"MDEyOklzc3VlQ29tbWVudDM4OTU3NTk0Mw==","user":{"login":"jgnieuwhof","id":20851016,"node_id":"MDQ6VXNlcjIwODUxMDE2","avatar_url":"https://avatars3.githubusercontent.com/u/20851016?v=4","gravatar_id":"","url":"https://api.github.com/users/jgnieuwhof","html_url":"https://github.com/jgnieuwhof","followers_url":"https://api.github.com/users/jgnieuwhof/followers","following_url":"https://api.github.com/users/jgnieuwhof/following{/other_user}","gists_url":"https://api.github.com/users/jgnieuwhof/gists{/gist_id}","starred_url":"https://api.github.com/users/jgnieuwhof/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgnieuwhof/subscriptions","organizations_url":"https://api.github.com/users/jgnieuwhof/orgs","repos_url":"https://api.github.com/users/jgnieuwhof/repos","events_url":"https://api.github.com/users/jgnieuwhof/events{/privacy}","received_events_url":"https://api.github.com/users/jgnieuwhof/received_events","type":"User","site_admin":false},"created_at":"2018-05-16T16:09:30Z","updated_at":"2018-05-16T16:09:30Z","author_association":"NONE","body":"Same question as @bbansal - is there a chance of getting this fix in 6.2, or will we need to wait for 6.3 to become current & migrate?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/389580410","html_url":"https://github.com/elastic/elasticsearch/issues/27782#issuecomment-389580410","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27782","id":389580410,"node_id":"MDEyOklzc3VlQ29tbWVudDM4OTU4MDQxMA==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2018-05-16T16:23:12Z","updated_at":"2018-05-16T16:23:12Z","author_association":"MEMBER","body":"@bbansal , @jgnieuwhof sorry the fix is targeted for 6.3 only so you'll need to wait for the release and migrate to the new version.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/389581052","html_url":"https://github.com/elastic/elasticsearch/issues/27782#issuecomment-389581052","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27782","id":389581052,"node_id":"MDEyOklzc3VlQ29tbWVudDM4OTU4MTA1Mg==","user":{"login":"jgnieuwhof","id":20851016,"node_id":"MDQ6VXNlcjIwODUxMDE2","avatar_url":"https://avatars3.githubusercontent.com/u/20851016?v=4","gravatar_id":"","url":"https://api.github.com/users/jgnieuwhof","html_url":"https://github.com/jgnieuwhof","followers_url":"https://api.github.com/users/jgnieuwhof/followers","following_url":"https://api.github.com/users/jgnieuwhof/following{/other_user}","gists_url":"https://api.github.com/users/jgnieuwhof/gists{/gist_id}","starred_url":"https://api.github.com/users/jgnieuwhof/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgnieuwhof/subscriptions","organizations_url":"https://api.github.com/users/jgnieuwhof/orgs","repos_url":"https://api.github.com/users/jgnieuwhof/repos","events_url":"https://api.github.com/users/jgnieuwhof/events{/privacy}","received_events_url":"https://api.github.com/users/jgnieuwhof/received_events","type":"User","site_admin":false},"created_at":"2018-05-16T16:25:12Z","updated_at":"2018-05-16T16:25:12Z","author_association":"NONE","body":"@jimczi - noted, thanks for the update :)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/480779397","html_url":"https://github.com/elastic/elasticsearch/issues/27782#issuecomment-480779397","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27782","id":480779397,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDc3OTM5Nw==","user":{"login":"hrsvrma","id":20453141,"node_id":"MDQ6VXNlcjIwNDUzMTQx","avatar_url":"https://avatars3.githubusercontent.com/u/20453141?v=4","gravatar_id":"","url":"https://api.github.com/users/hrsvrma","html_url":"https://github.com/hrsvrma","followers_url":"https://api.github.com/users/hrsvrma/followers","following_url":"https://api.github.com/users/hrsvrma/following{/other_user}","gists_url":"https://api.github.com/users/hrsvrma/gists{/gist_id}","starred_url":"https://api.github.com/users/hrsvrma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hrsvrma/subscriptions","organizations_url":"https://api.github.com/users/hrsvrma/orgs","repos_url":"https://api.github.com/users/hrsvrma/repos","events_url":"https://api.github.com/users/hrsvrma/events{/privacy}","received_events_url":"https://api.github.com/users/hrsvrma/received_events","type":"User","site_admin":false},"created_at":"2019-04-08T10:40:13Z","updated_at":"2019-04-08T10:40:13Z","author_association":"NONE","body":"Hi,\r\n\r\nI am using v6.7.1 but found that this is still not fixed. Please let us know when will this be fixed?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/480781635","html_url":"https://github.com/elastic/elasticsearch/issues/27782#issuecomment-480781635","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27782","id":480781635,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDc4MTYzNQ==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2019-04-08T10:47:45Z","updated_at":"2019-04-08T10:47:45Z","author_association":"MEMBER","body":"Hi @hrsvrma , this issue is fixed since version 6.3 so if you can reproduce a similar failure please open a new issue with a clear recreation.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/480785070","html_url":"https://github.com/elastic/elasticsearch/issues/27782#issuecomment-480785070","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27782","id":480785070,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDc4NTA3MA==","user":{"login":"hrsvrma","id":20453141,"node_id":"MDQ6VXNlcjIwNDUzMTQx","avatar_url":"https://avatars3.githubusercontent.com/u/20453141?v=4","gravatar_id":"","url":"https://api.github.com/users/hrsvrma","html_url":"https://github.com/hrsvrma","followers_url":"https://api.github.com/users/hrsvrma/followers","following_url":"https://api.github.com/users/hrsvrma/following{/other_user}","gists_url":"https://api.github.com/users/hrsvrma/gists{/gist_id}","starred_url":"https://api.github.com/users/hrsvrma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hrsvrma/subscriptions","organizations_url":"https://api.github.com/users/hrsvrma/orgs","repos_url":"https://api.github.com/users/hrsvrma/repos","events_url":"https://api.github.com/users/hrsvrma/events{/privacy}","received_events_url":"https://api.github.com/users/hrsvrma/received_events","type":"User","site_admin":false},"created_at":"2019-04-08T10:59:56Z","updated_at":"2019-04-08T10:59:56Z","author_association":"NONE","body":"HI @jimczi , Thanks for your response. As per your suggestion, I'll open a new issue with clear recreation steps.","performed_via_github_app":null}]