{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/43221","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43221/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43221/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43221/events","html_url":"https://github.com/elastic/elasticsearch/issues/43221","id":456082066,"node_id":"MDU6SXNzdWU0NTYwODIwNjY=","number":43221,"title":"Why it reflected I run elasticsearch using root when I am not.","user":{"login":"lukelee1987","id":29053050,"node_id":"MDQ6VXNlcjI5MDUzMDUw","avatar_url":"https://avatars1.githubusercontent.com/u/29053050?v=4","gravatar_id":"","url":"https://api.github.com/users/lukelee1987","html_url":"https://github.com/lukelee1987","followers_url":"https://api.github.com/users/lukelee1987/followers","following_url":"https://api.github.com/users/lukelee1987/following{/other_user}","gists_url":"https://api.github.com/users/lukelee1987/gists{/gist_id}","starred_url":"https://api.github.com/users/lukelee1987/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukelee1987/subscriptions","organizations_url":"https://api.github.com/users/lukelee1987/orgs","repos_url":"https://api.github.com/users/lukelee1987/repos","events_url":"https://api.github.com/users/lukelee1987/events{/privacy}","received_events_url":"https://api.github.com/users/lukelee1987/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-06-14T06:28:52Z","updated_at":"2019-06-14T08:10:11Z","closed_at":"2019-06-14T07:29:37Z","author_association":"NONE","active_lock_reason":null,"body":"```\r\n[2019-06-14T14:27:05,845][INFO ][o.e.e.NodeEnvironment    ] [eta10] using [1] data paths, mounts [[/ (/dev/mapper/vg--root-lv--root)]], net usable_space [1.8tb], net total_space [2tb], types [ext4]\r\n[2019-06-14T14:27:05,848][INFO ][o.e.e.NodeEnvironment    ] [eta10] heap size [26.6gb], compressed ordinary object pointers [true]\r\n[2019-06-14T14:27:05,850][INFO ][o.e.n.Node               ] [eta10] node name [eta10], node ID [qDMaRgdWS92S_nyV3tQTJA], cluster name [wazuh-es]\r\n[2019-06-14T14:27:05,850][INFO ][o.e.n.Node               ] [eta10] version[7.1.0], pid[23098], build[default/tar/606a173/2019-05-16T00:43:15.323135Z], OS[Linux/4.4.0-131-generic/amd64], JVM[Oracle Corporation/Java HotSpot(TM) 64-Bit Server VM/1.8.0_201/25.201-b09]\r\n[2019-06-14T14:27:05,850][INFO ][o.e.n.Node               ] [eta10] JVM home [/usr/lib/jvm/java-8-oracle/jre]\r\n[2019-06-14T14:27:05,850][INFO ][o.e.n.Node               ] [eta10] JVM arguments [-Des.insecure.allow.root=true, -Des.path.home=/etc/elasticsearch-master, -Des.path.conf=/etc/elasticsearch-master/config, -Des.distribution.flavor=default, -Des.distribution.type=tar, -Des.bundled_jdk=true]\r\n[2019-06-14T14:27:07,878][INFO ][o.e.p.PluginsService     ] [eta10] loaded module [aggs-matrix-stats]\r\n[2019-06-14T14:27:07,878][INFO ][o.e.p.PluginsService     ] [eta10] loaded module [analysis-common]\r\n[2019-06-14T14:27:07,878][INFO ][o.e.p.PluginsService     ] [eta10] loaded module [ingest-common]\r\n[2019-06-14T14:27:07,878][INFO ][o.e.p.PluginsService     ] [eta10] loaded module [ingest-geoip]\r\n[2019-06-14T14:27:07,878][INFO ][o.e.p.PluginsService     ] [eta10] loaded module [ingest-user-agent]\r\n[2019-06-14T14:27:07,878][INFO ][o.e.p.PluginsService     ] [eta10] loaded module [lang-expression]\r\n[2019-06-14T14:27:07,878][INFO ][o.e.p.PluginsService     ] [eta10] loaded module [lang-mustache]\r\n[2019-06-14T14:27:07,878][INFO ][o.e.p.PluginsService     ] [eta10] loaded module [lang-painless]\r\n[2019-06-14T14:27:07,878][INFO ][o.e.p.PluginsService     ] [eta10] loaded module [mapper-extras]\r\n[2019-06-14T14:27:07,878][INFO ][o.e.p.PluginsService     ] [eta10] loaded module [parent-join]\r\n[2019-06-14T14:27:07,879][INFO ][o.e.p.PluginsService     ] [eta10] loaded module [percolator]\r\n[2019-06-14T14:27:07,879][INFO ][o.e.p.PluginsService     ] [eta10] loaded module [rank-eval]\r\n[2019-06-14T14:27:07,879][INFO ][o.e.p.PluginsService     ] [eta10] loaded module [reindex]\r\n[2019-06-14T14:27:07,879][INFO ][o.e.p.PluginsService     ] [eta10] loaded module [repository-url]\r\n[2019-06-14T14:27:07,879][INFO ][o.e.p.PluginsService     ] [eta10] loaded module [transport-netty4]\r\n[2019-06-14T14:27:07,879][INFO ][o.e.p.PluginsService     ] [eta10] loaded module [x-pack-ccr]\r\n[2019-06-14T14:27:07,879][INFO ][o.e.p.PluginsService     ] [eta10] loaded module [x-pack-core]\r\n[2019-06-14T14:27:07,879][INFO ][o.e.p.PluginsService     ] [eta10] loaded module [x-pack-deprecation]\r\n[2019-06-14T14:27:07,879][INFO ][o.e.p.PluginsService     ] [eta10] loaded module [x-pack-graph]\r\n[2019-06-14T14:27:07,879][INFO ][o.e.p.PluginsService     ] [eta10] loaded module [x-pack-ilm]\r\n[2019-06-14T14:27:07,879][INFO ][o.e.p.PluginsService     ] [eta10] loaded module [x-pack-logstash]\r\n[2019-06-14T14:27:07,879][INFO ][o.e.p.PluginsService     ] [eta10] loaded module [x-pack-ml]\r\n[2019-06-14T14:27:07,879][INFO ][o.e.p.PluginsService     ] [eta10] loaded module [x-pack-monitoring]\r\n[2019-06-14T14:27:07,879][INFO ][o.e.p.PluginsService     ] [eta10] loaded module [x-pack-rollup]\r\n[2019-06-14T14:27:07,879][INFO ][o.e.p.PluginsService     ] [eta10] loaded module [x-pack-security]\r\n[2019-06-14T14:27:07,880][INFO ][o.e.p.PluginsService     ] [eta10] loaded module [x-pack-sql]\r\n[2019-06-14T14:27:07,880][INFO ][o.e.p.PluginsService     ] [eta10] loaded module [x-pack-watcher]\r\n[2019-06-14T14:27:07,880][INFO ][o.e.p.PluginsService     ] [eta10] no plugins loaded\r\n[2019-06-14T14:27:08,150][INFO ][i.n.u.i.PlatformDependent] [eta10] Your platform does not provide complete low-level API for accessing direct buffers reliably. Unless explicitly requested, heap buffer will always be preferred to avoid potential system instability.\r\n[2019-06-14T14:27:12,018][INFO ][o.e.x.s.a.s.FileRolesStore] [eta10] parsed [0] roles from file [/etc/elasticsearch-master/config/roles.yml]\r\n[2019-06-14T14:27:12,270][INFO ][i.n.u.i.PlatformDependent] [eta10] Your platform does not provide complete low-level API for accessing direct buffers reliably. Unless explicitly requested, heap buffer will always be preferred to avoid potential system instability.\r\n[2019-06-14T14:27:12,632][INFO ][o.e.x.m.p.l.CppLogMessageHandler] [eta10] [controller/23295] [Main.cc@109] controller (64 bit): Version 7.1.0 (Build a8ee6de8087169) Copyright (c) 2019 Elasticsearch BV\r\n[2019-06-14T14:27:13,059][DEBUG][o.e.a.ActionModule       ] [eta10] Using REST wrapper from plugin org.elasticsearch.xpack.security.Security\r\n[2019-06-14T14:27:13,749][INFO ][o.e.d.DiscoveryModule    ] [eta10] using discovery type [zen] and seed hosts providers [settings]\r\n[2019-06-14T14:27:14,572][INFO ][o.e.n.Node               ] [eta10] initialized\r\n[2019-06-14T14:27:14,572][INFO ][o.e.n.Node               ] [eta10] starting ...\r\n[2019-06-14T14:27:14,818][INFO ][o.e.t.TransportService   ] [eta10] publish_address {10.0.106.144:9300}, bound_addresses {10.0.106.144:9300}\r\n[2019-06-14T14:27:14,835][INFO ][o.e.b.BootstrapChecks    ] [eta10] bound or publishing to a non-loopback address, enforcing bootstrap checks\r\nERROR: [1] bootstrap checks failed\r\n[1]: initial heap size [2147483648] not equal to maximum heap size [32210157568]; this can cause resize pauses and prevents mlockall from locking the entire heap\r\n[2019-06-14T14:27:14,849][INFO ][o.e.n.Node               ] [eta10] stopping ...\r\n2019-06-14 14:27:14,851 pool-1-thread-1 ERROR Unable to unregister MBeans java.security.AccessControlException: access denied (\"javax.management.MBeanServerPermission\" \"createMBeanServer\")\r\n        at java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\r\n        at java.security.AccessController.checkPermission(AccessController.java:884)\r\n        at java.lang.SecurityManager.checkPermission(SecurityManager.java:549)\r\n        at java.lang.management.ManagementFactory.getPlatformMBeanServer(ManagementFactory.java:465)\r\n        at org.apache.logging.log4j.core.jmx.Server.unregisterLoggerContext(Server.java:248)\r\n        at org.apache.logging.log4j.core.LoggerContext.stop(LoggerContext.java:340)\r\n        at org.apache.logging.log4j.core.LoggerContext$1.run(LoggerContext.java:281)\r\n        at org.apache.logging.log4j.core.util.DefaultShutdownCallbackRegistry$RegisteredCancellable.run(DefaultShutdownCallbackRegistry.java:109)\r\n        at org.apache.logging.log4j.core.util.DefaultShutdownCallbackRegistry.run(DefaultShutdownCallbackRegistry.java:74)\r\n        at java.lang.Thread.run(Thread.java:748)\r\n```\r\nHi I am running using a normal user account but why is reflected I should not run using root? ","closed_by":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"performed_via_github_app":null}