{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/1744","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1744/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1744/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1744/events","html_url":"https://github.com/elastic/elasticsearch/issues/1744","id":3429438,"node_id":"MDU6SXNzdWUzNDI5NDM4","number":1744,"title":"Date Histogram Facet: Add `pre_zone_adjust_large_interval`","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"labels":[{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":239506,"node_id":"MDU6TGFiZWwyMzk1MDY=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v0.19.0","name":"v0.19.0","color":"DDDDDD","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2012-02-29T00:52:24Z","updated_at":"2012-02-29T00:53:50Z","closed_at":"2012-02-29T00:53:50Z","author_association":"MEMBER","active_lock_reason":null,"body":"Will update the docs with its meaning, `pre_zone_adjust_large_interval`. Here is an excerpt:\n\np. Lets take an example. For @2012-04-01T04:15:30Z@, with a @pre_zone@ of @-08:00@. For @day@ interval, the actual time by applying the time zone and rounding falls under @2012-03-31@, so the returned value will be (in millis) of @2012-03-31T00:00:00Z@ (UTC). For @hour@ interval, applying the time zone results in @2012-03-31T20:15:30@, rounding it results in @2012-03-31T20:00:00@, but, we want to return it in UTC (@post_zone@ is not set), so we convert it back to UTC: @2012-04-01T04:00:00Z@. Note, we are consistent in the results, returning the rounded value in UTC.\n\np. @post_zone@ simply takes the result, and adds the relevant offset.\n\np. Sometimes, we want to apply the same conversion to UTC we did above for @hour@ also for @day@ (and up) intervals. We can set @pre_zone_adjust_large_interval@ to @true@, which will apply the same conversion done for @hour@ interval in the example, to @day@ and above intervals (it can be set regardless of the interval, but only kick in when using @day@ and higher intervals).\n","closed_by":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"performed_via_github_app":null}