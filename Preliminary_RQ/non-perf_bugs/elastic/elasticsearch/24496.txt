{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/24496","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24496/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24496/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24496/events","html_url":"https://github.com/elastic/elasticsearch/issues/24496","id":226371468,"node_id":"MDU6SXNzdWUyMjYzNzE0Njg=","number":24496,"title":"Elastic search starts with java.security.AccessControlException","user":{"login":"shyamalaponnada","id":28403502,"node_id":"MDQ6VXNlcjI4NDAzNTAy","avatar_url":"https://avatars0.githubusercontent.com/u/28403502?v=4","gravatar_id":"","url":"https://api.github.com/users/shyamalaponnada","html_url":"https://github.com/shyamalaponnada","followers_url":"https://api.github.com/users/shyamalaponnada/followers","following_url":"https://api.github.com/users/shyamalaponnada/following{/other_user}","gists_url":"https://api.github.com/users/shyamalaponnada/gists{/gist_id}","starred_url":"https://api.github.com/users/shyamalaponnada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shyamalaponnada/subscriptions","organizations_url":"https://api.github.com/users/shyamalaponnada/orgs","repos_url":"https://api.github.com/users/shyamalaponnada/repos","events_url":"https://api.github.com/users/shyamalaponnada/events{/privacy}","received_events_url":"https://api.github.com/users/shyamalaponnada/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-05-04T18:38:03Z","updated_at":"2019-04-09T16:03:14Z","closed_at":"2017-05-04T18:41:18Z","author_association":"NONE","active_lock_reason":null,"body":"Elasticsearch version: 5.3.2\r\nJVM version: openjdk version \"1.8.0_121\"\r\n\r\nElasticsearch starts with security manager exceptions related to installing MBeans. \r\n\r\nSteps to reproduce:\r\n\r\nInstall elasticsearch\r\nStart service\r\n\r\nProvide logs (if relevant):\r\n2017-05-04 13:35:32,869 main ERROR Could not register mbeans java.security.AccessControlException: access denied (\"javax.management.MBeanTrustPermission\" \"register\")\r\n        at java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\r\n        at java.lang.SecurityManager.checkPermission(SecurityManager.java:585)\r\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.checkMBeanTrustPermission(DefaultMBeanServerInterceptor.java:1848)\r\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:322)\r\n        at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)\r\n        at org.apache.logging.log4j.core.jmx.Server.register(Server.java:389)\r\n        at org.apache.logging.log4j.core.jmx.Server.reregisterMBeansAfterReconfigure(Server.java:167)\r\n        at org.apache.logging.log4j.core.jmx.Server.reregisterMBeansAfterReconfigure(Server.java:140)\r\n        at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:541)\r\n        at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:258)\r\n        at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:206)\r\n        at org.apache.logging.log4j.core.config.Configurator.initialize(Configurator.java:220)\r\n        at org.apache.logging.log4j.core.config.Configurator.initialize(Configurator.java:197)\r\n        at org.elasticsearch.common.logging.LogConfigurator.configureStatusLogger(LogConfigurator.java:126)\r\n        at org.elasticsearch.common.logging.LogConfigurator.configureWithoutConfig(LogConfigurator.java:68)\r\n        at org.elasticsearch.cli.Command.main(Command.java:85)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:91)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:84)\r\n\r\nException in thread \"main\" SettingsException[Failed to load settings from /home/sxp8563/elasticsearch-5.3.2/config/elasticsearch.yml]; nested: AccessDeniedException[/home/sxp8563/elasticsearch-5.3.2/config/elasticsearch.yml];\r\n        at org.elasticsearch.node.InternalSettingsPreparer.prepareEnvironment(InternalSettingsPreparer.java:111)\r\n        at org.elasticsearch.cli.EnvironmentAwareCommand.createEnv(EnvironmentAwareCommand.java:63)\r\n        at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:58)\r\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:122)\r\n        at org.elasticsearch.cli.Command.main(Command.java:88)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:91)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:84)\r\nCaused by: java.nio.file.AccessDeniedException: /home/sxp8563/elasticsearch-5.3.2/config/elasticsearch.yml\r\n        at sun.nio.fs.UnixException.translateToIOException(UnixException.java:84)\r\n        at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)\r\n        at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)\r\n        at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)\r\n        at java.nio.file.Files.newByteChannel(Files.java:361)\r\n        at java.nio.file.Files.newByteChannel(Files.java:407)\r\n        at java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)\r\n        at java.nio.file.Files.newInputStream(Files.java:152)\r\n        at org.elasticsearch.common.settings.Settings$Builder.loadFromPath(Settings.java:1026)\r\n        at org.elasticsearch.node.InternalSettingsPreparer.prepareEnvironment(InternalSettingsPreparer.java:109)\r\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}