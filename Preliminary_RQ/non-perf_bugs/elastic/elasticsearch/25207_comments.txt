[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/308377674","html_url":"https://github.com/elastic/elasticsearch/issues/25207#issuecomment-308377674","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25207","id":308377674,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODM3NzY3NA==","user":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"created_at":"2017-06-14T09:32:30Z","updated_at":"2017-06-14T09:32:30Z","author_association":"CONTRIBUTOR","body":"This could have to do with https://github.com/elastic/elasticsearch/pull/23093.\r\n@dakrone can you have a look please?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/327524279","html_url":"https://github.com/elastic/elasticsearch/issues/25207#issuecomment-327524279","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25207","id":327524279,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzUyNDI3OQ==","user":{"login":"MaxFlanders","id":16246896,"node_id":"MDQ6VXNlcjE2MjQ2ODk2","avatar_url":"https://avatars1.githubusercontent.com/u/16246896?v=4","gravatar_id":"","url":"https://api.github.com/users/MaxFlanders","html_url":"https://github.com/MaxFlanders","followers_url":"https://api.github.com/users/MaxFlanders/followers","following_url":"https://api.github.com/users/MaxFlanders/following{/other_user}","gists_url":"https://api.github.com/users/MaxFlanders/gists{/gist_id}","starred_url":"https://api.github.com/users/MaxFlanders/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaxFlanders/subscriptions","organizations_url":"https://api.github.com/users/MaxFlanders/orgs","repos_url":"https://api.github.com/users/MaxFlanders/repos","events_url":"https://api.github.com/users/MaxFlanders/events{/privacy}","received_events_url":"https://api.github.com/users/MaxFlanders/received_events","type":"User","site_admin":false},"created_at":"2017-09-06T15:38:55Z","updated_at":"2017-09-06T15:38:55Z","author_association":"NONE","body":"Any update on this issue?? We used to have crons that depended on this api to calculate disk space in the cluster.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/327570519","html_url":"https://github.com/elastic/elasticsearch/issues/25207#issuecomment-327570519","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25207","id":327570519,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzU3MDUxOQ==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2017-09-06T18:19:33Z","updated_at":"2017-09-06T18:19:33Z","author_association":"MEMBER","body":"I'm not sure there's anything we can do for this, we adjust the filesystem values only if they are negative, see:\r\n\r\nhttps://github.com/elastic/elasticsearch/blob/9c795bd838864647553b317b9da2b5a40f1a7242/core/src/main/java/org/elasticsearch/monitor/fs/FsProbe.java#L157-L159\r\n\r\nand \r\n\r\nhttps://github.com/elastic/elasticsearch/blob/9c795bd838864647553b317b9da2b5a40f1a7242/core/src/main/java/org/elasticsearch/monitor/fs/FsProbe.java#L144-L147\r\n\r\nSo in these cases, either the FS is reporting a negative number (doesn't sound like it in this case), or adding all of the sub nodes' information overflows the largest value a `long` can hold:\r\n\r\nhttps://github.com/elastic/elasticsearch/blob/9c795bd838864647553b317b9da2b5a40f1a7242/core/src/main/java/org/elasticsearch/monitor/fs/FsInfo.java#L137-L139\r\n\r\nIn which case, this is a protection against returning a negative value and not something we can handle until https://bugs.openjdk.java.net/browse/JDK-8162520 is fixed","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/327570665","html_url":"https://github.com/elastic/elasticsearch/issues/25207#issuecomment-327570665","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25207","id":327570665,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzU3MDY2NQ==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2017-09-06T18:20:05Z","updated_at":"2017-09-06T18:20:05Z","author_association":"MEMBER","body":"Going to close this for now since there is no fix version on the JDK bug, once the bug is fixed we can revisit this.","performed_via_github_app":null}]