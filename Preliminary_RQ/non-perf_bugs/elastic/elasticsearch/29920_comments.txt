[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384132225","html_url":"https://github.com/elastic/elasticsearch/issues/29920#issuecomment-384132225","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29920","id":384132225,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzMjIyNQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T17:44:26Z","updated_at":"2018-04-25T01:30:27Z","author_association":"COLLABORATOR","body":"*Original comment by @jaymode:*\n\nI wonder if we can get away with a boolean option called `allow_no_groups`? If we cannot resolve any groups then we do not consider the authentication a success","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384132226","html_url":"https://github.com/elastic/elasticsearch/issues/29920#issuecomment-384132226","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29920","id":384132226,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzMjIyNg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T17:44:26Z","updated_at":"2018-04-25T01:30:27Z","author_association":"COLLABORATOR","body":"*Original comment by @tvernum:*\n\n> I wonder if we can get away with a boolean option called `allow_no_groups`\r\n\r\nThat's certainly an option. It will probably cover 80% of cases with 20% of the code burden.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384132228","html_url":"https://github.com/elastic/elasticsearch/issues/29920#issuecomment-384132228","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29920","id":384132228,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzMjIyOA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T17:44:27Z","updated_at":"2018-04-25T01:30:27Z","author_association":"COLLABORATOR","body":"*Original comment by @jaymode:*\n\n(Thinking out loud) Another aspect about the `allow_no_groups` option is it could be moved up from the realm level to the authentication service level and apply it to all realms","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384132229","html_url":"https://github.com/elastic/elasticsearch/issues/29920#issuecomment-384132229","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29920","id":384132229,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzMjIyOQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T17:44:27Z","updated_at":"2018-04-25T01:30:28Z","author_association":"COLLABORATOR","body":"*Original comment by @tvernum:*\n\nIf we moved `allow_no_groups` up, wouldn't it need to become `allow_no_roles` (groups don't exist as a generic concept across realms) ?\r\n\r\nThat's probably fine,  and might even be the more useful solution once we have a role mapping API.  ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384132231","html_url":"https://github.com/elastic/elasticsearch/issues/29920#issuecomment-384132231","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29920","id":384132231,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzMjIzMQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T17:44:27Z","updated_at":"2018-04-25T01:30:28Z","author_association":"COLLABORATOR","body":"*Original comment by @jaymode:*\n\n> If we moved allow_no_groups up, wouldn't it need to become allow_no_roles\r\n\r\nYes that's correct.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/402945868","html_url":"https://github.com/elastic/elasticsearch/issues/29920#issuecomment-402945868","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29920","id":402945868,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjk0NTg2OA==","user":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"created_at":"2018-07-06T07:02:47Z","updated_at":"2018-07-06T07:02:47Z","author_association":"CONTRIBUTOR","body":"Discussed with @elastic/es-security \r\n\r\nWe could have a `allow_no_roles` option that would trigger a specific security failure message like \"you have no roles\" instead of the standard \"you are not authorized to ....\" but that's not really going to deliver a lot of value.\r\n\r\nThe solution that customers typically want is: https://github.com/elastic/kibana/issues/18270 instead of something in ES.\r\n","performed_via_github_app":null}]