{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/19479","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19479/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19479/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19479/events","html_url":"https://github.com/elastic/elasticsearch/issues/19479","id":166125394,"node_id":"MDU6SXNzdWUxNjYxMjUzOTQ=","number":19479,"title":"MacAddressProvider munged mac address is random and unrelated to mac address","user":{"login":"hao5ang","id":4319331,"node_id":"MDQ6VXNlcjQzMTkzMzE=","avatar_url":"https://avatars1.githubusercontent.com/u/4319331?v=4","gravatar_id":"","url":"https://api.github.com/users/hao5ang","html_url":"https://github.com/hao5ang","followers_url":"https://api.github.com/users/hao5ang/followers","following_url":"https://api.github.com/users/hao5ang/following{/other_user}","gists_url":"https://api.github.com/users/hao5ang/gists{/gist_id}","starred_url":"https://api.github.com/users/hao5ang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hao5ang/subscriptions","organizations_url":"https://api.github.com/users/hao5ang/orgs","repos_url":"https://api.github.com/users/hao5ang/repos","events_url":"https://api.github.com/users/hao5ang/events{/privacy}","received_events_url":"https://api.github.com/users/hao5ang/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2016-07-18T15:44:02Z","updated_at":"2016-07-19T03:00:13Z","closed_at":"2016-07-18T17:08:47Z","author_association":"NONE","active_lock_reason":null,"body":"<!--\nGitHub is reserved for bug reports and feature requests. The best place\nto ask a general question is at the Elastic Discourse forums at\nhttps://discuss.elastic.co. If you are in fact posting a bug report or\na feature request, please include one and only one of the below blocks\nin your new issue. Note that whether you're filing a bug report or a\nfeature request, ensure that your submission is for an\n[OS that we support](https://www.elastic.co/support/matrix#show_os).\nBug reports on an OS that we do not support or feature requests\nspecific to an OS that we do not support will be closed.\n-->\n\n<!--\nIf you are filing a bug report, please remove the below feature\nrequest block and provide responses for all of the below items.\n-->\n\n**Elasticsearch version**: 2.3.4\n\n**JVM version**:\n\n**OS version**:\n\n**Description of the problem including expected versus actual behavior**:\n\nI find [TimeBasedUUIDGenerator.java](https://github.com/elastic/elasticsearch/blob/master/core/src/main/java/org/elasticsearch/common/TimeBasedUUIDGenerator.java) use mac adress to identify current machine([MacAddressProvide.java](https://github.com/elastic/elasticsearch/blob/master/core/src/main/java/org/elasticsearch/common/MacAddressProvider.java)). But it XOR the mac adress with random bytes . As I know this will make the mac address to really random and increase the probability of conflict. \n\nI'm not sure how to fix it. If we use mac adress directly, we should start only one process in one machine. Maybe add the process id factor will fix it. Add the process id factor can not solve the situation of start services with threads(Such as Tomcat. Tomcat serve multi webapps with same process? I think this will not happen in ES service ).\n\n<!--\nIf you are filing a feature request, please remove the above bug\nreport block and provide responses for all of the below items.\n-->\n","closed_by":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"performed_via_github_app":null}