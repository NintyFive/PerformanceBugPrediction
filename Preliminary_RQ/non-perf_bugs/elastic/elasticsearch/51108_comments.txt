[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/575254559","html_url":"https://github.com/elastic/elasticsearch/issues/51108#issuecomment-575254559","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51108","id":575254559,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTI1NDU1OQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-01-16T17:17:41Z","updated_at":"2020-01-16T17:17:41Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-features (:Core/Features/Ingest)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/575256509","html_url":"https://github.com/elastic/elasticsearch/issues/51108#issuecomment-575256509","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51108","id":575256509,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTI1NjUwOQ==","user":{"login":"matriv","id":5058131,"node_id":"MDQ6VXNlcjUwNTgxMzE=","avatar_url":"https://avatars1.githubusercontent.com/u/5058131?v=4","gravatar_id":"","url":"https://api.github.com/users/matriv","html_url":"https://github.com/matriv","followers_url":"https://api.github.com/users/matriv/followers","following_url":"https://api.github.com/users/matriv/following{/other_user}","gists_url":"https://api.github.com/users/matriv/gists{/gist_id}","starred_url":"https://api.github.com/users/matriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matriv/subscriptions","organizations_url":"https://api.github.com/users/matriv/orgs","repos_url":"https://api.github.com/users/matriv/repos","events_url":"https://api.github.com/users/matriv/events{/privacy}","received_events_url":"https://api.github.com/users/matriv/received_events","type":"User","site_admin":false},"created_at":"2020-01-16T17:22:30Z","updated_at":"2020-01-16T17:22:30Z","author_association":"CONTRIBUTOR","body":"Reproduced the behaviour in master.\r\nTo double check inserted actual document using the pipeline and the result is\r\n\r\n```\r\n\"hits\": [\r\n  {\r\n      \"_index\": \"myindex\",\r\n      \"_id\": \"1\",\r\n      \"_score\": 1.0,\r\n      \"_source\": {\r\n          \"@timestamp\": \"2020-01-15T15:28:09.452+01:00\",\r\n          \"timestamp\": \"2020-01-15T14:28:09,452\"\r\n      }\r\n  }\r\n]\r\n```\r\n\r\nUsing stored fields I also get:\r\n```\r\n\"hits\": [\r\n  {\r\n      \"_index\": \"myindex\",\r\n      \"_id\": \"1\",\r\n      \"_score\": 1.0,\r\n      \"fields\": {\r\n          \"timestamp\": [\r\n              \"2020-01-15T14:28:09.452Z\"\r\n          ]\r\n      }\r\n  }\r\n]\r\n```\r\n\r\nTo me it also seems like an incorrect behaviour as defining the timezone shouldn't do a conversion on the _source field, but save it as `2020-01-15T14:28:09.452+01:00` which in UTC should become: `2020-01-15T13:28:09.452Z` ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/575644919","html_url":"https://github.com/elastic/elasticsearch/issues/51108#issuecomment-575644919","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51108","id":575644919,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTY0NDkxOQ==","user":{"login":"matriv","id":5058131,"node_id":"MDQ6VXNlcjUwNTgxMzE=","avatar_url":"https://avatars1.githubusercontent.com/u/5058131?v=4","gravatar_id":"","url":"https://api.github.com/users/matriv","html_url":"https://github.com/matriv","followers_url":"https://api.github.com/users/matriv/followers","following_url":"https://api.github.com/users/matriv/following{/other_user}","gists_url":"https://api.github.com/users/matriv/gists{/gist_id}","starred_url":"https://api.github.com/users/matriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matriv/subscriptions","organizations_url":"https://api.github.com/users/matriv/orgs","repos_url":"https://api.github.com/users/matriv/repos","events_url":"https://api.github.com/users/matriv/events{/privacy}","received_events_url":"https://api.github.com/users/matriv/received_events","type":"User","site_admin":false},"created_at":"2020-01-17T14:21:07Z","updated_at":"2020-01-17T14:21:07Z","author_association":"CONTRIBUTOR","body":"Imho, as a user, if I have a date with a timezone e.g.: `2020-01-15T15:28:09.452+01:00` and a timezone `-05:00`\r\nI would expect a transformation that would give: `2020-01-15T09:28:09.452-05:00`\r\nSimilarly for a date: `2020-01-15T15:28:09.452Z` and a timezone `+03:00` I would expect:\r\n`2020-01-15T18:28:09.452+03:00`.\r\nBut if the date is missing the timezone part: `2020-01-15T15:28:09.452` I would expect to just add the tz without transformation: `2020-01-15T15:28:09.452+03:00`.\r\n\r\n\r\n\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/575645577","html_url":"https://github.com/elastic/elasticsearch/issues/51108#issuecomment-575645577","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51108","id":575645577,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTY0NTU3Nw==","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"created_at":"2020-01-17T14:22:39Z","updated_at":"2020-01-17T14:22:39Z","author_association":"CONTRIBUTOR","body":"From what I see in 6.x it was working as you described @matriv \r\nI will mark this as a bug and work on this","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/575645673","html_url":"https://github.com/elastic/elasticsearch/issues/51108#issuecomment-575645673","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51108","id":575645673,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NTY0NTY3Mw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-01-17T14:22:52Z","updated_at":"2020-01-17T14:22:52Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra (:Core/Infra/Core)","performed_via_github_app":null}]