{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/19075","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19075/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19075/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19075/events","html_url":"https://github.com/elastic/elasticsearch/issues/19075","id":162282701,"node_id":"MDU6SXNzdWUxNjIyODI3MDE=","number":19075,"title":"Timeout values like `1s` result in number_format_exception","user":{"login":"olivere","id":134848,"node_id":"MDQ6VXNlcjEzNDg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/134848?v=4","gravatar_id":"","url":"https://api.github.com/users/olivere","html_url":"https://github.com/olivere","followers_url":"https://api.github.com/users/olivere/followers","following_url":"https://api.github.com/users/olivere/following{/other_user}","gists_url":"https://api.github.com/users/olivere/gists{/gist_id}","starred_url":"https://api.github.com/users/olivere/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/olivere/subscriptions","organizations_url":"https://api.github.com/users/olivere/orgs","repos_url":"https://api.github.com/users/olivere/repos","events_url":"https://api.github.com/users/olivere/events{/privacy}","received_events_url":"https://api.github.com/users/olivere/received_events","type":"User","site_admin":false},"labels":[{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"assignees":[{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2016-06-25T14:07:23Z","updated_at":"2017-05-09T08:15:26Z","closed_at":"2016-06-25T20:18:49Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"<!--\nGitHub is reserved for bug reports and feature requests. The best place\nto ask a general question is at the Elastic Discourse forums at\nhttps://discuss.elastic.co. If you are in fact posting a bug report or\na feature request, please include one and only one of the below blocks\nin your new issue.\n-->\n\n<!--\nIf you are filing a bug report, please remove the below feature\nrequest block and provide responses for all of the below items.\n-->\n\n**Environment**\n\nES 5.0.0-alpha3\nLinux/4.4.13-moby/amd64\nOracle Corporation/OpenJDK 64-Bit Server VM/1.8.0_91/25.91-b14\nrunning inside Docker.\n\n**Problem**\n\nI cannot issue \"human\" values for `timeout`any more, e.g. `timeout=1s`.\n\n**Steps to reproduce**:\n\nNotice the `\"timeout\":\"1s\"` here:\n\n```\n$ curl 'localhost:9200/_search' -d '{\"query\":{\"match_all\":{}},\"timeout\":\"1s\"}'\n{\"error\":{\"root_cause\":[{\"type\":\"number_format_exception\",\"reason\":\"For input string: \\\"1s\\\"\"}],\"type\":\"number_format_exception\",\"reason\":\"For input string: \\\"1s\\\"\"},\"status\":400}\n```\n\nNotice the `\"timeout\":\"1000\"` here (same with `1000`, without the quotes btw):\n\n```\n$ curl 'localhost:9200/_search' -d '{\"query\":{\"match_all\":{}},\"timeout\":\"1000\"}'\n{\"took\":1,\"timed_out\":false,\"_shards\":{\"total\":2,\"successful\":2,\"failed\":0},\"hits\":{\"total\":3,\"max_score\":1.0,\"hits\":[{\"_index\":\"elastic-test\",\"_type\":\"tweet\",\"_id\":\"1\",\"_score\":1.0,\"_timestamp\":1466863101867,\"_source\":{\"user\":\"olivere\",\"message\":\"Welcome to Golang and Elasticsearch.\",\"retweets\":108,\"created\":\"2012-12-12T17:38:34Z\"}},{\"_index\":\"elastic-test\",\"_type\":\"tweet\",\"_id\":\"2\",\"_score\":1.0,\"_timestamp\":1466863101879,\"_source\":{\"user\":\"olivere\",\"message\":\"Another unrelated topic.\",\"retweets\":0,\"created\":\"2012-10-10T08:12:03Z\"}},{\"_index\":\"elastic-test\",\"_type\":\"tweet\",\"_id\":\"3\",\"_score\":1.0,\"_timestamp\":1466863101882,\"_source\":{\"user\":\"sandrae\",\"message\":\"Cycling is fun.\",\"retweets\":12,\"created\":\"2011-11-11T10:58:12Z\"}}]}}\n```\n\nCannot find a deprecation notice. Is this expected behavior?\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}