[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/209395384","html_url":"https://github.com/elastic/elasticsearch/issues/17699#issuecomment-209395384","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17699","id":209395384,"node_id":"MDEyOklzc3VlQ29tbWVudDIwOTM5NTM4NA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-04-13T11:59:37Z","updated_at":"2016-04-13T11:59:37Z","author_association":"CONTRIBUTOR","body":"I just checked the code in master and 2.2 - the implementation looks a bit strange but I believe it should return a random entry from the list of nodes that satisfies the predicate. It picks a random number between 0 and the size of the list of nodes that pass the predicate and then walks the list. I haven't tried running it and checking the debugger but it sure looks random to me. Are you sure you are getting the same node when you have more than one node that matches the predicate?\n","performed_via_github_app":null}]