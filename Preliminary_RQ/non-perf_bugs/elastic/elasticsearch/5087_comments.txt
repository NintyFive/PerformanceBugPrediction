[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/34801599","html_url":"https://github.com/elastic/elasticsearch/issues/5087#issuecomment-34801599","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5087","id":34801599,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODAxNTk5","user":{"login":"bwmeier","id":2432307,"node_id":"MDQ6VXNlcjI0MzIzMDc=","avatar_url":"https://avatars1.githubusercontent.com/u/2432307?v=4","gravatar_id":"","url":"https://api.github.com/users/bwmeier","html_url":"https://github.com/bwmeier","followers_url":"https://api.github.com/users/bwmeier/followers","following_url":"https://api.github.com/users/bwmeier/following{/other_user}","gists_url":"https://api.github.com/users/bwmeier/gists{/gist_id}","starred_url":"https://api.github.com/users/bwmeier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bwmeier/subscriptions","organizations_url":"https://api.github.com/users/bwmeier/orgs","repos_url":"https://api.github.com/users/bwmeier/repos","events_url":"https://api.github.com/users/bwmeier/events{/privacy}","received_events_url":"https://api.github.com/users/bwmeier/received_events","type":"User","site_admin":false},"created_at":"2014-02-11T20:24:44Z","updated_at":"2014-02-11T20:25:03Z","author_association":"NONE","body":"Additional information:  The wildcard resolution works for certain expressions, so testing should be aware of this.\n\n``` bash\n~$ curl -I -XHEAD 'http://localhost:9200/logstash-2014.02.11/log4jlogs'\nHTTP/1.1 200 OK\nContent-Type: text/plain; charset=UTF-8\nContent-Length: 0\n\n~$ curl -I -XHEAD 'http://localhost:9200/logstash-2014.02.*/log4jlogs'\nHTTP/1.1 200 OK\nContent-Type: text/plain; charset=UTF-8\nContent-Length: 0\n\n~$ curl -I -XHEAD 'http://localhost:9200/logstash-2014.*/log4jlogs'\nHTTP/1.1 404 Not Found\nContent-Type: text/plain; charset=UTF-8\nContent-Length: 0\n\n~$ curl -I -XHEAD 'http://localhost:9200/logstash-*/log4jlogs'\nHTTP/1.1 404 Not Found\nContent-Type: text/plain; charset=UTF-8\nContent-Length: 0\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/34858669","html_url":"https://github.com/elastic/elasticsearch/issues/5087#issuecomment-34858669","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5087","id":34858669,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODU4NjY5","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2014-02-12T11:04:33Z","updated_at":"2014-02-12T11:13:57Z","author_association":"MEMBER","body":"Hey,\n\nI managed to reproduce your issue\n\n``` sh\ncurl -X DELETE http://localhost:9200/\ncurl -X PUT http://localhost:9200/logstash-2013.01.10/log4jlogs/1 -d '{\"foo\":\"bar\"}'\ncurl -X PUT http://localhost:9200/logstash-2014.01.10/foo/1 -d '{\"foo\":\"bar\"}'\ncurl -X PUT http://localhost:9200/logstash-2014.02.10/log4jlogs/1 -d '{\"foo\":\"bar\"}'\ncurl -X PUT http://localhost:9200/logstash-2014.02.11/log4jlogs/1 -d '{\"foo\":\"bar\"}'\ncurl -I -XHEAD 'http://localhost:9200/logstash-2014.02.*/log4jlogs'\ncurl -I -XHEAD 'http://localhost:9200/logstash-2014.*/log4jlogs'\ncurl -I -XHEAD 'http://localhost:9200/logstash-*/log4jlogs'\n```\n\nThe problem is getting more obvious then. The reason, you are receiving a 404 is most likely, that the `log4jlogs` type is not included in one of the indices which matched the wildcard search. Then elasticsearch returns a 404. I need to think about, if it is more useful to sort of invert this logic and return 200 if the type is included in any of the matched indices.\n\nThat would be the behaviour you are expecting, right?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/34885622","html_url":"https://github.com/elastic/elasticsearch/issues/5087#issuecomment-34885622","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5087","id":34885622,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODg1NjIy","user":{"login":"bwmeier","id":2432307,"node_id":"MDQ6VXNlcjI0MzIzMDc=","avatar_url":"https://avatars1.githubusercontent.com/u/2432307?v=4","gravatar_id":"","url":"https://api.github.com/users/bwmeier","html_url":"https://github.com/bwmeier","followers_url":"https://api.github.com/users/bwmeier/followers","following_url":"https://api.github.com/users/bwmeier/following{/other_user}","gists_url":"https://api.github.com/users/bwmeier/gists{/gist_id}","starred_url":"https://api.github.com/users/bwmeier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bwmeier/subscriptions","organizations_url":"https://api.github.com/users/bwmeier/orgs","repos_url":"https://api.github.com/users/bwmeier/repos","events_url":"https://api.github.com/users/bwmeier/events{/privacy}","received_events_url":"https://api.github.com/users/bwmeier/received_events","type":"User","site_admin":false},"created_at":"2014-02-12T16:24:33Z","updated_at":"2014-02-12T16:24:33Z","author_association":"NONE","body":"Yes that's definitely what I would expect.  As a general principle, I'd expect that if the associated GET query would return successfully (with or without data) then the HEAD query would return 200 as well.  \n\nI noticed this because the elasticsearch-hadoop-1.3.0.M2 build no longer works in this circumstance, so you might want to loop @costin in on the conversation.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/34886696","html_url":"https://github.com/elastic/elasticsearch/issues/5087#issuecomment-34886696","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5087","id":34886696,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODg2Njk2","user":{"login":"bwmeier","id":2432307,"node_id":"MDQ6VXNlcjI0MzIzMDc=","avatar_url":"https://avatars1.githubusercontent.com/u/2432307?v=4","gravatar_id":"","url":"https://api.github.com/users/bwmeier","html_url":"https://github.com/bwmeier","followers_url":"https://api.github.com/users/bwmeier/followers","following_url":"https://api.github.com/users/bwmeier/following{/other_user}","gists_url":"https://api.github.com/users/bwmeier/gists{/gist_id}","starred_url":"https://api.github.com/users/bwmeier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bwmeier/subscriptions","organizations_url":"https://api.github.com/users/bwmeier/orgs","repos_url":"https://api.github.com/users/bwmeier/repos","events_url":"https://api.github.com/users/bwmeier/events{/privacy}","received_events_url":"https://api.github.com/users/bwmeier/received_events","type":"User","site_admin":false},"created_at":"2014-02-12T16:32:47Z","updated_at":"2014-02-12T16:33:19Z","author_association":"NONE","body":"Ah, I commented before I checked.  The search query returns successfully even if the type does not exist, it only fails if the index does not exist.  This makes for an interesting question as to what the behavior should be.\n\nHowever, I definitely think that if the associated _search query would return data, then the HEAD query should return 200, by principle of least surprise.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/231397813","html_url":"https://github.com/elastic/elasticsearch/issues/5087#issuecomment-231397813","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5087","id":231397813,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMTM5NzgxMw==","user":{"login":"kleptog","id":850393,"node_id":"MDQ6VXNlcjg1MDM5Mw==","avatar_url":"https://avatars1.githubusercontent.com/u/850393?v=4","gravatar_id":"","url":"https://api.github.com/users/kleptog","html_url":"https://github.com/kleptog","followers_url":"https://api.github.com/users/kleptog/followers","following_url":"https://api.github.com/users/kleptog/following{/other_user}","gists_url":"https://api.github.com/users/kleptog/gists{/gist_id}","starred_url":"https://api.github.com/users/kleptog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kleptog/subscriptions","organizations_url":"https://api.github.com/users/kleptog/orgs","repos_url":"https://api.github.com/users/kleptog/repos","events_url":"https://api.github.com/users/kleptog/events{/privacy}","received_events_url":"https://api.github.com/users/kleptog/received_events","type":"User","site_admin":false},"created_at":"2016-07-08T15:55:18Z","updated_at":"2016-07-08T15:55:18Z","author_association":"NONE","body":"FWIW, a 404 is also returned when using _all, so it's not specifically related to index wildcard resolution.\n\nES 2.0.0\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/258677159","html_url":"https://github.com/elastic/elasticsearch/issues/5087#issuecomment-258677159","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5087","id":258677159,"node_id":"MDEyOklzc3VlQ29tbWVudDI1ODY3NzE1OQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-11-06T12:15:13Z","updated_at":"2016-11-06T12:15:13Z","author_association":"CONTRIBUTOR","body":"> However, I definitely think that if the associated _search query would return data, then the HEAD query should return 200, by principle of least surprise.\n\nI think I disagree with this.  Search is just one use case.  What if you were using this to answer the question \"does this type exist in all indices or do I need to update the mapping\"?\n\nIn fact, searching on a non-existent type doesn't return an error - it just returns zero results, which seems safe.\n\nI think we should leave this as it is.\n","performed_via_github_app":null}]