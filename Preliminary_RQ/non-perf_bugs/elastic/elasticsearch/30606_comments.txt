[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/389148636","html_url":"https://github.com/elastic/elasticsearch/issues/30606#issuecomment-389148636","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30606","id":389148636,"node_id":"MDEyOklzc3VlQ29tbWVudDM4OTE0ODYzNg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-05-15T12:28:25Z","updated_at":"2018-05-15T12:28:25Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/389148928","html_url":"https://github.com/elastic/elasticsearch/issues/30606#issuecomment-389148928","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30606","id":389148928,"node_id":"MDEyOklzc3VlQ29tbWVudDM4OTE0ODkyOA==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2018-05-15T12:29:30Z","updated_at":"2018-05-15T12:29:30Z","author_association":"MEMBER","body":"I found https://github.com/elastic/elasticsearch/pull/28753 which might be related but that should have been fixed in 6.2.3. Not sure if this is a different issue.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/394006856","html_url":"https://github.com/elastic/elasticsearch/issues/30606#issuecomment-394006856","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30606","id":394006856,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDAwNjg1Ng==","user":{"login":"sathiql","id":39841843,"node_id":"MDQ6VXNlcjM5ODQxODQz","avatar_url":"https://avatars2.githubusercontent.com/u/39841843?v=4","gravatar_id":"","url":"https://api.github.com/users/sathiql","html_url":"https://github.com/sathiql","followers_url":"https://api.github.com/users/sathiql/followers","following_url":"https://api.github.com/users/sathiql/following{/other_user}","gists_url":"https://api.github.com/users/sathiql/gists{/gist_id}","starred_url":"https://api.github.com/users/sathiql/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sathiql/subscriptions","organizations_url":"https://api.github.com/users/sathiql/orgs","repos_url":"https://api.github.com/users/sathiql/repos","events_url":"https://api.github.com/users/sathiql/events{/privacy}","received_events_url":"https://api.github.com/users/sathiql/received_events","type":"User","site_admin":false},"created_at":"2018-06-01T20:56:45Z","updated_at":"2018-06-01T20:56:45Z","author_association":"NONE","body":"I had the same issue in windows\r\nAdded JAVA_HOME in Environmetn Variable --> System Variables section.\r\nIt worked\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/394069970","html_url":"https://github.com/elastic/elasticsearch/issues/30606#issuecomment-394069970","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30606","id":394069970,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDA2OTk3MA==","user":{"login":"Dobatymo","id":7647594,"node_id":"MDQ6VXNlcjc2NDc1OTQ=","avatar_url":"https://avatars1.githubusercontent.com/u/7647594?v=4","gravatar_id":"","url":"https://api.github.com/users/Dobatymo","html_url":"https://github.com/Dobatymo","followers_url":"https://api.github.com/users/Dobatymo/followers","following_url":"https://api.github.com/users/Dobatymo/following{/other_user}","gists_url":"https://api.github.com/users/Dobatymo/gists{/gist_id}","starred_url":"https://api.github.com/users/Dobatymo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Dobatymo/subscriptions","organizations_url":"https://api.github.com/users/Dobatymo/orgs","repos_url":"https://api.github.com/users/Dobatymo/repos","events_url":"https://api.github.com/users/Dobatymo/events{/privacy}","received_events_url":"https://api.github.com/users/Dobatymo/received_events","type":"User","site_admin":false},"created_at":"2018-06-02T08:31:35Z","updated_at":"2018-06-02T08:31:35Z","author_association":"NONE","body":"@sathiql JAVA_HOME is assigned, the problem is with the parentheses in the path. Does your path contain parentheses?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/394969201","html_url":"https://github.com/elastic/elasticsearch/issues/30606#issuecomment-394969201","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30606","id":394969201,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDk2OTIwMQ==","user":{"login":"Henr1k80","id":1196123,"node_id":"MDQ6VXNlcjExOTYxMjM=","avatar_url":"https://avatars2.githubusercontent.com/u/1196123?v=4","gravatar_id":"","url":"https://api.github.com/users/Henr1k80","html_url":"https://github.com/Henr1k80","followers_url":"https://api.github.com/users/Henr1k80/followers","following_url":"https://api.github.com/users/Henr1k80/following{/other_user}","gists_url":"https://api.github.com/users/Henr1k80/gists{/gist_id}","starred_url":"https://api.github.com/users/Henr1k80/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Henr1k80/subscriptions","organizations_url":"https://api.github.com/users/Henr1k80/orgs","repos_url":"https://api.github.com/users/Henr1k80/repos","events_url":"https://api.github.com/users/Henr1k80/events{/privacy}","received_events_url":"https://api.github.com/users/Henr1k80/received_events","type":"User","site_admin":false},"created_at":"2018-06-06T07:29:48Z","updated_at":"2018-06-06T07:29:48Z","author_association":"NONE","body":"My Windows 10 with java SE x64 version 1.8.0_171-b11 running Elasticsearch 6.2.4 also had this problem\r\nI added the fix to the bat file and it worked.\r\nIn my Path variable there is this path:\r\nC:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath\r\nwhich I guess is some kind of symbolic link folder to my current x64 java (special icon, only java, javaw and javaws exe). I think it is the culprit.\r\nI have no JAVA_HOME and adding one did not help.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/396275650","html_url":"https://github.com/elastic/elasticsearch/issues/30606#issuecomment-396275650","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30606","id":396275650,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NjI3NTY1MA==","user":{"login":"lashchev","id":10738657,"node_id":"MDQ6VXNlcjEwNzM4NjU3","avatar_url":"https://avatars3.githubusercontent.com/u/10738657?v=4","gravatar_id":"","url":"https://api.github.com/users/lashchev","html_url":"https://github.com/lashchev","followers_url":"https://api.github.com/users/lashchev/followers","following_url":"https://api.github.com/users/lashchev/following{/other_user}","gists_url":"https://api.github.com/users/lashchev/gists{/gist_id}","starred_url":"https://api.github.com/users/lashchev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lashchev/subscriptions","organizations_url":"https://api.github.com/users/lashchev/orgs","repos_url":"https://api.github.com/users/lashchev/repos","events_url":"https://api.github.com/users/lashchev/events{/privacy}","received_events_url":"https://api.github.com/users/lashchev/received_events","type":"User","site_admin":false},"created_at":"2018-06-11T15:02:56Z","updated_at":"2018-06-22T01:20:01Z","author_association":"NONE","body":"Thanks, @Dobatymo for the fix! It works in general, but the result will be that only first option from jvm.options file will be picked up. Here is the updated version (with added _delims=_ option) that picks all JVM options:\r\n\r\n```\r\nfor /F \"usebackq delims=\" %%a in (`CALL %JAVA% -cp \"!ES_CLASSPATH!\" \"org.elasticsearch.tools.launchers.JvmOptionsParser\" \"!ES_JVM_OPTIONS!\" ^|^| echo jvm_options_parser_failed`) do set JVM_OPTIONS=%%a\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/399904716","html_url":"https://github.com/elastic/elasticsearch/issues/30606#issuecomment-399904716","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30606","id":399904716,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTkwNDcxNg==","user":{"login":"lashchev","id":10738657,"node_id":"MDQ6VXNlcjEwNzM4NjU3","avatar_url":"https://avatars3.githubusercontent.com/u/10738657?v=4","gravatar_id":"","url":"https://api.github.com/users/lashchev","html_url":"https://github.com/lashchev","followers_url":"https://api.github.com/users/lashchev/followers","following_url":"https://api.github.com/users/lashchev/following{/other_user}","gists_url":"https://api.github.com/users/lashchev/gists{/gist_id}","starred_url":"https://api.github.com/users/lashchev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lashchev/subscriptions","organizations_url":"https://api.github.com/users/lashchev/orgs","repos_url":"https://api.github.com/users/lashchev/repos","events_url":"https://api.github.com/users/lashchev/events{/privacy}","received_events_url":"https://api.github.com/users/lashchev/received_events","type":"User","site_admin":false},"created_at":"2018-06-25T10:23:41Z","updated_at":"2018-06-25T10:23:41Z","author_association":"NONE","body":"Still the same issue in v6.3.0\r\n\r\nAnother issue that is in the elasticsearch.bat is just 2 lines above \"for /F\". It starts with set \"ES_JVM_OPTIONS=\r\nIt has double quotes between \"set\" and variable name. These quotes are not really needed because in the command below that variable is enclosed in the quotes anyway.\r\nSo, the full working snippet that works for me looks like the following \r\n```\r\nset ES_JVM_OPTIONS=%ES_PATH_CONF%\\jvm.options\r\n@setlocal\r\nfor /F \"usebackq delims=\" %%a in (`CALL %JAVA% -cp \"!ES_CLASSPATH!\" \"org.elasticsearch.tools.launchers.JvmOptionsParser\" \"!ES_JVM_OPTIONS!\" ^|^| echo jvm_options_parser_failed`) do set JVM_OPTIONS=%%a\r\n@endlocal & set \"MAYBE_JVM_OPTIONS_PARSER_FAILED=%JVM_OPTIONS%\" & set ES_JAVA_OPTS=%JVM_OPTIONS:${ES_TMPDIR}=!ES_TMPDIR!% %ES_JAVA_OPTS%\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/412878546","html_url":"https://github.com/elastic/elasticsearch/issues/30606#issuecomment-412878546","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30606","id":412878546,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMjg3ODU0Ng==","user":{"login":"PhaedrusTheGreek","id":4387023,"node_id":"MDQ6VXNlcjQzODcwMjM=","avatar_url":"https://avatars0.githubusercontent.com/u/4387023?v=4","gravatar_id":"","url":"https://api.github.com/users/PhaedrusTheGreek","html_url":"https://github.com/PhaedrusTheGreek","followers_url":"https://api.github.com/users/PhaedrusTheGreek/followers","following_url":"https://api.github.com/users/PhaedrusTheGreek/following{/other_user}","gists_url":"https://api.github.com/users/PhaedrusTheGreek/gists{/gist_id}","starred_url":"https://api.github.com/users/PhaedrusTheGreek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PhaedrusTheGreek/subscriptions","organizations_url":"https://api.github.com/users/PhaedrusTheGreek/orgs","repos_url":"https://api.github.com/users/PhaedrusTheGreek/repos","events_url":"https://api.github.com/users/PhaedrusTheGreek/events{/privacy}","received_events_url":"https://api.github.com/users/PhaedrusTheGreek/received_events","type":"User","site_admin":false},"created_at":"2018-08-14T13:51:02Z","updated_at":"2018-08-14T13:55:36Z","author_association":"CONTRIBUTOR","body":"This is reproducible in Windows Server 2016 when `JAVA_HOME` has parenthesis, like in `Program Files (x86)`.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/428277974","html_url":"https://github.com/elastic/elasticsearch/issues/30606#issuecomment-428277974","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30606","id":428277974,"node_id":"MDEyOklzc3VlQ29tbWVudDQyODI3Nzk3NA==","user":{"login":"SreekanthPuj","id":44001480,"node_id":"MDQ6VXNlcjQ0MDAxNDgw","avatar_url":"https://avatars1.githubusercontent.com/u/44001480?v=4","gravatar_id":"","url":"https://api.github.com/users/SreekanthPuj","html_url":"https://github.com/SreekanthPuj","followers_url":"https://api.github.com/users/SreekanthPuj/followers","following_url":"https://api.github.com/users/SreekanthPuj/following{/other_user}","gists_url":"https://api.github.com/users/SreekanthPuj/gists{/gist_id}","starred_url":"https://api.github.com/users/SreekanthPuj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SreekanthPuj/subscriptions","organizations_url":"https://api.github.com/users/SreekanthPuj/orgs","repos_url":"https://api.github.com/users/SreekanthPuj/repos","events_url":"https://api.github.com/users/SreekanthPuj/events{/privacy}","received_events_url":"https://api.github.com/users/SreekanthPuj/received_events","type":"User","site_admin":false},"created_at":"2018-10-09T17:22:27Z","updated_at":"2018-10-09T18:47:40Z","author_association":"NONE","body":"I've resolved this with the below two steps on Windows 10 - 64 bit machine using Command Line Installer for ElasticSearch 6.4.2\r\n\r\n1. Added an environment variable JAVA_HOME to the System Environment varaibles.\r\n\r\n2. In the ElasticSearch.bat\r\nreplace \r\n\r\n> for /F \"usebackq delims=\" %%a in (`\"%JAVA% -cp \"!ES_CLASSPATH!\" blah blah\r\n\r\n with\r\n\r\n> for /F \"usebackq delims=\" %%a in (`\"**!**JAVA**!** -cp \"!ES_CLASSPATH!\"  blah blah\r\n\r\n\r\nit worked like a charm for me...\r\n\r\nPS: \r\nThe startup then hit an issue:\r\n_[2018-10-09T18:20:49,158][WARN ][o.e.b.ElasticsearchUncaughtExceptionHandler] [Sree_Cluster1_node-1] uncaught exception in thread [main]\r\norg.elasticsearch.bootstrap.StartupException: ElasticsearchException[X-Pack is not supported and Machine Learning is not available for [windows-x86]; you can use the other X-Pack features (unsupported) by setting xpack.ml.enabled: false in elasticsearch.yml]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:140) ~[elasticsearch-6.4.2.jar:6.4.2]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:127) ~[elasticsearch-6.4.2.jar:6.4.2]\r\n        at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) ~[elasticsearch-6.4.2.jar:6.4.2]_\r\n\r\n> This one got resolved by adding **xpack.ml.enabled: false** to the elasticsearch.yml\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/487305094","html_url":"https://github.com/elastic/elasticsearch/issues/30606#issuecomment-487305094","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30606","id":487305094,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NzMwNTA5NA==","user":{"login":"jaiswarvipin","id":2851243,"node_id":"MDQ6VXNlcjI4NTEyNDM=","avatar_url":"https://avatars0.githubusercontent.com/u/2851243?v=4","gravatar_id":"","url":"https://api.github.com/users/jaiswarvipin","html_url":"https://github.com/jaiswarvipin","followers_url":"https://api.github.com/users/jaiswarvipin/followers","following_url":"https://api.github.com/users/jaiswarvipin/following{/other_user}","gists_url":"https://api.github.com/users/jaiswarvipin/gists{/gist_id}","starred_url":"https://api.github.com/users/jaiswarvipin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaiswarvipin/subscriptions","organizations_url":"https://api.github.com/users/jaiswarvipin/orgs","repos_url":"https://api.github.com/users/jaiswarvipin/repos","events_url":"https://api.github.com/users/jaiswarvipin/events{/privacy}","received_events_url":"https://api.github.com/users/jaiswarvipin/received_events","type":"User","site_admin":false},"created_at":"2019-04-27T17:30:58Z","updated_at":"2019-04-27T17:30:58Z","author_association":"NONE","body":"Hi All,\r\nif your java is installed under C:\\Program Files (x86) then set the JAVA_HOME like will below\r\n\r\n`set JAVA_HOME=C:\\Progra~2\\Java\\jre1.8.0_131`\r\n\r\nif your java is installed under C:\\Program Files then set the JAVA_HOME like will below\r\n`set JAVA_HOME=C:\\Progra~1\\Java\\jre1.8.0_131`\r\n\r\nAfter that try to start the elastic search, it should start then.\r\n\r\nThanks & Regards\r\nJaiswar Vipin Kumar R","performed_via_github_app":null}]