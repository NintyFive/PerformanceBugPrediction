{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/54303","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54303/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54303/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54303/events","html_url":"https://github.com/elastic/elasticsearch/issues/54303","id":588728583,"node_id":"MDU6SXNzdWU1ODg3Mjg1ODM=","number":54303,"title":"Ingest node attachment processor in a pipeline PDFs and Word Docs","user":{"login":"devincheca","id":26238957,"node_id":"MDQ6VXNlcjI2MjM4OTU3","avatar_url":"https://avatars1.githubusercontent.com/u/26238957?v=4","gravatar_id":"","url":"https://api.github.com/users/devincheca","html_url":"https://github.com/devincheca","followers_url":"https://api.github.com/users/devincheca/followers","following_url":"https://api.github.com/users/devincheca/following{/other_user}","gists_url":"https://api.github.com/users/devincheca/gists{/gist_id}","starred_url":"https://api.github.com/users/devincheca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devincheca/subscriptions","organizations_url":"https://api.github.com/users/devincheca/orgs","repos_url":"https://api.github.com/users/devincheca/repos","events_url":"https://api.github.com/users/devincheca/events{/privacy}","received_events_url":"https://api.github.com/users/devincheca/received_events","type":"User","site_admin":false},"labels":[{"id":268963484,"node_id":"MDU6TGFiZWwyNjg5NjM0ODQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Ingest","name":":Core/Features/Ingest","color":"0e8a16","default":false,"description":"Execution or management of Ingest Pipelines"},{"id":1967496097,"node_id":"MDU6TGFiZWwxOTY3NDk2MDk3","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Core/Features","name":"Team:Core/Features","color":"fef2c0","default":false,"description":"Meta label for core/features team"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-03-26T21:04:48Z","updated_at":"2020-08-13T05:18:23Z","closed_at":"2020-08-13T05:18:22Z","author_association":"NONE","active_lock_reason":null,"body":"<!-- Bug report -->\r\n\r\n**Elasticsearch version** (`bin/elasticsearch --version`): 7.6.1\r\n\r\n**Plugins installed**: [ingest-attachment]\r\n\r\n**JVM version** (`java -version`): 1.8.0_211\r\n\r\n**OS version** (`uname -a` if on a Unix-like system): Windows 10 / Windows Server 2012/R2\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\nbase64 encoded PDF files and Word docs should index the contents through the pipeline\r\nthis is working fine for text files; the indexed content routes to the attachment.content field\r\nthe problem comes when I try to handle PDF files and Word docs\r\nI have tried running the requests/queries listed at this link in Kibana and I cannot get PDFs and Word docs to work:\r\nhttps://www.elastic.co/guide/en/elasticsearch/plugins/current/using-ingest-attachment.html\r\nI have a repo at the following link with sample code for what I am trying to do:\r\nhttps://github.com/devincheca/elasticIngestDocs\r\nthe problem manifests as the base64 encoded PDF or Word doc being indexed with only one field called data: Uxdmblahblahblah...etc== \r\n\r\nAny help with this matter is appreciated.\r\n\r\n**Steps to reproduce**:\r\n\r\nPlease include a *minimal* but *complete* recreation of the problem, including\r\n(e.g.) index creation, mappings, settings, query etc.  The easier you make for\r\nus to reproduce it, the more likely that somebody will take the time to look at it.\r\n\r\n 1.run the elasticsearch and kibana on your local machine at 9200 and 5601 respectively\r\n 2.index/create some data for the searcheable_docs_demo\r\n 3.create the pipeline according to the documentation here:\r\nhttps://www.elastic.co/guide/en/elasticsearch/plugins/current/using-ingest-attachment.html\r\n 4..clone this repo and run the express app (npm install and then npm start)\r\nhttps://github.com/devincheca/elasticIngestDocs\r\n 5. go to localhost:3000\r\n 6. try uploading a text file and check in kibana that the attachment.content reflects the file contents (there is a testFiles folder in the repo","closed_by":{"login":"devincheca","id":26238957,"node_id":"MDQ6VXNlcjI2MjM4OTU3","avatar_url":"https://avatars1.githubusercontent.com/u/26238957?v=4","gravatar_id":"","url":"https://api.github.com/users/devincheca","html_url":"https://github.com/devincheca","followers_url":"https://api.github.com/users/devincheca/followers","following_url":"https://api.github.com/users/devincheca/following{/other_user}","gists_url":"https://api.github.com/users/devincheca/gists{/gist_id}","starred_url":"https://api.github.com/users/devincheca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devincheca/subscriptions","organizations_url":"https://api.github.com/users/devincheca/orgs","repos_url":"https://api.github.com/users/devincheca/repos","events_url":"https://api.github.com/users/devincheca/events{/privacy}","received_events_url":"https://api.github.com/users/devincheca/received_events","type":"User","site_admin":false},"performed_via_github_app":null}