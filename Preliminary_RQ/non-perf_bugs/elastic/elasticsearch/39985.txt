{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/39985","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39985/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39985/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39985/events","html_url":"https://github.com/elastic/elasticsearch/issues/39985","id":420326996,"node_id":"MDU6SXNzdWU0MjAzMjY5OTY=","number":39985,"title":"Single Node Cluster Not Comingup","user":{"login":"srirama-rayaprolu","id":4252136,"node_id":"MDQ6VXNlcjQyNTIxMzY=","avatar_url":"https://avatars0.githubusercontent.com/u/4252136?v=4","gravatar_id":"","url":"https://api.github.com/users/srirama-rayaprolu","html_url":"https://github.com/srirama-rayaprolu","followers_url":"https://api.github.com/users/srirama-rayaprolu/followers","following_url":"https://api.github.com/users/srirama-rayaprolu/following{/other_user}","gists_url":"https://api.github.com/users/srirama-rayaprolu/gists{/gist_id}","starred_url":"https://api.github.com/users/srirama-rayaprolu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srirama-rayaprolu/subscriptions","organizations_url":"https://api.github.com/users/srirama-rayaprolu/orgs","repos_url":"https://api.github.com/users/srirama-rayaprolu/repos","events_url":"https://api.github.com/users/srirama-rayaprolu/events{/privacy}","received_events_url":"https://api.github.com/users/srirama-rayaprolu/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-03-13T05:44:59Z","updated_at":"2019-03-13T09:47:48Z","closed_at":"2019-03-13T09:40:00Z","author_association":"NONE","active_lock_reason":null,"body":"In my local elastic setup, if I set the setting \r\n`discovery.zen.ping.multicast.enabled: false`\r\nElastic is not coming up. \r\n\r\nAfter checking https://github.com/elastic/elasticsearch/issues/22909, I removed the setting.\r\n\r\nNow, how to make the single node cluster? \r\nBelow are my elasticsearch.yml contents.\r\n```\r\ncluster.name: my_cluster\r\nnode.name: node-1\r\n```\r\nIf try to access any index with out cluster.name appended it is working. \r\nHowever if I append it, then I am getting index not found error.\r\n\r\nWhat are the configuration changes need to be done, in order to access the index with cluster.name appended, any information is helpful.\r\n\r\nMy use case is to check my application how does it fair with cluster queries.\r\n\r\nMy Shards count is default of 5.\r\n\r\nI am using ELK Version:5.4.0\r\n\r\nBelow is my cluster health report\r\n```\r\ncurl -XGET http://localhost:9200/_cluster/health?pretty=true\r\n{\r\n  \"cluster_name\" : \"my_cluster\",\r\n  \"status\" : \"yellow\",\r\n  \"timed_out\" : false,\r\n  \"number_of_nodes\" : 1,\r\n  \"number_of_data_nodes\" : 1,\r\n  \"active_primary_shards\" : 5,\r\n  \"active_shards\" : 5,\r\n  \"relocating_shards\" : 0,\r\n  \"initializing_shards\" : 0,\r\n  \"unassigned_shards\" : 5,\r\n  \"delayed_unassigned_shards\" : 0,\r\n  \"number_of_pending_tasks\" : 0,\r\n  \"number_of_in_flight_fetch\" : 0,\r\n  \"task_max_waiting_in_queue_millis\" : 0,\r\n  \"active_shards_percent_as_number\" : 50.0\r\n}\r\n```\r\nI need to make single node cluster up and running for local testing purpose.\r\n\r\nAfter checking this link https://stackoverflow.com/questions/19967472/elasticsearch-unassigned-shards-how-to-fix, I turned the cluster state from yellow to green by executing the below \r\n```\r\ncurl -XPUT 'localhost:9200/_settings' -d '\r\n{\r\n    \"index\" : {\r\n        \"number_of_replicas\" : 0\r\n    }\r\n}'\r\n```\r\nBelow is my latest cluster state, \r\n```\r\ncurl -XGET http://localhost:9200/_cluster/health?pretty=true\r\n{\r\n  \"cluster_name\" : \"my_cluster\",\r\n  \"status\" : \"green\",\r\n  \"timed_out\" : false,\r\n  \"number_of_nodes\" : 1,\r\n  \"number_of_data_nodes\" : 1,\r\n  \"active_primary_shards\" : 5,\r\n  \"active_shards\" : 5,\r\n  \"relocating_shards\" : 0,\r\n  \"initializing_shards\" : 0,\r\n  \"unassigned_shards\" : 0,\r\n  \"delayed_unassigned_shards\" : 0,\r\n  \"number_of_pending_tasks\" : 0,\r\n  \"number_of_in_flight_fetch\" : 0,\r\n  \"task_max_waiting_in_queue_millis\" : 0,\r\n  \"active_shards_percent_as_number\" : 100.0\r\n}\r\n```\r\nStill I am unable to access the index with cluster.name prefixed.\r\n```\r\nhttp://127.0.0.1:9200/my_cluster:hello_cluster/ \r\n```\r\n\r\nBelow is my cluster node information settings using elasticsearch-head plugin\r\n\r\n```\r\n{\r\n\"name\": \"node-1\",\r\n\"transport_address\": \"127.0.0.1:9300\",\r\n\"host\": \"127.0.0.1\",\r\n\"ip\": \"127.0.0.1\",\r\n\"version\": \"5.4.0\",\r\n\"build_hash\": \"780f8c4\",\r\n\"total_indexing_buffer\": 211261849,\r\n\"roles\": [\r\n\"master\"\r\n,\r\n\"data\"\r\n,\r\n\"ingest\"\r\n],\r\n\"settings\": {\r\n\"cluster\": {\r\n\"name\": \"my_cluster\"\r\n},\r\n\"node\": {\r\n\"name\": \"node-1\"\r\n},\r\n\"path\": {\r\n\"logs\": \"E:\\ELK\\elasticsearch-5.4.0\\logs\",\r\n\"home\": \"E:\\ELK\\elasticsearch-5.4.0\"\r\n},\r\n\"discovery\": {\r\n\"zen\": {\r\n\"minimum_master_nodes\": \"1\",\r\n\"ping\": {\r\n\"unicast\": {\r\n\"hosts\": [\r\n\"127.0.0.1\"\r\n]\r\n}\r\n}\r\n}\r\n},\r\n\"client\": {\r\n\"type\": \"node\"\r\n},\r\n\"http\": {\r\n\"type\": {\r\n\"default\": \"netty4\"\r\n}\r\n},\r\n\"transport\": {\r\n\"type\": {\r\n\"default\": \"netty4\"\r\n}\r\n}\r\n},\r\n\"os\": {\r\n\"refresh_interval_in_millis\": 1000,\r\n\"name\": \"Windows 10\",\r\n\"arch\": \"amd64\",\r\n\"version\": \"10.0\",\r\n\"available_processors\": 4,\r\n\"allocated_processors\": 4\r\n},\r\n\"process\": {\r\n\"refresh_interval_in_millis\": 1000,\r\n\"id\": 125956,\r\n\"mlockall\": false\r\n},\r\n\"jvm\": {\r\n\"pid\": 125956,\r\n\"version\": \"1.8.0_202\",\r\n\"vm_name\": \"Java HotSpot(TM) 64-Bit Server VM\",\r\n\"vm_version\": \"25.202-b08\",\r\n\"vm_vendor\": \"Oracle Corporation\",\r\n\"start_time_in_millis\": 1552457015599,\r\n\"mem\": {\r\n\"heap_init_in_bytes\": 2147483648,\r\n\"heap_max_in_bytes\": 2112618496,\r\n\"non_heap_init_in_bytes\": 2555904,\r\n\"non_heap_max_in_bytes\": 0,\r\n\"direct_max_in_bytes\": 2112618496\r\n},\r\n\"gc_collectors\": [\r\n\"ParNew\"\r\n,\r\n\"ConcurrentMarkSweep\"\r\n],\r\n\"memory_pools\": [\r\n\"Code Cache\"\r\n,\r\n\"Metaspace\"\r\n,\r\n\"Compressed Class Space\"\r\n,\r\n\"Par Eden Space\"\r\n,\r\n\"Par Survivor Space\"\r\n,\r\n\"CMS Old Gen\"\r\n],\r\n\"using_compressed_ordinary_object_pointers\": \"true\"\r\n},\r\n\"thread_pool\": {\r\n\"force_merge\": {\r\n\"type\": \"fixed\",\r\n\"min\": 1,\r\n\"max\": 1,\r\n\"queue_size\": -1\r\n},\r\n\"fetch_shard_started\": {\r\n\"type\": \"scaling\",\r\n\"min\": 1,\r\n\"max\": 8,\r\n\"keep_alive\": \"5m\",\r\n\"queue_size\": -1\r\n},\r\n\"listener\": {\r\n\"type\": \"fixed\",\r\n\"min\": 2,\r\n\"max\": 2,\r\n\"queue_size\": -1\r\n},\r\n\"index\": {\r\n\"type\": \"fixed\",\r\n\"min\": 4,\r\n\"max\": 4,\r\n\"queue_size\": 200\r\n},\r\n\"refresh\": {\r\n\"type\": \"scaling\",\r\n\"min\": 1,\r\n\"max\": 2,\r\n\"keep_alive\": \"5m\",\r\n\"queue_size\": -1\r\n},\r\n\"generic\": {\r\n\"type\": \"scaling\",\r\n\"min\": 4,\r\n\"max\": 128,\r\n\"keep_alive\": \"30s\",\r\n\"queue_size\": -1\r\n},\r\n\"warmer\": {\r\n\"type\": \"scaling\",\r\n\"min\": 1,\r\n\"max\": 2,\r\n\"keep_alive\": \"5m\",\r\n\"queue_size\": -1\r\n},\r\n\"search\": {\r\n\"type\": \"fixed\",\r\n\"min\": 7,\r\n\"max\": 7,\r\n\"queue_size\": 1000\r\n},\r\n\"flush\": {\r\n\"type\": \"scaling\",\r\n\"min\": 1,\r\n\"max\": 2,\r\n\"keep_alive\": \"5m\",\r\n\"queue_size\": -1\r\n},\r\n\"fetch_shard_store\": {\r\n\"type\": \"scaling\",\r\n\"min\": 1,\r\n\"max\": 8,\r\n\"keep_alive\": \"5m\",\r\n\"queue_size\": -1\r\n},\r\n\"management\": {\r\n\"type\": \"scaling\",\r\n\"min\": 1,\r\n\"max\": 5,\r\n\"keep_alive\": \"5m\",\r\n\"queue_size\": -1\r\n},\r\n\"get\": {\r\n\"type\": \"fixed\",\r\n\"min\": 4,\r\n\"max\": 4,\r\n\"queue_size\": 1000\r\n},\r\n\"bulk\": {\r\n\"type\": \"fixed\",\r\n\"min\": 4,\r\n\"max\": 4,\r\n\"queue_size\": 200\r\n},\r\n\"snapshot\": {\r\n\"type\": \"scaling\",\r\n\"min\": 1,\r\n\"max\": 2,\r\n\"keep_alive\": \"5m\",\r\n\"queue_size\": -1\r\n}\r\n},\r\n\"transport\": {\r\n\"bound_address\": [\r\n\"127.0.0.1:9300\"\r\n,\r\n\"[::1]:9300\"\r\n],\r\n\"publish_address\": \"127.0.0.1:9300\",\r\n\"profiles\": { }\r\n},\r\n\"http\": {\r\n\"bound_address\": [\r\n\"127.0.0.1:9200\"\r\n,\r\n\"[::1]:9200\"\r\n],\r\n\"publish_address\": \"127.0.0.1:9200\",\r\n\"max_content_length_in_bytes\": 104857600\r\n},\r\n\"plugins\": [ ],\r\n\"modules\": [\r\n{\r\n\"name\": \"aggs-matrix-stats\",\r\n\"version\": \"5.4.0\",\r\n\"description\": \"Adds aggregations whose input are a list of numeric fields and output includes a matrix.\",\r\n\"classname\": \"org.elasticsearch.search.aggregations.matrix.MatrixAggregationPlugin\",\r\n\"has_native_controller\": false\r\n}\r\n,\r\n{\r\n\"name\": \"ingest-common\",\r\n\"version\": \"5.4.0\",\r\n\"description\": \"Module for ingest processors that do not require additional security permissions or have large dependencies and resources\",\r\n\"classname\": \"org.elasticsearch.ingest.common.IngestCommonPlugin\",\r\n\"has_native_controller\": false\r\n}\r\n,\r\n{\r\n\"name\": \"lang-expression\",\r\n\"version\": \"5.4.0\",\r\n\"description\": \"Lucene expressions integration for Elasticsearch\",\r\n\"classname\": \"org.elasticsearch.script.expression.ExpressionPlugin\",\r\n\"has_native_controller\": false\r\n}\r\n,\r\n{\r\n\"name\": \"lang-groovy\",\r\n\"version\": \"5.4.0\",\r\n\"description\": \"Groovy scripting integration for Elasticsearch\",\r\n\"classname\": \"org.elasticsearch.script.groovy.GroovyPlugin\",\r\n\"has_native_controller\": false\r\n}\r\n,\r\n{\r\n\"name\": \"lang-mustache\",\r\n\"version\": \"5.4.0\",\r\n\"description\": \"Mustache scripting integration for Elasticsearch\",\r\n\"classname\": \"org.elasticsearch.script.mustache.MustachePlugin\",\r\n\"has_native_controller\": false\r\n}\r\n,\r\n{\r\n\"name\": \"lang-painless\",\r\n\"version\": \"5.4.0\",\r\n\"description\": \"An easy, safe and fast scripting language for Elasticsearch\",\r\n\"classname\": \"org.elasticsearch.painless.PainlessPlugin\",\r\n\"has_native_controller\": false\r\n}\r\n,\r\n{\r\n\"name\": \"percolator\",\r\n\"version\": \"5.4.0\",\r\n\"description\": \"Percolator module adds capability to index queries and query these queries by specifying documents\",\r\n\"classname\": \"org.elasticsearch.percolator.PercolatorPlugin\",\r\n\"has_native_controller\": false\r\n}\r\n,\r\n{\r\n\"name\": \"reindex\",\r\n\"version\": \"5.4.0\",\r\n\"description\": \"The Reindex module adds APIs to reindex from one index to another or update documents in place.\",\r\n\"classname\": \"org.elasticsearch.index.reindex.ReindexPlugin\",\r\n\"has_native_controller\": false\r\n}\r\n,\r\n{\r\n\"name\": \"transport-netty3\",\r\n\"version\": \"5.4.0\",\r\n\"description\": \"Netty 3 based transport implementation\",\r\n\"classname\": \"org.elasticsearch.transport.Netty3Plugin\",\r\n\"has_native_controller\": false\r\n}\r\n,\r\n{\r\n\"name\": \"transport-netty4\",\r\n\"version\": \"5.4.0\",\r\n\"description\": \"Netty 4 based transport implementation\",\r\n\"classname\": \"org.elasticsearch.transport.Netty4Plugin\",\r\n\"has_native_controller\": false\r\n}\r\n],\r\n\"ingest\": {\r\n\"processors\": [\r\n{\r\n\"type\": \"append\"\r\n}\r\n,\r\n{\r\n\"type\": \"convert\"\r\n}\r\n,\r\n{\r\n\"type\": \"date\"\r\n}\r\n,\r\n{\r\n\"type\": \"date_index_name\"\r\n}\r\n,\r\n{\r\n\"type\": \"dot_expander\"\r\n}\r\n,\r\n{\r\n\"type\": \"fail\"\r\n}\r\n,\r\n{\r\n\"type\": \"foreach\"\r\n}\r\n,\r\n{\r\n\"type\": \"grok\"\r\n}\r\n,\r\n{\r\n\"type\": \"gsub\"\r\n}\r\n,\r\n{\r\n\"type\": \"join\"\r\n}\r\n,\r\n{\r\n\"type\": \"json\"\r\n}\r\n,\r\n{\r\n\"type\": \"kv\"\r\n}\r\n,\r\n{\r\n\"type\": \"lowercase\"\r\n}\r\n,\r\n{\r\n\"type\": \"remove\"\r\n}\r\n,\r\n{\r\n\"type\": \"rename\"\r\n}\r\n,\r\n{\r\n\"type\": \"script\"\r\n}\r\n,\r\n{\r\n\"type\": \"set\"\r\n}\r\n,\r\n{\r\n\"type\": \"sort\"\r\n}\r\n,\r\n{\r\n\"type\": \"split\"\r\n}\r\n,\r\n{\r\n\"type\": \"trim\"\r\n}\r\n,\r\n{\r\n\"type\": \"uppercase\"\r\n}\r\n]\r\n}\r\n}\r\n```\r\n\r\nI  am new to ELASTIC, am I doing some thing incorrect here?\r\n\r\n","closed_by":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"performed_via_github_app":null}