[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/255970032","html_url":"https://github.com/elastic/elasticsearch/issues/21105#issuecomment-255970032","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21105","id":255970032,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NTk3MDAzMg==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-10-25T08:24:41Z","updated_at":"2016-10-25T08:24:41Z","author_association":"MEMBER","body":"> Make the inheritance of templates explicit\n\nDefinitely a good idea IMO. In such a case, you know exactly what you are doing as a end user.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/256007063","html_url":"https://github.com/elastic/elasticsearch/issues/21105#issuecomment-256007063","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21105","id":256007063,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NjAwNzA2Mw==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-10-25T11:16:36Z","updated_at":"2016-10-25T11:16:36Z","author_association":"CONTRIBUTOR","body":"I wonder if we really need to make it all that sophisticated. It might be enough for 99% of the usecases to just have a single `_root_` template that you can inherit from and that's it. This means that the root is applied as part of each individual template independent of what other templates match for a specific index. When users update a specific template we can validate all effective template associated with each other. I also think we might be able to make this happen for 5.1?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/256013814","html_url":"https://github.com/elastic/elasticsearch/issues/21105#issuecomment-256013814","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21105","id":256013814,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NjAxMzgxNA==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-10-25T11:52:19Z","updated_at":"2016-10-25T11:52:19Z","author_association":"CONTRIBUTOR","body":"I just discussed it with Simon since I was not clear how this would help. Since the perceived benefit of having multiple matching templates is to save some typing when putting them, the `_root_` template would be applied when the template is put (rather than at index creation time) so that the template could be validated as it would be expected to be complete.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/256883367","html_url":"https://github.com/elastic/elasticsearch/issues/21105#issuecomment-256883367","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21105","id":256883367,"node_id":"MDEyOklzc3VlQ29tbWVudDI1Njg4MzM2Nw==","user":{"login":"acarstoiu","id":9536601,"node_id":"MDQ6VXNlcjk1MzY2MDE=","avatar_url":"https://avatars2.githubusercontent.com/u/9536601?v=4","gravatar_id":"","url":"https://api.github.com/users/acarstoiu","html_url":"https://github.com/acarstoiu","followers_url":"https://api.github.com/users/acarstoiu/followers","following_url":"https://api.github.com/users/acarstoiu/following{/other_user}","gists_url":"https://api.github.com/users/acarstoiu/gists{/gist_id}","starred_url":"https://api.github.com/users/acarstoiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acarstoiu/subscriptions","organizations_url":"https://api.github.com/users/acarstoiu/orgs","repos_url":"https://api.github.com/users/acarstoiu/repos","events_url":"https://api.github.com/users/acarstoiu/events{/privacy}","received_events_url":"https://api.github.com/users/acarstoiu/received_events","type":"User","site_admin":false},"created_at":"2016-10-28T10:02:16Z","updated_at":"2016-10-28T10:02:46Z","author_association":"NONE","body":"What if the `_root_` template also has it's own `_root_`?! The inheritance chain must be _free_ from any constraints, except for non-circularity, of course. ;)\n\nA second question is how on Earth are you going to enforce the single association to a brand new index that just happens to be created by a document insertion request? You have to resort to limitations on the declared template patterns like \"only non-overlapping prefixes\" and such. I personally don't like artificial limits.\nAnother idea is to still keep the `order` field in templates, only that it will indicate the priority for application on a new index. The highest priority of the matching templates (matched through _free_ patterns) points to the winning template - this would be in line with what happens right now (the last merged template has the highest `order`).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/263380122","html_url":"https://github.com/elastic/elasticsearch/issues/21105#issuecomment-263380122","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21105","id":263380122,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MzM4MDEyMg==","user":{"login":"marshall007","id":877936,"node_id":"MDQ6VXNlcjg3NzkzNg==","avatar_url":"https://avatars2.githubusercontent.com/u/877936?v=4","gravatar_id":"","url":"https://api.github.com/users/marshall007","html_url":"https://github.com/marshall007","followers_url":"https://api.github.com/users/marshall007/followers","following_url":"https://api.github.com/users/marshall007/following{/other_user}","gists_url":"https://api.github.com/users/marshall007/gists{/gist_id}","starred_url":"https://api.github.com/users/marshall007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marshall007/subscriptions","organizations_url":"https://api.github.com/users/marshall007/orgs","repos_url":"https://api.github.com/users/marshall007/repos","events_url":"https://api.github.com/users/marshall007/events{/privacy}","received_events_url":"https://api.github.com/users/marshall007/received_events","type":"User","site_admin":false},"created_at":"2016-11-28T20:10:40Z","updated_at":"2016-11-28T20:10:40Z","author_association":"NONE","body":"We just ran into this trying to upgrade our cluster to 2.4. We essentially have one \"root\" template containing all our custom `filters` and `anaylzers` that our other index templates inherit from. Would definitely be in favor of explicitly declaring template dependencies (from @jpountz initial comment). I think a single `_root_` would be too restricting for our use case. We tend to have a single \"root\" template per \"index type\".\r\n\r\nProbably worth mentioning this as a **breaking change** in the 2.4 migration docs, btw.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/270264649","html_url":"https://github.com/elastic/elasticsearch/issues/21105#issuecomment-270264649","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21105","id":270264649,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDI2NDY0OQ==","user":{"login":"mbarker","id":999721,"node_id":"MDQ6VXNlcjk5OTcyMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/999721?v=4","gravatar_id":"","url":"https://api.github.com/users/mbarker","html_url":"https://github.com/mbarker","followers_url":"https://api.github.com/users/mbarker/followers","following_url":"https://api.github.com/users/mbarker/following{/other_user}","gists_url":"https://api.github.com/users/mbarker/gists{/gist_id}","starred_url":"https://api.github.com/users/mbarker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbarker/subscriptions","organizations_url":"https://api.github.com/users/mbarker/orgs","repos_url":"https://api.github.com/users/mbarker/repos","events_url":"https://api.github.com/users/mbarker/events{/privacy}","received_events_url":"https://api.github.com/users/mbarker/received_events","type":"User","site_admin":false},"created_at":"2017-01-04T00:28:36Z","updated_at":"2017-01-04T00:28:36Z","author_association":"NONE","body":"I think explicit template dependencies could work. Requiring templates to be valid on their own would be a little difficult since we have a somewhat complex index/template strategy. We recently upgrade from ES 0.90 to 2.3.x and refactored our massive single template into many much smaller templates where we rely on inheritance to keep them concise and re-use shared parts. With 2.3.x we had to partition our indices by language, so we ended up with templates with specific responsibilities.\r\n\r\n*Settings*\r\nWe have cluster specific defaults (# shards/replicas, allocation settings, etc), this matches `*`. Then we have overrides for some subsets of index languages, matching `*-en` for example, changes the # shards for example.\r\n\r\n*Analyzers/Filters*\r\nWe have a set of custom analyzers/filters that are common across all of our mappings (again matching `*`), and then we override the `default` analyzer for each language index (again matching `*-en` for example).\r\n\r\n*Mappings*\r\nWe broke down our mappings into multiple templates for the top level parts of our documents, so they are all matching `*` and they just define the document mapping and reference analyzers from the previous section.\r\n\r\nHere's a simplified example of the templates: https://gist.github.com/mbarker/40bd82de268cd5d73d3788621c4b80df","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/272118341","html_url":"https://github.com/elastic/elasticsearch/issues/21105#issuecomment-272118341","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21105","id":272118341,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MjExODM0MQ==","user":{"login":"synhershko","id":212252,"node_id":"MDQ6VXNlcjIxMjI1Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/212252?v=4","gravatar_id":"","url":"https://api.github.com/users/synhershko","html_url":"https://github.com/synhershko","followers_url":"https://api.github.com/users/synhershko/followers","following_url":"https://api.github.com/users/synhershko/following{/other_user}","gists_url":"https://api.github.com/users/synhershko/gists{/gist_id}","starred_url":"https://api.github.com/users/synhershko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/synhershko/subscriptions","organizations_url":"https://api.github.com/users/synhershko/orgs","repos_url":"https://api.github.com/users/synhershko/repos","events_url":"https://api.github.com/users/synhershko/events{/privacy}","received_events_url":"https://api.github.com/users/synhershko/received_events","type":"User","site_admin":false},"created_at":"2017-01-12T09:42:49Z","updated_at":"2017-01-12T09:42:49Z","author_association":"CONTRIBUTOR","body":"(subscribing)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/278343848","html_url":"https://github.com/elastic/elasticsearch/issues/21105#issuecomment-278343848","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21105","id":278343848,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODM0Mzg0OA==","user":{"login":"neuroticnetworks","id":3965137,"node_id":"MDQ6VXNlcjM5NjUxMzc=","avatar_url":"https://avatars0.githubusercontent.com/u/3965137?v=4","gravatar_id":"","url":"https://api.github.com/users/neuroticnetworks","html_url":"https://github.com/neuroticnetworks","followers_url":"https://api.github.com/users/neuroticnetworks/followers","following_url":"https://api.github.com/users/neuroticnetworks/following{/other_user}","gists_url":"https://api.github.com/users/neuroticnetworks/gists{/gist_id}","starred_url":"https://api.github.com/users/neuroticnetworks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neuroticnetworks/subscriptions","organizations_url":"https://api.github.com/users/neuroticnetworks/orgs","repos_url":"https://api.github.com/users/neuroticnetworks/repos","events_url":"https://api.github.com/users/neuroticnetworks/events{/privacy}","received_events_url":"https://api.github.com/users/neuroticnetworks/received_events","type":"User","site_admin":false},"created_at":"2017-02-08T14:31:40Z","updated_at":"2017-02-08T14:31:40Z","author_association":"NONE","body":"@s1monw I'm not sure that a single root dependency would work either. Like @mbarker we have a relatively complex index/template strategy that works pretty well for us and we'd like to keep it. In particular we tend to define global settings like compression and whether or not `_all` is enabled at a default template with order 0. Our shared mappings (which correspond to what I think you have in mind) are usually defined at order 10, and this is where we put all the fields in common, default number of shards, etc for indices of a certain type. There are usually 3-4 of these shared mappings indices on any given cluster. Then, we have one or two additional templates at order 20 (and sometimes 30 as well) that specify the individual mappings and analyzers unique to a certain index. There are usually more like a dozen of these on any given cluster.\r\n\r\nInheritance is a certainly a feature we like and use regularly (albeit we've definitely been hit with a few gotchas, eg https://github.com/elastic/elasticsearch/issues/20479) but I also agree that the explicit dependencies would be very easy to work with (and arguably a lot easier to write tests against too, which we also do). @acarstoiu brings up a good point about nested inheritance. For what it's worth, it would not be difficult at all for us to work _without_ nested inheritance.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/285975025","html_url":"https://github.com/elastic/elasticsearch/issues/21105#issuecomment-285975025","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21105","id":285975025,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NTk3NTAyNQ==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2017-03-12T20:44:45Z","updated_at":"2017-03-12T20:44:45Z","author_association":"CONTRIBUTOR","body":"We had a long discussion about this issue yesterday. We want to be able to validate index templates at `PUT` time in all cases, yet template inheritance makes it hard. For instance if a root template is modified, all child templates would need to be validated again. Furthermore, clusters are expected to have a reasonable total number of templates, which means having some duplicate sections in multiple templates is not that much of an issue. In conclusion we decided to remove support for merging templates entirely in 6.0 and use the `order` parameter in order to know _which_ template to use rather than how to merge multiple templates.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/286065259","html_url":"https://github.com/elastic/elasticsearch/issues/21105#issuecomment-286065259","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21105","id":286065259,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjA2NTI1OQ==","user":{"login":"acarstoiu","id":9536601,"node_id":"MDQ6VXNlcjk1MzY2MDE=","avatar_url":"https://avatars2.githubusercontent.com/u/9536601?v=4","gravatar_id":"","url":"https://api.github.com/users/acarstoiu","html_url":"https://github.com/acarstoiu","followers_url":"https://api.github.com/users/acarstoiu/followers","following_url":"https://api.github.com/users/acarstoiu/following{/other_user}","gists_url":"https://api.github.com/users/acarstoiu/gists{/gist_id}","starred_url":"https://api.github.com/users/acarstoiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acarstoiu/subscriptions","organizations_url":"https://api.github.com/users/acarstoiu/orgs","repos_url":"https://api.github.com/users/acarstoiu/repos","events_url":"https://api.github.com/users/acarstoiu/events{/privacy}","received_events_url":"https://api.github.com/users/acarstoiu/received_events","type":"User","site_admin":false},"created_at":"2017-03-13T10:10:24Z","updated_at":"2017-03-13T10:10:24Z","author_association":"NONE","body":"If you:\r\n- enforce a _single inheritance_ model among templates (with some new property)\r\n- choose a single template to apply when a new index gets created (by following a suggestion I made 4.5 months ago üëç)\r\n\r\nwhat is the problem in validating a (sub)tree of templates when a parent template is changed?\r\n\r\nYou're sparring the machine from doing more computations at the expense of more manual work necessary to multiply _and_ **keep in sync** the common parts - which is itself error-prone.\r\nIs this your understanding of software evolution, folks?! Are you _all_ really sure that in the newest Elasticseach version you want to remove a useful functionality (as proven by many comments here and in related issues) in order to give _more work to humans_?\r\n@kimchy Help, please! :)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/286124393","html_url":"https://github.com/elastic/elasticsearch/issues/21105#issuecomment-286124393","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21105","id":286124393,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjEyNDM5Mw==","user":{"login":"neuroticnetworks","id":3965137,"node_id":"MDQ6VXNlcjM5NjUxMzc=","avatar_url":"https://avatars0.githubusercontent.com/u/3965137?v=4","gravatar_id":"","url":"https://api.github.com/users/neuroticnetworks","html_url":"https://github.com/neuroticnetworks","followers_url":"https://api.github.com/users/neuroticnetworks/followers","following_url":"https://api.github.com/users/neuroticnetworks/following{/other_user}","gists_url":"https://api.github.com/users/neuroticnetworks/gists{/gist_id}","starred_url":"https://api.github.com/users/neuroticnetworks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neuroticnetworks/subscriptions","organizations_url":"https://api.github.com/users/neuroticnetworks/orgs","repos_url":"https://api.github.com/users/neuroticnetworks/repos","events_url":"https://api.github.com/users/neuroticnetworks/events{/privacy}","received_events_url":"https://api.github.com/users/neuroticnetworks/received_events","type":"User","site_admin":false},"created_at":"2017-03-13T14:31:51Z","updated_at":"2017-03-13T14:31:51Z","author_association":"NONE","body":"@jpountz would explicit inheritance simplify the validation at all? \r\n\r\nIf not, I think it will be important to write a tool that generates explicit templates outside of ES (for example, in Bash/Python/Go/whatever) by using a hierarchy/import statements/something. I'd be happy to help out with said tool since, without inheritance, it's something a lot of us are going to need, myself included. \r\n\r\nOne clarification if you don't mind: \"clusters are expected to have a reasonable total number of templates, which means having some duplicate sections in multiple templates is not that much of an issue.\" Do you have an upper bound on what you'd consider reasonable? Is this expectation documented?  \r\n\r\nMy experience and yours seem quite different. I do expect this to be an issue for quite a few people. I actually do agree that there are good reasons to make the change you have in mind, and ways to work around it (additional tooling, mentioned above). Among the reasons this change makes sense, though, I'm personally not convinced \"It shouldn't be much of an issue\" is one of them.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/286393519","html_url":"https://github.com/elastic/elasticsearch/issues/21105#issuecomment-286393519","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21105","id":286393519,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjM5MzUxOQ==","user":{"login":"acarstoiu","id":9536601,"node_id":"MDQ6VXNlcjk1MzY2MDE=","avatar_url":"https://avatars2.githubusercontent.com/u/9536601?v=4","gravatar_id":"","url":"https://api.github.com/users/acarstoiu","html_url":"https://github.com/acarstoiu","followers_url":"https://api.github.com/users/acarstoiu/followers","following_url":"https://api.github.com/users/acarstoiu/following{/other_user}","gists_url":"https://api.github.com/users/acarstoiu/gists{/gist_id}","starred_url":"https://api.github.com/users/acarstoiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acarstoiu/subscriptions","organizations_url":"https://api.github.com/users/acarstoiu/orgs","repos_url":"https://api.github.com/users/acarstoiu/repos","events_url":"https://api.github.com/users/acarstoiu/events{/privacy}","received_events_url":"https://api.github.com/users/acarstoiu/received_events","type":"User","site_admin":false},"created_at":"2017-03-14T11:25:52Z","updated_at":"2017-03-14T11:25:52Z","author_association":"NONE","body":"@jpountz is just a messenger here, so there's no reason to shoot him. Yet, at least üòÜ ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/303680589","html_url":"https://github.com/elastic/elasticsearch/issues/21105#issuecomment-303680589","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21105","id":303680589,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzY4MDU4OQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2017-05-24T10:14:44Z","updated_at":"2017-05-24T10:14:44Z","author_association":"CONTRIBUTOR","body":"Another possibility that has been put forward for discussion is to specify the template name in an indexing request.\r\n\r\n/cc @uboness ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/304470291","html_url":"https://github.com/elastic/elasticsearch/issues/21105#issuecomment-304470291","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21105","id":304470291,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDQ3MDI5MQ==","user":{"login":"acarstoiu","id":9536601,"node_id":"MDQ6VXNlcjk1MzY2MDE=","avatar_url":"https://avatars2.githubusercontent.com/u/9536601?v=4","gravatar_id":"","url":"https://api.github.com/users/acarstoiu","html_url":"https://github.com/acarstoiu","followers_url":"https://api.github.com/users/acarstoiu/followers","following_url":"https://api.github.com/users/acarstoiu/following{/other_user}","gists_url":"https://api.github.com/users/acarstoiu/gists{/gist_id}","starred_url":"https://api.github.com/users/acarstoiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acarstoiu/subscriptions","organizations_url":"https://api.github.com/users/acarstoiu/orgs","repos_url":"https://api.github.com/users/acarstoiu/repos","events_url":"https://api.github.com/users/acarstoiu/events{/privacy}","received_events_url":"https://api.github.com/users/acarstoiu/received_events","type":"User","site_admin":false},"created_at":"2017-05-27T18:59:00Z","updated_at":"2017-05-27T18:59:00Z","author_association":"NONE","body":"That's a no go - it would add an extra thing to worry about in each and every indexing query.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/304471845","html_url":"https://github.com/elastic/elasticsearch/issues/21105#issuecomment-304471845","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21105","id":304471845,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDQ3MTg0NQ==","user":{"login":"Battleroid","id":1740742,"node_id":"MDQ6VXNlcjE3NDA3NDI=","avatar_url":"https://avatars2.githubusercontent.com/u/1740742?v=4","gravatar_id":"","url":"https://api.github.com/users/Battleroid","html_url":"https://github.com/Battleroid","followers_url":"https://api.github.com/users/Battleroid/followers","following_url":"https://api.github.com/users/Battleroid/following{/other_user}","gists_url":"https://api.github.com/users/Battleroid/gists{/gist_id}","starred_url":"https://api.github.com/users/Battleroid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Battleroid/subscriptions","organizations_url":"https://api.github.com/users/Battleroid/orgs","repos_url":"https://api.github.com/users/Battleroid/repos","events_url":"https://api.github.com/users/Battleroid/events{/privacy}","received_events_url":"https://api.github.com/users/Battleroid/received_events","type":"User","site_admin":false},"created_at":"2017-05-27T19:29:43Z","updated_at":"2017-05-27T19:29:43Z","author_association":"NONE","body":"Yeah, that's not ideal. However, if that were optional that would be pretty interesting.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/315263926","html_url":"https://github.com/elastic/elasticsearch/issues/21105#issuecomment-315263926","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21105","id":315263926,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNTI2MzkyNg==","user":{"login":"geekpete","id":2070843,"node_id":"MDQ6VXNlcjIwNzA4NDM=","avatar_url":"https://avatars2.githubusercontent.com/u/2070843?v=4","gravatar_id":"","url":"https://api.github.com/users/geekpete","html_url":"https://github.com/geekpete","followers_url":"https://api.github.com/users/geekpete/followers","following_url":"https://api.github.com/users/geekpete/following{/other_user}","gists_url":"https://api.github.com/users/geekpete/gists{/gist_id}","starred_url":"https://api.github.com/users/geekpete/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geekpete/subscriptions","organizations_url":"https://api.github.com/users/geekpete/orgs","repos_url":"https://api.github.com/users/geekpete/repos","events_url":"https://api.github.com/users/geekpete/events{/privacy}","received_events_url":"https://api.github.com/users/geekpete/received_events","type":"User","site_admin":false},"created_at":"2017-07-14T04:00:47Z","updated_at":"2017-07-14T04:00:47Z","author_association":"MEMBER","body":"Templates could also be validated/converted at upgrade time if we don't have to worry about merging. A migration plugin could also provide early warning about invalid templates ahead of time before an upgrade. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/319114205","html_url":"https://github.com/elastic/elasticsearch/issues/21105#issuecomment-319114205","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21105","id":319114205,"node_id":"MDEyOklzc3VlQ29tbWVudDMxOTExNDIwNQ==","user":{"login":"PhilMarsh","id":730710,"node_id":"MDQ6VXNlcjczMDcxMA==","avatar_url":"https://avatars0.githubusercontent.com/u/730710?v=4","gravatar_id":"","url":"https://api.github.com/users/PhilMarsh","html_url":"https://github.com/PhilMarsh","followers_url":"https://api.github.com/users/PhilMarsh/followers","following_url":"https://api.github.com/users/PhilMarsh/following{/other_user}","gists_url":"https://api.github.com/users/PhilMarsh/gists{/gist_id}","starred_url":"https://api.github.com/users/PhilMarsh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PhilMarsh/subscriptions","organizations_url":"https://api.github.com/users/PhilMarsh/orgs","repos_url":"https://api.github.com/users/PhilMarsh/repos","events_url":"https://api.github.com/users/PhilMarsh/events{/privacy}","received_events_url":"https://api.github.com/users/PhilMarsh/received_events","type":"User","site_admin":false},"created_at":"2017-07-31T15:59:09Z","updated_at":"2017-07-31T15:59:09Z","author_association":"NONE","body":"I don't see this in the Breaking Changes for 6.0 yet.\r\nIs removing Index Template merging still the plan?\r\n\r\nMy company is still working on upgrading from 1.7 to 2.4.\r\nMy team in particular makes extensive use of template composition to support combinations of index types, 30+ languages, and field sets from 200+ vendors. So https://github.com/elastic/elasticsearch/issues/20479 is a pretty big show-stopper for us.\r\n\r\nIt seems like the simplest approach for us is to copy ES's merge logic into a custom tool (already done) and generate fully-qualified templates.\r\nThis works, but it seems sub-optimal from a product support standpoint.\r\nUntil someone open-sources such a tool (I don't yet know if I will be allowed to), every consumer needs to write their own version, which seems about as error-prone as copy-pasting analyzers across hundreds of index templates.\r\n\r\nIf Index Templates really aren't going to be modular go forward, would it be possible to release an official tool that encapsulates the merge logic? Or perhaps a helper endpoint that we can send a list of templates and get back the combined version? I don't have any concrete API suggestions, but I'd be happy to discuss if there's interest.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/319366528","html_url":"https://github.com/elastic/elasticsearch/issues/21105#issuecomment-319366528","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21105","id":319366528,"node_id":"MDEyOklzc3VlQ29tbWVudDMxOTM2NjUyOA==","user":{"login":"willemdh","id":6462991,"node_id":"MDQ6VXNlcjY0NjI5OTE=","avatar_url":"https://avatars2.githubusercontent.com/u/6462991?v=4","gravatar_id":"","url":"https://api.github.com/users/willemdh","html_url":"https://github.com/willemdh","followers_url":"https://api.github.com/users/willemdh/followers","following_url":"https://api.github.com/users/willemdh/following{/other_user}","gists_url":"https://api.github.com/users/willemdh/gists{/gist_id}","starred_url":"https://api.github.com/users/willemdh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/willemdh/subscriptions","organizations_url":"https://api.github.com/users/willemdh/orgs","repos_url":"https://api.github.com/users/willemdh/repos","events_url":"https://api.github.com/users/willemdh/events{/privacy}","received_events_url":"https://api.github.com/users/willemdh/received_events","type":"User","site_admin":false},"created_at":"2017-08-01T13:15:41Z","updated_at":"2017-08-01T13:15:41Z","author_association":"NONE","body":"Template inheritance allows us to add aliasses to for example the default Beats index templates, like this:\r\n\r\n```\r\nPUT _template/filebeat-linux \r\n{\r\n  \"order\": 1,\r\n  \"template\": \"filebeat-linux-*\",\r\n  \"aliases\" : {\r\n    \"a-filebeat-linux\" : {}\r\n  }\r\n}\r\n```\r\n\r\nPlease don't deprecate template inheritance completely or else we will have to manually update each beats template after each upgrade.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/319391030","html_url":"https://github.com/elastic/elasticsearch/issues/21105#issuecomment-319391030","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21105","id":319391030,"node_id":"MDEyOklzc3VlQ29tbWVudDMxOTM5MTAzMA==","user":{"login":"neuroticnetworks","id":3965137,"node_id":"MDQ6VXNlcjM5NjUxMzc=","avatar_url":"https://avatars0.githubusercontent.com/u/3965137?v=4","gravatar_id":"","url":"https://api.github.com/users/neuroticnetworks","html_url":"https://github.com/neuroticnetworks","followers_url":"https://api.github.com/users/neuroticnetworks/followers","following_url":"https://api.github.com/users/neuroticnetworks/following{/other_user}","gists_url":"https://api.github.com/users/neuroticnetworks/gists{/gist_id}","starred_url":"https://api.github.com/users/neuroticnetworks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neuroticnetworks/subscriptions","organizations_url":"https://api.github.com/users/neuroticnetworks/orgs","repos_url":"https://api.github.com/users/neuroticnetworks/repos","events_url":"https://api.github.com/users/neuroticnetworks/events{/privacy}","received_events_url":"https://api.github.com/users/neuroticnetworks/received_events","type":"User","site_admin":false},"created_at":"2017-08-01T14:41:34Z","updated_at":"2017-08-01T14:41:34Z","author_association":"NONE","body":"We've started to migrate away from nested templates, but we're finding it really hard to get away from a default level 0 template that contains our dynamic mapping settings. If you guys do remove template inheritance, would there be any way to add an option to templates to import one other template that contains common dynamic mapping config? It would not be too hard for us to be explicit about the fields we expect in a template.... but we really don't want to have to repeat the dynamic mapping rules in 100 different places if we can avoid it. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/320651988","html_url":"https://github.com/elastic/elasticsearch/issues/21105#issuecomment-320651988","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21105","id":320651988,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDY1MTk4OA==","user":{"login":"acarstoiu","id":9536601,"node_id":"MDQ6VXNlcjk1MzY2MDE=","avatar_url":"https://avatars2.githubusercontent.com/u/9536601?v=4","gravatar_id":"","url":"https://api.github.com/users/acarstoiu","html_url":"https://github.com/acarstoiu","followers_url":"https://api.github.com/users/acarstoiu/followers","following_url":"https://api.github.com/users/acarstoiu/following{/other_user}","gists_url":"https://api.github.com/users/acarstoiu/gists{/gist_id}","starred_url":"https://api.github.com/users/acarstoiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acarstoiu/subscriptions","organizations_url":"https://api.github.com/users/acarstoiu/orgs","repos_url":"https://api.github.com/users/acarstoiu/repos","events_url":"https://api.github.com/users/acarstoiu/events{/privacy}","received_events_url":"https://api.github.com/users/acarstoiu/received_events","type":"User","site_admin":false},"created_at":"2017-08-07T12:37:46Z","updated_at":"2017-08-07T12:37:46Z","author_association":"NONE","body":"For those who want to migrate to _5.5.1_, I have ported the patch I made for _2.4.1_ (see [this comment and the next one](https://github.com/elastic/elasticsearch/issues/20479#issuecomment-253832691)) in order to make the template validation lenient with respect to analyzers.\r\n\r\nThe port is [here](https://github.com/acarstoiu/elasticsearch/tree/lenient-template-validation-5.5.1).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/334306056","html_url":"https://github.com/elastic/elasticsearch/issues/21105#issuecomment-334306056","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21105","id":334306056,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDMwNjA1Ng==","user":{"login":"astral303","id":1194357,"node_id":"MDQ6VXNlcjExOTQzNTc=","avatar_url":"https://avatars2.githubusercontent.com/u/1194357?v=4","gravatar_id":"","url":"https://api.github.com/users/astral303","html_url":"https://github.com/astral303","followers_url":"https://api.github.com/users/astral303/followers","following_url":"https://api.github.com/users/astral303/following{/other_user}","gists_url":"https://api.github.com/users/astral303/gists{/gist_id}","starred_url":"https://api.github.com/users/astral303/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astral303/subscriptions","organizations_url":"https://api.github.com/users/astral303/orgs","repos_url":"https://api.github.com/users/astral303/repos","events_url":"https://api.github.com/users/astral303/events{/privacy}","received_events_url":"https://api.github.com/users/astral303/received_events","type":"User","site_admin":false},"created_at":"2017-10-04T22:19:37Z","updated_at":"2017-10-04T22:19:37Z","author_association":"NONE","body":"It seems unreasonable to take away convenience and DRY in the name of dubiously-useful index template validation. The end result is that I will have to code the template merging myself.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/374929800","html_url":"https://github.com/elastic/elasticsearch/issues/21105#issuecomment-374929800","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21105","id":374929800,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDkyOTgwMA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-03-21T13:06:39Z","updated_at":"2018-03-21T13:06:39Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/723204975","html_url":"https://github.com/elastic/elasticsearch/issues/21105#issuecomment-723204975","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21105","id":723204975,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzIwNDk3NQ==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2020-11-06T17:30:32Z","updated_at":"2020-11-06T17:30:32Z","author_association":"MEMBER","body":"Closing this as it's been resolved by composable index templates (#53101)","performed_via_github_app":null}]