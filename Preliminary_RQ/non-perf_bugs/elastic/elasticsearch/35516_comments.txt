[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/438464629","html_url":"https://github.com/elastic/elasticsearch/issues/35516#issuecomment-438464629","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35516","id":438464629,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODQ2NDYyOQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-11-13T22:35:11Z","updated_at":"2018-11-13T22:35:11Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/438590828","html_url":"https://github.com/elastic/elasticsearch/issues/35516#issuecomment-438590828","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35516","id":438590828,"node_id":"MDEyOklzc3VlQ29tbWVudDQzODU5MDgyOA==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2018-11-14T09:12:41Z","updated_at":"2018-11-14T09:12:41Z","author_association":"MEMBER","body":"I could not reproduce this bug locally. I tried the following:\r\n```\r\nPUT _ilm/policy/my_lifecycle1\r\n{\r\n  \"policy\": {\r\n    \"phases\": {\r\n      \"hot\": {\r\n        \"actions\": {\r\n          \"rollover\": {\r\n            \"max_docs\": 200\r\n          }\r\n        }\r\n      },\r\n      \"delete\": {\r\n        \"min_age\": \"2m\",\r\n        \"actions\": {\r\n          \"delete\": {}\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nPUT _ilm/policy/-my_lifecycle1\r\n{\r\n  \"policy\": {\r\n    \"phases\": {\r\n      \"hot\": {\r\n        \"actions\": {\r\n          \"rollover\": {\r\n            \"max_docs\": 100\r\n          }\r\n        }\r\n      },\r\n      \"delete\": {\r\n        \"min_age\": \"2m\",\r\n        \"actions\": {\r\n          \"delete\": {}\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nGET _ilm/policy\r\n```\r\n\r\nand the response I got had the two separate policies:\r\n```\r\n{\r\n  \"-my_lifecycle1\" : {\r\n    \"version\" : 1,\r\n    \"modified_date\" : \"2018-11-14T09:10:43.990Z\",\r\n    \"policy\" : {\r\n      \"phases\" : {\r\n        \"hot\" : {\r\n          \"min_age\" : \"0ms\",\r\n          \"actions\" : {\r\n            \"rollover\" : {\r\n              \"max_docs\" : 100\r\n            }\r\n          }\r\n        },\r\n        \"delete\" : {\r\n          \"min_age\" : \"2m\",\r\n          \"actions\" : {\r\n            \"delete\" : { }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \"my_lifecycle1\" : {\r\n    \"version\" : 1,\r\n    \"modified_date\" : \"2018-11-14T09:10:41.709Z\",\r\n    \"policy\" : {\r\n      \"phases\" : {\r\n        \"hot\" : {\r\n          \"min_age\" : \"0ms\",\r\n          \"actions\" : {\r\n            \"rollover\" : {\r\n              \"max_docs\" : 200\r\n            }\r\n          }\r\n        },\r\n        \"delete\" : {\r\n          \"min_age\" : \"2m\",\r\n          \"actions\" : {\r\n            \"delete\" : { }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n@bmcconaghy could you share a console recreation script for this as there is presumably something different between what you are doing and what I am doing?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/445301016","html_url":"https://github.com/elastic/elasticsearch/issues/35516#issuecomment-445301016","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35516","id":445301016,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NTMwMTAxNg==","user":{"login":"gwbrown","id":1522844,"node_id":"MDQ6VXNlcjE1MjI4NDQ=","avatar_url":"https://avatars1.githubusercontent.com/u/1522844?v=4","gravatar_id":"","url":"https://api.github.com/users/gwbrown","html_url":"https://github.com/gwbrown","followers_url":"https://api.github.com/users/gwbrown/followers","following_url":"https://api.github.com/users/gwbrown/following{/other_user}","gists_url":"https://api.github.com/users/gwbrown/gists{/gist_id}","starred_url":"https://api.github.com/users/gwbrown/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gwbrown/subscriptions","organizations_url":"https://api.github.com/users/gwbrown/orgs","repos_url":"https://api.github.com/users/gwbrown/repos","events_url":"https://api.github.com/users/gwbrown/events{/privacy}","received_events_url":"https://api.github.com/users/gwbrown/received_events","type":"User","site_admin":false},"created_at":"2018-12-07T17:14:12Z","updated_at":"2018-12-07T17:14:12Z","author_association":"CONTRIBUTOR","body":"We haven't seen this or been able to reproduce it since, so I'm closing this.","performed_via_github_app":null}]