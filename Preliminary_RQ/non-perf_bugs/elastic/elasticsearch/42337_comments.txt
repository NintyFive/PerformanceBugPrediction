[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/494703219","html_url":"https://github.com/elastic/elasticsearch/issues/42337#issuecomment-494703219","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42337","id":494703219,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDcwMzIxOQ==","user":{"login":"romseygeek","id":1347065,"node_id":"MDQ6VXNlcjEzNDcwNjU=","avatar_url":"https://avatars0.githubusercontent.com/u/1347065?v=4","gravatar_id":"","url":"https://api.github.com/users/romseygeek","html_url":"https://github.com/romseygeek","followers_url":"https://api.github.com/users/romseygeek/followers","following_url":"https://api.github.com/users/romseygeek/following{/other_user}","gists_url":"https://api.github.com/users/romseygeek/gists{/gist_id}","starred_url":"https://api.github.com/users/romseygeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/romseygeek/subscriptions","organizations_url":"https://api.github.com/users/romseygeek/orgs","repos_url":"https://api.github.com/users/romseygeek/repos","events_url":"https://api.github.com/users/romseygeek/events{/privacy}","received_events_url":"https://api.github.com/users/romseygeek/received_events","type":"User","site_admin":false},"created_at":"2019-05-22T08:20:04Z","updated_at":"2019-05-22T08:20:04Z","author_association":"CONTRIBUTOR","body":"Hi @mynameiscode, could you please post the exact requests you make to elasticsearch so that we can reproduce this?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/494703796","html_url":"https://github.com/elastic/elasticsearch/issues/42337#issuecomment-494703796","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42337","id":494703796,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDcwMzc5Ng==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-05-22T08:21:44Z","updated_at":"2019-05-22T08:21:44Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-features","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/494718587","html_url":"https://github.com/elastic/elasticsearch/issues/42337#issuecomment-494718587","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42337","id":494718587,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDcxODU4Nw==","user":{"login":"mynameiscode","id":8184985,"node_id":"MDQ6VXNlcjgxODQ5ODU=","avatar_url":"https://avatars0.githubusercontent.com/u/8184985?v=4","gravatar_id":"","url":"https://api.github.com/users/mynameiscode","html_url":"https://github.com/mynameiscode","followers_url":"https://api.github.com/users/mynameiscode/followers","following_url":"https://api.github.com/users/mynameiscode/following{/other_user}","gists_url":"https://api.github.com/users/mynameiscode/gists{/gist_id}","starred_url":"https://api.github.com/users/mynameiscode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mynameiscode/subscriptions","organizations_url":"https://api.github.com/users/mynameiscode/orgs","repos_url":"https://api.github.com/users/mynameiscode/repos","events_url":"https://api.github.com/users/mynameiscode/events{/privacy}","received_events_url":"https://api.github.com/users/mynameiscode/received_events","type":"User","site_admin":false},"created_at":"2019-05-22T09:04:21Z","updated_at":"2019-05-22T09:25:19Z","author_association":"NONE","body":"I installed the IK analyzer plugin because the ES standard analyzer cannot split statements like java.io.FileNotFundException . When I search for FileNotFundException, the search does not produce a result. But I encountered the following problem during the process, I provided the DSL during the execution.\r\nlink: [https://github.com/medcl/elasticsearch-analysis-ik](https://github.com/medcl/elasticsearch-analysis-ik)\r\n1. create index template\r\n`PUT _template/xxx-log/ \r\n{ \"order\" : 1, \"version\" : 1, \"index_patterns\" : [ \"xxx-log-*\" ], \"settings\" : { \"index\" : { \"number_of_shards\" : \"20\", \"number_of_replicas\" : \"1\" } }, \"mappings\" : { \"log\" : { \"properties\" : { \"timestamp\" : { \"type\" : \"date\" }, \"level\" : { \"type\" : \"keyword\" }, \"host\" : { \"type\" : \"keyword\" }, \"ip\" : { \"type\" : \"text\" }, \"messsage\" : { \"type\" : \"text\", \"analyzer\": \"ik_max_word\" }, \"logger\" : { \"type\" : \"text\", \"analyzer\": \"ik_max_word\" }, \"tag\" : { \"type\" : \"text\", \"fields\" : { \"keyword\" : { \"type\" : \"keyword\", \"ignore_above\" : 256 } } } } } }, \"aliases\" : { } }`\r\n\r\n2. put a doc\r\n`PUT /xxx-log-2019-05-22/log/1\r\n{\"timestamp\": \"2019-05-24T14:43:32.856+0800\", \"level\": \"INFO\", \"host\": \"localhost.localdomain\", \"ip\": \"172.17.0.1\",  \"message\": \"java.io.FileNotFoundException加载文件path resource  cannot be opened because it does not exist\", \"logger\": \"java.io.FileNotFoundException加载文件path resource  cannot be opened because it does not exist\", \"tag\": \"EVENT\"}`\r\n\r\n3. get mapping and view message field.The message field appears twice and the type is different\r\n`GET /xxx-log-2019-05-22/_mapping`\r\n\r\n4. query dsl to test\r\n`POST /xxx-log-2019-05-22/log/_search\r\n{\r\n  \"query\": {\r\n    \"match\": {\r\n      \"message\": \"FileNotFoundException\"\r\n    }\r\n  }\r\n}`\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/494720131","html_url":"https://github.com/elastic/elasticsearch/issues/42337#issuecomment-494720131","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42337","id":494720131,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDcyMDEzMQ==","user":{"login":"mynameiscode","id":8184985,"node_id":"MDQ6VXNlcjgxODQ5ODU=","avatar_url":"https://avatars0.githubusercontent.com/u/8184985?v=4","gravatar_id":"","url":"https://api.github.com/users/mynameiscode","html_url":"https://github.com/mynameiscode","followers_url":"https://api.github.com/users/mynameiscode/followers","following_url":"https://api.github.com/users/mynameiscode/following{/other_user}","gists_url":"https://api.github.com/users/mynameiscode/gists{/gist_id}","starred_url":"https://api.github.com/users/mynameiscode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mynameiscode/subscriptions","organizations_url":"https://api.github.com/users/mynameiscode/orgs","repos_url":"https://api.github.com/users/mynameiscode/repos","events_url":"https://api.github.com/users/mynameiscode/events{/privacy}","received_events_url":"https://api.github.com/users/mynameiscode/received_events","type":"User","site_admin":false},"created_at":"2019-05-22T09:09:08Z","updated_at":"2019-05-22T09:10:09Z","author_association":"NONE","body":"when i change the message field to another name such as msg, there is no problem. So i guess if there something with the message has default common rule or config.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/494729031","html_url":"https://github.com/elastic/elasticsearch/issues/42337#issuecomment-494729031","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42337","id":494729031,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDcyOTAzMQ==","user":{"login":"romseygeek","id":1347065,"node_id":"MDQ6VXNlcjEzNDcwNjU=","avatar_url":"https://avatars0.githubusercontent.com/u/1347065?v=4","gravatar_id":"","url":"https://api.github.com/users/romseygeek","html_url":"https://github.com/romseygeek","followers_url":"https://api.github.com/users/romseygeek/followers","following_url":"https://api.github.com/users/romseygeek/following{/other_user}","gists_url":"https://api.github.com/users/romseygeek/gists{/gist_id}","starred_url":"https://api.github.com/users/romseygeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/romseygeek/subscriptions","organizations_url":"https://api.github.com/users/romseygeek/orgs","repos_url":"https://api.github.com/users/romseygeek/repos","events_url":"https://api.github.com/users/romseygeek/events{/privacy}","received_events_url":"https://api.github.com/users/romseygeek/received_events","type":"User","site_admin":false},"created_at":"2019-05-22T09:35:33Z","updated_at":"2019-05-22T09:35:33Z","author_association":"CONTRIBUTOR","body":"I think it's a misspelling - you've defined the field as `messsage` with an extra `s`?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/494732215","html_url":"https://github.com/elastic/elasticsearch/issues/42337#issuecomment-494732215","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42337","id":494732215,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDczMjIxNQ==","user":{"login":"mynameiscode","id":8184985,"node_id":"MDQ6VXNlcjgxODQ5ODU=","avatar_url":"https://avatars0.githubusercontent.com/u/8184985?v=4","gravatar_id":"","url":"https://api.github.com/users/mynameiscode","html_url":"https://github.com/mynameiscode","followers_url":"https://api.github.com/users/mynameiscode/followers","following_url":"https://api.github.com/users/mynameiscode/following{/other_user}","gists_url":"https://api.github.com/users/mynameiscode/gists{/gist_id}","starred_url":"https://api.github.com/users/mynameiscode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mynameiscode/subscriptions","organizations_url":"https://api.github.com/users/mynameiscode/orgs","repos_url":"https://api.github.com/users/mynameiscode/repos","events_url":"https://api.github.com/users/mynameiscode/events{/privacy}","received_events_url":"https://api.github.com/users/mynameiscode/received_events","type":"User","site_admin":false},"created_at":"2019-05-22T09:45:04Z","updated_at":"2019-05-22T09:45:04Z","author_association":"NONE","body":"Thank you very much, forgive me for making a very low-level mistake.","performed_via_github_app":null}]