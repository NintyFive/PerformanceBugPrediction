[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/223553025","html_url":"https://github.com/elastic/elasticsearch/issues/18712#issuecomment-223553025","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18712","id":223553025,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMzU1MzAyNQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-06-03T11:13:17Z","updated_at":"2016-06-03T11:13:17Z","author_association":"CONTRIBUTOR","body":"@PhaedrusTheGreek please provide the ES version you're on and some description of the actual problem, without making me try to guess.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/223557401","html_url":"https://github.com/elastic/elasticsearch/issues/18712#issuecomment-223557401","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18712","id":223557401,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMzU1NzQwMQ==","user":{"login":"Bonfondp","id":3268932,"node_id":"MDQ6VXNlcjMyNjg5MzI=","avatar_url":"https://avatars1.githubusercontent.com/u/3268932?v=4","gravatar_id":"","url":"https://api.github.com/users/Bonfondp","html_url":"https://github.com/Bonfondp","followers_url":"https://api.github.com/users/Bonfondp/followers","following_url":"https://api.github.com/users/Bonfondp/following{/other_user}","gists_url":"https://api.github.com/users/Bonfondp/gists{/gist_id}","starred_url":"https://api.github.com/users/Bonfondp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Bonfondp/subscriptions","organizations_url":"https://api.github.com/users/Bonfondp/orgs","repos_url":"https://api.github.com/users/Bonfondp/repos","events_url":"https://api.github.com/users/Bonfondp/events{/privacy}","received_events_url":"https://api.github.com/users/Bonfondp/received_events","type":"User","site_admin":false},"created_at":"2016-06-03T11:39:47Z","updated_at":"2016-06-03T11:39:47Z","author_association":"NONE","body":"Given the document 1 & 2 inserted in an index. When running the \"morelikethis\" query, we retrieve document 2 as a candidate but both document are very different and we did specified a 99% for minimum_should match.\n\nHope this clarify the problem.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/223557627","html_url":"https://github.com/elastic/elasticsearch/issues/18712#issuecomment-223557627","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18712","id":223557627,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMzU1NzYyNw==","user":{"login":"Bonfondp","id":3268932,"node_id":"MDQ6VXNlcjMyNjg5MzI=","avatar_url":"https://avatars1.githubusercontent.com/u/3268932?v=4","gravatar_id":"","url":"https://api.github.com/users/Bonfondp","html_url":"https://github.com/Bonfondp","followers_url":"https://api.github.com/users/Bonfondp/followers","following_url":"https://api.github.com/users/Bonfondp/following{/other_user}","gists_url":"https://api.github.com/users/Bonfondp/gists{/gist_id}","starred_url":"https://api.github.com/users/Bonfondp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Bonfondp/subscriptions","organizations_url":"https://api.github.com/users/Bonfondp/orgs","repos_url":"https://api.github.com/users/Bonfondp/repos","events_url":"https://api.github.com/users/Bonfondp/events{/privacy}","received_events_url":"https://api.github.com/users/Bonfondp/received_events","type":"User","site_admin":false},"created_at":"2016-06-03T11:41:03Z","updated_at":"2016-06-03T11:41:03Z","author_association":"NONE","body":"And @clintongormley we are using version 1.7.3 \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/223563202","html_url":"https://github.com/elastic/elasticsearch/issues/18712#issuecomment-223563202","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18712","id":223563202,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMzU2MzIwMg==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-06-03T12:13:59Z","updated_at":"2016-06-03T12:13:59Z","author_association":"CONTRIBUTOR","body":"This is just a misunderstanding of how MLT works.  First, it extracts the K terms with the highest inverse doc frequency (ie the best relevance), then it applies min-should-match to those K terms.\n\nYou have two documents, one on each shard.  The query is run independently on each shard.  So it looks at the shard that holds ONLY document 2 and finds the terms on that shard with the highest IDF.  By definition, ALL of these terms are in document 2, so all of them match.\n\nMLT works with term statistics, so having so few docs makes for meaningless tests.  Btw, if you index both docs in an index with a single shard, then this particular test passes.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/223564694","html_url":"https://github.com/elastic/elasticsearch/issues/18712#issuecomment-223564694","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18712","id":223564694,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMzU2NDY5NA==","user":{"login":"Bonfondp","id":3268932,"node_id":"MDQ6VXNlcjMyNjg5MzI=","avatar_url":"https://avatars1.githubusercontent.com/u/3268932?v=4","gravatar_id":"","url":"https://api.github.com/users/Bonfondp","html_url":"https://github.com/Bonfondp","followers_url":"https://api.github.com/users/Bonfondp/followers","following_url":"https://api.github.com/users/Bonfondp/following{/other_user}","gists_url":"https://api.github.com/users/Bonfondp/gists{/gist_id}","starred_url":"https://api.github.com/users/Bonfondp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Bonfondp/subscriptions","organizations_url":"https://api.github.com/users/Bonfondp/orgs","repos_url":"https://api.github.com/users/Bonfondp/repos","events_url":"https://api.github.com/users/Bonfondp/events{/privacy}","received_events_url":"https://api.github.com/users/Bonfondp/received_events","type":"User","site_admin":false},"created_at":"2016-06-03T12:22:18Z","updated_at":"2016-06-03T12:22:18Z","author_association":"NONE","body":"Thank you for clarifying and for providing an alternative for our tests by using only 1 shard.\n","performed_via_github_app":null}]