[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/135129515","html_url":"https://github.com/elastic/elasticsearch/issues/9312#issuecomment-135129515","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9312","id":135129515,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNTEyOTUxNQ==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2015-08-26T18:20:06Z","updated_at":"2015-08-26T18:20:06Z","author_association":"CONTRIBUTOR","body":"Is it worth doing in Elasticsearch when most writes that we perform are done through Lucene?\n\nFor the record, this sounds pretty hard to do to me. There are some files that we don't know in advance how much we are going to write, eg. stored fields of flushed segments, but even for merges this is much more complicated than summing up the size of the merged segments... So I am quite skeptical about this change.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/155693129","html_url":"https://github.com/elastic/elasticsearch/issues/9312#issuecomment-155693129","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9312","id":155693129,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NTY5MzEyOQ==","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2015-11-11T07:34:07Z","updated_at":"2015-11-11T07:34:07Z","author_association":"CONTRIBUTOR","body":"There is no method in java to do this (e.g. `posix_fallocate` and so on is not exposed). If there were, I'd be more interested in its uses for improving reliability on disk full in critical places (like the old lucene segments.gen could have used it, and probably the current transaction log code). \n\nThis would need to be added to the JDK first.\n\nSeparately, in lucene we still couldn't use this for general purpose output, as we write to streams: we don't know the size of what we are doing in advance as @jpountz mentions.\n","performed_via_github_app":null}]