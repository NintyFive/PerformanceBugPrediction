[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/136375780","html_url":"https://github.com/elastic/elasticsearch/issues/13216#issuecomment-136375780","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13216","id":136375780,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNjM3NTc4MA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2015-08-31T13:44:55Z","updated_at":"2015-08-31T13:44:55Z","author_association":"CONTRIBUTOR","body":"++\n\nI wonder if we can have a policy to prevent combinatorial explosion?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/136376074","html_url":"https://github.com/elastic/elasticsearch/issues/13216#issuecomment-136376074","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13216","id":136376074,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNjM3NjA3NA==","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2015-08-31T13:46:28Z","updated_at":"2015-08-31T13:46:28Z","author_association":"CONTRIBUTOR","body":"What do you mean by a policy? I don't see combinatorial explosion... this would be 2 scenarios for each version. Whatever versions we are supposed to be compatible with, I think we should test.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/136377181","html_url":"https://github.com/elastic/elasticsearch/issues/13216#issuecomment-136377181","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13216","id":136377181,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNjM3NzE4MQ==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2015-08-31T13:50:58Z","updated_at":"2015-08-31T13:50:58Z","author_association":"CONTRIBUTOR","body":"++\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/136378307","html_url":"https://github.com/elastic/elasticsearch/issues/13216#issuecomment-136378307","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13216","id":136378307,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNjM3ODMwNw==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2015-08-31T13:56:09Z","updated_at":"2015-08-31T13:56:09Z","author_association":"CONTRIBUTOR","body":"> What do you mean by a policy? I don't see combinatorial explosion... this would be 2 scenarios for each version. Whatever versions we are supposed to be compatible with, I think we should test.\n\nI could see us doing:\n- 2.0.0-beta1 + current\n- 2.0.0 + current\n- 2.0.0-beta1 + 2.0.0 + current\n- 2.0.1 + current\n- 2.0.0 + 2.0.1 + current\n- 2.0.0-beta1 + 2.0.0 + 2.0.1 + current\n\nAnd that list getting very long very quick. If we stick to just having two different versions at a time that is \"policy\" enough for me. Though we might want to have one rainbow test where we do all the versions or something horrible like that.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/136378648","html_url":"https://github.com/elastic/elasticsearch/issues/13216#issuecomment-136378648","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13216","id":136378648,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNjM3ODY0OA==","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2015-08-31T13:57:29Z","updated_at":"2015-08-31T13:57:29Z","author_association":"CONTRIBUTOR","body":"> 2.0.0-beta1 + 2.0.0 + current\n\nwhy would we do that? I don't think we need to support a cluster with a mix of 3 versions. What is the use case for that?\n\nI only see this:\n- 2.0.0-beta1 -> current\n- 2.0.0 -> current\n- 2.0.1 -> current\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/136379828","html_url":"https://github.com/elastic/elasticsearch/issues/13216#issuecomment-136379828","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13216","id":136379828,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNjM3OTgyOA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2015-08-31T14:02:23Z","updated_at":"2015-08-31T14:02:23Z","author_association":"CONTRIBUTOR","body":"> why would we do that? I don't think we need to support a cluster with a mix of 3 versions. What is the use case for that?\n\nIts mostly a mistake to use three versions at once. People do it. I've heard of it happening in scenarios where people are using the java client and when people don't upgrade their dedicated master nodes properly.\n\nI do get your point about only testing the two versions at once. You still get a lot of test cases but its not so bad as I was envisioning.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/136383267","html_url":"https://github.com/elastic/elasticsearch/issues/13216#issuecomment-136383267","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13216","id":136383267,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNjM4MzI2Nw==","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2015-08-31T14:15:54Z","updated_at":"2015-08-31T14:15:54Z","author_association":"CONTRIBUTOR","body":"> I do get your point about only testing the two versions at once. You still get a lot of test cases but its not so bad as I was envisioning.\n\nYou can even reduce this by just doing previous -> current. Its less thorough but better than nothing.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/136383587","html_url":"https://github.com/elastic/elasticsearch/issues/13216#issuecomment-136383587","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13216","id":136383587,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNjM4MzU4Nw==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2015-08-31T14:17:17Z","updated_at":"2015-08-31T14:17:17Z","author_association":"CONTRIBUTOR","body":"> You can even reduce this by just doing previous -> current. Its less thorough but better than nothing.\n\nI could see that as the normal thing to run before sending a pull request and the wider range being normal to run nightly or something.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/152598848","html_url":"https://github.com/elastic/elasticsearch/issues/13216#issuecomment-152598848","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13216","id":152598848,"node_id":"MDEyOklzc3VlQ29tbWVudDE1MjU5ODg0OA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2015-10-30T17:44:32Z","updated_at":"2015-10-30T17:44:32Z","author_association":"CONTRIBUTOR","body":"So #13477 makes a start on this - it moves the dependency resolution to maven and sets up a reasonably simple way to add new versions and things like that. It doesn't do the following things that we really should do:\n- Launch all elasticsearch using `bin/elasticsearch` - no internal nodes at all.\n- Run the rest tests against the mixed version cluster.\n- Other stuff I haven't thought about much like running rest tests during a rolling restart.\n\nThe backwards compatibility tests as they stand now do the following:\n- UnicastBackwardsCompatibilityIT forms a mixed version cluster and connect to it using the TransportClient and counts the data nodes to make sure they are all there as expected. This is the most basic backwards compatibility test.\n- BasicBackwardsCompatibilityIT does some indexing, gets, deletes, searches, verifies that indexes can recover from older version to newer versions but not the other way around, rolling upgrades, and a whole bunch of other stuff. \n- Tests like NodesStatsBasicBackwardsCompatIT run the stats commands on a mixed version cluster and verify that what comes back makes sense. These stats APIs can change a lot in a major release so these are pretty important.\n\nThe tests as they stand now are import and useful even if they could do with some love to make them more real.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/383887351","html_url":"https://github.com/elastic/elasticsearch/issues/13216#issuecomment-383887351","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13216","id":383887351,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mzg4NzM1MQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-04-24T10:45:40Z","updated_at":"2018-04-24T10:45:40Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/463216347","html_url":"https://github.com/elastic/elasticsearch/issues/13216#issuecomment-463216347","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13216","id":463216347,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MzIxNjM0Nw==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2019-02-13T14:21:31Z","updated_at":"2019-02-13T14:21:31Z","author_association":"CONTRIBUTOR","body":"Given the age of the issue and how much things changed I'm going to close it. \r\nPlease reopen if you think some of it is still relevant. ","performed_via_github_app":null}]