[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/30193102","html_url":"https://github.com/elastic/elasticsearch/issues/4365#issuecomment-30193102","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4365","id":30193102,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMTkzMTAy","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2013-12-10T01:58:11Z","updated_at":"2013-12-10T01:58:11Z","author_association":"MEMBER","body":"@phrone index status returns information on per shard basis. In other words at least one shard has to be allocated for the index to be returned. In your test you are creating data-less node, which cannot be used to allocate shards. You can make this test to work by making this change to node creation:\n\n``` java\nNodeBuilder nBuilder = NodeBuilder.nodeBuilder().settings(settings).local(true).data(true);\n```\n\nand adding wait for index to go to yellow state before asking for status:\n\n``` java\nClusterHealthResponse healthResponse = client.admin().cluster().prepareHealth(testIndex).setWaitForYellowStatus().execute().actionGet();\nAssert.assertFalse(\"Health request timeout!\", healthResponse.isTimedOut());\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/30209840","html_url":"https://github.com/elastic/elasticsearch/issues/4365#issuecomment-30209840","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4365","id":30209840,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjA5ODQw","user":{"login":"phrone","id":5619266,"node_id":"MDQ6VXNlcjU2MTkyNjY=","avatar_url":"https://avatars2.githubusercontent.com/u/5619266?v=4","gravatar_id":"","url":"https://api.github.com/users/phrone","html_url":"https://github.com/phrone","followers_url":"https://api.github.com/users/phrone/followers","following_url":"https://api.github.com/users/phrone/following{/other_user}","gists_url":"https://api.github.com/users/phrone/gists{/gist_id}","starred_url":"https://api.github.com/users/phrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phrone/subscriptions","organizations_url":"https://api.github.com/users/phrone/orgs","repos_url":"https://api.github.com/users/phrone/repos","events_url":"https://api.github.com/users/phrone/events{/privacy}","received_events_url":"https://api.github.com/users/phrone/received_events","type":"User","site_admin":false},"created_at":"2013-12-10T09:16:57Z","updated_at":"2013-12-10T09:16:57Z","author_association":"NONE","body":"@imotov Thanks for your time, Igor! Since that is the way things work, I'm closing this as a non-bug :)\n","performed_via_github_app":null}]