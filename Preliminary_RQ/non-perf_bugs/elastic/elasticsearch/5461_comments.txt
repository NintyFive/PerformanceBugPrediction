[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/38045196","html_url":"https://github.com/elastic/elasticsearch/issues/5461#issuecomment-38045196","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5461","id":38045196,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDQ1MTk2","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2014-03-19T12:34:53Z","updated_at":"2014-03-19T12:34:53Z","author_association":"MEMBER","body":"Yea, thats what will happen. The reason is that today, we are only building the list to ping with the first port in the port range. So if the non master starts first, it will use HOST:9300, then when the master starts, it will try and join through HOST:9300 (and not try itself), where it can't be part of the cluster. You need to explicitly state in the unicast list both 9300 and 9301. This is a known issue, and it needs to be improved for better experience.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/38045934","html_url":"https://github.com/elastic/elasticsearch/issues/5461#issuecomment-38045934","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5461","id":38045934,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDQ1OTM0","user":{"login":"ghost974","id":3496252,"node_id":"MDQ6VXNlcjM0OTYyNTI=","avatar_url":"https://avatars2.githubusercontent.com/u/3496252?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost974","html_url":"https://github.com/ghost974","followers_url":"https://api.github.com/users/ghost974/followers","following_url":"https://api.github.com/users/ghost974/following{/other_user}","gists_url":"https://api.github.com/users/ghost974/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost974/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost974/subscriptions","organizations_url":"https://api.github.com/users/ghost974/orgs","repos_url":"https://api.github.com/users/ghost974/repos","events_url":"https://api.github.com/users/ghost974/events{/privacy}","received_events_url":"https://api.github.com/users/ghost974/received_events","type":"User","site_admin":false},"created_at":"2014-03-19T12:44:13Z","updated_at":"2014-03-19T12:44:13Z","author_association":"NONE","body":"Thanks Kimchy, discovery.zen.ping.unicast.hosts: [\"localhost[9300-9301]\"] on the non-master worked.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/38047731","html_url":"https://github.com/elastic/elasticsearch/issues/5461#issuecomment-38047731","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5461","id":38047731,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDQ3NzMx","user":{"login":"ghost974","id":3496252,"node_id":"MDQ6VXNlcjM0OTYyNTI=","avatar_url":"https://avatars2.githubusercontent.com/u/3496252?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost974","html_url":"https://github.com/ghost974","followers_url":"https://api.github.com/users/ghost974/followers","following_url":"https://api.github.com/users/ghost974/following{/other_user}","gists_url":"https://api.github.com/users/ghost974/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost974/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost974/subscriptions","organizations_url":"https://api.github.com/users/ghost974/orgs","repos_url":"https://api.github.com/users/ghost974/repos","events_url":"https://api.github.com/users/ghost974/events{/privacy}","received_events_url":"https://api.github.com/users/ghost974/received_events","type":"User","site_admin":false},"created_at":"2014-03-19T13:05:35Z","updated_at":"2014-03-19T13:34:11Z","author_association":"NONE","body":"Sorry, I forgot to re-enable node.master: true , and it's not working.\n\nEdit: I hardcoded the port allocation to 9300 for the master, 9301 the non-master. With the unicast configuration it's working.\n","performed_via_github_app":null}]