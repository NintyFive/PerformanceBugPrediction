[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/261715697","html_url":"https://github.com/elastic/elasticsearch/issues/21639#issuecomment-261715697","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21639","id":261715697,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTcxNTY5Nw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-11-19T14:05:10Z","updated_at":"2016-11-19T14:05:10Z","author_association":"CONTRIBUTOR","body":"hi @sshling \n\n> This setting can be ignored when setting the index type mappings.\n> Or to return to the search results,ignore the duplication of the results, take the value of the field from on place.\n\nWe can do neither of these I'm afraid.  Stored fields return the original value, while doc values/fielddata return the appropriate format for the doc values type.  Here's a similar example in 5.0:\n\n```\nPUT store\n{\n  \"mappings\": {\n    \"performance\": {\n      \"_source\": {\n        \"enabled\": false\n      },\n      \"properties\": {\n        \"host\": {\n          \"store\": true,\n          \"type\": \"long\"\n        },\n        \"time\": {\n          \"store\": true,\n          \"type\": \"date\"\n        }\n      }\n    }\n  }\n}\n\nPOST store/performance\n{\n  \"host\": 1234,\n  \"time\": \"2016-01-01\"\n}\n\nGET store/_search\n{\n  \"stored_fields\": [\n    \"_source\",\n    \"*\"\n  ],\n  \"docvalue_fields\": [\n    \"time\"\n  ]\n}\n```\n\nThis returns:\n\n```\n      {\n        \"_index\": \"store\",\n        \"_type\": \"performance\",\n        \"_id\": \"AVh85FFkwXj0XIjNXeNO\",\n        \"_score\": 1,\n        \"fields\": {\n          \"host\": [\n            1234\n          ],\n          \"time\": [\n            \"2016-01-01T00:00:00.000Z\",\n            1451606400000\n          ]\n        }\n      }\n```\n\nThe first value in the array is from the stored fields, the second from doc values.  We can't deduplicate here or only return one value, because you asked for both.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/261827973","html_url":"https://github.com/elastic/elasticsearch/issues/21639#issuecomment-261827973","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21639","id":261827973,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTgyNzk3Mw==","user":{"login":"sshling","id":661568,"node_id":"MDQ6VXNlcjY2MTU2OA==","avatar_url":"https://avatars3.githubusercontent.com/u/661568?v=4","gravatar_id":"","url":"https://api.github.com/users/sshling","html_url":"https://github.com/sshling","followers_url":"https://api.github.com/users/sshling/followers","following_url":"https://api.github.com/users/sshling/following{/other_user}","gists_url":"https://api.github.com/users/sshling/gists{/gist_id}","starred_url":"https://api.github.com/users/sshling/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sshling/subscriptions","organizations_url":"https://api.github.com/users/sshling/orgs","repos_url":"https://api.github.com/users/sshling/repos","events_url":"https://api.github.com/users/sshling/events{/privacy}","received_events_url":"https://api.github.com/users/sshling/received_events","type":"User","site_admin":false},"created_at":"2016-11-21T02:28:13Z","updated_at":"2016-11-21T02:28:13Z","author_association":"CONTRIBUTOR","body":"@clintongormley  \r\nThe important thing is,I think setting the store the timestamp field does not make any sense , What do you think?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/261902312","html_url":"https://github.com/elastic/elasticsearch/issues/21639#issuecomment-261902312","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21639","id":261902312,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTkwMjMxMg==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-11-21T10:39:12Z","updated_at":"2016-11-21T10:39:12Z","author_association":"CONTRIBUTOR","body":"@sshling I disagree - you may well want to store the original value.","performed_via_github_app":null}]