{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/35691","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35691/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35691/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35691/events","html_url":"https://github.com/elastic/elasticsearch/issues/35691","id":382191550,"node_id":"MDU6SXNzdWUzODIxOTE1NTA=","number":35691,"title":"dpkg: missing entries in conffiles","user":{"login":"Alufolie303","id":8692923,"node_id":"MDQ6VXNlcjg2OTI5MjM=","avatar_url":"https://avatars3.githubusercontent.com/u/8692923?v=4","gravatar_id":"","url":"https://api.github.com/users/Alufolie303","html_url":"https://github.com/Alufolie303","followers_url":"https://api.github.com/users/Alufolie303/followers","following_url":"https://api.github.com/users/Alufolie303/following{/other_user}","gists_url":"https://api.github.com/users/Alufolie303/gists{/gist_id}","starred_url":"https://api.github.com/users/Alufolie303/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Alufolie303/subscriptions","organizations_url":"https://api.github.com/users/Alufolie303/orgs","repos_url":"https://api.github.com/users/Alufolie303/repos","events_url":"https://api.github.com/users/Alufolie303/events{/privacy}","received_events_url":"https://api.github.com/users/Alufolie303/received_events","type":"User","site_admin":false},"labels":[{"id":114977275,"node_id":"MDU6TGFiZWwxMTQ5NzcyNzU=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Packaging","name":":Delivery/Packaging","color":"0e8a16","default":false,"description":"RPM and deb packaging, tar and zip archives, shell and batch scripts"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"},{"id":1134118259,"node_id":"MDU6TGFiZWwxMTM0MTE4MjU5","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v6.5.2","name":"v6.5.2","color":"dddddd","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"dliappis","id":1754575,"node_id":"MDQ6VXNlcjE3NTQ1NzU=","avatar_url":"https://avatars0.githubusercontent.com/u/1754575?v=4","gravatar_id":"","url":"https://api.github.com/users/dliappis","html_url":"https://github.com/dliappis","followers_url":"https://api.github.com/users/dliappis/followers","following_url":"https://api.github.com/users/dliappis/following{/other_user}","gists_url":"https://api.github.com/users/dliappis/gists{/gist_id}","starred_url":"https://api.github.com/users/dliappis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dliappis/subscriptions","organizations_url":"https://api.github.com/users/dliappis/orgs","repos_url":"https://api.github.com/users/dliappis/repos","events_url":"https://api.github.com/users/dliappis/events{/privacy}","received_events_url":"https://api.github.com/users/dliappis/received_events","type":"User","site_admin":false},"assignees":[{"login":"dliappis","id":1754575,"node_id":"MDQ6VXNlcjE3NTQ1NzU=","avatar_url":"https://avatars0.githubusercontent.com/u/1754575?v=4","gravatar_id":"","url":"https://api.github.com/users/dliappis","html_url":"https://github.com/dliappis","followers_url":"https://api.github.com/users/dliappis/followers","following_url":"https://api.github.com/users/dliappis/following{/other_user}","gists_url":"https://api.github.com/users/dliappis/gists{/gist_id}","starred_url":"https://api.github.com/users/dliappis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dliappis/subscriptions","organizations_url":"https://api.github.com/users/dliappis/orgs","repos_url":"https://api.github.com/users/dliappis/repos","events_url":"https://api.github.com/users/dliappis/events{/privacy}","received_events_url":"https://api.github.com/users/dliappis/received_events","type":"User","site_admin":false},{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2018-11-19T12:24:17Z","updated_at":"2020-11-11T21:56:13Z","closed_at":"2018-11-27T14:38:57Z","author_association":"NONE","active_lock_reason":null,"body":"<!-- Bug report -->\r\n**Elasticsearch version** (`bin/elasticsearch --version`): \r\nVersion: 6.5.0, Build: default/deb/816e6f6/2018-11-09T18:58:36.352602Z, JVM: 1.8.0_181\r\n\r\n**Plugins installed**: []\r\n\r\n**JVM version** (`java -version`):\r\nJVM: 1.8.0_181\r\n\r\n**OS version** (`uname -a` if on a Unix-like system):\r\nLinux  4.4.0-131-generic #157-Ubuntu SMP Thu Jul 12 15:51:36 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux (16.04.5 LTS (Xenial Xerus))\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\nWith integrating the x-pack into the elasticsearch debian package the conf files were moved from the x-pack plugin into the .deb package. Obvious these files are not included in the dpkg conffiles, which leads to override the files with every upgrade.\r\n- role_mapping.yml\r\n- roles.yml\r\n- users\r\n- users_roles\r\n\r\nThis behavior occurs since elasticsearch > 6.3.0\r\n\r\nexpected behavior:\r\nasking for overriding edited configfiles.\r\n\r\nactual behavior:\r\noverriding files without asking.\r\n\r\n**Steps to reproduce**:\r\n 1. apt install elasticsearch=6.3.0\r\n 2. edit /etc/elasticsearch/role_mapping.yml\r\n 3. apt install elasticsearch\r\n 4. check /etc/elasticsearch/role_mapping.yml","closed_by":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"performed_via_github_app":null}