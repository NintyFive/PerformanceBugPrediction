[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/286050609","html_url":"https://github.com/elastic/elasticsearch/issues/23381#issuecomment-286050609","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23381","id":286050609,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjA1MDYwOQ==","user":{"login":"StefanGor","id":12494648,"node_id":"MDQ6VXNlcjEyNDk0NjQ4","avatar_url":"https://avatars0.githubusercontent.com/u/12494648?v=4","gravatar_id":"","url":"https://api.github.com/users/StefanGor","html_url":"https://github.com/StefanGor","followers_url":"https://api.github.com/users/StefanGor/followers","following_url":"https://api.github.com/users/StefanGor/following{/other_user}","gists_url":"https://api.github.com/users/StefanGor/gists{/gist_id}","starred_url":"https://api.github.com/users/StefanGor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StefanGor/subscriptions","organizations_url":"https://api.github.com/users/StefanGor/orgs","repos_url":"https://api.github.com/users/StefanGor/repos","events_url":"https://api.github.com/users/StefanGor/events{/privacy}","received_events_url":"https://api.github.com/users/StefanGor/received_events","type":"User","site_admin":false},"created_at":"2017-03-13T09:07:23Z","updated_at":"2017-03-13T09:07:23Z","author_association":"CONTRIBUTOR","body":"Hi there, \r\nI'd be interested in trying to tackle this one.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/286595710","html_url":"https://github.com/elastic/elasticsearch/issues/23381#issuecomment-286595710","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23381","id":286595710,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjU5NTcxMA==","user":{"login":"StefanGor","id":12494648,"node_id":"MDQ6VXNlcjEyNDk0NjQ4","avatar_url":"https://avatars0.githubusercontent.com/u/12494648?v=4","gravatar_id":"","url":"https://api.github.com/users/StefanGor","html_url":"https://github.com/StefanGor","followers_url":"https://api.github.com/users/StefanGor/followers","following_url":"https://api.github.com/users/StefanGor/following{/other_user}","gists_url":"https://api.github.com/users/StefanGor/gists{/gist_id}","starred_url":"https://api.github.com/users/StefanGor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StefanGor/subscriptions","organizations_url":"https://api.github.com/users/StefanGor/orgs","repos_url":"https://api.github.com/users/StefanGor/repos","events_url":"https://api.github.com/users/StefanGor/events{/privacy}","received_events_url":"https://api.github.com/users/StefanGor/received_events","type":"User","site_admin":false},"created_at":"2017-03-14T23:36:49Z","updated_at":"2017-03-14T23:36:49Z","author_association":"CONTRIBUTOR","body":"Actually, the other issue that I am working on is taking longer than expected. If anyone else wants to take this in the meantime, they are welcome to.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/299175473","html_url":"https://github.com/elastic/elasticsearch/issues/23381#issuecomment-299175473","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23381","id":299175473,"node_id":"MDEyOklzc3VlQ29tbWVudDI5OTE3NTQ3Mw==","user":{"login":"PnPie","id":7472431,"node_id":"MDQ6VXNlcjc0NzI0MzE=","avatar_url":"https://avatars3.githubusercontent.com/u/7472431?v=4","gravatar_id":"","url":"https://api.github.com/users/PnPie","html_url":"https://github.com/PnPie","followers_url":"https://api.github.com/users/PnPie/followers","following_url":"https://api.github.com/users/PnPie/following{/other_user}","gists_url":"https://api.github.com/users/PnPie/gists{/gist_id}","starred_url":"https://api.github.com/users/PnPie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PnPie/subscriptions","organizations_url":"https://api.github.com/users/PnPie/orgs","repos_url":"https://api.github.com/users/PnPie/repos","events_url":"https://api.github.com/users/PnPie/events{/privacy}","received_events_url":"https://api.github.com/users/PnPie/received_events","type":"User","site_admin":false},"created_at":"2017-05-04T12:49:37Z","updated_at":"2017-05-04T12:52:20Z","author_association":"CONTRIBUTOR","body":"Hello,\r\n\r\nI see in the [ParentFieldMapper.java](https://github.com/elastic/elasticsearch/blob/master/core/src/main/java/org/elasticsearch/index/mapper/ParentFieldMapper.java), when we do a Mapping update of a type, we merge all the `MetadataFieldMapper` by calling its merge method with the new mappers, so in the implementation of `ParentFieldMapper`\r\nhttps://github.com/elastic/elasticsearch/blob/master/core/src/main/java/org/elasticsearch/index/mapper/ParentFieldMapper.java#L300\r\nwhen we merge the current with the new one, we checked if they are not equal, we throw an Exception, but if we didn't explicitly specify the `_parent` field in the new mapping, the `parentType` field of new mapper should be `null`, in this case we can just keep the original mapper unchanged as we intended instead of throw an Exception of trying to change it from `[sometype]` to `[null]`.\r\n\r\nI also made a PR with it, thanks for having a check.","performed_via_github_app":null}]