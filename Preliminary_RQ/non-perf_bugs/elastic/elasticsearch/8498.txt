{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/8498","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8498/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8498/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8498/events","html_url":"https://github.com/elastic/elasticsearch/issues/8498","id":49070944,"node_id":"MDU6SXNzdWU0OTA3MDk0NA==","number":8498,"title":"Nodes fail to transfer shards to other ones","user":{"login":"ajardan","id":347796,"node_id":"MDQ6VXNlcjM0Nzc5Ng==","avatar_url":"https://avatars3.githubusercontent.com/u/347796?v=4","gravatar_id":"","url":"https://api.github.com/users/ajardan","html_url":"https://github.com/ajardan","followers_url":"https://api.github.com/users/ajardan/followers","following_url":"https://api.github.com/users/ajardan/following{/other_user}","gists_url":"https://api.github.com/users/ajardan/gists{/gist_id}","starred_url":"https://api.github.com/users/ajardan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajardan/subscriptions","organizations_url":"https://api.github.com/users/ajardan/orgs","repos_url":"https://api.github.com/users/ajardan/repos","events_url":"https://api.github.com/users/ajardan/events{/privacy}","received_events_url":"https://api.github.com/users/ajardan/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2014-11-17T10:22:42Z","updated_at":"2014-11-17T11:44:52Z","closed_at":"2014-11-17T11:44:52Z","author_association":"NONE","active_lock_reason":null,"body":"ES Version: 0.20.6\nJava version: \n\n```\njava -version\njava version \"1.7.0_65\"\nJava(TM) SE Runtime Environment (build 1.7.0_65-b17)\nJava HotSpot(TM) 64-Bit Server VM (build 24.65-b04, mixed mode)\n```\n\nThe exception:\n\n```\n[2014-11-17 10:08:40,932][WARN ][action.index             ] [Ringo Kid] Failed to perform index on replica [ticket_comments][2]\norg.elasticsearch.transport.RemoteTransportException: Failed to deserialize exception response from stream\nCaused by: org.elasticsearch.transport.TransportSerializationException: Failed to deserialize exception response from stream\n    at org.elasticsearch.transport.netty.MessageChannelHandler.handlerResponseError(MessageChannelHandler.java:171)\n    at org.elasticsearch.transport.netty.MessageChannelHandler.messageReceived(MessageChannelHandler.java:125)\n    at org.elasticsearch.common.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70)\n    at org.elasticsearch.common.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:560)\n    at org.elasticsearch.common.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:787)\n    at org.elasticsearch.common.netty.channel.Channels.fireMessageReceived(Channels.java:296)\n    at org.elasticsearch.common.netty.handler.codec.frame.FrameDecoder.unfoldAndFireMessageReceived(FrameDecoder.java:462)\n    at org.elasticsearch.common.netty.handler.codec.frame.FrameDecoder.callDecode(FrameDecoder.java:443)\n    at org.elasticsearch.common.netty.handler.codec.frame.FrameDecoder.messageReceived(FrameDecoder.java:303)\n    at org.elasticsearch.common.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70)\n    at org.elasticsearch.common.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:560)\n    at org.elasticsearch.common.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:555)\n    at org.elasticsearch.common.netty.channel.Channels.fireMessageReceived(Channels.java:268)\n    at org.elasticsearch.common.netty.channel.Channels.fireMessageReceived(Channels.java:255)\n    at org.elasticsearch.common.netty.channel.socket.nio.NioWorker.read(NioWorker.java:88)\n    at org.elasticsearch.common.netty.channel.socket.nio.AbstractNioWorker.process(AbstractNioWorker.java:107)\n    at org.elasticsearch.common.netty.channel.socket.nio.AbstractNioSelector.run(AbstractNioSelector.java:312)\n    at org.elasticsearch.common.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:88)\n    at org.elasticsearch.common.netty.channel.socket.nio.NioWorker.run(NioWorker.java:178)\n    at org.elasticsearch.common.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:108)\n    at org.elasticsearch.common.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:722)\nCaused by: java.io.StreamCorruptedException: unexpected end of block data\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1369)\n    at java.io.ObjectInputStream.access$300(ObjectInputStream.java:205)\n    at java.io.ObjectInputStream$GetFieldImpl.readFields(ObjectInputStream.java:2132)\n    at java.io.ObjectInputStream.readFields(ObjectInputStream.java:537)\n    at java.net.InetSocketAddress.readObject(InetSocketAddress.java:282)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:601)\n    at java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1004)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1872)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1777)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1347)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1970)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1894)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1777)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1347)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:1970)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:1894)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:1777)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1347)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:369)\n    at org.elasticsearch.transport.netty.MessageChannelHandler.handlerResponseError(MessageChannelHandler.java:169)\n    ... 23 more\n[2014-11-17 10:08:40,933][WARN ][cluster.action.shard     ] [Ringo Kid] sending failed shard for [ticket_comments][2], node[jacKtNEwSE6djr0Zsgv2jg], [R], s[INITIALIZING], reason [Failed to perform [index] on replica, message [RemoteTransportException[Failed to deserialize exception response from stream]; nested: TransportSerializationException[Failed to deserialize exception response from stream]; nested: StreamCorruptedException[unexpected end of block data]; ]]\n[2014-11-17 10:08:40,935][WARN ][cluster.action.shard     ] [Ringo Kid] sending failed shard for [ticket_comments][2], node[jacKtNEwSE6djr0Zsgv2jg], [R], s[INITIALIZING], reason [Failed to perform [index] on replica, message [RemoteTransportException[Failed to deserialize exception response from stream]; nested: TransportSerializationException[Failed to deserialize exception response from stream]; nested: StreamCorruptedException[unexpected end of block data]; ]]\n[2014-11-17 10:08:40,935][WARN ][transport.netty          ] [Ringo Kid] Message not fully read (response) for [8459] handler org.elasticsearch.action.support.replication.TransportShardReplicationOperationAction$AsyncShardOperationAction$4@6e2ac102, error [true], resetting\n[2014-11-17 10:08:40,935][WARN ][transport.netty          ] [Ringo Kid] Message not fully read (response) for [8458] handler org.elasticsearch.action.support.replication.TransportShardReplicationOperationAction$AsyncShardOperationAction$4@38e5a2cf, error [true], resetting\n```\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}