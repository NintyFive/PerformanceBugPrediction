[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/310476943","html_url":"https://github.com/elastic/elasticsearch/issues/25301#issuecomment-310476943","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25301","id":310476943,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDQ3Njk0Mw==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2017-06-22T19:20:42Z","updated_at":"2017-06-22T19:20:42Z","author_association":"CONTRIBUTOR","body":"I pushed https://github.com/elastic/elasticsearch/commit/71ec0d6af797c23047ff37f9bb0f05e626c9112a to get more information where the exception is coming from. this is very likely a test bug...","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/311676295","html_url":"https://github.com/elastic/elasticsearch/issues/25301#issuecomment-311676295","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25301","id":311676295,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTY3NjI5NQ==","user":{"login":"jaymode","id":4339958,"node_id":"MDQ6VXNlcjQzMzk5NTg=","avatar_url":"https://avatars1.githubusercontent.com/u/4339958?v=4","gravatar_id":"","url":"https://api.github.com/users/jaymode","html_url":"https://github.com/jaymode","followers_url":"https://api.github.com/users/jaymode/followers","following_url":"https://api.github.com/users/jaymode/following{/other_user}","gists_url":"https://api.github.com/users/jaymode/gists{/gist_id}","starred_url":"https://api.github.com/users/jaymode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaymode/subscriptions","organizations_url":"https://api.github.com/users/jaymode/orgs","repos_url":"https://api.github.com/users/jaymode/repos","events_url":"https://api.github.com/users/jaymode/events{/privacy}","received_events_url":"https://api.github.com/users/jaymode/received_events","type":"User","site_admin":false},"created_at":"2017-06-28T14:26:47Z","updated_at":"2017-06-28T14:26:47Z","author_association":"MEMBER","body":"This failed today on master https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+multijob-windows-compatibility/377/consoleFull","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/311901708","html_url":"https://github.com/elastic/elasticsearch/issues/25301#issuecomment-311901708","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25301","id":311901708,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTkwMTcwOA==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2017-06-29T08:41:50Z","updated_at":"2017-06-29T08:41:50Z","author_association":"MEMBER","body":"This time it failed differently then was initially recorded:\r\n\r\n```\r\nREPRODUCE WITH: gradle :core:test -Dtests.seed=7093F91C34F2CE93 -Dtests.class=org.elasticsearch.transport.RemoteClusterServiceTests -Dtests.method=\"testCollectNodes\" -Dtests.security.manager=true -Dtests.jvm.argline=\"-XX:+AggressiveOpts\" -Dtests.locale=en-CA -Dtests.timezone=US/Samoa\r\n   > Throwable #1: java.lang.AssertionError\r\n   > \tat org.elasticsearch.transport.RemoteClusterServiceTests.testCollectNodes(RemoteClusterServiceTests.java:412)\r\n   > \tat java.lang.Thread.run(Thread.java:745)Throwable #2: com.carrotsearch.randomizedtesting.UncaughtExceptionError: Captured an uncaught exception in thread: Thread[id=2382, name=elasticsearch[__mock_network_thread][T#5], state=RUNNABLE, group=TGRP-RemoteClusterServiceTests]\r\n   > Caused by: java.lang.AssertionError: should not be called\r\n   > \tat __randomizedtesting.SeedInfo.seed([7093F91C34F2CE93]:0)\r\n   > \tat org.elasticsearch.transport.RemoteClusterServiceTests$3.onResponse(RemoteClusterServiceTests.java:396)\r\n   > \tat org.elasticsearch.transport.RemoteClusterServiceTests$3.onResponse(RemoteClusterServiceTests.java:392)\r\n   > \tat org.elasticsearch.transport.RemoteClusterService$2.onResponse(RemoteClusterService.java:366)\r\n   > \tat org.elasticsearch.transport.RemoteClusterService$2.onResponse(RemoteClusterService.java:359)\r\n  2> NOTE: leaving temporary files on disk at: /var/lib/jenkins/workspace/elastic+elasticsearch+master+aggressive-opts/core/build/testrun/test/J1/temp/org.elasticsearch.transport.RemoteClusterServiceTests_7093F91C34F2CE93-001\r\n  2> NOTE: test params are: codec=Asserting(Lucene70): {}, docValues:{}, maxPointsInLeafNode=633, maxMBSortInHeap=7.565153463230077, sim=RandomSimilarity(queryNorm=false): {}, locale=en-CA, timezone=US/Samoa\r\n  2> NOTE: Linux 4.4.44-39.55.amzn1.x86_64 amd64/Oracle Corporation 1.8.0_121 (64-bit)/cpus=4,threads=1,free=397840256,total=519569408\r\n   > \tat org.elasticsearch.transport.RemoteClusterConnection$2.handleResponse(RemoteClusterConnection.java:216)\r\n   > \tat org.elasticsearch.transport.RemoteClusterConnection$2.handleResponse(RemoteClusterConnection.java:207)\r\n   > \tat org.elasticsearch.transport.TransportService$ContextRestoreResponseHandler.handleResponse(TransportService.java:1053)\r\n   > \tat org.elasticsearch.transport.TcpTransport$2.doRun(TcpTransport.java:1422)\r\n   > \tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)\r\n   > \tat org.elasticsearch.common.util.concurrent.EsExecutors$1.execute(EsExecutors.java:139)\r\n   > \tat org.elasticsearch.transport.TcpTransport.handleResponse(TcpTransport.java:1414)\r\n   > \tat org.elasticsearch.transport.TcpTransport.messageReceived(TcpTransport.java:1370)\r\n   > \tat org.elasticsearch.transport.MockTcpTransport.readMessage(MockTcpTransport.java:171)\r\n   > \tat org.elasticsearch.transport.MockTcpTransport.access$900(MockTcpTransport.java:72)\r\n   > \tat org.elasticsearch.transport.MockTcpTransport$MockChannel$1.lambda$doRun$0(MockTcpTransport.java:349)\r\n   > \tat org.elasticsearch.common.util.CancellableThreads.executeIO(CancellableThreads.java:105)\r\n   > \tat org.elasticsearch.transport.MockTcpTransport$MockChannel$1.doRun(MockTcpTransport.java:349)\r\n   > \tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)\r\n   > \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n   > \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n   > \tat java.lang.Thread.run(Thread.java:745)\r\n```\r\n\r\nBuild url: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+aggressive-opts/318/consoleText\r\n\r\nAnother failure:\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+java9-periodic/3057/console","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/311919795","html_url":"https://github.com/elastic/elasticsearch/issues/25301#issuecomment-311919795","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25301","id":311919795,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTkxOTc5NQ==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2017-06-29T09:55:59Z","updated_at":"2017-06-29T09:55:59Z","author_association":"MEMBER","body":"This failure was a bit different: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+multijob-windows-compatibility/380/console\r\n\r\n```\r\n1> org.elasticsearch.transport.RemoteTransportException: [][127.0.0.1:52159][cluster:monitor/state]\r\n  1> Caused by: org.elasticsearch.transport.ActionNotFoundTransportException: No handler for action [cluster:monitor/state]\r\n  1> \tat org.elasticsearch.transport.TcpTransport.handleRequest(TcpTransport.java:1468) ~[main/:?]\r\n  1> \tat org.elasticsearch.transport.TcpTransport.messageReceived(TcpTransport.java:1352) ~[main/:?]\r\n  1> \tat org.elasticsearch.transport.MockTcpTransport.readMessage(MockTcpTransport.java:171) ~[framework-6.0.0-alpha3-SNAPSHOT.jar:?]\r\n  1> \tat org.elasticsearch.transport.MockTcpTransport.access$900(MockTcpTransport.java:72) ~[framework-6.0.0-alpha3-SNAPSHOT.jar:?]\r\n  1> \tat org.elasticsearch.transport.MockTcpTransport$MockChannel$1.lambda$doRun$0(MockTcpTransport.java:349) ~[framework-6.0.0-alpha3-SNAPSHOT.jar:?]\r\n  1> \tat org.elasticsearch.common.util.CancellableThreads.executeIO(CancellableThreads.java:105) ~[main/:?]\r\n  1> \tat org.elasticsearch.transport.MockTcpTransport$MockChannel$1.doRun(MockTcpTransport.java:349) ~[framework-6.0.0-alpha3-SNAPSHOT.jar:?]\r\n  1> \tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[main/:?]\r\n  1> \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[?:1.8.0_92]\r\n  1> \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) ~[?:1.8.0_92]\r\n  1> \tat java.lang.Thread.run(Thread.java:745) ~[?:1.8.0_92]\r\n  1> [2017-06-29T11:43:20,706][ERROR][o.e.t.RemoteClusterServiceTests] expected TransportException but got a different one see #25301\r\n\r\n  1> java.lang.IllegalStateException: no seed node left\r\n  1> \tat org.elasticsearch.transport.RemoteClusterConnection$ConnectHandler.collectRemoteNodes(RemoteClusterConnection.java:442) ~[main/:?]\r\n  1> \tat org.elasticsearch.transport.RemoteClusterConnection$ConnectHandler$SniffClusterStateResponseHandler.handleException(RemoteClusterConnection.java:549) ~[main/:?]\r\n  1> \tat org.elasticsearch.transport.TransportService$ContextRestoreResponseHandler.handleException(TransportService.java:1060) ~[main/:?]\r\n  1> \tat org.elasticsearch.transport.TransportService$ContextRestoreResponseHandler.handleException(TransportService.java:1060) ~[main/:?]\r\n  1> \tat org.elasticsearch.transport.TcpTransport.lambda$handleException$15(TcpTransport.java:1448) ~[main/:?]\r\n  1> \tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:569) ~[main/:?]\r\n  1> \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[?:1.8.0_92]\r\n  1> \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) ~[?:1.8.0_92]\r\n  1> \tat java.lang.Thread.run(Thread.java:745) ~[?:1.8.0_92]\r\n  1> [2017-06-29T11:43:21,682][INFO ][o.e.t.RemoteClusterServiceTests] [testCollectNodes]: after test\r\n\r\n  2> REPRODUCE WITH: gradle :core:test -Dtests.seed=90380F809BA169EF -Dtests.class=org.elasticsearch.transport.RemoteClusterServiceTests -Dtests.method=\"testCollectNodes\" -Dtests.security.manager=true -Dtests.locale=es-CO -Dtests.timezone=Australia/LHI\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/312225440","html_url":"https://github.com/elastic/elasticsearch/issues/25301#issuecomment-312225440","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25301","id":312225440,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjIyNTQ0MA==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2017-06-30T09:48:13Z","updated_at":"2017-06-30T09:53:51Z","author_association":"CONTRIBUTOR","body":"Another failure like https://github.com/elastic/elasticsearch/issues/25301#issuecomment-311901708 occurred: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+multijob-windows-compatibility/385/consoleFull\r\n\r\n```\r\n  2> WARNING: Uncaught exception in thread: Thread[elasticsearch[__mock_network_thread][T#7],5,TGRP-RemoteClusterServiceTests]\r\n  2> java.lang.AssertionError: should not be called\r\n  2> \tat __randomizedtesting.SeedInfo.seed([DE3388ADB60D645B]:0)\r\n  2> \tat org.junit.Assert.fail(Assert.java:88)\r\n  2> \tat org.elasticsearch.transport.RemoteClusterServiceTests$3.onResponse(RemoteClusterServiceTests.java:396)\r\n  2> \tat org.elasticsearch.transport.RemoteClusterServiceTests$3.onResponse(RemoteClusterServiceTests.java:392)\r\n  2> \tat org.elasticsearch.transport.RemoteClusterService$2.onResponse(RemoteClusterService.java:366)\r\n  2> \tat org.elasticsearch.transport.RemoteClusterService$2.onResponse(RemoteClusterService.java:359)\r\n  2> \tat org.elasticsearch.transport.RemoteClusterConnection$2.handleResponse(RemoteClusterConnection.java:216)\r\n  2> \tat org.elasticsearch.transport.RemoteClusterConnection$2.handleResponse(RemoteClusterConnection.java:207)\r\n  2> \tat org.elasticsearch.transport.TransportService$ContextRestoreResponseHandler.handleResponse(TransportService.java:1053)\r\n  2> \tat org.elasticsearch.transport.TcpTransport$2.doRun(TcpTransport.java:1422)\r\n  2> \tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)\r\n  2> \tat org.elasticsearch.common.util.concurrent.EsExecutors$1.execute(EsExecutors.java:139)\r\n  2> \tat org.elasticsearch.transport.TcpTransport.handleResponse(TcpTransport.java:1414)\r\n  2> \tat org.elasticsearch.transport.TcpTransport.messageReceived(TcpTransport.java:1370)\r\n  2> \tat org.elasticsearch.transport.MockTcpTransport.readMessage(MockTcpTransport.java:171)\r\n  2> \tat org.elasticsearch.transport.MockTcpTransport.access$900(MockTcpTransport.java:72)\r\n  2> \tat org.elasticsearch.transport.MockTcpTransport$MockChannel$1.lambda$doRun$0(MockTcpTransport.java:349)\r\n  2> \tat org.elasticsearch.common.util.CancellableThreads.executeIO(CancellableThreads.java:105)\r\n  2> \tat org.elasticsearch.transport.MockTcpTransport$MockChannel$1.doRun(MockTcpTransport.java:349)\r\n  2> \tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)\r\n  2> \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n  2> \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n  2> \tat java.lang.Thread.run(Thread.java:745)\r\n```\r\n\r\nThis does not reproduce on my laptop:\r\n\r\n```\r\ngradle :core:test -Dtests.seed=DE3388ADB60D645B -Dtests.class=org.elasticsearch.transport.RemoteClusterServiceTests -Dtests.method=\"testCollectNodes\" -Dtests.security.manager=true -Dtests.locale=sq -Dtests.timezone=Etc/GMT+10\r\n```\r\n\r\nThis one is also the same assertion failing: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+5.x+multijob-unix-compatibility/os=centos/924/consoleFull","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/312226407","html_url":"https://github.com/elastic/elasticsearch/issues/25301#issuecomment-312226407","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25301","id":312226407,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjIyNjQwNw==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2017-06-30T09:52:42Z","updated_at":"2017-06-30T09:56:06Z","author_association":"CONTRIBUTOR","body":"And the other type of failure (like https://github.com/elastic/elasticsearch/issues/25301#issuecomment-311919795) occurs here: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+multijob-windows-compatibility/386/consoleFull\r\n\r\n```\r\n  1> org.elasticsearch.transport.RemoteTransportException: [][127.0.0.1:57632][cluster:monitor/state]\r\n  1> Caused by: org.elasticsearch.transport.ActionNotFoundTransportException: No handler for action [cluster:monitor/state]\r\n  1> \tat org.elasticsearch.transport.TcpTransport.handleRequest(TcpTransport.java:1468) ~[main/:?]\r\n  1> \tat org.elasticsearch.transport.TcpTransport.messageReceived(TcpTransport.java:1352) ~[main/:?]\r\n  1> \tat org.elasticsearch.transport.MockTcpTransport.readMessage(MockTcpTransport.java:171) ~[framework-6.0.0-alpha3-SNAPSHOT.jar:?]\r\n  1> \tat org.elasticsearch.transport.MockTcpTransport.access$900(MockTcpTransport.java:72) ~[framework-6.0.0-alpha3-SNAPSHOT.jar:?]\r\n  1> \tat org.elasticsearch.transport.MockTcpTransport$MockChannel$1.lambda$doRun$0(MockTcpTransport.java:349) ~[framework-6.0.0-alpha3-SNAPSHOT.jar:?]\r\n  1> \tat org.elasticsearch.common.util.CancellableThreads.executeIO(CancellableThreads.java:105) ~[main/:?]\r\n  1> \tat org.elasticsearch.transport.MockTcpTransport$MockChannel$1.doRun(MockTcpTransport.java:349) ~[framework-6.0.0-alpha3-SNAPSHOT.jar:?]\r\n  1> \tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[main/:?]\r\n  1> \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[?:1.8.0_121]\r\n  1> \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) ~[?:1.8.0_121]\r\n  1> \tat java.lang.Thread.run(Thread.java:745) ~[?:1.8.0_121]\r\n```\r\n\r\nThis also does not reproduce on my laptop:\r\n\r\n```\r\ngradle :core:test -Dtests.seed=1FBC3607DA4E1B19 -Dtests.class=org.elasticsearch.transport.RemoteClusterServiceTests -Dtests.method=\"testCollectNodes\" -Dtests.security.manager=true -Dtests.locale=pt -Dtests.timezone=America/Bogota\r\n```\r\n\r\nThis failure has the same stack trace: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+multijob-windows-compatibility/387/consoleFull","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/312613936","html_url":"https://github.com/elastic/elasticsearch/issues/25301#issuecomment-312613936","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25301","id":312613936,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjYxMzkzNg==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2017-07-03T10:48:19Z","updated_at":"2017-07-03T10:48:19Z","author_association":"CONTRIBUTOR","body":"Another failure?\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+5.x+multijob-unix-compatibility/os=amazon/934/console\r\n\r\n\t2> WARNING: Uncaught exception in thread: Thread[elasticsearch[__mock_network_thread][T#7],5,TGRP-RemoteClusterServiceTests]\r\n\t  2> java.lang.AssertionError: should not be called\r\n\t  2> \tat __randomizedtesting.SeedInfo.seed([DF0D11B11B257AB3]:0)\r\n\t  1> [2017-07-03T06:09:21,358][INFO ][o.e.t.t.MockTransportService] [cluster_2_node_1] publish_address {127.0.0.1:9303}, bound_addresses {[::1]:9304}, {127.0.0.1:9303}\r\n\t  1> [2017-07-03T06:09:21,363][INFO ][o.e.t.t.MockTransportService] [cluster_2_node_2] publish_address {127.0.0.1:9305}, bound_addresses {[::1]:9305}, {127.0.0.1:9305}\r\n\t  1> [2017-07-03T06:09:21,370][INFO ][o.e.t.t.MockTransportService] publish_address {127.0.0.1:9306}, bound_addresses {[::1]:9307}, {127.0.0.1:9306}\r\n\t  2> \tat org.junit.Assert.fail(Assert.java:88)\r\n\t  2> \tat org.elasticsearch.transport.RemoteClusterServiceTests$3.onResponse(RemoteClusterServiceTests.java:434)\r\n\t  2> \tat org.elasticsearch.transport.RemoteClusterServiceTests$3.onResponse(RemoteClusterServiceTests.java:430)\r\n\t  2> \tat org.elasticsearch.transport.RemoteClusterService$2.onResponse(RemoteClusterService.java:377)\r\n\t  1> [2017-07-03T06:09:21,493][INFO ][o.e.t.RemoteClusterServiceTests] [testRemoteNodeAttribute]: after test\r\n\t  2> \tat org.elasticsearch.transport.RemoteClusterService$2.onResponse(RemoteClusterService.java:370)\r\n\t  2> \tat org.elasticsearch.transport.RemoteClusterConnection$2.handleResponse(RemoteClusterConnection.java:216)\r\n\t  1> [2017-07-03T06:09:21,499][INFO ][o.e.t.RemoteClusterServiceTests] [testRemoteClusterSeedSetting]: before test\r\n\t  2> \tat org.elasticsearch.transport.RemoteClusterConnection$2.handleResponse(RemoteClusterConnection.java:207)\r\n\r\nThis did not reproduce on my laptop:\r\n\r\n    gradle :core:test -Dtests.seed=DF0D11B11B257AB3 -Dtests.class=org.elasticsearch.transport.RemoteClusterServiceTests -Dtests.method=\"testCollectNodes\" -Dtests.security.manager=true -Dtests.locale=ko -Dtests.timezone=US/Eastern","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/312818595","html_url":"https://github.com/elastic/elasticsearch/issues/25301#issuecomment-312818595","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25301","id":312818595,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjgxODU5NQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-07-04T08:43:35Z","updated_at":"2017-07-04T08:43:35Z","author_association":"MEMBER","body":"Another failure, reopening: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+5.x+multijob-windows-compatibility/275 .","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/312818830","html_url":"https://github.com/elastic/elasticsearch/issues/25301#issuecomment-312818830","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25301","id":312818830,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjgxODgzMA==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-07-04T08:44:27Z","updated_at":"2017-07-04T08:44:27Z","author_association":"MEMBER","body":"and another one: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+5.x+multijob-unix-compatibility/os=fedora/936 .","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/312819447","html_url":"https://github.com/elastic/elasticsearch/issues/25301#issuecomment-312819447","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25301","id":312819447,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjgxOTQ0Nw==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2017-07-04T08:46:55Z","updated_at":"2017-07-04T08:46:55Z","author_association":"CONTRIBUTOR","body":"this is a different failure and I am completely puzzeled on this. It never failed on master and it doesn't reproduce at all. I spend hours on it debugging I am not sure how to proceed. if it keeps on failing I am going to mute the test. I am out of ideas.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/313090697","html_url":"https://github.com/elastic/elasticsearch/issues/25301#issuecomment-313090697","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25301","id":313090697,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMzA5MDY5Nw==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2017-07-05T12:39:01Z","updated_at":"2017-07-05T12:39:01Z","author_association":"CONTRIBUTOR","body":"Here is another failure: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+5.x+java9-periodic/3116/console.\r\n\r\n@s1monw I was going to mute the test but at the same time I see that you added more tracing, so you might be interested to dig a bit more before we mute?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/313096096","html_url":"https://github.com/elastic/elasticsearch/issues/25301#issuecomment-313096096","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25301","id":313096096,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMzA5NjA5Ng==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2017-07-05T13:01:27Z","updated_at":"2017-07-05T13:01:27Z","author_association":"CONTRIBUTOR","body":"@jpountz please don't mute.. this failure didn't have the extra logging... I really need more info about this failure","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/313415826","html_url":"https://github.com/elastic/elasticsearch/issues/25301#issuecomment-313415826","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25301","id":313415826,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMzQxNTgyNg==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2017-07-06T14:38:30Z","updated_at":"2017-07-06T14:38:30Z","author_association":"MEMBER","body":"Looks like it is still failing https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+5.x+multijob-windows-compatibility/282/\r\n\r\n```\r\ncom.carrotsearch.randomizedtesting.UncaughtExceptionError: Captured an uncaught exception in thread: Thread[id=2273, name=elasticsearch[__mock_network_thread][T#5], state=RUNNABLE, group=TGRP-RemoteClusterServiceTests]\r\nCaused by: java.lang.AssertionError: should not be called\r\n\tat __randomizedtesting.SeedInfo.seed([323BF4D5715AF27]:0)\r\n\tat org.junit.Assert.fail(Assert.java:88)\r\n\tat org.elasticsearch.transport.RemoteClusterServiceTests$3.onResponse(RemoteClusterServiceTests.java:444)\r\n\tat org.elasticsearch.transport.RemoteClusterServiceTests$3.onResponse(RemoteClusterServiceTests.java:440)\r\n\tat org.elasticsearch.transport.RemoteClusterService$2.onResponse(RemoteClusterService.java:377)\r\n\tat org.elasticsearch.transport.RemoteClusterService$2.onResponse(RemoteClusterService.java:370)\r\n\tat org.elasticsearch.transport.RemoteClusterConnection$2.handleResponse(RemoteClusterConnection.java:216)\r\n\tat org.elasticsearch.transport.RemoteClusterConnection$2.handleResponse(RemoteClusterConnection.java:207)\r\n\tat org.elasticsearch.transport.TransportService$ContextRestoreResponseHandler.handleResponse(TransportService.java:1060)\r\n\tat org.elasticsearch.transport.TcpTransport$1.doRun(TcpTransport.java:1426)\r\n\tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)\r\n\tat org.elasticsearch.common.util.concurrent.EsExecutors$1.execute(EsExecutors.java:110)\r\n\tat org.elasticsearch.transport.TcpTransport.handleResponse(TcpTransport.java:1418)\r\n\tat org.elasticsearch.transport.TcpTransport.messageReceived(TcpTransport.java:1387)\r\n\tat org.elasticsearch.transport.MockTcpTransport.readMessage(MockTcpTransport.java:173)\r\n\tat org.elasticsearch.transport.MockTcpTransport.access$1000(MockTcpTransport.java:70)\r\n\tat org.elasticsearch.transport.MockTcpTransport$MockChannel$1.lambda$doRun$0(MockTcpTransport.java:346)\r\n\tat org.elasticsearch.common.util.CancellableThreads.executeIO(CancellableThreads.java:105)\r\n\tat org.elasticsearch.transport.MockTcpTransport$MockChannel$1.doRun(MockTcpTransport.java:346)\r\n\tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/314841768","html_url":"https://github.com/elastic/elasticsearch/issues/25301#issuecomment-314841768","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25301","id":314841768,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNDg0MTc2OA==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2017-07-12T17:35:21Z","updated_at":"2017-07-12T17:38:07Z","author_association":"CONTRIBUTOR","body":"more failures:\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+5.x+multijob-windows-compatibility/303/console\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+5.x+multijob-unix-compatibility/os=centos/965/console\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+5.x+multijob-windows-compatibility/301/console\r\n\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+5.x+multijob-windows-compatibility/300/console\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/314844391","html_url":"https://github.com/elastic/elasticsearch/issues/25301#issuecomment-314844391","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25301","id":314844391,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNDg0NDM5MQ==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2017-07-12T17:44:52Z","updated_at":"2017-07-12T17:44:52Z","author_association":"CONTRIBUTOR","body":"occurrence on master: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+multijob-windows-compatibility/436/console","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/314884395","html_url":"https://github.com/elastic/elasticsearch/issues/25301#issuecomment-314884395","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25301","id":314884395,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNDg4NDM5NQ==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2017-07-12T20:17:39Z","updated_at":"2017-07-12T20:17:39Z","author_association":"CONTRIBUTOR","body":"Closing because this may very well be a separate issue.\r\n\r\n@s1monw did you get the extra logging and/or time to investigate this further to decide whether to mute it? Tough for me to see if it is exactly the same/similar problem","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/314886312","html_url":"https://github.com/elastic/elasticsearch/issues/25301#issuecomment-314886312","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25301","id":314886312,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNDg4NjMxMg==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2017-07-12T20:25:12Z","updated_at":"2017-07-12T20:25:12Z","author_association":"CONTRIBUTOR","body":"@talevy don't worry I will push a simple fix for this it's hitting out cluster name protection which is awesome. it's a test issue\r\n\r\n@bleskes this is very funny:\r\n\r\n```\r\n1> [2017-07-12T15:08:24,471][INFO ][o.e.t.RemoteClusterServiceTests] closing all source nodes\r\n\r\n  1> [2017-07-12T15:08:24,480][INFO ][o.e.t.RemoteClusterServiceTests] all source nodes are closed\r\n\r\n  1> [2017-07-12T15:08:28,325][WARN ][o.e.t.RemoteClusterConnection] seed node {cluster_1#127.0.0.1:9300}{A26y2iGnTJypVSTcFcj0WA}{127.0.0.1}{127.0.0.1:9300} cluster name mismatch expected cluster name Cluster [elasticsearch]\r\n\r\n  1> java.lang.IllegalStateException: handshake failed, mismatched cluster name [Cluster [single-node-cluster-CHILD_VM=[2]-CLUSTER_SEED=[-6796853757101658149]-HASH=[248CA5534EE4]]] - {cluster_1#127.0.0.1:9300}{A26y2iGnTJypVSTcFcj0WA}{127.0.0.1}{127.0.0.1:9300}\r\n  1> \tat org.elasticsearch.transport.TransportService.handshake(TransportService.java:400) ~[main/:?]\r\n  1> \tat org.elasticsearch.transport.RemoteClusterConnection$ConnectHandler.lambda$collectRemoteNodes$2(RemoteClusterConnection.java:413) ~[main/:?]\r\n  1> \tat org.elasticsearch.common.util.CancellableThreads.executeIO(CancellableThreads.java:105) ~[main/:?]\r\n  1> \tat org.elasticsearch.transport.RemoteClusterConnection$ConnectHandler.collectRemoteNodes(RemoteClusterConnection.java:405) ~[main/:?]\r\n  1> \tat org.elasticsearch.transport.RemoteClusterConnection$ConnectHandler.collectRemoteNodes(RemoteClusterConnection.java:460) ~[main/:?]\r\n  1> \tat org.elasticsearch.transport.RemoteClusterConnection$ConnectHandler$1.doRun(RemoteClusterConnection.java:392) ~[main/:?]\r\n  1> \tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[main/:?]\r\n  1> \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_92]\r\n  1> \tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_92]\r\n  1> \tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:569) ~[main/:?]\r\n  1> \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[?:1.8.0_92]\r\n  1> \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) ~[?:1.8.0_92]\r\n  1> \tat java.lang.Thread.run(Thread.java:745) ~[?:1.8.0_92]\r\n  1> [2017-07-12T15:08:28,900][INFO ][o.e.t.RemoteClusterServiceTests] [testCollectNodes]: after test\r\n\r\nFAILURE 8.76s J0 | RemoteClusterServiceTests.testCollectNodes <<< FAILURES!\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/314991090","html_url":"https://github.com/elastic/elasticsearch/issues/25301#issuecomment-314991090","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25301","id":314991090,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNDk5MTA5MA==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2017-07-13T07:05:04Z","updated_at":"2017-07-13T07:05:04Z","author_association":"MEMBER","body":"Still trouble with 5.x: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+5.x+multijob-windows-compatibility/306/\r\n\r\n```\r\n  2> java.lang.AssertionError: should not be called\r\n```\r\n\r\n@s1monw I know you have some going on. I'll look at it later.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/315328843","html_url":"https://github.com/elastic/elasticsearch/issues/25301#issuecomment-315328843","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25301","id":315328843,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNTMyODg0Mw==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2017-07-14T10:36:52Z","updated_at":"2017-07-14T10:36:52Z","author_association":"CONTRIBUTOR","body":"The same thing as https://github.com/elastic/elasticsearch/issues/25301#issuecomment-314991090 happened again on Windows in 5.x: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+5.x+multijob-windows-compatibility/318/consoleFull\r\n\r\n```\r\n   > Throwable #1: java.lang.AssertionError\r\n   > \tat org.elasticsearch.transport.RemoteClusterServiceTests.testCollectNodes(RemoteClusterServiceTests.java:453)\r\n   > \tat java.lang.Thread.run(Thread.java:745)Throwable #2: com.carrotsearch.randomizedtesting.UncaughtExceptionError: Captured an uncaught exception in thread: Thread[id=2389, name=elasticsearch[__mock_network_thread][T#4], state=RUNNABLE, group=TGRP-RemoteClusterServiceTests]\r\n   > Caused by: java.lang.AssertionError: should not be called\r\n   > \tat __randomizedtesting.SeedInfo.seed([1829537A0BC77145]:0)\r\n   > \tat org.elasticsearch.transport.RemoteClusterServiceTests$3.onResponse(RemoteClusterServiceTests.java:437)\r\n   > \tat org.elasticsearch.transport.RemoteClusterServiceTests$3.onResponse(RemoteClusterServiceTests.java:433)\r\n   > \tat org.elasticsearch.transport.RemoteClusterService$2.onResponse(RemoteClusterService.java:377)\r\n   > \tat org.elasticsearch.transport.RemoteClusterService$2.onResponse(RemoteClusterService.java:370)\r\n   > \tat org.elasticsearch.transport.RemoteClusterConnection$2.handleResponse(RemoteClusterConnection.java:219)\r\n   > \tat org.elasticsearch.transport.RemoteClusterConnection$2.handleResponse(RemoteClusterConnection.java:210)\r\n   > \tat org.elasticsearch.transport.TransportService$ContextRestoreResponseHandler.handleResponse(TransportService.java:1060)\r\n   > \tat org.elasticsearch.transport.TcpTransport$1.doRun(TcpTransport.java:1426)\r\n   > \tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)\r\n   > \tat org.elasticsearch.common.util.concurrent.EsExecutors$1.execute(EsExecutors.java:110)\r\n   > \tat org.elasticsearch.transport.TcpTransport.handleResponse(TcpTransport.java:1418)\r\n   > \tat org.elasticsearch.transport.TcpTransport.messageReceived(TcpTransport.java:1387)\r\n   > \tat org.elasticsearch.transport.MockTcpTransport.readMessage(MockTcpTransport.java:173)\r\n   > \tat org.elasticsearch.transport.MockTcpTransport.access$1000(MockTcpTransport.java:70)\r\n   > \tat org.elasticsearch.transport.MockTcpTransport$MockChannel$1.lambda$doRun$0(MockTcpTransport.java:346)\r\n   > \tat org.elasticsearch.common.util.CancellableThreads.executeIO(CancellableThreads.java:105)\r\n   > \tat org.elasticsearch.transport.MockTcpTransport$MockChannel$1.doRun(MockTcpTransport.java:346)\r\n   > \tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)\r\n   > \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n   > \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n   > \tat java.lang.Thread.run(Thread.java:745)\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/315428882","html_url":"https://github.com/elastic/elasticsearch/issues/25301#issuecomment-315428882","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25301","id":315428882,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNTQyODg4Mg==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2017-07-14T18:11:49Z","updated_at":"2017-07-14T18:11:49Z","author_association":"MEMBER","body":"I pushed https://github.com/elastic/elasticsearch/commit/7ac18286ceaa6351afc47e666e73103b060d0d3f which should take care of it. 5.x and master diverges causing @s1monw backport of the fix to be ineffective (the method wasn't used in the right code paths)","performed_via_github_app":null}]