{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/45460","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45460/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45460/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45460/events","html_url":"https://github.com/elastic/elasticsearch/issues/45460","id":479717608,"node_id":"MDU6SXNzdWU0Nzk3MTc2MDg=","number":45460,"title":"[Feature Request] Delete By Query returns the documents deleted","user":{"login":"apoloa","id":8296904,"node_id":"MDQ6VXNlcjgyOTY5MDQ=","avatar_url":"https://avatars0.githubusercontent.com/u/8296904?v=4","gravatar_id":"","url":"https://api.github.com/users/apoloa","html_url":"https://github.com/apoloa","followers_url":"https://api.github.com/users/apoloa/followers","following_url":"https://api.github.com/users/apoloa/following{/other_user}","gists_url":"https://api.github.com/users/apoloa/gists{/gist_id}","starred_url":"https://api.github.com/users/apoloa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apoloa/subscriptions","organizations_url":"https://api.github.com/users/apoloa/orgs","repos_url":"https://api.github.com/users/apoloa/repos","events_url":"https://api.github.com/users/apoloa/events{/privacy}","received_events_url":"https://api.github.com/users/apoloa/received_events","type":"User","site_admin":false},"labels":[{"id":163824881,"node_id":"MDU6TGFiZWwxNjM4MjQ4ODE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Indices%20APIs","name":":Core/Features/Indices APIs","color":"0e8a16","default":false,"description":"APIs to create and manage indices"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2019-08-12T15:43:03Z","updated_at":"2019-08-26T18:49:58Z","closed_at":"2019-08-26T18:49:58Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\r\n\r\nWe are deleting documents some times using the delete by query endpoint, but we need to return the data deleted by the call. Our first approach is to use the same query with the endpoint `_search` to fetch the documents to delete but our query is based on the time and some times we are deleting more documents than we fetch in the `_query` call. \r\n\r\nCan the delete by query return the documents deleted in the same call? \r\n\r\nThanks","closed_by":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"performed_via_github_app":null}