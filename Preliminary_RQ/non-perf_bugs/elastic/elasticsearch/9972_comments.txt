[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/77783312","html_url":"https://github.com/elastic/elasticsearch/issues/9972#issuecomment-77783312","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9972","id":77783312,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NzgzMzEy","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-03-08T23:59:56Z","updated_at":"2015-03-08T23:59:56Z","author_association":"CONTRIBUTOR","body":"Hi @ajhalani \n\nPlease could you provide your config file, your cluster settings, and the code that you are using to index documents.\n\nthanks\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/77944409","html_url":"https://github.com/elastic/elasticsearch/issues/9972#issuecomment-77944409","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9972","id":77944409,"node_id":"MDEyOklzc3VlQ29tbWVudDc3OTQ0NDA5","user":{"login":"ajhalani","id":1163503,"node_id":"MDQ6VXNlcjExNjM1MDM=","avatar_url":"https://avatars3.githubusercontent.com/u/1163503?v=4","gravatar_id":"","url":"https://api.github.com/users/ajhalani","html_url":"https://github.com/ajhalani","followers_url":"https://api.github.com/users/ajhalani/followers","following_url":"https://api.github.com/users/ajhalani/following{/other_user}","gists_url":"https://api.github.com/users/ajhalani/gists{/gist_id}","starred_url":"https://api.github.com/users/ajhalani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajhalani/subscriptions","organizations_url":"https://api.github.com/users/ajhalani/orgs","repos_url":"https://api.github.com/users/ajhalani/repos","events_url":"https://api.github.com/users/ajhalani/events{/privacy}","received_events_url":"https://api.github.com/users/ajhalani/received_events","type":"User","site_admin":false},"created_at":"2015-03-09T21:16:11Z","updated_at":"2015-03-09T21:16:11Z","author_association":"NONE","body":"Sure, put it at [https://gist.github.com/ajhalani/4b439e9dfa2a9bfd1b5e] . \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/77948002","html_url":"https://github.com/elastic/elasticsearch/issues/9972#issuecomment-77948002","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9972","id":77948002,"node_id":"MDEyOklzc3VlQ29tbWVudDc3OTQ4MDAy","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2015-03-09T21:34:26Z","updated_at":"2015-03-09T21:34:26Z","author_association":"MEMBER","body":"@ajhalani thx. Can you also post the c++ code for the request?\n\nPS.  I don't see minimum_master_nodes set anywhere do you set it somewhere?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/77962533","html_url":"https://github.com/elastic/elasticsearch/issues/9972#issuecomment-77962533","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9972","id":77962533,"node_id":"MDEyOklzc3VlQ29tbWVudDc3OTYyNTMz","user":{"login":"ajhalani","id":1163503,"node_id":"MDQ6VXNlcjExNjM1MDM=","avatar_url":"https://avatars3.githubusercontent.com/u/1163503?v=4","gravatar_id":"","url":"https://api.github.com/users/ajhalani","html_url":"https://github.com/ajhalani","followers_url":"https://api.github.com/users/ajhalani/followers","following_url":"https://api.github.com/users/ajhalani/following{/other_user}","gists_url":"https://api.github.com/users/ajhalani/gists{/gist_id}","starred_url":"https://api.github.com/users/ajhalani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajhalani/subscriptions","organizations_url":"https://api.github.com/users/ajhalani/orgs","repos_url":"https://api.github.com/users/ajhalani/repos","events_url":"https://api.github.com/users/ajhalani/events{/privacy}","received_events_url":"https://api.github.com/users/ajhalani/received_events","type":"User","site_admin":false},"created_at":"2015-03-09T22:56:43Z","updated_at":"2015-03-09T22:57:11Z","author_association":"NONE","body":"We are not using that option minimum_master_nodes  currently.. We saw this issue with both 2-node and 8-node cluster if that helps debug if this option missing is causing issue. \n\nIt's difficult to share internal C++ existing code,  will have to check with folks around if it's okay.. Could we debug without the code, as I mentioned it's doing a http _bulk index request.. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/102045672","html_url":"https://github.com/elastic/elasticsearch/issues/9972#issuecomment-102045672","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9972","id":102045672,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMjA0NTY3Mg==","user":{"login":"ajhalani","id":1163503,"node_id":"MDQ6VXNlcjExNjM1MDM=","avatar_url":"https://avatars3.githubusercontent.com/u/1163503?v=4","gravatar_id":"","url":"https://api.github.com/users/ajhalani","html_url":"https://github.com/ajhalani","followers_url":"https://api.github.com/users/ajhalani/followers","following_url":"https://api.github.com/users/ajhalani/following{/other_user}","gists_url":"https://api.github.com/users/ajhalani/gists{/gist_id}","starred_url":"https://api.github.com/users/ajhalani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajhalani/subscriptions","organizations_url":"https://api.github.com/users/ajhalani/orgs","repos_url":"https://api.github.com/users/ajhalani/repos","events_url":"https://api.github.com/users/ajhalani/events{/privacy}","received_events_url":"https://api.github.com/users/ajhalani/received_events","type":"User","site_admin":false},"created_at":"2015-05-14T14:00:39Z","updated_at":"2015-05-14T15:11:01Z","author_association":"NONE","body":"We still see the issue happening with v1.5.2. It seems to me that master goes down without re-electing a new one, and takes 3-4 seconds to find new one. \n\nIt would help If the **graceful** shutdown of master waited for a new master was elected before completing shutdown.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/102050585","html_url":"https://github.com/elastic/elasticsearch/issues/9972#issuecomment-102050585","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9972","id":102050585,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMjA1MDU4NQ==","user":{"login":"apidruchny","id":1816354,"node_id":"MDQ6VXNlcjE4MTYzNTQ=","avatar_url":"https://avatars1.githubusercontent.com/u/1816354?v=4","gravatar_id":"","url":"https://api.github.com/users/apidruchny","html_url":"https://github.com/apidruchny","followers_url":"https://api.github.com/users/apidruchny/followers","following_url":"https://api.github.com/users/apidruchny/following{/other_user}","gists_url":"https://api.github.com/users/apidruchny/gists{/gist_id}","starred_url":"https://api.github.com/users/apidruchny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apidruchny/subscriptions","organizations_url":"https://api.github.com/users/apidruchny/orgs","repos_url":"https://api.github.com/users/apidruchny/repos","events_url":"https://api.github.com/users/apidruchny/events{/privacy}","received_events_url":"https://api.github.com/users/apidruchny/received_events","type":"User","site_admin":false},"created_at":"2015-05-14T14:24:14Z","updated_at":"2015-05-14T14:24:14Z","author_association":"NONE","body":"As a workaround, is it possible to force Elasticsearch to elect another node as master before we start shutdown? E.g., if we change the setting node.master to false on the current master node, will this cause the master election process? On the other hand, if we set node.master to false and the current master node stops being a master, we probably will get into the same state of no master situation for 3-4 seconds.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/111529287","html_url":"https://github.com/elastic/elasticsearch/issues/9972#issuecomment-111529287","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9972","id":111529287,"node_id":"MDEyOklzc3VlQ29tbWVudDExMTUyOTI4Nw==","user":{"login":"ajhalani","id":1163503,"node_id":"MDQ6VXNlcjExNjM1MDM=","avatar_url":"https://avatars3.githubusercontent.com/u/1163503?v=4","gravatar_id":"","url":"https://api.github.com/users/ajhalani","html_url":"https://github.com/ajhalani","followers_url":"https://api.github.com/users/ajhalani/followers","following_url":"https://api.github.com/users/ajhalani/following{/other_user}","gists_url":"https://api.github.com/users/ajhalani/gists{/gist_id}","starred_url":"https://api.github.com/users/ajhalani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajhalani/subscriptions","organizations_url":"https://api.github.com/users/ajhalani/orgs","repos_url":"https://api.github.com/users/ajhalani/repos","events_url":"https://api.github.com/users/ajhalani/events{/privacy}","received_events_url":"https://api.github.com/users/ajhalani/received_events","type":"User","site_admin":false},"created_at":"2015-06-12T15:32:41Z","updated_at":"2015-06-12T15:32:41Z","author_association":"NONE","body":"As a temporary workaround, we are now checking for 503 error, and retry again in 3-4 seconds. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/112478494","html_url":"https://github.com/elastic/elasticsearch/issues/9972#issuecomment-112478494","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9972","id":112478494,"node_id":"MDEyOklzc3VlQ29tbWVudDExMjQ3ODQ5NA==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2015-06-16T15:55:57Z","updated_at":"2015-06-16T15:55:57Z","author_association":"MEMBER","body":"Master (re) election takes indeed 3 seconds. However, any incoming requests that come in during this period will be kept in flight until a new master is elected. This has a maximum timeout of one minute, after which you will see and error as you describe. Do you change the timeout parameter on the request?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/162239408","html_url":"https://github.com/elastic/elasticsearch/issues/9972#issuecomment-162239408","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9972","id":162239408,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjIzOTQwOA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-12-05T19:29:40Z","updated_at":"2015-12-05T19:29:40Z","author_association":"CONTRIBUTOR","body":"No feedback since June.  Closing\n","performed_via_github_app":null}]