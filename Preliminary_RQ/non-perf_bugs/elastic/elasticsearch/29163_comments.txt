[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/386193294","html_url":"https://github.com/elastic/elasticsearch/issues/29163#issuecomment-386193294","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29163","id":386193294,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjE5MzI5NA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2018-05-03T05:13:08Z","updated_at":"2018-05-03T05:13:08Z","author_association":"MEMBER","body":"@jakommo We set `LimitNOFILE=65536` in our systemd service file. You mentioned you've seen this problem with users running tar/zip distributions. Since we only package our service file with rpm/deb, these users must be creating their own service file. I don't think we should document all the intricacies of systemd.  Instead, we should guide users to use the provided packages which come with service startup scripts which we have tested. Given that, I hope you don't mind that I close this issue.\r\n\r\nRegarding why systemd did not pickup your changes, I believe you need to run `systemctl daemon-reload`.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/387089471","html_url":"https://github.com/elastic/elasticsearch/issues/29163#issuecomment-387089471","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29163","id":387089471,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NzA4OTQ3MQ==","user":{"login":"jakommo","id":6436143,"node_id":"MDQ6VXNlcjY0MzYxNDM=","avatar_url":"https://avatars2.githubusercontent.com/u/6436143?v=4","gravatar_id":"","url":"https://api.github.com/users/jakommo","html_url":"https://github.com/jakommo","followers_url":"https://api.github.com/users/jakommo/followers","following_url":"https://api.github.com/users/jakommo/following{/other_user}","gists_url":"https://api.github.com/users/jakommo/gists{/gist_id}","starred_url":"https://api.github.com/users/jakommo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakommo/subscriptions","organizations_url":"https://api.github.com/users/jakommo/orgs","repos_url":"https://api.github.com/users/jakommo/repos","events_url":"https://api.github.com/users/jakommo/events{/privacy}","received_events_url":"https://api.github.com/users/jakommo/received_events","type":"User","site_admin":false},"created_at":"2018-05-07T14:49:23Z","updated_at":"2018-05-07T14:49:23Z","author_association":"CONTRIBUTOR","body":"Hey @rjernst, this isn't about users writing their own service file, but about users running the .tgz in a terminal for playing around / development. \r\nI encountered this several times during our training's (where we use the .tgz), that the file descriptor bootstrap check fails and the instructions we have [here](https://www.elastic.co/guide/en/elasticsearch/reference/6.2/setting-system-settings.html#limits.conf) aren't solving this, if the user runs e.g. gnome 3 on a system using systemd. \r\nIn that case the steps I described above are required to start up elasticsearch in a production mode.\r\n\r\nI do agree that we should not cover all intricacies of systemd, but I feel like documenting this would help with a better getting started experience for users that are running a GUI on a system with systemd and that do not want to install the rpm/deb because they are just playing around. \r\n","performed_via_github_app":null}]