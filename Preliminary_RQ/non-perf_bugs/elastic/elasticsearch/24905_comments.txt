[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/304308885","html_url":"https://github.com/elastic/elasticsearch/issues/24905#issuecomment-304308885","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24905","id":304308885,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDMwODg4NQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2017-05-26T15:12:52Z","updated_at":"2017-05-26T15:12:52Z","author_association":"CONTRIBUTOR","body":"Please ask questions like these in the forum instead: https://discuss.elastic.co/\r\n\r\nThe github issues list is reserved for bug reports and feature requests only.\r\n\r\nthanks","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/304405728","html_url":"https://github.com/elastic/elasticsearch/issues/24905#issuecomment-304405728","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24905","id":304405728,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDQwNTcyOA==","user":{"login":"yyt030","id":8447684,"node_id":"MDQ6VXNlcjg0NDc2ODQ=","avatar_url":"https://avatars2.githubusercontent.com/u/8447684?v=4","gravatar_id":"","url":"https://api.github.com/users/yyt030","html_url":"https://github.com/yyt030","followers_url":"https://api.github.com/users/yyt030/followers","following_url":"https://api.github.com/users/yyt030/following{/other_user}","gists_url":"https://api.github.com/users/yyt030/gists{/gist_id}","starred_url":"https://api.github.com/users/yyt030/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyt030/subscriptions","organizations_url":"https://api.github.com/users/yyt030/orgs","repos_url":"https://api.github.com/users/yyt030/repos","events_url":"https://api.github.com/users/yyt030/events{/privacy}","received_events_url":"https://api.github.com/users/yyt030/received_events","type":"User","site_admin":false},"created_at":"2017-05-26T23:07:00Z","updated_at":"2017-05-27T06:04:19Z","author_association":"NONE","body":"thank you for reply， i know you means.\r\nbut how do you konw one issue is a bug or is a stupid question，or is a advice for the next  deploy version？\r\n---------------------------------------\r\nThis is my big effect.\r\n\r\nstarting failed cause by:\r\n```\r\nERROR: bootstrap checks failed\r\nmax file descriptors [4096] for elasticsearch process is too low, increase to at least [65536]\r\nmax virtual memory areas vm.max_map_count [65530] is too low, increase to at least [262144]\r\n\r\n```\r\nthis problem and ip configuration does not matter.\r\nso, i deal with the problem by  these steps:\r\n+ add config to /etc/security/limits.conf\r\n@elsearch        soft    nofile          65536\r\n@elsearch        hard    nofile          65536\r\n@elsearch        soft    nproc           2048\r\n@elsearch        hard    nproc           2048\r\n@elsearch        soft    memlock                 unlimited\r\n@elsearch        hard    memlock                 unlimited\r\n+ sysctl max_map_count\r\nsysctl -w vm.max_map_count=262144\r\n+ config  elasticsearch.yml\r\n\r\ncluster.name: elk-app\r\nnode.name: ${HOSTNAME}\r\npath.data: /esdata/data\r\npath.logs: /esdata/logs\r\nbootstrap.memory_lock: true\r\nnetwork.host: 0.0.0.0\r\nhttp.port: 9200\r\nbootstrap.system_call_filter: false\r\ndiscovery.zen.ping.unicast.hosts: [\"192.168.31.40\", \"192.168.31.117\"]\r\ndiscovery.zen.minimum_master_nodes: 2","performed_via_github_app":null}]