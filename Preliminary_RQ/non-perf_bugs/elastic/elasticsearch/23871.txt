{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/23871","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23871/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23871/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23871/events","html_url":"https://github.com/elastic/elasticsearch/issues/23871","id":218838899,"node_id":"MDU6SXNzdWUyMTg4Mzg4OTk=","number":23871,"title":"index_failed_engine_exception Index failed for translog is already closed status 500","user":{"login":"waheed1947","id":26864522,"node_id":"MDQ6VXNlcjI2ODY0NTIy","avatar_url":"https://avatars0.githubusercontent.com/u/26864522?v=4","gravatar_id":"","url":"https://api.github.com/users/waheed1947","html_url":"https://github.com/waheed1947","followers_url":"https://api.github.com/users/waheed1947/followers","following_url":"https://api.github.com/users/waheed1947/following{/other_user}","gists_url":"https://api.github.com/users/waheed1947/gists{/gist_id}","starred_url":"https://api.github.com/users/waheed1947/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waheed1947/subscriptions","organizations_url":"https://api.github.com/users/waheed1947/orgs","repos_url":"https://api.github.com/users/waheed1947/repos","events_url":"https://api.github.com/users/waheed1947/events{/privacy}","received_events_url":"https://api.github.com/users/waheed1947/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-04-03T06:15:18Z","updated_at":"2017-04-03T06:20:07Z","closed_at":"2017-04-03T06:19:46Z","author_association":"NONE","active_lock_reason":null,"body":"ES Version : 2.3.3\r\nLaravel version : 5.0\r\n\r\nWhen we update indexes most of them updated successfully but some indexes not updated.\r\nShare My Error Log\r\n\r\nServerErrorResponseException in Connection.php line 659:\r\nindex_failed_engine_exception: Index failed for [sources#10475977]\r\nin Connection.php line 659\r\nat Connection->tryDeserializeError(array('transfer_stats' => array('url' => '', 'content_type' => 'application/json; charset=UTF-8', 'http_code' => 500, 'header_size' => 106, 'request_size' => 804, 'filetime' => -1, 'ssl_verify_result' => 0, 'redirect_count' => 0, 'total_time' => 0.51500000000000001, 'namelookup_time' => 0, 'connect_time' => 0.249, 'pretransfer_time' => 0.249, 'size_upload' => 712, 'size_download' => 361, 'speed_download' => 700, 'speed_upload' => 1382, 'download_content_length' => 361, 'upload_content_length' => 712, 'starttransfer_time' => 0.51500000000000001, 'redirect_time' => 0, 'redirect_url' => '', 'primary_ip' => '70.32.82.156', 'certinfo' => array(), 'primary_port' => 9200, 'local_ip' => '192.168.1.106', 'local_port' => 51589, 'error' => '', 'errno' => 0), 'curl' => array('error' => '', 'errno' => 0), 'effective_url' => '', 'headers' => array('Content-Type' => array('application/json; charset=UTF-8'), 'Content-Length' => array('361')), 'version' => '1.1', 'status' => 500, 'reason' => 'Internal Server Error', 'body' => '{\"error\":{\"root_cause\":[{\"type\":\"index_failed_engine_exception\",\"reason\":\"Index failed for [sources#10475977]\",\"shard\":\"2\",\"index\":\"verbingo\"}],\"type\":\"index_failed_engine_exception\",\"reason\":\"Index failed for [sources#10475977]\",\"shard\":\"2\",\"index\":\"verbingo\",\"caused_by\":{\"type\":\"already_closed_exception\",\"reason\":\"translog is already closed\"}},\"status\":500}'), 'Elasticsearch\\\\Common\\\\Exceptions\\\\ServerErrorResponseException') in Connection.php line 638\r\nat Connection->tryDeserialize500Error(array('transfer_stats' => array('url' => '', 'content_type' => 'application/json; charset=UTF-8', 'http_code' => 500, 'header_size' => 106, 'request_size' => 804, 'filetime' => -1, 'ssl_verify_result' => 0, 'redirect_count' => 0, 'total_time' => 0.51500000000000001, 'namelookup_time' => 0, 'connect_time' => 0.249, 'pretransfer_time' => 0.249, 'size_upload' => 712, 'size_download' => 361, 'speed_download' => 700, 'speed_upload' => 1382, 'download_content_length' => 361, 'upload_content_length' => 712, 'starttransfer_time' => 0.51500000000000001, 'redirect_time' => 0, 'redirect_url' => '', 'primary_ip' => '70.32.82.156', 'certinfo' => array(), 'primary_port' => 9200, 'local_ip' => '192.168.1.106', 'local_port' => 51589, 'error' => '', 'errno' => 0), 'curl' => array('error' => '', 'errno' => 0), 'effective_url' => '', 'headers' => array('Content-Type' => array('application/json; charset=UTF-8'), 'Content-Length' => array('361')), 'version' => '1.1', 'status' => 500, 'reason' => 'Internal Server Error', 'body' => '{\"error\":{\"root_cause\":[{\"type\":\"index_failed_engine_exception\",\"reason\":\"Index failed for [sources#10475977]\",\"shard\":\"2\",\"index\":\"verbingo\"}],\"type\":\"index_failed_engine_exception\",\"reason\":\"Index failed for [sources#10475977]\",\"shard\":\"2\",\"index\":\"verbingo\",\"caused_by\":{\"type\":\"already_closed_exception\",\"reason\":\"translog is already closed\"}},\"status\":500}')) in Connection.php line 601\r\nat Connection->process5xxError(array('http_method' => 'PUT', 'scheme' => 'http', 'uri' => '/verbingo/sources/10475977', 'body' => '{\"id\":10475977,\"project_id\":1470031884,\"position\":1,\"content\":\"LiveClicks\",\"comment\":\"\",\"selected_translation\":\"LiveClicks\",\"word_count\":1,\"idml_pdffile\":null,\"backup\":1,\"modified\":\"0\",\"comments\":null,\"keyValue\":null,\"project\":{\"id\":1470031884,\"user_id\":11098,\"title\":\"My way file 1\",\"type\":3,\"src_language\":\"en\",\"tar_language\":\"hi\",\"src_count\":15,\"tar_count\":15,\"time_created\":\"2017-03-25 03:35:01\",\"time_dedline\":\"0000-00-00 00:00:00\",\"time_last_active\":\"2017-03-25 03:30:58\",\"old_id\":null,\"visible_status\":0,\"backup\":1,\"modified\":\"0\",\"comments\":null,\"project_number\":\"\",\"assigned_user_id\":0,\"dashboard_id\":0,\"billing_option\":0,\"website_project\":0,\"total_matched\":2,\"total_words\":124,\"project_percentage\":\"2\"}}', 'headers' => array('host' => array('verbingotms.com:9200'))), array('transfer_stats' => array('url' => '', 'content_type' => 'application/json; charset=UTF-8', 'http_code' => 500, 'header_size' => 106, 'request_size' => 804, 'filetime' => -1, 'ssl_verify_result' => 0, 'redirect_count' => 0, 'total_time' => 0.51500000000000001, 'namelookup_time' => 0, 'connect_time' => 0.249, 'pretransfer_time' => 0.249, 'size_upload' => 712, 'size_download' => 361, 'speed_download' => 700, 'speed_upload' => 1382, 'download_content_length' => 361, 'upload_content_length' => 712, 'starttransfer_time' => 0.51500000000000001, 'redirect_time' => 0, 'redirect_url' => '', 'primary_ip' => '70.32.82.156', 'certinfo' => array(), 'primary_port' => 9200, 'local_ip' => '192.168.1.106', 'local_port' => 51589, 'error' => '', 'errno' => 0), 'curl' => array('error' => '', 'errno' => 0), 'effective_url' => '', 'headers' => array('Content-Type' => array('application/json; charset=UTF-8'), 'Content-Length' => array('361')), 'version' => '1.1', 'status' => 500, 'reason' => 'Internal Server Error', 'body' => '{\"error\":{\"root_cause\":[{\"type\":\"index_failed_engine_exception\",\"reason\":\"Index failed for [sources#10475977]\",\"shard\":\"2\",\"index\":\"verbingo\"}],\"type\":\"index_failed_engine_exception\",\"reason\":\"Index failed for [sources#10475977]\",\"shard\":\"2\",\"index\":\"verbingo\",\"caused_by\":{\"type\":\"already_closed_exception\",\"reason\":\"translog is already closed\"}},\"status\":500}'), array()) in Connection.php line 267\r\nat Connection->Elasticsearch\\Connections\\{closure}(array('transfer_stats' => array('url' => '', 'content_type' => 'application/json; charset=UTF-8', 'http_code' => 500, 'header_size' => 106, 'request_size' => 804, 'filetime' => -1, 'ssl_verify_result' => 0, 'redirect_count' => 0, 'total_time' => 0.51500000000000001, 'namelookup_time' => 0, 'connect_time' => 0.249, 'pretransfer_time' => 0.249, 'size_upload' => 712, 'size_download' => 361, 'speed_download' => 700, 'speed_upload' => 1382, 'download_content_length' => 361, 'upload_content_length' => 712, 'starttransfer_time' => 0.51500000000000001, 'redirect_time' => 0, 'redirect_url' => '', 'primary_ip' => '70.32.82.156', 'certinfo' => array(), 'primary_port' => 9200, 'local_ip' => '192.168.1.106', 'local_port' => 51589, 'error' => '', 'errno' => 0), 'curl' => array('error' => '', 'errno' => 0), 'effective_url' => '', 'headers' => array('Content-Type' => array('application/json; charset=UTF-8'), 'Content-Length' => array('361')), 'version' => '1.1', 'status' => 500, 'reason' => 'Internal Server Error', 'body' => resource)) in FulfilledPromise.php line 25\r\nat FulfilledPromise->then(object(Closure), null, null) in CompletedFutureValue.php line 55\r\nat CompletedFutureValue->then(object(Closure), null, null) in Core.php line 341\r\nat Core::proxy(object(CompletedFutureArray), object(Closure)) in Connection.php line 285\r\nat Connection->Elasticsearch\\Connections\\{closure}(array('http_method' => 'PUT', 'scheme' => 'http', 'uri' => '/verbingo/sources/10475977', 'body' => '{\"id\":10475977,\"project_id\":1470031884,\"position\":1,\"content\":\"LiveClicks\",\"comment\":\"\",\"selected_translation\":\"LiveClicks\",\"word_count\":1,\"idml_pdffile\":null,\"backup\":1,\"modified\":\"0\",\"comments\":null,\"keyValue\":null,\"project\":{\"id\":1470031884,\"user_id\":11098,\"title\":\"My way file 1\",\"type\":3,\"src_language\":\"en\",\"tar_language\":\"hi\",\"src_count\":15,\"tar_count\":15,\"time_created\":\"2017-03-25 03:35:01\",\"time_dedline\":\"0000-00-00 00:00:00\",\"time_last_active\":\"2017-03-25 03:30:58\",\"old_id\":null,\"visible_status\":0,\"backup\":1,\"modified\":\"0\",\"comments\":null,\"project_number\":\"\",\"assigned_user_id\":0,\"dashboard_id\":0,\"billing_option\":0,\"website_project\":0,\"total_matched\":2,\"total_words\":124,\"project_percentage\":\"2\"}}', 'headers' => array('host' => array('verbingotms.com:9200'))), object(Connection), object(Transport), array()) in Connection.php line 161\r\nat Connection->performRequest('PUT', '/verbingo/sources/10475977', array(), array('id' => 10475977, 'project_id' => 1470031884, 'position' => 1, 'content' => 'LiveClicks', 'comment' => '', 'selected_translation' => 'LiveClicks', 'word_count' => 1, 'idml_pdffile' => null, 'backup' => 1, 'modified' => '0', 'comments' => null, 'keyValue' => null, 'project' => array('id' => 1470031884, 'user_id' => 11098, 'title' => 'My way file 1', 'type' => 3, 'src_language' => 'en', 'tar_language' => 'hi', 'src_count' => 15, 'tar_count' => 15, 'time_created' => '2017-03-25 03:35:01', 'time_dedline' => '0000-00-00 00:00:00', 'time_last_active' => '2017-03-25 03:30:58', 'old_id' => null, 'visible_status' => 0, 'backup' => 1, 'modified' => '0', 'comments' => null, 'project_number' => '', 'assigned_user_id' => 0, 'dashboard_id' => 0, 'billing_option' => 0, 'website_project' => 0, 'total_matched' => 2, 'total_words' => 124, 'project_percentage' => '2')), array(), object(Transport)) in Transport.php line 106\r\nat Transport->performRequest('PUT', '/verbingo/sources/10475977', array(), array('id' => 10475977, 'project_id' => 1470031884, 'position' => 1, 'content' => 'LiveClicks', 'comment' => '', 'selected_translation' => 'LiveClicks', 'word_count' => 1, 'idml_pdffile' => null, 'backup' => 1, 'modified' => '0', 'comments' => null, 'keyValue' => null, 'project' => array('id' => 1470031884, 'user_id' => 11098, 'title' => 'My way file 1', 'type' => 3, 'src_language' => 'en', 'tar_language' => 'hi', 'src_count' => 15, 'tar_count' => 15, 'time_created' => '2017-03-25 03:35:01', 'time_dedline' => '0000-00-00 00:00:00', 'time_last_active' => '2017-03-25 03:30:58', 'old_id' => null, 'visible_status' => 0, 'backup' => 1, 'modified' => '0', 'comments' => null, 'project_number' => '', 'assigned_user_id' => 0, 'dashboard_id' => 0, 'billing_option' => 0, 'website_project' => 0, 'total_matched' => 2, 'total_words' => 124, 'project_percentage' => '2')), array()) in AbstractEndpoint.php line 80\r\nat AbstractEndpoint->performRequest() in Client.php line 791\r\nat Client->index(array('index' => 'verbingo', 'type' => 'sources', 'id' => 10475977, 'body' => array('id' => 10475977, 'project_id' => 1470031884, 'position' => 1, 'content' => 'LiveClicks', 'comment' => '', 'selected_translation' => 'LiveClicks', 'word_count' => 1, 'idml_pdffile' => null, 'backup' => 1, 'modified' => '0', 'comments' => null, 'keyValue' => null, 'project' => array('id' => 1470031884, 'user_id' => 11098, 'title' => 'My way file 1', 'type' => 3, 'src_language' => 'en', 'tar_language' => 'hi', 'src_count' => 15, 'tar_count' => 15, 'time_created' => '2017-03-25 03:35:01', 'time_dedline' => '0000-00-00 00:00:00', 'time_last_active' => '2017-03-25 03:30:58', 'old_id' => null, 'visible_status' => 0, 'backup' => 1, 'modified' => '0', 'comments' => null, 'project_number' => '', 'assigned_user_id' => 0, 'dashboard_id' => 0, 'billing_option' => 0, 'website_project' => 0, 'total_matched' => 2, 'total_words' => 124, 'project_percentage' => '2')))) in ElasticquentTrait.php line 313\r\nat Source->addToIndex() in FuzzyController.php line 13\r\nat FuzzyController->index('1470031884', '1')\r\nat call_user_func_array(array(object(FuzzyController), 'index'), array('project' => '1470031884', 'position' => '1')) in Controller.php line 55\r\nat Controller->callAction('index', array('project' => '1470031884', 'position' => '1')) in ControllerDispatcher.php line 44\r\nat ControllerDispatcher->dispatch(object(Route), object(FuzzyController), 'index') in Route.php line 204\r\nat Route->runController() in Route.php line 160\r\nat Route->run() in Router.php line 559\r\nat Router->Illuminate\\Routing\\{closure}(object(Request)) in Pipeline.php line 30\r\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in SubstituteBindings.php line 41\r\nat SubstituteBindings->handle(object(Request), object(Closure)) in Pipeline.php line 148\r\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request)) in Pipeline.php line 53\r\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in VerifyCsrfToken.php line 65\r\nat VerifyCsrfToken->handle(object(Request), object(Closure)) in Pipeline.php line 148\r\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request)) in Pipeline.php line 53\r\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in ShareErrorsFromSession.php line 49\r\nat ShareErrorsFromSession->handle(object(Request), object(Closure)) in Pipeline.php line 148\r\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request)) in Pipeline.php line 53\r\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in StartSession.php line 64\r\nat StartSession->handle(object(Request), object(Closure)) in Pipeline.php line 148\r\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request)) in Pipeline.php line 53\r\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in AddQueuedCookiesToResponse.php line 37\r\nat AddQueuedCookiesToResponse->handle(object(Request), object(Closure)) in Pipeline.php line 148\r\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request)) in Pipeline.php line 53\r\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in EncryptCookies.php line 59\r\nat EncryptCookies->handle(object(Request), object(Closure)) in Pipeline.php line 148\r\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request)) in Pipeline.php line 53\r\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in Pipeline.php line 102\r\nat Pipeline->then(object(Closure)) in Router.php line 561\r\nat Router->runRouteWithinStack(object(Route), object(Request)) in Router.php line 520\r\nat Router->dispatchToRoute(object(Request)) in Router.php line 498\r\nat Router->dispatch(object(Request)) in Kernel.php line 174\r\nat Kernel->Illuminate\\Foundation\\Http\\{closure}(object(Request)) in Pipeline.php line 30\r\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in TransformsRequest.php line 30\r\nat TransformsRequest->handle(object(Request), object(Closure)) in Pipeline.php line 148\r\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request)) in Pipeline.php line 53\r\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in TransformsRequest.php line 30\r\nat TransformsRequest->handle(object(Request), object(Closure)) in Pipeline.php line 148\r\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request)) in Pipeline.php line 53\r\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in ValidatePostSize.php line 27\r\nat ValidatePostSize->handle(object(Request), object(Closure)) in Pipeline.php line 148\r\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request)) in Pipeline.php line 53\r\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in CheckForMaintenanceMode.php line 46\r\nat CheckForMaintenanceMode->handle(object(Request), object(Closure)) in Pipeline.php line 148\r\nat Pipeline->Illuminate\\Pipeline\\{closure}(object(Request)) in Pipeline.php line 53\r\nat Pipeline->Illuminate\\Routing\\{closure}(object(Request)) in Pipeline.php line 102\r\nat Pipeline->then(object(Closure)) in Kernel.php line 149\r\nat Kernel->sendRequestThroughRouter(object(Request)) in Kernel.php line 116\r\nat Kernel->handle(object(Request)) in index.php line 54\r\nat require_once('C:\\\\xampp\\\\htdocs\\\\laravel5\\\\public\\\\index.php') in index.php line 21\r\n\r\nServerErrorResponseException in Connection.php line 657:\r\n{\"error\":{\"root_cause\":[{\"type\":\"index_failed_engine_exception\",\"reason\":\"Index failed for [sources#10475977]\",\"shard\":\"2\",\"index\":\"verbingo\"}],\"type\":\"index_failed_engine_exception\",\"reason\":\"Index failed for [sources#10475977]\",\"shard\":\"2\",\"index\":\"verbingo\",\"caused_by\":{\"type\":\"already_closed_exception\",\"reason\":\"translog is already closed\"}},\"status\":500}\r\nPlease some one help me to through this","closed_by":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"performed_via_github_app":null}