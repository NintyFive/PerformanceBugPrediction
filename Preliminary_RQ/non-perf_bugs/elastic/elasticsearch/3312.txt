{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/3312","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3312/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3312/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3312/events","html_url":"https://github.com/elastic/elasticsearch/issues/3312","id":16592173,"node_id":"MDU6SXNzdWUxNjU5MjE3Mw==","number":3312,"title":"Feature suggestion - dynamic template allowing _parent definition","user":{"login":"rore","id":571498,"node_id":"MDQ6VXNlcjU3MTQ5OA==","avatar_url":"https://avatars2.githubusercontent.com/u/571498?v=4","gravatar_id":"","url":"https://api.github.com/users/rore","html_url":"https://github.com/rore","followers_url":"https://api.github.com/users/rore/followers","following_url":"https://api.github.com/users/rore/following{/other_user}","gists_url":"https://api.github.com/users/rore/gists{/gist_id}","starred_url":"https://api.github.com/users/rore/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rore/subscriptions","organizations_url":"https://api.github.com/users/rore/orgs","repos_url":"https://api.github.com/users/rore/repos","events_url":"https://api.github.com/users/rore/events{/privacy}","received_events_url":"https://api.github.com/users/rore/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2013-07-10T18:17:09Z","updated_at":"2014-07-01T13:44:22Z","closed_at":"2014-07-01T13:44:22Z","author_association":"NONE","active_lock_reason":null,"body":"The use case is this - \n\nI have (rather big) documents that can have many sub-attributes which are updated frequently. These attributes are kept as child documents, with the big document as the parent.\nThe parent document can have arbitrary type, and those types are dynamic and can be created on the fly.\n\nThe child type has a common structure - <parent-type>_attr (so for example for parent \"book\" the child type will be \"book_attr\").\n\nI want to be able to have a template that automatically defines the right parent mapping on the child type. \nSo I need to be able to set a template that uses regex and not wildcard on the name and allows using captures from it in the mapping definition. so it will be something like - \n\n{\n    \"template\" : \"(.*)_attr\",\n    \"settings\" : {\n        \"number_of_shards\" : 1\n    },\n    \"mappings\" : {\n        \"attributes\" : {\n           \"_parent\" : {\n            \"type\" : \"{0}\"\n            }\n        }\n    }\n}\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}