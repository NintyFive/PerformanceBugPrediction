{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/26238","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26238/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26238/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26238/events","html_url":"https://github.com/elastic/elasticsearch/issues/26238","id":250643684,"node_id":"MDU6SXNzdWUyNTA2NDM2ODQ=","number":26238,"title":"Scrolling in ES 5.4","user":{"login":"GaryTurpin","id":4575785,"node_id":"MDQ6VXNlcjQ1NzU3ODU=","avatar_url":"https://avatars3.githubusercontent.com/u/4575785?v=4","gravatar_id":"","url":"https://api.github.com/users/GaryTurpin","html_url":"https://github.com/GaryTurpin","followers_url":"https://api.github.com/users/GaryTurpin/followers","following_url":"https://api.github.com/users/GaryTurpin/following{/other_user}","gists_url":"https://api.github.com/users/GaryTurpin/gists{/gist_id}","starred_url":"https://api.github.com/users/GaryTurpin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GaryTurpin/subscriptions","organizations_url":"https://api.github.com/users/GaryTurpin/orgs","repos_url":"https://api.github.com/users/GaryTurpin/repos","events_url":"https://api.github.com/users/GaryTurpin/events{/privacy}","received_events_url":"https://api.github.com/users/GaryTurpin/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2017-08-16T14:17:56Z","updated_at":"2017-08-18T08:56:23Z","closed_at":"2017-08-18T08:56:23Z","author_association":"NONE","active_lock_reason":null,"body":"**Elasticsearch version** (`bin/elasticsearch --version`):\r\n5.4 \r\nNest 5.4\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\nWe recently upgraded from ES 2.4 to ES 5.4 and everything went great except we noticed that our scrolling times increased in the amount of time that it takes.  We use scan/scroll to pull back about 3 million docs from our index.  In ES 2.4, this would take roughly 40 seconds to get all of the docs.  When we moved to ES 5.4, we are averaging about 240 seconds.  Any ideas why this would be dramatically slower with the similar json (only change was changing the initial query to use search instead of scan)?\r\n\r\n\r\n![image](https://user-images.githubusercontent.com/4575785/29365805-31d5bc7e-8266-11e7-9158-84e8c60a0c05.png)\r\n","closed_by":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"performed_via_github_app":null}