[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/533073330","html_url":"https://github.com/elastic/elasticsearch/issues/46859#issuecomment-533073330","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46859","id":533073330,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzA3MzMzMA==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2019-09-19T10:41:45Z","updated_at":"2019-09-19T10:41:45Z","author_association":"MEMBER","body":"While I understand that it might be unexpected, the range that you provided should match the document. `1fich` is between `1970` and `2017` if we consider them as strings so the fact that it matches is not a bug. We could be less lenient in the range query and throw an error if the provided values are not strings and the target field is a keyword/text but can you explain why you consider that it's an error ?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/533090396","html_url":"https://github.com/elastic/elasticsearch/issues/46859#issuecomment-533090396","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46859","id":533090396,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzA5MDM5Ng==","user":{"login":"PMickael","id":122271,"node_id":"MDQ6VXNlcjEyMjI3MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/122271?v=4","gravatar_id":"","url":"https://api.github.com/users/PMickael","html_url":"https://github.com/PMickael","followers_url":"https://api.github.com/users/PMickael/followers","following_url":"https://api.github.com/users/PMickael/following{/other_user}","gists_url":"https://api.github.com/users/PMickael/gists{/gist_id}","starred_url":"https://api.github.com/users/PMickael/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PMickael/subscriptions","organizations_url":"https://api.github.com/users/PMickael/orgs","repos_url":"https://api.github.com/users/PMickael/repos","events_url":"https://api.github.com/users/PMickael/events{/privacy}","received_events_url":"https://api.github.com/users/PMickael/received_events","type":"User","site_admin":false},"created_at":"2019-09-19T11:35:11Z","updated_at":"2019-09-19T11:38:43Z","author_association":"NONE","body":"Yes, in query_string I'm partially agree, but not with range function which is not supposed to be string based so trigger an error.\r\nAbout query string, what sound like more accurate is when its string based matching, it should match string term of each term in the specified range so 1970..2017 as a string, but yes it's really more complex to implement than just check hex range","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/533182715","html_url":"https://github.com/elastic/elasticsearch/issues/46859#issuecomment-533182715","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46859","id":533182715,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzE4MjcxNQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-09-19T15:23:58Z","updated_at":"2019-09-19T15:23:58Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/533183194","html_url":"https://github.com/elastic/elasticsearch/issues/46859#issuecomment-533183194","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46859","id":533183194,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzE4MzE5NA==","user":{"login":"gwbrown","id":1522844,"node_id":"MDQ6VXNlcjE1MjI4NDQ=","avatar_url":"https://avatars1.githubusercontent.com/u/1522844?v=4","gravatar_id":"","url":"https://api.github.com/users/gwbrown","html_url":"https://github.com/gwbrown","followers_url":"https://api.github.com/users/gwbrown/followers","following_url":"https://api.github.com/users/gwbrown/following{/other_user}","gists_url":"https://api.github.com/users/gwbrown/gists{/gist_id}","starred_url":"https://api.github.com/users/gwbrown/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gwbrown/subscriptions","organizations_url":"https://api.github.com/users/gwbrown/orgs","repos_url":"https://api.github.com/users/gwbrown/repos","events_url":"https://api.github.com/users/gwbrown/events{/privacy}","received_events_url":"https://api.github.com/users/gwbrown/received_events","type":"User","site_admin":false},"created_at":"2019-09-19T15:25:10Z","updated_at":"2019-09-19T15:26:01Z","author_association":"CONTRIBUTOR","body":"The `range` query does and is intended to work on string (`text`/`keyword`) fields, and when it does so, it uses the same logic as sorting by a string field, which is dictionary-like order (i.e. all strings starting with `a` come before all strings starting with `b`, etc., this pattern holds for numbers in string fields as well). This is working as intended if the field is mapped as text, so I'm going to close this issue.   If we can demonstrate that there is in fact a bug, we can reopen this issue.\r\n\r\nIf you have more questions, please post on the [forums](https://discuss.elastic.co/). If you can stop\r\nby there, we'd appreciate it. This allows us to use GitHub for verified\r\nbug reports, feature requests, and pull requests.","performed_via_github_app":null}]