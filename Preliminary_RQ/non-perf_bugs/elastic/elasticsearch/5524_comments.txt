[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/38535526","html_url":"https://github.com/elastic/elasticsearch/issues/5524#issuecomment-38535526","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5524","id":38535526,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTM1NTI2","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2014-03-25T06:52:54Z","updated_at":"2014-03-25T06:52:54Z","author_association":"MEMBER","body":"It could work for site plugins only but not for \"JVM\" plugins.\nAlthough with some recent work around classloading could help to have this working for JVM plugins as well.\n\nAre you looking for site plugins or JVM plugins?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/38536722","html_url":"https://github.com/elastic/elasticsearch/issues/5524#issuecomment-38536722","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5524","id":38536722,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTM2NzIy","user":{"login":"geekpete","id":2070843,"node_id":"MDQ6VXNlcjIwNzA4NDM=","avatar_url":"https://avatars2.githubusercontent.com/u/2070843?v=4","gravatar_id":"","url":"https://api.github.com/users/geekpete","html_url":"https://github.com/geekpete","followers_url":"https://api.github.com/users/geekpete/followers","following_url":"https://api.github.com/users/geekpete/following{/other_user}","gists_url":"https://api.github.com/users/geekpete/gists{/gist_id}","starred_url":"https://api.github.com/users/geekpete/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geekpete/subscriptions","organizations_url":"https://api.github.com/users/geekpete/orgs","repos_url":"https://api.github.com/users/geekpete/repos","events_url":"https://api.github.com/users/geekpete/events{/privacy}","received_events_url":"https://api.github.com/users/geekpete/received_events","type":"User","site_admin":false},"created_at":"2014-03-25T07:21:43Z","updated_at":"2014-03-25T07:23:25Z","author_association":"MEMBER","body":"Yeah this is a custom river plugin, JVM. \n\nSo this is why we need the restart of the node when upgrading a plugin, the class has already been loaded and java can't unload it without a jvm restart? Ok.\n\nSo one way to reduce pain might be to only run these river plugins on non-data nodes that can be restarted without rebalancing shards or to rewrite the functionality as a groovy or other script that uses the groovy plugin that is loaded infrequently, allowing the scripts themselves to be reloaded.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/38628744","html_url":"https://github.com/elastic/elasticsearch/issues/5524#issuecomment-38628744","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5524","id":38628744,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjI4NzQ0","user":{"login":"geekpete","id":2070843,"node_id":"MDQ6VXNlcjIwNzA4NDM=","avatar_url":"https://avatars2.githubusercontent.com/u/2070843?v=4","gravatar_id":"","url":"https://api.github.com/users/geekpete","html_url":"https://github.com/geekpete","followers_url":"https://api.github.com/users/geekpete/followers","following_url":"https://api.github.com/users/geekpete/following{/other_user}","gists_url":"https://api.github.com/users/geekpete/gists{/gist_id}","starred_url":"https://api.github.com/users/geekpete/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geekpete/subscriptions","organizations_url":"https://api.github.com/users/geekpete/orgs","repos_url":"https://api.github.com/users/geekpete/repos","events_url":"https://api.github.com/users/geekpete/events{/privacy}","received_events_url":"https://api.github.com/users/geekpete/received_events","type":"User","site_admin":false},"created_at":"2014-03-25T22:21:33Z","updated_at":"2014-03-25T22:22:03Z","author_association":"MEMBER","body":"Unless we can come up with a generic plugin class that gets loaded once then loads specific plugins inside that generic class, allowing them to be loaded/unloaded without needing to restart the jvm container, then this issue can probably be closed.\n\nUpgrading would be nice for site plugins but probably best to keep the behaviour the same across all plugin types - uninstall/install.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/38659808","html_url":"https://github.com/elastic/elasticsearch/issues/5524#issuecomment-38659808","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5524","id":38659808,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjU5ODA4","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2014-03-26T08:31:54Z","updated_at":"2014-03-26T08:31:54Z","author_association":"MEMBER","body":"I think we will be able to do it when #5261 will be fixed.\nSo may be we should keep this issue opened for now.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/38660414","html_url":"https://github.com/elastic/elasticsearch/issues/5524#issuecomment-38660414","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5524","id":38660414,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjYwNDE0","user":{"login":"costin","id":76245,"node_id":"MDQ6VXNlcjc2MjQ1","avatar_url":"https://avatars3.githubusercontent.com/u/76245?v=4","gravatar_id":"","url":"https://api.github.com/users/costin","html_url":"https://github.com/costin","followers_url":"https://api.github.com/users/costin/followers","following_url":"https://api.github.com/users/costin/following{/other_user}","gists_url":"https://api.github.com/users/costin/gists{/gist_id}","starred_url":"https://api.github.com/users/costin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/costin/subscriptions","organizations_url":"https://api.github.com/users/costin/orgs","repos_url":"https://api.github.com/users/costin/repos","events_url":"https://api.github.com/users/costin/events{/privacy}","received_events_url":"https://api.github.com/users/costin/received_events","type":"User","site_admin":false},"created_at":"2014-03-26T08:42:18Z","updated_at":"2014-03-26T08:42:18Z","author_association":"MEMBER","body":"Hi,\n\nWe have scheduled for 1.2 plugin isolation which could be used to do plugin unloading however it's unlikely that will happen since the plugin contract per-se does not specify unloading. Class unloading is tricky since it works only if all the references to it are removed (can be GC'ed) and depending on the plugin and its usage that can be hard or even impossible.\nFurther more, class unloading works only if its associated state can be somehow removed/discarded - which is another big if.\n\nI'm closing this down for now since it's something we won't get too in the near future without significant code changes and maybe even breakage.\n","performed_via_github_app":null}]