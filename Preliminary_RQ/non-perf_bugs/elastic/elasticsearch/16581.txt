{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/16581","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16581/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16581/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16581/events","html_url":"https://github.com/elastic/elasticsearch/issues/16581","id":132717503,"node_id":"MDU6SXNzdWUxMzI3MTc1MDM=","number":16581,"title":"Indices Recovery Failure after ES upgrade (from 2.1 to 2.2)","user":{"login":"iliasse-hassala","id":11230261,"node_id":"MDQ6VXNlcjExMjMwMjYx","avatar_url":"https://avatars3.githubusercontent.com/u/11230261?v=4","gravatar_id":"","url":"https://api.github.com/users/iliasse-hassala","html_url":"https://github.com/iliasse-hassala","followers_url":"https://api.github.com/users/iliasse-hassala/followers","following_url":"https://api.github.com/users/iliasse-hassala/following{/other_user}","gists_url":"https://api.github.com/users/iliasse-hassala/gists{/gist_id}","starred_url":"https://api.github.com/users/iliasse-hassala/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iliasse-hassala/subscriptions","organizations_url":"https://api.github.com/users/iliasse-hassala/orgs","repos_url":"https://api.github.com/users/iliasse-hassala/repos","events_url":"https://api.github.com/users/iliasse-hassala/events{/privacy}","received_events_url":"https://api.github.com/users/iliasse-hassala/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2016-02-10T14:45:38Z","updated_at":"2016-02-11T09:37:37Z","closed_at":"2016-02-11T09:37:37Z","author_association":"NONE","active_lock_reason":null,"body":"I get the error below after upgrading from ES 2.1 to 2.2. \nWhen i close the related indices (3 among 12) the error disappears but the cluster stucks in red state.\n\nAny help please ?\n\nLogs from Master Node : \n\n[2016-02-10 14:34:16,281][INFO ][gateway                  ] [Node0] recovered [28] indices into cluster_state\n[2016-02-10 14:34:16,924][WARN ][cluster.action.shard     ] [Node0] [patentsample][2] received shard failed for [patentsample][2], node[MJvzZG3GRYWsWQMkwW_iTQ], [P], v[7], s[INITIALIZING], a[id=5Q7BsdFMQ7uw1NLUUtmC4g], unassigned_info[[reason=CLUSTER_RECOVERED], at[2016-02-10T14:34:15.484Z]], indexUUID [NVocWIBeT_OSfX5BzWCbug], message [failed recovery], failure [IndexShardRecoveryException[failed to fetch index version after copying it over]; nested: CorruptIndexException[Hit unexpected exception while reading segment infos (resource=commit(null))]; nested: IllegalArgumentException[Could not load codec 'Lucene54'.  Did you forget to add lucene-backward-codecs.jar?]; nested: IllegalArgumentException[An SPI class of type org.apache.lucene.codecs.Codec with name 'Lucene54' does not exist.  You need to add the corresponding JAR file supporting this SPI to your classpath.  The current classpath supports the following names: [Lucene40, Lucene41, Lucene42, Lucene45, Lucene46, Lucene49, Lucene410, Lucene50, Lucene53]]; ]\n[patentsample][[patentsample][2]] IndexShardRecoveryException[failed to fetch index version after copying it over]; nested: CorruptIndexException[Hit unexpected exception while reading segment infos (resource=commit(null))]; nested: IllegalArgumentException[Could not load codec 'Lucene54'.  Did you forget to add lucene-backward-codecs.jar?]; nested: IllegalArgumentException[An SPI class of type org.apache.lucene.codecs.Codec with name 'Lucene54' does not exist.  You need to add the corresponding JAR file supporting this SPI to your classpath.  The current classpath supports the following names: [Lucene40, Lucene41, Lucene42, Lucene45, Lucene46, Lucene49, Lucene410, Lucene50, Lucene53]];\n        at org.elasticsearch.index.shard.StoreRecoveryService.recoverFromStore(StoreRecoveryService.java:224)\n        at org.elasticsearch.index.shard.StoreRecoveryService.access$100(StoreRecoveryService.java:56)\n        at org.elasticsearch.index.shard.StoreRecoveryService$1.run(StoreRecoveryService.java:129)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\nCaused by: org.apache.lucene.index.CorruptIndexException: Hit unexpected exception while reading segment infos (resource=commit(null))\n        at org.elasticsearch.index.store.Store.readSegmentsInfo(Store.java:170)\n        at org.elasticsearch.index.store.Store.readLastCommittedSegmentsInfo(Store.java:148)\n        at org.elasticsearch.index.shard.StoreRecoveryService.recoverFromStore(StoreRecoveryService.java:199)\n        ... 5 more\nCaused by: java.lang.IllegalArgumentException: Could not load codec 'Lucene54'.  Did you forget to add lucene-backward-codecs.jar?\n        at org.apache.lucene.index.SegmentInfos.readCodec(SegmentInfos.java:481)\n        at org.apache.lucene.index.SegmentInfos.readCommit(SegmentInfos.java:361)\n        at org.apache.lucene.index.SegmentInfos$1.doBody(SegmentInfos.java:493)\n        at org.apache.lucene.index.SegmentInfos$1.doBody(SegmentInfos.java:490)\n        at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:731)\n        at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:683)\n        at org.apache.lucene.index.SegmentInfos.readLatestCommit(SegmentInfos.java:490)\n        at org.elasticsearch.common.lucene.Lucene.readSegmentInfos(Lucene.java:98)\n        at org.elasticsearch.index.store.Store.readSegmentsInfo(Store.java:163)\n        ... 7 more\nCaused by: java.lang.IllegalArgumentException: An SPI class of type org.apache.lucene.codecs.Codec with name 'Lucene54' does not exist.  You need to add the corresponding JAR file supporting this SPI to your classpath.  The current classpath supports the following names: [Lucene40, Lucene41, Lucene42, Lucene45, Lucene46, Lucene49, Lucene410, Lucene50, Lucene53]\n        at org.apache.lucene.util.NamedSPILoader.lookup(NamedSPILoader.java:109)\n        at org.apache.lucene.codecs.Codec.forName(Codec.java:113)\n        at org.apache.lucene.index.SegmentInfos.readCodec(SegmentInfos.java:469)\n        ... 15 more\n[2016-02-10 14:34:16,926][WARN ][cluster.action.shard     ] [Node0] [publicationsample][4] received shard failed for [publicationsample][4], node[MJvzZG3GRYWsWQMkwW_iTQ], [P], v[7], s[INITIALIZING], a[id=YFaIx3-lTcek_bvzrBBgnw], unassigned_info[[reason=CLUSTER_RECOVERED], at[2016-02-10T14:34:15.485Z]], indexUUID [slQCqXWKS5W1nwfux3WD6w], message [failed recovery], failure [IndexShardRecoveryException[failed to fetch index version after copying it over]; nested: CorruptIndexException[Hit unexpected exception while reading segment infos (resource=commit(null))]; nested: IllegalArgumentException[Could not load codec 'Lucene54'.  Did you forget to add lucene-backward-codecs.jar?]; nested: IllegalArgumentException[An SPI class of type org.apache.lucene.codecs.Codec with name 'Lucene54' does not exist.  You need to add the corresponding JAR file supporting this SPI to your classpath.  The current classpath supports the following names: [Lucene40, Lucene41, Lucene42, Lucene45, Lucene46, Lucene49, Lucene410, Lucene50, Lucene53]]; ]\n[publicationsample][[publicationsample][4]] IndexShardRecoveryException[failed to fetch index version after copying it over]; nested: CorruptIndexException[Hit unexpected exception while reading segment infos (resource=commit(null))]; nested: IllegalArgumentException[Could not load codec 'Lucene54'.  Did you forget to add lucene-backward-codecs.jar?]; nested: IllegalArgumentException[An SPI class of type org.apache.lucene.codecs.Codec with name 'Lucene54' does not exist.  You need to add the corresponding JAR file supporting this SPI to your classpath.  The current classpath supports the following names: [Lucene40, Lucene41, Lucene42, Lucene45, Lucene46, Lucene49, Lucene410, Lucene50, Lucene53]];\n        at org.elasticsearch.index.shard.StoreRecoveryService.recoverFromStore(StoreRecoveryService.java:224)\n        at org.elasticsearch.index.shard.StoreRecoveryService.access$100(StoreRecoveryService.java:56)\n        at org.elasticsearch.index.shard.StoreRecoveryService$1.run(StoreRecoveryService.java:129)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\nCaused by: org.apache.lucene.index.CorruptIndexException: Hit unexpected exception while reading segment infos (resource=commit(null))\n        at org.elasticsearch.index.store.Store.readSegmentsInfo(Store.java:170)\n        at org.elasticsearch.index.store.Store.readLastCommittedSegmentsInfo(Store.java:148)\n        at org.elasticsearch.index.shard.StoreRecoveryService.recoverFromStore(StoreRecoveryService.java:199)\n        ... 5 more\nCaused by: java.lang.IllegalArgumentException: Could not load codec 'Lucene54'.  Did you forget to add lucene-backward-codecs.jar?\n        at org.apache.lucene.index.SegmentInfos.readCodec(SegmentInfos.java:481)\n        at org.apache.lucene.index.SegmentInfos.readCommit(SegmentInfos.java:361)\n        at org.apache.lucene.index.SegmentInfos$1.doBody(SegmentInfos.java:493)\n        at org.apache.lucene.index.SegmentInfos$1.doBody(SegmentInfos.java:490)\n        at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:731)\n        at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:683)\n        at org.apache.lucene.index.SegmentInfos.readLatestCommit(SegmentInfos.java:490)\n        at org.elasticsearch.common.lucene.Lucene.readSegmentInfos(Lucene.java:98)\n        at org.elasticsearch.index.store.Store.readSegmentsInfo(Store.java:163)\n        ... 7 more\nCaused by: java.lang.IllegalArgumentException: An SPI class of type org.apache.lucene.codecs.Codec with name 'Lucene54' does not exist.  You need to add the corresponding JAR file supporting this SPI to your classpath.  The current classpath supports the following names: [Lucene40, Lucene41, Lucene42, Lucene45, Lucene46, Lucene49, Lucene410, Lucene50, Lucene53]\n        at org.apache.lucene.util.NamedSPILoader.lookup(NamedSPILoader.java:109)\n        at org.apache.lucene.codecs.Codec.forName(Codec.java:113)\n        at org.apache.lucene.index.SegmentInfos.readCodec(SegmentInfos.java:469)\n        ... 15 more\n[2016-02-10 14:34:17,491][WARN ][cluster.action.shard     ] [Node0] [publicationsample][4] received shard failed for [publicationsample][4], node[MJvzZG3GRYWsWQMkwW_iTQ], [P], v[7], s[INITIALIZING], a[id=YFaIx3-lTcek_bvzrBBgnw], unassigned_info[[reason=CLUSTER_RECOVERED], at[2016-02-10T14:34:15.485Z]], indexUUID [slQCqXWKS5W1nwfux3WD6w], message [master {Node0}{JA-FfaaNSu-YHEmTRWmdKw}{10.150.232.141}{10.150.232.141:9301} marked shard as initializing, but shard is marked as failed, resend shard failure], failure [Unknown]\n[2016-02-10 14:34:17,533][WARN ][cluster.action.shard     ] [Node0] [patentsample][2] received shard failed for [patentsample][2], node[MJvzZG3GRYWsWQMkwW_iTQ], [P], v[7], s[INITIALIZING], a[id=5Q7BsdFMQ7uw1NLUUtmC4g], unassigned_info[[reason=CLUSTER_RECOVERED], at[2016-02-10T14:34:15.484Z]], indexUUID [NVocWIBeT_OSfX5BzWCbug], message [master {Node0}{JA-FfaaNSu-YHEmTRWmdKw}{10.150.232.141}{10.150.232.141:9301} marked shard as initializing, but shard is marked as failed, resend shard failure], failure [Unknown]\n[2016-02-10 14:34:17,585][WARN ][cluster.action.shard     ] [Node0] [publicationsample][1] received shard failed for [publicationsample][1], node[MJvzZG3GRYWsWQMkwW_iTQ], [P], v[7], s[INITIALIZING], a[id=eRGZ06jJRQukGunuw-KR5g], unassigned_info[[reason=CLUSTER_RECOVERED], at[2016-02-10T14:34:15.485Z]], indexUUID [slQCqXWKS5W1nwfux3WD6w], message [failed recovery], failure [IndexShardRecoveryException[failed to fetch index version after copying it over]; nested: CorruptIndexException[Hit unexpected exception while reading segment infos (resource=commit(null))]; nested: IllegalArgumentException[Could not load codec 'Lucene54'.  Did you forget to add lucene-backward-codecs.jar?]; nested: IllegalArgumentException[An SPI class of type org.apache.lucene.codecs.Codec with name 'Lucene54' does not exist.  You need to add the corresponding JAR file supporting this SPI to your classpath.  The current classpath supports the following names: [Lucene40, Lucene41, Lucene42, Lucene45, Lucene46, Lucene49, Lucene410, Lucene50, Lucene53]]; ]\n[publicationsample][[publicationsample][1]] IndexShardRecoveryException[failed to fetch index version after copying it over]; nested: CorruptIndexException[Hit unexpected exception while reading segment infos (resource=commit(null))]; nested: IllegalArgumentException[Could not load codec 'Lucene54'.  Did you forget to add lucene-backward-codecs.jar?]; nested: IllegalArgumentException[An SPI class of type org.apache.lucene.codecs.Codec with name 'Lucene54' does not exist.  You need to add the corresponding JAR file supporting this SPI to your classpath.  The current classpath supports the following names: [Lucene40, Lucene41, Lucene42, Lucene45, Lucene46, Lucene49, Lucene410, Lucene50, Lucene53]];\n        at org.elasticsearch.index.shard.StoreRecoveryService.recoverFromStore(StoreRecoveryService.java:224)\n        at org.elasticsearch.index.shard.StoreRecoveryService.access$100(StoreRecoveryService.java:56)\n        at org.elasticsearch.index.shard.StoreRecoveryService$1.run(StoreRecoveryService.java:129)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\nCaused by: org.apache.lucene.index.CorruptIndexException: Hit unexpected exception while reading segment infos (resource=commit(null))\n        at org.elasticsearch.index.store.Store.readSegmentsInfo(Store.java:170)\n        at org.elasticsearch.index.store.Store.readLastCommittedSegmentsInfo(Store.java:148)\n        at org.elasticsearch.index.shard.StoreRecoveryService.recoverFromStore(StoreRecoveryService.java:199)\n        ... 5 more\nCaused by: java.lang.IllegalArgumentException: Could not load codec 'Lucene54'.  Did you forget to add lucene-backward-codecs.jar?\n        at org.apache.lucene.index.SegmentInfos.readCodec(SegmentInfos.java:481)\n        at org.apache.lucene.index.SegmentInfos.readCommit(SegmentInfos.java:361)\n        at org.apache.lucene.index.SegmentInfos$1.doBody(SegmentInfos.java:493)\n        at org.apache.lucene.index.SegmentInfos$1.doBody(SegmentInfos.java:490)\n        at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:731)\n        at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:683)\n        at org.apache.lucene.index.SegmentInfos.readLatestCommit(SegmentInfos.java:490)\n        at org.elasticsearch.common.lucene.Lucene.readSegmentInfos(Lucene.java:98)\n        at org.elasticsearch.index.store.Store.readSegmentsInfo(Store.java:163)\n        ... 7 more\nCaused by: java.lang.IllegalArgumentException: An SPI class of type org.apache.lucene.codecs.Codec with name 'Lucene54' does not exist.  You need to add the corresponding JAR file supporting this SPI to your classpath.  The current classpath supports the following names: [Lucene40, Lucene41, Lucene42, Lucene45, Lucene46, Lucene49, Lucene410, Lucene50, Lucene53]\n        at org.apache.lucene.util.NamedSPILoader.lookup(NamedSPILoader.java:109)\n        at org.apache.lucene.codecs.Codec.forName(Codec.java:113)\n        at org.apache.lucene.index.SegmentInfos.readCodec(SegmentInfos.java:469)\n        ... 15 more\n[2016-02-10 14:34:17,757][WARN ][cluster.action.shard     ] [Node0] [familysample][0] received shard failed for [familysample][0], node[MJvzZG3GRYWsWQMkwW_iTQ], [P], v[7], s[INITIALIZING], a[id=lQICArHATBSnSm-PU_B4Cg], unassigned_info[[reason=CLUSTER_RECOVERED], at[2016-02-10T14:34:15.484Z]], indexUUID [aeC20SE7TkSeE3iMu3i_Fw], message [failed recovery], failure [IndexShardRecoveryException[failed to fetch index version after copying it over]; nested: CorruptIndexException[Hit unexpected exception while reading segment infos (resource=commit(null))]; nested: IllegalArgumentException[Could not load codec 'Lucene54'.  Did you forget to add lucene-backward-codecs.jar?]; nested: IllegalArgumentException[An SPI class of type org.apache.lucene.codecs.Codec with name 'Lucene54' does not exist.  You need to add the corresponding JAR file supporting this SPI to your classpath.  The current classpath supports the following names: [Lucene40, Lucene41, Lucene42, Lucene45, Lucene46, Lucene49, Lucene410, Lucene50, Lucene53]]; ]\n[familysample][[familysample][0]] IndexShardRecoveryException[failed to fetch index version after copying it over]; nested: CorruptIndexException[Hit unexpected exception while reading segment infos (resource=commit(null))]; nested: IllegalArgumentException[Could not load codec 'Lucene54'.  Did you forget to add lucene-backward-codecs.jar?]; nested: IllegalArgumentException[An SPI class of type org.apache.lucene.codecs.Codec with name 'Lucene54' does not exist.  You need to add the corresponding JAR file supporting this SPI to your classpath.  The current classpath supports the following names: [Lucene40, Lucene41, Lucene42, Lucene45, Lucene46, Lucene49, Lucene410, Lucene50, Lucene53]];\n        at org.elasticsearch.index.shard.StoreRecoveryService.recoverFromStore(StoreRecoveryService.java:224)\n        at org.elasticsearch.index.shard.StoreRecoveryService.access$100(StoreRecoveryService.java:56)\n        at org.elasticsearch.index.shard.StoreRecoveryService$1.run(StoreRecoveryService.java:129)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\nCaused by: org.apache.lucene.index.CorruptIndexException: Hit unexpected exception while reading segment infos (resource=commit(null))\n        at org.elasticsearch.index.store.Store.readSegmentsInfo(Store.java:170)\n        at org.elasticsearch.index.store.Store.readLastCommittedSegmentsInfo(Store.java:148)\n        at org.elasticsearch.index.shard.StoreRecoveryService.recoverFromStore(StoreRecoveryService.java:199)\n        ... 5 more\nCaused by: java.lang.IllegalArgumentException: Could not load codec 'Lucene54'.  Did you forget to add lucene-backward-codecs.jar?\n        at org.apache.lucene.index.SegmentInfos.readCodec(SegmentInfos.java:481)\n        at org.apache.lucene.index.SegmentInfos.readCommit(SegmentInfos.java:361)\n        at org.apache.lucene.index.SegmentInfos$1.doBody(SegmentInfos.java:493)\n        at org.apache.lucene.index.SegmentInfos$1.doBody(SegmentInfos.java:490)\n        at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:731)\n        at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:683)\n        at org.apache.lucene.index.SegmentInfos.readLatestCommit(SegmentInfos.java:490)\n        at org.elasticsearch.common.lucene.Lucene.readSegmentInfos(Lucene.java:98)\n        at org.elasticsearch.index.store.Store.readSegmentsInfo(Store.java:163)\n        ... 7 more\nCaused by: java.lang.IllegalArgumentException: An SPI class of type org.apache.lucene.codecs.Codec with name 'Lucene54' does not exist.  You need to add the corresponding JAR file supporting this SPI to your classpath.  The current classpath supports the following names: [Lucene40, Lucene41, Lucene42, Lucene45, Lucene46, Lucene49, Lucene410, Lucene50, Lucene53]\n        at org.apache.lucene.util.NamedSPILoader.lookup(NamedSPILoader.java:109)\n        at org.apache.lucene.codecs.Codec.forName(Codec.java:113)\n        at org.apache.lucene.index.SegmentInfos.readCodec(SegmentInfos.java:469)\n        ... 15 more\n[2016-02-10 14:34:17,758][WARN ][cluster.action.shard     ] [Node0] [familysample][3] received shard failed for [familysample][3], node[MJvzZG3GRYWsWQMkwW_iTQ], [P], v[7], s[INITIALIZING], a[id=PQq5FgyvR3Kd9_9TLgta0w], unassigned_info[[reason=CLUSTER_RECOVERED], at[2016-02-10T14:34:15.484Z]], indexUUID [aeC20SE7TkSeE3iMu3i_Fw], message [failed recovery], failure [IndexShardRecoveryException[failed to fetch index version after copying it over]; nested: CorruptIndexException[Hit unexpected exception while reading segment infos (resource=commit(null))]; nested: IllegalArgumentException[Could not load codec 'Lucene54'.  Did you forget to add lucene-backward-codecs.jar?]; nested: IllegalArgumentException[An SPI class of type org.apache.lucene.codecs.Codec with name 'Lucene54' does not exist.  You need to add the corresponding JAR file supporting this SPI to your classpath.  The current classpath supports the following names: [Lucene40, Lucene41, Lucene42, Lucene45, Lucene46, Lucene49, Lucene410, Lucene50, Lucene53]]; ]\n[familysample][[familysample][3]] IndexShardRecoveryException[failed to fetch index version after copying it over]; nested: CorruptIndexException[Hit unexpected exception while reading segment infos (resource=commit(null))]; nested: IllegalArgumentException[Could not load codec 'Lucene54'.  Did you forget to add lucene-backward-codecs.jar?]; nested: IllegalArgumentException[An SPI class of type org.apache.lucene.codecs.Codec with name 'Lucene54' does not exist.  You need to add the corresponding JAR file supporting this SPI to your classpath.  The current classpath supports the following names: [Lucene40, Lucene41, Lucene42, Lucene45, Lucene46, Lucene49, Lucene410, Lucene50, Lucene53]];\n        at org.elasticsearch.index.shard.StoreRecoveryService.recoverFromStore(StoreRecoveryService.java:224)\n        at org.elasticsearch.index.shard.StoreRecoveryService.access$100(StoreRecoveryService.java:56)\n        at org.elasticsearch.index.shard.StoreRecoveryService$1.run(StoreRecoveryService.java:129)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\nCaused by: org.apache.lucene.index.CorruptIndexException: Hit unexpected exception while reading segment infos (resource=commit(null))\n        at org.elasticsearch.index.store.Store.readSegmentsInfo(Store.java:170)\n        at org.elasticsearch.index.store.Store.readLastCommittedSegmentsInfo(Store.java:148)\n        at org.elasticsearch.index.shard.StoreRecoveryService.recoverFromStore(StoreRecoveryService.java:199)\n        ... 5 more\nCaused by: java.lang.IllegalArgumentException: Could not load codec 'Lucene54'.  Did you forget to add lucene-backward-codecs.jar?\n        at org.apache.lucene.index.SegmentInfos.readCodec(SegmentInfos.java:481)\n        at org.apache.lucene.index.SegmentInfos.readCommit(SegmentInfos.java:361)\n        at org.apache.lucene.index.SegmentInfos$1.doBody(SegmentInfos.java:493)\n        at org.apache.lucene.index.SegmentInfos$1.doBody(SegmentInfos.java:490)\n        at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:731)\n        at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:683)\n        at org.apache.lucene.index.SegmentInfos.readLatestCommit(SegmentInfos.java:490)\n        at org.elasticsearch.common.lucene.Lucene.readSegmentInfos(Lucene.java:98)\n        at org.elasticsearch.index.store.Store.readSegmentsInfo(Store.java:163)\n        ... 7 more\nCaused by: java.lang.IllegalArgumentException: An SPI class of type org.apache.lucene.codecs.Codec with name 'Lucene54' does not exist.  You need to add the corresponding JAR file supporting this SPI to your classpath.  The current classpath supports the following names: [Lucene40, Lucene41, Lucene42, Lucene45, Lucene46, Lucene49, Lucene410, Lucene50, Lucene53]\n        at org.apache.lucene.util.NamedSPILoader.lookup(NamedSPILoader.java:109)\n        at org.apache.lucene.codecs.Codec.forName(Codec.java:113)\n        at org.apache.lucene.index.SegmentInfos.readCodec(SegmentInfos.java:469)\n        ... 15 more\n[2016-02-10 14:34:17,780][WARN ][cluster.action.shard     ] [Node0] [familysample][3] received shard failed for [familysample][3], node[MJvzZG3GRYWsWQMkwW_iTQ], [P], v[7], s[INITIALIZING], a[id=PQq5FgyvR3Kd9_9TLgta0w], unassigned_info[[reason=CLUSTER_RECOVERED], at[2016-02-10T14:34:15.484Z]], indexUUID [aeC20SE7TkSeE3iMu3i_Fw], message [master {Node0}{JA-FfaaNSu-YHEmTRWmdKw}{10.150.232.141}{10.150.232.141:9301} marked shard as initializing, but shard is marked as failed, resend shard failure], failure [Unknown]\n[2016-02-10 14:34:17,780][WARN ][cluster.action.shard     ] [Node0] [familysample][0] received shard failed for [familysample][0], node[MJvzZG3GRYWsWQMkwW_iTQ], [P], v[7], s[INITIALIZING], a[id=lQICArHATBSnSm-PU_B4Cg], unassigned_info[[reason=CLUSTER_RECOVERED], at[2016-02-10T14:34:15.484Z]], indexUUID [aeC20SE7TkSeE3iMu3i_Fw], message [master {Node0}{JA-FfaaNSu-YHEmTRWmdKw}{10.150.232.141}{10.150.232.141:9301} marked shard as initializing, but shard is marked as failed, resend shard failure], failure [Unknown]\n[2016-02-10 14:34:19,159][INFO ][cluster.service          ] [Node0] added {{Node2}{XS3GAcc1QJ2PiqINJ0vmWw}{10.150.232.143}{10.150.232.143:9300},}, reason: zen-disco-join(join from node[{Node2}{XS3GAcc1QJ2PiqINJ0vmWw}{10.150.232.143}{10.150.232.143:9300}])\n","closed_by":{"login":"iliasse-hassala","id":11230261,"node_id":"MDQ6VXNlcjExMjMwMjYx","avatar_url":"https://avatars3.githubusercontent.com/u/11230261?v=4","gravatar_id":"","url":"https://api.github.com/users/iliasse-hassala","html_url":"https://github.com/iliasse-hassala","followers_url":"https://api.github.com/users/iliasse-hassala/followers","following_url":"https://api.github.com/users/iliasse-hassala/following{/other_user}","gists_url":"https://api.github.com/users/iliasse-hassala/gists{/gist_id}","starred_url":"https://api.github.com/users/iliasse-hassala/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iliasse-hassala/subscriptions","organizations_url":"https://api.github.com/users/iliasse-hassala/orgs","repos_url":"https://api.github.com/users/iliasse-hassala/repos","events_url":"https://api.github.com/users/iliasse-hassala/events{/privacy}","received_events_url":"https://api.github.com/users/iliasse-hassala/received_events","type":"User","site_admin":false},"performed_via_github_app":null}