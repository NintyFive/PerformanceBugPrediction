[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/2758194","html_url":"https://github.com/elastic/elasticsearch/issues/1472#issuecomment-2758194","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1472","id":2758194,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTgxOTQ=","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2011-11-16T10:54:44Z","updated_at":"2011-11-16T10:54:44Z","author_association":"CONTRIBUTOR","body":"@ianAndrewClark so with your change, the update would happen, or it would be ignored?\n\nIf the former, then you could just not send version numbers.\nIf the latter, then I'm not sure this would be correct, because you've missed a change that possibly should be applied.\n\nPerhaps I'm missing something?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/2758301","html_url":"https://github.com/elastic/elasticsearch/issues/1472#issuecomment-2758301","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1472","id":2758301,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTgzMDE=","user":{"login":"tallpsmith","id":203682,"node_id":"MDQ6VXNlcjIwMzY4Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/203682?v=4","gravatar_id":"","url":"https://api.github.com/users/tallpsmith","html_url":"https://github.com/tallpsmith","followers_url":"https://api.github.com/users/tallpsmith/followers","following_url":"https://api.github.com/users/tallpsmith/following{/other_user}","gists_url":"https://api.github.com/users/tallpsmith/gists{/gist_id}","starred_url":"https://api.github.com/users/tallpsmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tallpsmith/subscriptions","organizations_url":"https://api.github.com/users/tallpsmith/orgs","repos_url":"https://api.github.com/users/tallpsmith/repos","events_url":"https://api.github.com/users/tallpsmith/events{/privacy}","received_events_url":"https://api.github.com/users/tallpsmith/received_events","type":"User","site_admin":false},"created_at":"2011-11-16T11:10:32Z","updated_at":"2011-11-16T11:10:32Z","author_association":"NONE","body":"I have to say this is prescient because we had to work around this in a case where we had a an application incrementally updating an index and another process rebuilding large chunks of the index.  The latter hits the DB to get all the results to index, and at that point it grabs the Version property (a lastupdated timestamp is our version), by the time the indexing process gets around to send a particular record, the timestamp/version value may have been changed, but the bulk indexing scrolling through a large result set still has the stale copy of the version.\n\nWe ended up catching the exception in this case and ignoring it, because in this use case the latest version IS already in the index and the bulk indexers copy of the state is stale and can be safely ignored.  \n\nJust like we have this putIfAbsent behaviour with this versioning, it would be nice to have a putIfNewer behavior.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/2758552","html_url":"https://github.com/elastic/elasticsearch/issues/1472#issuecomment-2758552","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1472","id":2758552,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTg1NTI=","user":{"login":"ianAndrewClark","id":126372,"node_id":"MDQ6VXNlcjEyNjM3Mg==","avatar_url":"https://avatars1.githubusercontent.com/u/126372?v=4","gravatar_id":"","url":"https://api.github.com/users/ianAndrewClark","html_url":"https://github.com/ianAndrewClark","followers_url":"https://api.github.com/users/ianAndrewClark/followers","following_url":"https://api.github.com/users/ianAndrewClark/following{/other_user}","gists_url":"https://api.github.com/users/ianAndrewClark/gists{/gist_id}","starred_url":"https://api.github.com/users/ianAndrewClark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ianAndrewClark/subscriptions","organizations_url":"https://api.github.com/users/ianAndrewClark/orgs","repos_url":"https://api.github.com/users/ianAndrewClark/repos","events_url":"https://api.github.com/users/ianAndrewClark/events{/privacy}","received_events_url":"https://api.github.com/users/ianAndrewClark/received_events","type":"User","site_admin":false},"created_at":"2011-11-16T11:46:06Z","updated_at":"2011-11-16T11:46:06Z","author_association":"NONE","body":"@clintongormley as discussed on irc, the latter it would ignore the change and the response would be just like the ok response but the version number would be the latest index version.\n\nsee this gist/script:- https://gist.github.com/1369898\n\nI could wrap this error in my wrapping service, but in the case of bulk operations I'm trying to avoid parsing the response.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/49407891","html_url":"https://github.com/elastic/elasticsearch/issues/1472#issuecomment-49407891","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1472","id":49407891,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDA3ODkx","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-07-18T08:37:34Z","updated_at":"2014-07-18T08:37:34Z","author_association":"CONTRIBUTOR","body":"After discussion, we've decided that this is something that should be handled client side.  The client can simply ignore the conflict errors.  Also, the exception includes the latest version number.\n","performed_via_github_app":null}]