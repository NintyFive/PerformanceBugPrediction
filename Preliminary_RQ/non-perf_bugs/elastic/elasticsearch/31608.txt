{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/31608","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31608/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31608/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31608/events","html_url":"https://github.com/elastic/elasticsearch/issues/31608","id":336196883,"node_id":"MDU6SXNzdWUzMzYxOTY4ODM=","number":31608,"title":"Make possible to enforce path-style access method to buckets in S3 client settings","user":{"login":"akolosov-a","id":32123373,"node_id":"MDQ6VXNlcjMyMTIzMzcz","avatar_url":"https://avatars3.githubusercontent.com/u/32123373?v=4","gravatar_id":"","url":"https://api.github.com/users/akolosov-a","html_url":"https://github.com/akolosov-a","followers_url":"https://api.github.com/users/akolosov-a/followers","following_url":"https://api.github.com/users/akolosov-a/following{/other_user}","gists_url":"https://api.github.com/users/akolosov-a/gists{/gist_id}","starred_url":"https://api.github.com/users/akolosov-a/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akolosov-a/subscriptions","organizations_url":"https://api.github.com/users/akolosov-a/orgs","repos_url":"https://api.github.com/users/akolosov-a/repos","events_url":"https://api.github.com/users/akolosov-a/events{/privacy}","received_events_url":"https://api.github.com/users/akolosov-a/received_events","type":"User","site_admin":false},"labels":[{"id":143077482,"node_id":"MDU6TGFiZWwxNDMwNzc0ODI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Snapshot/Restore","name":":Distributed/Snapshot/Restore","color":"0e8a16","default":false,"description":"Anything directly related to the `_snapshot/*` APIs"},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"assignees":[{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false}],"milestone":null,"comments":5,"created_at":"2018-06-27T11:53:52Z","updated_at":"2018-11-09T04:07:27Z","closed_at":"2018-11-09T04:07:27Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\r\n\r\nWe use [Minio](https://www.minio.io/) as an ES snapshots repository and it would be easier if it was possible to control the method (DNS- or Path-style) used by AWS S3 client inside the repository-S3 plugin to access the buckets. \r\n\r\nThe ES repository-S3 plugin doesn't specify pathStyle setting when instantiates the AWS S3 client, so the client auto-detects that DNS-style access method should be used. Minio supports DNS-style access method, but in our case it's impossible to maintain DNS-entries for the buckets. \r\n\r\nThe solution proposed in #30752 to use IP-address as an endpoint doesn't suit us too for number of reasons (at least it's not an appropriate solution when Minio is clustered).\r\n\r\nThe lacking setting actually already existed, but was deprecated by #24143 and removed by #24445 during the reorganisation of repository/client settings.","closed_by":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"performed_via_github_app":null}