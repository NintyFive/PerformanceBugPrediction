{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/23858","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23858/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23858/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23858/events","html_url":"https://github.com/elastic/elasticsearch/issues/23858","id":218606958,"node_id":"MDU6SXNzdWUyMTg2MDY5NTg=","number":23858,"title":"Automatic Source Filtering from Filter Path","user":{"login":"pickypg","id":1501235,"node_id":"MDQ6VXNlcjE1MDEyMzU=","avatar_url":"https://avatars2.githubusercontent.com/u/1501235?v=4","gravatar_id":"","url":"https://api.github.com/users/pickypg","html_url":"https://github.com/pickypg","followers_url":"https://api.github.com/users/pickypg/followers","following_url":"https://api.github.com/users/pickypg/following{/other_user}","gists_url":"https://api.github.com/users/pickypg/gists{/gist_id}","starred_url":"https://api.github.com/users/pickypg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pickypg/subscriptions","organizations_url":"https://api.github.com/users/pickypg/orgs","repos_url":"https://api.github.com/users/pickypg/repos","events_url":"https://api.github.com/users/pickypg/events{/privacy}","received_events_url":"https://api.github.com/users/pickypg/received_events","type":"User","site_admin":false},"labels":[{"id":146832564,"node_id":"MDU6TGFiZWwxNDY4MzI1NjQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Search","name":":Search/Search","color":"0e8a16","default":false,"description":"Search-related issues that do not fall into other categories"},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-03-31T20:20:21Z","updated_at":"2018-06-21T20:16:02Z","closed_at":"2018-06-21T20:16:02Z","author_association":"MEMBER","active_lock_reason":null,"body":"I have recently found myself using `filter_path` a lot from REST API calls, which is incredibly useful for reducing the response size, not to mention making it easier to figure out what you actually want from it.\r\n\r\nThis got me thinking that it would be incredibly convenient to automatically add `_source` filtering when it's not explicitly done, to help to reduce bandwidth between nodes during the fetch phase.\r\n\r\nThe natural caveat is that it adds a little more work to the data nodes, so it would have to be benchmarked. However, it should be rather trivial to implement because the check is a matter of: `hits.hits._source.*` -> source filtering (plus the few special cases, like `hits.hits._id`). It would similarly be useful to avoid the fetch phase if the filter path doesn't even want `hits.hits` (versus `hits.total` or `aggregations.*`).","closed_by":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"performed_via_github_app":null}