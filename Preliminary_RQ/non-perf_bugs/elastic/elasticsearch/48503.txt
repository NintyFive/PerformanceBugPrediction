{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/48503","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48503/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48503/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48503/events","html_url":"https://github.com/elastic/elasticsearch/issues/48503","id":512345229,"node_id":"MDU6SXNzdWU1MTIzNDUyMjk=","number":48503,"title":"Support `search_type` in Rank Evaluation API","user":{"login":"mekanixdk","id":3603444,"node_id":"MDQ6VXNlcjM2MDM0NDQ=","avatar_url":"https://avatars3.githubusercontent.com/u/3603444?v=4","gravatar_id":"","url":"https://api.github.com/users/mekanixdk","html_url":"https://github.com/mekanixdk","followers_url":"https://api.github.com/users/mekanixdk/followers","following_url":"https://api.github.com/users/mekanixdk/following{/other_user}","gists_url":"https://api.github.com/users/mekanixdk/gists{/gist_id}","starred_url":"https://api.github.com/users/mekanixdk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mekanixdk/subscriptions","organizations_url":"https://api.github.com/users/mekanixdk/orgs","repos_url":"https://api.github.com/users/mekanixdk/repos","events_url":"https://api.github.com/users/mekanixdk/events{/privacy}","received_events_url":"https://api.github.com/users/mekanixdk/received_events","type":"User","site_admin":false},"labels":[{"id":418189364,"node_id":"MDU6TGFiZWw0MTgxODkzNjQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Ranking","name":":Search/Ranking","color":"0e8a16","default":false,"description":"Scoring, rescoring, rank evaluation."},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"assignees":[{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2019-10-25T07:13:56Z","updated_at":"2019-10-29T12:26:41Z","closed_at":"2019-10-29T12:26:41Z","author_association":"NONE","active_lock_reason":null,"body":"<!--\r\n\r\n** Please read the guidelines below. **\r\n\r\nIssues that do not follow these guidelines are likely to be closed.\r\n\r\n1.  GitHub is reserved for bug reports and feature requests. The best place to\r\n    ask a general question is at the Elastic [forums](https://discuss.elastic.co).\r\n    GitHub is not the place for general questions.\r\n\r\n2.  Is this bug report or feature request for a supported OS? If not, it\r\n    is likely to be closed.  See https://www.elastic.co/support/matrix#show_os\r\n\r\n3.  Please fill out EITHER the feature request block or the bug report block\r\n    below, and delete the other block.\r\n\r\n-->\r\n\r\n<!-- Feature request -->\r\n\r\nThe Rank Evaluation API could benefit from adding support for the `search_type` query string parameters.\r\n\r\nI have a (small) set of identical documents that would score equally when using `search_type=dfs_query_then_fetch` but be \"very\" different when not. \r\n\r\nThis could impact the ranking and therefore the metric score as well. So when comparing different approaches to queries / analyzers it is hard to tell whether the differences in metric scores is caused by the different approaches or where the documents are stored.\r\n\r\nOne workaround is to ensure there is only 1 node, 1 shard and 0 replicas in your test setup.\r\n","closed_by":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"performed_via_github_app":null}