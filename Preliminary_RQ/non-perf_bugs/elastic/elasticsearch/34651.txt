{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/34651","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34651/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34651/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34651/events","html_url":"https://github.com/elastic/elasticsearch/issues/34651","id":372036611,"node_id":"MDU6SXNzdWUzNzIwMzY2MTE=","number":34651,"title":"Improve rest-api-spec test runner to disallow malformatted request definitions","user":{"login":"estolfo","id":699369,"node_id":"MDQ6VXNlcjY5OTM2OQ==","avatar_url":"https://avatars1.githubusercontent.com/u/699369?v=4","gravatar_id":"","url":"https://api.github.com/users/estolfo","html_url":"https://github.com/estolfo","followers_url":"https://api.github.com/users/estolfo/followers","following_url":"https://api.github.com/users/estolfo/following{/other_user}","gists_url":"https://api.github.com/users/estolfo/gists{/gist_id}","starred_url":"https://api.github.com/users/estolfo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/estolfo/subscriptions","organizations_url":"https://api.github.com/users/estolfo/orgs","repos_url":"https://api.github.com/users/estolfo/repos","events_url":"https://api.github.com/users/estolfo/events{/privacy}","received_events_url":"https://api.github.com/users/estolfo/received_events","type":"User","site_admin":false},"labels":[{"id":106454670,"node_id":"MDU6TGFiZWwxMDY0NTQ2NzA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Build","name":":Delivery/Build","color":"0e8a16","default":false,"description":"Build or test infrastructure"},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-10-19T16:52:25Z","updated_at":"2020-11-11T21:50:17Z","closed_at":"2018-10-24T19:27:07Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"The Elasticsearch rest-api-spec test runner should be made stricter to disallow malformatted requests.\r\n\r\nFor example, as you can see in [this pull request](https://github.com/elastic/elasticsearch/pull/34551/files#diff-65abd4595af7c8898f476830713a77cbR70), the parameters defined for the `msearch` request were not properly placed under the request name key (`msearch`). They were instead sister keys to the request name.\r\n\r\nI opened the pull request because the Ruby client was throwing an error when parsing this spec.\r\n\r\nPerhaps the parameters defined in this test do not have an effect on the response and the test runner just looks for a key that maps to an api endpoint, skipping other keys that are at the same level as the request name.\r\n","closed_by":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"performed_via_github_app":null}