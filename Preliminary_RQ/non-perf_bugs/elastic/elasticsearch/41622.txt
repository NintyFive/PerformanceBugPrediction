{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/41622","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41622/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41622/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41622/events","html_url":"https://github.com/elastic/elasticsearch/issues/41622","id":438038072,"node_id":"MDU6SXNzdWU0MzgwMzgwNzI=","number":41622,"title":"Could not find required attribute 'readonlyrest' in file","user":{"login":"Happyfeet01","id":3295104,"node_id":"MDQ6VXNlcjMyOTUxMDQ=","avatar_url":"https://avatars0.githubusercontent.com/u/3295104?v=4","gravatar_id":"","url":"https://api.github.com/users/Happyfeet01","html_url":"https://github.com/Happyfeet01","followers_url":"https://api.github.com/users/Happyfeet01/followers","following_url":"https://api.github.com/users/Happyfeet01/following{/other_user}","gists_url":"https://api.github.com/users/Happyfeet01/gists{/gist_id}","starred_url":"https://api.github.com/users/Happyfeet01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Happyfeet01/subscriptions","organizations_url":"https://api.github.com/users/Happyfeet01/orgs","repos_url":"https://api.github.com/users/Happyfeet01/repos","events_url":"https://api.github.com/users/Happyfeet01/events{/privacy}","received_events_url":"https://api.github.com/users/Happyfeet01/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-04-28T09:53:34Z","updated_at":"2019-04-28T10:17:08Z","closed_at":"2019-04-28T10:17:08Z","author_association":"NONE","active_lock_reason":null,"body":"\r\n\r\n<!-- Bug report -->\r\n\r\n**Elasticsearch version** (`bin/elasticsearch --version`):\r\nOpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\r\nVersion: 7.0.0, Build: default/deb/b7e28a7/2019-04-05T22:55:32.697037Z, JVM: 12\r\n\r\n**Plugins installed**: []\r\nreadonlyrest-7.0.0\r\ningest-attachment\r\n\r\n**JVM version** (`java -version`):\r\nopenjdk version \"1.8.0_191\"\r\nOpenJDK Runtime Environment (build 1.8.0_191-8u191-b12-2ubuntu0.18.04.1-b12)\r\nOpenJDK 64-Bit Server VM (build 25.191-b12, mixed mode)\r\n**OS version** (`uname -a` if on a Unix-like system):\r\nlinux 4.15.0-48-generic #51-Ubuntu SMP Wed Apr 3 08:28:49 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux\r\n**Description of the problem including expected versus actual behavior**:\r\n\r\nwhen i add an readonlyrest file with content, i get this error and Elasticsearch won´t start.\r\n\r\n\r\n**Steps to reproduce**:\r\n\r\n\r\n\r\nPlease include a *minimal* but *complete* recreation of the problem, including\r\n(e.g.) index creation, mappings, settings, query etc.  The easier you make for\r\nus to reproduce it, the more likely that somebody will take the time to look at it.\r\n\r\n \r\n\r\n1.     sudo apt-get install openjdk-8-jre\r\n2.     curl -L -O https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.0.0.deb\r\n3.     sudo dpkg -i elasticsearch-7.0.0.deb\r\n4.     sudo /etc/init.d/elasticsearch start\r\n5.     cd /usr/share/elasticsearch\r\n6.    bin/elasticsearch-plugin install file:///<download_path>/readonlyrest-7.0.0.zip\r\n7.    vim /etc/elasticsearch/readonlyrest.yml\r\n      with this Content:\r\n   `readonlyrest:\r\n access_control_rules:\r\n\r\n  name: Accept requests from cloud1 on my_index\r\n  groups: [„cloud1“]\r\n  indices: [„my_index“]\r\n\r\n users:\r\n\r\n  username: netzcloud\r\n  auth_key: netzcloud:aer/ie1Quoo1\r\n  groups: [„cloud1“]`\r\n\r\n8.    service elasticsearch restart (then is starts but shutdown directly with this error)\r\nWithout the readonlyrest file it works. But it need this Setup.\r\n**Provide logs (if relevant)**:\r\n\r\nElasticsearch logfile:\r\n\r\n`elasticsearch[7495]: SLF4J: Failed to load class \"org.slf4j.impl.StaticLoggerBinder\".\r\n elasticsearch[7495]: SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n elasticsearch[7495]: SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n elasticsearch[7495]: tech.beshu.ror.settings.SettingsMalformedException: Could not find required attribute 'readonlyrest' in file pidfile:/var/run/elasticsearch/elasticsearch.pid,client:{type=node},cluster:{name=elasticsearch},node:{name=domain.tld},path:{data=[/var/lib/elasticsearch], logs=/var/log/elasticsearch, home=/usr/share/elasticsearch},network:{host=127.0.0.1}`\r\n","closed_by":{"login":"Happyfeet01","id":3295104,"node_id":"MDQ6VXNlcjMyOTUxMDQ=","avatar_url":"https://avatars0.githubusercontent.com/u/3295104?v=4","gravatar_id":"","url":"https://api.github.com/users/Happyfeet01","html_url":"https://github.com/Happyfeet01","followers_url":"https://api.github.com/users/Happyfeet01/followers","following_url":"https://api.github.com/users/Happyfeet01/following{/other_user}","gists_url":"https://api.github.com/users/Happyfeet01/gists{/gist_id}","starred_url":"https://api.github.com/users/Happyfeet01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Happyfeet01/subscriptions","organizations_url":"https://api.github.com/users/Happyfeet01/orgs","repos_url":"https://api.github.com/users/Happyfeet01/repos","events_url":"https://api.github.com/users/Happyfeet01/events{/privacy}","received_events_url":"https://api.github.com/users/Happyfeet01/received_events","type":"User","site_admin":false},"performed_via_github_app":null}