{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/51060","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51060/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51060/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51060/events","html_url":"https://github.com/elastic/elasticsearch/issues/51060","id":550337636,"node_id":"MDU6SXNzdWU1NTAzMzc2MzY=","number":51060,"title":"Elasticsearch version 6.8.6 oss unable to start","user":{"login":"nnbrandon","id":12700313,"node_id":"MDQ6VXNlcjEyNzAwMzEz","avatar_url":"https://avatars3.githubusercontent.com/u/12700313?v=4","gravatar_id":"","url":"https://api.github.com/users/nnbrandon","html_url":"https://github.com/nnbrandon","followers_url":"https://api.github.com/users/nnbrandon/followers","following_url":"https://api.github.com/users/nnbrandon/following{/other_user}","gists_url":"https://api.github.com/users/nnbrandon/gists{/gist_id}","starred_url":"https://api.github.com/users/nnbrandon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nnbrandon/subscriptions","organizations_url":"https://api.github.com/users/nnbrandon/orgs","repos_url":"https://api.github.com/users/nnbrandon/repos","events_url":"https://api.github.com/users/nnbrandon/events{/privacy}","received_events_url":"https://api.github.com/users/nnbrandon/received_events","type":"User","site_admin":false},"labels":[{"id":1315850572,"node_id":"MDU6TGFiZWwxMzE1ODUwNTcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Reindex","name":":Distributed/Reindex","color":"0e8a16","default":false,"description":"Issues relating to reindex that are not caused by issues further down"},{"id":912838655,"node_id":"MDU6TGFiZWw5MTI4Mzg2NTU=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Security/Network","name":":Security/Network","color":"0e8a16","default":false,"description":"SSL/TLS, Security for NIO/Netty"}],"state":"closed","locked":false,"assignee":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"assignees":[{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false}],"milestone":null,"comments":11,"created_at":"2020-01-15T17:49:57Z","updated_at":"2020-01-17T17:34:11Z","closed_at":"2020-01-17T17:34:11Z","author_association":"NONE","active_lock_reason":null,"body":"<!-- Bug report -->\r\n\r\n**Elasticsearch version** (`bin/elasticsearch --version`): Version: 6.8.6, Build: oss/rpm/3d9f765/2019-12-13T17:11:52.013738Z, JVM: 1.8.0_181\r\n\r\n**Plugins installed**: []\r\n\r\n**JVM version** (`java -version`): \r\nopenjdk version \"1.8.0_181\"\r\nOpenJDK Runtime Environment (build 1.8.0_181-b13)\r\nOpenJDK 64-Bit Server VM (build 25.181-b13, mixed mode)\r\n\r\n\r\n**OS version** (`uname -a` if on a Unix-like system): Linux\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\nHi all,\r\n\r\nI am trying to do a fresh install of elasticsearch-oss-6.8.6 with OpenJDK version 1.8.0_181. An elasticsearch-oss-6.5 was able to successfully install before but I am receiving errors related to the keystore and trust manager. There were no issues related to the trust manager and keystore before. It seems like for some reason, elasticsearch is trying to do SSL configurations but we never specified it. There is no SSL options or configurations in the elasticsearch.yml file.\r\n\r\n**Steps to reproduce**:\r\n 1. Download the https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-oss-6.8.6.rpm\r\n 2. I had to rebuild the rpm file with \"Requires: java-1.8.0-openjdk\"\r\n 3. Build and install elasticsearch\r\n\r\n**Provide logs (if relevant)**:\r\n```[2020-01-13T19:11:26,760][INFO ][o.e.p.PluginsService     ] [xSBU6-2] no plugins loaded\r\n[2020-01-13T19:11:29,780][ERROR][o.e.b.Bootstrap          ] [xSBU6-2] Exception\r\norg.elasticsearch.common.ssl.SslConfigException: failed to initialize a TrustManager for the system keystore\r\n\tat org.elasticsearch.common.ssl.DefaultJdkTrustConfig.createTrustManager(DefaultJdkTrustConfig.java:70) ~[?:?]\r\n\tat org.elasticsearch.common.ssl.SslConfiguration.createSslContext(SslConfiguration.java:109) ~[?:?]\r\n\tat org.elasticsearch.index.reindex.ReindexSslConfig.reload(ReindexSslConfig.java:145) ~[?:?]\r\n\tat org.elasticsearch.index.reindex.ReindexSslConfig.<init>(ReindexSslConfig.java:115) ~[?:?]\r\n\tat org.elasticsearch.index.reindex.ReindexPlugin.createComponents(ReindexPlugin.java:88) ~[?:?]\r\n\tat org.elasticsearch.node.Node.lambda$new$11(Node.java:472) ~[elasticsearch-6.8.6.jar:6.8.6]\r\n\tat java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:267) ~[?:1.8.0_181]\r\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[?:1.8.0_181]\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[?:1.8.0_181]\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[?:1.8.0_181]\r\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708) ~[?:1.8.0_181]\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:1.8.0_181]\r\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499) ~[?:1.8.0_181]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:475) ~[elasticsearch-6.8.6.jar:6.8.6]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:266) ~[elasticsearch-6.8.6.jar:6.8.6]\r\n\tat org.elasticsearch.bootstrap.Bootstrap$5.<init>(Bootstrap.java:212) ~[elasticsearch-6.8.6.jar:6.8.6]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:212) ~[elasticsearch-6.8.6.jar:6.8.6]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:333) [elasticsearch-6.8.6.jar:6.8.6]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:159) [elasticsearch-6.8.6.jar:6.8.6]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:150) [elasticsearch-6.8.6.jar:6.8.6]\r\n\tat org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) [elasticsearch-6.8.6.jar:6.8.6]\r\n\tat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124) [elasticsearch-cli-6.8.6.jar:6.8.6]\r\n\tat org.elasticsearch.cli.Command.main(Command.java:90) [elasticsearch-cli-6.8.6.jar:6.8.6]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:116) [elasticsearch-6.8.6.jar:6.8.6]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:93) [elasticsearch-6.8.6.jar:6.8.6]\r\nCaused by: java.security.KeyStoreException: problem accessing trust storejava.io.IOException: Invalid keystore format\r\n\tat sun.security.ssl.TrustManagerFactoryImpl.engineInit(TrustManagerFactoryImpl.java:74) ~[?:?]\r\n\tat javax.net.ssl.TrustManagerFactory.init(TrustManagerFactory.java:250) ~[?:1.8.0_181]\r\n\tat org.elasticsearch.common.ssl.KeyStoreUtil.createTrustManager(KeyStoreUtil.java:151) ~[?:?]\r\n\tat org.elasticsearch.common.ssl.DefaultJdkTrustConfig.createTrustManager(DefaultJdkTrustConfig.java:68) ~[?:?]\r\n\t... 24 more\r\n```\r\n\r\nLog File: \r\n[elasticsearch.log](https://github.com/elastic/elasticsearch/files/4066433/elasticsearch.log)\r\n","closed_by":{"login":"nnbrandon","id":12700313,"node_id":"MDQ6VXNlcjEyNzAwMzEz","avatar_url":"https://avatars3.githubusercontent.com/u/12700313?v=4","gravatar_id":"","url":"https://api.github.com/users/nnbrandon","html_url":"https://github.com/nnbrandon","followers_url":"https://api.github.com/users/nnbrandon/followers","following_url":"https://api.github.com/users/nnbrandon/following{/other_user}","gists_url":"https://api.github.com/users/nnbrandon/gists{/gist_id}","starred_url":"https://api.github.com/users/nnbrandon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nnbrandon/subscriptions","organizations_url":"https://api.github.com/users/nnbrandon/orgs","repos_url":"https://api.github.com/users/nnbrandon/repos","events_url":"https://api.github.com/users/nnbrandon/events{/privacy}","received_events_url":"https://api.github.com/users/nnbrandon/received_events","type":"User","site_admin":false},"performed_via_github_app":null}