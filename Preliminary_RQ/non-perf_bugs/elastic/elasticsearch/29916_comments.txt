[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384132159","html_url":"https://github.com/elastic/elasticsearch/issues/29916#issuecomment-384132159","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29916","id":384132159,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzMjE1OQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T17:43:31Z","updated_at":"2018-04-25T01:30:08Z","author_association":"COLLABORATOR","body":"*Original comment by @bohyun-e:*\n\ncc @pickypg @skearns64 @tsullivan \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384132160","html_url":"https://github.com/elastic/elasticsearch/issues/29916#issuecomment-384132160","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29916","id":384132160,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzMjE2MA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T17:43:31Z","updated_at":"2018-04-25T01:30:09Z","author_association":"COLLABORATOR","body":"*Original comment by @bohyun-e:*\n\nassociated error log:\n\nCaused by: java.lang.IllegalStateException: There are no ingest nodes in this cluster, unable to forward request to an ingest node.\n        at org.elasticsearch.action.ingest.IngestProxyActionFilter.randomIngestNode(IngestProxyActionFilter.java:104) ~[elasticsearch-5.0.0.jar:5.0.0]\n        at org.elasticsearch.action.ingest.IngestProxyActionFilter.forwardIngestRequest(IngestProxyActionFilter.java:86) ~[elasticsearch-5.0.0.jar:5.0.0]\n        at org.elasticsearch.action.ingest.IngestProxyActionFilter.apply(IngestProxyActionFilter.java:73) ~[elasticsearch-5.0.0.jar:5.0.0]\n        at org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:180) ~[elasticsearch-5.0.0.jar:5.0.0]\n        at org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.applyInternal(SecurityActionFilter.java:170) ~[?:?]\n        at org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.apply(SecurityActionFilter.java:118) ~[?:?]\n        at org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:180) ~[elasticsearch-5.0.0.jar:5.0.0]\n        at org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:153) ~[elasticsearch-5.0.0.jar:5.0.0]\n        at org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:87) ~[elasticsearch-5.0.0.jar:5.0.0]\n        at org.elasticsearch.client.node.NodeClient.executeLocally(NodeClient.java:75) ~[elasticsearch-5.0.0.jar:5.0.0]\n        at org.elasticsearch.client.node.NodeClient.doExecute(NodeClient.java:64) ~[elasticsearch-5.0.0.jar:5.0.0]\n        at org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:403) ~[elasticsearch-5.0.0.jar:5.0.0]\n        at org.elasticsearch.client.FilterClient.doExecute(FilterClient.java:67) ~[elasticsearch-5.0.0.jar:5.0.0]\n        at org.elasticsearch.xpack.security.InternalClient.doExecute(InternalClient.java:80) ~[?:?]\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384132161","html_url":"https://github.com/elastic/elasticsearch/issues/29916#issuecomment-384132161","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29916","id":384132161,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzMjE2MQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T17:43:31Z","updated_at":"2018-04-25T01:30:09Z","author_association":"COLLABORATOR","body":"*Original comment by @pickypg:*\n\nRelated https://github.com/elastic/elasticsearch/issues/21634\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384132163","html_url":"https://github.com/elastic/elasticsearch/issues/29916#issuecomment-384132163","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29916","id":384132163,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzMjE2Mw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T17:43:32Z","updated_at":"2018-04-25T01:30:09Z","author_association":"COLLABORATOR","body":"*Original comment by @javanna:*\n\nWe have discussed the corresponding public issue as part of FixItFriday. I am posting privately though so we are free to discuss internally without omitting any detail.\r\n\r\nWe think that the proposed change to elasticsearch core is not the right approach. Enrichment via ingest pipeline shouldn't be considered less important than other things. If you provide a pipeline id, we should make sure that it gets executed. It feels hacky to pass another parameter to say \"ignore it if you can't do it\". Also, what if we have ingest nodes, but the pipeline is not found? I think it would introduce inconsistencies and leniency which is not what we want.\r\n\r\nWe do realize though that we have to tackle this problem in some other way. It feels that this functionality should be on the client/application side. If we rely on pipelines to upgrade, maybe we should require to always have one ingest node around? Otherwise can we check if there are any and not send the pipeline id if we know that we don't want execute the pipeline in that specific situation?\r\n\r\nWith that additional parameter, if always sent with requests, isn't there the risk that pipelines get ignored and nobody notices, hence upgrades don't work?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384132164","html_url":"https://github.com/elastic/elasticsearch/issues/29916#issuecomment-384132164","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29916","id":384132164,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzMjE2NA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T17:43:32Z","updated_at":"2018-04-25T01:30:09Z","author_association":"COLLABORATOR","body":"*Original comment by @javanna:*\n\nI closed the public issue, we can keep discussing here and open another public issue if we come up with a different solution that should go to es core.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/384132166","html_url":"https://github.com/elastic/elasticsearch/issues/29916#issuecomment-384132166","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29916","id":384132166,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NDEzMjE2Ng==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T17:43:32Z","updated_at":"2018-04-25T01:30:09Z","author_association":"COLLABORATOR","body":"*Original comment by @GlenRSmith:*\n\nTo keep this issue clear: there needs to be better visibility if the monitoring agent fails to run, instead of heaving a stack trace. Whether or not it mentions a configuration option that provides a workaround (if in fact the configuration option even remains available) isn't the main takeaway.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/386602974","html_url":"https://github.com/elastic/elasticsearch/issues/29916#issuecomment-386602974","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29916","id":386602974,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjYwMjk3NA==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2018-05-04T13:34:44Z","updated_at":"2018-05-04T13:34:44Z","author_association":"CONTRIBUTOR","body":"@GlenRSmith is this still valid? ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/386627415","html_url":"https://github.com/elastic/elasticsearch/issues/29916#issuecomment-386627415","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29916","id":386627415,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjYyNzQxNQ==","user":{"login":"GlenRSmith","id":1327920,"node_id":"MDQ6VXNlcjEzMjc5MjA=","avatar_url":"https://avatars3.githubusercontent.com/u/1327920?v=4","gravatar_id":"","url":"https://api.github.com/users/GlenRSmith","html_url":"https://github.com/GlenRSmith","followers_url":"https://api.github.com/users/GlenRSmith/followers","following_url":"https://api.github.com/users/GlenRSmith/following{/other_user}","gists_url":"https://api.github.com/users/GlenRSmith/gists{/gist_id}","starred_url":"https://api.github.com/users/GlenRSmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GlenRSmith/subscriptions","organizations_url":"https://api.github.com/users/GlenRSmith/orgs","repos_url":"https://api.github.com/users/GlenRSmith/repos","events_url":"https://api.github.com/users/GlenRSmith/events{/privacy}","received_events_url":"https://api.github.com/users/GlenRSmith/received_events","type":"User","site_admin":false},"created_at":"2018-05-04T14:56:00Z","updated_at":"2018-05-04T14:56:00Z","author_association":"CONTRIBUTOR","body":"@s1monw Probably not, checking with picky.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/386630170","html_url":"https://github.com/elastic/elasticsearch/issues/29916#issuecomment-386630170","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29916","id":386630170,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjYzMDE3MA==","user":{"login":"pickypg","id":1501235,"node_id":"MDQ6VXNlcjE1MDEyMzU=","avatar_url":"https://avatars2.githubusercontent.com/u/1501235?v=4","gravatar_id":"","url":"https://api.github.com/users/pickypg","html_url":"https://github.com/pickypg","followers_url":"https://api.github.com/users/pickypg/followers","following_url":"https://api.github.com/users/pickypg/following{/other_user}","gists_url":"https://api.github.com/users/pickypg/gists{/gist_id}","starred_url":"https://api.github.com/users/pickypg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pickypg/subscriptions","organizations_url":"https://api.github.com/users/pickypg/orgs","repos_url":"https://api.github.com/users/pickypg/repos","events_url":"https://api.github.com/users/pickypg/events{/privacy}","received_events_url":"https://api.github.com/users/pickypg/received_events","type":"User","site_admin":false},"created_at":"2018-05-04T15:04:58Z","updated_at":"2018-05-04T15:04:58Z","author_association":"MEMBER","body":"As of 6.0, node is officially required for monitoring, so I think we can walk away from this one.","performed_via_github_app":null}]