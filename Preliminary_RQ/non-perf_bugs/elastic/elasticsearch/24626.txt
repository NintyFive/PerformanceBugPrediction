{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/24626","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24626/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24626/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24626/events","html_url":"https://github.com/elastic/elasticsearch/issues/24626","id":228054717,"node_id":"MDU6SXNzdWUyMjgwNTQ3MTc=","number":24626,"title":"Maven POMs use wildcard exclusions, preventing the use of maven-enforcer-plugin in consuming projects","user":{"login":"yrodiere","id":412878,"node_id":"MDQ6VXNlcjQxMjg3OA==","avatar_url":"https://avatars1.githubusercontent.com/u/412878?v=4","gravatar_id":"","url":"https://api.github.com/users/yrodiere","html_url":"https://github.com/yrodiere","followers_url":"https://api.github.com/users/yrodiere/followers","following_url":"https://api.github.com/users/yrodiere/following{/other_user}","gists_url":"https://api.github.com/users/yrodiere/gists{/gist_id}","starred_url":"https://api.github.com/users/yrodiere/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yrodiere/subscriptions","organizations_url":"https://api.github.com/users/yrodiere/orgs","repos_url":"https://api.github.com/users/yrodiere/repos","events_url":"https://api.github.com/users/yrodiere/events{/privacy}","received_events_url":"https://api.github.com/users/yrodiere/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-05-11T16:44:13Z","updated_at":"2017-05-11T16:59:17Z","closed_at":"2017-05-11T16:59:16Z","author_association":"NONE","active_lock_reason":null,"body":"**Elasticsearch version**: 5.4.0\r\n\r\n**Plugins installed**: N/A\r\n\r\n**JVM version** (`java -version`): N/A\r\n\r\n**OS version** (`uname -a` if on a Unix-like system): N/A\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\n\r\nThe POM for `org.elasticsearch.client:rest`, for instance, seems to now [use wildcard exclusions](https://repo1.maven.org/maven2/org/elasticsearch/client/rest/5.4.0/rest-5.4.0.pom) while [it previously didn't](https://repo1.maven.org/maven2/org/elasticsearch/client/rest/5.3.2/rest-5.3.2.pom).\r\n\r\nUnfortunately, this feature (wildcard exclusions) is not very mature, and this causes problems to consuming projects.\r\n\r\nIn particular, the [maven-enforcer-plugin](http://maven.apache.org/enforcer/maven-enforcer-plugin/) is currently unable to cope with such exclusions ([MENFORCER-195](https://issues.apache.org/jira/browse/MENFORCER-195)) due to a missing feature in Maven itself ([MSHARED-339](https://issues.apache.org/jira/browse/MSHARED-339)).\r\nThe only workaround is to manage exclusions manually in consuming projects.\r\n\r\nThis may also affect other POMs, most notably the sniffer.\r\n\r\nI know the problem is not caused by Elasticsearch itself, but considering [MSHARED-339](https://issues.apache.org/jira/browse/MSHARED-339) has been open for 3 years, I think we can safely assume it won't be solved anytime soon. Since the maven-enforcer-plugin is [not an exotic one](https://github.com/search?l=Maven+POM&q=maven-enforcer-plugin&type=Code&utf8=%E2%9C%93), maybe you could consider restoring the previous behavior of explicitly listing exclusions in your POM?\r\n\r\n**Steps to reproduce**:\r\n\r\n 1. Create a new Maven project\r\n 2. Add a dependency to `org.elasticsearch.client:rest:5.4.0`\r\n 3. Set up the maven-enforcer-plugin (version 1.4.1, the latest so far)\r\n 4. Run `mvn clean compile`\r\n 5. Watch the world come apart","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}