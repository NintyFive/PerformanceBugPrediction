[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/403960782","html_url":"https://github.com/elastic/elasticsearch/issues/31940#issuecomment-403960782","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31940","id":403960782,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzk2MDc4Mg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-07-10T20:48:39Z","updated_at":"2018-07-10T20:48:39Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-security","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/404045629","html_url":"https://github.com/elastic/elasticsearch/issues/31940#issuecomment-404045629","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31940","id":404045629,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDA0NTYyOQ==","user":{"login":"bizybot","id":902768,"node_id":"MDQ6VXNlcjkwMjc2OA==","avatar_url":"https://avatars2.githubusercontent.com/u/902768?v=4","gravatar_id":"","url":"https://api.github.com/users/bizybot","html_url":"https://github.com/bizybot","followers_url":"https://api.github.com/users/bizybot/followers","following_url":"https://api.github.com/users/bizybot/following{/other_user}","gists_url":"https://api.github.com/users/bizybot/gists{/gist_id}","starred_url":"https://api.github.com/users/bizybot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bizybot/subscriptions","organizations_url":"https://api.github.com/users/bizybot/orgs","repos_url":"https://api.github.com/users/bizybot/repos","events_url":"https://api.github.com/users/bizybot/events{/privacy}","received_events_url":"https://api.github.com/users/bizybot/received_events","type":"User","site_admin":false},"created_at":"2018-07-11T05:01:08Z","updated_at":"2018-07-12T03:20:57Z","author_association":"CONTRIBUTOR","body":"Fix is ready but the test fails for different reason NPE after this fix. The next part is dependent on the JDK bug fix https://bugs.java.com/bugdatabase/view_bug.do?bug_id=8206355. I think this will get fixed in next JDK 11 ea build (build 11-ea+22). Latest build does not have this fix so need to wait.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/404453972","html_url":"https://github.com/elastic/elasticsearch/issues/31940#issuecomment-404453972","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31940","id":404453972,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDQ1Mzk3Mg==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2018-07-12T09:40:56Z","updated_at":"2018-07-12T09:40:56Z","author_association":"MEMBER","body":"The SmokeTestMonitoringWithSecurityIT#testHTTPExporterWithSSL() test looks also to be failing because of the jdk11 bug:\r\n\r\n```\r\n17:43:20 [2018-07-11T17:43:09,610][ERROR][o.e.x.m.e.h.VersionHttpResource] failed to verify minimum version [7.0.0-alpha1] on the [xpack.monitoring.exporters._http] monitoring cluster\r\n17:43:20 java.lang.RuntimeException: null\r\n17:43:20 \tat org.elasticsearch.client.RestClient$SyncResponseListener.get(RestClient.java:951) ~[elasticsearch-rest-client-7.0.0-alpha1-SNAPSHOT.jar:7.0.0-alpha1-SNAPSHOT]\r\n17:43:20 \tat org.elasticsearch.client.RestClient.performRequest(RestClient.java:227) ~[elasticsearch-rest-client-7.0.0-alpha1-SNAPSHOT.jar:7.0.0-alpha1-SNAPSHOT]\r\n17:43:20 \tat org.elasticsearch.client.RestClient.performRequest(RestClient.java:294) ~[elasticsearch-rest-client-7.0.0-alpha1-SNAPSHOT.jar:7.0.0-alpha1-SNAPSHOT]\r\n17:43:20 \tat org.elasticsearch.xpack.monitoring.exporter.http.VersionHttpResource.doCheckAndPublish(VersionHttpResource.java:62) [x-pack-monitoring-7.0.0-alpha1-SNAPSHOT.jar:7.0.0-alpha1-SNAPSHOT]\r\n17:43:20 \tat org.elasticsearch.xpack.monitoring.exporter.http.HttpResource.checkAndPublish(HttpResource.java:156) [x-pack-monitoring-7.0.0-alpha1-SNAPSHOT.jar:7.0.0-alpha1-SNAPSHOT]\r\n17:43:20 \tat org.elasticsearch.xpack.monitoring.exporter.http.MultiHttpResource.doCheckAndPublish(MultiHttpResource.java:64) [x-pack-monitoring-7.0.0-alpha1-SNAPSHOT.jar:7.0.0-alpha1-SNAPSHOT]\r\n17:43:20 \tat org.elasticsearch.xpack.monitoring.exporter.http.HttpResource.checkAndPublish(HttpResource.java:156) [x-pack-monitoring-7.0.0-alpha1-SNAPSHOT.jar:7.0.0-alpha1-SNAPSHOT]\r\n17:43:20 \tat org.elasticsearch.xpack.monitoring.exporter.http.HttpResource.blockUntilCheckAndPublish(HttpResource.java:132) [x-pack-monitoring-7.0.0-alpha1-SNAPSHOT.jar:7.0.0-alpha1-SNAPSHOT]\r\n17:43:20 \tat org.elasticsearch.xpack.monitoring.exporter.http.HttpResource.checkAndPublishIfDirty(HttpResource.java:116) [x-pack-monitoring-7.0.0-alpha1-SNAPSHOT.jar:7.0.0-alpha1-SNAPSHOT]\r\n17:43:20 \tat org.elasticsearch.xpack.monitoring.exporter.http.HttpExporter.isExporterReady(HttpExporter.java:639) [x-pack-monitoring-7.0.0-alpha1-SNAPSHOT.jar:7.0.0-alpha1-SNAPSHOT]\r\n17:43:20 \tat org.elasticsearch.xpack.monitoring.exporter.http.HttpExporter.openBulk(HttpExporter.java:645) [x-pack-monitoring-7.0.0-alpha1-SNAPSHOT.jar:7.0.0-alpha1-SNAPSHOT]\r\n17:43:20 \tat org.elasticsearch.xpack.monitoring.exporter.http.HttpExporter.openBulk(HttpExporter.java:67) [x-pack-monitoring-7.0.0-alpha1-SNAPSHOT.jar:7.0.0-alpha1-SNAPSHOT]\r\n17:43:20 \tat org.elasticsearch.xpack.monitoring.exporter.Exporters.openBulk(Exporters.java:115) [x-pack-monitoring-7.0.0-alpha1-SNAPSHOT.jar:7.0.0-alpha1-SNAPSHOT]\r\n17:43:20 \tat org.elasticsearch.xpack.monitoring.exporter.Exporters.export(Exporters.java:186) [x-pack-monitoring-7.0.0-alpha1-SNAPSHOT.jar:7.0.0-alpha1-SNAPSHOT]\r\n17:43:20 \tat org.elasticsearch.xpack.monitoring.MonitoringService$MonitoringExecution$1.doRun(MonitoringService.java:227) [x-pack-monitoring-7.0.0-alpha1-SNAPSHOT.jar:7.0.0-alpha1-SNAPSHOT]\r\n17:43:20 \tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) [elasticsearch-7.0.0-alpha1-SNAPSHOT.jar:7.0.0-alpha1-SNAPSHOT]\r\n17:43:20 \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) [?:?]\r\n17:43:20 \tat java.util.concurrent.FutureTask.run(FutureTask.java:264) [?:?]\r\n17:43:20 \tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:624) [elasticsearch-7.0.0-alpha1-SNAPSHOT.jar:7.0.0-alpha1-SNAPSHOT]\r\n17:43:20 \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]\r\n17:43:20 \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]\r\n17:43:20 \tat java.lang.Thread.run(Thread.java:834) [?:?]\r\n17:43:20 Caused by: java.lang.NullPointerException\r\n17:43:20 \tat sun.security.ssl.SSLSessionImpl.getLocalPrincipal(SSLSessionImpl.java:661) ~[?:?]\r\n17:43:20 \tat org.apache.http.impl.nio.client.DefaultAsyncUserTokenHandler.getUserToken(DefaultAsyncUserTokenHandler.java:85) ~[?:?]\r\n17:43:20 \tat org.apache.http.impl.nio.client.MainClientExec.responseCompleted(MainClientExec.java:377) ~[?:?]\r\n17:43:20 \tat org.apache.http.impl.nio.client.DefaultClientExchangeHandlerImpl.responseCompleted(DefaultClientExchangeHandlerImpl.java:168) ~[?:?]\r\n17:43:20 \tat org.apache.http.nio.protocol.HttpAsyncRequestExecutor.processResponse(HttpAsyncRequestExecutor.java:436) ~[?:?]\r\n17:43:20 \tat org.apache.http.nio.protocol.HttpAsyncRequestExecutor.inputReady(HttpAsyncRequestExecutor.java:326) ~[?:?]\r\n17:43:20 \tat org.apache.http.impl.nio.DefaultNHttpClientConnection.consumeInput(DefaultNHttpClientConnection.java:265) ~[?:?]\r\n17:43:20 \tat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:81) ~[?:?]\r\n17:43:20 \tat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:39) ~[?:?]\r\n17:43:20 \tat org.apache.http.impl.nio.reactor.AbstractIODispatch.inputReady(AbstractIODispatch.java:121) ~[?:?]\r\n17:43:20 \tat org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:162) ~[?:?]\r\n17:43:20 \tat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:337) ~[?:?]\r\n17:43:20 \tat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315) ~[?:?]\r\n17:43:20 \tat org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:276) ~[?:?]\r\n17:43:20 \tat org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104) ~[?:?]\r\n17:43:20 \tat org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:588) ~[?:?]\r\n17:43:20 \t... 1 more\r\n```\r\n\r\nBuild url: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+matrix-java-periodic/ES_BUILD_JAVA=java11,ES_RUNTIME_JAVA=java8,nodes=virtual&&linux/170/console","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/404458603","html_url":"https://github.com/elastic/elasticsearch/issues/31940#issuecomment-404458603","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31940","id":404458603,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDQ1ODYwMw==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2018-07-12T09:57:01Z","updated_at":"2018-07-12T09:57:01Z","author_association":"MEMBER","body":"I've muted RestClientBuilderIntegTests.testBuilderUsesDefaultSSLContext() (only when running with jdk11) and  SmokeTestMonitoringWithSecurityIT#testHTTPExporterWithSSL() on master: ae5c70e6037ed2b7f27b231177990cd590690d30\r\nand 6.x: e7602c671bf7751b85a631ac0c34b414b4d3d088","performed_via_github_app":null}]