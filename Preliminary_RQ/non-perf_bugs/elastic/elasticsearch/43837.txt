{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/43837","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43837/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43837/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43837/events","html_url":"https://github.com/elastic/elasticsearch/issues/43837","id":462833821,"node_id":"MDU6SXNzdWU0NjI4MzM4MjE=","number":43837,"title":"Geo: indexing linestrings that go around the globe doesn't work for BKD shapes","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"labels":[{"id":141079527,"node_id":"MDU6TGFiZWwxNDEwNzk1Mjc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Analytics/Geo","name":":Analytics/Geo","color":"0e8a16","default":false,"description":"Indexing, search aggregations of geo points and shapes"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-07-01T17:44:35Z","updated_at":"2019-10-09T10:35:11Z","closed_at":"2019-10-09T10:35:11Z","author_association":"MEMBER","active_lock_reason":null,"body":"This looks like an old bug that was hidden by JTS, but got exposed after switching to BKD. Indexing of  `LINESTRING (0 0, 720 20)`, which represents a line that starts at (0, 0) and goes around the earth twice while moving slightly north. That line should used to decompose into three lines: `MULTILINESTRING ((0 0, -180 5), (-180 5, 180 15), (-180 15, 0 20))` during indexing, which wasn't very consistent since one circle around the world `LINESTRING (0 0, 360 10)` was decomposed into ` MULTILINESTRING ((0 0, 180 5), (âˆ’180 5, 0 10))`.\r\n\r\nAfter switching to BKD, the same linestring `LINESTRING (0 0, 720 20)` is getting decomposed into only 2 strings: `multilinestring ((0.0 0.0, 180.0 5.0),(180.0 5.0, 0.0 20.0))` ","closed_by":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"performed_via_github_app":null}