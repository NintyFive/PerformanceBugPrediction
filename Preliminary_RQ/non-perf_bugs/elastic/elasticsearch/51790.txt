{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/51790","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51790/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51790/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51790/events","html_url":"https://github.com/elastic/elasticsearch/issues/51790","id":558663797,"node_id":"MDU6SXNzdWU1NTg2NjM3OTc=","number":51790,"title":"RestHighLevelClient write log WARNING Using include_type_name in create index requests is deprecated","user":{"login":"straestrae","id":5717158,"node_id":"MDQ6VXNlcjU3MTcxNTg=","avatar_url":"https://avatars0.githubusercontent.com/u/5717158?v=4","gravatar_id":"","url":"https://api.github.com/users/straestrae","html_url":"https://github.com/straestrae","followers_url":"https://api.github.com/users/straestrae/followers","following_url":"https://api.github.com/users/straestrae/following{/other_user}","gists_url":"https://api.github.com/users/straestrae/gists{/gist_id}","starred_url":"https://api.github.com/users/straestrae/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/straestrae/subscriptions","organizations_url":"https://api.github.com/users/straestrae/orgs","repos_url":"https://api.github.com/users/straestrae/repos","events_url":"https://api.github.com/users/straestrae/events{/privacy}","received_events_url":"https://api.github.com/users/straestrae/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-02-02T08:36:53Z","updated_at":"2020-02-03T12:42:41Z","closed_at":"2020-02-03T08:23:44Z","author_association":"NONE","active_lock_reason":null,"body":"Elasticsearch rest-high-level-client 6.8.6 \r\nWith dependency:\r\n```\r\n<dependency>\r\n      <groupId>org.springframework.data</groupId>\r\n      <artifactId>spring-data-elasticsearch</artifactId>\r\n      <version>3.2.4.RELEASE</version>\r\n</dependency> \r\n```\r\n\r\nCreate client\r\n```\r\nimport org.elasticsearch.client.RestHighLevelClient;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.data.elasticsearch.client.ClientConfiguration;\r\nimport org.springframework.data.elasticsearch.client.RestClients;\r\nimport org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate;\r\nimport org.springframework.data.elasticsearch.repository.config.EnableElasticsearchRepositories;\r\n\r\n@Configuration\r\n@EnableElasticsearchRepositories\r\npublic class ElasticSearchConfiguration {\r\n\r\n    @Value(\"${spring.data.elasticsearch.host-port}\")\r\n    private String hostPort;\r\n\r\n\r\n    @Bean\r\n    public RestHighLevelClient elasticsearchClient() {\r\n        ClientConfiguration clientConfiguration = ClientConfiguration.builder()\r\n                .connectedTo(hostPort)\r\n                .build();\r\n\r\n        return RestClients.create(clientConfiguration).rest();\r\n    }\r\n\r\n    @Bean\r\n    public ElasticsearchRestTemplate elasticsearchTemplate() {\r\n        return new ElasticsearchRestTemplate(elasticsearchClient());\r\n    }\r\n}\r\n```\r\nUse client to create index\r\n```\r\nimport lombok.RequiredArgsConstructor;\r\nimport org.elasticsearch.action.admin.indices.alias.Alias;\r\nimport org.elasticsearch.client.RequestOptions;\r\nimport org.elasticsearch.client.RestHighLevelClient;\r\nimport org.elasticsearch.client.indices.CreateIndexRequest;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.io.IOException;\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class IndexService {\r\n\r\n    private final RestHighLevelClient restHighLevelClient;\r\n\r\n    public void createIndexWithAlias() throws IOException {\r\n        CreateIndexRequest request = new CreateIndexRequest(\"event-history-01-02-2020_11_18_08\")\r\n                .alias(new Alias(\"event-history\"));\r\n        restHighLevelClient.indices().create(request, RequestOptions.DEFAULT);\r\n    }\r\n\r\n}\r\n```\r\nin log WARNING messages\r\n\r\n`{\"timestamp\":\"2020-02-01T20:18:09.792Z\",\"level\":\"WARN\",\"thread\":\"I/O dispatcher 1\",\"context\":\"default\",\"message\":\"request [PUT http://localhost:32826/event-history-01-02-2020_11_18_08?master_timeout=30s&include_type_name=false&timeout=30s] returned 1 warnings: [299 Elasticsearch-7.5.2-8bec50e1e0ad29dad5653712cf3bb580cd1afcdf \\\"[types removal] Using include_type_name in create index requests is deprecated. The parameter will be removed in the next major version.\\\"]\",\"source\":\"org.elasticsearch.client.RestClient\"}`\r\n\r\nHow to use RestHighLevelClient without pass 'include_type_name=false' ?","closed_by":{"login":"dliappis","id":1754575,"node_id":"MDQ6VXNlcjE3NTQ1NzU=","avatar_url":"https://avatars0.githubusercontent.com/u/1754575?v=4","gravatar_id":"","url":"https://api.github.com/users/dliappis","html_url":"https://github.com/dliappis","followers_url":"https://api.github.com/users/dliappis/followers","following_url":"https://api.github.com/users/dliappis/following{/other_user}","gists_url":"https://api.github.com/users/dliappis/gists{/gist_id}","starred_url":"https://api.github.com/users/dliappis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dliappis/subscriptions","organizations_url":"https://api.github.com/users/dliappis/orgs","repos_url":"https://api.github.com/users/dliappis/repos","events_url":"https://api.github.com/users/dliappis/events{/privacy}","received_events_url":"https://api.github.com/users/dliappis/received_events","type":"User","site_admin":false},"performed_via_github_app":null}