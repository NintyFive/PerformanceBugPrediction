{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/19784","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19784/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19784/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19784/events","html_url":"https://github.com/elastic/elasticsearch/issues/19784","id":169182060,"node_id":"MDU6SXNzdWUxNjkxODIwNjA=","number":19784,"title":"Explore disabling the _all field by default","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"labels":[{"id":141145460,"node_id":"MDU6TGFiZWwxNDExNDU0NjA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Mapping","name":":Search/Mapping","color":"0e8a16","default":false,"description":"How fields should be indexed"},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null},{"id":334286612,"node_id":"MDU6TGFiZWwzMzQyODY2MTI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v6.0.0-alpha1","name":"v6.0.0-alpha1","color":"dddddd","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":30,"created_at":"2016-08-03T17:01:35Z","updated_at":"2017-01-12T17:23:16Z","closed_at":"2017-01-12T17:23:16Z","author_association":"MEMBER","active_lock_reason":null,"body":"We should explore the idea of disabling the `_all` field by default. For\nbackground, the `_all` field contains the contents of each of a document's\nfield. During indexing, these contents are copied to the `_all` field, analyzed\nwith a specific analyzer, and then indexed. At query time, some queries such as\nthe `query_string` and `simple_query_string` queries search the `_all` field if\nno fields are specified.\n\nThere are a number of issues with the `_all` field:\n- It uses a fair amount of disk space, due to duplicating the values from all\n  other fields to an additional field\n- `_all` has its own analyzer, which is confusing when expecting to query\n  text analyzed a certain way (or with synonyms, for example) and discovering\n  that it does not match due to a analysis difference\n- Additional indexing overhead caused by data duplication\n- Since the `_all` field is not retrievable or part of `_source`, its contents\n  cannot easily be inspected for debugging purposes, some users do not know it\n  even exists, which causes confusion at query time\n- Better alternatives exist, such as the `copy_to` value on mappings which can\n  be used to create custom `_all` fields\n\nIf we were to change the `_all` field to be disabled by default, some queries\nwould have to be handled differently. The `query_string` and\n`simple_query_string` queries would have to know a default field or fields to\nquery. Perhaps we would be able to change these queries to send a `\"fields\":\n[\"*\"]` parameter if no fields are specified in the JSON query, so that all field\nvalues can still be queried.\n","closed_by":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"performed_via_github_app":null}