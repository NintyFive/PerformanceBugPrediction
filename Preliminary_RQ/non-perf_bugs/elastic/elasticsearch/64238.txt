{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/64238","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/64238/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/64238/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/64238/events","html_url":"https://github.com/elastic/elasticsearch/issues/64238","id":730653351,"node_id":"MDU6SXNzdWU3MzA2NTMzNTE=","number":64238,"title":"Incorrect type check in SQL API","user":{"login":"chatumoh","id":17773016,"node_id":"MDQ6VXNlcjE3NzczMDE2","avatar_url":"https://avatars2.githubusercontent.com/u/17773016?v=4","gravatar_id":"","url":"https://api.github.com/users/chatumoh","html_url":"https://github.com/chatumoh","followers_url":"https://api.github.com/users/chatumoh/followers","following_url":"https://api.github.com/users/chatumoh/following{/other_user}","gists_url":"https://api.github.com/users/chatumoh/gists{/gist_id}","starred_url":"https://api.github.com/users/chatumoh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chatumoh/subscriptions","organizations_url":"https://api.github.com/users/chatumoh/orgs","repos_url":"https://api.github.com/users/chatumoh/repos","events_url":"https://api.github.com/users/chatumoh/events{/privacy}","received_events_url":"https://api.github.com/users/chatumoh/received_events","type":"User","site_admin":false},"labels":[{"id":912794284,"node_id":"MDU6TGFiZWw5MTI3OTQyODQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Query%20Languages/SQL","name":":Query Languages/SQL","color":"0e8a16","default":false,"description":"SQL querying"},{"id":1967501040,"node_id":"MDU6TGFiZWwxOTY3NTAxMDQw","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:QL","name":"Team:QL","color":"fef2c0","default":false,"description":"Meta label for query languages team"}],"state":"closed","locked":false,"assignee":{"login":"palesz","id":1084370,"node_id":"MDQ6VXNlcjEwODQzNzA=","avatar_url":"https://avatars0.githubusercontent.com/u/1084370?v=4","gravatar_id":"","url":"https://api.github.com/users/palesz","html_url":"https://github.com/palesz","followers_url":"https://api.github.com/users/palesz/followers","following_url":"https://api.github.com/users/palesz/following{/other_user}","gists_url":"https://api.github.com/users/palesz/gists{/gist_id}","starred_url":"https://api.github.com/users/palesz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/palesz/subscriptions","organizations_url":"https://api.github.com/users/palesz/orgs","repos_url":"https://api.github.com/users/palesz/repos","events_url":"https://api.github.com/users/palesz/events{/privacy}","received_events_url":"https://api.github.com/users/palesz/received_events","type":"User","site_admin":false},"assignees":[{"login":"palesz","id":1084370,"node_id":"MDQ6VXNlcjEwODQzNzA=","avatar_url":"https://avatars0.githubusercontent.com/u/1084370?v=4","gravatar_id":"","url":"https://api.github.com/users/palesz","html_url":"https://github.com/palesz","followers_url":"https://api.github.com/users/palesz/followers","following_url":"https://api.github.com/users/palesz/following{/other_user}","gists_url":"https://api.github.com/users/palesz/gists{/gist_id}","starred_url":"https://api.github.com/users/palesz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/palesz/subscriptions","organizations_url":"https://api.github.com/users/palesz/orgs","repos_url":"https://api.github.com/users/palesz/repos","events_url":"https://api.github.com/users/palesz/events{/privacy}","received_events_url":"https://api.github.com/users/palesz/received_events","type":"User","site_admin":false}],"milestone":null,"comments":4,"created_at":"2020-10-27T17:12:47Z","updated_at":"2020-11-13T03:32:35Z","closed_at":"2020-11-13T03:32:35Z","author_association":"NONE","active_lock_reason":null,"body":"I am using elastic v7.5.2  I have added a field say **custNum** of type long in index mapping for an Index **A**. \r\nUnder Index patterns, the Field type is shown as Number.\r\n\r\nI queried the same index **A** using SQL API with multiple values(starting with values in integer range) for **custNum** field within SQL IN clause i.e. **SELECT * FROM A WHERE custNum in (2997,299738,299742,3000270011,29975)**\r\n\r\ni got below exception, though the type of **custNum** field is long\r\n\r\n     {\r\n        \"type\": \"sql_illegal_argument_exception\",\r\n        \"reason\": \"[3000270011] out of [integer] range\"\r\n      }\r\n\r\nIf i query with 3000270011 alone or 3000270011 being first number in list  i.e. **SELECT * FROM A WHERE custNum in (3000270011,2997,299738,299742,29975)**. the query returns results successfully.\r\n\r\nIt seems the SQL parsing selecting the type based on first element in list but not honoring the type defined for the field in index mapping. \r\n\r\n**Type check should be based on defined mapping, if present.**\r\n","closed_by":{"login":"palesz","id":1084370,"node_id":"MDQ6VXNlcjEwODQzNzA=","avatar_url":"https://avatars0.githubusercontent.com/u/1084370?v=4","gravatar_id":"","url":"https://api.github.com/users/palesz","html_url":"https://github.com/palesz","followers_url":"https://api.github.com/users/palesz/followers","following_url":"https://api.github.com/users/palesz/following{/other_user}","gists_url":"https://api.github.com/users/palesz/gists{/gist_id}","starred_url":"https://api.github.com/users/palesz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/palesz/subscriptions","organizations_url":"https://api.github.com/users/palesz/orgs","repos_url":"https://api.github.com/users/palesz/repos","events_url":"https://api.github.com/users/palesz/events{/privacy}","received_events_url":"https://api.github.com/users/palesz/received_events","type":"User","site_admin":false},"performed_via_github_app":null}