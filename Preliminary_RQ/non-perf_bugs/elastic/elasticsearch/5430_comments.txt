[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/37647635","html_url":"https://github.com/elastic/elasticsearch/issues/5430#issuecomment-37647635","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5430","id":37647635,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NjQ3NjM1","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-03-14T13:42:17Z","updated_at":"2014-03-14T13:42:17Z","author_association":"CONTRIBUTOR","body":"Don't forget that your index has 5 primary shards by default, so:\n1. Each shard needs to assign a priority queue\n2. The coordinating node doesn't know how many docs it is going to receive from each shard and so has to assign a priority queue of the size that you specify.\n\nThis is not the right way to retrieve lots of results.  Instead, use a scrolled search with `search_type=scan` and keep pulling results until you have enough. Scanning disables sorting, which makes this very efficient.\n\nAt the moment scrolling large numbers of sorted results will not work. You'll run into the same problem as you are experiencing here.  However when #4940 is merged, we will be able to support deep scrolling of sorted results.\n\nClosing this as a duplicate of #4177 \n","performed_via_github_app":null}]