[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/197907844","html_url":"https://github.com/elastic/elasticsearch/issues/17170#issuecomment-197907844","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17170","id":197907844,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NzkwNzg0NA==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-03-17T14:39:37Z","updated_at":"2016-03-17T14:39:37Z","author_association":"CONTRIBUTOR","body":"why don't you just check the status periodically? Serving read requests is fine only updates are not possible in such a case?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/197913170","html_url":"https://github.com/elastic/elasticsearch/issues/17170#issuecomment-197913170","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17170","id":197913170,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NzkxMzE3MA==","user":{"login":"pedro-dlfa","id":17906400,"node_id":"MDQ6VXNlcjE3OTA2NDAw","avatar_url":"https://avatars2.githubusercontent.com/u/17906400?v=4","gravatar_id":"","url":"https://api.github.com/users/pedro-dlfa","html_url":"https://github.com/pedro-dlfa","followers_url":"https://api.github.com/users/pedro-dlfa/followers","following_url":"https://api.github.com/users/pedro-dlfa/following{/other_user}","gists_url":"https://api.github.com/users/pedro-dlfa/gists{/gist_id}","starred_url":"https://api.github.com/users/pedro-dlfa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pedro-dlfa/subscriptions","organizations_url":"https://api.github.com/users/pedro-dlfa/orgs","repos_url":"https://api.github.com/users/pedro-dlfa/repos","events_url":"https://api.github.com/users/pedro-dlfa/events{/privacy}","received_events_url":"https://api.github.com/users/pedro-dlfa/received_events","type":"User","site_admin":false},"created_at":"2016-03-17T14:49:37Z","updated_at":"2016-03-17T15:18:48Z","author_association":"NONE","body":"Indeed, what I would like also is to check the status periodically, but without having to wait such long timeout.\n\nI could check that elasticsearch allows a \"timeout\" parameter in the requests. E.g: \n\n`curl -X GET -H \"Cache-Control: no-cache\" -H \"Postman-Token: 4e2c6bc1-1c55-59f3-3160-7f44d9a41375\" \"http://AAA.BBB.CCC.DDD:9200/_cluster/health?timeout=5s\"`\n\nHowever, it would be cleaner and simpler to have a general configuration value instead of having to include that \"timeout\" parameter in every different request.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/197934423","html_url":"https://github.com/elastic/elasticsearch/issues/17170#issuecomment-197934423","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17170","id":197934423,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NzkzNDQyMw==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-03-17T15:33:00Z","updated_at":"2016-03-17T15:33:00Z","author_association":"CONTRIBUTOR","body":"we have the main action for this. you can just periodically poll `localhost:9200/` or whatever your rest endpoint is and it will respond with `503` immediately\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/197941639","html_url":"https://github.com/elastic/elasticsearch/issues/17170#issuecomment-197941639","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17170","id":197941639,"node_id":"MDEyOklzc3VlQ29tbWVudDE5Nzk0MTYzOQ==","user":{"login":"pedro-dlfa","id":17906400,"node_id":"MDQ6VXNlcjE3OTA2NDAw","avatar_url":"https://avatars2.githubusercontent.com/u/17906400?v=4","gravatar_id":"","url":"https://api.github.com/users/pedro-dlfa","html_url":"https://github.com/pedro-dlfa","followers_url":"https://api.github.com/users/pedro-dlfa/followers","following_url":"https://api.github.com/users/pedro-dlfa/following{/other_user}","gists_url":"https://api.github.com/users/pedro-dlfa/gists{/gist_id}","starred_url":"https://api.github.com/users/pedro-dlfa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pedro-dlfa/subscriptions","organizations_url":"https://api.github.com/users/pedro-dlfa/orgs","repos_url":"https://api.github.com/users/pedro-dlfa/repos","events_url":"https://api.github.com/users/pedro-dlfa/events{/privacy}","received_events_url":"https://api.github.com/users/pedro-dlfa/received_events","type":"User","site_admin":false},"created_at":"2016-03-17T15:47:51Z","updated_at":"2016-03-17T15:47:51Z","author_association":"NONE","body":"Right now I'm checking the status of a specific index by checking that a specific alias is linked to an index, and then check the index health.\n\nCalling `localhost:9200/` would mean an extra call, and also \"understand\" that the `503` would mean that something in the cluster is wrong, but also read operations works, but not the others.\n\nBut, could there be any other scenario where `localhost:9200/` returns `503` but read operations doesn't work?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/197961756","html_url":"https://github.com/elastic/elasticsearch/issues/17170#issuecomment-197961756","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17170","id":197961756,"node_id":"MDEyOklzc3VlQ29tbWVudDE5Nzk2MTc1Ng==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-03-17T16:31:05Z","updated_at":"2016-03-17T16:31:05Z","author_association":"MEMBER","body":"if you are interested in monitoring no master specifically, you can also use `GET _cat/master` and see whether it gives a value. Also, each indexing operation takes a timeout parameter which you can reduce if the default 60s.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/198050123","html_url":"https://github.com/elastic/elasticsearch/issues/17170#issuecomment-198050123","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17170","id":198050123,"node_id":"MDEyOklzc3VlQ29tbWVudDE5ODA1MDEyMw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-03-17T19:38:54Z","updated_at":"2016-03-17T19:38:54Z","author_association":"CONTRIBUTOR","body":"I'm also curious as to why you see no master so frequently that you want to add an option to cope with it?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/198298018","html_url":"https://github.com/elastic/elasticsearch/issues/17170#issuecomment-198298018","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17170","id":198298018,"node_id":"MDEyOklzc3VlQ29tbWVudDE5ODI5ODAxOA==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-03-18T10:30:57Z","updated_at":"2016-03-18T10:30:57Z","author_association":"MEMBER","body":"Another option that might help is to set the timeout on the indexing request to 0, which will make it fail immediately if there is no master (or no primary available):\n\n```\ncurl -XPUT \"http://localhost:9201/index/type/1?timeout=0\" -d'\n{\n  \"f\": 1\n}'\n```\n\nNote though that you will need to create all your indices in advance if you do this and not rely on them to be created automatically. \n\nI'm closing this now as I think we covered all the possible options. Let me know these don't cover what you want to do.\n","performed_via_github_app":null}]