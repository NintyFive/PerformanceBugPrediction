[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/15951885","html_url":"https://github.com/elastic/elasticsearch/issues/2860#issuecomment-15951885","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2860","id":15951885,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTUxODg1","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2013-04-05T12:00:21Z","updated_at":"2013-04-05T12:00:21Z","author_association":"MEMBER","body":"Yea, this is the current behavior..., we will get the first mapping found and use that one...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/15952088","html_url":"https://github.com/elastic/elasticsearch/issues/2860#issuecomment-15952088","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2860","id":15952088,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTUyMDg4","user":{"login":"gakhov","id":929775,"node_id":"MDQ6VXNlcjkyOTc3NQ==","avatar_url":"https://avatars2.githubusercontent.com/u/929775?v=4","gravatar_id":"","url":"https://api.github.com/users/gakhov","html_url":"https://github.com/gakhov","followers_url":"https://api.github.com/users/gakhov/followers","following_url":"https://api.github.com/users/gakhov/following{/other_user}","gists_url":"https://api.github.com/users/gakhov/gists{/gist_id}","starred_url":"https://api.github.com/users/gakhov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gakhov/subscriptions","organizations_url":"https://api.github.com/users/gakhov/orgs","repos_url":"https://api.github.com/users/gakhov/repos","events_url":"https://api.github.com/users/gakhov/events{/privacy}","received_events_url":"https://api.github.com/users/gakhov/received_events","type":"User","site_admin":false},"created_at":"2013-04-05T12:06:26Z","updated_at":"2013-04-05T12:06:26Z","author_association":"CONTRIBUTOR","body":"Is there some reason not to raise an exception if no such key on top level?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/15952230","html_url":"https://github.com/elastic/elasticsearch/issues/2860#issuecomment-15952230","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2860","id":15952230,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTUyMjMw","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2013-04-05T12:10:32Z","updated_at":"2013-04-05T12:10:32Z","author_association":"MEMBER","body":"The idea was to simplify finding fields, though I agree it can be confusing, we need to think how to properly solve it if we wish to, it will be a backward break, so we can revisit this post 0.90.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/15952340","html_url":"https://github.com/elastic/elasticsearch/issues/2860#issuecomment-15952340","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2860","id":15952340,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTUyMzQw","user":{"login":"gakhov","id":929775,"node_id":"MDQ6VXNlcjkyOTc3NQ==","avatar_url":"https://avatars2.githubusercontent.com/u/929775?v=4","gravatar_id":"","url":"https://api.github.com/users/gakhov","html_url":"https://github.com/gakhov","followers_url":"https://api.github.com/users/gakhov/followers","following_url":"https://api.github.com/users/gakhov/following{/other_user}","gists_url":"https://api.github.com/users/gakhov/gists{/gist_id}","starred_url":"https://api.github.com/users/gakhov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gakhov/subscriptions","organizations_url":"https://api.github.com/users/gakhov/orgs","repos_url":"https://api.github.com/users/gakhov/repos","events_url":"https://api.github.com/users/gakhov/events{/privacy}","received_events_url":"https://api.github.com/users/gakhov/received_events","type":"User","site_admin":false},"created_at":"2013-04-05T12:13:24Z","updated_at":"2013-04-05T12:13:24Z","author_association":"CONTRIBUTOR","body":"Cool! Actually, i found this behavior after noticed a bug in our system based on ElasticSearch :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/15954621","html_url":"https://github.com/elastic/elasticsearch/issues/2860#issuecomment-15954621","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2860","id":15954621,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTU0NjIx","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2013-04-05T13:10:57Z","updated_at":"2013-04-05T13:14:41Z","author_association":"CONTRIBUTOR","body":"Some thoughts about field resolution:\n\n1) Make field resolution with types deterministic:\n\nIf you have two types: \n\n`user`:\n\n```\n{ name: \"john\"}\n```\n\n`post`:\n\n```\n{ title: \"foo\", user: { name: \"john\" }}\n```\n\nThe `user` type recognises: `name` and `user.name`\nThe `post` type recognises `name`, `user.name` and `post.user.name`\n\nThe `user.name` conflicts.  It should always resolve to `type`.`field` before `field.field`, because `field.field` can always be referred to unequivocally as `type.field.field`\n\n2) Warn/throw error on conflicts?\n\nWhen referring to a new index/type/field combination, we should not stop at the first field, but check all other fields, then cache the result until a mapping changes. \n\nIf we have two types, both with a `name` field.  Two possibilities. If the mapping is the same for both fields, then resolve to the first field.  If the mapping conflicts, throw an error about ambiguous field names. The user can then either:\n- specify the field unambiguously\n- limit the types that they are querying\n- rewrite the clause as eg a bool or multi-match to run on both fields (or even `fields: ['*.name']`)\n\nThis requires a bit more work by the user but (a) it'll be correct and (b) won't produce hard to debug errors\n\n3) Use any level of paths to refer to fields\n\nIf we have type `post` with \n\n```\n{ \n  name: \"my first post\",\n  author: { user: { name: \"john\"}}, \n  reviewer: { user: { name: \"mary\"}}\n}\n```\n\nWould be nice to be able to use `name`, `user.name`, `author.user.name` and `post.author.user.name` \n\nCurrently we wouldn't be able to use `user.name`.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/35000262","html_url":"https://github.com/elastic/elasticsearch/issues/2860#issuecomment-35000262","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2860","id":35000262,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDAwMjYy","user":{"login":"benjismith","id":458075,"node_id":"MDQ6VXNlcjQ1ODA3NQ==","avatar_url":"https://avatars3.githubusercontent.com/u/458075?v=4","gravatar_id":"","url":"https://api.github.com/users/benjismith","html_url":"https://github.com/benjismith","followers_url":"https://api.github.com/users/benjismith/followers","following_url":"https://api.github.com/users/benjismith/following{/other_user}","gists_url":"https://api.github.com/users/benjismith/gists{/gist_id}","starred_url":"https://api.github.com/users/benjismith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benjismith/subscriptions","organizations_url":"https://api.github.com/users/benjismith/orgs","repos_url":"https://api.github.com/users/benjismith/repos","events_url":"https://api.github.com/users/benjismith/events{/privacy}","received_events_url":"https://api.github.com/users/benjismith/received_events","type":"User","site_admin":false},"created_at":"2014-02-13T17:04:13Z","updated_at":"2014-02-13T17:04:20Z","author_association":"NONE","body":"Will this issue be fixed by https://github.com/elasticsearch/elasticsearch/issues/4081? Is this scheduled for 1.1.0?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/48389569","html_url":"https://github.com/elastic/elasticsearch/issues/2860#issuecomment-48389569","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2860","id":48389569,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mzg5NTY5","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-07-08T19:38:08Z","updated_at":"2014-07-08T19:38:08Z","author_association":"CONTRIBUTOR","body":"Closed in favour of #4081\n","performed_via_github_app":null}]