[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/69062131","html_url":"https://github.com/elastic/elasticsearch/issues/9156#issuecomment-69062131","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9156","id":69062131,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDYyMTMx","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2015-01-07T17:56:33Z","updated_at":"2015-01-07T17:56:33Z","author_association":"CONTRIBUTOR","body":"I've discovered another \"hotspot\" that can massively overrun a timeout setting is parent/child queries on an index that is receiving updates and has the default configuration of not eagerly loading global ordinals.\n\nWhile we could weave some timeout checks into the fielddata-loading loop to abort earlier I think the right solution in this scenario is for the administrator to reconfigure their system with background loading of global ordinals [as per the recommendation](http://www.elasticsearch.org/guide/en/elasticsearch/guide/current/preload-fielddata.html#eager-fielddata). This problem scenario is not the fault of a badly formed query but a badly configured platform so I feel we should not introduce extra timeout checking logic here for what is an administrator issue.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/69160011","html_url":"https://github.com/elastic/elasticsearch/issues/9156#issuecomment-69160011","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9156","id":69160011,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTYwMDEx","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2015-01-08T10:13:44Z","updated_at":"2015-01-08T10:13:44Z","author_association":"MEMBER","body":"I feel the same way about global ordinals loading, if a platform relies on search requests to be fast via  global ordinals then global ordinals should be eagerly loaded. This applies not only to parent/child, but also to the terms bucket aggregator.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/72818705","html_url":"https://github.com/elastic/elasticsearch/issues/9156#issuecomment-72818705","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9156","id":72818705,"node_id":"MDEyOklzc3VlQ29tbWVudDcyODE4NzA1","user":{"login":"andrassy","id":890433,"node_id":"MDQ6VXNlcjg5MDQzMw==","avatar_url":"https://avatars1.githubusercontent.com/u/890433?v=4","gravatar_id":"","url":"https://api.github.com/users/andrassy","html_url":"https://github.com/andrassy","followers_url":"https://api.github.com/users/andrassy/followers","following_url":"https://api.github.com/users/andrassy/following{/other_user}","gists_url":"https://api.github.com/users/andrassy/gists{/gist_id}","starred_url":"https://api.github.com/users/andrassy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrassy/subscriptions","organizations_url":"https://api.github.com/users/andrassy/orgs","repos_url":"https://api.github.com/users/andrassy/repos","events_url":"https://api.github.com/users/andrassy/events{/privacy}","received_events_url":"https://api.github.com/users/andrassy/received_events","type":"User","site_admin":false},"created_at":"2015-02-04T09:18:39Z","updated_at":"2015-02-04T09:18:39Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/99557275","html_url":"https://github.com/elastic/elasticsearch/issues/9156#issuecomment-99557275","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9156","id":99557275,"node_id":"MDEyOklzc3VlQ29tbWVudDk5NTU3Mjc1","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2015-05-06T18:12:50Z","updated_at":"2015-05-06T18:12:50Z","author_association":"CONTRIBUTOR","body":"Update: I tried rebasing this on master recently and it got pretty messy.\nAside from basic code merging issues there were these concerns:\n1) The code that allowed configuration of custom timer intervals was redundant (I hope) as the system for loading config had been changed by Simon recently\n2) The main culprit which was missing a timer check (regexes in terms agg 'include\" clauses) had also undergone change based on use of automata in Lucene which is hopefully faster.\n\nI didn't manage to complete the rebase in the time I had set aside to look at this.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/151985376","html_url":"https://github.com/elastic/elasticsearch/issues/9156#issuecomment-151985376","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9156","id":151985376,"node_id":"MDEyOklzc3VlQ29tbWVudDE1MTk4NTM3Ng==","user":{"login":"amontalenti","id":40263,"node_id":"MDQ6VXNlcjQwMjYz","avatar_url":"https://avatars2.githubusercontent.com/u/40263?v=4","gravatar_id":"","url":"https://api.github.com/users/amontalenti","html_url":"https://github.com/amontalenti","followers_url":"https://api.github.com/users/amontalenti/followers","following_url":"https://api.github.com/users/amontalenti/following{/other_user}","gists_url":"https://api.github.com/users/amontalenti/gists{/gist_id}","starred_url":"https://api.github.com/users/amontalenti/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amontalenti/subscriptions","organizations_url":"https://api.github.com/users/amontalenti/orgs","repos_url":"https://api.github.com/users/amontalenti/repos","events_url":"https://api.github.com/users/amontalenti/events{/privacy}","received_events_url":"https://api.github.com/users/amontalenti/received_events","type":"User","site_admin":false},"created_at":"2015-10-28T20:46:24Z","updated_at":"2015-10-28T20:46:24Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/161758425","html_url":"https://github.com/elastic/elasticsearch/issues/9156#issuecomment-161758425","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9156","id":161758425,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTc1ODQyNQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-12-03T19:41:45Z","updated_at":"2015-12-03T19:41:45Z","author_association":"CONTRIBUTOR","body":"Too much time has passed and, with recent versions, this seems to be less of an issue. Closing\n","performed_via_github_app":null}]