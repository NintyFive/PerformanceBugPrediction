[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/124453829","html_url":"https://github.com/elastic/elasticsearch/issues/12413#issuecomment-124453829","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12413","id":124453829,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNDQ1MzgyOQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-07-24T09:21:43Z","updated_at":"2015-07-24T09:21:43Z","author_association":"CONTRIBUTOR","body":"Hiya\n\nWe discussed this in our FixItFriday session and we're against adding this feature.  It feels very use case specific.  If the top 6 documents all have the same score and the 7th is 0.0001 less, is that sufficient to truncate the result list?  For you maybe, but somebody else will want a different behaviour.  You could of course get back a million top-scoring documents, so either way this needs to be limited by `size`.\n\nYou could write a custom plugin that does this for you, but I don't think this is a feature we want in core.\n\nthanks\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/124457688","html_url":"https://github.com/elastic/elasticsearch/issues/12413#issuecomment-124457688","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12413","id":124457688,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNDQ1NzY4OA==","user":{"login":"jeantil","id":22979,"node_id":"MDQ6VXNlcjIyOTc5","avatar_url":"https://avatars3.githubusercontent.com/u/22979?v=4","gravatar_id":"","url":"https://api.github.com/users/jeantil","html_url":"https://github.com/jeantil","followers_url":"https://api.github.com/users/jeantil/followers","following_url":"https://api.github.com/users/jeantil/following{/other_user}","gists_url":"https://api.github.com/users/jeantil/gists{/gist_id}","starred_url":"https://api.github.com/users/jeantil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeantil/subscriptions","organizations_url":"https://api.github.com/users/jeantil/orgs","repos_url":"https://api.github.com/users/jeantil/repos","events_url":"https://api.github.com/users/jeantil/events{/privacy}","received_events_url":"https://api.github.com/users/jeantil/received_events","type":"User","site_admin":false},"created_at":"2015-07-24T09:43:31Z","updated_at":"2015-07-24T09:44:01Z","author_association":"NONE","body":"Hello, \n\nThanks for your answer. \n\n> If the top 6 documents all have the same score and the 7th is 0.0001 less, is that sufficient to truncate the result list\n> Yes, the idea was to select exactly the hits which have the exact score reported by the max_score property on hits.\n\nA pointer on a plugin which interfaces/extends the same modules I would need to extend would be really nice (or to the relevant classes/module in the 1.7 code base).\nI have a very shallow knowledge of the ES code base and have absolutely no idea where to start (apart from setting up the maven project with the couple property files for a plugin) \n\nGoogle hasn't been very forthcoming with such a pointer : lots of stuff around adding an analyzer, creating a REST endpoint or extending the infrastructure but not so much seems to extend the search result processing \n\nthanks\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/124463159","html_url":"https://github.com/elastic/elasticsearch/issues/12413#issuecomment-124463159","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12413","id":124463159,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNDQ2MzE1OQ==","user":{"login":"jeantil","id":22979,"node_id":"MDQ6VXNlcjIyOTc5","avatar_url":"https://avatars3.githubusercontent.com/u/22979?v=4","gravatar_id":"","url":"https://api.github.com/users/jeantil","html_url":"https://github.com/jeantil","followers_url":"https://api.github.com/users/jeantil/followers","following_url":"https://api.github.com/users/jeantil/following{/other_user}","gists_url":"https://api.github.com/users/jeantil/gists{/gist_id}","starred_url":"https://api.github.com/users/jeantil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeantil/subscriptions","organizations_url":"https://api.github.com/users/jeantil/orgs","repos_url":"https://api.github.com/users/jeantil/repos","events_url":"https://api.github.com/users/jeantil/events{/privacy}","received_events_url":"https://api.github.com/users/jeantil/received_events","type":"User","site_admin":false},"created_at":"2015-07-24T10:15:35Z","updated_at":"2015-07-24T10:15:35Z","author_association":"NONE","body":"I tried to have a look at the code base: \nI would need to extend the search context to add my custom property but it sounds like I would then have to reimplement all three of DefaultSearchContext, FilteredSearchContext and PercolateContext\nonce I have the property at hand in the context, I would need to create a custom QueryPhase override its execute method call the super then manipulate the  topdocs in the queryResult to limit the score docs to only the docs with the max score. \n\nis that viable ?\n\nthanks\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/125167032","html_url":"https://github.com/elastic/elasticsearch/issues/12413#issuecomment-125167032","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12413","id":125167032,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNTE2NzAzMg==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-07-27T11:05:40Z","updated_at":"2015-07-27T11:05:40Z","author_association":"CONTRIBUTOR","body":"Hi @jeantil \n\nI suggest asking about this in the forum: http://discuss.elastic.co/\n","performed_via_github_app":null}]