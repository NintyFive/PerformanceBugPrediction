[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/214759751","html_url":"https://github.com/elastic/elasticsearch/issues/17969#issuecomment-214759751","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17969","id":214759751,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDc1OTc1MQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-04-26T14:16:30Z","updated_at":"2016-04-26T14:16:30Z","author_association":"CONTRIBUTOR","body":"isolated=false is only for plugins, elasticsearch has a separate classloader.  also, isolated=false has been  removed in master so I wouldn't rely on it\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/214968244","html_url":"https://github.com/elastic/elasticsearch/issues/17969#issuecomment-214968244","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17969","id":214968244,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDk2ODI0NA==","user":{"login":"chindhuhari","id":15011828,"node_id":"MDQ6VXNlcjE1MDExODI4","avatar_url":"https://avatars1.githubusercontent.com/u/15011828?v=4","gravatar_id":"","url":"https://api.github.com/users/chindhuhari","html_url":"https://github.com/chindhuhari","followers_url":"https://api.github.com/users/chindhuhari/followers","following_url":"https://api.github.com/users/chindhuhari/following{/other_user}","gists_url":"https://api.github.com/users/chindhuhari/gists{/gist_id}","starred_url":"https://api.github.com/users/chindhuhari/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chindhuhari/subscriptions","organizations_url":"https://api.github.com/users/chindhuhari/orgs","repos_url":"https://api.github.com/users/chindhuhari/repos","events_url":"https://api.github.com/users/chindhuhari/events{/privacy}","received_events_url":"https://api.github.com/users/chindhuhari/received_events","type":"User","site_admin":false},"created_at":"2016-04-27T04:40:32Z","updated_at":"2016-04-27T04:40:32Z","author_association":"NONE","body":"Hello clintongormley,\nEven I'm stuck with a similar issue. \nIn that case, if I put all the required jars( i.e. the jars that are shared with elasticsearch as well) in my plugin folder, won't jar hell exception be thrown? How's this kind of a scenario addressed?\nAs of now, I'm getting it to work by placing all the jars in elasticsearch lib/ , but that is something that we do not want to do.\n\nThanks!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/214979161","html_url":"https://github.com/elastic/elasticsearch/issues/17969#issuecomment-214979161","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17969","id":214979161,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDk3OTE2MQ==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-04-27T05:59:48Z","updated_at":"2016-04-27T05:59:48Z","author_association":"MEMBER","body":"When you write a plugin you need to make sure that no single class conflicts with the ones elasticsearch uses.\n\nYou \"just\" have to add in your plugin missing classes (missing jars).\n\nDon't add anything to elasticsearch lib dir.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/214981973","html_url":"https://github.com/elastic/elasticsearch/issues/17969#issuecomment-214981973","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17969","id":214981973,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDk4MTk3Mw==","user":{"login":"chindhuhari","id":15011828,"node_id":"MDQ6VXNlcjE1MDExODI4","avatar_url":"https://avatars1.githubusercontent.com/u/15011828?v=4","gravatar_id":"","url":"https://api.github.com/users/chindhuhari","html_url":"https://github.com/chindhuhari","followers_url":"https://api.github.com/users/chindhuhari/followers","following_url":"https://api.github.com/users/chindhuhari/following{/other_user}","gists_url":"https://api.github.com/users/chindhuhari/gists{/gist_id}","starred_url":"https://api.github.com/users/chindhuhari/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chindhuhari/subscriptions","organizations_url":"https://api.github.com/users/chindhuhari/orgs","repos_url":"https://api.github.com/users/chindhuhari/repos","events_url":"https://api.github.com/users/chindhuhari/events{/privacy}","received_events_url":"https://api.github.com/users/chindhuhari/received_events","type":"User","site_admin":false},"created_at":"2016-04-27T06:21:28Z","updated_at":"2016-04-27T06:21:28Z","author_association":"NONE","body":"Hi dadoonet,\nI tried that as well, that's when I found this strange issue of ClassDefNotFound Java Exception, though I have the right version of that class present in the plugin folder. It was able to see all the classes in the elasticsearch lib/ folder. \nThen, I tried printing all the classes that's getting loaded by the classloader, in that this class(for which the exception was thrown) was listed, yet I got that error, I found that strange.\nSo, I thought I am missing something.\n\nThanks!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/214987648","html_url":"https://github.com/elastic/elasticsearch/issues/17969#issuecomment-214987648","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17969","id":214987648,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDk4NzY0OA==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-04-27T06:53:34Z","updated_at":"2016-04-27T06:53:34Z","author_association":"MEMBER","body":"May be you can provide more info about the class?\nTraces might help as well.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/215011347","html_url":"https://github.com/elastic/elasticsearch/issues/17969#issuecomment-215011347","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17969","id":215011347,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNTAxMTM0Nw==","user":{"login":"chindhuhari","id":15011828,"node_id":"MDQ6VXNlcjE1MDExODI4","avatar_url":"https://avatars1.githubusercontent.com/u/15011828?v=4","gravatar_id":"","url":"https://api.github.com/users/chindhuhari","html_url":"https://github.com/chindhuhari","followers_url":"https://api.github.com/users/chindhuhari/followers","following_url":"https://api.github.com/users/chindhuhari/following{/other_user}","gists_url":"https://api.github.com/users/chindhuhari/gists{/gist_id}","starred_url":"https://api.github.com/users/chindhuhari/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chindhuhari/subscriptions","organizations_url":"https://api.github.com/users/chindhuhari/orgs","repos_url":"https://api.github.com/users/chindhuhari/repos","events_url":"https://api.github.com/users/chindhuhari/events{/privacy}","received_events_url":"https://api.github.com/users/chindhuhari/received_events","type":"User","site_admin":false},"created_at":"2016-04-27T08:35:27Z","updated_at":"2016-04-27T08:35:45Z","author_association":"NONE","body":"The following is the jar(in the sysout result) which contains the class for which NoClassDefFoundError was thrown, as seen it's there in the plugins folder in elasticsearch :\n\nclass name java.net.FactoryURLClassLoader Classpath : /C:/ES_BINARY/elasticsearch-2.0.2/plugins/crawl-plugin/apache-nutch-1.10.jar      \n\nThe following is the exception that was thrown at runtime : \n\n```\n   java.lang.NoClassDefFoundError: Could not initialize class org.apache.nutch.crawl.Injector\n   at <package>.Crawler.inject(Crawler.java:186)\n   at <package>.CrawlRestAction.crawl(CrawlRestAction.java:120)\n   at <package>.CrawlRestAction.handleRequest(CrawlRestAction.java:76)\n   at org.elasticsearch.rest.BaseRestHandler.handleRequest(BaseRestHandler.java:54)\n   at org.elasticsearch.rest.RestController.executeHandler(RestController.java:207)\n   at org.elasticsearch.rest.RestController$RestHandlerFilter.process(RestController.java:281)\n   at org.elasticsearch.rest.RestController$ControllerFilterChain.continueProcessing(RestController.java:262)\n   at org.elasticsearch.rest.RestController$ControllerFilterChain.continueProcessing(RestController.java:265)\n   at org.elasticsearch.rest.RestController$ControllerFilterChain.continueProcessing(RestController.java\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/215592875","html_url":"https://github.com/elastic/elasticsearch/issues/17969#issuecomment-215592875","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17969","id":215592875,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNTU5Mjg3NQ==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2016-04-28T23:34:08Z","updated_at":"2016-04-28T23:34:08Z","author_association":"MEMBER","body":"@chindhuhari Can you please provide some more info:\n- A listing of the entire crawl-plugin directory\n- The contents of the plugin-descriptor.properties file for your plugin\n- The exact command you use to launch elasticsearch, along with any environment variables you have set with it.\n","performed_via_github_app":null}]