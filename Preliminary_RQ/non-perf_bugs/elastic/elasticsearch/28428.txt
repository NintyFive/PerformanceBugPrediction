{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/28428","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28428/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28428/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28428/events","html_url":"https://github.com/elastic/elasticsearch/issues/28428","id":292517567,"node_id":"MDU6SXNzdWUyOTI1MTc1Njc=","number":28428,"title":"Elastic indexes Document with field value larger than max long into a field mapped as long","user":{"login":"soulis-siluos","id":26977807,"node_id":"MDQ6VXNlcjI2OTc3ODA3","avatar_url":"https://avatars1.githubusercontent.com/u/26977807?v=4","gravatar_id":"","url":"https://api.github.com/users/soulis-siluos","html_url":"https://github.com/soulis-siluos","followers_url":"https://api.github.com/users/soulis-siluos/followers","following_url":"https://api.github.com/users/soulis-siluos/following{/other_user}","gists_url":"https://api.github.com/users/soulis-siluos/gists{/gist_id}","starred_url":"https://api.github.com/users/soulis-siluos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/soulis-siluos/subscriptions","organizations_url":"https://api.github.com/users/soulis-siluos/orgs","repos_url":"https://api.github.com/users/soulis-siluos/repos","events_url":"https://api.github.com/users/soulis-siluos/events{/privacy}","received_events_url":"https://api.github.com/users/soulis-siluos/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-01-29T18:46:37Z","updated_at":"2018-01-30T08:57:09Z","closed_at":"2018-01-30T08:57:09Z","author_association":"NONE","active_lock_reason":null,"body":"**Ingest Pipeline (all versions are 5.5.0)**\r\n\r\nMetricbeat(CentOS 6.5)   >  Logstash(Ubuntu 16.04) > Elasticsearch(Ubuntu 16.04)\r\n\r\n**JVM Version**\r\n$ java -version\r\njava version \"1.8.0_131\"\r\nJava(TM) SE Runtime Environment (build 1.8.0_131-b11)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)\r\n\r\n**Description of the problem including expected versus actual behavior**\r\nUsing this pipeline i see elasticsearch successfully ingest an event occasionally that contains field data which is mapped to a long, that exceeds the value of long.  I would expect elasticsearch to reject such documents as the data for the datatype is invalid.  The mappings appear in elasticsearch as expected.  When elasticdump is run it exports the erroneous value however when importing using elasticdump it correctly rejects the document due to invalid value.\r\n\r\n**Steps to reproduce**\r\ninstall metricbeat on centos and configure to send to logstash(default mappings can be used for metricbeat)\r\nlogstash configured to send to elasticsearch index  log-systeminfo-{date}\r\n\r\nMappings and A sample document that illustrates the issue can be found attached.\r\nThe field system.process.cgroup.memory.mem.limit.bytes clearly defined as a long but has the value  9223372036854776000 which exceeds max long value of 9223372036854775807by 193\r\n\r\n[mapping.txt](https://github.com/elastic/elasticsearch/files/1674829/mapping.txt)\r\n[sample.txt](https://github.com/elastic/elasticsearch/files/1674830/sample.txt)\r\n\r\n\r\n\r\n\r\n\r\n","closed_by":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"performed_via_github_app":null}