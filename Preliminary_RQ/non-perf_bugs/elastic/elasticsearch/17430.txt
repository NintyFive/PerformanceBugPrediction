{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/17430","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17430/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17430/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17430/events","html_url":"https://github.com/elastic/elasticsearch/issues/17430","id":144750663,"node_id":"MDU6SXNzdWUxNDQ3NTA2NjM=","number":17430,"title":"Elasticsearch init scripts set max open files to 65535, but expects 65536","user":{"login":"joehillen","id":139492,"node_id":"MDQ6VXNlcjEzOTQ5Mg==","avatar_url":"https://avatars0.githubusercontent.com/u/139492?v=4","gravatar_id":"","url":"https://api.github.com/users/joehillen","html_url":"https://github.com/joehillen","followers_url":"https://api.github.com/users/joehillen/followers","following_url":"https://api.github.com/users/joehillen/following{/other_user}","gists_url":"https://api.github.com/users/joehillen/gists{/gist_id}","starred_url":"https://api.github.com/users/joehillen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joehillen/subscriptions","organizations_url":"https://api.github.com/users/joehillen/orgs","repos_url":"https://api.github.com/users/joehillen/repos","events_url":"https://api.github.com/users/joehillen/events{/privacy}","received_events_url":"https://api.github.com/users/joehillen/received_events","type":"User","site_admin":false},"labels":[{"id":114977275,"node_id":"MDU6TGFiZWwxMTQ5NzcyNzU=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Packaging","name":":Delivery/Packaging","color":"0e8a16","default":false,"description":"RPM and deb packaging, tar and zip archives, shell and batch scripts"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"},{"id":92913658,"node_id":"MDU6TGFiZWw5MjkxMzY1OA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/blocker","name":"blocker","color":"e11d21","default":false,"description":null},{"id":246685314,"node_id":"MDU6TGFiZWwyNDY2ODUzMTQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v5.0.0-alpha1","name":"v5.0.0-alpha1","color":"dddddd","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":14,"created_at":"2016-03-30T23:45:17Z","updated_at":"2020-11-11T21:58:50Z","closed_at":"2016-03-31T17:50:38Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"<!--\nGitHub is reserved for bug reports and feature requests. The best place\nto ask a general question is at the Elastic Discourse forums at\nhttps://discuss.elastic.co. If you are in fact posting a bug report or\na feature request, please include one and only one of the below blocks\nin your new issue.\n-->\n\n<!--\nIf you are filing a bug report, please remove the below feature\nrequest block and provide responses for all of the below items.\n-->\n\n**Elasticsearch version**: 5.0.0-alpha1 78ab6c5b7ff82da7f7d3c059b4a43d80bad188fb\n\n**JVM version**: `OpenJDK Runtime Environment (build 1.8.0_72-internal-b15)`\n\n**OS version**: Ubuntu 14.04\n\n**Description of the problem including expected versus actual behavior**:\n\nElasticsearch expects max open file descriptors to be set to 65536, but init scripts set it to 65535.\n\n**Steps to reproduce**:\n1. Launch elasticsearch using `/etc/init.d/elasticsearch`\n\n**Provide logs (if relevant)**:\n\n```\n[2016-03-30 23:12:05,787][ERROR][bootstrap                ] Exception\njava.lang.RuntimeException: max file descriptors [65535] for elasticsearch process likely too low, increase to at least [65536]\n    at org.elasticsearch.bootstrap.BootstrapCheck.check(BootstrapCheck.java:79)\n    at org.elasticsearch.bootstrap.BootstrapCheck.check(BootstrapCheck.java:60)\n    at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:188)\n    at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:264)\n    at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:111)\n    at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:106)\n    at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:88)\n    at org.elasticsearch.cli.Command.main(Command.java:53)\n    at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:74)\n    at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:67)\n```\n","closed_by":{"login":"joehillen","id":139492,"node_id":"MDQ6VXNlcjEzOTQ5Mg==","avatar_url":"https://avatars0.githubusercontent.com/u/139492?v=4","gravatar_id":"","url":"https://api.github.com/users/joehillen","html_url":"https://github.com/joehillen","followers_url":"https://api.github.com/users/joehillen/followers","following_url":"https://api.github.com/users/joehillen/following{/other_user}","gists_url":"https://api.github.com/users/joehillen/gists{/gist_id}","starred_url":"https://api.github.com/users/joehillen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joehillen/subscriptions","organizations_url":"https://api.github.com/users/joehillen/orgs","repos_url":"https://api.github.com/users/joehillen/repos","events_url":"https://api.github.com/users/joehillen/events{/privacy}","received_events_url":"https://api.github.com/users/joehillen/received_events","type":"User","site_admin":false},"performed_via_github_app":null}