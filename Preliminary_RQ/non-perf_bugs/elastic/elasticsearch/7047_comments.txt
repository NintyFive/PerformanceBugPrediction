[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/50277306","html_url":"https://github.com/elastic/elasticsearch/issues/7047#issuecomment-50277306","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7047","id":50277306,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjc3MzA2","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2014-07-27T15:53:43Z","updated_at":"2014-07-27T15:53:43Z","author_association":"MEMBER","body":"I think that the only work around is to create first an index and then apply _analyze API to this index.\n\nWith plugins, you can now register it as a default analyzer. Check how we did it in official analyzer plugins.\n\nHTH\n\n## \n\nDavid ;-)\nTwitter : @dadoonet / @elasticsearchfr / @scrutmydocs\n\n> Le 27 juil. 2014 à 17:49, Itamar Syn-Hershko notifications@github.com a écrit :\n> \n> Issuing a GET on http://localhost:9200/_analyze?analyzer=myanalyzer&text=foo provides the following response:\n> \n> {\n> error: \"ElasticsearchIllegalArgumentException[failed to find analyzer [myanalyzer]]\",\n> status: 400\n> }\n> However, myanalyzer is definitely present (supplied via code as plugin). Elasticsearch also picked it up correctly as I was able to reference it from a mapping and perform indexing and searches correctly.\n> \n> —\n> Reply to this email directly or view it on GitHub.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/50277434","html_url":"https://github.com/elastic/elasticsearch/issues/7047#issuecomment-50277434","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7047","id":50277434,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjc3NDM0","user":{"login":"synhershko","id":212252,"node_id":"MDQ6VXNlcjIxMjI1Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/212252?v=4","gravatar_id":"","url":"https://api.github.com/users/synhershko","html_url":"https://github.com/synhershko","followers_url":"https://api.github.com/users/synhershko/followers","following_url":"https://api.github.com/users/synhershko/following{/other_user}","gists_url":"https://api.github.com/users/synhershko/gists{/gist_id}","starred_url":"https://api.github.com/users/synhershko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/synhershko/subscriptions","organizations_url":"https://api.github.com/users/synhershko/orgs","repos_url":"https://api.github.com/users/synhershko/repos","events_url":"https://api.github.com/users/synhershko/events{/privacy}","received_events_url":"https://api.github.com/users/synhershko/received_events","type":"User","site_admin":false},"created_at":"2014-07-27T15:58:58Z","updated_at":"2014-07-27T15:59:24Z","author_association":"CONTRIBUTOR","body":"I can confirm executing this against an existing index (even without defining a default analyzer) works, also for plugin analyzers which aren't being used in this index via its mapping or _analyzer.\n\nThis is not an obvious gotcha. I suggest to either fix it so `_analyze` works when executed on the cluster the same like it was executed on an index, or the very least have a comment on that in doco...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/50281820","html_url":"https://github.com/elastic/elasticsearch/issues/7047#issuecomment-50281820","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7047","id":50281820,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjgxODIw","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-07-27T18:42:57Z","updated_at":"2014-07-27T18:42:57Z","author_association":"CONTRIBUTOR","body":"@synhershko do you register it as a global analyzer? \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/50283604","html_url":"https://github.com/elastic/elasticsearch/issues/7047#issuecomment-50283604","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7047","id":50283604,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjgzNjA0","user":{"login":"synhershko","id":212252,"node_id":"MDQ6VXNlcjIxMjI1Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/212252?v=4","gravatar_id":"","url":"https://api.github.com/users/synhershko","html_url":"https://github.com/synhershko","followers_url":"https://api.github.com/users/synhershko/followers","following_url":"https://api.github.com/users/synhershko/following{/other_user}","gists_url":"https://api.github.com/users/synhershko/gists{/gist_id}","starred_url":"https://api.github.com/users/synhershko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/synhershko/subscriptions","organizations_url":"https://api.github.com/users/synhershko/orgs","repos_url":"https://api.github.com/users/synhershko/repos","events_url":"https://api.github.com/users/synhershko/events{/privacy}","received_events_url":"https://api.github.com/users/synhershko/received_events","type":"User","site_admin":false},"created_at":"2014-07-27T19:47:42Z","updated_at":"2014-07-27T19:47:42Z","author_association":"CONTRIBUTOR","body":"@clintongormley register it where? it's being picked up from a jar file I installed via a plugin, and as such I expected it to just be available...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/50284744","html_url":"https://github.com/elastic/elasticsearch/issues/7047#issuecomment-50284744","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7047","id":50284744,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjg0NzQ0","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-07-27T20:28:38Z","updated_at":"2014-07-27T20:28:38Z","author_association":"CONTRIBUTOR","body":"@synhershko Well, I don't know what you are or are not doing.  Why not take a look at the kuromoji analyzer plugin and copy what it does?\n\nhttps://github.com/elasticsearch/elasticsearch-analysis-kuromoji\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/50285449","html_url":"https://github.com/elastic/elasticsearch/issues/7047#issuecomment-50285449","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7047","id":50285449,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjg1NDQ5","user":{"login":"synhershko","id":212252,"node_id":"MDQ6VXNlcjIxMjI1Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/212252?v=4","gravatar_id":"","url":"https://api.github.com/users/synhershko","html_url":"https://github.com/synhershko","followers_url":"https://api.github.com/users/synhershko/followers","following_url":"https://api.github.com/users/synhershko/following{/other_user}","gists_url":"https://api.github.com/users/synhershko/gists{/gist_id}","starred_url":"https://api.github.com/users/synhershko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/synhershko/subscriptions","organizations_url":"https://api.github.com/users/synhershko/orgs","repos_url":"https://api.github.com/users/synhershko/repos","events_url":"https://api.github.com/users/synhershko/events{/privacy}","received_events_url":"https://api.github.com/users/synhershko/received_events","type":"User","site_admin":false},"created_at":"2014-07-27T20:54:27Z","updated_at":"2014-07-27T20:54:27Z","author_association":"CONTRIBUTOR","body":"@clintongormley aye, here is the relevant difference:\n\nhttps://github.com/elasticsearch/elasticsearch-analysis-kuromoji/blob/master/src/main/java/org/elasticsearch/indices/analysis/KuromojiIndicesAnalysis.java\nhttps://github.com/elasticsearch/elasticsearch-analysis-kuromoji/commit/a8ad05143548fd3051d40d1b62325fcf7ac5b6bf\n\nQuestion is why once it was registered with the `AnalysisModule` it's not enough to be used by the Analyze API?\n\nThis is how I register the analyzers:\n\nhttps://github.com/synhershko/elasticsearch-analysis-hebrew/blob/master/src/main/java/com/code972/elasticsearch/plugins/AnalysisPlugin.java#L31\nhttps://github.com/synhershko/elasticsearch-analysis-hebrew/blob/master/src/main/java/com/code972/elasticsearch/plugins/HebrewAnalysisBinderProcessor.java#L26\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/50285943","html_url":"https://github.com/elastic/elasticsearch/issues/7047#issuecomment-50285943","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7047","id":50285943,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjg1OTQz","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-07-27T21:12:52Z","updated_at":"2014-07-27T21:12:52Z","author_association":"CONTRIBUTOR","body":"Currently, it's just the way it is.  We have plans for making this easier though.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/50579373","html_url":"https://github.com/elastic/elasticsearch/issues/7047#issuecomment-50579373","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7047","id":50579373,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTc5Mzcz","user":{"login":"brusic","id":354105,"node_id":"MDQ6VXNlcjM1NDEwNQ==","avatar_url":"https://avatars1.githubusercontent.com/u/354105?v=4","gravatar_id":"","url":"https://api.github.com/users/brusic","html_url":"https://github.com/brusic","followers_url":"https://api.github.com/users/brusic/followers","following_url":"https://api.github.com/users/brusic/following{/other_user}","gists_url":"https://api.github.com/users/brusic/gists{/gist_id}","starred_url":"https://api.github.com/users/brusic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brusic/subscriptions","organizations_url":"https://api.github.com/users/brusic/orgs","repos_url":"https://api.github.com/users/brusic/repos","events_url":"https://api.github.com/users/brusic/events{/privacy}","received_events_url":"https://api.github.com/users/brusic/received_events","type":"User","site_admin":false},"created_at":"2014-07-30T06:43:27Z","updated_at":"2014-07-30T06:43:27Z","author_association":"CONTRIBUTOR","body":"I have definitely come across this issue before. From what I remember, the issue is that the code uses the analysis service to retrieve the analyzer and it in turn requires an index.\n\nhttps://github.com/elasticsearch/elasticsearch/blob/dbcc4e9255435bd1c5ded6a2553449fb141f9249/src/main/java/org/elasticsearch/action/admin/indices/analyze/TransportAnalyzeAction.java#L137-L146\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/158659795","html_url":"https://github.com/elastic/elasticsearch/issues/7047#issuecomment-158659795","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7047","id":158659795,"node_id":"MDEyOklzc3VlQ29tbWVudDE1ODY1OTc5NQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-11-21T16:22:43Z","updated_at":"2015-11-21T16:22:43Z","author_association":"CONTRIBUTOR","body":"Closing in favour of #8961\n","performed_via_github_app":null}]