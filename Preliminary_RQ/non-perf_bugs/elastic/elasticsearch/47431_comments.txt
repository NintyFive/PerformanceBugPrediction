[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/537549424","html_url":"https://github.com/elastic/elasticsearch/issues/47431#issuecomment-537549424","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47431","id":537549424,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNzU0OTQyNA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-10-02T15:33:28Z","updated_at":"2019-10-02T15:33:28Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra (:Core/Infra/Logging)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/540703724","html_url":"https://github.com/elastic/elasticsearch/issues/47431#issuecomment-540703724","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47431","id":540703724,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDcwMzcyNA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2019-10-10T18:03:58Z","updated_at":"2019-10-10T18:03:58Z","author_association":"MEMBER","body":"@OrangeDog Could you please expand on your reproduce steps? A more concrete list of commands/requests would be helpful in investigating this issue.\r\n\r\n@pgomulka Would you please investigate this?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/540729094","html_url":"https://github.com/elastic/elasticsearch/issues/47431#issuecomment-540729094","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47431","id":540729094,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDcyOTA5NA==","user":{"login":"OrangeDog","id":675056,"node_id":"MDQ6VXNlcjY3NTA1Ng==","avatar_url":"https://avatars2.githubusercontent.com/u/675056?v=4","gravatar_id":"","url":"https://api.github.com/users/OrangeDog","html_url":"https://github.com/OrangeDog","followers_url":"https://api.github.com/users/OrangeDog/followers","following_url":"https://api.github.com/users/OrangeDog/following{/other_user}","gists_url":"https://api.github.com/users/OrangeDog/gists{/gist_id}","starred_url":"https://api.github.com/users/OrangeDog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OrangeDog/subscriptions","organizations_url":"https://api.github.com/users/OrangeDog/orgs","repos_url":"https://api.github.com/users/OrangeDog/repos","events_url":"https://api.github.com/users/OrangeDog/events{/privacy}","received_events_url":"https://api.github.com/users/OrangeDog/received_events","type":"User","site_admin":false},"created_at":"2019-10-10T19:00:17Z","updated_at":"2019-10-10T19:00:17Z","author_association":"NONE","body":"> Could you please expand on your reproduce steps?\r\n\r\nNot really. As you can see the modification times above are spread over a month. I've not done anything in that time except have the server running and occasionally reboot for kernel updates.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/540977656","html_url":"https://github.com/elastic/elasticsearch/issues/47431#issuecomment-540977656","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47431","id":540977656,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDk3NzY1Ng==","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"created_at":"2019-10-11T08:51:57Z","updated_at":"2019-10-11T08:51:57Z","author_association":"CONTRIBUTOR","body":"in jdk8 we use these jvm options for gc logging\r\n```\r\n8:-Xloggc:${loggc}\r\n8:-XX:+UseGCLogFileRotation\r\n8:-XX:NumberOfGCLogFiles=32\r\n8:-XX:GCLogFileSize=64m\r\n```\r\nWhen you run ES, java will create gc log files gc.log.0, gc.log.1, gc.log2 etc (up to 32, then rolling back to 0) and the one that is currently being written to will be marked with `current`. In this example gc.log.3.current\r\nLet's say you stop your app, your gc logs file are \r\n```\r\ngc.log.0\r\ngc.log.1\r\ngc.log.2\r\ngc.log.3.current\r\n```\r\nthen you start again, java will start the rotation from the beginning. so you will end up with additional file gc.log.0.current\r\n```\r\ngc.log.0\r\ngc.log.0.current\r\ngc.log.1\r\ngc.log.2\r\ngc.log.3.current\r\n``` \r\n\r\nThis is a known limitation in jdk8, and was improved in jdk9+. With jdk9+ ES no longer create a current file and will continue the sequence from before the restart. For example\r\n```\r\n8289 Oct 11 10:34 gc9.log.00\r\n8232 Oct 11 10:34 gc9.log.01\r\n8210 Oct 11 10:34 gc9.log.02\r\n8244 Oct 11 10:34 gc9.log.03\r\n5059 Oct 11 10:34 gc9.log.04\r\nrestart\r\n 8348 Oct 11 10:34 gc9.log.05\r\n```\r\nI have run my sample test with filesize 8K, note that previous file ended at 5K and java created a new file after restart\r\n\r\n@OrangeDog I think upgrading to jdk9+ would help you, would you consider it?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/540980111","html_url":"https://github.com/elastic/elasticsearch/issues/47431#issuecomment-540980111","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47431","id":540980111,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDk4MDExMQ==","user":{"login":"OrangeDog","id":675056,"node_id":"MDQ6VXNlcjY3NTA1Ng==","avatar_url":"https://avatars2.githubusercontent.com/u/675056?v=4","gravatar_id":"","url":"https://api.github.com/users/OrangeDog","html_url":"https://github.com/OrangeDog","followers_url":"https://api.github.com/users/OrangeDog/followers","following_url":"https://api.github.com/users/OrangeDog/following{/other_user}","gists_url":"https://api.github.com/users/OrangeDog/gists{/gist_id}","starred_url":"https://api.github.com/users/OrangeDog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OrangeDog/subscriptions","organizations_url":"https://api.github.com/users/OrangeDog/orgs","repos_url":"https://api.github.com/users/OrangeDog/repos","events_url":"https://api.github.com/users/OrangeDog/events{/privacy}","received_events_url":"https://api.github.com/users/OrangeDog/received_events","type":"User","site_admin":false},"created_at":"2019-10-11T08:59:11Z","updated_at":"2019-10-11T08:59:11Z","author_association":"NONE","body":"That's good to know. I'll be upgrading to jdk11 soonish.","performed_via_github_app":null}]