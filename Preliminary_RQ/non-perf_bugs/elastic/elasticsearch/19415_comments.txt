[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/232341566","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-232341566","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":232341566,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMjM0MTU2Ng==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-07-13T12:35:20Z","updated_at":"2016-07-13T12:35:20Z","author_association":"CONTRIBUTOR","body":"Hi @fakeh \n\nThanks for trying out the alpha.  What you report is correct, and it is listed in the breaking changes: https://www.elastic.co/guide/en/elasticsearch/reference/master/breaking_50_java_api_changes.html#_elasticsearch_will_no_longer_detect_logging_implementations\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/232343431","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-232343431","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":232343431,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMjM0MzQzMQ==","user":{"login":"fakeh","id":3152827,"node_id":"MDQ6VXNlcjMxNTI4Mjc=","avatar_url":"https://avatars2.githubusercontent.com/u/3152827?v=4","gravatar_id":"","url":"https://api.github.com/users/fakeh","html_url":"https://github.com/fakeh","followers_url":"https://api.github.com/users/fakeh/followers","following_url":"https://api.github.com/users/fakeh/following{/other_user}","gists_url":"https://api.github.com/users/fakeh/gists{/gist_id}","starred_url":"https://api.github.com/users/fakeh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fakeh/subscriptions","organizations_url":"https://api.github.com/users/fakeh/orgs","repos_url":"https://api.github.com/users/fakeh/repos","events_url":"https://api.github.com/users/fakeh/events{/privacy}","received_events_url":"https://api.github.com/users/fakeh/received_events","type":"User","site_admin":false},"created_at":"2016-07-13T12:43:34Z","updated_at":"2016-07-13T12:43:34Z","author_association":"NONE","body":"Thanks for the swift response. If the libraries are required, why not pull in the dependencies transitively?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/232459895","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-232459895","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":232459895,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMjQ1OTg5NQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-07-13T19:23:33Z","updated_at":"2016-07-13T19:23:33Z","author_association":"CONTRIBUTOR","body":"We don't use transitive dependencies at all.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/257220589","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-257220589","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":257220589,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzIyMDU4OQ==","user":{"login":"cooniur","id":3030052,"node_id":"MDQ6VXNlcjMwMzAwNTI=","avatar_url":"https://avatars0.githubusercontent.com/u/3030052?v=4","gravatar_id":"","url":"https://api.github.com/users/cooniur","html_url":"https://github.com/cooniur","followers_url":"https://api.github.com/users/cooniur/followers","following_url":"https://api.github.com/users/cooniur/following{/other_user}","gists_url":"https://api.github.com/users/cooniur/gists{/gist_id}","starred_url":"https://api.github.com/users/cooniur/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cooniur/subscriptions","organizations_url":"https://api.github.com/users/cooniur/orgs","repos_url":"https://api.github.com/users/cooniur/repos","events_url":"https://api.github.com/users/cooniur/events{/privacy}","received_events_url":"https://api.github.com/users/cooniur/received_events","type":"User","site_admin":false},"created_at":"2016-10-31T06:12:05Z","updated_at":"2016-10-31T06:12:10Z","author_association":"NONE","body":"Hi @clintongormley , is there a doc explaining the reason why Elasticsearch 5.0 Java SDK uses Log4j2 instead of Slf4j that is IMHO much less intrusive?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/257305040","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-257305040","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":257305040,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzMwNTA0MA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-10-31T14:16:29Z","updated_at":"2016-10-31T14:16:29Z","author_association":"CONTRIBUTOR","body":"> Hi @clintongormley , is there a doc explaining the reason why Elasticsearch 5.0 Java SDK uses Log4j2 instead of Slf4j that is IMHO much less intrusive?\n\nBecause Elasticsearch is a [server](https://www.elastic.co/blog/elasticsearch-the-server) we don't feel the need to talk to a logging abstraction layer. We'd have used it if we liked the API better but we don't.\n\nThe transport client is a problem in this case, because it uses Elasticsearch's code base as though it were a library. This isn't a thing we can live with in the long term because it boxes us in in the choices we can make. So the elasticsearch java REST client is becoming a thing, though it honestly is too low level for Java developers to really enjoy using it at this point.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/257311810","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-257311810","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":257311810,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzMxMTgxMA==","user":{"login":"davidbilge","id":762988,"node_id":"MDQ6VXNlcjc2Mjk4OA==","avatar_url":"https://avatars2.githubusercontent.com/u/762988?v=4","gravatar_id":"","url":"https://api.github.com/users/davidbilge","html_url":"https://github.com/davidbilge","followers_url":"https://api.github.com/users/davidbilge/followers","following_url":"https://api.github.com/users/davidbilge/following{/other_user}","gists_url":"https://api.github.com/users/davidbilge/gists{/gist_id}","starred_url":"https://api.github.com/users/davidbilge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidbilge/subscriptions","organizations_url":"https://api.github.com/users/davidbilge/orgs","repos_url":"https://api.github.com/users/davidbilge/repos","events_url":"https://api.github.com/users/davidbilge/events{/privacy}","received_events_url":"https://api.github.com/users/davidbilge/received_events","type":"User","site_admin":false},"created_at":"2016-10-31T14:41:44Z","updated_at":"2016-10-31T14:46:16Z","author_association":"NONE","body":"Unfortunately, the Elasticsearch Java Client is not a server. If we want to use the API Jar in one of our applications, this choice forces us to use log4j.\n\nUnfortunately, there does not seem to be a `log4j2-over-slf4j` library, the `log4j-over-slf4j` library only seems to work with log4j 1.x.\n\nEdit:\nI think I found a bridge that allows to continue using logback, see http://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-to-slf4j/2.7\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/257334751","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-257334751","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":257334751,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzMzNDc1MQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-10-31T15:59:11Z","updated_at":"2016-10-31T15:59:11Z","author_association":"CONTRIBUTOR","body":"> Unfortunately, the Elasticsearch Java Client is not a server. If we want to use the API Jar in one of our applications, this choice forces us to use log4j.\n\nThat is the problem with transport client. It **is** the server. The same bits. You don't **want** it to be the server and neither do we. Thus the REST client which is, sadly, far from ready yet.\n\n> I think I found a bridge that allows to continue using logback, see http://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-to-slf4j/2.7\n\nYeah, I didn't read to your edit and was about to post https://logging.apache.org/log4j/2.0/log4j-to-slf4j/index.html which looks like the same link.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/257334854","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-257334854","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":257334854,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzMzNDg1NA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-10-31T15:59:32Z","updated_at":"2016-10-31T15:59:32Z","author_association":"CONTRIBUTOR","body":"Er, looks like it is talking about the same artifact, rather.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/257335149","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-257335149","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":257335149,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzMzNTE0OQ==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-10-31T16:00:26Z","updated_at":"2016-10-31T16:00:26Z","author_association":"MEMBER","body":"@davidbilge May be in the meantime you can shade elasticsearch server when it is used with the transport client?\nIn that case, this article may help: https://www.elastic.co/blog/to-shade-or-not-to-shade\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/257838567","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-257838567","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":257838567,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzgzODU2Nw==","user":{"login":"davidbilge","id":762988,"node_id":"MDQ6VXNlcjc2Mjk4OA==","avatar_url":"https://avatars2.githubusercontent.com/u/762988?v=4","gravatar_id":"","url":"https://api.github.com/users/davidbilge","html_url":"https://github.com/davidbilge","followers_url":"https://api.github.com/users/davidbilge/followers","following_url":"https://api.github.com/users/davidbilge/following{/other_user}","gists_url":"https://api.github.com/users/davidbilge/gists{/gist_id}","starred_url":"https://api.github.com/users/davidbilge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidbilge/subscriptions","organizations_url":"https://api.github.com/users/davidbilge/orgs","repos_url":"https://api.github.com/users/davidbilge/repos","events_url":"https://api.github.com/users/davidbilge/events{/privacy}","received_events_url":"https://api.github.com/users/davidbilge/received_events","type":"User","site_admin":false},"created_at":"2016-11-02T11:25:18Z","updated_at":"2016-11-02T11:25:18Z","author_association":"NONE","body":"@dadoonet Thanks for the idea, I will look into that. For now, I'm perfectly fine using the `log4j-to-slf4j` bridge.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/257839757","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-257839757","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":257839757,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzgzOTc1Nw==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-11-02T11:31:29Z","updated_at":"2016-11-02T11:31:29Z","author_association":"MEMBER","body":"@davidbilge I wonder if it is worth adding that in the doc. I mean in the Transport Client java documentation. Would you like to describe what you did to help other users? \nLike what was made with this specific page? https://www.elastic.co/guide/en/elasticsearch/client/java-api/current/_deploying_in_jboss_eap6_module.html\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/257840940","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-257840940","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":257840940,"node_id":"MDEyOklzc3VlQ29tbWVudDI1Nzg0MDk0MA==","user":{"login":"davidbilge","id":762988,"node_id":"MDQ6VXNlcjc2Mjk4OA==","avatar_url":"https://avatars2.githubusercontent.com/u/762988?v=4","gravatar_id":"","url":"https://api.github.com/users/davidbilge","html_url":"https://github.com/davidbilge","followers_url":"https://api.github.com/users/davidbilge/followers","following_url":"https://api.github.com/users/davidbilge/following{/other_user}","gists_url":"https://api.github.com/users/davidbilge/gists{/gist_id}","starred_url":"https://api.github.com/users/davidbilge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidbilge/subscriptions","organizations_url":"https://api.github.com/users/davidbilge/orgs","repos_url":"https://api.github.com/users/davidbilge/repos","events_url":"https://api.github.com/users/davidbilge/events{/privacy}","received_events_url":"https://api.github.com/users/davidbilge/received_events","type":"User","site_admin":false},"created_at":"2016-11-02T11:37:56Z","updated_at":"2016-11-02T11:37:56Z","author_association":"NONE","body":"Sure thing. The dependencies in my `pom.xml` basically look like this:\n\n```\n<dependency>\n    <groupId>org.elasticsearch.client</groupId>\n    <artifactId>transport</artifactId>\n    <version>5.0.0</version>\n</dependency>\n<dependency>\n    <groupId>org.apache.logging.log4j</groupId>\n    <artifactId>log4j-to-slf4j</artifactId>\n    <version>2.7</version>\n</dependency>\n<dependency>\n    <groupId>ch.qos.logback</groupId>\n    <artifactId>logback-classic</artifactId>\n    <version>1.1.7</version>\n</dependency>\n```\n\nThat solves the missing `java.lang.ClassNotFoundException` if you use a logger that implements `slf4j` (like logback does).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/267318816","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-267318816","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":267318816,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NzMxODgxNg==","user":{"login":"mvmn","id":1076779,"node_id":"MDQ6VXNlcjEwNzY3Nzk=","avatar_url":"https://avatars2.githubusercontent.com/u/1076779?v=4","gravatar_id":"","url":"https://api.github.com/users/mvmn","html_url":"https://github.com/mvmn","followers_url":"https://api.github.com/users/mvmn/followers","following_url":"https://api.github.com/users/mvmn/following{/other_user}","gists_url":"https://api.github.com/users/mvmn/gists{/gist_id}","starred_url":"https://api.github.com/users/mvmn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvmn/subscriptions","organizations_url":"https://api.github.com/users/mvmn/orgs","repos_url":"https://api.github.com/users/mvmn/repos","events_url":"https://api.github.com/users/mvmn/events{/privacy}","received_events_url":"https://api.github.com/users/mvmn/received_events","type":"User","site_admin":false},"created_at":"2016-12-15T12:43:51Z","updated_at":"2016-12-15T12:45:39Z","author_association":"NONE","body":"> That is the problem with transport client. It is the server\r\n\r\nClient is not server. You can't say \"client is server\", this is absurd, it makes no sense. Client is client, server is server, period.\r\n\r\nI get what you mean though - client reuses some classes from server. \r\n> it uses Elasticsearch's code base as though it were a library\r\n\r\nThis is clear. \r\n\r\nBut, when you actually spell it this way, e.g. correct way, then the fix becomes obvious - decouple shared classes from server and put it into separate library, not dependent on Log4J. Trivial.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/267500081","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-267500081","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":267500081,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NzUwMDA4MQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-12-16T02:14:04Z","updated_at":"2016-12-16T02:36:08Z","author_association":"MEMBER","body":"> Client is not server. You can't say \"client is server\", this is absurd, it makes no sense. Client is client, server is server, period.\r\n\r\n> But, when you actually spell it this way, e.g. correct way\r\n\r\nThese establish an adversarial relationship rather than a collaborative one. We strongly prefer the latter, and this matters to us a lot.\r\n\r\n> I get what you mean though - client reuses some classes from server.\r\n\r\nIt can't be both \"absurd\" and \"make no sense\", and you get what he means. You left off a key sentence that elucidates exactly what he meant:\r\n\r\n> It **is** the server. The same **bits**.\r\n\r\nThe two sentences go together.\r\n\r\n> then the fix becomes obvious - decouple shared classes from server and put it into separate library [...] Trivial.\r\n\r\nThe fix is obvious, but obvious is not the same as trivial. There is a lot of entanglement. We know the fix, we want to do the fix, but on this subject, for the client effort, we value pragmatism over idealism (see previous [comments](https://github.com/elastic/elasticsearch/issues/19055#issuecomment-265587044) on this very subject).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/267553791","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-267553791","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":267553791,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NzU1Mzc5MQ==","user":{"login":"mvmn","id":1076779,"node_id":"MDQ6VXNlcjEwNzY3Nzk=","avatar_url":"https://avatars2.githubusercontent.com/u/1076779?v=4","gravatar_id":"","url":"https://api.github.com/users/mvmn","html_url":"https://github.com/mvmn","followers_url":"https://api.github.com/users/mvmn/followers","following_url":"https://api.github.com/users/mvmn/following{/other_user}","gists_url":"https://api.github.com/users/mvmn/gists{/gist_id}","starred_url":"https://api.github.com/users/mvmn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvmn/subscriptions","organizations_url":"https://api.github.com/users/mvmn/orgs","repos_url":"https://api.github.com/users/mvmn/repos","events_url":"https://api.github.com/users/mvmn/events{/privacy}","received_events_url":"https://api.github.com/users/mvmn/received_events","type":"User","site_admin":false},"created_at":"2016-12-16T09:33:48Z","updated_at":"2016-12-16T09:40:15Z","author_association":"NONE","body":"> It can't be both \"absurd\" and \"make no sense\"\r\n\r\nOk. Pick the one you like more.\r\n\r\n> The two sentences go together.\r\n\r\nYou do realize the implications of stating that any two codebases that share common classes are the same (\"client and server share classes, therefore client **is** server\")? Let's consider an example: Tomcat uses java util logging and Weblogic uses java util logging - therefore Tomcat is Weblogic (but not vice versa)? Absurd or makes no sense - pick one you like.\r\n\r\n> The fix is obvious, but obvious is not the same as trivial\r\n\r\nYou're picking on words instead of figuring out the meaning behind words. Speaking of adversarial - let's not pick on words and start a demagogue contest, shall we?\r\n\r\nIt would be interesting to know what kind of entanglement prevents one from simply moving shared classes into shared library. The information on the problem - not opinions of the comments on the problem - that would be collaborative instead of adversarial.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/267557068","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-267557068","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":267557068,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NzU1NzA2OA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-12-16T09:52:05Z","updated_at":"2016-12-16T09:52:05Z","author_association":"CONTRIBUTOR","body":"Well done @mvmn - way to kill a thread...","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/267557509","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-267557509","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":267557509,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NzU1NzUwOQ==","user":{"login":"mvmn","id":1076779,"node_id":"MDQ6VXNlcjEwNzY3Nzk=","avatar_url":"https://avatars2.githubusercontent.com/u/1076779?v=4","gravatar_id":"","url":"https://api.github.com/users/mvmn","html_url":"https://github.com/mvmn","followers_url":"https://api.github.com/users/mvmn/followers","following_url":"https://api.github.com/users/mvmn/following{/other_user}","gists_url":"https://api.github.com/users/mvmn/gists{/gist_id}","starred_url":"https://api.github.com/users/mvmn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvmn/subscriptions","organizations_url":"https://api.github.com/users/mvmn/orgs","repos_url":"https://api.github.com/users/mvmn/repos","events_url":"https://api.github.com/users/mvmn/events{/privacy}","received_events_url":"https://api.github.com/users/mvmn/received_events","type":"User","site_admin":false},"created_at":"2016-12-16T09:54:17Z","updated_at":"2016-12-16T09:54:17Z","author_association":"NONE","body":">  The information on the problem - not opinions of the comments on the problem - that would be collaborative instead of adversarial.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/273100738","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-273100738","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":273100738,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzEwMDczOA==","user":{"login":"imod","id":543297,"node_id":"MDQ6VXNlcjU0MzI5Nw==","avatar_url":"https://avatars1.githubusercontent.com/u/543297?v=4","gravatar_id":"","url":"https://api.github.com/users/imod","html_url":"https://github.com/imod","followers_url":"https://api.github.com/users/imod/followers","following_url":"https://api.github.com/users/imod/following{/other_user}","gists_url":"https://api.github.com/users/imod/gists{/gist_id}","starred_url":"https://api.github.com/users/imod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imod/subscriptions","organizations_url":"https://api.github.com/users/imod/orgs","repos_url":"https://api.github.com/users/imod/repos","events_url":"https://api.github.com/users/imod/events{/privacy}","received_events_url":"https://api.github.com/users/imod/received_events","type":"User","site_admin":false},"created_at":"2017-01-17T10:40:10Z","updated_at":"2017-01-17T10:42:16Z","author_association":"NONE","body":"The above dependencies do not help if I run elasticsearch (v5.1.2) embedded (we do this for testing)...\r\n\r\nas soon as I create an index, e.g.\r\n\r\n```\r\n\t\tCreateIndexRequest createIndexRequest = new CreateIndexRequest(\"indexname\");\r\n\t\tIndicesAdminClient indices = es.getNode().client().admin().indices();\r\n\t\tindices.create(createIndexRequest).actionGet();\r\n```\r\n\r\nI get this:\r\n\r\n```\r\n11:27:32.397 [main] INFO  org.elasticsearch.http.HttpServer - publish_address {127.0.0.1:9200}, bound_addresses {[fe80::1]:9200}, {[::1]:9200}, {127.0.0.1:9200}\r\n11:27:32.397 [main] INFO  org.elasticsearch.node.Node - started\r\nException in thread \"elasticsearch[V3ONMVd][clusterService#updateTask][T#1]\" java.lang.NoClassDefFoundError: org/apache/logging/log4j/core/config/Configurator\r\n\tat org.elasticsearch.common.logging.Loggers.setLevel(Loggers.java:149)\r\n\tat org.elasticsearch.common.logging.Loggers.setLevel(Loggers.java:144)\r\n\tat org.elasticsearch.index.SearchSlowLog.setLevel(SearchSlowLog.java:111)\r\n\tat org.elasticsearch.index.SearchSlowLog.<init>(SearchSlowLog.java:106)\r\n\tat org.elasticsearch.index.IndexModule.<init>(IndexModule.java:127)\r\n\tat org.elasticsearch.indices.IndicesService.createIndexService(IndicesService.java:421)\r\n\tat org.elasticsearch.indices.IndicesService.createIndex(IndicesService.java:394)\r\n\tat org.elasticsearch.cluster.metadata.MetaDataCreateIndexService$1.execute(MetaDataCreateIndexService.java:352)\r\n\tat org.elasticsearch.cluster.ClusterStateUpdateTask.execute(ClusterStateUpdateTask.java:45)\r\n\tat org.elasticsearch.cluster.service.ClusterService.runTasksForExecutor(ClusterService.java:581)\r\n\tat org.elasticsearch.cluster.service.ClusterService$UpdateTask.run(ClusterService.java:920)\r\n\tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:458)\r\n\tat org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.runAndClean(PrioritizedEsThreadPoolExecutor.java:238)\r\n\tat org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.run(PrioritizedEsThreadPoolExecutor.java:201)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.core.config.Configurator\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n```\r\n\r\nit seems we are doomed to switch to log4j just because we use elasticsearch embedded within our tests :(","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/273112551","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-273112551","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":273112551,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzExMjU1MQ==","user":{"login":"mvmn","id":1076779,"node_id":"MDQ6VXNlcjEwNzY3Nzk=","avatar_url":"https://avatars2.githubusercontent.com/u/1076779?v=4","gravatar_id":"","url":"https://api.github.com/users/mvmn","html_url":"https://github.com/mvmn","followers_url":"https://api.github.com/users/mvmn/followers","following_url":"https://api.github.com/users/mvmn/following{/other_user}","gists_url":"https://api.github.com/users/mvmn/gists{/gist_id}","starred_url":"https://api.github.com/users/mvmn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvmn/subscriptions","organizations_url":"https://api.github.com/users/mvmn/orgs","repos_url":"https://api.github.com/users/mvmn/repos","events_url":"https://api.github.com/users/mvmn/events{/privacy}","received_events_url":"https://api.github.com/users/mvmn/received_events","type":"User","site_admin":false},"created_at":"2017-01-17T11:17:12Z","updated_at":"2017-01-17T11:17:12Z","author_association":"NONE","body":"> it seems we are doomed to switch to log4j just because we use elasticsearch embedded within our tests :(\r\n\r\nActually this is stated in the thread - you have to have Log4J in classpath if you use ElasticSearch (be it server or client - doesn't matter).\r\n\r\nYou can still use other logging system - but you must have Log4J stuff in your classpath (which might cause conflicts for some logging systems or classpath-detection using things like Spring Boot).\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/274106688","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-274106688","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":274106688,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDEwNjY4OA==","user":{"login":"kjussakov","id":3405068,"node_id":"MDQ6VXNlcjM0MDUwNjg=","avatar_url":"https://avatars0.githubusercontent.com/u/3405068?v=4","gravatar_id":"","url":"https://api.github.com/users/kjussakov","html_url":"https://github.com/kjussakov","followers_url":"https://api.github.com/users/kjussakov/followers","following_url":"https://api.github.com/users/kjussakov/following{/other_user}","gists_url":"https://api.github.com/users/kjussakov/gists{/gist_id}","starred_url":"https://api.github.com/users/kjussakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kjussakov/subscriptions","organizations_url":"https://api.github.com/users/kjussakov/orgs","repos_url":"https://api.github.com/users/kjussakov/repos","events_url":"https://api.github.com/users/kjussakov/events{/privacy}","received_events_url":"https://api.github.com/users/kjussakov/received_events","type":"User","site_admin":false},"created_at":"2017-01-20T15:55:40Z","updated_at":"2017-01-20T15:55:40Z","author_association":"NONE","body":"Anyone managed to run the 5.* version of the TransportClient in Spring Boot/Spring IO Platform application?\r\nIf so, please share how you managed to resolve the dependency conflicts.\r\nFor me, it is either `ClassNotFoundException` for `org.apache.logging.log4j.core.config.Configurator` when log4j-core is not added as a dependency or `SLF4JLoggerContext` cannot be cast to `org.apache.logging.log4j.core.LoggerContext` with added log4j-core dependency.\r\nI am using SLF4J with Logback:\r\n\r\n\r\n        <dependency>\r\n            <groupId>ch.qos.logback</groupId>\r\n            <artifactId>logback-classic</artifactId>\r\n            <version>1.1.8</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>ch.qos.logback</groupId>\r\n            <artifactId>logback-core</artifactId>\r\n            <version>1.1.8</version>\r\n        </dependency>        \r\n        <dependency>\r\n            <groupId>org.elasticsearch.client</groupId>\r\n            <artifactId>transport</artifactId>\r\n            <version>5.1.2</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.apache.logging.log4j</groupId>\r\n            <artifactId>log4j-to-slf4j</artifactId>\r\n            <version>2.7</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.apache.logging.log4j</groupId>\r\n            <artifactId>log4j-api</artifactId>\r\n            <version>2.7</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.slf4j</groupId>\r\n            <artifactId>slf4j-api</artifactId>\r\n            <version>1.7.21</version>\r\n        </dependency>\r\n\r\nI am trying to avoid the dependency shading overkill which I saw proposed in some places.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/274109943","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-274109943","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":274109943,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDEwOTk0Mw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-01-20T16:08:01Z","updated_at":"2017-01-20T16:51:22Z","author_association":"MEMBER","body":"@kjussakov Would you please open a topic on the [forum](https://discuss.elastic.co) and link to it from here? However, when you open that topic, please provide a stack trace, I can not help you without a stack trace. Before you do that though, would you please look at my [example](https://github.com/elastic/elasticsearch/issues/22671#issuecomment-273498813) on #22671 and see if it helps you solve your problems? In particular, I think that you might be able to remove the log4j-api dependency.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/274113397","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-274113397","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":274113397,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDExMzM5Nw==","user":{"login":"mvmn","id":1076779,"node_id":"MDQ6VXNlcjEwNzY3Nzk=","avatar_url":"https://avatars2.githubusercontent.com/u/1076779?v=4","gravatar_id":"","url":"https://api.github.com/users/mvmn","html_url":"https://github.com/mvmn","followers_url":"https://api.github.com/users/mvmn/followers","following_url":"https://api.github.com/users/mvmn/following{/other_user}","gists_url":"https://api.github.com/users/mvmn/gists{/gist_id}","starred_url":"https://api.github.com/users/mvmn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvmn/subscriptions","organizations_url":"https://api.github.com/users/mvmn/orgs","repos_url":"https://api.github.com/users/mvmn/repos","events_url":"https://api.github.com/users/mvmn/events{/privacy}","received_events_url":"https://api.github.com/users/mvmn/received_events","type":"User","site_admin":false},"created_at":"2017-01-20T16:21:19Z","updated_at":"2017-01-20T16:21:19Z","author_association":"NONE","body":"Try this in your pom.xml\r\n```\r\n\t<properties>\r\n\t\t<elasticsearch.version>5.1.2</elasticsearch.version>\r\n\t</properties>\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/274422827","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-274422827","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":274422827,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDQyMjgyNw==","user":{"login":"imod","id":543297,"node_id":"MDQ6VXNlcjU0MzI5Nw==","avatar_url":"https://avatars1.githubusercontent.com/u/543297?v=4","gravatar_id":"","url":"https://api.github.com/users/imod","html_url":"https://github.com/imod","followers_url":"https://api.github.com/users/imod/followers","following_url":"https://api.github.com/users/imod/following{/other_user}","gists_url":"https://api.github.com/users/imod/gists{/gist_id}","starred_url":"https://api.github.com/users/imod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imod/subscriptions","organizations_url":"https://api.github.com/users/imod/orgs","repos_url":"https://api.github.com/users/imod/repos","events_url":"https://api.github.com/users/imod/events{/privacy}","received_events_url":"https://api.github.com/users/imod/received_events","type":"User","site_admin":false},"created_at":"2017-01-23T08:06:04Z","updated_at":"2017-01-23T08:06:04Z","author_association":"NONE","body":"@kjussakov can you please add a comment with the link to the new topic?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/274438050","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-274438050","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":274438050,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDQzODA1MA==","user":{"login":"kjussakov","id":3405068,"node_id":"MDQ6VXNlcjM0MDUwNjg=","avatar_url":"https://avatars0.githubusercontent.com/u/3405068?v=4","gravatar_id":"","url":"https://api.github.com/users/kjussakov","html_url":"https://github.com/kjussakov","followers_url":"https://api.github.com/users/kjussakov/followers","following_url":"https://api.github.com/users/kjussakov/following{/other_user}","gists_url":"https://api.github.com/users/kjussakov/gists{/gist_id}","starred_url":"https://api.github.com/users/kjussakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kjussakov/subscriptions","organizations_url":"https://api.github.com/users/kjussakov/orgs","repos_url":"https://api.github.com/users/kjussakov/repos","events_url":"https://api.github.com/users/kjussakov/events{/privacy}","received_events_url":"https://api.github.com/users/kjussakov/received_events","type":"User","site_admin":false},"created_at":"2017-01-23T09:29:06Z","updated_at":"2017-01-23T09:29:06Z","author_association":"NONE","body":"Hi all,\r\nThanks for your prompt reply! I will start with making a minimal possible example which has the issue I described and then open a new topic in the forum. I already started with a simple maven project with the dependencies I mentioned above. This also follows the official 5.* [doc](https://www.elastic.co/guide/en/elasticsearch/client/java-api/current/_using_another_logger.html)\r\n\r\nWithout any Spring related dependencies it seems it works so will try now to add more until I broke it.\r\n\r\nWill keep you posted.\r\n\r\nBest regards,\r\nRumen\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/274842252","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-274842252","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":274842252,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDg0MjI1Mg==","user":{"login":"kjussakov","id":3405068,"node_id":"MDQ6VXNlcjM0MDUwNjg=","avatar_url":"https://avatars0.githubusercontent.com/u/3405068?v=4","gravatar_id":"","url":"https://api.github.com/users/kjussakov","html_url":"https://github.com/kjussakov","followers_url":"https://api.github.com/users/kjussakov/followers","following_url":"https://api.github.com/users/kjussakov/following{/other_user}","gists_url":"https://api.github.com/users/kjussakov/gists{/gist_id}","starred_url":"https://api.github.com/users/kjussakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kjussakov/subscriptions","organizations_url":"https://api.github.com/users/kjussakov/orgs","repos_url":"https://api.github.com/users/kjussakov/repos","events_url":"https://api.github.com/users/kjussakov/events{/privacy}","received_events_url":"https://api.github.com/users/kjussakov/received_events","type":"User","site_admin":false},"created_at":"2017-01-24T15:47:47Z","updated_at":"2017-01-24T15:47:47Z","author_association":"NONE","body":"And here is the link to the new [topic](https://discuss.elastic.co/t/migrate-elasticsearch-java-api-to-version-5-in-spring-io-platform-application/72661?u=kjussakov)\r\n\r\nI describe the workaround which I found to resolve the log4j dependency when running our tests with embedded Elasticsearch node.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/274902254","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-274902254","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":274902254,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDkwMjI1NA==","user":{"login":"laxika","id":1862574,"node_id":"MDQ6VXNlcjE4NjI1NzQ=","avatar_url":"https://avatars3.githubusercontent.com/u/1862574?v=4","gravatar_id":"","url":"https://api.github.com/users/laxika","html_url":"https://github.com/laxika","followers_url":"https://api.github.com/users/laxika/followers","following_url":"https://api.github.com/users/laxika/following{/other_user}","gists_url":"https://api.github.com/users/laxika/gists{/gist_id}","starred_url":"https://api.github.com/users/laxika/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/laxika/subscriptions","organizations_url":"https://api.github.com/users/laxika/orgs","repos_url":"https://api.github.com/users/laxika/repos","events_url":"https://api.github.com/users/laxika/events{/privacy}","received_events_url":"https://api.github.com/users/laxika/received_events","type":"User","site_admin":false},"created_at":"2017-01-24T19:03:31Z","updated_at":"2017-01-24T19:03:40Z","author_association":"NONE","body":"@kjussakov Add \r\n\r\n`compile group: 'org.apache.logging.log4j', name: 'log4j-to-slf4j', version: '2.7'`\r\n\r\nIt works for me with Spring Boot 1.4.2.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/283033465","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-283033465","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":283033465,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzAzMzQ2NQ==","user":{"login":"pritamm","id":848633,"node_id":"MDQ6VXNlcjg0ODYzMw==","avatar_url":"https://avatars2.githubusercontent.com/u/848633?v=4","gravatar_id":"","url":"https://api.github.com/users/pritamm","html_url":"https://github.com/pritamm","followers_url":"https://api.github.com/users/pritamm/followers","following_url":"https://api.github.com/users/pritamm/following{/other_user}","gists_url":"https://api.github.com/users/pritamm/gists{/gist_id}","starred_url":"https://api.github.com/users/pritamm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pritamm/subscriptions","organizations_url":"https://api.github.com/users/pritamm/orgs","repos_url":"https://api.github.com/users/pritamm/repos","events_url":"https://api.github.com/users/pritamm/events{/privacy}","received_events_url":"https://api.github.com/users/pritamm/received_events","type":"User","site_admin":false},"created_at":"2017-02-28T13:04:57Z","updated_at":"2017-02-28T13:04:57Z","author_association":"NONE","body":"Hi,\r\nI am using below configuration with elasticsearch 5.2.1, still getting error java.lang.ClassNotFoundException: org.apache.logging.log4j.core.Filter.\r\n\r\nCan someone please help me resolve this?\r\n\r\nmy confuguration:\r\n\"org.slf4j:slf4j-api:1.7.21\",\r\n\"org.apache.logging.log4j:log4j-api:2.7\",\r\n\"org.apache.logging.log4j:log4j-to-slf4j:2.7\",\r\n\r\nStacktrace:\r\nException in thread \"main\" java.lang.NoClassDefFoundError: org/apache/logging/log4j/core/Filter\r\n\tat java.lang.Class.getDeclaredConstructors0(Native Method)\r\n\tat java.lang.Class.privateGetDeclaredConstructors(Class.java:2671)\r\n\tat java.lang.Class.getConstructor0(Class.java:3075)\r\n\tat java.lang.Class.getConstructor(Class.java:1825)\r\n\tat org.springframework.boot.logging.LoggingSystem.get(LoggingSystem.java:134)\r\n\tat org.springframework.boot.logging.LoggingSystem.get(LoggingSystem.java:125)\r\n\tat org.springframework.boot.logging.LoggingApplicationListener.onApplicationStartedEvent(LoggingApplicationListener.java:189)\r\n\tat org.springframework.boot.logging.LoggingApplicationListener.onApplicationEvent(LoggingApplicationListener.java:173)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:163)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:136)\r\n\tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:119)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.publishEvent(EventPublishingRunListener.java:111)\r\n\tat org.springframework.boot.context.event.EventPublishingRunListener.started(EventPublishingRunListener.java:60)\r\n\tat org.springframework.boot.SpringApplicationRunListeners.started(SpringApplicationRunListeners.java:48)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:293)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1112)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1101)\r\n\tat com.audiencescience.media.search.Application.main(Application.java:14)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.logging.log4j.core.Filter\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n\t... 18 more\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/283038997","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-283038997","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":283038997,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzAzODk5Nw==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2017-02-28T13:30:43Z","updated_at":"2017-02-28T13:30:43Z","author_association":"MEMBER","body":"The stacktrace is not related to elasticsearch as far as I can see.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/283045023","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-283045023","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":283045023,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzA0NTAyMw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-02-28T13:55:58Z","updated_at":"2017-02-28T13:55:58Z","author_association":"MEMBER","body":"@pritamm If your issue is related to Elasticsearch (it does not look like it), please ask questions on the [forum](https://discuss.elastic.co).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/291586239","html_url":"https://github.com/elastic/elasticsearch/issues/19415#issuecomment-291586239","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19415","id":291586239,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTU4NjIzOQ==","user":{"login":"thaDude","id":578631,"node_id":"MDQ6VXNlcjU3ODYzMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/578631?v=4","gravatar_id":"","url":"https://api.github.com/users/thaDude","html_url":"https://github.com/thaDude","followers_url":"https://api.github.com/users/thaDude/followers","following_url":"https://api.github.com/users/thaDude/following{/other_user}","gists_url":"https://api.github.com/users/thaDude/gists{/gist_id}","starred_url":"https://api.github.com/users/thaDude/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thaDude/subscriptions","organizations_url":"https://api.github.com/users/thaDude/orgs","repos_url":"https://api.github.com/users/thaDude/repos","events_url":"https://api.github.com/users/thaDude/events{/privacy}","received_events_url":"https://api.github.com/users/thaDude/received_events","type":"User","site_admin":false},"created_at":"2017-04-04T18:14:21Z","updated_at":"2017-04-04T18:14:21Z","author_association":"NONE","body":"@nik9000 \r\n> We'd have used it if we liked the API better but we don't.\r\n\r\nDude...\r\n\r\nHello, the fact that ES 5.x `org.elasticsearch.client` transport artifact explicitly expects log4j2 2.7 made things quite hard for us. I don't understand the exact reason it's not using the slf4j API. Using `log4j-over-slf4j` is not an option since there will very likely be `log4j-slf4j-impl` in the class path to process the logs of \"standard\" libraries that don't make an explicit choice about the logging framework.\r\n\r\nOur particular - not so fancy - use case:\r\nWe use the ES 5.x client in the code for a Storm topology. The Storm distribution packs log4j2 2.1 -  which is on the class path of all Storm processes on the cluster. ES client is not content with that version due to some new log4j2 API changes I guess so what are the options:\r\n\r\n- replace all log4j2 2.1 jars on the Storm cluster with 2.7\r\n- attempt to roll a shaded *.jar which packs log4j2 2.7 with relocation of `org.apache.logging.log4j`moved to different location, `META-INF/log4j-provider.properties` updated to point at that new location, etc., etc. - spent half a day on it, still not working!\r\n\r\n... not knowing the exact log4j2-specific features you rely on (being able to log objects?) it seems just using slf4j would have been more user-friendly :/","performed_via_github_app":null}]