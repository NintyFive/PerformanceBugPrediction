[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/571753073","html_url":"https://github.com/elastic/elasticsearch/issues/50716#issuecomment-571753073","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50716","id":571753073,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MTc1MzA3Mw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-01-07T20:16:42Z","updated_at":"2020-01-07T20:16:42Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search (:Search/Search)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/572281391","html_url":"https://github.com/elastic/elasticsearch/issues/50716#issuecomment-572281391","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50716","id":572281391,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MjI4MTM5MQ==","user":{"login":"mayya-sharipova","id":5738841,"node_id":"MDQ6VXNlcjU3Mzg4NDE=","avatar_url":"https://avatars1.githubusercontent.com/u/5738841?v=4","gravatar_id":"","url":"https://api.github.com/users/mayya-sharipova","html_url":"https://github.com/mayya-sharipova","followers_url":"https://api.github.com/users/mayya-sharipova/followers","following_url":"https://api.github.com/users/mayya-sharipova/following{/other_user}","gists_url":"https://api.github.com/users/mayya-sharipova/gists{/gist_id}","starred_url":"https://api.github.com/users/mayya-sharipova/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayya-sharipova/subscriptions","organizations_url":"https://api.github.com/users/mayya-sharipova/orgs","repos_url":"https://api.github.com/users/mayya-sharipova/repos","events_url":"https://api.github.com/users/mayya-sharipova/events{/privacy}","received_events_url":"https://api.github.com/users/mayya-sharipova/received_events","type":"User","site_admin":false},"created_at":"2020-01-08T22:09:47Z","updated_at":"2020-01-08T22:09:47Z","author_association":"CONTRIBUTOR","body":"closed with pr #50717 ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/574827704","html_url":"https://github.com/elastic/elasticsearch/issues/50716#issuecomment-574827704","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50716","id":574827704,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NDgyNzcwNA==","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"created_at":"2020-01-15T19:49:56Z","updated_at":"2020-01-15T19:49:56Z","author_association":"CONTRIBUTOR","body":"I just had this falure on my PR with freshly fetched 7.x\r\nhttps://gradle-enterprise.elastic.co/s/umd5jkgvada6a\r\nboth of these failed. Similarly they failed last time together.\r\n```\r\norg.elasticsearch.xpack.test.rest.XPackRestIT.test {p0=vectors/10_dense_vector_basic/Deprecated function signature}\r\norg.elasticsearch.xpack.test.rest.XPackRestIT.test {p0=vectors/35_sparse_vector_l1l2/L1 norm}\r\n```\r\n`./gradlew ':x-pack:plugin:integTestRunner' --tests \"org.elasticsearch.xpack.test.rest.XPackRestIT.test {p0=vectors/10_dense_vector_basic/Deprecated function signature}\" -Dtests.seed=66BC9C4482030E81 -Dtests.security.manager=true -Dtests.locale=el-CY -Dtests.timezone=America/Cambridge_Bay -Dcompiler.java=13 -Druntime.java=8 -Dtests.rest.blacklist=getting_started/10_monitor_cluster_health/*`\r\n\r\n`./gradlew ':x-pack:plugin:integTestRunner' --tests \"org.elasticsearch.xpack.test.rest.XPackRestIT.test {p0=vectors/10_dense_vector_basic/Deprecated function signature}\" -Dtests.seed=66BC9C4482030E81 -Dtests.security.manager=true -Dtests.locale=el-CY -Dtests.timezone=America/Cambridge_Bay -Dcompiler.java=13 -Druntime.java=8 -Dtests.rest.blacklist=getting_started/10_monitor_cluster_health/*`\r\nboth do not reproduce localy for me","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/577623065","html_url":"https://github.com/elastic/elasticsearch/issues/50716#issuecomment-577623065","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50716","id":577623065,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NzYyMzA2NQ==","user":{"login":"mayya-sharipova","id":5738841,"node_id":"MDQ6VXNlcjU3Mzg4NDE=","avatar_url":"https://avatars1.githubusercontent.com/u/5738841?v=4","gravatar_id":"","url":"https://api.github.com/users/mayya-sharipova","html_url":"https://github.com/mayya-sharipova","followers_url":"https://api.github.com/users/mayya-sharipova/followers","following_url":"https://api.github.com/users/mayya-sharipova/following{/other_user}","gists_url":"https://api.github.com/users/mayya-sharipova/gists{/gist_id}","starred_url":"https://api.github.com/users/mayya-sharipova/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayya-sharipova/subscriptions","organizations_url":"https://api.github.com/users/mayya-sharipova/orgs","repos_url":"https://api.github.com/users/mayya-sharipova/repos","events_url":"https://api.github.com/users/mayya-sharipova/events{/privacy}","received_events_url":"https://api.github.com/users/mayya-sharipova/received_events","type":"User","site_admin":false},"created_at":"2020-01-23T10:34:48Z","updated_at":"2020-01-23T10:34:48Z","author_association":"CONTRIBUTOR","body":"The errors about not getting expected warning headers.\r\nLooks like failing tests always involved 2 shards.\r\n```\r\n\"_shards\" : {\r\n        \"total\" : 2,\r\n        \"successful\" : 2,\r\n        \"skipped\" : 0,\r\n        \"failed\" : 0\r\n      },\r\n```\r\nMay be worth to limit indexes to a single shard to ensure to get an expected warning?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/578273582","html_url":"https://github.com/elastic/elasticsearch/issues/50716#issuecomment-578273582","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50716","id":578273582,"node_id":"MDEyOklzc3VlQ29tbWVudDU3ODI3MzU4Mg==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2020-01-24T19:44:44Z","updated_at":"2020-01-24T19:44:44Z","author_association":"CONTRIBUTOR","body":"I'm seeing a few more of these:\r\n\r\nhttps://gradle-enterprise.elastic.co/s/eegnhjtnxt3ew/tests/fcijb24gqtmnc-76jrmwenri5xm\r\nhttps://gradle-enterprise.elastic.co/s/dn33qhkbnoxl2/tests/by-project?search=test+%7Bp0%3Dvectors%2F30_sparse_vector_basic%2FCosine+Similarity%7D","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/579697238","html_url":"https://github.com/elastic/elasticsearch/issues/50716#issuecomment-579697238","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50716","id":579697238,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTY5NzIzOA==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2020-01-29T10:41:56Z","updated_at":"2020-01-29T10:41:56Z","author_association":"MEMBER","body":"Most likely related, also failures in `35_sparse_vector_l1l2`\r\nhttps://gradle-enterprise.elastic.co/s/wni2k22lifatu/console-log?task=:x-pack:plugin:integTestRunner\r\n\r\n```\r\nREPRODUCE WITH: ./gradlew ':x-pack:plugin:integTestRunner' --tests \"org.elasticsearch.xpack.test.rest.XPackRestIT.test {p0=vectors/35_sparse_vector_l1l2/L2 norm}\" -Dtests.seed=8DEC507297BA3C82 -Dtests.security.manager=true -Dtests.locale=en-CA -Dtests.timezone=America/St_Vincent -Dcompiler.java=13 -Druntime.java=14 -Dtests.rest.blacklist=getting_started/10_monitor_cluster_health/*\r\n\r\norg.elasticsearch.xpack.test.rest.XPackRestIT > test {p0=vectors/35_sparse_vector_l1l2/L2 norm} FAILED\r\n    java.lang.AssertionError: Failure at [vectors/35_sparse_vector_l1l2:80]: did not get expected warning header [\r\n    \tThe [sparse_vector] field type is deprecated and will be removed in 8.0.\r\n    ]\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/579697750","html_url":"https://github.com/elastic/elasticsearch/issues/50716#issuecomment-579697750","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50716","id":579697750,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTY5Nzc1MA==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2020-01-29T10:43:19Z","updated_at":"2020-01-29T10:43:19Z","author_association":"MEMBER","body":"Also https://gradle-enterprise.elastic.co/s/p6h4e2nuvyjk2 on 7.6","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/579892685","html_url":"https://github.com/elastic/elasticsearch/issues/50716#issuecomment-579892685","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50716","id":579892685,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTg5MjY4NQ==","user":{"login":"jtibshirani","id":7461306,"node_id":"MDQ6VXNlcjc0NjEzMDY=","avatar_url":"https://avatars3.githubusercontent.com/u/7461306?v=4","gravatar_id":"","url":"https://api.github.com/users/jtibshirani","html_url":"https://github.com/jtibshirani","followers_url":"https://api.github.com/users/jtibshirani/followers","following_url":"https://api.github.com/users/jtibshirani/following{/other_user}","gists_url":"https://api.github.com/users/jtibshirani/gists{/gist_id}","starred_url":"https://api.github.com/users/jtibshirani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtibshirani/subscriptions","organizations_url":"https://api.github.com/users/jtibshirani/orgs","repos_url":"https://api.github.com/users/jtibshirani/repos","events_url":"https://api.github.com/users/jtibshirani/events{/privacy}","received_events_url":"https://api.github.com/users/jtibshirani/received_events","type":"User","site_admin":false},"created_at":"2020-01-29T18:23:05Z","updated_at":"2020-01-29T18:23:05Z","author_association":"MEMBER","body":"> May be worth to limit indexes to a single shard to ensure to get an expected warning?\r\n\r\nThanks @mayya-sharipova for debugging this, it indeed seems deprecation warnings can be dropped when merging results across shards (#33936). Although the default number of shards in 7.x is 1, we randomly use 2 shards instead in REST tests to make sure we have good coverage. I'll submit a PR to hardcode the number of shards to 1 in vector tests.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/579966800","html_url":"https://github.com/elastic/elasticsearch/issues/50716#issuecomment-579966800","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50716","id":579966800,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTk2NjgwMA==","user":{"login":"jtibshirani","id":7461306,"node_id":"MDQ6VXNlcjc0NjEzMDY=","avatar_url":"https://avatars3.githubusercontent.com/u/7461306?v=4","gravatar_id":"","url":"https://api.github.com/users/jtibshirani","html_url":"https://github.com/jtibshirani","followers_url":"https://api.github.com/users/jtibshirani/followers","following_url":"https://api.github.com/users/jtibshirani/following{/other_user}","gists_url":"https://api.github.com/users/jtibshirani/gists{/gist_id}","starred_url":"https://api.github.com/users/jtibshirani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtibshirani/subscriptions","organizations_url":"https://api.github.com/users/jtibshirani/orgs","repos_url":"https://api.github.com/users/jtibshirani/repos","events_url":"https://api.github.com/users/jtibshirani/events{/privacy}","received_events_url":"https://api.github.com/users/jtibshirani/received_events","type":"User","site_admin":false},"created_at":"2020-01-29T21:25:02Z","updated_at":"2020-01-29T21:25:02Z","author_association":"MEMBER","body":"I merged #51643 to address the issue. I'll close this for now, but please re-open it if the failures come up again.","performed_via_github_app":null}]