{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/16663","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16663/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16663/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16663/events","html_url":"https://github.com/elastic/elasticsearch/issues/16663","id":133599091,"node_id":"MDU6SXNzdWUxMzM1OTkwOTE=","number":16663,"title":"Adding a Index & Filter not working","user":{"login":"matiasdecarli","id":2442390,"node_id":"MDQ6VXNlcjI0NDIzOTA=","avatar_url":"https://avatars0.githubusercontent.com/u/2442390?v=4","gravatar_id":"","url":"https://api.github.com/users/matiasdecarli","html_url":"https://github.com/matiasdecarli","followers_url":"https://api.github.com/users/matiasdecarli/followers","following_url":"https://api.github.com/users/matiasdecarli/following{/other_user}","gists_url":"https://api.github.com/users/matiasdecarli/gists{/gist_id}","starred_url":"https://api.github.com/users/matiasdecarli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matiasdecarli/subscriptions","organizations_url":"https://api.github.com/users/matiasdecarli/orgs","repos_url":"https://api.github.com/users/matiasdecarli/repos","events_url":"https://api.github.com/users/matiasdecarli/events{/privacy}","received_events_url":"https://api.github.com/users/matiasdecarli/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2016-02-15T01:00:01Z","updated_at":"2016-02-15T16:28:43Z","closed_at":"2016-02-15T01:30:21Z","author_association":"NONE","active_lock_reason":null,"body":"Hi guys, im trying this\n\n```\ncurl -XPOST localhost:9200/_aliases -d '{\n    \"actions\": [{\n        \"add\": {\n            \"index\": \"common\",\n            \"alias\": \"alias_test\",\n            \"filter\": {\"term\": {\"customer_id\": 1}},\n            \"routing\": \"alias_test\"\n        }\n    }]\n}'\n```\n\nAnd getting this result \n\n```\n$ curl -XGET 'localhost:9200/common/_alias/*?pretty'\n\n{\n  \"common\" : {\n    \"aliases\" : {\n      \"alias_test\" : {\n        \"index_routing\" : \"alias_test\",\n        \"search_routing\" : \"alias_test\"\n      },\n      \"dolores98141\" : {\n        \"filter\" : {\n          \"term\" : {\n            \"orgId\" : \"dolores98141\"\n          }\n        },\n        \"index_routing\" : \"dolores98141\",\n        \"search_routing\" : \"dolores98141\"\n      }\n    }\n  }\n}\n```\n\nWhere `dolores98141` was a previously created index (with a filter).\n\nThe issue here: I'm not seeing any filter associated with the new `alias_test` index. Is this a bug or am I using the API in the wrong way? \n\nApparently the `filter` is only added at index creation and not when we are editing an alias\n\nThans in advance\n\nIm using `elasticsearch:2.2.0`\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}