{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/58516","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/58516/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/58516/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/58516/events","html_url":"https://github.com/elastic/elasticsearch/issues/58516","id":644918046,"node_id":"MDU6SXNzdWU2NDQ5MTgwNDY=","number":58516,"title":"Reproducible Failure in org.elasticsearch.snapshots.SnapshotResiliencyTests.testSnapshotDeleteWithMasterFailover","user":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"labels":[{"id":143077482,"node_id":"MDU6TGFiZWwxNDMwNzc0ODI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Snapshot/Restore","name":":Distributed/Snapshot/Restore","color":"0e8a16","default":false,"description":"Anything directly related to the `_snapshot/*` APIs"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"},{"id":1967496670,"node_id":"MDU6TGFiZWwxOTY3NDk2Njcw","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Distributed","name":"Team:Distributed","color":"fef2c0","default":false,"description":"Meta label for distributed team"}],"state":"closed","locked":false,"assignee":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"assignees":[{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2020-06-24T20:17:05Z","updated_at":"2020-06-25T18:44:56Z","closed_at":"2020-06-25T18:44:56Z","author_association":"MEMBER","active_lock_reason":null,"body":"Just ran into this one locally on master:\r\n\r\n```\r\n./gradlew :server:test --tests \"org.elasticsearch.snapshots.SnapshotResiliencyTests.testSnapshotDeleteWithMasterFailover\" -Dtests.seed=4FE6F0A794347189 -Dtests.locale=pl-PL -Dtests.timezone=Africa/Khartoum -Druntime.java=14\r\n```\r\n\r\nFails with:\r\n\r\n```\r\n\r\n> Task :server:test\r\nWARNING: Illegal reflective access by org.mockito.cglib.core.ReflectUtils$2 (file:/home/brownbear/.gradle/caches/modules-2/files-2.1/org.elasticsearch/securemock/1.2/98201d4ad5ac93f6b415ae9172d52b5e7cda490e/securemock-1.2.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)\r\n\r\nREPRODUCE WITH: ./gradlew ':server:test' --tests \"org.elasticsearch.snapshots.SnapshotResiliencyTests.testSnapshotDeleteWithMasterFailover\" -Dtests.seed=4FE6F0A794347189 -Dtests.security.manager=true -Dtests.locale=pl-PL -Dtests.timezone=Africa/Khartoum -Druntime.java=14\r\n\r\norg.elasticsearch.snapshots.SnapshotResiliencyTests > testSnapshotDeleteWithMasterFailover FAILED\r\n    java.lang.AssertionError: Condition wasn't fulfilled.\r\n        at __randomizedtesting.SeedInfo.seed([4FE6F0A794347189:B67BD42EFADD8D88]:0)\r\n        at org.junit.Assert.fail(Assert.java:88)\r\n        at org.elasticsearch.snapshots.SnapshotResiliencyTests.runUntil(SnapshotResiliencyTests.java:1084)\r\n        at org.elasticsearch.snapshots.SnapshotResiliencyTests.verifyReposThenStopServices(SnapshotResiliencyTests.java:274)\r\n\r\n\r\nSuite: Test class org.elasticsearch.snapshots.SnapshotResiliencyTests\r\n  1> [2020-06-24T22:15:52,945][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover] before test\r\n  1> [2020-06-24T22:15:53,256][INFO ][o.e.e.NodeEnvironment    ] [testSnapshotDeleteWithMasterFailover] using [1] data paths, mounts [[/ (/dev/nvme0n1p2)]], net usable_space [160.7gb], net total_space [467.9gb], types [ext4]\r\n  1> [2020-06-24T22:15:53,257][INFO ][o.e.e.NodeEnvironment    ] [testSnapshotDeleteWithMasterFailover] heap size [512mb], compressed ordinary object pointers [true]\r\n  1> [2020-06-24T22:15:53,512][INFO ][o.e.e.NodeEnvironment    ] [testSnapshotDeleteWithMasterFailover] using [1] data paths, mounts [[/ (/dev/nvme0n1p2)]], net usable_space [160.7gb], net total_space [467.9gb], types [ext4]\r\n  1> [2020-06-24T22:15:53,513][INFO ][o.e.e.NodeEnvironment    ] [testSnapshotDeleteWithMasterFailover] heap size [512mb], compressed ordinary object pointers [true]\r\n  1> [2020-06-24T22:15:53,528][INFO ][o.e.e.NodeEnvironment    ] [testSnapshotDeleteWithMasterFailover] using [1] data paths, mounts [[/ (/dev/nvme0n1p2)]], net usable_space [160.7gb], net total_space [467.9gb], types [ext4]\r\n  1> [2020-06-24T22:15:53,528][INFO ][o.e.e.NodeEnvironment    ] [testSnapshotDeleteWithMasterFailover] heap size [512mb], compressed ordinary object pointers [true]\r\n  1> [2020-06-24T22:15:53,544][INFO ][o.e.e.NodeEnvironment    ] [testSnapshotDeleteWithMasterFailover] using [1] data paths, mounts [[/ (/dev/nvme0n1p2)]], net usable_space [160.7gb], net total_space [467.9gb], types [ext4]\r\n  1> [2020-06-24T22:15:53,544][INFO ][o.e.e.NodeEnvironment    ] [testSnapshotDeleteWithMasterFailover] heap size [512mb], compressed ordinary object pointers [true]\r\n  1> [2020-06-24T22:15:53,559][INFO ][o.e.e.NodeEnvironment    ] [testSnapshotDeleteWithMasterFailover] using [1] data paths, mounts [[/ (/dev/nvme0n1p2)]], net usable_space [160.7gb], net total_space [467.9gb], types [ext4]\r\n  1> [2020-06-24T22:15:53,559][INFO ][o.e.e.NodeEnvironment    ] [testSnapshotDeleteWithMasterFailover] heap size [512mb], compressed ordinary object pointers [true]\r\n  1> [2020-06-24T22:15:53,575][INFO ][o.e.e.NodeEnvironment    ] [testSnapshotDeleteWithMasterFailover] using [1] data paths, mounts [[/ (/dev/nvme0n1p2)]], net usable_space [160.7gb], net total_space [467.9gb], types [ext4]\r\n  1> [2020-06-24T22:15:53,575][INFO ][o.e.e.NodeEnvironment    ] [testSnapshotDeleteWithMasterFailover] heap size [512mb], compressed ordinary object pointers [true]\r\n  1> [2020-06-24T22:15:53,593][INFO ][o.e.e.NodeEnvironment    ] [testSnapshotDeleteWithMasterFailover] using [1] data paths, mounts [[/ (/dev/nvme0n1p2)]], net usable_space [160.7gb], net total_space [467.9gb], types [ext4]\r\n  1> [2020-06-24T22:15:53,593][INFO ][o.e.e.NodeEnvironment    ] [testSnapshotDeleteWithMasterFailover] heap size [512mb], compressed ordinary object pointers [true]\r\n  1> [2020-06-24T22:15:53,671][INFO ][o.e.c.c.Coordinator      ] [testSnapshotDeleteWithMasterFailover] setting initial configuration to VotingConfiguration{YyKwLIruYM,UKZUfsHLIR,mDknTPjkvq}\r\n  1> [2020-06-24T22:15:53,672][INFO ][o.e.c.c.Coordinator      ] [testSnapshotDeleteWithMasterFailover] setting initial configuration to VotingConfiguration{YyKwLIruYM,UKZUfsHLIR,mDknTPjkvq}\r\n  1> [2020-06-24T22:15:53,672][INFO ][o.e.c.c.Coordinator      ] [testSnapshotDeleteWithMasterFailover] setting initial configuration to VotingConfiguration{YyKwLIruYM,UKZUfsHLIR,mDknTPjkvq}\r\n  1> [2020-06-24T22:15:53,673][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover] --> Connected [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}] to [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}]\r\n  1> [2020-06-24T22:15:53,673][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover] --> Connected [{node1}{mDknTPjkvq}{kAT2lcS2R1C2BuXdPa96cQ}{0.0.0.0}{0.0.0.0:2}{m}] to [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}]\r\n  1> [2020-06-24T22:15:53,673][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover] --> Connected [{node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}] to [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}]\r\n  1> [2020-06-24T22:15:53,673][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover] --> Connected [{data-node0}{GQXEPhdHYi}{_8gdUe1LQLOwEH0TOHkmyw}{0.0.0.0}{0.0.0.0:4}{d}] to [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}]\r\n  1> [2020-06-24T22:15:53,674][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover] --> Connected [{data-node1}{OHPJxSiwQK}{zq2mwJfWQeCsQgKLjvdK7g}{0.0.0.0}{0.0.0.0:5}{d}] to [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}]\r\n  1> [2020-06-24T22:15:53,674][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover] --> Connected [{data-node2}{VMJYogqreE}{YbMxIN3cR3yhV6y-BaJnqA}{0.0.0.0}{0.0.0.0:6}{d}] to [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}]\r\n  1> [2020-06-24T22:15:53,674][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover] --> Connected [{data-node3}{cIuWtwTYcs}{_dU3c-AcQgug84rGtMXUJg}{0.0.0.0}{0.0.0.0:7}{d}] to [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}]\r\n  1> [2020-06-24T22:15:53,674][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover] --> Connected [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}] to [{node1}{mDknTPjkvq}{kAT2lcS2R1C2BuXdPa96cQ}{0.0.0.0}{0.0.0.0:2}{m}]\r\n  1> [2020-06-24T22:15:53,674][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover] --> Connected [{node1}{mDknTPjkvq}{kAT2lcS2R1C2BuXdPa96cQ}{0.0.0.0}{0.0.0.0:2}{m}] to [{node1}{mDknTPjkvq}{kAT2lcS2R1C2BuXdPa96cQ}{0.0.0.0}{0.0.0.0:2}{m}]\r\n  1> [2020-06-24T22:15:53,674][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover] --> Connected [{node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}] to [{node1}{mDknTPjkvq}{kAT2lcS2R1C2BuXdPa96cQ}{0.0.0.0}{0.0.0.0:2}{m}]\r\n  1> [2020-06-24T22:15:53,674][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover] --> Connected [{data-node0}{GQXEPhdHYi}{_8gdUe1LQLOwEH0TOHkmyw}{0.0.0.0}{0.0.0.0:4}{d}] to [{node1}{mDknTPjkvq}{kAT2lcS2R1C2BuXdPa96cQ}{0.0.0.0}{0.0.0.0:2}{m}]\r\n  1> [2020-06-24T22:15:53,675][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover] --> Connected [{data-node1}{OHPJxSiwQK}{zq2mwJfWQeCsQgKLjvdK7g}{0.0.0.0}{0.0.0.0:5}{d}] to [{node1}{mDknTPjkvq}{kAT2lcS2R1C2BuXdPa96cQ}{0.0.0.0}{0.0.0.0:2}{m}]\r\n  1> [2020-06-24T22:15:53,675][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover] --> Connected [{data-node2}{VMJYogqreE}{YbMxIN3cR3yhV6y-BaJnqA}{0.0.0.0}{0.0.0.0:6}{d}] to [{node1}{mDknTPjkvq}{kAT2lcS2R1C2BuXdPa96cQ}{0.0.0.0}{0.0.0.0:2}{m}]\r\n  1> [2020-06-24T22:15:53,675][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover] --> Connected [{data-node3}{cIuWtwTYcs}{_dU3c-AcQgug84rGtMXUJg}{0.0.0.0}{0.0.0.0:7}{d}] to [{node1}{mDknTPjkvq}{kAT2lcS2R1C2BuXdPa96cQ}{0.0.0.0}{0.0.0.0:2}{m}]\r\n  1> [2020-06-24T22:15:53,675][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover] --> Connected [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}] to [{node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}]\r\n  1> [2020-06-24T22:15:53,675][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover] --> Connected [{node1}{mDknTPjkvq}{kAT2lcS2R1C2BuXdPa96cQ}{0.0.0.0}{0.0.0.0:2}{m}] to [{node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}]\r\n  1> [2020-06-24T22:15:53,675][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover] --> Connected [{node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}] to [{node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}]\r\n  1> [2020-06-24T22:15:53,676][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover] --> Connected [{data-node0}{GQXEPhdHYi}{_8gdUe1LQLOwEH0TOHkmyw}{0.0.0.0}{0.0.0.0:4}{d}] to [{node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}]\r\n  1> [2020-06-24T22:15:53,676][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover] --> Connected [{data-node1}{OHPJxSiwQK}{zq2mwJfWQeCsQgKLjvdK7g}{0.0.0.0}{0.0.0.0:5}{d}] to [{node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}]\r\n  1> [2020-06-24T22:15:53,676][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover] --> Connected [{data-node2}{VMJYogqreE}{YbMxIN3cR3yhV6y-BaJnqA}{0.0.0.0}{0.0.0.0:6}{d}] to [{node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}]\r\n  1> [2020-06-24T22:15:53,676][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover] --> Connected [{data-node3}{cIuWtwTYcs}{_dU3c-AcQgug84rGtMXUJg}{0.0.0.0}{0.0.0.0:7}{d}] to [{node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}]\r\n  1> [2020-06-24T22:15:53,677][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover] --> Connected [{data-node0}{GQXEPhdHYi}{_8gdUe1LQLOwEH0TOHkmyw}{0.0.0.0}{0.0.0.0:4}{d}] to [{data-node0}{GQXEPhdHYi}{_8gdUe1LQLOwEH0TOHkmyw}{0.0.0.0}{0.0.0.0:4}{d}]\r\n  1> [2020-06-24T22:15:53,677][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover] --> Connected [{data-node1}{OHPJxSiwQK}{zq2mwJfWQeCsQgKLjvdK7g}{0.0.0.0}{0.0.0.0:5}{d}] to [{data-node1}{OHPJxSiwQK}{zq2mwJfWQeCsQgKLjvdK7g}{0.0.0.0}{0.0.0.0:5}{d}]\r\n  1> [2020-06-24T22:15:53,677][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover] --> Connected [{data-node2}{VMJYogqreE}{YbMxIN3cR3yhV6y-BaJnqA}{0.0.0.0}{0.0.0.0:6}{d}] to [{data-node2}{VMJYogqreE}{YbMxIN3cR3yhV6y-BaJnqA}{0.0.0.0}{0.0.0.0:6}{d}]\r\n  1> [2020-06-24T22:15:53,678][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover] --> Connected [{data-node3}{cIuWtwTYcs}{_dU3c-AcQgug84rGtMXUJg}{0.0.0.0}{0.0.0.0:7}{d}] to [{data-node3}{cIuWtwTYcs}{_dU3c-AcQgug84rGtMXUJg}{0.0.0.0}{0.0.0.0:7}{d}]\r\n  1> [2020-06-24T22:15:53,679][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover{nodeId={YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}}] --> Connected [{node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}] to [{data-node0}{GQXEPhdHYi}{_8gdUe1LQLOwEH0TOHkmyw}{0.0.0.0}{0.0.0.0:4}{d}]\r\n  1> [2020-06-24T22:15:53,679][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover{nodeId={cIuWtwTYcs}{_dU3c-AcQgug84rGtMXUJg}}] --> Connected [{data-node3}{cIuWtwTYcs}{_dU3c-AcQgug84rGtMXUJg}{0.0.0.0}{0.0.0.0:7}{d}] to [{data-node0}{GQXEPhdHYi}{_8gdUe1LQLOwEH0TOHkmyw}{0.0.0.0}{0.0.0.0:4}{d}]\r\n  1> [2020-06-24T22:15:53,680][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover{nodeId={mDknTPjkvq}{kAT2lcS2R1C2BuXdPa96cQ}}] --> Connected [{node1}{mDknTPjkvq}{kAT2lcS2R1C2BuXdPa96cQ}{0.0.0.0}{0.0.0.0:2}{m}] to [{data-node2}{VMJYogqreE}{YbMxIN3cR3yhV6y-BaJnqA}{0.0.0.0}{0.0.0.0:6}{d}]\r\n  1> [2020-06-24T22:15:53,680][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover{nodeId={mDknTPjkvq}{kAT2lcS2R1C2BuXdPa96cQ}}] --> Connected [{node1}{mDknTPjkvq}{kAT2lcS2R1C2BuXdPa96cQ}{0.0.0.0}{0.0.0.0:2}{m}] to [{data-node1}{OHPJxSiwQK}{zq2mwJfWQeCsQgKLjvdK7g}{0.0.0.0}{0.0.0.0:5}{d}]\r\n  1> [2020-06-24T22:15:53,680][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover{nodeId={UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}}] --> Connected [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}] to [{data-node3}{cIuWtwTYcs}{_dU3c-AcQgug84rGtMXUJg}{0.0.0.0}{0.0.0.0:7}{d}]\r\n  1> [2020-06-24T22:15:53,681][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover{nodeId={mDknTPjkvq}{kAT2lcS2R1C2BuXdPa96cQ}}] --> Connected [{node1}{mDknTPjkvq}{kAT2lcS2R1C2BuXdPa96cQ}{0.0.0.0}{0.0.0.0:2}{m}] to [{data-node0}{GQXEPhdHYi}{_8gdUe1LQLOwEH0TOHkmyw}{0.0.0.0}{0.0.0.0:4}{d}]\r\n  1> [2020-06-24T22:15:53,681][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover{nodeId={VMJYogqreE}{YbMxIN3cR3yhV6y-BaJnqA}}] --> Connected [{data-node2}{VMJYogqreE}{YbMxIN3cR3yhV6y-BaJnqA}{0.0.0.0}{0.0.0.0:6}{d}] to [{data-node3}{cIuWtwTYcs}{_dU3c-AcQgug84rGtMXUJg}{0.0.0.0}{0.0.0.0:7}{d}]\r\n  1> [2020-06-24T22:15:53,681][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover{nodeId={YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}}] --> Connected [{node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}] to [{data-node2}{VMJYogqreE}{YbMxIN3cR3yhV6y-BaJnqA}{0.0.0.0}{0.0.0.0:6}{d}]\r\n  1> [2020-06-24T22:15:53,682][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover{nodeId={GQXEPhdHYi}{_8gdUe1LQLOwEH0TOHkmyw}}] --> Connected [{data-node0}{GQXEPhdHYi}{_8gdUe1LQLOwEH0TOHkmyw}{0.0.0.0}{0.0.0.0:4}{d}] to [{data-node1}{OHPJxSiwQK}{zq2mwJfWQeCsQgKLjvdK7g}{0.0.0.0}{0.0.0.0:5}{d}]\r\n  1> [2020-06-24T22:15:53,683][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover{nodeId={YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}}] --> Connected [{node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}] to [{data-node3}{cIuWtwTYcs}{_dU3c-AcQgug84rGtMXUJg}{0.0.0.0}{0.0.0.0:7}{d}]\r\n  1> [2020-06-24T22:15:53,683][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover{nodeId={cIuWtwTYcs}{_dU3c-AcQgug84rGtMXUJg}}] --> Connected [{data-node3}{cIuWtwTYcs}{_dU3c-AcQgug84rGtMXUJg}{0.0.0.0}{0.0.0.0:7}{d}] to [{data-node2}{VMJYogqreE}{YbMxIN3cR3yhV6y-BaJnqA}{0.0.0.0}{0.0.0.0:6}{d}]\r\n  1> [2020-06-24T22:15:53,684][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover{nodeId={OHPJxSiwQK}{zq2mwJfWQeCsQgKLjvdK7g}}] --> Connected [{data-node1}{OHPJxSiwQK}{zq2mwJfWQeCsQgKLjvdK7g}{0.0.0.0}{0.0.0.0:5}{d}] to [{data-node0}{GQXEPhdHYi}{_8gdUe1LQLOwEH0TOHkmyw}{0.0.0.0}{0.0.0.0:4}{d}]\r\n  1> [2020-06-24T22:15:53,684][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover{nodeId={GQXEPhdHYi}{_8gdUe1LQLOwEH0TOHkmyw}}] --> Connected [{data-node0}{GQXEPhdHYi}{_8gdUe1LQLOwEH0TOHkmyw}{0.0.0.0}{0.0.0.0:4}{d}] to [{data-node3}{cIuWtwTYcs}{_dU3c-AcQgug84rGtMXUJg}{0.0.0.0}{0.0.0.0:7}{d}]\r\n  1> [2020-06-24T22:15:53,684][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover{nodeId={UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}}] --> Connected [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}] to [{data-node1}{OHPJxSiwQK}{zq2mwJfWQeCsQgKLjvdK7g}{0.0.0.0}{0.0.0.0:5}{d}]\r\n  1> [2020-06-24T22:15:53,685][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover{nodeId={YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}}] --> Connected [{node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}] to [{data-node1}{OHPJxSiwQK}{zq2mwJfWQeCsQgKLjvdK7g}{0.0.0.0}{0.0.0.0:5}{d}]\r\n  1> [2020-06-24T22:15:53,685][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover{nodeId={VMJYogqreE}{YbMxIN3cR3yhV6y-BaJnqA}}] --> Connected [{data-node2}{VMJYogqreE}{YbMxIN3cR3yhV6y-BaJnqA}{0.0.0.0}{0.0.0.0:6}{d}] to [{data-node1}{OHPJxSiwQK}{zq2mwJfWQeCsQgKLjvdK7g}{0.0.0.0}{0.0.0.0:5}{d}]\r\n  1> [2020-06-24T22:15:53,686][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover{nodeId={UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}}] --> Connected [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}] to [{data-node2}{VMJYogqreE}{YbMxIN3cR3yhV6y-BaJnqA}{0.0.0.0}{0.0.0.0:6}{d}]\r\n  1> [2020-06-24T22:15:53,686][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover{nodeId={OHPJxSiwQK}{zq2mwJfWQeCsQgKLjvdK7g}}] --> Connected [{data-node1}{OHPJxSiwQK}{zq2mwJfWQeCsQgKLjvdK7g}{0.0.0.0}{0.0.0.0:5}{d}] to [{data-node2}{VMJYogqreE}{YbMxIN3cR3yhV6y-BaJnqA}{0.0.0.0}{0.0.0.0:6}{d}]\r\n  1> [2020-06-24T22:15:53,687][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover{nodeId={UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}}] --> Connected [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}] to [{data-node0}{GQXEPhdHYi}{_8gdUe1LQLOwEH0TOHkmyw}{0.0.0.0}{0.0.0.0:4}{d}]\r\n  1> [2020-06-24T22:15:53,687][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover{nodeId={GQXEPhdHYi}{_8gdUe1LQLOwEH0TOHkmyw}}] --> Connected [{data-node0}{GQXEPhdHYi}{_8gdUe1LQLOwEH0TOHkmyw}{0.0.0.0}{0.0.0.0:4}{d}] to [{data-node2}{VMJYogqreE}{YbMxIN3cR3yhV6y-BaJnqA}{0.0.0.0}{0.0.0.0:6}{d}]\r\n  1> [2020-06-24T22:15:53,687][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover{nodeId={cIuWtwTYcs}{_dU3c-AcQgug84rGtMXUJg}}] --> Connected [{data-node3}{cIuWtwTYcs}{_dU3c-AcQgug84rGtMXUJg}{0.0.0.0}{0.0.0.0:7}{d}] to [{data-node1}{OHPJxSiwQK}{zq2mwJfWQeCsQgKLjvdK7g}{0.0.0.0}{0.0.0.0:5}{d}]\r\n  1> [2020-06-24T22:15:53,688][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover{nodeId={OHPJxSiwQK}{zq2mwJfWQeCsQgKLjvdK7g}}] --> Connected [{data-node1}{OHPJxSiwQK}{zq2mwJfWQeCsQgKLjvdK7g}{0.0.0.0}{0.0.0.0:5}{d}] to [{data-node3}{cIuWtwTYcs}{_dU3c-AcQgug84rGtMXUJg}{0.0.0.0}{0.0.0.0:7}{d}]\r\n  1> [2020-06-24T22:15:53,689][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover{nodeId={VMJYogqreE}{YbMxIN3cR3yhV6y-BaJnqA}}] --> Connected [{data-node2}{VMJYogqreE}{YbMxIN3cR3yhV6y-BaJnqA}{0.0.0.0}{0.0.0.0:6}{d}] to [{data-node0}{GQXEPhdHYi}{_8gdUe1LQLOwEH0TOHkmyw}{0.0.0.0}{0.0.0.0:4}{d}]\r\n  1> [2020-06-24T22:15:53,690][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover{nodeId={mDknTPjkvq}{kAT2lcS2R1C2BuXdPa96cQ}}] --> Connected [{node1}{mDknTPjkvq}{kAT2lcS2R1C2BuXdPa96cQ}{0.0.0.0}{0.0.0.0:2}{m}] to [{data-node3}{cIuWtwTYcs}{_dU3c-AcQgug84rGtMXUJg}{0.0.0.0}{0.0.0.0:7}{d}]\r\n  1> [2020-06-24T22:15:53,704][INFO ][o.e.c.s.MasterService    ] [testSnapshotDeleteWithMasterFailover] elected-as-master ([2] nodes joined)[{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m} elect leader, {node1}{mDknTPjkvq}{kAT2lcS2R1C2BuXdPa96cQ}{0.0.0.0}{0.0.0.0:2}{m} elect leader, _BECOME_MASTER_TASK_, _FINISH_ELECTION_], term: 1, version: 1, delta: master node changed {previous [], current [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}]}\r\n  1> [2020-06-24T22:15:53,726][INFO ][o.e.c.c.CoordinationState] [testSnapshotDeleteWithMasterFailover{nodeId={mDknTPjkvq}{kAT2lcS2R1C2BuXdPa96cQ}}] cluster UUID set to [htcEmyd8TMOkXh7KgwHtHA]\r\n  1> [2020-06-24T22:15:53,730][INFO ][o.e.c.c.CoordinationState] [testSnapshotDeleteWithMasterFailover{nodeId={VMJYogqreE}{YbMxIN3cR3yhV6y-BaJnqA}}] cluster UUID set to [htcEmyd8TMOkXh7KgwHtHA]\r\n  1> [2020-06-24T22:15:53,731][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] master node changed {previous [], current [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}]}, added {{data-node1}{OHPJxSiwQK}{zq2mwJfWQeCsQgKLjvdK7g}{0.0.0.0}{0.0.0.0:5}{d},{data-node2}{VMJYogqreE}{YbMxIN3cR3yhV6y-BaJnqA}{0.0.0.0}{0.0.0.0:6}{d},{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m},{node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m},{data-node0}{GQXEPhdHYi}{_8gdUe1LQLOwEH0TOHkmyw}{0.0.0.0}{0.0.0.0:4}{d},{data-node3}{cIuWtwTYcs}{_dU3c-AcQgug84rGtMXUJg}{0.0.0.0}{0.0.0.0:7}{d}}, term: 1, version: 1, reason: ApplyCommitRequest{term=1, version=1, sourceNode={node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}}\r\n  1> [2020-06-24T22:15:53,733][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] master node changed {previous [], current [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}]}, added {{data-node0}{GQXEPhdHYi}{_8gdUe1LQLOwEH0TOHkmyw}{0.0.0.0}{0.0.0.0:4}{d},{data-node1}{OHPJxSiwQK}{zq2mwJfWQeCsQgKLjvdK7g}{0.0.0.0}{0.0.0.0:5}{d},{node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m},{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m},{node1}{mDknTPjkvq}{kAT2lcS2R1C2BuXdPa96cQ}{0.0.0.0}{0.0.0.0:2}{m},{data-node3}{cIuWtwTYcs}{_dU3c-AcQgug84rGtMXUJg}{0.0.0.0}{0.0.0.0:7}{d}}, term: 1, version: 1, reason: ApplyCommitRequest{term=1, version=1, sourceNode={node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}}\r\n  1> [2020-06-24T22:15:53,735][INFO ][o.e.c.c.CoordinationState] [testSnapshotDeleteWithMasterFailover{nodeId={YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}}] cluster UUID set to [htcEmyd8TMOkXh7KgwHtHA]\r\n  1> [2020-06-24T22:15:53,736][INFO ][o.e.c.c.CoordinationState] [testSnapshotDeleteWithMasterFailover{nodeId={cIuWtwTYcs}{_dU3c-AcQgug84rGtMXUJg}}] cluster UUID set to [htcEmyd8TMOkXh7KgwHtHA]\r\n  1> [2020-06-24T22:15:53,736][INFO ][o.e.c.c.CoordinationState] [testSnapshotDeleteWithMasterFailover{nodeId={GQXEPhdHYi}{_8gdUe1LQLOwEH0TOHkmyw}}] cluster UUID set to [htcEmyd8TMOkXh7KgwHtHA]\r\n  1> [2020-06-24T22:15:53,736][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] master node changed {previous [], current [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}]}, added {{node1}{mDknTPjkvq}{kAT2lcS2R1C2BuXdPa96cQ}{0.0.0.0}{0.0.0.0:2}{m},{data-node1}{OHPJxSiwQK}{zq2mwJfWQeCsQgKLjvdK7g}{0.0.0.0}{0.0.0.0:5}{d},{data-node0}{GQXEPhdHYi}{_8gdUe1LQLOwEH0TOHkmyw}{0.0.0.0}{0.0.0.0:4}{d},{data-node3}{cIuWtwTYcs}{_dU3c-AcQgug84rGtMXUJg}{0.0.0.0}{0.0.0.0:7}{d},{data-node2}{VMJYogqreE}{YbMxIN3cR3yhV6y-BaJnqA}{0.0.0.0}{0.0.0.0:6}{d},{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}}, term: 1, version: 1, reason: ApplyCommitRequest{term=1, version=1, sourceNode={node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}}\r\n  1> [2020-06-24T22:15:53,737][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] master node changed {previous [], current [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}]}, added {{node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m},{data-node2}{VMJYogqreE}{YbMxIN3cR3yhV6y-BaJnqA}{0.0.0.0}{0.0.0.0:6}{d},{data-node3}{cIuWtwTYcs}{_dU3c-AcQgug84rGtMXUJg}{0.0.0.0}{0.0.0.0:7}{d},{node1}{mDknTPjkvq}{kAT2lcS2R1C2BuXdPa96cQ}{0.0.0.0}{0.0.0.0:2}{m},{data-node1}{OHPJxSiwQK}{zq2mwJfWQeCsQgKLjvdK7g}{0.0.0.0}{0.0.0.0:5}{d},{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}}, term: 1, version: 1, reason: ApplyCommitRequest{term=1, version=1, sourceNode={node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}}\r\n  1> [2020-06-24T22:15:53,738][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] master node changed {previous [], current [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}]}, added {{data-node1}{OHPJxSiwQK}{zq2mwJfWQeCsQgKLjvdK7g}{0.0.0.0}{0.0.0.0:5}{d},{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m},{node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m},{node1}{mDknTPjkvq}{kAT2lcS2R1C2BuXdPa96cQ}{0.0.0.0}{0.0.0.0:2}{m},{data-node0}{GQXEPhdHYi}{_8gdUe1LQLOwEH0TOHkmyw}{0.0.0.0}{0.0.0.0:4}{d},{data-node2}{VMJYogqreE}{YbMxIN3cR3yhV6y-BaJnqA}{0.0.0.0}{0.0.0.0:6}{d}}, term: 1, version: 1, reason: ApplyCommitRequest{term=1, version=1, sourceNode={node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}}\r\n  1> [2020-06-24T22:15:53,738][INFO ][o.e.c.c.CoordinationState] [testSnapshotDeleteWithMasterFailover{nodeId={UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}}] cluster UUID set to [htcEmyd8TMOkXh7KgwHtHA]\r\n  1> [2020-06-24T22:15:53,738][INFO ][o.e.c.c.CoordinationState] [testSnapshotDeleteWithMasterFailover{nodeId={OHPJxSiwQK}{zq2mwJfWQeCsQgKLjvdK7g}}] cluster UUID set to [htcEmyd8TMOkXh7KgwHtHA]\r\n  1> [2020-06-24T22:15:53,739][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] master node changed {previous [], current [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}]}, added {{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m},{data-node3}{cIuWtwTYcs}{_dU3c-AcQgug84rGtMXUJg}{0.0.0.0}{0.0.0.0:7}{d},{data-node2}{VMJYogqreE}{YbMxIN3cR3yhV6y-BaJnqA}{0.0.0.0}{0.0.0.0:6}{d},{node1}{mDknTPjkvq}{kAT2lcS2R1C2BuXdPa96cQ}{0.0.0.0}{0.0.0.0:2}{m},{node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m},{data-node0}{GQXEPhdHYi}{_8gdUe1LQLOwEH0TOHkmyw}{0.0.0.0}{0.0.0.0:4}{d}}, term: 1, version: 1, reason: ApplyCommitRequest{term=1, version=1, sourceNode={node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}}\r\n  1> [2020-06-24T22:15:53,741][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] master node changed {previous [], current [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}]}, added {{data-node0}{GQXEPhdHYi}{_8gdUe1LQLOwEH0TOHkmyw}{0.0.0.0}{0.0.0.0:4}{d},{data-node2}{VMJYogqreE}{YbMxIN3cR3yhV6y-BaJnqA}{0.0.0.0}{0.0.0.0:6}{d},{data-node3}{cIuWtwTYcs}{_dU3c-AcQgug84rGtMXUJg}{0.0.0.0}{0.0.0.0:7}{d},{node1}{mDknTPjkvq}{kAT2lcS2R1C2BuXdPa96cQ}{0.0.0.0}{0.0.0.0:2}{m},{node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m},{data-node1}{OHPJxSiwQK}{zq2mwJfWQeCsQgKLjvdK7g}{0.0.0.0}{0.0.0.0:5}{d}}, term: 1, version: 1, reason: Publication{term=1, version=1}\r\n  1> [2020-06-24T22:15:53,851][INFO ][o.e.r.RepositoriesService] [testSnapshotDeleteWithMasterFailover] put repository [repo]\r\n  1> [2020-06-24T22:15:53,925][INFO ][o.e.c.m.MetadataCreateIndexService] [testSnapshotDeleteWithMasterFailover] [test] creating index, cause [api], templates [], shards [4]/[0], mappings []\r\n  1> [2020-06-24T22:15:54,249][INFO ][o.e.c.r.a.AllocationService] [testSnapshotDeleteWithMasterFailover] current.health=\"GREEN\" message=\"Cluster health status changed from [YELLOW] to [GREEN] (reason: [shards started [[test][2], [test][3], [test][1], [test][0]]]).\" previous.health=\"YELLOW\" reason=\"shards started [[test][2], [test][3], [test][1], [test][0]]\"\r\n  1> [2020-06-24T22:15:54,299][INFO ][o.e.s.SnapshotsService   ] [testSnapshotDeleteWithMasterFailover] snapshot [repo:snapshot/pePl7o2dR6qtTTf9nqPrPQ] started\r\n  1> [2020-06-24T22:15:54,301][INFO ][o.e.s.SnapshotsService   ] [testSnapshotDeleteWithMasterFailover{nodeId={UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}}] deleting snapshots [snapshot] from repository [repo]\r\n  1> [2020-06-24T22:15:54,306][INFO ][o.e.c.c.Coordinator      ] [testSnapshotDeleteWithMasterFailover{nodeId={OHPJxSiwQK}{zq2mwJfWQeCsQgKLjvdK7g}}] master node [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}] failed, restarting discovery\r\n  1> org.elasticsearch.transport.NodeDisconnectedException: [node0][0.0.0.0:1][disconnected] disconnected\r\n  1> [2020-06-24T22:15:54,308][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] master node changed {previous [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}], current []}, term: 1, version: 6, reason: becoming candidate: onLeaderFailure\r\n  1> [2020-06-24T22:15:54,309][INFO ][o.e.c.c.Coordinator      ] [testSnapshotDeleteWithMasterFailover{nodeId={GQXEPhdHYi}{_8gdUe1LQLOwEH0TOHkmyw}}] master node [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}] failed, restarting discovery\r\n  1> org.elasticsearch.transport.NodeDisconnectedException: [node0][0.0.0.0:1][disconnected] disconnected\r\n  1> [2020-06-24T22:15:54,309][INFO ][o.e.c.c.Coordinator      ] [testSnapshotDeleteWithMasterFailover{nodeId={cIuWtwTYcs}{_dU3c-AcQgug84rGtMXUJg}}] master node [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}] failed, restarting discovery\r\n  1> org.elasticsearch.transport.NodeDisconnectedException: [node0][0.0.0.0:1][disconnected] disconnected\r\n  1> [2020-06-24T22:15:54,310][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] master node changed {previous [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}], current []}, term: 1, version: 6, reason: becoming candidate: onLeaderFailure\r\n  1> [2020-06-24T22:15:54,311][INFO ][o.e.c.c.Coordinator      ] [testSnapshotDeleteWithMasterFailover{nodeId={VMJYogqreE}{YbMxIN3cR3yhV6y-BaJnqA}}] master node [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}] failed, restarting discovery\r\n  1> org.elasticsearch.transport.NodeDisconnectedException: [node0][0.0.0.0:1][disconnected] disconnected\r\n  1> [2020-06-24T22:15:54,312][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] master node changed {previous [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}], current []}, term: 1, version: 6, reason: becoming candidate: onLeaderFailure\r\n  1> [2020-06-24T22:15:54,313][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] master node changed {previous [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}], current []}, term: 1, version: 6, reason: becoming candidate: onLeaderFailure\r\n  1> [2020-06-24T22:15:54,315][INFO ][o.e.c.c.Coordinator      ] [testSnapshotDeleteWithMasterFailover{nodeId={YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}}] master node [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}] failed, restarting discovery\r\n  1> org.elasticsearch.transport.NodeDisconnectedException: [node0][0.0.0.0:1][disconnected] disconnected\r\n  1> [2020-06-24T22:15:54,316][INFO ][o.e.c.c.Coordinator      ] [testSnapshotDeleteWithMasterFailover{nodeId={mDknTPjkvq}{kAT2lcS2R1C2BuXdPa96cQ}}] master node [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}] failed, restarting discovery\r\n  1> org.elasticsearch.transport.NodeDisconnectedException: [node0][0.0.0.0:1][disconnected] disconnected\r\n  1> [2020-06-24T22:15:54,317][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] master node changed {previous [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}], current []}, term: 1, version: 6, reason: becoming candidate: onLeaderFailure\r\n  1> [2020-06-24T22:15:54,317][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] master node changed {previous [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}], current []}, term: 1, version: 7, reason: becoming candidate: onLeaderFailure\r\n  1> [2020-06-24T22:15:54,320][INFO ][o.e.c.s.MasterService    ] [testSnapshotDeleteWithMasterFailover] elected-as-master ([2] nodes joined)[{node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m} elect leader, {node1}{mDknTPjkvq}{kAT2lcS2R1C2BuXdPa96cQ}{0.0.0.0}{0.0.0.0:2}{m} elect leader, _BECOME_MASTER_TASK_, _FINISH_ELECTION_], term: 2, version: 8, delta: master node changed {previous [], current [{node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}]}\r\n  1> [2020-06-24T22:15:54,333][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] master node changed {previous [], current [{node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}]}, term: 2, version: 8, reason: ApplyCommitRequest{term=2, version=8, sourceNode={node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}}\r\n  1> [2020-06-24T22:15:54,334][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] master node changed {previous [], current [{node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}]}, term: 2, version: 8, reason: ApplyCommitRequest{term=2, version=8, sourceNode={node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}}\r\n  1> [2020-06-24T22:15:54,335][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] master node changed {previous [], current [{node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}]}, term: 2, version: 8, reason: ApplyCommitRequest{term=2, version=8, sourceNode={node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}}\r\n  1> [2020-06-24T22:15:54,337][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] master node changed {previous [], current [{node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}]}, term: 2, version: 8, reason: ApplyCommitRequest{term=2, version=8, sourceNode={node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}}\r\n  1> [2020-06-24T22:15:54,338][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] master node changed {previous [], current [{node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}]}, term: 2, version: 8, reason: ApplyCommitRequest{term=2, version=8, sourceNode={node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}}\r\n  1> [2020-06-24T22:15:54,339][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] master node changed {previous [], current [{node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}]}, term: 2, version: 8, reason: Publication{term=2, version=8}\r\n  1> [2020-06-24T22:15:54,347][INFO ][o.e.s.SnapshotsService   ] [testSnapshotDeleteWithMasterFailover] deleting snapshots [snapshot] from repository [repo]\r\n  1> [2020-06-24T22:15:54,376][INFO ][o.e.c.s.MasterService    ] [testSnapshotDeleteWithMasterFailover] node-left[{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m} reason: disconnected], term: 2, version: 13, delta: removed {{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}}\r\n  1> [2020-06-24T22:15:54,378][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] removed {{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}}, term: 2, version: 13, reason: ApplyCommitRequest{term=2, version=13, sourceNode={node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}}\r\n  1> [2020-06-24T22:15:54,379][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] removed {{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}}, term: 2, version: 13, reason: ApplyCommitRequest{term=2, version=13, sourceNode={node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}}\r\n  1> [2020-06-24T22:15:54,380][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] removed {{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}}, term: 2, version: 13, reason: ApplyCommitRequest{term=2, version=13, sourceNode={node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}}\r\n  1> [2020-06-24T22:15:54,380][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] removed {{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}}, term: 2, version: 13, reason: ApplyCommitRequest{term=2, version=13, sourceNode={node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}}\r\n  1> [2020-06-24T22:15:54,380][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] removed {{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}}, term: 2, version: 13, reason: ApplyCommitRequest{term=2, version=13, sourceNode={node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}}\r\n  1> [2020-06-24T22:15:54,381][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] removed {{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}}, term: 2, version: 13, reason: Publication{term=2, version=13}\r\n  1> [2020-06-24T22:15:54,388][INFO ][o.e.s.SnapshotsService   ] [testSnapshotDeleteWithMasterFailover{nodeId={YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}}] snapshot [repo:snapshot/pePl7o2dR6qtTTf9nqPrPQ] completed with state [FAILED]\r\n  1> [2020-06-24T22:15:54,410][INFO ][o.e.s.SnapshotsService   ] [testSnapshotDeleteWithMasterFailover{nodeId={YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}}] snapshots [snapshot/pePl7o2dR6qtTTf9nqPrPQ] deleted\r\n  1> [2020-06-24T22:15:54,414][INFO ][o.e.s.SnapshotsService   ] [testSnapshotDeleteWithMasterFailover] Successfully deleted snapshots [snapshot/pePl7o2dR6qtTTf9nqPrPQ]\r\n  1> [2020-06-24T22:15:54,419][INFO ][o.e.c.c.C.CoordinatorPublication] [testSnapshotDeleteWithMasterFailover{nodeId={UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}}] after [10s] publication of cluster state version [7] is still waiting for {node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m} [SENT_APPLY_COMMIT], {data-node0}{GQXEPhdHYi}{_8gdUe1LQLOwEH0TOHkmyw}{0.0.0.0}{0.0.0.0:4}{d} [SENT_PUBLISH_REQUEST], {data-node1}{OHPJxSiwQK}{zq2mwJfWQeCsQgKLjvdK7g}{0.0.0.0}{0.0.0.0:5}{d} [SENT_PUBLISH_REQUEST]\r\n  1> [2020-06-24T22:15:54,435][WARN ][o.e.c.c.C.CoordinatorPublication] [testSnapshotDeleteWithMasterFailover] after [30s] publication of cluster state version [7] is still waiting for {node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m} [SENT_APPLY_COMMIT], {data-node0}{GQXEPhdHYi}{_8gdUe1LQLOwEH0TOHkmyw}{0.0.0.0}{0.0.0.0:4}{d} [SENT_PUBLISH_REQUEST], {data-node1}{OHPJxSiwQK}{zq2mwJfWQeCsQgKLjvdK7g}{0.0.0.0}{0.0.0.0:5}{d} [SENT_PUBLISH_REQUEST]\r\n  1> [2020-06-24T22:15:54,438][WARN ][o.e.c.s.MasterService    ] [testSnapshotDeleteWithMasterFailover] failing [update snapshot state[repo:snapshot/pePl7o2dR6qtTTf9nqPrPQ, shardId [[test][2]], status [SUCCESS], repo:snapshot/pePl7o2dR6qtTTf9nqPrPQ, shardId [[test][0]], status [SUCCESS], repo:snapshot/pePl7o2dR6qtTTf9nqPrPQ, shardId [[test][3]], status [SUCCESS], repo:snapshot/pePl7o2dR6qtTTf9nqPrPQ, shardId [[test][1]], status [SUCCESS]]]: failed to commit cluster state version [8]\r\n  1> org.elasticsearch.cluster.coordination.FailedToCommitClusterStateException: publication failed\r\n  1>    at org.elasticsearch.cluster.coordination.Coordinator$CoordinatorPublication$4.onFailure(Coordinator.java:1418) [main/:?]\r\n  1>    at org.elasticsearch.action.ActionRunnable.onFailure(ActionRunnable.java:88) [main/:?]\r\n  1>    at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:39) [main/:?]\r\n  1>    at org.elasticsearch.common.util.concurrent.EsExecutors$DirectExecutorService.execute(EsExecutors.java:178) [main/:?]\r\n  1>    at org.elasticsearch.common.util.concurrent.ListenableFuture.notifyListener(ListenableFuture.java:106) [main/:?]\r\n  1>    at org.elasticsearch.common.util.concurrent.ListenableFuture.addListener(ListenableFuture.java:68) [main/:?]\r\n  1>    at org.elasticsearch.cluster.coordination.Coordinator$CoordinatorPublication.onCompletion(Coordinator.java:1341) [main/:?]\r\n  1>    at org.elasticsearch.cluster.coordination.Publication.onPossibleCompletion(Publication.java:125) [main/:?]\r\n  1>    at org.elasticsearch.cluster.coordination.Publication.onPossibleCommitFailure(Publication.java:173) [main/:?]\r\n  1>    at org.elasticsearch.cluster.coordination.Publication$PublicationTarget.onFaultyNode(Publication.java:295) [main/:?]\r\n  1>    at org.elasticsearch.cluster.coordination.Publication.lambda$onFaultyNode$2(Publication.java:93) [main/:?]\r\n  1>    at java.util.ArrayList.forEach(ArrayList.java:1510) [?:?]\r\n  1>    at org.elasticsearch.cluster.coordination.Publication.onFaultyNode(Publication.java:93) [main/:?]\r\n  1>    at org.elasticsearch.cluster.coordination.Publication.start(Publication.java:70) [main/:?]\r\n  1>    at org.elasticsearch.cluster.coordination.Coordinator.publish(Coordinator.java:1075) [main/:?]\r\n  1>    at org.elasticsearch.cluster.service.FakeThreadPoolMasterService.publish(FakeThreadPoolMasterService.java:129) [framework-8.0.0-SNAPSHOT.jar:?]\r\n  1>    at org.elasticsearch.cluster.service.MasterService.runTasks(MasterService.java:245) [main/:?]\r\n  1>    at org.elasticsearch.cluster.service.MasterService$Batcher.run(MasterService.java:151) [main/:?]\r\n  1>    at org.elasticsearch.cluster.service.TaskBatcher.runIfNotProcessed(TaskBatcher.java:150) [main/:?]\r\n  1>    at org.elasticsearch.cluster.service.TaskBatcher$BatchedTask.run(TaskBatcher.java:188) [main/:?]\r\n  1>    at org.elasticsearch.cluster.service.FakeThreadPoolMasterService$2.run(FakeThreadPoolMasterService.java:107) [framework-8.0.0-SNAPSHOT.jar:?]\r\n  1>    at org.elasticsearch.cluster.coordination.DeterministicTaskQueue.runTask(DeterministicTaskQueue.java:133) [framework-8.0.0-SNAPSHOT.jar:?]\r\n  1>    at org.elasticsearch.cluster.coordination.DeterministicTaskQueue.runRandomTask(DeterministicTaskQueue.java:127) [framework-8.0.0-SNAPSHOT.jar:?]\r\n  1>    at org.elasticsearch.cluster.coordination.DeterministicTaskQueue.runAllRunnableTasks(DeterministicTaskQueue.java:77) [framework-8.0.0-SNAPSHOT.jar:?]\r\n  1>    at org.elasticsearch.snapshots.SnapshotResiliencyTests.stabilize(SnapshotResiliencyTests.java:1059) [test/:?]\r\n  1>    at org.elasticsearch.snapshots.SnapshotResiliencyTests.clearDisruptionsAndAwaitSync(SnapshotResiliencyTests.java:1011) [test/:?]\r\n  1>    at org.elasticsearch.snapshots.SnapshotResiliencyTests.testSnapshotDeleteWithMasterFailover(SnapshotResiliencyTests.java:442) [test/:?]\r\n  1>    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n  1>    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n  1>    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n  1>    at java.lang.reflect.Method.invoke(Method.java:564) ~[?:?]\r\n  1>    at com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1758) [randomizedtesting-runner-2.7.7.jar:?]\r\n  1>    at com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:946) [randomizedtesting-runner-2.7.7.jar:?]\r\n  1>    at com.carrotsearch.randomizedtesting.RandomizedRunner$9.evaluate(RandomizedRunner.java:982) [randomizedtesting-runner-2.7.7.jar:?]\r\n  1>    at com.carrotsearch.randomizedtesting.RandomizedRunner$10.evaluate(RandomizedRunner.java:996) [randomizedtesting-runner-2.7.7.jar:?]\r\n  1>    at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36) [randomizedtesting-runner-2.7.7.jar:?]\r\n  1>    at org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:49) [lucene-test-framework-8.6.0-snapshot-e7c625430ed.jar:8.6.0-snapshot-e7c625430ed e7c625430ed916fd7d0e7e8d1cdc329093d817b4 - jenkins - 2020-06-11 10:26:04]\r\n  1>    at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45) [lucene-test-framework-8.6.0-snapshot-e7c625430ed.jar:8.6.0-snapshot-e7c625430ed e7c625430ed916fd7d0e7e8d1cdc329093d817b4 - jenkins - 2020-06-11 10:26:04]\r\n  1>    at org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:48) [lucene-test-framework-8.6.0-snapshot-e7c625430ed.jar:8.6.0-snapshot-e7c625430ed e7c625430ed916fd7d0e7e8d1cdc329093d817b4 - jenkins - 2020-06-11 10:26:04]\r\n  1>    at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64) [lucene-test-framework-8.6.0-snapshot-e7c625430ed.jar:8.6.0-snapshot-e7c625430ed e7c625430ed916fd7d0e7e8d1cdc329093d817b4 - jenkins - 2020-06-11 10:26:04]\r\n  1>    at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47) [lucene-test-framework-8.6.0-snapshot-e7c625430ed.jar:8.6.0-snapshot-e7c625430ed e7c625430ed916fd7d0e7e8d1cdc329093d817b4 - jenkins - 2020-06-11 10:26:04]\r\n  1>    at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36) [randomizedtesting-runner-2.7.7.jar:?]\r\n  1>    at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:375) [randomizedtesting-runner-2.7.7.jar:?]\r\n  1>    at com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:824) [randomizedtesting-runner-2.7.7.jar:?]\r\n  1>    at com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:475) [randomizedtesting-runner-2.7.7.jar:?]\r\n  1>    at com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:955) [randomizedtesting-runner-2.7.7.jar:?]\r\n  1>    at com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:840) [randomizedtesting-runner-2.7.7.jar:?]\r\n  1>    at com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:891) [randomizedtesting-runner-2.7.7.jar:?]\r\n  1>    at com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:902) [randomizedtesting-runner-2.7.7.jar:?]\r\n  1>    at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45) [lucene-test-framework-8.6.0-snapshot-e7c625430ed.jar:8.6.0-snapshot-e7c625430ed e7c625430ed916fd7d0e7e8d1cdc329093d817b4 - jenkins - 2020-06-11 10:26:04]\r\n  1>    at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36) [randomizedtesting-runner-2.7.7.jar:?]\r\n  1>    at org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:41) [lucene-test-framework-8.6.0-snapshot-e7c625430ed.jar:8.6.0-snapshot-e7c625430ed e7c625430ed916fd7d0e7e8d1cdc329093d817b4 - jenkins - 2020-06-11 10:26:04]\r\n  1>    at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40) [randomizedtesting-runner-2.7.7.jar:?]\r\n  1>    at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40) [randomizedtesting-runner-2.7.7.jar:?]\r\n  1>    at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36) [randomizedtesting-runner-2.7.7.jar:?]\r\n  1>    at com.carrotsearch.randomizedtesting.rules.Statement  1> Adapter.evaluate(StatementAdapter.java:36) [randomizedtesting-runner-2.7.7.jar:?]\r\n  1>    at org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:53) [lucene-test-framework-8.6.0-snapshot-e7c625430ed.jar:8.6.0-snapshot-e7c625430ed e7c625430ed916fd7d0e7e8d1cdc329093d817b4 - jenkins - 2020-06-11 10:26:04]\r\n  1>    at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47) [lucene-test-framework-8.6.0-snapshot-e7c625430ed.jar:8.6.0-snapshot-e7c625430ed e7c625430ed916fd7d0e7e8d1cdc329093d817b4 - jenkins - 2020-06-11 10:26:04]\r\n  1>    at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64) [lucene-test-framework-8.6.0-snapshot-e7c625430ed.jar:8.6.0-snapshot-e7c625430ed e7c625430ed916fd7d0e7e8d1cdc329093d817b4 - jenkins - 2020-06-11 10:26:04]\r\n  1>    at org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:54) [lucene-test-framework-8.6.0-snapshot-e7c625430ed.jar:8.6.0-snapshot-e7c625430ed e7c625430ed916fd7d0e7e8d1cdc329093d817b4 - jenkins - 2020-06-11 10:26:04]\r\n  1>    at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36) [randomizedtesting-runner-2.7.7.jar:?]\r\n  1>    at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:375) [randomizedtesting-runner-2.7.7.jar:?]\r\n  1>    at com.carrotsearch.randomizedtesting.ThreadLeakControl.lambda$forkTimeoutingTask$0(ThreadLeakControl.java:831) [randomizedtesting-runner-2.7.7.jar:?]\r\n  1>    at java.lang.Thread.run(Thread.java:832) [?:?]\r\n  1> Caused by: org.elasticsearch.cluster.coordination.FailedToCommitClusterStateException: non-failed nodes do not form a quorum\r\n  1>    at org.elasticsearch.cluster.coordination.Publication.onPossibleCommitFailure(Publication.java:171) ~[main/:?]\r\n  1>    ... 55 more\r\n  1> [2020-06-24T22:15:54,442][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] master node changed {previous [{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}], current []}, term: 1, version: 7, reason: becoming candidate: Publication.onCompletion(false)\r\n  1> [2020-06-24T22:15:54,446][INFO ][o.e.c.s.MasterService    ] [testSnapshotDeleteWithMasterFailover] node-join[{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m} join existing leader], term: 2, version: 19, delta: added {{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}}\r\n  1> [2020-06-24T22:15:54,448][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] added {{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}}, term: 2, version: 19, reason: ApplyCommitRequest{term=2, version=19, sourceNode={node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}}\r\n  1> [2020-06-24T22:15:54,449][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] master node changed {previous [], current [{node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}]}, term: 2, version: 19, reason: ApplyCommitRequest{term=2, version=19, sourceNode={node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}}\r\n  1> [2020-06-24T22:15:54,450][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] added {{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}}, term: 2, version: 19, reason: ApplyCommitRequest{term=2, version=19, sourceNode={node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}}\r\n  1> [2020-06-24T22:15:54,450][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] added {{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}}, term: 2, version: 19, reason: ApplyCommitRequest{term=2, version=19, sourceNode={node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}}\r\n  1> [2020-06-24T22:15:54,450][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] added {{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}}, term: 2, version: 19, reason: ApplyCommitRequest{term=2, version=19, sourceNode={node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}}\r\n  1> [2020-06-24T22:15:54,451][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] added {{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}}, term: 2, version: 19, reason: ApplyCommitRequest{term=2, version=19, sourceNode={node2}{YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}{0.0.0.0}{0.0.0.0:3}{m}}\r\n  1> [2020-06-24T22:15:54,452][INFO ][o.e.c.s.ClusterApplierService] [testSnapshotDeleteWithMasterFailover] added {{node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m}}, term: 2, version: 19, reason: Publication{term=2, version=19}\r\n  1> [2020-06-24T22:15:54,452][WARN ][o.e.t.TransportService   ] [testSnapshotDeleteWithMasterFailover{nodeId={OHPJxSiwQK}{zq2mwJfWQeCsQgKLjvdK7g}}] Transport response handler not found of id [155]\r\n  1> [2020-06-24T22:15:54,452][WARN ][o.e.t.TransportService   ] [testSnapshotDeleteWithMasterFailover{nodeId={cIuWtwTYcs}{_dU3c-AcQgug84rGtMXUJg}}] Transport response handler not found of id [154]\r\n  1> [2020-06-24T22:15:54,452][WARN ][o.e.t.TransportService   ] [testSnapshotDeleteWithMasterFailover{nodeId={VMJYogqreE}{YbMxIN3cR3yhV6y-BaJnqA}}] Transport response handler not found of id [155]\r\n  1> [2020-06-24T22:15:54,452][WARN ][o.e.t.TransportService   ] [testSnapshotDeleteWithMasterFailover{nodeId={GQXEPhdHYi}{_8gdUe1LQLOwEH0TOHkmyw}}] Transport response handler not found of id [154]\r\n  1> [2020-06-24T22:15:54,540][INFO ][o.e.c.c.C.CoordinatorPublication] [testSnapshotDeleteWithMasterFailover{nodeId={YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}}] after [10s] publication of cluster state version [20] is still waiting for {node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m} [SENT_APPLY_COMMIT]\r\n  1> [2020-06-24T22:15:54,546][WARN ][o.e.c.c.C.CoordinatorPublication] [testSnapshotDeleteWithMasterFailover] after [30s] publication of cluster state version [20] is still waiting for {node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m} [SENT_APPLY_COMMIT]\r\n  1> [2020-06-24T22:15:54,546][INFO ][o.e.s.SnapshotsService   ] [testSnapshotDeleteWithMasterFailover] snapshot [repo:last-snapshot/S_U0yDJOQMS543pdBn107g] started\r\n  1> [2020-06-24T22:15:54,553][INFO ][o.e.c.c.C.CoordinatorPublication] [testSnapshotDeleteWithMasterFailover{nodeId={YyKwLIruYM}{PA1vfmjTQmqpyqF753Aqhg}}] after [10s] publication of cluster state version [21] is still waiting for {node0}{UKZUfsHLIR}{tE8FSvwHRyGd9TvHzLE4Jg}{0.0.0.0}{0.0.0.0:1}{m} [SENT_APPLY_COMMIT]\r\n  1> [2020-06-24T22:15:54,575][INFO ][o.e.s.SnapshotResiliencyTests] [testSnapshotDeleteWithMasterFailover] after test\r\n  2> REPRODUCE WITH: ./gradlew ':server:test' --tests \"org.elasticsearch.snapshots.SnapshotResiliencyTests.testSnapshotDeleteWithMasterFailover\" -Dtests.seed=4FE6F0A794347189 -Dtests.security.manager=true -Dtests.locale=pl-PL -Dtests.timezone=Africa/Khartoum -Druntime.java=14\r\n  2> java.lang.AssertionError: Condition wasn't fulfilled.\r\n        at __randomizedtesting.SeedInfo.seed([4FE6F0A794347189:B67BD42EFADD8D88]:0)\r\n        at org.junit.Assert.fail(Assert.java:88)\r\n        at org.elasticsearch.snapshots.SnapshotResiliencyTests.runUntil(SnapshotResiliencyTests.java:1084)\r\n        at org.elasticsearch.snapshots.SnapshotResiliencyTests.verifyReposThenStopServices(SnapshotResiliencyTests.java:274)\r\n  2> NOTE: leaving temporary files on disk at: /home/brownbear/src/elasticsearch/server/build/testrun/test/temp/org.elasticsearch.snapshots.SnapshotResiliencyTests_4FE6F0A794347189-001\r\n  2> NOTE: test params are: codec=Asserting(Lucene86): {}, docValues:{}, maxPointsInLeafNode=468, maxMBSortInHeap=5.760848935535908, sim=Asserting(org.apache.lucene.search.similarities.AssertingSimilarity@29935cec), locale=pl-PL, timezone=Africa/Khartoum\r\n  2> NOTE: Linux 5.4.0-37-generic amd64/AdoptOpenJDK 14.0.1 (64-bit)/cpus=16,threads=1,free=393382848,total=536870912\r\n  2> NOTE: All tests run in this JVM: [SnapshotResiliencyTests]\r\n\r\n\r\n```\r\n\r\n","closed_by":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"performed_via_github_app":null}