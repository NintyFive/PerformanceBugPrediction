{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/23354","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23354/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23354/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23354/events","html_url":"https://github.com/elastic/elasticsearch/issues/23354","id":210065557,"node_id":"MDU6SXNzdWUyMTAwNjU1NTc=","number":23354,"title":"'us-east-1` is not a valid region when creating s3 bucket","user":{"login":"yandooo","id":19685706,"node_id":"MDQ6VXNlcjE5Njg1NzA2","avatar_url":"https://avatars3.githubusercontent.com/u/19685706?v=4","gravatar_id":"","url":"https://api.github.com/users/yandooo","html_url":"https://github.com/yandooo","followers_url":"https://api.github.com/users/yandooo/followers","following_url":"https://api.github.com/users/yandooo/following{/other_user}","gists_url":"https://api.github.com/users/yandooo/gists{/gist_id}","starred_url":"https://api.github.com/users/yandooo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yandooo/subscriptions","organizations_url":"https://api.github.com/users/yandooo/orgs","repos_url":"https://api.github.com/users/yandooo/repos","events_url":"https://api.github.com/users/yandooo/events{/privacy}","received_events_url":"https://api.github.com/users/yandooo/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":13,"created_at":"2017-02-24T14:43:33Z","updated_at":"2017-02-27T12:58:01Z","closed_at":"2017-02-24T15:50:09Z","author_association":"NONE","active_lock_reason":null,"body":"Elasticsearch version: `5.2.0`\r\n\r\n```json\r\n  \"version\" : {\r\n    \"number\" : \"5.2.0\",\r\n    \"build_hash\" : \"24e05b9\",\r\n    \"build_date\" : \"2017-01-24T19:52:35.800Z\",\r\n    \"build_snapshot\" : false,\r\n    \"lucene_version\" : \"6.4.0\"\r\n  }\r\n```\r\n\r\nJVM version: 1.8\r\n\r\nOS version: Alpine Linux\r\n\r\nDescribe the feature:\r\n\r\nWhen we use `us-east-1` s3 plugin does not work.\r\n\r\n\r\n```json\r\nPUT _snapshot/test\r\n{\r\n  \"type\": \"s3\",\r\n  \"settings\": {\r\n    \"bucket\": \"repo-bucket-1\",\r\n    \"region\": \"us-east-1\"\r\n  }\r\n}\r\n```\r\n\r\nResponse:\r\n\r\n```json\r\n{\"error\":{\r\n\"root_cause\":[{\"type\":\"amazon_s3_exception\",\"reason\":\"amazon_s3_exception: The specified location-constraint is not valid (Service: Amazon S3; Status Code: 400; Error Code: InvalidLocationConstraint; Request ID: F44633A6F3AD5323)\"}],\r\n\"type\":\"repository_exception\",\"reason\":\"[s3_backup_repository] failed to create repository\",\"caused_by\":\r\n{\"type\":\"amazon_s3_exception\",\"reason\":\"amazon_s3_exception: The specified location-constraint is not valid (Service: Amazon S3; Status Code: 400; Error Code: InvalidLocationConstraint; Request ID: F44633A6F3AD5323)\"}},\r\n\"status\":500}\r\n```\r\n\r\nremoving region does not work as well. Any ideas?\r\n","closed_by":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"performed_via_github_app":null}