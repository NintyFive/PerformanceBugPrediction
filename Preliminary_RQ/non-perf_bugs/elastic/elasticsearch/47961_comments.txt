[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/541310140","html_url":"https://github.com/elastic/elasticsearch/issues/47961#issuecomment-541310140","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47961","id":541310140,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MTMxMDE0MA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-10-12T10:11:12Z","updated_at":"2019-10-12T10:11:12Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra (:Core/Infra/Build)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/541351031","html_url":"https://github.com/elastic/elasticsearch/issues/47961#issuecomment-541351031","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47961","id":541351031,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MTM1MTAzMQ==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2019-10-12T18:39:22Z","updated_at":"2019-10-12T18:39:22Z","author_association":"MEMBER","body":"It looks like there are several issues there.\r\n\r\n The first example failure appears to be the branch being out of sync with master, where we added the `.ci/os.sh` script, so a transient issue that was resolved naturally by updating.\r\n\r\nThe second issue is unrelated to packaging tests; the system ran out of memory while compiling java, and so looks like an infrastructure issue.\r\n\r\nThe last example I have not seen before:\r\n```\r\nerror: An action 'destroy' was attempted on the machine 'centos-7',\r\n--\r\n\\| but another process is already executing an action on the machine.\r\n\\| Vagrant locks each machine for access by only one process at a time.\r\n```\r\n\r\nIt seems impossible from the gradle perspective, since we only run one gradle task within a project (ie for the vagrant machine) at a time, so a simultaneous vagrant command should not be possible.  I wonder if there was some cleanup on the box on the infra side? I know in the past they have had eg their own destroy that runs after the tests finish.  Alternatively, this might happen if the reaper was somehow triggered, so there could be something there to investigate, but I think we need better logging from the reaper (it has its own log file, which we probably need to dump).\r\n\r\nWhile I understand the frustration as we have been working on the packaging tests a lot lately, I don't see these sample issues as indication the tests themselves are flaky.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/541354732","html_url":"https://github.com/elastic/elasticsearch/issues/47961#issuecomment-541354732","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47961","id":541354732,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MTM1NDczMg==","user":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"created_at":"2019-10-12T19:29:31Z","updated_at":"2019-10-12T19:29:31Z","author_association":"CONTRIBUTOR","body":"@mark-vieira  asked me to open an issue so that we keep track of these. I'm fine with closing the issue or concluding the tests are not flaky but I'm under the impression more folks are experiencing this. @csoulios mentioned seeing packaging failures often a couple of days back.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/541585722","html_url":"https://github.com/elastic/elasticsearch/issues/47961#issuecomment-541585722","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47961","id":541585722,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MTU4NTcyMg==","user":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"created_at":"2019-10-14T09:53:41Z","updated_at":"2019-10-14T09:53:41Z","author_association":"CONTRIBUTOR","body":"case in point: https://github.com/elastic/elasticsearch/pull/47499","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/541926520","html_url":"https://github.com/elastic/elasticsearch/issues/47961#issuecomment-541926520","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47961","id":541926520,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MTkyNjUyMA==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2019-10-14T21:16:15Z","updated_at":"2019-10-14T21:16:15Z","author_association":"CONTRIBUTOR","body":"Regardless of the tests themselves being flaky, if these builds are frequently failing for folks in their PRs we need to investigate the problems, whether they be infra-related or the tests themselves.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/541959514","html_url":"https://github.com/elastic/elasticsearch/issues/47961#issuecomment-541959514","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47961","id":541959514,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MTk1OTUxNA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2019-10-14T22:29:32Z","updated_at":"2019-10-14T22:29:32Z","author_association":"MEMBER","body":"Apologies for my murky response. The concern I have is with a catch all issue like this. There are clearly still some issues that we need to address, but I think those need individual tracking. Having a generic issue that devs start posting their packaging test failures on will not help them be addressed any faster, or possibly at all given it would be difficult to tell what was being worked on and what was not.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/541963820","html_url":"https://github.com/elastic/elasticsearch/issues/47961#issuecomment-541963820","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47961","id":541963820,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MTk2MzgyMA==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2019-10-14T22:48:05Z","updated_at":"2019-10-14T22:48:05Z","author_association":"CONTRIBUTOR","body":"That makes sense. Thanks @rjernst. Let's close this in favor of specific issues if it's clear there's a existing issue that needs addressing.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/542787796","html_url":"https://github.com/elastic/elasticsearch/issues/47961#issuecomment-542787796","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47961","id":542787796,"node_id":"MDEyOklzc3VlQ29tbWVudDU0Mjc4Nzc5Ng==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2019-10-16T16:36:35Z","updated_at":"2019-10-16T16:36:35Z","author_association":"CONTRIBUTOR","body":"So I think removing the \"legacy\" vagrant packaging tests from PR checks will effectively sort this out.","performed_via_github_app":null}]