{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/26433","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26433/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26433/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26433/events","html_url":"https://github.com/elastic/elasticsearch/issues/26433","id":253902438,"node_id":"MDU6SXNzdWUyNTM5MDI0Mzg=","number":26433,"title":"retryable scroll","user":{"login":"brackxm","id":1204681,"node_id":"MDQ6VXNlcjEyMDQ2ODE=","avatar_url":"https://avatars3.githubusercontent.com/u/1204681?v=4","gravatar_id":"","url":"https://api.github.com/users/brackxm","html_url":"https://github.com/brackxm","followers_url":"https://api.github.com/users/brackxm/followers","following_url":"https://api.github.com/users/brackxm/following{/other_user}","gists_url":"https://api.github.com/users/brackxm/gists{/gist_id}","starred_url":"https://api.github.com/users/brackxm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brackxm/subscriptions","organizations_url":"https://api.github.com/users/brackxm/orgs","repos_url":"https://api.github.com/users/brackxm/repos","events_url":"https://api.github.com/users/brackxm/events{/privacy}","received_events_url":"https://api.github.com/users/brackxm/received_events","type":"User","site_admin":false},"labels":[{"id":146832564,"node_id":"MDU6TGFiZWwxNDY4MzI1NjQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Search","name":":Search/Search","color":"0e8a16","default":false,"description":"Search-related issues that do not fall into other categories"},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-08-30T07:23:17Z","updated_at":"2018-02-14T13:31:02Z","closed_at":"2017-09-01T13:30:20Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"To retrieve al lot of data, using the scroll api is recommended.\r\nCurrently (5.5)  it is not possible to retry individual pages.\r\nThe scroll_id is reused over multiple requests.\r\nIf something goes wrong, e.g. a network problem, and the client retries a request it gets the next page. Thus loosing a page.\r\nThe client would have to retry by getting all documents again (and possibly having to do some extra bookkeeping to check what documents have already been processed).\r\n\r\nA solution would be to use token based paging. With each request a new token/scroll_id can be returned. That way individual request are different and can be retried.\r\n\r\nThis can be done with the current api, as the documentation already states to use the scroll_id from the latest request.\r\n\r\n","closed_by":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"performed_via_github_app":null}