{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/4272","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4272/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4272/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4272/events","html_url":"https://github.com/elastic/elasticsearch/issues/4272","id":23391655,"node_id":"MDU6SXNzdWUyMzM5MTY1NQ==","number":4272,"title":"Allow per index routing values in the same query","user":{"login":"ppearcy","id":307414,"node_id":"MDQ6VXNlcjMwNzQxNA==","avatar_url":"https://avatars3.githubusercontent.com/u/307414?v=4","gravatar_id":"","url":"https://api.github.com/users/ppearcy","html_url":"https://github.com/ppearcy","followers_url":"https://api.github.com/users/ppearcy/followers","following_url":"https://api.github.com/users/ppearcy/following{/other_user}","gists_url":"https://api.github.com/users/ppearcy/gists{/gist_id}","starred_url":"https://api.github.com/users/ppearcy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppearcy/subscriptions","organizations_url":"https://api.github.com/users/ppearcy/orgs","repos_url":"https://api.github.com/users/ppearcy/repos","events_url":"https://api.github.com/users/ppearcy/events{/privacy}","received_events_url":"https://api.github.com/users/ppearcy/received_events","type":"User","site_admin":false},"labels":[{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2013-11-27T14:58:45Z","updated_at":"2014-10-17T09:15:26Z","closed_at":"2014-10-17T09:15:26Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"I have a single query that spans over a index that has per client private data that uses routing, as well as, a global index with shared data with no routing. \n\nI would like to combine this into a single query, but end up needing to set different routing values per index, eg the private index has the clientid routing value and the global index does not have a routing value. \n\nMy current workaround is to simply run two queries and merge those results. This approach doesn't work great with relevancy since the scores are computed in isolation and also make pagination painful. \n\nHeres a brief discussion that might help if there is confusion:\nhttps://groups.google.com/forum/#!topic/elasticsearch/FwsOAHz80MU\n\nThis would be a nice to have, but definitely, not a priority. \n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}