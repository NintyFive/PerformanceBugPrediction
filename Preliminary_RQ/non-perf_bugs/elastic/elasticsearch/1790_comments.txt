[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/4553207","html_url":"https://github.com/elastic/elasticsearch/issues/1790#issuecomment-4553207","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1790","id":4553207,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NTMyMDc=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2012-03-17T10:48:37Z","updated_at":"2012-03-17T10:48:37Z","author_association":"MEMBER","body":"Is there a chance for a full recreation? Including indexing some sample data? No problem with fixing it on the 0.18 branch if it only happens there, of course, but a recreation will go a long way.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/4554545","html_url":"https://github.com/elastic/elasticsearch/issues/1790#issuecomment-4554545","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1790","id":4554545,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NTQ1NDU=","user":{"login":"erickt","id":84711,"node_id":"MDQ6VXNlcjg0NzEx","avatar_url":"https://avatars3.githubusercontent.com/u/84711?v=4","gravatar_id":"","url":"https://api.github.com/users/erickt","html_url":"https://github.com/erickt","followers_url":"https://api.github.com/users/erickt/followers","following_url":"https://api.github.com/users/erickt/following{/other_user}","gists_url":"https://api.github.com/users/erickt/gists{/gist_id}","starred_url":"https://api.github.com/users/erickt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erickt/subscriptions","organizations_url":"https://api.github.com/users/erickt/orgs","repos_url":"https://api.github.com/users/erickt/repos","events_url":"https://api.github.com/users/erickt/events{/privacy}","received_events_url":"https://api.github.com/users/erickt/received_events","type":"User","site_admin":false},"created_at":"2012-03-17T15:04:27Z","updated_at":"2012-03-17T15:04:27Z","author_association":"CONTRIBUTOR","body":"Hi Kimchy! It's perfectly repeatable for me, the little bit of code I pasted triggered the bug for me. Node A was \n\n```\nnode.master: true\nnode.data: true\n```\n\nNode B was\n\n```\nnode.master: false\nnode.data: false\n```\n\nNothing was indexed. On Node B, I ran\n\n```\n% curl -XPOST \"http://localhost:9200/test/test/1\" -d '{}'\n% curl -XPOST \"http://localhost:9200/test/_mget?pretty=true\" -d '{\"docs\":[{\"_id\":\"1\"},{\"_id\":\"2\"}]}'\n```\n\nWhich triggered the bug above.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/4560249","html_url":"https://github.com/elastic/elasticsearch/issues/1790#issuecomment-4560249","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1790","id":4560249,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NjAyNDk=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2012-03-18T10:07:57Z","updated_at":"2012-03-18T10:07:57Z","author_association":"MEMBER","body":"@erickt I found the problem and opened an issue here: #1794, I fixed it in 0.19 branch and master. The problem is that type is not provided, and it fails to serialize properly with documents that do not exists. If you provide the type of the doc itself, it won't happen.\n","performed_via_github_app":null}]