{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/38907","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38907/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38907/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38907/events","html_url":"https://github.com/elastic/elasticsearch/issues/38907","id":410370519,"node_id":"MDU6SXNzdWU0MTAzNzA1MTk=","number":38907,"title":"Cannot change index.queue_size","user":{"login":"tylfin","id":4380912,"node_id":"MDQ6VXNlcjQzODA5MTI=","avatar_url":"https://avatars0.githubusercontent.com/u/4380912?v=4","gravatar_id":"","url":"https://api.github.com/users/tylfin","html_url":"https://github.com/tylfin","followers_url":"https://api.github.com/users/tylfin/followers","following_url":"https://api.github.com/users/tylfin/following{/other_user}","gists_url":"https://api.github.com/users/tylfin/gists{/gist_id}","starred_url":"https://api.github.com/users/tylfin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tylfin/subscriptions","organizations_url":"https://api.github.com/users/tylfin/orgs","repos_url":"https://api.github.com/users/tylfin/repos","events_url":"https://api.github.com/users/tylfin/events{/privacy}","received_events_url":"https://api.github.com/users/tylfin/received_events","type":"User","site_admin":false},"labels":[{"id":111624690,"node_id":"MDU6TGFiZWwxMTE2MjQ2OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/feedback_needed","name":"feedback_needed","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2019-02-14T16:00:26Z","updated_at":"2019-02-14T18:33:32Z","closed_at":"2019-02-14T18:30:51Z","author_association":"NONE","active_lock_reason":null,"body":"<!-- Bug report -->\r\n\r\n**Description**\r\n\r\nI want to increase the queue capacity for my ingest nodes, but I'm seeing different things in the docs:\r\n\r\n* An example in the 6.5 docs about setting the queue_size via the elasticsearch.yml\r\n* A deprecated warning in the log outputs\r\n* Breaking changes that say\r\n\r\n> The bulk thread pool has been renamed to the write thread pool. This change was made to reflect the fact that this thread pool is used to execute all write operations: single-document index/delete/update requests, as well as bulk requests\r\n\r\nSo setting both `thread_pool.index.queue_size: 500` and `thread_pool.write.queue_size: 500` I still get logs saying `queue capacity = 200`.\r\n\r\nThese are running on beefy boxes, and according to monitoring via Kibana are showing 3% CPU utilization and 50% JVM memory. I don't want to scale horizontally until these are better utilized.\r\n\r\nWhat's going on here?\r\n\r\n**Elasticsearch version** (`bin/elasticsearch --version`):\r\n\r\n```\r\n# elasticsearch --version\r\nVersion: 6.5.4, Build: default/tar/d2ef93d/2018-12-17T21:17:40.758843Z, JVM: 11.0.1\r\n```\r\n\r\n**OS version** (`uname -a` if on a Unix-like system):\r\n```\r\nLinux es-logging-client-5b8b9b966d-gqb4h 4.19.12-1.el7.elrepo.x86_64 #1 SMP Fri Dec 21 11:06:36 EST 2018 x86_64 x86_64 x86_64 GNU/Linux\r\n```\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\nI set the `thread_pool.index.queue_size` according to the doc example https://www.elastic.co/guide/en/elasticsearch/reference/6.5/modules-threadpool.html#types \r\n\r\n\r\n**Steps to reproduce**:\r\n\r\nPlease include a *minimal* but *complete* recreation of the problem, including\r\n(e.g.) index creation, mappings, settings, query etc.  The easier you make for\r\nus to reproduce it, the more likely that somebody will take the time to look at it.\r\n\r\n 1. Set `thread_pool.index.queue_size: 500`\r\n 2. Set `thread_pool.write.queue_size: 500`\r\n 3. Get deprecated warning\r\n 4. Get `queued tasks = 200`\r\n\r\n**Provide logs (if relevant)**:\r\n\r\nDeprecated?\r\n```\r\n[es-logging-client-5b8b9b966d-gqb4h] [thread_pool.index.queue_size] setting was deprecated in Elasticsearch and will be removed in a future release! See the breaking changes documentation for the next major version.\r\n```\r\n\r\n```\r\n[2019-02-14T15:46:45,612][WARN ][o.e.x.m.e.l.LocalExporter] [es-logging-client-5b8b9b966d-gqb4h] unexpected error while indexing monitoring document\r\norg.elasticsearch.xpack.monitoring.exporter.ExportException: RemoteTransportException[[es-logging-data-1][10.203.8.102:9300][indices:data/write/bulk[s]]]; nested: RemoteTransportException[[es-logging-data-1][10.203.8.102:9300][indices:data/write/bulk[s][p]]]; nested: EsRejectedExecutionException[rejected execution of processing of [17279822][indices:data/write/bulk[s][p]]: request: BulkShardRequest [[.monitoring-kibana-6-2019.02.14][0]] containing [index {[.monitoring-kibana-6-2019.02.14][doc][fMew7GgB1_IsaVrtVI3q], source[{\"cluster_uuid\":\"M5HlxPzwTt2aYdtk2Qy0bQ\",\"timestamp\":\"2019-02-14T15:46:45.606Z\",\"interval_ms\":10000,\"type\":\"kibana_stats\",\"source_node\":{\"uuid\":\"cQKLh37WRRui5NHeLYBUpA\",\"host\":\"10.203.11.177\",\"transport_address\":\"10.203.11.177:9300\",\"ip\":\"10.203.11.177\",\"name\":\"es-logging-client-5b8b9b966d-gqb4h\",\"timestamp\":\"2019-02-14T15:46:45.606Z\"},\"kibana_stats\":{\"kibana\":{\"uuid\":\"342991d9-41ca-4c34-ab20-092bd06bb475\",\"name\":\"kibana\",\"index\":\".kibana\",\"host\":\"0\",\"transport_address\":\"0:5601\",\"version\":\"6.5.4\",\"snapshot\":false,\"status\":\"green\"},\"usage\":{\"kql\":{\"optInCount\":0,\"optOutCount\":0,\"defaultQueryLanguage\":\"default-lucene\"},\"rollups\":{\"index_patterns\":{\"total\":0},\"saved_searches\":{\"total\":0},\"visualizations\":{\"total\":0,\"saved_searches\":{\"total\":0}}},\"index\":\".kibana\",\"dashboard\":{\"total\":3},\"visualization\":{\"total\":41},\"search\":{\"total\":23},\"index_pattern\":{\"total\":2},\"graph_workspace\":{\"total\":0},\"timelion_sheet\":{\"total\":0},\"xpack\":{\"spaces\":{\"available\":true,\"enabled\":true,\"count\":2},\"reporting\":{\"available\":true,\"enabled\":true,\"browser_type\":\"chromium\",\"_all\":0,\"csv\":{\"available\":true,\"total\":0},\"printable_pdf\":{\"available\":false,\"total\":0},\"status\":{},\"lastDay\":{\"_all\":0,\"csv\":{\"available\":true,\"total\":0},\"printable_pdf\":{\"available\":false,\"total\":0},\"status\":{}},\"last7Days\":{\"_all\":0,\"csv\":{\"available\":true,\"total\":0},\"printable_pdf\":{\"available\":false,\"total\":0},\"status\":{}}}},\"infraops\":{\"last_24_hours\":{\"hits\":{\"infraops_hosts\":0,\"infraops_docker\":0,\"infraops_kubernetes\":0,\"logs\":0}}}}}}]}], target allocation id: BFk1CzPxRUSrEzVXYt2Kjg, primary term: 1 on EsThreadPoolExecutor[name = es-logging-data-1/write, queue capacity = 200, org.elasticsearch.common.util.concurrent.EsThreadPoolExecutor@5f821da9[Running, pool size = 8, active threads = 8, queued tasks = 200, completed tasks = 6422152]]];\r\n\tat org.elasticsearch.xpack.monitoring.exporter.local.LocalBulk.lambda$throwExportException$2(LocalBulk.java:128) ~[x-pack-monitoring-6.5.4.jar:6.5.4]\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[?:?]\r\n\tat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[?:?]\r\n\tat java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[?:?]\r\n\tat java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[?:?]\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:?]\r\n\tat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497) ~[?:?]\r\n\tat org.elasticsearch.xpack.monitoring.exporter.local.LocalBulk.throwExportException(LocalBulk.java:129) [x-pack-monitoring-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.xpack.monitoring.exporter.local.LocalBulk.lambda$doFlush$0(LocalBulk.java:111) [x-pack-monitoring-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:60) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.ContextPreservingActionListener.onResponse(ContextPreservingActionListener.java:43) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.TransportAction$1.onResponse(TransportAction.java:85) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.TransportAction$1.onResponse(TransportAction.java:81) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.bulk.TransportBulkAction$BulkRequestModifier.lambda$wrapActionListenerIfNeeded$0(TransportBulkAction.java:607) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:60) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.bulk.TransportBulkAction$BulkOperation$1.finishHim(TransportBulkAction.java:414) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.bulk.TransportBulkAction$BulkOperation$1.onFailure(TransportBulkAction.java:409) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.TransportAction$1.onFailure(TransportAction.java:91) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction$ReroutePhase.finishAsFailed(TransportReplicationAction.java:901) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction$ReroutePhase$1.handleException(TransportReplicationAction.java:859) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.TransportService$ContextRestoreResponseHandler.handleException(TransportService.java:1130) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.TcpTransport.lambda$handleException$32(TcpTransport.java:1268) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.common.util.concurrent.EsExecutors$1.execute(EsExecutors.java:135) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.TcpTransport.handleException(TcpTransport.java:1266) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.TcpTransport.handlerResponseError(TcpTransport.java:1258) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.TcpTransport.messageReceived(TcpTransport.java:1188) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.netty4.Netty4MessageChannelHandler.channelRead(Netty4MessageChannelHandler.java:65) [transport-netty4-client-6.5.4.jar:6.5.4]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323) [netty-codec-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310) [netty-codec-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:426) [netty-codec-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:278) [netty-codec-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:241) [netty-handler-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1434) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:965) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:644) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:544) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:498) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:458) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:897) [netty-common-4.1.30.Final.jar:4.1.30.Final]\r\n\tat java.lang.Thread.run(Thread.java:834) [?:?]\r\nCaused by: org.elasticsearch.transport.RemoteTransportException: [es-logging-data-1][10.203.8.102:9300][indices:data/write/bulk[s]]\r\nCaused by: org.elasticsearch.transport.RemoteTransportException: [es-logging-data-1][10.203.8.102:9300][indices:data/write/bulk[s][p]]\r\nCaused by: org.elasticsearch.common.util.concurrent.EsRejectedExecutionException: rejected execution of processing of [17279822][indices:data/write/bulk[s][p]]: request: BulkShardRequest [[.monitoring-kibana-6-2019.02.14][0]] containing [index {[.monitoring-kibana-6-2019.02.14][doc][fMew7GgB1_IsaVrtVI3q], source[{\"cluster_uuid\":\"M5HlxPzwTt2aYdtk2Qy0bQ\",\"timestamp\":\"2019-02-14T15:46:45.606Z\",\"interval_ms\":10000,\"type\":\"kibana_stats\",\"source_node\":{\"uuid\":\"cQKLh37WRRui5NHeLYBUpA\",\"host\":\"10.203.11.177\",\"transport_address\":\"10.203.11.177:9300\",\"ip\":\"10.203.11.177\",\"name\":\"es-logging-client-5b8b9b966d-gqb4h\",\"timestamp\":\"2019-02-14T15:46:45.606Z\"},\"kibana_stats\":{\"kibana\":{\"uuid\":\"342991d9-41ca-4c34-ab20-092bd06bb475\",\"name\":\"kibana\",\"index\":\".kibana\",\"host\":\"0\",\"transport_address\":\"0:5601\",\"version\":\"6.5.4\",\"snapshot\":false,\"status\":\"green\"},\"usage\":{\"kql\":{\"optInCount\":0,\"optOutCount\":0,\"defaultQueryLanguage\":\"default-lucene\"},\"rollups\":{\"index_patterns\":{\"total\":0},\"saved_searches\":{\"total\":0},\"visualizations\":{\"total\":0,\"saved_searches\":{\"total\":0}}},\"index\":\".kibana\",\"dashboard\":{\"total\":3},\"visualization\":{\"total\":41},\"search\":{\"total\":23},\"index_pattern\":{\"total\":2},\"graph_workspace\":{\"total\":0},\"timelion_sheet\":{\"total\":0},\"xpack\":{\"spaces\":{\"available\":true,\"enabled\":true,\"count\":2},\"reporting\":{\"available\":true,\"enabled\":true,\"browser_type\":\"chromium\",\"_all\":0,\"csv\":{\"available\":true,\"total\":0},\"printable_pdf\":{\"available\":false,\"total\":0},\"status\":{},\"lastDay\":{\"_all\":0,\"csv\":{\"available\":true,\"total\":0},\"printable_pdf\":{\"available\":false,\"total\":0},\"status\":{}},\"last7Days\":{\"_all\":0,\"csv\":{\"available\":true,\"total\":0},\"printable_pdf\":{\"available\":false,\"total\":0},\"status\":{}}}},\"infraops\":{\"last_24_hours\":{\"hits\":{\"infraops_hosts\":0,\"infraops_docker\":0,\"infraops_kubernetes\":0,\"logs\":0}}}}}}]}], target allocation id: BFk1CzPxRUSrEzVXYt2Kjg, primary term: 1 on EsThreadPoolExecutor[name = es-logging-data-1/write, queue capacity = 200, org.elasticsearch.common.util.concurrent.EsThreadPoolExecutor@5f821da9[Running, pool size = 8, active threads = 8, queued tasks = 200, completed tasks = 6422152]]\r\n\tat org.elasticsearch.common.util.concurrent.EsAbortPolicy.rejectedExecution(EsAbortPolicy.java:48) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:825) ~[?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1355) ~[?:?]\r\n\tat org.elasticsearch.common.util.concurrent.EsThreadPoolExecutor.doExecute(EsThreadPoolExecutor.java:98) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.common.util.concurrent.EsThreadPoolExecutor.execute(EsThreadPoolExecutor.java:93) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.TransportService.sendLocalRequest(TransportService.java:713) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.TransportService.access$000(TransportService.java:82) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.TransportService$3.sendRequest(TransportService.java:151) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.TransportService.sendRequestInternal(TransportService.java:657) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.xpack.security.transport.SecurityServerTransportInterceptor$1.sendRequest(SecurityServerTransportInterceptor.java:137) ~[?:?]\r\n\tat org.elasticsearch.transport.TransportService.sendRequest(TransportService.java:572) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.TransportService.sendRequest(TransportService.java:560) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction$ReroutePhase.performAction(TransportReplicationAction.java:830) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction$ReroutePhase.performLocalAction(TransportReplicationAction.java:748) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction$ReroutePhase.doRun(TransportReplicationAction.java:736) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction.doExecute(TransportReplicationAction.java:169) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction.doExecute(TransportReplicationAction.java:97) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:167) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.apply(SecurityActionFilter.java:126) ~[?:?]\r\n\tat org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:165) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:139) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction$OperationTransportHandler.messageReceived(TransportReplicationAction.java:251) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction$OperationTransportHandler.messageReceived(TransportReplicationAction.java:243) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.xpack.security.transport.SecurityServerTransportInterceptor$ProfileSecuredRequestHandler$1.doRun(SecurityServerTransportInterceptor.java:251) ~[?:?]\r\n\tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.xpack.security.transport.SecurityServerTransportInterceptor$ProfileSecuredRequestHandler.messageReceived(SecurityServerTransportInterceptor.java:309) ~[?:?]\r\n\tat org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:66) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.TcpTransport$RequestHandler.doRun(TcpTransport.java:1350) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.common.util.concurrent.EsExecutors$1.execute(EsExecutors.java:135) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.TcpTransport.handleRequest(TcpTransport.java:1308) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.TcpTransport.messageReceived(TcpTransport.java:1172) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.netty4.Netty4MessageChannelHandler.channelRead(Netty4MessageChannelHandler.java:65) ~[?:?]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[?:?]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[?:?]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[?:?]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323) ~[?:?]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310) ~[?:?]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:426) ~[?:?]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:278) ~[?:?]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[?:?]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[?:?]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[?:?]\r\n\tat io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:241) ~[?:?]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[?:?]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[?:?]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[?:?]\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1434) ~[?:?]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[?:?]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[?:?]\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:965) ~[?:?]\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163) ~[?:?]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:644) ~[?:?]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:544) ~[?:?]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:498) ~[?:?]\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:458) ~[?:?]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:897) ~[?:?]\r\n\tat java.lang.Thread.run(Thread.java:834) ~[?:?]\r\n[2019-02-14T15:46:45,816][WARN ][o.e.x.m.e.l.LocalExporter] [es-logging-client-5b8b9b966d-gqb4h] unexpected error while indexing monitoring document\r\norg.elasticsearch.xpack.monitoring.exporter.ExportException: RemoteTransportException[[es-logging-data-1][10.203.8.102:9300][indices:data/write/bulk[s]]]; nested: RemoteTransportException[[es-logging-data-1][10.203.8.102:9300][indices:data/write/bulk[s][p]]]; nested: EsRejectedExecutionException[rejected execution of processing of [17279828][indices:data/write/bulk[s][p]]: request: BulkShardRequest [[.monitoring-kibana-6-2019.02.14][0]] containing [index {[.monitoring-kibana-6-2019.02.14][doc][uMew7GgB1_IsaVrtVY22], source[{\"cluster_uuid\":\"M5HlxPzwTt2aYdtk2Qy0bQ\",\"timestamp\":\"2019-02-14T15:46:45.810Z\",\"interval_ms\":10000,\"type\":\"kibana_stats\",\"source_node\":{\"uuid\":\"cQKLh37WRRui5NHeLYBUpA\",\"host\":\"10.203.11.177\",\"transport_address\":\"10.203.11.177:9300\",\"ip\":\"10.203.11.177\",\"name\":\"es-logging-client-5b8b9b966d-gqb4h\",\"timestamp\":\"2019-02-14T15:46:45.810Z\"},\"kibana_stats\":{\"kibana\":{\"uuid\":\"ed642391-1410-409c-b8c7-b40f1e49ac8f\",\"name\":\"kibana\",\"index\":\".kibana\",\"host\":\"0\",\"transport_address\":\"0:5601\",\"version\":\"6.5.4\",\"snapshot\":false,\"status\":\"green\"},\"usage\":{\"kql\":{\"optInCount\":0,\"optOutCount\":0,\"defaultQueryLanguage\":\"default-lucene\"},\"rollups\":{\"index_patterns\":{\"total\":0},\"saved_searches\":{\"total\":0},\"visualizations\":{\"total\":0,\"saved_searches\":{\"total\":0}}},\"index\":\".kibana\",\"dashboard\":{\"total\":3},\"visualization\":{\"total\":41},\"search\":{\"total\":23},\"index_pattern\":{\"total\":2},\"graph_workspace\":{\"total\":0},\"timelion_sheet\":{\"total\":0},\"xpack\":{\"spaces\":{\"available\":true,\"enabled\":true,\"count\":2},\"reporting\":{\"available\":true,\"enabled\":true,\"browser_type\":\"chromium\",\"_all\":0,\"csv\":{\"available\":true,\"total\":0},\"printable_pdf\":{\"available\":false,\"total\":0},\"status\":{},\"lastDay\":{\"_all\":0,\"csv\":{\"available\":true,\"total\":0},\"printable_pdf\":{\"available\":false,\"total\":0},\"status\":{}},\"last7Days\":{\"_all\":0,\"csv\":{\"available\":true,\"total\":0},\"printable_pdf\":{\"available\":false,\"total\":0},\"status\":{}}}},\"infraops\":{\"last_24_hours\":{\"hits\":{\"infraops_hosts\":0,\"infraops_docker\":0,\"infraops_kubernetes\":0,\"logs\":0}}}}}}]}], target allocation id: BFk1CzPxRUSrEzVXYt2Kjg, primary term: 1 on EsThreadPoolExecutor[name = es-logging-data-1/write, queue capacity = 200, org.elasticsearch.common.util.concurrent.EsThreadPoolExecutor@5f821da9[Running, pool size = 8, active threads = 8, queued tasks = 200, completed tasks = 6422154]]];\r\n\tat org.elasticsearch.xpack.monitoring.exporter.local.LocalBulk.lambda$throwExportException$2(LocalBulk.java:128) ~[x-pack-monitoring-6.5.4.jar:6.5.4]\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[?:?]\r\n\tat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[?:?]\r\n\tat java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[?:?]\r\n\tat java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[?:?]\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:?]\r\n\tat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497) ~[?:?]\r\n\tat org.elasticsearch.xpack.monitoring.exporter.local.LocalBulk.throwExportException(LocalBulk.java:129) [x-pack-monitoring-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.xpack.monitoring.exporter.local.LocalBulk.lambda$doFlush$0(LocalBulk.java:111) [x-pack-monitoring-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:60) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.ContextPreservingActionListener.onResponse(ContextPreservingActionListener.java:43) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.TransportAction$1.onResponse(TransportAction.java:85) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.TransportAction$1.onResponse(TransportAction.java:81) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.bulk.TransportBulkAction$BulkRequestModifier.lambda$wrapActionListenerIfNeeded$0(TransportBulkAction.java:607) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:60) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.bulk.TransportBulkAction$BulkOperation$1.finishHim(TransportBulkAction.java:414) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.bulk.TransportBulkAction$BulkOperation$1.onFailure(TransportBulkAction.java:409) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.TransportAction$1.onFailure(TransportAction.java:91) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction$ReroutePhase.finishAsFailed(TransportReplicationAction.java:901) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction$ReroutePhase$1.handleException(TransportReplicationAction.java:859) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.TransportService$ContextRestoreResponseHandler.handleException(TransportService.java:1130) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.TcpTransport.lambda$handleException$32(TcpTransport.java:1268) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.common.util.concurrent.EsExecutors$1.execute(EsExecutors.java:135) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.TcpTransport.handleException(TcpTransport.java:1266) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.TcpTransport.handlerResponseError(TcpTransport.java:1258) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.TcpTransport.messageReceived(TcpTransport.java:1188) [elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.netty4.Netty4MessageChannelHandler.channelRead(Netty4MessageChannelHandler.java:65) [transport-netty4-client-6.5.4.jar:6.5.4]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323) [netty-codec-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310) [netty-codec-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:426) [netty-codec-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:278) [netty-codec-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:241) [netty-handler-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1434) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:965) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:644) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:544) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:498) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:458) [netty-transport-4.1.30.Final.jar:4.1.30.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:897) [netty-common-4.1.30.Final.jar:4.1.30.Final]\r\n\tat java.lang.Thread.run(Thread.java:834) [?:?]\r\nCaused by: org.elasticsearch.transport.RemoteTransportException: [es-logging-data-1][10.203.8.102:9300][indices:data/write/bulk[s]]\r\nCaused by: org.elasticsearch.transport.RemoteTransportException: [es-logging-data-1][10.203.8.102:9300][indices:data/write/bulk[s][p]]\r\nCaused by: org.elasticsearch.common.util.concurrent.EsRejectedExecutionException: rejected execution of processing of [17279828][indices:data/write/bulk[s][p]]: request: BulkShardRequest [[.monitoring-kibana-6-2019.02.14][0]] containing [index {[.monitoring-kibana-6-2019.02.14][doc][uMew7GgB1_IsaVrtVY22], source[{\"cluster_uuid\":\"M5HlxPzwTt2aYdtk2Qy0bQ\",\"timestamp\":\"2019-02-14T15:46:45.810Z\",\"interval_ms\":10000,\"type\":\"kibana_stats\",\"source_node\":{\"uuid\":\"cQKLh37WRRui5NHeLYBUpA\",\"host\":\"10.203.11.177\",\"transport_address\":\"10.203.11.177:9300\",\"ip\":\"10.203.11.177\",\"name\":\"es-logging-client-5b8b9b966d-gqb4h\",\"timestamp\":\"2019-02-14T15:46:45.810Z\"},\"kibana_stats\":{\"kibana\":{\"uuid\":\"ed642391-1410-409c-b8c7-b40f1e49ac8f\",\"name\":\"kibana\",\"index\":\".kibana\",\"host\":\"0\",\"transport_address\":\"0:5601\",\"version\":\"6.5.4\",\"snapshot\":false,\"status\":\"green\"},\"usage\":{\"kql\":{\"optInCount\":0,\"optOutCount\":0,\"defaultQueryLanguage\":\"default-lucene\"},\"rollups\":{\"index_patterns\":{\"total\":0},\"saved_searches\":{\"total\":0},\"visualizations\":{\"total\":0,\"saved_searches\":{\"total\":0}}},\"index\":\".kibana\",\"dashboard\":{\"total\":3},\"visualization\":{\"total\":41},\"search\":{\"total\":23},\"index_pattern\":{\"total\":2},\"graph_workspace\":{\"total\":0},\"timelion_sheet\":{\"total\":0},\"xpack\":{\"spaces\":{\"available\":true,\"enabled\":true,\"count\":2},\"reporting\":{\"available\":true,\"enabled\":true,\"browser_type\":\"chromium\",\"_all\":0,\"csv\":{\"available\":true,\"total\":0},\"printable_pdf\":{\"available\":false,\"total\":0},\"status\":{},\"lastDay\":{\"_all\":0,\"csv\":{\"available\":true,\"total\":0},\"printable_pdf\":{\"available\":false,\"total\":0},\"status\":{}},\"last7Days\":{\"_all\":0,\"csv\":{\"available\":true,\"total\":0},\"printable_pdf\":{\"available\":false,\"total\":0},\"status\":{}}}},\"infraops\":{\"last_24_hours\":{\"hits\":{\"infraops_hosts\":0,\"infraops_docker\":0,\"infraops_kubernetes\":0,\"logs\":0}}}}}}]}], target allocation id: BFk1CzPxRUSrEzVXYt2Kjg, primary term: 1 on EsThreadPoolExecutor[name = es-logging-data-1/write, queue capacity = 200, org.elasticsearch.common.util.concurrent.EsThreadPoolExecutor@5f821da9[Running, pool size = 8, active threads = 8, queued tasks = 200, completed tasks = 6422154]]\r\n\tat org.elasticsearch.common.util.concurrent.EsAbortPolicy.rejectedExecution(EsAbortPolicy.java:48) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:825) ~[?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1355) ~[?:?]\r\n\tat org.elasticsearch.common.util.concurrent.EsThreadPoolExecutor.doExecute(EsThreadPoolExecutor.java:98) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.common.util.concurrent.EsThreadPoolExecutor.execute(EsThreadPoolExecutor.java:93) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.TransportService.sendLocalRequest(TransportService.java:713) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.TransportService.access$000(TransportService.java:82) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.TransportService$3.sendRequest(TransportService.java:151) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.TransportService.sendRequestInternal(TransportService.java:657) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.xpack.security.transport.SecurityServerTransportInterceptor$1.sendRequest(SecurityServerTransportInterceptor.java:137) ~[?:?]\r\n\tat org.elasticsearch.transport.TransportService.sendRequest(TransportService.java:572) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.TransportService.sendRequest(TransportService.java:560) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction$ReroutePhase.performAction(TransportReplicationAction.java:830) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction$ReroutePhase.performLocalAction(TransportReplicationAction.java:748) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction$ReroutePhase.doRun(TransportReplicationAction.java:736) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction.doExecute(TransportReplicationAction.java:169) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction.doExecute(TransportReplicationAction.java:97) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:167) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.apply(SecurityActionFilter.java:126) ~[?:?]\r\n\tat org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:165) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:139) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction$OperationTransportHandler.messageReceived(TransportReplicationAction.java:251) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.action.support.replication.TransportReplicationAction$OperationTransportHandler.messageReceived(TransportReplicationAction.java:243) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.xpack.security.transport.SecurityServerTransportInterceptor$ProfileSecuredRequestHandler$1.doRun(SecurityServerTransportInterceptor.java:251) ~[?:?]\r\n\tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.xpack.security.transport.SecurityServerTransportInterceptor$ProfileSecuredRequestHandler.messageReceived(SecurityServerTransportInterceptor.java:309) ~[?:?]\r\n\tat org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:66) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.TcpTransport$RequestHandler.doRun(TcpTransport.java:1350) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.common.util.concurrent.EsExecutors$1.execute(EsExecutors.java:135) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.TcpTransport.handleRequest(TcpTransport.java:1308) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.TcpTransport.messageReceived(TcpTransport.java:1172) ~[elasticsearch-6.5.4.jar:6.5.4]\r\n\tat org.elasticsearch.transport.netty4.Netty4MessageChannelHandler.channelRead(Netty4MessageChannelHandler.java:65) ~[?:?]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[?:?]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[?:?]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[?:?]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:323) ~[?:?]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310) ~[?:?]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:426) ~[?:?]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:278) ~[?:?]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[?:?]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[?:?]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[?:?]\r\n\tat io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:241) ~[?:?]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[?:?]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[?:?]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) ~[?:?]\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1434) ~[?:?]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) ~[?:?]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) ~[?:?]\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:965) ~[?:?]\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163) ~[?:?]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:644) ~[?:?]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:544) ~[?:?]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:498) ~[?:?]\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:458) ~[?:?]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:897) ~[?:?]\r\n\tat java.lang.Thread.run(Thread.java:834) ~[?:?]\r\n```\r\n\r\nFull elasticsearch.yml:\r\n\r\n```\r\nelasticsearch.yml:\r\n\r\nthread_pool.index.queue_size: 500\r\nthread_pool.write.queue_size: 500\r\ncluster.name: ${CLUSTER_NAME}\r\nnode.name: ${HOSTNAME}\r\nnetwork.host: 0.0.0.0\r\nnode.ingest: ${NODE_INGEST}\r\nnode.data: ${NODE_DATA}\r\nnode.master: ${NODE_MASTER}\r\ncluster.remote.connect: false\r\nnode.ml: false\r\n\r\ndiscovery.zen.minimum_master_nodes: 2\r\ndiscovery.zen.ping.unicast.hosts: [\"es-logging-master-0.es-logging-master.logging.svc.cluster.local.\",\"es-logging-master-1.es-logging-master.logging.svc.cluster.local.\",\"es-logging-master-2.es-logging-master.logging.svc.cluster.local.\"]\r\nprocessors: 8\r\ndiscovery.zen.fd.ping_timeout: 50s\r\ndiscovery.zen.fd.ping_retries: 5\r\n```","closed_by":{"login":"tylfin","id":4380912,"node_id":"MDQ6VXNlcjQzODA5MTI=","avatar_url":"https://avatars0.githubusercontent.com/u/4380912?v=4","gravatar_id":"","url":"https://api.github.com/users/tylfin","html_url":"https://github.com/tylfin","followers_url":"https://api.github.com/users/tylfin/followers","following_url":"https://api.github.com/users/tylfin/following{/other_user}","gists_url":"https://api.github.com/users/tylfin/gists{/gist_id}","starred_url":"https://api.github.com/users/tylfin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tylfin/subscriptions","organizations_url":"https://api.github.com/users/tylfin/orgs","repos_url":"https://api.github.com/users/tylfin/repos","events_url":"https://api.github.com/users/tylfin/events{/privacy}","received_events_url":"https://api.github.com/users/tylfin/received_events","type":"User","site_admin":false},"performed_via_github_app":null}