{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/59910","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/59910/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/59910/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/59910/events","html_url":"https://github.com/elastic/elasticsearch/issues/59910","id":662030338,"node_id":"MDU6SXNzdWU2NjIwMzAzMzg=","number":59910,"title":"Many endpoints require a GET request with data in the body: this is a dissonance with respect to the HTTP spec","user":{"login":"Uzay-G","id":52892257,"node_id":"MDQ6VXNlcjUyODkyMjU3","avatar_url":"https://avatars1.githubusercontent.com/u/52892257?v=4","gravatar_id":"","url":"https://api.github.com/users/Uzay-G","html_url":"https://github.com/Uzay-G","followers_url":"https://api.github.com/users/Uzay-G/followers","following_url":"https://api.github.com/users/Uzay-G/following{/other_user}","gists_url":"https://api.github.com/users/Uzay-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Uzay-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Uzay-G/subscriptions","organizations_url":"https://api.github.com/users/Uzay-G/orgs","repos_url":"https://api.github.com/users/Uzay-G/repos","events_url":"https://api.github.com/users/Uzay-G/events{/privacy}","received_events_url":"https://api.github.com/users/Uzay-G/received_events","type":"User","site_admin":false},"labels":[{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":2042400575,"node_id":"MDU6TGFiZWwyMDQyNDAwNTc1","url":"https://api.github.com/repos/elastic/elasticsearch/labels/needs:triage","name":"needs:triage","color":"c5def5","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-07-20T16:44:50Z","updated_at":"2020-07-21T09:54:52Z","closed_at":"2020-07-21T09:54:52Z","author_association":"NONE","active_lock_reason":null,"body":"Many endpoints of the elasticsearch api (ex: https://www.elastic.co/guide/en/elasticsearch/reference/current/run-a-search.html#run-request-body-search) require the user to send data through the GET body.\r\n\r\nRoy Fielding, one of the authors of the HTTP spec, has said:\r\n\r\n>  In other words, any HTTP request message is allowed to contain a message body, and thus must parse messages with that in mind. Server semantics for GET, however, are restricted such that a body, if any, has no semantic meaning to the request. The requirements on parsing are separate from the requirements on method semantics.\r\n> So, yes, you can send a body with GET, and no, it is never useful to do so.\r\n\r\nThe request body for a GET request should **not** be useful, and this way of passing data can even damage certain projects. Foe example, this is literally **impossible** in browser js (see https://stackoverflow.com/questions/54810942/send-a-get-request-with-a-body-in-javascript-xmlhttprequest).\r\n\r\nThe only solution in this case is to use a proxy server endpoint and then pass that to elasticsearch.\r\n\r\nPlease review this design decision and maybe consider using a POST or other alternative.\r\n\r\nI understand the logic, you specify which data you want to `GET`, but it is extremely limiting with regards to many different http implementations like JavaScript's.\r\n\r\nThank you.","closed_by":{"login":"pugnascotia","id":8696382,"node_id":"MDQ6VXNlcjg2OTYzODI=","avatar_url":"https://avatars1.githubusercontent.com/u/8696382?v=4","gravatar_id":"","url":"https://api.github.com/users/pugnascotia","html_url":"https://github.com/pugnascotia","followers_url":"https://api.github.com/users/pugnascotia/followers","following_url":"https://api.github.com/users/pugnascotia/following{/other_user}","gists_url":"https://api.github.com/users/pugnascotia/gists{/gist_id}","starred_url":"https://api.github.com/users/pugnascotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pugnascotia/subscriptions","organizations_url":"https://api.github.com/users/pugnascotia/orgs","repos_url":"https://api.github.com/users/pugnascotia/repos","events_url":"https://api.github.com/users/pugnascotia/events{/privacy}","received_events_url":"https://api.github.com/users/pugnascotia/received_events","type":"User","site_admin":false},"performed_via_github_app":null}