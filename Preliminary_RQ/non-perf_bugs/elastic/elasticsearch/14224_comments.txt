[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/149899474","html_url":"https://github.com/elastic/elasticsearch/issues/14224#issuecomment-149899474","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14224","id":149899474,"node_id":"MDEyOklzc3VlQ29tbWVudDE0OTg5OTQ3NA==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2015-10-21T13:42:34Z","updated_at":"2015-10-21T13:42:34Z","author_association":"CONTRIBUTOR","body":"Using a priority queue could help have some entries be taken out of the queue before others, but in the case that the problem is that the threadpool is already full with long-running bulk requests, this would not help as we would still have to wait for these long-running bulk requests to finish before being able to take a new one.\n\nAn alternative would be to have several threadpools but I don't like it as elasticsearch already creates hundreds of threads by default (see eg. #12666).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/150640891","html_url":"https://github.com/elastic/elasticsearch/issues/14224#issuecomment-150640891","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14224","id":150640891,"node_id":"MDEyOklzc3VlQ29tbWVudDE1MDY0MDg5MQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-10-23T17:32:56Z","updated_at":"2015-10-23T17:32:56Z","author_association":"CONTRIBUTOR","body":"If your bulk queue is full, then having a priority just indicates which indexing requests you want to throw away first/last.  This doesn't make much sense to me.  \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/152213598","html_url":"https://github.com/elastic/elasticsearch/issues/14224#issuecomment-152213598","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14224","id":152213598,"node_id":"MDEyOklzc3VlQ29tbWVudDE1MjIxMzU5OA==","user":{"login":"ningjun","id":10746263,"node_id":"MDQ6VXNlcjEwNzQ2MjYz","avatar_url":"https://avatars1.githubusercontent.com/u/10746263?v=4","gravatar_id":"","url":"https://api.github.com/users/ningjun","html_url":"https://github.com/ningjun","followers_url":"https://api.github.com/users/ningjun/followers","following_url":"https://api.github.com/users/ningjun/following{/other_user}","gists_url":"https://api.github.com/users/ningjun/gists{/gist_id}","starred_url":"https://api.github.com/users/ningjun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ningjun/subscriptions","organizations_url":"https://api.github.com/users/ningjun/orgs","repos_url":"https://api.github.com/users/ningjun/repos","events_url":"https://api.github.com/users/ningjun/events{/privacy}","received_events_url":"https://api.github.com/users/ningjun/received_events","type":"User","site_admin":false},"created_at":"2015-10-29T15:24:18Z","updated_at":"2015-10-29T15:24:18Z","author_association":"NONE","body":"I like the idea of having several bulk thread pools. This way user can set a dedicated thread pool to handle high priority bulk request. \nThis is a very useful feature and I think many customers would like to have this feature.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/316059103","html_url":"https://github.com/elastic/elasticsearch/issues/14224#issuecomment-316059103","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14224","id":316059103,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNjA1OTEwMw==","user":{"login":"Habitats","id":1082096,"node_id":"MDQ6VXNlcjEwODIwOTY=","avatar_url":"https://avatars2.githubusercontent.com/u/1082096?v=4","gravatar_id":"","url":"https://api.github.com/users/Habitats","html_url":"https://github.com/Habitats","followers_url":"https://api.github.com/users/Habitats/followers","following_url":"https://api.github.com/users/Habitats/following{/other_user}","gists_url":"https://api.github.com/users/Habitats/gists{/gist_id}","starred_url":"https://api.github.com/users/Habitats/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Habitats/subscriptions","organizations_url":"https://api.github.com/users/Habitats/orgs","repos_url":"https://api.github.com/users/Habitats/repos","events_url":"https://api.github.com/users/Habitats/events{/privacy}","received_events_url":"https://api.github.com/users/Habitats/received_events","type":"User","site_admin":false},"created_at":"2017-07-18T13:12:10Z","updated_at":"2017-07-18T13:12:10Z","author_association":"NONE","body":"Any progress on this?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/357178607","html_url":"https://github.com/elastic/elasticsearch/issues/14224#issuecomment-357178607","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14224","id":357178607,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzE3ODYwNw==","user":{"login":"emilyfcy","id":6264424,"node_id":"MDQ6VXNlcjYyNjQ0MjQ=","avatar_url":"https://avatars1.githubusercontent.com/u/6264424?v=4","gravatar_id":"","url":"https://api.github.com/users/emilyfcy","html_url":"https://github.com/emilyfcy","followers_url":"https://api.github.com/users/emilyfcy/followers","following_url":"https://api.github.com/users/emilyfcy/following{/other_user}","gists_url":"https://api.github.com/users/emilyfcy/gists{/gist_id}","starred_url":"https://api.github.com/users/emilyfcy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilyfcy/subscriptions","organizations_url":"https://api.github.com/users/emilyfcy/orgs","repos_url":"https://api.github.com/users/emilyfcy/repos","events_url":"https://api.github.com/users/emilyfcy/events{/privacy}","received_events_url":"https://api.github.com/users/emilyfcy/received_events","type":"User","site_admin":false},"created_at":"2018-01-12T08:50:23Z","updated_at":"2018-01-12T08:50:51Z","author_association":"NONE","body":"Is it possible to add priority to the search thread pool? We ran into the case that some of the search take long time, for example deep paging. Searching that in parallel might block all the rest search requests. So, it would be nice if we have limited low priority search pool to constraint the output of some searches that allows to be slow.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/357179695","html_url":"https://github.com/elastic/elasticsearch/issues/14224#issuecomment-357179695","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14224","id":357179695,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzE3OTY5NQ==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2018-01-12T08:55:16Z","updated_at":"2018-01-12T08:55:16Z","author_association":"CONTRIBUTOR","body":"It is not possible. Plus I'd like to point out that fixing this is the search thread pool is not enough. For instance if an ongoing request is stealing all the I/O capacity of the machine, then other requests will be slow, regardless of what is done at the threadpool level.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/357181570","html_url":"https://github.com/elastic/elasticsearch/issues/14224#issuecomment-357181570","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14224","id":357181570,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzE4MTU3MA==","user":{"login":"emilyfcy","id":6264424,"node_id":"MDQ6VXNlcjYyNjQ0MjQ=","avatar_url":"https://avatars1.githubusercontent.com/u/6264424?v=4","gravatar_id":"","url":"https://api.github.com/users/emilyfcy","html_url":"https://github.com/emilyfcy","followers_url":"https://api.github.com/users/emilyfcy/followers","following_url":"https://api.github.com/users/emilyfcy/following{/other_user}","gists_url":"https://api.github.com/users/emilyfcy/gists{/gist_id}","starred_url":"https://api.github.com/users/emilyfcy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emilyfcy/subscriptions","organizations_url":"https://api.github.com/users/emilyfcy/orgs","repos_url":"https://api.github.com/users/emilyfcy/repos","events_url":"https://api.github.com/users/emilyfcy/events{/privacy}","received_events_url":"https://api.github.com/users/emilyfcy/received_events","type":"User","site_admin":false},"created_at":"2018-01-12T09:03:08Z","updated_at":"2018-01-12T09:03:08Z","author_association":"NONE","body":"OK. If the bottleneck comes to CPU, it would be helpful. If it comes to others, like IO, cache, setting low priority on the threads might not be useful. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/357194269","html_url":"https://github.com/elastic/elasticsearch/issues/14224#issuecomment-357194269","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14224","id":357194269,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzE5NDI2OQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2018-01-12T09:57:14Z","updated_at":"2018-01-12T09:57:14Z","author_association":"CONTRIBUTOR","body":"@emilyfcy  See the [`max_concurrent_shard_requests`](https://www.elastic.co/guide/en/elasticsearch/reference/current/search-search.html) setting which limits the number of concurrent shards that are searched by a single search request.  This could fit your need.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/374433640","html_url":"https://github.com/elastic/elasticsearch/issues/14224#issuecomment-374433640","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14224","id":374433640,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDQzMzY0MA==","user":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"created_at":"2018-03-20T00:42:39Z","updated_at":"2018-03-20T00:42:39Z","author_association":"MEMBER","body":"This feature request is an interesting idea but since its opening we have not seen enough feedback that it is a feature we should pursue. We prefer to close this issue as a clear indication that we are not going to work on this at this time. We are always open to reconsidering this in the future based on compelling feedback; despite this issue being closed please feel free to leave feedback on the proposal (including +1s).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/374438233","html_url":"https://github.com/elastic/elasticsearch/issues/14224#issuecomment-374438233","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14224","id":374438233,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDQzODIzMw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-03-20T01:10:55Z","updated_at":"2018-03-20T01:10:55Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null}]