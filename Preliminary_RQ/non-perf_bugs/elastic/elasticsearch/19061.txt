{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/19061","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19061/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19061/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19061/events","html_url":"https://github.com/elastic/elasticsearch/issues/19061","id":162163630,"node_id":"MDU6SXNzdWUxNjIxNjM2MzA=","number":19061,"title":"Wrong Long vlaue when store long value in es","user":{"login":"yzhang226","id":815468,"node_id":"MDQ6VXNlcjgxNTQ2OA==","avatar_url":"https://avatars3.githubusercontent.com/u/815468?v=4","gravatar_id":"","url":"https://api.github.com/users/yzhang226","html_url":"https://github.com/yzhang226","followers_url":"https://api.github.com/users/yzhang226/followers","following_url":"https://api.github.com/users/yzhang226/following{/other_user}","gists_url":"https://api.github.com/users/yzhang226/gists{/gist_id}","starred_url":"https://api.github.com/users/yzhang226/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yzhang226/subscriptions","organizations_url":"https://api.github.com/users/yzhang226/orgs","repos_url":"https://api.github.com/users/yzhang226/repos","events_url":"https://api.github.com/users/yzhang226/events{/privacy}","received_events_url":"https://api.github.com/users/yzhang226/received_events","type":"User","site_admin":false},"labels":[{"id":141145460,"node_id":"MDU6TGFiZWwxNDExNDU0NjA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Mapping","name":":Search/Mapping","color":"0e8a16","default":false,"description":"How fields should be indexed"},{"id":111624690,"node_id":"MDU6TGFiZWwxMTE2MjQ2OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/feedback_needed","name":"feedback_needed","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2016-06-24T14:48:42Z","updated_at":"2016-07-07T10:27:20Z","closed_at":"2016-07-07T10:27:20Z","author_association":"NONE","active_lock_reason":null,"body":"today i met one long value convert issue, \nfor clear seeing this issue, i capture one image, as following:\n<img src=\"https://cdn.discourse.org/elastic/uploads/default/optimized/2X/4/4aa9e966be69c70fe9ef2ffed1bb41c10f6a6f94_1_690x265.png\" width=\"690\" height=\"265\">\n\n**logstash: 2.1.1**\n**elasticsearch: 2.1.1**\n**completely logstash config file is shown as following,** \ninput {\n  stdin { }\n}\nfilter {\n  grok {\n    match => {\n      \"message\" => \"%{TIMESTAMP_ISO8601:logging_time}\\t%{INT:biz_type}\\t%{GREEDYDATA:data}\\t%{IP:local_ip}\"\n    }\n  }\n  if [biz_type] {\n    if ( [data] and [data] =~ /(._){(.+)}(._)/ ) {\n      json {\n        source => \"data\"\n        remove_field => [ \"data\" ]\n      }\n    }\n  }\n}\noutput {\n  stdout {\n    codec => rubydebug\n  }\n  elasticsearch {\n    hosts => [\"localhost:9200\"]\n    document_type => \"biz_log_record_%{biz_type}\"\n    index => \"bizlog-%{+YYYY-MM-dd}\"\n    template_name => \"template_revised\"\n    template => \"/programs/server/logstash-2.1.1/template/dada-template.json\"\n    template_overwrite => true\n    manage_template => true\n  }\n}\n\n**detail logstash info and es info , as following,**\n2016-06-24 15:54:33 10050   {\"transporter_id_list\": [605603], \"push_count\": 1, \"device_type\": 1, \"request_id\": 1466754873939567710, \"is_success\": true, \"push_id\": null, \"area_id\": 10, \"time_type\": \"test\"}    10.10.183.101\n{\n               \"@version\" => \"1\",\n             \"@timestamp\" => \"2016-06-24T10:31:43.531Z\",\n                   \"host\" => \"cookorg.local\",\n           \"logging_time\" => \"2016-06-24 15:54:33\",\n               \"biz_type\" => \"10050\",\n               \"local_ip\" => \"10.10.183.101\",\n    \"transporter_id_list\" => [\n        [0] 605603\n    ],\n             \"push_count\" => 1,\n            \"device_type\" => 1,\n             **\"request_id\" => 1466754873939567710,**\n             \"is_success\" => true,\n                \"push_id\" => nil,\n                \"area_id\" => 10,\n              \"time_type\" => \"test\"\n}\n\n**in the es storage, i see different  request_id value, as following:**\n{\n\"_index\": \"bizlog-2016-06-24\",\n\"_type\": \"biz_log_record_10050\",\n\"_id\": \"AVWB9x3-qfZHqOoPMgIt\",\n\"_version\": 1,\n\"_score\": 1,\n\"_source\": {\n\"@version\": \"1\",\n\"@timestamp\": \"2016-06-24T10:31:43.531Z\",\n\"host\": \"cookorg.local\",\n\"logging_time\": \"2016-06-24 15:54:33\",\n\"biz_type\": \"10050\",\n\"local_ip\": \"10.10.183.101\",\n\"transporter_id_list\": [\n605603\n],\n\"push_count\": 1,\n\"device_type\": 1,\n**\"request_id\": 1466754873939567600,**\n\"is_success\": true,\n\"push_id\": null,\n\"area_id\": 10,\n\"time_type\": \"test\"\n}\n}\n\ndoes someone met this issue?\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}