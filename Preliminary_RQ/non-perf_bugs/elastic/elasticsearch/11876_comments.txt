[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/115422089","html_url":"https://github.com/elastic/elasticsearch/issues/11876#issuecomment-115422089","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11876","id":115422089,"node_id":"MDEyOklzc3VlQ29tbWVudDExNTQyMjA4OQ==","user":{"login":"szroland","id":10174523,"node_id":"MDQ6VXNlcjEwMTc0NTIz","avatar_url":"https://avatars2.githubusercontent.com/u/10174523?v=4","gravatar_id":"","url":"https://api.github.com/users/szroland","html_url":"https://github.com/szroland","followers_url":"https://api.github.com/users/szroland/followers","following_url":"https://api.github.com/users/szroland/following{/other_user}","gists_url":"https://api.github.com/users/szroland/gists{/gist_id}","starred_url":"https://api.github.com/users/szroland/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szroland/subscriptions","organizations_url":"https://api.github.com/users/szroland/orgs","repos_url":"https://api.github.com/users/szroland/repos","events_url":"https://api.github.com/users/szroland/events{/privacy}","received_events_url":"https://api.github.com/users/szroland/received_events","type":"User","site_admin":false},"created_at":"2015-06-25T22:43:51Z","updated_at":"2015-06-25T22:43:51Z","author_association":"CONTRIBUTOR","body":"This seems to be a simple typo in `org.elasticsearch.indices.recovery.RecoveryState toXContent()`:\n\n```\n            builder.byteSizeField(Fields.TOTAL_IN_BYTES, Fields.TOTAL, totalBytes());\n            builder.byteSizeField(Fields.REUSED_IN_BYTES, Fields.REUSED, totalBytes());\n```\n\nThe result of `totalBytes()` is used for both fields when serializing, instead of calling `recoveredBytes()` in the second case. The values produced by the latter seem to be tested, so I guess this is just an issue of serization, which may not be explicilty tested.\n\nI guess I could fix this, and maybe add a test, if no one else is working on this.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/115685006","html_url":"https://github.com/elastic/elasticsearch/issues/11876#issuecomment-115685006","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11876","id":115685006,"node_id":"MDEyOklzc3VlQ29tbWVudDExNTY4NTAwNg==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-06-26T13:26:58Z","updated_at":"2015-06-26T13:26:58Z","author_association":"CONTRIBUTOR","body":"@szroland please do\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/115912112","html_url":"https://github.com/elastic/elasticsearch/issues/11876#issuecomment-115912112","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11876","id":115912112,"node_id":"MDEyOklzc3VlQ29tbWVudDExNTkxMjExMg==","user":{"login":"szroland","id":10174523,"node_id":"MDQ6VXNlcjEwMTc0NTIz","avatar_url":"https://avatars2.githubusercontent.com/u/10174523?v=4","gravatar_id":"","url":"https://api.github.com/users/szroland","html_url":"https://github.com/szroland","followers_url":"https://api.github.com/users/szroland/followers","following_url":"https://api.github.com/users/szroland/following{/other_user}","gists_url":"https://api.github.com/users/szroland/gists{/gist_id}","starred_url":"https://api.github.com/users/szroland/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szroland/subscriptions","organizations_url":"https://api.github.com/users/szroland/orgs","repos_url":"https://api.github.com/users/szroland/repos","events_url":"https://api.github.com/users/szroland/events{/privacy}","received_events_url":"https://api.github.com/users/szroland/received_events","type":"User","site_admin":false},"created_at":"2015-06-26T22:57:54Z","updated_at":"2015-06-26T22:57:54Z","author_association":"CONTRIBUTOR","body":"Well, as expected the code wasn't too hard to fix, but while creating the test, I actually ran into an issue with how the Snapshot Create API is described in the rest API json spec file (or rather how that spec is treated in rest tests) vs. how it is actually mapped in its rest controller, see  #11897. \n\nPractically if you use snapshot create in a rest test, it sometimes works and sometimes fails, depending on which HTTP method / path combination is picked by the RestClient from the API spec.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/116163356","html_url":"https://github.com/elastic/elasticsearch/issues/11876#issuecomment-116163356","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11876","id":116163356,"node_id":"MDEyOklzc3VlQ29tbWVudDExNjE2MzM1Ng==","user":{"login":"szroland","id":10174523,"node_id":"MDQ6VXNlcjEwMTc0NTIz","avatar_url":"https://avatars2.githubusercontent.com/u/10174523?v=4","gravatar_id":"","url":"https://api.github.com/users/szroland","html_url":"https://github.com/szroland","followers_url":"https://api.github.com/users/szroland/followers","following_url":"https://api.github.com/users/szroland/following{/other_user}","gists_url":"https://api.github.com/users/szroland/gists{/gist_id}","starred_url":"https://api.github.com/users/szroland/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szroland/subscriptions","organizations_url":"https://api.github.com/users/szroland/orgs","repos_url":"https://api.github.com/users/szroland/repos","events_url":"https://api.github.com/users/szroland/events{/privacy}","received_events_url":"https://api.github.com/users/szroland/received_events","type":"User","site_admin":false},"created_at":"2015-06-27T22:24:14Z","updated_at":"2015-06-27T22:24:14Z","author_association":"CONTRIBUTOR","body":"@clintongormley, for now I choose to remove the POST option from the snapshot create API json spec file, which makes it possible to create rest tests that include this API.\n\nI think how that spec file and API should look like can be discussed and implemented in the context of #11897. The test case created here should simply continue to work whatever the outcome of that will be.\n\nLet me know what you think.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/117118115","html_url":"https://github.com/elastic/elasticsearch/issues/11876#issuecomment-117118115","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11876","id":117118115,"node_id":"MDEyOklzc3VlQ29tbWVudDExNzExODExNQ==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2015-06-30T10:34:23Z","updated_at":"2015-06-30T10:34:23Z","author_association":"MEMBER","body":"@szroland now that #11928 is taken care of, care to extract the fix for this one and make a PR?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/117365748","html_url":"https://github.com/elastic/elasticsearch/issues/11876#issuecomment-117365748","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11876","id":117365748,"node_id":"MDEyOklzc3VlQ29tbWVudDExNzM2NTc0OA==","user":{"login":"szroland","id":10174523,"node_id":"MDQ6VXNlcjEwMTc0NTIz","avatar_url":"https://avatars2.githubusercontent.com/u/10174523?v=4","gravatar_id":"","url":"https://api.github.com/users/szroland","html_url":"https://github.com/szroland","followers_url":"https://api.github.com/users/szroland/followers","following_url":"https://api.github.com/users/szroland/following{/other_user}","gists_url":"https://api.github.com/users/szroland/gists{/gist_id}","starred_url":"https://api.github.com/users/szroland/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szroland/subscriptions","organizations_url":"https://api.github.com/users/szroland/orgs","repos_url":"https://api.github.com/users/szroland/repos","events_url":"https://api.github.com/users/szroland/events{/privacy}","received_events_url":"https://api.github.com/users/szroland/received_events","type":"User","site_admin":false},"created_at":"2015-06-30T22:48:14Z","updated_at":"2015-06-30T22:48:14Z","author_association":"CONTRIBUTOR","body":"I created the new pull request, see #11965 above\n","performed_via_github_app":null}]