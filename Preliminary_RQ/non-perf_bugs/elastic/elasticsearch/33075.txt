{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/33075","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33075/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33075/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33075/events","html_url":"https://github.com/elastic/elasticsearch/issues/33075","id":353189655,"node_id":"MDU6SXNzdWUzNTMxODk2NTU=","number":33075,"title":"elasticsearch-6.3.1 Installation on RHEL 7.5 server","user":{"login":"shinux85","id":35124361,"node_id":"MDQ6VXNlcjM1MTI0MzYx","avatar_url":"https://avatars0.githubusercontent.com/u/35124361?v=4","gravatar_id":"","url":"https://api.github.com/users/shinux85","html_url":"https://github.com/shinux85","followers_url":"https://api.github.com/users/shinux85/followers","following_url":"https://api.github.com/users/shinux85/following{/other_user}","gists_url":"https://api.github.com/users/shinux85/gists{/gist_id}","starred_url":"https://api.github.com/users/shinux85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shinux85/subscriptions","organizations_url":"https://api.github.com/users/shinux85/orgs","repos_url":"https://api.github.com/users/shinux85/repos","events_url":"https://api.github.com/users/shinux85/events{/privacy}","received_events_url":"https://api.github.com/users/shinux85/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-08-23T01:53:09Z","updated_at":"2020-10-14T11:28:45Z","closed_at":"2018-08-23T06:21:46Z","author_association":"NONE","active_lock_reason":null,"body":"\r\n\r\n<!-- Feature request -->\r\n\r\n**Describe the feature**:elasticsearch-6.3.1 Installation on RHEL 7.5 server\r\n\r\n<!-- Bug report -->\r\n\r\n**Elasticsearch version** (`bin/elasticsearch --version`):elasticsearch-6.3.1\r\n\r\n**Plugins installed**: []\r\n\r\n**JVM version** (`java -version`):openjdk version \"1.8.0_181\"\r\n\r\n**OS version** (`uname -a` if on a Unix-like system):Linux elk01 3.10.0-862.el7.x86_64 #1 SMP Wed Mar 21 18:14:51 EDT 2018 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\nInstallation hung after below state\r\n\r\n[2018-08-23T09:12:47,259][INFO ][o.e.t.TransportService   ] [AekEiw3] publish_address {127.0.0.1:9300}, bound_addresses {[::1]:9300}, {127.0.0.1:9300}\r\n[2018-08-23T09:12:50,388][INFO ][o.e.c.s.MasterService    ] [AekEiw3] zen-disco-elected-as-master ([0] nodes joined)[, ], reason: new_master {AekEiw3}{AekEiw3LTY2dZGgsMjAs2A}{blqMQN3lR4a-vUgr6hVKag}{127.0.0.1}{127.0.0.1:9300}{ml.machine_memory=1928355840, xpack.installed=true, ml.max_open_jobs=20, ml.enabled=true}\r\n[2018-08-23T09:12:50,393][INFO ][o.e.c.s.ClusterApplierService] [AekEiw3] new_master {AekEiw3}{AekEiw3LTY2dZGgsMjAs2A}{blqMQN3lR4a-vUgr6hVKag}{127.0.0.1}{127.0.0.1:9300}{ml.machine_memory=1928355840, xpack.installed=true, ml.max_open_jobs=20, ml.enabled=true}, reason: apply cluster state (from master [master {AekEiw3}{AekEiw3LTY2dZGgsMjAs2A}{blqMQN3lR4a-vUgr6hVKag}{127.0.0.1}{127.0.0.1:9300}{ml.machine_memory=1928355840, xpack.installed=true, ml.max_open_jobs=20, ml.enabled=true} committed version [1] source [zen-disco-elected-as-master ([0] nodes joined)[, ]]])\r\n[2018-08-23T09:12:50,515][INFO ][o.e.x.s.t.n.SecurityNetty4HttpServerTransport] [AekEiw3] publish_address {127.0.0.1:9200}, bound_addresses {[::1]:9200}, {127.0.0.1:9200}\r\n[2018-08-23T09:12:50,515][INFO ][o.e.n.Node               ] [AekEiw3] started\r\n[2018-08-23T09:12:50,951][WARN ][o.e.x.s.a.s.m.NativeRoleMappingStore] [AekEiw3] Failed to clear cache for realms [[]]\r\n[2018-08-23T09:12:50,983][INFO ][o.e.l.LicenseService     ] [AekEiw3] license [46d0817a-2a63-4872-ab62-08b57bd0284f] mode [basic] - valid\r\n[2018-08-23T09:12:51,002][INFO ][o.e.g.GatewayService     ] [AekEiw3] recovered [0] indices into cluster_state\r\n\r\n**Steps to reproduce**:\r\n1.install elasticsearch-6.3.1 on RHEL 7.5 server as non root user\r\n\r\nPlease include a *minimal* but *complete* recreation of the problem, including\r\n(e.g.) index creation, mappings, settings, query etc.  The easier you make for\r\nus to reproduce it, the more likely that somebody will take the time to look at it.\r\n\r\n 1.install elasticsearch-6.3.1 on RHEL 7.5 server as non root user\r\n 2.\r\n 3.\r\n\r\n**Provide logs (if relevant)**:\r\n[elasticsearch@elk01 bin]$ ./elasticsearch\r\nOpenJDK 64-Bit Server VM warning: If the number of processors is expected to increase from one, then you should configure the number of parallel GC threads appropriately using -XX:ParallelGCThreads=N\r\n[2018-08-23T09:12:29,054][INFO ][o.e.n.Node               ] [] initializing ...\r\n[2018-08-23T09:12:29,206][INFO ][o.e.e.NodeEnvironment    ] [AekEiw3] using [1] data paths, mounts [[/opt (/dev/mapper/rootvg-opt)]], net usable_space [13.4gb], net total_space [14.9gb], types [xfs]\r\n[2018-08-23T09:12:29,206][INFO ][o.e.e.NodeEnvironment    ] [AekEiw3] heap size [1015.6mb], compressed ordinary object pointers [true]\r\n[2018-08-23T09:12:29,215][INFO ][o.e.n.Node               ] [AekEiw3] node name derived from node ID [AekEiw3LTY2dZGgsMjAs2A]; set [node.name] to override\r\n[2018-08-23T09:12:29,215][INFO ][o.e.n.Node               ] [AekEiw3] version[6.3.1], pid[17728], build[default/tar/eb782d0/2018-06-29T21:59:26.107521Z], OS[Linux/3.10.0-862.el7.x86_64/amd64], JVM[Oracle Corporation/OpenJDK 64-Bit Server VM/1.8.0_181/25.181-b13]\r\n[2018-08-23T09:12:29,216][INFO ][o.e.n.Node               ] [AekEiw3] JVM arguments [-Xms1g, -Xmx1g, -XX:+UseConcMarkSweepGC, -XX:CMSInitiatingOccupancyFraction=75, -XX:+UseCMSInitiatingOccupancyOnly, -XX:+AlwaysPreTouch, -Xss1m, -Djava.awt.headless=true, -Dfile.encoding=UTF-8, -Djna.nosys=true, -XX:-OmitStackTraceInFastThrow, -Dio.netty.noUnsafe=true, -Dio.netty.noKeySetOptimization=true, -Dio.netty.recycler.maxCapacityPerThread=0, -Dlog4j.shutdownHookEnabled=false, -Dlog4j2.disable.jmx=true, -Djava.io.tmpdir=/tmp/elasticsearch.7BKMRVSV, -XX:+HeapDumpOnOutOfMemoryError, -XX:HeapDumpPath=data, -XX:ErrorFile=logs/hs_err_pid%p.log, -XX:+PrintGCDetails, -XX:+PrintGCDateStamps, -XX:+PrintTenuringDistribution, -XX:+PrintGCApplicationStoppedTime, -Xloggc:logs/gc.log, -XX:+UseGCLogFileRotation, -XX:NumberOfGCLogFiles=32, -XX:GCLogFileSize=64m, -Des.path.home=/opt/elasticsearch-6.3.1, -Des.path.conf=/opt/elasticsearch-6.3.1/config, -Des.distribution.flavor=default, -Des.distribution.type=tar]\r\n[2018-08-23T09:12:36,392][INFO ][o.e.p.PluginsService     ] [AekEiw3] loaded module [aggs-matrix-stats]\r\n[2018-08-23T09:12:36,392][INFO ][o.e.p.PluginsService     ] [AekEiw3] loaded module [analysis-common]\r\n[2018-08-23T09:12:36,392][INFO ][o.e.p.PluginsService     ] [AekEiw3] loaded module [ingest-common]\r\n[2018-08-23T09:12:36,392][INFO ][o.e.p.PluginsService     ] [AekEiw3] loaded module [lang-expression]\r\n[2018-08-23T09:12:36,393][INFO ][o.e.p.PluginsService     ] [AekEiw3] loaded module [lang-mustache]\r\n[2018-08-23T09:12:36,393][INFO ][o.e.p.PluginsService     ] [AekEiw3] loaded module [lang-painless]\r\n[2018-08-23T09:12:36,393][INFO ][o.e.p.PluginsService     ] [AekEiw3] loaded module [mapper-extras]\r\n[2018-08-23T09:12:36,393][INFO ][o.e.p.PluginsService     ] [AekEiw3] loaded module [parent-join]\r\n[2018-08-23T09:12:36,393][INFO ][o.e.p.PluginsService     ] [AekEiw3] loaded module [percolator]\r\n[2018-08-23T09:12:36,393][INFO ][o.e.p.PluginsService     ] [AekEiw3] loaded module [rank-eval]\r\n[2018-08-23T09:12:36,393][INFO ][o.e.p.PluginsService     ] [AekEiw3] loaded module [reindex]\r\n[2018-08-23T09:12:36,393][INFO ][o.e.p.PluginsService     ] [AekEiw3] loaded module [repository-url]\r\n[2018-08-23T09:12:36,393][INFO ][o.e.p.PluginsService     ] [AekEiw3] loaded module [transport-netty4]\r\n[2018-08-23T09:12:36,393][INFO ][o.e.p.PluginsService     ] [AekEiw3] loaded module [tribe]\r\n[2018-08-23T09:12:36,393][INFO ][o.e.p.PluginsService     ] [AekEiw3] loaded module [x-pack-core]\r\n[2018-08-23T09:12:36,394][INFO ][o.e.p.PluginsService     ] [AekEiw3] loaded module [x-pack-deprecation]\r\n[2018-08-23T09:12:36,394][INFO ][o.e.p.PluginsService     ] [AekEiw3] loaded module [x-pack-graph]\r\n[2018-08-23T09:12:36,394][INFO ][o.e.p.PluginsService     ] [AekEiw3] loaded module [x-pack-logstash]\r\n[2018-08-23T09:12:36,394][INFO ][o.e.p.PluginsService     ] [AekEiw3] loaded module [x-pack-ml]\r\n[2018-08-23T09:12:36,394][INFO ][o.e.p.PluginsService     ] [AekEiw3] loaded module [x-pack-monitoring]\r\n[2018-08-23T09:12:36,394][INFO ][o.e.p.PluginsService     ] [AekEiw3] loaded module [x-pack-rollup]\r\n[2018-08-23T09:12:36,394][INFO ][o.e.p.PluginsService     ] [AekEiw3] loaded module [x-pack-security]\r\n[2018-08-23T09:12:36,394][INFO ][o.e.p.PluginsService     ] [AekEiw3] loaded module [x-pack-sql]\r\n[2018-08-23T09:12:36,394][INFO ][o.e.p.PluginsService     ] [AekEiw3] loaded module [x-pack-upgrade]\r\n[2018-08-23T09:12:36,394][INFO ][o.e.p.PluginsService     ] [AekEiw3] loaded module [x-pack-watcher]\r\n[2018-08-23T09:12:36,395][INFO ][o.e.p.PluginsService     ] [AekEiw3] no plugins loaded\r\n[2018-08-23T09:12:42,991][INFO ][o.e.x.s.a.s.FileRolesStore] [AekEiw3] parsed [0] roles from file [/opt/elasticsearch-6.3.1/config/roles.yml]\r\n[2018-08-23T09:12:44,420][INFO ][o.e.x.m.j.p.l.CppLogMessageHandler] [controller/17776] [Main.cc@109] controller (64 bit): Version 6.3.1 (Build 4d0b8f0a0ef401) Copyright (c) 2018 Elasticsearch BV\r\n[2018-08-23T09:12:45,048][DEBUG][o.e.a.ActionModule       ] Using REST wrapper from plugin org.elasticsearch.xpack.security.Security\r\n[2018-08-23T09:12:45,471][INFO ][o.e.d.DiscoveryModule    ] [AekEiw3] using discovery type [zen]\r\n[2018-08-23T09:12:46,950][INFO ][o.e.n.Node               ] [AekEiw3] initialized\r\n[2018-08-23T09:12:46,950][INFO ][o.e.n.Node               ] [AekEiw3] starting ...\r\n[2018-08-23T09:12:47,259][INFO ][o.e.t.TransportService   ] [AekEiw3] publish_address {127.0.0.1:9300}, bound_addresses {[::1]:9300}, {127.0.0.1:9300}\r\n[2018-08-23T09:12:50,388][INFO ][o.e.c.s.MasterService    ] [AekEiw3] zen-disco-elected-as-master ([0] nodes joined)[, ], reason: new_master {AekEiw3}{AekEiw3LTY2dZGgsMjAs2A}{blqMQN3lR4a-vUgr6hVKag}{127.0.0.1}{127.0.0.1:9300}{ml.machine_memory=1928355840, xpack.installed=true, ml.max_open_jobs=20, ml.enabled=true}\r\n[2018-08-23T09:12:50,393][INFO ][o.e.c.s.ClusterApplierService] [AekEiw3] new_master {AekEiw3}{AekEiw3LTY2dZGgsMjAs2A}{blqMQN3lR4a-vUgr6hVKag}{127.0.0.1}{127.0.0.1:9300}{ml.machine_memory=1928355840, xpack.installed=true, ml.max_open_jobs=20, ml.enabled=true}, reason: apply cluster state (from master [master {AekEiw3}{AekEiw3LTY2dZGgsMjAs2A}{blqMQN3lR4a-vUgr6hVKag}{127.0.0.1}{127.0.0.1:9300}{ml.machine_memory=1928355840, xpack.installed=true, ml.max_open_jobs=20, ml.enabled=true} committed version [1] source [zen-disco-elected-as-master ([0] nodes joined)[, ]]])\r\n[2018-08-23T09:12:50,515][INFO ][o.e.x.s.t.n.SecurityNetty4HttpServerTransport] [AekEiw3] publish_address {127.0.0.1:9200}, bound_addresses {[::1]:9200}, {127.0.0.1:9200}\r\n[2018-08-23T09:12:50,515][INFO ][o.e.n.Node               ] [AekEiw3] started\r\n[2018-08-23T09:12:50,951][WARN ][o.e.x.s.a.s.m.NativeRoleMappingStore] [AekEiw3] Failed to clear cache for realms [[]]\r\n[2018-08-23T09:12:50,983][INFO ][o.e.l.LicenseService     ] [AekEiw3] license [46d0817a-2a63-4872-ab62-08b57bd0284f] mode [basic] - valid\r\n[2018-08-23T09:12:51,002][INFO ][o.e.g.GatewayService     ] [AekEiw3] recovered [0] indices into cluster_state\r\n\r\n","closed_by":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"performed_via_github_app":null}