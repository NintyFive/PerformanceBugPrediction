[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41636500","html_url":"https://github.com/elastic/elasticsearch/issues/5957#issuecomment-41636500","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5957","id":41636500,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNjM2NTAw","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2014-04-29T02:33:21Z","updated_at":"2014-04-29T02:33:21Z","author_association":"MEMBER","body":"can you add more information to this? bulk requests size for example? Do you have a stacktrace of the disconnecting exception in the log files somewhere? Anything else in the log files which might help? Do you have different versions of elasticsearch running in the cluster 1.1.0 and 1.0.0 or did I misread that?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41650442","html_url":"https://github.com/elastic/elasticsearch/issues/5957#issuecomment-41650442","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5957","id":41650442,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNjUwNDQy","user":{"login":"SomeProgrammer85","id":7427819,"node_id":"MDQ6VXNlcjc0Mjc4MTk=","avatar_url":"https://avatars2.githubusercontent.com/u/7427819?v=4","gravatar_id":"","url":"https://api.github.com/users/SomeProgrammer85","html_url":"https://github.com/SomeProgrammer85","followers_url":"https://api.github.com/users/SomeProgrammer85/followers","following_url":"https://api.github.com/users/SomeProgrammer85/following{/other_user}","gists_url":"https://api.github.com/users/SomeProgrammer85/gists{/gist_id}","starred_url":"https://api.github.com/users/SomeProgrammer85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SomeProgrammer85/subscriptions","organizations_url":"https://api.github.com/users/SomeProgrammer85/orgs","repos_url":"https://api.github.com/users/SomeProgrammer85/repos","events_url":"https://api.github.com/users/SomeProgrammer85/events{/privacy}","received_events_url":"https://api.github.com/users/SomeProgrammer85/received_events","type":"User","site_admin":false},"created_at":"2014-04-29T08:01:07Z","updated_at":"2014-04-29T08:08:54Z","author_association":"NONE","body":"Thank you for your response.\n\nThe version of elasticsearch is 1.0.0 all over the cluster.\nWe have a webapplication running with 1.1.0 and another with 1.0.0 and it happens to both.\nThe size of the bulk request is variable (1 to X).\n\nA long time after the responseless request there is a Exception log entry, but we don't know if there is a interrelation between this and the responseless request (tomcat/log/catalina.out):\n\n```\n2014-04-23 11:43:46,273 DEBUG [org.elasticsearch.transport.netty] [Flatman] disconnected from [[elastic08][hash name of node][elastic08][inet[/ip of node 8:9300]]], channel closed event\norg.elasticsearch.transport.NodeDisconnectedException: [elastic08][inet[/ip of node 8:9300]][search] disconnected\norg.elasticsearch.transport.NodeDisconnectedException: [elastic08][inet[/ip of node 8:9300]][search] disconnected\n```\n\nThe log writes permanently this debug information (tomcat/log/catalina.out):\n\n```\n2014-04-29 05:26:55,723 DEBUG [org.elasticsearch.transport.netty] [Flatman] disconnected from [[elastic06][hash name of node][elastic06][inet[/ip of node 6:9300]]], channel closed event\n2014-04-29 05:27:00,400 DEBUG [org.elasticsearch.transport.netty] [Flatman] connected to node [[elastic06][hash name of node][elastic06][inet[/ip of node 6:9300]]]\n2014-04-29 05:28:01,259 DEBUG [org.elasticsearch.transport.netty] [Flatman] disconnected from [[elastic01][hash name of node][elastic01][inet[/ip of node 1:9300]]], channel closed event\n2014-04-29 05:28:01,260 DEBUG [org.elasticsearch.transport.netty] [Flatman] disconnected from [[elastic01][hash name of node][elastic01][inet[/ip of node 1:9300]]], channel closed event\n2014-04-29 05:28:05,571 DEBUG [org.elasticsearch.transport.netty] [Flatman] connected to node [[elastic01][hash name of node][elastic01][inet[/ip of node 1:9300]]]\n2014-04-29 05:32:56,170 DEBUG [org.elasticsearch.transport.netty] [Flatman] disconnected from [[elastic03][hash name of node][elastic03][inet[/ip of node 3:9300]]], channel closed event\n2014-04-29 05:32:56,172 DEBUG [org.elasticsearch.transport.netty] [Flatman] disconnected from [[elastic03][hash name of node][elastic03][inet[/ip of node 3:9300]]], channel closed event\n2014-04-29 05:32:56,175 DEBUG [org.elasticsearch.transport.netty] [Flatman] disconnected from [[elastic03][hash name of node][elastic03][inet[/ip of node 3:9300]]], channel closed event\n2014-04-29 05:32:56,354 DEBUG [org.elasticsearch.transport.netty] [Flatman] connected to node [[elastic03][hash name of node][elastic03][inet[/ip of node 3:9300]]]\n2014-04-29 05:38:23,850 DEBUG [org.elasticsearch.transport.netty] [Flatman] disconnected from [[elastic07][hash name of node][elastic07][inet[/ip of node 7:9300]]], channel closed event\n2014-04-29 05:38:27,226 DEBUG [org.elasticsearch.transport.netty] [Flatman] connected to node [[elastic07][hash name of node][elastic07][inet[/ip of node 7:9300]]]\n2014-04-29 05:39:29,384 DEBUG [org.elasticsearch.transport.netty] [Flatman] disconnected from [[elastic05][hash name of node][elastic05][inet[/ip of node 5:9300]]], channel closed event\n2014-04-29 05:39:32,412 DEBUG [org.elasticsearch.transport.netty] [Flatman] connected to node [[elastic05][hash name of node][elastic05][inet[/ip of node 5:9300]]]\n2014-04-29 05:43:18,765 DEBUG [org.elasticsearch.transport.netty] [Flatman] disconnected from [[elastic02][hash name of node][elastic02][inet[/ip of node 2:9300]]], channel closed event\n2014-04-29 05:43:18,767 DEBUG [org.elasticsearch.transport.netty] [Flatman] disconnected from [[elastic02][hash name of node][elastic02][inet[/ip of node 2:9300]]], channel closed event\n2014-04-29 05:43:23,043 DEBUG [org.elasticsearch.transport.netty] [Flatman] connected to node [[elastic02][hash name of node][elastic02][inet[/ip of node 2:9300]]]\n2014-04-29 05:48:46,440 DEBUG [org.elasticsearch.transport.netty] [Flatman] disconnected from [[elastic08][hash name of node][elastic08][inet[/ip of node 8:9300]]], channel closed event\n2014-04-29 05:48:48,895 DEBUG [org.elasticsearch.transport.netty] [Flatman] connected to node [[elastic08][hash name of node][elastic08][inet[/ip of node 8:9300]]]\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41681061","html_url":"https://github.com/elastic/elasticsearch/issues/5957#issuecomment-41681061","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5957","id":41681061,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNjgxMDYx","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2014-04-29T14:17:11Z","updated_at":"2014-04-29T14:17:11Z","author_association":"MEMBER","body":"what is X in your notes? how big can it grow?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41683200","html_url":"https://github.com/elastic/elasticsearch/issues/5957#issuecomment-41683200","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5957","id":41683200,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNjgzMjAw","user":{"login":"SomeProgrammer85","id":7427819,"node_id":"MDQ6VXNlcjc0Mjc4MTk=","avatar_url":"https://avatars2.githubusercontent.com/u/7427819?v=4","gravatar_id":"","url":"https://api.github.com/users/SomeProgrammer85","html_url":"https://github.com/SomeProgrammer85","followers_url":"https://api.github.com/users/SomeProgrammer85/followers","following_url":"https://api.github.com/users/SomeProgrammer85/following{/other_user}","gists_url":"https://api.github.com/users/SomeProgrammer85/gists{/gist_id}","starred_url":"https://api.github.com/users/SomeProgrammer85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SomeProgrammer85/subscriptions","organizations_url":"https://api.github.com/users/SomeProgrammer85/orgs","repos_url":"https://api.github.com/users/SomeProgrammer85/repos","events_url":"https://api.github.com/users/SomeProgrammer85/events{/privacy}","received_events_url":"https://api.github.com/users/SomeProgrammer85/received_events","type":"User","site_admin":false},"created_at":"2014-04-29T14:33:30Z","updated_at":"2014-04-29T14:33:30Z","author_association":"NONE","body":"It's just a placeholder for the count of asked items. In time the max is about 30. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41803740","html_url":"https://github.com/elastic/elasticsearch/issues/5957#issuecomment-41803740","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5957","id":41803740,"node_id":"MDEyOklzc3VlQ29tbWVudDQxODAzNzQw","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2014-04-30T14:37:03Z","updated_at":"2014-04-30T14:37:03Z","author_association":"MEMBER","body":"hm, so something is closing your network connection inbetween it seems. I guess there is no stacktrace in your logfiles.Is it possible that you have configured either of the two operating systems to close TCP connections after a certain time? Is there possibly a firewall inbetween which could do that?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/42038295","html_url":"https://github.com/elastic/elasticsearch/issues/5957#issuecomment-42038295","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5957","id":42038295,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDM4Mjk1","user":{"login":"SomeProgrammer85","id":7427819,"node_id":"MDQ6VXNlcjc0Mjc4MTk=","avatar_url":"https://avatars2.githubusercontent.com/u/7427819?v=4","gravatar_id":"","url":"https://api.github.com/users/SomeProgrammer85","html_url":"https://github.com/SomeProgrammer85","followers_url":"https://api.github.com/users/SomeProgrammer85/followers","following_url":"https://api.github.com/users/SomeProgrammer85/following{/other_user}","gists_url":"https://api.github.com/users/SomeProgrammer85/gists{/gist_id}","starred_url":"https://api.github.com/users/SomeProgrammer85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SomeProgrammer85/subscriptions","organizations_url":"https://api.github.com/users/SomeProgrammer85/orgs","repos_url":"https://api.github.com/users/SomeProgrammer85/repos","events_url":"https://api.github.com/users/SomeProgrammer85/events{/privacy}","received_events_url":"https://api.github.com/users/SomeProgrammer85/received_events","type":"User","site_admin":false},"created_at":"2014-05-02T14:35:26Z","updated_at":"2014-05-02T14:35:26Z","author_association":"NONE","body":"Thank you for the advise.\nThe OS does close the TCP connection after a long time, but in this case it's positive, because it forces a reconnect. After this it works again.\nWe will put the server in the same network as the cluster an see if it makes a difference.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/42173879","html_url":"https://github.com/elastic/elasticsearch/issues/5957#issuecomment-42173879","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5957","id":42173879,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTczODc5","user":{"login":"SomeProgrammer85","id":7427819,"node_id":"MDQ6VXNlcjc0Mjc4MTk=","avatar_url":"https://avatars2.githubusercontent.com/u/7427819?v=4","gravatar_id":"","url":"https://api.github.com/users/SomeProgrammer85","html_url":"https://github.com/SomeProgrammer85","followers_url":"https://api.github.com/users/SomeProgrammer85/followers","following_url":"https://api.github.com/users/SomeProgrammer85/following{/other_user}","gists_url":"https://api.github.com/users/SomeProgrammer85/gists{/gist_id}","starred_url":"https://api.github.com/users/SomeProgrammer85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SomeProgrammer85/subscriptions","organizations_url":"https://api.github.com/users/SomeProgrammer85/orgs","repos_url":"https://api.github.com/users/SomeProgrammer85/repos","events_url":"https://api.github.com/users/SomeProgrammer85/events{/privacy}","received_events_url":"https://api.github.com/users/SomeProgrammer85/received_events","type":"User","site_admin":false},"created_at":"2014-05-05T10:01:25Z","updated_at":"2014-05-05T10:03:19Z","author_association":"NONE","body":"Hello again.\n\nWe put more logging into the code and we got this:\n\n```\n2014-05-02 11:03:39,430 DEBUG [org.elasticsearch.transport.netty] [Mimir] disconnected from [[elastic06][hash name of node][elastic06][inet[/ip of node 6:9300]]], channel closed event\n2014-05-02 11:03:39,430 DEBUG [org.elasticsearch.transport.netty] [Mimir] disconnected from [[elastic05][hash name of node][elastic05][inet[/ip of node 5:9300]]], channel closed event\n2014-05-02 11:03:39,432 DEBUG [org.elasticsearch.transport.netty] [Mimir] disconnected from [[elastic02][hash name of node][elastic02][inet[/ip of node 2:9300]]], channel closed event\n2014-05-02 11:03:39,432 DEBUG [org.elasticsearch.transport.netty] [Mimir] disconnected from [[elastic03][hash name of node][elastic03][inet[/ip of node 3:9300]]], channel closed event\n2014-05-02 11:03:39,434 WARN  [org.elasticsearch.transport.netty] [Mimir] exception caught on transport layer [[id: 0x50f404c3, /ip of webapp:40104 => /ip of node 4:9300]], closing connection\njava.io.IOException: Die Wartezeit für die Verbindung ist abgelaufen\n        at sun.nio.ch.FileDispatcherImpl.read0(Native Method)\n        at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:39)\n        at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223)\n        at sun.nio.ch.IOUtil.read(IOUtil.java:192)\n        at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:379)\n        at org.elasticsearch.common.netty.channel.socket.nio.NioWorker.read(NioWorker.java:64)\n        at org.elasticsearch.common.netty.channel.socket.nio.AbstractNioWorker.process(AbstractNioWorker.java:108)\n        at org.elasticsearch.common.netty.channel.socket.nio.AbstractNioSelector.run(AbstractNioSelector.java:318)\n        at org.elasticsearch.common.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:89)\n        at org.elasticsearch.common.netty.channel.socket.nio.NioWorker.run(NioWorker.java:178)\n        at org.elasticsearch.common.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:108)\n        at org.elasticsearch.common.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n        at java.lang.Thread.run(Thread.java:744)\n2014-05-02 11:03:39,434 DEBUG [org.elasticsearch.transport.netty] [Mimir] disconnected from [[elastic01][hash name of node][elastic01][inet[/ip of node 1:9300]]], channel closed event\n2014-05-02 11:03:39,434 DEBUG [org.elasticsearch.transport.netty] [Mimir] disconnected from [[elastic08][hash name of node][elastic08][inet[/ip of node 8:9300]]], channel closed event\n2014-05-02 11:03:39,437 WARN  [org.elasticsearch.transport.netty] [Mimir] exception caught on transport layer [[id: 0xcf068483, /ip of webapp:52499 => /ip of node 7:9300]], closing connection\njava.io.IOException: Die Wartezeit für die Verbindung ist abgelaufen\n        at sun.nio.ch.FileDispatcherImpl.read0(Native Method)\n        at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:39)\n        at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:223)\n        at sun.nio.ch.IOUtil.read(IOUtil.java:192)\n        at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:379)\n        at org.elasticsearch.common.netty.channel.socket.nio.NioWorker.read(NioWorker.java:64)\n        at org.elasticsearch.common.netty.channel.socket.nio.AbstractNioWorker.process(AbstractNioWorker.java:108)\n        at org.elasticsearch.common.netty.channel.socket.nio.AbstractNioSelector.run(AbstractNioSelector.java:318)\n        at org.elasticsearch.common.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:89)\n        at org.elasticsearch.common.netty.channel.socket.nio.NioWorker.run(NioWorker.java:178)\n        at org.elasticsearch.common.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:108)\n        at org.elasticsearch.common.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n        at java.lang.Thread.run(Thread.java:744)\n2014-05-02 11:03:39,438 DEBUG [org.elasticsearch.transport.netty] [Mimir] disconnected from [[elastic04][hash name of node][elastic04][inet[/ip of node 4:9300]]], channel closed event\n2014-05-02 11:03:39,440 DEBUG [org.elasticsearch.transport.netty] [Mimir] disconnected from [[elastic07][hash name of node][elastic07][inet[/ip of node 7:9300]]], channel\n```\n\nand this\n\n![screenshot 007 10 10 2 231 - putty 2](https://cloud.githubusercontent.com/assets/7427819/2876732/e2e60938-d43b-11e3-80a2-a344f46a99a6.png)\n\nThe firewall is turned to a min between the cluster and the server.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/42178967","html_url":"https://github.com/elastic/elasticsearch/issues/5957#issuecomment-42178967","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5957","id":42178967,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMTc4OTY3","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2014-05-05T11:33:11Z","updated_at":"2014-05-05T11:33:11Z","author_association":"MEMBER","body":"Hey,\n\ncan you set the locale of your application to english/none and retry? The reason is, that deep down internally we need to check the message (not the type of the exception) to differentiate between normal and network problems, and those checks check against english language. I want to make sure, that this is not the reason you are running into timeouts.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/50956247","html_url":"https://github.com/elastic/elasticsearch/issues/5957#issuecomment-50956247","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5957","id":50956247,"node_id":"MDEyOklzc3VlQ29tbWVudDUwOTU2MjQ3","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-08-02T07:13:14Z","updated_at":"2014-08-02T07:13:14Z","author_association":"CONTRIBUTOR","body":"@SomeProgrammer85 Has this issue been resolved?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/56643465","html_url":"https://github.com/elastic/elasticsearch/issues/5957#issuecomment-56643465","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5957","id":56643465,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NjQzNDY1","user":{"login":"SomeProgrammer85","id":7427819,"node_id":"MDQ6VXNlcjc0Mjc4MTk=","avatar_url":"https://avatars2.githubusercontent.com/u/7427819?v=4","gravatar_id":"","url":"https://api.github.com/users/SomeProgrammer85","html_url":"https://github.com/SomeProgrammer85","followers_url":"https://api.github.com/users/SomeProgrammer85/followers","following_url":"https://api.github.com/users/SomeProgrammer85/following{/other_user}","gists_url":"https://api.github.com/users/SomeProgrammer85/gists{/gist_id}","starred_url":"https://api.github.com/users/SomeProgrammer85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SomeProgrammer85/subscriptions","organizations_url":"https://api.github.com/users/SomeProgrammer85/orgs","repos_url":"https://api.github.com/users/SomeProgrammer85/repos","events_url":"https://api.github.com/users/SomeProgrammer85/events{/privacy}","received_events_url":"https://api.github.com/users/SomeProgrammer85/received_events","type":"User","site_admin":false},"created_at":"2014-09-24T09:05:52Z","updated_at":"2014-09-24T09:05:52Z","author_association":"NONE","body":"Sorry for the late answer. I was quite busy.\nYes, the issue has been solved. The config of the firewall was the problem.\nIt's a known problem. It also appears when several nodes are not in the same network.\n\nThe standard tcp keepalive from linux is set to 7200 sec and the firewall is waiting for it after 5000 sec.\nSo for the firewall the connection is dead, therefore it closes it.\nThe tcp keepalive must be set lower than the value in the firewall.\nThis can be done with the following command:\nsudo sysctl net.ipv4.tcp_keepalive_time=4500\n\n@spinscale sorry for not double checking the firewall. had to fight the IT to get it...\nthx for the time and help\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/85567951","html_url":"https://github.com/elastic/elasticsearch/issues/5957#issuecomment-85567951","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5957","id":85567951,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NTY3OTUx","user":{"login":"fransflippo","id":305134,"node_id":"MDQ6VXNlcjMwNTEzNA==","avatar_url":"https://avatars2.githubusercontent.com/u/305134?v=4","gravatar_id":"","url":"https://api.github.com/users/fransflippo","html_url":"https://github.com/fransflippo","followers_url":"https://api.github.com/users/fransflippo/followers","following_url":"https://api.github.com/users/fransflippo/following{/other_user}","gists_url":"https://api.github.com/users/fransflippo/gists{/gist_id}","starred_url":"https://api.github.com/users/fransflippo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fransflippo/subscriptions","organizations_url":"https://api.github.com/users/fransflippo/orgs","repos_url":"https://api.github.com/users/fransflippo/repos","events_url":"https://api.github.com/users/fransflippo/events{/privacy}","received_events_url":"https://api.github.com/users/fransflippo/received_events","type":"User","site_admin":false},"created_at":"2015-03-24T15:45:05Z","updated_at":"2015-03-24T15:45:05Z","author_association":"CONTRIBUTOR","body":"We have a similar issue. Also ES nodes on a different network than our application and connections dying at seemingly random times. What I don't understand is the documentation seems to say the connections are tested with a ping every 5 seconds (http://www.elastic.co/guide/en/elasticsearch/client/java-api/current/client.html#transport-client). How is it then possible that they go idle? Or am I misunderstand what it says there?\n\nDoesn't ES try to reconnect the minute it finds out the ping isn't answered?\n\nHope you can shed some light on this :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/239064724","html_url":"https://github.com/elastic/elasticsearch/issues/5957#issuecomment-239064724","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5957","id":239064724,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTA2NDcyNA==","user":{"login":"DodiChen","id":20961839,"node_id":"MDQ6VXNlcjIwOTYxODM5","avatar_url":"https://avatars1.githubusercontent.com/u/20961839?v=4","gravatar_id":"","url":"https://api.github.com/users/DodiChen","html_url":"https://github.com/DodiChen","followers_url":"https://api.github.com/users/DodiChen/followers","following_url":"https://api.github.com/users/DodiChen/following{/other_user}","gists_url":"https://api.github.com/users/DodiChen/gists{/gist_id}","starred_url":"https://api.github.com/users/DodiChen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DodiChen/subscriptions","organizations_url":"https://api.github.com/users/DodiChen/orgs","repos_url":"https://api.github.com/users/DodiChen/repos","events_url":"https://api.github.com/users/DodiChen/events{/privacy}","received_events_url":"https://api.github.com/users/DodiChen/received_events","type":"User","site_admin":false},"created_at":"2016-08-11T03:33:50Z","updated_at":"2016-08-11T03:45:04Z","author_association":"NONE","body":"Hi, I met the same issue. But i closed the firewall, the issue happened again.\nChannel closed event, and node not connected.\nI run ES in windows server 2008.\nThree servers, six nodes. Sometimes, one or two nodes will disconnect from master .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/239108624","html_url":"https://github.com/elastic/elasticsearch/issues/5957#issuecomment-239108624","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5957","id":239108624,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTEwODYyNA==","user":{"login":"SomeProgrammer85","id":7427819,"node_id":"MDQ6VXNlcjc0Mjc4MTk=","avatar_url":"https://avatars2.githubusercontent.com/u/7427819?v=4","gravatar_id":"","url":"https://api.github.com/users/SomeProgrammer85","html_url":"https://github.com/SomeProgrammer85","followers_url":"https://api.github.com/users/SomeProgrammer85/followers","following_url":"https://api.github.com/users/SomeProgrammer85/following{/other_user}","gists_url":"https://api.github.com/users/SomeProgrammer85/gists{/gist_id}","starred_url":"https://api.github.com/users/SomeProgrammer85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SomeProgrammer85/subscriptions","organizations_url":"https://api.github.com/users/SomeProgrammer85/orgs","repos_url":"https://api.github.com/users/SomeProgrammer85/repos","events_url":"https://api.github.com/users/SomeProgrammer85/events{/privacy}","received_events_url":"https://api.github.com/users/SomeProgrammer85/received_events","type":"User","site_admin":false},"created_at":"2016-08-11T09:06:18Z","updated_at":"2016-08-11T09:06:18Z","author_association":"NONE","body":"Hi, I never worked with the combination between ES and a windows server, so I can only do a little guessing.\nSo I guess if this is caused by the same issue it still could be the TCP keepalive.\nMaybe this is the reason:\n\n> If the keepalive interval that the upper-layer protocol uses is less than the TCP keepalive interval, TCP keepalive value is never sent.\n\nGot it from here: [Additional Registry Entries](https://technet.microsoft.com/de-de/library/dd349797%28v=ws.10%29.aspx)\n\nHope it helps\n","performed_via_github_app":null}]