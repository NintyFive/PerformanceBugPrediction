{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/6090","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6090/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6090/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6090/events","html_url":"https://github.com/elastic/elasticsearch/issues/6090","id":33047998,"node_id":"MDU6SXNzdWUzMzA0Nzk5OA==","number":6090,"title":"bin/plugin should allow plugin files to be maintained for debugging purposes","user":{"login":"pickypg","id":1501235,"node_id":"MDQ6VXNlcjE1MDEyMzU=","avatar_url":"https://avatars2.githubusercontent.com/u/1501235?v=4","gravatar_id":"","url":"https://api.github.com/users/pickypg","html_url":"https://github.com/pickypg","followers_url":"https://api.github.com/users/pickypg/followers","following_url":"https://api.github.com/users/pickypg/following{/other_user}","gists_url":"https://api.github.com/users/pickypg/gists{/gist_id}","starred_url":"https://api.github.com/users/pickypg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pickypg/subscriptions","organizations_url":"https://api.github.com/users/pickypg/orgs","repos_url":"https://api.github.com/users/pickypg/repos","events_url":"https://api.github.com/users/pickypg/events{/privacy}","received_events_url":"https://api.github.com/users/pickypg/received_events","type":"User","site_admin":false},"labels":[{"id":111624690,"node_id":"MDU6TGFiZWwxMTE2MjQ2OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/feedback_needed","name":"feedback_needed","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2014-05-08T02:46:19Z","updated_at":"2014-12-31T17:36:29Z","closed_at":"2014-12-31T17:36:29Z","author_association":"MEMBER","active_lock_reason":null,"body":"Currently, when unpacking plugin files, the files will be deleted in multiple scenarios (e.g., if it detects any `*.java` files) without a way to prevent it.\n\nIt would be ideal if there were a flag like `--retain` that could accompany `--install` (and the future `--update`) that would prevent the plugin manager from deleting the perceived-to-be extra--or particularly invalid--files.  That way, plugin developers could themselves debug situations more easily and end users could see what the actual cause for the failure was.\n\nThe files should be retained in a special directory rather than in-place to avoid leaving files where they should not exist in the event that users do nothing with the retained files. It's worth considering whether to wholesale copy the original directory (`extractLocation`) into the special directory and then delete the actual files versus selectively moving the content that would otherwise be deleted.\n\nAs it currently exists, this pertains to the `unpack` function as it is currently implemented and modified in #5977.\n","closed_by":{"login":"pickypg","id":1501235,"node_id":"MDQ6VXNlcjE1MDEyMzU=","avatar_url":"https://avatars2.githubusercontent.com/u/1501235?v=4","gravatar_id":"","url":"https://api.github.com/users/pickypg","html_url":"https://github.com/pickypg","followers_url":"https://api.github.com/users/pickypg/followers","following_url":"https://api.github.com/users/pickypg/following{/other_user}","gists_url":"https://api.github.com/users/pickypg/gists{/gist_id}","starred_url":"https://api.github.com/users/pickypg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pickypg/subscriptions","organizations_url":"https://api.github.com/users/pickypg/orgs","repos_url":"https://api.github.com/users/pickypg/repos","events_url":"https://api.github.com/users/pickypg/events{/privacy}","received_events_url":"https://api.github.com/users/pickypg/received_events","type":"User","site_admin":false},"performed_via_github_app":null}