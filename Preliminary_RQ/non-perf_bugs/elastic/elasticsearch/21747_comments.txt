[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/262508457","html_url":"https://github.com/elastic/elasticsearch/issues/21747#issuecomment-262508457","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21747","id":262508457,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MjUwODQ1Nw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-11-23T13:09:11Z","updated_at":"2016-11-23T13:09:11Z","author_association":"CONTRIBUTOR","body":"@svola you didn't mention that you have x-pack installed.  this is a bug with the interaction between search templates and x-pack security.  If you specify an index it'll work (eg `GET my_index/_search/template`)\r\n\r\nWe'll work on a fix for the search template API","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/262509892","html_url":"https://github.com/elastic/elasticsearch/issues/21747#issuecomment-262509892","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21747","id":262509892,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MjUwOTg5Mg==","user":{"login":"svola","id":1832934,"node_id":"MDQ6VXNlcjE4MzI5MzQ=","avatar_url":"https://avatars2.githubusercontent.com/u/1832934?v=4","gravatar_id":"","url":"https://api.github.com/users/svola","html_url":"https://github.com/svola","followers_url":"https://api.github.com/users/svola/followers","following_url":"https://api.github.com/users/svola/following{/other_user}","gists_url":"https://api.github.com/users/svola/gists{/gist_id}","starred_url":"https://api.github.com/users/svola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/svola/subscriptions","organizations_url":"https://api.github.com/users/svola/orgs","repos_url":"https://api.github.com/users/svola/repos","events_url":"https://api.github.com/users/svola/events{/privacy}","received_events_url":"https://api.github.com/users/svola/received_events","type":"User","site_admin":false},"created_at":"2016-11-23T13:16:27Z","updated_at":"2016-11-23T13:16:27Z","author_association":"NONE","body":"@clintongormley Sorry I wasn't aware of x-pack. By specifying the search index it works. Thanks!","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/263232344","html_url":"https://github.com/elastic/elasticsearch/issues/21747#issuecomment-263232344","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21747","id":263232344,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MzIzMjM0NA==","user":{"login":"svola","id":1832934,"node_id":"MDQ6VXNlcjE4MzI5MzQ=","avatar_url":"https://avatars2.githubusercontent.com/u/1832934?v=4","gravatar_id":"","url":"https://api.github.com/users/svola","html_url":"https://github.com/svola","followers_url":"https://api.github.com/users/svola/followers","following_url":"https://api.github.com/users/svola/following{/other_user}","gists_url":"https://api.github.com/users/svola/gists{/gist_id}","starred_url":"https://api.github.com/users/svola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/svola/subscriptions","organizations_url":"https://api.github.com/users/svola/orgs","repos_url":"https://api.github.com/users/svola/repos","events_url":"https://api.github.com/users/svola/events{/privacy}","received_events_url":"https://api.github.com/users/svola/received_events","type":"User","site_admin":false},"created_at":"2016-11-28T10:11:28Z","updated_at":"2016-11-28T10:11:28Z","author_association":"NONE","body":"Ok now I tried to run \"render_template\" and it leads to the same issue.\r\nAdding an index before _render didn't help...\r\n\r\n\tGET _search/template/list_main_entity_0.0.1\r\n\r\n\t{\r\n\t  \"lang\": \"mustache\",\r\n\t  \"_id\": \"list_main_entity_0.0.1\",\r\n\t  \"found\": true,\r\n\t  \"template\": \"{\\\"size\\\":10,\\\"query\\\":{\\\"multi_match\\\":{\\\"query\\\":\\\"{{query_string}}\\\",\\\"fields\\\":[\\\"description\\\",\\\"title\\\"]}}}\"\r\n\t}\r\n\r\n\r\n\r\n\tGET /_render/template/list_main_entity_0.0.1\r\n\t{\r\n\t  \"params\": {\r\n\t    \"query_string\" : \"test\"\r\n\t  }\r\n\t}\r\n\r\n\r\n\r\n\t{\r\n\t  \"error\": {\r\n\t    \"root_cause\": [\r\n\t      {\r\n\t\t\"type\": \"illegal_state_exception\",\r\n\t\t\"reason\": \"There are no external requests known to support wildcards that don't support replacing their indices\"\r\n\t      }\r\n\t    ],\r\n\t    \"type\": \"illegal_state_exception\",\r\n\t    \"reason\": \"There are no external requests known to support wildcards that don't support replacing their indices\"\r\n\t  },\r\n\t  \"status\": 500\r\n\t}","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/263296156","html_url":"https://github.com/elastic/elasticsearch/issues/21747#issuecomment-263296156","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21747","id":263296156,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MzI5NjE1Ng==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2016-11-28T15:12:54Z","updated_at":"2016-11-28T15:12:54Z","author_association":"MEMBER","body":"yes @svola we are aware of that too. Render doesn't accept indices. You can work around it till a fix is out using the `/_search/template` endpoint with `simulate` set to `true` which does the same as what the render template endpoint does, but also allows setting the indices.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/263313712","html_url":"https://github.com/elastic/elasticsearch/issues/21747#issuecomment-263313712","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21747","id":263313712,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MzMxMzcxMg==","user":{"login":"svola","id":1832934,"node_id":"MDQ6VXNlcjE4MzI5MzQ=","avatar_url":"https://avatars2.githubusercontent.com/u/1832934?v=4","gravatar_id":"","url":"https://api.github.com/users/svola","html_url":"https://github.com/svola","followers_url":"https://api.github.com/users/svola/followers","following_url":"https://api.github.com/users/svola/following{/other_user}","gists_url":"https://api.github.com/users/svola/gists{/gist_id}","starred_url":"https://api.github.com/users/svola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/svola/subscriptions","organizations_url":"https://api.github.com/users/svola/orgs","repos_url":"https://api.github.com/users/svola/repos","events_url":"https://api.github.com/users/svola/events{/privacy}","received_events_url":"https://api.github.com/users/svola/received_events","type":"User","site_admin":false},"created_at":"2016-11-28T16:12:06Z","updated_at":"2016-11-28T16:12:06Z","author_association":"NONE","body":"@javanna Where exactly should that simulate-parameter go? ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/263316759","html_url":"https://github.com/elastic/elasticsearch/issues/21747#issuecomment-263316759","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21747","id":263316759,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MzMxNjc1OQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2016-11-28T16:22:37Z","updated_at":"2016-11-28T16:22:37Z","author_association":"MEMBER","body":"@svola nowhere, I am sorry, I got confused. The issue with the render endpoint cannot be worked around at the moment. We just have to release a fix.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/263874067","html_url":"https://github.com/elastic/elasticsearch/issues/21747#issuecomment-263874067","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21747","id":263874067,"node_id":"MDEyOklzc3VlQ29tbWVudDI2Mzg3NDA2Nw==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2016-11-30T13:33:04Z","updated_at":"2016-11-30T13:33:04Z","author_association":"MEMBER","body":"Heads up, we have fixed this bug, this issue will be resolved with the 5.1 release. The render endpoint is problematic and there is no easy fix. As for the search template endpoint, the issue can worked around in 2.4.2 and 5.0.x by either using explicit indices or the deprecated template query as part of the search endpoint (rather than the search template endpoint).","performed_via_github_app":null}]