[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/467774919","html_url":"https://github.com/elastic/elasticsearch/issues/39437#issuecomment-467774919","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39437","id":467774919,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2Nzc3NDkxOQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-02-27T08:45:05Z","updated_at":"2019-02-27T08:45:05Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/467831450","html_url":"https://github.com/elastic/elasticsearch/issues/39437#issuecomment-467831450","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39437","id":467831450,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NzgzMTQ1MA==","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2019-02-27T11:44:49Z","updated_at":"2019-02-27T11:44:49Z","author_association":"MEMBER","body":"Similar failure with  `CoordinatorTests.testAckListenerReceivesNackFromLeader`\r\n\r\n```\r\n/gradlew :server:unitTest -Dtests.seed=8FC69D8461D852BA -Dtests.class=org.elasticsearch.cluster.coordination.CoordinatorTests -Dtests.method=\"testAckListenerReceivesNackFromLeader\" -Dtests.security.manager=true -Dtests.locale=kk -Dtests.timezone=America/Lima -Dcompiler.java=12 -Druntime.java=11\r\n```\r\n\r\nin https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.0+matrix-java-periodic/ES_BUILD_JAVA=openjdk12,ES_RUNTIME_JAVA=java11,nodes=immutable&&linux&&docker/42/consoleFull","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/467833038","html_url":"https://github.com/elastic/elasticsearch/issues/39437#issuecomment-467833038","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39437","id":467833038,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NzgzMzAzOA==","user":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"created_at":"2019-02-27T11:50:41Z","updated_at":"2019-02-27T11:50:41Z","author_association":"CONTRIBUTOR","body":"@tlrx this is caused by https://github.com/elastic/elasticsearch/pull/36943. Can you comment out the line (I think 1445) that calls `isLinearizable` in `CoordinatorTests.java` (and backport to 7.x and 7.0)? The only other option would be to mute all `CoordinatorTests`, which is far worse.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/467838812","html_url":"https://github.com/elastic/elasticsearch/issues/39437#issuecomment-467838812","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39437","id":467838812,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NzgzODgxMg==","user":{"login":"henningandersen","id":33268011,"node_id":"MDQ6VXNlcjMzMjY4MDEx","avatar_url":"https://avatars2.githubusercontent.com/u/33268011?v=4","gravatar_id":"","url":"https://api.github.com/users/henningandersen","html_url":"https://github.com/henningandersen","followers_url":"https://api.github.com/users/henningandersen/followers","following_url":"https://api.github.com/users/henningandersen/following{/other_user}","gists_url":"https://api.github.com/users/henningandersen/gists{/gist_id}","starred_url":"https://api.github.com/users/henningandersen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/henningandersen/subscriptions","organizations_url":"https://api.github.com/users/henningandersen/orgs","repos_url":"https://api.github.com/users/henningandersen/repos","events_url":"https://api.github.com/users/henningandersen/events{/privacy}","received_events_url":"https://api.github.com/users/henningandersen/received_events","type":"User","site_admin":false},"created_at":"2019-02-27T12:10:38Z","updated_at":"2019-02-27T12:10:38Z","author_association":"CONTRIBUTOR","body":"Both succeeds with the optimizations in PR https://github.com/elastic/elasticsearch/pull/38561 though `testAckListenerReceivesNackFromLeader` also succeded on my master checkout (the original one did fail).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/468004564","html_url":"https://github.com/elastic/elasticsearch/issues/39437#issuecomment-468004564","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39437","id":468004564,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2ODAwNDU2NA==","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2019-02-27T19:49:18Z","updated_at":"2019-02-27T19:49:18Z","author_association":"MEMBER","body":"As @ywelsch suggested, I commented out the following line in master, 7.x and 7.0 branches:\r\n\r\n```\r\n// See https://github.com/elastic/elasticsearch/issues/39437\r\n//assertTrue(\"history not linearizable: \" + history, linearizabilityChecker.isLinearizable(spec, history, i -> null));\r\n```\r\n\r\nSee commits 9be914cfece721d630abc875d54bd9184788369f, 4dd274b51d348a5b1755cfcce3067df5032b5f3f and 41463c42d32f271c4e33b496797fa33d6c2b1f52","performed_via_github_app":null}]