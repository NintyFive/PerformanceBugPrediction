[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/262274171","html_url":"https://github.com/elastic/elasticsearch/issues/21726#issuecomment-262274171","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21726","id":262274171,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MjI3NDE3MQ==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-11-22T15:37:45Z","updated_at":"2016-11-22T15:37:45Z","author_association":"CONTRIBUTOR","body":"I don't like the ambiguity that exists with dots in field names and nested mappings. For instance the below document:\r\n\r\n```\r\n{\r\n  \"foo.bar\": 3,\r\n  \"foo.baz\": 42\r\n}\r\n```\r\n\r\ncould be both equivalent to\r\n\r\n```\r\n{\r\n  \"foo\": {\r\n    \"bar\": 3,\r\n    \"baz\": 42\r\n  }\r\n}\r\n```\r\n\r\nand\r\n\r\n```\r\n{\r\n  \"foo\": [\r\n    { \"bar\": 3 },\r\n    { \"baz\": 42 }\r\n  ]\r\n}\r\n```\r\n\r\nwhich are indexed differently if `foo` is a nested object.\r\n\r\nSo should we reject dots in field names when the dot is a delimitation for a nested object?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/262804249","html_url":"https://github.com/elastic/elasticsearch/issues/21726#issuecomment-262804249","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21726","id":262804249,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MjgwNDI0OQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-11-24T15:45:52Z","updated_at":"2016-11-24T15:45:52Z","author_association":"CONTRIBUTOR","body":"> So should we reject dots in field names when the dot is a delimitation for a nested object?\r\n\r\nI think we should.  How do we do this in a way that doesn't break behaviour in a minor version?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/262826543","html_url":"https://github.com/elastic/elasticsearch/issues/21726#issuecomment-262826543","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21726","id":262826543,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MjgyNjU0Mw==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-11-24T18:03:26Z","updated_at":"2016-11-24T18:03:26Z","author_association":"CONTRIBUTOR","body":"> How do we do this in a way that doesn't break behaviour in a minor version?\r\n\r\nThe bug fix consists of raising an error, so I don't think there is any way to fix the bug and not break in a minor release at the same time. I see this bug as an index corruption since fields do not go to the intended document so I would vote to raise an error in all cases rather than trying to keep the bug for old indices.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/263551741","html_url":"https://github.com/elastic/elasticsearch/issues/21726#issuecomment-263551741","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21726","id":263551741,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MzU1MTc0MQ==","user":{"login":"Thermi","id":3606849,"node_id":"MDQ6VXNlcjM2MDY4NDk=","avatar_url":"https://avatars2.githubusercontent.com/u/3606849?v=4","gravatar_id":"","url":"https://api.github.com/users/Thermi","html_url":"https://github.com/Thermi","followers_url":"https://api.github.com/users/Thermi/followers","following_url":"https://api.github.com/users/Thermi/following{/other_user}","gists_url":"https://api.github.com/users/Thermi/gists{/gist_id}","starred_url":"https://api.github.com/users/Thermi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Thermi/subscriptions","organizations_url":"https://api.github.com/users/Thermi/orgs","repos_url":"https://api.github.com/users/Thermi/repos","events_url":"https://api.github.com/users/Thermi/events{/privacy}","received_events_url":"https://api.github.com/users/Thermi/received_events","type":"User","site_admin":false},"created_at":"2016-11-29T11:56:54Z","updated_at":"2016-11-29T11:56:54Z","author_association":"NONE","body":"It might be, that we're hitting this issue in ElasticSearch 2.4.2, as well. In our case, we use fields whose names have dots in them. We're running queries on them with range filters inside a boolean filter and the query returns documents that have values outside the defined range. Does this bug pertain the issue I'm seeing as well?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/263562321","html_url":"https://github.com/elastic/elasticsearch/issues/21726#issuecomment-263562321","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21726","id":263562321,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MzU2MjMyMQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-11-29T12:52:01Z","updated_at":"2016-11-29T12:52:01Z","author_association":"CONTRIBUTOR","body":"@Thermi hard to say - i'd open a new issue providing a full curl recreation of what you're seeing and we can go from there","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/263878570","html_url":"https://github.com/elastic/elasticsearch/issues/21726#issuecomment-263878570","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21726","id":263878570,"node_id":"MDEyOklzc3VlQ29tbWVudDI2Mzg3ODU3MA==","user":{"login":"Thermi","id":3606849,"node_id":"MDQ6VXNlcjM2MDY4NDk=","avatar_url":"https://avatars2.githubusercontent.com/u/3606849?v=4","gravatar_id":"","url":"https://api.github.com/users/Thermi","html_url":"https://github.com/Thermi","followers_url":"https://api.github.com/users/Thermi/followers","following_url":"https://api.github.com/users/Thermi/following{/other_user}","gists_url":"https://api.github.com/users/Thermi/gists{/gist_id}","starred_url":"https://api.github.com/users/Thermi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Thermi/subscriptions","organizations_url":"https://api.github.com/users/Thermi/orgs","repos_url":"https://api.github.com/users/Thermi/repos","events_url":"https://api.github.com/users/Thermi/events{/privacy}","received_events_url":"https://api.github.com/users/Thermi/received_events","type":"User","site_admin":false},"created_at":"2016-11-30T13:54:06Z","updated_at":"2016-11-30T13:54:06Z","author_association":"NONE","body":"Please disregard the sentence about dots in field names. That's not the case. I'll open a new issue on this repo for the problem I'm seeing.","performed_via_github_app":null}]