{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/61244","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61244/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61244/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61244/events","html_url":"https://github.com/elastic/elasticsearch/issues/61244","id":680600045,"node_id":"MDU6SXNzdWU2ODA2MDAwNDU=","number":61244,"title":"Add the ability to hash strings into the watcher context","user":{"login":"asjadathick","id":11225931,"node_id":"MDQ6VXNlcjExMjI1OTMx","avatar_url":"https://avatars1.githubusercontent.com/u/11225931?v=4","gravatar_id":"","url":"https://api.github.com/users/asjadathick","html_url":"https://github.com/asjadathick","followers_url":"https://api.github.com/users/asjadathick/followers","following_url":"https://api.github.com/users/asjadathick/following{/other_user}","gists_url":"https://api.github.com/users/asjadathick/gists{/gist_id}","starred_url":"https://api.github.com/users/asjadathick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asjadathick/subscriptions","organizations_url":"https://api.github.com/users/asjadathick/orgs","repos_url":"https://api.github.com/users/asjadathick/repos","events_url":"https://api.github.com/users/asjadathick/events{/privacy}","received_events_url":"https://api.github.com/users/asjadathick/received_events","type":"User","site_admin":false},"labels":[{"id":912845062,"node_id":"MDU6TGFiZWw5MTI4NDUwNjI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Watcher","name":":Core/Features/Watcher","color":"0e8a16","default":false,"description":""},{"id":146834791,"node_id":"MDU6TGFiZWwxNDY4MzQ3OTE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Scripting","name":":Core/Infra/Scripting","color":"0e8a16","default":false,"description":"Scripting abstractions, Painless, and Mustache"},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":1967496097,"node_id":"MDU6TGFiZWwxOTY3NDk2MDk3","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Core/Features","name":"Team:Core/Features","color":"fef2c0","default":false,"description":"Meta label for core/features team"},{"id":1967495446,"node_id":"MDU6TGFiZWwxOTY3NDk1NDQ2","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Core/Infra","name":"Team:Core/Infra","color":"fef2c0","default":false,"description":"Meta label for core/infra team"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-08-18T00:16:43Z","updated_at":"2020-10-07T04:41:09Z","closed_at":"2020-10-07T01:50:18Z","author_association":"NONE","active_lock_reason":null,"body":"Painless in the watcher context does not provide APIs to generate hash values from strings. This is an issue when integrating with external systems that require a unique/key field for documents sent to them. \r\n\r\nIn my use case, I'm aggregating events on Elasticsearch before sending aggregated results into ServiceNow as CIs (configuration items). Without a hash value, I have no way to update/overwrite existing CIs on servicenow.\r\n\r\nI suggest adding support for md5, sha1, sha256 and sha512 methods into the watcher context. Supporting more collision resistant hashes with higher bit lengths will future proof this API.\r\n\r\nI suggest the API looks something like this:\r\n\r\n```\r\ndef key1 = str1.sha1();\r\ndef key2 = \"str2\".sha1();\r\ndef key3 = \"str3\".md5();\r\ndef key4 = \"str3\".sha256();\r\n```","closed_by":{"login":"stu-elastic","id":24232742,"node_id":"MDQ6VXNlcjI0MjMyNzQy","avatar_url":"https://avatars0.githubusercontent.com/u/24232742?v=4","gravatar_id":"","url":"https://api.github.com/users/stu-elastic","html_url":"https://github.com/stu-elastic","followers_url":"https://api.github.com/users/stu-elastic/followers","following_url":"https://api.github.com/users/stu-elastic/following{/other_user}","gists_url":"https://api.github.com/users/stu-elastic/gists{/gist_id}","starred_url":"https://api.github.com/users/stu-elastic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stu-elastic/subscriptions","organizations_url":"https://api.github.com/users/stu-elastic/orgs","repos_url":"https://api.github.com/users/stu-elastic/repos","events_url":"https://api.github.com/users/stu-elastic/events{/privacy}","received_events_url":"https://api.github.com/users/stu-elastic/received_events","type":"User","site_admin":false},"performed_via_github_app":null}