[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/91641464","html_url":"https://github.com/elastic/elasticsearch/issues/10494#issuecomment-91641464","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10494","id":91641464,"node_id":"MDEyOklzc3VlQ29tbWVudDkxNjQxNDY0","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2015-04-10T18:14:08Z","updated_at":"2015-04-10T18:14:08Z","author_association":"MEMBER","body":"@Asimov4 Can you provide your mappings?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/92302977","html_url":"https://github.com/elastic/elasticsearch/issues/10494#issuecomment-92302977","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10494","id":92302977,"node_id":"MDEyOklzc3VlQ29tbWVudDkyMzAyOTc3","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-04-13T10:32:53Z","updated_at":"2015-04-13T10:32:53Z","author_association":"CONTRIBUTOR","body":"@Asimov4 and the stack trace in the elasticsearch logs please\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/92449691","html_url":"https://github.com/elastic/elasticsearch/issues/10494#issuecomment-92449691","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10494","id":92449691,"node_id":"MDEyOklzc3VlQ29tbWVudDkyNDQ5Njkx","user":{"login":"Asimov4","id":897911,"node_id":"MDQ6VXNlcjg5NzkxMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/897911?v=4","gravatar_id":"","url":"https://api.github.com/users/Asimov4","html_url":"https://github.com/Asimov4","followers_url":"https://api.github.com/users/Asimov4/followers","following_url":"https://api.github.com/users/Asimov4/following{/other_user}","gists_url":"https://api.github.com/users/Asimov4/gists{/gist_id}","starred_url":"https://api.github.com/users/Asimov4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Asimov4/subscriptions","organizations_url":"https://api.github.com/users/Asimov4/orgs","repos_url":"https://api.github.com/users/Asimov4/repos","events_url":"https://api.github.com/users/Asimov4/events{/privacy}","received_events_url":"https://api.github.com/users/Asimov4/received_events","type":"User","site_admin":false},"created_at":"2015-04-13T18:16:56Z","updated_at":"2015-04-13T18:17:50Z","author_association":"CONTRIBUTOR","body":"Here's our mapping.\nI just saw that it looks like someone indexed a query by mistake.\n\n```\n{\n  \"_default_\": {\n    \"dynamic_date_formats\": [\n      \"yyyy-MM-dd HH:mm:ss\",\n      \"dd-MM-yyyy\",\n      \"dd-MMM-yy\",\n      \"date_optional_time\"\n    ],\n    \"dynamic_templates\": [\n      {\n        \"text_template\": {\n          \"mapping\": {\n            \"analyzer\": \"english\",\n            \"type\": \"string\"\n          },\n          \"match_mapping_type\": \"string\",\n          \"match\": \"text\"\n        }\n      },\n      {\n        \"string_template\": {\n          \"mapping\": {\n            \"index\": \"not_analyzed\",\n            \"type\": \"string\"\n          },\n          \"match_mapping_type\": \"string\",\n          \"match\": \"*\"\n        }\n      }\n    ],\n    \"properties\": {}\n  },\n  \"DocType1\": {\n    \"properties\": {\n      \"field01\": {\n        \"type\": \"string\"\n      },\n      \"suggest\": {\n        \"max_input_length\": 50,\n        \"payloads\": false,\n        \"analyzer\": \"simple\",\n        \"preserve_position_increments\": true,\n        \"type\": \"completion\",\n        \"preserve_separators\": true\n      }\n    }\n  },\n  \"DocType2\": {\n    \"properties\": {\n      \"field1\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field2\": {\n        \"type\": \"long\"\n      },\n      \"field3\": {\n        \"type\": \"long\"\n      },\n      \"field4\": {\n        \"type\": \"long\"\n      },\n      \"field5\": {\n        \"type\": \"long\"\n      },\n      \"field6\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field7\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field8\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field9\": {\n        \"type\": \"string\"\n      },\n      \"field10\": {\n        \"type\": \"long\"\n      },\n      \"field11\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field12\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"filtered\": {\n        \"properties\": {\n          \"filter\": {\n            \"properties\": {\n              \"bool\": {\n                \"properties\": {\n                  \"must\": {\n                    \"properties\": {\n                      \"bool\": {\n                        \"properties\": {\n                          \"should\": {\n                            \"properties\": {\n                              \"missing\": {\n                                \"properties\": {\n                                  \"field\": {\n                                    \"index\": \"not_analyzed\",\n                                    \"type\": \"string\"\n                                  }\n                                }\n                              },\n                              \"term\": {\n                                \"properties\": {\n                                  \"field21\": {\n                                    \"index\": \"not_analyzed\",\n                                    \"type\": \"string\"\n                                  }\n                                }\n                              }\n                            }\n                          }\n                        }\n                      },\n                      \"match_all\": {\n                        \"type\": \"object\"\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          },\n          \"query\": {\n            \"properties\": {\n              \"bool\": {\n                \"properties\": {\n                  \"should\": {\n                    \"properties\": {\n                      \"query_string\": {\n                        \"properties\": {\n                          \"_name\": {\n                            \"index\": \"not_analyzed\",\n                            \"type\": \"string\"\n                          },\n                          \"query\": {\n                            \"index\": \"not_analyzed\",\n                            \"type\": \"string\"\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      },\n      \"field13\": {\n        \"type\": \"long\"\n      },\n      \"field14\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field15\": {\n        \"type\": \"string\"\n      },\n      \"field16\": {\n        \"type\": \"string\"\n      },\n      \"field17\": {\n        \"type\": \"long\"\n      },\n      \"field18\": {\n        \"type\": \"long\"\n      },\n      \"field19\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field20\": {\n        \"type\": \"string\"\n      },\n      \"field21\": {\n        \"type\": \"nested\",\n        \"properties\": {\n          \"field211\": {\n            \"type\": \"string\"\n          },\n          \"field212\": {\n            \"type\": \"string\"\n          }\n        }\n      },\n      \"field22\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field23\": {\n        \"type\": \"string\"\n      },\n      \"field24\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field25\": {\n        \"properties\": {\n          \"field251\": {\n            \"index\": \"not_analyzed\",\n            \"type\": \"string\"\n          },\n          \"field252\": {\n            \"type\": \"long\"\n          },\n          \"field253\": {\n            \"index\": \"not_analyzed\",\n            \"type\": \"string\"\n          },\n          \"field254\": {\n            \"index\": \"not_analyzed\",\n            \"type\": \"string\"\n          },\n          \"field255\": {\n            \"index\": \"not_analyzed\",\n            \"type\": \"string\"\n          }\n        }\n      },\n      \"field30\": {\n        \"type\": \"long\"\n      },\n      \"field40\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field41\": {\n        \"type\": \"nested\",\n        \"properties\": {\n          \"field42\": {\n            \"type\": \"string\"\n          },\n          \"field43\": {\n            \"type\": \"string\"\n          }\n        }\n      },\n      \"field44\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field45\": {\n        \"analyzer\": \"english\",\n        \"type\": \"string\"\n      },\n      \"field46\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field47\": {\n        \"type\": \"string\"\n      },\n      \"field48\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field49\": {\n        \"type\": \"long\"\n      },\n      \"field50\": {\n        \"type\": \"string\"\n      },\n      \"field51\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field52\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field53\": {\n        \"type\": \"string\"\n      },\n      \"field54\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field55\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field56\": {\n        \"type\": \"long\"\n      },\n      \"field57\": {\n        \"type\": \"long\"\n      },\n      \"field58\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field59\": {\n        \"type\": \"string\"\n      },\n      \"field60\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field61\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field62\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field63\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field64\": {\n        \"type\": \"long\"\n      },\n      \"field65\": {\n        \"type\": \"string\"\n      },\n      \"field66\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field67\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field68\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field69\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field70\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field71\": {\n        \"properties\": {\n          \"field72\": {\n            \"index\": \"not_analyzed\",\n            \"type\": \"string\"\n          },\n          \"field73\": {\n            \"index\": \"not_analyzed\",\n            \"type\": \"string\"\n          },\n          \"field74\": {\n            \"index\": \"not_analyzed\",\n            \"type\": \"string\"\n          },\n          \"field75\": {\n            \"index\": \"not_analyzed\",\n            \"type\": \"string\"\n          },\n          \"field76\": {\n            \"index\": \"not_analyzed\",\n            \"type\": \"string\"\n          },\n          \"field77\": {\n            \"index\": \"not_analyzed\",\n            \"type\": \"string\"\n          }\n        }\n      },\n      \"field78\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field79\": {\n        \"type\": \"long\"\n      },\n      \"field80\": {\n        \"properties\": {\n          \"field81\": {\n            \"index\": \"not_analyzed\",\n            \"type\": \"string\"\n          },\n          \"field82\": {\n            \"index\": \"not_analyzed\",\n            \"type\": \"string\"\n          },\n          \"field83\": {\n            \"index\": \"not_analyzed\",\n            \"type\": \"string\"\n          }\n        }\n      },\n      \"field84\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field85\": {\n        \"type\": \"string\"\n      },\n      \"field86\": {\n        \"type\": \"long\"\n      },\n      \"field87\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field88\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field89\": {\n        \"type\": \"long\"\n      },\n      \"field90\": {\n        \"type\": \"string\"\n      },\n      \"field91\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field92\": {\n        \"type\": \"long\"\n      },\n      \"field93\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field94\": {\n        \"type\": \"string\"\n      },\n      \"field95\": {\n        \"type\": \"string\"\n      },\n      \"field96\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field97\": {\n        \"type\": \"string\"\n      },\n      \"field98\": {\n        \"type\": \"long\"\n      },\n      \"field99\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field100\": {\n        \"type\": \"string\"\n      },\n      \"field101\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field102\": {\n        \"type\": \"long\"\n      },\n      \"field103\": {\n        \"type\": \"string\"\n      },\n      \"field104\": {\n        \"type\": \"string\"\n      },\n      \"field105\": {\n        \"type\": \"long\"\n      },\n      \"field106\": {\n        \"type\": \"long\"\n      },\n      \"field107\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field108\": {\n        \"type\": \"long\"\n      },\n      \"field109\": {\n        \"type\": \"long\"\n      },\n      \"field110\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field111\": {\n        \"type\": \"long\"\n      },\n      \"field112\": {\n        \"type\": \"string\"\n      },\n      \"field113\": {\n        \"type\": \"long\"\n      },\n      \"field114\": {\n        \"type\": \"long\"\n      },\n      \"field115\": {\n        \"type\": \"long\"\n      },\n      \"field116\": {\n        \"type\": \"long\"\n      },\n      \"field117\": {\n        \"type\": \"long\"\n      },\n      \"field118\": {\n        \"type\": \"string\"\n      },\n      \"field119\": {\n        \"type\": \"string\"\n      },\n      \"field120\": {\n        \"analyzer\": \"english\",\n        \"type\": \"string\"\n      },\n      \"field121\": {\n        \"type\": \"string\"\n      },\n      \"field122\": {\n        \"type\": \"string\"\n      },\n      \"field123\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field124\": {\n        \"type\": \"long\"\n      },\n      \"field125\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field126\": {\n        \"type\": \"string\"\n      },\n      \"field127\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field128\": {\n        \"properties\": {\n          \"field129\": {\n            \"index\": \"not_analyzed\",\n            \"type\": \"string\"\n          },\n          \"field130\": {\n            \"index\": \"not_analyzed\",\n            \"type\": \"string\"\n          }\n        }\n      },\n      \"field131\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      },\n      \"field132\": {\n        \"index\": \"not_analyzed\",\n        \"type\": \"string\"\n      }\n    }\n  }\n}\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/92452022","html_url":"https://github.com/elastic/elasticsearch/issues/10494#issuecomment-92452022","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10494","id":92452022,"node_id":"MDEyOklzc3VlQ29tbWVudDkyNDUyMDIy","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-04-13T18:25:50Z","updated_at":"2015-04-13T18:25:50Z","author_association":"CONTRIBUTOR","body":"@Asimov4 it's quite difficult to figure out what is going on when you've renamed all of the fields :)\n\nCould you upload that stack trace, and possibly a simple but complete recreation?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/92455887","html_url":"https://github.com/elastic/elasticsearch/issues/10494#issuecomment-92455887","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10494","id":92455887,"node_id":"MDEyOklzc3VlQ29tbWVudDkyNDU1ODg3","user":{"login":"Asimov4","id":897911,"node_id":"MDQ6VXNlcjg5NzkxMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/897911?v=4","gravatar_id":"","url":"https://api.github.com/users/Asimov4","html_url":"https://github.com/Asimov4","followers_url":"https://api.github.com/users/Asimov4/followers","following_url":"https://api.github.com/users/Asimov4/following{/other_user}","gists_url":"https://api.github.com/users/Asimov4/gists{/gist_id}","starred_url":"https://api.github.com/users/Asimov4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Asimov4/subscriptions","organizations_url":"https://api.github.com/users/Asimov4/orgs","repos_url":"https://api.github.com/users/Asimov4/repos","events_url":"https://api.github.com/users/Asimov4/events{/privacy}","received_events_url":"https://api.github.com/users/Asimov4/received_events","type":"User","site_admin":false},"created_at":"2015-04-13T18:40:05Z","updated_at":"2015-04-13T18:40:05Z","author_association":"CONTRIBUTOR","body":"Sorry about that. I was trying to scrub the data. For the same reason, the stack trace is not published for security reasons in the stack I am troubleshooting.\n\nI am also having a hard time writing an example that would highlight the problem. It looks like a tricky bug as the NullPointerException is triggered when some values are there or not.\n\nFor example:\n`someField1:(someValue1 OR someValue2 OR someValue3) AND someField2:(someValue3 OR someValue4)`\nwill trigger it.\n\nBut \n`someField1:(someValue1 OR someValue3) AND someField2:(someValue3 OR someValue4)`\nand\n`someField1:(someValue1 OR someValue2 OR someValue3 OR someValue4) AND someField2:(someValue3 OR someValue4)`\nwill not.\n\nI'll work on recreating the bug in a sample environment if I can.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/92796719","html_url":"https://github.com/elastic/elasticsearch/issues/10494#issuecomment-92796719","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10494","id":92796719,"node_id":"MDEyOklzc3VlQ29tbWVudDkyNzk2NzE5","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-04-14T12:38:32Z","updated_at":"2015-04-14T12:38:32Z","author_association":"CONTRIBUTOR","body":"@Asimov4 weird :)  appreciate the effort on trying to recreate\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/103748671","html_url":"https://github.com/elastic/elasticsearch/issues/10494#issuecomment-103748671","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10494","id":103748671,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMzc0ODY3MQ==","user":{"login":"adichad","id":383215,"node_id":"MDQ6VXNlcjM4MzIxNQ==","avatar_url":"https://avatars3.githubusercontent.com/u/383215?v=4","gravatar_id":"","url":"https://api.github.com/users/adichad","html_url":"https://github.com/adichad","followers_url":"https://api.github.com/users/adichad/followers","following_url":"https://api.github.com/users/adichad/following{/other_user}","gists_url":"https://api.github.com/users/adichad/gists{/gist_id}","starred_url":"https://api.github.com/users/adichad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adichad/subscriptions","organizations_url":"https://api.github.com/users/adichad/orgs","repos_url":"https://api.github.com/users/adichad/repos","events_url":"https://api.github.com/users/adichad/events{/privacy}","received_events_url":"https://api.github.com/users/adichad/received_events","type":"User","site_admin":false},"created_at":"2015-05-20T04:03:00Z","updated_at":"2015-05-20T04:08:58Z","author_association":"NONE","body":"I've come up against the same issue. for _some_ queries (not all), when I set the queryName parameter via the java api, I get failures in the shards section of the response:-\n\n<code>\n\"_shards\": {\n\"total\": 18,\n\"successful\": 4,\n\"failed\": 14,\n\"failures\": [\n{\n\"index\": \"b\",\n\"shard\": 0,\n\"status\": 500,\n\"reason\": \"RemoteTransportException[[search04][inet[/172.30.102.220:9300]][indices:data/read/search[phase/fetch/id]]]; nested: NullPointerException; \"\n},\n</code>\nalso, I get no hits in the hits section when this happens. \n\nall works well when the query name is removed. I can share the mapping, index settings, and queries that fail (and ones that don't).\n\nI want to actually try to use matched queries to do custom sort-comparators via native scripts, and this isn't helping.\n\nWhile I haven't delved into this code at all, it could have something to do with certain subqueries not being evaluated at all by lucene under some circumstances. I'll look around in code and post whatever I can that's relevant.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/105227415","html_url":"https://github.com/elastic/elasticsearch/issues/10494#issuecomment-105227415","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10494","id":105227415,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNTIyNzQxNQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-05-25T12:48:47Z","updated_at":"2015-05-25T12:48:47Z","author_association":"CONTRIBUTOR","body":"Hi @adichad \n\nIf you could provide a recreation, it would be very helpful.  I've been unable to replicate this.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/127686959","html_url":"https://github.com/elastic/elasticsearch/issues/10494#issuecomment-127686959","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10494","id":127686959,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNzY4Njk1OQ==","user":{"login":"Asimov4","id":897911,"node_id":"MDQ6VXNlcjg5NzkxMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/897911?v=4","gravatar_id":"","url":"https://api.github.com/users/Asimov4","html_url":"https://github.com/Asimov4","followers_url":"https://api.github.com/users/Asimov4/followers","following_url":"https://api.github.com/users/Asimov4/following{/other_user}","gists_url":"https://api.github.com/users/Asimov4/gists{/gist_id}","starred_url":"https://api.github.com/users/Asimov4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Asimov4/subscriptions","organizations_url":"https://api.github.com/users/Asimov4/orgs","repos_url":"https://api.github.com/users/Asimov4/repos","events_url":"https://api.github.com/users/Asimov4/events{/privacy}","received_events_url":"https://api.github.com/users/Asimov4/received_events","type":"User","site_admin":false},"created_at":"2015-08-04T17:35:44Z","updated_at":"2015-08-04T17:35:44Z","author_association":"CONTRIBUTOR","body":"@adichad any chance that you can share the mapping, index settings, and queries that fail (and ones that don't)?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/135145779","html_url":"https://github.com/elastic/elasticsearch/issues/10494#issuecomment-135145779","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10494","id":135145779,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNTE0NTc3OQ==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2015-08-26T19:25:26Z","updated_at":"2015-08-26T19:25:26Z","author_association":"CONTRIBUTOR","body":"Closing due to lack of feedback\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/135325391","html_url":"https://github.com/elastic/elasticsearch/issues/10494#issuecomment-135325391","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10494","id":135325391,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNTMyNTM5MQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2015-08-27T07:48:11Z","updated_at":"2015-08-27T07:48:11Z","author_association":"MEMBER","body":"As a side note, in the query-refactoring branch we have improved how `_name` and `boost` work and also prevented any NPE from being thrown when either of them is set and the query ends up being null, which is most probably the case here.\n","performed_via_github_app":null}]