{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/61523","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61523/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61523/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61523/events","html_url":"https://github.com/elastic/elasticsearch/issues/61523","id":685458739,"node_id":"MDU6SXNzdWU2ODU0NTg3Mzk=","number":61523,"title":" Add country_name to default properties of geoip processor","user":{"login":"immon","id":541494,"node_id":"MDQ6VXNlcjU0MTQ5NA==","avatar_url":"https://avatars2.githubusercontent.com/u/541494?v=4","gravatar_id":"","url":"https://api.github.com/users/immon","html_url":"https://github.com/immon","followers_url":"https://api.github.com/users/immon/followers","following_url":"https://api.github.com/users/immon/following{/other_user}","gists_url":"https://api.github.com/users/immon/gists{/gist_id}","starred_url":"https://api.github.com/users/immon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/immon/subscriptions","organizations_url":"https://api.github.com/users/immon/orgs","repos_url":"https://api.github.com/users/immon/repos","events_url":"https://api.github.com/users/immon/events{/privacy}","received_events_url":"https://api.github.com/users/immon/received_events","type":"User","site_admin":false},"labels":[{"id":268963484,"node_id":"MDU6TGFiZWwyNjg5NjM0ODQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Ingest","name":":Core/Features/Ingest","color":"0e8a16","default":false,"description":"Execution or management of Ingest Pipelines"},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":1967496097,"node_id":"MDU6TGFiZWwxOTY3NDk2MDk3","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Core/Features","name":"Team:Core/Features","color":"fef2c0","default":false,"description":"Meta label for core/features team"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-08-25T12:49:35Z","updated_at":"2020-09-30T19:06:52Z","closed_at":"2020-09-30T19:06:52Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"When using beats to ingest data we noticed that all geoip enrichments used by beats lack `country_name` field. Indeed [geoip](https://www.elastic.co/guide/en/elasticsearch/reference/7.9/geoip-processor.html#using-ingest-geoip) ingest processor lists the following defaults for `properties` field: `[continent_name, country_iso_code, region_iso_code, region_name, city_name, location]` and these defaults are used by beats.\r\n\r\nWe want `country name` added in all geo enrichments. Since we already have continent, region and city name why not the country name? \r\nTo do it we must update geoip processor configuration in the pipelines shipped with beats.\r\n\r\n\r\nThis requires additional work and maintenance as we either need to modify ingest pipelines shipped with beat modules or we can create new pipeline that calls beats pipeline as an inner one and in the parent one do the country name lookup.\r\nIn both cases out-of-the-box experience is poor.\r\n\r\nDo you think we can add `country_name` to default value of `properties`?\r\n","closed_by":{"login":"danhermann","id":22777892,"node_id":"MDQ6VXNlcjIyNzc3ODky","avatar_url":"https://avatars0.githubusercontent.com/u/22777892?v=4","gravatar_id":"","url":"https://api.github.com/users/danhermann","html_url":"https://github.com/danhermann","followers_url":"https://api.github.com/users/danhermann/followers","following_url":"https://api.github.com/users/danhermann/following{/other_user}","gists_url":"https://api.github.com/users/danhermann/gists{/gist_id}","starred_url":"https://api.github.com/users/danhermann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danhermann/subscriptions","organizations_url":"https://api.github.com/users/danhermann/orgs","repos_url":"https://api.github.com/users/danhermann/repos","events_url":"https://api.github.com/users/danhermann/events{/privacy}","received_events_url":"https://api.github.com/users/danhermann/received_events","type":"User","site_admin":false},"performed_via_github_app":null}