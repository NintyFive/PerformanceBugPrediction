[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/558108970","html_url":"https://github.com/elastic/elasticsearch/issues/49538#issuecomment-558108970","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49538","id":558108970,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODEwODk3MA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-11-25T11:14:17Z","updated_at":"2019-11-25T11:14:17Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search (:Search/Mapping)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/559033762","html_url":"https://github.com/elastic/elasticsearch/issues/49538#issuecomment-559033762","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49538","id":559033762,"node_id":"MDEyOklzc3VlQ29tbWVudDU1OTAzMzc2Mg==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2019-11-27T10:44:43Z","updated_at":"2019-11-27T11:28:55Z","author_association":"CONTRIBUTOR","body":"I ran some [quick benchmarks](https://gist.github.com/markharwood/3b5519338045a12115a41fc5b72355fa) and `keyword` based searches looked to be 4 times faster than `long` based searches so using the right mapping can be an important enhancement.\r\nThis benefit perhaps shouldn't be worth paying for in a change to our default template mapping. Option 4 above (defaulting to indexing both for range **_and_** keyword lookup mappings) adds disk storage cost - my benchmark index of 32mb (just longs) grew to 43mb when I added the keyword subfield type.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/559816297","html_url":"https://github.com/elastic/elasticsearch/issues/49538#issuecomment-559816297","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49538","id":559816297,"node_id":"MDEyOklzc3VlQ29tbWVudDU1OTgxNjI5Nw==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2019-11-29T15:01:00Z","updated_at":"2019-11-29T15:01:00Z","author_association":"CONTRIBUTOR","body":"We discussed this in FixItFriday.\r\nThe option of automatically indexing numerics optimised for both range and term queries would add to disk storage and we chose not to add this overhead because there's been insufficient complaint about exact-match performance. In my own benchmarks the overheads of exact-match on `long` types weren't noticeable until I ran multi-term `terms` queries - the slowdown is otherwise lost in the other costs of running a query (parsing JSON etc).\r\n\r\nAs far as changes go we should update the following docs to share the \"map numerics as keyword\" advice for improving exact-matching:\r\n1) The page for [numeric](https://www.elastic.co/guide/en/elasticsearch/reference/current/number.html) types\r\n2) The page for [keyword](https://www.elastic.co/guide/en/elasticsearch/reference/current/keyword.html) types","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/559816369","html_url":"https://github.com/elastic/elasticsearch/issues/49538#issuecomment-559816369","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49538","id":559816369,"node_id":"MDEyOklzc3VlQ29tbWVudDU1OTgxNjM2OQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-11-29T15:01:17Z","updated_at":"2019-11-29T15:01:17Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-docs (>docs)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/561766502","html_url":"https://github.com/elastic/elasticsearch/issues/49538#issuecomment-561766502","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49538","id":561766502,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MTc2NjUwMg==","user":{"login":"jrodewig","id":40268737,"node_id":"MDQ6VXNlcjQwMjY4NzM3","avatar_url":"https://avatars1.githubusercontent.com/u/40268737?v=4","gravatar_id":"","url":"https://api.github.com/users/jrodewig","html_url":"https://github.com/jrodewig","followers_url":"https://api.github.com/users/jrodewig/followers","following_url":"https://api.github.com/users/jrodewig/following{/other_user}","gists_url":"https://api.github.com/users/jrodewig/gists{/gist_id}","starred_url":"https://api.github.com/users/jrodewig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrodewig/subscriptions","organizations_url":"https://api.github.com/users/jrodewig/orgs","repos_url":"https://api.github.com/users/jrodewig/repos","events_url":"https://api.github.com/users/jrodewig/events{/privacy}","received_events_url":"https://api.github.com/users/jrodewig/received_events","type":"User","site_admin":false},"created_at":"2019-12-04T17:58:36Z","updated_at":"2019-12-04T17:58:36Z","author_association":"CONTRIBUTOR","body":"I'll work on adding this documentation.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/583731280","html_url":"https://github.com/elastic/elasticsearch/issues/49538#issuecomment-583731280","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49538","id":583731280,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzczMTI4MA==","user":{"login":"jdcohen220","id":33329717,"node_id":"MDQ6VXNlcjMzMzI5NzE3","avatar_url":"https://avatars0.githubusercontent.com/u/33329717?v=4","gravatar_id":"","url":"https://api.github.com/users/jdcohen220","html_url":"https://github.com/jdcohen220","followers_url":"https://api.github.com/users/jdcohen220/followers","following_url":"https://api.github.com/users/jdcohen220/following{/other_user}","gists_url":"https://api.github.com/users/jdcohen220/gists{/gist_id}","starred_url":"https://api.github.com/users/jdcohen220/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdcohen220/subscriptions","organizations_url":"https://api.github.com/users/jdcohen220/orgs","repos_url":"https://api.github.com/users/jdcohen220/repos","events_url":"https://api.github.com/users/jdcohen220/events{/privacy}","received_events_url":"https://api.github.com/users/jdcohen220/received_events","type":"User","site_admin":false},"created_at":"2020-02-08T12:15:04Z","updated_at":"2020-02-08T12:15:04Z","author_association":"NONE","body":"It seems like it would be beneficial to add a tip to the `Terms Aggregation` docs that the long type is not fully supported for bucketing in a terms aggregation. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/584742821","html_url":"https://github.com/elastic/elasticsearch/issues/49538#issuecomment-584742821","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49538","id":584742821,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NDc0MjgyMQ==","user":{"login":"jrodewig","id":40268737,"node_id":"MDQ6VXNlcjQwMjY4NzM3","avatar_url":"https://avatars1.githubusercontent.com/u/40268737?v=4","gravatar_id":"","url":"https://api.github.com/users/jrodewig","html_url":"https://github.com/jrodewig","followers_url":"https://api.github.com/users/jrodewig/followers","following_url":"https://api.github.com/users/jrodewig/following{/other_user}","gists_url":"https://api.github.com/users/jrodewig/gists{/gist_id}","starred_url":"https://api.github.com/users/jrodewig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrodewig/subscriptions","organizations_url":"https://api.github.com/users/jrodewig/orgs","repos_url":"https://api.github.com/users/jrodewig/repos","events_url":"https://api.github.com/users/jrodewig/events{/privacy}","received_events_url":"https://api.github.com/users/jrodewig/received_events","type":"User","site_admin":false},"created_at":"2020-02-11T17:09:22Z","updated_at":"2020-02-11T17:09:22Z","author_association":"CONTRIBUTOR","body":"Hi @jdcohen220 \r\n\r\nThank you for your feedback. Do you mind creating a separate issue with some steps for reproduction?\r\n\r\nWhile both involve the `long` mapping datatype, I don't believe the problem you pointed out is directly related. Also feel free to reach out via https://discuss.elastic.co/c/elasticsearch/ if you have questions.\r\n\r\nThanks again.","performed_via_github_app":null}]