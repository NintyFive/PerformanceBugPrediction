[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/517227208","html_url":"https://github.com/elastic/elasticsearch/issues/45081#issuecomment-517227208","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45081","id":517227208,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzIyNzIwOA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-08-01T10:32:28Z","updated_at":"2019-08-01T10:32:28Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-docs","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/517227215","html_url":"https://github.com/elastic/elasticsearch/issues/45081#issuecomment-517227215","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45081","id":517227215,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzIyNzIxNQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-08-01T10:32:30Z","updated_at":"2019-08-01T10:32:30Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/521636573","html_url":"https://github.com/elastic/elasticsearch/issues/45081#issuecomment-521636573","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45081","id":521636573,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTYzNjU3Mw==","user":{"login":"andrershov","id":600624,"node_id":"MDQ6VXNlcjYwMDYyNA==","avatar_url":"https://avatars1.githubusercontent.com/u/600624?v=4","gravatar_id":"","url":"https://api.github.com/users/andrershov","html_url":"https://github.com/andrershov","followers_url":"https://api.github.com/users/andrershov/followers","following_url":"https://api.github.com/users/andrershov/following{/other_user}","gists_url":"https://api.github.com/users/andrershov/gists{/gist_id}","starred_url":"https://api.github.com/users/andrershov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrershov/subscriptions","organizations_url":"https://api.github.com/users/andrershov/orgs","repos_url":"https://api.github.com/users/andrershov/repos","events_url":"https://api.github.com/users/andrershov/events{/privacy}","received_events_url":"https://api.github.com/users/andrershov/received_events","type":"User","site_admin":false},"created_at":"2019-08-15T13:15:31Z","updated_at":"2019-08-15T13:15:31Z","author_association":"CONTRIBUTOR","body":"The docs also also mentions that\r\n> It is preferable to correctly configure TCP keep-alives instead of using this feature, because TCP keep-alives apply to all kinds of long-lived connections and not just to transport connections.\r\n\r\nWhat other types of connections are meant here? TCP keep-alives is OS-specific feature, so it's better not to rely on them if possible and recommend using transport.ping_schedule instead.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/526612436","html_url":"https://github.com/elastic/elasticsearch/issues/45081#issuecomment-526612436","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45081","id":526612436,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjYxMjQzNg==","user":{"login":"andrershov","id":600624,"node_id":"MDQ6VXNlcjYwMDYyNA==","avatar_url":"https://avatars1.githubusercontent.com/u/600624?v=4","gravatar_id":"","url":"https://api.github.com/users/andrershov","html_url":"https://github.com/andrershov","followers_url":"https://api.github.com/users/andrershov/followers","following_url":"https://api.github.com/users/andrershov/following{/other_user}","gists_url":"https://api.github.com/users/andrershov/gists{/gist_id}","starred_url":"https://api.github.com/users/andrershov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrershov/subscriptions","organizations_url":"https://api.github.com/users/andrershov/orgs","repos_url":"https://api.github.com/users/andrershov/repos","events_url":"https://api.github.com/users/andrershov/events{/privacy}","received_events_url":"https://api.github.com/users/andrershov/received_events","type":"User","site_admin":false},"created_at":"2019-08-30T13:59:39Z","updated_at":"2019-08-30T13:59:39Z","author_association":"CONTRIBUTOR","body":"We discussed the issue on the team meeting and it seems that despite our custom pings could be better for transport connections (because they are platform-independent),  there are other connection types, where we just could not implement custom pings. This includes, for example, HTTP connections established to S3/GCS/Azure for snapshotting, HTTP connections established by watcher, etc.\r\nIf there is a long-running running HTTP request (for example, watcher notifies external service which slowly responds) and firewall configuration is insanely aggressive (close all connections idle for 30 seconds) without TCP keep-alive connection will be closed. This is not desired, because despite having a retry for most of our HTTP requests, a remote endpoint response generation could take longer than firewall timeout. \r\nI believe the proper solution would be to tweak firewall settings, however, this is not always under the users' control.\r\nRegarding documenting OS-specific keep-alive settings, we think that this is not something we want to do, because this could be easily be found online and we strive not to copy paster documentation from somewhere else.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/526629940","html_url":"https://github.com/elastic/elasticsearch/issues/45081#issuecomment-526629940","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45081","id":526629940,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjYyOTk0MA==","user":{"login":"andrershov","id":600624,"node_id":"MDQ6VXNlcjYwMDYyNA==","avatar_url":"https://avatars1.githubusercontent.com/u/600624?v=4","gravatar_id":"","url":"https://api.github.com/users/andrershov","html_url":"https://github.com/andrershov","followers_url":"https://api.github.com/users/andrershov/followers","following_url":"https://api.github.com/users/andrershov/following{/other_user}","gists_url":"https://api.github.com/users/andrershov/gists{/gist_id}","starred_url":"https://api.github.com/users/andrershov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrershov/subscriptions","organizations_url":"https://api.github.com/users/andrershov/orgs","repos_url":"https://api.github.com/users/andrershov/repos","events_url":"https://api.github.com/users/andrershov/events{/privacy}","received_events_url":"https://api.github.com/users/andrershov/received_events","type":"User","site_admin":false},"created_at":"2019-08-30T14:46:55Z","updated_at":"2019-08-30T14:46:55Z","author_association":"CONTRIBUTOR","body":"There is an issue about adding docs for firewall configuration, see https://github.com/elastic/elasticsearch/issues/14848. Probably we should document TCP keep-alive configuration along with firewall configuration. \r\nFor example, \"please configure firewall properly, if it is not possible configure TCP keep-alive instead.\"\r\nWith this in place do we need custom pings at all?\r\nPlease note that custom pings don't serve today for failure detection purposes.\r\n ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/545945040","html_url":"https://github.com/elastic/elasticsearch/issues/45081#issuecomment-545945040","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45081","id":545945040,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NTk0NTA0MA==","user":{"login":"wchrisdean","id":53786748,"node_id":"MDQ6VXNlcjUzNzg2NzQ4","avatar_url":"https://avatars2.githubusercontent.com/u/53786748?v=4","gravatar_id":"","url":"https://api.github.com/users/wchrisdean","html_url":"https://github.com/wchrisdean","followers_url":"https://api.github.com/users/wchrisdean/followers","following_url":"https://api.github.com/users/wchrisdean/following{/other_user}","gists_url":"https://api.github.com/users/wchrisdean/gists{/gist_id}","starred_url":"https://api.github.com/users/wchrisdean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wchrisdean/subscriptions","organizations_url":"https://api.github.com/users/wchrisdean/orgs","repos_url":"https://api.github.com/users/wchrisdean/repos","events_url":"https://api.github.com/users/wchrisdean/events{/privacy}","received_events_url":"https://api.github.com/users/wchrisdean/received_events","type":"User","site_admin":false},"created_at":"2019-10-24T14:29:06Z","updated_at":"2019-10-24T14:29:06Z","author_association":"CONTRIBUTOR","body":"[doc issue triage]","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/581559300","html_url":"https://github.com/elastic/elasticsearch/issues/45081#issuecomment-581559300","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45081","id":581559300,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MTU1OTMwMA==","user":{"login":"ppf2","id":7216393,"node_id":"MDQ6VXNlcjcyMTYzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/7216393?v=4","gravatar_id":"","url":"https://api.github.com/users/ppf2","html_url":"https://github.com/ppf2","followers_url":"https://api.github.com/users/ppf2/followers","following_url":"https://api.github.com/users/ppf2/following{/other_user}","gists_url":"https://api.github.com/users/ppf2/gists{/gist_id}","starred_url":"https://api.github.com/users/ppf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppf2/subscriptions","organizations_url":"https://api.github.com/users/ppf2/orgs","repos_url":"https://api.github.com/users/ppf2/repos","events_url":"https://api.github.com/users/ppf2/events{/privacy}","received_events_url":"https://api.github.com/users/ppf2/received_events","type":"User","site_admin":false},"created_at":"2020-02-03T18:47:32Z","updated_at":"2020-02-03T18:47:32Z","author_association":"MEMBER","body":"Repeatedly dropped connections (unreliable network) will severely impact Elasticsearch's operations if long-lived idle connections are not preserved between nodes.\r\n\r\nAs part of improving the documentation in this area, I would also like to see this important piece somewhere at the installation/setup level of our documentation given the number of transport disconnect issues we have seen in the field due to not having keep alive.\r\n\r\nI propose that we cross-reference this topic under \" Important System Configuration\" (https://www.elastic.co/guide/en/elasticsearch/reference/current/system-config.html)?  The reason being that it is unlikely for an admin to end up here (https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-transport.html#_long_lived_idle_connections) unless they specifically read about the transport module.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/664897413","html_url":"https://github.com/elastic/elasticsearch/issues/45081#issuecomment-664897413","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45081","id":664897413,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDg5NzQxMw==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2020-07-28T09:01:59Z","updated_at":"2020-07-28T09:01:59Z","author_association":"CONTRIBUTOR","body":"This issue is mostly addressed by #59278 (and #60216) for Linux and macOS. I think we shouldn't go into depth about how to configure keepalives on Windows; the relevant docs are version-specific and have a habit of moving around so I'd prefer we leave it to the user to search them out.\r\n\r\n@ppf2's most recent request will be addressed by #60268.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/666271308","html_url":"https://github.com/elastic/elasticsearch/issues/45081#issuecomment-666271308","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45081","id":666271308,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjI3MTMwOA==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2020-07-30T09:58:12Z","updated_at":"2020-07-30T09:58:12Z","author_association":"CONTRIBUTOR","body":"This issue is now resolved.","performed_via_github_app":null}]