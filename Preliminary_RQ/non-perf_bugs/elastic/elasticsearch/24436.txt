{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/24436","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24436/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24436/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24436/events","html_url":"https://github.com/elastic/elasticsearch/issues/24436","id":225739396,"node_id":"MDU6SXNzdWUyMjU3MzkzOTY=","number":24436,"title":"WildflyIT.testTransportClient failed in CI","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"labels":[{"id":60445228,"node_id":"MDU6TGFiZWw2MDQ0NTIyOA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest","name":">test","color":"5319e7","default":false,"description":"Issues or PRs that are addressing/adding tests"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"assignees":[{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2017-05-02T15:53:09Z","updated_at":"2018-01-01T21:27:31Z","closed_at":"2018-01-01T21:27:31Z","author_association":"MEMBER","active_lock_reason":null,"body":"Failed in CI today - https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+multijob-unix-compatibility/os=amazon/911/console\r\n```\r\n  2> NOTE: Linux 4.4.44-39.55.amzn1.x86_64 amd64/Oracle Corporation 1.8.0_121 (64-bit)/cpus=4,threads=1,free=483862184,total=514850816\r\n  2> NOTE: All tests run in this JVM: [WildflyIT]\r\n   > Expected: <201>\r\n   >      but: was <400>\r\n   > \tat __randomizedtesting.SeedInfo.seed([990E732BDE24D8EF:F5B837CA4E02164A]:0)\r\n   > \tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n   > \tat org.elasticsearch.wildfly.WildflyIT.testTransportClient(WildflyIT.java:78)\r\n   > \tat java.lang.Thread.run(Thread.java:745)\r\nCompleted [1/1] in 1.11s, 1 test, 1 failure <<< FAILURES!\r\n\r\n[ant:junit4] JVM J0: stderr was not empty, see: /var/lib/jenkins/workspace/elastic+elasticsearch+master+multijob-unix-compatibility/os/amazon/qa/wildfly/build/testrun/integTestRunner/temp/junit4-J0-20170502_094849_4827938408300352232738.syserr\r\nTests with failures:\r\n  - org.elasticsearch.wildfly.WildflyIT.testTransportClient\r\n```\r\n\r\nIt seems to be the first failure with this particular error. However this test failed 6 days ago with a different, but possibly related error:\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+5.x+multijob-intake/1073/console\r\n\r\n```\r\n2> NOTE: reproduce with: ant test  -Dtestcase=WildflyIT -Dtests.method=testTransportClient -Dtests.seed=88966EDD55EC9F58 -Dtests.locale=hr -Dtests.timezone=America/St_Kitts -Dtests.asserts=true -Dtests.file.encoding=UTF8\r\nERROR   0.39s | WildflyIT.testTransportClient <<< FAILURES!\r\n   > Throwable #1: org.apache.http.client.ClientProtocolException\r\n  2> NOTE: test params are: codec=Asserting(Lucene62): {}, docValues:{}, maxPointsInLeafNode=677, maxMBSortInHeap=6.504225533270213, sim=RandomSimilarity(queryNorm=false,coord=yes): {}, locale=hr, timezone=America/St_Kitts\r\n  2> NOTE: Linux 4.4.44-39.55.amzn1.x86_64 amd64/Oracle Corporation 1.8.0_121 (64-bit)/cpus=4,threads=1,free=487412120,total=514850816\r\n  2> NOTE: All tests run in this JVM: [WildflyIT]\r\n   > \tat __randomizedtesting.SeedInfo.seed([88966EDD55EC9F58:E4202A3CC5CA51FD]:0)\r\n   > \tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:186)\r\n   > \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\r\n   > \tat org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:107)\r\n   > \tat org.elasticsearch.wildfly.WildflyIT.testTransportClient(WildflyIT.java:77)\r\n   > \tat java.lang.Thread.run(Thread.java:745)\r\n   > Caused by: org.apache.http.ProtocolException: The server failed to respond with a valid HTTP response\r\n   > \tat org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:151)\r\n   > \tat org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:57)\r\n   > \tat org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259)\r\n   > \tat org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163)\r\n   > \tat org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:167)\r\n   > \tat org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273)\r\n   > \tat org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125)\r\n   > \tat org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:271)\r\n   > \tat org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\r\n   > \tat org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\r\n   > \tat org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n   > \tat org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\r\n   > \t... 39 more\r\nCompleted [1/1] in 1.09s, 1 test, 1 error <<< FAILURES!\r\n\r\n```\r\n\r\n\r\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}