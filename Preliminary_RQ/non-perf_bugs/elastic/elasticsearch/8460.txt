{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/8460","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8460/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8460/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8460/events","html_url":"https://github.com/elastic/elasticsearch/issues/8460","id":48568959,"node_id":"MDU6SXNzdWU0ODU2ODk1OQ==","number":8460,"title":"Mapping illegalargument exception","user":{"login":"blakekp","id":5933722,"node_id":"MDQ6VXNlcjU5MzM3MjI=","avatar_url":"https://avatars0.githubusercontent.com/u/5933722?v=4","gravatar_id":"","url":"https://api.github.com/users/blakekp","html_url":"https://github.com/blakekp","followers_url":"https://api.github.com/users/blakekp/followers","following_url":"https://api.github.com/users/blakekp/following{/other_user}","gists_url":"https://api.github.com/users/blakekp/gists{/gist_id}","starred_url":"https://api.github.com/users/blakekp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blakekp/subscriptions","organizations_url":"https://api.github.com/users/blakekp/orgs","repos_url":"https://api.github.com/users/blakekp/repos","events_url":"https://api.github.com/users/blakekp/events{/privacy}","received_events_url":"https://api.github.com/users/blakekp/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2014-11-12T22:03:30Z","updated_at":"2014-11-13T12:17:42Z","closed_at":"2014-11-13T12:17:42Z","author_association":"NONE","active_lock_reason":null,"body":"Hello, I seem to have an issue with mapping on my index, this is causing bulk failure, which is causing my client to close and interrupting my river!!!!!!\n\nThe error logs, (posted below) seem to be freaking out anytime the values in the field core_log have a : in them(some do and some do not, the field contains our error messages/stack traces), which would make sense to me, except I have the mapping set to string so it shouldnt affect it? I have also tried setting dynamic: strict, but this seemed to change nothing, am I missing something about this? if not it seems like a bug\n\n```\nPut core42/_mapping/jdbc\n{\n    \"jdbc\":{\n        \"dynamic\":\"false\",\n        \"properties\": {\n        \"CLASS\": {\n                  \"type\": \"string\"\n               },\n               \"CORE_LEVEL\": {\n                  \"type\": \"string\"\n               },\n               \"CORE_LOG\": {\n                  \"type\": \"string\"\n               },\n               \"CORE_USER\": {\n                  \"type\": \"string\"\n               },\n               \"CUSTOMER\": {\n                  \"type\": \"string\"\n               },\n               \"DATETIME\": {\n                  \"type\": \"date\",\n                  \"format\": \"dateOptionalTime\"\n               },\n               \"SERVER_NAME\": {\n                  \"type\": \"string\"\n               },\n               \"WEBAPP\": {\n                  \"type\": \"string\"\n               }\n        }\n    }\n}\n\n\n[2014-11-12 10:12:31,996][ERROR][river.jdbc.BulkNodeClient] bulk [29] failed with 3 failed items, failure message = failure in bulk execution:[58]: index [core42], type [jdbc], id [103756], message [MapperParsingException[failed to parse [CORE_LOG]]; nested: ElasticsearchIllegalArgumentException[unknown property [d]]; ][62]: index [core42], type [jdbc], id [103760], message [MapperParsingException[failed to parse [CORE_LOG]]; nested: ElasticsearchIllegalArgumentException[unknown property [d]]; ][147]: index [core42], type [jdbc], id [103767], message [MapperParsingException[failed to parse [CORE_LOG]]; nested: ElasticsearchIllegalArgumentException[unknown property [d]]; ]\n[2014-11-12 10:12:32,061][ERROR][river.jdbc.BulkNodeClient] bulk [29] failed with 3 failed items, failure message = failure in bulk execution:[38]: index [core42], type [jdbc], id [103756], message [MapperParsingException[failed to parse [CORE_LOG]]; nested: ElasticsearchIllegalArgumentException[unknown property [d]]; ][42]: index [core42], type [jdbc], id [103760], message [MapperParsingException[failed to parse [CORE_LOG]]; nested: ElasticsearchIllegalArgumentException[unknown property [d]]; ][127]: index [core42], type [jdbc], id [103767], message [MapperParsingException[failed to parse [CORE_LOG]]; nested: ElasticsearchIllegalArgumentException[unknown property [d]]; ]\n[2014-11-12 10:13:12,003][ERROR][river.jdbc.BulkNodeClient] bulk [37] failed with 1 failed items, failure message = failure in bulk execution:[99]: index [core42], type [jdbc], id [103747], message [MapperParsingException[failed to parse [CORE_LOG]]; nested: ElasticsearchIllegalArgumentException[unknown property [d]]; ]\n[2014-11-12 10:13:12,077][ERROR][river.jdbc.BulkNodeClient] bulk [37] failed with 1 failed items, failure message = failure in bulk execution:[71]: index [core42], type [jdbc], id [103747], message [MapperParsingException[failed to parse [CORE_LOG]]; nested: ElasticsearchIllegalArgumentException[unknown property [d]]; ]\n[2014-11-12 10:13:31,618][ERROR][river.jdbc.BulkNodeClient] bulk [29] failed with 3 failed items, failure message = failure in bulk execution:[29]: index [core42], type [jdbc], id [103756], message [MapperParsingException[failed to parse [CORE_LOG]]; nested: ElasticsearchIllegalArgumentException[unknown property [d]]; ][33]: index [core42], type [jdbc], id [103760], message [MapperParsingException[failed to parse [CORE_LOG]]; nested: ElasticsearchIllegalArgumentException[unknown property [d]]; ][118]: index [core42], type [jdbc], id [103767], message [MapperParsingException[failed to parse [CORE_LOG]]; nested: ElasticsearchIllegalArgumentException[unknown property [d]]; ]\n[2014-11-12 10:13:31,660][ERROR][river.jdbc.BulkNodeClient] bulk [29] failed with 2 failed items, failure message = failure in bulk execution:[60]: index [core42], type [jdbc], id [103756], message [MapperParsingException[failed to parse [CORE_LOG]]; nested: ElasticsearchIllegalArgumentException[unknown property [d]]; ][64]: index [core42], type [jdbc], id [103760], message [MapperParsingException[failed to parse [CORE_LOG]]; nested: ElasticsearchIllegalArgumentException[unknown property [d]]; ]\n[2014-11-12 10:13:36,665][ERROR][river.jdbc.BulkNodeClient] bulk [30] failed with 1 failed items, failure message = failure in bulk execution:[4]: index [core42], type [jdbc], id [103767], message [MapperParsingException[failed to parse [CORE_LOG]]; nested: ElasticsearchIllegalArgumentException[unknown property [d]]; ]\n[2014-11-12 10:14:11,633][ERROR][river.jdbc.BulkNodeClient] bulk [37] failed with 1 failed items, failure message = failure in bulk execution:[59]: index [core42], type [jdbc], id [103747], message [MapperParsingException[failed to parse [CORE_LOG]]; nested: ElasticsearchIllegalArgumentException[unknown property [d]]; ]\n[2014-11-12 10:14:11,710][ERROR][river.jdbc.BulkNodeClient] bulk [37] failed with 1 failed items, failure message = failure in bulk execution:[91]: index [core42], type [jdbc], id [103747], message [MapperParsingException[failed to parse [CORE_LOG]]; nested: ElasticsearchIllegalArgumentException[unknown property [d]]; ]\n[2014-11-12 10:14:30,195][ERROR][river.jdbc.BulkNodeClient] bulk [29] failed with 3 failed items, failure message = failure in bulk execution:[45]: index [core42], type [jdbc], id [103756], message [MapperParsingException[failed to parse [CORE_LOG]]; nested: ElasticsearchIllegalArgumentException[unknown property [d]]; ][49]: index [core42], type [jdbc], id [103760], message [MapperParsingException[failed to parse [CORE_LOG]]; nested: ElasticsearchIllegalArgumentException[unknown property [d]]; ][134]: index [core42], type [jdbc], id [103767], message [MapperParsingException[failed to parse [CORE_LOG]]; nested: ElasticsearchIllegalArgumentException[unknown property [d]]; ]\n[2014-11-12 10:14:30,256][ERROR][river.jdbc.BulkNodeClient] bulk [29] failed with 3 failed items, failure message = failure in bulk execution:[55]: index [core42], type [jdbc], id [103756], message [MapperParsingException[failed to parse [CORE_LOG]]; nested: ElasticsearchIllegalArgumentException[unknown property [d]]; ][59]: index [core42], type [jdbc], id [103760], message [MapperParsingException[failed to parse [CORE_LOG]]; nested: ElasticsearchIllegalArgumentException[unknown property [d]]; ][144]: index [core42], type [jdbc], id [103767], message [MapperParsingException[failed to parse [CORE_LOG]]; nested: ElasticsearchIllegalArgumentException[unknown property [d]]; ]\n[2014-11-12 10:15:10,204][ERROR][river.jdbc.BulkNodeClient] bulk [37] failed with 1 failed items, failure message = failure in bulk execution:[82]: index [core42], type [jdbc], id [103747], message [MapperParsingException[failed to parse [CORE_LOG]]; nested: ElasticsearchIllegalArgumentException[unknown property [d]]; ]\n[2014-11-12 10:15:10,280][ERROR][river.jdbc.BulkNodeClient] bulk [37] failed with 1 failed items, failure message = failure in bulk execution:[94]: index [core42], type [jdbc], id [103747], message [MapperParsingException[failed to parse [CORE_LOG]]; nested: ElasticsearchIllegalArgumentException[unknown property [d]]; ]\n[2014-11-12 10:15:58,523][ERROR][river.jdbc.RiverThread ] interrupted while shutdownjava.io.IOException: interrupted while shutdown at org.xbib.elasticsearch.plugin.jdbc.pipeline.executor.SimplePipelineExecutor.shutdown(SimplePipelineExecutor.java:145) at org.xbib.elasticsearch.plugin.jdbc.RiverThread.afterPipelineExecutions(RiverThread.java:140) at org.xbib.elasticsearch.plugin.jdbc.RiverThread.run(RiverThread.java:130) at java.lang.Thread.run(Unknown Source) at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) at java.util.concurrent.FutureTask.run(Unknown Source) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(Unknown Source) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source) at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) at java.lang.Thread.run(Unknown Source)\n[2014-11-12 10:15:58,525][ERROR][river.jdbc.RiverThread ] interrupted while shutdownjava.io.IOException: interrupted while shutdown at org.xbib.elasticsearch.plugin.jdbc.pipeline.executor.SimplePipelineExecutor.shutdown(SimplePipelineExecutor.java:145) at org.xbib.elasticsearch.plugin.jdbc.RiverThread.afterPipelineExecutions(RiverThread.java:140) at org.xbib.elasticsearch.plugin.jdbc.RiverThread.run(RiverThread.java:130) at java.lang.Thread.run(Unknown Source) at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) at java.util.concurrent.FutureTask.run(Unknown Source) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(Unknown Source) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source) at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) at java.lang.Thread.run(Unknown Source)\n[2014-11-12 10:15:58,524][ERROR][river.jdbc.RiverThread ] interrupted while shutdownjava.io.IOException: interrupted while shutdown at org.xbib.elasticsearch.plugin.jdbc.pipeline.executor.SimplePipelineExecutor.shutdown(SimplePipelineExecutor.java:145) at org.xbib.elasticsearch.plugin.jdbc.RiverThread.afterPipelineExecutions(RiverThread.java:140) at org.xbib.elasticsearch.plugin.jdbc.RiverThread.run(RiverThread.java:130) at java.lang.Thread.run(Unknown Source) at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source) at java.util.concurrent.FutureTask.run(Unknown Source) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(Unknown Source) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source) at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source) at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source) at java.lang.Thread.run(Unknown Source)\n[2014-11-12 10:15:58,523][ERROR][river.jdbc.RiverThread ] interrupted while shutdownjava.io.IOException: interrupted while shutdown at org.xbib.elasticsearch.plugin.jdbc.pipeline.executor.SimplePipelineExecutor.shutdown(SimplePipelineExecutor.java:145) at org.xbib.elasticsearch.plugin.jdbc.RiverThread.afterPipelineExecutions(RiverThread.java:140) at org.xbib.elasticsearch.plugin.jdbc.RiverThread.run(RiverThread.java:130)\n```\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}