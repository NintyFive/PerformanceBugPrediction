{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/20543","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20543/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20543/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20543/events","html_url":"https://github.com/elastic/elasticsearch/issues/20543","id":177709484,"node_id":"MDU6SXNzdWUxNzc3MDk0ODQ=","number":20543,"title":"Histogram Aggregation: With minimum doc count and extended bounds (Not filtering results)","user":{"login":"marklombardi","id":1860003,"node_id":"MDQ6VXNlcjE4NjAwMDM=","avatar_url":"https://avatars1.githubusercontent.com/u/1860003?v=4","gravatar_id":"","url":"https://api.github.com/users/marklombardi","html_url":"https://github.com/marklombardi","followers_url":"https://api.github.com/users/marklombardi/followers","following_url":"https://api.github.com/users/marklombardi/following{/other_user}","gists_url":"https://api.github.com/users/marklombardi/gists{/gist_id}","starred_url":"https://api.github.com/users/marklombardi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marklombardi/subscriptions","organizations_url":"https://api.github.com/users/marklombardi/orgs","repos_url":"https://api.github.com/users/marklombardi/repos","events_url":"https://api.github.com/users/marklombardi/events{/privacy}","received_events_url":"https://api.github.com/users/marklombardi/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2016-09-19T06:05:17Z","updated_at":"2017-11-13T07:03:38Z","closed_at":"2016-09-19T13:44:39Z","author_association":"NONE","active_lock_reason":null,"body":"**Elasticsearch version**: 2.3.3\n\n**Plugins installed**: [Sense, Kibana]\n\n**JVM version**: build 25.101-b13\n\n**OS version**: Windows 10\n\n**Description of the problem including expected versus actual behavior**:\nRunning a Histogram Aggregation with minimum doc count and extended bounds and range filter does not filter the results as described in the [documentation](https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-histogram-aggregation.html#search-aggregations-bucket-histogram-aggregation-extended-bounds).\n\n\"_Note that (as the name suggest) extended_bounds is not filtering buckets. Meaning, if the extended_bounds.min is higher than the values extracted from the documents, the documents will still dictate what the first bucket will be (and the same goes for the extended_bounds.max and the last bucket). **For filtering buckets, one should nest the histogram aggregation under a range filter aggregation with the appropriate from/to settings_**.\"\n\n**Steps to reproduce**:\n1. Refer to the following [discussion](https://discuss.elastic.co/t/histogram-aggregation-with-minimum-doc-count-and-extended-bounds/58495): \n\n**Provide logs (if relevant)**: N/A\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}