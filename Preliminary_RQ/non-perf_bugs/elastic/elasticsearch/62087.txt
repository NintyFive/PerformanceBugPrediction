{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/62087","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/62087/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/62087/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/62087/events","html_url":"https://github.com/elastic/elasticsearch/issues/62087","id":695770923,"node_id":"MDU6SXNzdWU2OTU3NzA5MjM=","number":62087,"title":"Negative longs unsupported, use writeLong or writeZLong for negative numbers","user":{"login":"srikwit","id":4140019,"node_id":"MDQ6VXNlcjQxNDAwMTk=","avatar_url":"https://avatars3.githubusercontent.com/u/4140019?v=4","gravatar_id":"","url":"https://api.github.com/users/srikwit","html_url":"https://github.com/srikwit","followers_url":"https://api.github.com/users/srikwit/followers","following_url":"https://api.github.com/users/srikwit/following{/other_user}","gists_url":"https://api.github.com/users/srikwit/gists{/gist_id}","starred_url":"https://api.github.com/users/srikwit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srikwit/subscriptions","organizations_url":"https://api.github.com/users/srikwit/orgs","repos_url":"https://api.github.com/users/srikwit/repos","events_url":"https://api.github.com/users/srikwit/events{/privacy}","received_events_url":"https://api.github.com/users/srikwit/received_events","type":"User","site_admin":false},"labels":[{"id":268963484,"node_id":"MDU6TGFiZWwyNjg5NjM0ODQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Ingest","name":":Core/Features/Ingest","color":"0e8a16","default":false,"description":"Execution or management of Ingest Pipelines"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":1967496097,"node_id":"MDU6TGFiZWwxOTY3NDk2MDk3","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Core/Features","name":"Team:Core/Features","color":"fef2c0","default":false,"description":"Meta label for core/features team"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-09-08T10:57:17Z","updated_at":"2020-09-09T12:31:04Z","closed_at":"2020-09-09T12:31:04Z","author_association":"NONE","active_lock_reason":null,"body":"<!--\r\nGitHub is reserved for bug reports and feature requests; it is not the place\r\nfor general questions. If you have a question or an unconfirmed bug , please\r\nvisit the [forums](https://discuss.elastic.co/c/elasticsearch).  Please also\r\ncheck your OS is [supported](https://www.elastic.co/support/matrix#show_os).\r\nIf it is not, the issue is likely to be closed.\r\n\r\nFor security vulnerabilities please only send reports to security@elastic.co.\r\nSee https://www.elastic.co/community/security for more information.\r\n\r\nPlease fill in the following details to help us reproduce the bug:\r\n-->\r\n\r\n**Elasticsearch version** (`bin/elasticsearch --version`): 7.9.1\r\n\r\n**Plugins installed**: [Custom]\r\n\r\n**JVM version** (`java -version`): \r\nopenjdk version \"14.0.1\" 2020-04-14\r\nOpenJDK Runtime Environment AdoptOpenJDK (build 14.0.1+7)\r\nOpenJDK 64-Bit Server VM AdoptOpenJDK (build 14.0.1+7, mixed mode, sharing)\r\n\r\n**OS version** (`uname -a` if on a Unix-like system): Linux 4.15.0-76-generic\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\n\r\n\r\n**Steps to reproduce**:\r\n\r\nI have been observing it with the cluster upgrade to 7.9.1\r\n\r\n**Provide logs (if relevant)**:\r\n```\r\njava.lang.IllegalStateException: Negative longs unsupported, use writeLong or writeZLong for negative numbers [-1000]\r\n        at org.elasticsearch.common.io.stream.StreamOutput.writeVLong(StreamOutput.java:301) ~[elasticsearch-7.9.1.jar\r\n:7.9.1]\r\n        at org.elasticsearch.ingest.IngestStats$Stats.writeTo(IngestStats.java:197) ~[elasticsearch-7.9.1.jar:7.9.1]\r\n        at org.elasticsearch.ingest.IngestStats.writeTo(IngestStats.java:103) ~[elasticsearch-7.9.1.jar:7.9.1]\r\n        at org.elasticsearch.common.io.stream.StreamOutput.writeOptionalWriteable(StreamOutput.java:952) ~[elasticsear\r\nch-7.9.1.jar:7.9.1]\r\n        at org.elasticsearch.action.admin.cluster.node.stats.NodeStats.writeTo(NodeStats.java:290) ~[elasticsearch-7.9\r\n.1.jar:7.9.1]\r\n        at org.elasticsearch.transport.OutboundMessage.writeMessage(OutboundMessage.java:87) ~[elasticsearch-7.9.1.jar\r\n:7.9.1]\r\n        at org.elasticsearch.transport.OutboundMessage.serialize(OutboundMessage.java:64) ~[elasticsearch-7.9.1.jar:7.\r\n9.1]\r\n        at org.elasticsearch.transport.OutboundHandler$MessageSerializer.get(OutboundHandler.java:159) ~[elasticsearch\r\n-7.9.1.jar:7.9.1]\r\n        at org.elasticsearch.transport.OutboundHandler$MessageSerializer.get(OutboundHandler.java:144) ~[elasticsearch\r\n-7.9.1.jar:7.9.1]\r\n        at org.elasticsearch.transport.OutboundHandler$SendContext.get(OutboundHandler.java:197) ~[elasticsearch-7.9.1.jar:7.9.1]\r\n        at org.elasticsearch.transport.netty4.Netty4MessageChannelHandler$WriteOperation.buffer(Netty4MessageChannelHandler.java:213) ~[transport-netty4-client-7.9.1.jar:7.9.1]\r\n        at org.elasticsearch.transport.netty4.Netty4MessageChannelHandler.doFlush(Netty4MessageChannelHandler.java:147) ~[transport-netty4-client-7.9.1.jar:7.9.1]\r\n        at org.elasticsearch.transport.netty4.Netty4MessageChannelHandler.flush(Netty4MessageChannelHandler.java:117) ~[transport-netty4-client-7.9.1.jar:7.9.1]\r\n```\r\n\r\n","closed_by":{"login":"danhermann","id":22777892,"node_id":"MDQ6VXNlcjIyNzc3ODky","avatar_url":"https://avatars0.githubusercontent.com/u/22777892?v=4","gravatar_id":"","url":"https://api.github.com/users/danhermann","html_url":"https://github.com/danhermann","followers_url":"https://api.github.com/users/danhermann/followers","following_url":"https://api.github.com/users/danhermann/following{/other_user}","gists_url":"https://api.github.com/users/danhermann/gists{/gist_id}","starred_url":"https://api.github.com/users/danhermann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danhermann/subscriptions","organizations_url":"https://api.github.com/users/danhermann/orgs","repos_url":"https://api.github.com/users/danhermann/repos","events_url":"https://api.github.com/users/danhermann/events{/privacy}","received_events_url":"https://api.github.com/users/danhermann/received_events","type":"User","site_admin":false},"performed_via_github_app":null}