[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/184154064","html_url":"https://github.com/elastic/elasticsearch/issues/16662#issuecomment-184154064","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16662","id":184154064,"node_id":"MDEyOklzc3VlQ29tbWVudDE4NDE1NDA2NA==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-02-15T10:29:22Z","updated_at":"2016-02-15T10:29:22Z","author_association":"MEMBER","body":"@drewr I understand  this is  a fresh 2.2.0 and not an upgrade from an older version? Do you have anything in the logs indicating why the primary would be unassigned to begin with? Was the cluster taken down? Also, can you save the index folder and put it somewhere we can take a look?\n\nThe CPU is explained by the master continuously trying to open the single shard it can find (and running into this issue). IMO we should treat translog corruption as proper corruption and make the shard as bad. @s1monw thoughts?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/383871036","html_url":"https://github.com/elastic/elasticsearch/issues/16662#issuecomment-383871036","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16662","id":383871036,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mzg3MTAzNg==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2018-04-24T09:44:45Z","updated_at":"2018-04-24T09:44:45Z","author_association":"MEMBER","body":"Oh, so old. Closing as the code today looks totally different.","performed_via_github_app":null}]