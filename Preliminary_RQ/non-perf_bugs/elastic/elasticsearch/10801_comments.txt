[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/96155272","html_url":"https://github.com/elastic/elasticsearch/issues/10801#issuecomment-96155272","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10801","id":96155272,"node_id":"MDEyOklzc3VlQ29tbWVudDk2MTU1Mjcy","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2015-04-25T08:08:46Z","updated_at":"2015-04-25T08:10:33Z","author_association":"MEMBER","body":"@hurshprasad indeed. There are misunderstandings here.\n1. you can not update an existing field. You need to create another mapping (or index) and reindex your documents. So even if your syntax would have been correct, it would have failed at the end.\n2. your syntax is incorrect. You should use nested objects to define your mapping:\n\n``` json\nDELETE issue\nPUT issue\nPUT issue/10801/_mapping\n{\n  \"10801\": {\n    \"properties\": {\n      \"address\": {\n        \"properties\": {\n          \"state\": {\n            \"properties\": {\n              \"abbreviation\": {\n                \"type\": \"string\"\n              },\n              \"id\": {\n                \"type\": \"long\"\n              }\n            }\n          },\n          \"zip_code\": {\n            \"type\": \"string\"\n          }\n        }\n      }\n    }\n  }\n}\nPUT issue/10801/_mapping\n{\n  \"10801\": {\n    \"properties\": {\n      \"address\": {\n        \"properties\": {\n          \"state\": {\n            \"properties\": {\n              \"abbreviation\": {\n                \"type\": \"string\"\n              },\n              \"id\": {\n                \"type\": \"long\"\n              },\n              \"name\": {\n                \"type\": \"string\",\n                \"index\": \"not_analyzed\"\n              }\n            }\n          },\n          \"zip_code\": {\n            \"type\": \"string\"\n          }\n        }\n      }\n    }\n  }\n}\nGET issue/10801/_mapping\n```\n\nIf you have any question like this, please prefer the mailing list.\n\nClosing as I don't think it's an issue here. Feel free to reopen if you think it is.\n","performed_via_github_app":null}]