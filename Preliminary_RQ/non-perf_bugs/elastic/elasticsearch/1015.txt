{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/1015","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1015/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1015/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1015/events","html_url":"https://github.com/elastic/elasticsearch/issues/1015","id":1034832,"node_id":"MDU6SXNzdWUxMDM0ODMy","number":1015,"title":"ElasticSearch uses more memory than it's assigned or it reports","user":{"login":"akheron","id":70927,"node_id":"MDQ6VXNlcjcwOTI3","avatar_url":"https://avatars3.githubusercontent.com/u/70927?v=4","gravatar_id":"","url":"https://api.github.com/users/akheron","html_url":"https://github.com/akheron","followers_url":"https://api.github.com/users/akheron/followers","following_url":"https://api.github.com/users/akheron/following{/other_user}","gists_url":"https://api.github.com/users/akheron/gists{/gist_id}","starred_url":"https://api.github.com/users/akheron/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akheron/subscriptions","organizations_url":"https://api.github.com/users/akheron/orgs","repos_url":"https://api.github.com/users/akheron/repos","events_url":"https://api.github.com/users/akheron/events{/privacy}","received_events_url":"https://api.github.com/users/akheron/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2011-06-10T07:36:20Z","updated_at":"2011-06-12T07:59:38Z","closed_at":"2011-06-12T07:59:38Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"ElasticSearch 0.16.2.\n\nI've given ES a heap size of 256MB with `ES_MAX_MEM=256m`. After running a while, it shows heap committed about 256MB and non-heap committed about 30MB, as reported by `http://localhost:9200/_cluster/nodes/stats`. So the total is under 290MB.\n\nBut what the OS (Linux in this case) thinks is a different story. The `top` command shows 460MB RES size (actual physical memory used by the process). This makes it very hard to limit ES to a certain amount of memory, which is important as there are other processes running on the node, too. I'd like to have more control on the RES memory usage, because the node eventually goes for swapping and gets really slow.\n","closed_by":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"performed_via_github_app":null}