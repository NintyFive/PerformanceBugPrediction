[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/50819078","html_url":"https://github.com/elastic/elasticsearch/issues/7115#issuecomment-50819078","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7115","id":50819078,"node_id":"MDEyOklzc3VlQ29tbWVudDUwODE5MDc4","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2014-07-31T21:09:42Z","updated_at":"2014-07-31T21:09:42Z","author_association":"MEMBER","body":"seems like on netty its not set by default only on Android, and still being set on Solaris. I would be more than happy to create a change to disable it on Solaris, others, thoughts?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/50819920","html_url":"https://github.com/elastic/elasticsearch/issues/7115#issuecomment-50819920","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7115","id":50819920,"node_id":"MDEyOklzc3VlQ29tbWVudDUwODE5OTIw","user":{"login":"f3nry","id":405623,"node_id":"MDQ6VXNlcjQwNTYyMw==","avatar_url":"https://avatars0.githubusercontent.com/u/405623?v=4","gravatar_id":"","url":"https://api.github.com/users/f3nry","html_url":"https://github.com/f3nry","followers_url":"https://api.github.com/users/f3nry/followers","following_url":"https://api.github.com/users/f3nry/following{/other_user}","gists_url":"https://api.github.com/users/f3nry/gists{/gist_id}","starred_url":"https://api.github.com/users/f3nry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/f3nry/subscriptions","organizations_url":"https://api.github.com/users/f3nry/orgs","repos_url":"https://api.github.com/users/f3nry/repos","events_url":"https://api.github.com/users/f3nry/events{/privacy}","received_events_url":"https://api.github.com/users/f3nry/received_events","type":"User","site_admin":false},"created_at":"2014-07-31T21:17:12Z","updated_at":"2014-07-31T21:17:12Z","author_association":"NONE","body":"@kimchy Correct, though it is now wrapped in an exception block and is ignored if it throws an error. TCP_NODELAY should still be set on Solaris but the behavior on a closed socket throws an exception and should be ignored.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/50820711","html_url":"https://github.com/elastic/elasticsearch/issues/7115#issuecomment-50820711","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7115","id":50820711,"node_id":"MDEyOklzc3VlQ29tbWVudDUwODIwNzEx","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2014-07-31T21:23:48Z","updated_at":"2014-07-31T21:23:48Z","author_association":"MEMBER","body":"Yes, the silent ignore in the exception... . I was just wondering why netty didn't disable it on Solaris by default as well. Based on your input, it seems like it should. I am reaching out to some solaris experts on our end to see what they think, just to be double sure we should make this change. Thanks for bringing it up!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/50821282","html_url":"https://github.com/elastic/elasticsearch/issues/7115#issuecomment-50821282","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7115","id":50821282,"node_id":"MDEyOklzc3VlQ29tbWVudDUwODIxMjgy","user":{"login":"f3nry","id":405623,"node_id":"MDQ6VXNlcjQwNTYyMw==","avatar_url":"https://avatars0.githubusercontent.com/u/405623?v=4","gravatar_id":"","url":"https://api.github.com/users/f3nry","html_url":"https://github.com/f3nry","followers_url":"https://api.github.com/users/f3nry/followers","following_url":"https://api.github.com/users/f3nry/following{/other_user}","gists_url":"https://api.github.com/users/f3nry/gists{/gist_id}","starred_url":"https://api.github.com/users/f3nry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/f3nry/subscriptions","organizations_url":"https://api.github.com/users/f3nry/orgs","repos_url":"https://api.github.com/users/f3nry/repos","events_url":"https://api.github.com/users/f3nry/events{/privacy}","received_events_url":"https://api.github.com/users/f3nry/received_events","type":"User","site_admin":false},"created_at":"2014-07-31T21:28:18Z","updated_at":"2014-07-31T21:28:18Z","author_association":"NONE","body":"Okay, awesome! Thanks so much!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/50821758","html_url":"https://github.com/elastic/elasticsearch/issues/7115#issuecomment-50821758","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7115","id":50821758,"node_id":"MDEyOklzc3VlQ29tbWVudDUwODIxNzU4","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2014-07-31T21:32:04Z","updated_at":"2014-07-31T21:32:04Z","author_association":"MEMBER","body":"@letuboy btw, which Java version are you running?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/50822114","html_url":"https://github.com/elastic/elasticsearch/issues/7115#issuecomment-50822114","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7115","id":50822114,"node_id":"MDEyOklzc3VlQ29tbWVudDUwODIyMTE0","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2014-07-31T21:35:10Z","updated_at":"2014-07-31T21:35:10Z","author_association":"MEMBER","body":"and another question, if you set it to `false`, does that happen (still gathering info, can probably find out on my own as well)? Its just the mere fact of calling `setTcpNoDelay`? If so, then we need not to set this setting at all on solaris, and at the very least, provide another setting to not set it (or another option, call it \"default\" to leave it as is)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/50832346","html_url":"https://github.com/elastic/elasticsearch/issues/7115#issuecomment-50832346","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7115","id":50832346,"node_id":"MDEyOklzc3VlQ29tbWVudDUwODMyMzQ2","user":{"login":"f3nry","id":405623,"node_id":"MDQ6VXNlcjQwNTYyMw==","avatar_url":"https://avatars0.githubusercontent.com/u/405623?v=4","gravatar_id":"","url":"https://api.github.com/users/f3nry","html_url":"https://github.com/f3nry","followers_url":"https://api.github.com/users/f3nry/followers","following_url":"https://api.github.com/users/f3nry/following{/other_user}","gists_url":"https://api.github.com/users/f3nry/gists{/gist_id}","starred_url":"https://api.github.com/users/f3nry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/f3nry/subscriptions","organizations_url":"https://api.github.com/users/f3nry/orgs","repos_url":"https://api.github.com/users/f3nry/repos","events_url":"https://api.github.com/users/f3nry/events{/privacy}","received_events_url":"https://api.github.com/users/f3nry/received_events","type":"User","site_admin":false},"created_at":"2014-07-31T23:32:13Z","updated_at":"2014-07-31T23:32:13Z","author_association":"NONE","body":"We're using OpenJDK 1.7.\n\n```\nopenjdk version \"1.7.0-internal\"\nOpenJDK Runtime Environment (build 1.7.0-internal-pkgsrc_2014_05_16_23_21-b00)\nOpenJDK 64-Bit Server VM (build 24.51-b03, mixed mode)\n```\n\nIt appears that the mere fact of calling `setTcpNoDelay` causes this. It's also very rare, but it has happened a few times.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/50964939","html_url":"https://github.com/elastic/elasticsearch/issues/7115#issuecomment-50964939","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7115","id":50964939,"node_id":"MDEyOklzc3VlQ29tbWVudDUwOTY0OTM5","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2014-08-02T14:59:02Z","updated_at":"2014-08-02T14:59:02Z","author_association":"MEMBER","body":"@letuboy hard to tell exactly which Java version its actually is..., internal?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/50965875","html_url":"https://github.com/elastic/elasticsearch/issues/7115#issuecomment-50965875","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7115","id":50965875,"node_id":"MDEyOklzc3VlQ29tbWVudDUwOTY1ODc1","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2014-08-02T15:34:51Z","updated_at":"2014-08-02T15:34:51Z","author_association":"MEMBER","body":"I pushed #7136 to master and 1.x (upcoming 1.4) to allow to set `default` as the value, and then it will not be set. Its not a good out of the box solution, but at least now users will have the option to configure ES not to set it at all.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/50974086","html_url":"https://github.com/elastic/elasticsearch/issues/7115#issuecomment-50974086","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7115","id":50974086,"node_id":"MDEyOklzc3VlQ29tbWVudDUwOTc0MDg2","user":{"login":"f3nry","id":405623,"node_id":"MDQ6VXNlcjQwNTYyMw==","avatar_url":"https://avatars0.githubusercontent.com/u/405623?v=4","gravatar_id":"","url":"https://api.github.com/users/f3nry","html_url":"https://github.com/f3nry","followers_url":"https://api.github.com/users/f3nry/followers","following_url":"https://api.github.com/users/f3nry/following{/other_user}","gists_url":"https://api.github.com/users/f3nry/gists{/gist_id}","starred_url":"https://api.github.com/users/f3nry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/f3nry/subscriptions","organizations_url":"https://api.github.com/users/f3nry/orgs","repos_url":"https://api.github.com/users/f3nry/repos","events_url":"https://api.github.com/users/f3nry/events{/privacy}","received_events_url":"https://api.github.com/users/f3nry/received_events","type":"User","site_admin":false},"created_at":"2014-08-02T20:55:34Z","updated_at":"2014-08-02T20:55:34Z","author_association":"NONE","body":"OpenJDK 1.7 correlates to Java 7, as far as I'm aware of. Thanks so much! We'll look out for the 1.4 release and update the setting when that happens. This issue is rare, so it shouldn't be too much of an pain until then. I'll close this ticket.\n\n@sax @indirect\n","performed_via_github_app":null}]