{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/32807","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32807/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32807/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32807/events","html_url":"https://github.com/elastic/elasticsearch/issues/32807","id":350016847,"node_id":"MDU6SXNzdWUzNTAwMTY4NDc=","number":32807,"title":"Plugins: Running `./gradlew run` in external plugins fails","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"labels":[{"id":146832994,"node_id":"MDU6TGFiZWwxNDY4MzI5OTQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Plugins","name":":Core/Infra/Plugins","color":"0e8a16","default":false,"description":"Plugin API and infrastructure"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-08-13T12:52:47Z","updated_at":"2018-08-23T20:00:01Z","closed_at":"2018-08-23T20:00:01Z","author_association":"MEMBER","active_lock_reason":null,"body":"**Elasticsearch version** (`bin/elasticsearch --version`): 6.3.2 (all of 6.3 is affected), works in 6.2 and below\r\n\r\nWhen trying to call `./gradlew run` in an external plugin, the following exceptions pops up\r\n\r\n```\r\n./gradlew run\r\nStarting a Gradle Daemon (subsequent builds will be faster)\r\n\r\n> Configure project :\r\n=======================================\r\nElasticsearch Build Hamster says Hello!\r\n=======================================\r\n  Gradle Version        : 4.7\r\n  OS Info               : Mac OS X 10.13.6 (x86_64)\r\n  JDK Version           : Oracle Corporation 10.0.1 [Java HotSpot(TM) 64-Bit Server VM 10.0.1+10]\r\n  JAVA_HOME             : /Users/alr/.sdkman/candidates/java/10.0.1-oracle\r\n  Random Testing Seed   : CDFB648806AD1486\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not determine the dependencies of task ':run#extract'.\r\n> Could not resolve all files for configuration ':run_elasticsearchDistro'.\r\n   > Could not find org.elasticsearch.distribution.zip:elasticsearch:6.3.2.\r\n     Searched in the following locations:\r\n         https://repo.maven.apache.org/maven2/org/elasticsearch/distribution/zip/elasticsearch/6.3.2/elasticsearch-6.3.2.pom\r\n         https://repo.maven.apache.org/maven2/org/elasticsearch/distribution/zip/elasticsearch/6.3.2/elasticsearch-6.3.2.zip\r\n     Required by:\r\n         project :\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 5.0.\r\nSee https://docs.gradle.org/4.7/userguide/command_line_interface.html#sec:command_line_warnings\r\n\r\nBUILD FAILED in 10s\r\n```\r\n\r\nIt seems that the correct artifact would be the `elasticsearch-oss` distribution at https://repo.maven.apache.org/maven2/org/elasticsearch/distribution/zip/elasticsearch-oss/6.3.2/elasticsearch-oss-6.3.2.zip\r\n\r\nIf you want to reproduce you can run\r\n\r\n```\r\n# this will create an ingest plugin skeleton in the ingest-awesome directory\r\ncookiecutter --no-input gh:spinscale/cookiecutter-elasticsearch-ingest-processor\r\ncd ingest-awesome\r\n./gradlew run\r\n```","closed_by":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"performed_via_github_app":null}