{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/9358","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9358/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9358/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9358/events","html_url":"https://github.com/elastic/elasticsearch/issues/9358","id":54836203,"node_id":"MDU6SXNzdWU1NDgzNjIwMw==","number":9358,"title":"Marvel Sense: GET request for non-existent document creates a new document","user":{"login":"ajerome9","id":7423278,"node_id":"MDQ6VXNlcjc0MjMyNzg=","avatar_url":"https://avatars3.githubusercontent.com/u/7423278?v=4","gravatar_id":"","url":"https://api.github.com/users/ajerome9","html_url":"https://github.com/ajerome9","followers_url":"https://api.github.com/users/ajerome9/followers","following_url":"https://api.github.com/users/ajerome9/following{/other_user}","gists_url":"https://api.github.com/users/ajerome9/gists{/gist_id}","starred_url":"https://api.github.com/users/ajerome9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajerome9/subscriptions","organizations_url":"https://api.github.com/users/ajerome9/orgs","repos_url":"https://api.github.com/users/ajerome9/repos","events_url":"https://api.github.com/users/ajerome9/events{/privacy}","received_events_url":"https://api.github.com/users/ajerome9/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-01-20T02:25:10Z","updated_at":"2015-01-20T04:20:07Z","closed_at":"2015-01-20T04:10:09Z","author_association":"NONE","active_lock_reason":null,"body":"When the following request is issued from the Marvel Sense interface, it creates a document with id=foo.\n\n```\nGET /index_1/type_1/foo\n{\n\n}\n```\n\nHere, /index_1/type_1/ does not have a document with id=foo, and the expectation was that the response would say found=false.\n\nLooking at the network tab in Chrome, it appears that Sense is internally issuing a POST request to elasticsearch, resulting in the creation of a new document.\n\n```\nRequest:\nPOST /index_1/type_1/foo HTTP/1.1\n{\n\n}\nResponse:\nHTTP/1.1 201 Created\n```\n\nI noticed this when I had a typo in a request (something like /index_1/type_1/_search**h** instead of /index_1/type_1/_search), and Sense returned a response that said  {...,\"created\": true}.\n\nWith the request body removed, Sense is issuing GET requests, and the result is as expected. However, when the request has a body, a POST request is issued although the user indicated that it was going to be a GET request. (Not sure if this conversion is done to avoid any issues with having a GET request with a body)\n","closed_by":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"performed_via_github_app":null}