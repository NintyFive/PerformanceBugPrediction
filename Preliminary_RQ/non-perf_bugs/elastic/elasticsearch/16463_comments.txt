[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/180061946","html_url":"https://github.com/elastic/elasticsearch/issues/16463#issuecomment-180061946","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16463","id":180061946,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MDA2MTk0Ng==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-02-04T21:34:38Z","updated_at":"2016-02-04T21:34:38Z","author_association":"MEMBER","body":"At a high-level, this is covered in the [Zen Discovery documentation](https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-discovery-zen.html#master-election) and at a low-level the source code is the best documentation. Do you see it differently @markwalkom?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/180063459","html_url":"https://github.com/elastic/elasticsearch/issues/16463#issuecomment-180063459","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16463","id":180063459,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MDA2MzQ1OQ==","user":{"login":"markwalkom","id":3184718,"node_id":"MDQ6VXNlcjMxODQ3MTg=","avatar_url":"https://avatars0.githubusercontent.com/u/3184718?v=4","gravatar_id":"","url":"https://api.github.com/users/markwalkom","html_url":"https://github.com/markwalkom","followers_url":"https://api.github.com/users/markwalkom/followers","following_url":"https://api.github.com/users/markwalkom/following{/other_user}","gists_url":"https://api.github.com/users/markwalkom/gists{/gist_id}","starred_url":"https://api.github.com/users/markwalkom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markwalkom/subscriptions","organizations_url":"https://api.github.com/users/markwalkom/orgs","repos_url":"https://api.github.com/users/markwalkom/repos","events_url":"https://api.github.com/users/markwalkom/events{/privacy}","received_events_url":"https://api.github.com/users/markwalkom/received_events","type":"User","site_admin":false},"created_at":"2016-02-04T21:39:05Z","updated_at":"2016-02-04T21:39:05Z","author_association":"MEMBER","body":"That the process of how nodes talk about the election, but we don't explain\nhow the \"election\" itself is done, ie which node they figure out to elect.\n\nOn 5 February 2016 at 08:35, Jason Tedor notifications@github.com wrote:\n\n> At a high-level, this is covered in the Zen Discovery documentation\n> https://www.elastic.co/guide/en/elasticsearch/reference/current/modules-discovery-zen.html#master-election\n> and at a low-level the source code is the best documentation. Do you see it\n> differently @markwalkom https://github.com/markwalkom?\n> \n> â€”\n> Reply to this email directly or view it on GitHub\n> https://github.com/elastic/elasticsearch/issues/16463#issuecomment-180061946\n> .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/180066278","html_url":"https://github.com/elastic/elasticsearch/issues/16463#issuecomment-180066278","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16463","id":180066278,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MDA2NjI3OA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2016-02-04T21:49:47Z","updated_at":"2016-02-04T21:49:52Z","author_association":"MEMBER","body":"> but we don't explain how the \"election\" itself is done, ie which node they figure out to elect.\n\nThat is an implementation detail? No user should be depending on that?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/180114315","html_url":"https://github.com/elastic/elasticsearch/issues/16463#issuecomment-180114315","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16463","id":180114315,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MDExNDMxNQ==","user":{"login":"markwalkom","id":3184718,"node_id":"MDQ6VXNlcjMxODQ3MTg=","avatar_url":"https://avatars0.githubusercontent.com/u/3184718?v=4","gravatar_id":"","url":"https://api.github.com/users/markwalkom","html_url":"https://github.com/markwalkom","followers_url":"https://api.github.com/users/markwalkom/followers","following_url":"https://api.github.com/users/markwalkom/following{/other_user}","gists_url":"https://api.github.com/users/markwalkom/gists{/gist_id}","starred_url":"https://api.github.com/users/markwalkom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markwalkom/subscriptions","organizations_url":"https://api.github.com/users/markwalkom/orgs","repos_url":"https://api.github.com/users/markwalkom/repos","events_url":"https://api.github.com/users/markwalkom/events{/privacy}","received_events_url":"https://api.github.com/users/markwalkom/received_events","type":"User","site_admin":false},"created_at":"2016-02-05T00:08:38Z","updated_at":"2016-02-05T00:08:38Z","author_association":"MEMBER","body":"Sure it doesn't impact userspace, but I don't see the harm in explaining how it works.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/183776181","html_url":"https://github.com/elastic/elasticsearch/issues/16463#issuecomment-183776181","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16463","id":183776181,"node_id":"MDEyOklzc3VlQ29tbWVudDE4Mzc3NjE4MQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-02-14T00:04:00Z","updated_at":"2016-02-14T00:04:00Z","author_association":"CONTRIBUTOR","body":"@markwalkom PRs welcome ;)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/183948315","html_url":"https://github.com/elastic/elasticsearch/issues/16463#issuecomment-183948315","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16463","id":183948315,"node_id":"MDEyOklzc3VlQ29tbWVudDE4Mzk0ODMxNQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-02-14T18:42:31Z","updated_at":"2016-02-14T18:42:31Z","author_association":"MEMBER","body":"> Sure it doesn't impact userspace, but I don't see the harm in explaining how it works.\n\nIf there is no benefit to userspace (as we all seem to agree?), but there is a real cost to writing and maintaining such docs, I'm not sure if I see the point.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/272555143","html_url":"https://github.com/elastic/elasticsearch/issues/16463#issuecomment-272555143","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16463","id":272555143,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MjU1NTE0Mw==","user":{"login":"patrickconant","id":11092778,"node_id":"MDQ6VXNlcjExMDkyNzc4","avatar_url":"https://avatars2.githubusercontent.com/u/11092778?v=4","gravatar_id":"","url":"https://api.github.com/users/patrickconant","html_url":"https://github.com/patrickconant","followers_url":"https://api.github.com/users/patrickconant/followers","following_url":"https://api.github.com/users/patrickconant/following{/other_user}","gists_url":"https://api.github.com/users/patrickconant/gists{/gist_id}","starred_url":"https://api.github.com/users/patrickconant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/patrickconant/subscriptions","organizations_url":"https://api.github.com/users/patrickconant/orgs","repos_url":"https://api.github.com/users/patrickconant/repos","events_url":"https://api.github.com/users/patrickconant/events{/privacy}","received_events_url":"https://api.github.com/users/patrickconant/received_events","type":"User","site_admin":false},"created_at":"2017-01-13T21:40:24Z","updated_at":"2017-01-13T21:40:24Z","author_association":"NONE","body":"Thanks for the pointer to the code that performs leader election. It was useful to me in answering this question: Does leader election prefer master-only nodes to master-and-data nodes? \r\n\r\nI was wondering whether a cluster with 1 master-only node and several master-eligible data nodes would reliably elect the master-only node as their master. The answer from the code appears to be 'no'. \r\n\r\nIt follows that having one or two master-only nodes is unwise. If you really want to push cluster-master responsibilities off of your data nodes, you ought to have three master-only nodes and make your data nodes ineligible to be master. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/272557562","html_url":"https://github.com/elastic/elasticsearch/issues/16463#issuecomment-272557562","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16463","id":272557562,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MjU1NzU2Mg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-01-13T21:51:14Z","updated_at":"2017-01-13T21:51:14Z","author_association":"MEMBER","body":"> I was wondering whether a cluster with 1 master-only node and several master-eligible data nodes would reliably elect the master-only node as their master. The answer from the code appears to be 'no'.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/272557744","html_url":"https://github.com/elastic/elasticsearch/issues/16463#issuecomment-272557744","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16463","id":272557744,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MjU1Nzc0NA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-01-13T21:52:02Z","updated_at":"2017-01-13T22:25:37Z","author_association":"MEMBER","body":"> I was wondering whether a cluster with 1 master-only node and several master-eligible data nodes would reliably elect the master-only node as their master. The answer from the code appears to be 'no'.\r\n\r\nCorrect.\r\n\r\n> It follows that having one or two master-only nodes is unwise. If you really want to push cluster-master responsibilities off of your data nodes, you ought to have three master-only nodes and make your data nodes ineligible to be master.\r\n\r\nYes, you got it, with one caveat: set `discovery.zen.minimum_master_nodes` to two.\r\n","performed_via_github_app":null}]