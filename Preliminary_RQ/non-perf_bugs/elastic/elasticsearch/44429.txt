{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/44429","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44429/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44429/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44429/events","html_url":"https://github.com/elastic/elasticsearch/issues/44429","id":468646495,"node_id":"MDU6SXNzdWU0Njg2NDY0OTU=","number":44429,"title":"[CI] ConcurrentSeqNoVersioningIT.testSeqNoCASLinearizability fails with out of memory","user":{"login":"matriv","id":5058131,"node_id":"MDQ6VXNlcjUwNTgxMzE=","avatar_url":"https://avatars1.githubusercontent.com/u/5058131?v=4","gravatar_id":"","url":"https://api.github.com/users/matriv","html_url":"https://github.com/matriv","followers_url":"https://api.github.com/users/matriv/followers","following_url":"https://api.github.com/users/matriv/following{/other_user}","gists_url":"https://api.github.com/users/matriv/gists{/gist_id}","starred_url":"https://api.github.com/users/matriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matriv/subscriptions","organizations_url":"https://api.github.com/users/matriv/orgs","repos_url":"https://api.github.com/users/matriv/repos","events_url":"https://api.github.com/users/matriv/events{/privacy}","received_events_url":"https://api.github.com/users/matriv/received_events","type":"User","site_admin":false},"labels":[{"id":145572580,"node_id":"MDU6TGFiZWwxNDU1NzI1ODA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/CRUD","name":":Distributed/CRUD","color":"0e8a16","default":false,"description":"A catch all label for issues around indexing, updating and getting a doc by id. Not search."},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"assignees":[{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2019-07-16T13:12:24Z","updated_at":"2019-07-17T15:32:08Z","closed_at":"2019-07-17T15:32:08Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"CI link: https://scans.gradle.com/s/4sjpqlk4dr5pk/console-log?task=:server:integTest (fails in 7.x)\r\n\r\nCannot reproduce locally:\r\n```\r\n./gradlew :server:integTest --tests \"org.elasticsearch.versioning.ConcurrentSeqNoVersioningIT.testSeqNoCASLinearizability\" \\\r\n  -Dtests.seed=FDE6B8EF8F6C8595 \\\r\n  -Dtests.security.manager=true \\\r\n  -Dtests.locale=bg \\\r\n  -Dtests.timezone=Europe/Bucharest \\\r\n  -Dcompiler.java=12 \\\r\n  -Druntime.java=8\r\n```\r\n\r\nStacktrace:\r\n```\r\n\r\njava.lang.OutOfMemoryError: GC overhead limit exceeded\r\n--\r\nDumping heap to /var/lib/jenkins/workspace/elastic+elasticsearch+7.x+multijob+fast+part1/server/build/heapdump/java_pid42272.hprof ...\r\nHeap dump file created [678836066 bytes in 5.889 secs]\r\n \r\n \r\norg.elasticsearch.versioning.ConcurrentSeqNoVersioningIT > testSeqNoCASLinearizability FAILED\r\njava.lang.OutOfMemoryError: GC overhead limit exceeded\r\nat __randomizedtesting.SeedInfo.seed([FDE6B8EF8F6C8595:26289685957EA721]:0)\r\nat org.apache.lucene.util.FixedBitSet.clone(FixedBitSet.java:480)\r\nat org.elasticsearch.cluster.coordination.LinearizabilityChecker.isLinearizable(LinearizabilityChecker.java:253)\r\nat org.elasticsearch.cluster.coordination.LinearizabilityChecker.lambda$isLinearizable$0(LinearizabilityChecker.java:233)\r\nat org.elasticsearch.cluster.coordination.LinearizabilityChecker$$Lambda$2691/1989389279.test(Unknown Source)\r\nat java.util.stream.MatchOps$1MatchSink.accept(MatchOps.java:90)\r\nat java.util.Collections$2.tryAdvance(Collections.java:4717)\r\nat java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:126)\r\nat java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:498)\r\nat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:485)\r\nat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\r\nat java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:230)\r\nat java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:196)\r\nat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\nat java.util.stream.ReferencePipeline.allMatch(ReferencePipeline.java:454)\r\nat org.elasticsearch.cluster.coordination.LinearizabilityChecker.isLinearizable(LinearizabilityChecker.java:233)\r\nat org.elasticsearch.versioning.ConcurrentSeqNoVersioningIT$Partition.isLinearizable(ConcurrentSeqNoVersioningIT.java:447)\r\nat org.elasticsearch.versioning.ConcurrentSeqNoVersioningIT$Partition.assertLinearizable(ConcurrentSeqNoVersioningIT.java:461)\r\nat org.elasticsearch.versioning.ConcurrentSeqNoVersioningIT$$Lambda$2687/910861838.accept(Unknown Source)\r\nat java.util.ArrayList.forEach(ArrayList.java:1257)\r\nat org.elasticsearch.versioning.ConcurrentSeqNoVersioningIT.testSeqNoCASLinearizability(ConcurrentSeqNoVersioningIT.java:194)\r\n```\r\n\r\nNot muting as there are only a few occurrences.\r\n\r\nFull logs can be found [here](https://github.com/elastic/elasticsearch/files/3397181/console.log.zip)\r\n\r\n","closed_by":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"performed_via_github_app":null}