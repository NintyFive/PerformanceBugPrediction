[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/158034861","html_url":"https://github.com/elastic/elasticsearch/issues/14851#issuecomment-158034861","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14851","id":158034861,"node_id":"MDEyOklzc3VlQ29tbWVudDE1ODAzNDg2MQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-11-19T11:54:47Z","updated_at":"2015-11-19T11:54:47Z","author_association":"CONTRIBUTOR","body":"The [docs](https://www.elastic.co/guide/en/elasticsearch/guide/current/percentiles.html#_percentile_ranks) indicate that this should be accurate for small data sets. (Also, the `compression` parameter doesn't seem to be accepted by this agg).\n\n@polyfractal any ideas what is going on here?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/158039499","html_url":"https://github.com/elastic/elasticsearch/issues/14851#issuecomment-158039499","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14851","id":158039499,"node_id":"MDEyOklzc3VlQ29tbWVudDE1ODAzOTQ5OQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-11-19T12:12:35Z","updated_at":"2015-11-19T12:12:35Z","author_association":"CONTRIBUTOR","body":"Related to #10216\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/158073729","html_url":"https://github.com/elastic/elasticsearch/issues/14851#issuecomment-158073729","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14851","id":158073729,"node_id":"MDEyOklzc3VlQ29tbWVudDE1ODA3MzcyOQ==","user":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"created_at":"2015-11-19T14:31:54Z","updated_at":"2015-11-19T14:31:54Z","author_association":"MEMBER","body":"Yes, this appears (in part) to be related to #10216.  ES v1.6 is still on T-Digest 3.0, which interpolates the last centroid in a non-ideal manner.  Effectively this means the upper end of the ranks can become heavily skewed.  See the linked bug-fix in #10216 for more details.\n\nRegarding the lower end, I think this may just be the nature of the approximation.  My understanding is that T-Digest maintains a list of weighted centroids, and computes ranks by finding the two closest centroids for a given rank and performing a weighted interpolation between them.  \n\nIn the case of the lower bound, there is no centroid \"on the left\" of the lowest value.  So T-Digest approximates this interpolation by using the midpoint between it's nearest neighbor on the right, and then just applying that to the left as a best guess.  \n\nIn this example, you have a centroid at `2.7` and one at `11.9`, so the midpoint is `(11.9-2.7)/2 == 4.6`.  This value is then used on the \"left\" of the lowest centroid, meaning T-Digest will continue to interpolate as low as -1.9:\n\n``` json\n\"percent_rank\": {\n  \"values\": {\n    \"-2.0\": 0,\n    \"-1.9\": 0,\n    \"-1.8\": 0.27173913043478104,\n    \"-1.0\": 2.445652173913042,\n    \"0.0\": 5.163043478260868,\n    \"1.0\": 7.8804347826086945,\n    \"2.0\": 10.597826086956522\n  }\n}\n```\n\nWhich is obviously not idea :(\n\n@jpountz I wonder, if we (ES or T-Digest) could track the min/max of the entire range and simply cutoff interpolation on the extreme ends?  The CDF would no longer be smooth, but it would behave in a more logical manner.  Alternatively I suppose you could just linearly interpolate to the min/max instead of \"guessing\" with the nearest centroid's delta.\n\nBut it makes me wonder...if the lowest centroid has a weight of one (e.g. it represents the truly lowest value), why does the algorithm try to interpolate to the \"left\" anyway?  Shouldn't it start interpolation from the centroid itself and go up?\n\nFinally, would it make sense to implement a \"++\" version of this, ala HyperLogLog++?  We could maintain a list of values under a certain threshold.  If there are fewer than `n` values, the list is sorted and used to calculate percentiles/ranks.  If it breaches `n`, the array is replayed into a T-Digest sketch and proceeds as normal.\n\n/cc @colings86 since he's worked with all the percentile ranks stuff a bunch too\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/158574540","html_url":"https://github.com/elastic/elasticsearch/issues/14851#issuecomment-158574540","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14851","id":158574540,"node_id":"MDEyOklzc3VlQ29tbWVudDE1ODU3NDU0MA==","user":{"login":"rcrezende","id":604872,"node_id":"MDQ6VXNlcjYwNDg3Mg==","avatar_url":"https://avatars1.githubusercontent.com/u/604872?v=4","gravatar_id":"","url":"https://api.github.com/users/rcrezende","html_url":"https://github.com/rcrezende","followers_url":"https://api.github.com/users/rcrezende/followers","following_url":"https://api.github.com/users/rcrezende/following{/other_user}","gists_url":"https://api.github.com/users/rcrezende/gists{/gist_id}","starred_url":"https://api.github.com/users/rcrezende/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rcrezende/subscriptions","organizations_url":"https://api.github.com/users/rcrezende/orgs","repos_url":"https://api.github.com/users/rcrezende/repos","events_url":"https://api.github.com/users/rcrezende/events{/privacy}","received_events_url":"https://api.github.com/users/rcrezende/received_events","type":"User","site_admin":false},"created_at":"2015-11-21T01:56:29Z","updated_at":"2015-11-21T01:56:29Z","author_association":"NONE","body":"when you say \"ES v1.6 is still on T-Digest 3.0\", does that imply there is an alternative implementation in 2.0 we might get better precision?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/158645330","html_url":"https://github.com/elastic/elasticsearch/issues/14851#issuecomment-158645330","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14851","id":158645330,"node_id":"MDEyOklzc3VlQ29tbWVudDE1ODY0NTMzMA==","user":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"created_at":"2015-11-21T14:11:24Z","updated_at":"2015-11-21T14:11:24Z","author_association":"MEMBER","body":"Ah, sorry, that was poor phrasing.  ES 2.0 is also still on T-Digest 3.0 (as per https://github.com/elastic/elasticsearch/issues/10216).  I'm not sure the status, it looks like there are still test failures due to the bugfix upstream.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/158646553","html_url":"https://github.com/elastic/elasticsearch/issues/14851#issuecomment-158646553","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14851","id":158646553,"node_id":"MDEyOklzc3VlQ29tbWVudDE1ODY0NjU1Mw==","user":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"created_at":"2015-11-21T14:22:34Z","updated_at":"2015-11-21T14:22:34Z","author_association":"MEMBER","body":"Just as a note, in this case, the accuracy should improve if you put some more data into the percentiles.  It is providing a poor estimation because there are only a few centroids (due to only having a handful of docs).  Which is skewing the T-Digest interpolation on both the high and low end. \n\nE.g. just adding a few more docs improves the ranks significantly:\n\n``` json\nPOST percenttest/doc/_bulk\n{\"index\":{}}\n{\"i\":2.7}\n{\"index\":{}}\n{\"i\":85.9}\n{\"index\":{}}\n{\"i\":11.9}\n{\"index\":{}}\n{\"i\":51.5}\n{\"index\":{}}\n{\"i\":3}\n{\"index\":{}}\n{\"i\":15}\n{\"index\":{}}\n{\"i\":66.8}\n{\"index\":{}}\n{\"i\":32.1}\n{\"index\":{}}\n{\"i\":54.2}\n{\"index\":{}}\n{\"i\":71.3}\n{\"index\":{}}\n{\"i\":8.8}\n{\"index\":{}}\n{\"i\":72.9}\n```\n\n``` js\n{\n   \"took\": 4,\n   \"timed_out\": false,\n   \"_shards\": {...},\n   \"hits\": {...},\n   \"aggregations\": {\n      \"percent_rank\": {\n         \"values\": {\n            \"1.0\": 0,\n            \"2.0\": 0,\n            \"3.0\": 8.743169398907105,\n            \"4.0\": 11.475409836065573,\n            \"11.0\": 26.747311827956988,\n            \"12.0\": 29.435483870967744,\n            \"50.0\": 56.18401206636501,\n            \"52.0\": 57.6923076923077,\n            \"70.0\": 77.59562841530055,\n            \"85.0\": 86.92307692307692,\n            \"86.0\": 87.56410256410257,\n            \"87.0\": 88.2051282051282\n         }\n      }\n   }\n}\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/159040978","html_url":"https://github.com/elastic/elasticsearch/issues/14851#issuecomment-159040978","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14851","id":159040978,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTA0MDk3OA==","user":{"login":"rcrezende","id":604872,"node_id":"MDQ6VXNlcjYwNDg3Mg==","avatar_url":"https://avatars1.githubusercontent.com/u/604872?v=4","gravatar_id":"","url":"https://api.github.com/users/rcrezende","html_url":"https://github.com/rcrezende","followers_url":"https://api.github.com/users/rcrezende/followers","following_url":"https://api.github.com/users/rcrezende/following{/other_user}","gists_url":"https://api.github.com/users/rcrezende/gists{/gist_id}","starred_url":"https://api.github.com/users/rcrezende/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rcrezende/subscriptions","organizations_url":"https://api.github.com/users/rcrezende/orgs","repos_url":"https://api.github.com/users/rcrezende/repos","events_url":"https://api.github.com/users/rcrezende/events{/privacy}","received_events_url":"https://api.github.com/users/rcrezende/received_events","type":"User","site_admin":false},"created_at":"2015-11-23T19:41:16Z","updated_at":"2015-11-23T19:41:16Z","author_association":"NONE","body":"For the suggested accuracy as result of adding more data, if we consider that any aggregation can be a result of a filter, I'd prefer obtaining a confidence interval though.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/159970580","html_url":"https://github.com/elastic/elasticsearch/issues/14851#issuecomment-159970580","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14851","id":159970580,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTk3MDU4MA==","user":{"login":"rcrezende","id":604872,"node_id":"MDQ6VXNlcjYwNDg3Mg==","avatar_url":"https://avatars1.githubusercontent.com/u/604872?v=4","gravatar_id":"","url":"https://api.github.com/users/rcrezende","html_url":"https://github.com/rcrezende","followers_url":"https://api.github.com/users/rcrezende/followers","following_url":"https://api.github.com/users/rcrezende/following{/other_user}","gists_url":"https://api.github.com/users/rcrezende/gists{/gist_id}","starred_url":"https://api.github.com/users/rcrezende/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rcrezende/subscriptions","organizations_url":"https://api.github.com/users/rcrezende/orgs","repos_url":"https://api.github.com/users/rcrezende/repos","events_url":"https://api.github.com/users/rcrezende/events{/privacy}","received_events_url":"https://api.github.com/users/rcrezende/received_events","type":"User","site_admin":false},"created_at":"2015-11-26T18:05:16Z","updated_at":"2015-11-26T18:05:16Z","author_association":"NONE","body":"Another alternative is to use the same approach OpenJDK uses for sorting arrays with a meta-algorithm. Instead of always use the same DualPivot algorithm, it has thresholds on the Array size to decide when to use Insertion-sort, QuickSort, CountingSort. See here: http://www.docjar.com/html/api/java/util/DualPivotQuicksort.java.html\n\nSo maybe there is a T where length of sequence <T, the approximation algorithm starts is not worth (precision is bad) nor efficient (time). \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/163005517","html_url":"https://github.com/elastic/elasticsearch/issues/14851#issuecomment-163005517","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14851","id":163005517,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MzAwNTUxNw==","user":{"login":"rcrezende","id":604872,"node_id":"MDQ6VXNlcjYwNDg3Mg==","avatar_url":"https://avatars1.githubusercontent.com/u/604872?v=4","gravatar_id":"","url":"https://api.github.com/users/rcrezende","html_url":"https://github.com/rcrezende","followers_url":"https://api.github.com/users/rcrezende/followers","following_url":"https://api.github.com/users/rcrezende/following{/other_user}","gists_url":"https://api.github.com/users/rcrezende/gists{/gist_id}","starred_url":"https://api.github.com/users/rcrezende/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rcrezende/subscriptions","organizations_url":"https://api.github.com/users/rcrezende/orgs","repos_url":"https://api.github.com/users/rcrezende/repos","events_url":"https://api.github.com/users/rcrezende/events{/privacy}","received_events_url":"https://api.github.com/users/rcrezende/received_events","type":"User","site_admin":false},"created_at":"2015-12-08T20:21:04Z","updated_at":"2015-12-08T20:21:04Z","author_association":"NONE","body":"Here is another example with more data and still the bug happening.\n\nNote that percentile_rank for 90 is greater than for 95 which is wrong.\n\n```\nPUT percenttest_2\n{\n    \"settings\":\n    {\n        \"number_of_shards\": 1,\n        \"number_of_replicas\": 0\n    }\n}\nPOST percenttest_2/doc/0\n{\"i\": 47.600000}\nPOST percenttest_2/doc/1\n{\"i\": 29.600000}\nPOST percenttest_2/doc/2\n{\"i\": 44.700000}\nPOST percenttest_2/doc/3\n{\"i\": 41.200000}\nPOST percenttest_2/doc/4\n{\"i\": 60.900000}\nPOST percenttest_2/doc/5\n{\"i\": 45.200000}\nPOST percenttest_2/doc/6\n{\"i\": 49.700000}\nPOST percenttest_2/doc/7\n{\"i\": 49.800000}\nPOST percenttest_2/doc/8\n{\"i\": 59.400000}\nPOST percenttest_2/doc/9\n{\"i\": 78.200000}\nPOST percenttest_2/doc/10\n{\"i\": 100.000000}\nPOST percenttest_2/doc/11\n{\"i\": 58.300000}\nPOST percenttest_2/doc/12\n{\"i\": 54.200000}\nPOST percenttest_2/doc/13\n{\"i\": 56.600000}\nPOST percenttest_2/doc/14\n{\"i\": 51.900000}\nPOST percenttest_2/doc/15\n{\"i\": 72.000000}\nPOST percenttest_2/doc/16\n{\"i\": 87.500000}\nPOST percenttest_2/doc/17\n{\"i\": 48.500000}\nPOST percenttest_2/doc/18\n{\"i\": 58.300000}\nPOST percenttest_2/doc/19\n{\"i\": 60.000000}\nPOST percenttest_2/doc/20\n{\"i\": 48.200000}\nPOST percenttest_2/doc/21\n{\"i\": 40.400000}\nPOST percenttest_2/doc/22\n{\"i\": 33.200000}\nPOST percenttest_2/doc/23\n{\"i\": 49.000000}\nPOST percenttest_2/doc/24\n{\"i\": 35.700000}\nPOST percenttest_2/doc/25\n{\"i\": 39.600000}\nPOST percenttest_2/doc/26\n{\"i\": 39.600000}\nPOST percenttest_2/doc/27\n{\"i\": 44.900000}\nPOST percenttest_2/doc/28\n{\"i\": 39.000000}\nPOST percenttest_2/doc/29\n{\"i\": 54.200000}\nPOST percenttest_2/doc/30\n{\"i\": 61.000000}\nPOST percenttest_2/doc/31\n{\"i\": 60.200000}\nPOST percenttest_2/doc/32\n{\"i\": 36.700000}\nPOST percenttest_2/doc/33\n{\"i\": 40.200000}\nPOST percenttest_2/doc/34\n{\"i\": 58.600000}\nPOST percenttest_2/doc/35\n{\"i\": 41.200000}\nPOST percenttest_2/doc/36\n{\"i\": 27.600000}\nPOST percenttest_2/doc/37\n{\"i\": 35.900000}\nPOST percenttest_2/doc/38\n{\"i\": 42.700000}\nPOST percenttest_2/doc/39\n{\"i\": 72.700000}\nPOST percenttest_2/doc/40\n{\"i\": 40.700000}\nPOST percenttest_2/doc/41\n{\"i\": 50.500000}\nPOST percenttest_2/doc/42\n{\"i\": 53.200000}\nPOST percenttest_2/doc/43\n{\"i\": 100.000000}\nPOST percenttest_2/doc/44\n{\"i\": 42.700000}\nPOST percenttest_2/doc/45\n{\"i\": 33.100000}\nPOST percenttest_2/doc/46\n{\"i\": 45.400000}\n\nGET percenttest_2/_search?search_type=count\n{\n  \"aggs\": {\n    \"percent_rank\": {\n      \"percentile_ranks\": {\n        \"field\": \"i\",\n        \"values\": [\n          90,95,100\n        ]\n      }\n    }\n  }\n}\n\n```\n\nReturns\n\n```\n{\n   \"took\": 47,\n   \"timed_out\": false,\n   \"_shards\": {\n      \"total\": 1,\n      \"successful\": 1,\n      \"failed\": 0\n   },\n   \"hits\": {\n      \"total\": 47,\n      \"max_score\": 0,\n      \"hits\": []\n   },\n   \"aggregations\": {\n      \"percent_rank\": {\n         \"values\": {\n            \"90.0\": 95.01268787819637,\n            \"95.0\": 0,\n            \"100.0\": 100\n         }\n      }\n   }\n}\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/375432765","html_url":"https://github.com/elastic/elasticsearch/issues/14851#issuecomment-375432765","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14851","id":375432765,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTQzMjc2NQ==","user":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"created_at":"2018-03-22T19:40:26Z","updated_at":"2018-03-22T19:40:26Z","author_association":"MEMBER","body":"Tested this locally, has since been fixed. Was probably fixed when we upgraded to TDigest 3.2: #28305","performed_via_github_app":null}]