{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/43024","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43024/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43024/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43024/events","html_url":"https://github.com/elastic/elasticsearch/issues/43024","id":454054316,"node_id":"MDU6SXNzdWU0NTQwNTQzMTY=","number":43024,"title":"[CI] openjdk13 full-cluster-restart failures","user":{"login":"henningandersen","id":33268011,"node_id":"MDQ6VXNlcjMzMjY4MDEx","avatar_url":"https://avatars2.githubusercontent.com/u/33268011?v=4","gravatar_id":"","url":"https://api.github.com/users/henningandersen","html_url":"https://github.com/henningandersen","followers_url":"https://api.github.com/users/henningandersen/followers","following_url":"https://api.github.com/users/henningandersen/following{/other_user}","gists_url":"https://api.github.com/users/henningandersen/gists{/gist_id}","starred_url":"https://api.github.com/users/henningandersen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/henningandersen/subscriptions","organizations_url":"https://api.github.com/users/henningandersen/orgs","repos_url":"https://api.github.com/users/henningandersen/repos","events_url":"https://api.github.com/users/henningandersen/events{/privacy}","received_events_url":"https://api.github.com/users/henningandersen/received_events","type":"User","site_admin":false},"labels":[{"id":106454670,"node_id":"MDU6TGFiZWwxMDY0NTQ2NzA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Build","name":":Delivery/Build","color":"0e8a16","default":false,"description":"Build or test infrastructure"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"},{"id":1352927464,"node_id":"MDU6TGFiZWwxMzUyOTI3NDY0","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v7.3.0","name":"v7.3.0","color":"dddddd","default":false,"description":""},{"id":1194435738,"node_id":"MDU6TGFiZWwxMTk0NDM1NzM4","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v8.0.0","name":"v8.0.0","color":"dddddd","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-06-10T08:26:06Z","updated_at":"2020-11-11T21:48:48Z","closed_at":"2019-06-11T14:19:55Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Builds using openjdk13 fail during full-cluster-restart testing against 7.1.2. I can reproduce this locally using:\r\n\r\n```\r\n./gradlew :qa:full-cluster-restart:v7.1.2#oldClusterTestCluster#wait -Druntime.java=13\r\n```\r\n\r\n`node0` fails to start using java 13 due to:\r\n\r\n```\r\n[2019-06-10T09:53:42,129][ERROR][o.e.b.Bootstrap          ] [node-0] Guice Exception: java.security.AccessControlException: access denied (\"java.lang.RuntimePermission\" \"accessClassInPa\r\nckage.jdk.internal.vm.annotation\")\r\n        at java.base/java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\r\n        at java.base/java.security.AccessController.checkPermission(AccessController.java:1034)\r\n        at java.base/java.lang.SecurityManager.checkPermission(SecurityManager.java:408)\r\n        at java.base/java.lang.SecurityManager.checkPackageAccess(SecurityManager.java:1324)\r\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:174)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n        at java.base/java.lang.Class.forName0(Native Method)\r\n        at java.base/java.lang.Class.forName(Class.java:416)\r\n        at java.base/sun.reflect.generics.factory.CoreReflectionFactory.makeNamedType(CoreReflectionFactory.java:114)\r\n        at java.base/sun.reflect.generics.visitor.Reifier.visitClassTypeSignature(Reifier.java:125)\r\n        at java.base/sun.reflect.generics.tree.ClassTypeSignature.accept(ClassTypeSignature.java:49)\r\n        at java.base/sun.reflect.annotation.AnnotationParser.parseSig(AnnotationParser.java:440)\r\n        at java.base/sun.reflect.annotation.AnnotationParser.parseAnnotation2(AnnotationParser.java:242)\r\n        at java.base/sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:121)\r\n        at java.base/sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:73)\r\n        at java.base/java.lang.reflect.Executable.declaredAnnotations(Executable.java:608)\r\n        at java.base/java.lang.reflect.Executable.declaredAnnotations(Executable.java:606)\r\n        at java.base/java.lang.reflect.Executable.getAnnotation(Executable.java:576)\r\n        at java.base/java.lang.reflect.Method.getAnnotation(Method.java:696)\r\n        at <<<guice>>>\r\n        at org.elasticsearch.node.Node.<init>(Node.java:561)\r\n        at org.elasticsearch.node.Node.<init>(Node.java:252)\r\n        at org.elasticsearch.bootstrap.Bootstrap$5.<init>(Bootstrap.java:211)\r\n        at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:211)\r\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:325)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:159)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:150)\r\n        at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86)\r\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124)\r\n        at org.elasticsearch.cli.Command.main(Command.java:90)\r\n        <<<truncated>>>\r\n```\r\n\r\nExample failures:\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.x+matrix-java-periodic/ES_BUILD_JAVA=openjdk12,ES_RUNTIME_JAVA=openjdk13,nodes=immutable&&linux&&docker/12/console\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+matrix-java-periodic/ES_BUILD_JAVA=openjdk12,ES_RUNTIME_JAVA=openjdk13,nodes=immutable&&linux&&docker/12/console\r\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}