{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/54783","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54783/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54783/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54783/events","html_url":"https://github.com/elastic/elasticsearch/issues/54783","id":594867935,"node_id":"MDU6SXNzdWU1OTQ4Njc5MzU=","number":54783,"title":"[Ingest Pipeline][Set Processor] Add argument for null value check","user":{"login":"P1llus","id":8027539,"node_id":"MDQ6VXNlcjgwMjc1Mzk=","avatar_url":"https://avatars1.githubusercontent.com/u/8027539?v=4","gravatar_id":"","url":"https://api.github.com/users/P1llus","html_url":"https://github.com/P1llus","followers_url":"https://api.github.com/users/P1llus/followers","following_url":"https://api.github.com/users/P1llus/following{/other_user}","gists_url":"https://api.github.com/users/P1llus/gists{/gist_id}","starred_url":"https://api.github.com/users/P1llus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/P1llus/subscriptions","organizations_url":"https://api.github.com/users/P1llus/orgs","repos_url":"https://api.github.com/users/P1llus/repos","events_url":"https://api.github.com/users/P1llus/events{/privacy}","received_events_url":"https://api.github.com/users/P1llus/received_events","type":"User","site_admin":false},"labels":[{"id":268963484,"node_id":"MDU6TGFiZWwyNjg5NjM0ODQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Ingest","name":":Core/Features/Ingest","color":"0e8a16","default":false,"description":"Execution or management of Ingest Pipelines"},{"id":1967496097,"node_id":"MDU6TGFiZWwxOTY3NDk2MDk3","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Core/Features","name":"Team:Core/Features","color":"fef2c0","default":false,"description":"Meta label for core/features team"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-04-06T07:24:42Z","updated_at":"2020-06-25T16:29:46Z","closed_at":"2020-06-25T16:29:45Z","author_association":"NONE","active_lock_reason":null,"body":"<!-- Feature request -->\r\n\r\n**Describe the feature**:\r\nWith an increasing focus on Observability and Security, most of the processing of data is being moved to Ingest pipelines through beats. \r\nSince ingestion rates are always a top priority on these cases, there is one argument in the set processor that always has to be set currently with a painless condition that would be great having as a boolean argument in Elasticsearch instead, and that is checking for Null values in the \"value\" field.\r\n\r\nIn most other processors we are have \"ignore_missing\" argument, in which it will ignore fields that are either missing or is null, but currently if we are trying to use the set processor on a value that is null, it will add it as a empty string, this is something we can currently prevent with something like this:\r\n\r\n```\r\n    {\r\n      \"set\" : {\r\n        \"field\": \"source.packets\",\r\n        \"value\": \"{{ctx.checkpoint?.client_outbound_packets}}\",\r\n        \"if\": \"ctx.checkpoint?.client_outbound_packets != null\"\r\n      }\r\n    },\r\n```\r\n\r\nDue to logs more often than not is coming in with many different structures, it is impossible to utilise the set processor without either painless or having issues with plenty of fields that are empty strings (instead of null).\r\n\r\nWould it be possible to add a \"ignore_missing\" or similar argument to this field as well? So that it is possible to set a field if the value is not null?","closed_by":{"login":"danhermann","id":22777892,"node_id":"MDQ6VXNlcjIyNzc3ODky","avatar_url":"https://avatars0.githubusercontent.com/u/22777892?v=4","gravatar_id":"","url":"https://api.github.com/users/danhermann","html_url":"https://github.com/danhermann","followers_url":"https://api.github.com/users/danhermann/followers","following_url":"https://api.github.com/users/danhermann/following{/other_user}","gists_url":"https://api.github.com/users/danhermann/gists{/gist_id}","starred_url":"https://api.github.com/users/danhermann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danhermann/subscriptions","organizations_url":"https://api.github.com/users/danhermann/orgs","repos_url":"https://api.github.com/users/danhermann/repos","events_url":"https://api.github.com/users/danhermann/events{/privacy}","received_events_url":"https://api.github.com/users/danhermann/received_events","type":"User","site_admin":false},"performed_via_github_app":null}