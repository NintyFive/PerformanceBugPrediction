{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/41797","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41797/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41797/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41797/events","html_url":"https://github.com/elastic/elasticsearch/issues/41797","id":440087460,"node_id":"MDU6SXNzdWU0NDAwODc0NjA=","number":41797,"title":"Default year in date ingest processor is not updated when a new year starts","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"labels":[{"id":268963484,"node_id":"MDU6TGFiZWwyNjg5NjM0ODQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Ingest","name":":Core/Features/Ingest","color":"0e8a16","default":false,"description":"Execution or management of Ingest Pipelines"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-05-03T15:02:38Z","updated_at":"2019-05-23T16:36:37Z","closed_at":"2019-05-23T16:36:37Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"The `DateFormat` class used by the date ingest processor contains this code:\r\n\r\nhttps://github.com/elastic/elasticsearch/blob/482bd98115939a1b14b073c391d4d0a4352635fa/modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/DateFormat.java#L92-L105\r\n\r\nWhen parsing dates that don't specify the year the idea is to use the current year.  However, the current year is obtained outside the lambda and used inside.  So if the lambda was constructed in 2019 and used in 2020 then it will be wrong.\r\n\r\nThis means that users who rely on the default year functionality (such as those who ingest syslogs, because syslog timestamps do not include the year) will have to restart their ingest nodes on 1st January to set the current year.","closed_by":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"performed_via_github_app":null}