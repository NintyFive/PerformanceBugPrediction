{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/3699","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3699/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3699/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3699/events","html_url":"https://github.com/elastic/elasticsearch/issues/3699","id":19512590,"node_id":"MDU6SXNzdWUxOTUxMjU5MA==","number":3699,"title":"Changing the id of a document stored in ES affects what can be done with the document","user":{"login":"amrasarfeiniel","id":5461019,"node_id":"MDQ6VXNlcjU0NjEwMTk=","avatar_url":"https://avatars3.githubusercontent.com/u/5461019?v=4","gravatar_id":"","url":"https://api.github.com/users/amrasarfeiniel","html_url":"https://github.com/amrasarfeiniel","followers_url":"https://api.github.com/users/amrasarfeiniel/followers","following_url":"https://api.github.com/users/amrasarfeiniel/following{/other_user}","gists_url":"https://api.github.com/users/amrasarfeiniel/gists{/gist_id}","starred_url":"https://api.github.com/users/amrasarfeiniel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amrasarfeiniel/subscriptions","organizations_url":"https://api.github.com/users/amrasarfeiniel/orgs","repos_url":"https://api.github.com/users/amrasarfeiniel/repos","events_url":"https://api.github.com/users/amrasarfeiniel/events{/privacy}","received_events_url":"https://api.github.com/users/amrasarfeiniel/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2013-09-15T00:52:51Z","updated_at":"2013-09-15T03:32:20Z","closed_at":"2013-09-15T03:32:20Z","author_association":"NONE","active_lock_reason":null,"body":"0.90.1\n\nI wrote a unit test to ensure that I am able to remove fields from documents (using a scrolling search for all documents within a given type and the remove script described here: http://www.elasticsearch.org/guide/reference/api/update/).  Only one of my two documents was updated, and I was unable to actually update the mapping of the type to indicate that the field no longer existed in my document schema.  when I changed the ids of the documents from {1, 2} to {7, 2} and reran the unit test, both documents were properly updated.  However, the mapping still didn't get updated.\n\nThis sounds pretty seriously broken to me, so I feel like I'm doing something wrong when I'm starting up my client.  Here is the relevant code I use to create a client with which to talk to an ES service:\n\n```\n    NodeBuilder.nodeBuilder().node();\n    String host = \"localhost\";\n    int port = 9300;\n    return new TransportClient().addTransportAddress(new InetSocketTransportAddress(\n            host,\n            port));\n```\n\nCan you help me understand why this is so broken?  I tried debugging, but it's really difficult to see what happens under the covers since there are dozens of implementations of the transport actions and the transport layer doesn't seem to maintain strong type consistency.\n","closed_by":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"performed_via_github_app":null}