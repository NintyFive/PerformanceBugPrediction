[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/216880695","html_url":"https://github.com/elastic/elasticsearch/issues/18131#issuecomment-216880695","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18131","id":216880695,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjg4MDY5NQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-05-04T14:22:59Z","updated_at":"2016-05-04T14:22:59Z","author_association":"CONTRIBUTOR","body":"@dadoonet why do you need them?  don't they just need to be installed in elasticsearch?\n\n/cc @rjernst \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/216881335","html_url":"https://github.com/elastic/elasticsearch/issues/18131#issuecomment-216881335","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18131","id":216881335,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjg4MTMzNQ==","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2016-05-04T14:25:05Z","updated_at":"2016-05-04T14:25:05Z","author_association":"MEMBER","body":"the phonetic analyzer is just a bit of glue code (exposing a lucene analyzer via ES core), not sure if we need to expose the jar here? \n\nI tried to write a plugin and wanted to use painless as a scripting engine for testing, but that one is not exposed either due to being a module. I could have of course mocked my own, but painless looked eas to use, except the dependency missing.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/216882013","html_url":"https://github.com/elastic/elasticsearch/issues/18131#issuecomment-216882013","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18131","id":216882013,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjg4MjAxMw==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-05-04T14:27:13Z","updated_at":"2016-05-04T14:27:13Z","author_association":"CONTRIBUTOR","body":"> I tried to write a plugin and wanted to use painless as a scripting engine for testing\n\nThis seems like a fair reason, though, to be honest, ES core requires that all of its plugins be tested in isolation so maybe we have the same requirements for plugins? I dunno.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/216882561","html_url":"https://github.com/elastic/elasticsearch/issues/18131#issuecomment-216882561","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18131","id":216882561,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjg4MjU2MQ==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-05-04T14:29:06Z","updated_at":"2016-05-04T14:29:06Z","author_association":"MEMBER","body":"First reason is that because we have this JAR generated so we should upload it.\nThere are some code in there anyone can use.\n\nNow for my use case, I'm testing an ingest plugin I wrote. I want to test it using a Mock Node which starts:\n- my plugin\n- the geo ip plugin\n\nI can register my plugin in my Mock node but not the geoip one.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/216991801","html_url":"https://github.com/elastic/elasticsearch/issues/18131#issuecomment-216991801","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18131","id":216991801,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjk5MTgwMQ==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2016-05-04T20:24:32Z","updated_at":"2016-05-04T20:24:32Z","author_association":"MEMBER","body":"> First reason is that because we have this JAR generated so we should upload it.\n\nThe purpose of deploying to maven is so users can use the software, but plugins do not require a jar in maven.\n\n> There are some code in there anyone can use.\n\nWe are not a library, and especially our plugins are not libraries. Their purpose is to add additional capabilities to elasticsearch, and should remain with that narrow purpose.\n\n> Now for my use case, I'm testing an ingest plugin I wrote. I want to test it using a Mock Node\n\nDon't do that. We have real integration test capabilities, and if you want to test \"with other plugins\", then it should be done through those integration tests, which would install the plugin via the zip, not a fantasy land test that drags in a plugin into the classpath.\n\nThe integ test setup in gradle for adding plugins currently expects a gradle project as input. However, I think we can extend this to take a dependency string, so it would pull the plugin zip from maven.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/216992878","html_url":"https://github.com/elastic/elasticsearch/issues/18131#issuecomment-216992878","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18131","id":216992878,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjk5Mjg3OA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-05-04T20:28:46Z","updated_at":"2016-05-04T20:28:46Z","author_association":"CONTRIBUTOR","body":"> The purpose of deploying to maven is so users can use the software, but plugins do not require a jar in maven.\n\nActually! If they expose anything over the java API I think they do?\n\nI would love us to get our test tooling working so it can be used from outside the project to test plugins with the zip though.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/216993344","html_url":"https://github.com/elastic/elasticsearch/issues/18131#issuecomment-216993344","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18131","id":216993344,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjk5MzM0NA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2016-05-04T20:30:34Z","updated_at":"2016-05-04T20:30:34Z","author_association":"MEMBER","body":">  If they expose anything over the java API I think they do?\n\nThat is true, but is only necessary until we have an http client I think?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/216994608","html_url":"https://github.com/elastic/elasticsearch/issues/18131#issuecomment-216994608","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18131","id":216994608,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjk5NDYwOA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-05-04T20:35:02Z","updated_at":"2016-05-04T20:35:02Z","author_association":"CONTRIBUTOR","body":"> That is true, but is only necessary until we have an http client I think?\n\nI don't know if we can tell people who use a plugin or module that they have to move to the java client earlier than users of just the core so I think we'll need to publish the jars at least until the rest based java client is **awesome**. I haven't a clue how long that'll take though.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/216997623","html_url":"https://github.com/elastic/elasticsearch/issues/18131#issuecomment-216997623","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18131","id":216997623,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjk5NzYyMw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-05-04T20:46:41Z","updated_at":"2016-05-04T20:46:41Z","author_association":"MEMBER","body":"> Actually! If they expose anything over the java API I think they do?\n\nDo we have plugins that expose additional Java APIs?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/217002824","html_url":"https://github.com/elastic/elasticsearch/issues/18131#issuecomment-217002824","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18131","id":217002824,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzAwMjgyNA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-05-04T21:06:31Z","updated_at":"2016-05-04T21:06:31Z","author_association":"CONTRIBUTOR","body":"> Do we have plugins that expose additional Java APIs?\n\nThe reindex module and delete-by-query plugin both do. I'm not sure it the ingest-grok module or the other ingest plugins do but they might. I'm fine with only publishing jars for things that add to the java api.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/217010006","html_url":"https://github.com/elastic/elasticsearch/issues/18131#issuecomment-217010006","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18131","id":217010006,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzAxMDAwNg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-05-04T21:31:44Z","updated_at":"2016-05-04T21:31:44Z","author_association":"MEMBER","body":"> I'm fine with only publishing jars for things that add to the java api.\n\nThat's exactly where I was going. I'd argue though that we are making the same mistake we are making in core right now where there is an API that we want to expose, but we produce only a monolithic jar and so end-users end up depending on the Internet that Maven downloads.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/217010133","html_url":"https://github.com/elastic/elasticsearch/issues/18131#issuecomment-217010133","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18131","id":217010133,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzAxMDEzMw==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-05-04T21:32:15Z","updated_at":"2016-05-04T21:35:56Z","author_association":"MEMBER","body":"IMHO the situation is simple.\n\nWe are building jar. We assemble then this JAR within a ZIP.\nLet's publish the JAR and the ZIP. Simple as that.\n\nIf we don't want to publish a JAR, then there is no need to build one. Just copy the classes and the ressources within the ZIP.\n\nI don't think we should think instead of devs or users by reducing what they might want to do with what we are building.\n\nIf a user can start a Node within an integration test he is writing without the need of depending on our test infra, that's perfectly fine.\nIf a user wants to use ant, ivy or maven to build his project (plugin or not), that's also fine to me.\n\nFor the case I reported, I'm building a plugin with Maven. I don't want to use the REST tests which are launching an external node. As the plugin developper, it's my decision to run the tests as I want. It can be manual tests with a shell script. It can be tests run from JUnit. Whatever. I'll choose the most efficient tool for me.\nThe only contract I should respect regarding elasticsearch is the interfaces I need to implement.\nAnd I'm perfectly fine saying that the only **official and supported** way to create a plugin is by using gradle as the build system and run REST tests using the yaml suite we defined.\n\nWe used to publish the jars at the same time we were publishing the zip. We are still building the JAR. Is that super complicated to upload the JAR to maven central which is used within the ZIP file?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/217016735","html_url":"https://github.com/elastic/elasticsearch/issues/18131#issuecomment-217016735","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18131","id":217016735,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzAxNjczNQ==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2016-05-04T21:59:55Z","updated_at":"2016-05-04T21:59:55Z","author_association":"MEMBER","body":"> Is that super complicated to upload the JAR to maven central which is used within the ZIP file?\n\nYes and no. It was sort of broken how we were doing it before. We publish the zip and the jar with the same artifact id, and in fact the pom is for the jar. It means when getting the zip, it appears that it has dependencies, when it doesn't really.\n\n> If we don't want to publish a JAR, then there is no need to build one. Just copy the classes and the ressources within the ZIP.\n\nThis is simply not how plugins work. The way we create child classloaders is by adding jar files. We should not add everything in the zip to the child classloader.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/217016958","html_url":"https://github.com/elastic/elasticsearch/issues/18131#issuecomment-217016958","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18131","id":217016958,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzAxNjk1OA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-05-04T22:00:57Z","updated_at":"2016-05-04T22:00:57Z","author_association":"CONTRIBUTOR","body":"> That's exactly where I was going. I'd argue though that we are making the same mistake we are making in core right now where there is an API that we want to expose, but we produce only a monolithic jar and so end-users end up depending on the Internet that Maven downloads.\n\nWe could certainly try to separate the client stuff, the common stuff, and the implementation but I don't think it is worth the effort if we expect there will be no more client at some point in the future. I'm ok with doing it how we've been doing it so long as the transport client is a known dead end that we only have to support while we are replacing it. I don't like having to make new things for the transport client but I can live with it, placing great hope in @javanna's work on the rest based java client.\n\nI'm not really sure how to respond to @dadoonet's point. Personally I think we should publish the jars so users can do whatever they want with them. I also agree that ESIntegTestCase is a crutch and it'd be great not to have to use it and instead have the build run a separate process. I think that is reasonably easy to do by depending on Elasticsearch's build. But if you for some reason can't or won't use gradle then ESIntegTestCase is really the most convenient thing. And for some things, convenience is more important than doing it right. Actually a lot of the time.... But then again we, Elasticsearch committers, have to keep ESIntegTestCase alive for all that to work.\n\nMy opinion is still that we should publish the jars and encourage people to use the gradle builds. When we remove the last user of ESIntegTestCase from Elasticsearch we delete it and have a public wake, celebrating its long, glorious life and the great service it did Elasticsearch in 0.90 and 1.x. By then we'll have something better for people to use, or everyone will be using gradle, or it won't matter for some other reason. Or we'll help people.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/217394608","html_url":"https://github.com/elastic/elasticsearch/issues/18131#issuecomment-217394608","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18131","id":217394608,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzM5NDYwOA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-05-06T09:20:19Z","updated_at":"2016-05-06T09:20:19Z","author_association":"CONTRIBUTOR","body":"Discussed in FixItFriday - we should only publish jars that expose an API that the client needs to program against.  Once the HTTP client becomes the standard, we won't even need to do that.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/222105133","html_url":"https://github.com/elastic/elasticsearch/issues/18131#issuecomment-222105133","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18131","id":222105133,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMjEwNTEzMw==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-05-27T09:43:23Z","updated_at":"2016-05-27T09:43:23Z","author_association":"MEMBER","body":"Closing as we are publishing the ZIP file on maven central and the outcome of the previous discussion is that we are not going to publish jars but only zip files.\n\nBTW I wonder then if it makes sense to publish our plugins on maven central after all. We are publishing them on our download service. May be it's not needed to bring all plugins ZIP to maven central.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/222817373","html_url":"https://github.com/elastic/elasticsearch/issues/18131#issuecomment-222817373","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18131","id":222817373,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMjgxNzM3Mw==","user":{"login":"nomoa","id":5939211,"node_id":"MDQ6VXNlcjU5MzkyMTE=","avatar_url":"https://avatars1.githubusercontent.com/u/5939211?v=4","gravatar_id":"","url":"https://api.github.com/users/nomoa","html_url":"https://github.com/nomoa","followers_url":"https://api.github.com/users/nomoa/followers","following_url":"https://api.github.com/users/nomoa/following{/other_user}","gists_url":"https://api.github.com/users/nomoa/gists{/gist_id}","starred_url":"https://api.github.com/users/nomoa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nomoa/subscriptions","organizations_url":"https://api.github.com/users/nomoa/orgs","repos_url":"https://api.github.com/users/nomoa/repos","events_url":"https://api.github.com/users/nomoa/events{/privacy}","received_events_url":"https://api.github.com/users/nomoa/received_events","type":"User","site_admin":false},"created_at":"2016-05-31T20:54:50Z","updated_at":"2016-05-31T20:54:50Z","author_association":"CONTRIBUTOR","body":"As a plugin developer it was extremely convenient to have the jars deployed:\n- add a test dependency, implements nodePlugins.\n\nConcerning classloader issue, I totally agree and to be honest I spotted one issue only when I deployed on a test node.\n\nBut what's the suggested solution here? Do I have to refactor my build system and switch to gradle?\n\nThanks.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/223074754","html_url":"https://github.com/elastic/elasticsearch/issues/18131#issuecomment-223074754","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18131","id":223074754,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMzA3NDc1NA==","user":{"login":"jprante","id":635745,"node_id":"MDQ6VXNlcjYzNTc0NQ==","avatar_url":"https://avatars1.githubusercontent.com/u/635745?v=4","gravatar_id":"","url":"https://api.github.com/users/jprante","html_url":"https://github.com/jprante","followers_url":"https://api.github.com/users/jprante/followers","following_url":"https://api.github.com/users/jprante/following{/other_user}","gists_url":"https://api.github.com/users/jprante/gists{/gist_id}","starred_url":"https://api.github.com/users/jprante/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jprante/subscriptions","organizations_url":"https://api.github.com/users/jprante/orgs","repos_url":"https://api.github.com/users/jprante/repos","events_url":"https://api.github.com/users/jprante/events{/privacy}","received_events_url":"https://api.github.com/users/jprante/received_events","type":"User","site_admin":false},"created_at":"2016-06-01T17:59:32Z","updated_at":"2016-06-01T17:59:32Z","author_association":"CONTRIBUTOR","body":"As a plugin developer, I am instructing my users to rely on published jars. This is essential for reusability. Not only exposed APIs, but all the classes and resources. Plugin ZIPs are just an additional service for non-developers, but not essential.\n\nSo I agree with @dadoonet why Elastic is even publishing plugins on Maven Central at all, and not just pointing users to a download zip URL somewhere.\n\nI can only see the solution is in copy/paste all the ES plugin code and publish them to Maven Central again under my \"org.xbib\" group but with all regular Java artifacts.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/223076603","html_url":"https://github.com/elastic/elasticsearch/issues/18131#issuecomment-223076603","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18131","id":223076603,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMzA3NjYwMw==","user":{"login":"jprante","id":635745,"node_id":"MDQ6VXNlcjYzNTc0NQ==","avatar_url":"https://avatars1.githubusercontent.com/u/635745?v=4","gravatar_id":"","url":"https://api.github.com/users/jprante","html_url":"https://github.com/jprante","followers_url":"https://api.github.com/users/jprante/followers","following_url":"https://api.github.com/users/jprante/following{/other_user}","gists_url":"https://api.github.com/users/jprante/gists{/gist_id}","starred_url":"https://api.github.com/users/jprante/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jprante/subscriptions","organizations_url":"https://api.github.com/users/jprante/orgs","repos_url":"https://api.github.com/users/jprante/repos","events_url":"https://api.github.com/users/jprante/events{/privacy}","received_events_url":"https://api.github.com/users/jprante/received_events","type":"User","site_admin":false},"created_at":"2016-06-01T18:05:52Z","updated_at":"2016-06-01T18:05:52Z","author_association":"CONTRIBUTOR","body":"I started with a \"plugin bundle\" of mine on Maven Central, see http://search.maven.org/#search%7Cga%7C1%7Cxbib\n\nThis could be the way to publish ES core plugins too.\n\nSad thing is that current Elasticsearch plugin tool does not find plugin ZIPs from Maven Central generated by a classifier \"plugin\". But that is not painful to me since I do not use Elasticsearch plugin tool, instead I unzip plugin archives manually and build Docker images.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/224583874","html_url":"https://github.com/elastic/elasticsearch/issues/18131#issuecomment-224583874","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18131","id":224583874,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNDU4Mzg3NA==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-06-08T13:11:33Z","updated_at":"2016-06-08T13:11:33Z","author_association":"MEMBER","body":"For the record, we have the same concern with modules. See #16466.\nhttps://discuss.elastic.co/t/percolator-java-api-5-0-0-alpha3/52161/2\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/226009551","html_url":"https://github.com/elastic/elasticsearch/issues/18131#issuecomment-226009551","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18131","id":226009551,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNjAwOTU1MQ==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2016-06-14T20:41:40Z","updated_at":"2016-06-14T20:41:40Z","author_association":"MEMBER","body":"> So I agree with @dadoonet why Elastic is even publishing plugins on Maven Central at all, and not just pointing users to a download zip URL somewhere\n\nPlugin zips are published to maven so that they can be tested with. In gradle, the integ test setup allows adding arbitrary extra plugins.\n\n> we should only publish jars that expose an API that the client needs to program against\n\nI can add this to the build setup to happen automatically (via a flag in build.gradle) for those modules/plugins that need it. But we will need to use a different artifact id (eg right now in 2.x, we put up a pom for the jar with dependencies, and then the zip just sits alongside it with the same pom, but in 5.x we put up a pom that has no deps and basically is there to mark the zip as being a binary artifact). So I would propose taking the module/plugin name and appending `-client` for the artifact id of the jar that will be published (again, only for those plugins/modules which have things to add to the transport client).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/370411906","html_url":"https://github.com/elastic/elasticsearch/issues/18131#issuecomment-370411906","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18131","id":370411906,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDQxMTkwNg==","user":{"login":"hakamairi","id":12628580,"node_id":"MDQ6VXNlcjEyNjI4NTgw","avatar_url":"https://avatars0.githubusercontent.com/u/12628580?v=4","gravatar_id":"","url":"https://api.github.com/users/hakamairi","html_url":"https://github.com/hakamairi","followers_url":"https://api.github.com/users/hakamairi/followers","following_url":"https://api.github.com/users/hakamairi/following{/other_user}","gists_url":"https://api.github.com/users/hakamairi/gists{/gist_id}","starred_url":"https://api.github.com/users/hakamairi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hakamairi/subscriptions","organizations_url":"https://api.github.com/users/hakamairi/orgs","repos_url":"https://api.github.com/users/hakamairi/repos","events_url":"https://api.github.com/users/hakamairi/events{/privacy}","received_events_url":"https://api.github.com/users/hakamairi/received_events","type":"User","site_admin":false},"created_at":"2018-03-05T13:01:45Z","updated_at":"2018-03-05T13:01:45Z","author_association":"NONE","body":"Sorry for bringing back an old thread.\r\n\r\nI don't understand why some plugins, maintained in this repository, are published to Maven Central, and some not. \r\nFor example:\r\n- [reindex-client](http://mvnrepository.com/artifact/org.elasticsearch.plugin/reindex-client) jar published\r\n- analysis-phonetic is provided as zip only in guide for releases, but nothing published to [maven central](https://search.maven.org/#search%7Cga%7C1%7Ca%3A%22analysis-phonetic%22)\r\n\r\nI'm using embedded elasticsearch via spring (spring-boot-starter-data-elasticsearch) and the only way for me to use analysis-phonetic is to use the old stuff, or some 5.0 alpha (unless I would like to manage this dependency manually).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/370454254","html_url":"https://github.com/elastic/elasticsearch/issues/18131#issuecomment-370454254","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18131","id":370454254,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MDQ1NDI1NA==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2018-03-05T15:24:36Z","updated_at":"2018-03-05T15:24:36Z","author_association":"MEMBER","body":"> I'm using embedded elasticsearch via spring \r\n\r\nEmbedding elasticsearch is not supported. Read https://www.elastic.co/blog/elasticsearch-the-server\r\n\r\nIf you have more questions, please open a discussion on discuss.elastic.co which the best place for that.","performed_via_github_app":null}]