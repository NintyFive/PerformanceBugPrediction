[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/448792232","html_url":"https://github.com/elastic/elasticsearch/issues/36861#issuecomment-448792232","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36861","id":448792232,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODc5MjIzMg==","user":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"created_at":"2018-12-19T23:41:49Z","updated_at":"2018-12-19T23:41:49Z","author_association":"MEMBER","body":"The weighted avg had some issues which were fixed in 6.5.4: https://github.com/elastic/elasticsearch/pull/36525\r\n\r\nCould you try on the newer version and see if that fixes your issues?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/448792317","html_url":"https://github.com/elastic/elasticsearch/issues/36861#issuecomment-448792317","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36861","id":448792317,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODc5MjMxNw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-12-19T23:42:06Z","updated_at":"2018-12-19T23:42:06Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-analytics-geo","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/448792350","html_url":"https://github.com/elastic/elasticsearch/issues/36861#issuecomment-448792350","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36861","id":448792350,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODc5MjM1MA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-12-19T23:42:13Z","updated_at":"2018-12-19T23:42:13Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-features","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/448801787","html_url":"https://github.com/elastic/elasticsearch/issues/36861#issuecomment-448801787","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36861","id":448801787,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODgwMTc4Nw==","user":{"login":"xpando","id":69182,"node_id":"MDQ6VXNlcjY5MTgy","avatar_url":"https://avatars2.githubusercontent.com/u/69182?v=4","gravatar_id":"","url":"https://api.github.com/users/xpando","html_url":"https://github.com/xpando","followers_url":"https://api.github.com/users/xpando/followers","following_url":"https://api.github.com/users/xpando/following{/other_user}","gists_url":"https://api.github.com/users/xpando/gists{/gist_id}","starred_url":"https://api.github.com/users/xpando/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xpando/subscriptions","organizations_url":"https://api.github.com/users/xpando/orgs","repos_url":"https://api.github.com/users/xpando/repos","events_url":"https://api.github.com/users/xpando/events{/privacy}","received_events_url":"https://api.github.com/users/xpando/received_events","type":"User","site_admin":false},"created_at":"2018-12-20T00:15:33Z","updated_at":"2018-12-20T00:15:33Z","author_association":"CONTRIBUTOR","body":"I did run it on the latest 6.5.4 and still had the problem. I originally had this issue: https://github.com/elastic/elasticsearch/pull/36525 and I started using the 6.5.4-SNAPSHOT builds a couple of days ago which fixed that issue but not the one I'm reporting here. Today I upgraded to the released 6.5.4 version and it still has a problem parsing the query result. I can take the generated JSON query that is being sent to ES and use curl/postman to verify that the query works and returns expected data but executing the query via the high level rest client produces the above exception when parsing the response.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/449545362","html_url":"https://github.com/elastic/elasticsearch/issues/36861#issuecomment-449545362","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36861","id":449545362,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTU0NTM2Mg==","user":{"login":"xpando","id":69182,"node_id":"MDQ6VXNlcjY5MTgy","avatar_url":"https://avatars2.githubusercontent.com/u/69182?v=4","gravatar_id":"","url":"https://api.github.com/users/xpando","html_url":"https://github.com/xpando","followers_url":"https://api.github.com/users/xpando/followers","following_url":"https://api.github.com/users/xpando/following{/other_user}","gists_url":"https://api.github.com/users/xpando/gists{/gist_id}","starred_url":"https://api.github.com/users/xpando/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xpando/subscriptions","organizations_url":"https://api.github.com/users/xpando/orgs","repos_url":"https://api.github.com/users/xpando/repos","events_url":"https://api.github.com/users/xpando/events{/privacy}","received_events_url":"https://api.github.com/users/xpando/received_events","type":"User","site_admin":false},"created_at":"2018-12-22T04:57:11Z","updated_at":"2018-12-22T04:57:11Z","author_association":"CONTRIBUTOR","body":"I created the following integration test to reproduce the issue: https://github.com/xpando/elasticsearch/commit/33f9eb793f71318bdde1ad929d2b529ca382e5a5\r\n\r\nProduced the same error:\r\n\r\n```\r\nnested: NamedObjectNotFoundException[[1:284] unable to parse Aggregation with name [weighted_avg]: parser not found];\r\n```\r\n\r\nLet me know if you'd prefer a PR for the integration test.\r\n\r\nTest run details:\r\n\r\n```\r\n<testsuite errors=\"1\" failures=\"0\" tests=\"1\" skipped=\"0\" name=\"org.elasticsearch.client.SearchIT\" hostname=\"nohost.nodomain\" time=\"5.249\" timestamp=\"2018-12-21T17:25:58\">\r\n   <properties class=\"java.util.ArrayList\">\r\n      <property name=\"awt.toolkit\" value=\"sun.lwawt.macosx.LWCToolkit\"/>\r\n      <property name=\"compiler.java\" value=\"11\"/>\r\n      <property name=\"es.aggregations.enable_scripted_metric_agg_param\" value=\"false\"/>\r\n      <property name=\"es.scripting.update.ctx_in_params\" value=\"false\"/>\r\n      <property name=\"file.encoding\" value=\"UTF-8\"/>\r\n      <property name=\"file.separator\" value=\"/\"/>\r\n      <property name=\"ftp.nonProxyHosts\" value=\"local|*.local|169.254/16|*.169.254/16\"/>\r\n      <property name=\"gopherProxySet\" value=\"false\"/>\r\n      <property name=\"http.nonProxyHosts\" value=\"local|*.local|169.254/16|*.169.254/16\"/>\r\n      <property name=\"java.awt.graphicsenv\" value=\"sun.awt.CGraphicsEnvironment\"/>\r\n      <property name=\"java.awt.headless\" value=\"true\"/>\r\n      <property name=\"java.awt.printerjob\" value=\"sun.lwawt.macosx.CPrinterJob\"/>\r\n      <property name=\"java.class.path\" value=\"/Users/david/Code/elasticsearch/client/rest-high-level/build/classes/java/test:/Users/david/Code/elasticsearch/client/rest-high-level/build/resources/test:/Users/david/Code/elasticsearch/client/rest-high-level/build/resources/main:/Users/david/Code/elasticsearch/test/framework/build/distributions/framework-6.5.5-SNAPSHOT.jar:/Users/david/Code/elasticsearch/server/build/distributions/elasticsearch-6.5.5-SNAPSHOT.jar:/Users/david/Code/elasticsearch/client/sniffer/build/distributions/elasticsearch-rest-client-sniffer-6.5.5-SNAPSHOT.jar:/Users/david/Code/elasticsearch/client/rest/build/distributions/elasticsearch-rest-client-6.5.5-SNAPSHOT.jar:/Users/david/Code/elasticsearch/modules/parent-join/build/distributions/parent-join-client-6.5.5-SNAPSHOT.jar:/Users/david/Code/elasticsearch/modules/aggs-matrix-stats/build/distributions/aggs-matrix-stats-client-6.5.5-SNAPSHOT.jar:/Users/david/Code/elasticsearch/modules/rank-eval/build/distributions/rank-eval-client-6.5.5-SNAPSHOT.jar:/Users/david/Code/elasticsearch/modules/lang-mustache/build/distributions/lang-mustache-client-6.5.5-SNAPSHOT.jar:/Users/david/Code/elasticsearch/client/test/build/distributions/test-6.5.5-SNAPSHOT.jar:/Users/david/.gradle/caches/modules-2/files-2.1/com.carrotsearch.randomizedtesting/randomizedtesting-runner/2.7.0/742822b0d4e06f695fd64c7af556eeb5864e2869/randomizedtesting-runner-2.7.0.jar:/Users/david/.gradle/caches/modules-2/files-2.1/junit/junit/4.12/2973d150c0dc1fefe998f834810d68f278ea58ec/junit-4.12.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.hamcrest/hamcrest-all/1.3/63a21ebc981131004ad02e0434e799fd7f3a8d5a/hamcrest-all-1.3.jar:/Users/david/Code/elasticsearch/rest-api-spec/build/distributions/rest-api-spec-6.5.5-SNAPSHOT.jar:/Users/david/Code/elasticsearch/libs/x-content/build/distributions/elasticsearch-x-content-6.5.5-SNAPSHOT.jar:/Users/david/Code/elasticsearch/libs/cli/build/distributions/elasticsearch-cli-6.5.5-SNAPSHOT.jar:/Users/david/Code/elasticsearch/libs/core/build/distributions/elasticsearch-core-6.5.5-SNAPSHOT.jar:/Users/david/Code/elasticsearch/libs/secure-sm/build/distributions/elasticsearch-secure-sm-6.5.5-SNAPSHOT.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.apache.lucene/lucene-core/7.5.0/736e94305e2a0e803563c5b184877df5c7d4cb69/lucene-core-7.5.0.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.apache.lucene/lucene-analyzers-common/7.5.0/e7fbdfc2297c3ff5d194d7bef95810504e52710e/lucene-analyzers-common-7.5.0.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.apache.lucene/lucene-backward-codecs/7.5.0/3ebd10f4a1fe71a92b69c0d653136bcf9790a165/lucene-backward-codecs-7.5.0.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.apache.lucene/lucene-grouping/7.5.0/f326a63640a288c302c713fcf2965fdc827b3cca/lucene-grouping-7.5.0.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.apache.lucene/lucene-highlighter/7.5.0/59420a5e30f12885f160e49bb975ab6b5985bd3d/lucene-highlighter-7.5.0.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.apache.lucene/lucene-join/7.5.0/65d3c275b094383640d393579cdb7aff22bcd1d/lucene-join-7.5.0.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.apache.lucene/lucene-memory/7.5.0/b8cc0c311a823287264653fbd05f866e059d303c/lucene-memory-7.5.0.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.apache.lucene/lucene-misc/7.5.0/60d0a02b9297b5423d5400a6b0aa114915232b60/lucene-misc-7.5.0.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.apache.lucene/lucene-queries/7.5.0/bfbf786b75c60a25daf33d389efd6458e17218d9/lucene-queries-7.5.0.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.apache.lucene/lucene-queryparser/7.5.0/3eefb522e150f2ba0009df20f3bcfa91d60e7090/lucene-queryparser-7.5.0.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.apache.lucene/lucene-sandbox/7.5.0/9fa3bb1c81179e112a62c0db6749767127c616bd/lucene-sandbox-7.5.0.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.apache.lucene/lucene-spatial/7.5.0/8de64a6a8ad22b5849f2ab5f824917723de7a349/lucene-spatial-7.5.0.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.apache.lucene/lucene-spatial-extras/7.5.0/b0892bbc0dc16ca07cf98897df3b3e9ed3069615/lucene-spatial-extras-7.5.0.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.apache.lucene/lucene-spatial3d/7.5.0/672920a7fb48624bcb84ce0ee67dd0c7bc080c94/lucene-spatial3d-7.5.0.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.apache.lucene/lucene-suggest/7.5.0/aa7d170871711ebd4dbd367d7b8ee0f1eb5e88b7/lucene-suggest-7.5.0.jar:/Users/david/.gradle/caches/modules-2/files-2.1/com.carrotsearch/hppc/0.7.1/8b5057f74ea378c0150a1860874a3ebdcb713767/hppc-0.7.1.jar:/Users/david/.gradle/caches/modules-2/files-2.1/joda-time/joda-time/2.10.1/9ac3dbf89dbf2ee385185dd0cd3064fe789efee0/joda-time-2.10.1.jar:/Users/david/.gradle/caches/modules-2/files-2.1/com.tdunning/t-digest/3.2/2ab94758b0276a8a26102adf8d528cf6d0567b9a/t-digest-3.2.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.hdrhistogram/HdrHistogram/2.1.9/e4631ce165eb400edecfa32e03d3f1be53dee754/HdrHistogram-2.1.9.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.locationtech.spatial4j/spatial4j/0.7/faa8ba85d503da4ab872d17ba8c00da0098ab2f2/spatial4j-0.7.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.locationtech.jts/jts-core/1.15.0/705981b7e25d05a76a3654e597dab6ba423eb79e/jts-core-1.15.0.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.apache.logging.log4j/log4j-api/2.11.1/268f0fe4df3eefe052b57c87ec48517d64fb2a10/log4j-api-2.11.1.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.apache.logging.log4j/log4j-core/2.11.1/592a48674c926b01a9a747c7831bcd82a9e6d6e4/log4j-core-2.11.1.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.apache.logging.log4j/log4j-1.2-api/2.11.1/3aba3398fe064a3eab4331f88161c7480e848418/log4j-1.2-api-2.11.1.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.elasticsearch/jna/4.5.1/da10908ae23dc59b19dc258e63aea1c44621dc3a/jna-4.5.1.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.apache.httpcomponents/httpclient/4.5.2/733db77aa8d9b2d68015189df76ab06304406e50/httpclient-4.5.2.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.apache.httpcomponents/httpcore/4.4.5/e7501a1b34325abb00d17dde96150604a0658b54/httpcore-4.4.5.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.apache.httpcomponents/httpasyncclient/4.1.2/95aa3e6fb520191a0970a73cf09f62948ee614be/httpasyncclient-4.1.2.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.apache.httpcomponents/httpcore-nio/4.4.5/f4be009e7505f6ceddf21e7960c759f413f15056/httpcore-nio-4.4.5.jar:/Users/david/.gradle/caches/modules-2/files-2.1/commons-codec/commons-codec/1.10/4b95f4897fa13f2cd904aee711aeafc0c5295cd8/commons-codec-1.10.jar:/Users/david/.gradle/caches/modules-2/files-2.1/commons-logging/commons-logging/1.1.3/f6f66e966c70a83ffbdb6f17a0919eaf7c8aca7f/commons-logging-1.1.3.jar:/Users/david/.gradle/caches/modules-2/files-2.1/com.github.spullara.mustache.java/compiler/0.9.3/2815e016c63bec4f18704ea4f5489106a5b01a99/compiler-0.9.3.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.apache.lucene/lucene-test-framework/7.5.0/2cac4bfbd4d9bdf62ce3f91f8a73d3cb8ead495c/lucene-test-framework-7.5.0.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.apache.lucene/lucene-codecs/7.5.0/c72173d3dd72990cd4d447a9ce0834cb03b877bc/lucene-codecs-7.5.0.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.elasticsearch/securemock/1.2/98201d4ad5ac93f6b415ae9172d52b5e7cda490e/securemock-1.2.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.elasticsearch/mocksocket/1.2/190ad3f42fd6ab7367bae0c0e14d1dc4e4a3c361/mocksocket-1.2.jar:/Users/david/.gradle/caches/modules-2/files-2.1/org.yaml/snakeyaml/1.17/7a27ea250c5130b2922b86dea63cbb1cc10a660c/snakeyaml-1.17.jar:/Users/david/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.core/jackson-core/2.8.11/876ead1db19f0c9e79c9789273a3ef8c6fd6c29b/jackson-core-2.8.11.jar:/Users/david/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.dataformat/jackson-dataformat-smile/2.8.11/d9d1c49c5d9d5e46e2aee55f3cdd119286fe0fc1/jackson-dataformat-smile-2.8.11.jar:/Users/david/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.dataformat/jackson-dataformat-yaml/2.8.11/2e77c6ff7342cd61ab1ae7cb14ed16aebfc8a72a/jackson-dataformat-yaml-2.8.11.jar:/Users/david/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.dataformat/jackson-dataformat-cbor/2.8.11/8b9826e16c3366764bfb7ad7362554f0471046c3/jackson-dataformat-cbor-2.8.11.jar:/Users/david/.gradle/caches/modules-2/files-2.1/net.sf.jopt-simple/jopt-simple/5.0.2/98cafc6081d5632b61be2c9e60650b64ddbc637c/jopt-simple-5.0.2.jar:/Users/david/Code/elasticsearch/client/rest-high-level/build/distributions/elasticsearch-rest-high-level-client-6.5.5-SNAPSHOT.jar:/Users/david/.gradle/caches/modules-2/files-2.1/com.carrotsearch.randomizedtesting/junit4-ant/2.7.0/b157612539dd16f4f0292e817354be01a432ad67/junit4-ant-2.7.0.jar\"/>\r\n      <property name=\"java.class.version\" value=\"55.0\"/>\r\n      <property name=\"java.home\" value=\"/Library/Java/JavaVirtualMachines/adoptopenjdk-11.0.1.jdk/Contents/Home\"/>\r\n      <property name=\"java.io.tmpdir\" value=\"./temp\"/>\r\n      <property name=\"java.library.path\" value=\"/Users/david/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\"/>\r\n      <property name=\"java.runtime.name\" value=\"OpenJDK Runtime Environment\"/>\r\n      <property name=\"java.runtime.version\" value=\"11.0.1+13\"/>\r\n      <property name=\"java.specification.name\" value=\"Java Platform API Specification\"/>\r\n      <property name=\"java.specification.vendor\" value=\"Oracle Corporation\"/>\r\n      <property name=\"java.specification.version\" value=\"11\"/>\r\n      <property name=\"java.vendor\" value=\"AdoptOpenJDK\"/>\r\n      <property name=\"java.vendor.url\" value=\"https://adoptopenjdk.net/\"/>\r\n      <property name=\"java.vendor.url.bug\" value=\"http://bugreport.java.com/bugreport/\"/>\r\n      <property name=\"java.vendor.version\" value=\"AdoptOpenJDK\"/>\r\n      <property name=\"java.version\" value=\"11.0.1\"/>\r\n      <property name=\"java.version.date\" value=\"2018-10-16\"/>\r\n      <property name=\"java.vm.compressedOopsMode\" value=\"Zero based\"/>\r\n      <property name=\"java.vm.info\" value=\"mixed mode\"/>\r\n      <property name=\"java.vm.name\" value=\"OpenJDK 64-Bit Server VM\"/>\r\n      <property name=\"java.vm.specification.name\" value=\"Java Virtual Machine Specification\"/>\r\n      <property name=\"java.vm.specification.vendor\" value=\"Oracle Corporation\"/>\r\n      <property name=\"java.vm.specification.version\" value=\"11\"/>\r\n      <property name=\"java.vm.vendor\" value=\"AdoptOpenJDK\"/>\r\n      <property name=\"java.vm.version\" value=\"11.0.1+13\"/>\r\n      <property name=\"jdk.debug\" value=\"release\"/>\r\n      <property name=\"jna.nosys\" value=\"true\"/>\r\n      <property name=\"junit4.childvm.count\" value=\"1\"/>\r\n      <property name=\"junit4.childvm.cwd\" value=\"/Users/david/Code/elasticsearch/client/rest-high-level/build/testrun/integTestRunner/J0\"/>\r\n      <property name=\"junit4.childvm.id\" value=\"0\"/>\r\n      <property name=\"junit4.memory.total\" value=\"536870912\"/>\r\n      <property name=\"junit4.pidString\" value=\"89775@turtlebookpro.local\"/>\r\n      <property name=\"junit4.processors\" value=\"12\"/>\r\n      <property name=\"junit4.tempDir\" value=\"/Users/david/Code/elasticsearch/client/rest-high-level/build/testrun/integTestRunner/temp\"/>\r\n      <property name=\"line.separator\" value=\"\r\n\"/>\r\n      <property name=\"os.arch\" value=\"x86_64\"/>\r\n      <property name=\"os.name\" value=\"Mac OS X\"/>\r\n      <property name=\"os.version\" value=\"10.14.2\"/>\r\n      <property name=\"path.separator\" value=\":\"/>\r\n      <property name=\"runtime.java\" value=\"11\"/>\r\n      <property name=\"socksNonProxyHosts\" value=\"local|*.local|169.254/16|*.169.254/16\"/>\r\n      <property name=\"sun.arch.data.model\" value=\"64\"/>\r\n      <property name=\"sun.boot.library.path\" value=\"/Library/Java/JavaVirtualMachines/adoptopenjdk-11.0.1.jdk/Contents/Home/lib\"/>\r\n      <property name=\"sun.cpu.endian\" value=\"little\"/>\r\n      <property name=\"sun.cpu.isalist\" value=\"\"/>\r\n      <property name=\"sun.io.unicode.encoding\" value=\"UnicodeBig\"/>\r\n      <property name=\"sun.java.command\" value=\"com.carrotsearch.ant.tasks.junit4.slave.SlaveMainSafe -flush -eventsfile /Users/david/Code/elasticsearch/client/rest-high-level/build/testrun/integTestRunner/temp/junit4-J0-20181221_172558_1057767211526315238616.events @/Users/david/Code/elasticsearch/client/rest-high-level/build/testrun/integTestRunner/temp/junit4-J0-20181221_172558_1051141237195973923849.suites -stdin\"/>\r\n      <property name=\"sun.java.launcher\" value=\"SUN_STANDARD\"/>\r\n      <property name=\"sun.jnu.encoding\" value=\"UTF-8\"/>\r\n      <property name=\"sun.management.compiler\" value=\"HotSpot 64-Bit Tiered Compilers\"/>\r\n      <property name=\"sun.os.patch.level\" value=\"unknown\"/>\r\n      <property name=\"tests.artifact\" value=\"rest-high-level\"/>\r\n      <property name=\"tests.class\" value=\"*SearchIT*\"/>\r\n      <property name=\"tests.cluster\" value=\"[::1]:54002\"/>\r\n      <property name=\"tests.config.dir\" value=\"/Users/david/Code/elasticsearch/client/rest-high-level/build/cluster/integTestCluster node0/elasticsearch-6.5.5-SNAPSHOT/config\"/>\r\n      <property name=\"tests.gradle\" value=\"true\"/>\r\n      <property name=\"tests.logger.level\" value=\"WARN\"/>\r\n      <property name=\"tests.method\" value=\"*Weight*\"/>\r\n      <property name=\"tests.prefix\" value=\"tests\"/>\r\n      <property name=\"tests.rest.cluster\" value=\"[::1]:54010\"/>\r\n      <property name=\"tests.rest.cluster.password\" value=\"test-password\"/>\r\n      <property name=\"tests.rest.cluster.username\" value=\"test_user\"/>\r\n      <property name=\"tests.rest.load_packaged\" value=\"false\"/>\r\n      <property name=\"tests.security.manager\" value=\"true\"/>\r\n      <property name=\"tests.seed\" value=\"B6150ADDCD04C5E2\"/>\r\n      <property name=\"tests.task\" value=\":client:rest-high-level:integTestRunner\"/>\r\n      <property name=\"user.country\" value=\"US\"/>\r\n      <property name=\"user.dir\" value=\"/Users/david/Code/elasticsearch/client/rest-high-level/build/testrun/integTestRunner/J0\"/>\r\n      <property name=\"user.home\" value=\"/Users/david\"/>\r\n      <property name=\"user.language\" value=\"en\"/>\r\n      <property name=\"user.name\" value=\"david\"/>\r\n      <property name=\"user.timezone\" value=\"\"/>\r\n   </properties>\r\n   <testcase classname=\"org.elasticsearch.client.SearchIT\" name=\"testSearchWithTermsAndWeightedAvg\" time=\"4.289\">\r\n      <error message=\"Failed execution\" type=\"org.elasticsearch.common.util.concurrent.UncategorizedExecutionException\">UncategorizedExecutionException[Failed execution]; nested: ExecutionException[java.io.IOException: Unable to parse response body for Response{requestLine=POST /index/_search?typed_keys=true&amp;ignore_unavailable=false&amp;expand_wildcards=open&amp;allow_no_indices=true&amp;search_type=query_then_fetch&amp;batched_reduce_size=512 HTTP/1.1, host=http://[::1]:54010, response=HTTP/1.1 200 OK}]; nested: IOException[Unable to parse response body for Response{requestLine=POST /index/_search?typed_keys=true&amp;ignore_unavailable=false&amp;expand_wildcards=open&amp;allow_no_indices=true&amp;search_type=query_then_fetch&amp;batched_reduce_size=512 HTTP/1.1, host=http://[::1]:54010, response=HTTP/1.1 200 OK}]; nested: XContentParseException[[1:284] [ParsedStringTerms] failed to parse field [buckets]]; nested: NamedObjectNotFoundException[[1:284] unable to parse Aggregation with name [weighted_avg]: parser not found];\r\n\tat __randomizedtesting.SeedInfo.seed([B6150ADDCD04C5E2:8882A6B4996CFB6C]:0)\r\n\tat org.elasticsearch.common.util.concurrent.FutureUtils.rethrowExecutionException(FutureUtils.java:101)\r\n\tat org.elasticsearch.common.util.concurrent.FutureUtils.get(FutureUtils.java:62)\r\n\tat org.elasticsearch.action.support.AdapterActionFuture.actionGet(AdapterActionFuture.java:34)\r\n\tat org.elasticsearch.client.ESRestHighLevelClientTestCase.execute(ESRestHighLevelClientTestCase.java:103)\r\n\tat org.elasticsearch.client.SearchIT.testSearchWithTermsAndWeightedAvg(SearchIT.java:385)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1750)\r\n\tat com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:938)\r\n\tat com.carrotsearch.randomizedtesting.RandomizedRunner$9.evaluate(RandomizedRunner.java:974)\r\n\tat com.carrotsearch.randomizedtesting.RandomizedRunner$10.evaluate(RandomizedRunner.java:988)\r\n\tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n\tat org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:49)\r\n\tat org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\r\n\tat org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:48)\r\n\tat org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)\r\n\tat org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)\r\n\tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n\tat com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368)\r\n\tat com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:817)\r\n\tat com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:468)\r\n\tat com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:947)\r\n\tat com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:832)\r\n\tat com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:883)\r\n\tat com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:894)\r\n\tat org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\r\n\tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n\tat org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:41)\r\n\tat com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)\r\n\tat com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)\r\n\tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n\tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n\tat org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:53)\r\n\tat org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)\r\n\tat org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)\r\n\tat org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:54)\r\n\tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n\tat com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.util.concurrent.ExecutionException: java.io.IOException: Unable to parse response body for Response{requestLine=POST /index/_search?typed_keys=true&amp;ignore_unavailable=false&amp;expand_wildcards=open&amp;allow_no_indices=true&amp;search_type=query_then_fetch&amp;batched_reduce_size=512 HTTP/1.1, host=http://[::1]:54010, response=HTTP/1.1 200 OK}\r\n\tat org.elasticsearch.common.util.concurrent.BaseFuture$Sync.getValue(BaseFuture.java:265)\r\n\tat org.elasticsearch.common.util.concurrent.BaseFuture$Sync.get(BaseFuture.java:252)\r\n\tat org.elasticsearch.common.util.concurrent.BaseFuture.get(BaseFuture.java:94)\r\n\tat org.elasticsearch.common.util.concurrent.FutureUtils.get(FutureUtils.java:57)\r\n\t... 39 more\r\nCaused by: java.io.IOException: Unable to parse response body for Response{requestLine=POST /index/_search?typed_keys=true&amp;ignore_unavailable=false&amp;expand_wildcards=open&amp;allow_no_indices=true&amp;search_type=query_then_fetch&amp;batched_reduce_size=512 HTTP/1.1, host=http://[::1]:54010, response=HTTP/1.1 200 OK}\r\n\tat org.elasticsearch.client.RestHighLevelClient$1.onSuccess(RestHighLevelClient.java:1723)\r\n\tat org.elasticsearch.client.RestClient$FailureTrackingResponseListener.onSuccess(RestClient.java:842)\r\n\tat org.elasticsearch.client.RestClient$1.completed(RestClient.java:543)\r\n\tat org.elasticsearch.client.RestClient$1.completed(RestClient.java:531)\r\n\tat org.apache.http.concurrent.BasicFuture.completed(BasicFuture.java:119)\r\n\tat org.apache.http.impl.nio.client.DefaultClientExchangeHandlerImpl.responseCompleted(DefaultClientExchangeHandlerImpl.java:177)\r\n\tat org.apache.http.nio.protocol.HttpAsyncRequestExecutor.processResponse(HttpAsyncRequestExecutor.java:436)\r\n\tat org.apache.http.nio.protocol.HttpAsyncRequestExecutor.inputReady(HttpAsyncRequestExecutor.java:326)\r\n\tat org.apache.http.impl.nio.DefaultNHttpClientConnection.consumeInput(DefaultNHttpClientConnection.java:265)\r\n\tat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:81)\r\n\tat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:39)\r\n\tat org.apache.http.impl.nio.reactor.AbstractIODispatch.inputReady(AbstractIODispatch.java:114)\r\n\tat org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:162)\r\n\tat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:337)\r\n\tat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315)\r\n\tat org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:276)\r\n\tat org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104)\r\n\tat org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:588)\r\n\t... 1 more\r\nCaused by: org.elasticsearch.common.xcontent.XContentParseException: [1:284] [ParsedStringTerms] failed to parse field [buckets]\r\n\tat org.elasticsearch.common.xcontent.ObjectParser.parseValue(ObjectParser.java:316)\r\n\tat org.elasticsearch.common.xcontent.ObjectParser.parseArray(ObjectParser.java:308)\r\n\tat org.elasticsearch.common.xcontent.ObjectParser.parseSub(ObjectParser.java:329)\r\n\tat org.elasticsearch.common.xcontent.ObjectParser.parse(ObjectParser.java:168)\r\n\tat org.elasticsearch.common.xcontent.ObjectParser.parse(ObjectParser.java:131)\r\n\tat org.elasticsearch.search.aggregations.bucket.terms.ParsedStringTerms.fromXContent(ParsedStringTerms.java:44)\r\n\tat org.elasticsearch.client.RestHighLevelClient.lambda$getDefaultNamedXContents$37(RestHighLevelClient.java:1849)\r\n\tat org.elasticsearch.common.xcontent.NamedXContentRegistry.parseNamedObject(NamedXContentRegistry.java:141)\r\n\tat org.elasticsearch.common.xcontent.support.AbstractXContentParser.namedObject(AbstractXContentParser.java:433)\r\n\tat org.elasticsearch.common.xcontent.XContentParserUtils.parseTypedKeysObject(XContentParserUtils.java:153)\r\n\tat org.elasticsearch.search.aggregations.Aggregations.fromXContent(Aggregations.java:141)\r\n\tat org.elasticsearch.action.search.SearchResponse.innerFromXContent(SearchResponse.java:289)\r\n\tat org.elasticsearch.action.search.SearchResponse.fromXContent(SearchResponse.java:248)\r\n\tat org.elasticsearch.client.RestHighLevelClient.parseEntity(RestHighLevelClient.java:1793)\r\n\tat org.elasticsearch.client.RestHighLevelClient.lambda$performRequestAsyncAndParseEntity$12(RestHighLevelClient.java:1636)\r\n\tat org.elasticsearch.client.RestHighLevelClient$1.onSuccess(RestHighLevelClient.java:1721)\r\n\t... 18 more\r\nCaused by: org.elasticsearch.common.xcontent.NamedObjectNotFoundException: [1:284] unable to parse Aggregation with name [weighted_avg]: parser not found\r\n\tat org.elasticsearch.common.xcontent.NamedXContentRegistry.parseNamedObject(NamedXContentRegistry.java:132)\r\n\tat org.elasticsearch.common.xcontent.support.AbstractXContentParser.namedObject(AbstractXContentParser.java:433)\r\n\tat org.elasticsearch.common.xcontent.XContentParserUtils.parseTypedKeysObject(XContentParserUtils.java:153)\r\n\tat org.elasticsearch.search.aggregations.bucket.terms.ParsedTerms$ParsedBucket.parseTermsBucketXContent(ParsedTerms.java:139)\r\n\tat org.elasticsearch.search.aggregations.bucket.terms.ParsedStringTerms$ParsedBucket.fromXContent(ParsedStringTerms.java:83)\r\n\tat org.elasticsearch.search.aggregations.ParsedMultiBucketAggregation.lambda$declareMultiBucketAggregationFields$0(ParsedMultiBucketAggregation.java:75)\r\n\tat org.elasticsearch.common.xcontent.ObjectParser.parseValue(ObjectParser.java:314)\r\n\t... 33 more\r\n</error>\r\n   </testcase>\r\n   <system-out><![CDATA[[2018-12-21T17:25:59,306][WARN ][o.e.b.JNANatives         ] [[SUITE-SearchIT-seed#[B6150ADDCD04C5E2]]] Unable to lock JVM Memory: error=78, reason=Function not implemented\r\n[2018-12-21T17:25:59,309][WARN ][o.e.b.JNANatives         ] [[SUITE-SearchIT-seed#[B6150ADDCD04C5E2]]] This can result in part of the JVM being swapped out.\r\n[2018-12-22T04:25:59,617][INFO ][o.e.c.SearchIT           ] [testSearchWithTermsAndWeightedAvg] before test\r\n[2018-12-22T04:25:59,714][INFO ][o.e.c.SearchIT           ] [testSearchWithTermsAndWeightedAvg] initializing REST clients against [http://[::1]:54010]\r\n[2018-12-22T04:26:00,710][WARN ][o.e.c.RestClient         ] [[I/O dispatcher 2]] request [PUT http://[::1]:54010/index/type/1] returned 1 warnings: [299 Elasticsearch-6.5.5-SNAPSHOT-33f9eb7 \"the default number of shards will change from [5] to [1] in 7.0.0; if you wish to continue using the default of [5] shards, you must manage this on the create index request or with an index template\" \"Fri, 21 Dec 2018 23:26:00 GMT\"]\r\n[2018-12-22T04:26:01,376][WARN ][o.e.c.RestClient         ] [[I/O dispatcher 2]] request [PUT http://[::1]:54010/index1/doc/1] returned 1 warnings: [299 Elasticsearch-6.5.5-SNAPSHOT-33f9eb7 \"the default number of shards will change from [5] to [1] in 7.0.0; if you wish to continue using the default of [5] shards, you must manage this on the create index request or with an index template\" \"Fri, 21 Dec 2018 23:26:00 GMT\"]\r\n[2018-12-22T04:26:01,929][WARN ][o.e.c.RestClient         ] [[I/O dispatcher 2]] request [PUT http://[::1]:54010/index2] returned 1 warnings: [299 Elasticsearch-6.5.5-SNAPSHOT-33f9eb7 \"the default number of shards will change from [5] to [1] in 7.0.0; if you wish to continue using the default of [5] shards, you must manage this on the create index request or with an index template\" \"Fri, 21 Dec 2018 23:26:01 GMT\"]\r\n[2018-12-22T04:26:02,594][WARN ][o.e.c.RestClient         ] [[I/O dispatcher 2]] request [PUT http://[::1]:54010/index3/doc/5] returned 1 warnings: [299 Elasticsearch-6.5.5-SNAPSHOT-33f9eb7 \"the default number of shards will change from [5] to [1] in 7.0.0; if you wish to continue using the default of [5] shards, you must manage this on the create index request or with an index template\" \"Fri, 21 Dec 2018 23:26:02 GMT\"]\r\n[2018-12-22T04:26:03,159][WARN ][o.e.c.RestClient         ] [[I/O dispatcher 2]] request [PUT http://[::1]:54010/index4] returned 1 warnings: [299 Elasticsearch-6.5.5-SNAPSHOT-33f9eb7 \"the default number of shards will change from [5] to [1] in 7.0.0; if you wish to continue using the default of [5] shards, you must manage this on the create index request or with an index template\" \"Fri, 21 Dec 2018 23:26:02 GMT\"]\r\n[2018-12-22T04:26:03,883][INFO ][o.e.c.SearchIT           ] [testSearchWithTermsAndWeightedAvg] after test\r\n]]></system-out>\r\n   <system-err><![CDATA[REPRODUCE WITH: ./gradlew :client:rest-high-level:integTestRunner -Dtests.seed=B6150ADDCD04C5E2 -Dtests.class=org.elasticsearch.client.SearchIT -Dtests.method=\"testSearchWithTermsAndWeightedAvg\" -Dtests.security.manager=true -Dtests.locale=luy-KE -Dtests.timezone=Asia/Dushanbe -Dcompiler.java=11 -Druntime.java=11\r\nNOTE: leaving temporary files on disk at: /Users/david/Code/elasticsearch/client/rest-high-level/build/testrun/integTestRunner/J0/temp/org.elasticsearch.client.SearchIT_B6150ADDCD04C5E2-001\r\nNOTE: test params are: codec=Asserting(Lucene70): {}, docValues:{}, maxPointsInLeafNode=1286, maxMBSortInHeap=7.109953822562061, sim=RandomSimilarity(queryNorm=false): {}, locale=luy-KE, timezone=Asia/Dushanbe\r\nNOTE: Mac OS X 10.14.2 x86_64/AdoptOpenJDK 11.0.1 (64-bit)/cpus=12,threads=1,free=496531312,total=536870912\r\nNOTE: All tests run in this JVM: [SearchIT]\r\n]]></system-err>\r\n</testsuite>\r\n```\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/450176264","html_url":"https://github.com/elastic/elasticsearch/issues/36861#issuecomment-450176264","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36861","id":450176264,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDE3NjI2NA==","user":{"login":"xpando","id":69182,"node_id":"MDQ6VXNlcjY5MTgy","avatar_url":"https://avatars2.githubusercontent.com/u/69182?v=4","gravatar_id":"","url":"https://api.github.com/users/xpando","html_url":"https://github.com/xpando","followers_url":"https://api.github.com/users/xpando/followers","following_url":"https://api.github.com/users/xpando/following{/other_user}","gists_url":"https://api.github.com/users/xpando/gists{/gist_id}","starred_url":"https://api.github.com/users/xpando/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xpando/subscriptions","organizations_url":"https://api.github.com/users/xpando/orgs","repos_url":"https://api.github.com/users/xpando/repos","events_url":"https://api.github.com/users/xpando/events{/privacy}","received_events_url":"https://api.github.com/users/xpando/received_events","type":"User","site_admin":false},"created_at":"2018-12-27T15:49:14Z","updated_at":"2018-12-28T20:07:07Z","author_association":"CONTRIBUTOR","body":"Update: I fixed this issue in my fork and the integration test is passing. I'll submit a pull request shortly with the fix.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/451145801","html_url":"https://github.com/elastic/elasticsearch/issues/36861#issuecomment-451145801","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36861","id":451145801,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTE0NTgwMQ==","user":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"created_at":"2019-01-03T13:42:10Z","updated_at":"2019-01-03T13:42:10Z","author_association":"MEMBER","body":"Thanks for fixing this @xpando!  Sorry for being absent, was off on holiday :) ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/451286885","html_url":"https://github.com/elastic/elasticsearch/issues/36861#issuecomment-451286885","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36861","id":451286885,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTI4Njg4NQ==","user":{"login":"xpando","id":69182,"node_id":"MDQ6VXNlcjY5MTgy","avatar_url":"https://avatars2.githubusercontent.com/u/69182?v=4","gravatar_id":"","url":"https://api.github.com/users/xpando","html_url":"https://github.com/xpando","followers_url":"https://api.github.com/users/xpando/followers","following_url":"https://api.github.com/users/xpando/following{/other_user}","gists_url":"https://api.github.com/users/xpando/gists{/gist_id}","starred_url":"https://api.github.com/users/xpando/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xpando/subscriptions","organizations_url":"https://api.github.com/users/xpando/orgs","repos_url":"https://api.github.com/users/xpando/repos","events_url":"https://api.github.com/users/xpando/events{/privacy}","received_events_url":"https://api.github.com/users/xpando/received_events","type":"User","site_admin":false},"created_at":"2019-01-03T21:43:23Z","updated_at":"2019-01-03T21:43:23Z","author_association":"CONTRIBUTOR","body":"No worries! Glad I could help.","performed_via_github_app":null}]