[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/171952126","html_url":"https://github.com/elastic/elasticsearch/issues/16012#issuecomment-171952126","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16012","id":171952126,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MTk1MjEyNg==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-01-15T12:50:12Z","updated_at":"2016-01-15T12:50:12Z","author_association":"CONTRIBUTOR","body":"Bulk queues on replicas can grow bigger than their configured sizes because we don't want changes which have gone to the primary to not reach the replicas.  That said, the primary will wait for responses from all replicas, thus applying backpressure to the client by rejecting further requests.\n\nWe definitely are not going to start moving this data off heap or spooling to disk - that would just introduce a whole new slew of bugs.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/569477981","html_url":"https://github.com/elastic/elasticsearch/issues/16012#issuecomment-569477981","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16012","id":569477981,"node_id":"MDEyOklzc3VlQ29tbWVudDU2OTQ3Nzk4MQ==","user":{"login":"Bukhtawar","id":12809319,"node_id":"MDQ6VXNlcjEyODA5MzE5","avatar_url":"https://avatars0.githubusercontent.com/u/12809319?v=4","gravatar_id":"","url":"https://api.github.com/users/Bukhtawar","html_url":"https://github.com/Bukhtawar","followers_url":"https://api.github.com/users/Bukhtawar/followers","following_url":"https://api.github.com/users/Bukhtawar/following{/other_user}","gists_url":"https://api.github.com/users/Bukhtawar/gists{/gist_id}","starred_url":"https://api.github.com/users/Bukhtawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Bukhtawar/subscriptions","organizations_url":"https://api.github.com/users/Bukhtawar/orgs","repos_url":"https://api.github.com/users/Bukhtawar/repos","events_url":"https://api.github.com/users/Bukhtawar/events{/privacy}","received_events_url":"https://api.github.com/users/Bukhtawar/received_events","type":"User","site_admin":false},"created_at":"2019-12-29T06:03:43Z","updated_at":"2019-12-29T06:03:43Z","author_association":"CONTRIBUTOR","body":"@clintongormley Can you clarify on the `backpressure`. Once the bulk sub-request is enqueued onto replica will it have it's entry removed from the primary node's queue and hence allowing it to take in further requests. Could there be cases where a slow replica can bump up memory pressure on primary if it continues to take in requests while still holding onto unprocessed replication requests","performed_via_github_app":null}]