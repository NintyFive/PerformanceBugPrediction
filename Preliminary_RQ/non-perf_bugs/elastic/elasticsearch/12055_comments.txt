[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/119493210","html_url":"https://github.com/elastic/elasticsearch/issues/12055#issuecomment-119493210","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12055","id":119493210,"node_id":"MDEyOklzc3VlQ29tbWVudDExOTQ5MzIxMA==","user":{"login":"287400117","id":4199281,"node_id":"MDQ6VXNlcjQxOTkyODE=","avatar_url":"https://avatars3.githubusercontent.com/u/4199281?v=4","gravatar_id":"","url":"https://api.github.com/users/287400117","html_url":"https://github.com/287400117","followers_url":"https://api.github.com/users/287400117/followers","following_url":"https://api.github.com/users/287400117/following{/other_user}","gists_url":"https://api.github.com/users/287400117/gists{/gist_id}","starred_url":"https://api.github.com/users/287400117/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/287400117/subscriptions","organizations_url":"https://api.github.com/users/287400117/orgs","repos_url":"https://api.github.com/users/287400117/repos","events_url":"https://api.github.com/users/287400117/events{/privacy}","received_events_url":"https://api.github.com/users/287400117/received_events","type":"User","site_admin":false},"created_at":"2015-07-08T08:31:44Z","updated_at":"2015-07-08T08:31:44Z","author_association":"NONE","body":"The problem you solved?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/119523564","html_url":"https://github.com/elastic/elasticsearch/issues/12055#issuecomment-119523564","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12055","id":119523564,"node_id":"MDEyOklzc3VlQ29tbWVudDExOTUyMzU2NA==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2015-07-08T09:38:50Z","updated_at":"2015-07-08T09:38:50Z","author_association":"CONTRIBUTOR","body":"this will be fixed in Elasticsearch 2.0. It will unlikely make it into 1.x series since it depends on a large amount of changes that are only in 2.0\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/119691242","html_url":"https://github.com/elastic/elasticsearch/issues/12055#issuecomment-119691242","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12055","id":119691242,"node_id":"MDEyOklzc3VlQ29tbWVudDExOTY5MTI0Mg==","user":{"login":"autrejacoupa","id":1090677,"node_id":"MDQ6VXNlcjEwOTA2Nzc=","avatar_url":"https://avatars2.githubusercontent.com/u/1090677?v=4","gravatar_id":"","url":"https://api.github.com/users/autrejacoupa","html_url":"https://github.com/autrejacoupa","followers_url":"https://api.github.com/users/autrejacoupa/followers","following_url":"https://api.github.com/users/autrejacoupa/following{/other_user}","gists_url":"https://api.github.com/users/autrejacoupa/gists{/gist_id}","starred_url":"https://api.github.com/users/autrejacoupa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/autrejacoupa/subscriptions","organizations_url":"https://api.github.com/users/autrejacoupa/orgs","repos_url":"https://api.github.com/users/autrejacoupa/repos","events_url":"https://api.github.com/users/autrejacoupa/events{/privacy}","received_events_url":"https://api.github.com/users/autrejacoupa/received_events","type":"User","site_admin":false},"created_at":"2015-07-08T18:33:27Z","updated_at":"2015-07-08T18:33:27Z","author_association":"NONE","body":"When is Elasticsearch 2.0 scheduled for release?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/136747898","html_url":"https://github.com/elastic/elasticsearch/issues/12055#issuecomment-136747898","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12055","id":136747898,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNjc0Nzg5OA==","user":{"login":"balaji006","id":14075874,"node_id":"MDQ6VXNlcjE0MDc1ODc0","avatar_url":"https://avatars3.githubusercontent.com/u/14075874?v=4","gravatar_id":"","url":"https://api.github.com/users/balaji006","html_url":"https://github.com/balaji006","followers_url":"https://api.github.com/users/balaji006/followers","following_url":"https://api.github.com/users/balaji006/following{/other_user}","gists_url":"https://api.github.com/users/balaji006/gists{/gist_id}","starred_url":"https://api.github.com/users/balaji006/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/balaji006/subscriptions","organizations_url":"https://api.github.com/users/balaji006/orgs","repos_url":"https://api.github.com/users/balaji006/repos","events_url":"https://api.github.com/users/balaji006/events{/privacy}","received_events_url":"https://api.github.com/users/balaji006/received_events","type":"User","site_admin":false},"created_at":"2015-09-01T14:47:13Z","updated_at":"2015-09-01T14:47:13Z","author_association":"NONE","body":"Delete .recovery file inside the translog folder\n\nEg:/es/elasticsearch-1.7.1/data/[elasticsearch_clustername]/nodes/0/indices/[indexname]/2/translog/\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/156262260","html_url":"https://github.com/elastic/elasticsearch/issues/12055#issuecomment-156262260","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12055","id":156262260,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NjI2MjI2MA==","user":{"login":"tony-bye","id":9258433,"node_id":"MDQ6VXNlcjkyNTg0MzM=","avatar_url":"https://avatars0.githubusercontent.com/u/9258433?v=4","gravatar_id":"","url":"https://api.github.com/users/tony-bye","html_url":"https://github.com/tony-bye","followers_url":"https://api.github.com/users/tony-bye/followers","following_url":"https://api.github.com/users/tony-bye/following{/other_user}","gists_url":"https://api.github.com/users/tony-bye/gists{/gist_id}","starred_url":"https://api.github.com/users/tony-bye/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tony-bye/subscriptions","organizations_url":"https://api.github.com/users/tony-bye/orgs","repos_url":"https://api.github.com/users/tony-bye/repos","events_url":"https://api.github.com/users/tony-bye/events{/privacy}","received_events_url":"https://api.github.com/users/tony-bye/received_events","type":"User","site_admin":false},"created_at":"2015-11-12T22:51:06Z","updated_at":"2015-11-12T23:36:56Z","author_association":"NONE","body":"I also had this kind of error after a partition was full, and deleting the .recovery files as balaji006 suggested worked fine.  I had a lot of affected index/shard directories, but after deleting each .recovery file elasticsearch worked fine again.\n====Update\nOops, spoke too soon.  Now all queries give me \"All shards failed for phase: [query]\"\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/159018557","html_url":"https://github.com/elastic/elasticsearch/issues/12055#issuecomment-159018557","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12055","id":159018557,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTAxODU1Nw==","user":{"login":"sa-shukla","id":10761695,"node_id":"MDQ6VXNlcjEwNzYxNjk1","avatar_url":"https://avatars0.githubusercontent.com/u/10761695?v=4","gravatar_id":"","url":"https://api.github.com/users/sa-shukla","html_url":"https://github.com/sa-shukla","followers_url":"https://api.github.com/users/sa-shukla/followers","following_url":"https://api.github.com/users/sa-shukla/following{/other_user}","gists_url":"https://api.github.com/users/sa-shukla/gists{/gist_id}","starred_url":"https://api.github.com/users/sa-shukla/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sa-shukla/subscriptions","organizations_url":"https://api.github.com/users/sa-shukla/orgs","repos_url":"https://api.github.com/users/sa-shukla/repos","events_url":"https://api.github.com/users/sa-shukla/events{/privacy}","received_events_url":"https://api.github.com/users/sa-shukla/received_events","type":"User","site_admin":false},"created_at":"2015-11-23T18:22:47Z","updated_at":"2015-11-23T18:24:46Z","author_association":"NONE","body":"I am running ElasticSearch 2.0, but am still receiving IndexShard Recovery failures:\n\n[2015-11-23 18:03:32,670][WARN ][cluster.action.shard     ] [The Russian] [logstash-2015.10.24][4] received shard failed for [logstash-2015.10.24][4], node[omb9PXHUTXqpKeesvkCbPw], [P], v[742647], s[INITIALIZING], a[id=XUctUOPUQLiHXyK2J9gdlg], unassigned_info[[reason=ALLOCATION_FAILED], at[2015-11-23T18:03:32.486Z], details[failed recovery, failure IndexShardRecoveryException[failed recovery]; nested: IllegalStateException[latest found translog has a lower generation that the excepcted uncommitted 1421133423283 > -1]; ]], indexUUID [jf5m3aXaQLyH9gMhwMBuDQ], message [failed recovery], failure [IndexShardRecoveryException[failed recovery]; nested: IllegalStateException[latest found translog has a lower generation that the excepcted uncommitted 1421133423283 > -1]; ]\n[logstash-2015.10.24][[logstash-2015.10.24][4]] IndexShardRecoveryException[failed recovery]; nested: IllegalStateException[latest found translog has a lower generation that the excepcted uncommitted 1421133423283 > -1];\n        at org.elasticsearch.index.shard.StoreRecoveryService$1.run(StoreRecoveryService.java:183)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n        at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.IllegalStateException: latest found translog has a lower generation that the excepcted uncommitted 1421133423283 > -1\n        at org.elasticsearch.index.translog.Translog.upgradeLegacyTranslog(Translog.java:253)\n        at org.elasticsearch.index.engine.InternalEngine.openTranslog(InternalEngine.java:185)\n        at org.elasticsearch.index.engine.InternalEngine.<init>(InternalEngine.java:131)\n        at org.elasticsearch.index.engine.InternalEngineFactory.newReadWriteEngine(InternalEngineFactory.java:25)\n        at org.elasticsearch.index.shard.IndexShard.newEngine(IndexShard.java:1349)\n        at org.elasticsearch.index.shard.IndexShard.createNewEngine(IndexShard.java:1344)\n        at org.elasticsearch.index.shard.IndexShard.internalPerformTranslogRecovery(IndexShard.java:889)\n        at org.elasticsearch.index.shard.IndexShard.performTranslogRecovery(IndexShard.java:866)\n        at org.elasticsearch.index.shard.StoreRecoveryService.recoverFromStore(StoreRecoveryService.java:249)\n        at org.elasticsearch.index.shard.StoreRecoveryService.access$100(StoreRecoveryService.java:60)\n        at org.elasticsearch.index.shard.StoreRecoveryService$1.run(StoreRecoveryService.java:133)\n        ... 3 more\n\nThere has been no disk full issue since my upgrade to 2.0, so possibility of recovery file getting corrupted is very low.\n\nAny fixes / workaround would be very much appreciated.\n\nRegards,\nSagar\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/163190639","html_url":"https://github.com/elastic/elasticsearch/issues/12055#issuecomment-163190639","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12055","id":163190639,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MzE5MDYzOQ==","user":{"login":"kpcool","id":2868966,"node_id":"MDQ6VXNlcjI4Njg5NjY=","avatar_url":"https://avatars3.githubusercontent.com/u/2868966?v=4","gravatar_id":"","url":"https://api.github.com/users/kpcool","html_url":"https://github.com/kpcool","followers_url":"https://api.github.com/users/kpcool/followers","following_url":"https://api.github.com/users/kpcool/following{/other_user}","gists_url":"https://api.github.com/users/kpcool/gists{/gist_id}","starred_url":"https://api.github.com/users/kpcool/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kpcool/subscriptions","organizations_url":"https://api.github.com/users/kpcool/orgs","repos_url":"https://api.github.com/users/kpcool/repos","events_url":"https://api.github.com/users/kpcool/events{/privacy}","received_events_url":"https://api.github.com/users/kpcool/received_events","type":"User","site_admin":false},"created_at":"2015-12-09T11:09:39Z","updated_at":"2015-12-09T11:09:39Z","author_association":"NONE","body":"Today, the disk got full and ElasticSearch is not able to go back again. Isn't there a built-in system that prevents such failures. I agree that we should be monitoring the hard space and not let this happen in first place, but some times things happen.\n\nMy setup is a single node at present.\n\nI don't see a clear way to recover the node. A post at https://t37.net/how-to-fix-your-elasticsearch-cluster-stuck-in-initializing-shards-mode.html seemed to help, but still few indices got corrupted and I have no way to recovering them.\n\nAt the end, I ended up deleted the indices, but that's not the way it should be. Such things must be taken care of ultimatley\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/169628693","html_url":"https://github.com/elastic/elasticsearch/issues/12055#issuecomment-169628693","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12055","id":169628693,"node_id":"MDEyOklzc3VlQ29tbWVudDE2OTYyODY5Mw==","user":{"login":"CorbMax","id":16591241,"node_id":"MDQ6VXNlcjE2NTkxMjQx","avatar_url":"https://avatars2.githubusercontent.com/u/16591241?v=4","gravatar_id":"","url":"https://api.github.com/users/CorbMax","html_url":"https://github.com/CorbMax","followers_url":"https://api.github.com/users/CorbMax/followers","following_url":"https://api.github.com/users/CorbMax/following{/other_user}","gists_url":"https://api.github.com/users/CorbMax/gists{/gist_id}","starred_url":"https://api.github.com/users/CorbMax/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CorbMax/subscriptions","organizations_url":"https://api.github.com/users/CorbMax/orgs","repos_url":"https://api.github.com/users/CorbMax/repos","events_url":"https://api.github.com/users/CorbMax/events{/privacy}","received_events_url":"https://api.github.com/users/CorbMax/received_events","type":"User","site_admin":false},"created_at":"2016-01-07T10:54:22Z","updated_at":"2016-01-07T10:54:22Z","author_association":"NONE","body":"Same issue here. Applied tips at https://t37.net/how-to-fix-your-elasticsearch-cluster-stuck-in-initializing-shards-mode.html but not solved.\n\nThis is really really disappointing! \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/169951962","html_url":"https://github.com/elastic/elasticsearch/issues/12055#issuecomment-169951962","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12055","id":169951962,"node_id":"MDEyOklzc3VlQ29tbWVudDE2OTk1MTk2Mg==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-01-08T10:01:24Z","updated_at":"2016-01-08T10:01:24Z","author_association":"MEMBER","body":"@CorbMax (and @kpcool ) which ES versions are you on?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/169953037","html_url":"https://github.com/elastic/elasticsearch/issues/12055#issuecomment-169953037","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12055","id":169953037,"node_id":"MDEyOklzc3VlQ29tbWVudDE2OTk1MzAzNw==","user":{"login":"CorbMax","id":16591241,"node_id":"MDQ6VXNlcjE2NTkxMjQx","avatar_url":"https://avatars2.githubusercontent.com/u/16591241?v=4","gravatar_id":"","url":"https://api.github.com/users/CorbMax","html_url":"https://github.com/CorbMax","followers_url":"https://api.github.com/users/CorbMax/followers","following_url":"https://api.github.com/users/CorbMax/following{/other_user}","gists_url":"https://api.github.com/users/CorbMax/gists{/gist_id}","starred_url":"https://api.github.com/users/CorbMax/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CorbMax/subscriptions","organizations_url":"https://api.github.com/users/CorbMax/orgs","repos_url":"https://api.github.com/users/CorbMax/repos","events_url":"https://api.github.com/users/CorbMax/events{/privacy}","received_events_url":"https://api.github.com/users/CorbMax/received_events","type":"User","site_admin":false},"created_at":"2016-01-08T10:08:24Z","updated_at":"2016-01-08T10:08:24Z","author_association":"NONE","body":"I'm on 2.0, but going to upgrade to 2.1\nUnfortunately I was obliged to delete indexes to unlock the system...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/178893201","html_url":"https://github.com/elastic/elasticsearch/issues/12055#issuecomment-178893201","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12055","id":178893201,"node_id":"MDEyOklzc3VlQ29tbWVudDE3ODg5MzIwMQ==","user":{"login":"starkers","id":462087,"node_id":"MDQ6VXNlcjQ2MjA4Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/462087?v=4","gravatar_id":"","url":"https://api.github.com/users/starkers","html_url":"https://github.com/starkers","followers_url":"https://api.github.com/users/starkers/followers","following_url":"https://api.github.com/users/starkers/following{/other_user}","gists_url":"https://api.github.com/users/starkers/gists{/gist_id}","starred_url":"https://api.github.com/users/starkers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/starkers/subscriptions","organizations_url":"https://api.github.com/users/starkers/orgs","repos_url":"https://api.github.com/users/starkers/repos","events_url":"https://api.github.com/users/starkers/events{/privacy}","received_events_url":"https://api.github.com/users/starkers/received_events","type":"User","site_admin":false},"created_at":"2016-02-02T23:52:18Z","updated_at":"2016-02-02T23:52:18Z","author_association":"NONE","body":"I think I've experienced the same just after updating from 2.1.0 to 2.2.0 (from official stable PPA)\n\nIts only a few devel indexes but the recovery seems to just (after stopping elastic, growing the disk, starting elastic) filled up the disk very quickly with translog \"stuff\"\n\nI'm just going to delete the stuff but this shouldn't be difficult to replicate.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/179167212","html_url":"https://github.com/elastic/elasticsearch/issues/12055#issuecomment-179167212","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12055","id":179167212,"node_id":"MDEyOklzc3VlQ29tbWVudDE3OTE2NzIxMg==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-02-03T11:04:22Z","updated_at":"2016-02-03T11:04:22Z","author_association":"MEMBER","body":"@starkers clean please capture the files and logs before deleting, and share them somewhere? these things are typically not easy to reproduce :(\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/180699393","html_url":"https://github.com/elastic/elasticsearch/issues/12055#issuecomment-180699393","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12055","id":180699393,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MDY5OTM5Mw==","user":{"login":"systeminsightsbuild","id":9461307,"node_id":"MDQ6VXNlcjk0NjEzMDc=","avatar_url":"https://avatars1.githubusercontent.com/u/9461307?v=4","gravatar_id":"","url":"https://api.github.com/users/systeminsightsbuild","html_url":"https://github.com/systeminsightsbuild","followers_url":"https://api.github.com/users/systeminsightsbuild/followers","following_url":"https://api.github.com/users/systeminsightsbuild/following{/other_user}","gists_url":"https://api.github.com/users/systeminsightsbuild/gists{/gist_id}","starred_url":"https://api.github.com/users/systeminsightsbuild/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/systeminsightsbuild/subscriptions","organizations_url":"https://api.github.com/users/systeminsightsbuild/orgs","repos_url":"https://api.github.com/users/systeminsightsbuild/repos","events_url":"https://api.github.com/users/systeminsightsbuild/events{/privacy}","received_events_url":"https://api.github.com/users/systeminsightsbuild/received_events","type":"User","site_admin":false},"created_at":"2016-02-06T06:04:47Z","updated_at":"2016-02-06T06:04:47Z","author_association":"NONE","body":"Should this not be reopned? I just a disk full and now and getting \n\n```\n[2016-02-06 06:01:59,643][WARN ][cluster.action.shard     ] [ops-elk-1] [logstash-2016.02.05][2] received shard failed for ...\n```\n\nThis is for 2.1.1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/180727053","html_url":"https://github.com/elastic/elasticsearch/issues/12055#issuecomment-180727053","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12055","id":180727053,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MDcyNzA1Mw==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-02-06T09:54:56Z","updated_at":"2016-02-06T09:54:56Z","author_association":"MEMBER","body":"@systeminsightsbuild sadly there can be many reasons for this can of failure. this specific issue is about translog corruption due to a failure to fully write an operation. This is fixed in 2.0. There might be other issues as well. It's hard to tell from the log line you sent as it misses the part that tells why the shard failed. If you can post that (and feel free open a new issue), we can see what's going on. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/196484649","html_url":"https://github.com/elastic/elasticsearch/issues/12055#issuecomment-196484649","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12055","id":196484649,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NjQ4NDY0OQ==","user":{"login":"likaiguo","id":2822180,"node_id":"MDQ6VXNlcjI4MjIxODA=","avatar_url":"https://avatars0.githubusercontent.com/u/2822180?v=4","gravatar_id":"","url":"https://api.github.com/users/likaiguo","html_url":"https://github.com/likaiguo","followers_url":"https://api.github.com/users/likaiguo/followers","following_url":"https://api.github.com/users/likaiguo/following{/other_user}","gists_url":"https://api.github.com/users/likaiguo/gists{/gist_id}","starred_url":"https://api.github.com/users/likaiguo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/likaiguo/subscriptions","organizations_url":"https://api.github.com/users/likaiguo/orgs","repos_url":"https://api.github.com/users/likaiguo/repos","events_url":"https://api.github.com/users/likaiguo/events{/privacy}","received_events_url":"https://api.github.com/users/likaiguo/received_events","type":"User","site_admin":false},"created_at":"2016-03-14T19:22:10Z","updated_at":"2016-03-14T19:22:10Z","author_association":"NONE","body":"it works!!!\n\nbalaji006 commented on 1 Sep 2015\nDelete .recovery file inside the translog folder\n\nEg:/es/elasticsearch-1.7.1/data/[elasticsearch_clustername]/nodes/0/indices/[indexname]/2/translog/\n\nThanks @balaji006 \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/206367708","html_url":"https://github.com/elastic/elasticsearch/issues/12055#issuecomment-206367708","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12055","id":206367708,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNjM2NzcwOA==","user":{"login":"amir-rahnama","id":6009583,"node_id":"MDQ6VXNlcjYwMDk1ODM=","avatar_url":"https://avatars1.githubusercontent.com/u/6009583?v=4","gravatar_id":"","url":"https://api.github.com/users/amir-rahnama","html_url":"https://github.com/amir-rahnama","followers_url":"https://api.github.com/users/amir-rahnama/followers","following_url":"https://api.github.com/users/amir-rahnama/following{/other_user}","gists_url":"https://api.github.com/users/amir-rahnama/gists{/gist_id}","starred_url":"https://api.github.com/users/amir-rahnama/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amir-rahnama/subscriptions","organizations_url":"https://api.github.com/users/amir-rahnama/orgs","repos_url":"https://api.github.com/users/amir-rahnama/repos","events_url":"https://api.github.com/users/amir-rahnama/events{/privacy}","received_events_url":"https://api.github.com/users/amir-rahnama/received_events","type":"User","site_admin":false},"created_at":"2016-04-06T13:20:12Z","updated_at":"2016-04-06T13:20:12Z","author_association":"NONE","body":"@simonw This is still there for 2.2.3. \n\n@balaji006 workaround fixed the issue, but I think that needs to be addressed. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/206770732","html_url":"https://github.com/elastic/elasticsearch/issues/12055#issuecomment-206770732","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12055","id":206770732,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNjc3MDczMg==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-04-07T09:03:42Z","updated_at":"2016-04-07T09:03:42Z","author_association":"MEMBER","body":"@ambodi can open a new issue with the details of what you saw? this can come in many flavors. I'm also curious how you had a `.recovering` translog file, which is not used in 2.x\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/209860816","html_url":"https://github.com/elastic/elasticsearch/issues/12055#issuecomment-209860816","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12055","id":209860816,"node_id":"MDEyOklzc3VlQ29tbWVudDIwOTg2MDgxNg==","user":{"login":"amir-rahnama","id":6009583,"node_id":"MDQ6VXNlcjYwMDk1ODM=","avatar_url":"https://avatars1.githubusercontent.com/u/6009583?v=4","gravatar_id":"","url":"https://api.github.com/users/amir-rahnama","html_url":"https://github.com/amir-rahnama","followers_url":"https://api.github.com/users/amir-rahnama/followers","following_url":"https://api.github.com/users/amir-rahnama/following{/other_user}","gists_url":"https://api.github.com/users/amir-rahnama/gists{/gist_id}","starred_url":"https://api.github.com/users/amir-rahnama/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amir-rahnama/subscriptions","organizations_url":"https://api.github.com/users/amir-rahnama/orgs","repos_url":"https://api.github.com/users/amir-rahnama/repos","events_url":"https://api.github.com/users/amir-rahnama/events{/privacy}","received_events_url":"https://api.github.com/users/amir-rahnama/received_events","type":"User","site_admin":false},"created_at":"2016-04-14T10:03:27Z","updated_at":"2016-04-14T12:28:09Z","author_association":"NONE","body":"@bleskes here is what I see:\n\n`2016-04-14T10:02:45.691973552Z Caused by: org.elasticsearch.index.translog.TranslogCorruptedException: translog corruption while reading from stream\n2016-04-14T10:02:45.691977952Z  at org.elasticsearch.index.translog.ChecksummedTranslogStream.read(ChecksummedTranslogStream.java:72)\n2016-04-14T10:02:45.691982252Z  at org.elasticsearch.index.gateway.local.LocalIndexShardGateway.recover(LocalIndexShardGateway.java:260)\n2016-04-14T10:02:45.691992452Z  ... 4 more`\n\n@bleskes we upgraded from 1.5 to 2.2.3\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/209896447","html_url":"https://github.com/elastic/elasticsearch/issues/12055#issuecomment-209896447","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12055","id":209896447,"node_id":"MDEyOklzc3VlQ29tbWVudDIwOTg5NjQ0Nw==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-04-14T11:48:27Z","updated_at":"2016-04-14T11:48:27Z","author_association":"MEMBER","body":"@ambodi thx. That exception stack trace refers to a class that has been removed in the 2.x series. The code that generated this exception is therefore from your 1.5 version. This makes me think something went wrong with your upgrade and that that node is still on 1.5.\n\nPS. I taking you mean upgrade to 2.2.3 (as you wrote before) and not 2.8\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/225463266","html_url":"https://github.com/elastic/elasticsearch/issues/12055#issuecomment-225463266","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12055","id":225463266,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTQ2MzI2Ng==","user":{"login":"tamsky","id":96978,"node_id":"MDQ6VXNlcjk2OTc4","avatar_url":"https://avatars0.githubusercontent.com/u/96978?v=4","gravatar_id":"","url":"https://api.github.com/users/tamsky","html_url":"https://github.com/tamsky","followers_url":"https://api.github.com/users/tamsky/followers","following_url":"https://api.github.com/users/tamsky/following{/other_user}","gists_url":"https://api.github.com/users/tamsky/gists{/gist_id}","starred_url":"https://api.github.com/users/tamsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tamsky/subscriptions","organizations_url":"https://api.github.com/users/tamsky/orgs","repos_url":"https://api.github.com/users/tamsky/repos","events_url":"https://api.github.com/users/tamsky/events{/privacy}","received_events_url":"https://api.github.com/users/tamsky/received_events","type":"User","site_admin":false},"created_at":"2016-06-12T22:04:11Z","updated_at":"2016-06-12T22:04:11Z","author_association":"NONE","body":"For reference, an original thread with a complete set of instructions for this error is at:\n- https://groups.google.com/d/msg/elasticsearch/HtgNeUJ5uao/AdMssa0WnJMJ\n\nAnd to correct mistakes found above:\n- Everywhere above that mentions files with suffix \"`.recovery`\" is mistaken.   The correct suffix is `.recovering`\n\nFor us, after stopping ES, moving these `.recovering` files to another filesystem, and then starting ES, our cluster was able to recover.  (ES version 1.6.2)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/271405177","html_url":"https://github.com/elastic/elasticsearch/issues/12055#issuecomment-271405177","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12055","id":271405177,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MTQwNTE3Nw==","user":{"login":"jamshid","id":8549,"node_id":"MDQ6VXNlcjg1NDk=","avatar_url":"https://avatars0.githubusercontent.com/u/8549?v=4","gravatar_id":"","url":"https://api.github.com/users/jamshid","html_url":"https://github.com/jamshid","followers_url":"https://api.github.com/users/jamshid/followers","following_url":"https://api.github.com/users/jamshid/following{/other_user}","gists_url":"https://api.github.com/users/jamshid/gists{/gist_id}","starred_url":"https://api.github.com/users/jamshid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamshid/subscriptions","organizations_url":"https://api.github.com/users/jamshid/orgs","repos_url":"https://api.github.com/users/jamshid/repos","events_url":"https://api.github.com/users/jamshid/events{/privacy}","received_events_url":"https://api.github.com/users/jamshid/received_events","type":"User","site_admin":false},"created_at":"2017-01-09T20:57:07Z","updated_at":"2017-01-09T20:57:07Z","author_association":"NONE","body":"@tamsky the link doesn't work, maybe the elasticsearch group was deleted/moved?\r\nFWIW I found this issue because I had a problem with ES 2.3.3 running out of disk space and then not recovering properly. But I guess it's not related to this issue since the .recovering file is no longer used? Sorry don't have logs from the ES 2.3.3 problem.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/271650684","html_url":"https://github.com/elastic/elasticsearch/issues/12055#issuecomment-271650684","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12055","id":271650684,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MTY1MDY4NA==","user":{"login":"tamsky","id":96978,"node_id":"MDQ6VXNlcjk2OTc4","avatar_url":"https://avatars0.githubusercontent.com/u/96978?v=4","gravatar_id":"","url":"https://api.github.com/users/tamsky","html_url":"https://github.com/tamsky","followers_url":"https://api.github.com/users/tamsky/followers","following_url":"https://api.github.com/users/tamsky/following{/other_user}","gists_url":"https://api.github.com/users/tamsky/gists{/gist_id}","starred_url":"https://api.github.com/users/tamsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tamsky/subscriptions","organizations_url":"https://api.github.com/users/tamsky/orgs","repos_url":"https://api.github.com/users/tamsky/repos","events_url":"https://api.github.com/users/tamsky/events{/privacy}","received_events_url":"https://api.github.com/users/tamsky/received_events","type":"User","site_admin":false},"created_at":"2017-01-10T18:05:16Z","updated_at":"2017-01-10T18:05:16Z","author_association":"NONE","body":"Thanks for pointing out the group is gone.\r\n\r\nI'm disappointed the ES team invalidated (and made unsearchable by old URL) all those groups links after their [bulk import](https://discuss.elastic.co/t/google-groups-mailing-list-import-notes/23944) and [announcement](https://discuss.elastic.co/t/elasticsearch-google-groups-imported/23797).   I've learned my lesson : at a minimum, quote the thread subject.\r\n\r\nA bit of spelunking later, I found a citation containing both thread URL and subject\r\n[ ES failed to recover after crash ]\r\n- http://repository.tudelft.nl/islandora/object/uuid:1db911a0-18e0-49b5-ac9d-b6700f9b60ab/datastream/OBJ/download\r\n\r\nHere's the migrated thread:\r\nhttps://discuss.elastic.co/t/es-failed-to-recover-after-crash/8195\r\n\r\nI **guess** the message I had linked to was this\r\n    https://discuss.elastic.co/t/es-failed-to-recover-after-crash/8195/5\r\nbut my [comment giving corrections](https://github.com/elastic/elasticsearch/issues/12055#issuecomment-225463266) seems out of place or already corrected.","performed_via_github_app":null}]