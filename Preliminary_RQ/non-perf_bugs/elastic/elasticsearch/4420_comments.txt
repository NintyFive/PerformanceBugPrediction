[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/32070215","html_url":"https://github.com/elastic/elasticsearch/issues/4420#issuecomment-32070215","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4420","id":32070215,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDcwMjE1","user":{"login":"Plasma","id":229209,"node_id":"MDQ6VXNlcjIyOTIwOQ==","avatar_url":"https://avatars3.githubusercontent.com/u/229209?v=4","gravatar_id":"","url":"https://api.github.com/users/Plasma","html_url":"https://github.com/Plasma","followers_url":"https://api.github.com/users/Plasma/followers","following_url":"https://api.github.com/users/Plasma/following{/other_user}","gists_url":"https://api.github.com/users/Plasma/gists{/gist_id}","starred_url":"https://api.github.com/users/Plasma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Plasma/subscriptions","organizations_url":"https://api.github.com/users/Plasma/orgs","repos_url":"https://api.github.com/users/Plasma/repos","events_url":"https://api.github.com/users/Plasma/events{/privacy}","received_events_url":"https://api.github.com/users/Plasma/received_events","type":"User","site_admin":false},"created_at":"2014-01-10T21:54:20Z","updated_at":"2014-01-10T21:54:22Z","author_association":"NONE","body":"+1 would like this feature right now for the same use case\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/86890958","html_url":"https://github.com/elastic/elasticsearch/issues/4420#issuecomment-86890958","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4420","id":86890958,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODkwOTU4","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2015-03-27T10:19:07Z","updated_at":"2015-03-27T10:19:07Z","author_association":"MEMBER","body":"It's an old issue, but it feels to me that a nice solution for this is to allow the script in a scripted update to return values that will be added to the response. This would allow you to make smarter about the change. The down side is that it introduces overhead if you really just want the original doc. @Plasma maybe you can comment?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/135042943","html_url":"https://github.com/elastic/elasticsearch/issues/4420#issuecomment-135042943","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4420","id":135042943,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNTA0Mjk0Mw==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2015-08-26T14:37:55Z","updated_at":"2015-08-26T14:37:55Z","author_association":"CONTRIBUTOR","body":"I don't think we should make the update API more complicated. It is easy to get the previous source by issuing a GET first, then running the update on the same version of the document and retrying in case of conflict.\n","performed_via_github_app":null}]