{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/9573","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9573/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9573/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9573/events","html_url":"https://github.com/elastic/elasticsearch/issues/9573","id":56607135,"node_id":"MDU6SXNzdWU1NjYwNzEzNQ==","number":9573,"title":"The Bulk RESTful API should also use JSON format","user":{"login":"cooniur","id":3030052,"node_id":"MDQ6VXNlcjMwMzAwNTI=","avatar_url":"https://avatars0.githubusercontent.com/u/3030052?v=4","gravatar_id":"","url":"https://api.github.com/users/cooniur","html_url":"https://github.com/cooniur","followers_url":"https://api.github.com/users/cooniur/followers","following_url":"https://api.github.com/users/cooniur/following{/other_user}","gists_url":"https://api.github.com/users/cooniur/gists{/gist_id}","starred_url":"https://api.github.com/users/cooniur/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cooniur/subscriptions","organizations_url":"https://api.github.com/users/cooniur/orgs","repos_url":"https://api.github.com/users/cooniur/repos","events_url":"https://api.github.com/users/cooniur/events{/privacy}","received_events_url":"https://api.github.com/users/cooniur/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-02-04T23:57:09Z","updated_at":"2015-02-05T06:03:16Z","closed_at":"2015-02-05T06:03:16Z","author_association":"NONE","active_lock_reason":null,"body":"The current bulk REST API is really, really, really hard to use, especially if one misses the last \"\\n\" accidentally (anybody feels the same?), since it is not JSON format but plain text, it's difficult to check the syntax as apposed to JSON.\n\nSo, instead of the current plain text format:\n\n```\n$ cat requests\n{ \"index\" : { \"_index\" : \"test\", \"_type\" : \"type1\", \"_id\" : \"1\" } }\n{ \"field1\" : \"value1\" }\n{ \"delete\" : { \"_index\" : \"test\", \"_type\" : \"type1\", \"_id\" : \"2\" } }\n$ curl -s -XPOST localhost:9200/_bulk --data-binary @requests\n```\n\nwhy not using the following simple JSON format?\n\n```\n$ curl -XPOST localhost:9200/_bulk -d '[\n{\n  \"action\": \"index\",\n  \"params\": { \"_index\" : \"test\", \"_type\" : \"type1\", \"_id\" : \"1\" },\n  \"data\": { \"field1\": \"value1\" }\n},\n{\n  \"action\": \"delete\",\n  \"params\": { \"_index\" : \"test\", \"_type\" : \"type1\", \"_id\" : \"2\" }\n]'\n```\n\nIf the above is too wordy, how about the following?\n\n```\n$ curl -XPOST localhost:9200/_bulk -d '[\n  { \"index\" : { \"_index\" : \"test\", \"_type\" : \"type1\", \"_id\" : \"1\" } },\n  { \"field1\" : \"value1\" },\n  { \"delete\" : { \"_index\" : \"test\", \"_type\" : \"type1\", \"_id\" : \"2\" } }\n]'\n```\n\nThis would make programmers' life much much easier.\n","closed_by":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"performed_via_github_app":null}