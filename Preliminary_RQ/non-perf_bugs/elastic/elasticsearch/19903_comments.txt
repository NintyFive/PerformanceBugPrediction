[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/238754587","html_url":"https://github.com/elastic/elasticsearch/issues/19903#issuecomment-238754587","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19903","id":238754587,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODc1NDU4Nw==","user":{"login":"ruckc","id":1426401,"node_id":"MDQ6VXNlcjE0MjY0MDE=","avatar_url":"https://avatars3.githubusercontent.com/u/1426401?v=4","gravatar_id":"","url":"https://api.github.com/users/ruckc","html_url":"https://github.com/ruckc","followers_url":"https://api.github.com/users/ruckc/followers","following_url":"https://api.github.com/users/ruckc/following{/other_user}","gists_url":"https://api.github.com/users/ruckc/gists{/gist_id}","starred_url":"https://api.github.com/users/ruckc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruckc/subscriptions","organizations_url":"https://api.github.com/users/ruckc/orgs","repos_url":"https://api.github.com/users/ruckc/repos","events_url":"https://api.github.com/users/ruckc/events{/privacy}","received_events_url":"https://api.github.com/users/ruckc/received_events","type":"User","site_admin":false},"created_at":"2016-08-10T03:12:04Z","updated_at":"2016-08-10T03:12:04Z","author_association":"NONE","body":"Its is almost like almost all of the transports other than `local` were removed from elasticsearch-5.0.0-alpha5.jar.  I just tried adding the transport-netty4-client-5.0.0-alpha5.jar to see if Netty4Plugin autowired and it didn't, and I can't find any description of how to make `http.type` pickup a plugin.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/238755615","html_url":"https://github.com/elastic/elasticsearch/issues/19903#issuecomment-238755615","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19903","id":238755615,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODc1NTYxNQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-08-10T03:20:42Z","updated_at":"2016-08-10T03:21:31Z","author_association":"MEMBER","body":"You need to install a transport, which you haven't as they are modularized outside of core now.\n\n``` diff\ndiff --git a/pom.xml b/pom.xml\nindex 980e5e0..c1dad7a 100644\n--- a/pom.xml\n+++ b/pom.xml\n@@ -30,6 +30,12 @@\n             <groupId>org.elasticsearch</groupId>\n             <artifactId>elasticsearch</artifactId>\n             <version>5.0.0-alpha5</version>\n+            <type>jar</type>     \n+        </dependency>\n+        <dependency>\n+            <groupId>org.elasticsearch.plugin</groupId>\n+            <artifactId>transport-netty4-client</artifactId>\n+            <version>5.0.0-alpha5</version>\n             <type>jar</type>\n         </dependency>\n         <dependency>\n@@ -44,4 +50,4 @@\n         <maven.compiler.target>1.8</maven.compiler.target>\n         <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n     </properties>\n-</project>\n\\ No newline at end of file\n+</project>\ndiff --git a/src/main/java/com/example/elasticsearch/embedded/Main.java b/src/main/java/com/example/elasticsearch/embedded/Main.java\nindex 05bce20..de55a9d 100644\n--- a/src/main/java/com/example/elasticsearch/embedded/Main.java\n+++ b/src/main/java/com/example/elasticsearch/embedded/Main.java\n@@ -17,8 +17,11 @@ package com.example.elasticsearch.embedded;\n\n import java.io.IOException;\n import java.io.InputStream;\n+import java.util.Collections;\n import org.elasticsearch.common.settings.Settings;\n+import org.elasticsearch.node.internal.InternalSettingsPreparer;\n import org.elasticsearch.node.Node;\n+import org.elasticsearch.transport.Netty4Plugin;\n\n /**\n  *\n@@ -30,8 +33,14 @@ public class Main {\n         try (InputStream is = Main.class.getResourceAsStream(\"/elasticsearch.yml\")) {\n             Settings settings = Settings.builder().loadFromStream(\"elasticsearch.yml\", is).build();\n\n-            Node node = new Node(settings);\n+            Node node = new PluginNode(settings);\n             node.start();\n         }\n     }\n+\n+    static class PluginNode extends Node {\n+        public PluginNode(Settings settings) {\n+            super(InternalSettingsPreparer.prepareEnvironment(settings, null), Collections.singletonList(Netty4Plugin.class));\n+        }\n+    }\n }\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/238756116","html_url":"https://github.com/elastic/elasticsearch/issues/19903#issuecomment-238756116","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19903","id":238756116,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODc1NjExNg==","user":{"login":"ruckc","id":1426401,"node_id":"MDQ6VXNlcjE0MjY0MDE=","avatar_url":"https://avatars3.githubusercontent.com/u/1426401?v=4","gravatar_id":"","url":"https://api.github.com/users/ruckc","html_url":"https://github.com/ruckc","followers_url":"https://api.github.com/users/ruckc/followers","following_url":"https://api.github.com/users/ruckc/following{/other_user}","gists_url":"https://api.github.com/users/ruckc/gists{/gist_id}","starred_url":"https://api.github.com/users/ruckc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruckc/subscriptions","organizations_url":"https://api.github.com/users/ruckc/orgs","repos_url":"https://api.github.com/users/ruckc/repos","events_url":"https://api.github.com/users/ruckc/events{/privacy}","received_events_url":"https://api.github.com/users/ruckc/received_events","type":"User","site_admin":false},"created_at":"2016-08-10T03:24:50Z","updated_at":"2016-08-10T03:24:50Z","author_association":"NONE","body":"@jasontedor Is this documented at this level in breaking changes?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/238756145","html_url":"https://github.com/elastic/elasticsearch/issues/19903#issuecomment-238756145","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19903","id":238756145,"node_id":"MDEyOklzc3VlQ29tbWVudDIzODc1NjE0NQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-08-10T03:25:05Z","updated_at":"2016-08-10T03:25:05Z","author_association":"MEMBER","body":"To be clear, with the above change, everything starts fine for me:\n\n``` bash\n23:16:20 ⌁49% [jason:~/src/ruckc/elasticsearch-embedded-issue] master(+18/-3)* 130 ± mvn exec:java -Dexec.mainClass=com.example.elasticsearch.embedded.Main\n[INFO] Scanning for projects...\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] Building elasticsearch-embedded-issue 1.0\n[INFO] ------------------------------------------------------------------------\n[INFO]\n[INFO] --- exec-maven-plugin:1.4.0:java (default-cli) @ elasticsearch-embedded-issue ---\n2016-08-09 23:16:22 INFO  node:215 - [] initializing ...\n2016-08-09 23:16:23 INFO  env:370 - [G8Y1LLz] using [1] data paths, mounts [[/ (/dev/disk1)]], net usable_space [341.7gb], net total_space [464.7gb], spins? [unknown], types [hfs]\n2016-08-09 23:16:23 INFO  env:379 - [G8Y1LLz] heap size [3.5gb], compressed ordinary object pointers [true]\n2016-08-09 23:16:23 INFO  node:236 - [G8Y1LLz] node name [G8Y1LLz] derived from node ID; set [node.name] to override\n2016-08-09 23:16:23 INFO  node:242 - [G8Y1LLz] version[5.0.0-alpha5], pid[77912], build[d327dd4/2016-08-04T08:59:39.568Z], OS[Mac OS X/10.11.6/x86_64], JVM[Oracle Corporation/Java HotSpot(TM) 64-Bit Server VM/1.8.0_92/25.92-b14]\n2016-08-09 23:16:23 INFO  plugins:217 - [G8Y1LLz] no modules loaded\n2016-08-09 23:16:23 INFO  plugins:220 - [G8Y1LLz] loaded plugin [org.elasticsearch.transport.Netty4Plugin]\n2016-08-09 23:16:24 INFO  node:381 - [G8Y1LLz] initialized\n2016-08-09 23:16:24 INFO  node:431 - [G8Y1LLz] starting ...\n2016-08-09 23:16:24 INFO  transport:179 - [G8Y1LLz] publish_address {local[1]}, bound_addresses {local[1]}\n2016-08-09 23:16:27 INFO  service:659 - [G8Y1LLz] new_master {G8Y1LLz}{G8Y1LLzMSoiiS7nlZNDBtw}{7mzGZmplR7mCw0QbaCYNQw}{local}{local[1]}, reason: zen-disco-elected-as-master ([0] nodes joined)\n2016-08-09 23:16:27 INFO  gateway:298 - [G8Y1LLz] recovered [0] indices into cluster_state\n2016-08-09 23:16:27 INFO  http:79 - [G8Y1LLz] publish_address {127.0.0.1:9200}, bound_addresses {127.0.0.1:9200}\n2016-08-09 23:16:27 INFO  node:536 - [G8Y1LLz] started\n^C23:16:37 ⌁49% [jason:~/src/ruckc/elasticsearch-embedded-issue] master(+18/-3)* 130 ±\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/241342138","html_url":"https://github.com/elastic/elasticsearch/issues/19903#issuecomment-241342138","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19903","id":241342138,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MTM0MjEzOA==","user":{"login":"debarshiraha","id":13856017,"node_id":"MDQ6VXNlcjEzODU2MDE3","avatar_url":"https://avatars3.githubusercontent.com/u/13856017?v=4","gravatar_id":"","url":"https://api.github.com/users/debarshiraha","html_url":"https://github.com/debarshiraha","followers_url":"https://api.github.com/users/debarshiraha/followers","following_url":"https://api.github.com/users/debarshiraha/following{/other_user}","gists_url":"https://api.github.com/users/debarshiraha/gists{/gist_id}","starred_url":"https://api.github.com/users/debarshiraha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/debarshiraha/subscriptions","organizations_url":"https://api.github.com/users/debarshiraha/orgs","repos_url":"https://api.github.com/users/debarshiraha/repos","events_url":"https://api.github.com/users/debarshiraha/events{/privacy}","received_events_url":"https://api.github.com/users/debarshiraha/received_events","type":"User","site_admin":false},"created_at":"2016-08-22T08:12:38Z","updated_at":"2016-08-22T08:12:38Z","author_association":"NONE","body":"Looks like this impacts running Elasticsearch.java from Eclipse? What will be the steps now?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/241378494","html_url":"https://github.com/elastic/elasticsearch/issues/19903#issuecomment-241378494","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19903","id":241378494,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MTM3ODQ5NA==","user":{"login":"ruckc","id":1426401,"node_id":"MDQ6VXNlcjE0MjY0MDE=","avatar_url":"https://avatars3.githubusercontent.com/u/1426401?v=4","gravatar_id":"","url":"https://api.github.com/users/ruckc","html_url":"https://github.com/ruckc","followers_url":"https://api.github.com/users/ruckc/followers","following_url":"https://api.github.com/users/ruckc/following{/other_user}","gists_url":"https://api.github.com/users/ruckc/gists{/gist_id}","starred_url":"https://api.github.com/users/ruckc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruckc/subscriptions","organizations_url":"https://api.github.com/users/ruckc/orgs","repos_url":"https://api.github.com/users/ruckc/repos","events_url":"https://api.github.com/users/ruckc/events{/privacy}","received_events_url":"https://api.github.com/users/ruckc/received_events","type":"User","site_admin":false},"created_at":"2016-08-22T10:53:11Z","updated_at":"2016-08-22T10:53:11Z","author_association":"NONE","body":"@debarshiraha this impacts any embedded usage of ElasticSearch, if transports other than local are desired.  It isn't documented in breaking changes yet.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/241604325","html_url":"https://github.com/elastic/elasticsearch/issues/19903#issuecomment-241604325","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19903","id":241604325,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MTYwNDMyNQ==","user":{"login":"debarshiraha","id":13856017,"node_id":"MDQ6VXNlcjEzODU2MDE3","avatar_url":"https://avatars3.githubusercontent.com/u/13856017?v=4","gravatar_id":"","url":"https://api.github.com/users/debarshiraha","html_url":"https://github.com/debarshiraha","followers_url":"https://api.github.com/users/debarshiraha/followers","following_url":"https://api.github.com/users/debarshiraha/following{/other_user}","gists_url":"https://api.github.com/users/debarshiraha/gists{/gist_id}","starred_url":"https://api.github.com/users/debarshiraha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/debarshiraha/subscriptions","organizations_url":"https://api.github.com/users/debarshiraha/orgs","repos_url":"https://api.github.com/users/debarshiraha/repos","events_url":"https://api.github.com/users/debarshiraha/events{/privacy}","received_events_url":"https://api.github.com/users/debarshiraha/received_events","type":"User","site_admin":false},"created_at":"2016-08-23T01:52:37Z","updated_at":"2016-08-23T01:52:37Z","author_association":"NONE","body":"Does org.elasticsearch.bootstrap.Elasticsearch.java need a fix or do we need to apply some setting while running it from Eclipse?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/241606408","html_url":"https://github.com/elastic/elasticsearch/issues/19903#issuecomment-241606408","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19903","id":241606408,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MTYwNjQwOA==","user":{"login":"ruckc","id":1426401,"node_id":"MDQ6VXNlcjE0MjY0MDE=","avatar_url":"https://avatars3.githubusercontent.com/u/1426401?v=4","gravatar_id":"","url":"https://api.github.com/users/ruckc","html_url":"https://github.com/ruckc","followers_url":"https://api.github.com/users/ruckc/followers","following_url":"https://api.github.com/users/ruckc/following{/other_user}","gists_url":"https://api.github.com/users/ruckc/gists{/gist_id}","starred_url":"https://api.github.com/users/ruckc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruckc/subscriptions","organizations_url":"https://api.github.com/users/ruckc/orgs","repos_url":"https://api.github.com/users/ruckc/repos","events_url":"https://api.github.com/users/ruckc/events{/privacy}","received_events_url":"https://api.github.com/users/ruckc/received_events","type":"User","site_admin":false},"created_at":"2016-08-23T02:06:57Z","updated_at":"2016-08-23T02:06:57Z","author_association":"NONE","body":"You have to include a transport client now, previously elasticsearch's jar contained it, now its separate jar.  Also, you need a custom Node implementation as shown in the above diff.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/248022644","html_url":"https://github.com/elastic/elasticsearch/issues/19903#issuecomment-248022644","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19903","id":248022644,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODAyMjY0NA==","user":{"login":"debarshiraha","id":13856017,"node_id":"MDQ6VXNlcjEzODU2MDE3","avatar_url":"https://avatars3.githubusercontent.com/u/13856017?v=4","gravatar_id":"","url":"https://api.github.com/users/debarshiraha","html_url":"https://github.com/debarshiraha","followers_url":"https://api.github.com/users/debarshiraha/followers","following_url":"https://api.github.com/users/debarshiraha/following{/other_user}","gists_url":"https://api.github.com/users/debarshiraha/gists{/gist_id}","starred_url":"https://api.github.com/users/debarshiraha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/debarshiraha/subscriptions","organizations_url":"https://api.github.com/users/debarshiraha/orgs","repos_url":"https://api.github.com/users/debarshiraha/repos","events_url":"https://api.github.com/users/debarshiraha/events{/privacy}","received_events_url":"https://api.github.com/users/debarshiraha/received_events","type":"User","site_admin":false},"created_at":"2016-09-19T15:14:56Z","updated_at":"2016-09-19T15:14:56Z","author_association":"NONE","body":"Thanks, trying similar code on master branch, looks like it can't find a master:\n\n\"timed out while waiting for initial discovery state - timeout: 30s\"\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/257953505","html_url":"https://github.com/elastic/elasticsearch/issues/19903#issuecomment-257953505","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19903","id":257953505,"node_id":"MDEyOklzc3VlQ29tbWVudDI1Nzk1MzUwNQ==","user":{"login":"shivangshah","id":2624839,"node_id":"MDQ6VXNlcjI2MjQ4Mzk=","avatar_url":"https://avatars1.githubusercontent.com/u/2624839?v=4","gravatar_id":"","url":"https://api.github.com/users/shivangshah","html_url":"https://github.com/shivangshah","followers_url":"https://api.github.com/users/shivangshah/followers","following_url":"https://api.github.com/users/shivangshah/following{/other_user}","gists_url":"https://api.github.com/users/shivangshah/gists{/gist_id}","starred_url":"https://api.github.com/users/shivangshah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shivangshah/subscriptions","organizations_url":"https://api.github.com/users/shivangshah/orgs","repos_url":"https://api.github.com/users/shivangshah/repos","events_url":"https://api.github.com/users/shivangshah/events{/privacy}","received_events_url":"https://api.github.com/users/shivangshah/received_events","type":"User","site_admin":false},"created_at":"2016-11-02T18:17:38Z","updated_at":"2016-11-02T18:17:38Z","author_association":"NONE","body":"+1 for adding this to breaking changes documentation. Spent couple of hours trying to figure this out. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/257965074","html_url":"https://github.com/elastic/elasticsearch/issues/19903#issuecomment-257965074","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19903","id":257965074,"node_id":"MDEyOklzc3VlQ29tbWVudDI1Nzk2NTA3NA==","user":{"login":"sidhhu","id":4186041,"node_id":"MDQ6VXNlcjQxODYwNDE=","avatar_url":"https://avatars2.githubusercontent.com/u/4186041?v=4","gravatar_id":"","url":"https://api.github.com/users/sidhhu","html_url":"https://github.com/sidhhu","followers_url":"https://api.github.com/users/sidhhu/followers","following_url":"https://api.github.com/users/sidhhu/following{/other_user}","gists_url":"https://api.github.com/users/sidhhu/gists{/gist_id}","starred_url":"https://api.github.com/users/sidhhu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sidhhu/subscriptions","organizations_url":"https://api.github.com/users/sidhhu/orgs","repos_url":"https://api.github.com/users/sidhhu/repos","events_url":"https://api.github.com/users/sidhhu/events{/privacy}","received_events_url":"https://api.github.com/users/sidhhu/received_events","type":"User","site_admin":false},"created_at":"2016-11-02T18:57:11Z","updated_at":"2016-11-02T18:57:11Z","author_association":"NONE","body":"I get the same exception when I try to download the jar and start it with the binary. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/259341881","html_url":"https://github.com/elastic/elasticsearch/issues/19903#issuecomment-259341881","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19903","id":259341881,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTM0MTg4MQ==","user":{"login":"1ambda","id":4968473,"node_id":"MDQ6VXNlcjQ5Njg0NzM=","avatar_url":"https://avatars3.githubusercontent.com/u/4968473?v=4","gravatar_id":"","url":"https://api.github.com/users/1ambda","html_url":"https://github.com/1ambda","followers_url":"https://api.github.com/users/1ambda/followers","following_url":"https://api.github.com/users/1ambda/following{/other_user}","gists_url":"https://api.github.com/users/1ambda/gists{/gist_id}","starred_url":"https://api.github.com/users/1ambda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/1ambda/subscriptions","organizations_url":"https://api.github.com/users/1ambda/orgs","repos_url":"https://api.github.com/users/1ambda/repos","events_url":"https://api.github.com/users/1ambda/events{/privacy}","received_events_url":"https://api.github.com/users/1ambda/received_events","type":"User","site_admin":false},"created_at":"2016-11-09T06:20:19Z","updated_at":"2016-11-09T07:11:00Z","author_association":"NONE","body":"I am also trying to solve this issue, but faced an unexpected problem while applying @debarshiraha code\n\n```\nincompatible types: java.util.List<java.lang.Class<org.elasticsearch.transport.Netty4Plugin>> cannot be converted to java.util.Collection<java.lang.Class<? extends org.elasticsearch.plugins.Plugin>>\n```\n\nBecause `org.elasticsearch.transport.NettyPlugin` extends `org.elasticsearch.plugins.Plugin`, there is no reason to get this error :(\n\n<img width=\"515\" alt=\"screen shot 2016-11-09 at 4 05 43 pm\" src=\"https://cloud.githubusercontent.com/assets/4968473/20129994/15ccd928-a697-11e6-9cb4-4d261c5692ae.png\">\n<img width=\"694\" alt=\"screen shot 2016-11-09 at 11 56 59 am\" src=\"https://cloud.githubusercontent.com/assets/4968473/20129992/13522e0a-a697-11e6-98ae-9cd6707b8a89.png\">\n\nI think it's a kind of dependency problem. `pom.xml` looks like\n\n``` xml\n    <profile>\n\n      <properties>\n        <elasticsearch.version>5.0.0</elasticsearch.version>\n        ...\n      </properties>\n      <dependencies>\n\n        <dependency>\n          <groupId>org.elasticsearch.client</groupId>\n          <artifactId>transport</artifactId>\n          <version>${elasticsearch.version}</version>\n        </dependency>\n\n        <dependency>\n          <groupId>org.elasticsearch</groupId>\n          <artifactId>elasticsearch</artifactId>\n          <version>${elasticsearch.version}</version>\n        </dependency>\n\n        <dependency>\n          <groupId>org.elasticsearch.plugin</groupId>\n          <artifactId>transport-netty4-client</artifactId>\n          <version>${elasticsearch.version}</version>\n        </dependency>\n```\n\n```\n[INFO] --- maven-dependency-plugin:2.8:tree (default-cli) @ zeppelin-elasticsearch ---\n[INFO] org.apache.zeppelin:zeppelin-elasticsearch:jar:0.7.0-SNAPSHOT\n[INFO] +- org.apache.zeppelin:zeppelin-interpreter:jar:0.7.0-SNAPSHOT:provided\n[INFO] +- com.google.guava:guava:jar:18.0:compile\n[INFO] +- com.github.wnameless:json-flattener:jar:0.1.6:compile\n[INFO] |  +- com.eclipsesource.minimal-json:minimal-json:jar:0.9.4:compile\n[INFO] |  \\- org.apache.commons:commons-lang3:jar:3.4:compile\n[INFO] +- org.slf4j:slf4j-api:jar:1.7.10:compile\n[INFO] +- junit:junit:jar:4.11:test\n[INFO] |  \\- org.hamcrest:hamcrest-core:jar:1.3:test\n[INFO] +- org.elasticsearch.client:transport:jar:5.0.0:compile\n[INFO] |  +- (org.elasticsearch:elasticsearch:jar:5.0.0:compile - omitted for duplicate)\n[INFO] |  +- org.elasticsearch.plugin:transport-netty3-client:jar:5.0.0:compile\n[INFO] |  |  \\- io.netty:netty:jar:3.10.6.Final:compile\n[INFO] |  +- (org.elasticsearch.plugin:transport-netty4-client:jar:5.0.0:compile - omitted for duplicate)\n[INFO] |  +- org.elasticsearch.plugin:reindex-client:jar:5.0.0:compile\n[INFO] |  |  \\- org.elasticsearch.client:rest:jar:5.0.0:compile\n[INFO] |  |     +- org.apache.httpcomponents:httpclient:jar:4.3.6:compile (version managed from 4.5.2)\n[INFO] |  |     |  +- (org.apache.httpcomponents:httpcore:jar:4.3.3:compile - version managed from 4.4.5; omitted for duplicate)\n[INFO] |  |     |  +- (commons-logging:commons-logging:jar:1.1.1:compile - version managed from 1.1.3; omitted for duplicate)\n[INFO] |  |     |  \\- (commons-codec:commons-codec:jar:1.5:compile - version managed from 1.10; omitted for duplicate)\n[INFO] |  |     +- org.apache.httpcomponents:httpcore:jar:4.3.3:compile\n[INFO] |  |     +- org.apache.httpcomponents:httpasyncclient:jar:4.1.2:compile\n[INFO] |  |     |  +- (org.apache.httpcomponents:httpcore:jar:4.3.3:compile - version managed from 4.4.5; omitted for duplicate)\n[INFO] |  |     |  +- (org.apache.httpcomponents:httpcore-nio:jar:4.4.5:compile - omitted for duplicate)\n[INFO] |  |     |  +- (org.apache.httpcomponents:httpclient:jar:4.3.6:compile - version managed from4.5.2; omitted for duplicate)\n[INFO] |  |     |  \\- (commons-logging:commons-logging:jar:1.1.1:compile - version managed from 1.2;omitted for duplicate)\n[INFO] |  |     +- org.apache.httpcomponents:httpcore-nio:jar:4.4.5:compile\n[INFO] |  |     |  \\- (org.apache.httpcomponents:httpcore:jar:4.3.3:compile - version managed from 4.4.5; omitted for duplicate)\n[INFO] |  |     +- commons-codec:commons-codec:jar:1.5:compile\n[INFO] |  |     \\- commons-logging:commons-logging:jar:1.1.1:compile\n[INFO] |  +- org.elasticsearch.plugin:lang-mustache-client:jar:5.0.0:compile\n[INFO] |  |  \\- com.github.spullara.mustache.java:compiler:jar:0.9.3:compile\n[INFO] |  \\- org.elasticsearch.plugin:percolator-client:jar:5.0.0:compile\n[INFO] +- org.elasticsearch:elasticsearch:jar:5.0.0:compile\n[INFO] |  +- org.apache.lucene:lucene-core:jar:6.2.0:compile\n[INFO] |  +- org.apache.lucene:lucene-analyzers-common:jar:6.2.0:compile\n[INFO] |  |  \\- (org.apache.lucene:lucene-core:jar:6.2.0:compile - omitted for duplicate)\n[INFO] |  +- org.apache.lucene:lucene-backward-codecs:jar:6.2.0:compile\n[INFO] |  |  \\- (org.apache.lucene:lucene-core:jar:6.2.0:compile - omitted for duplicate)\n[INFO] |  +- org.apache.lucene:lucene-grouping:jar:6.2.0:compile\n[INFO] |  |  +- (org.apache.lucene:lucene-core:jar:6.2.0:compile - omitted for duplicate)\n[INFO] |  |  \\- (org.apache.lucene:lucene-queries:jar:6.2.0:compile - omitted for duplicate)\n[INFO] |  +- org.apache.lucene:lucene-highlighter:jar:6.2.0:compile\n[INFO] |  |  +- (org.apache.lucene:lucene-analyzers-common:jar:6.2.0:compile - omitted for duplicate)\n[INFO] |  |  +- (org.apache.lucene:lucene-core:jar:6.2.0:compile - omitted for duplicate)\n[INFO] |  |  +- (org.apache.lucene:lucene-join:jar:6.2.0:compile - omitted for duplicate)\n[INFO] |  |  +- (org.apache.lucene:lucene-memory:jar:6.2.0:compile - omitted for duplicate)\n[INFO] |  |  \\- (org.apache.lucene:lucene-queries:jar:6.2.0:compile - omitted for duplicate)\n[INFO] |  +- org.apache.lucene:lucene-join:jar:6.2.0:compile\n[INFO] |  |  +- (org.apache.lucene:lucene-core:jar:6.2.0:compile - omitted for duplicate)\n[INFO] |  |  \\- (org.apache.lucene:lucene-grouping:jar:6.2.0:compile - omitted for duplicate)\n[INFO] |  +- org.apache.lucene:lucene-memory:jar:6.2.0:compile\n[INFO] |  |  \\- (org.apache.lucene:lucene-core:jar:6.2.0:compile - omitted for duplicate)\n[INFO] |  +- org.apache.lucene:lucene-misc:jar:6.2.0:compile\n[INFO] |  |  \\- (org.apache.lucene:lucene-core:jar:6.2.0:compile - omitted for duplicate)\n[INFO] |  +- org.apache.lucene:lucene-queries:jar:6.2.0:compile\n[INFO] |  |  \\- (org.apache.lucene:lucene-core:jar:6.2.0:compile - omitted for duplicate)\n[INFO] |  +- org.apache.lucene:lucene-queryparser:jar:6.2.0:compile\n[INFO] |  |  +- (org.apache.lucene:lucene-core:jar:6.2.0:compile - omitted for duplicate)\n[INFO] |  |  +- (org.apache.lucene:lucene-queries:jar:6.2.0:compile - omitted for duplicate)\n[INFO] |  |  \\- (org.apache.lucene:lucene-sandbox:jar:6.2.0:compile - omitted for duplicate)\n[INFO] |  +- org.apache.lucene:lucene-sandbox:jar:6.2.0:compile\n[INFO] |  |  \\- (org.apache.lucene:lucene-core:jar:6.2.0:compile - omitted for duplicate)\n[INFO] |  +- org.apache.lucene:lucene-spatial:jar:6.2.0:compile\n[INFO] |  |  \\- (org.apache.lucene:lucene-core:jar:6.2.0:compile - omitted for duplicate)\n[INFO] |  +- org.apache.lucene:lucene-spatial-extras:jar:6.2.0:compile\n[INFO] |  |  +- (org.apache.lucene:lucene-core:jar:6.2.0:compile - omitted for duplicate)\n[INFO] |  |  +- (org.apache.lucene:lucene-misc:jar:6.2.0:compile - omitted for duplicate)\n[INFO] |  |  +- (org.apache.lucene:lucene-queries:jar:6.2.0:compile - omitted for duplicate)\n[INFO] |  |  +- (org.apache.lucene:lucene-spatial3d:jar:6.2.0:compile - omitted for duplicate)\n[INFO] |  |  \\- org.locationtech.spatial4j:spatial4j:jar:0.6:compile\n[INFO] |  +- org.apache.lucene:lucene-spatial3d:jar:6.2.0:compile\n[INFO] |  |  \\- (org.apache.lucene:lucene-core:jar:6.2.0:compile - omitted for duplicate)\n[INFO] |  +- org.apache.lucene:lucene-suggest:jar:6.2.0:compile\n[INFO] |  |  +- (org.apache.lucene:lucene-analyzers-common:jar:6.2.0:compile - omitted for duplicate)\n[INFO] |  |  +- (org.apache.lucene:lucene-core:jar:6.2.0:compile - omitted for duplicate)\n[INFO] |  |  +- (org.apache.lucene:lucene-misc:jar:6.2.0:compile - omitted for duplicate)\n[INFO] |  |  \\- (org.apache.lucene:lucene-queries:jar:6.2.0:compile - omitted for duplicate)\n[INFO] |  +- org.elasticsearch:securesm:jar:1.1:compile\n[INFO] |  +- net.sf.jopt-simple:jopt-simple:jar:5.0.2:compile\n[INFO] |  +- com.carrotsearch:hppc:jar:0.7.1:compile\n[INFO] |  +- joda-time:joda-time:jar:2.9.4:compile\n[INFO] |  +- org.joda:joda-convert:jar:1.2:compile\n[INFO] |  +- org.yaml:snakeyaml:jar:1.15:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-core:jar:2.8.1:compile\n[INFO] |  +- com.fasterxml.jackson.dataformat:jackson-dataformat-smile:jar:2.8.1:compile\n[INFO] |  |  \\- (com.fasterxml.jackson.core:jackson-core:jar:2.8.1:compile - omitted for duplicate)\n[INFO] |  +- com.fasterxml.jackson.dataformat:jackson-dataformat-yaml:jar:2.8.1:compile\n[INFO] |  |  +- (com.fasterxml.jackson.core:jackson-core:jar:2.8.1:compile - omitted for duplicate)\n[INFO] |  |  \\- (org.yaml:snakeyaml:jar:1.15:compile - omitted for duplicate)\n[INFO] |  +- com.fasterxml.jackson.dataformat:jackson-dataformat-cbor:jar:2.8.1:compile\n[INFO] |  |  \\- (com.fasterxml.jackson.core:jackson-core:jar:2.8.1:compile - omitted for duplicate)\n[INFO] |  +- com.tdunning:t-digest:jar:3.0:compile\n[INFO] |  +- org.hdrhistogram:HdrHistogram:jar:2.1.6:compile\n[INFO] |  \\- net.java.dev.jna:jna:jar:4.2.2:compile\n[INFO] +- org.elasticsearch.plugin:transport-netty4-client:jar:5.0.0:compile\n[INFO] |  +- io.netty:netty-buffer:jar:4.1.5.Final:compile\n[INFO] |  |  \\- (io.netty:netty-common:jar:4.1.5.Final:compile - omitted for duplicate)\n[INFO] |  +- io.netty:netty-codec:jar:4.1.5.Final:compile\n[INFO] |  |  \\- (io.netty:netty-transport:jar:4.1.5.Final:compile - omitted for duplicate)\n[INFO] |  +- io.netty:netty-codec-http:jar:4.1.5.Final:compile\n[INFO] |  |  \\- (io.netty:netty-codec:jar:4.1.5.Final:compile - omitted for duplicate)\n[INFO] |  +- io.netty:netty-common:jar:4.1.5.Final:compile\n[INFO] |  +- io.netty:netty-handler:jar:4.1.5.Final:compile\n[INFO] |  |  +- (io.netty:netty-buffer:jar:4.1.5.Final:compile - omitted for duplicate)\n[INFO] |  |  +- (io.netty:netty-transport:jar:4.1.5.Final:compile - omitted for duplicate)\n[INFO] |  |  \\- (io.netty:netty-codec:jar:4.1.5.Final:compile - omitted for duplicate)\n[INFO] |  +- io.netty:netty-resolver:jar:4.1.5.Final:compile\n[INFO] |  |  \\- (io.netty:netty-common:jar:4.1.5.Final:compile - omitted for duplicate)\n[INFO] |  \\- io.netty:netty-transport:jar:4.1.5.Final:compile\n[INFO] |     +- (io.netty:netty-buffer:jar:4.1.5.Final:compile - omitted for duplicate)\n[INFO] |     \\- (io.netty:netty-resolver:jar:4.1.5.Final:compile - omitted for duplicate)\n\n```\n\nAnyone who have the same problem?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/259421543","html_url":"https://github.com/elastic/elasticsearch/issues/19903#issuecomment-259421543","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19903","id":259421543,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTQyMTU0Mw==","user":{"login":"1ambda","id":4968473,"node_id":"MDQ6VXNlcjQ5Njg0NzM=","avatar_url":"https://avatars3.githubusercontent.com/u/4968473?v=4","gravatar_id":"","url":"https://api.github.com/users/1ambda","html_url":"https://github.com/1ambda","followers_url":"https://api.github.com/users/1ambda/followers","following_url":"https://api.github.com/users/1ambda/following{/other_user}","gists_url":"https://api.github.com/users/1ambda/gists{/gist_id}","starred_url":"https://api.github.com/users/1ambda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/1ambda/subscriptions","organizations_url":"https://api.github.com/users/1ambda/orgs","repos_url":"https://api.github.com/users/1ambda/repos","events_url":"https://api.github.com/users/1ambda/events{/privacy}","received_events_url":"https://api.github.com/users/1ambda/received_events","type":"User","site_admin":false},"created_at":"2016-11-09T14:03:28Z","updated_at":"2016-11-09T14:05:45Z","author_association":"NONE","body":"I am not sure why the above error was occurred but we can work around by specifing type explicitly like \n\n`Collections.<Class<? extends Plugin>>singletonList(Netty4Plugin.class)`\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/261382480","html_url":"https://github.com/elastic/elasticsearch/issues/19903#issuecomment-261382480","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19903","id":261382480,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTM4MjQ4MA==","user":{"login":"oscarcastaneda","id":1549319,"node_id":"MDQ6VXNlcjE1NDkzMTk=","avatar_url":"https://avatars1.githubusercontent.com/u/1549319?v=4","gravatar_id":"","url":"https://api.github.com/users/oscarcastaneda","html_url":"https://github.com/oscarcastaneda","followers_url":"https://api.github.com/users/oscarcastaneda/followers","following_url":"https://api.github.com/users/oscarcastaneda/following{/other_user}","gists_url":"https://api.github.com/users/oscarcastaneda/gists{/gist_id}","starred_url":"https://api.github.com/users/oscarcastaneda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oscarcastaneda/subscriptions","organizations_url":"https://api.github.com/users/oscarcastaneda/orgs","repos_url":"https://api.github.com/users/oscarcastaneda/repos","events_url":"https://api.github.com/users/oscarcastaneda/events{/privacy}","received_events_url":"https://api.github.com/users/oscarcastaneda/received_events","type":"User","site_admin":false},"created_at":"2016-11-17T21:57:04Z","updated_at":"2016-11-17T21:57:04Z","author_association":"NONE","body":"I'm facing the same exact issue reported by @ruckc with 5.0.1. Followed the same steps, including importing transport client separately. Elastic comes up but only if \"path.home\" is set along with \"transport.type\" set to \"local\" and \"http.enabled\" set to \"false\". Not sure why this issue was closed but it remains an issue on 5.0.1.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/261414605","html_url":"https://github.com/elastic/elasticsearch/issues/19903#issuecomment-261414605","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19903","id":261414605,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTQxNDYwNQ==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2016-11-18T00:35:26Z","updated_at":"2016-11-18T00:35:26Z","author_association":"MEMBER","body":"You should use the PreBuiltTransportClient, which was added in alpha5:\nhttps://www.elastic.co/guide/en/elasticsearch/client/java-api/current/transport-client.html\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/261573825","html_url":"https://github.com/elastic/elasticsearch/issues/19903#issuecomment-261573825","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19903","id":261573825,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTU3MzgyNQ==","user":{"login":"oscarcastaneda","id":1549319,"node_id":"MDQ6VXNlcjE1NDkzMTk=","avatar_url":"https://avatars1.githubusercontent.com/u/1549319?v=4","gravatar_id":"","url":"https://api.github.com/users/oscarcastaneda","html_url":"https://github.com/oscarcastaneda","followers_url":"https://api.github.com/users/oscarcastaneda/followers","following_url":"https://api.github.com/users/oscarcastaneda/following{/other_user}","gists_url":"https://api.github.com/users/oscarcastaneda/gists{/gist_id}","starred_url":"https://api.github.com/users/oscarcastaneda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oscarcastaneda/subscriptions","organizations_url":"https://api.github.com/users/oscarcastaneda/orgs","repos_url":"https://api.github.com/users/oscarcastaneda/repos","events_url":"https://api.github.com/users/oscarcastaneda/events{/privacy}","received_events_url":"https://api.github.com/users/oscarcastaneda/received_events","type":"User","site_admin":false},"created_at":"2016-11-18T16:23:58Z","updated_at":"2016-11-18T16:23:58Z","author_association":"NONE","body":"Thanks @rjernst \n\nI am indeed using PreBuiltTransportClient. And I am also importing transport client, which is now in a separate jar as pointed out by @ruckc .\n\nThis is Elastic 5.0.1 which I am trying to run on an Apache Spark Cluster. (Which explains the Scala below.)\n\nHere's what I have:\n\n```\nimport org.elasticsearch.transport.client._\nimport org.elasticsearch.node.Node._\nimport org.elasticsearch.common.settings.Settings\nimport org.apache.logging.log4j._\n\nclass ElasticsearchServer5 {\n  private val clusterName = \"Elastic5test\"  \n  private val settings = Settings.builder()\n    .put(\"path.home\", \"/var/opt/elasticsearch\")\n    .put(\"transport.type\", \"local\")\n    .put(\"http.enabled\",\"false\")\n.build\n\n  val client = new org.elasticsearch.transport.client.PreBuiltTransportClient(settings)\n  private lazy val node = new org.elasticsearch.node.Node(settings)\n\n  def start(): Unit = {\n    node.start()\n  }\n}\n\nval server = new ElasticsearchServer5\nserver.start()\n```\n\nThe server only comes up if I import org.elasticsearch.transport.client._ and include three configuration options:\n1. Specify path.home\n2. Set \"transport.type\" to \"local\"\n3. Set \"http.enabled\" to \"false\"\n\nThese three options were recommended by @ruckc And indeed they help to at least bring up the server. But since I have \"http.enabled\" set to \"false\" I can not interact with Elastic through http.\n\nIt is weird that only with these configuration options Elastic 5.0.1 comes up. I have tested this with Elasticsearch 1.7.2 on an Apache Spark cluster (1.6.2) and it does come up and I can run it and interact with it smoothly. \n\nAdditional information:\n\nElasticsearch version: 5.0.1\nPlugins installed: None.\nJVM version: 1.8.0_66-internal (Oracle Corporation)\nOS version: Linux 3.16.0-44-generic\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/261584135","html_url":"https://github.com/elastic/elasticsearch/issues/19903#issuecomment-261584135","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19903","id":261584135,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTU4NDEzNQ==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2016-11-18T17:01:59Z","updated_at":"2016-11-18T17:01:59Z","author_association":"MEMBER","body":"@oscarcastaneda This is a closed issue, and we reserve github for feature requests and confirmed bug reports. The original issue here did not look like it was using PreBuiltTransportClient (based on the code snippets), hence my comment.  In the future please try asking questions like this at https://discuss.elastic.co.\n\nI would guess your issue has to do with constructing a Node, not the transport client. We do not support embedding elasticsearch in this way. Please see https://www.elastic.co/blog/elasticsearch-the-server. Also, for suggestions on how to run integration tests with 5.x, see http://david.pilato.fr/blog/2016/10/18/elasticsearch-real-integration-tests-updated-for-ga/.\n","performed_via_github_app":null}]