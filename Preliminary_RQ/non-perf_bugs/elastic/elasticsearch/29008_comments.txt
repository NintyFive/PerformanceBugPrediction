[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/372580288","html_url":"https://github.com/elastic/elasticsearch/issues/29008#issuecomment-372580288","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29008","id":372580288,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MjU4MDI4OA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-03-13T08:09:22Z","updated_at":"2018-03-13T08:09:22Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/372602255","html_url":"https://github.com/elastic/elasticsearch/issues/29008#issuecomment-372602255","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29008","id":372602255,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MjYwMjI1NQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2018-03-13T09:33:10Z","updated_at":"2018-03-13T09:40:02Z","author_association":"CONTRIBUTOR","body":"@bleskes won't we keep trying to allocate shards to the emptiest mount point (ie the one with the failure?) and almost never assign to the other (working) mount points?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/372606211","html_url":"https://github.com/elastic/elasticsearch/issues/29008#issuecomment-372606211","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29008","id":372606211,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MjYwNjIxMQ==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2018-03-13T09:46:37Z","updated_at":"2018-03-13T09:46:37Z","author_association":"MEMBER","body":"@clintongormley we will first try another node. If we end up retrying the node we will probably use the same mount point indeed. If it fails immediately, we will only try 5 times and stop. If the failure is more subtle we will probably rinse repeat later. I agree this is not ideal but this is consistent with how we deal with other failures. I think what you mean is a bigger problem - tracking node/path health and avoiding assigning shards to it in general. That one is a way bigger fish.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/372852685","html_url":"https://github.com/elastic/elasticsearch/issues/29008#issuecomment-372852685","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29008","id":372852685,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Mjg1MjY4NQ==","user":{"login":"neuroticnetworks","id":3965137,"node_id":"MDQ6VXNlcjM5NjUxMzc=","avatar_url":"https://avatars0.githubusercontent.com/u/3965137?v=4","gravatar_id":"","url":"https://api.github.com/users/neuroticnetworks","html_url":"https://github.com/neuroticnetworks","followers_url":"https://api.github.com/users/neuroticnetworks/followers","following_url":"https://api.github.com/users/neuroticnetworks/following{/other_user}","gists_url":"https://api.github.com/users/neuroticnetworks/gists{/gist_id}","starred_url":"https://api.github.com/users/neuroticnetworks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neuroticnetworks/subscriptions","organizations_url":"https://api.github.com/users/neuroticnetworks/orgs","repos_url":"https://api.github.com/users/neuroticnetworks/repos","events_url":"https://api.github.com/users/neuroticnetworks/events{/privacy}","received_events_url":"https://api.github.com/users/neuroticnetworks/received_events","type":"User","site_admin":false},"created_at":"2018-03-13T23:24:56Z","updated_at":"2018-03-13T23:26:40Z","author_association":"NONE","body":"Does https://github.com/elastic/elasticsearch/pull/16745 address \r\n> we should check if we can write on the datapath before we allocate\r\nmentioned here https://github.com/elastic/elasticsearch/issues/18279#issuecomment-218994716? \r\n\r\nI don't think that other issue addresses what Simon's talking about there. The PR you linked is just a node launch start up check, is it not? That's not really the same thing as a path reachable check on shard allocation. \r\n\r\nInre\r\n> I think what you mean is a bigger problem - tracking node/path health and avoiding assigning shards to it in general. That one is a way bigger fish.\r\n\r\nBut isn't that exactly what https://github.com/elastic/elasticsearch/issues/18279 is about? I'm actually a little unclear why you closed that ticket. Can you share your thinking a bit more and/or revisit https://github.com/elastic/elasticsearch/issues/18279 and whether it makes sense to leave that ticket open as a high hanging fruit? ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/372853905","html_url":"https://github.com/elastic/elasticsearch/issues/29008#issuecomment-372853905","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29008","id":372853905,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Mjg1MzkwNQ==","user":{"login":"milan15","id":31452855,"node_id":"MDQ6VXNlcjMxNDUyODU1","avatar_url":"https://avatars0.githubusercontent.com/u/31452855?v=4","gravatar_id":"","url":"https://api.github.com/users/milan15","html_url":"https://github.com/milan15","followers_url":"https://api.github.com/users/milan15/followers","following_url":"https://api.github.com/users/milan15/following{/other_user}","gists_url":"https://api.github.com/users/milan15/gists{/gist_id}","starred_url":"https://api.github.com/users/milan15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milan15/subscriptions","organizations_url":"https://api.github.com/users/milan15/orgs","repos_url":"https://api.github.com/users/milan15/repos","events_url":"https://api.github.com/users/milan15/events{/privacy}","received_events_url":"https://api.github.com/users/milan15/received_events","type":"User","site_admin":false},"created_at":"2018-03-13T23:30:36Z","updated_at":"2018-03-13T23:30:48Z","author_association":"CONTRIBUTOR","body":"@bleskes  As a beginner, if no one is working on this i want to try and take this. I hope it would help me with increased understanding and give me commit/review process experience.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/373217874","html_url":"https://github.com/elastic/elasticsearch/issues/29008#issuecomment-373217874","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29008","id":373217874,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzIxNzg3NA==","user":{"login":"milan15","id":31452855,"node_id":"MDQ6VXNlcjMxNDUyODU1","avatar_url":"https://avatars0.githubusercontent.com/u/31452855?v=4","gravatar_id":"","url":"https://api.github.com/users/milan15","html_url":"https://github.com/milan15","followers_url":"https://api.github.com/users/milan15/followers","following_url":"https://api.github.com/users/milan15/following{/other_user}","gists_url":"https://api.github.com/users/milan15/gists{/gist_id}","starred_url":"https://api.github.com/users/milan15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milan15/subscriptions","organizations_url":"https://api.github.com/users/milan15/orgs","repos_url":"https://api.github.com/users/milan15/repos","events_url":"https://api.github.com/users/milan15/events{/privacy}","received_events_url":"https://api.github.com/users/milan15/received_events","type":"User","site_admin":false},"created_at":"2018-03-15T00:17:16Z","updated_at":"2018-03-15T00:17:16Z","author_association":"CONTRIBUTOR","body":"@bleskes in storeStats, added line to fail shard with message and passing IOException reference. let me know if anything is wrong/missing here. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/373344147","html_url":"https://github.com/elastic/elasticsearch/issues/29008#issuecomment-373344147","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29008","id":373344147,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzM0NDE0Nw==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2018-03-15T11:24:32Z","updated_at":"2018-03-15T11:24:32Z","author_association":"MEMBER","body":"@evanv I responded on the other issue.\r\n\r\n@milan15 the direction looks good. Can you open an PR and we can iterate there? I would love to have some testing but I wanted to first do some research to give you guidance. You'd need some kind of a mock directory implementation that throws exceptions. If you open a PR, I can offer help there if needed.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/373497458","html_url":"https://github.com/elastic/elasticsearch/issues/29008#issuecomment-373497458","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29008","id":373497458,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzQ5NzQ1OA==","user":{"login":"milan15","id":31452855,"node_id":"MDQ6VXNlcjMxNDUyODU1","avatar_url":"https://avatars0.githubusercontent.com/u/31452855?v=4","gravatar_id":"","url":"https://api.github.com/users/milan15","html_url":"https://github.com/milan15","followers_url":"https://api.github.com/users/milan15/followers","following_url":"https://api.github.com/users/milan15/following{/other_user}","gists_url":"https://api.github.com/users/milan15/gists{/gist_id}","starred_url":"https://api.github.com/users/milan15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milan15/subscriptions","organizations_url":"https://api.github.com/users/milan15/orgs","repos_url":"https://api.github.com/users/milan15/repos","events_url":"https://api.github.com/users/milan15/events{/privacy}","received_events_url":"https://api.github.com/users/milan15/received_events","type":"User","site_admin":false},"created_at":"2018-03-15T19:35:32Z","updated_at":"2018-03-15T19:35:32Z","author_association":"CONTRIBUTOR","body":"@bleskes i did it here #29078 . thanks for offering your help.","performed_via_github_app":null}]