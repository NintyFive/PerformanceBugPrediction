[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/364866601","html_url":"https://github.com/elastic/elasticsearch/issues/28625#issuecomment-364866601","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28625","id":364866601,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDg2NjYwMQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2018-02-12T09:18:57Z","updated_at":"2018-02-12T09:18:57Z","author_association":"MEMBER","body":"That's right, the client leaves ids untouched. Much better than modifying them and leaving users wondering why they can't retrieve those docs back by id. Users can encode their invalid ids as they wish though.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/364876593","html_url":"https://github.com/elastic/elasticsearch/issues/28625#issuecomment-364876593","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28625","id":364876593,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDg3NjU5Mw==","user":{"login":"chrbau","id":25925431,"node_id":"MDQ6VXNlcjI1OTI1NDMx","avatar_url":"https://avatars0.githubusercontent.com/u/25925431?v=4","gravatar_id":"","url":"https://api.github.com/users/chrbau","html_url":"https://github.com/chrbau","followers_url":"https://api.github.com/users/chrbau/followers","following_url":"https://api.github.com/users/chrbau/following{/other_user}","gists_url":"https://api.github.com/users/chrbau/gists{/gist_id}","starred_url":"https://api.github.com/users/chrbau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrbau/subscriptions","organizations_url":"https://api.github.com/users/chrbau/orgs","repos_url":"https://api.github.com/users/chrbau/repos","events_url":"https://api.github.com/users/chrbau/events{/privacy}","received_events_url":"https://api.github.com/users/chrbau/received_events","type":"User","site_admin":false},"created_at":"2018-02-12T10:02:03Z","updated_at":"2018-02-12T10:02:03Z","author_association":"NONE","body":"Elasticsearch supports characters which need URL-encoding like \"#\" in ids - so to my knowledge those ids are perfectly valid ES-ids - right? Thus I need the work-around to build IndexRequests like this:\r\n\r\nnew IndexRequest(index, type, urlEncode(id))\r\n\r\nand retrieve/delete/update like this:\r\n\r\nnew GetRequest(index, type, urlEncode(id))\r\nnew DeleteRequest(index, type, urlEncode(id))\r\nnew UpdateRequest(index, type, urlEncode(id))\r\n\r\nright? In the database they are then stored as unencoded ids.\r\n\r\nFrom my point of view URL-encoding belongs to the final http-request building and not to RestHighLevelClient-Request building? RestHighLevelClient shouldn't worry about how data is sent and that they might need URL-encoding? They could be consistently encoded in the Request#endPoint method which all request builders use.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/364879989","html_url":"https://github.com/elastic/elasticsearch/issues/28625#issuecomment-364879989","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28625","id":364879989,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDg3OTk4OQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2018-02-12T10:15:53Z","updated_at":"2018-02-12T10:16:01Z","author_association":"MEMBER","body":"@chrbau thanks for the additional info, I think you are right :) my initial response was incorrect, encoding ids doesn't modify their representation in Elasticsearch.","performed_via_github_app":null}]