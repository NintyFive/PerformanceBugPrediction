{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/28432","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28432/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28432/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28432/events","html_url":"https://github.com/elastic/elasticsearch/issues/28432","id":292613609,"node_id":"MDU6SXNzdWUyOTI2MTM2MDk=","number":28432,"title":"[DOCS] Time Units for Date Histogram Interval incomplete","user":{"login":"pickypg","id":1501235,"node_id":"MDQ6VXNlcjE1MDEyMzU=","avatar_url":"https://avatars2.githubusercontent.com/u/1501235?v=4","gravatar_id":"","url":"https://api.github.com/users/pickypg","html_url":"https://github.com/pickypg","followers_url":"https://api.github.com/users/pickypg/followers","following_url":"https://api.github.com/users/pickypg/following{/other_user}","gists_url":"https://api.github.com/users/pickypg/gists{/gist_id}","starred_url":"https://api.github.com/users/pickypg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pickypg/subscriptions","organizations_url":"https://api.github.com/users/pickypg/orgs","repos_url":"https://api.github.com/users/pickypg/repos","events_url":"https://api.github.com/users/pickypg/events{/privacy}","received_events_url":"https://api.github.com/users/pickypg/received_events","type":"User","site_admin":false},"labels":[{"id":141141324,"node_id":"MDU6TGFiZWwxNDExNDEzMjQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Analytics/Aggregations","name":":Analytics/Aggregations","color":"0e8a16","default":false,"description":"Aggregations"},{"id":23715,"node_id":"MDU6TGFiZWwyMzcxNQ==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Edocs","name":">docs","color":"db755e","default":false,"description":"General docs changes"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2018-01-30T00:43:14Z","updated_at":"2018-04-06T14:08:01Z","closed_at":"2018-04-06T14:08:01Z","author_association":"MEMBER","active_lock_reason":null,"body":"https://www.elastic.co/guide/en/elasticsearch/reference/6.1/common-options.html#time-units\r\n\r\n> ### Time Units\r\n> Whenever durations need to be specified, e.g. for a timeout parameter, the duration must specify the unit, like 2d for 2 days. The supported units are:\r\n> \r\n> Key | Represents\r\n> -- | --\r\n> d | days\r\n> h | hours\r\n> m | minutes\r\n> s | seconds\r\n> ms | milliseconds\r\n> micros | microseconds\r\n> nanos | nanoseconds\r\n\r\nThe issue is that this table incomplete and inaccurate. Units below `ms` make no sense because we do not represent dates at a better resolution than milliseconds. Both `1micros` and `1nanos` (thankfully) result in `\"Zero or negative time interval not supported\"`.\r\n\r\nHowever, there are other units that can be used sometimes, but for some reason not other times. Like:\r\n\r\nKey | Represents\r\n-- | --\r\ny | years\r\nyear | years\r\nM | months\r\nmonth | months\r\nw | weeks\r\nweek | weeks\r\nquarter | 3 months\r\n\r\n`1y` works, but `2y` does not. `1M` works, but `2M` does not. If I recall, the reasoning for these surrounds the changing nature of it.\r\n\r\nIn some ways, I can appreciate that something like \"2y\" and `2M` are not consistent intervals (because of leap years and inconsistent month lengths). But weeks are consistent and quarters can only be true if you consider Q1 January - March (etc), which I feel like `3M` could do too.\r\n\r\nRegardless, if we are going to block higher number ranges, then we should look at blocking all number ranges for a given time unit _and_ we need to drop units that simply do not work.","closed_by":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"performed_via_github_app":null}