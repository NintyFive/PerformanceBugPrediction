{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/4053","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4053/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4053/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4053/events","html_url":"https://github.com/elastic/elasticsearch/issues/4053","id":22007087,"node_id":"MDU6SXNzdWUyMjAwNzA4Nw==","number":4053,"title":"URI routing parameter does not work with Bulk API","user":{"login":"HenleyChiu","id":788695,"node_id":"MDQ6VXNlcjc4ODY5NQ==","avatar_url":"https://avatars1.githubusercontent.com/u/788695?v=4","gravatar_id":"","url":"https://api.github.com/users/HenleyChiu","html_url":"https://github.com/HenleyChiu","followers_url":"https://api.github.com/users/HenleyChiu/followers","following_url":"https://api.github.com/users/HenleyChiu/following{/other_user}","gists_url":"https://api.github.com/users/HenleyChiu/gists{/gist_id}","starred_url":"https://api.github.com/users/HenleyChiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HenleyChiu/subscriptions","organizations_url":"https://api.github.com/users/HenleyChiu/orgs","repos_url":"https://api.github.com/users/HenleyChiu/repos","events_url":"https://api.github.com/users/HenleyChiu/events{/privacy}","received_events_url":"https://api.github.com/users/HenleyChiu/received_events","type":"User","site_admin":false},"labels":[{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":56772237,"node_id":"MDU6TGFiZWw1Njc3MjIzNw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v0.90.6","name":"v0.90.6","color":"e0e0e0","default":false,"description":null},{"id":37906111,"node_id":"MDU6TGFiZWwzNzkwNjExMQ==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v1.0.0.Beta1","name":"v1.0.0.Beta1","color":"DDDDDD","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"assignees":[{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2013-11-02T18:50:32Z","updated_at":"2013-11-03T01:20:11Z","closed_at":"2013-11-03T01:16:13Z","author_association":"NONE","active_lock_reason":null,"body":"When I specify the routing in BULK requests, it does not import all documents to the same shard I specify. It does work when I index 1 document at a time, or when I search. Is this a bug in the Bulk API?\n\ncurl -XPOST 'http://192.168.1.115:9200/_bulk?routing=a' -d '\n{ \"index\" : { \"_index\" : \"articles\", \"_type\" : \"article\", \"_id\" : \"1\" } }\n{ \"title\" : \"value1\" }\n{ \"delete\" : { \"_index\" : \"articles\", \"_type\" : \"article\", \"_id\" : \"2\" } }\n{ \"create\" : { \"_index\" : \"articles\", \"_type\" : \"article\", \"_id\" : \"3\" } }\n{ \"title\" : \"value3\" }\n{ \"update\" : {\"_id\" : \"1\", \"_type\" : \"article\", \"_index\" : \"index1\"} }\n{ \"doc\" : {\"field2\" : \"value2\"} }'\n","closed_by":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"performed_via_github_app":null}