{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/14379","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14379/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14379/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14379/events","html_url":"https://github.com/elastic/elasticsearch/issues/14379","id":114247609,"node_id":"MDU6SXNzdWUxMTQyNDc2MDk=","number":14379,"title":"Redis input plugin host as an array","user":{"login":"tdesrochers","id":9257751,"node_id":"MDQ6VXNlcjkyNTc3NTE=","avatar_url":"https://avatars0.githubusercontent.com/u/9257751?v=4","gravatar_id":"","url":"https://api.github.com/users/tdesrochers","html_url":"https://github.com/tdesrochers","followers_url":"https://api.github.com/users/tdesrochers/followers","following_url":"https://api.github.com/users/tdesrochers/following{/other_user}","gists_url":"https://api.github.com/users/tdesrochers/gists{/gist_id}","starred_url":"https://api.github.com/users/tdesrochers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tdesrochers/subscriptions","organizations_url":"https://api.github.com/users/tdesrochers/orgs","repos_url":"https://api.github.com/users/tdesrochers/repos","events_url":"https://api.github.com/users/tdesrochers/events{/privacy}","received_events_url":"https://api.github.com/users/tdesrochers/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-10-30T10:54:34Z","updated_at":"2015-10-30T13:40:13Z","closed_at":"2015-10-30T13:40:13Z","author_association":"NONE","active_lock_reason":null,"body":"Is there a reason the redis output can use an array but the redis input cannot.\n\nI would like to use my domain name (a DNS entry for many IP's with the same domain name) in the redis input so that I can spin up new nodes as needed without changing any of my configurations. If I understand the current setup correctly I need to have an input statement that includes each redis nodes IP address on each of my indexers such as:\n\ninput {\nredis {\nhost => [ \"x.x.x.x\" ]\ndata_type => \"list\"\nkey => \"bro\"\n}\nredis {\nhost => [ \"x.x.x.x\" ]\ndata_type => \"list\"\nkey => \"bro\"\n}\nredis {\nhost => [ \"x.x.x.x\" ]\ndata_type => \"list\"\nkey => \"bro\"\n}\nredis {\nhost => [ \"x.x.x.x\" ]\ndata_type => \"list\"\nkey => \"bro\"\n}\n}\n\nTo help my current setup is I have multiple IDS sensors sending logs to a local redis queue on the sensor, that local queue sends data to a central redis queue with 8 redis nodes (each on their own vm's) I have 4 logstash indexers reading from that queue and sending into a multi node ES cluster. As stated earlier I think having the redis input able to read a hostname as an array or from a domain name that has multiple IP addresses would be helpful in a setup like mine because it would allow me to spin up a new node when needed and just add that nodes IP address to my DNS server and not have to change any config in my ELK stack.\n\nWhat I would like to see is one statement on each of my indexer nodes that says:\n\ninput {\nredis {\nhost => [ \"domain.name\" ]\ndata_type => \"list\"\nkey => \"bro\"\n}\n}\n\nWhen redis failed to connect to one node in the array it would move onto the next, and recycle the list when completed.  This would be greatly beneficial when scaling a cluster because it would require no interaction with the logstash configs on any node and only adding nodes to a DNS entry.\n\nJust a thought, and please if I have this information wrong correct me.\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}