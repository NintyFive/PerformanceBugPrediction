{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/16761","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16761/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16761/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16761/events","html_url":"https://github.com/elastic/elasticsearch/issues/16761","id":135341902,"node_id":"MDU6SXNzdWUxMzUzNDE5MDI=","number":16761,"title":"[CI Failure] IndexWithShadowReplicasIT.testIndexWithFewDocuments fails in ensureGreen after rolling restart","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"labels":[{"id":60445228,"node_id":"MDU6TGFiZWw2MDQ0NTIyOA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest","name":">test","color":"5319e7","default":false,"description":"Issues or PRs that are addressing/adding tests"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"assignees":[{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2016-02-22T07:38:43Z","updated_at":"2017-05-26T18:05:58Z","closed_at":"2017-05-26T18:05:58Z","author_association":"MEMBER","active_lock_reason":null,"body":"See: http://build-us-00.elastic.co/job/es_core_master_window-2008/3150/\n\nThe seed is: \n\n```\ngradle :core:integTest -Dtests.seed=4504E6449CC50308 -Dtests.class=org.elasticsearch.index.IndexWithShadowReplicasIT -Dtests.method=\"testIndexWithFewDocuments\" -Des.logger.level=DEBUG -Dtests.security.manager=true -Dtests.nightly=false -Dtests.heap.size=512m -Dtests.jvm.argline=\"-server -XX:+UseConcMarkSweepGC -XX:+UseCompressedOops\" -Dtests.locale=pt-PT -Dtests.timezone=America/Guayaquil\n```\n\nHowever, it doesn't reproduce (for me). Failure looks like:\n\n```\n  1> [2016-02-22 04:35:56,315][INFO ][org.elasticsearch.index  ] ensureGreen timed out, cluster state:\n  1> version: 15\n  1> state uuid: u2OTUHr5SsCTRt1n-ca8Hg\n  1> from_diff: false\n  1> meta data version: 7\n  1> nodes:\n  1>    {node_t2}{W6pxsvJnSv6IXHjWKb7rkQ}{local}{local[13]}[add_id_to_custom_path=>false, mode=>local]\n  1>    {node_t0}{ZIqZfWvXRfy2KIDS-fpZLQ}{local}{local[11]}[mode=>local, add_id_to_custom_path=>false], master\n  1>    {node_t1}{ahGc-_sERu-Jfi_-lXDCdw}{local}{local[12]}[add_id_to_custom_path=>false, mode=>local]\n  1> routing_table (version 9):\n  1> -- index [[test]]\n  1> ----shard_id [test][0]\n  1> --------[[test]][0], node[null], [P], s[UNASSIGNED], unassigned_info[[reason=NODE_LEFT], at[2016-02-22T04:35:24.666Z], details[node_left[SIl3slIcS7mTGRGrVjXXxA]]]\n  1> --------[[test]][0], node[null], [R], s[UNASSIGNED], unassigned_info[[reason=NODE_LEFT], at[2016-02-22T04:35:23.410Z], details[node_left[ne2HfUu6Q8uW8bVUdJWXlA]]]\n  1> --------[[test]][0], node[null], [R], s[UNASSIGNED], unassigned_info[[reason=NODE_LEFT], at[2016-02-22T04:35:24.058Z], details[node_left[o3SK-9vnQ76pRmWAEAsA3w]]]\n  1> routing_nodes:\n  1> -----node_id[W6pxsvJnSv6IXHjWKb7rkQ][V]\n  1> -----node_id[ahGc-_sERu-Jfi_-lXDCdw][V]\n  1> -----node_id[ZIqZfWvXRfy2KIDS-fpZLQ][V]\n  1> ---- unassigned\n  1> --------[[test]][0], node[null], [P], s[UNASSIGNED], unassigned_info[[reason=NODE_LEFT], at[2016-02-22T04:35:24.666Z], details[node_left[SIl3slIcS7mTGRGrVjXXxA]]]\n  1> --------[[test]][0], node[null], [R], s[UNASSIGNED], unassigned_info[[reason=NODE_LEFT], at[2016-02-22T04:35:23.410Z], details[node_left[ne2HfUu6Q8uW8bVUdJWXlA]]]\n  1> --------[[test]][0], node[null], [R], s[UNASSIGNED], unassigned_info[[reason=NODE_LEFT], at[2016-02-22T04:35:24.058Z], details[node_left[o3SK-9vnQ76pRmWAEAsA3w]]]\n  1> tasks: (0):\n  1>\n```\n","closed_by":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"performed_via_github_app":null}