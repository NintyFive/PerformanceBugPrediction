[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/461788063","html_url":"https://github.com/elastic/elasticsearch/issues/38619#issuecomment-461788063","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38619","id":461788063,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MTc4ODA2Mw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-02-08T12:29:50Z","updated_at":"2019-02-08T12:29:50Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-features","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/461794727","html_url":"https://github.com/elastic/elasticsearch/issues/38619#issuecomment-461794727","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38619","id":461794727,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MTc5NDcyNw==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2019-02-08T12:57:56Z","updated_at":"2019-02-08T12:57:56Z","author_association":"MEMBER","body":"Muted on master, 7.x (779673c79265566ac670ad90b16059f37a752df3) and 7.0 (cfde3de0c6984662b0a964f02a5abb2539a3ded1)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/461809234","html_url":"https://github.com/elastic/elasticsearch/issues/38619#issuecomment-461809234","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38619","id":461809234,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MTgwOTIzNA==","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"created_at":"2019-02-08T13:51:56Z","updated_at":"2019-02-08T13:52:16Z","author_association":"CONTRIBUTOR","body":"interestingly `WatchStatus.lastChecked` or `WatchStatus.lastMetCondition` are using a different formatting then `WatchStatus.state.timestamp` when converting `toXcontent`\r\n\r\nThe `lastChecked` and `lastMetCondition` are formatted using `XContentElasticsearchExtensions` \r\n```\r\n        transformers.put(ZonedDateTime.class, d -> DEFAULT_FORMATTER.format((ZonedDateTime) d));\r\n```\r\nwhere DEFAULT_FORMATTER is `strict_date_optional_time_nanos`\r\n\r\nWhereas `WatchStatus.state.timestamp` is using:\r\n```\r\nWatcherDateTimeUtils.writeDate(Field.TIMESTAMP.getPreferredName(), builder, timestamp)\r\n```\r\nwith `\"strict_date_optional_time||epoch_millis\"`\r\n\r\nThese are different for instance when formatting `2019-02-08T13:37:06.**687670Z**`\r\nWatcherDateTimeUtils.dateTimeFormatter -> 2019-02-08T13:37:06.**687Z**\r\nXContentElasticsearchExtension.DEFAULT_FORMATTER -> 2019-02-08T13:37:06.**68767Z**\r\n\r\n\r\n@cbuescher  @spinscale Do you think this is intentional?\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/461811050","html_url":"https://github.com/elastic/elasticsearch/issues/38619#issuecomment-461811050","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38619","id":461811050,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MTgxMTA1MA==","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2019-02-08T13:58:21Z","updated_at":"2019-02-08T13:58:21Z","author_association":"MEMBER","body":"on top of my head I'd say we keep all on milliseconds, there is no need for any nanosecond granularity in watcher, as the date field is only in millisecond resolution anyway.","performed_via_github_app":null}]