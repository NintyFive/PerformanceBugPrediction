{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/27908","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27908/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27908/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27908/events","html_url":"https://github.com/elastic/elasticsearch/issues/27908","id":283275572,"node_id":"MDU6SXNzdWUyODMyNzU1NzI=","number":27908,"title":"[CI] Java 10: things are not available in profile 'compact3'","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"labels":[{"id":106454670,"node_id":"MDU6TGFiZWwxMDY0NTQ2NzA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Build","name":":Delivery/Build","color":"0e8a16","default":false,"description":"Build or test infrastructure"},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"},{"id":765742036,"node_id":"MDU6TGFiZWw3NjU3NDIwMzY=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v5.6.6","name":"v5.6.6","color":"dddddd","default":false,"description":null},{"id":782894594,"node_id":"MDU6TGFiZWw3ODI4OTQ1OTQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v6.1.2","name":"v6.1.2","color":"dddddd","default":false,"description":null},{"id":758151235,"node_id":"MDU6TGFiZWw3NTgxNTEyMzU=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v6.2.0","name":"v6.2.0","color":"DDDDDD","default":false,"description":null},{"id":1223177445,"node_id":"MDU6TGFiZWwxMjIzMTc3NDQ1","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v7.0.0-beta1","name":"v7.0.0-beta1","color":"dddddd","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"assignees":[{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2017-12-19T15:43:30Z","updated_at":"2020-11-11T21:42:09Z","closed_at":"2017-12-20T21:22:22Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Lots of failures of the `java10-periodic` builds across all branches. For instance:\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+5.6+java10-periodic/10/console\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.1+java10-periodic/9/console\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+java10-periodic/9/console\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+java10-periodic/10/console\r\n\r\nMany of the failures are of the following form:\r\n\r\n```\r\n/var/lib/jenkins/workspace/elastic+elasticsearch+5.6+java10-periodic/core/src/main/java/org/elasticsearch/common/settings/KeyStoreWrapper.java:22: error: SecretKey is not available in profile 'compact3'\r\nimport javax.crypto.SecretKey;\r\n                   ^\r\n/var/lib/jenkins/workspace/elastic+elasticsearch+5.6+java10-periodic/core/src/main/java/org/elasticsearch/common/settings/KeyStoreWrapper.java:23: error: SecretKeyFactory is not available in profile 'compact3'\r\nimport javax.crypto.SecretKeyFactory;\r\n                   ^\r\n/var/lib/jenkins/workspace/elastic+elasticsearch+5.6+java10-periodic/core/src/main/java/org/elasticsearch/common/settings/KeyStoreWrapper.java:24: error: PBEKeySpec is not available in profile 'compact3'\r\nimport javax.crypto.spec.PBEKeySpec;\r\n                        ^\r\n/var/lib/jenkins/workspace/elastic+elasticsearch+5.6+java10-periodic/core/src/main/java/org/elasticsearch/common/settings/KeyStoreWrapper.java:109: error: SecretKeyFactory is not available in profile 'compact3'\r\n    private final SecretKeyFactory stringFactory;\r\n                  ^\r\n/var/lib/jenkins/workspace/elastic+elasticsearch+5.6+java10-periodic/core/src/main/java/org/elasticsearch/common/settings/KeyStoreWrapper.java:112: error: SecretKeyFactory is not available in profile 'compact3'\r\n    private final SecretKeyFactory fileFactory;\r\n                  ^\r\n/var/lib/jenkins/workspace/elastic+elasticsearch+5.6+java10-periodic/core/src/main/java/org/elasticsearch/common/settings/KeyStoreWrapper.java:135: error: SecretKeyFactory is not available in profile 'compact3'\r\n            stringFactory = SecretKeyFactory.getInstance(stringKeyAlgo);\r\n                            ^\r\n/var/lib/jenkins/workspace/elastic+elasticsearch+5.6+java10-periodic/core/src/main/java/org/elasticsearch/common/settings/KeyStoreWrapper.java:136: error: SecretKeyFactory is not available in profile 'compact3'\r\n            fileFactory = SecretKeyFactory.getInstance(fileKeyAlgo);\r\n                          ^\r\n/var/lib/jenkins/workspace/elastic+elasticsearch+5.6+java10-periodic/core/src/main/java/org/elasticsearch/common/settings/KeyStoreWrapper.java:311: error: PBEKeySpec is not available in profile 'compact3'\r\n        PBEKeySpec keySpec = (PBEKeySpec) stringFactory.getKeySpec(secretKeyEntry.getSecretKey(), PBEKeySpec.class);\r\n        ^\r\n/var/lib/jenkins/workspace/elastic+elasticsearch+5.6+java10-periodic/core/src/main/java/org/elasticsearch/common/settings/KeyStoreWrapper.java:311: error: PBEKeySpec is not available in profile 'compact3'\r\n        PBEKeySpec keySpec = (PBEKeySpec) stringFactory.getKeySpec(secretKeyEntry.getSecretKey(), PBEKeySpec.class);\r\n                              ^\r\n/var/lib/jenkins/workspace/elastic+elasticsearch+5.6+java10-periodic/core/src/main/java/org/elasticsearch/common/settings/KeyStoreWrapper.java:311: error: PBEKeySpec is not available in profile 'compact3'\r\n        PBEKeySpec keySpec = (PBEKeySpec) stringFactory.getKeySpec(secretKeyEntry.getSecretKey(), PBEKeySpec.class);\r\n                                                                                                  ^\r\n/var/lib/jenkins/workspace/elastic+elasticsearch+5.6+java10-periodic/core/src/main/java/org/elasticsearch/common/settings/KeyStoreWrapper.java:325: error: PBEKeySpec is not available in profile 'compact3'\r\n        PBEKeySpec keySpec = (PBEKeySpec) fileFactory.getKeySpec(secretKeyEntry.getSecretKey(), PBEKeySpec.class);\r\n        ^\r\n/var/lib/jenkins/workspace/elastic+elasticsearch+5.6+java10-periodic/core/src/main/java/org/elasticsearch/common/settings/KeyStoreWrapper.java:325: error: PBEKeySpec is not available in profile 'compact3'\r\n        PBEKeySpec keySpec = (PBEKeySpec) fileFactory.getKeySpec(secretKeyEntry.getSecretKey(), PBEKeySpec.class);\r\n                              ^\r\n/var/lib/jenkins/workspace/elastic+elasticsearch+5.6+java10-periodic/core/src/main/java/org/elasticsearch/common/settings/KeyStoreWrapper.java:325: error: PBEKeySpec is not available in profile 'compact3'\r\n        PBEKeySpec keySpec = (PBEKeySpec) fileFactory.getKeySpec(secretKeyEntry.getSecretKey(), PBEKeySpec.class);\r\n                                                                                                ^\r\n/var/lib/jenkins/workspace/elastic+elasticsearch+5.6+java10-periodic/core/src/main/java/org/elasticsearch/common/settings/KeyStoreWrapper.java:352: error: SecretKey is not available in profile 'compact3'\r\n        SecretKey secretKey = stringFactory.generateSecret(new PBEKeySpec(value));\r\n        ^\r\n/var/lib/jenkins/workspace/elastic+elasticsearch+5.6+java10-periodic/core/src/main/java/org/elasticsearch/common/settings/KeyStoreWrapper.java:352: error: PBEKeySpec is not available in profile 'compact3'\r\n        SecretKey secretKey = stringFactory.generateSecret(new PBEKeySpec(value));\r\n                                                               ^\r\n/var/lib/jenkins/workspace/elastic+elasticsearch+5.6+java10-periodic/core/src/main/java/org/elasticsearch/common/settings/KeyStoreWrapper.java:364: error: SecretKey is not available in profile 'compact3'\r\n        SecretKey secretKey = stringFactory.generateSecret(new PBEKeySpec(chars));\r\n        ^\r\n/var/lib/jenkins/workspace/elastic+elasticsearch+5.6+java10-periodic/core/src/main/java/org/elasticsearch/common/settings/KeyStoreWrapper.java:364: error: PBEKeySpec is not available in profile 'compact3'\r\n        SecretKey secretKey = stringFactory.generateSecret(new PBEKeySpec(chars));\r\n                                                               ^\r\n```\r\n\r\n@rjernst your name is prominent in the annotation of `KeyStoreWrapper`, could you take a look?","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}