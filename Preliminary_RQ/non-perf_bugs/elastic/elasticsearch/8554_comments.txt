[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/63704004","html_url":"https://github.com/elastic/elasticsearch/issues/8554#issuecomment-63704004","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8554","id":63704004,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzA0MDA0","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2014-11-19T20:04:25Z","updated_at":"2014-11-19T20:04:25Z","author_association":"MEMBER","body":"Hi Costya,\n\nThis is a duplicate of #8390 , which was solved and will be released with 1.3.6. As a sanity check - I assume you are using nested docs and delete by query, correct? If not please reopen.\n\nThanks for reporting it!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/63705112","html_url":"https://github.com/elastic/elasticsearch/issues/8554#issuecomment-63705112","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8554","id":63705112,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzA1MTEy","user":{"login":"Yakx","id":7466889,"node_id":"MDQ6VXNlcjc0NjY4ODk=","avatar_url":"https://avatars0.githubusercontent.com/u/7466889?v=4","gravatar_id":"","url":"https://api.github.com/users/Yakx","html_url":"https://github.com/Yakx","followers_url":"https://api.github.com/users/Yakx/followers","following_url":"https://api.github.com/users/Yakx/following{/other_user}","gists_url":"https://api.github.com/users/Yakx/gists{/gist_id}","starred_url":"https://api.github.com/users/Yakx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Yakx/subscriptions","organizations_url":"https://api.github.com/users/Yakx/orgs","repos_url":"https://api.github.com/users/Yakx/repos","events_url":"https://api.github.com/users/Yakx/events{/privacy}","received_events_url":"https://api.github.com/users/Yakx/received_events","type":"User","site_admin":false},"created_at":"2014-11-19T20:10:58Z","updated_at":"2014-11-19T20:10:58Z","author_association":"NONE","body":"exactly\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/63705141","html_url":"https://github.com/elastic/elasticsearch/issues/8554#issuecomment-63705141","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8554","id":63705141,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzA1MTQx","user":{"login":"ron-totango","id":7913829,"node_id":"MDQ6VXNlcjc5MTM4Mjk=","avatar_url":"https://avatars3.githubusercontent.com/u/7913829?v=4","gravatar_id":"","url":"https://api.github.com/users/ron-totango","html_url":"https://github.com/ron-totango","followers_url":"https://api.github.com/users/ron-totango/followers","following_url":"https://api.github.com/users/ron-totango/following{/other_user}","gists_url":"https://api.github.com/users/ron-totango/gists{/gist_id}","starred_url":"https://api.github.com/users/ron-totango/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ron-totango/subscriptions","organizations_url":"https://api.github.com/users/ron-totango/orgs","repos_url":"https://api.github.com/users/ron-totango/repos","events_url":"https://api.github.com/users/ron-totango/events{/privacy}","received_events_url":"https://api.github.com/users/ron-totango/received_events","type":"User","site_admin":false},"created_at":"2014-11-19T20:11:12Z","updated_at":"2014-11-19T20:11:12Z","author_association":"NONE","body":"So what's the workaround?\nThe cluster is red now, we can't wait for 1.3.6\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/63707027","html_url":"https://github.com/elastic/elasticsearch/issues/8554#issuecomment-63707027","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8554","id":63707027,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzA3MDI3","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2014-11-19T20:23:51Z","updated_at":"2014-11-19T20:24:00Z","author_association":"MEMBER","body":"you can delete the translog files on the shards that are stuck. That will cause the shard to successfully recover as they won't need to run the delete by query again. Note that you may have slight data loss, if unlucky. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/63707221","html_url":"https://github.com/elastic/elasticsearch/issues/8554#issuecomment-63707221","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8554","id":63707221,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzA3MjIx","user":{"login":"ron-totango","id":7913829,"node_id":"MDQ6VXNlcjc5MTM4Mjk=","avatar_url":"https://avatars3.githubusercontent.com/u/7913829?v=4","gravatar_id":"","url":"https://api.github.com/users/ron-totango","html_url":"https://github.com/ron-totango","followers_url":"https://api.github.com/users/ron-totango/followers","following_url":"https://api.github.com/users/ron-totango/following{/other_user}","gists_url":"https://api.github.com/users/ron-totango/gists{/gist_id}","starred_url":"https://api.github.com/users/ron-totango/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ron-totango/subscriptions","organizations_url":"https://api.github.com/users/ron-totango/orgs","repos_url":"https://api.github.com/users/ron-totango/repos","events_url":"https://api.github.com/users/ron-totango/events{/privacy}","received_events_url":"https://api.github.com/users/ron-totango/received_events","type":"User","site_admin":false},"created_at":"2014-11-19T20:25:08Z","updated_at":"2014-11-19T20:25:08Z","author_association":"NONE","body":"how to you delete the translog files?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/63708844","html_url":"https://github.com/elastic/elasticsearch/issues/8554#issuecomment-63708844","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8554","id":63708844,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzA4ODQ0","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2014-11-19T20:35:53Z","updated_at":"2014-11-19T20:35:53Z","author_association":"MEMBER","body":"you have to do it manually by deleting all of the files in folder like {clustername}/nodes/{id}/indices/{index_name}/{shard}/translog/  under your data folders.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/63710588","html_url":"https://github.com/elastic/elasticsearch/issues/8554#issuecomment-63710588","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8554","id":63710588,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzEwNTg4","user":{"login":"ron-totango","id":7913829,"node_id":"MDQ6VXNlcjc5MTM4Mjk=","avatar_url":"https://avatars3.githubusercontent.com/u/7913829?v=4","gravatar_id":"","url":"https://api.github.com/users/ron-totango","html_url":"https://github.com/ron-totango","followers_url":"https://api.github.com/users/ron-totango/followers","following_url":"https://api.github.com/users/ron-totango/following{/other_user}","gists_url":"https://api.github.com/users/ron-totango/gists{/gist_id}","starred_url":"https://api.github.com/users/ron-totango/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ron-totango/subscriptions","organizations_url":"https://api.github.com/users/ron-totango/orgs","repos_url":"https://api.github.com/users/ron-totango/repos","events_url":"https://api.github.com/users/ron-totango/events{/privacy}","received_events_url":"https://api.github.com/users/ron-totango/received_events","type":"User","site_admin":false},"created_at":"2014-11-19T20:47:51Z","updated_at":"2014-11-19T20:47:51Z","author_association":"NONE","body":"Thanks for the help\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/63711469","html_url":"https://github.com/elastic/elasticsearch/issues/8554#issuecomment-63711469","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8554","id":63711469,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzExNDY5","user":{"login":"cregev","id":7669819,"node_id":"MDQ6VXNlcjc2Njk4MTk=","avatar_url":"https://avatars1.githubusercontent.com/u/7669819?v=4","gravatar_id":"","url":"https://api.github.com/users/cregev","html_url":"https://github.com/cregev","followers_url":"https://api.github.com/users/cregev/followers","following_url":"https://api.github.com/users/cregev/following{/other_user}","gists_url":"https://api.github.com/users/cregev/gists{/gist_id}","starred_url":"https://api.github.com/users/cregev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cregev/subscriptions","organizations_url":"https://api.github.com/users/cregev/orgs","repos_url":"https://api.github.com/users/cregev/repos","events_url":"https://api.github.com/users/cregev/events{/privacy}","received_events_url":"https://api.github.com/users/cregev/received_events","type":"User","site_admin":false},"created_at":"2014-11-19T20:53:48Z","updated_at":"2014-11-19T20:53:48Z","author_association":"NONE","body":"Thank you for the help.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/70505591","html_url":"https://github.com/elastic/elasticsearch/issues/8554#issuecomment-70505591","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8554","id":70505591,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTA1NTkx","user":{"login":"dimzak","id":4560173,"node_id":"MDQ6VXNlcjQ1NjAxNzM=","avatar_url":"https://avatars3.githubusercontent.com/u/4560173?v=4","gravatar_id":"","url":"https://api.github.com/users/dimzak","html_url":"https://github.com/dimzak","followers_url":"https://api.github.com/users/dimzak/followers","following_url":"https://api.github.com/users/dimzak/following{/other_user}","gists_url":"https://api.github.com/users/dimzak/gists{/gist_id}","starred_url":"https://api.github.com/users/dimzak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimzak/subscriptions","organizations_url":"https://api.github.com/users/dimzak/orgs","repos_url":"https://api.github.com/users/dimzak/repos","events_url":"https://api.github.com/users/dimzak/events{/privacy}","received_events_url":"https://api.github.com/users/dimzak/received_events","type":"User","site_admin":false},"created_at":"2015-01-19T14:55:30Z","updated_at":"2015-01-19T14:55:30Z","author_association":"NONE","body":"Sorry for the late post.\nWe have the same problem after performing a ''Delete by query'' (https://github.com/elasticsearch/elasticsearch/pull/8390).  Deletion of translogs made cluster green again but we still need to delete those documents. \nIs there a workaround for that?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/70630170","html_url":"https://github.com/elastic/elasticsearch/issues/8554#issuecomment-70630170","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8554","id":70630170,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjMwMTcw","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-01-20T10:00:39Z","updated_at":"2015-01-20T10:00:39Z","author_association":"CONTRIBUTOR","body":"@dimzak once you've upgraded, you should be able to go ahead and use delete-by-query again\n","performed_via_github_app":null}]