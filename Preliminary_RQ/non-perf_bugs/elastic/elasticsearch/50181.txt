{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/50181","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50181/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50181/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50181/events","html_url":"https://github.com/elastic/elasticsearch/issues/50181","id":537576703,"node_id":"MDU6SXNzdWU1Mzc1NzY3MDM=","number":50181,"title":"cat snapshots API requires repository name","user":{"login":"peterpramb","id":11035668,"node_id":"MDQ6VXNlcjExMDM1NjY4","avatar_url":"https://avatars0.githubusercontent.com/u/11035668?v=4","gravatar_id":"","url":"https://api.github.com/users/peterpramb","html_url":"https://github.com/peterpramb","followers_url":"https://api.github.com/users/peterpramb/followers","following_url":"https://api.github.com/users/peterpramb/following{/other_user}","gists_url":"https://api.github.com/users/peterpramb/gists{/gist_id}","starred_url":"https://api.github.com/users/peterpramb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/peterpramb/subscriptions","organizations_url":"https://api.github.com/users/peterpramb/orgs","repos_url":"https://api.github.com/users/peterpramb/repos","events_url":"https://api.github.com/users/peterpramb/events{/privacy}","received_events_url":"https://api.github.com/users/peterpramb/received_events","type":"User","site_admin":false},"labels":[{"id":143077482,"node_id":"MDU6TGFiZWwxNDMwNzc0ODI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Snapshot/Restore","name":":Distributed/Snapshot/Restore","color":"0e8a16","default":false,"description":"Anything directly related to the `_snapshot/*` APIs"},{"id":23715,"node_id":"MDU6TGFiZWwyMzcxNQ==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Edocs","name":">docs","color":"db755e","default":false,"description":"General docs changes"}],"state":"closed","locked":false,"assignee":{"login":"jrodewig","id":40268737,"node_id":"MDQ6VXNlcjQwMjY4NzM3","avatar_url":"https://avatars1.githubusercontent.com/u/40268737?v=4","gravatar_id":"","url":"https://api.github.com/users/jrodewig","html_url":"https://github.com/jrodewig","followers_url":"https://api.github.com/users/jrodewig/followers","following_url":"https://api.github.com/users/jrodewig/following{/other_user}","gists_url":"https://api.github.com/users/jrodewig/gists{/gist_id}","starred_url":"https://api.github.com/users/jrodewig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrodewig/subscriptions","organizations_url":"https://api.github.com/users/jrodewig/orgs","repos_url":"https://api.github.com/users/jrodewig/repos","events_url":"https://api.github.com/users/jrodewig/events{/privacy}","received_events_url":"https://api.github.com/users/jrodewig/received_events","type":"User","site_admin":false},"assignees":[{"login":"jrodewig","id":40268737,"node_id":"MDQ6VXNlcjQwMjY4NzM3","avatar_url":"https://avatars1.githubusercontent.com/u/40268737?v=4","gravatar_id":"","url":"https://api.github.com/users/jrodewig","html_url":"https://github.com/jrodewig","followers_url":"https://api.github.com/users/jrodewig/followers","following_url":"https://api.github.com/users/jrodewig/following{/other_user}","gists_url":"https://api.github.com/users/jrodewig/gists{/gist_id}","starred_url":"https://api.github.com/users/jrodewig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrodewig/subscriptions","organizations_url":"https://api.github.com/users/jrodewig/orgs","repos_url":"https://api.github.com/users/jrodewig/repos","events_url":"https://api.github.com/users/jrodewig/events{/privacy}","received_events_url":"https://api.github.com/users/jrodewig/received_events","type":"User","site_admin":false}],"milestone":null,"comments":4,"created_at":"2019-12-13T14:23:12Z","updated_at":"2019-12-17T14:27:15Z","closed_at":"2019-12-17T14:27:14Z","author_association":"NONE","active_lock_reason":null,"body":"**Elasticsearch version** (`bin/elasticsearch --version`):\r\n`Version: 7.5.0, Build: default/tar/e9ccaed468e2fac2275a3761849cbee64b39519f/2019-11-26T01:06:52.518245Z, JVM: 11.0.5`\r\n\r\n**Plugins installed**:\r\n`repository-s3`\r\n\r\n**JVM version** (`java -version`):\r\n`OpenJDK 64-Bit Server VM AdoptOpenJDK (build 11.0.5+10, mixed mode)`\r\n\r\n**OS version** (`uname -a` if on a Unix-like system):\r\n`Linux appaidf1 3.10.0-957.21.3.el7.x86_64 #1 SMP Fri Jun 14 02:54:29 EDT 2019 x86_64 x86_64 x86_64 GNU/Linux`\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\nAccording to the [documentation](https://www.elastic.co/guide/en/elasticsearch/reference/current/cat-snapshots.html) the `cat snapshots API` should return the content of all repositories, if no specific repository or `_all` is given. Unfortunately neither one works and just produce errors.\r\n\r\nNot sure if this is a bug or a documentation issue.\r\n\r\n**Steps to reproduce**:\r\n```\r\nGET /_cat/repositories\r\nplgrels7-at-fat s3\r\n```\r\n```\r\nGET /_cat/snapshots\r\n{\r\n    \"error\": {\r\n        \"reason\": \"Validation Failed: 1: repository is missing;\",\r\n        \"root_cause\": [\r\n            {\r\n                \"reason\": \"Validation Failed: 1: repository is missing;\",\r\n                \"type\": \"action_request_validation_exception\"\r\n            }\r\n        ],\r\n        \"type\": \"action_request_validation_exception\"\r\n    },\r\n    \"status\": 400\r\n}\r\n```\r\n```\r\nGET /_cat/snapshots/_all\r\n{\r\n    \"error\": {\r\n        \"reason\": \"[_all] missing\",\r\n        \"root_cause\": [\r\n            {\r\n                \"reason\": \"[_all] missing\",\r\n                \"type\": \"repository_missing_exception\"\r\n            }\r\n        ],\r\n        \"type\": \"repository_missing_exception\"\r\n    },\r\n    \"status\": 404\r\n}\r\n```\r\n```\r\nGET /_cat/snapshots/plgrels7-at-fat\r\nweekly-2019.11.28-1mpcnufqsgq1fnp2lrp3da SUCCESS 1574977884 21:51:24 1574978190 21:56:30  5.1m 40 40 0 40\r\nweekly-2019.11.29-vohughnnrqmde5dmr69ggw SUCCESS 1575057600 20:00:00 1575057629 20:00:29 29.4s 41 41 0 41\r\nweekly-2019.12.06-ozp2fuuss46awjkjzkfiyg SUCCESS 1575662400 20:00:00 1575662446 20:00:46 46.4s 47 47 0 47\r\n```","closed_by":{"login":"jrodewig","id":40268737,"node_id":"MDQ6VXNlcjQwMjY4NzM3","avatar_url":"https://avatars1.githubusercontent.com/u/40268737?v=4","gravatar_id":"","url":"https://api.github.com/users/jrodewig","html_url":"https://github.com/jrodewig","followers_url":"https://api.github.com/users/jrodewig/followers","following_url":"https://api.github.com/users/jrodewig/following{/other_user}","gists_url":"https://api.github.com/users/jrodewig/gists{/gist_id}","starred_url":"https://api.github.com/users/jrodewig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrodewig/subscriptions","organizations_url":"https://api.github.com/users/jrodewig/orgs","repos_url":"https://api.github.com/users/jrodewig/repos","events_url":"https://api.github.com/users/jrodewig/events{/privacy}","received_events_url":"https://api.github.com/users/jrodewig/received_events","type":"User","site_admin":false},"performed_via_github_app":null}