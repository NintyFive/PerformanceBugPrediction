{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/10417","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10417/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10417/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10417/events","html_url":"https://github.com/elastic/elasticsearch/issues/10417","id":66180091,"node_id":"MDU6SXNzdWU2NjE4MDA5MQ==","number":10417,"title":"[es 1.4.4] Scroll query returns 0 results before fully done ","user":{"login":"hjz","id":480549,"node_id":"MDQ6VXNlcjQ4MDU0OQ==","avatar_url":"https://avatars1.githubusercontent.com/u/480549?v=4","gravatar_id":"","url":"https://api.github.com/users/hjz","html_url":"https://github.com/hjz","followers_url":"https://api.github.com/users/hjz/followers","following_url":"https://api.github.com/users/hjz/following{/other_user}","gists_url":"https://api.github.com/users/hjz/gists{/gist_id}","starred_url":"https://api.github.com/users/hjz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hjz/subscriptions","organizations_url":"https://api.github.com/users/hjz/orgs","repos_url":"https://api.github.com/users/hjz/repos","events_url":"https://api.github.com/users/hjz/events{/privacy}","received_events_url":"https://api.github.com/users/hjz/received_events","type":"User","site_admin":false},"labels":[{"id":111624690,"node_id":"MDU6TGFiZWwxMTE2MjQ2OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/feedback_needed","name":"feedback_needed","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":16,"created_at":"2015-04-03T16:28:30Z","updated_at":"2016-01-18T10:36:16Z","closed_at":"2016-01-15T19:17:08Z","author_association":"NONE","active_lock_reason":null,"body":"We're on ES 1.4.4, running a 16 node cluster +  3 dedicated client nodes (c4.xlarge) which runs all our queries.\n\nWe're seeing intermittent failures on scroll queries on larger data sets of ~1 million documents. This has happened while we were on 1.3.2 as well.\n\nToday, it failed after fetching 5000 documents (5 requests, each fetch is 1000 documents), then started returning 0. Retrying the scroll query again worked until completion. Each fetch took 1-2 seconds before failure and then started returning almost immediately with 0 results.\n\nThis index in particular has 5 shards and 26gb of data total.\n\nScroll size per shard: 200\nScroll time: 4 minutes\n\nLet me know if there's other information I can provide to help diagnose\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}