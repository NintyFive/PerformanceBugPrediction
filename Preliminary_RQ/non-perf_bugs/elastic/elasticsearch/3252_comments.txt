[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/20332611","html_url":"https://github.com/elastic/elasticsearch/issues/3252#issuecomment-20332611","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3252","id":20332611,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMzMyNjEx","user":{"login":"lmenezes","id":750074,"node_id":"MDQ6VXNlcjc1MDA3NA==","avatar_url":"https://avatars1.githubusercontent.com/u/750074?v=4","gravatar_id":"","url":"https://api.github.com/users/lmenezes","html_url":"https://github.com/lmenezes","followers_url":"https://api.github.com/users/lmenezes/followers","following_url":"https://api.github.com/users/lmenezes/following{/other_user}","gists_url":"https://api.github.com/users/lmenezes/gists{/gist_id}","starred_url":"https://api.github.com/users/lmenezes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lmenezes/subscriptions","organizations_url":"https://api.github.com/users/lmenezes/orgs","repos_url":"https://api.github.com/users/lmenezes/repos","events_url":"https://api.github.com/users/lmenezes/events{/privacy}","received_events_url":"https://api.github.com/users/lmenezes/received_events","type":"User","site_admin":false},"created_at":"2013-07-02T08:18:22Z","updated_at":"2013-07-02T08:18:22Z","author_association":"CONTRIBUTOR","body":"any comments on that? I could try going around and store the fields(even though its not the best scenario...), but would be nice also having that without the need to reindex...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/20335733","html_url":"https://github.com/elastic/elasticsearch/issues/3252#issuecomment-20335733","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3252","id":20335733,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMzM1NzMz","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2013-07-02T09:33:11Z","updated_at":"2013-07-02T09:33:11Z","author_association":"CONTRIBUTOR","body":"@lmenezes @jpountz says that he will have a look at it\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/20336119","html_url":"https://github.com/elastic/elasticsearch/issues/3252#issuecomment-20336119","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3252","id":20336119,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMzM2MTE5","user":{"login":"lmenezes","id":750074,"node_id":"MDQ6VXNlcjc1MDA3NA==","avatar_url":"https://avatars1.githubusercontent.com/u/750074?v=4","gravatar_id":"","url":"https://api.github.com/users/lmenezes","html_url":"https://github.com/lmenezes","followers_url":"https://api.github.com/users/lmenezes/followers","following_url":"https://api.github.com/users/lmenezes/following{/other_user}","gists_url":"https://api.github.com/users/lmenezes/gists{/gist_id}","starred_url":"https://api.github.com/users/lmenezes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lmenezes/subscriptions","organizations_url":"https://api.github.com/users/lmenezes/orgs","repos_url":"https://api.github.com/users/lmenezes/repos","events_url":"https://api.github.com/users/lmenezes/events{/privacy}","received_events_url":"https://api.github.com/users/lmenezes/received_events","type":"User","site_admin":false},"created_at":"2013-07-02T09:41:36Z","updated_at":"2013-07-02T09:41:36Z","author_association":"CONTRIBUTOR","body":"@clintongormley cool :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/20405814","html_url":"https://github.com/elastic/elasticsearch/issues/3252#issuecomment-20405814","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3252","id":20405814,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNDA1ODE0","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2013-07-03T09:57:21Z","updated_at":"2013-07-03T09:57:21Z","author_association":"CONTRIBUTOR","body":"@lmenezes You are right about why you got this error but unfortunately setting the value of the field instance even when the field is not stored won't work. The reason is that Lucene's MoreLikeThis can only work on top on character token streams and numeric fields are encoded as binary token streams.\n\nThis issue is very similar to #3211, where we decided to ignore numeric fields when performing highlighting in order to match Elasticsearch 0.20 behavior. Maybe we should do the same here? @clintongormley what do you think?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/20406049","html_url":"https://github.com/elastic/elasticsearch/issues/3252#issuecomment-20406049","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3252","id":20406049,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNDA2MDQ5","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2013-07-03T10:02:22Z","updated_at":"2013-07-03T10:02:22Z","author_association":"CONTRIBUTOR","body":"My feeling is that the `more_like_this` functionality is about finding string terms in common, rather than numeric similarity, so I would agree with you on ignoring non-string fields.  Numeric similarity implies a different type of comparison, which would be usually be better handled by a specific clause outside the `mlt` query.\n\nIf you want to treat numbers as \"full text\" then you can always use a `multi_field` to index them both as numbers and as strings.\n\nSo ++ for ignoring non-strings, I'd say.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/20406916","html_url":"https://github.com/elastic/elasticsearch/issues/3252#issuecomment-20406916","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3252","id":20406916,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNDA2OTE2","user":{"login":"lmenezes","id":750074,"node_id":"MDQ6VXNlcjc1MDA3NA==","avatar_url":"https://avatars1.githubusercontent.com/u/750074?v=4","gravatar_id":"","url":"https://api.github.com/users/lmenezes","html_url":"https://github.com/lmenezes","followers_url":"https://api.github.com/users/lmenezes/followers","following_url":"https://api.github.com/users/lmenezes/following{/other_user}","gists_url":"https://api.github.com/users/lmenezes/gists{/gist_id}","starred_url":"https://api.github.com/users/lmenezes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lmenezes/subscriptions","organizations_url":"https://api.github.com/users/lmenezes/orgs","repos_url":"https://api.github.com/users/lmenezes/repos","events_url":"https://api.github.com/users/lmenezes/events{/privacy}","received_events_url":"https://api.github.com/users/lmenezes/received_events","type":"User","site_admin":false},"created_at":"2013-07-03T10:23:15Z","updated_at":"2013-07-03T10:23:15Z","author_association":"CONTRIBUTOR","body":"@jpountz @clintongormley I don't really agree, since if the numbers are ids for some kind of relation, they represent similarity as well or even better than matching tokens. But, if it's a lucene limitation, ignoring is definitely better than failing. Still, would be nice having that working on numeric fields(I guess that affects everything that internally is stored as a number, like ips?).\nBut yeah, ignoring is ok.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/20415565","html_url":"https://github.com/elastic/elasticsearch/issues/3252#issuecomment-20415565","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3252","id":20415565,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNDE1NTY1","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2013-07-03T13:37:42Z","updated_at":"2013-07-03T13:37:42Z","author_association":"CONTRIBUTOR","body":"@lmenezes This is correct, the limitation is in Lucene and this affects everything which is stored as a number, so byte, short, integer, long, float and double but also ips and dates. There might be options to support numbers in the future but right now I think the best fix to apply is to ignore numeric data from the mlt fields.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/20416070","html_url":"https://github.com/elastic/elasticsearch/issues/3252#issuecomment-20416070","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3252","id":20416070,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNDE2MDcw","user":{"login":"lmenezes","id":750074,"node_id":"MDQ6VXNlcjc1MDA3NA==","avatar_url":"https://avatars1.githubusercontent.com/u/750074?v=4","gravatar_id":"","url":"https://api.github.com/users/lmenezes","html_url":"https://github.com/lmenezes","followers_url":"https://api.github.com/users/lmenezes/followers","following_url":"https://api.github.com/users/lmenezes/following{/other_user}","gists_url":"https://api.github.com/users/lmenezes/gists{/gist_id}","starred_url":"https://api.github.com/users/lmenezes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lmenezes/subscriptions","organizations_url":"https://api.github.com/users/lmenezes/orgs","repos_url":"https://api.github.com/users/lmenezes/repos","events_url":"https://api.github.com/users/lmenezes/events{/privacy}","received_events_url":"https://api.github.com/users/lmenezes/received_events","type":"User","site_admin":false},"created_at":"2013-07-03T13:46:17Z","updated_at":"2013-07-03T13:46:17Z","author_association":"CONTRIBUTOR","body":"@jpountz cool, waiting for the fix then :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/20989599","html_url":"https://github.com/elastic/elasticsearch/issues/3252#issuecomment-20989599","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3252","id":20989599,"node_id":"MDEyOklzc3VlQ29tbWVudDIwOTg5NTk5","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2013-07-15T18:04:39Z","updated_at":"2013-07-15T18:04:39Z","author_association":"CONTRIBUTOR","body":"The mlt API uses the mlt query, so I updated to pull request:\n- the mlt API doesn't fail even if one of the fields of the document is numeric,\n- mlt and flt queries fail if any of the fields is numeric,\n- the new fail_on_unsupported_field parameter (defaults to true) allows for ignoring numeric fields instead of raising an error when set to false.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/21026870","html_url":"https://github.com/elastic/elasticsearch/issues/3252#issuecomment-21026870","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3252","id":21026870,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMDI2ODcw","user":{"login":"lmenezes","id":750074,"node_id":"MDQ6VXNlcjc1MDA3NA==","avatar_url":"https://avatars1.githubusercontent.com/u/750074?v=4","gravatar_id":"","url":"https://api.github.com/users/lmenezes","html_url":"https://github.com/lmenezes","followers_url":"https://api.github.com/users/lmenezes/followers","following_url":"https://api.github.com/users/lmenezes/following{/other_user}","gists_url":"https://api.github.com/users/lmenezes/gists{/gist_id}","starred_url":"https://api.github.com/users/lmenezes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lmenezes/subscriptions","organizations_url":"https://api.github.com/users/lmenezes/orgs","repos_url":"https://api.github.com/users/lmenezes/repos","events_url":"https://api.github.com/users/lmenezes/events{/privacy}","received_events_url":"https://api.github.com/users/lmenezes/received_events","type":"User","site_admin":false},"created_at":"2013-07-16T08:01:14Z","updated_at":"2013-07-16T08:01:14Z","author_association":"CONTRIBUTOR","body":"sounds good :+1: \n","performed_via_github_app":null}]