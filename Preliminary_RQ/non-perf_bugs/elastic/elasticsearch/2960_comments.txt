[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/17259680","html_url":"https://github.com/elastic/elasticsearch/issues/2960#issuecomment-17259680","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2960","id":17259680,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MjU5Njgw","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2013-04-30T22:59:32Z","updated_at":"2013-04-30T22:59:32Z","author_association":"MEMBER","body":"Because the percolator API is processing one document at a time, it doesnâ€™t support queries and filters that run against child and nested documents such as has_child, has_parent, top_children, and nested.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/36616807","html_url":"https://github.com/elastic/elasticsearch/issues/2960#issuecomment-36616807","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2960","id":36616807,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjE2ODA3","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2014-03-04T11:52:27Z","updated_at":"2014-03-04T11:52:27Z","author_association":"MEMBER","body":"Nested documents support was added to the percolator in #5082.\n\nParent/child is still not supported but we might be able to support it in the future, reopening this issue in the meantime.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/36617180","html_url":"https://github.com/elastic/elasticsearch/issues/2960#issuecomment-36617180","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2960","id":36617180,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjE3MTgw","user":{"login":"rore","id":571498,"node_id":"MDQ6VXNlcjU3MTQ5OA==","avatar_url":"https://avatars2.githubusercontent.com/u/571498?v=4","gravatar_id":"","url":"https://api.github.com/users/rore","html_url":"https://github.com/rore","followers_url":"https://api.github.com/users/rore/followers","following_url":"https://api.github.com/users/rore/following{/other_user}","gists_url":"https://api.github.com/users/rore/gists{/gist_id}","starred_url":"https://api.github.com/users/rore/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rore/subscriptions","organizations_url":"https://api.github.com/users/rore/orgs","repos_url":"https://api.github.com/users/rore/repos","events_url":"https://api.github.com/users/rore/events{/privacy}","received_events_url":"https://api.github.com/users/rore/received_events","type":"User","site_admin":false},"created_at":"2014-03-04T11:57:36Z","updated_at":"2014-03-04T11:57:36Z","author_association":"NONE","body":"+1, we have a strong need for this.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41553147","html_url":"https://github.com/elastic/elasticsearch/issues/2960#issuecomment-41553147","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2960","id":41553147,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNTUzMTQ3","user":{"login":"razafinr","id":1867585,"node_id":"MDQ6VXNlcjE4Njc1ODU=","avatar_url":"https://avatars2.githubusercontent.com/u/1867585?v=4","gravatar_id":"","url":"https://api.github.com/users/razafinr","html_url":"https://github.com/razafinr","followers_url":"https://api.github.com/users/razafinr/followers","following_url":"https://api.github.com/users/razafinr/following{/other_user}","gists_url":"https://api.github.com/users/razafinr/gists{/gist_id}","starred_url":"https://api.github.com/users/razafinr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/razafinr/subscriptions","organizations_url":"https://api.github.com/users/razafinr/orgs","repos_url":"https://api.github.com/users/razafinr/repos","events_url":"https://api.github.com/users/razafinr/events{/privacy}","received_events_url":"https://api.github.com/users/razafinr/received_events","type":"User","site_admin":false},"created_at":"2014-04-28T12:40:15Z","updated_at":"2014-04-28T12:40:15Z","author_association":"NONE","body":"Any information about Parent/Child document support in future version ? Having an application based on this kind of relations and I am stuck while using percolator\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/55496933","html_url":"https://github.com/elastic/elasticsearch/issues/2960#issuecomment-55496933","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2960","id":55496933,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDk2OTMz","user":{"login":"mgreene","id":269244,"node_id":"MDQ6VXNlcjI2OTI0NA==","avatar_url":"https://avatars0.githubusercontent.com/u/269244?v=4","gravatar_id":"","url":"https://api.github.com/users/mgreene","html_url":"https://github.com/mgreene","followers_url":"https://api.github.com/users/mgreene/followers","following_url":"https://api.github.com/users/mgreene/following{/other_user}","gists_url":"https://api.github.com/users/mgreene/gists{/gist_id}","starred_url":"https://api.github.com/users/mgreene/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgreene/subscriptions","organizations_url":"https://api.github.com/users/mgreene/orgs","repos_url":"https://api.github.com/users/mgreene/repos","events_url":"https://api.github.com/users/mgreene/events{/privacy}","received_events_url":"https://api.github.com/users/mgreene/received_events","type":"User","site_admin":false},"created_at":"2014-09-13T15:18:30Z","updated_at":"2014-09-13T15:18:30Z","author_association":"CONTRIBUTOR","body":"We would have a need for this also. Currently we've had to refactor our child documents into nested fields inside the parent doc. The trade off here is that our parent docs are being reindexed faster than they other would. Doesn't dramatically impact our deployment but would prefer to leverage child documents for their strengths in conjunction with percolators. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/64954656","html_url":"https://github.com/elastic/elasticsearch/issues/2960#issuecomment-64954656","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2960","id":64954656,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTU0NjU2","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-11-29T15:09:31Z","updated_at":"2014-11-29T15:09:31Z","author_association":"CONTRIBUTOR","body":"@martijnvg do you think it is feasible that we could support parent/child in the percolator in the future? Or is it just a no go?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/64957993","html_url":"https://github.com/elastic/elasticsearch/issues/2960#issuecomment-64957993","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2960","id":64957993,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTU3OTkz","user":{"login":"mgreene","id":269244,"node_id":"MDQ6VXNlcjI2OTI0NA==","avatar_url":"https://avatars0.githubusercontent.com/u/269244?v=4","gravatar_id":"","url":"https://api.github.com/users/mgreene","html_url":"https://github.com/mgreene","followers_url":"https://api.github.com/users/mgreene/followers","following_url":"https://api.github.com/users/mgreene/following{/other_user}","gists_url":"https://api.github.com/users/mgreene/gists{/gist_id}","starred_url":"https://api.github.com/users/mgreene/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgreene/subscriptions","organizations_url":"https://api.github.com/users/mgreene/orgs","repos_url":"https://api.github.com/users/mgreene/repos","events_url":"https://api.github.com/users/mgreene/events{/privacy}","received_events_url":"https://api.github.com/users/mgreene/received_events","type":"User","site_admin":false},"created_at":"2014-11-29T17:00:39Z","updated_at":"2014-11-29T17:00:39Z","author_association":"CONTRIBUTOR","body":"Actually after thinking about this for a while, support for parent/child in the percolator doesn't make a ton of sense, at least for our use case.\n\nOne of the main reasons to use child documents in the first place is that you anticipate a lot of writes and don't want to trigger a parent doc reindex every time. \n\nWe have decently high cardinality (high hundreds in some cases) with our child documents so paging every single one of those into memory to throw against the percolator would prove to be prohibitive as the data set continues to grow. I suspect this was one of the reasons why it was not supported in the first place.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/65040689","html_url":"https://github.com/elastic/elasticsearch/issues/2960#issuecomment-65040689","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2960","id":65040689,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDQwNjg5","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-12-01T09:45:10Z","updated_at":"2014-12-01T09:45:10Z","author_association":"CONTRIBUTOR","body":"@mgreene That's my thinking too, but I'll leave this here in case @mvg has some cleverer way of implementing this.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/65052242","html_url":"https://github.com/elastic/elasticsearch/issues/2960#issuecomment-65052242","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2960","id":65052242,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDUyMjQy","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2014-12-01T11:30:13Z","updated_at":"2014-12-01T11:30:13Z","author_association":"MEMBER","body":"@mgreene @clintongormley I think ES can support parent/child queries in the percolator, but it is odd to do this for the reasons @mgreene mentioned. (store the documents in memory and toss it away and perform the next percolator request).\n\nWhat I think would be a nice addition to the percolator is to support percolating multiple documents in a single percolator call. So instead of defining a single `doc` element, the percolator should then support a `docs` element which would allow an array of documents. Regardless if parent/child should be supported this on its own can be a good addition. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/242098328","html_url":"https://github.com/elastic/elasticsearch/issues/2960#issuecomment-242098328","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2960","id":242098328,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MjA5ODMyOA==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-08-24T15:08:21Z","updated_at":"2016-08-24T15:08:21Z","author_association":"CONTRIBUTOR","body":"I suggest that we document that the percolator does not support parent/child queries and close this.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/242337079","html_url":"https://github.com/elastic/elasticsearch/issues/2960#issuecomment-242337079","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2960","id":242337079,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MjMzNzA3OQ==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2016-08-25T09:59:14Z","updated_at":"2016-08-25T09:59:14Z","author_association":"MEMBER","body":"The fact that these queries can't be used is already documented: https://github.com/elastic/elasticsearch/blob/master/docs/reference/mapping/types/percolator.asciidoc#limitations\n\nIn order to make it more clear that these queries are not supported, I also suggest that fail adding a percolator query that contains a `has_child` or `has_parent` query in the same as we fail when a percolator query contains `range` query with range based on the current time (now).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/242338944","html_url":"https://github.com/elastic/elasticsearch/issues/2960#issuecomment-242338944","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2960","id":242338944,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MjMzODk0NA==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-08-25T10:07:30Z","updated_at":"2016-08-25T10:07:30Z","author_association":"CONTRIBUTOR","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/243687055","html_url":"https://github.com/elastic/elasticsearch/issues/2960#issuecomment-243687055","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2960","id":243687055,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MzY4NzA1NQ==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-08-31T07:54:37Z","updated_at":"2016-08-31T07:54:37Z","author_association":"CONTRIBUTOR","body":"Thanks @martijnvg !\n","performed_via_github_app":null}]