[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/69473562","html_url":"https://github.com/elastic/elasticsearch/issues/9235#issuecomment-69473562","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9235","id":69473562,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDczNTYy","user":{"login":"iquito","id":973653,"node_id":"MDQ6VXNlcjk3MzY1Mw==","avatar_url":"https://avatars2.githubusercontent.com/u/973653?v=4","gravatar_id":"","url":"https://api.github.com/users/iquito","html_url":"https://github.com/iquito","followers_url":"https://api.github.com/users/iquito/followers","following_url":"https://api.github.com/users/iquito/following{/other_user}","gists_url":"https://api.github.com/users/iquito/gists{/gist_id}","starred_url":"https://api.github.com/users/iquito/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iquito/subscriptions","organizations_url":"https://api.github.com/users/iquito/orgs","repos_url":"https://api.github.com/users/iquito/repos","events_url":"https://api.github.com/users/iquito/events{/privacy}","received_events_url":"https://api.github.com/users/iquito/received_events","type":"User","site_admin":false},"created_at":"2015-01-10T21:52:00Z","updated_at":"2015-01-10T21:52:00Z","author_association":"NONE","body":"Actually, it doesn't seem to only affect fractions - any type of caret use in the query has unexpected results. The following queries should have the same results, yet do not:\n\n```\n{ \n  \"query\": {\n    \"function_score\": {\n      \"query\": {\n        \"multi_match\": {\n          \"query\":    \"bla^2 blubb^2\",\n          \"type\": \"most_fields\",\n          \"fields\": [ \"title^2.5\", \"preview_text^1.3\" ]\n        }\n      }\n    }\n  }\n}\n\n{ \n  \"query\": {\n    \"function_score\": {\n      \"query\": {\n        \"multi_match\": {\n          \"query\":    \"bla blubb\",\n          \"type\": \"most_fields\",\n          \"fields\": [ \"title^2.5\", \"preview_text^1.3\" ]\n        }\n      }\n    }\n  }\n}\n```\n\nIf applied to one keyword only, the caret symbol seems to work sort of as expected (documents with that keyword rank higher), but also documents containing the caret value seem to score higher: when using ^2 for a keyword, then documents containing a 2 in the title appear in the first results, when using ^25, then titles with a 25 in them appear in the first results. I cannot really pinpoint it, but the caret usage is not as I would expect it, but I am not sure what elasticsearch actually does do.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/69814581","html_url":"https://github.com/elastic/elasticsearch/issues/9235#issuecomment-69814581","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9235","id":69814581,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODE0NTgx","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-01-13T20:34:17Z","updated_at":"2015-01-13T20:34:17Z","author_association":"CONTRIBUTOR","body":"Hi @iquito \n\nThe `mutil_match` query does not use the lucene query string syntax.  You're looking for the `query_string` query instead.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/101629455","html_url":"https://github.com/elastic/elasticsearch/issues/9235#issuecomment-101629455","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9235","id":101629455,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMTYyOTQ1NQ==","user":{"login":"fgrosse","id":733004,"node_id":"MDQ6VXNlcjczMzAwNA==","avatar_url":"https://avatars0.githubusercontent.com/u/733004?v=4","gravatar_id":"","url":"https://api.github.com/users/fgrosse","html_url":"https://github.com/fgrosse","followers_url":"https://api.github.com/users/fgrosse/followers","following_url":"https://api.github.com/users/fgrosse/following{/other_user}","gists_url":"https://api.github.com/users/fgrosse/gists{/gist_id}","starred_url":"https://api.github.com/users/fgrosse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fgrosse/subscriptions","organizations_url":"https://api.github.com/users/fgrosse/orgs","repos_url":"https://api.github.com/users/fgrosse/repos","events_url":"https://api.github.com/users/fgrosse/events{/privacy}","received_events_url":"https://api.github.com/users/fgrosse/received_events","type":"User","site_admin":false},"created_at":"2015-05-13T11:07:10Z","updated_at":"2015-05-13T11:07:10Z","author_association":"NONE","body":"@clintongormley The documentation on [elastic.co](http://www.elastic.co/guide/en/elasticsearch/guide/master/multi-match-query.html#_boosting_individual_fields) states that you can use the caret field boosting so I am a littlebit confused right now.\n\nIf I want to do a match query over multiple fields while boosting individual fields how am I exactly supposed to do that?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/101629663","html_url":"https://github.com/elastic/elasticsearch/issues/9235#issuecomment-101629663","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9235","id":101629663,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMTYyOTY2Mw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-05-13T11:08:48Z","updated_at":"2015-05-13T11:08:48Z","author_association":"CONTRIBUTOR","body":"@fgrosse with `multi_match`, you can use carets in the field names, not in the query itself\n","performed_via_github_app":null}]