[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/406621354","html_url":"https://github.com/elastic/elasticsearch/issues/32243#issuecomment-406621354","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32243","id":406621354,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjYyMTM1NA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-07-20T14:41:17Z","updated_at":"2018-07-20T14:41:17Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/406651866","html_url":"https://github.com/elastic/elasticsearch/issues/32243#issuecomment-406651866","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32243","id":406651866,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjY1MTg2Ng==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-07-20T16:23:42Z","updated_at":"2018-07-20T16:24:06Z","author_association":"MEMBER","body":"If I read this correctly:\r\n\r\n>On **April 24, 2018, at 22:00 PDT (UTC+7)**, our v1 REST API is entering a decommissioning period. Starting on that date, you will no longer be able to generate v1 REST API keys, but the v1 REST API will remain operational.\r\n\r\nit implies that new users would not be able to use our PagerDuty integration today.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/410005252","html_url":"https://github.com/elastic/elasticsearch/issues/32243#issuecomment-410005252","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32243","id":410005252,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDAwNTI1Mg==","user":{"login":"hub-cap","id":613352,"node_id":"MDQ6VXNlcjYxMzM1Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/613352?v=4","gravatar_id":"","url":"https://api.github.com/users/hub-cap","html_url":"https://github.com/hub-cap","followers_url":"https://api.github.com/users/hub-cap/followers","following_url":"https://api.github.com/users/hub-cap/following{/other_user}","gists_url":"https://api.github.com/users/hub-cap/gists{/gist_id}","starred_url":"https://api.github.com/users/hub-cap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hub-cap/subscriptions","organizations_url":"https://api.github.com/users/hub-cap/orgs","repos_url":"https://api.github.com/users/hub-cap/repos","events_url":"https://api.github.com/users/hub-cap/events{/privacy}","received_events_url":"https://api.github.com/users/hub-cap/received_events","type":"User","site_admin":false},"created_at":"2018-08-02T17:26:38Z","updated_at":"2018-08-02T17:26:38Z","author_association":"CONTRIBUTOR","body":"So after finishing the PR, I got to reading the actual docs here. Look at the gem I found.\r\n\r\n```\r\nWILL THE V1 EVENTS API STILL BE SUPPORTED?\r\nThis change only affects the v1 REST API. You can continue to use the v1 Events API as you do today.Learn more about our the differences between our APIs here.\r\n```\r\n\r\nThis comes directly from [the linked doc in the issue description](https://v2.developer.pagerduty.com/docs/v1-rest-api-decommissioning-faq). The only place we use the PagerDuty API is [here](https://github.com/elastic/elasticsearch/blob/master/x-pack/plugin/watcher/src/main/java/org/elasticsearch/xpack/watcher/notification/pagerduty/IncidentEvent.java#L41-L42), and for brevity ill include the 2 lines below.\r\n\r\n```\r\n    static final String HOST = \"events.pagerduty.com\";\r\n    static final String PATH = \"/generic/2010-04-15/create_event.json\";\r\n```\r\n\r\nThis means we are only using the Events API, and yes we are still using the [V1 Events API](https://v2.developer.pagerduty.com/docs/events-api), which will not be affected by this.\r\n\r\nThe good news is that we can still migrate to the V2 Events API. PagerDuty has a V2 Events API already. The work is done in the PR attached to this issue. I am not sure this warrants a blocker / critical status anymore though.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/410633974","html_url":"https://github.com/elastic/elasticsearch/issues/32243#issuecomment-410633974","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32243","id":410633974,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDYzMzk3NA==","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2018-08-06T08:44:20Z","updated_at":"2018-08-06T08:44:20Z","author_association":"MEMBER","body":"Agreed on this one. Events API seems safe. I think it makes sense to switch to the newer API then on master only, once verified that old tokens can be reused. But this is not a blocker anymore.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/412575224","html_url":"https://github.com/elastic/elasticsearch/issues/32243#issuecomment-412575224","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32243","id":412575224,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMjU3NTIyNA==","user":{"login":"hub-cap","id":613352,"node_id":"MDQ6VXNlcjYxMzM1Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/613352?v=4","gravatar_id":"","url":"https://api.github.com/users/hub-cap","html_url":"https://github.com/hub-cap","followers_url":"https://api.github.com/users/hub-cap/followers","following_url":"https://api.github.com/users/hub-cap/following{/other_user}","gists_url":"https://api.github.com/users/hub-cap/gists{/gist_id}","starred_url":"https://api.github.com/users/hub-cap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hub-cap/subscriptions","organizations_url":"https://api.github.com/users/hub-cap/orgs","repos_url":"https://api.github.com/users/hub-cap/repos","events_url":"https://api.github.com/users/hub-cap/events{/privacy}","received_events_url":"https://api.github.com/users/hub-cap/received_events","type":"User","site_admin":false},"created_at":"2018-08-13T16:15:55Z","updated_at":"2018-08-13T16:15:55Z","author_association":"CONTRIBUTOR","body":"I think its worth backporting to 6.5 so future backports (which there will at least be one I know of) will be clean. Sound good @spinscale ?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/436896958","html_url":"https://github.com/elastic/elasticsearch/issues/32243#issuecomment-436896958","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32243","id":436896958,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjg5Njk1OA==","user":{"login":"jasonslater2000","id":1718983,"node_id":"MDQ6VXNlcjE3MTg5ODM=","avatar_url":"https://avatars2.githubusercontent.com/u/1718983?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonslater2000","html_url":"https://github.com/jasonslater2000","followers_url":"https://api.github.com/users/jasonslater2000/followers","following_url":"https://api.github.com/users/jasonslater2000/following{/other_user}","gists_url":"https://api.github.com/users/jasonslater2000/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonslater2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonslater2000/subscriptions","organizations_url":"https://api.github.com/users/jasonslater2000/orgs","repos_url":"https://api.github.com/users/jasonslater2000/repos","events_url":"https://api.github.com/users/jasonslater2000/events{/privacy}","received_events_url":"https://api.github.com/users/jasonslater2000/received_events","type":"User","site_admin":false},"created_at":"2018-11-08T07:20:42Z","updated_at":"2018-11-08T07:20:42Z","author_association":"NONE","body":"I am running ES v6.4.3.  Just tried creating a new API key.  PagerDuty only creates v2 keys now, and it assigned a 20 character alphanumeric key.  Plugged API key into elasticsearch.yml and created a watcher to use it.  Checked .watcher-history index and found the call had failed with a 400 error and the following body.\r\n\r\n\"body\": \"\"\"{\"status\":\"invalid event\",\"message\":\"Event object is invalid\",\"errors\":[\"Service key is the wrong length (should be 32 characters)\",\"Service key cannot contain non-alphanumeric characters.\"]}\"\"\"\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/436901687","html_url":"https://github.com/elastic/elasticsearch/issues/32243#issuecomment-436901687","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32243","id":436901687,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjkwMTY4Nw==","user":{"login":"jasonslater2000","id":1718983,"node_id":"MDQ6VXNlcjE3MTg5ODM=","avatar_url":"https://avatars2.githubusercontent.com/u/1718983?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonslater2000","html_url":"https://github.com/jasonslater2000","followers_url":"https://api.github.com/users/jasonslater2000/followers","following_url":"https://api.github.com/users/jasonslater2000/following{/other_user}","gists_url":"https://api.github.com/users/jasonslater2000/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonslater2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonslater2000/subscriptions","organizations_url":"https://api.github.com/users/jasonslater2000/orgs","repos_url":"https://api.github.com/users/jasonslater2000/repos","events_url":"https://api.github.com/users/jasonslater2000/events{/privacy}","received_events_url":"https://api.github.com/users/jasonslater2000/received_events","type":"User","site_admin":false},"created_at":"2018-11-08T07:42:47Z","updated_at":"2018-11-08T07:42:47Z","author_association":"NONE","body":"Got it working, but had to create the API key in PagerDuty via Configuration/Services, rather than Configuration/API Access as is documented at https://www.elastic.co/guide/en/watcher/current/configuring-pagerduty.html\r\n\r\nN.B.: During key creation, I selected \"Events API v2\" key, and this yielded a 32-character key.\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/436907459","html_url":"https://github.com/elastic/elasticsearch/issues/32243#issuecomment-436907459","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32243","id":436907459,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjkwNzQ1OQ==","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2018-11-08T08:08:12Z","updated_at":"2018-11-08T08:08:12Z","author_association":"MEMBER","body":"@hub-cap can you take a look in the docs and fix if needed?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/437597773","html_url":"https://github.com/elastic/elasticsearch/issues/32243#issuecomment-437597773","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32243","id":437597773,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzU5Nzc3Mw==","user":{"login":"jasonslater2000","id":1718983,"node_id":"MDQ6VXNlcjE3MTg5ODM=","avatar_url":"https://avatars2.githubusercontent.com/u/1718983?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonslater2000","html_url":"https://github.com/jasonslater2000","followers_url":"https://api.github.com/users/jasonslater2000/followers","following_url":"https://api.github.com/users/jasonslater2000/following{/other_user}","gists_url":"https://api.github.com/users/jasonslater2000/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonslater2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonslater2000/subscriptions","organizations_url":"https://api.github.com/users/jasonslater2000/orgs","repos_url":"https://api.github.com/users/jasonslater2000/repos","events_url":"https://api.github.com/users/jasonslater2000/events{/privacy}","received_events_url":"https://api.github.com/users/jasonslater2000/received_events","type":"User","site_admin":false},"created_at":"2018-11-10T16:50:47Z","updated_at":"2018-11-10T16:50:47Z","author_association":"NONE","body":"@hub-cap my pagerduty trial still has 12 days remaining.  let me know if I can provide screenshots or my trial credentials for you to take screenshots.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/441774363","html_url":"https://github.com/elastic/elasticsearch/issues/32243#issuecomment-441774363","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32243","id":441774363,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MTc3NDM2Mw==","user":{"login":"hub-cap","id":613352,"node_id":"MDQ6VXNlcjYxMzM1Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/613352?v=4","gravatar_id":"","url":"https://api.github.com/users/hub-cap","html_url":"https://github.com/hub-cap","followers_url":"https://api.github.com/users/hub-cap/followers","following_url":"https://api.github.com/users/hub-cap/following{/other_user}","gists_url":"https://api.github.com/users/hub-cap/gists{/gist_id}","starred_url":"https://api.github.com/users/hub-cap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hub-cap/subscriptions","organizations_url":"https://api.github.com/users/hub-cap/orgs","repos_url":"https://api.github.com/users/hub-cap/repos","events_url":"https://api.github.com/users/hub-cap/events{/privacy}","received_events_url":"https://api.github.com/users/hub-cap/received_events","type":"User","site_admin":false},"created_at":"2018-11-26T19:50:51Z","updated_at":"2018-11-26T19:50:51Z","author_association":"CONTRIBUTOR","body":"heh, i missed this ping somehow. grr. Ill update the docs here, thanks for the notificaiton.","performed_via_github_app":null}]