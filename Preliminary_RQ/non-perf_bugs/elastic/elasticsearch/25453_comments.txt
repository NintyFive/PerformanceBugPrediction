[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/350275702","html_url":"https://github.com/elastic/elasticsearch/issues/25453#issuecomment-350275702","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25453","id":350275702,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDI3NTcwMg==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2017-12-08T14:26:51Z","updated_at":"2017-12-08T14:26:51Z","author_association":"CONTRIBUTOR","body":"https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+multijob-unix-compatibility/os=oraclelinux/1772/console failed on a different test in the same suite, but in the same way: it got a 404 when trying to delete the `test` index in the `finally` block.\r\n\r\nThe exception thrown from the `finally` block could well be masking an earlier exception which would have been more useful.\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+multijob-unix-compatibility/1772/os=oraclelinux/artifact/qa/reindex-from-old/build/cluster/integTestCluster%20node0/elasticsearch-7.0.0-alpha1-SNAPSHOT/logs/qa_reindex-from-old_integTestCluster.log contains this error:\r\n\r\n```\r\n[2017-12-08T14:03:49,672][WARN ][o.e.i.r.TransportReindexAction] [node-0] Failed to clear scroll [c2NhbjswOzE7dG90YWxfaGl0czo1Ow==]\r\norg.elasticsearch.client.ResponseException: method [DELETE], host [http://127.0.0.1:33317], URI [/_search/scroll], status line [HTTP/1.1 500 Internal Server Error]\r\n{\"error\":\"ActionRequestValidationException[Validation Failed: 1: no scroll ids specified;]\",\"status\":500}\r\n\tat org.elasticsearch.client.RestClient$1.completed(RestClient.java:357) [elasticsearch-rest-client-7.0.0-alpha1-SNAPSHOT.jar:7.0.0-alpha1-SNAPSHOT]\r\n\tat org.elasticsearch.client.RestClient$1.completed(RestClient.java:346) [elasticsearch-rest-client-7.0.0-alpha1-SNAPSHOT.jar:7.0.0-alpha1-SNAPSHOT]\r\n\tat org.apache.http.concurrent.BasicFuture.completed(BasicFuture.java:119) [httpcore-4.4.5.jar:4.4.5]\r\n\tat org.apache.http.impl.nio.client.DefaultClientExchangeHandlerImpl.responseCompleted(DefaultClientExchangeHandlerImpl.java:177) [httpasyncclient-4.1.2.jar:4.1.2]\r\n\tat org.apache.http.nio.protocol.HttpAsyncRequestExecutor.processResponse(HttpAsyncRequestExecutor.java:436) [httpcore-nio-4.4.5.jar:4.4.5]\r\n\tat org.apache.http.nio.protocol.HttpAsyncRequestExecutor.inputReady(HttpAsyncRequestExecutor.java:326) [httpcore-nio-4.4.5.jar:4.4.5]\r\n\tat org.apache.http.impl.nio.DefaultNHttpClientConnection.consumeInput(DefaultNHttpClientConnection.java:265) [httpcore-nio-4.4.5.jar:4.4.5]\r\n\tat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:81) [httpasyncclient-4.1.2.jar:4.1.2]\r\n\tat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:39) [httpasyncclient-4.1.2.jar:4.1.2]\r\n\tat org.apache.http.impl.nio.reactor.AbstractIODispatch.inputReady(AbstractIODispatch.java:114) [httpcore-nio-4.4.5.jar:4.4.5]\r\n\tat org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:162) [httpcore-nio-4.4.5.jar:4.4.5]\r\n\tat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:337) [httpcore-nio-4.4.5.jar:4.4.5]\r\n\tat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315) [httpcore-nio-4.4.5.jar:4.4.5]\r\n\tat org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:276) [httpcore-nio-4.4.5.jar:4.4.5]\r\n\tat org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104) [httpcore-nio-4.4.5.jar:4.4.5]\r\n\tat org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:588) [httpcore-nio-4.4.5.jar:4.4.5]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_151]\r\n```\r\n\r\nAlso, https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+multijob-unix-compatibility/1772/os=oraclelinux/artifact/qa/reindex-from-old/build/tmp/unzipEs090/elasticsearch-0.90.13/logs/elasticsearch.log contains this:\r\n\r\n```\r\n[2017-12-08 14:03:28,955][WARN ][discovery.zen.ping.multicast] [Atlas] failed to read requesting data from /127.0.0.1:54328\r\njava.io.IOException: Expected handle header, got [13]\r\n\tat org.elasticsearch.common.io.stream.HandlesStreamInput.readString(HandlesStreamInput.java:65)\r\n\tat org.elasticsearch.cluster.ClusterName.readFrom(ClusterName.java:64)\r\n\tat org.elasticsearch.cluster.ClusterName.readClusterName(ClusterName.java:58)\r\n\tat org.elasticsearch.discovery.zen.ping.multicast.MulticastZenPing$Receiver.run(MulticastZenPing.java:409)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n[2017-12-08 14:03:30,460][WARN ][discovery.zen.ping.multicast] [Atlas] failed to read requesting data from /127.0.0.1:54328\r\njava.io.IOException: Expected handle header, got [13]\r\n\tat org.elasticsearch.common.io.stream.HandlesStreamInput.readString(HandlesStreamInput.java:65)\r\n\tat org.elasticsearch.cluster.ClusterName.readFrom(ClusterName.java:64)\r\n\tat org.elasticsearch.cluster.ClusterName.readClusterName(ClusterName.java:58)\r\n\tat org.elasticsearch.discovery.zen.ping.multicast.MulticastZenPing$Receiver.run(MulticastZenPing.java:409)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n[2017-12-08 14:03:31,962][WARN ][discovery.zen.ping.multicast] [Atlas] failed to read requesting data from /127.0.0.1:54328\r\njava.io.IOException: Expected handle header, got [13]\r\n\tat org.elasticsearch.common.io.stream.HandlesStreamInput.readString(HandlesStreamInput.java:65)\r\n\tat org.elasticsearch.cluster.ClusterName.readFrom(ClusterName.java:64)\r\n\tat org.elasticsearch.cluster.ClusterName.readClusterName(ClusterName.java:58)\r\n\tat org.elasticsearch.discovery.zen.ping.multicast.MulticastZenPing$Receiver.run(MulticastZenPing.java:409)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nHowever, I could not reproduce the problem locally yet my local equivalents of those two log files for the successful test contain the same errors.  The REPRO command was:\r\n\r\n```\r\ngradle :qa:reindex-from-old:integTestRunner \\\r\n  -Dtests.seed=22F500316A81743F \\\r\n  -Dtests.class=org.elasticsearch.smoketest.ReindexFromOldRemoteIT \\\r\n  -Dtests.method=\"testEs090\" \\\r\n  -Dtests.security.manager=true \\\r\n  -Dtests.locale=ar-OM \\\r\n  -Dtests.timezone=Africa/Lagos\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/360819383","html_url":"https://github.com/elastic/elasticsearch/issues/25453#issuecomment-360819383","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25453","id":360819383,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MDgxOTM4Mw==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2018-01-26T15:42:00Z","updated_at":"2018-01-26T15:42:00Z","author_association":"CONTRIBUTOR","body":"I'll take a look at this now.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/360834175","html_url":"https://github.com/elastic/elasticsearch/issues/25453#issuecomment-360834175","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25453","id":360834175,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MDgzNDE3NQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2018-01-26T16:32:09Z","updated_at":"2018-01-26T16:32:09Z","author_association":"CONTRIBUTOR","body":"I've pushed a patch that ought not to hide the real failure the next time it happens.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/374627831","html_url":"https://github.com/elastic/elasticsearch/issues/25453#issuecomment-374627831","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25453","id":374627831,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDYyNzgzMQ==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2018-03-20T14:54:58Z","updated_at":"2018-03-20T14:54:58Z","author_association":"MEMBER","body":"Haven't seen this fail in a long time, so closing this.","performed_via_github_app":null}]