{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/25798","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25798/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25798/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25798/events","html_url":"https://github.com/elastic/elasticsearch/issues/25798","id":244105332,"node_id":"MDU6SXNzdWUyNDQxMDUzMzI=","number":25798,"title":"RestClient will be leaking internal.* packages in its public API","user":{"login":"hub-cap","id":613352,"node_id":"MDQ6VXNlcjYxMzM1Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/613352?v=4","gravatar_id":"","url":"https://api.github.com/users/hub-cap","html_url":"https://github.com/hub-cap","followers_url":"https://api.github.com/users/hub-cap/followers","following_url":"https://api.github.com/users/hub-cap/following{/other_user}","gists_url":"https://api.github.com/users/hub-cap/gists{/gist_id}","starred_url":"https://api.github.com/users/hub-cap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hub-cap/subscriptions","organizations_url":"https://api.github.com/users/hub-cap/orgs","repos_url":"https://api.github.com/users/hub-cap/repos","events_url":"https://api.github.com/users/hub-cap/events{/privacy}","received_events_url":"https://api.github.com/users/hub-cap/received_events","type":"User","site_admin":false},"labels":[{"id":407508641,"node_id":"MDU6TGFiZWw0MDc1MDg2NDE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Java%20Low%20Level%20REST%20Client","name":":Core/Features/Java Low Level REST Client","color":"0e8a16","default":false,"description":"Minimal dependencies Java Client for Elasticsearch"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2017-07-19T16:47:56Z","updated_at":"2017-08-01T08:51:26Z","closed_at":"2017-08-01T08:51:26Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"In working with shading the rest clients dependencies away, it was apparent that we need to possibly abstract away all the org.apache.http objects that are passed into the RestClient as well. For instance, the constructor and performRequest pass in Header and HttpEntity. With #25208, those are now in the internal.org.apache.http , so everything that uses the rest client will need to use our provided shaded classes.\r\n\r\nAlternatively, we can \"un-leak\" this and make sure we do not have any internal.org.apache.http in the rest client API, and instead rely on Strings for headers and InputStreams for Entity content for the things we use currently. Im sure there are other things I am missing, so please chime in.\r\n\r\nRelates #25208","closed_by":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"performed_via_github_app":null}