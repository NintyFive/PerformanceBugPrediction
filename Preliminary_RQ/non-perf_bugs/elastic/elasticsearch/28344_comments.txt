[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/360063792","html_url":"https://github.com/elastic/elasticsearch/issues/28344#issuecomment-360063792","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28344","id":360063792,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MDA2Mzc5Mg==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2018-01-24T08:58:26Z","updated_at":"2018-01-24T08:58:26Z","author_association":"MEMBER","body":"I am +1 to add a limit but the stack overflow here is not due to the number of chars but rather to the number of regex operations (|, &, ...) present in the string. The parsing is recursive and consumes one stack frame per operation so it is valid to have a big string as long as it doesn't contain too many operators. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/360066613","html_url":"https://github.com/elastic/elasticsearch/issues/28344#issuecomment-360066613","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28344","id":360066613,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MDA2NjYxMw==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2018-01-24T09:09:33Z","updated_at":"2018-01-24T09:09:33Z","author_association":"CONTRIBUTOR","body":"I am fine with both options, but if we decide to add a limit on operators, I think this needs to be folded into the Regexp class, otherwise we will have to reverse engineer the parsing logic to count operators?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/360070214","html_url":"https://github.com/elastic/elasticsearch/issues/28344#issuecomment-360070214","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28344","id":360070214,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MDA3MDIxNA==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2018-01-24T09:24:16Z","updated_at":"2018-01-24T09:24:16Z","author_association":"MEMBER","body":"We shouldn't allow big strings in regexps no matter how many operators they have. My comment was more about the fact that it should not fail in the current version if the number of operators is low but I am totally fine with an hard limit on the number of chars.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/362546950","html_url":"https://github.com/elastic/elasticsearch/issues/28344#issuecomment-362546950","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28344","id":362546950,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MjU0Njk1MA==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2018-02-02T10:22:32Z","updated_at":"2018-02-02T10:22:32Z","author_association":"CONTRIBUTOR","body":"A limit seems like a good idea, but 100 chars seems overly restrictive. People do all sorts of [crazy things](http://www.ex-parrot.com/~pdw/Mail-RFC822-Address.html) with regexes, even though [they perhaps shouldn't](https://stackoverflow.com/a/1732454). Does each stack frame correspond to at least one character? If so, I'd have thought a few thousand characters would still be safe?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/362603318","html_url":"https://github.com/elastic/elasticsearch/issues/28344#issuecomment-362603318","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28344","id":362603318,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MjYwMzMxOA==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2018-02-02T14:37:27Z","updated_at":"2018-02-02T14:37:27Z","author_association":"CONTRIBUTOR","body":"We discussed it in FixitFriday: we'll implement it as a soft limit with a default value of 1000.","performed_via_github_app":null}]