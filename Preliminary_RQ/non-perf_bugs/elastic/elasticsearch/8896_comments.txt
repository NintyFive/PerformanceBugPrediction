[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/70704533","html_url":"https://github.com/elastic/elasticsearch/issues/8896#issuecomment-70704533","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8896","id":70704533,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNzA0NTMz","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2015-01-20T18:22:39Z","updated_at":"2015-01-20T18:22:39Z","author_association":"CONTRIBUTOR","body":"I came across a use case that might be related. I want a tool to help me write IP address blocking rules by examining log records. A rule might be _\"ban everything from 121.205.*\"_ or perhaps I need to be more selective _\"ban everything from  121.205.247.*\"_ \nThis is a decision every webmaster takes on the basis of how much good vs bad traffic comes from any one level. If you think about how a hierarchical aggregation might ideally help with this it could progressively inflate sections of the full agg tree but only pursuing those branches where the \"bad vs good\" mix is high i.e. where there are more logged 404s than 200s in that address range. The existing [breadth_first](http://www.elasticsearch.org/guide/en/elasticsearch/guide/current/_preventing_combinatorial_explosions.html) logic is a way of delaying computation of only the best branches but in this case we may need to introduce a new aggregation to help determine what \"best\" is because in this case \"risk\" is not a scriptable property found in docs but is derived from a mix of the contents of 2 buckets (404s vs 200s), neither of which know about each other\nOf course with things like risky IP address ranges or directories on your hard drive that are using all your disk space, the real culprits that need to be chased down do not necessarily all exist at the same level in the hierarchy. Progressively expanding all branches of the tree in lock-step, a level at a time is perhaps not the only approach required here. In some respects I like the idea of an energy-dissipation based model for exploring large information spaces using finite resources. Using the 'pulsing' model I originally outlined for tackling combinatorial explosions we could direct pulses of doc streams down the various branches of the agg tree that could do with further inflation using a prioritisation system. When the time is up we can cut short the exploration but we have at least directed our efforts down the most promising channels which could be at different depths in the tree.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/112801803","html_url":"https://github.com/elastic/elasticsearch/issues/8896#issuecomment-112801803","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8896","id":112801803,"node_id":"MDEyOklzc3VlQ29tbWVudDExMjgwMTgwMw==","user":{"login":"clement-tourriere","id":4599746,"node_id":"MDQ6VXNlcjQ1OTk3NDY=","avatar_url":"https://avatars1.githubusercontent.com/u/4599746?v=4","gravatar_id":"","url":"https://api.github.com/users/clement-tourriere","html_url":"https://github.com/clement-tourriere","followers_url":"https://api.github.com/users/clement-tourriere/followers","following_url":"https://api.github.com/users/clement-tourriere/following{/other_user}","gists_url":"https://api.github.com/users/clement-tourriere/gists{/gist_id}","starred_url":"https://api.github.com/users/clement-tourriere/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clement-tourriere/subscriptions","organizations_url":"https://api.github.com/users/clement-tourriere/orgs","repos_url":"https://api.github.com/users/clement-tourriere/repos","events_url":"https://api.github.com/users/clement-tourriere/events{/privacy}","received_events_url":"https://api.github.com/users/clement-tourriere/received_events","type":"User","site_admin":false},"created_at":"2015-06-17T13:37:07Z","updated_at":"2015-06-17T13:37:07Z","author_association":"CONTRIBUTOR","body":"I have made an implementation for this aggregation as a plugin.\nYou can test it here : https://github.com/opendatasoft/elasticsearch-aggregation-pathhierarchy\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/158686915","html_url":"https://github.com/elastic/elasticsearch/issues/8896#issuecomment-158686915","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8896","id":158686915,"node_id":"MDEyOklzc3VlQ29tbWVudDE1ODY4NjkxNQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-11-21T22:28:52Z","updated_at":"2015-11-21T22:28:52Z","author_association":"CONTRIBUTOR","body":"@jpountz this was your idea originally.  Do you still think it is worth doing?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/158901927","html_url":"https://github.com/elastic/elasticsearch/issues/8896#issuecomment-158901927","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8896","id":158901927,"node_id":"MDEyOklzc3VlQ29tbWVudDE1ODkwMTkyNw==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2015-11-23T10:43:09Z","updated_at":"2015-11-23T10:43:09Z","author_association":"CONTRIBUTOR","body":"I haven't seen it as much as I initially expected. But I think this can still be interesting indeed. Closing for now, we can re-open in the future if needed.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/162748121","html_url":"https://github.com/elastic/elasticsearch/issues/8896#issuecomment-162748121","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8896","id":162748121,"node_id":"MDEyOklzc3VlQ29tbWVudDE2Mjc0ODEyMQ==","user":{"login":"markwalkom","id":3184718,"node_id":"MDQ6VXNlcjMxODQ3MTg=","avatar_url":"https://avatars0.githubusercontent.com/u/3184718?v=4","gravatar_id":"","url":"https://api.github.com/users/markwalkom","html_url":"https://github.com/markwalkom","followers_url":"https://api.github.com/users/markwalkom/followers","following_url":"https://api.github.com/users/markwalkom/following{/other_user}","gists_url":"https://api.github.com/users/markwalkom/gists{/gist_id}","starred_url":"https://api.github.com/users/markwalkom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markwalkom/subscriptions","organizations_url":"https://api.github.com/users/markwalkom/orgs","repos_url":"https://api.github.com/users/markwalkom/repos","events_url":"https://api.github.com/users/markwalkom/events{/privacy}","received_events_url":"https://api.github.com/users/markwalkom/received_events","type":"User","site_admin":false},"created_at":"2015-12-08T03:27:33Z","updated_at":"2015-12-08T03:27:33Z","author_association":"MEMBER","body":"Something from the forums - https://discuss.elastic.co/t/aggregation-on-a-materialized-path/36519\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/162796821","html_url":"https://github.com/elastic/elasticsearch/issues/8896#issuecomment-162796821","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8896","id":162796821,"node_id":"MDEyOklzc3VlQ29tbWVudDE2Mjc5NjgyMQ==","user":{"login":"deviantony","id":5485061,"node_id":"MDQ6VXNlcjU0ODUwNjE=","avatar_url":"https://avatars2.githubusercontent.com/u/5485061?v=4","gravatar_id":"","url":"https://api.github.com/users/deviantony","html_url":"https://github.com/deviantony","followers_url":"https://api.github.com/users/deviantony/followers","following_url":"https://api.github.com/users/deviantony/following{/other_user}","gists_url":"https://api.github.com/users/deviantony/gists{/gist_id}","starred_url":"https://api.github.com/users/deviantony/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deviantony/subscriptions","organizations_url":"https://api.github.com/users/deviantony/orgs","repos_url":"https://api.github.com/users/deviantony/repos","events_url":"https://api.github.com/users/deviantony/events{/privacy}","received_events_url":"https://api.github.com/users/deviantony/received_events","type":"User","site_admin":false},"created_at":"2015-12-08T07:08:57Z","updated_at":"2015-12-08T07:10:58Z","author_association":"NONE","body":"I'm the author of the forum post, would be neat if you guys can have a look at my problem as it's related to this issue.\n\n@clement-tourriere Does your plugin support ES 2.x ?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/163135775","html_url":"https://github.com/elastic/elasticsearch/issues/8896#issuecomment-163135775","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8896","id":163135775,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MzEzNTc3NQ==","user":{"login":"deviantony","id":5485061,"node_id":"MDQ6VXNlcjU0ODUwNjE=","avatar_url":"https://avatars2.githubusercontent.com/u/5485061?v=4","gravatar_id":"","url":"https://api.github.com/users/deviantony","html_url":"https://github.com/deviantony","followers_url":"https://api.github.com/users/deviantony/followers","following_url":"https://api.github.com/users/deviantony/following{/other_user}","gists_url":"https://api.github.com/users/deviantony/gists{/gist_id}","starred_url":"https://api.github.com/users/deviantony/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deviantony/subscriptions","organizations_url":"https://api.github.com/users/deviantony/orgs","repos_url":"https://api.github.com/users/deviantony/repos","events_url":"https://api.github.com/users/deviantony/events{/privacy}","received_events_url":"https://api.github.com/users/deviantony/received_events","type":"User","site_admin":false},"created_at":"2015-12-09T07:02:30Z","updated_at":"2015-12-09T07:02:30Z","author_association":"NONE","body":"Just found out that the plugin does not support ES 2.x: https://github.com/opendatasoft/elasticsearch-aggregation-pathhierarchy/issues/3#issuecomment-142402724\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/169942303","html_url":"https://github.com/elastic/elasticsearch/issues/8896#issuecomment-169942303","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8896","id":169942303,"node_id":"MDEyOklzc3VlQ29tbWVudDE2OTk0MjMwMw==","user":{"login":"saimaz","id":115824,"node_id":"MDQ6VXNlcjExNTgyNA==","avatar_url":"https://avatars2.githubusercontent.com/u/115824?v=4","gravatar_id":"","url":"https://api.github.com/users/saimaz","html_url":"https://github.com/saimaz","followers_url":"https://api.github.com/users/saimaz/followers","following_url":"https://api.github.com/users/saimaz/following{/other_user}","gists_url":"https://api.github.com/users/saimaz/gists{/gist_id}","starred_url":"https://api.github.com/users/saimaz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saimaz/subscriptions","organizations_url":"https://api.github.com/users/saimaz/orgs","repos_url":"https://api.github.com/users/saimaz/repos","events_url":"https://api.github.com/users/saimaz/events{/privacy}","received_events_url":"https://api.github.com/users/saimaz/received_events","type":"User","site_admin":false},"created_at":"2016-01-08T09:12:02Z","updated_at":"2016-01-08T09:12:02Z","author_association":"NONE","body":"Just wondering, any plans to add this type of aggregation?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/172631464","html_url":"https://github.com/elastic/elasticsearch/issues/8896#issuecomment-172631464","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8896","id":172631464,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MjYzMTQ2NA==","user":{"login":"joemcelroy","id":49480,"node_id":"MDQ6VXNlcjQ5NDgw","avatar_url":"https://avatars3.githubusercontent.com/u/49480?v=4","gravatar_id":"","url":"https://api.github.com/users/joemcelroy","html_url":"https://github.com/joemcelroy","followers_url":"https://api.github.com/users/joemcelroy/followers","following_url":"https://api.github.com/users/joemcelroy/following{/other_user}","gists_url":"https://api.github.com/users/joemcelroy/gists{/gist_id}","starred_url":"https://api.github.com/users/joemcelroy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joemcelroy/subscriptions","organizations_url":"https://api.github.com/users/joemcelroy/orgs","repos_url":"https://api.github.com/users/joemcelroy/repos","events_url":"https://api.github.com/users/joemcelroy/events{/privacy}","received_events_url":"https://api.github.com/users/joemcelroy/received_events","type":"User","site_admin":false},"created_at":"2016-01-18T19:39:16Z","updated_at":"2016-01-18T19:39:16Z","author_association":"NONE","body":"Hi all,\n\nThought give you a heads up on searchkit which uses nested aggregations to build a hierarchical tree to filter results from. Check it out here: http://demo.searchkit.co/taxonomy\n\nMore details can be found here: http://docs.searchkit.co/stable/docs/components/navigation/hierarchical-refinement-filter.html\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/256590141","html_url":"https://github.com/elastic/elasticsearch/issues/8896#issuecomment-256590141","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8896","id":256590141,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NjU5MDE0MQ==","user":{"login":"jprante","id":635745,"node_id":"MDQ6VXNlcjYzNTc0NQ==","avatar_url":"https://avatars1.githubusercontent.com/u/635745?v=4","gravatar_id":"","url":"https://api.github.com/users/jprante","html_url":"https://github.com/jprante","followers_url":"https://api.github.com/users/jprante/followers","following_url":"https://api.github.com/users/jprante/following{/other_user}","gists_url":"https://api.github.com/users/jprante/gists{/gist_id}","starred_url":"https://api.github.com/users/jprante/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jprante/subscriptions","organizations_url":"https://api.github.com/users/jprante/orgs","repos_url":"https://api.github.com/users/jprante/repos","events_url":"https://api.github.com/users/jprante/events{/privacy}","received_events_url":"https://api.github.com/users/jprante/received_events","type":"User","site_admin":false},"created_at":"2016-10-27T09:17:28Z","updated_at":"2016-10-27T09:17:28Z","author_association":"CONTRIBUTOR","body":"I'm late to the party, but some months ago, with the help of @clement-tourriere at https://github.com/jprante/elasticsearch-aggregations/pull/1 it was possible to port the path hierarchy approach to the ES 2.x aggregation framework. With ES 5 now released, I plan to move forward. Please comment at https://github.com/jprante/elasticsearch-aggregations/issues if you have questions about my project or want to contribute.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/289015323","html_url":"https://github.com/elastic/elasticsearch/issues/8896#issuecomment-289015323","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8896","id":289015323,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTAxNTMyMw==","user":{"login":"ale0xb","id":412841,"node_id":"MDQ6VXNlcjQxMjg0MQ==","avatar_url":"https://avatars2.githubusercontent.com/u/412841?v=4","gravatar_id":"","url":"https://api.github.com/users/ale0xb","html_url":"https://github.com/ale0xb","followers_url":"https://api.github.com/users/ale0xb/followers","following_url":"https://api.github.com/users/ale0xb/following{/other_user}","gists_url":"https://api.github.com/users/ale0xb/gists{/gist_id}","starred_url":"https://api.github.com/users/ale0xb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ale0xb/subscriptions","organizations_url":"https://api.github.com/users/ale0xb/orgs","repos_url":"https://api.github.com/users/ale0xb/repos","events_url":"https://api.github.com/users/ale0xb/events{/privacy}","received_events_url":"https://api.github.com/users/ale0xb/received_events","type":"User","site_admin":false},"created_at":"2017-03-24T12:55:56Z","updated_at":"2017-03-24T12:55:56Z","author_association":"NONE","body":"Hello, any solutions to get this functionality in 5.x? ","performed_via_github_app":null}]