{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/35176","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35176/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35176/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35176/events","html_url":"https://github.com/elastic/elasticsearch/issues/35176","id":376503929,"node_id":"MDU6SXNzdWUzNzY1MDM5Mjk=","number":35176,"title":"[ci] org.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT","user":{"login":"andyb-elastic","id":29205940,"node_id":"MDQ6VXNlcjI5MjA1OTQw","avatar_url":"https://avatars2.githubusercontent.com/u/29205940?v=4","gravatar_id":"","url":"https://api.github.com/users/andyb-elastic","html_url":"https://github.com/andyb-elastic","followers_url":"https://api.github.com/users/andyb-elastic/followers","following_url":"https://api.github.com/users/andyb-elastic/following{/other_user}","gists_url":"https://api.github.com/users/andyb-elastic/gists{/gist_id}","starred_url":"https://api.github.com/users/andyb-elastic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andyb-elastic/subscriptions","organizations_url":"https://api.github.com/users/andyb-elastic/orgs","repos_url":"https://api.github.com/users/andyb-elastic/repos","events_url":"https://api.github.com/users/andyb-elastic/events{/privacy}","received_events_url":"https://api.github.com/users/andyb-elastic/received_events","type":"User","site_admin":false},"labels":[{"id":912794284,"node_id":"MDU6TGFiZWw5MTI3OTQyODQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Query%20Languages/SQL","name":":Query Languages/SQL","color":"0e8a16","default":false,"description":"SQL querying"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":{"login":"astefan","id":893749,"node_id":"MDQ6VXNlcjg5Mzc0OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/893749?v=4","gravatar_id":"","url":"https://api.github.com/users/astefan","html_url":"https://github.com/astefan","followers_url":"https://api.github.com/users/astefan/followers","following_url":"https://api.github.com/users/astefan/following{/other_user}","gists_url":"https://api.github.com/users/astefan/gists{/gist_id}","starred_url":"https://api.github.com/users/astefan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astefan/subscriptions","organizations_url":"https://api.github.com/users/astefan/orgs","repos_url":"https://api.github.com/users/astefan/repos","events_url":"https://api.github.com/users/astefan/events{/privacy}","received_events_url":"https://api.github.com/users/astefan/received_events","type":"User","site_admin":false},"assignees":[{"login":"astefan","id":893749,"node_id":"MDQ6VXNlcjg5Mzc0OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/893749?v=4","gravatar_id":"","url":"https://api.github.com/users/astefan","html_url":"https://github.com/astefan","followers_url":"https://api.github.com/users/astefan/followers","following_url":"https://api.github.com/users/astefan/following{/other_user}","gists_url":"https://api.github.com/users/astefan/gists{/gist_id}","starred_url":"https://api.github.com/users/astefan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astefan/subscriptions","organizations_url":"https://api.github.com/users/astefan/orgs","repos_url":"https://api.github.com/users/astefan/repos","events_url":"https://api.github.com/users/astefan/events{/privacy}","received_events_url":"https://api.github.com/users/astefan/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2018-11-01T18:02:18Z","updated_at":"2018-11-15T13:26:13Z","closed_at":"2018-11-15T13:25:57Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.5+multijob-unix-compatibility/os=sles/14/console\r\n\r\n[build-14.txt.zip](https://github.com/elastic/elasticsearch/files/2539509/build-14.txt.zip)\r\n\r\n```\r\n./gradlew :x-pack:qa:sql:no-security:integTestRunner -Dtests.seed=71A16B3FA5A59996 -Dtests.class=org.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT  -Dtests.security.manager=true -Dtests.locale=he-IL -Dtests.timezone=Etc/GMT0 -Dcompiler.java=11 -Druntime.java=8\r\n```\r\n\r\nCases that failed in CI\r\n\r\n```\r\nFAILURE 0.07s | JdbcCsvSpecIT.test {nested.testSelectNestedFieldFirst} <<< FAILURES!    \r\n   > Throwable #1: java.lang.AssertionError: test_emp should have no search contexts expected:<0> but was:<1>                                                                       >    at __randomizedtesting.SeedInfo.seed([71A16B3FA5A59996:F9F554E50B59F46E]:0)     \r\n   >    at org.elasticsearch.xpack.qa.sql.rest.RestSqlTestCase.assertNoSearchContexts(RestSqlTestCase.java:697)                                                                  \r\n   >    at org.elasticsearch.xpack.qa.sql.jdbc.JdbcIntegrationTestCase.checkSearchContent(JdbcIntegrationTestCase.java:40)                                                       \r\n   >    at java.lang.Thread.run(Thread.java:748)     \r\n```\r\n\r\n```\r\norg.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT test {agg.testAggregateWithCastNumericToString}\r\norg.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT test {agg.testKurtosisAndSkewnessNoGroup}\r\norg.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT test {command.testShowTablesMultiLike}\r\norg.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT test {datetime.testConstantDayOfWeek}\r\norg.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT test {datetime.testConstantMinuteOfHour}\r\norg.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT test {datetime.testConstantMonthOfYear}\r\norg.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT test {functions.testCheckColumnNameWithComplexNestedArithmeticFunctionCallsOnTableColumn2}\r\norg.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT test {math.testTruncateWithGroupByAndOrderBy}\r\norg.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT test {nested.testSelectNestedFieldFirst}\r\norg.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT test {nulls.testNullDiv}\r\n```\r\n\r\nMore cases failed when I reproduced this \r\n\r\n```\r\nTests with failures (first 25 out of 47):                                                                                                                                        \r\n  - org.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT.test {nested.testSelectNestedFieldFirst}                                                                             \r\n  - org.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT.test {functions.testCheckColumnNameWithComplexNestedArithmeticFunctionCallsOnTableColumn2}                           \r\n  - org.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT.test {agg.testAggregateWithCastNumericToString}                                                                      \r\n  - org.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT.test {datetime.testConstantMinuteOfHour}                                                                             \r\n  - org.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT.test {agg.testKurtosisAndSkewnessNoGroup}                                                                            \r\n  - org.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT.test {datetime.testConstantMonthOfYear}                                                                              \r\n  - org.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT.test {datetime.testConstantDayOfWeek}                                                                                \r\n  - org.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT.test {command.testShowTablesMultiLike}                                                                               \r\n  - org.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT.test {math.testTruncateWithGroupByAndOrderBy}                                                                        \r\n  - org.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT.test {nulls.testNullDiv}                                                                                             \r\n  - org.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT.test {datetime.testConstantSecondOfMinute}                                                                           \r\n  - org.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT.test {command.testShowTables}                                                                                        \r\n  - org.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT.test {nested.testFilterPerNestedWithOrderByTopLevel}                                                                 \r\n  - org.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT.test {math.testTruncateWithAsciiHavingAndOrderBy}                                                                    \r\n  - org.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT.test {math.testGroupByAndOrderByTruncateWithPositiveParameter}                                                       \r\n  - org.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT.test {functions.testOctetLengthGroupByAndOrderBy}                                                                    \r\n  - org.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT.test {agg.testSinglePercentileWithComma}                                                                             \r\n  - org.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT.test {command.testShowFunctionsWithExactMatch}                                                                         - org.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT.test {datetime.testDateTimeDayOfWeek}                                                                                \r\n  - org.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT.test {agg.testSinglePercentileWithoutComma}                                                                            - org.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT.test {nested.testFilterPerNestedWithOrderByNestedWithAlias}                                                            - org.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT.test {math.testTruncateWithHavingAndGroupBy}                                                                         \r\n  - org.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT.test {command.testDescribeMultiLike}                                                                                 \r\n  - org.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT.test {functions.testSelectInsertWithLcaseAndLengthWithOrderBy}                                                       \r\n  - org.elasticsearch.xpack.qa.sql.nosecurity.JdbcCsvSpecIT.test {functions.testUpperCasingTheSecondLetterFromTheRightFromFirstName}\r\n```\r\n\r\n","closed_by":{"login":"astefan","id":893749,"node_id":"MDQ6VXNlcjg5Mzc0OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/893749?v=4","gravatar_id":"","url":"https://api.github.com/users/astefan","html_url":"https://github.com/astefan","followers_url":"https://api.github.com/users/astefan/followers","following_url":"https://api.github.com/users/astefan/following{/other_user}","gists_url":"https://api.github.com/users/astefan/gists{/gist_id}","starred_url":"https://api.github.com/users/astefan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astefan/subscriptions","organizations_url":"https://api.github.com/users/astefan/orgs","repos_url":"https://api.github.com/users/astefan/repos","events_url":"https://api.github.com/users/astefan/events{/privacy}","received_events_url":"https://api.github.com/users/astefan/received_events","type":"User","site_admin":false},"performed_via_github_app":null}