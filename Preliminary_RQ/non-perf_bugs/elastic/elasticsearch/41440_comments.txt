[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/485838364","html_url":"https://github.com/elastic/elasticsearch/issues/41440#issuecomment-485838364","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41440","id":485838364,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NTgzODM2NA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-04-23T14:54:28Z","updated_at":"2019-04-23T14:54:28Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-features","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/489626805","html_url":"https://github.com/elastic/elasticsearch/issues/41440#issuecomment-489626805","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41440","id":489626805,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTYyNjgwNQ==","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"created_at":"2019-05-06T13:48:02Z","updated_at":"2019-05-06T13:48:02Z","author_association":"MEMBER","body":"We have another failure in https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.1+matrix-java-periodic/ES_BUILD_JAVA=openjdk12,ES_RUNTIME_JAVA=zulu11,nodes=immutable&&linux&&docker/9/console\r\n\r\nReproduction line (does not reproduce locally):\r\n\r\n```\r\n./gradlew :x-pack:plugin:ilm:qa:with-security:integTestRunner --tests \"org.elasticsearch.xpack.security.PermissionsIT.testWhenUserLimitedByOnlyAliasOfIndexCanWriteToIndexWhichWasRolledoverByILMPolicy\" -Dtests.seed=27723EFC61E2EF2E -Dtests.security.manager=true -Dtests.locale=ne-IN -Dtests.timezone=Europe/Warsaw -Dcompiler.java=12 -Druntime.java=11\r\n```\r\n\r\nFailure message:\r\n\r\n```\r\n java.lang.RuntimeException: org.elasticsearch.client.ResponseException: method [GET], host [http://[::1]:33629], URI [/foo-logs-000002/_search], status line [HTTP/1.1 503 Service Unavailable]\r\n    {\"error\":{\"root_cause\":[],\"type\":\"search_phase_execution_exception\",\"reason\":\"all shards failed\",\"phase\":\"query\",\"grouped\":true,\"failed_shards\":[]},\"status\":503}\r\n        at __randomizedtesting.SeedInfo.seed([27723EFC61E2EF2E:F1A6D82B60925385]:0)\r\n        at org.elasticsearch.xpack.security.PermissionsIT.lambda$testWhenUserLimitedByOnlyAliasOfIndexCanWriteToIndexWhichWasRolledoverByILMPolicy$4(PermissionsIT.java:186)\r\n        at org.elasticsearch.test.ESTestCase.awaitBusy(ESTestCase.java:889)\r\n        at org.elasticsearch.test.ESTestCase.awaitBusy(ESTestCase.java:878)\r\n        at org.elasticsearch.xpack.security.PermissionsIT.testWhenUserLimitedByOnlyAliasOfIndexCanWriteToIndexWhichWasRolledoverByILMPolicy(PermissionsIT.java:176)\r\n\r\n        Caused by:\r\n        org.elasticsearch.client.ResponseException: method [GET], host [http://[::1]:33629], URI [/foo-logs-000002/_search], status line [HTTP/1.1 503 Service Unavailable]\r\n        {\"error\":{\"root_cause\":[],\"type\":\"search_phase_execution_exception\",\"reason\":\"all shards failed\",\"phase\":\"query\",\"grouped\":true,\"failed_shards\":[]},\"status\":503}\r\n```\r\n\r\nAlso attaching the [cluster log](https://github.com/elastic/elasticsearch/files/3148176/x-pack_plugin_ilm_qa_with-security_integTestCluster.log).\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/501653631","html_url":"https://github.com/elastic/elasticsearch/issues/41440#issuecomment-501653631","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41440","id":501653631,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTY1MzYzMQ==","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"created_at":"2019-06-13T10:53:50Z","updated_at":"2019-06-13T10:53:50Z","author_association":"CONTRIBUTOR","body":"Another failure : \r\n```\r\n\r\nREPRODUCE WITH: ./gradlew :x-pack:plugin:ilm:qa:with-security:integTestRunner --tests \"org.elasticsearch.xpack.security.PermissionsIT.testWhenUserLimitedByOnlyAliasOfIndexCanWriteToIndexWhichWasRolledoverByILMPolicy\" \\\r\n  -Dtests.seed=5EC880B35B603DEF \\\r\n  -Dtests.security.manager=true \\\r\n  -Dtests.locale=pa \\\r\n  -Dtests.timezone=Asia/Seoul \\\r\n  -Dcompiler.java=12 \\\r\n  -Druntime.java=11\r\n\r\nREPRODUCE WITH: ./gradlew :x-pack:plugin:ilm:qa:with-security:integTestRunner --tests \"org.elasticsearch.xpack.security.PermissionsIT.testWhenUserLimitedByOnlyAliasOfIndexCanWriteToIndexWhichWasRolledoverByILMPolicy\" \\\r\n  -Dtests.seed=5EC880B35B603DEF \\\r\n  -Dtests.security.manager=true \\\r\n  -Dtests.locale=pa \\\r\n  -Dtests.timezone=Asia/Seoul \\\r\n  -Dcompiler.java=12 \\\r\n  -Druntime.java=11\r\n```\r\nhttps://scans.gradle.com/s/es6lo3sc42bxg","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/536122578","html_url":"https://github.com/elastic/elasticsearch/issues/41440#issuecomment-536122578","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41440","id":536122578,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjEyMjU3OA==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2019-09-27T23:06:54Z","updated_at":"2019-09-27T23:07:35Z","author_association":"CONTRIBUTOR","body":"Here's another incidence, although a different error. This is an assertion error:\r\n\r\n```\r\njava.lang.AssertionError: \r\n\r\nExpected: <1>\r\n     but: was <0>\r\n```\r\n\r\nhttps://gradle-enterprise.elastic.co/s/jctl6yfq3k7tw/tests/2gzwilc7fv272-asrfi26w7s552","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/536639527","html_url":"https://github.com/elastic/elasticsearch/issues/41440#issuecomment-536639527","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41440","id":536639527,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjYzOTUyNw==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2019-09-30T16:23:28Z","updated_at":"2019-09-30T16:23:28Z","author_association":"CONTRIBUTOR","body":"Here's another one of the same assertion error:\r\n\r\nhttps://gradle-enterprise.elastic.co/s/cchnav6os4aj4/tests/2gzwilc7fv272-asrfi26w7s552","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/536650353","html_url":"https://github.com/elastic/elasticsearch/issues/41440#issuecomment-536650353","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41440","id":536650353,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjY1MDM1Mw==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2019-09-30T16:51:37Z","updated_at":"2019-09-30T16:51:37Z","author_association":"CONTRIBUTOR","body":"This has started [regularly failing](https://build-stats.elastic.co/app/kibana#/discover?_g=(refreshInterval:(pause:!t,value:0),time:(from:now-30d,mode:quick,to:now))&_a=(columns:!(message,branch),index:e58bf320-7efd-11e8-bf69-63c8ef516157,interval:auto,query:(language:kuery,query:'test:%20%22testWhenUserLimitedByOnlyAliasOfIndexCanWriteToIndexWhichWasRolledoverByILMPolicy%22'),sort:!(time,desc))) with the below error since last week so I've muted this in `master`.\r\n\r\n```\r\njava.lang.AssertionError: \r\nExpected: <1>\r\n     but: was <0>\r\n```","performed_via_github_app":null}]