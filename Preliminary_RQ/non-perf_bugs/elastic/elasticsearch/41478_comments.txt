[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/486183305","html_url":"https://github.com/elastic/elasticsearch/issues/41478#issuecomment-486183305","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41478","id":486183305,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NjE4MzMwNQ==","user":{"login":"astefan","id":893749,"node_id":"MDQ6VXNlcjg5Mzc0OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/893749?v=4","gravatar_id":"","url":"https://api.github.com/users/astefan","html_url":"https://github.com/astefan","followers_url":"https://api.github.com/users/astefan/followers","following_url":"https://api.github.com/users/astefan/following{/other_user}","gists_url":"https://api.github.com/users/astefan/gists{/gist_id}","starred_url":"https://api.github.com/users/astefan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astefan/subscriptions","organizations_url":"https://api.github.com/users/astefan/orgs","repos_url":"https://api.github.com/users/astefan/repos","events_url":"https://api.github.com/users/astefan/events{/privacy}","received_events_url":"https://api.github.com/users/astefan/received_events","type":"User","site_admin":false},"created_at":"2019-04-24T11:26:32Z","updated_at":"2019-04-24T11:26:32Z","author_association":"CONTRIBUTOR","body":"@pctj101 From your snippet I think it's missing the last line: `-> Installed repository-s3` which means the plugin should have been installed already and the warning you see there is only that, a warning. This is normal behavior.\r\n\r\nWhat's your concern?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/486183436","html_url":"https://github.com/elastic/elasticsearch/issues/41478#issuecomment-486183436","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41478","id":486183436,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NjE4MzQzNg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-04-24T11:27:03Z","updated_at":"2019-04-24T11:27:03Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/486211758","html_url":"https://github.com/elastic/elasticsearch/issues/41478#issuecomment-486211758","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41478","id":486211758,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NjIxMTc1OA==","user":{"login":"pctj101","id":12287,"node_id":"MDQ6VXNlcjEyMjg3","avatar_url":"https://avatars0.githubusercontent.com/u/12287?v=4","gravatar_id":"","url":"https://api.github.com/users/pctj101","html_url":"https://github.com/pctj101","followers_url":"https://api.github.com/users/pctj101/followers","following_url":"https://api.github.com/users/pctj101/following{/other_user}","gists_url":"https://api.github.com/users/pctj101/gists{/gist_id}","starred_url":"https://api.github.com/users/pctj101/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pctj101/subscriptions","organizations_url":"https://api.github.com/users/pctj101/orgs","repos_url":"https://api.github.com/users/pctj101/repos","events_url":"https://api.github.com/users/pctj101/events{/privacy}","received_events_url":"https://api.github.com/users/pctj101/received_events","type":"User","site_admin":false},"created_at":"2019-04-24T12:43:26Z","updated_at":"2019-04-24T12:43:26Z","author_association":"NONE","body":"At first glance it looked like a true failure which was falsely claiming to be a success. \r\n\r\nIt may be a symptom of seeing so many warning lines that I didn’t naturally believe in the success message. Surely with so much warning something is bound to break in runtime (even if all the files landed on disk). \r\n\r\nA message which says don’t worry we expect the following messages would be cool. (In case a root cause fix isn’t easy to implement)\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/486212211","html_url":"https://github.com/elastic/elasticsearch/issues/41478#issuecomment-486212211","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41478","id":486212211,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NjIxMjIxMQ==","user":{"login":"pctj101","id":12287,"node_id":"MDQ6VXNlcjEyMjg3","avatar_url":"https://avatars0.githubusercontent.com/u/12287?v=4","gravatar_id":"","url":"https://api.github.com/users/pctj101","html_url":"https://github.com/pctj101","followers_url":"https://api.github.com/users/pctj101/followers","following_url":"https://api.github.com/users/pctj101/following{/other_user}","gists_url":"https://api.github.com/users/pctj101/gists{/gist_id}","starred_url":"https://api.github.com/users/pctj101/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pctj101/subscriptions","organizations_url":"https://api.github.com/users/pctj101/orgs","repos_url":"https://api.github.com/users/pctj101/repos","events_url":"https://api.github.com/users/pctj101/events{/privacy}","received_events_url":"https://api.github.com/users/pctj101/received_events","type":"User","site_admin":false},"created_at":"2019-04-24T12:44:49Z","updated_at":"2019-04-24T12:44:49Z","author_association":"NONE","body":"I also thought oh, how do I grant those permissions for runtime? But maybe in reality it’s only warning about the installation using deprecated APIs. \r\n\r\nHard to be sure only looking at the success message. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/486216334","html_url":"https://github.com/elastic/elasticsearch/issues/41478#issuecomment-486216334","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41478","id":486216334,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NjIxNjMzNA==","user":{"login":"astefan","id":893749,"node_id":"MDQ6VXNlcjg5Mzc0OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/893749?v=4","gravatar_id":"","url":"https://api.github.com/users/astefan","html_url":"https://github.com/astefan","followers_url":"https://api.github.com/users/astefan/followers","following_url":"https://api.github.com/users/astefan/following{/other_user}","gists_url":"https://api.github.com/users/astefan/gists{/gist_id}","starred_url":"https://api.github.com/users/astefan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astefan/subscriptions","organizations_url":"https://api.github.com/users/astefan/orgs","repos_url":"https://api.github.com/users/astefan/repos","events_url":"https://api.github.com/users/astefan/events{/privacy}","received_events_url":"https://api.github.com/users/astefan/received_events","type":"User","site_admin":false},"created_at":"2019-04-24T12:54:51Z","updated_at":"2019-04-24T12:54:51Z","author_association":"CONTRIBUTOR","body":"@pctj101 if you call `elasticsearch-plugin install --help`, the output will mention what `-b` option is doing:\r\n```\r\n-b, --batch        Enable batch mode explicitly, automatic confirmation of\r\n                     security permission\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/486223463","html_url":"https://github.com/elastic/elasticsearch/issues/41478#issuecomment-486223463","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41478","id":486223463,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NjIyMzQ2Mw==","user":{"login":"pctj101","id":12287,"node_id":"MDQ6VXNlcjEyMjg3","avatar_url":"https://avatars0.githubusercontent.com/u/12287?v=4","gravatar_id":"","url":"https://api.github.com/users/pctj101","html_url":"https://github.com/pctj101","followers_url":"https://api.github.com/users/pctj101/followers","following_url":"https://api.github.com/users/pctj101/following{/other_user}","gists_url":"https://api.github.com/users/pctj101/gists{/gist_id}","starred_url":"https://api.github.com/users/pctj101/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pctj101/subscriptions","organizations_url":"https://api.github.com/users/pctj101/orgs","repos_url":"https://api.github.com/users/pctj101/repos","events_url":"https://api.github.com/users/pctj101/events{/privacy}","received_events_url":"https://api.github.com/users/pctj101/received_events","type":"User","site_admin":false},"created_at":"2019-04-24T13:13:39Z","updated_at":"2019-04-24T13:13:39Z","author_association":"NONE","body":"Agreed. However I can tell you that I had the impression that regardless of the install state, such permission warning referred to possible runtime failures. \r\n\r\nAnyways I believe I’ve said enough from a user perspective. \r\n\r\nProduct design has its reasons and speaking only for myself I am happy that I now understand the messages. :)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/486224792","html_url":"https://github.com/elastic/elasticsearch/issues/41478#issuecomment-486224792","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41478","id":486224792,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NjIyNDc5Mg==","user":{"login":"pctj101","id":12287,"node_id":"MDQ6VXNlcjEyMjg3","avatar_url":"https://avatars0.githubusercontent.com/u/12287?v=4","gravatar_id":"","url":"https://api.github.com/users/pctj101","html_url":"https://github.com/pctj101","followers_url":"https://api.github.com/users/pctj101/followers","following_url":"https://api.github.com/users/pctj101/following{/other_user}","gists_url":"https://api.github.com/users/pctj101/gists{/gist_id}","starred_url":"https://api.github.com/users/pctj101/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pctj101/subscriptions","organizations_url":"https://api.github.com/users/pctj101/orgs","repos_url":"https://api.github.com/users/pctj101/repos","events_url":"https://api.github.com/users/pctj101/events{/privacy}","received_events_url":"https://api.github.com/users/pctj101/received_events","type":"User","site_admin":false},"created_at":"2019-04-24T13:17:05Z","updated_at":"2019-04-24T13:17:05Z","author_association":"NONE","body":"I admit it has been more than a year since I touched that Docker file and had since forgotten the content of that help message. \r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/486805071","html_url":"https://github.com/elastic/elasticsearch/issues/41478#issuecomment-486805071","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41478","id":486805071,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NjgwNTA3MQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2019-04-25T19:22:01Z","updated_at":"2019-04-25T19:22:01Z","author_association":"MEMBER","body":"> Surely with so much warning something is bound to break in runtime (even if all the files landed on disk).\r\n\r\nThe warnings are deliberate, as plugins (even our own plugins!) are considered untrusted code by Elasticsearch, and the plugin is requesting elevated privileges over and above what is granted by default. When you install the plugin in non-batch mode, these warnings are followed by a prompt to accept or reject these elevated privileges for the plugin. Only in batch mode is the acknowledgement not required. Whether or not the plugin is installed in `batch` mode we feel it is important to surface these elevated privileges to the user so that they can decide whether or not to continue with using the plugin based on their security standards.\r\n\r\nAs with any CLI tool, the exit status here of zero would be indicative of success, and otherwise would be non-zero if a failure did actually occur.","performed_via_github_app":null}]