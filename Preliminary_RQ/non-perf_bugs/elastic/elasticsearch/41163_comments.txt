[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/483153107","html_url":"https://github.com/elastic/elasticsearch/issues/41163#issuecomment-483153107","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41163","id":483153107,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzE1MzEwNw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-04-15T08:15:23Z","updated_at":"2019-04-15T08:15:23Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-features","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/496105979","html_url":"https://github.com/elastic/elasticsearch/issues/41163#issuecomment-496105979","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41163","id":496105979,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NjEwNTk3OQ==","user":{"login":"chigix","id":2692787,"node_id":"MDQ6VXNlcjI2OTI3ODc=","avatar_url":"https://avatars0.githubusercontent.com/u/2692787?v=4","gravatar_id":"","url":"https://api.github.com/users/chigix","html_url":"https://github.com/chigix","followers_url":"https://api.github.com/users/chigix/followers","following_url":"https://api.github.com/users/chigix/following{/other_user}","gists_url":"https://api.github.com/users/chigix/gists{/gist_id}","starred_url":"https://api.github.com/users/chigix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chigix/subscriptions","organizations_url":"https://api.github.com/users/chigix/orgs","repos_url":"https://api.github.com/users/chigix/repos","events_url":"https://api.github.com/users/chigix/events{/privacy}","received_events_url":"https://api.github.com/users/chigix/received_events","type":"User","site_admin":false},"created_at":"2019-05-27T07:15:59Z","updated_at":"2019-05-27T07:15:59Z","author_association":"NONE","body":"Hi, May I ask about the decision whether this issue would be processed recently? Actually, I'm expecting to have a copy field with the generated ID text as well.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/496433388","html_url":"https://github.com/elastic/elasticsearch/issues/41163#issuecomment-496433388","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41163","id":496433388,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NjQzMzM4OA==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2019-05-28T09:12:31Z","updated_at":"2019-05-28T09:12:31Z","author_association":"MEMBER","body":"Agreed, accessing the _id in a pipeline for documents with auto generated ids leads to unexpected behaviour. So this needs to be documented, on top of that I'm leaning towards also throwing a descriptive error in the case there is no _id present. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/497368633","html_url":"https://github.com/elastic/elasticsearch/issues/41163#issuecomment-497368633","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41163","id":497368633,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzM2ODYzMw==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2019-05-30T15:20:44Z","updated_at":"2019-05-30T15:20:44Z","author_association":"MEMBER","body":"We discussed this issue and failing with a descriptive error is preferred over the current behaviour if the id is missing and a pipeline uses `{{_id}}`.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/539074754","html_url":"https://github.com/elastic/elasticsearch/issues/41163#issuecomment-539074754","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41163","id":539074754,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTA3NDc1NA==","user":{"login":"jrodewig","id":40268737,"node_id":"MDQ6VXNlcjQwMjY4NzM3","avatar_url":"https://avatars1.githubusercontent.com/u/40268737?v=4","gravatar_id":"","url":"https://api.github.com/users/jrodewig","html_url":"https://github.com/jrodewig","followers_url":"https://api.github.com/users/jrodewig/followers","following_url":"https://api.github.com/users/jrodewig/following{/other_user}","gists_url":"https://api.github.com/users/jrodewig/gists{/gist_id}","starred_url":"https://api.github.com/users/jrodewig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrodewig/subscriptions","organizations_url":"https://api.github.com/users/jrodewig/orgs","repos_url":"https://api.github.com/users/jrodewig/repos","events_url":"https://api.github.com/users/jrodewig/events{/privacy}","received_events_url":"https://api.github.com/users/jrodewig/received_events","type":"User","site_admin":false},"created_at":"2019-10-07T15:40:47Z","updated_at":"2019-10-07T15:40:47Z","author_association":"CONTRIBUTOR","body":"[docs issue triage]\r\n\r\nLeaving open. This is still relevant.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/581654456","html_url":"https://github.com/elastic/elasticsearch/issues/41163#issuecomment-581654456","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41163","id":581654456,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MTY1NDQ1Ng==","user":{"login":"hlzhang","id":1484631,"node_id":"MDQ6VXNlcjE0ODQ2MzE=","avatar_url":"https://avatars3.githubusercontent.com/u/1484631?v=4","gravatar_id":"","url":"https://api.github.com/users/hlzhang","html_url":"https://github.com/hlzhang","followers_url":"https://api.github.com/users/hlzhang/followers","following_url":"https://api.github.com/users/hlzhang/following{/other_user}","gists_url":"https://api.github.com/users/hlzhang/gists{/gist_id}","starred_url":"https://api.github.com/users/hlzhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hlzhang/subscriptions","organizations_url":"https://api.github.com/users/hlzhang/orgs","repos_url":"https://api.github.com/users/hlzhang/repos","events_url":"https://api.github.com/users/hlzhang/events{/privacy}","received_events_url":"https://api.github.com/users/hlzhang/received_events","type":"User","site_admin":false},"created_at":"2020-02-03T22:42:07Z","updated_at":"2020-02-03T22:42:07Z","author_association":"NONE","body":"> \r\n> \r\n> Agreed, accessing the _id in a pipeline for documents with auto generated ids leads to unexpected behaviour. So this needs to be documented, on top of that I'm leaning towards also throwing a descriptive error in the case there is no _id present.\r\n\r\nDo not agree.\r\n\r\nYou should at least provide read-only access to the _id field in pipeline.\r\nWe ingest about 1TB of logs per day from hundreds of different entities and we analyze those logs every night. Without read-only access to the _id field.\r\n\r\nWe have to use the expensive scroll API. We can not use the Search After feature because of duplicate _id value to another field with doc_values enabled is a very slow operation.\r\n\r\nI don't know if it's possible to do thousands of scrolls in parallel on tens of TB's data.\r\n\r\nThere is no elegant way to have a duplicate id as https://www.elastic.co/guide/en/elasticsearch/reference/7.5/search-request-body.html#request-body-search-search-after said: \"Instead it is advised to duplicate (client side or with a set ingest processor) the content of the _id field in another field that has doc value enabled and to use this new field as the tiebreaker for the sort.\"\r\n\r\nI can generate flake id as Elasticsearch does by developing a Flake Id Logstash Plugin but this would slow down the indexing speed (see: https://www.elastic.co/guide/en/elasticsearch/reference/current/tune-for-indexing-speed.html).\r\n\r\nIf I can not duplicate _id as the official document said the search after is totally useless for me.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/581891943","html_url":"https://github.com/elastic/elasticsearch/issues/41163#issuecomment-581891943","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41163","id":581891943,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MTg5MTk0Mw==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2020-02-04T12:40:05Z","updated_at":"2020-02-04T12:40:05Z","author_association":"MEMBER","body":"Maybe we can investigate generating the id prior to doing ingest. Currently generating an id happens after ingest has occurred.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/648653406","html_url":"https://github.com/elastic/elasticsearch/issues/41163#issuecomment-648653406","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41163","id":648653406,"node_id":"MDEyOklzc3VlQ29tbWVudDY0ODY1MzQwNg==","user":{"login":"HJK181","id":11541497,"node_id":"MDQ6VXNlcjExNTQxNDk3","avatar_url":"https://avatars2.githubusercontent.com/u/11541497?v=4","gravatar_id":"","url":"https://api.github.com/users/HJK181","html_url":"https://github.com/HJK181","followers_url":"https://api.github.com/users/HJK181/followers","following_url":"https://api.github.com/users/HJK181/following{/other_user}","gists_url":"https://api.github.com/users/HJK181/gists{/gist_id}","starred_url":"https://api.github.com/users/HJK181/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HJK181/subscriptions","organizations_url":"https://api.github.com/users/HJK181/orgs","repos_url":"https://api.github.com/users/HJK181/repos","events_url":"https://api.github.com/users/HJK181/events{/privacy}","received_events_url":"https://api.github.com/users/HJK181/received_events","type":"User","site_admin":false},"created_at":"2020-06-24T07:42:36Z","updated_at":"2020-06-24T07:42:36Z","author_association":"NONE","body":"This issue is open for about a year now and nothing happened to your documentation which is clearly wrong !!\r\nI've implemented the suggested set processor solution from the documentation:\r\n\r\n>  Instead it is advised to duplicate (client side or with a set ingest processor) the content of the _id field in another field that has doc value enabled and to use this new field as the tiebreaker for the sort.\r\n\r\nto now realize it was a waste of time as it's never going to work ?! Why aren't u able to update the documentation for about a year?","performed_via_github_app":null}]