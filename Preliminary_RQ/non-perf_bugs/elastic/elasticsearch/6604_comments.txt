[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46973478","html_url":"https://github.com/elastic/elasticsearch/issues/6604#issuecomment-46973478","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6604","id":46973478,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTczNDc4","user":{"login":"nilsga","id":42919,"node_id":"MDQ6VXNlcjQyOTE5","avatar_url":"https://avatars0.githubusercontent.com/u/42919?v=4","gravatar_id":"","url":"https://api.github.com/users/nilsga","html_url":"https://github.com/nilsga","followers_url":"https://api.github.com/users/nilsga/followers","following_url":"https://api.github.com/users/nilsga/following{/other_user}","gists_url":"https://api.github.com/users/nilsga/gists{/gist_id}","starred_url":"https://api.github.com/users/nilsga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nilsga/subscriptions","organizations_url":"https://api.github.com/users/nilsga/orgs","repos_url":"https://api.github.com/users/nilsga/repos","events_url":"https://api.github.com/users/nilsga/events{/privacy}","received_events_url":"https://api.github.com/users/nilsga/received_events","type":"User","site_admin":false},"created_at":"2014-06-24T13:55:25Z","updated_at":"2014-06-24T13:55:25Z","author_association":"NONE","body":"This is the code that used to work (0.90.13):\n\n```\nClusterStateResponse clusterStateResponse = esClient.admin().cluster().state(new ClusterStateRequest().all().nodes(false)).actionGet();\nDiscoveryNodes nodes = clusterStateResponse.getState().getNodes();\nString master = nodes.getMasterNodeId()\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/47092310","html_url":"https://github.com/elastic/elasticsearch/issues/6604#issuecomment-47092310","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6604","id":47092310,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDkyMzEw","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2014-06-25T12:07:05Z","updated_at":"2014-06-25T12:07:05Z","author_association":"MEMBER","body":"Hey,\n\nyou are right, the API has changed. As the master node id is part of the `getNodes()` response, you need to enable the nodes part in order to get back in version 1.0. You can call `clear().nodes(true)` in order to only get the nodes data back.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/47093691","html_url":"https://github.com/elastic/elasticsearch/issues/6604#issuecomment-47093691","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6604","id":47093691,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MDkzNjkx","user":{"login":"nilsga","id":42919,"node_id":"MDQ6VXNlcjQyOTE5","avatar_url":"https://avatars0.githubusercontent.com/u/42919?v=4","gravatar_id":"","url":"https://api.github.com/users/nilsga","html_url":"https://github.com/nilsga","followers_url":"https://api.github.com/users/nilsga/followers","following_url":"https://api.github.com/users/nilsga/following{/other_user}","gists_url":"https://api.github.com/users/nilsga/gists{/gist_id}","starred_url":"https://api.github.com/users/nilsga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nilsga/subscriptions","organizations_url":"https://api.github.com/users/nilsga/orgs","repos_url":"https://api.github.com/users/nilsga/repos","events_url":"https://api.github.com/users/nilsga/events{/privacy}","received_events_url":"https://api.github.com/users/nilsga/received_events","type":"User","site_admin":false},"created_at":"2014-06-25T12:23:51Z","updated_at":"2014-06-25T12:40:00Z","author_association":"NONE","body":"Using the rest api, I can't see that the master node information is included in the nodes response?\n\nhttp://localhost:9200/_cluster/state gives json back with \"master_node\" info. http://localhost:9200/_cluster/state/nodes only lists the node, with no indication which node is master.\n\nEdit: It does work with setting nodes(true) though, so I guess the Java API does not directly map to the rest API.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/47108915","html_url":"https://github.com/elastic/elasticsearch/issues/6604#issuecomment-47108915","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6604","id":47108915,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MTA4OTE1","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2014-06-25T14:34:29Z","updated_at":"2014-06-25T14:34:29Z","author_association":"MEMBER","body":"The REST API is different, see http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/cluster-state.html\n\nYou can use the `master_node` parameter explicitely.\n\nAlso, you might want to use the `/_cat/master` endpoint, if you just need to find out the master.\n","performed_via_github_app":null}]