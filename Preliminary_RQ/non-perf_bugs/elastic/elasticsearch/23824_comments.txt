[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/290756743","html_url":"https://github.com/elastic/elasticsearch/issues/23824#issuecomment-290756743","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23824","id":290756743,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDc1Njc0Mw==","user":{"login":"Dimitrees","id":15691073,"node_id":"MDQ6VXNlcjE1NjkxMDcz","avatar_url":"https://avatars3.githubusercontent.com/u/15691073?v=4","gravatar_id":"","url":"https://api.github.com/users/Dimitrees","html_url":"https://github.com/Dimitrees","followers_url":"https://api.github.com/users/Dimitrees/followers","following_url":"https://api.github.com/users/Dimitrees/following{/other_user}","gists_url":"https://api.github.com/users/Dimitrees/gists{/gist_id}","starred_url":"https://api.github.com/users/Dimitrees/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Dimitrees/subscriptions","organizations_url":"https://api.github.com/users/Dimitrees/orgs","repos_url":"https://api.github.com/users/Dimitrees/repos","events_url":"https://api.github.com/users/Dimitrees/events{/privacy}","received_events_url":"https://api.github.com/users/Dimitrees/received_events","type":"User","site_admin":false},"created_at":"2017-03-31T16:11:00Z","updated_at":"2017-03-31T16:11:00Z","author_association":"NONE","body":"Hello, I am new to both your project and working with GitHub in general. Can I work on resolving this issue since its labeled as Low Hanging Fruit?\r\n\r\nThanks\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/297186624","html_url":"https://github.com/elastic/elasticsearch/issues/23824#issuecomment-297186624","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23824","id":297186624,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NzE4NjYyNA==","user":{"login":"asettouf","id":6400458,"node_id":"MDQ6VXNlcjY0MDA0NTg=","avatar_url":"https://avatars3.githubusercontent.com/u/6400458?v=4","gravatar_id":"","url":"https://api.github.com/users/asettouf","html_url":"https://github.com/asettouf","followers_url":"https://api.github.com/users/asettouf/followers","following_url":"https://api.github.com/users/asettouf/following{/other_user}","gists_url":"https://api.github.com/users/asettouf/gists{/gist_id}","starred_url":"https://api.github.com/users/asettouf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asettouf/subscriptions","organizations_url":"https://api.github.com/users/asettouf/orgs","repos_url":"https://api.github.com/users/asettouf/repos","events_url":"https://api.github.com/users/asettouf/events{/privacy}","received_events_url":"https://api.github.com/users/asettouf/received_events","type":"User","site_admin":false},"created_at":"2017-04-25T22:44:28Z","updated_at":"2017-04-25T22:44:28Z","author_association":"NONE","body":"Hello,\r\n\r\n@Dimitrees are you still working on it, or can I pick it up?\r\n\r\nThanks,\r\n\r\nAdonis","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/297190467","html_url":"https://github.com/elastic/elasticsearch/issues/23824#issuecomment-297190467","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23824","id":297190467,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NzE5MDQ2Nw==","user":{"login":"Dimitrees","id":15691073,"node_id":"MDQ6VXNlcjE1NjkxMDcz","avatar_url":"https://avatars3.githubusercontent.com/u/15691073?v=4","gravatar_id":"","url":"https://api.github.com/users/Dimitrees","html_url":"https://github.com/Dimitrees","followers_url":"https://api.github.com/users/Dimitrees/followers","following_url":"https://api.github.com/users/Dimitrees/following{/other_user}","gists_url":"https://api.github.com/users/Dimitrees/gists{/gist_id}","starred_url":"https://api.github.com/users/Dimitrees/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Dimitrees/subscriptions","organizations_url":"https://api.github.com/users/Dimitrees/orgs","repos_url":"https://api.github.com/users/Dimitrees/repos","events_url":"https://api.github.com/users/Dimitrees/events{/privacy}","received_events_url":"https://api.github.com/users/Dimitrees/received_events","type":"User","site_admin":false},"created_at":"2017-04-25T23:05:13Z","updated_at":"2017-04-25T23:05:13Z","author_association":"NONE","body":"Its yours, sorry for not unassigning myself earlier. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/298267869","html_url":"https://github.com/elastic/elasticsearch/issues/23824#issuecomment-298267869","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23824","id":298267869,"node_id":"MDEyOklzc3VlQ29tbWVudDI5ODI2Nzg2OQ==","user":{"login":"asettouf","id":6400458,"node_id":"MDQ6VXNlcjY0MDA0NTg=","avatar_url":"https://avatars3.githubusercontent.com/u/6400458?v=4","gravatar_id":"","url":"https://api.github.com/users/asettouf","html_url":"https://github.com/asettouf","followers_url":"https://api.github.com/users/asettouf/followers","following_url":"https://api.github.com/users/asettouf/following{/other_user}","gists_url":"https://api.github.com/users/asettouf/gists{/gist_id}","starred_url":"https://api.github.com/users/asettouf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asettouf/subscriptions","organizations_url":"https://api.github.com/users/asettouf/orgs","repos_url":"https://api.github.com/users/asettouf/repos","events_url":"https://api.github.com/users/asettouf/events{/privacy}","received_events_url":"https://api.github.com/users/asettouf/received_events","type":"User","site_admin":false},"created_at":"2017-05-01T00:37:46Z","updated_at":"2017-05-02T12:54:05Z","author_association":"NONE","body":"Here is a PR regarding this issue. As it is one of my first PR, I look forward to your feedback.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/331092414","html_url":"https://github.com/elastic/elasticsearch/issues/23824#issuecomment-331092414","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23824","id":331092414,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTA5MjQxNA==","user":{"login":"liketic","id":3806117,"node_id":"MDQ6VXNlcjM4MDYxMTc=","avatar_url":"https://avatars0.githubusercontent.com/u/3806117?v=4","gravatar_id":"","url":"https://api.github.com/users/liketic","html_url":"https://github.com/liketic","followers_url":"https://api.github.com/users/liketic/followers","following_url":"https://api.github.com/users/liketic/following{/other_user}","gists_url":"https://api.github.com/users/liketic/gists{/gist_id}","starred_url":"https://api.github.com/users/liketic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liketic/subscriptions","organizations_url":"https://api.github.com/users/liketic/orgs","repos_url":"https://api.github.com/users/liketic/repos","events_url":"https://api.github.com/users/liketic/events{/privacy}","received_events_url":"https://api.github.com/users/liketic/received_events","type":"User","site_admin":false},"created_at":"2017-09-21T08:44:00Z","updated_at":"2017-09-21T08:44:00Z","author_association":"CONTRIBUTOR","body":"@talevy Can I work on this? Thanks. ðŸ˜„ ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/331221266","html_url":"https://github.com/elastic/elasticsearch/issues/23824#issuecomment-331221266","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23824","id":331221266,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTIyMTI2Ng==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2017-09-21T17:10:15Z","updated_at":"2017-09-21T17:10:15Z","author_association":"CONTRIBUTOR","body":"yeah @liketic!\r\n\r\nIf you look at my comment here: https://github.com/elastic/elasticsearch/pull/24410#pullrequestreview-42156108, that is what I had in mind for a possible solution.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/331465071","html_url":"https://github.com/elastic/elasticsearch/issues/23824#issuecomment-331465071","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23824","id":331465071,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTQ2NTA3MQ==","user":{"login":"liketic","id":3806117,"node_id":"MDQ6VXNlcjM4MDYxMTc=","avatar_url":"https://avatars0.githubusercontent.com/u/3806117?v=4","gravatar_id":"","url":"https://api.github.com/users/liketic","html_url":"https://github.com/liketic","followers_url":"https://api.github.com/users/liketic/followers","following_url":"https://api.github.com/users/liketic/following{/other_user}","gists_url":"https://api.github.com/users/liketic/gists{/gist_id}","starred_url":"https://api.github.com/users/liketic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liketic/subscriptions","organizations_url":"https://api.github.com/users/liketic/orgs","repos_url":"https://api.github.com/users/liketic/repos","events_url":"https://api.github.com/users/liketic/events{/privacy}","received_events_url":"https://api.github.com/users/liketic/received_events","type":"User","site_admin":false},"created_at":"2017-09-22T14:36:52Z","updated_at":"2017-09-22T14:36:52Z","author_association":"CONTRIBUTOR","body":"@talevy Thanks for your help. Seems like this issue is much complexer than I thought. We read the processor configs as `List<Map<String, Map<String, Object>>>`, and in all methods, we assume the value of each key in a `Map` is a `Map`, however, `script` allows the value to be a `String`. That's the problem. So I think we can resolve this through:\r\n1) Read processor configs as  `List<Map<String, Object>>`. But for method `readProcessor`, we need to detect if the `value` object is a `Map` or a `String`. If it's a `String`, need to normalize it to a `Map`.\r\n2) In `ScriptProcessor`, parse `Script` by `Script.parse` as you mentioned. and clear all script related properties. \r\n\r\nI didn't find another place can call the `readScript` method, because the `script` parsing is done in `ScriptProcessor` and `ScriptProcessor` is created in `factory`.  So seems like this resolution is another work around. I'm not a expert to `es`, so I'm not sure if this resolution is make sense to you. \r\nHappy to know your thoughts. Thanks very much!\r\n ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/333316108","html_url":"https://github.com/elastic/elasticsearch/issues/23824#issuecomment-333316108","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23824","id":333316108,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzMxNjEwOA==","user":{"login":"liketic","id":3806117,"node_id":"MDQ6VXNlcjM4MDYxMTc=","avatar_url":"https://avatars0.githubusercontent.com/u/3806117?v=4","gravatar_id":"","url":"https://api.github.com/users/liketic","html_url":"https://github.com/liketic","followers_url":"https://api.github.com/users/liketic/followers","following_url":"https://api.github.com/users/liketic/following{/other_user}","gists_url":"https://api.github.com/users/liketic/gists{/gist_id}","starred_url":"https://api.github.com/users/liketic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liketic/subscriptions","organizations_url":"https://api.github.com/users/liketic/orgs","repos_url":"https://api.github.com/users/liketic/repos","events_url":"https://api.github.com/users/liketic/events{/privacy}","received_events_url":"https://api.github.com/users/liketic/received_events","type":"User","site_admin":false},"created_at":"2017-09-30T15:32:53Z","updated_at":"2017-09-30T15:32:53Z","author_association":"CONTRIBUTOR","body":"@talevy I opened a PR as I thought. Please add your comments or close it if it does not make sense. Thanks. ðŸ˜„ ","performed_via_github_app":null}]