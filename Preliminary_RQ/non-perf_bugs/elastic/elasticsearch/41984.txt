{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/41984","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41984/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41984/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41984/events","html_url":"https://github.com/elastic/elasticsearch/issues/41984","id":441985645,"node_id":"MDU6SXNzdWU0NDE5ODU2NDU=","number":41984,"title":"Upgrading to ES 7.0 in Elastic Cloud SAML gives error","user":{"login":"mitchelldavis44","id":6354781,"node_id":"MDQ6VXNlcjYzNTQ3ODE=","avatar_url":"https://avatars1.githubusercontent.com/u/6354781?v=4","gravatar_id":"","url":"https://api.github.com/users/mitchelldavis44","html_url":"https://github.com/mitchelldavis44","followers_url":"https://api.github.com/users/mitchelldavis44/followers","following_url":"https://api.github.com/users/mitchelldavis44/following{/other_user}","gists_url":"https://api.github.com/users/mitchelldavis44/gists{/gist_id}","starred_url":"https://api.github.com/users/mitchelldavis44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mitchelldavis44/subscriptions","organizations_url":"https://api.github.com/users/mitchelldavis44/orgs","repos_url":"https://api.github.com/users/mitchelldavis44/repos","events_url":"https://api.github.com/users/mitchelldavis44/events{/privacy}","received_events_url":"https://api.github.com/users/mitchelldavis44/received_events","type":"User","site_admin":false},"labels":[{"id":912838209,"node_id":"MDU6TGFiZWw5MTI4MzgyMDk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Security/Authorization","name":":Security/Authorization","color":"0e8a16","default":false,"description":"Roles, Privileges, DLS/FLS, RBAC/ABAC"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-05-08T23:27:14Z","updated_at":"2019-05-13T10:28:50Z","closed_at":"2019-05-13T10:28:50Z","author_association":"NONE","active_lock_reason":null,"body":"We're currently on Elastic cloud version 6.7.2 and we're attempting to upgrade to ES 7.0.1.  It is requiring that we change our SAML configuration and remove the \"type\" attribute.  When I do that I get an error when attempting to save with \"'xpack.security.authc.realms.saml': is not allowed\".  I searched the docs for any help and unfortunately, it seems the docs are not updated and do not reflect the latest changes.  See here -> [(https://www.elastic.co/guide/en/cloud/current/ec-securing-clusters-SAML.html)](url)\r\n\r\nI've attached our config below (obviously taking out our SAML addresses), is there something I'm doing wrong?\r\n\r\n```\r\nxpack:\r\n  security:\r\n    authc:\r\n      realms:\r\n        saml:\r\n          saml1:\r\n            order: 2\r\n            attributes.principal: \"nameid:persistent\"\r\n            attributes.groups: \"groups\" \r\n            idp.metadata.path: \"https://samladdress\" \r\n            idp.entity_id: \"https://samladdress\" \r\n            sp.entity_id: \"https://samladdress:9243/\" \r\n            sp.acs: \"https://samladdress:9243/api/security/v1/saml\"\r\n            sp.logout: \"https://samladdress:9243/logout\"\r\n```\r\n<!-- Bug report -->\r\n\r\n**Steps to reproduce**:\r\n\r\nPlease include a *minimal* but *complete* recreation of the problem, including\r\n(e.g.) index creation, mappings, settings, query etc.  The easier you make for\r\nus to reproduce it, the more likely that somebody will take the time to look at it.\r\n\r\n 1.  Log into elastic cloud\r\n 2.  Choose cluster\r\n 3.  Attempt to update to 7.0.1\r\n\r\n**Provide logs (if relevant)**:\r\n\r\n","closed_by":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"performed_via_github_app":null}