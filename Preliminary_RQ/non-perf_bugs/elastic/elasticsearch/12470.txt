{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/12470","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12470/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12470/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12470/events","html_url":"https://github.com/elastic/elasticsearch/issues/12470","id":97390918,"node_id":"MDU6SXNzdWU5NzM5MDkxOA==","number":12470,"title":"Add support for DFS_SCAN search type","user":{"login":"pickypg","id":1501235,"node_id":"MDQ6VXNlcjE1MDEyMzU=","avatar_url":"https://avatars2.githubusercontent.com/u/1501235?v=4","gravatar_id":"","url":"https://api.github.com/users/pickypg","html_url":"https://github.com/pickypg","followers_url":"https://api.github.com/users/pickypg/followers","following_url":"https://api.github.com/users/pickypg/following{/other_user}","gists_url":"https://api.github.com/users/pickypg/gists{/gist_id}","starred_url":"https://api.github.com/users/pickypg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pickypg/subscriptions","organizations_url":"https://api.github.com/users/pickypg/orgs","repos_url":"https://api.github.com/users/pickypg/repos","events_url":"https://api.github.com/users/pickypg/events{/privacy}","received_events_url":"https://api.github.com/users/pickypg/received_events","type":"User","site_admin":false},"labels":[{"id":146832564,"node_id":"MDU6TGFiZWwxNDY4MzI1NjQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Search","name":":Search/Search","color":"0e8a16","default":false,"description":"Search-related issues that do not fall into other categories"},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-07-27T05:38:19Z","updated_at":"2018-02-14T13:31:28Z","closed_at":"2015-07-27T11:50:35Z","author_association":"MEMBER","active_lock_reason":null,"body":"If you use `track_scores=true` and `search_type=scan`, then there is no way to get the improved term frequencies for improved scoring like you can with `search_type=dfs_query_then_fetch`.\n\nThis is admittedly an uncommon use case, given that scores are disabled by default for scoring and sorting is always disabled, but for scenarios where granularity is important, then it is a small hole.\n\nIn terms of the proposed solution:\n#### Problem\n\nThere is no `SearchType.DFS_SCAN` option.\n#### Solution\n\nProvide the option and perform the traditional DFS lookup. _If_ `track_scores` is not enabled, then revert to normal `SearchType.SCAN`.\n#### Workaround\n\nNone that I am aware of.\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}