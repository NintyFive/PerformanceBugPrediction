[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/593321651","html_url":"https://github.com/elastic/elasticsearch/issues/52984#issuecomment-593321651","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52984","id":593321651,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzMyMTY1MQ==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2020-03-02T10:02:51Z","updated_at":"2020-03-02T10:02:51Z","author_association":"CONTRIBUTOR","body":"Thanks for your interest. Term partitioning is a large scale divide-and-conquer approach for performing certain types of analysis on millions or billions of unique terms, not evenly dividing small numbers of terms into pages. You should have no need to use this on so few documents.\r\n\r\nLaunching [this wizard ](https://plnkr.co/edit/eZr7r3KZW02AxNKAHCQa?p=preview) might give you some guidance as to when term partitioning is useful.\r\n\r\nThis feature is working as expected so I'm going to close this issue. Feel free to drop by our discuss  [forums](https://discuss.elastic.co/) for general questions of this nature.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/593361400","html_url":"https://github.com/elastic/elasticsearch/issues/52984#issuecomment-593361400","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52984","id":593361400,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzM2MTQwMA==","user":{"login":"rm2k","id":1936364,"node_id":"MDQ6VXNlcjE5MzYzNjQ=","avatar_url":"https://avatars3.githubusercontent.com/u/1936364?v=4","gravatar_id":"","url":"https://api.github.com/users/rm2k","html_url":"https://github.com/rm2k","followers_url":"https://api.github.com/users/rm2k/followers","following_url":"https://api.github.com/users/rm2k/following{/other_user}","gists_url":"https://api.github.com/users/rm2k/gists{/gist_id}","starred_url":"https://api.github.com/users/rm2k/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rm2k/subscriptions","organizations_url":"https://api.github.com/users/rm2k/orgs","repos_url":"https://api.github.com/users/rm2k/repos","events_url":"https://api.github.com/users/rm2k/events{/privacy}","received_events_url":"https://api.github.com/users/rm2k/received_events","type":"User","site_admin":false},"created_at":"2020-03-02T11:39:38Z","updated_at":"2020-03-02T11:44:36Z","author_association":"NONE","body":"@markharwood Thanks for the response. I understand the intended purpose and I don't intent to use it on few documents. The above was meant to be just a reproducible example.\r\n\r\nThe issue I was raising is even on few documents why would a mid partition (i.e. partition 1 in this case) contains 0 terms while all remaining terms are pushed into partition 3. What would be the real purpose of a request only to get empty result as in most times if not all we would process the terms in partition order 1,2,3, ...Am I'm still missing the whole point? If I am then I guess that would be the forum topic.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/593364075","html_url":"https://github.com/elastic/elasticsearch/issues/52984#issuecomment-593364075","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52984","id":593364075,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzM2NDA3NQ==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2020-03-02T11:47:17Z","updated_at":"2020-03-02T12:03:05Z","author_association":"CONTRIBUTOR","body":"> Am I'm still missing the whole point?\r\n\r\nWe use the same form of [hash modulo N](https://www.toptal.com/big-data/consistent-hashing) approach to term routing that is used in lots of distributed system algorithms including our system for routing documents to a choice of shard. It's a well-established practice that in large samples will even the data out across divisions but in very small samples like yours could be uneven. \r\nIf you want to continue a discussion the forum would be the place to do that.","performed_via_github_app":null}]