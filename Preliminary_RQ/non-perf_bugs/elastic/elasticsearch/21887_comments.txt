[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/292511711","html_url":"https://github.com/elastic/elasticsearch/issues/21887#issuecomment-292511711","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21887","id":292511711,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjUxMTcxMQ==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2017-04-07T11:20:48Z","updated_at":"2017-04-07T11:20:48Z","author_association":"MEMBER","body":"We might need to change re-index slightly to allow this change. \r\n\r\nThe reindex from remote determines the version of the remote cluster and changes its behaviour based on whether `version < 2.0.0`, `2.0.0 <= version < 2.1.0` or `version >= 2.1.0` (e.g. [1]). It does this by parsing the string version from a call to `GET /` into an instance of `Version`[2]. \r\n\r\nMaybe we should have re-index (and maybe the REST client) use their own version of the `Version` class that does not store the Lucene version (since they shouldn't need it), so that the versions that they are compatible with can be independent of the versions which are compatible internally?\r\n\r\n[1] https://github.com/elastic/elasticsearch/blob/master/modules/reindex/src/main/java/org/elasticsearch/index/reindex/remote/RemoteRequestBuilders.java#L72\r\n[2] https://github.com/elastic/elasticsearch/blob/master/modules/reindex/src/main/java/org/elasticsearch/index/reindex/remote/RemoteResponseParsers.java#L273","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/292523901","html_url":"https://github.com/elastic/elasticsearch/issues/21887#issuecomment-292523901","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21887","id":292523901,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjUyMzkwMQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2017-04-07T12:31:09Z","updated_at":"2017-04-07T12:31:09Z","author_association":"CONTRIBUTOR","body":"Makes sense to me. We don't need the lucene version over rest. Or we\nshouldn't, anyway. So long as they are comparable to each other that is\nfine.\n\nOn Fri, Apr 7, 2017, 7:20 AM Colin Goodheart-Smithe <\nnotifications@github.com> wrote:\n\n> We might need to change re-index slightly to allow this change.\n>\n> The reindex from remote determines the version of the remote cluster and\n> changes its behaviour based on whether version < 2.0.0, 2.0.0 <= version\n> < 2.1.0 or version >= 2.1.0 (e.g. [1]). It does this by parsing the\n> string version from a call to GET / into an instance of Version[2].\n>\n> Maybe we should have re-index (and maybe the REST client) use their own\n> version of the Version class that does not store the Lucene version\n> (since they shouldn't need it), so that the versions that they are\n> compatible with can be independent of the versions which are compatible\n> internally?\n>\n> [1]\n> https://github.com/elastic/elasticsearch/blob/master/modules/reindex/src/main/java/org/elasticsearch/index/reindex/remote/RemoteRequestBuilders.java#L72\n> [2]\n> https://github.com/elastic/elasticsearch/blob/master/modules/reindex/src/main/java/org/elasticsearch/index/reindex/remote/RemoteResponseParsers.java#L273\n>\n> â€”\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/elastic/elasticsearch/issues/21887#issuecomment-292511711>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AANLopGcbfooWOCGA8WRdDsK7HteWjQOks5rthwTgaJpZM4LAREm>\n> .\n>\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/292544663","html_url":"https://github.com/elastic/elasticsearch/issues/21887#issuecomment-292544663","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21887","id":292544663,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjU0NDY2Mw==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2017-04-07T14:01:51Z","updated_at":"2017-04-07T14:01:51Z","author_association":"MEMBER","body":"@jpountz suggested we could use `Version.fromId()` in reindex to solve the above","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/292545172","html_url":"https://github.com/elastic/elasticsearch/issues/21887#issuecomment-292545172","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21887","id":292545172,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjU0NTE3Mg==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2017-04-07T14:03:56Z","updated_at":"2017-04-07T14:03:56Z","author_association":"CONTRIBUTOR","body":"That'd work for me.","performed_via_github_app":null}]