[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/270014202","html_url":"https://github.com/elastic/elasticsearch/issues/22406#issuecomment-270014202","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22406","id":270014202,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDAxNDIwMg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-01-02T19:57:42Z","updated_at":"2017-01-02T19:57:42Z","author_association":"MEMBER","body":"There should be a caused by exception below this. Can you please share it here?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/270016547","html_url":"https://github.com/elastic/elasticsearch/issues/22406#issuecomment-270016547","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22406","id":270016547,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDAxNjU0Nw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-01-02T20:23:54Z","updated_at":"2017-01-03T01:44:30Z","author_association":"MEMBER","body":"It would look something like:\r\n\r\n```\r\n\\[\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2},\\d{3}\\]\\[ERROR\\]\\[o\\.e\\.b\\.ElasticsearchUncaughtExceptionHandler\\] \\[\\] fatal error in thread \\[Thread-\\d+\\], exiting\r\n```\r\n\r\nwith another exception stack trace below it.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/270059192","html_url":"https://github.com/elastic/elasticsearch/issues/22406#issuecomment-270059192","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22406","id":270059192,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDA1OTE5Mg==","user":{"login":"tomsommer","id":149171,"node_id":"MDQ6VXNlcjE0OTE3MQ==","avatar_url":"https://avatars2.githubusercontent.com/u/149171?v=4","gravatar_id":"","url":"https://api.github.com/users/tomsommer","html_url":"https://github.com/tomsommer","followers_url":"https://api.github.com/users/tomsommer/followers","following_url":"https://api.github.com/users/tomsommer/following{/other_user}","gists_url":"https://api.github.com/users/tomsommer/gists{/gist_id}","starred_url":"https://api.github.com/users/tomsommer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomsommer/subscriptions","organizations_url":"https://api.github.com/users/tomsommer/orgs","repos_url":"https://api.github.com/users/tomsommer/repos","events_url":"https://api.github.com/users/tomsommer/events{/privacy}","received_events_url":"https://api.github.com/users/tomsommer/received_events","type":"User","site_admin":false},"created_at":"2017-01-03T06:48:22Z","updated_at":"2017-01-03T07:03:45Z","author_association":"NONE","body":"```\r\n[2017-01-02T21:38:53,488][WARN ][o.e.m.j.JvmGcMonitorService] [elasticclient] [gc][2285] overhead, spent [3.5s] collecting in the last [3.8s]\r\n[2017-01-02T21:38:49,758][ERROR][o.e.b.ElasticsearchUncaughtExceptionHandler] [elasticclient] fatal error in thread [Thread-5], exiting\r\njava.lang.OutOfMemoryError: Java heap space\r\n        at io.netty.buffer.PoolArena$HeapArena.newChunk(PoolArena.java:656) ~[?:?]\r\n        at io.netty.buffer.PoolArena.allocateNormal(PoolArena.java:237) ~[?:?]\r\n        at io.netty.buffer.PoolArena.allocate(PoolArena.java:221) ~[?:?]\r\n        at io.netty.buffer.PoolArena.allocate(PoolArena.java:141) ~[?:?]\r\n        at io.netty.buffer.PooledByteBufAllocator.newHeapBuffer(PooledByteBufAllocator.java:247) ~[?:?]\r\n        at io.netty.buffer.AbstractByteBufAllocator.heapBuffer(AbstractByteBufAllocator.java:160) ~[?:?]\r\n        at io.netty.buffer.AbstractByteBufAllocator.heapBuffer(AbstractByteBufAllocator.java:151) ~[?:?]\r\n        at io.netty.buffer.AbstractByteBufAllocator.ioBuffer(AbstractByteBufAllocator.java:133) ~[?:?]\r\n        at io.netty.channel.DefaultMaxMessagesRecvByteBufAllocator$MaxMessageHandle.allocate(DefaultMaxMessagesRecvByteBufAllocator.java:73) ~[?:?]\r\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:117) ~[?:?]\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:651) ~[?:?]\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:536) ~[?:?]\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:490) ~[?:?]\r\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:450) ~[?:?]\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:873) ~[?:?]\r\n        at java.lang.Thread.run(Thread.java:745) [?:1.8.0_111]\r\n[2017-01-02T21:38:49,689][ERROR][o.e.b.ElasticsearchUncaughtExceptionHandler] [elasticclient] fatal error in thread [Thread-8], exiting\r\njava.lang.OutOfMemoryError: Java heap space\r\n        at io.netty.buffer.PoolArena$HeapArena.newChunk(PoolArena.java:656) ~[?:?]\r\n        at io.netty.buffer.PoolArena.allocateNormal(PoolArena.java:237) ~[?:?]\r\n        at io.netty.buffer.PoolArena.allocate(PoolArena.java:221) ~[?:?]\r\n        at io.netty.buffer.PoolArena.allocate(PoolArena.java:141) ~[?:?]\r\n        at io.netty.buffer.PooledByteBufAllocator.newHeapBuffer(PooledByteBufAllocator.java:247) ~[?:?]\r\n        at io.netty.buffer.AbstractByteBufAllocator.heapBuffer(AbstractByteBufAllocator.java:160) ~[?:?]\r\n        at io.netty.buffer.AbstractByteBufAllocator.heapBuffer(AbstractByteBufAllocator.java:151) ~[?:?]\r\n        at io.netty.buffer.AbstractByteBufAllocator.ioBuffer(AbstractByteBufAllocator.java:133) ~[?:?]\r\n        at io.netty.channel.DefaultMaxMessagesRecvByteBufAllocator$MaxMessageHandle.allocate(DefaultMaxMessagesRecvByteBufAllocator.java:73) ~[?:?]\r\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:117) ~[?:?]\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:651) ~[?:?]\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:536) ~[?:?]\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:490) ~[?:?]\r\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:450) ~[?:?]\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:873) ~[?:?]\r\n        at java.lang.Thread.run(Thread.java:745) [?:1.8.0_111]\r\n```\r\n\r\nThis started happening after I increased Logstash `pipeline.workers` to 164 and `pipeline.output.workers` to 2, and `pipeline.batch.size` to 512. I can't find the counter to watch. The client is running `node.data: false` and `node.master: false`, heap is 5g atm, server has 10g.\r\n\r\nnode stats (after restart though):\r\n```\r\n\r\n{\r\n  \"_nodes\": {\r\n    \"total\": 1,\r\n    \"successful\": 1,\r\n    \"failed\": 0\r\n  },\r\n  \"cluster_name\": \"elasticsearch\",\r\n  \"nodes\": {\r\n    \"Dvjln3ldSn2cwW4K9Zz1Kw\": {\r\n      \"timestamp\": 1483426687178,\r\n      \"name\": \"elasticclient\",\r\n      \"transport_address\": \"xxxxx:9300\",\r\n      \"host\": \"xxxxx\",\r\n      \"ip\": \"xxxxxx:9300\",\r\n      \"roles\": [\r\n        \"ingest\"\r\n      ],\r\n      \"indices\": {\r\n        \"docs\": {\r\n          \"count\": 0,\r\n          \"deleted\": 0\r\n        },\r\n        \"store\": {\r\n          \"size_in_bytes\": 0,\r\n          \"throttle_time_in_millis\": 0\r\n        },\r\n        \"indexing\": {\r\n          \"index_total\": 0,\r\n          \"index_time_in_millis\": 0,\r\n          \"index_current\": 0,\r\n          \"index_failed\": 0,\r\n          \"delete_total\": 0,\r\n          \"delete_time_in_millis\": 0,\r\n          \"delete_current\": 0,\r\n          \"noop_update_total\": 0,\r\n          \"is_throttled\": false,\r\n          \"throttle_time_in_millis\": 0\r\n        },\r\n        \"get\": {\r\n          \"total\": 0,\r\n          \"time_in_millis\": 0,\r\n          \"exists_total\": 0,\r\n          \"exists_time_in_millis\": 0,\r\n          \"missing_total\": 0,\r\n          \"missing_time_in_millis\": 0,\r\n          \"current\": 0\r\n        },\r\n        \"search\": {\r\n          \"open_contexts\": 0,\r\n          \"query_total\": 0,\r\n          \"query_time_in_millis\": 0,\r\n          \"query_current\": 0,\r\n          \"fetch_total\": 0,\r\n          \"fetch_time_in_millis\": 0,\r\n          \"fetch_current\": 0,\r\n          \"scroll_total\": 0,\r\n          \"scroll_time_in_millis\": 0,\r\n          \"scroll_current\": 0,\r\n          \"suggest_total\": 0,\r\n          \"suggest_time_in_millis\": 0,\r\n          \"suggest_current\": 0\r\n        },\r\n        \"merges\": {\r\n          \"current\": 0,\r\n          \"current_docs\": 0,\r\n          \"current_size_in_bytes\": 0,\r\n          \"total\": 0,\r\n          \"total_time_in_millis\": 0,\r\n          \"total_docs\": 0,\r\n          \"total_size_in_bytes\": 0,\r\n          \"total_stopped_time_in_millis\": 0,\r\n          \"total_throttled_time_in_millis\": 0,\r\n          \"total_auto_throttle_in_bytes\": 0\r\n        },\r\n        \"refresh\": {\r\n          \"total\": 0,\r\n          \"total_time_in_millis\": 0\r\n        },\r\n        \"flush\": {\r\n          \"total\": 0,\r\n          \"total_time_in_millis\": 0\r\n        },\r\n        \"warmer\": {\r\n          \"current\": 0,\r\n          \"total\": 0,\r\n          \"total_time_in_millis\": 0\r\n        },\r\n        \"query_cache\": {\r\n          \"memory_size_in_bytes\": 0,\r\n          \"total_count\": 0,\r\n          \"hit_count\": 0,\r\n          \"miss_count\": 0,\r\n          \"cache_size\": 0,\r\n          \"cache_count\": 0,\r\n          \"evictions\": 0\r\n        },\r\n        \"fielddata\": {\r\n          \"memory_size_in_bytes\": 0,\r\n          \"evictions\": 0\r\n        },\r\n        \"completion\": {\r\n          \"size_in_bytes\": 0\r\n        },\r\n        \"segments\": {\r\n          \"count\": 0,\r\n          \"memory_in_bytes\": 0,\r\n          \"terms_memory_in_bytes\": 0,\r\n          \"stored_fields_memory_in_bytes\": 0,\r\n          \"term_vectors_memory_in_bytes\": 0,\r\n          \"norms_memory_in_bytes\": 0,\r\n          \"points_memory_in_bytes\": 0,\r\n          \"doc_values_memory_in_bytes\": 0,\r\n          \"index_writer_memory_in_bytes\": 0,\r\n          \"version_map_memory_in_bytes\": 0,\r\n          \"fixed_bit_set_memory_in_bytes\": 0,\r\n          \"max_unsafe_auto_id_timestamp\": -9223372036854776000,\r\n          \"file_sizes\": {\r\n\r\n          }\r\n        },\r\n        \"translog\": {\r\n          \"operations\": 0,\r\n          \"size_in_bytes\": 0\r\n        },\r\n        \"request_cache\": {\r\n          \"memory_size_in_bytes\": 0,\r\n          \"evictions\": 0,\r\n          \"hit_count\": 0,\r\n          \"miss_count\": 0\r\n        },\r\n        \"recovery\": {\r\n          \"current_as_source\": 0,\r\n          \"current_as_target\": 0,\r\n          \"throttle_time_in_millis\": 0\r\n        }\r\n      },\r\n      \"os\": {\r\n        \"timestamp\": 1483426687062,\r\n        \"cpu\": {\r\n          \"percent\": 59,\r\n          \"load_average\": {\r\n            \"1m\": 1.52,\r\n            \"5m\": 1.41,\r\n            \"15m\": 0.72\r\n          }\r\n        },\r\n        \"mem\": {\r\n          \"total_in_bytes\": 10368720896,\r\n          \"free_in_bytes\": 3572068352,\r\n          \"used_in_bytes\": 6796652544,\r\n          \"free_percent\": 34,\r\n          \"used_percent\": 66\r\n        },\r\n        \"swap\": {\r\n          \"total_in_bytes\": 4294963200,\r\n          \"free_in_bytes\": 4294963200,\r\n          \"used_in_bytes\": 0\r\n        }\r\n      },\r\n      \"process\": {\r\n        \"timestamp\": 1483426687062,\r\n        \"open_file_descriptors\": 610,\r\n        \"max_file_descriptors\": 65536,\r\n        \"cpu\": {\r\n          \"percent\": 55,\r\n          \"total_in_millis\": 929210\r\n        },\r\n        \"mem\": {\r\n          \"total_virtual_in_bytes\": 9253572608\r\n        }\r\n      },\r\n      \"jvm\": {\r\n        \"timestamp\": 1483426687062,\r\n        \"uptime_in_millis\": 453992,\r\n        \"mem\": {\r\n          \"heap_used_in_bytes\": 2061345056,\r\n          \"heap_used_percent\": 38,\r\n          \"heap_committed_in_bytes\": 5333843968,\r\n          \"heap_max_in_bytes\": 5333843968,\r\n          \"non_heap_used_in_bytes\": 83551800,\r\n          \"non_heap_committed_in_bytes\": 88379392,\r\n          \"pools\": {\r\n            \"young\": {\r\n              \"used_in_bytes\": 218310616,\r\n              \"max_in_bytes\": 279183360,\r\n              \"peak_used_in_bytes\": 279183360,\r\n              \"peak_max_in_bytes\": 279183360\r\n            },\r\n            \"survivor\": {\r\n              \"used_in_bytes\": 34865152,\r\n              \"max_in_bytes\": 34865152,\r\n              \"peak_used_in_bytes\": 34865152,\r\n              \"peak_max_in_bytes\": 34865152\r\n            },\r\n            \"old\": {\r\n              \"used_in_bytes\": 1808169288,\r\n              \"max_in_bytes\": 5019795456,\r\n              \"peak_used_in_bytes\": 4707353216,\r\n              \"peak_max_in_bytes\": 5019795456\r\n            }\r\n          }\r\n        },\r\n        \"threads\": {\r\n          \"count\": 48,\r\n          \"peak_count\": 49\r\n        },\r\n        \"gc\": {\r\n          \"collectors\": {\r\n            \"young\": {\r\n              \"collection_count\": 206,\r\n              \"collection_time_in_millis\": 50089\r\n            },\r\n            \"old\": {\r\n              \"collection_count\": 17,\r\n              \"collection_time_in_millis\": 3922\r\n            }\r\n          }\r\n        },\r\n        \"buffer_pools\": {\r\n          \"direct\": {\r\n            \"count\": 38,\r\n            \"used_in_bytes\": 228089864,\r\n            \"total_capacity_in_bytes\": 228089863\r\n          },\r\n          \"mapped\": {\r\n            \"count\": 0,\r\n            \"used_in_bytes\": 0,\r\n            \"total_capacity_in_bytes\": 0\r\n          }\r\n        },\r\n        \"classes\": {\r\n          \"current_loaded_count\": 9685,\r\n          \"total_loaded_count\": 9689,\r\n          \"total_unloaded_count\": 4\r\n        }\r\n      },\r\n      \"thread_pool\": {\r\n        \"bulk\": {\r\n          \"threads\": 0,\r\n          \"queue\": 0,\r\n          \"active\": 0,\r\n          \"rejected\": 0,\r\n          \"largest\": 0,\r\n          \"completed\": 0\r\n        },\r\n        \"fetch_shard_started\": {\r\n          \"threads\": 0,\r\n          \"queue\": 0,\r\n          \"active\": 0,\r\n          \"rejected\": 0,\r\n          \"largest\": 0,\r\n          \"completed\": 0\r\n        },\r\n        \"fetch_shard_store\": {\r\n          \"threads\": 0,\r\n          \"queue\": 0,\r\n          \"active\": 0,\r\n          \"rejected\": 0,\r\n          \"largest\": 0,\r\n          \"completed\": 0\r\n        },\r\n        \"flush\": {\r\n          \"threads\": 0,\r\n          \"queue\": 0,\r\n          \"active\": 0,\r\n          \"rejected\": 0,\r\n          \"largest\": 0,\r\n          \"completed\": 0\r\n        },\r\n        \"force_merge\": {\r\n          \"threads\": 0,\r\n          \"queue\": 0,\r\n          \"active\": 0,\r\n          \"rejected\": 0,\r\n          \"largest\": 0,\r\n          \"completed\": 0\r\n        },\r\n        \"generic\": {\r\n          \"threads\": 4,\r\n          \"queue\": 0,\r\n          \"active\": 0,\r\n          \"rejected\": 0,\r\n          \"largest\": 4,\r\n          \"completed\": 486\r\n        },\r\n        \"get\": {\r\n          \"threads\": 0,\r\n          \"queue\": 0,\r\n          \"active\": 0,\r\n          \"rejected\": 0,\r\n          \"largest\": 0,\r\n          \"completed\": 0\r\n        },\r\n        \"index\": {\r\n          \"threads\": 0,\r\n          \"queue\": 0,\r\n          \"active\": 0,\r\n          \"rejected\": 0,\r\n          \"largest\": 0,\r\n          \"completed\": 0\r\n        },\r\n        \"listener\": {\r\n          \"threads\": 0,\r\n          \"queue\": 0,\r\n          \"active\": 0,\r\n          \"rejected\": 0,\r\n          \"largest\": 0,\r\n          \"completed\": 0\r\n        },\r\n        \"management\": {\r\n          \"threads\": 3,\r\n          \"queue\": 0,\r\n          \"active\": 1,\r\n          \"rejected\": 0,\r\n          \"largest\": 3,\r\n          \"completed\": 584\r\n        },\r\n        \"refresh\": {\r\n          \"threads\": 0,\r\n          \"queue\": 0,\r\n          \"active\": 0,\r\n          \"rejected\": 0,\r\n          \"largest\": 0,\r\n          \"completed\": 0\r\n        },\r\n        \"search\": {\r\n          \"threads\": 7,\r\n          \"queue\": 0,\r\n          \"active\": 0,\r\n          \"rejected\": 0,\r\n          \"largest\": 7,\r\n          \"completed\": 108\r\n        },\r\n        \"snapshot\": {\r\n          \"threads\": 0,\r\n          \"queue\": 0,\r\n          \"active\": 0,\r\n          \"rejected\": 0,\r\n          \"largest\": 0,\r\n          \"completed\": 0\r\n        },\r\n        \"warmer\": {\r\n          \"threads\": 0,\r\n          \"queue\": 0,\r\n          \"active\": 0,\r\n          \"rejected\": 0,\r\n          \"largest\": 0,\r\n          \"completed\": 0\r\n        }\r\n      },\r\n      \"fs\": {\r\n        \"timestamp\": 1483426687063,\r\n        \"total\": {\r\n          \"total_in_bytes\": 90230251520,\r\n          \"free_in_bytes\": 83245780992,\r\n          \"available_in_bytes\": 78655537152,\r\n          \"spins\": \"true\"\r\n        },\r\n        \"data\": [\r\n          {\r\n            \"path\": \"/var/lib/elasticsearch/nodes/0\",\r\n            \"mount\": \"/var (/dev/mapper/vg-var)\",\r\n            \"type\": \"ext4\",\r\n            \"total_in_bytes\": 90230251520,\r\n            \"free_in_bytes\": 83245780992,\r\n            \"available_in_bytes\": 78655537152,\r\n            \"spins\": \"true\"\r\n          }\r\n        ],\r\n        \"io_stats\": {\r\n          \"devices\": [\r\n            {\r\n              \"device_name\": \"dm-4\",\r\n              \"operations\": 298,\r\n              \"read_operations\": 0,\r\n              \"write_operations\": 298,\r\n              \"read_kilobytes\": 0,\r\n              \"write_kilobytes\": 1192\r\n            }\r\n          ],\r\n          \"total\": {\r\n            \"operations\": 298,\r\n            \"read_operations\": 0,\r\n            \"write_operations\": 298,\r\n            \"read_kilobytes\": 0,\r\n            \"write_kilobytes\": 1192\r\n          }\r\n        }\r\n      },\r\n      \"transport\": {\r\n        \"server_open\": 112,\r\n        \"rx_count\": 142865,\r\n        \"rx_size_in_bytes\": 5043248958,\r\n        \"tx_count\": 142888,\r\n        \"tx_size_in_bytes\": 1598377422\r\n      },\r\n      \"http\": {\r\n        \"current_open\": 224,\r\n        \"total_opened\": 356\r\n      },\r\n      \"breakers\": {\r\n        \"request\": {\r\n          \"limit_size_in_bytes\": 3200306380,\r\n          \"limit_size\": \"2.9gb\",\r\n          \"estimated_size_in_bytes\": 4440736,\r\n          \"estimated_size\": \"4.2mb\",\r\n          \"overhead\": 1,\r\n          \"tripped\": 0\r\n        },\r\n        \"fielddata\": {\r\n          \"limit_size_in_bytes\": 3200306380,\r\n          \"limit_size\": \"2.9gb\",\r\n          \"estimated_size_in_bytes\": 0,\r\n          \"estimated_size\": \"0b\",\r\n          \"overhead\": 1.03,\r\n          \"tripped\": 0\r\n        },\r\n        \"in_flight_requests\": {\r\n          \"limit_size_in_bytes\": 5333843968,\r\n          \"limit_size\": \"4.9gb\",\r\n          \"estimated_size_in_bytes\": 2,\r\n          \"estimated_size\": \"2b\",\r\n          \"overhead\": 1,\r\n          \"tripped\": 0\r\n        },\r\n        \"parent\": {\r\n          \"limit_size_in_bytes\": 3733690777,\r\n          \"limit_size\": \"3.4gb\",\r\n          \"estimated_size_in_bytes\": 4440738,\r\n          \"estimated_size\": \"4.2mb\",\r\n          \"overhead\": 1,\r\n          \"tripped\": 0\r\n        }\r\n      },\r\n      \"script\": {\r\n        \"compilations\": 0,\r\n        \"cache_evictions\": 0\r\n      },\r\n      \"discovery\": {\r\n        \"cluster_state_queue\": {\r\n          \"total\": 0,\r\n          \"pending\": 0,\r\n          \"committed\": 0\r\n        }\r\n      },\r\n      \"ingest\": {\r\n        \"total\": {\r\n          \"count\": 0,\r\n          \"time_in_millis\": 0,\r\n          \"current\": 0,\r\n          \"failed\": 0\r\n        },\r\n        \"pipelines\": {\r\n\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/270423833","html_url":"https://github.com/elastic/elasticsearch/issues/22406#issuecomment-270423833","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22406","id":270423833,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDQyMzgzMw==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars3.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","site_admin":false},"created_at":"2017-01-04T16:59:21Z","updated_at":"2017-01-04T17:00:55Z","author_association":"NONE","body":"I need to add on to this. We have a single node instance for our development needs. Heap size is 2.5 GB, and the server is crashing with the same OOM heap size error from the network layer every 10-15 minutes.\r\n\r\nIt makes no sense, I am only running 3x bulk indexing processes. No searches are being executed whatsoever. fielddata in memory is exactly 0. There is no reason for our 200 MB of data to require 2.5 GB of memory - especially when no searches are being performed, and thus fielddata is not being loaded.\r\n\r\nSomething is really fishy with version 5.1.1","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/270425610","html_url":"https://github.com/elastic/elasticsearch/issues/22406#issuecomment-270425610","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22406","id":270425610,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDQyNTYxMA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-01-04T17:06:08Z","updated_at":"2017-01-04T17:06:08Z","author_association":"MEMBER","body":"Can either/both of you share a heap dump from when it OOMs? (Be careful since it might contain sensitive data. If needed, we can find a mechanism to share it privately.)\r\n\r\nAnd can you also try running with `-Dio.netty.recycler.maxCapacityPerThread=0` and let me know if the problem persists (grab a heap dump before changing this setting though)? Note that this could negatively impact performance.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/270433685","html_url":"https://github.com/elastic/elasticsearch/issues/22406#issuecomment-270433685","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22406","id":270433685,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDQzMzY4NQ==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars3.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","site_admin":false},"created_at":"2017-01-04T17:36:32Z","updated_at":"2017-01-04T17:39:56Z","author_association":"NONE","body":"@jasontedor can you please confirm whether the option should be `io.netty.recycler.maxCapacityPerThread` or `io.netty.recycler.maxCapacity.default`?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/270435323","html_url":"https://github.com/elastic/elasticsearch/issues/22406#issuecomment-270435323","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22406","id":270435323,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDQzNTMyMw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-01-04T17:42:53Z","updated_at":"2017-01-04T17:42:53Z","author_association":"MEMBER","body":"It should be the one I stated (`-Dio.netty.recycler.maxCapacityPerThread=0`), I don't think the latter does anything.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/271109814","html_url":"https://github.com/elastic/elasticsearch/issues/22406#issuecomment-271109814","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22406","id":271109814,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MTEwOTgxNA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-01-07T20:59:57Z","updated_at":"2017-01-07T20:59:57Z","author_association":"MEMBER","body":"Closed by #22452","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/276618440","html_url":"https://github.com/elastic/elasticsearch/issues/22406#issuecomment-276618440","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22406","id":276618440,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjYxODQ0MA==","user":{"login":"tomsommer","id":149171,"node_id":"MDQ6VXNlcjE0OTE3MQ==","avatar_url":"https://avatars2.githubusercontent.com/u/149171?v=4","gravatar_id":"","url":"https://api.github.com/users/tomsommer","html_url":"https://github.com/tomsommer","followers_url":"https://api.github.com/users/tomsommer/followers","following_url":"https://api.github.com/users/tomsommer/following{/other_user}","gists_url":"https://api.github.com/users/tomsommer/gists{/gist_id}","starred_url":"https://api.github.com/users/tomsommer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomsommer/subscriptions","organizations_url":"https://api.github.com/users/tomsommer/orgs","repos_url":"https://api.github.com/users/tomsommer/repos","events_url":"https://api.github.com/users/tomsommer/events{/privacy}","received_events_url":"https://api.github.com/users/tomsommer/received_events","type":"User","site_admin":false},"created_at":"2017-02-01T10:05:11Z","updated_at":"2017-02-01T13:22:11Z","author_association":"NONE","body":"#22452 did not fix it\r\n\r\n`-Dio.netty.allocator.type=unpooled` does not help either.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/278017331","html_url":"https://github.com/elastic/elasticsearch/issues/22406#issuecomment-278017331","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22406","id":278017331,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODAxNzMzMQ==","user":{"login":"JorritSalverda","id":136472,"node_id":"MDQ6VXNlcjEzNjQ3Mg==","avatar_url":"https://avatars0.githubusercontent.com/u/136472?v=4","gravatar_id":"","url":"https://api.github.com/users/JorritSalverda","html_url":"https://github.com/JorritSalverda","followers_url":"https://api.github.com/users/JorritSalverda/followers","following_url":"https://api.github.com/users/JorritSalverda/following{/other_user}","gists_url":"https://api.github.com/users/JorritSalverda/gists{/gist_id}","starred_url":"https://api.github.com/users/JorritSalverda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JorritSalverda/subscriptions","organizations_url":"https://api.github.com/users/JorritSalverda/orgs","repos_url":"https://api.github.com/users/JorritSalverda/repos","events_url":"https://api.github.com/users/JorritSalverda/events{/privacy}","received_events_url":"https://api.github.com/users/JorritSalverda/received_events","type":"User","site_admin":false},"created_at":"2017-02-07T14:36:04Z","updated_at":"2017-02-07T14:38:54Z","author_association":"NONE","body":"Having the same issues with 5.2.0, even though heap size is 6g and available memory 12gb. I pass in the following \r\n\r\n`ES_JAVA_OPTS = -Xms6g -Xmx6g -Dio.netty.recycler.maxCapacityPerThread=0`\r\n\r\nThe full log from starting the node to failing is at https://gist.github.com/JorritSalverda/eef328f1cf130f360409854394c321b6\r\n\r\nThe highest memory I've seen is 6.55GB, so I don't think it comes close to the 12GB limit at all.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/278020034","html_url":"https://github.com/elastic/elasticsearch/issues/22406#issuecomment-278020034","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22406","id":278020034,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODAyMDAzNA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-02-07T14:45:16Z","updated_at":"2017-02-07T14:45:16Z","author_association":"MEMBER","body":"As I mentioned in a previous [comment](https://github.com/elastic/elasticsearch/pull/22452#issuecomment-277770711), disabling the recycler is not expected to eliminate all causes of out of memory errors on the network layer. If you startup Elasticsearch with a 256m heap (and increase `http.max_content_length`) and send it a 512m request, you're going to have a bad time. This has nothing to do with whether or not the recycler is enabled. Disabling the recycler dealt with a specific problem but if you're still seeing heaping, then you have to take a heap dump and see what is consuming the space and adjust accordingly.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/278020416","html_url":"https://github.com/elastic/elasticsearch/issues/22406#issuecomment-278020416","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22406","id":278020416,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODAyMDQxNg==","user":{"login":"JorritSalverda","id":136472,"node_id":"MDQ6VXNlcjEzNjQ3Mg==","avatar_url":"https://avatars0.githubusercontent.com/u/136472?v=4","gravatar_id":"","url":"https://api.github.com/users/JorritSalverda","html_url":"https://github.com/JorritSalverda","followers_url":"https://api.github.com/users/JorritSalverda/followers","following_url":"https://api.github.com/users/JorritSalverda/following{/other_user}","gists_url":"https://api.github.com/users/JorritSalverda/gists{/gist_id}","starred_url":"https://api.github.com/users/JorritSalverda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JorritSalverda/subscriptions","organizations_url":"https://api.github.com/users/JorritSalverda/orgs","repos_url":"https://api.github.com/users/JorritSalverda/repos","events_url":"https://api.github.com/users/JorritSalverda/events{/privacy}","received_events_url":"https://api.github.com/users/JorritSalverda/received_events","type":"User","site_admin":false},"created_at":"2017-02-07T14:46:34Z","updated_at":"2017-02-07T14:46:34Z","author_association":"NONE","body":"Okay, going to test with a bigger heap size. Is there any way to prevent a client from failing if too much data is being sent? Some way to throttle the sender?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/278028546","html_url":"https://github.com/elastic/elasticsearch/issues/22406#issuecomment-278028546","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22406","id":278028546,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODAyODU0Ng==","user":{"login":"tomsommer","id":149171,"node_id":"MDQ6VXNlcjE0OTE3MQ==","avatar_url":"https://avatars2.githubusercontent.com/u/149171?v=4","gravatar_id":"","url":"https://api.github.com/users/tomsommer","html_url":"https://github.com/tomsommer","followers_url":"https://api.github.com/users/tomsommer/followers","following_url":"https://api.github.com/users/tomsommer/following{/other_user}","gists_url":"https://api.github.com/users/tomsommer/gists{/gist_id}","starred_url":"https://api.github.com/users/tomsommer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomsommer/subscriptions","organizations_url":"https://api.github.com/users/tomsommer/orgs","repos_url":"https://api.github.com/users/tomsommer/repos","events_url":"https://api.github.com/users/tomsommer/events{/privacy}","received_events_url":"https://api.github.com/users/tomsommer/received_events","type":"User","site_admin":false},"created_at":"2017-02-07T15:11:53Z","updated_at":"2017-02-07T15:11:53Z","author_association":"NONE","body":"I guess maybe my bulk requests are too large as well, but it's a hard thing to know the limits of?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/286340715","html_url":"https://github.com/elastic/elasticsearch/issues/22406#issuecomment-286340715","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22406","id":286340715,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjM0MDcxNQ==","user":{"login":"wybrono","id":18571318,"node_id":"MDQ6VXNlcjE4NTcxMzE4","avatar_url":"https://avatars0.githubusercontent.com/u/18571318?v=4","gravatar_id":"","url":"https://api.github.com/users/wybrono","html_url":"https://github.com/wybrono","followers_url":"https://api.github.com/users/wybrono/followers","following_url":"https://api.github.com/users/wybrono/following{/other_user}","gists_url":"https://api.github.com/users/wybrono/gists{/gist_id}","starred_url":"https://api.github.com/users/wybrono/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wybrono/subscriptions","organizations_url":"https://api.github.com/users/wybrono/orgs","repos_url":"https://api.github.com/users/wybrono/repos","events_url":"https://api.github.com/users/wybrono/events{/privacy}","received_events_url":"https://api.github.com/users/wybrono/received_events","type":"User","site_admin":false},"created_at":"2017-03-14T07:16:05Z","updated_at":"2017-03-14T07:16:05Z","author_association":"NONE","body":"Is this problem solved now? The above method does not work！！！","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/296670762","html_url":"https://github.com/elastic/elasticsearch/issues/22406#issuecomment-296670762","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22406","id":296670762,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjY3MDc2Mg==","user":{"login":"blommish","id":937168,"node_id":"MDQ6VXNlcjkzNzE2OA==","avatar_url":"https://avatars1.githubusercontent.com/u/937168?v=4","gravatar_id":"","url":"https://api.github.com/users/blommish","html_url":"https://github.com/blommish","followers_url":"https://api.github.com/users/blommish/followers","following_url":"https://api.github.com/users/blommish/following{/other_user}","gists_url":"https://api.github.com/users/blommish/gists{/gist_id}","starred_url":"https://api.github.com/users/blommish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/blommish/subscriptions","organizations_url":"https://api.github.com/users/blommish/orgs","repos_url":"https://api.github.com/users/blommish/repos","events_url":"https://api.github.com/users/blommish/events{/privacy}","received_events_url":"https://api.github.com/users/blommish/received_events","type":"User","site_admin":false},"created_at":"2017-04-24T13:37:33Z","updated_at":"2017-04-24T13:38:18Z","author_association":"NONE","body":"I get the same error. Running 5.2.0 on ubuntu\r\n\r\nHave these settings for my bulkProcessor\r\n```\r\n.setBulkActions(10000)\r\n.setBulkSize(new ByteSizeValue(5, ByteSizeUnit.MB))\r\n.setFlushInterval(TimeValue.timeValueSeconds(5))\r\n.setConcurrentRequests(1)\r\n.setBackoffPolicy(BackoffPolicy.exponentialBackoff(TimeValue.timeValueMillis(100), 3))\r\n```\r\n\r\nCan't really find out what is causing the following\r\n\r\n```\r\n2017-04-24 14:27:28,064 [elasticsearch[_client_][transport_client_boss][T#1]] ERROR o.e.t.n.Netty4Utils Korrelasjonsid= fatal error on the network layer\r\n        at org.elasticsearch.transport.netty4.Netty4Utils.maybeDie(Netty4Utils.java:140)\r\n        at org.elasticsearch.transport.netty4.Netty4MessageChannelHandler.exceptionCaught(Netty4MessageChannelHandler.java:83)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:286)\r\n        at io.netty.channel.AbstractChannelHandlerContext.notifyHandlerException(AbstractChannelHandlerContext.java:851)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:349)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:341)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:293)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:280)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:396)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:248)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:349)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:341)\r\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1334)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:349)\r\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:926)\r\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:129)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:642)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:527)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:481)\r\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:441)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:858)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n2017-04-24 14:27:30,019 [elasticsearch[_client_][generic][T#1]] INFO  o.e.c.t.TransportClientNodesService Korrelasjonsid= failed to get node info for {#transport#-1}{Ayn44paGRqmiq27m_zwKVQ}{tsl0sofus-at-oppdrag01\r\n}{10.1.5.152:12500}, disconnecting...\r\norg.elasticsearch.transport.ReceiveTimeoutTransportException: [][10.1.5.152:12500][cluster:monitor/nodes/liveness] request_id [248] timed out after [47400ms]\r\n        at org.elasticsearch.transport.TransportService$TimeoutHandler.run(TransportService.java:908)\r\n        at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:527)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n        at java.lang.Thread.run(Thread.java:745)\r\n\r\n2017-04-24 14:27:30,020 [elasticsearch[_client_][transport_client_boss][T#1]] WARN  o.e.t.n.Netty4Transport Korrelasjonsid= exception caught on transport layer [[id: 0xe86b4f6e, L:/10.1.5.152:52010 - R:tsl0sofus-\r\nat-oppdrag02/10.1.13.77:12500]], closing connection\r\norg.elasticsearch.ElasticsearchException: java.lang.OutOfMemoryError: GC overhead limit exceeded\r\n        at org.elasticsearch.transport.netty4.Netty4Transport.exceptionCaught(Netty4Transport.java:332)\r\n        at org.elasticsearch.transport.netty4.Netty4MessageChannelHandler.exceptionCaught(Netty4MessageChannelHandler.java:84)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:286)\r\n        at io.netty.channel.AbstractChannelHandlerContext.notifyHandlerException(AbstractChannelHandlerContext.java:851)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:349)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:341)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:293)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:280)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:396)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:248)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:349)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:341)\r\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1334)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:349)\r\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:926)\r\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:129)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:642)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:527)\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:481)\r\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:441)\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:858)\r\n        at java.lang.Thread.run(Thread.java:745)\r\nCaused by: java.lang.OutOfMemoryError: GC overhead limit exceeded\r\n        at java.util.Arrays.copyOfRange(Arrays.java:3664)\r\n        at java.lang.String.<init>(String.java:207)\r\n        at org.apache.lucene.util.CharsRef.toString(CharsRef.java:154)\r\n        at org.elasticsearch.common.io.stream.StreamInput.readString(StreamInput.java:373)\r\n        at org.elasticsearch.index.Index.<init>(Index.java:63)\r\n        at org.elasticsearch.index.shard.ShardId.readFrom(ShardId.java:101)\r\n        at org.elasticsearch.index.shard.ShardId.readShardId(ShardId.java:95)\r\n        at org.elasticsearch.action.DocWriteResponse.readFrom(DocWriteResponse.java:208)\r\n        at org.elasticsearch.action.bulk.BulkItemResponse.readFrom(BulkItemResponse.java:307)\r\n        at org.elasticsearch.action.bulk.BulkItemResponse.readBulkItem(BulkItemResponse.java:296)\r\n        at org.elasticsearch.action.bulk.BulkResponse.readFrom(BulkResponse.java:128)\r\n        at org.elasticsearch.transport.TcpTransport.handleResponse(TcpTransport.java:1372)\r\n        at org.elasticsearch.transport.TcpTransport.messageReceived(TcpTransport.java:1347)\r\n        at org.elasticsearch.transport.netty4.Netty4MessageChannelHandler.channelRead(Netty4MessageChannelHandler.java:74)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:363)\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:349)\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:341)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:293)\r\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:280)\r\n\r\n\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/301734916","html_url":"https://github.com/elastic/elasticsearch/issues/22406#issuecomment-301734916","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22406","id":301734916,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMTczNDkxNg==","user":{"login":"tomsommer","id":149171,"node_id":"MDQ6VXNlcjE0OTE3MQ==","avatar_url":"https://avatars2.githubusercontent.com/u/149171?v=4","gravatar_id":"","url":"https://api.github.com/users/tomsommer","html_url":"https://github.com/tomsommer","followers_url":"https://api.github.com/users/tomsommer/followers","following_url":"https://api.github.com/users/tomsommer/following{/other_user}","gists_url":"https://api.github.com/users/tomsommer/gists{/gist_id}","starred_url":"https://api.github.com/users/tomsommer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomsommer/subscriptions","organizations_url":"https://api.github.com/users/tomsommer/orgs","repos_url":"https://api.github.com/users/tomsommer/repos","events_url":"https://api.github.com/users/tomsommer/events{/privacy}","received_events_url":"https://api.github.com/users/tomsommer/received_events","type":"User","site_admin":false},"created_at":"2017-05-16T10:01:00Z","updated_at":"2017-05-16T10:01:00Z","author_association":"NONE","body":"Still an issue in 5.4.0","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/301744804","html_url":"https://github.com/elastic/elasticsearch/issues/22406#issuecomment-301744804","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22406","id":301744804,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMTc0NDgwNA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-05-16T10:45:41Z","updated_at":"2017-05-16T10:45:41Z","author_association":"MEMBER","body":"@tomsommer Please see my previous [comments](https://github.com/elastic/elasticsearch/issues/22406#issuecomment-278020034) on [this subject](https://github.com/elastic/elasticsearch/pull/22452#issuecomment-277770711).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/301896289","html_url":"https://github.com/elastic/elasticsearch/issues/22406#issuecomment-301896289","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22406","id":301896289,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMTg5NjI4OQ==","user":{"login":"ninadvps","id":19671720,"node_id":"MDQ6VXNlcjE5NjcxNzIw","avatar_url":"https://avatars3.githubusercontent.com/u/19671720?v=4","gravatar_id":"","url":"https://api.github.com/users/ninadvps","html_url":"https://github.com/ninadvps","followers_url":"https://api.github.com/users/ninadvps/followers","following_url":"https://api.github.com/users/ninadvps/following{/other_user}","gists_url":"https://api.github.com/users/ninadvps/gists{/gist_id}","starred_url":"https://api.github.com/users/ninadvps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ninadvps/subscriptions","organizations_url":"https://api.github.com/users/ninadvps/orgs","repos_url":"https://api.github.com/users/ninadvps/repos","events_url":"https://api.github.com/users/ninadvps/events{/privacy}","received_events_url":"https://api.github.com/users/ninadvps/received_events","type":"User","site_admin":false},"created_at":"2017-05-16T19:53:19Z","updated_at":"2017-05-16T19:53:19Z","author_association":"NONE","body":"Ive tried the above options with es 5.3.1 ... Im still getting the same issue, when I run our test cases 6 times, every 6th time I get the same error, its a single node cluster with the below settings...\r\ncluster.name: test\r\nnode.name: test-0\r\nnode.master: true\r\nnode.data: true\r\npath.data: /tmp/elasticsearch\r\npath.logs: /tmp/eslogs\r\n\r\n\r\nIf I increase the java heap size it runs for a few more times and still crashes eventually...\r\n\r\n\r\n12:49:31.022 INFO  [PluginsService]: no modules loaded\r\n12:49:31.025 INFO  [PluginsService]: loaded plugin [org.elasticsearch.index.reindex.ReindexPlugin]\r\n12:49:31.025 INFO  [PluginsService]: loaded plugin [org.elasticsearch.percolator.PercolatorPlugin]\r\n12:49:31.025 INFO  [PluginsService]: loaded plugin [org.elasticsearch.script.mustache.MustachePlugin]\r\n12:49:31.025 INFO  [PluginsService]: loaded plugin [org.elasticsearch.transport.Netty3Plugin]\r\n12:49:31.025 INFO  [PluginsService]: loaded plugin [org.elasticsearch.transport.Netty4Plugin]\r\n12:49:34.874 ERROR [Netty4Utils]: fatal error on the network layer\r\n\tat org.elasticsearch.transport.netty4.Netty4Utils.maybeDie(Netty4Utils.java:140)\r\n\tat org.elasticsearch.transport.netty4.Netty4MessageChannelHandler.exceptionCaught(Netty4MessageChannelHandler.java:83)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:286)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:265)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:257)\r\n\tat io.netty.channel.ChannelInboundHandlerAdapter.exceptionCaught(ChannelInboundHandlerAdapter.java:131)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:286)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:265)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:257)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.exceptionCaught(DefaultChannelPipeline.java:1301)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:286)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:265)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireExceptionCaught(DefaultChannelPipeline.java:914)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.handleReadException(AbstractNioByteChannel.java:99)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:140)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:642)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:527)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:481)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:441)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:858)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nException in thread \"Thread-26\" java.lang.OutOfMemoryError: Java heap space\r\n\tat io.netty.buffer.PoolArena$HeapArena.newChunk(PoolArena.java:656)\r\n\tat io.netty.buffer.PoolArena.allocateNormal(PoolArena.java:237)\r\n\tat io.netty.buffer.PoolArena.allocate(PoolArena.java:221)\r\n\tat io.netty.buffer.PoolArena.allocate(PoolArena.java:141)\r\n\tat io.netty.buffer.PooledByteBufAllocator.newHeapBuffer(PooledByteBufAllocator.java:272)\r\n\tat io.netty.buffer.AbstractByteBufAllocator.heapBuffer(AbstractByteBufAllocator.java:160)\r\n\tat io.netty.buffer.AbstractByteBufAllocator.heapBuffer(AbstractByteBufAllocator.java:151)\r\n\tat io.netty.buffer.AbstractByteBufAllocator.ioBuffer(AbstractByteBufAllocator.java:133)\r\n\tat io.netty.channel.DefaultMaxMessagesRecvByteBufAllocator$MaxMessageHandle.allocate(DefaultMaxMessagesRecvByteBufAllocator.java:73)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:117)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:642)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:527)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:481)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:441)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:858)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n12:49:34.938 WARN  [Netty4Transport]: exception caught on transport layer [[id: 0x2e1e1733, L:/127.0.0.1:50952 - R:/127.0.0.1:9300]], closing connection\r\norg.elasticsearch.ElasticsearchException: java.lang.OutOfMemoryError: Java heap space\r\n\tat org.elasticsearch.transport.netty4.Netty4Transport.exceptionCaught(Netty4Transport.java:321) [transport-netty4-client-5.3.1.jar:5.3.1]\r\n\tat org.elasticsearch.transport.netty4.Netty4MessageChannelHandler.exceptionCaught(Netty4MessageChannelHandler.java:84) [transport-netty4-client-5.3.1.jar:5.3.1]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:286) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:265) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:257) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.ChannelInboundHandlerAdapter.exceptionCaught(ChannelInboundHandlerAdapter.java:131) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:286) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:265) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:257) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.exceptionCaught(DefaultChannelPipeline.java:1301) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:286) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:265) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline.fireExceptionCaught(DefaultChannelPipeline.java:914) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.handleReadException(AbstractNioByteChannel.java:99) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:140) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:642) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:527) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:481) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:441) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:858) [netty-common-4.1.7.Final.jar:4.1.7.Final]\r\n\tat java.lang.Thread.run(Thread.java:745) [na:1.8.0_91]\r\nCaused by: java.lang.OutOfMemoryError: Java heap space\r\n\tat io.netty.buffer.PoolArena$HeapArena.newChunk(PoolArena.java:656) ~[netty-buffer-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.buffer.PoolArena.allocateNormal(PoolArena.java:237) ~[netty-buffer-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.buffer.PoolArena.allocate(PoolArena.java:221) ~[netty-buffer-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.buffer.PoolArena.allocate(PoolArena.java:141) ~[netty-buffer-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.buffer.PooledByteBufAllocator.newHeapBuffer(PooledByteBufAllocator.java:272) ~[netty-buffer-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.buffer.AbstractByteBufAllocator.heapBuffer(AbstractByteBufAllocator.java:160) ~[netty-buffer-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.buffer.AbstractByteBufAllocator.heapBuffer(AbstractByteBufAllocator.java:151) ~[netty-buffer-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.buffer.AbstractByteBufAllocator.ioBuffer(AbstractByteBufAllocator.java:133) ~[netty-buffer-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.DefaultMaxMessagesRecvByteBufAllocator$MaxMessageHandle.allocate(DefaultMaxMessagesRecvByteBufAllocator.java:73) ~[netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:117) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\t... 6 common frames omitted\r\n12:49:35.433 ERROR [Netty4Utils]: fatal error on the network layer\r\n\tat org.elasticsearch.transport.netty4.Netty4Utils.maybeDie(Netty4Utils.java:140)\r\n\tat org.elasticsearch.transport.netty4.Netty4MessageChannelHandler.exceptionCaught(Netty4MessageChannelHandler.java:83)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:286)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:265)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:257)\r\n\tat io.netty.channel.ChannelInboundHandlerAdapter.exceptionCaught(ChannelInboundHandlerAdapter.java:131)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:286)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:265)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:257)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.exceptionCaught(DefaultChannelPipeline.java:1301)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:286)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:265)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireExceptionCaught(DefaultChannelPipeline.java:914)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.handleReadException(AbstractNioByteChannel.java:99)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:140)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:642)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:527)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:481)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:441)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:858)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nException in thread \"Thread-27\" java.lang.OutOfMemoryError: Java heap space\r\n\tat io.netty.buffer.PoolArena$HeapArena.newChunk(PoolArena.java:656)\r\n\tat io.netty.buffer.PoolArena.allocateNormal(PoolArena.java:237)\r\n\tat io.netty.buffer.PoolArena.allocate(PoolArena.java:221)\r\n\tat io.netty.buffer.PoolArena.allocate(PoolArena.java:141)\r\n\tat io.netty.buffer.PooledByteBufAllocator.newHeapBuffer(PooledByteBufAllocator.java:272)\r\n\tat io.netty.buffer.AbstractByteBufAllocator.heapBuffer(AbstractByteBufAllocator.java:160)\r\n\tat io.netty.buffer.AbstractByteBufAllocator.heapBuffer(AbstractByteBufAllocator.java:151)\r\n\tat io.netty.buffer.AbstractByteBufAllocator.ioBuffer(AbstractByteBufAllocator.java:133)\r\n\tat io.netty.channel.DefaultMaxMessagesRecvByteBufAllocator$MaxMessageHandle.allocate(DefaultMaxMessagesRecvByteBufAllocator.java:73)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:117)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:642)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:527)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:481)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:441)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:858)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n12:49:35.434 WARN  [Netty4Transport]: exception caught on transport layer [[id: 0x2e1e1733, L:/127.0.0.1:50952 - R:/127.0.0.1:9300]], closing connection\r\norg.elasticsearch.ElasticsearchException: java.lang.OutOfMemoryError: Java heap space\r\n\tat org.elasticsearch.transport.netty4.Netty4Transport.exceptionCaught(Netty4Transport.java:321) [transport-netty4-client-5.3.1.jar:5.3.1]\r\n\tat org.elasticsearch.transport.netty4.Netty4MessageChannelHandler.exceptionCaught(Netty4MessageChannelHandler.java:84) [transport-netty4-client-5.3.1.jar:5.3.1]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:286) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:265) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:257) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.ChannelInboundHandlerAdapter.exceptionCaught(ChannelInboundHandlerAdapter.java:131) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:286) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:265) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireExceptionCaught(AbstractChannelHandlerContext.java:257) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.exceptionCaught(DefaultChannelPipeline.java:1301) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:286) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:265) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline.fireExceptionCaught(DefaultChannelPipeline.java:914) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.handleReadException(AbstractNioByteChannel.java:99) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:140) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:642) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:527) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:481) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:441) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:858) [netty-common-4.1.7.Final.jar:4.1.7.Final]\r\n\tat java.lang.Thread.run(Thread.java:745) [na:1.8.0_91]\r\nCaused by: java.lang.OutOfMemoryError: Java heap space\r\n\tat io.netty.buffer.PoolArena$HeapArena.newChunk(PoolArena.java:656) ~[netty-buffer-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.buffer.PoolArena.allocateNormal(PoolArena.java:237) ~[netty-buffer-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.buffer.PoolArena.allocate(PoolArena.java:221) ~[netty-buffer-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.buffer.PoolArena.allocate(PoolArena.java:141) ~[netty-buffer-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.buffer.PooledByteBufAllocator.newHeapBuffer(PooledByteBufAllocator.java:272) ~[netty-buffer-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.buffer.AbstractByteBufAllocator.heapBuffer(AbstractByteBufAllocator.java:160) ~[netty-buffer-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.buffer.AbstractByteBufAllocator.heapBuffer(AbstractByteBufAllocator.java:151) ~[netty-buffer-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.buffer.AbstractByteBufAllocator.ioBuffer(AbstractByteBufAllocator.java:133) ~[netty-buffer-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.DefaultMaxMessagesRecvByteBufAllocator$MaxMessageHandle.allocate(DefaultMaxMessagesRecvByteBufAllocator.java:73) ~[netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:117) [netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\t... 6 common frames omitted\r\n12:49:35.446 INFO  [TransportClientNodesService]: failed to connect to node [{#transport#-1}{ZszR19SXT763_lMtxtRvcg}{127.0.0.1}{127.0.0.1:9300}], removed from nodes list\r\norg.elasticsearch.transport.ConnectTransportException: [][127.0.0.1:9300] general node connection failure\r\n\tat org.elasticsearch.transport.TcpTransport.openConnection(TcpTransport.java:519) ~[elasticsearch-5.3.1.jar:5.3.1]\r\n\tat org.elasticsearch.transport.TcpTransport.connectToNode(TcpTransport.java:460) ~[elasticsearch-5.3.1.jar:5.3.1]\r\n\tat org.elasticsearch.transport.TransportService.connectToNode(TransportService.java:314) ~[elasticsearch-5.3.1.jar:5.3.1]\r\n\tat org.elasticsearch.client.transport.TransportClientNodesService$SimpleNodeSampler.doSample(TransportClientNodesService.java:408) ~[elasticsearch-5.3.1.jar:5.3.1]\r\n\tat org.elasticsearch.client.transport.TransportClientNodesService$NodeSampler.sample(TransportClientNodesService.java:354) [elasticsearch-5.3.1.jar:5.3.1]\r\n\tat org.elasticsearch.client.transport.TransportClientNodesService.addTransportAddresses(TransportClientNodesService.java:195) [elasticsearch-5.3.1.jar:5.3.1]\r\n\tat org.elasticsearch.client.transport.TransportClient.addTransportAddress(TransportClient.java:322) [elasticsearch-5.3.1.jar:5.3.1]\r\n\tat vps.core.elastic.ElasticClient$.$anonfun$connect$1(ElasticClient.scala:225) [classes/:na]\r\n\tat scala.collection.Iterator.foreach(Iterator.scala:929) ~[scala-library-2.12.1.jar:1.0.0-M1]\r\n\tat scala.collection.Iterator.foreach$(Iterator.scala:929) ~[scala-library-2.12.1.jar:1.0.0-M1]\r\n\tat scala.collection.AbstractIterator.foreach(Iterator.scala:1406) ~[scala-library-2.12.1.jar:1.0.0-M1]\r\n\tat scala.collection.IterableLike.foreach(IterableLike.scala:71) ~[scala-library-2.12.1.jar:1.0.0-M1]\r\n\tat scala.collection.IterableLike.foreach$(IterableLike.scala:70) ~[scala-library-2.12.1.jar:1.0.0-M1]\r\n\tat scala.collection.AbstractIterable.foreach(Iterable.scala:54) ~[scala-library-2.12.1.jar:1.0.0-M1]\r\n\tat vps.core.elastic.ElasticClient$.connect(ElasticClient.scala:224) [classes/:na]\r\n\tat vps.core.elastic.ElasticManagement.connect(ElasticManagement.scala:35) ~[classes/:na]\r\n\tat vps.core.elastic.ElasticManagement.<init>(ElasticManagement.scala:19) ~[classes/:na]\r\n\tat vps.core.elastic.ElasticManagement$.apply(ElasticManagement.scala:307) ~[classes/:na]\r\n\tat vps.core.setup.TestCasePreSetup$.runPreSetup(TestCasePreSetup.scala:11) ~[test-classes/:na]\r\n\tat vps.core.setup.TestCasePreSetup.runPreSetup(TestCasePreSetup.scala) ~[test-classes/:na]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_91]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_91]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_91]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_91]\r\n\tat $f272e0d5d38461cd613e$$anonfun$core$5$$anonfun$apply$3.apply(build.sbt:61) ~[na:na]\r\n\tat $f272e0d5d38461cd613e$$anonfun$core$5$$anonfun$apply$3.apply(build.sbt:60) ~[na:na]\r\n\tat sbt.Tests$$anonfun$sbt$Tests$$partApp$1$1$$anonfun$apply$1.apply$mcV$sp(Tests.scala:174) ~[actions-0.13.13.jar:0.13.13]\r\n\tat sbt.Tests$$anonfun$sbt$Tests$$fj$1$1.apply(Tests.scala:173) ~[actions-0.13.13.jar:0.13.13]\r\n\tat sbt.Tests$$anonfun$sbt$Tests$$fj$1$1.apply(Tests.scala:173) ~[actions-0.13.13.jar:0.13.13]\r\n\tat sbt.std.TaskExtra$$anon$1$$anonfun$fork$1$$anonfun$apply$1.apply(TaskExtra.scala:89) ~[task-system-0.13.13.jar:0.13.13]\r\n\tat sbt.std.Transform$$anon$3$$anonfun$apply$2.apply(System.scala:44) ~[task-system-0.13.13.jar:0.13.13]\r\n\tat sbt.std.Transform$$anon$3$$anonfun$apply$2.apply(System.scala:44) ~[task-system-0.13.13.jar:0.13.13]\r\n\tat sbt.std.Transform$$anon$4.work(System.scala:63) ~[task-system-0.13.13.jar:0.13.13]\r\n\tat sbt.Execute$$anonfun$submit$1$$anonfun$apply$1.apply(Execute.scala:228) ~[tasks-0.13.13.jar:0.13.13]\r\n\tat sbt.Execute$$anonfun$submit$1$$anonfun$apply$1.apply(Execute.scala:228) ~[tasks-0.13.13.jar:0.13.13]\r\n\tat sbt.ErrorHandling$.wideConvert(ErrorHandling.scala:17) ~[control-0.13.13.jar:0.13.13]\r\n\tat sbt.Execute.work(Execute.scala:237) ~[tasks-0.13.13.jar:0.13.13]\r\n\tat sbt.Execute$$anonfun$submit$1.apply(Execute.scala:228) ~[tasks-0.13.13.jar:0.13.13]\r\n\tat sbt.Execute$$anonfun$submit$1.apply(Execute.scala:228) ~[tasks-0.13.13.jar:0.13.13]\r\n\tat sbt.ConcurrentRestrictions$$anon$4$$anonfun$1.apply(ConcurrentRestrictions.scala:159) ~[tasks-0.13.13.jar:0.13.13]\r\n\tat sbt.CompletionService$$anon$2.call(CompletionService.scala:28) ~[tasks-0.13.13.jar:0.13.13]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_91]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[na:1.8.0_91]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_91]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[na:1.8.0_91]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) ~[na:1.8.0_91]\r\n\tat java.lang.Thread.run(Thread.java:745) ~[na:1.8.0_91]\r\nCaused by: java.lang.IllegalStateException: handshake failed\r\n\tat org.elasticsearch.transport.TcpTransport.executeHandshake(TcpTransport.java:1568) ~[elasticsearch-5.3.1.jar:5.3.1]\r\n\tat org.elasticsearch.transport.TcpTransport.openConnection(TcpTransport.java:502) ~[elasticsearch-5.3.1.jar:5.3.1]\r\n\t... 46 common frames omitted\r\nCaused by: org.elasticsearch.transport.TransportException: connection reset\r\n\tat org.elasticsearch.transport.TcpTransport.onChannelClosed(TcpTransport.java:1610) ~[elasticsearch-5.3.1.jar:5.3.1]\r\n\tat org.elasticsearch.transport.netty4.Netty4Transport.access$100(Netty4Transport.java:94) ~[transport-netty4-client-5.3.1.jar:5.3.1]\r\n\tat org.elasticsearch.transport.netty4.Netty4Transport$ChannelCloseListener.operationComplete(Netty4Transport.java:401) ~[transport-netty4-client-5.3.1.jar:5.3.1]\r\n\tat org.elasticsearch.transport.netty4.Netty4Transport$ChannelCloseListener.operationComplete(Netty4Transport.java:391) ~[transport-netty4-client-5.3.1.jar:5.3.1]\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:507) ~[netty-common-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:481) ~[netty-common-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:420) ~[netty-common-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.util.concurrent.DefaultPromise.trySuccess(DefaultPromise.java:104) ~[netty-common-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.DefaultChannelPromise.trySuccess(DefaultChannelPromise.java:82) ~[netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.AbstractChannel$CloseFuture.setClosed(AbstractChannel.java:1058) ~[netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.doClose0(AbstractChannel.java:686) ~[netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:664) ~[netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.close(AbstractChannel.java:607) ~[netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.close(DefaultChannelPipeline.java:1276) ~[netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeClose(AbstractChannelHandlerContext.java:625) ~[netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.close(AbstractChannelHandlerContext.java:609) ~[netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.ChannelDuplexHandler.close(ChannelDuplexHandler.java:73) ~[netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeClose(AbstractChannelHandlerContext.java:625) ~[netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.access$1100(AbstractChannelHandlerContext.java:38) ~[netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext$13.run(AbstractChannelHandlerContext.java:614) ~[netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:163) ~[netty-common-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:403) ~[netty-common-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:445) ~[netty-transport-4.1.7.Final.jar:4.1.7.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:858) ~[netty-common-4.1.7.Final.jar:4.1.7.Final]\r\n\t... 1 common frames omitted\r\n\r\n\r\nlast core/test:testOnly\r\n[warn] javaOptions will be ignored, fork is set to false\r\nNoNodeAvailableException[None of the configured nodes are available: [{#transport#-1}{ZszR19SXT763_lMtxtRvcg}{127.0.0.1}{127.0.0.1:9300}]]\r\n\tat org.elasticsearch.client.transport.TransportClientNodesService.ensureNodesAreAvailable(TransportClientNodesService.java:344)\r\n\tat org.elasticsearch.client.transport.TransportClientNodesService.execute(TransportClientNodesService.java:242)\r\n\tat org.elasticsearch.client.transport.TransportProxyClient.execute(TransportProxyClient.java:59)\r\n\tat org.elasticsearch.client.transport.TransportClient.doExecute(TransportClient.java:366)\r\n\tat org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:404)\r\n\tat org.elasticsearch.client.support.AbstractClient$IndicesAdmin.execute(AbstractClient.java:1237)\r\n\tat org.elasticsearch.action.ActionRequestBuilder.execute(ActionRequestBuilder.java:80)\r\n\tat org.elasticsearch.action.ActionRequestBuilder.execute(ActionRequestBuilder.java:54)\r\n\tat vps.core.elastic.ElasticClient.indexExists(ElasticClient.scala:43)\r\n\tat vps.core.elastic.ElasticClient.mappingExists(ElasticClient.scala:37)\r\n\tat vps.core.elastic.ElasticManagement.$anonfun$schemaExists$1(ElasticManagement.scala:138)\r\n\tat scala.runtime.java8.JFunction1$mcZI$sp.apply(JFunction1$mcZI$sp.java:12)\r\n\tat scala.collection.Iterator.forall(Iterator.scala:941)\r\n\tat scala.collection.Iterator.forall$(Iterator.scala:939)\r\n\tat scala.collection.AbstractIterator.forall(Iterator.scala:1406)\r\n\tat scala.collection.IterableLike.forall(IterableLike.scala:74)\r\n\tat scala.collection.IterableLike.forall$(IterableLike.scala:73)\r\n\tat scala.collection.AbstractIterable.forall(Iterable.scala:54)\r\n\tat vps.core.elastic.ElasticManagement.schemaExists(ElasticManagement.scala:137)\r\n\tat vps.core.setup.TestCasePreSetup$.runPreSetup(TestCasePreSetup.scala:12)\r\n\tat vps.core.setup.TestCasePreSetup.runPreSetup(TestCasePreSetup.scala)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat $f272e0d5d38461cd613e$$anonfun$core$5$$anonfun$apply$3.apply(build.sbt:61)\r\n\tat $f272e0d5d38461cd613e$$anonfun$core$5$$anonfun$apply$3.apply(build.sbt:60)\r\n\tat sbt.Tests$$anonfun$sbt$Tests$$partApp$1$1$$anonfun$apply$1.apply$mcV$sp(Tests.scala:174)\r\n\tat sbt.Tests$$anonfun$sbt$Tests$$fj$1$1.apply(Tests.scala:173)\r\n\tat sbt.Tests$$anonfun$sbt$Tests$$fj$1$1.apply(Tests.scala:173)\r\n\tat sbt.std.TaskExtra$$anon$1$$anonfun$fork$1$$anonfun$apply$1.apply(TaskExtra.scala:89)\r\n\tat sbt.std.Transform$$anon$3$$anonfun$apply$2.apply(System.scala:44)\r\n\tat sbt.std.Transform$$anon$3$$anonfun$apply$2.apply(System.scala:44)\r\n\tat sbt.std.Transform$$anon$4.work(System.scala:63)\r\n\tat sbt.Execute$$anonfun$submit$1$$anonfun$apply$1.apply(Execute.scala:228)\r\n\tat sbt.Execute$$anonfun$submit$1$$anonfun$apply$1.apply(Execute.scala:228)\r\n\tat sbt.ErrorHandling$.wideConvert(ErrorHandling.scala:17)\r\n\tat sbt.Execute.work(Execute.scala:237)\r\n\tat sbt.Execute$$anonfun$submit$1.apply(Execute.scala:228)\r\n\tat sbt.Execute$$anonfun$submit$1.apply(Execute.scala:228)\r\n\tat sbt.ConcurrentRestrictions$$anon$4$$anonfun$1.apply(ConcurrentRestrictions.scala:159)\r\n\tat sbt.CompletionService$$anon$2.call(CompletionService.scala:28)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n[error] (core/test:testOnly) java.lang.reflect.InvocationTargetException","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/301899130","html_url":"https://github.com/elastic/elasticsearch/issues/22406#issuecomment-301899130","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22406","id":301899130,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMTg5OTEzMA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-05-16T20:04:09Z","updated_at":"2017-05-16T20:04:09Z","author_association":"MEMBER","body":"@ninadvps Please see my previous [comment](https://github.com/elastic/elasticsearch/issues/22406#issuecomment-301744804) on this subject.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/301909165","html_url":"https://github.com/elastic/elasticsearch/issues/22406#issuecomment-301909165","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22406","id":301909165,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMTkwOTE2NQ==","user":{"login":"ninadvps","id":19671720,"node_id":"MDQ6VXNlcjE5NjcxNzIw","avatar_url":"https://avatars3.githubusercontent.com/u/19671720?v=4","gravatar_id":"","url":"https://api.github.com/users/ninadvps","html_url":"https://github.com/ninadvps","followers_url":"https://api.github.com/users/ninadvps/followers","following_url":"https://api.github.com/users/ninadvps/following{/other_user}","gists_url":"https://api.github.com/users/ninadvps/gists{/gist_id}","starred_url":"https://api.github.com/users/ninadvps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ninadvps/subscriptions","organizations_url":"https://api.github.com/users/ninadvps/orgs","repos_url":"https://api.github.com/users/ninadvps/repos","events_url":"https://api.github.com/users/ninadvps/events{/privacy}","received_events_url":"https://api.github.com/users/ninadvps/received_events","type":"User","site_admin":false},"created_at":"2017-05-16T20:41:33Z","updated_at":"2017-05-16T20:41:33Z","author_association":"NONE","body":"@jasontedor I have, and tried the suggestions with no resolution yet. Am I missing something.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/310823296","html_url":"https://github.com/elastic/elasticsearch/issues/22406#issuecomment-310823296","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22406","id":310823296,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDgyMzI5Ng==","user":{"login":"adonis2014","id":8855523,"node_id":"MDQ6VXNlcjg4NTU1MjM=","avatar_url":"https://avatars1.githubusercontent.com/u/8855523?v=4","gravatar_id":"","url":"https://api.github.com/users/adonis2014","html_url":"https://github.com/adonis2014","followers_url":"https://api.github.com/users/adonis2014/followers","following_url":"https://api.github.com/users/adonis2014/following{/other_user}","gists_url":"https://api.github.com/users/adonis2014/gists{/gist_id}","starred_url":"https://api.github.com/users/adonis2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adonis2014/subscriptions","organizations_url":"https://api.github.com/users/adonis2014/orgs","repos_url":"https://api.github.com/users/adonis2014/repos","events_url":"https://api.github.com/users/adonis2014/events{/privacy}","received_events_url":"https://api.github.com/users/adonis2014/received_events","type":"User","site_admin":false},"created_at":"2017-06-24T07:51:55Z","updated_at":"2017-06-24T07:51:55Z","author_association":"NONE","body":"Still an issue in 5.4.2；\r\n<code>\r\n[2017-06-24T15:45:57,221][ERROR][o.e.t.n.Netty4Utils      ] fatal error on the network layer\r\n\tat org.elasticsearch.transport.netty4.Netty4Utils.maybeDie(Netty4Utils.java:179)\r\n\tat org.elasticsearch.http.netty4.Netty4HttpRequestHandler.exceptionCaught(Netty4HttpRequestHandler.java:81)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:285)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.notifyHandlerException(AbstractChannelHandlerContext.java:850)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:364)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n\tat org.elasticsearch.http.netty4.pipelining.HttpPipeliningHandler.channelRead(HttpPipeliningHandler.java:63)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n\tat org.elasticsearch.http.netty4.cors.Netty4CorsHandler.channelRead(Netty4CorsHandler.java:76)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\r\n\tat io.netty.handler.codec.MessageToMessageCodec.channelRead(MessageToMessageCodec.java:111)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:284)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n\tat io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1334)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:926)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:134)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:644)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:544)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:498)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:458)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:858)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n[2017-06-24T15:45:57,240][ERROR][o.e.t.n.Netty4Utils      ] fatal error on the network layer\r\n\tat org.elasticsearch.transport.netty4.Netty4Utils.maybeDie(Netty4Utils.java:179)\r\n\tat org.elasticsearch.xpack.security.transport.netty4.SecurityNetty4HttpServerTransport.exceptionCaught(SecurityNetty4HttpServerTransport.java:61)\r\n\tat org.elasticsearch.http.netty4.Netty4HttpRequestHandler.exceptionCaught(Netty4HttpRequestHandler.java:82)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeExceptionCaught(AbstractChannelHandlerContext.java:285)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.notifyHandlerException(AbstractChannelHandlerContext.java:850)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:364)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n\tat org.elasticsearch.http.netty4.pipelining.HttpPipeliningHandler.channelRead(HttpPipeliningHandler.java:63)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n\tat org.elasticsearch.http.netty4.cors.Netty4CorsHandler.channelRead(Netty4CorsHandler.java:76)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\r\n\tat io.netty.handler.codec.MessageToMessageCodec.channelRead(MessageToMessageCodec.java:111)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n\tat io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310)\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:284)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n\tat io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1334)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:926)\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:134)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:644)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:544)\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:498)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:458)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:858)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n</code>","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/328508624","html_url":"https://github.com/elastic/elasticsearch/issues/22406#issuecomment-328508624","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22406","id":328508624,"node_id":"MDEyOklzc3VlQ29tbWVudDMyODUwODYyNA==","user":{"login":"costin3141","id":9739571,"node_id":"MDQ6VXNlcjk3Mzk1NzE=","avatar_url":"https://avatars2.githubusercontent.com/u/9739571?v=4","gravatar_id":"","url":"https://api.github.com/users/costin3141","html_url":"https://github.com/costin3141","followers_url":"https://api.github.com/users/costin3141/followers","following_url":"https://api.github.com/users/costin3141/following{/other_user}","gists_url":"https://api.github.com/users/costin3141/gists{/gist_id}","starred_url":"https://api.github.com/users/costin3141/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/costin3141/subscriptions","organizations_url":"https://api.github.com/users/costin3141/orgs","repos_url":"https://api.github.com/users/costin3141/repos","events_url":"https://api.github.com/users/costin3141/events{/privacy}","received_events_url":"https://api.github.com/users/costin3141/received_events","type":"User","site_admin":false},"created_at":"2017-09-11T12:04:51Z","updated_at":"2017-09-11T12:04:51Z","author_association":"NONE","body":"I also see the same error as in the op but without any cause exception. Actually since we use more than one elastic search client connection we have A HELL OF A LOT trouble with elastic search client code. keeping one connection open but idle results in out of memory after some time and we get various other exception. The client code is very very instable and to what i've seen yet far to big and complext for what it actually does (sending some bulck json strings to a rest service).\r\n\r\nWe are currently thinking to remove it totally and submit our own json strings as the client code is for us basically impossible to get it stable working.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/398608255","html_url":"https://github.com/elastic/elasticsearch/issues/22406#issuecomment-398608255","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22406","id":398608255,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODYwODI1NQ==","user":{"login":"minicx","id":11987533,"node_id":"MDQ6VXNlcjExOTg3NTMz","avatar_url":"https://avatars1.githubusercontent.com/u/11987533?v=4","gravatar_id":"","url":"https://api.github.com/users/minicx","html_url":"https://github.com/minicx","followers_url":"https://api.github.com/users/minicx/followers","following_url":"https://api.github.com/users/minicx/following{/other_user}","gists_url":"https://api.github.com/users/minicx/gists{/gist_id}","starred_url":"https://api.github.com/users/minicx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/minicx/subscriptions","organizations_url":"https://api.github.com/users/minicx/orgs","repos_url":"https://api.github.com/users/minicx/repos","events_url":"https://api.github.com/users/minicx/events{/privacy}","received_events_url":"https://api.github.com/users/minicx/received_events","type":"User","site_admin":false},"created_at":"2018-06-20T02:54:30Z","updated_at":"2018-06-20T02:54:30Z","author_association":"NONE","body":"Still an issue in 5.5.3\r\nAnd my bulk requests are very small","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/430894762","html_url":"https://github.com/elastic/elasticsearch/issues/22406#issuecomment-430894762","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22406","id":430894762,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMDg5NDc2Mg==","user":{"login":"lming08","id":4060585,"node_id":"MDQ6VXNlcjQwNjA1ODU=","avatar_url":"https://avatars1.githubusercontent.com/u/4060585?v=4","gravatar_id":"","url":"https://api.github.com/users/lming08","html_url":"https://github.com/lming08","followers_url":"https://api.github.com/users/lming08/followers","following_url":"https://api.github.com/users/lming08/following{/other_user}","gists_url":"https://api.github.com/users/lming08/gists{/gist_id}","starred_url":"https://api.github.com/users/lming08/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lming08/subscriptions","organizations_url":"https://api.github.com/users/lming08/orgs","repos_url":"https://api.github.com/users/lming08/repos","events_url":"https://api.github.com/users/lming08/events{/privacy}","received_events_url":"https://api.github.com/users/lming08/received_events","type":"User","site_admin":false},"created_at":"2018-10-18T06:49:20Z","updated_at":"2018-10-18T06:49:20Z","author_association":"NONE","body":"anyone solve this problem?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/443703443","html_url":"https://github.com/elastic/elasticsearch/issues/22406#issuecomment-443703443","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22406","id":443703443,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MzcwMzQ0Mw==","user":{"login":"straffalli","id":14125085,"node_id":"MDQ6VXNlcjE0MTI1MDg1","avatar_url":"https://avatars0.githubusercontent.com/u/14125085?v=4","gravatar_id":"","url":"https://api.github.com/users/straffalli","html_url":"https://github.com/straffalli","followers_url":"https://api.github.com/users/straffalli/followers","following_url":"https://api.github.com/users/straffalli/following{/other_user}","gists_url":"https://api.github.com/users/straffalli/gists{/gist_id}","starred_url":"https://api.github.com/users/straffalli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/straffalli/subscriptions","organizations_url":"https://api.github.com/users/straffalli/orgs","repos_url":"https://api.github.com/users/straffalli/repos","events_url":"https://api.github.com/users/straffalli/events{/privacy}","received_events_url":"https://api.github.com/users/straffalli/received_events","type":"User","site_admin":false},"created_at":"2018-12-03T13:05:51Z","updated_at":"2018-12-03T13:05:51Z","author_association":"NONE","body":"Still an issue in 5.6.4... any updates?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/455750421","html_url":"https://github.com/elastic/elasticsearch/issues/22406#issuecomment-455750421","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22406","id":455750421,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NTc1MDQyMQ==","user":{"login":"bamb00","id":486660,"node_id":"MDQ6VXNlcjQ4NjY2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/486660?v=4","gravatar_id":"","url":"https://api.github.com/users/bamb00","html_url":"https://github.com/bamb00","followers_url":"https://api.github.com/users/bamb00/followers","following_url":"https://api.github.com/users/bamb00/following{/other_user}","gists_url":"https://api.github.com/users/bamb00/gists{/gist_id}","starred_url":"https://api.github.com/users/bamb00/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bamb00/subscriptions","organizations_url":"https://api.github.com/users/bamb00/orgs","repos_url":"https://api.github.com/users/bamb00/repos","events_url":"https://api.github.com/users/bamb00/events{/privacy}","received_events_url":"https://api.github.com/users/bamb00/received_events","type":"User","site_admin":false},"created_at":"2019-01-19T05:07:25Z","updated_at":"2019-01-19T05:22:51Z","author_association":"NONE","body":"Getting the same error in 6.4.3 on RH 7.6.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/466148857","html_url":"https://github.com/elastic/elasticsearch/issues/22406#issuecomment-466148857","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22406","id":466148857,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NjE0ODg1Nw==","user":{"login":"bencrenshaw1972","id":47336767,"node_id":"MDQ6VXNlcjQ3MzM2NzY3","avatar_url":"https://avatars2.githubusercontent.com/u/47336767?v=4","gravatar_id":"","url":"https://api.github.com/users/bencrenshaw1972","html_url":"https://github.com/bencrenshaw1972","followers_url":"https://api.github.com/users/bencrenshaw1972/followers","following_url":"https://api.github.com/users/bencrenshaw1972/following{/other_user}","gists_url":"https://api.github.com/users/bencrenshaw1972/gists{/gist_id}","starred_url":"https://api.github.com/users/bencrenshaw1972/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bencrenshaw1972/subscriptions","organizations_url":"https://api.github.com/users/bencrenshaw1972/orgs","repos_url":"https://api.github.com/users/bencrenshaw1972/repos","events_url":"https://api.github.com/users/bencrenshaw1972/events{/privacy}","received_events_url":"https://api.github.com/users/bencrenshaw1972/received_events","type":"User","site_admin":false},"created_at":"2019-02-21T20:12:58Z","updated_at":"2019-02-21T22:14:28Z","author_association":"NONE","body":"I'm investigating this with a user trying to apply SSL.  It may be the fact they are using a Wildcard certificate.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/644669640","html_url":"https://github.com/elastic/elasticsearch/issues/22406#issuecomment-644669640","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22406","id":644669640,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDY2OTY0MA==","user":{"login":"stephentissot","id":3367515,"node_id":"MDQ6VXNlcjMzNjc1MTU=","avatar_url":"https://avatars0.githubusercontent.com/u/3367515?v=4","gravatar_id":"","url":"https://api.github.com/users/stephentissot","html_url":"https://github.com/stephentissot","followers_url":"https://api.github.com/users/stephentissot/followers","following_url":"https://api.github.com/users/stephentissot/following{/other_user}","gists_url":"https://api.github.com/users/stephentissot/gists{/gist_id}","starred_url":"https://api.github.com/users/stephentissot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stephentissot/subscriptions","organizations_url":"https://api.github.com/users/stephentissot/orgs","repos_url":"https://api.github.com/users/stephentissot/repos","events_url":"https://api.github.com/users/stephentissot/events{/privacy}","received_events_url":"https://api.github.com/users/stephentissot/received_events","type":"User","site_admin":false},"created_at":"2020-06-16T10:09:07Z","updated_at":"2020-06-16T10:09:07Z","author_association":"NONE","body":"Is it still an issue on ES 7 version ?","performed_via_github_app":null}]