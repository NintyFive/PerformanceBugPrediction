{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/16035","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16035/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16035/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16035/events","html_url":"https://github.com/elastic/elasticsearch/issues/16035","id":127042600,"node_id":"MDU6SXNzdWUxMjcwNDI2MDA=","number":16035,"title":"docs: Bulk API Reference lacking response format and other details","user":{"login":"schmichael","id":113362,"node_id":"MDQ6VXNlcjExMzM2Mg==","avatar_url":"https://avatars1.githubusercontent.com/u/113362?v=4","gravatar_id":"","url":"https://api.github.com/users/schmichael","html_url":"https://github.com/schmichael","followers_url":"https://api.github.com/users/schmichael/followers","following_url":"https://api.github.com/users/schmichael/following{/other_user}","gists_url":"https://api.github.com/users/schmichael/gists{/gist_id}","starred_url":"https://api.github.com/users/schmichael/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schmichael/subscriptions","organizations_url":"https://api.github.com/users/schmichael/orgs","repos_url":"https://api.github.com/users/schmichael/repos","events_url":"https://api.github.com/users/schmichael/events{/privacy}","received_events_url":"https://api.github.com/users/schmichael/received_events","type":"User","site_admin":false},"labels":[{"id":145572580,"node_id":"MDU6TGFiZWwxNDU1NzI1ODA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/CRUD","name":":Distributed/CRUD","color":"0e8a16","default":false,"description":"A catch all label for issues around indexing, updating and getting a doc by id. Not search."},{"id":23715,"node_id":"MDU6TGFiZWwyMzcxNQ==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Edocs","name":">docs","color":"db755e","default":false,"description":"General docs changes"}],"state":"closed","locked":false,"assignee":{"login":"debadair","id":362578,"node_id":"MDQ6VXNlcjM2MjU3OA==","avatar_url":"https://avatars1.githubusercontent.com/u/362578?v=4","gravatar_id":"","url":"https://api.github.com/users/debadair","html_url":"https://github.com/debadair","followers_url":"https://api.github.com/users/debadair/followers","following_url":"https://api.github.com/users/debadair/following{/other_user}","gists_url":"https://api.github.com/users/debadair/gists{/gist_id}","starred_url":"https://api.github.com/users/debadair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/debadair/subscriptions","organizations_url":"https://api.github.com/users/debadair/orgs","repos_url":"https://api.github.com/users/debadair/repos","events_url":"https://api.github.com/users/debadair/events{/privacy}","received_events_url":"https://api.github.com/users/debadair/received_events","type":"User","site_admin":false},"assignees":[{"login":"debadair","id":362578,"node_id":"MDQ6VXNlcjM2MjU3OA==","avatar_url":"https://avatars1.githubusercontent.com/u/362578?v=4","gravatar_id":"","url":"https://api.github.com/users/debadair","html_url":"https://github.com/debadair","followers_url":"https://api.github.com/users/debadair/followers","following_url":"https://api.github.com/users/debadair/following{/other_user}","gists_url":"https://api.github.com/users/debadair/gists{/gist_id}","starred_url":"https://api.github.com/users/debadair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/debadair/subscriptions","organizations_url":"https://api.github.com/users/debadair/orgs","repos_url":"https://api.github.com/users/debadair/repos","events_url":"https://api.github.com/users/debadair/events{/privacy}","received_events_url":"https://api.github.com/users/debadair/received_events","type":"User","site_admin":false}],"milestone":null,"comments":5,"created_at":"2016-01-16T18:07:59Z","updated_at":"2019-10-15T18:27:49Z","closed_at":"2019-10-15T18:27:49Z","author_association":"NONE","active_lock_reason":null,"body":"Correctly processing the _response_ to a Bulk API call is incredibly important to ensuring data integrity, however the Bulk API reference docs [2.x](https://www.elastic.co/guide/en/elasticsearch/reference/2.x/docs-bulk.html) only state:\n\n> The response to a bulk action is a large JSON structure with the individual results of each action that was performed.\n\nThe only description of that \"large JSON structure\" is in an example curl command at the top of the page which only shows what a single action's response might look like:\n\n``` json\n{\"took\":7,\"items\":[{\"create\":{\"_index\":\"test\",\"_type\":\"type1\",\"_id\":\"1\",\"_version\":1}}]}\n```\n\nThere is a ton to infer from that snippet:\n- `items` is an array of the same length and order as the sent actions+documents?\n- The response to `index` actions will indicate how they were applied? So for a new document the response type will be `create` but for an existing doc it would be...?\n- What indicates an error?!\n## Other oddity: non-HTTP API?\n\nSame page and small, so I don't think it's worth a separate issue but:\n\n> If using the HTTP API...\n\nThis is the only hint on the entire page that there's a non-HTTP bulk API. Pretty sure this phrase should just be removed?\n\n_Update:_ Aha! https://www.elastic.co/guide/en/elasticsearch/reference/2.1/breaking_20_removed_features.html#_bulk_udp\n## Final nit pick: Write consistency means...?\n\nThe write consistency docs only say enough shards must be _active_ to satisfy write consistency concerns.\n\nIn other distributed systems I associate write consistency with how many nodes must _commit_ a write before the write is considered successfully applied.\n\nDoes write consistency depend solely on cluster state (the mere availability of active shards), or does it actually block on the writes to remote hosts?\n\n(Also with replicas=1 quorum should really mean the primary+replica both must be available, not just one of them... `one` and `quroum` should not be the same, but thanks for at least documenting that they are!)\n","closed_by":{"login":"debadair","id":362578,"node_id":"MDQ6VXNlcjM2MjU3OA==","avatar_url":"https://avatars1.githubusercontent.com/u/362578?v=4","gravatar_id":"","url":"https://api.github.com/users/debadair","html_url":"https://github.com/debadair","followers_url":"https://api.github.com/users/debadair/followers","following_url":"https://api.github.com/users/debadair/following{/other_user}","gists_url":"https://api.github.com/users/debadair/gists{/gist_id}","starred_url":"https://api.github.com/users/debadair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/debadair/subscriptions","organizations_url":"https://api.github.com/users/debadair/orgs","repos_url":"https://api.github.com/users/debadair/repos","events_url":"https://api.github.com/users/debadair/events{/privacy}","received_events_url":"https://api.github.com/users/debadair/received_events","type":"User","site_admin":false},"performed_via_github_app":null}