[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/74177703","html_url":"https://github.com/elastic/elasticsearch/issues/3517#issuecomment-74177703","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3517","id":74177703,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTc3NzAz","user":{"login":"GlenRSmith","id":1327920,"node_id":"MDQ6VXNlcjEzMjc5MjA=","avatar_url":"https://avatars3.githubusercontent.com/u/1327920?v=4","gravatar_id":"","url":"https://api.github.com/users/GlenRSmith","html_url":"https://github.com/GlenRSmith","followers_url":"https://api.github.com/users/GlenRSmith/followers","following_url":"https://api.github.com/users/GlenRSmith/following{/other_user}","gists_url":"https://api.github.com/users/GlenRSmith/gists{/gist_id}","starred_url":"https://api.github.com/users/GlenRSmith/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GlenRSmith/subscriptions","organizations_url":"https://api.github.com/users/GlenRSmith/orgs","repos_url":"https://api.github.com/users/GlenRSmith/repos","events_url":"https://api.github.com/users/GlenRSmith/events{/privacy}","received_events_url":"https://api.github.com/users/GlenRSmith/received_events","type":"User","site_admin":false},"created_at":"2015-02-12T23:41:53Z","updated_at":"2015-02-12T23:41:53Z","author_association":"CONTRIBUTOR","body":"It's a little bit more fun than that, even: you actually get _partial_ indexing!\n\n```\ncurl -XDELETE localhost:9200/testindex\ncurl -XPUT localhost:9200/testindex\ncurl -XPOST localhost:9200/testindex/testtype -d '{\"leftkey\":\"value\",\"_id\":{\"name\":\"polyfractal\"},\"rightkey\":\"value\"}}}'\ncurl -XPOST localhost:9200/_flush\n```\n\nNow search on the field _before_ the _id:\n\n```\ncurl -XGET localhost:9200/testindex/testtype/_search?pretty -d '{\"query\":{\"term\":{\"leftkey\":\"value\"}}}'\n{\n  \"took\" : 3,\n  \"timed_out\" : false,\n  \"_shards\" : {\n    \"total\" : 5,\n    \"successful\" : 5,\n    \"failed\" : 0\n  },\n  \"hits\" : {\n    \"total\" : 1,\n    \"max_score\" : 0.30685282,\n    \"hits\" : [ {\n      \"_index\" : \"testindex\",\n      \"_type\" : \"testtype\",\n      \"_id\" : \"PalIN5CpSPKkGbhs4qNqaw\",\n      \"_score\" : 0.30685282, \"_source\" : {\"leftkey\":\"value\",\"_id\":{\"name\":\"polyfractal\"},\"rightkey\":\"value\"}}}\n    } ]\n  }\n}\n```\n\nThere you go.\nBut search on the field _after_ the _id:\n\n```\ncurl -XGET localhost:9200/testindex/testtype/_search?pretty -d '{\"query\":{\"term\":{\"rightkey\":\"value\"}}}'\n{\n  \"took\" : 1,\n  \"timed_out\" : false,\n  \"_shards\" : {\n    \"total\" : 5,\n    \"successful\" : 5,\n    \"failed\" : 0\n  },\n  \"hits\" : {\n    \"total\" : 0,\n    \"max_score\" : null,\n    \"hits\" : [ ]\n  }\n}\n```\n\nAnd you get nothing.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/74214342","html_url":"https://github.com/elastic/elasticsearch/issues/3517#issuecomment-74214342","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3517","id":74214342,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjE0MzQy","user":{"login":"andreaskern","id":739277,"node_id":"MDQ6VXNlcjczOTI3Nw==","avatar_url":"https://avatars1.githubusercontent.com/u/739277?v=4","gravatar_id":"","url":"https://api.github.com/users/andreaskern","html_url":"https://github.com/andreaskern","followers_url":"https://api.github.com/users/andreaskern/followers","following_url":"https://api.github.com/users/andreaskern/following{/other_user}","gists_url":"https://api.github.com/users/andreaskern/gists{/gist_id}","starred_url":"https://api.github.com/users/andreaskern/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andreaskern/subscriptions","organizations_url":"https://api.github.com/users/andreaskern/orgs","repos_url":"https://api.github.com/users/andreaskern/repos","events_url":"https://api.github.com/users/andreaskern/events{/privacy}","received_events_url":"https://api.github.com/users/andreaskern/received_events","type":"User","site_admin":false},"created_at":"2015-02-13T07:16:12Z","updated_at":"2015-02-13T07:16:12Z","author_association":"NONE","body":"I am affected by this behavior too, monogo output the field like this \n\n```\n{ \"_id\":{\"$oid\":\"54d9e3bf30320c3335017e69\"}, \"@timestamp\":\"...\"}\n```\n\nactually I did not care about the \"_id\" field, but I care about the \"@timestamp\" field which is _silently_ not indexed. Here an example that shows the behavior:\nhttps://gist.github.com/andreaskern/01d1d292f7f146186ee5\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/106871830","html_url":"https://github.com/elastic/elasticsearch/issues/3517#issuecomment-106871830","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3517","id":106871830,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNjg3MTgzMA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-05-29T17:04:05Z","updated_at":"2015-05-29T17:04:05Z","author_association":"CONTRIBUTOR","body":"In 2.0, the timestamp field would now be indexed correctly, as would `_id.$oid`.  Wondering if we should allow users to index `_id` field inside the body at all?  /cc @rjernst \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/106881852","html_url":"https://github.com/elastic/elasticsearch/issues/3517#issuecomment-106881852","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3517","id":106881852,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNjg4MTg1Mg==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2015-05-29T17:36:13Z","updated_at":"2015-05-29T17:36:13Z","author_association":"MEMBER","body":"The ability to specify _id within a document has already been removed for 2.0+ indexes. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/106901528","html_url":"https://github.com/elastic/elasticsearch/issues/3517#issuecomment-106901528","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3517","id":106901528,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNjkwMTUyOA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-05-29T18:47:59Z","updated_at":"2015-05-29T18:47:59Z","author_association":"CONTRIBUTOR","body":"@rjernst you removed the ability to specify the main doc _id in the body, but if the body contains an `_id` field then it creates a field called `_id` in the mapping, which can't be queried.  \n\nWhat I'm asking is: should we just ignore the fact that this field is not accessible (as we do in master today) or should we actually throw an exception? I'm leaning towards ignoring, as users don't always have control over the docs they receive.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/107161189","html_url":"https://github.com/elastic/elasticsearch/issues/3517#issuecomment-107161189","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3517","id":107161189,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNzE2MTE4OQ==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2015-05-31T11:42:49Z","updated_at":"2015-05-31T11:42:49Z","author_association":"MEMBER","body":"I would be in favor of throwing an exception. This would only be for 2.0+ indexes, and it is really just field name validation (disallowing fields colliding with meta fields). The mechanism would be the same, a user would not be able to explicitly add a field `_id` in the properties for a document type.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/107161226","html_url":"https://github.com/elastic/elasticsearch/issues/3517#issuecomment-107161226","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3517","id":107161226,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNzE2MTIyNg==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-05-31T11:44:04Z","updated_at":"2015-05-31T11:44:04Z","author_association":"CONTRIBUTOR","body":"@rjernst it's a tricky one.  eg mongo adds `{ \"_id\": { \"$oid\": \"....\" }}`, so actually the `_id.$oid` field IS queryable...  should this still throw an exception?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/107161389","html_url":"https://github.com/elastic/elasticsearch/issues/3517#issuecomment-107161389","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3517","id":107161389,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNzE2MTM4OQ==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2015-05-31T11:48:27Z","updated_at":"2015-05-31T11:48:27Z","author_association":"MEMBER","body":"IMO, yes.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/107161440","html_url":"https://github.com/elastic/elasticsearch/issues/3517#issuecomment-107161440","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3517","id":107161440,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNzE2MTQ0MA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2015-05-31T11:50:17Z","updated_at":"2015-05-31T11:50:17Z","author_association":"MEMBER","body":"With #8871, I don't think that would work, because _id is both a field mapper (the real meta field), and an object mapper.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/107162669","html_url":"https://github.com/elastic/elasticsearch/issues/3517#issuecomment-107162669","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3517","id":107162669,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNzE2MjY2OQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-05-31T12:06:17Z","updated_at":"2015-05-31T12:06:17Z","author_association":"CONTRIBUTOR","body":"@rjernst yep, makes sense\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/114951254","html_url":"https://github.com/elastic/elasticsearch/issues/3517#issuecomment-114951254","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3517","id":114951254,"node_id":"MDEyOklzc3VlQ29tbWVudDExNDk1MTI1NA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-06-24T17:41:42Z","updated_at":"2015-06-24T17:41:42Z","author_association":"CONTRIBUTOR","body":"@rjernst this still works, even with #8871 merged in\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/148047497","html_url":"https://github.com/elastic/elasticsearch/issues/3517#issuecomment-148047497","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3517","id":148047497,"node_id":"MDEyOklzc3VlQ29tbWVudDE0ODA0NzQ5Nw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-10-14T13:21:26Z","updated_at":"2015-10-14T13:21:26Z","author_association":"CONTRIBUTOR","body":"Closed by #14003\n","performed_via_github_app":null}]