[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/19007221","html_url":"https://github.com/elastic/elasticsearch/issues/3137#issuecomment-19007221","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3137","id":19007221,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MDA3MjIx","user":{"login":"ike-bloomfire","id":1649685,"node_id":"MDQ6VXNlcjE2NDk2ODU=","avatar_url":"https://avatars0.githubusercontent.com/u/1649685?v=4","gravatar_id":"","url":"https://api.github.com/users/ike-bloomfire","html_url":"https://github.com/ike-bloomfire","followers_url":"https://api.github.com/users/ike-bloomfire/followers","following_url":"https://api.github.com/users/ike-bloomfire/following{/other_user}","gists_url":"https://api.github.com/users/ike-bloomfire/gists{/gist_id}","starred_url":"https://api.github.com/users/ike-bloomfire/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ike-bloomfire/subscriptions","organizations_url":"https://api.github.com/users/ike-bloomfire/orgs","repos_url":"https://api.github.com/users/ike-bloomfire/repos","events_url":"https://api.github.com/users/ike-bloomfire/events{/privacy}","received_events_url":"https://api.github.com/users/ike-bloomfire/received_events","type":"User","site_admin":false},"created_at":"2013-06-05T20:45:29Z","updated_at":"2013-06-05T20:45:29Z","author_association":"NONE","body":"This problem won't exhibit itself if you do an upgrade and continue using an old index. It only happens on new indexes created in 0.90.1 or 0.90.0 ... \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/19027931","html_url":"https://github.com/elastic/elasticsearch/issues/3137#issuecomment-19027931","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3137","id":19027931,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MDI3OTMx","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-06-06T06:52:58Z","updated_at":"2013-06-06T06:52:58Z","author_association":"CONTRIBUTOR","body":"I am afraid this is a feature not a bug. We had to drop the behaviour in the standard ngram filter since it produces broken offsets that can lead to massive offset indices and exceptions in the highlighter. If you want to have the same behaviour as 0.20 etc. you need to map the token filter like this:\n\n```\n  \"old_ngram\": {\n               \"type\": \"ngram\",\n               \"min_gram\": 2,\n               \"max_gram\": 2,\n               \"version\": \"4.1\"\n            }\n```\n\nwe are currently working on a fix in lucene that makes this possible without tricks\n\nsimon\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/19032296","html_url":"https://github.com/elastic/elasticsearch/issues/3137#issuecomment-19032296","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3137","id":19032296,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MDMyMjk2","user":{"login":"ike-bloomfire","id":1649685,"node_id":"MDQ6VXNlcjE2NDk2ODU=","avatar_url":"https://avatars0.githubusercontent.com/u/1649685?v=4","gravatar_id":"","url":"https://api.github.com/users/ike-bloomfire","html_url":"https://github.com/ike-bloomfire","followers_url":"https://api.github.com/users/ike-bloomfire/followers","following_url":"https://api.github.com/users/ike-bloomfire/following{/other_user}","gists_url":"https://api.github.com/users/ike-bloomfire/gists{/gist_id}","starred_url":"https://api.github.com/users/ike-bloomfire/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ike-bloomfire/subscriptions","organizations_url":"https://api.github.com/users/ike-bloomfire/orgs","repos_url":"https://api.github.com/users/ike-bloomfire/repos","events_url":"https://api.github.com/users/ike-bloomfire/events{/privacy}","received_events_url":"https://api.github.com/users/ike-bloomfire/received_events","type":"User","site_admin":false},"created_at":"2013-06-06T08:50:46Z","updated_at":"2013-06-06T08:56:39Z","author_association":"NONE","body":"Thanks for the explanation @s1monw! This is good to know.\n\nI'm a little confused by the alternative you provided, specifically the ngram settings. If the min_gram and max_gram are the same number how will elasticsearch know what the real min_gram and max_gram are?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/19033208","html_url":"https://github.com/elastic/elasticsearch/issues/3137#issuecomment-19033208","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3137","id":19033208,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MDMzMjA4","user":{"login":"ike-bloomfire","id":1649685,"node_id":"MDQ6VXNlcjE2NDk2ODU=","avatar_url":"https://avatars0.githubusercontent.com/u/1649685?v=4","gravatar_id":"","url":"https://api.github.com/users/ike-bloomfire","html_url":"https://github.com/ike-bloomfire","followers_url":"https://api.github.com/users/ike-bloomfire/followers","following_url":"https://api.github.com/users/ike-bloomfire/following{/other_user}","gists_url":"https://api.github.com/users/ike-bloomfire/gists{/gist_id}","starred_url":"https://api.github.com/users/ike-bloomfire/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ike-bloomfire/subscriptions","organizations_url":"https://api.github.com/users/ike-bloomfire/orgs","repos_url":"https://api.github.com/users/ike-bloomfire/repos","events_url":"https://api.github.com/users/ike-bloomfire/events{/privacy}","received_events_url":"https://api.github.com/users/ike-bloomfire/received_events","type":"User","site_admin":false},"created_at":"2013-06-06T09:10:21Z","updated_at":"2013-06-06T09:10:21Z","author_association":"NONE","body":"I just figured out that it was a typo, and that you only have to specify the \"version\" in there. I appreciate having this fallback. Thank you very much.\n\nSo I imagine when I'm using version 4.1 of this ngram filter, all the problems of \"massive offset indices and exceptions in the highlighter\" will still remain?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/19050720","html_url":"https://github.com/elastic/elasticsearch/issues/3137#issuecomment-19050720","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3137","id":19050720,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MDUwNzIw","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-06-06T14:55:10Z","updated_at":"2013-06-06T14:55:10Z","author_association":"CONTRIBUTOR","body":"> So I imagine when I'm using version 4.1 of this ngram filter, all the problems of \"massive offset indices and exceptions in the highlighter\" will still remain?\n\nkind of, we try to prevent them with some internal reordering but ideally you should only use the deprecated stuff if you really need to. I think it's ok at this point but once we have the improved ngram support we work on you should likely switch. BTW. word delimiter has similar problems. \n\n> I'm a little confused by the alternative you provided, specifically the ngram settings. If the min_gram and max_gram are the same number how will elasticsearch know what the real min_gram and max_gram are?\n\noh sorry I was only pointing you towards the version. :) I'd personally use min==max if I'd use it but it's up to you\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/19286960","html_url":"https://github.com/elastic/elasticsearch/issues/3137#issuecomment-19286960","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3137","id":19286960,"node_id":"MDEyOklzc3VlQ29tbWVudDE5Mjg2OTYw","user":{"login":"ike-bloomfire","id":1649685,"node_id":"MDQ6VXNlcjE2NDk2ODU=","avatar_url":"https://avatars0.githubusercontent.com/u/1649685?v=4","gravatar_id":"","url":"https://api.github.com/users/ike-bloomfire","html_url":"https://github.com/ike-bloomfire","followers_url":"https://api.github.com/users/ike-bloomfire/followers","following_url":"https://api.github.com/users/ike-bloomfire/following{/other_user}","gists_url":"https://api.github.com/users/ike-bloomfire/gists{/gist_id}","starred_url":"https://api.github.com/users/ike-bloomfire/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ike-bloomfire/subscriptions","organizations_url":"https://api.github.com/users/ike-bloomfire/orgs","repos_url":"https://api.github.com/users/ike-bloomfire/repos","events_url":"https://api.github.com/users/ike-bloomfire/events{/privacy}","received_events_url":"https://api.github.com/users/ike-bloomfire/received_events","type":"User","site_admin":false},"created_at":"2013-06-11T19:37:36Z","updated_at":"2013-06-11T19:37:36Z","author_association":"NONE","body":"> kind of, we try to prevent them with some internal reordering but ideally you should only use the deprecated stuff if you really need to. \n\nYeah. I tried using the version 4.1 stuff and I was still running into the **out of bounds** exceptions that I had with 19.2 :\\\n\n> I think it's ok at this point but once we have the improved ngram support we work on you should likely switch. BTW.\n\nI was curious about this. Are you saying that the old way of highlighting will make a come back in a future version of elasticsearch?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/19289668","html_url":"https://github.com/elastic/elasticsearch/issues/3137#issuecomment-19289668","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3137","id":19289668,"node_id":"MDEyOklzc3VlQ29tbWVudDE5Mjg5NjY4","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-06-11T20:23:47Z","updated_at":"2013-06-11T20:23:47Z","author_association":"CONTRIBUTOR","body":"> Yeah. I tried using the version 4.1 stuff and I was still running into the out of bounds exceptions that I had with 19.2 :\\\n\ndo you use stored field instead of source? I fixed this lately and this will be in the upcoming release, can you check 0.90 branch on github if that fixes your problem to make sure we have it fixed?\n\n> I was curious about this. Are you saying that the old way of highlighting will make a come back in a future version of elasticsearch?\n\nYes, it will likely come in the next release. Given the fact that this all relies on a bug / broken behaviour this was the safest choice. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/19290236","html_url":"https://github.com/elastic/elasticsearch/issues/3137#issuecomment-19290236","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3137","id":19290236,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MjkwMjM2","user":{"login":"ike-bloomfire","id":1649685,"node_id":"MDQ6VXNlcjE2NDk2ODU=","avatar_url":"https://avatars0.githubusercontent.com/u/1649685?v=4","gravatar_id":"","url":"https://api.github.com/users/ike-bloomfire","html_url":"https://github.com/ike-bloomfire","followers_url":"https://api.github.com/users/ike-bloomfire/followers","following_url":"https://api.github.com/users/ike-bloomfire/following{/other_user}","gists_url":"https://api.github.com/users/ike-bloomfire/gists{/gist_id}","starred_url":"https://api.github.com/users/ike-bloomfire/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ike-bloomfire/subscriptions","organizations_url":"https://api.github.com/users/ike-bloomfire/orgs","repos_url":"https://api.github.com/users/ike-bloomfire/repos","events_url":"https://api.github.com/users/ike-bloomfire/events{/privacy}","received_events_url":"https://api.github.com/users/ike-bloomfire/received_events","type":"User","site_admin":false},"created_at":"2013-06-11T20:33:31Z","updated_at":"2013-06-11T20:33:31Z","author_association":"NONE","body":"> do you use stored field instead of source?\n\nSo just basically store a every field that I highlight with the version 4.1 stuff, yes?\n\n> I fixed this lately and this will be in the upcoming release, can you check 0.90 branch on github if that fixes your problem to make sure we have it fixed?\n\nokay. So this is stuff that will be in 0.90.2 correct?\n\n> Given the fact that this all relies on a bug / broken behaviour this was the safest choice.\n\nCan you explain this a bit for me, I wasn't sure what you were talking about here.\n\n> Yes, it will likely come in the next release\n\nWe rely heavily on elasticsearch highlighting for our typeahead stuff, so this is a big relief. I thought the current behavior was going to be permanent.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/19290667","html_url":"https://github.com/elastic/elasticsearch/issues/3137#issuecomment-19290667","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3137","id":19290667,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MjkwNjY3","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-06-11T20:40:05Z","updated_at":"2013-06-11T20:40:05Z","author_association":"CONTRIBUTOR","body":"> So just basically store a every field that I highlight with the version 4.1 stuff, yes?\n\nyeah so this should be fixed\n\n> okay. So this is stuff that will be in 0.90.2 correct?\n\nYES!\n\n> Can you explain this a bit for me, I wasn't sure what you were talking about here.\n\nWell NGram Filter and Tokenizer where entirely broken causing all these StringIndexOOB Exception and bloated term vectors etc. so fixing the broken behaviour was the only way to go here and deprecate the behaviour basically only exposing it via `version` \n\n> We rely heavily on elasticsearch highlighting for our typeahead stuff, so this is a big relief. I thought the current behavior was going to be permanent.\n\nWe will allow this with NGramTokenizer but not with NGramTokenFilter we are working on a `pre-tokenization` step that splits on whitespaces for instance. The problem here is that only tokenizer can reliably modify token offsets without breaking the TokenStream contract in lucene and produce broken offsets so we can only allow this with Tokenizers. If you need to have this in a filter you need to pull it in via `version` which I discourage once NGramTokenizer if fixed. I hope this helps you moving forward.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/22116327","html_url":"https://github.com/elastic/elasticsearch/issues/3137#issuecomment-22116327","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3137","id":22116327,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTE2MzI3","user":{"login":"BowlingX","id":215671,"node_id":"MDQ6VXNlcjIxNTY3MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/215671?v=4","gravatar_id":"","url":"https://api.github.com/users/BowlingX","html_url":"https://github.com/BowlingX","followers_url":"https://api.github.com/users/BowlingX/followers","following_url":"https://api.github.com/users/BowlingX/following{/other_user}","gists_url":"https://api.github.com/users/BowlingX/gists{/gist_id}","starred_url":"https://api.github.com/users/BowlingX/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BowlingX/subscriptions","organizations_url":"https://api.github.com/users/BowlingX/orgs","repos_url":"https://api.github.com/users/BowlingX/repos","events_url":"https://api.github.com/users/BowlingX/events{/privacy}","received_events_url":"https://api.github.com/users/BowlingX/received_events","type":"User","site_admin":false},"created_at":"2013-08-05T16:03:57Z","updated_at":"2013-08-05T16:04:17Z","author_association":"NONE","body":"I ran into the same issue, is there something else i can or should use? (so instead of setting the version parameter)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/22116469","html_url":"https://github.com/elastic/elasticsearch/issues/3137#issuecomment-22116469","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3137","id":22116469,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTE2NDY5","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-08-05T16:05:50Z","updated_at":"2013-08-05T16:05:50Z","author_association":"CONTRIBUTOR","body":"@BowlingX you should use NGramTokenizer instead that should give you the partial highlighting capabilities you need. see http://www.elasticsearch.org/guide/reference/index-modules/analysis/ngram-tokenizer/\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/36011279","html_url":"https://github.com/elastic/elasticsearch/issues/3137#issuecomment-36011279","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3137","id":36011279,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MDExMjc5","user":{"login":"ariasdelrio","id":668781,"node_id":"MDQ6VXNlcjY2ODc4MQ==","avatar_url":"https://avatars0.githubusercontent.com/u/668781?v=4","gravatar_id":"","url":"https://api.github.com/users/ariasdelrio","html_url":"https://github.com/ariasdelrio","followers_url":"https://api.github.com/users/ariasdelrio/followers","following_url":"https://api.github.com/users/ariasdelrio/following{/other_user}","gists_url":"https://api.github.com/users/ariasdelrio/gists{/gist_id}","starred_url":"https://api.github.com/users/ariasdelrio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ariasdelrio/subscriptions","organizations_url":"https://api.github.com/users/ariasdelrio/orgs","repos_url":"https://api.github.com/users/ariasdelrio/repos","events_url":"https://api.github.com/users/ariasdelrio/events{/privacy}","received_events_url":"https://api.github.com/users/ariasdelrio/received_events","type":"User","site_admin":false},"created_at":"2014-02-25T14:20:36Z","updated_at":"2014-02-25T14:20:36Z","author_association":"NONE","body":"@s1monw I was using the 4.1 stuff for edge_ngram, but now I want to change to an NGramTokenizer. My problem is that we were using an ICU tokenizer before. Is there a way to keep this? The only option that the NGramTokenizer seems to allow is to separate words based on character classes.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/36011445","html_url":"https://github.com/elastic/elasticsearch/issues/3137#issuecomment-36011445","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3137","id":36011445,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MDExNDQ1","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2014-02-25T14:22:10Z","updated_at":"2014-02-25T14:22:10Z","author_association":"CONTRIBUTOR","body":"no you can't really do the ICU tokenization together with the NGramTokenizer\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/146714735","html_url":"https://github.com/elastic/elasticsearch/issues/3137#issuecomment-146714735","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3137","id":146714735,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjcxNDczNQ==","user":{"login":"mcuelenaere","id":1682432,"node_id":"MDQ6VXNlcjE2ODI0MzI=","avatar_url":"https://avatars0.githubusercontent.com/u/1682432?v=4","gravatar_id":"","url":"https://api.github.com/users/mcuelenaere","html_url":"https://github.com/mcuelenaere","followers_url":"https://api.github.com/users/mcuelenaere/followers","following_url":"https://api.github.com/users/mcuelenaere/following{/other_user}","gists_url":"https://api.github.com/users/mcuelenaere/gists{/gist_id}","starred_url":"https://api.github.com/users/mcuelenaere/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcuelenaere/subscriptions","organizations_url":"https://api.github.com/users/mcuelenaere/orgs","repos_url":"https://api.github.com/users/mcuelenaere/repos","events_url":"https://api.github.com/users/mcuelenaere/events{/privacy}","received_events_url":"https://api.github.com/users/mcuelenaere/received_events","type":"User","site_admin":false},"created_at":"2015-10-08T23:25:04Z","updated_at":"2015-10-08T23:25:04Z","author_association":"NONE","body":"@s1monw what's the status on partial highlighting with NGramTokenFilter (not NGramTokenizer)? Is there an issue to track this?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/193579374","html_url":"https://github.com/elastic/elasticsearch/issues/3137#issuecomment-193579374","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3137","id":193579374,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MzU3OTM3NA==","user":{"login":"wkiser","id":3188217,"node_id":"MDQ6VXNlcjMxODgyMTc=","avatar_url":"https://avatars1.githubusercontent.com/u/3188217?v=4","gravatar_id":"","url":"https://api.github.com/users/wkiser","html_url":"https://github.com/wkiser","followers_url":"https://api.github.com/users/wkiser/followers","following_url":"https://api.github.com/users/wkiser/following{/other_user}","gists_url":"https://api.github.com/users/wkiser/gists{/gist_id}","starred_url":"https://api.github.com/users/wkiser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wkiser/subscriptions","organizations_url":"https://api.github.com/users/wkiser/orgs","repos_url":"https://api.github.com/users/wkiser/repos","events_url":"https://api.github.com/users/wkiser/events{/privacy}","received_events_url":"https://api.github.com/users/wkiser/received_events","type":"User","site_admin":false},"created_at":"2016-03-08T03:06:27Z","updated_at":"2016-03-08T03:06:27Z","author_association":"NONE","body":"+1 would also like to know the status of partial highlighting using an (edge)NGramTokenFilter. Or if there are any workarounds for 2.2.0. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/193670947","html_url":"https://github.com/elastic/elasticsearch/issues/3137#issuecomment-193670947","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3137","id":193670947,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MzY3MDk0Nw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-03-08T08:59:12Z","updated_at":"2016-03-08T08:59:12Z","author_association":"CONTRIBUTOR","body":"@mcuelenaere @wkiser The contract of token filters is that they can't change positions or offsets, so an ngram (or edge ngram) token filter will always use the offsets of the whole original word.\n\nFor partial highlighting, look at using the ngram and edge ngram tokenizers instead.  \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/193860434","html_url":"https://github.com/elastic/elasticsearch/issues/3137#issuecomment-193860434","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3137","id":193860434,"node_id":"MDEyOklzc3VlQ29tbWVudDE5Mzg2MDQzNA==","user":{"login":"wkiser","id":3188217,"node_id":"MDQ6VXNlcjMxODgyMTc=","avatar_url":"https://avatars1.githubusercontent.com/u/3188217?v=4","gravatar_id":"","url":"https://api.github.com/users/wkiser","html_url":"https://github.com/wkiser","followers_url":"https://api.github.com/users/wkiser/followers","following_url":"https://api.github.com/users/wkiser/following{/other_user}","gists_url":"https://api.github.com/users/wkiser/gists{/gist_id}","starred_url":"https://api.github.com/users/wkiser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wkiser/subscriptions","organizations_url":"https://api.github.com/users/wkiser/orgs","repos_url":"https://api.github.com/users/wkiser/repos","events_url":"https://api.github.com/users/wkiser/events{/privacy}","received_events_url":"https://api.github.com/users/wkiser/received_events","type":"User","site_admin":false},"created_at":"2016-03-08T16:50:12Z","updated_at":"2016-03-08T16:50:12Z","author_association":"NONE","body":"@clintongormley one of the requirements that I am working with is supporting typeahead search for name synonyms. I have this working by chaining synonym and edgengram token filters. Switching to ngramtokenizer seems like I would lose typeahead on all the synonyms.\n\nAm I out of luck with accurate highlighting here? Is there no slower, non offset based highlighter?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/193891715","html_url":"https://github.com/elastic/elasticsearch/issues/3137#issuecomment-193891715","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3137","id":193891715,"node_id":"MDEyOklzc3VlQ29tbWVudDE5Mzg5MTcxNQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-03-08T17:58:34Z","updated_at":"2016-03-08T17:58:34Z","author_association":"CONTRIBUTOR","body":"@wkiser you are out of luck, as far as i'm aware\n","performed_via_github_app":null}]