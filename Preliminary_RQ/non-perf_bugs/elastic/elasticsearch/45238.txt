{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/45238","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45238/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45238/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45238/events","html_url":"https://github.com/elastic/elasticsearch/issues/45238","id":477365072,"node_id":"MDU6SXNzdWU0NzczNjUwNzI=","number":45238,"title":"test failure org.elasticsearch.xpack.dataframe.checkpoint.DataFrameTransformCheckpointServiceNodeTests » testGetCheckpointStats","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"labels":[{"id":1272783040,"node_id":"MDU6TGFiZWwxMjcyNzgzMDQw","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:ml/Transform","name":":ml/Transform","color":"0e8a16","default":false,"description":"Transform"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"},{"id":1194435738,"node_id":"MDU6TGFiZWwxMTk0NDM1NzM4","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v8.0.0","name":"v8.0.0","color":"dddddd","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2019-08-06T12:57:23Z","updated_at":"2019-09-05T19:59:37Z","closed_at":"2019-09-05T19:59:37Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"## Example build failure\r\nhttps://scans.gradle.com/s/q6iig7skusihw/tests/pzhjuvhaoog6w-fxij42n4odxkk\r\n\r\n## Reproduction line \r\ndoes not reproduce locally\r\n```\r\n./gradlew :x-pack:plugin:data-frame:test --tests \"org.elasticsearch.xpack.dataframe.checkpoint.DataFrameTransformCheckpointServiceNodeTests.testGetCheckpointStats\" -Dtests.seed=31B7CC998CFE5D73 -Dtests.security.manager=true -Dtests.locale=fr-MA -Dtests.timezone=Australia/Lindeman -Dcompiler.java=12 -Druntime.java=11\r\nHomeTestsDataFrameTransformCheckpointServiceNodeTests » testGetCheckpointStatsClose test output (esc)\r\n```\r\n\r\n## Example relevant log:\r\n```\r\ncom.carrotsearch.randomizedtesting.UncaughtExceptionError: Captured an uncaught exception in thread: Thread[id=46, name=elasticsearch[node_s_0][get][T#1], state=RUNNABLE, group=TGRP-DataFrameTransformCheckpointServiceNodeTests]Close stacktrace\r\nat __randomizedtesting.SeedInfo.seed([31B7CC998CFE5D73:1763BD35BF5C2F56]:0)\r\nCaused by: java.lang.AssertionError: got unexpected exception: Failure during source checkpoint info retrievalClose stacktrace\r\nat __randomizedtesting.SeedInfo.seed([31B7CC998CFE5D73]:0)\r\nat org.junit.Assert.fail(Assert.java:88)\r\nat org.elasticsearch.xpack.dataframe.DataFrameSingleNodeTestCase.lambda$assertAsync$2(DataFrameSingleNodeTestCase.java:66)\r\nat org.elasticsearch.action.ActionListener$1.onFailure(ActionListener.java:70)\r\nat org.elasticsearch.action.LatchedActionListener.onFailure(LatchedActionListener.java:50)\r\nat org.elasticsearch.xpack.dataframe.checkpoint.DefaultCheckpointProvider.lambda$getCheckpointingInfo$10(DefaultCheckpointProvider.java:275)\r\nat org.elasticsearch.action.ActionListener$1.onFailure(ActionListener.java:70)\r\nat org.elasticsearch.xpack.dataframe.checkpoint.DefaultCheckpointProvider.lambda$getIndexCheckpoints$4(DefaultCheckpointProvider.java:169)\r\nat org.elasticsearch.action.ActionListener$1.onFailure(ActionListener.java:70)\r\nat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:64)\r\nat org.elasticsearch.action.support.ContextPreservingActionListener.onResponse(ContextPreservingActionListener.java:43)\r\nat org.elasticsearch.xpack.dataframe.checkpoint.DataFrameTransformCheckpointServiceNodeTests$MockClientForCheckpointing.doExecute(DataFrameTransformCheckpointServiceNodeTests.java:103)\r\nat org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:377)\r\nat org.elasticsearch.xpack.core.ClientHelper.executeAsyncWithOrigin(ClientHelper.java:89)\r\nat org.elasticsearch.xpack.core.ClientHelper.executeWithHeadersAsync(ClientHelper.java:152)\r\nat org.elasticsearch.xpack.dataframe.checkpoint.DefaultCheckpointProvider.getIndexCheckpoints(DefaultCheckpointProvider.java:145)\r\nat org.elasticsearch.xpack.dataframe.checkpoint.DefaultCheckpointProvider.lambda$getCheckpointingInfo$11(DefaultCheckpointProvider.java:283)\r\nat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:62)\r\nat org.elasticsearch.xpack.dataframe.persistence.DataFrameTransformsConfigManager.parseCheckpointsLenientlyFromSource(DataFrameTransformsConfigManager.java:393)\r\nat org.elasticsearch.xpack.dataframe.persistence.DataFrameTransformsConfigManager.lambda$getTransformCheckpoint$3(DataFrameTransformsConfigManager.java:158)\r\nat org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:62)\r\nat org.elasticsearch.action.support.ContextPreservingActionListener.onResponse(ContextPreservingActionListener.java:43)\r\nat org.elasticsearch.action.support.TransportAction$1.onResponse(TransportAction.java:70)\r\nat org.elasticsearch.action.support.TransportAction$1.onResponse(TransportAction.java:64)\r\nat org.elasticsearch.action.support.single.shard.TransportSingleShardAction$AsyncSingleAction$2.handleResponse(TransportSingleShardAction.java:261)\r\nat org.elasticsearch.action.support.single.shard.TransportSingleShardAction$AsyncSingleAction$2.handleResponse(TransportSingleShardAction.java:247)\r\nat org.elasticsearch.transport.TransportService$ContextRestoreResponseHandler.handleResponse(TransportService.java:1100)\r\nat org.elasticsearch.transport.TransportService$DirectResponseChannel.processResponse(TransportService.java:1178)\r\nat org.elasticsearch.transport.TransportService$DirectResponseChannel.sendResponse(TransportService.java:1158)\r\nat org.elasticsearch.transport.TaskTransportChannel.sendResponse(TaskTransportChannel.java:54)\r\nat org.elasticsearch.action.support.ChannelActionListener.onResponse(ChannelActionListener.java:47)\r\nat org.elasticsearch.action.support.ChannelActionListener.onResponse(ChannelActionListener.java:30)\r\nat org.elasticsearch.action.support.single.shard.TransportSingleShardAction.lambda$asyncShardOperation$0(TransportSingleShardAction.java:110)\r\nat org.elasticsearch.action.ActionRunnable$1.doRun(ActionRunnable.java:45)\r\nat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:769)\r\nat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\nat java.lang.Thread.run(Thread.java:834)\r\n```\r\n\r\n## Frequency","closed_by":{"login":"benwtrent","id":4357155,"node_id":"MDQ6VXNlcjQzNTcxNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/4357155?v=4","gravatar_id":"","url":"https://api.github.com/users/benwtrent","html_url":"https://github.com/benwtrent","followers_url":"https://api.github.com/users/benwtrent/followers","following_url":"https://api.github.com/users/benwtrent/following{/other_user}","gists_url":"https://api.github.com/users/benwtrent/gists{/gist_id}","starred_url":"https://api.github.com/users/benwtrent/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benwtrent/subscriptions","organizations_url":"https://api.github.com/users/benwtrent/orgs","repos_url":"https://api.github.com/users/benwtrent/repos","events_url":"https://api.github.com/users/benwtrent/events{/privacy}","received_events_url":"https://api.github.com/users/benwtrent/received_events","type":"User","site_admin":false},"performed_via_github_app":null}