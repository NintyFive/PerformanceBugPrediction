[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/188757969","html_url":"https://github.com/elastic/elasticsearch/issues/16803#issuecomment-188757969","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16803","id":188757969,"node_id":"MDEyOklzc3VlQ29tbWVudDE4ODc1Nzk2OQ==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-02-25T12:18:01Z","updated_at":"2016-02-25T12:18:16Z","author_association":"MEMBER","body":"Sounds like your `CustomScriptFactory` class does not extend `Plugin`.\n\nCan you ask such questions on discuss.elastic.co please? We keep this place only for confirmed issues.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/188773150","html_url":"https://github.com/elastic/elasticsearch/issues/16803#issuecomment-188773150","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16803","id":188773150,"node_id":"MDEyOklzc3VlQ29tbWVudDE4ODc3MzE1MA==","user":{"login":"kingaj","id":2405218,"node_id":"MDQ6VXNlcjI0MDUyMTg=","avatar_url":"https://avatars1.githubusercontent.com/u/2405218?v=4","gravatar_id":"","url":"https://api.github.com/users/kingaj","html_url":"https://github.com/kingaj","followers_url":"https://api.github.com/users/kingaj/followers","following_url":"https://api.github.com/users/kingaj/following{/other_user}","gists_url":"https://api.github.com/users/kingaj/gists{/gist_id}","starred_url":"https://api.github.com/users/kingaj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kingaj/subscriptions","organizations_url":"https://api.github.com/users/kingaj/orgs","repos_url":"https://api.github.com/users/kingaj/repos","events_url":"https://api.github.com/users/kingaj/events{/privacy}","received_events_url":"https://api.github.com/users/kingaj/received_events","type":"User","site_admin":false},"created_at":"2016-02-25T12:47:34Z","updated_at":"2016-02-25T12:47:34Z","author_association":"NONE","body":"https://discuss.elastic.co/ take lot of time to open\ncan you please tell me the way how to solve my problem please\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/188774117","html_url":"https://github.com/elastic/elasticsearch/issues/16803#issuecomment-188774117","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16803","id":188774117,"node_id":"MDEyOklzc3VlQ29tbWVudDE4ODc3NDExNw==","user":{"login":"kingaj","id":2405218,"node_id":"MDQ6VXNlcjI0MDUyMTg=","avatar_url":"https://avatars1.githubusercontent.com/u/2405218?v=4","gravatar_id":"","url":"https://api.github.com/users/kingaj","html_url":"https://github.com/kingaj","followers_url":"https://api.github.com/users/kingaj/followers","following_url":"https://api.github.com/users/kingaj/following{/other_user}","gists_url":"https://api.github.com/users/kingaj/gists{/gist_id}","starred_url":"https://api.github.com/users/kingaj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kingaj/subscriptions","organizations_url":"https://api.github.com/users/kingaj/orgs","repos_url":"https://api.github.com/users/kingaj/repos","events_url":"https://api.github.com/users/kingaj/events{/privacy}","received_events_url":"https://api.github.com/users/kingaj/received_events","type":"User","site_admin":false},"created_at":"2016-02-25T12:49:09Z","updated_at":"2016-02-25T13:14:08Z","author_association":"NONE","body":"and its possible to transfer elasticserach 1.7 indexing data into 2.2.0 elasticsearch \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/188777181","html_url":"https://github.com/elastic/elasticsearch/issues/16803#issuecomment-188777181","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16803","id":188777181,"node_id":"MDEyOklzc3VlQ29tbWVudDE4ODc3NzE4MQ==","user":{"login":"ervivekmehta","id":5938907,"node_id":"MDQ6VXNlcjU5Mzg5MDc=","avatar_url":"https://avatars0.githubusercontent.com/u/5938907?v=4","gravatar_id":"","url":"https://api.github.com/users/ervivekmehta","html_url":"https://github.com/ervivekmehta","followers_url":"https://api.github.com/users/ervivekmehta/followers","following_url":"https://api.github.com/users/ervivekmehta/following{/other_user}","gists_url":"https://api.github.com/users/ervivekmehta/gists{/gist_id}","starred_url":"https://api.github.com/users/ervivekmehta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ervivekmehta/subscriptions","organizations_url":"https://api.github.com/users/ervivekmehta/orgs","repos_url":"https://api.github.com/users/ervivekmehta/repos","events_url":"https://api.github.com/users/ervivekmehta/events{/privacy}","received_events_url":"https://api.github.com/users/ervivekmehta/received_events","type":"User","site_admin":false},"created_at":"2016-02-25T12:59:41Z","updated_at":"2016-02-25T12:59:41Z","author_association":"NONE","body":"yes we have already extended Plugin class.\n\nHere is the code overview:\n\npublic class TraceOrgCustomScriptFactory extends Plugin implements NativeScriptFactory\n{\n\n```\npublic ExecutableScript newScript(@Nullable Map<String, Object> params)\n{\n    return new CustomScript(params);\n}\n\npublic boolean needsScores() {\n    return true;\n}\n\n@Override\npublic String name() {\n    return \"es-plugin\";\n}\n\n@Override\npublic String description() {\n    return \"es-plugin description\";\n}\n```\n\n}\n\n---\n\npublic class CustomScript extends AbstractSearchScript\n{\n    public static final short SCRIPT_UPPER_CASE =0;\n\n```\npublic static final short SCRIPT_LOWER_CASE =1;\n\npublic static final short SCRIPT_REPLACE =2;\n\npublic static final short SCRIPT_SUBSTRING =3;\n\npublic static final short SCRIPT_FORMAT_DATE =4;\n\npublic static final short SCRIPT_ROUND_VALUE =5;\n\nprivate final Map<String,Object> m_params;\n\npublic CustomScript(@Nullable Map<String,Object> params)\n{\n    m_params =params;\n}\n\npublic Object run()\n{\n    Object result =null;\n\n    short scriptType = Short.parseShort(m_params.get(\"type\").toString());\n\n    String field = m_params.get(\"field\").toString();\n\n    ScriptDocValues<Object> value = (ScriptDocValues<Object>) doc().get(field);\n\n    if (value != null && !value.isEmpty())\n    {\n\n        switch (scriptType)\n        {\n            case SCRIPT_UPPER_CASE:\n\n                result =value.get(0).toString().toUpperCase();\n\n                break;\n\n\n        }\n    }\n\n    return  result;\n}\n```\n\n}\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/188791414","html_url":"https://github.com/elastic/elasticsearch/issues/16803#issuecomment-188791414","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16803","id":188791414,"node_id":"MDEyOklzc3VlQ29tbWVudDE4ODc5MTQxNA==","user":{"login":"ervivekmehta","id":5938907,"node_id":"MDQ6VXNlcjU5Mzg5MDc=","avatar_url":"https://avatars0.githubusercontent.com/u/5938907?v=4","gravatar_id":"","url":"https://api.github.com/users/ervivekmehta","html_url":"https://github.com/ervivekmehta","followers_url":"https://api.github.com/users/ervivekmehta/followers","following_url":"https://api.github.com/users/ervivekmehta/following{/other_user}","gists_url":"https://api.github.com/users/ervivekmehta/gists{/gist_id}","starred_url":"https://api.github.com/users/ervivekmehta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ervivekmehta/subscriptions","organizations_url":"https://api.github.com/users/ervivekmehta/orgs","repos_url":"https://api.github.com/users/ervivekmehta/repos","events_url":"https://api.github.com/users/ervivekmehta/events{/privacy}","received_events_url":"https://api.github.com/users/ervivekmehta/received_events","type":"User","site_admin":false},"created_at":"2016-02-25T13:52:35Z","updated_at":"2016-02-25T13:52:35Z","author_association":"NONE","body":"please provide a proper comment otherwise I have to create another same issue.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/188797471","html_url":"https://github.com/elastic/elasticsearch/issues/16803#issuecomment-188797471","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16803","id":188797471,"node_id":"MDEyOklzc3VlQ29tbWVudDE4ODc5NzQ3MQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-02-25T14:06:30Z","updated_at":"2016-02-25T14:16:17Z","author_association":"MEMBER","body":"> please provide a proper comment otherwise I have to create another same issue.\n\nA [proper comment](https://github.com/elastic/elasticsearch/issues/16803#issuecomment-188757969) was already given. Your issue is neither stating that there is a bug in Elasticsearch nor is it a feature request. GitHub issues are reserved for bug reports and feature requests; you were directed to the [Elastic Discourse forums](https://discuss.elastic.co) where there is a community that would be more than delighted to help you; this was made clear in the issue template when you filed this issue.\n\nThere are unit tests in the Elasticsearch codebase that install and execute native script plugins and those tests pass on the 2.2 branch and the v2.2.0 tag. I note further that your stack trace states that `CustomScriptFactory` can not be cast to an instance of `Plugin` but the code that you pasted here doesn't even show the `CustomScriptFactory` class. It seems clear that you're trying to load a plugin that is not a `Plugin`.\n\nI'm sorry to tell you that there is no evidence of a bug in Elasticsearch here. If you have additional questions, please use the [Elastic Discourse forums](https://discuss.elastic.co) and only use GitHub if you uncover evidence of an actual bug in Elasticsearch.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/189129809","html_url":"https://github.com/elastic/elasticsearch/issues/16803#issuecomment-189129809","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16803","id":189129809,"node_id":"MDEyOklzc3VlQ29tbWVudDE4OTEyOTgwOQ==","user":{"login":"kingaj","id":2405218,"node_id":"MDQ6VXNlcjI0MDUyMTg=","avatar_url":"https://avatars1.githubusercontent.com/u/2405218?v=4","gravatar_id":"","url":"https://api.github.com/users/kingaj","html_url":"https://github.com/kingaj","followers_url":"https://api.github.com/users/kingaj/followers","following_url":"https://api.github.com/users/kingaj/following{/other_user}","gists_url":"https://api.github.com/users/kingaj/gists{/gist_id}","starred_url":"https://api.github.com/users/kingaj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kingaj/subscriptions","organizations_url":"https://api.github.com/users/kingaj/orgs","repos_url":"https://api.github.com/users/kingaj/repos","events_url":"https://api.github.com/users/kingaj/events{/privacy}","received_events_url":"https://api.github.com/users/kingaj/received_events","type":"User","site_admin":false},"created_at":"2016-02-26T06:27:07Z","updated_at":"2016-02-26T06:28:20Z","author_association":"NONE","body":"i change the class and also extend plugin you can see the error which i put above\n\nand my*\\* elasticsearch.yml file **\n\n script.inline: on\n\n script.indexed: on\n\n script.file: true\n\n script.default_lang: native\n\n resource.reload.interval: 120s\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/189130074","html_url":"https://github.com/elastic/elasticsearch/issues/16803#issuecomment-189130074","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16803","id":189130074,"node_id":"MDEyOklzc3VlQ29tbWVudDE4OTEzMDA3NA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-02-26T06:29:36Z","updated_at":"2016-02-26T06:44:12Z","author_association":"MEMBER","body":"Please note that dramatically editing your initial post like you have done just creates confusion.\n\nIt looks to me like you are overriding `Plugin#additionalSettings` and returning `null` and that's why you're getting the NPE.\n\nFinally, unless you have a bug or a feature request, please take any future conversation to the [Elastic Discourse forums](https://discuss.elastic.co).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/189154307","html_url":"https://github.com/elastic/elasticsearch/issues/16803#issuecomment-189154307","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16803","id":189154307,"node_id":"MDEyOklzc3VlQ29tbWVudDE4OTE1NDMwNw==","user":{"login":"kingaj","id":2405218,"node_id":"MDQ6VXNlcjI0MDUyMTg=","avatar_url":"https://avatars1.githubusercontent.com/u/2405218?v=4","gravatar_id":"","url":"https://api.github.com/users/kingaj","html_url":"https://github.com/kingaj","followers_url":"https://api.github.com/users/kingaj/followers","following_url":"https://api.github.com/users/kingaj/following{/other_user}","gists_url":"https://api.github.com/users/kingaj/gists{/gist_id}","starred_url":"https://api.github.com/users/kingaj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kingaj/subscriptions","organizations_url":"https://api.github.com/users/kingaj/orgs","repos_url":"https://api.github.com/users/kingaj/repos","events_url":"https://api.github.com/users/kingaj/events{/privacy}","received_events_url":"https://api.github.com/users/kingaj/received_events","type":"User","site_admin":false},"created_at":"2016-02-26T08:00:52Z","updated_at":"2016-02-26T08:00:52Z","author_association":"NONE","body":"i create native search plugin in java and try to use as plugin\n@jasontedor  sir you have any example or any link which i follow to create native script and use it \nplease sir. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/189207656","html_url":"https://github.com/elastic/elasticsearch/issues/16803#issuecomment-189207656","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16803","id":189207656,"node_id":"MDEyOklzc3VlQ29tbWVudDE4OTIwNzY1Ng==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-02-26T10:26:13Z","updated_at":"2016-02-26T10:26:13Z","author_association":"MEMBER","body":"Please @kingaj\n\n> Finally, unless you have a bug or a feature request, please take any future conversation to the Elastic Discourse forums.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/198329074","html_url":"https://github.com/elastic/elasticsearch/issues/16803#issuecomment-198329074","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16803","id":198329074,"node_id":"MDEyOklzc3VlQ29tbWVudDE5ODMyOTA3NA==","user":{"login":"kingaj","id":2405218,"node_id":"MDQ6VXNlcjI0MDUyMTg=","avatar_url":"https://avatars1.githubusercontent.com/u/2405218?v=4","gravatar_id":"","url":"https://api.github.com/users/kingaj","html_url":"https://github.com/kingaj","followers_url":"https://api.github.com/users/kingaj/followers","following_url":"https://api.github.com/users/kingaj/following{/other_user}","gists_url":"https://api.github.com/users/kingaj/gists{/gist_id}","starred_url":"https://api.github.com/users/kingaj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kingaj/subscriptions","organizations_url":"https://api.github.com/users/kingaj/orgs","repos_url":"https://api.github.com/users/kingaj/repos","events_url":"https://api.github.com/users/kingaj/events{/privacy}","received_events_url":"https://api.github.com/users/kingaj/received_events","type":"User","site_admin":false},"created_at":"2016-03-18T12:25:41Z","updated_at":"2016-03-18T12:25:41Z","author_association":"NONE","body":"thank you my script working\n","performed_via_github_app":null}]