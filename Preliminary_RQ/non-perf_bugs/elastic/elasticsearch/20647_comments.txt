[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/249338290","html_url":"https://github.com/elastic/elasticsearch/issues/20647#issuecomment-249338290","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20647","id":249338290,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTMzODI5MA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-09-24T01:57:15Z","updated_at":"2016-09-24T01:57:15Z","author_association":"CONTRIBUTOR","body":"That makes sense! You'd like the service not to be \"up\" until it is\nactually ready to take requests.\n\nOn Sep 23, 2016 5:39 PM, \"Nosxxx\" notifications@github.com wrote:\n\n> Since the current Type of the service is \"simple\" systemd proceed\n> immediately with the \"depending\" units.\n> \n> See: https://www.freedesktop.org/software/systemd/man/systemd.service.html\n> -> Options -> Type\n> \n> Since elasticsearch needs some time to start, there are some problems with\n> other software, which needs elasticsearch being up.\n> \n> I hope you understand the problem and I'm sorry for my bad english.\n> \n> —\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> https://github.com/elastic/elasticsearch/issues/20647, or mute the\n> thread\n> https://github.com/notifications/unsubscribe-auth/AANLooGnXS7oBvMQn55dAgf9_H_mpbASks5qtEcagaJpZM4KFaoY\n> .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/249352764","html_url":"https://github.com/elastic/elasticsearch/issues/20647#issuecomment-249352764","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20647","id":249352764,"node_id":"MDEyOklzc3VlQ29tbWVudDI0OTM1Mjc2NA==","user":{"login":"Kraeutergarten","id":5418554,"node_id":"MDQ6VXNlcjU0MTg1NTQ=","avatar_url":"https://avatars1.githubusercontent.com/u/5418554?v=4","gravatar_id":"","url":"https://api.github.com/users/Kraeutergarten","html_url":"https://github.com/Kraeutergarten","followers_url":"https://api.github.com/users/Kraeutergarten/followers","following_url":"https://api.github.com/users/Kraeutergarten/following{/other_user}","gists_url":"https://api.github.com/users/Kraeutergarten/gists{/gist_id}","starred_url":"https://api.github.com/users/Kraeutergarten/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kraeutergarten/subscriptions","organizations_url":"https://api.github.com/users/Kraeutergarten/orgs","repos_url":"https://api.github.com/users/Kraeutergarten/repos","events_url":"https://api.github.com/users/Kraeutergarten/events{/privacy}","received_events_url":"https://api.github.com/users/Kraeutergarten/received_events","type":"User","site_admin":false},"created_at":"2016-09-24T08:25:13Z","updated_at":"2016-09-24T08:25:22Z","author_association":"NONE","body":"> You'd like the service not to be \"up\" until it is actually ready to take requests.\n\nThat's exactly what I mean. Thank you. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/252912587","html_url":"https://github.com/elastic/elasticsearch/issues/20647#issuecomment-252912587","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20647","id":252912587,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MjkxMjU4Nw==","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2016-10-11T13:13:16Z","updated_at":"2016-10-11T13:13:16Z","author_association":"MEMBER","body":"I understand the issue but I don't see what makes sense to you @nik9000 : are you in favour of moving away from the `simple` type?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/252912985","html_url":"https://github.com/elastic/elasticsearch/issues/20647#issuecomment-252912985","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20647","id":252912985,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MjkxMjk4NQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-10-11T13:14:49Z","updated_at":"2016-10-11T13:14:49Z","author_association":"CONTRIBUTOR","body":"I know you _can_ move away from it to get features like this but I don't know more than that.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/283004995","html_url":"https://github.com/elastic/elasticsearch/issues/20647#issuecomment-283004995","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20647","id":283004995,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzAwNDk5NQ==","user":{"login":"userappgate","id":21868785,"node_id":"MDQ6VXNlcjIxODY4Nzg1","avatar_url":"https://avatars3.githubusercontent.com/u/21868785?v=4","gravatar_id":"","url":"https://api.github.com/users/userappgate","html_url":"https://github.com/userappgate","followers_url":"https://api.github.com/users/userappgate/followers","following_url":"https://api.github.com/users/userappgate/following{/other_user}","gists_url":"https://api.github.com/users/userappgate/gists{/gist_id}","starred_url":"https://api.github.com/users/userappgate/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/userappgate/subscriptions","organizations_url":"https://api.github.com/users/userappgate/orgs","repos_url":"https://api.github.com/users/userappgate/repos","events_url":"https://api.github.com/users/userappgate/events{/privacy}","received_events_url":"https://api.github.com/users/userappgate/received_events","type":"User","site_admin":false},"created_at":"2017-02-28T10:39:58Z","updated_at":"2017-02-28T10:39:58Z","author_association":"NONE","body":"You need to use `Type=forking`, and make elasticsearch do a fork() after it's ready, to signal that it's ready. This has been the way of unix demons for decades.\r\n\r\nSo something like\r\n```\r\n//Some initialization code\r\ncreate socket\r\n\r\ndaemon() // Basically a fork, it's a libc call\r\n\r\nthe rest of the stuff\r\n```\r\n\r\nSo systemd, after the fork happened, knows that the socket is ready and subsequent units can be started and they will find the socket.\r\n\r\nEven if the socket isn't ready to reply to data, it's fine that they can connect, send the request and get stuck for a bit, waiting the answer.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/283005238","html_url":"https://github.com/elastic/elasticsearch/issues/20647#issuecomment-283005238","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20647","id":283005238,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzAwNTIzOA==","user":{"login":"userappgate","id":21868785,"node_id":"MDQ6VXNlcjIxODY4Nzg1","avatar_url":"https://avatars3.githubusercontent.com/u/21868785?v=4","gravatar_id":"","url":"https://api.github.com/users/userappgate","html_url":"https://github.com/userappgate","followers_url":"https://api.github.com/users/userappgate/followers","following_url":"https://api.github.com/users/userappgate/following{/other_user}","gists_url":"https://api.github.com/users/userappgate/gists{/gist_id}","starred_url":"https://api.github.com/users/userappgate/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/userappgate/subscriptions","organizations_url":"https://api.github.com/users/userappgate/orgs","repos_url":"https://api.github.com/users/userappgate/repos","events_url":"https://api.github.com/users/userappgate/events{/privacy}","received_events_url":"https://api.github.com/users/userappgate/received_events","type":"User","site_admin":false},"created_at":"2017-02-28T10:41:03Z","updated_at":"2017-02-28T10:41:03Z","author_association":"NONE","body":"This isn't for systemd only, it's the normal way daemons are supposed to work on unix.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/450473963","html_url":"https://github.com/elastic/elasticsearch/issues/20647#issuecomment-450473963","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20647","id":450473963,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDQ3Mzk2Mw==","user":{"login":"marknelsonengineer","id":10577033,"node_id":"MDQ6VXNlcjEwNTc3MDMz","avatar_url":"https://avatars1.githubusercontent.com/u/10577033?v=4","gravatar_id":"","url":"https://api.github.com/users/marknelsonengineer","html_url":"https://github.com/marknelsonengineer","followers_url":"https://api.github.com/users/marknelsonengineer/followers","following_url":"https://api.github.com/users/marknelsonengineer/following{/other_user}","gists_url":"https://api.github.com/users/marknelsonengineer/gists{/gist_id}","starred_url":"https://api.github.com/users/marknelsonengineer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marknelsonengineer/subscriptions","organizations_url":"https://api.github.com/users/marknelsonengineer/orgs","repos_url":"https://api.github.com/users/marknelsonengineer/repos","events_url":"https://api.github.com/users/marknelsonengineer/events{/privacy}","received_events_url":"https://api.github.com/users/marknelsonengineer/received_events","type":"User","site_admin":false},"created_at":"2018-12-29T07:55:27Z","updated_at":"2018-12-29T07:55:27Z","author_association":"NONE","body":"Wow, I can't believe this issue hasn't generated more comments...  My 2 cents worth...\r\n1.  This is a big deal.  Elasticsearch is a production quality daemon and, while systemd integration is mundane, it's the future.  Leveraging systemd is a good investment.\r\n2.  I'd recommend we get Elasticsearch to use either dbus or sd_notify...  This way, we can use systemd's watchdog monitoring *and* we can configure Kibana (which also needs a systemd script) to literally start after Elastisearch is ready for business (assuming they are running on the same box).\r\n\r\nIf I can get some insight from one of the more experienced maintainers, I'd be happy to volunteer to look into adding this capability.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/528047255","html_url":"https://github.com/elastic/elasticsearch/issues/20647#issuecomment-528047255","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20647","id":528047255,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODA0NzI1NQ==","user":{"login":"williamrandolph","id":3253644,"node_id":"MDQ6VXNlcjMyNTM2NDQ=","avatar_url":"https://avatars3.githubusercontent.com/u/3253644?v=4","gravatar_id":"","url":"https://api.github.com/users/williamrandolph","html_url":"https://github.com/williamrandolph","followers_url":"https://api.github.com/users/williamrandolph/followers","following_url":"https://api.github.com/users/williamrandolph/following{/other_user}","gists_url":"https://api.github.com/users/williamrandolph/gists{/gist_id}","starred_url":"https://api.github.com/users/williamrandolph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/williamrandolph/subscriptions","organizations_url":"https://api.github.com/users/williamrandolph/orgs","repos_url":"https://api.github.com/users/williamrandolph/repos","events_url":"https://api.github.com/users/williamrandolph/events{/privacy}","received_events_url":"https://api.github.com/users/williamrandolph/received_events","type":"User","site_admin":false},"created_at":"2019-09-04T19:23:48Z","updated_at":"2019-09-04T19:23:48Z","author_association":"CONTRIBUTOR","body":"We, and by \"we\" I mean @jasontedor, changed the systemd service type to notify in PR #44673. I will try to verify that this change fixes the issue reported here.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/528121237","html_url":"https://github.com/elastic/elasticsearch/issues/20647#issuecomment-528121237","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20647","id":528121237,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODEyMTIzNw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2019-09-04T22:45:15Z","updated_at":"2019-09-04T22:45:15Z","author_association":"MEMBER","body":"@williamrandolph Thanks for bringing this issue to my attention, I wasn’t aware of it. Yes, the work in #44673 should close this issue out indeed.\r\n\r\n@marknelsonengineer Sorry that this issue and your comment was neglected for so long. We integrated Elasticsearch with `systemd` via `sd_notify` indeed in #44673. That functionality will be available in the 7.4.0 release.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/540765097","html_url":"https://github.com/elastic/elasticsearch/issues/20647#issuecomment-540765097","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20647","id":540765097,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDc2NTA5Nw==","user":{"login":"williamrandolph","id":3253644,"node_id":"MDQ6VXNlcjMyNTM2NDQ=","avatar_url":"https://avatars3.githubusercontent.com/u/3253644?v=4","gravatar_id":"","url":"https://api.github.com/users/williamrandolph","html_url":"https://github.com/williamrandolph","followers_url":"https://api.github.com/users/williamrandolph/followers","following_url":"https://api.github.com/users/williamrandolph/following{/other_user}","gists_url":"https://api.github.com/users/williamrandolph/gists{/gist_id}","starred_url":"https://api.github.com/users/williamrandolph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/williamrandolph/subscriptions","organizations_url":"https://api.github.com/users/williamrandolph/orgs","repos_url":"https://api.github.com/users/williamrandolph/repos","events_url":"https://api.github.com/users/williamrandolph/events{/privacy}","received_events_url":"https://api.github.com/users/williamrandolph/received_events","type":"User","site_admin":false},"created_at":"2019-10-10T20:08:15Z","updated_at":"2019-10-10T20:08:15Z","author_association":"CONTRIBUTOR","body":"I'm closing this issue due to the successful merge of #44673.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/540975146","html_url":"https://github.com/elastic/elasticsearch/issues/20647#issuecomment-540975146","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20647","id":540975146,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDk3NTE0Ng==","user":{"login":"ltworf","id":1379609,"node_id":"MDQ6VXNlcjEzNzk2MDk=","avatar_url":"https://avatars1.githubusercontent.com/u/1379609?v=4","gravatar_id":"","url":"https://api.github.com/users/ltworf","html_url":"https://github.com/ltworf","followers_url":"https://api.github.com/users/ltworf/followers","following_url":"https://api.github.com/users/ltworf/following{/other_user}","gists_url":"https://api.github.com/users/ltworf/gists{/gist_id}","starred_url":"https://api.github.com/users/ltworf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ltworf/subscriptions","organizations_url":"https://api.github.com/users/ltworf/orgs","repos_url":"https://api.github.com/users/ltworf/repos","events_url":"https://api.github.com/users/ltworf/events{/privacy}","received_events_url":"https://api.github.com/users/ltworf/received_events","type":"User","site_admin":false},"created_at":"2019-10-11T08:44:44Z","updated_at":"2019-10-11T08:44:44Z","author_association":"NONE","body":"> Thanks for making this only included in the packages and not archives.\r\n\r\nDoes this mean that if I download an elasticsearch .tar.gz this change will not be included in it?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/541023509","html_url":"https://github.com/elastic/elasticsearch/issues/20647#issuecomment-541023509","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20647","id":541023509,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MTAyMzUwOQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2019-10-11T11:19:38Z","updated_at":"2019-10-11T11:19:38Z","author_association":"MEMBER","body":"Yes, we support systemd integration when installed via our packages, and didn’t add a module to the archives that we expect would be unused.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/541024821","html_url":"https://github.com/elastic/elasticsearch/issues/20647#issuecomment-541024821","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20647","id":541024821,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MTAyNDgyMQ==","user":{"login":"ltworf","id":1379609,"node_id":"MDQ6VXNlcjEzNzk2MDk=","avatar_url":"https://avatars1.githubusercontent.com/u/1379609?v=4","gravatar_id":"","url":"https://api.github.com/users/ltworf","html_url":"https://github.com/ltworf","followers_url":"https://api.github.com/users/ltworf/followers","following_url":"https://api.github.com/users/ltworf/following{/other_user}","gists_url":"https://api.github.com/users/ltworf/gists{/gist_id}","starred_url":"https://api.github.com/users/ltworf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ltworf/subscriptions","organizations_url":"https://api.github.com/users/ltworf/orgs","repos_url":"https://api.github.com/users/ltworf/repos","events_url":"https://api.github.com/users/ltworf/events{/privacy}","received_events_url":"https://api.github.com/users/ltworf/received_events","type":"User","site_admin":false},"created_at":"2019-10-11T11:24:27Z","updated_at":"2019-10-11T11:24:27Z","author_association":"NONE","body":"Well I'd use it. Should I create a bugreport about it?","performed_via_github_app":null}]