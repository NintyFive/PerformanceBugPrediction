[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/3087635","html_url":"https://github.com/elastic/elasticsearch/issues/1532#issuecomment-3087635","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1532","id":3087635,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODc2MzU=","user":{"login":"jeremy","id":199,"node_id":"MDQ6VXNlcjE5OQ==","avatar_url":"https://avatars1.githubusercontent.com/u/199?v=4","gravatar_id":"","url":"https://api.github.com/users/jeremy","html_url":"https://github.com/jeremy","followers_url":"https://api.github.com/users/jeremy/followers","following_url":"https://api.github.com/users/jeremy/following{/other_user}","gists_url":"https://api.github.com/users/jeremy/gists{/gist_id}","starred_url":"https://api.github.com/users/jeremy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeremy/subscriptions","organizations_url":"https://api.github.com/users/jeremy/orgs","repos_url":"https://api.github.com/users/jeremy/repos","events_url":"https://api.github.com/users/jeremy/events{/privacy}","received_events_url":"https://api.github.com/users/jeremy/received_events","type":"User","site_admin":false},"created_at":"2011-12-09T23:25:49Z","updated_at":"2011-12-09T23:25:49Z","author_association":"NONE","body":":+1:\n\nZero-config external clients!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/3090652","html_url":"https://github.com/elastic/elasticsearch/issues/1532#issuecomment-3090652","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1532","id":3090652,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTA2NTI=","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2011-12-10T12:45:47Z","updated_at":"2011-12-10T12:45:47Z","author_association":"CONTRIBUTOR","body":"I'd be interested in doing this for the Perl API too\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/3098069","html_url":"https://github.com/elastic/elasticsearch/issues/1532#issuecomment-3098069","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1532","id":3098069,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTgwNjk=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2011-12-11T16:48:15Z","updated_at":"2011-12-11T16:48:15Z","author_association":"MEMBER","body":"I updated the description with more info as to the format of the request/response.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/3098111","html_url":"https://github.com/elastic/elasticsearch/issues/1532#issuecomment-3098111","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1532","id":3098111,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTgxMTE=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2011-12-11T16:54:59Z","updated_at":"2011-12-11T16:54:59Z","author_association":"MEMBER","body":"Pushed to master, would love to get feedback on this by \"other\" clients :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/3098791","html_url":"https://github.com/elastic/elasticsearch/issues/1532#issuecomment-3098791","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1532","id":3098791,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTg3OTE=","user":{"login":"karmi","id":4790,"node_id":"MDQ6VXNlcjQ3OTA=","avatar_url":"https://avatars1.githubusercontent.com/u/4790?v=4","gravatar_id":"","url":"https://api.github.com/users/karmi","html_url":"https://github.com/karmi","followers_url":"https://api.github.com/users/karmi/followers","following_url":"https://api.github.com/users/karmi/following{/other_user}","gists_url":"https://api.github.com/users/karmi/gists{/gist_id}","starred_url":"https://api.github.com/users/karmi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karmi/subscriptions","organizations_url":"https://api.github.com/users/karmi/orgs","repos_url":"https://api.github.com/users/karmi/repos","events_url":"https://api.github.com/users/karmi/events{/privacy}","received_events_url":"https://api.github.com/users/karmi/received_events","type":"User","site_admin":false},"created_at":"2011-12-11T18:40:20Z","updated_at":"2011-12-11T18:40:20Z","author_association":"CONTRIBUTOR","body":"@kimchy: Sounds great!, we're in a hot discussion over at karmi/tire#162 :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/3105062","html_url":"https://github.com/elastic/elasticsearch/issues/1532#issuecomment-3105062","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1532","id":3105062,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDUwNjI=","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2011-12-12T11:52:50Z","updated_at":"2011-12-12T11:52:50Z","author_association":"CONTRIBUTOR","body":"Hiya\n\nTried this out, and ES is responding, but without the HTTP address:\n\n```\n'{\"response\":{\"cluster_name\":\"iAnnounce-demo\",\"transport_address\":\"inet[/192.168.5.10:9300]\",\"attributes\":{}}}\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/3105081","html_url":"https://github.com/elastic/elasticsearch/issues/1532#issuecomment-3105081","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1532","id":3105081,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDUwODE=","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2011-12-12T11:55:33Z","updated_at":"2011-12-12T11:55:33Z","author_association":"CONTRIBUTOR","body":"To be clear, what I'm doing in Perl is:\n\n```\nuse IO::Socket::Multicast; \nmy $s=IO::Socket::Multicast->new(\n    LocalPort   => 54328, \n    LocalAddr   => '224.2.2.4',\n    ReuseAddr   => 1\n); \n$s->mcast_add('224.2.2.4');\n$s->mcast_send('{\"request\":{\"cluster_name\":\"iAnnounce-demo\"}}','224.2.2.4:54328'); \n\n$s->recv($d,1024);\n# '{\"request\":{\"cluster_name\":\"iAnnounce-demo\"}}'\n\n$s->recv($d,1024);\n# '{\"response\":{\"cluster_name\":\"iAnnounce-demo\",\"transport_address\":\"inet[/192.168.5.10:9300]\",\"attributes\":{}}}'\n```\n\nusing this module: https://metacpan.org/module/IO::Socket::Multicast\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/3107896","html_url":"https://github.com/elastic/elasticsearch/issues/1532#issuecomment-3107896","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1532","id":3107896,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDc4OTY=","user":{"login":"johnwilliams","id":32856,"node_id":"MDQ6VXNlcjMyODU2","avatar_url":"https://avatars2.githubusercontent.com/u/32856?v=4","gravatar_id":"","url":"https://api.github.com/users/johnwilliams","html_url":"https://github.com/johnwilliams","followers_url":"https://api.github.com/users/johnwilliams/followers","following_url":"https://api.github.com/users/johnwilliams/following{/other_user}","gists_url":"https://api.github.com/users/johnwilliams/gists{/gist_id}","starred_url":"https://api.github.com/users/johnwilliams/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnwilliams/subscriptions","organizations_url":"https://api.github.com/users/johnwilliams/orgs","repos_url":"https://api.github.com/users/johnwilliams/repos","events_url":"https://api.github.com/users/johnwilliams/events{/privacy}","received_events_url":"https://api.github.com/users/johnwilliams/received_events","type":"User","site_admin":false},"created_at":"2011-12-12T16:04:36Z","updated_at":"2011-12-12T16:04:36Z","author_association":"NONE","body":"@kimchy This is awesome. I am going to try it out shortly. Is it possible to have the cluster multicast the same json format when a node comes online or goes offline? This will allow the client to just listen for updates to know active clients rather than pinging all the time.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/3110106","html_url":"https://github.com/elastic/elasticsearch/issues/1532#issuecomment-3110106","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1532","id":3110106,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTAxMDY=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2011-12-12T18:24:31Z","updated_at":"2011-12-12T18:24:31Z","author_association":"MEMBER","body":"@clintongormley it should be fixed now\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/3110136","html_url":"https://github.com/elastic/elasticsearch/issues/1532#issuecomment-3110136","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1532","id":3110136,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTAxMzY=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2011-12-12T18:26:31Z","updated_at":"2011-12-12T18:26:31Z","author_association":"MEMBER","body":"@johnwilliams thats a bit different, since the multicast will not be a message of all nodes in the cluster (possibly sent by the master) on changes to the topology, whereby now, it simply reacts to a direct request and sends back that node info.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/3159876","html_url":"https://github.com/elastic/elasticsearch/issues/1532#issuecomment-3159876","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1532","id":3159876,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNTk4NzY=","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2011-12-15T11:26:57Z","updated_at":"2011-12-15T11:26:57Z","author_association":"CONTRIBUTOR","body":"@kimchy I'm trying to think of how to best incorporate multicast discovery in the Perl API. \n\nCurrently, we connect to a cluster using a configured server address. We extract the list of live nodes and store them for (a) round robin'ing and (b) to re-sniff if any node goes down.\n\nWe can only use multicast if the user provides a cluster name. I think that if they provide a cluster name AND one or more server addresses, then we should still use the server address in favour of multicast (but possibly confirm that the cluster name is the same?).\n\nQuestion comes when (a) we've sniffed the cluster using multicast and (b) when one of the sniffed nodes disappears.  Do we:\n  (1) use the current mechanism of doing a `/_nodes` request against each of the previously sniffed nodes, or  \n  (2) use multicast to re-sniff instead.\n\nMy instinct would be to use multicast, as it kinda works in parallel (ie any server could respond), even if our code is sync, while the `/_nodes` requests would have to be done serially. So in the case that one node is hanging (eg a broken switch or bad firewalling), with multicast we would avoid the delay of waiting for that node to timeout.\n\nIf using multicast is better, then even if the user specifies a static server list initially, should we extract and store the cluster name and use multicast for future sniffing? It may be that multicast is disabled on the network, but we won't know that until we try it out. (of course, could add an option to disable multicast in the client)\n\nAnother question is: we're likely to get multiple multicast responses (1 from each server).  Do we just accept the first one, or do we wait for any responses received within a certain timeout?  In the case of split brain, we may get different responses, and want to connect to the cluster which has more nodes.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/3182692","html_url":"https://github.com/elastic/elasticsearch/issues/1532#issuecomment-3182692","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1532","id":3182692,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODI2OTI=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2011-12-16T21:14:05Z","updated_at":"2011-12-16T21:14:05Z","author_association":"MEMBER","body":"> > We can only use multicast if the user provides a cluster name. I think that if they provide a cluster name AND one or more server addresses, then we should still use the server address in favour of multicast (but possibly confirm that the cluster name is the same?).\n\nYes, make sense. I think if cluster name is provided, and a list of servers is also provided, it makes sense to verify that the cluster name is the same.\n\nRegarding the re-sniffing if a node fails. I think that as long as you have live nodes, use the /nodes API (and you only need to execute it once, no need to do that on each node). Once you no longer have any more nodes, to connect to, use multicast.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/4569157","html_url":"https://github.com/elastic/elasticsearch/issues/1532#issuecomment-4569157","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1532","id":4569157,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NjkxNTc=","user":{"login":"medcl","id":64487,"node_id":"MDQ6VXNlcjY0NDg3","avatar_url":"https://avatars0.githubusercontent.com/u/64487?v=4","gravatar_id":"","url":"https://api.github.com/users/medcl","html_url":"https://github.com/medcl","followers_url":"https://api.github.com/users/medcl/followers","following_url":"https://api.github.com/users/medcl/following{/other_user}","gists_url":"https://api.github.com/users/medcl/gists{/gist_id}","starred_url":"https://api.github.com/users/medcl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/medcl/subscriptions","organizations_url":"https://api.github.com/users/medcl/orgs","repos_url":"https://api.github.com/users/medcl/repos","events_url":"https://api.github.com/users/medcl/events{/privacy}","received_events_url":"https://api.github.com/users/medcl/received_events","type":"User","site_admin":false},"created_at":"2012-03-19T08:13:16Z","updated_at":"2012-03-19T08:13:16Z","author_association":"MEMBER","body":"i can use this hot feature in my client,great~\n","performed_via_github_app":null}]