[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/3978388","html_url":"https://github.com/elastic/elasticsearch/issues/1701#issuecomment-3978388","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1701","id":3978388,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NzgzODg=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2012-02-15T10:58:12Z","updated_at":"2012-02-15T10:58:12Z","author_association":"MEMBER","body":"Yes, because of the addition of `multiply` score mode, then the script provided is the _factor_ that the score will eventually be multiplied with, so referring to the _score no longer makes sense. Also, if all you do is \"boost\", then use the boost option, which is faster: add(filter, float boost).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/3983005","html_url":"https://github.com/elastic/elasticsearch/issues/1701#issuecomment-3983005","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1701","id":3983005,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODMwMDU=","user":{"login":"heyarny","id":821278,"node_id":"MDQ6VXNlcjgyMTI3OA==","avatar_url":"https://avatars3.githubusercontent.com/u/821278?v=4","gravatar_id":"","url":"https://api.github.com/users/heyarny","html_url":"https://github.com/heyarny","followers_url":"https://api.github.com/users/heyarny/followers","following_url":"https://api.github.com/users/heyarny/following{/other_user}","gists_url":"https://api.github.com/users/heyarny/gists{/gist_id}","starred_url":"https://api.github.com/users/heyarny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/heyarny/subscriptions","organizations_url":"https://api.github.com/users/heyarny/orgs","repos_url":"https://api.github.com/users/heyarny/repos","events_url":"https://api.github.com/users/heyarny/events{/privacy}","received_events_url":"https://api.github.com/users/heyarny/received_events","type":"User","site_admin":false},"created_at":"2012-02-15T16:07:19Z","updated_at":"2012-02-15T16:07:19Z","author_association":"NONE","body":"ok, works again.\nYes, but I just simplified my script here.\n\nIt would be probably good to have some pre-pared constants.\nSomething like\n\n> sqb.scoreMode(CustomFiltersScoreQueryBuilder.SCOREMODE_MUTIPLY);\n\nThanks\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/5396346","html_url":"https://github.com/elastic/elasticsearch/issues/1701#issuecomment-5396346","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1701","id":5396346,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTYzNDY=","user":{"login":"unikoid","id":772189,"node_id":"MDQ6VXNlcjc3MjE4OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/772189?v=4","gravatar_id":"","url":"https://api.github.com/users/unikoid","html_url":"https://github.com/unikoid","followers_url":"https://api.github.com/users/unikoid/followers","following_url":"https://api.github.com/users/unikoid/following{/other_user}","gists_url":"https://api.github.com/users/unikoid/gists{/gist_id}","starred_url":"https://api.github.com/users/unikoid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/unikoid/subscriptions","organizations_url":"https://api.github.com/users/unikoid/orgs","repos_url":"https://api.github.com/users/unikoid/repos","events_url":"https://api.github.com/users/unikoid/events{/privacy}","received_events_url":"https://api.github.com/users/unikoid/received_events","type":"User","site_admin":false},"created_at":"2012-04-28T11:51:50Z","updated_at":"2012-04-28T12:04:27Z","author_association":"NONE","body":"If I want to add some number based on document type to the _score of document, how can I do it?\nI tryed next query:\n\n``` javascript\n{\n\n  \"query\": {\n    \"custom_filters_score\": {\n      \"query\": {\n        \"text\": {\n          \"name\": \"my_word\"\n        }\n      },\n      \"filters\": [\n        {\n          \"filter\": {\n            \"type\": {\n              \"value\": \"type1\"\n            }\n          },\n          \"script\": \"_score+100\"\n        },\n        {\n          \"filter\": {\n            \"type\": {\n              \"value\": \"type2\"\n            }\n          },\n          \"script\": \"_score + 50\"\n        }\n      ],\n      \"score_mode\": \"first\"\n    }\n  }\n}\n```\n\nObviously it doesn't work.\nYes, I can store an additional value for each type of document and use custom_score query, but is it really good idea?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/5405477","html_url":"https://github.com/elastic/elasticsearch/issues/1701#issuecomment-5405477","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1701","id":5405477,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDU0Nzc=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2012-04-29T14:52:32Z","updated_at":"2012-04-29T14:52:32Z","author_association":"MEMBER","body":"@unikoid There is no option to add to the score, only multiply the score by the result of the boost / script. Additions don't really make sense when it comes to scoring..., weighting (multiplications) do...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/5488744","html_url":"https://github.com/elastic/elasticsearch/issues/1701#issuecomment-5488744","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1701","id":5488744,"node_id":"MDEyOklzc3VlQ29tbWVudDU0ODg3NDQ=","user":{"login":"unikoid","id":772189,"node_id":"MDQ6VXNlcjc3MjE4OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/772189?v=4","gravatar_id":"","url":"https://api.github.com/users/unikoid","html_url":"https://github.com/unikoid","followers_url":"https://api.github.com/users/unikoid/followers","following_url":"https://api.github.com/users/unikoid/following{/other_user}","gists_url":"https://api.github.com/users/unikoid/gists{/gist_id}","starred_url":"https://api.github.com/users/unikoid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/unikoid/subscriptions","organizations_url":"https://api.github.com/users/unikoid/orgs","repos_url":"https://api.github.com/users/unikoid/repos","events_url":"https://api.github.com/users/unikoid/events{/privacy}","received_events_url":"https://api.github.com/users/unikoid/received_events","type":"User","site_admin":false},"created_at":"2012-05-03T14:27:07Z","updated_at":"2012-05-03T14:27:07Z","author_association":"NONE","body":"So, what is the right way to place matches of one type higher than others, for example?\n","performed_via_github_app":null}]