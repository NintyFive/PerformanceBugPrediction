[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/485755463","html_url":"https://github.com/elastic/elasticsearch/issues/41431#issuecomment-485755463","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41431","id":485755463,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NTc1NTQ2Mw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-04-23T10:58:05Z","updated_at":"2019-04-23T10:58:05Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/485768272","html_url":"https://github.com/elastic/elasticsearch/issues/41431#issuecomment-485768272","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41431","id":485768272,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NTc2ODI3Mg==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2019-04-23T11:44:08Z","updated_at":"2019-04-23T11:44:08Z","author_association":"CONTRIBUTOR","body":"The root cause looks to be: \r\n```\r\nStarting process 'Gradle Test Executor 1'. Working directory: /private/var/folders/48/bbwtd6jn6dd63rmw5xmjy92r0000ln/T/junit12486434234967271624/build/testrun/test Command: /var/lib/jenkins/.java/java11/bin/java -Dcompiler.java=12 -Des.scripting.update.ctx_in_params=false -Dgradle.dist.lib=/private/var/lib/jenkins/.gradle/wrapper/dists/gradle-5.3-all/a2o9bs8pjyp10tdbmwhtqkmvn/gradle-5.3/lib -Dgradle.user.home=/private/var/folders/48/bbwtd6jn6dd63rmw5xmjy92r0000ln/T/.gradle-test-kit-jenkins -Dgradle.worker.jar=/private/var/folders/48/bbwtd6jn6dd63rmw5xmjy92r0000ln/T/.gradle-test-kit-jenkins/caches/5.3/workerMain/gradle-worker.jar -Djava.awt.headless=true -Djna.nosys=true -Dorg.gradle.native=false -Druntime.java=11 -Dtests.artifact=junit12486434234967271624 -Dtests.gradle=true -Dtests.logger.level=WARN -Dtests.security.manager=true -Dtests.seed=8203BB77DE43B000 -Dtests.task=:test -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/private/var/folders/48/bbwtd6jn6dd63rmw5xmjy92r0000ln/T/junit12486434234967271624/build/heapdump --illegal-access=warn -esa @/private/var/folders/48/bbwtd6jn6dd63rmw5xmjy92r0000ln/T/gradle-worker-classpath1409477605981861779txt -Xms512m -Xmx512m -Dfile.encoding=UTF-8 -Djava.io.tmpdir=./temp -Duser.country=US -Duser.language=en -Duser.variant -ea worker.org.gradle.process.internal.worker.GradleWorkerMain 'Gradle Test Executor 1'\r\nSuccessfully started process 'Gradle Test Executor 1'\r\nPicked up JAVA_TOOL_OPTIONS: -Dfile.encoding=UTF8\r\nError: Could not find or load main class worker.org.gradle.process.internal.worker.GradleWorkerMain\r\nCaused by: java.lang.ClassNotFoundException: worker.org.gradle.process.internal.worker.GradleWorkerMain\r\n```\r\nand \r\n```\r\n* What went wrong:\r\nFailed to deserialize script metadata extracted for settings file '/private/var/lib/jenkins/workspace/elastic+elasticsearch+7.0+multijob-darwin-compatibility/buildSrc/src/testKit/thirdPartyAudit/settings.gradle'\r\n> /private/var/folders/48/bbwtd6jn6dd63rmw5xmjy92r0000ln/T/.gradle-test-kit-jenkins/caches/5.2.1/scripts-remapped/settings_asgr2bfdslrv0xqfddiv0axyf/5g7v71l2e5s5r61n300m5k8ew/cp_settings3ca90766b0adfce53d4b035e7e9dc5fe/metadata/metadata.bin (No such file or directory)\r\n```\r\n\r\nAll of the failing jobs seem to be on `worker-c07904vtjrv2`. \r\nWe should try cleaning up the Gradle cache,  I'we seen errors like this when it somehow gets in a corrupt state. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/487934766","html_url":"https://github.com/elastic/elasticsearch/issues/41431#issuecomment-487934766","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41431","id":487934766,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NzkzNDc2Ng==","user":{"login":"davidkyle","id":2353640,"node_id":"MDQ6VXNlcjIzNTM2NDA=","avatar_url":"https://avatars1.githubusercontent.com/u/2353640?v=4","gravatar_id":"","url":"https://api.github.com/users/davidkyle","html_url":"https://github.com/davidkyle","followers_url":"https://api.github.com/users/davidkyle/followers","following_url":"https://api.github.com/users/davidkyle/following{/other_user}","gists_url":"https://api.github.com/users/davidkyle/gists{/gist_id}","starred_url":"https://api.github.com/users/davidkyle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidkyle/subscriptions","organizations_url":"https://api.github.com/users/davidkyle/orgs","repos_url":"https://api.github.com/users/davidkyle/repos","events_url":"https://api.github.com/users/davidkyle/events{/privacy}","received_events_url":"https://api.github.com/users/davidkyle/received_events","type":"User","site_admin":false},"created_at":"2019-04-30T12:37:25Z","updated_at":"2019-04-30T12:37:25Z","author_association":"MEMBER","body":"Another failure https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.7+multijob-darwin-compatibility/138/console\r\n\r\n```\r\nCaused by: java.lang.IllegalStateException: Failed to deserialize script metadata extracted for build file '/private/var/lib/jenkins/workspace/elastic+elasticsearch+6.7+multijob-darwin-compatibility/buildSrc/src/testKit/elasticsearch-build-resources/build.gradle'\r\n``` \r\n\r\n```\r\nCaused by: java.io.FileNotFoundException: /private/var/folders/90/q3z4wpxd7y3333wk4mg4xrxm0000ln/T/.gradle-test-kit-jenkins/caches/5.2.1/scripts-remapped/build_5yhxgcluc261tm999dpeyto2/egk3o6tjremzgcy273hqq3zg8/cp_proj3ca90766b0adfce53d4b035e7e9dc5fe/metadata/metadata.bin (No such file or directory)\r\n```\r\n\r\nIt appears the original failure was resolved by cleaning the ~/.gradle in elastic/infra#11061 I will follow up with infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/489517616","html_url":"https://github.com/elastic/elasticsearch/issues/41431#issuecomment-489517616","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41431","id":489517616,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTUxNzYxNg==","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"created_at":"2019-05-06T06:56:59Z","updated_at":"2019-05-06T06:56:59Z","author_association":"MEMBER","body":"We have several more of those test failures (e.g.) in:\r\n\r\n* https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.x+multijob-darwin-compatibility/150/console\r\n* https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.0+multijob-darwin-compatibility/150/console\r\n* https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.7+multijob-darwin-compatibility/149/console\r\n\r\nThe details remain the same as in the comments above so I will not duplicate already known information. I'll also follow-up with infra to clean the Gradle cache on the affected worker as an immediate measure.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/489915238","html_url":"https://github.com/elastic/elasticsearch/issues/41431#issuecomment-489915238","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41431","id":489915238,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTkxNTIzOA==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2019-05-07T05:35:52Z","updated_at":"2019-05-07T05:35:52Z","author_association":"CONTRIBUTOR","body":"seem related to #gradle/gradle#4506\r\nWork around seems to be to clean up the `.gradle-test-kit` directory, not sure where this is stored on macs will have to search for it.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/490617453","html_url":"https://github.com/elastic/elasticsearch/issues/41431#issuecomment-490617453","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41431","id":490617453,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDYxNzQ1Mw==","user":{"login":"benwtrent","id":4357155,"node_id":"MDQ6VXNlcjQzNTcxNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/4357155?v=4","gravatar_id":"","url":"https://api.github.com/users/benwtrent","html_url":"https://github.com/benwtrent","followers_url":"https://api.github.com/users/benwtrent/followers","following_url":"https://api.github.com/users/benwtrent/following{/other_user}","gists_url":"https://api.github.com/users/benwtrent/gists{/gist_id}","starred_url":"https://api.github.com/users/benwtrent/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benwtrent/subscriptions","organizations_url":"https://api.github.com/users/benwtrent/orgs","repos_url":"https://api.github.com/users/benwtrent/repos","events_url":"https://api.github.com/users/benwtrent/events{/privacy}","received_events_url":"https://api.github.com/users/benwtrent/received_events","type":"User","site_admin":false},"created_at":"2019-05-08T19:24:03Z","updated_at":"2019-05-08T19:26:10Z","author_association":"MEMBER","body":"More issues, all following the same pattern as previously mentioned\r\n* https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.7+multijob-darwin-compatibility/153/console\r\n* https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+multijob-darwin-compatibility/379/console\r\n\r\nAnother build failure. Exactly the same errors. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/490629919","html_url":"https://github.com/elastic/elasticsearch/issues/41431#issuecomment-490629919","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41431","id":490629919,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDYyOTkxOQ==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2019-05-08T20:02:01Z","updated_at":"2019-05-08T20:02:01Z","author_association":"CONTRIBUTOR","body":"> Work around seems to be to clean up the .gradle-test-kit directory, not sure where this is stored on macs will have to search for it.\r\n\r\nThis is going to be relative to the project directory. So it should generally never be reused. You can explicitly specify this though. So we could use a new temp dir for every test.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/490835672","html_url":"https://github.com/elastic/elasticsearch/issues/41431#issuecomment-490835672","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41431","id":490835672,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDgzNTY3Mg==","user":{"login":"davidkyle","id":2353640,"node_id":"MDQ6VXNlcjIzNTM2NDA=","avatar_url":"https://avatars1.githubusercontent.com/u/2353640?v=4","gravatar_id":"","url":"https://api.github.com/users/davidkyle","html_url":"https://github.com/davidkyle","followers_url":"https://api.github.com/users/davidkyle/followers","following_url":"https://api.github.com/users/davidkyle/following{/other_user}","gists_url":"https://api.github.com/users/davidkyle/gists{/gist_id}","starred_url":"https://api.github.com/users/davidkyle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidkyle/subscriptions","organizations_url":"https://api.github.com/users/davidkyle/orgs","repos_url":"https://api.github.com/users/davidkyle/repos","events_url":"https://api.github.com/users/davidkyle/events{/privacy}","received_events_url":"https://api.github.com/users/davidkyle/received_events","type":"User","site_admin":false},"created_at":"2019-05-09T09:45:55Z","updated_at":"2019-05-09T09:45:55Z","author_association":"MEMBER","body":"Another with the 'failed to deserialize...' error\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.7+multijob-darwin-compatibility/154/console\r\n\r\nWorker https://elasticsearch-ci.elastic.co/computer/worker-c07905ngjrt9","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/493887135","html_url":"https://github.com/elastic/elasticsearch/issues/41431#issuecomment-493887135","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41431","id":493887135,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Mzg4NzEzNQ==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2019-05-20T08:23:50Z","updated_at":"2019-05-20T08:24:09Z","author_association":"CONTRIBUTOR","body":"This failed today in 6.7: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.7+multijob-darwin-compatibility/177/console\r\n\r\nThe 6.7 branch will soon be obsolete, so there is no point fixing this in that branch.  However, there will be a benefit in fixing this in 6.8, otherwise this problem will plague us for the next year or more.\r\n\r\nI see there is a PR open to fix this, but it is currently not labelled with 6.8.  Would it be possible to backport the fix to the 6.8 branch too?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/508728753","html_url":"https://github.com/elastic/elasticsearch/issues/41431#issuecomment-508728753","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41431","id":508728753,"node_id":"MDEyOklzc3VlQ29tbWVudDUwODcyODc1Mw==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2019-07-05T11:28:58Z","updated_at":"2019-07-05T11:28:58Z","author_association":"CONTRIBUTOR","body":"I see this test now works across all version including `6.8`. Please reopen if it reproduces again","performed_via_github_app":null}]