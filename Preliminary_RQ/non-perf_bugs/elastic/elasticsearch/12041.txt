{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/12041","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12041/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12041/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12041/events","html_url":"https://github.com/elastic/elasticsearch/issues/12041","id":93203635,"node_id":"MDU6SXNzdWU5MzIwMzYzNQ==","number":12041,"title":"Large aggregation query -> OOM -> Index corruption -> data loss","user":{"login":"kristoffer-dyrkorn","id":2276260,"node_id":"MDQ6VXNlcjIyNzYyNjA=","avatar_url":"https://avatars1.githubusercontent.com/u/2276260?v=4","gravatar_id":"","url":"https://api.github.com/users/kristoffer-dyrkorn","html_url":"https://github.com/kristoffer-dyrkorn","followers_url":"https://api.github.com/users/kristoffer-dyrkorn/followers","following_url":"https://api.github.com/users/kristoffer-dyrkorn/following{/other_user}","gists_url":"https://api.github.com/users/kristoffer-dyrkorn/gists{/gist_id}","starred_url":"https://api.github.com/users/kristoffer-dyrkorn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kristoffer-dyrkorn/subscriptions","organizations_url":"https://api.github.com/users/kristoffer-dyrkorn/orgs","repos_url":"https://api.github.com/users/kristoffer-dyrkorn/repos","events_url":"https://api.github.com/users/kristoffer-dyrkorn/events{/privacy}","received_events_url":"https://api.github.com/users/kristoffer-dyrkorn/received_events","type":"User","site_admin":false},"labels":[{"id":144797810,"node_id":"MDU6TGFiZWwxNDQ3OTc4MTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Core","name":":Core/Infra/Core","color":"0e8a16","default":false,"description":"Core issues without another label"},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null},{"id":111624690,"node_id":"MDU6TGFiZWwxMTE2MjQ2OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/feedback_needed","name":"feedback_needed","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2015-07-06T06:41:29Z","updated_at":"2015-09-04T11:07:18Z","closed_at":"2015-08-25T13:50:59Z","author_association":"NONE","active_lock_reason":null,"body":"We have experienced data loss in ES (1.5.2) after running very heavy aggregation queries. We get OOMs (which is not ideal, but tolerable, given our context) but also index corruption and data loss (which is bad).\n\nAny ideas as to what has happened here - and how this could be prevented? Please see the log excerpt:\n\n```\nTIMESTAMP=\"2015-06-29 11:55:49,689\" LEVEL=\"WARN\" THREAD=\"[elasticsearch[server05][search][T#20]]\" HOST=\"server05\" LOGGER=\"index.search.slowlog.query\" MESSAGE=\"[server05] [ua_log_domain_event_2015_06][4] took[27.1m], took_millis[1626309], types[], stats[], search_type[COUNT], total_shards[12], source[(removed)], extra_source[], \"\nTIMESTAMP=\"2015-06-29 11:55:49,735\" LEVEL=\"WARN\" THREAD=\"[elasticsearch[server05][scheduler][T#1]]\" HOST=\"server05\" LOGGER=\"monitor.jvm\" MESSAGE=\"[server05] [gc][old][266076][102] duration [18.7m], collections [69]/[19.9m], total [18.7m]/[25.8m], memory [7.9gb]->[7.8gb]/[7.9gb], all_pools {[young] [532.5mb]->[532.5mb]/[532.5mb]}{[survivor] [65.2mb]->[16.5mb]/[66.5mb]}{[old] [7.3gb]->[7.3gb]/[7.3gb]}\"\nTIMESTAMP=\"2015-06-29 11:55:49,752\" LEVEL=\"WARN\" THREAD=\"[elasticsearch[server05][http_server_boss][T#1]{New I/O server boss #51}]\" HOST=\"server05\" LOGGER=\"netty.channel.socket.nio.AbstractNioSelector\" MESSAGE=\"Failed to accept a connection.\"\njava.lang.OutOfMemoryError: Java heap space\nTIMESTAMP=\"2015-06-29 11:55:49,752\" LEVEL=\"WARN\" THREAD=\"[elasticsearch[server05][management][T#4]]\" HOST=\"server05\" LOGGER=\"transport.netty\" MESSAGE=\"[server05] Failed to send error message back to client for action [indices:monitor/stats[s]]\"\njava.lang.OutOfMemoryError: Java heap space\nTIMESTAMP=\"2015-06-29 11:55:49,773\" LEVEL=\"WARN\" THREAD=\"[elasticsearch[server05][[http_server_worker.default]][T#1]{New I/O worker #18}]\" HOST=\"server05\" LOGGER=\"netty.channel.socket.nio.AbstractNioSelector\" MESSAGE=\"Unexpected exception in the selector loop.\"\njava.lang.OutOfMemoryError: Java heap space\n    at org.elasticsearch.common.netty.channel.Channels.fireMessageReceived(Channels.java:268) ~[elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.Channels.fireMessageReceived(Channels.java:255) ~[elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.socket.nio.NioWorker.read(NioWorker.java:88) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.socket.nio.AbstractNioWorker.process(AbstractNioWorker.java:108) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.socket.nio.AbstractNioSelector.run(AbstractNioSelector.java:337) ~[elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:89) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.socket.nio.NioWorker.run(NioWorker.java:178) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:108) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42) [elasticsearch-1.5.2.jar:na]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_31]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_31]\n    at java.lang.Thread.run(Thread.java:745) [na:1.8.0_31]\nTIMESTAMP=\"2015-06-29 11:55:49,774\" LEVEL=\"WARN\" THREAD=\"[elasticsearch[server05][[http_server_worker.default]][T#5]{New I/O worker #22}]\" HOST=\"server05\" LOGGER=\"transport.netty\" MESSAGE=\"[server05] exception caught on transport layer [[id: 0x99ba54a2, /10.247.21.4:33540 => /10.247.20.5:9300]], closing connection\"\njava.lang.OutOfMemoryError: Java heap space\n    at org.elasticsearch.common.io.stream.CachedStreamInput.instance(CachedStreamInput.java:48) ~[elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.io.stream.CachedStreamInput.cachedHandles(CachedStreamInput.java:62) ~[elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.transport.netty.MessageChannelHandler.messageReceived(MessageChannelHandler.java:109) ~[elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.Channels.fireMessageReceived(Channels.java:296) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.handler.codec.frame.FrameDecoder.unfoldAndFireMessageReceived(FrameDecoder.java:462) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.handler.codec.frame.FrameDecoder.callDecode(FrameDecoder.java:443) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.handler.codec.frame.FrameDecoder.messageReceived(FrameDecoder.java:303) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.OpenChannelsHandler.handleUpstream(OpenChannelsHandler.java:74) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:559) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.Channels.fireMessageReceived(Channels.java:268) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.Channels.fireMessageReceived(Channels.java:255) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.socket.nio.NioWorker.read(NioWorker.java:88) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.socket.nio.AbstractNioWorker.process(AbstractNioWorker.java:108) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.socket.nio.AbstractNioSelector.run(AbstractNioSelector.java:337) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:89) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.socket.nio.NioWorker.run(NioWorker.java:178) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:108) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42) [elasticsearch-1.5.2.jar:na]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_31]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_31]\n    at java.lang.Thread.run(Thread.java:745) [na:1.8.0_31]\nTIMESTAMP=\"2015-06-29 11:55:49,774\" LEVEL=\"WARN\" THREAD=\"[elasticsearch[server05][management][T#4]]\" HOST=\"server05\" LOGGER=\"transport.netty\" MESSAGE=\"[server05] Actual Exception\"\njava.lang.OutOfMemoryError: Java heap space\n    at java.io.UnixFileSystem.resolve(UnixFileSystem.java:108) ~[na:1.8.0_31]\n    at java.io.File.<init>(File.java:367) ~[na:1.8.0_31]\n    at org.apache.lucene.store.FSDirectory$1.accept(FSDirectory.java:221) ~[lucene-core-4.10.4.jar:4.10.4 1662817 - mike - 2015-02-27 16:38:43]\n    at java.io.File.list(File.java:1161) ~[na:1.8.0_31]\n    at org.apache.lucene.store.FSDirectory.listAll(FSDirectory.java:218) ~[lucene-core-4.10.4.jar:4.10.4 1662817 - mike - 2015-02-27 16:38:43]\n    at org.apache.lucene.store.FSDirectory.listAll(FSDirectory.java:237) ~[lucene-core-4.10.4.jar:4.10.4 1662817 - mike - 2015-02-27 16:38:43]\n    at org.elasticsearch.index.store.fs.DefaultFsDirectoryService$1.listAll(DefaultFsDirectoryService.java:57) ~[elasticsearch-1.5.2.jar:na]\n    at org.apache.lucene.store.FilterDirectory.listAll(FilterDirectory.java:48) ~[lucene-core-4.10.4.jar:4.10.4 1662817 - mike - 2015-02-27 16:38:43]\n    at org.apache.lucene.store.FilterDirectory.listAll(FilterDirectory.java:48) ~[lucene-core-4.10.4.jar:4.10.4 1662817 - mike - 2015-02-27 16:38:43]\n    at org.apache.lucene.store.FilterDirectory.listAll(FilterDirectory.java:48) ~[lucene-core-4.10.4.jar:4.10.4 1662817 - mike - 2015-02-27 16:38:43]\n    at org.elasticsearch.index.store.Store$StoreStatsCache.estimateSize(Store.java:1464) ~[elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.index.store.Store$StoreStatsCache.refresh(Store.java:1456) ~[elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.index.store.Store$StoreStatsCache.refresh(Store.java:1443) ~[elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.util.SingleObjectCache.getOrRefresh(SingleObjectCache.java:55) ~[elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.index.store.Store.stats(Store.java:285) ~[elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.index.shard.IndexShard.storeStats(IndexShard.java:600) ~[elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.action.admin.indices.stats.CommonStats.<init>(CommonStats.java:139) ~[elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.action.admin.indices.stats.ShardStats.<init>(ShardStats.java:49) ~[elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.action.admin.indices.stats.TransportIndicesStatsAction.shardOperation(TransportIndicesStatsAction.java:208) ~[elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.action.admin.indices.stats.TransportIndicesStatsAction.shardOperation(TransportIndicesStatsAction.java:56) ~[elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.action.support.broadcast.TransportBroadcastOperationAction$ShardTransportHandler.messageReceived(TransportBroadcastOperationAction.java:339) ~[elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.action.support.broadcast.TransportBroadcastOperationAction$ShardTransportHandler.messageReceived(TransportBroadcastOperationAction.java:325) ~[elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.transport.netty.MessageChannelHandler$RequestHandler.doRun(MessageChannelHandler.java:277) ~[elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:36) ~[elasticsearch-1.5.2.jar:na]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_31]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_31]\n    at java.lang.Thread.run(Thread.java:745) [na:1.8.0_31]\nTIMESTAMP=\"2015-06-29 11:55:49,783\" LEVEL=\"WARN\" THREAD=\"[elasticsearch[server05][generic][T#95]]\" HOST=\"server05\" LOGGER=\"index.store\" MESSAGE=\"[server05] [metrics-2015-06][0] failed to build store metadata. checking segment info integrity (with commit [no])\"\njava.nio.file.NoSuchFileException: /data/project/nodes/0/indices/metrics-2015-06/0/index/_2wk2.si\n    at sun.nio.fs.UnixException.translateToIOException(UnixException.java:86) ~[na:1.8.0_31]\n    at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102) ~[na:1.8.0_31]\n    at sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107) ~[na:1.8.0_31]\n    at sun.nio.fs.UnixFileSystemProvider.newFileChannel(UnixFileSystemProvider.java:177) ~[na:1.8.0_31]\n    at java.nio.channels.FileChannel.open(FileChannel.java:287) ~[na:1.8.0_31]\n    at java.nio.channels.FileChannel.open(FileChannel.java:335) ~[na:1.8.0_31]\n    at org.apache.lucene.store.NIOFSDirectory.openInput(NIOFSDirectory.java:81) ~[lucene-core-4.10.4.jar:4.10.4 1662817 - mike - 2015-02-27 16:38:43]\n    at org.apache.lucene.store.FileSwitchDirectory.openInput(FileSwitchDirectory.java:172) ~[lucene-core-4.10.4.jar:4.10.4 1662817 - mike - 2015-02-27 16:38:43]\n    at org.apache.lucene.store.FilterDirectory.openInput(FilterDirectory.java:80) ~[lucene-core-4.10.4.jar:4.10.4 1662817 - mike - 2015-02-27 16:38:43]\n    at org.apache.lucene.store.FilterDirectory.openInput(FilterDirectory.java:80) ~[lucene-core-4.10.4.jar:4.10.4 1662817 - mike - 2015-02-27 16:38:43]\n    at org.apache.lucene.store.FilterDirectory.openInput(FilterDirectory.java:80) ~[lucene-core-4.10.4.jar:4.10.4 1662817 - mike - 2015-02-27 16:38:43]\n    at org.elasticsearch.index.store.Store$StoreDirectory.openInput(Store.java:683) ~[elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.index.store.Store$MetadataSnapshot.checksumFromLuceneFile(Store.java:892) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.index.store.Store$MetadataSnapshot.buildMetadata(Store.java:791) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.index.store.Store$MetadataSnapshot.<init>(Store.java:768) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.index.store.Store.getMetadata(Store.java:222) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.index.store.Store.getMetadataOrEmpty(Store.java:185) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.indices.store.TransportNodesListShardStoreMetaData.listStoreMetaData(TransportNodesListShardStoreMetaData.java:160) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.indices.store.TransportNodesListShardStoreMetaData.nodeOperation(TransportNodesListShardStoreMetaData.java:141) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.indices.store.TransportNodesListShardStoreMetaData.nodeOperation(TransportNodesListShardStoreMetaData.java:62) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.action.support.nodes.TransportNodesOperationAction$NodeTransportHandler.messageReceived(TransportNodesOperationAction.java:278) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.action.support.nodes.TransportNodesOperationAction$NodeTransportHandler.messageReceived(TransportNodesOperationAction.java:269) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.transport.netty.MessageChannelHandler$RequestHandler.doRun(MessageChannelHandler.java:277) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:36) [elasticsearch-1.5.2.jar:na]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_31]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_31]\n    at java.lang.Thread.run(Thread.java:745) [na:1.8.0_31]\nTIMESTAMP=\"2015-06-29 11:55:49,774\" LEVEL=\"WARN\" THREAD=\"[elasticsearch[server05][[http_server_worker.default]][T#9]{New I/O worker #26}]\" HOST=\"server05\" LOGGER=\"netty.channel.socket.nio.AbstractNioSelector\" MESSAGE=\"Unexpected exception in the selector loop.\"\njava.lang.OutOfMemoryError: Java heap space\nTIMESTAMP=\"2015-06-29 11:55:49,808\" LEVEL=\"WARN\" THREAD=\"[elasticsearch[server05][[http_server_worker.default]][T#5]{New I/O worker #22}]\" HOST=\"server05\" LOGGER=\"transport.netty\" MESSAGE=\"[server05] exception caught on transport layer [[id: 0x99ba54a2, /10.247.21.4:33540 :> /10.247.20.5:9300]], closing connection\"\njava.io.StreamCorruptedException: invalid internal transport message format, got (1d,63,6c,75)\n    at org.elasticsearch.transport.netty.SizeHeaderFrameDecoder.decode(SizeHeaderFrameDecoder.java:47) ~[elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.handler.codec.frame.FrameDecoder.callDecode(FrameDecoder.java:425) ~[elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.handler.codec.frame.FrameDecoder.messageReceived(FrameDecoder.java:303) ~[elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70) ~[elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.OpenChannelsHandler.handleUpstream(OpenChannelsHandler.java:74) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:559) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.Channels.fireMessageReceived(Channels.java:268) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.Channels.fireMessageReceived(Channels.java:255) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.socket.nio.NioWorker.read(NioWorker.java:88) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.socket.nio.AbstractNioWorker.process(AbstractNioWorker.java:108) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.socket.nio.AbstractNioSelector.run(AbstractNioSelector.java:337) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:89) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.channel.socket.nio.NioWorker.run(NioWorker.java:178) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:108) [elasticsearch-1.5.2.jar:na]\n    at org.elasticsearch.common.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42) [elasticsearch-1.5.2.jar:na]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_31]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_31]\n    at java.lang.Thread.run(Thread.java:745) [na:1.8.0_31]\nTIMESTAMP=\"2015-06-29 11:55:49,818\" LEVEL=\"INFO\" THREAD=\"[elasticsearch[server05][generic][T#95]]\" HOST=\"server05\" LOGGER=\"index.store\" MESSAGE=\"[server05] [metrics-2015-06][0] Failed to open / find files while reading metadata snapshot\"\n```\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}