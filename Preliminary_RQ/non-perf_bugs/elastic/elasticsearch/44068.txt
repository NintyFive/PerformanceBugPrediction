{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/44068","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44068/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44068/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44068/events","html_url":"https://github.com/elastic/elasticsearch/issues/44068","id":465235757,"node_id":"MDU6SXNzdWU0NjUyMzU3NTc=","number":44068,"title":"[CI] failed to initialize a TrustManager ","user":{"login":"davidkyle","id":2353640,"node_id":"MDQ6VXNlcjIzNTM2NDA=","avatar_url":"https://avatars1.githubusercontent.com/u/2353640?v=4","gravatar_id":"","url":"https://api.github.com/users/davidkyle","html_url":"https://github.com/davidkyle","followers_url":"https://api.github.com/users/davidkyle/followers","following_url":"https://api.github.com/users/davidkyle/following{/other_user}","gists_url":"https://api.github.com/users/davidkyle/gists{/gist_id}","starred_url":"https://api.github.com/users/davidkyle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidkyle/subscriptions","organizations_url":"https://api.github.com/users/davidkyle/orgs","repos_url":"https://api.github.com/users/davidkyle/repos","events_url":"https://api.github.com/users/davidkyle/events{/privacy}","received_events_url":"https://api.github.com/users/davidkyle/received_events","type":"User","site_admin":false},"labels":[{"id":912838879,"node_id":"MDU6TGFiZWw5MTI4Mzg4Nzk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Security/Security","name":":Security/Security","color":"0e8a16","default":false,"description":"Security issues without another label"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"assignees":[{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2019-07-08T12:41:41Z","updated_at":"2019-07-08T13:02:24Z","closed_at":"2019-07-08T13:02:23Z","author_association":"MEMBER","active_lock_reason":null,"body":"https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.3+matrix-java-periodic/ES_BUILD_JAVA=openjdk12,ES_RUNTIME_JAVA=java8fips,nodes=general-purpose/9/console\r\nhttps://scans.gradle.com/s/3f7h7yv2hd7iq\r\n\r\nThe full cluster restart test task `:qa:full-cluster-restart:v7.2.1#oldClusterTestCluster#wait` failed because the node threw a fatal error\r\n\r\n```\r\n[2019-07-08T00:04:30,214][ERROR][o.e.b.Bootstrap          ] [node-0] Exception\r\norg.elasticsearch.common.ssl.SslConfigException: failed to initialize a TrustManager for the system keystore\r\n\tat org.elasticsearch.common.ssl.DefaultJdkTrustConfig.createTrustManager(DefaultJdkTrustConfig.java:70) ~[?:?]\r\n\tat org.elasticsearch.common.ssl.SslConfiguration.createSslContext(SslConfiguration.java:136) ~[?:?]\r\n\tat org.elasticsearch.index.reindex.ReindexSslConfig.reload(ReindexSslConfig.java:145) ~[?:?]\r\n\tat org.elasticsearch.index.reindex.ReindexSslConfig.<init>(ReindexSslConfig.java:115) ~[?:?]\r\n\tat org.elasticsearch.index.reindex.ReindexPlugin.createComponents(ReindexPlugin.java:88) ~[?:?]\r\n\tat org.elasticsearch.node.Node.lambda$new$9(Node.java:438) ~[elasticsearch-7.2.1-SNAPSHOT.jar:7.2.1-SNAPSHOT]\r\n\tat java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:271) ~[?:?]\r\n\tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1654) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474) ~[?:?]\r\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:?]\r\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578) ~[?:?]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:441) ~[elasticsearch-7.2.1-SNAPSHOT.jar:7.2.1-SNAPSHOT]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:251) ~[elasticsearch-7.2.1-SNAPSHOT.jar:7.2.1-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Bootstrap$5.<init>(Bootstrap.java:221) ~[elasticsearch-7.2.1-SNAPSHOT.jar:7.2.1-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:221) ~[elasticsearch-7.2.1-SNAPSHOT.jar:7.2.1-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:349) [elasticsearch-7.2.1-SNAPSHOT.jar:7.2.1-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:159) [elasticsearch-7.2.1-SNAPSHOT.jar:7.2.1-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:150) [elasticsearch-7.2.1-SNAPSHOT.jar:7.2.1-SNAPSHOT]\r\n\tat org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) [elasticsearch-7.2.1-SNAPSHOT.jar:7.2.1-SNAPSHOT]\r\n\tat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124) [elasticsearch-cli-7.2.1-SNAPSHOT.jar:7.2.1-SNAPSHOT]\r\n\tat org.elasticsearch.cli.Command.main(Command.java:90) [elasticsearch-cli-7.2.1-SNAPSHOT.jar:7.2.1-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:115) [elasticsearch-7.2.1-SNAPSHOT.jar:7.2.1-SNAPSHOT]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:92) [elasticsearch-7.2.1-SNAPSHOT.jar:7.2.1-SNAPSHOT]\r\nCaused by: java.security.KeyStoreException: problem accessing trust store\r\n\tat sun.security.ssl.TrustManagerFactoryImpl.engineInit(TrustManagerFactoryImpl.java:73) ~[?:?]\r\n\tat javax.net.ssl.TrustManagerFactory.init(TrustManagerFactory.java:278) ~[?:?]\r\n\tat org.elasticsearch.common.ssl.KeyStoreUtil.createTrustManager(KeyStoreUtil.java:151) ~[?:?]\r\n\tat org.elasticsearch.common.ssl.DefaultJdkTrustConfig.createTrustManager(DefaultJdkTrustConfig.java:68) ~[?:?]\r\n\t... 24 more\r\nCaused by: java.io.IOException: Keystore was tampered with, or password was incorrect\r\n\tat sun.security.provider.JavaKeyStore.engineLoad(JavaKeyStore.java:785) ~[?:?]\r\n\tat sun.security.util.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:243) ~[?:?]\r\n\tat java.security.KeyStore.load(KeyStore.java:1472) ~[?:?]\r\n\tat sun.security.ssl.TrustStoreManager$TrustAnchorManager.loadKeyStore(TrustStoreManager.java:365) ~[?:?]\r\n\tat sun.security.ssl.TrustStoreManager$TrustAnchorManager.getTrustedCerts(TrustStoreManager.java:313) ~[?:?]\r\n\tat sun.security.ssl.TrustStoreManager.getTrustedCerts(TrustStoreManager.java:55) ~[?:?]\r\n\tat sun.security.ssl.TrustManagerFactoryImpl.engineInit(TrustManagerFactoryImpl.java:49) ~[?:?]\r\n\tat javax.net.ssl.TrustManagerFactory.init(TrustManagerFactory.java:278) ~[?:?]\r\n\tat org.elasticsearch.common.ssl.KeyStoreUtil.createTrustManager(KeyStoreUtil.java:151) ~[?:?]\r\n\tat org.elasticsearch.common.ssl.DefaultJdkTrustConfig.createTrustManager(DefaultJdkTrustConfig.java:68) ~[?:?]\r\n\t... 24 more\r\nCaused by: java.security.UnrecoverableKeyException: Password verification failed\r\n\tat sun.security.provider.JavaKeyStore.engineLoad(JavaKeyStore.java:783) ~[?:?]\r\n\tat sun.security.util.KeyStoreDelegator.engineLoad(KeyStoreDelegator.java:243) ~[?:?]\r\n\tat java.security.KeyStore.load(KeyStore.java:1472) ~[?:?]\r\n\tat sun.security.ssl.TrustStoreManager$TrustAnchorManager.loadKeyStore(TrustStoreManager.java:365) ~[?:?]\r\n\tat sun.security.ssl.TrustStoreManager$TrustAnchorManager.getTrustedCerts(TrustStoreManager.java:313) ~[?:?]\r\n\tat sun.security.ssl.TrustStoreManager.getTrustedCerts(TrustStoreManager.java:55) ~[?:?]\r\n\tat sun.security.ssl.TrustManagerFactoryImpl.engineInit(TrustManagerFactoryImpl.java:49) ~[?:?]\r\n\tat javax.net.ssl.TrustManagerFactory.init(TrustManagerFactory.java:278) ~[?:?]\r\n\tat org.elasticsearch.common.ssl.KeyStoreUtil.createTrustManager(KeyStoreUtil.java:151) ~[?:?]\r\n\tat org.elasticsearch.common.ssl.DefaultJdkTrustConfig.createTrustManager(DefaultJdkTrustConfig.java:68) ~[?:?]\r\n````\r\n\r\nBoth nodes failed with the same error here's the logs\r\n\r\n[node0.log](https://github.com/elastic/elasticsearch/files/3368369/node0.log)\r\n[node1.log](https://github.com/elastic/elasticsearch/files/3368370/node1.log)\r\n\r\n","closed_by":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"performed_via_github_app":null}