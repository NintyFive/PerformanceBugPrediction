[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/98659876","html_url":"https://github.com/elastic/elasticsearch/issues/10903#issuecomment-98659876","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10903","id":98659876,"node_id":"MDEyOklzc3VlQ29tbWVudDk4NjU5ODc2","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-05-04T10:00:39Z","updated_at":"2015-05-04T10:00:39Z","author_association":"CONTRIBUTOR","body":"Hi @niv0 \n\nYes it looks like the replica is out of sync with the primary.  You can confirm which copy of the shard holds the document by adding `?preference=_primary` to the GET request.\n\nAssuming it is the replica, then you can get your replicas back in sync by setting the number of replicas to zero, then back to 1:\n\n```\nPOST location.b/_settings \n{ \"number_of_replicas\": 0 }\n```\n\nI agree that this doesn't solve the original problem.  You may have experienced a bug that has already been fixed in 1.5, but could possibly be something else.  Do you use the delete-by-query or bulk APIs?  Are you aware of any issues you had with nodes falling over?  \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/102140381","html_url":"https://github.com/elastic/elasticsearch/issues/10903#issuecomment-102140381","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10903","id":102140381,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMjE0MDM4MQ==","user":{"login":"javadevmtl","id":2964042,"node_id":"MDQ6VXNlcjI5NjQwNDI=","avatar_url":"https://avatars2.githubusercontent.com/u/2964042?v=4","gravatar_id":"","url":"https://api.github.com/users/javadevmtl","html_url":"https://github.com/javadevmtl","followers_url":"https://api.github.com/users/javadevmtl/followers","following_url":"https://api.github.com/users/javadevmtl/following{/other_user}","gists_url":"https://api.github.com/users/javadevmtl/gists{/gist_id}","starred_url":"https://api.github.com/users/javadevmtl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javadevmtl/subscriptions","organizations_url":"https://api.github.com/users/javadevmtl/orgs","repos_url":"https://api.github.com/users/javadevmtl/repos","events_url":"https://api.github.com/users/javadevmtl/events{/privacy}","received_events_url":"https://api.github.com/users/javadevmtl/received_events","type":"User","site_admin":false},"created_at":"2015-05-14T19:10:20Z","updated_at":"2015-05-14T19:20:48Z","author_association":"NONE","body":"I experienced this during a node failure with ES 1.5.2 but in a large cluster or with multiple indices it's almost impossible to tell is there's inconstancy.\n\nCurious can their not be a way to check if primaries and shards match in size after a merge or after documents have been committed to the replica or something?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/102487783","html_url":"https://github.com/elastic/elasticsearch/issues/10903#issuecomment-102487783","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10903","id":102487783,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMjQ4Nzc4Mw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-05-15T18:37:27Z","updated_at":"2015-05-15T18:37:27Z","author_association":"CONTRIBUTOR","body":"@javadevmtl Presumably indexing is underway, and refreshes happen at different times on the primary and replica, so no, there isn't really a way to do this without pausing indexing.  \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/104598139","html_url":"https://github.com/elastic/elasticsearch/issues/10903#issuecomment-104598139","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10903","id":104598139,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNDU5ODEzOQ==","user":{"login":"niv0","id":2017626,"node_id":"MDQ6VXNlcjIwMTc2MjY=","avatar_url":"https://avatars1.githubusercontent.com/u/2017626?v=4","gravatar_id":"","url":"https://api.github.com/users/niv0","html_url":"https://github.com/niv0","followers_url":"https://api.github.com/users/niv0/followers","following_url":"https://api.github.com/users/niv0/following{/other_user}","gists_url":"https://api.github.com/users/niv0/gists{/gist_id}","starred_url":"https://api.github.com/users/niv0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niv0/subscriptions","organizations_url":"https://api.github.com/users/niv0/orgs","repos_url":"https://api.github.com/users/niv0/repos","events_url":"https://api.github.com/users/niv0/events{/privacy}","received_events_url":"https://api.github.com/users/niv0/received_events","type":"User","site_admin":false},"created_at":"2015-05-22T09:43:12Z","updated_at":"2015-05-22T09:43:12Z","author_association":"NONE","body":"Hi @clintongormley, thank you for your support.\n\nWe do not really use here either delete-by-query nor bulk APIs'. We had no fail over node issues in that time period.\n\nWe will try with upgrade to ES 1.5.x and see if issue still occurs.\n\nWould close this issue at this point of time.\n","performed_via_github_app":null}]