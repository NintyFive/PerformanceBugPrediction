{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/9174","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9174/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9174/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9174/events","html_url":"https://github.com/elastic/elasticsearch/issues/9174","id":53569568,"node_id":"MDU6SXNzdWU1MzU2OTU2OA==","number":9174,"title":"tribe: java.lang.NullPointerException at org.elasticsearch.cluster.routing.RoutingTable$Builder.add(RoutingTable.java:429)","user":{"login":"TinLe","id":465041,"node_id":"MDQ6VXNlcjQ2NTA0MQ==","avatar_url":"https://avatars1.githubusercontent.com/u/465041?v=4","gravatar_id":"","url":"https://api.github.com/users/TinLe","html_url":"https://github.com/TinLe","followers_url":"https://api.github.com/users/TinLe/followers","following_url":"https://api.github.com/users/TinLe/following{/other_user}","gists_url":"https://api.github.com/users/TinLe/gists{/gist_id}","starred_url":"https://api.github.com/users/TinLe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TinLe/subscriptions","organizations_url":"https://api.github.com/users/TinLe/orgs","repos_url":"https://api.github.com/users/TinLe/repos","events_url":"https://api.github.com/users/TinLe/events{/privacy}","received_events_url":"https://api.github.com/users/TinLe/received_events","type":"User","site_admin":false},"labels":[{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"assignees":[{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false}],"milestone":null,"comments":6,"created_at":"2015-01-06T22:05:49Z","updated_at":"2015-01-16T14:37:23Z","closed_at":"2015-01-16T14:37:23Z","author_association":"NONE","active_lock_reason":null,"body":"I get these NPE after running after running for about 10 minutes or less.   I did not see these NPEs with ES v1.4.1.\n\nES v1.4.2 on tribe node and the ES clusters the tribe node is aggregating.\n\n[2015-01-06 04:08:01,591][WARN ][tribe                    ] [dc1-app1111] failed to process [cluster event from mobile_dc1, zen-disco-receive(from master [[dc1-app2222][TLF_56CDTV2dHXmUf0XFUg][dc1-app2222][inet[/172.24.23.163:9300]]{max_local_storage_nodes=1, master=true, zone=data}])]\njava.lang.NullPointerException\n        at org.elasticsearch.cluster.routing.RoutingTable$Builder.add(RoutingTable.java:429)\n        at org.elasticsearch.tribe.TribeService$TribeClusterStateListener$1.execute(TribeService.java:265)\n        at org.elasticsearch.cluster.service.InternalClusterService$UpdateTask.run(InternalClusterService.java:329)\n        at org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.run(PrioritizedEsThreadPoolExecutor.java:153)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\n\nHere is tribe config:\n\ntribe:\n    mobile_dc1:\n       cluster.name: mobile-es_dc1\n       discovery.zen.ping.unicast.hosts: [\"dc1-app2222\", \"dc1-app3333\"]\n    mobile_dc2:\n       cluster.name: mobile-es_dc2\n       discovery.zen.ping.unicast.hosts: [\"dc2-app2222\", \"dc2-app3333\"]\n    mobile_dc3:\n       cluster.name: mobile-es_dc3\n       discovery.zen.ping.unicast.hosts: [\"dc3-app2222\", \"dc3-app3333\"]\n    feed_dc1:\n       cluster.name: dc1-logstash\n       discovery.zen.ping.unicast.hosts: [\"dc1-app1234\", \"dc1-app1235\"]\n    feed_dc2:\n       cluster.name: dc2-logstash\n       discovery.zen.ping.unicast.hosts: [\"dc2-app2345\", \"dc2-app2346\"]\n","closed_by":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"performed_via_github_app":null}