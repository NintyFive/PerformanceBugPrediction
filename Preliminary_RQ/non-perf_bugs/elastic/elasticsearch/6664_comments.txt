[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/47662869","html_url":"https://github.com/elastic/elasticsearch/issues/6664#issuecomment-47662869","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6664","id":47662869,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NjYyODY5","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-07-01T14:29:32Z","updated_at":"2014-07-01T14:29:32Z","author_association":"CONTRIBUTOR","body":"See #6572 \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/48017409","html_url":"https://github.com/elastic/elasticsearch/issues/6664#issuecomment-48017409","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6664","id":48017409,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDE3NDA5","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2014-07-04T07:53:59Z","updated_at":"2014-07-04T07:53:59Z","author_association":"CONTRIBUTOR","body":"One option might be to make the filter evaluation lazy until fields are mapped but that would add significant complexity/overhead so I think strict query parsing would be the way to go! Maybe we could have a helper method on the context to resolve fields that would return null when strict parsing is disabled and raise an error otherwise?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/48708964","html_url":"https://github.com/elastic/elasticsearch/issues/6664#issuecomment-48708964","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6664","id":48708964,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NzA4OTY0","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-07-11T09:02:24Z","updated_at":"2014-07-11T09:02:24Z","author_association":"CONTRIBUTOR","body":"Also see #6110 - term lookup filters should verify that the doc actually exists when the filter is instantiated.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/55107312","html_url":"https://github.com/elastic/elasticsearch/issues/6664#issuecomment-55107312","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6664","id":55107312,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MTA3MzEy","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2014-09-10T12:24:17Z","updated_at":"2014-09-10T12:24:17Z","author_association":"CONTRIBUTOR","body":"@martijnvg did this not get closed or is it only partially resolved ? Anyway can we close or push to 1.5?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/55110944","html_url":"https://github.com/elastic/elasticsearch/issues/6664#issuecomment-55110944","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6664","id":55110944,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MTEwOTQ0","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2014-09-10T12:59:32Z","updated_at":"2014-09-10T12:59:32Z","author_association":"MEMBER","body":"@s1monw The strict field resolution is already pushed. I forgot that there was an issue for this!\n\n@clintongormley Regarding the terms lookup filter, the #6928 PR doesn't cover this since it only takes care of unmapped fields in the mapping. I think we should open a different issue for this? Also the geo_shape filter with is referring to an indexed shape suffers from the same problem.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/55111228","html_url":"https://github.com/elastic/elasticsearch/issues/6664#issuecomment-55111228","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6664","id":55111228,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MTExMjI4","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2014-09-10T13:01:51Z","updated_at":"2014-09-10T13:01:51Z","author_association":"CONTRIBUTOR","body":"@martijnvg can we close it?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/55111454","html_url":"https://github.com/elastic/elasticsearch/issues/6664#issuecomment-55111454","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6664","id":55111454,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MTExNDU0","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2014-09-10T13:03:47Z","updated_at":"2014-09-10T13:03:47Z","author_association":"MEMBER","body":"@clintongormley Ow wait, the geo_shape filters fail if an indexed shape document doesn't exist. I think we should do the same for the terms lookup filter? (right now it silently ignores it by not matching anything)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/55111538","html_url":"https://github.com/elastic/elasticsearch/issues/6664#issuecomment-55111538","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6664","id":55111538,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MTExNTM4","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2014-09-10T13:04:29Z","updated_at":"2014-09-10T13:04:29Z","author_association":"MEMBER","body":"@s1monw yes, imo we can close this.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/96090846","html_url":"https://github.com/elastic/elasticsearch/issues/6664#issuecomment-96090846","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6664","id":96090846,"node_id":"MDEyOklzc3VlQ29tbWVudDk2MDkwODQ2","user":{"login":"andreasch","id":2414055,"node_id":"MDQ6VXNlcjI0MTQwNTU=","avatar_url":"https://avatars2.githubusercontent.com/u/2414055?v=4","gravatar_id":"","url":"https://api.github.com/users/andreasch","html_url":"https://github.com/andreasch","followers_url":"https://api.github.com/users/andreasch/followers","following_url":"https://api.github.com/users/andreasch/following{/other_user}","gists_url":"https://api.github.com/users/andreasch/gists{/gist_id}","starred_url":"https://api.github.com/users/andreasch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andreasch/subscriptions","organizations_url":"https://api.github.com/users/andreasch/orgs","repos_url":"https://api.github.com/users/andreasch/repos","events_url":"https://api.github.com/users/andreasch/events{/privacy}","received_events_url":"https://api.github.com/users/andreasch/received_events","type":"User","site_admin":false},"created_at":"2015-04-24T23:01:07Z","updated_at":"2015-04-24T23:01:07Z","author_association":"NONE","body":"Shouldn't alias filters at least allow referencing fields that are internal like _type, _id or _routing?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/96411875","html_url":"https://github.com/elastic/elasticsearch/issues/6664#issuecomment-96411875","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6664","id":96411875,"node_id":"MDEyOklzc3VlQ29tbWVudDk2NDExODc1","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-04-26T17:35:27Z","updated_at":"2015-04-26T17:35:27Z","author_association":"CONTRIBUTOR","body":"@andreasch this sounds like it should be a new issue?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/98786228","html_url":"https://github.com/elastic/elasticsearch/issues/6664#issuecomment-98786228","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6664","id":98786228,"node_id":"MDEyOklzc3VlQ29tbWVudDk4Nzg2MjI4","user":{"login":"andreasch","id":2414055,"node_id":"MDQ6VXNlcjI0MTQwNTU=","avatar_url":"https://avatars2.githubusercontent.com/u/2414055?v=4","gravatar_id":"","url":"https://api.github.com/users/andreasch","html_url":"https://github.com/andreasch","followers_url":"https://api.github.com/users/andreasch/followers","following_url":"https://api.github.com/users/andreasch/following{/other_user}","gists_url":"https://api.github.com/users/andreasch/gists{/gist_id}","starred_url":"https://api.github.com/users/andreasch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andreasch/subscriptions","organizations_url":"https://api.github.com/users/andreasch/orgs","repos_url":"https://api.github.com/users/andreasch/repos","events_url":"https://api.github.com/users/andreasch/events{/privacy}","received_events_url":"https://api.github.com/users/andreasch/received_events","type":"User","site_admin":false},"created_at":"2015-05-04T17:26:47Z","updated_at":"2015-05-04T17:26:47Z","author_association":"NONE","body":"@clintongormle I believe it is a new issue and I can go create one if it makes sense. \n\nWe have a multi-tenant implementation where the routing value is equal to the tenant name and routing is always required and used.\n\nWe also use alias filtering as described here:\nhttp://www.elastic.co/guide/en/elasticsearch/guide/master/faking-it.html\n\nFor our alias filters we have something like this:\n\n``` javascript\n{\n    \"term\":{\n        \"_routing\":\"tenantName\"\n    }\n}\n```\n\nHowever, Elasticsearch versions 1.4 and after do not allow for such an alias filter to be created.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/98982514","html_url":"https://github.com/elastic/elasticsearch/issues/6664#issuecomment-98982514","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6664","id":98982514,"node_id":"MDEyOklzc3VlQ29tbWVudDk4OTgyNTE0","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-05-05T07:30:20Z","updated_at":"2015-05-05T07:30:20Z","author_association":"CONTRIBUTOR","body":"@andreasch ok - I thought you meant something else.  You can create filters like that today, but you need to set the `_routing` field to be indexed.  (This will be done by default in v2).  See http://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-routing-field.html#_store_index\n","performed_via_github_app":null}]