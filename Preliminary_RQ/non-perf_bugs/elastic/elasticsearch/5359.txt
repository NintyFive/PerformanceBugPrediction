{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/5359","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5359/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5359/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5359/events","html_url":"https://github.com/elastic/elasticsearch/issues/5359","id":28901766,"node_id":"MDU6SXNzdWUyODkwMTc2Ng==","number":5359,"title":"Add a method to compute alias names for index templates","user":{"login":"rbraley","id":492578,"node_id":"MDQ6VXNlcjQ5MjU3OA==","avatar_url":"https://avatars1.githubusercontent.com/u/492578?v=4","gravatar_id":"","url":"https://api.github.com/users/rbraley","html_url":"https://github.com/rbraley","followers_url":"https://api.github.com/users/rbraley/followers","following_url":"https://api.github.com/users/rbraley/following{/other_user}","gists_url":"https://api.github.com/users/rbraley/gists{/gist_id}","starred_url":"https://api.github.com/users/rbraley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rbraley/subscriptions","organizations_url":"https://api.github.com/users/rbraley/orgs","repos_url":"https://api.github.com/users/rbraley/repos","events_url":"https://api.github.com/users/rbraley/events{/privacy}","received_events_url":"https://api.github.com/users/rbraley/received_events","type":"User","site_admin":false},"labels":[{"id":163824881,"node_id":"MDU6TGFiZWwxNjM4MjQ4ODE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Indices%20APIs","name":":Core/Features/Indices APIs","color":"0e8a16","default":false,"description":"APIs to create and manage indices"},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"assignees":[{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false}],"milestone":null,"comments":66,"created_at":"2014-03-06T18:20:06Z","updated_at":"2020-06-10T10:46:26Z","closed_at":"2016-12-23T10:59:02Z","author_association":"NONE","active_lock_reason":null,"body":"This is a proposal to extend the functionality to support aliases within templates #5180, #1825, #2739 \n\nOne use case that the current implementation does not cover is the ability to handle an index per day scenario. In this case it is nice to be able to present a single view of the indices which for the sake of argument look like \"product_elasticsearch_20140306\" as a unified alias which look like \"product_elasticsearch\".\n\nThe idea is to allow alias names to be formatted similarly to how python handles format strings http://docs.python.org/2/library/string.html#formatstrings\n\nIf we have a script define the value of the alias's format string parameters then regexes are not required(although still an option) to get a substring of the index name.\n\nHere is an example:\n\nPUT _template/template_1\n\n``` json\n{\n    \"template\" : \"product_*\",\n    \"settings\" : {\n        \"number_of_shards\" : 1\n    },\n    \"aliases\": {\n       \"alias1\" : {},\n        \"alias2\" : {\n            \"filter\" : {\n                \"term\" : {\"user\" : \"kimchy\" }\n            },\n            \"routing\" : \"kimchy\"\n        },\n        \"{index}-alias-for-{gender}\": {\n            \"filter\" : {\n                \"term\" : {\"product\" : \"Elasticsearch\" }\n            },\n            \"routing\" : \"Elasticsearch\",\n            \"format\": {\n                \"index\": {\n                    \"script\": \"_index['name'].value\",\n                },\n                \"gender\": {\n                    \"script\": \"doc['isFemale'].value ? f : m\",\n                    \"params\": {\n                        \"m\": \"males\",\n                        \"f\": \"females\"\n                    }\n                }\n            }\n        }\n    }\n}\n```\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}