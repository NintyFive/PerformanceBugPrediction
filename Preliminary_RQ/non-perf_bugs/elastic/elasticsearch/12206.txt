{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/12206","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12206/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12206/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12206/events","html_url":"https://github.com/elastic/elasticsearch/issues/12206","id":94745666,"node_id":"MDU6SXNzdWU5NDc0NTY2Ng==","number":12206,"title":"1.6.0's init scripts don't kill some older versions of Elasticsearch","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-07-13T15:20:02Z","updated_at":"2015-08-10T09:45:35Z","closed_at":"2015-08-10T09:45:35Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Elasticsearch 1.6.0's init scripts don't shut down Elasticsearch 1.3.x and that caused me trouble.\n\nI'm posting this here more for posterity than anything. Feel free to close if its not in scope.\n\nMy usual (pre 1.6.0) upgrade procedure for Elasticsearch is:\n0. Install new plugin versions on all nodes\n1. Install new version\n2. Shut down allocation\n3. Shut down Elasticsearch\n4. Start Elasticsearch\n5. Wait for Elasticsearch to reply to _cat/health\n6. Reenable allocation\n7. Wait a minute\n8. Wait for the cluster to go green\n9. Repeat 1-8 per node\n\nWe have steps 2-8 scripted. But since the init script doesn't shut down Elasticsearch 1.3.x we can't use the script. Sadness.\n","closed_by":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"performed_via_github_app":null}