[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/174945222","html_url":"https://github.com/elastic/elasticsearch/issues/16195#issuecomment-174945222","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16195","id":174945222,"node_id":"MDEyOklzc3VlQ29tbWVudDE3NDk0NTIyMg==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-01-26T10:25:16Z","updated_at":"2016-01-26T10:25:16Z","author_association":"CONTRIBUTOR","body":"Related to #14593 and #12412\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/174945465","html_url":"https://github.com/elastic/elasticsearch/issues/16195#issuecomment-174945465","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16195","id":174945465,"node_id":"MDEyOklzc3VlQ29tbWVudDE3NDk0NTQ2NQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-01-26T10:26:23Z","updated_at":"2016-01-26T10:26:23Z","author_association":"CONTRIBUTOR","body":"The shard allocation explain API (https://github.com/elastic/elasticsearch/issues/14593) would be a big win here, but I agree that the logging and failure messages can be improved.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/366449251","html_url":"https://github.com/elastic/elasticsearch/issues/16195#issuecomment-366449251","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16195","id":366449251,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjQ0OTI1MQ==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2018-02-17T15:39:32Z","updated_at":"2018-02-17T15:39:32Z","author_association":"CONTRIBUTOR","body":"I think this is fixed by #14593. In 6.2.1, `GET /_cluster/allocation/explain` yields the following:\r\n\r\n```\r\n{\r\n  \"index\": \"testidx\",\r\n  \"shard\": 0,\r\n  \"primary\": true,\r\n  \"current_state\": \"unassigned\",\r\n  \"unassigned_info\": {\r\n    \"reason\": \"INDEX_CREATED\",\r\n    \"at\": \"2018-02-17T15:35:54.033Z\",\r\n    \"last_allocation_status\": \"no\"\r\n  },\r\n  \"can_allocate\": \"no\",\r\n  \"allocate_explanation\": \"cannot allocate because allocation is not permitted to any of the nodes\",\r\n  \"node_allocation_decisions\": [\r\n    {\r\n      \"node_id\": \"Xf5BTYTnRdinK8hulkQ5yg\",\r\n      \"node_name\": \"Xf5BTYT\",\r\n      \"transport_address\": \"127.0.0.1:9300\",\r\n      \"node_decision\": \"no\",\r\n      \"weight_ranking\": 1,\r\n      \"deciders\": [\r\n        {\r\n          \"decider\": \"awareness\",\r\n          \"decision\": \"NO\",\r\n          \"explanation\": \"node does not contain the awareness attribute [foobar]; required attributes cluster setting [cluster.routing.allocation.awareness.attributes=foobar]\"\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n```\r\n\r\nThis seems sufficient.","performed_via_github_app":null}]