[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/208924138","html_url":"https://github.com/elastic/elasticsearch/issues/17610#issuecomment-208924138","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17610","id":208924138,"node_id":"MDEyOklzc3VlQ29tbWVudDIwODkyNDEzOA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-04-12T14:08:12Z","updated_at":"2016-04-12T14:08:12Z","author_association":"CONTRIBUTOR","body":"Hi @kadishmal \n\nThe `bool` query doesn't have a `query` clause.  Use `must` instead. Unfortunately, the parser then skipped over the rest of your request, ignoring the aggs.  The whole query DSL parsing is much stricter in 5.0, which means that you would have found your issue immediately:\n\n```\n\"reason\": \"[bool] query does not support [query]\"\n```\n","performed_via_github_app":null}]