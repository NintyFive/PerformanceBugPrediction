{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/15160","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15160/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15160/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15160/events","html_url":"https://github.com/elastic/elasticsearch/issues/15160","id":119791088,"node_id":"MDU6SXNzdWUxMTk3OTEwODg=","number":15160,"title":"Allow deletion of mapping/type if no documents are present","user":{"login":"rossbrower","id":12072726,"node_id":"MDQ6VXNlcjEyMDcyNzI2","avatar_url":"https://avatars3.githubusercontent.com/u/12072726?v=4","gravatar_id":"","url":"https://api.github.com/users/rossbrower","html_url":"https://github.com/rossbrower","followers_url":"https://api.github.com/users/rossbrower/followers","following_url":"https://api.github.com/users/rossbrower/following{/other_user}","gists_url":"https://api.github.com/users/rossbrower/gists{/gist_id}","starred_url":"https://api.github.com/users/rossbrower/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rossbrower/subscriptions","organizations_url":"https://api.github.com/users/rossbrower/orgs","repos_url":"https://api.github.com/users/rossbrower/repos","events_url":"https://api.github.com/users/rossbrower/events{/privacy}","received_events_url":"https://api.github.com/users/rossbrower/received_events","type":"User","site_admin":false},"labels":[{"id":141145460,"node_id":"MDU6TGFiZWwxNDExNDU0NjA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Mapping","name":":Search/Mapping","color":"0e8a16","default":false,"description":"How fields should be indexed"},{"id":156502592,"node_id":"MDU6TGFiZWwxNTY1MDI1OTI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Percolator","name":":Search/Percolator","color":"0e8a16","default":false,"description":"Reverse search: find queries that match a document"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-12-01T19:37:57Z","updated_at":"2015-12-11T11:50:06Z","closed_at":"2015-12-11T10:47:07Z","author_association":"NONE","active_lock_reason":null,"body":"I understand that deletion of a type is no longer allowed in 2.x. However, I have a scenario where it would be helpful. I have a dedicated index for percolators which contains mappings from the types which flow into daily indices. These types are not stored in the percolators index so there (presumably) is no way for them to leave corruption behind. If I change a type mapping and the percolator that corresponds to it I now have to delete the entire percolators index? This seems pretty undesirable. Why can't the corruption be avoided or why can't it simply allow the deletion if no documents are stored corresponding to the type being deleted? Either way this seems like a weird limitation and I would appreciate some guidance.\n","closed_by":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"performed_via_github_app":null}