{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/28704","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28704/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28704/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28704/events","html_url":"https://github.com/elastic/elasticsearch/issues/28704","id":297812926,"node_id":"MDU6SXNzdWUyOTc4MTI5MjY=","number":28704,"title":"ES_PATH_CONF on Windows not working","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars3.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","site_admin":false},"labels":[{"id":114977275,"node_id":"MDU6TGFiZWwxMTQ5NzcyNzU=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Packaging","name":":Delivery/Packaging","color":"0e8a16","default":false,"description":"RPM and deb packaging, tar and zip archives, shell and batch scripts"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-02-16T15:00:16Z","updated_at":"2018-02-16T16:40:54Z","closed_at":"2018-02-16T16:39:50Z","author_association":"NONE","active_lock_reason":null,"body":"**Elasticsearch version** (`bin/elasticsearch --version`):\r\n6.2.1\r\n\r\n**Plugins installed**: []\r\nNone\r\n\r\n**JVM version** (`java -version`):\r\njava version \"1.8.0_161\"\r\nJava(TM) SE Runtime Environment (build 1.8.0_161-b12)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.161-b12, mixed mode)\r\n\r\n**OS version** (`uname -a` if on a Unix-like system):\r\nWindows 10 Enterprise (most recent version)\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\nHaving a system environment variable named ES_PATH_CONF with the value \"C:\\elasticsearch-config\" and no config folder in the ES home directory results in not being able to start ES.\r\n\r\n**Steps to reproduce**:\r\n\r\n1. Copy the ES folder to C:\\elasticsearch\r\n2. Install the ES service\r\n3. Move the config folder to C:\\elasticsearch-config\r\n4. Create a system env var \"ES_PATH_CONF\" with value \"C:\\elasticsearch-config\"\r\n3. Start the service\r\n\r\n**Provide logs (if relevant)**:\r\n2018-02-16 15:49:19 Commons Daemon procrun stderr initialized\r\nException in thread \"main\" .BootstrapException: java.nio.file.NoSuchFileException: C:\\elasticsearch\\config\r\nLikely root cause: java.nio.file.NoSuchFileException: C:\\elasticsearch\\config\r\n\tat sun.nio.fs.WindowsException.translateToIOException(Unknown Source)\r\n\tat sun.nio.fs.WindowsException.rethrowAsIOException(Unknown Source)\r\n\tat sun.nio.fs.WindowsException.rethrowAsIOException(Unknown Source)\r\n\tat sun.nio.fs.WindowsFileAttributeViews$Basic.readAttributes(Unknown Source)\r\n\tat sun.nio.fs.WindowsFileAttributeViews$Basic.readAttributes(Unknown Source)\r\n\tat sun.nio.fs.WindowsFileSystemProvider.readAttributes(Unknown Source)\r\n\tat java.nio.file.Files.readAttributes(Unknown Source)\r\n\tat java.nio.file.FileTreeWalker.getAttributes(Unknown Source)\r\n\tat java.nio.file.FileTreeWalker.visit(Unknown Source)\r\n\tat java.nio.file.FileTreeWalker.walk(Unknown Source)\r\n\tat java.nio.file.Files.walkFileTree(Unknown Source)\r\n\tat org.elasticsearch.common.logging.LogConfigurator.configure(LogConfigurator.java:147)\r\n\tat org.elasticsearch.common.logging.LogConfigurator.configure(LogConfigurator.java:119)\r\n\tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:291)\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:121)\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:112)\r\n\tat org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86)\r\n\tat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124)\r\n\tat org.elasticsearch.cli.Command.main(Command.java:90)\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:92)\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:85)\r\nRefer to the log for complete error details.\r\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}