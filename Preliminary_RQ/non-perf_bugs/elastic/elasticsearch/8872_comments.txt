[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/66451108","html_url":"https://github.com/elastic/elasticsearch/issues/8872#issuecomment-66451108","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8872","id":66451108,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDUxMTA4","user":{"login":"portante","id":949097,"node_id":"MDQ6VXNlcjk0OTA5Nw==","avatar_url":"https://avatars2.githubusercontent.com/u/949097?v=4","gravatar_id":"","url":"https://api.github.com/users/portante","html_url":"https://github.com/portante","followers_url":"https://api.github.com/users/portante/followers","following_url":"https://api.github.com/users/portante/following{/other_user}","gists_url":"https://api.github.com/users/portante/gists{/gist_id}","starred_url":"https://api.github.com/users/portante/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/portante/subscriptions","organizations_url":"https://api.github.com/users/portante/orgs","repos_url":"https://api.github.com/users/portante/repos","events_url":"https://api.github.com/users/portante/events{/privacy}","received_events_url":"https://api.github.com/users/portante/received_events","type":"User","site_admin":false},"created_at":"2014-12-10T13:29:39Z","updated_at":"2014-12-10T13:29:39Z","author_association":"NONE","body":"Will there be a grace period of some sort for compatibility?  Or a way for folks to transition easily?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/66451888","html_url":"https://github.com/elastic/elasticsearch/issues/8872#issuecomment-66451888","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8872","id":66451888,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDUxODg4","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-12-10T13:36:20Z","updated_at":"2014-12-10T13:36:20Z","author_association":"CONTRIBUTOR","body":"@portante First, the full path is already supported, so you can start transitioning right away.  Second, we should be able to provide a bwc setting to allow the old field resolution.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/67583656","html_url":"https://github.com/elastic/elasticsearch/issues/8872#issuecomment-67583656","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8872","id":67583656,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTgzNjU2","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2014-12-19T00:57:44Z","updated_at":"2014-12-19T00:57:44Z","author_association":"MEMBER","body":"I'm more in favor of finding a path to remove completely in 2.0.  I don't like the idea of a setting to \"enable backcompat mode\" since this setting would be from its inception throwaway.    A setting wouldn't help people upgrading anyways, since it would be disabled by default. Instead, for 1.5 we could add a warning when a query uses simple names that they should change to the full path.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/67615259","html_url":"https://github.com/elastic/elasticsearch/issues/8872#issuecomment-67615259","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8872","id":67615259,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjE1MjU5","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-12-19T09:21:21Z","updated_at":"2014-12-19T09:21:21Z","author_association":"CONTRIBUTOR","body":"@rjernst First, most people will go from 1.x to 2.y without passing through 1.5, so changes just in 1.5 won't be enough.\n\nThe second problem (which exists regardless of how or when we do this) is that today, people can query on non-existent fields, without any exception.  It is perfectly acceptable to query all indices for `name=\"foo\"` and to get results just from those indices that have a `name` field.  \n\nFor this reason, I don't think we can warn about using the full path, because the path that the user has specified may well be the correct one. Really, the only approach to making users aware of this change is through blog posts and the breaking changes documentation.\n\nEven with that, there is a good chance that many users will not read the docs and find themselves in a situation where none of their applications work.  That's why I want the bwc setting, to give users a grace period to migrate.\n\nIf anybody has any better ideas I'm open to them.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/67681363","html_url":"https://github.com/elastic/elasticsearch/issues/8872#issuecomment-67681363","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8872","id":67681363,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjgxMzYz","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2014-12-19T19:01:39Z","updated_at":"2014-12-19T19:01:39Z","author_association":"MEMBER","body":"> It is perfectly acceptable to query all indices for name=\"foo\" and to get results just from those indices that have a name field.\n\nYes but currently, if `foo` exists as a simple name in one of those indexes, then the code in question will be executed.  I am suggesting a warning be added whenever that code is exercised.\n\n> For this reason, I don't think we can warn about using the full path, because the path that the user has specified may well be the correct one\n\nThe warning can be index specific, so if you query over multiple indexes, you get warnings for those indexes that the warning applies.\n\n> Even with that, there is a good chance that many users will not read the docs and find themselves in a situation where none of their applications work. That's why I want the bwc setting, to give users a grace period to migrate.\n\nThis bwc setting would enable them to use the old behavior throughout 2.y right? What happens when 3.z is released and they still haven't changed their client code? Or for those that complain about bugs in field resolution with this setting turned on (ie ambiguity which we are trying to fix)? In my experience, settings like this only prolong the problem. \n\n> Really, the only approach to making users aware of this change is through blog posts and the breaking changes documentation.\n\nIf that is the case, then why not make a blog post right now? And breaking changes documentation would exist with 2.0.  I don't see how adding a setting for them to switch on is going to be that much better for them than saying \"fix your queries\".\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/67833239","html_url":"https://github.com/elastic/elasticsearch/issues/8872#issuecomment-67833239","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8872","id":67833239,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODMzMjM5","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-12-22T12:46:30Z","updated_at":"2014-12-22T12:46:30Z","author_association":"CONTRIBUTOR","body":"> Yes but currently, if foo exists as a simple name in one of those indexes, then the code in question will be executed. I am suggesting a warning be added whenever that code is exercised.\n\nGreat idea.  +1\n\n> This bwc setting would enable them to use the old behavior throughout 2.y right? What happens when 3.z is released and they still haven't changed their client code? Or for those that complain about bugs in field resolution with this setting turned on (ie ambiguity which we are trying to fix)? In my experience, settings like this only prolong the problem.\n\nThe point is to try to make it easy for users to upgrade, giving them sufficient time for migration. The more that we change between 1.x and 2.0, the harder it will be for them upgrade and the more likely that they will be stuck on an older version.  There are things that we will have to break, but I'd prefer to keep these to a minimum.\n\nWhile this strategy seems right to me, I'm not 100% convinced and would appreciate hearing from others, especially users.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/73684862","html_url":"https://github.com/elastic/elasticsearch/issues/8872#issuecomment-73684862","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8872","id":73684862,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjg0ODYy","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-02-10T11:29:31Z","updated_at":"2015-02-10T11:29:31Z","author_association":"CONTRIBUTOR","body":"I've been thinking about this again.  Users can start specifying full paths right now, so they already have a migration period - they could start changing their queries today.\n\nThe only tricky bit is: if a query uses a shortname by mistake, it will return no results, rather than an exception.  While we could warn about missing fields, most people won't look at the logs.\n\nIn #6928 we added a strict query parsing mode for filtered aliases and percolator queries, which require fields to exist in the mapping before they can be used.  This is disabled on normal queries. Perhaps we should allow users to specify strict field lookups in their queries, so that exceptions will be thrown if an unknown field is referenced?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/73684928","html_url":"https://github.com/elastic/elasticsearch/issues/8872#issuecomment-73684928","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8872","id":73684928,"node_id":"MDEyOklzc3VlQ29tbWVudDczNjg0OTI4","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-02-10T11:29:59Z","updated_at":"2015-02-10T11:29:59Z","author_association":"CONTRIBUTOR","body":"Related: https://github.com/elasticsearch/elasticsearch/pull/9521\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/74124276","html_url":"https://github.com/elastic/elasticsearch/issues/8872#issuecomment-74124276","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8872","id":74124276,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MTI0Mjc2","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2015-02-12T18:28:18Z","updated_at":"2015-02-12T18:28:18Z","author_association":"MEMBER","body":"Just a note here. I think this will break some tests in plugins such as lang plugins or rivers. Time to update plugins code I guess :)\n","performed_via_github_app":null}]