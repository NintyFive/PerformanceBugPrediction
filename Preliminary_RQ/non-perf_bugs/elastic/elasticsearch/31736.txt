{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/31736","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31736/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31736/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31736/events","html_url":"https://github.com/elastic/elasticsearch/issues/31736","id":337549175,"node_id":"MDU6SXNzdWUzMzc1NDkxNzU=","number":31736,"title":"Checks failing when the gradle user home folder path has a whitespace in it","user":{"login":"astefan","id":893749,"node_id":"MDQ6VXNlcjg5Mzc0OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/893749?v=4","gravatar_id":"","url":"https://api.github.com/users/astefan","html_url":"https://github.com/astefan","followers_url":"https://api.github.com/users/astefan/followers","following_url":"https://api.github.com/users/astefan/following{/other_user}","gists_url":"https://api.github.com/users/astefan/gists{/gist_id}","starred_url":"https://api.github.com/users/astefan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astefan/subscriptions","organizations_url":"https://api.github.com/users/astefan/orgs","repos_url":"https://api.github.com/users/astefan/repos","events_url":"https://api.github.com/users/astefan/events{/privacy}","received_events_url":"https://api.github.com/users/astefan/received_events","type":"User","site_admin":false},"labels":[{"id":106454670,"node_id":"MDU6TGFiZWwxMDY0NTQ2NzA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Build","name":":Delivery/Build","color":"0e8a16","default":false,"description":"Build or test infrastructure"},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"}],"state":"closed","locked":false,"assignee":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"assignees":[{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2018-07-02T14:45:32Z","updated_at":"2020-11-11T21:50:43Z","closed_at":"2018-07-18T08:23:59Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**JVM version** (`java -version`): 1.8.0_172 (runtime)/10.0.1 (compile)\r\n\r\n**OS version**: Windows 10 64bit\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\n\r\nRunning `gradle check` on master will fail with `ClassNotFoundException: org/elasticsearch/test/NamingConventionsCheck` in the `namingConventions` task. Digging into this it seems that it's related to the gradle user home folder residing on a path that has a whitespace in it (below is a snippet from the error with each path on a separate line for better readibility):\r\n\r\n```\r\n> Process '\r\nC:\\Java\\jdk1.8.0_172\\bin\\java -Djna.nosys=true \r\n-cp \r\nC:\\Users\\Andrei%20Stefan\\.gradle\\caches\\jars-3\\906aad01a823bc489ba5ed9b3d3dd164\\buildSrc-7.0.0-alpha1-SNAPSHOT.jar;\r\nW:\\Eclipse_workspace_mine\\elasticsearch\\server\\build\\classes\\java\\main;\r\nW:\\Eclipse_workspace_mine\\elasticsearch\\server\\build\\resources\\main;\r\nW:\\Eclipse_workspace_mine\\elasticsearch\\libs\\x-content\\build\\distributions\\elasticsearch-x-content-7.0.0-alpha1-SNAPSHOT.jar;\r\nW:\\Eclipse_workspace_mine\\elasticsearch\\test\\framework\\build\\distributions\\framework-7.0.0-alpha1-SNAPSHOT.jar;\r\nW:\\Eclipse_workspace_mine\\elasticsearch\\libs\\cli\\build\\distributions\\elasticsearch-cli-7.0.0-alpha1-SNAPSHOT.jar;\r\nW:\\Eclipse_workspace_mine\\elasticsearch\\libs\\nio\\build\\distributions\\elasticsearch-nio-7.0.0-alpha1-SNAPSHOT.jar;\r\nW:\\Eclipse_workspace_mine\\elasticsearch\\libs\\core\\build\\distributions\\elasticsearch-core-7.0.0-alpha1-SNAPSHOT.jar;\r\nW:\\Eclipse_workspace_mine\\elasticsearch\\libs\\secure-sm\\build\\distributions\\elasticsearch-secure-sm-7.0.0-alpha1-SNAPSHOT.jar;\r\nC:\\Users\\Andrei Stefan\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.lucene\\lucene-core\\7.4.0\\730d9ac80436c8cbc0b2a8a749259be536b97316\\lucene-core-7.4.0.jar;\r\nC:\\Users\\Andrei Stefan\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.lucene\\lucene-analyzers-common\\7.4.0\\e1afb580df500626a1c695e0fc9a7e8a8f58bcac\\lucene-analyzers-common-7.4.0.jar;\r\n.....\r\nC:\\Users\\Andrei Stefan\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.httpcomponents\\httpasyncclient\\4.1.2\\95aa3e6fb520191a0970a73cf09f62948ee614be\\httpasyncclient-4.1.2.jar;\r\nC:\\Users\\Andrei Stefan\\.gradle\\caches\\modules-2\\files-2.1\\org.apache.httpcomponents\\httpcore-nio\\4.4.5\\f4be009e7505f6ceddf21e7960c759f413f15056\\httpcore-nio-4.4.5.jar;\r\nW:\\Eclipse_workspace_mine\\elasticsearch\\server\\build\\classes\\java\\test;\r\nW:\\Eclipse_workspace_mine\\elasticsearch\\server\\build\\resources\\test \r\norg.elasticsearch.test.NamingConventionsCheck --test-class org.apache.lucene.util.LuceneTestCase --integ-test-class org.elasticsearch.test.ESIntegTestCase -- W:\\Eclipse_workspace_mine\\elasticsearch\\server\\build\\classes\\java\\test' finished with non-zero exit value 1\r\n```\r\n\r\nThe first jar put on the classpath has a `%20` instead of a whitespace in the path, while the other jars put in the classpath afterwards, have the correct path naming. Setting GRADLE_USER_HOME to something that has no whitespaces on the path fixed the issue. That first jar from the classpath is also the one that should have the missing class, thus the complaint.","closed_by":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"performed_via_github_app":null}