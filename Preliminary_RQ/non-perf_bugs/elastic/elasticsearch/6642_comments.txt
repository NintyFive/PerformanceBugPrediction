[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/47530259","html_url":"https://github.com/elastic/elasticsearch/issues/6642#issuecomment-47530259","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6642","id":47530259,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTMwMjU5","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2014-06-30T13:21:06Z","updated_at":"2014-06-30T13:21:06Z","author_association":"MEMBER","body":"At the end of a recovery process (from disk or copying primaries) we do a flush in order to make sure that all recent changes are committed to disk. If there is already an ongoing flush the flush operation fails (the assumption is that the flush was caused by an external API). I looked a bit at the code and I think I found a place that could cause a background flush, even if the shard is not yet started. I will work to remove it.\n\nOther than that - your response was correct. It's just an unlucky timing.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/47531686","html_url":"https://github.com/elastic/elasticsearch/issues/6642#issuecomment-47531686","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6642","id":47531686,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTMxNjg2","user":{"login":"maf23","id":1116021,"node_id":"MDQ6VXNlcjExMTYwMjE=","avatar_url":"https://avatars2.githubusercontent.com/u/1116021?v=4","gravatar_id":"","url":"https://api.github.com/users/maf23","html_url":"https://github.com/maf23","followers_url":"https://api.github.com/users/maf23/followers","following_url":"https://api.github.com/users/maf23/following{/other_user}","gists_url":"https://api.github.com/users/maf23/gists{/gist_id}","starred_url":"https://api.github.com/users/maf23/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maf23/subscriptions","organizations_url":"https://api.github.com/users/maf23/orgs","repos_url":"https://api.github.com/users/maf23/repos","events_url":"https://api.github.com/users/maf23/events{/privacy}","received_events_url":"https://api.github.com/users/maf23/received_events","type":"User","site_admin":false},"created_at":"2014-06-30T13:35:04Z","updated_at":"2014-06-30T13:35:04Z","author_association":"NONE","body":"Thank you, that is exactly the kind of response I was hoping for.\n\nOn Mon, Jun 30, 2014 at 3:21 PM, Boaz Leskes notifications@github.com\nwrote:\n\n> At the end of a recovery process (from disk or copying primaries) we do a\n> flush in order to make sure that all recent changes are committed to disk.\n> If there is already an ongoing flush the flush operation fails (the\n> assumption is that the flush was caused by an external API). I looked a bit\n> at the code and I think I found a place that could cause a background\n> flush, even if the shard is not yet started. I will work to remove it.\n> \n> Other than that - your response was correct. It's just an unlucky timing.\n> \n> â€”\n> Reply to this email directly or view it on GitHub\n> https://github.com/elasticsearch/elasticsearch/issues/6642#issuecomment-47530259\n> .\n","performed_via_github_app":null}]