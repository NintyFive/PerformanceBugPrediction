{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/9758","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9758/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9758/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9758/events","html_url":"https://github.com/elastic/elasticsearch/issues/9758","id":58193410,"node_id":"MDU6SXNzdWU1ODE5MzQxMA==","number":9758,"title":"Marvel 1.3.0 on ES 1.4.3 requires http.enabled","user":{"login":"JakeFromTheDark","id":11073197,"node_id":"MDQ6VXNlcjExMDczMTk3","avatar_url":"https://avatars1.githubusercontent.com/u/11073197?v=4","gravatar_id":"","url":"https://api.github.com/users/JakeFromTheDark","html_url":"https://github.com/JakeFromTheDark","followers_url":"https://api.github.com/users/JakeFromTheDark/followers","following_url":"https://api.github.com/users/JakeFromTheDark/following{/other_user}","gists_url":"https://api.github.com/users/JakeFromTheDark/gists{/gist_id}","starred_url":"https://api.github.com/users/JakeFromTheDark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JakeFromTheDark/subscriptions","organizations_url":"https://api.github.com/users/JakeFromTheDark/orgs","repos_url":"https://api.github.com/users/JakeFromTheDark/repos","events_url":"https://api.github.com/users/JakeFromTheDark/events{/privacy}","received_events_url":"https://api.github.com/users/JakeFromTheDark/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":15,"created_at":"2015-02-19T10:57:18Z","updated_at":"2015-05-22T06:46:56Z","closed_at":"2015-03-05T20:47:54Z","author_association":"NONE","active_lock_reason":null,"body":"Marvel 1.3.0 on ES 1.4.3 requires `http.enabled: true` **on every node** - even there where HTTP module is not needed (master and data nodes). Else the node will fail with `No implementation for org.elasticsearch.http.HttpServerTransport was bound`.\n\n**`elasticsearch.yml`**:\n\n```\n### MANAGED BY PUPPET ###\n\n---\ncluster: \n  name: ES-on-vagrant.dev\ndiscovery: \n  zen: \n    ping: \n      multicast: \n        enabled: false\n      unicast: \n        hosts: \n             - es02m.vagrant.dev:9300\nhttp: \n  cors: \n    enabled: true\n  enabled: false\nindex: \n  number_of_replicas: 0\n  number_of_shards: 5\nmarvel: \n  agent: \n    exporter: \n      es: \n        hosts: \n             - es21s.vagrant.dev:9200\nnetwork: \n  bind_host: 0.0.0.0\n  publish_host: _eth1:ipv4_\nnode: \n  data: true\n  master: false\n  name: es11d-es-01\npath: \n  data: /usr/share/elasticsearch/data/es-01\n```\n\nDebug log:\n\n```\n[2015-02-19 10:40:37,433][INFO ][node                     ] [es11d-es-01] version[1.4.3], pid[3637], build[36a29a7/2015-02-11T14:23:15Z]\n[2015-02-19 10:40:37,435][INFO ][node                     ] [es11d-es-01] initializing ...\n[2015-02-19 10:40:37,435][DEBUG][node                     ] [es11d-es-01] using home [/usr/share/elasticsearch], config [/etc/elasticsearch/es-01], data [[/usr/share/elasticsearch/data/es-01]], logs [/var/log/elasticsearch/es-01], \nwork [/usr/share/elasticsearch/work], plugins [/usr/share/elasticsearch/plugins]\n[2015-02-19 10:40:37,442][DEBUG][plugins                  ] [es11d-es-01] lucene property is not set in plugin es-plugin.properties file. Skipping test.\n[2015-02-19 10:40:37,445][INFO ][plugins                  ] [es11d-es-01] loaded [marvel], sites [marvel]\n[2015-02-19 10:40:37,463][DEBUG][common.compress.lzf      ] using encoder [VanillaChunkDecoder] and decoder[{}] \n[2015-02-19 10:40:37,472][DEBUG][env                      ] [es11d-es-01] using node location [[/usr/share/elasticsearch/data/es-01/ES-on-vagrant.dev/nodes/0]], local_node_id [0]\n[2015-02-19 10:40:38,788][ERROR][bootstrap                ] {1.4.3}: Initialization Failed ...\n1) No implementation for org.elasticsearch.http.HttpServerTransport was bound.\norg.elasticsearch.common.inject.CreationException: Guice creation errors:\n\n1) No implementation for org.elasticsearch.http.HttpServerTransport was bound.\n  while locating org.elasticsearch.http.HttpServerTransport\n    for parameter 2 at org.elasticsearch.http.HttpServer.<init>(Unknown Source)\n  while locating org.elasticsearch.http.HttpServer\n    for parameter 0 at org.elasticsearch.marvel.agent.exporter.ESExporter.setHttpServer(Unknown Source)\n  at org.elasticsearch.marvel.agent.exporter.ESExporter.setHttpServer(Unknown Source)\n  at org.elasticsearch.marvel.agent.AgentModule.configure(AgentModule.java:31)\n\n1 error\n    at org.elasticsearch.common.inject.internal.Errors.throwCreationExceptionIfErrorsExist(Errors.java:344)\n    at org.elasticsearch.common.inject.InjectorBuilder.initializeStatically(InjectorBuilder.java:151)\n    at org.elasticsearch.common.inject.InjectorBuilder.build(InjectorBuilder.java:102)\n    at org.elasticsearch.common.inject.Guice.createInjector(Guice.java:93)\n    at org.elasticsearch.common.inject.Guice.createInjector(Guice.java:70)\n    at org.elasticsearch.common.inject.ModulesBuilder.createInjector(ModulesBuilder.java:59)\n    at org.elasticsearch.node.internal.InternalNode.<init>(InternalNode.java:197)\n    at org.elasticsearch.node.NodeBuilder.build(NodeBuilder.java:159)\n    at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:70)\n    at org.elasticsearch.bootstrap.Bootstrap.main(Bootstrap.java:203)\n    at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:32)\n\n[2015-02-19 10:40:38,789][DEBUG][bootstrap                ] Exception\norg.elasticsearch.common.inject.CreationException: Guice creation errors:\n\n1) No implementation for org.elasticsearch.http.HttpServerTransport was bound.\n  while locating org.elasticsearch.http.HttpServerTransport\n    for parameter 2 at org.elasticsearch.http.HttpServer.<init>(Unknown Source)\n  while locating org.elasticsearch.http.HttpServer\n    for parameter 0 at org.elasticsearch.marvel.agent.exporter.ESExporter.setHttpServer(Unknown Source)\n  at org.elasticsearch.marvel.agent.exporter.ESExporter.setHttpServer(Unknown Source)\n  at org.elasticsearch.marvel.agent.AgentModule.configure(AgentModule.java:31)\n\n1 error\n    at org.elasticsearch.common.inject.internal.Errors.throwCreationExceptionIfErrorsExist(Errors.java:344)\n    at org.elasticsearch.common.inject.InjectorBuilder.initializeStatically(InjectorBuilder.java:151)\n    at org.elasticsearch.common.inject.InjectorBuilder.build(InjectorBuilder.java:102)\n    at org.elasticsearch.common.inject.Guice.createInjector(Guice.java:93)\n    at org.elasticsearch.common.inject.Guice.createInjector(Guice.java:70)\n    at org.elasticsearch.common.inject.ModulesBuilder.createInjector(ModulesBuilder.java:59)\n    at org.elasticsearch.node.internal.InternalNode.<init>(InternalNode.java:197)\n    at org.elasticsearch.node.NodeBuilder.build(NodeBuilder.java:159)\n    at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:70)\n    at org.elasticsearch.bootstrap.Bootstrap.main(Bootstrap.java:203)\n    at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:32)\n```\n","closed_by":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"performed_via_github_app":null}