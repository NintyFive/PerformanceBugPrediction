[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/131920228","html_url":"https://github.com/elastic/elasticsearch/issues/12941#issuecomment-131920228","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12941","id":131920228,"node_id":"MDEyOklzc3VlQ29tbWVudDEzMTkyMDIyOA==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2015-08-17T18:37:21Z","updated_at":"2015-08-17T18:37:21Z","author_association":"CONTRIBUTOR","body":"do you have a stack dump from this?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/131920614","html_url":"https://github.com/elastic/elasticsearch/issues/12941#issuecomment-131920614","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12941","id":131920614,"node_id":"MDEyOklzc3VlQ29tbWVudDEzMTkyMDYxNA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2015-08-17T18:39:07Z","updated_at":"2015-08-17T18:39:07Z","author_association":"CONTRIBUTOR","body":"> do you have a stack dump from this?\n\nThose two links above are stack dumps of the threads that I think are the trouble. I can take a stack dump of the whole thing though.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/131920951","html_url":"https://github.com/elastic/elasticsearch/issues/12941#issuecomment-131920951","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12941","id":131920951,"node_id":"MDEyOklzc3VlQ29tbWVudDEzMTkyMDk1MQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2015-08-17T18:40:39Z","updated_at":"2015-08-17T18:40:39Z","author_association":"CONTRIBUTOR","body":"https://gist.github.com/nik9000/85b3172585a7a47e2ee5\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/131923079","html_url":"https://github.com/elastic/elasticsearch/issues/12941#issuecomment-131923079","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12941","id":131923079,"node_id":"MDEyOklzc3VlQ29tbWVudDEzMTkyMzA3OQ==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2015-08-17T18:46:05Z","updated_at":"2015-08-17T18:46:05Z","author_association":"CONTRIBUTOR","body":"this helps I will update you with ideas later!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/131935415","html_url":"https://github.com/elastic/elasticsearch/issues/12941#issuecomment-131935415","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12941","id":131935415,"node_id":"MDEyOklzc3VlQ29tbWVudDEzMTkzNTQxNQ==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2015-08-17T19:22:00Z","updated_at":"2015-08-17T19:22:00Z","author_association":"CONTRIBUTOR","body":"I acutally think we always had that problem but since https://github.com/elastic/elasticsearch/pull/10833 it's showing. We forced -9 basically before. In master / 2.0 this issue is gone since we don't call maybeMerge\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/131935981","html_url":"https://github.com/elastic/elasticsearch/issues/12941#issuecomment-131935981","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12941","id":131935981,"node_id":"MDEyOklzc3VlQ29tbWVudDEzMTkzNTk4MQ==","user":{"login":"mikemccand","id":796508,"node_id":"MDQ6VXNlcjc5NjUwOA==","avatar_url":"https://avatars0.githubusercontent.com/u/796508?v=4","gravatar_id":"","url":"https://api.github.com/users/mikemccand","html_url":"https://github.com/mikemccand","followers_url":"https://api.github.com/users/mikemccand/followers","following_url":"https://api.github.com/users/mikemccand/following{/other_user}","gists_url":"https://api.github.com/users/mikemccand/gists{/gist_id}","starred_url":"https://api.github.com/users/mikemccand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikemccand/subscriptions","organizations_url":"https://api.github.com/users/mikemccand/orgs","repos_url":"https://api.github.com/users/mikemccand/repos","events_url":"https://api.github.com/users/mikemccand/events{/privacy}","received_events_url":"https://api.github.com/users/mikemccand/received_events","type":"User","site_admin":false},"created_at":"2015-08-17T19:24:02Z","updated_at":"2015-08-17T19:24:02Z","author_association":"CONTRIBUTOR","body":"Thanks @nik9000, what's happening is merges are falling way behind (laptop hard drive), and in ES 1.x we let Lucene's CMS do hard throttling of new merges in this case.\n\nBut in 2.0 this should be fixed with the Lucene upgrade just before https://github.com/elastic/elasticsearch/pull/8643 ... if you can re-run your test with 2.0 beta that would be great :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/131936748","html_url":"https://github.com/elastic/elasticsearch/issues/12941#issuecomment-131936748","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12941","id":131936748,"node_id":"MDEyOklzc3VlQ29tbWVudDEzMTkzNjc0OA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2015-08-17T19:28:10Z","updated_at":"2015-08-17T19:28:10Z","author_association":"CONTRIBUTOR","body":"> But in 2.0 this should be fixed with the Lucene upgrade just before #8643 ... if you can re-run your test with 2.0 beta that would be great :)\n\nI'll do that.\n\nI have two questions then:\n1. Is it ok that 1.7-ish can get into a state where their init/systemd scripts won't kill them? I imagine its helpful to have this issue be google-able but is that enough?\n2. In the case of my load going on right now can I safely `kill -9` elasticsearch? I suspect so, but it took a long time and I just want to make sure.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/131937018","html_url":"https://github.com/elastic/elasticsearch/issues/12941#issuecomment-131937018","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12941","id":131937018,"node_id":"MDEyOklzc3VlQ29tbWVudDEzMTkzNzAxOA==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2015-08-17T19:29:25Z","updated_at":"2015-08-17T19:29:25Z","author_association":"CONTRIBUTOR","body":"> 1. In the case of my load going on right now can I safely kill -9 elasticsearch? I suspect so, but it took a long time and I just want to make sure.\n\nby that time yes\n\n> 1. Is it ok that 1.7-ish can get into a state where their init/systemd scripts won't kill them? I imagine its helpful to have this issue be google-able but is that enough?\n\nit was always the case just hidden\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/131968440","html_url":"https://github.com/elastic/elasticsearch/issues/12941#issuecomment-131968440","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12941","id":131968440,"node_id":"MDEyOklzc3VlQ29tbWVudDEzMTk2ODQ0MA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2015-08-17T21:32:43Z","updated_at":"2015-08-17T21:32:43Z","author_association":"CONTRIBUTOR","body":"> But in 2.0 this should be fixed with the Lucene upgrade just before #8643 ... if you can re-run your test with 2.0 beta that would be great :)\n\nIndeed - this problem doesn't happen in the 2.0 branch. Elasticsearch sits there for a few seconds after being killed, obviously trying to finish something off, and then dutifully dies. Sometimes it logs a nice error about jobs being submitted to killed thread pools. It still dies. Which is great.\n","performed_via_github_app":null}]