{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/16575","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16575/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16575/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16575/events","html_url":"https://github.com/elastic/elasticsearch/issues/16575","id":132681397,"node_id":"MDU6SXNzdWUxMzI2ODEzOTc=","number":16575,"title":"host field in _cat/nodes is always an IP address","user":{"login":"sysmonk","id":3297126,"node_id":"MDQ6VXNlcjMyOTcxMjY=","avatar_url":"https://avatars2.githubusercontent.com/u/3297126?v=4","gravatar_id":"","url":"https://api.github.com/users/sysmonk","html_url":"https://github.com/sysmonk","followers_url":"https://api.github.com/users/sysmonk/followers","following_url":"https://api.github.com/users/sysmonk/following{/other_user}","gists_url":"https://api.github.com/users/sysmonk/gists{/gist_id}","starred_url":"https://api.github.com/users/sysmonk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sysmonk/subscriptions","organizations_url":"https://api.github.com/users/sysmonk/orgs","repos_url":"https://api.github.com/users/sysmonk/repos","events_url":"https://api.github.com/users/sysmonk/events{/privacy}","received_events_url":"https://api.github.com/users/sysmonk/received_events","type":"User","site_admin":false},"labels":[{"id":165912659,"node_id":"MDU6TGFiZWwxNjU5MTI2NTk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/CAT%20APIs","name":":Core/Features/CAT APIs","color":"0e8a16","default":false,"description":"Text APIs behind /_cat"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2016-02-10T12:08:37Z","updated_at":"2016-02-14T14:30:02Z","closed_at":"2016-02-14T14:30:02Z","author_association":"NONE","active_lock_reason":null,"body":"I've upgraded my elasticsearch cluster from 1.7.4 to 2.2.0 yesterday, and i noticed that _cat/nodes?v now always returns an IP address in the \"host\" field.\n\nElasticSearch 2.2 Example:\n\n```\nhost          ip            heap.percent ram.percent load node.role master name\n192.168.0.75   192.168.0.75            68          99 1.07 d         m      es1.logstash.example.com     \n192.168.0.55   192.168.0.55            64         100 0.44 d         m      es2.logstash.example.com      \n192.168.0.69   192.168.0.69            29          98 1.09 d         m      es4.logstash.example.com     \n192.168.0.79   192.168.0.79            30         100 1.14 d         m      es6.logstash.example.com     \n192.168.0.246  192.168.0.246           68         100 1.19 d         m      es5.logstash.example.com      \n192.168.0.49   192.168.0.49            73          97 0.62 d         *      es8.logstash.example.com      \n\n```\n\nPreviously, in ElasticSearch 1.7.4 it had the 'host' field populated with the hostname (same as the 'name' field). \nI've tried setting network.bind_host network.publish_host network.host to the hostnames, even tried adding PTR record in case ES does PTR lookups, but the host field is always an IP address.\n\nOther, kinda related issues, is that the _cat/nodes list is sorted randomly at every refresh. In 1.7.4 it was also \"random\" - except that the randomness didn't change with every refresh, but only when nodes leave/join cluster.\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}