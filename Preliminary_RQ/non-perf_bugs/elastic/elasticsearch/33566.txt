{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/33566","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33566/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33566/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33566/events","html_url":"https://github.com/elastic/elasticsearch/issues/33566","id":358637320,"node_id":"MDU6SXNzdWUzNTg2MzczMjA=","number":33566,"title":"The enabled setting is not updatable (and probably shouldn't)","user":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"labels":[{"id":141145460,"node_id":"MDU6TGFiZWwxNDExNDU0NjA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Mapping","name":":Search/Mapping","color":"0e8a16","default":false,"description":"How fields should be indexed"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":110815527,"node_id":"MDU6TGFiZWwxMTA4MTU1Mjc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/help%20wanted","name":"help wanted","color":"207de5","default":true,"description":"adoptme"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2018-09-10T14:01:34Z","updated_at":"2018-10-01T18:50:06Z","closed_at":"2018-10-01T18:50:06Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"[According to the docs](https://www.elastic.co/guide/en/elasticsearch/reference/current/enabled.html) , the `enabled` setting for mappings should be updatable (see TIP at the end), which it actually isn't:\r\n\r\n\r\n```\r\nPUT my_index \r\n{\r\n  \"mappings\": {\r\n    \"doc\": { \r\n      \"properties\": {\r\n        \"bla\": {\r\n          \"properties\": {\r\n            \"title\":    { \"type\": \"text\"  }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nGET /my_index/_mapping/doc\r\n\r\nPUT /my_index/_mapping/doc\r\n{\r\n  \"properties\": {\r\n    \"bla\": {\r\n      \"enabled\" : false\r\n    }\r\n  }\r\n}\r\n\r\nGET /my_index/_mapping/doc\r\n```\r\n\r\n-> returns same initial mapping :sadtrombone:\r\n\r\nWhile implementing a fix, I noticed that we probably do not want to change and fix this, as this might lead to a surprising effects if the setting is changed during indexing (A field might be indexed on the primary but not on the replica (or vice versa)). Similarly, it might interfere in funny ways with reindexing.\r\n\r\nI suggest updating the docs to say that this field is non-updateable, but wanted to raise it first for discussion with @elastic/es-search-aggs.\r\n\r\n","closed_by":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"performed_via_github_app":null}