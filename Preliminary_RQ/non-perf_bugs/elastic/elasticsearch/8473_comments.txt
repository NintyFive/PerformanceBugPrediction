[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/62935208","html_url":"https://github.com/elastic/elasticsearch/issues/8473#issuecomment-62935208","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8473","id":62935208,"node_id":"MDEyOklzc3VlQ29tbWVudDYyOTM1MjA4","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-11-13T17:50:37Z","updated_at":"2014-11-13T17:50:37Z","author_association":"CONTRIBUTOR","body":"@loren thanks for opening this.  The recreation can be simplified to a single template. It appears that the `_default_` mapping is only consulted after the aliases have been created:\n\n```\nDELETE _all \nDELETE /_template/*\n\nPUT /_template/logstash\n{\n  \"template\": \"logstash-*\",\n  \"mappings\": {\n    \"_default_\": {\n      \"properties\": {\n        \"clientip\": {\n          \"index\": \"not_analyzed\",\n          \"type\": \"string\"\n        }\n      }\n    }\n  },\n  \"aliases\": {\n    \"filtered-{index}\": {\n      \"filter\": {\n        \"bool\": {\n          \"must_not\": [\n            {\n              \"terms\": {\n                \"clientip\": [\n                  \"1.2.3.4\",\n                  \"2.3.4.5\"\n                ]\n              }\n            }\n          ]\n        }\n      }\n    }\n  }\n}\n```\n\n Throws `Strict field resolution and no field mapping can be found for the field with name [clientip]`:\n\n```\nPOST /logstash-2014.11.11/event/1\n{\n  \"clientip\": \"3.4.5.6\"\n}\n```\n\nHowever, if you change the `_default_` mapping in the template to `event`,  then this works just fine.\n\n@martijnvg could you have a look please?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/78191851","html_url":"https://github.com/elastic/elasticsearch/issues/8473#issuecomment-78191851","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8473","id":78191851,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTkxODUx","user":{"login":"shivangshah","id":2624839,"node_id":"MDQ6VXNlcjI2MjQ4Mzk=","avatar_url":"https://avatars1.githubusercontent.com/u/2624839?v=4","gravatar_id":"","url":"https://api.github.com/users/shivangshah","html_url":"https://github.com/shivangshah","followers_url":"https://api.github.com/users/shivangshah/followers","following_url":"https://api.github.com/users/shivangshah/following{/other_user}","gists_url":"https://api.github.com/users/shivangshah/gists{/gist_id}","starred_url":"https://api.github.com/users/shivangshah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shivangshah/subscriptions","organizations_url":"https://api.github.com/users/shivangshah/orgs","repos_url":"https://api.github.com/users/shivangshah/repos","events_url":"https://api.github.com/users/shivangshah/events{/privacy}","received_events_url":"https://api.github.com/users/shivangshah/received_events","type":"User","site_admin":false},"created_at":"2015-03-11T03:04:18Z","updated_at":"2015-03-11T03:04:18Z","author_association":"NONE","body":"I apologize in advance for opening this conversation up after months of it being resolved, but I still see this problem with version 1.4.4. I have detailed the usecase in question and the corresponding files here: http://stackoverflow.com/questions/28977610/elastic-search-filtered-aliases-with-unmapped-fields\nAll help is appreciated and I apologize in advance if it is something silly that I missed !\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/78592580","html_url":"https://github.com/elastic/elasticsearch/issues/8473#issuecomment-78592580","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8473","id":78592580,"node_id":"MDEyOklzc3VlQ29tbWVudDc4NTkyNTgw","user":{"login":"eugenp","id":1022859,"node_id":"MDQ6VXNlcjEwMjI4NTk=","avatar_url":"https://avatars1.githubusercontent.com/u/1022859?v=4","gravatar_id":"","url":"https://api.github.com/users/eugenp","html_url":"https://github.com/eugenp","followers_url":"https://api.github.com/users/eugenp/followers","following_url":"https://api.github.com/users/eugenp/following{/other_user}","gists_url":"https://api.github.com/users/eugenp/gists{/gist_id}","starred_url":"https://api.github.com/users/eugenp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eugenp/subscriptions","organizations_url":"https://api.github.com/users/eugenp/orgs","repos_url":"https://api.github.com/users/eugenp/repos","events_url":"https://api.github.com/users/eugenp/events{/privacy}","received_events_url":"https://api.github.com/users/eugenp/received_events","type":"User","site_admin":false},"created_at":"2015-03-12T19:57:42Z","updated_at":"2015-03-12T19:57:42Z","author_association":"NONE","body":"Quick note - I am seeing the same problem after upgrading to 1.4.4. \n","performed_via_github_app":null}]