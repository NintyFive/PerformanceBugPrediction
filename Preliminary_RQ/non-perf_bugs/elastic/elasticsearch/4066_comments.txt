[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/29629388","html_url":"https://github.com/elastic/elasticsearch/issues/4066#issuecomment-29629388","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4066","id":29629388,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjI5Mzg4","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2013-12-02T15:58:54Z","updated_at":"2013-12-02T15:58:54Z","author_association":"MEMBER","body":"The only other place that 503 is used in ES is when rejecting requests due to thread poll constraints, and I think 503 is correct for it?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/29629497","html_url":"https://github.com/elastic/elasticsearch/issues/4066#issuecomment-29629497","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4066","id":29629497,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjI5NDk3","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2013-12-02T15:59:59Z","updated_at":"2013-12-02T15:59:59Z","author_association":"CONTRIBUTOR","body":"Yes agreed - that is an appropriate use case.\n\nIf those are the only two places, then I'll close this issue.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/29630085","html_url":"https://github.com/elastic/elasticsearch/issues/4066#issuecomment-29630085","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4066","id":29630085,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjMwMDg1","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2013-12-02T16:05:54Z","updated_at":"2013-12-02T16:05:54Z","author_association":"MEMBER","body":"but what will we do in the clients then? thread pool rejection is different compared to a node returning 503 because its no longer part of the cluster... . I do think we need to somehow tell the different from the clients perspective?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/29630296","html_url":"https://github.com/elastic/elasticsearch/issues/4066#issuecomment-29630296","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4066","id":29630296,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjMwMjk2","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2013-12-02T16:08:06Z","updated_at":"2013-12-02T16:08:06Z","author_association":"CONTRIBUTOR","body":"OK - reopened.  503 for me means: retry on another node.  I guess if a request on another node gets rerouted back to the same node you could end up with the same 503 response?\n\nWhat should the clients do for thread pool rejection then?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/29630432","html_url":"https://github.com/elastic/elasticsearch/issues/4066#issuecomment-29630432","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4066","id":29630432,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjMwNDMy","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2013-12-02T16:09:29Z","updated_at":"2013-12-02T16:09:29Z","author_association":"MEMBER","body":"yea, exactly, a 503 because of thread pool rejection is different, and internally, the language client should not retry, but expose it as a proper failure to the user code, and then they can decide what to do (back off, ...)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/29630832","html_url":"https://github.com/elastic/elasticsearch/issues/4066#issuecomment-29630832","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4066","id":29630832,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjMwODMy","user":{"login":"uboness","id":211019,"node_id":"MDQ6VXNlcjIxMTAxOQ==","avatar_url":"https://avatars3.githubusercontent.com/u/211019?v=4","gravatar_id":"","url":"https://api.github.com/users/uboness","html_url":"https://github.com/uboness","followers_url":"https://api.github.com/users/uboness/followers","following_url":"https://api.github.com/users/uboness/following{/other_user}","gists_url":"https://api.github.com/users/uboness/gists{/gist_id}","starred_url":"https://api.github.com/users/uboness/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uboness/subscriptions","organizations_url":"https://api.github.com/users/uboness/orgs","repos_url":"https://api.github.com/users/uboness/repos","events_url":"https://api.github.com/users/uboness/events{/privacy}","received_events_url":"https://api.github.com/users/uboness/received_events","type":"User","site_admin":false},"created_at":"2013-12-02T16:13:33Z","updated_at":"2013-12-02T16:13:33Z","author_association":"CONTRIBUTOR","body":"maybe we can use the `Retry-After` header, which will indicate high load (and try to come up with a default value for it :))\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/29631453","html_url":"https://github.com/elastic/elasticsearch/issues/4066#issuecomment-29631453","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4066","id":29631453,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjMxNDUz","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2013-12-02T16:20:02Z","updated_at":"2013-12-02T16:20:02Z","author_association":"MEMBER","body":"@uboness we can't really put a value there..., I think its more geared towards single \"usage\" type, we can't really sensibly give any value there\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/29633075","html_url":"https://github.com/elastic/elasticsearch/issues/4066#issuecomment-29633075","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4066","id":29633075,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjMzMDc1","user":{"login":"uboness","id":211019,"node_id":"MDQ6VXNlcjIxMTAxOQ==","avatar_url":"https://avatars3.githubusercontent.com/u/211019?v=4","gravatar_id":"","url":"https://api.github.com/users/uboness","html_url":"https://github.com/uboness","followers_url":"https://api.github.com/users/uboness/followers","following_url":"https://api.github.com/users/uboness/following{/other_user}","gists_url":"https://api.github.com/users/uboness/gists{/gist_id}","starred_url":"https://api.github.com/users/uboness/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uboness/subscriptions","organizations_url":"https://api.github.com/users/uboness/orgs","repos_url":"https://api.github.com/users/uboness/repos","events_url":"https://api.github.com/users/uboness/events{/privacy}","received_events_url":"https://api.github.com/users/uboness/received_events","type":"User","site_admin":false},"created_at":"2013-12-02T16:36:15Z","updated_at":"2013-12-02T16:36:15Z","author_association":"CONTRIBUTOR","body":"yeah.. I know.. hence the :).. that's the closes \"official\" way I thought of to distinguish between the two scenarios \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46250608","html_url":"https://github.com/elastic/elasticsearch/issues/4066#issuecomment-46250608","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4066","id":46250608,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MjUwNjA4","user":{"login":"xyu","id":373804,"node_id":"MDQ6VXNlcjM3MzgwNA==","avatar_url":"https://avatars1.githubusercontent.com/u/373804?v=4","gravatar_id":"","url":"https://api.github.com/users/xyu","html_url":"https://github.com/xyu","followers_url":"https://api.github.com/users/xyu/followers","following_url":"https://api.github.com/users/xyu/following{/other_user}","gists_url":"https://api.github.com/users/xyu/gists{/gist_id}","starred_url":"https://api.github.com/users/xyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyu/subscriptions","organizations_url":"https://api.github.com/users/xyu/orgs","repos_url":"https://api.github.com/users/xyu/repos","events_url":"https://api.github.com/users/xyu/events{/privacy}","received_events_url":"https://api.github.com/users/xyu/received_events","type":"User","site_admin":false},"created_at":"2014-06-16T23:25:27Z","updated_at":"2014-06-16T23:25:27Z","author_association":"CONTRIBUTOR","body":"Maybe use a 502 for when the node is no longer part of the cluster? Not exact but if one considers the elected master the \"upstream\" server simply because it delivers cluster state needed in order to route queries it kinda works.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/47976718","html_url":"https://github.com/elastic/elasticsearch/issues/4066#issuecomment-47976718","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4066","id":47976718,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTc2NzE4","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-07-03T19:52:45Z","updated_at":"2014-07-03T19:52:45Z","author_association":"CONTRIBUTOR","body":"Fixed by #6627\n","performed_via_github_app":null}]