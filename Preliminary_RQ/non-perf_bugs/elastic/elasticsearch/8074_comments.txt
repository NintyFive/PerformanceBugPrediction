[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/59001970","html_url":"https://github.com/elastic/elasticsearch/issues/8074#issuecomment-59001970","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8074","id":59001970,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDAxOTcw","user":{"login":"praj2","id":6479566,"node_id":"MDQ6VXNlcjY0Nzk1NjY=","avatar_url":"https://avatars2.githubusercontent.com/u/6479566?v=4","gravatar_id":"","url":"https://api.github.com/users/praj2","html_url":"https://github.com/praj2","followers_url":"https://api.github.com/users/praj2/followers","following_url":"https://api.github.com/users/praj2/following{/other_user}","gists_url":"https://api.github.com/users/praj2/gists{/gist_id}","starred_url":"https://api.github.com/users/praj2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/praj2/subscriptions","organizations_url":"https://api.github.com/users/praj2/orgs","repos_url":"https://api.github.com/users/praj2/repos","events_url":"https://api.github.com/users/praj2/events{/privacy}","received_events_url":"https://api.github.com/users/praj2/received_events","type":"User","site_admin":false},"created_at":"2014-10-14T07:46:36Z","updated_at":"2014-10-14T07:46:36Z","author_association":"NONE","body":"How do I attach .rar / .txt files?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/59003147","html_url":"https://github.com/elastic/elasticsearch/issues/8074#issuecomment-59003147","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8074","id":59003147,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDAzMTQ3","user":{"login":"praj2","id":6479566,"node_id":"MDQ6VXNlcjY0Nzk1NjY=","avatar_url":"https://avatars2.githubusercontent.com/u/6479566?v=4","gravatar_id":"","url":"https://api.github.com/users/praj2","html_url":"https://github.com/praj2","followers_url":"https://api.github.com/users/praj2/followers","following_url":"https://api.github.com/users/praj2/following{/other_user}","gists_url":"https://api.github.com/users/praj2/gists{/gist_id}","starred_url":"https://api.github.com/users/praj2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/praj2/subscriptions","organizations_url":"https://api.github.com/users/praj2/orgs","repos_url":"https://api.github.com/users/praj2/repos","events_url":"https://api.github.com/users/praj2/events{/privacy}","received_events_url":"https://api.github.com/users/praj2/received_events","type":"User","site_admin":false},"created_at":"2014-10-14T07:58:03Z","updated_at":"2014-10-14T07:58:03Z","author_association":"NONE","body":"thread dump: https://gist.github.com/praj2/6603ed38eddee8157708 \nheap dump: https://drive.google.com/file/d/0Bwji_gzAroRKWHFpTDZWNV9ZVjg/view?usp=sharing \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/59046396","html_url":"https://github.com/elastic/elasticsearch/issues/8074#issuecomment-59046396","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8074","id":59046396,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDQ2Mzk2","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-10-14T13:47:05Z","updated_at":"2014-10-14T13:47:05Z","author_association":"CONTRIBUTOR","body":"Hi @praj2 \n\nI'm guessing that your aggregations are too deeply nested for the tiny amount of heap space that you have.  You may want to try using [\"breadth_first\" mode](http://www.elasticsearch.org/guide/en/elasticsearch/guide/current/_preventing_combinatorial_explosions.html#_depth_first_vs_breadth_first) , or you may just have to add more memory.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/59464217","html_url":"https://github.com/elastic/elasticsearch/issues/8074#issuecomment-59464217","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8074","id":59464217,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDY0MjE3","user":{"login":"praj2","id":6479566,"node_id":"MDQ6VXNlcjY0Nzk1NjY=","avatar_url":"https://avatars2.githubusercontent.com/u/6479566?v=4","gravatar_id":"","url":"https://api.github.com/users/praj2","html_url":"https://github.com/praj2","followers_url":"https://api.github.com/users/praj2/followers","following_url":"https://api.github.com/users/praj2/following{/other_user}","gists_url":"https://api.github.com/users/praj2/gists{/gist_id}","starred_url":"https://api.github.com/users/praj2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/praj2/subscriptions","organizations_url":"https://api.github.com/users/praj2/orgs","repos_url":"https://api.github.com/users/praj2/repos","events_url":"https://api.github.com/users/praj2/events{/privacy}","received_events_url":"https://api.github.com/users/praj2/received_events","type":"User","site_admin":false},"created_at":"2014-10-17T04:12:12Z","updated_at":"2014-10-17T04:12:12Z","author_association":"NONE","body":"Thanks for your reply Clinton.\nWhat would be the ideal heap size recommended for the size of data we have, given the need to frequently execute 3-level nested aggregations.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/59467897","html_url":"https://github.com/elastic/elasticsearch/issues/8074#issuecomment-59467897","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8074","id":59467897,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDY3ODk3","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-10-17T05:26:18Z","updated_at":"2014-10-17T05:26:18Z","author_association":"CONTRIBUTOR","body":"@praj2 that depends on the types of aggregations you are running, and the cardinality of each field.  Imagine you had three nested `terms` aggregations, and each field had 1,000 unique values.  That's 1,000,000,000 buckets with the default execution mode.\n\nBreadth-first would create much smaller numbers of buckets.  You'll just need to experiment to find the right approach.\n","performed_via_github_app":null}]