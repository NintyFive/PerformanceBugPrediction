[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/442474524","html_url":"https://github.com/elastic/elasticsearch/issues/36003#issuecomment-442474524","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36003","id":442474524,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjQ3NDUyNA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2018-11-28T14:54:06Z","updated_at":"2018-11-28T14:54:06Z","author_association":"CONTRIBUTOR","body":"`ESSingleNodeTestCase` is really for testing plugin interactions with deep parts of Elasticsearch and, for the most part, we use [randomizedtesting](https://labs.carrotsearch.com/randomizedtesting.html) for these tests so I'm not particularly surprised it doesn't work outside of there. Most tests that actually use the access to the internal bits of Elasticsearch that `ESSinlgeNodeTestCase` provides are difficult to debug because they have to do evil things to put the node in a weird state.\r\n\r\nI suppose the question is \"what do you want this for?\" If you want a convenient way to start up Elasticsearch for testing your own code, something like the [elasticsearch maven plugin](https://github.com/alexcojocaru/elasticsearch-maven-plugin) is probably going to serve you better because it is designed for that. If you are developing an Elasticsearch plugin then the gradle build tools that we publish might be the way to go. Or randomized runner in maven if you aren't a gradle fan.\r\n\r\nI can't speak to whether or not this is a surefire bug. I'm fairly sure we won't actively support using `ESSingleNodeTestCase` or `ESIntegTestCase` in surefire either way. If it works, great, but we might break it at any time because we don't test it because we don't use it.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/442475106","html_url":"https://github.com/elastic/elasticsearch/issues/36003#issuecomment-442475106","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36003","id":442475106,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0MjQ3NTEwNg==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2018-11-28T14:55:38Z","updated_at":"2018-11-28T14:55:38Z","author_association":"CONTRIBUTOR","body":"I'm going to close this issue as something we won't fix because, well, we won't make `ESSingleNodeTestCase` work with surefire.","performed_via_github_app":null}]