{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/44563","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44563/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44563/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44563/events","html_url":"https://github.com/elastic/elasticsearch/issues/44563","id":469754876,"node_id":"MDU6SXNzdWU0Njk3NTQ4NzY=","number":44563,"title":"[CI] TransportSearchActionTests.testCollectSearchShards fails due to timeout","user":{"login":"bizybot","id":902768,"node_id":"MDQ6VXNlcjkwMjc2OA==","avatar_url":"https://avatars2.githubusercontent.com/u/902768?v=4","gravatar_id":"","url":"https://api.github.com/users/bizybot","html_url":"https://github.com/bizybot","followers_url":"https://api.github.com/users/bizybot/followers","following_url":"https://api.github.com/users/bizybot/following{/other_user}","gists_url":"https://api.github.com/users/bizybot/gists{/gist_id}","starred_url":"https://api.github.com/users/bizybot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bizybot/subscriptions","organizations_url":"https://api.github.com/users/bizybot/orgs","repos_url":"https://api.github.com/users/bizybot/repos","events_url":"https://api.github.com/users/bizybot/events{/privacy}","received_events_url":"https://api.github.com/users/bizybot/received_events","type":"User","site_admin":false},"labels":[{"id":146854632,"node_id":"MDU6TGFiZWwxNDY4NTQ2MzI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Network","name":":Distributed/Network","color":"0e8a16","default":false,"description":"Http and internode communication implementations"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":{"login":"henningandersen","id":33268011,"node_id":"MDQ6VXNlcjMzMjY4MDEx","avatar_url":"https://avatars2.githubusercontent.com/u/33268011?v=4","gravatar_id":"","url":"https://api.github.com/users/henningandersen","html_url":"https://github.com/henningandersen","followers_url":"https://api.github.com/users/henningandersen/followers","following_url":"https://api.github.com/users/henningandersen/following{/other_user}","gists_url":"https://api.github.com/users/henningandersen/gists{/gist_id}","starred_url":"https://api.github.com/users/henningandersen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/henningandersen/subscriptions","organizations_url":"https://api.github.com/users/henningandersen/orgs","repos_url":"https://api.github.com/users/henningandersen/repos","events_url":"https://api.github.com/users/henningandersen/events{/privacy}","received_events_url":"https://api.github.com/users/henningandersen/received_events","type":"User","site_admin":false},"assignees":[{"login":"henningandersen","id":33268011,"node_id":"MDQ6VXNlcjMzMjY4MDEx","avatar_url":"https://avatars2.githubusercontent.com/u/33268011?v=4","gravatar_id":"","url":"https://api.github.com/users/henningandersen","html_url":"https://github.com/henningandersen","followers_url":"https://api.github.com/users/henningandersen/followers","following_url":"https://api.github.com/users/henningandersen/following{/other_user}","gists_url":"https://api.github.com/users/henningandersen/gists{/gist_id}","starred_url":"https://api.github.com/users/henningandersen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/henningandersen/subscriptions","organizations_url":"https://api.github.com/users/henningandersen/orgs","repos_url":"https://api.github.com/users/henningandersen/repos","events_url":"https://api.github.com/users/henningandersen/events{/privacy}","received_events_url":"https://api.github.com/users/henningandersen/received_events","type":"User","site_admin":false}],"milestone":null,"comments":6,"created_at":"2019-07-18T12:57:13Z","updated_at":"2019-08-30T12:38:30Z","closed_at":"2019-08-30T12:38:30Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Intake build failed for branch 7.2:\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.2+intake/262/console\r\nLocally I could not reproduce this with following:\r\n```\r\n./gradlew :server:test --tests \"org.elasticsearch.action.search.TransportSearchActionTests.testCollectSearchShards\" -Dtests.seed=BCDB8CE0033546CE -Dtests.security.manager=true -Dtests.locale=es-PA -Dtests.timezone=America/Winnipeg -Dcompiler.java=12 -Druntime.java=8\r\n```\r\n\r\n```\r\n21:28:53 org.elasticsearch.action.search.TransportSearchActionTests > testCollectSearchShards FAILED\r\n21:28:53     java.lang.IllegalStateException: failed to connect to remote clusters\r\n21:28:53         at __randomizedtesting.SeedInfo.seed([BCDB8CE0033546CE:F2C42DA586FB716E]:0)\r\n21:28:53         at org.elasticsearch.transport.RemoteClusterService.initializeRemoteClusters(RemoteClusterService.java:432)\r\n21:28:53         at org.elasticsearch.transport.TransportService.doStart(TransportService.java:241)\r\n21:28:53         at org.elasticsearch.common.component.AbstractLifecycleComponent.start(AbstractLifecycleComponent.java:59)\r\n21:28:53         at org.elasticsearch.action.search.TransportSearchActionTests.testCollectSearchShards(TransportSearchActionTests.java:611)\r\n21:28:53 \r\n21:28:53         Caused by:\r\n21:28:53         java.util.concurrent.ExecutionException: ConnectTransportException[[][127.0.0.1:10308] connect_timeout[30s]]\r\n21:28:53             at org.elasticsearch.common.util.concurrent.BaseFuture$Sync.getValue(BaseFuture.java:266)\r\n21:28:53             at org.elasticsearch.common.util.concurrent.BaseFuture$Sync.get(BaseFuture.java:239)\r\n21:28:53             at org.elasticsearch.common.util.concurrent.BaseFuture.get(BaseFuture.java:65)\r\n21:28:53             at org.elasticsearch.transport.RemoteClusterService.initializeRemoteClusters(RemoteClusterService.java:426)\r\n21:28:53             ... 3 more\r\n21:28:53 \r\n21:28:53             Caused by:\r\n21:28:53             ConnectTransportException[[][127.0.0.1:10308] connect_timeout[30s]]\r\n```\r\n\r\nIn the past, this has failed but was reported in another issue: https://github.com/elastic/elasticsearch/issues/33852#issuecomment-500244184","closed_by":{"login":"henningandersen","id":33268011,"node_id":"MDQ6VXNlcjMzMjY4MDEx","avatar_url":"https://avatars2.githubusercontent.com/u/33268011?v=4","gravatar_id":"","url":"https://api.github.com/users/henningandersen","html_url":"https://github.com/henningandersen","followers_url":"https://api.github.com/users/henningandersen/followers","following_url":"https://api.github.com/users/henningandersen/following{/other_user}","gists_url":"https://api.github.com/users/henningandersen/gists{/gist_id}","starred_url":"https://api.github.com/users/henningandersen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/henningandersen/subscriptions","organizations_url":"https://api.github.com/users/henningandersen/orgs","repos_url":"https://api.github.com/users/henningandersen/repos","events_url":"https://api.github.com/users/henningandersen/events{/privacy}","received_events_url":"https://api.github.com/users/henningandersen/received_events","type":"User","site_admin":false},"performed_via_github_app":null}