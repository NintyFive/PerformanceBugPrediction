{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/10073","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10073/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10073/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10073/events","html_url":"https://github.com/elastic/elasticsearch/issues/10073","id":60845018,"node_id":"MDU6SXNzdWU2MDg0NTAxOA==","number":10073,"title":"Restarting node 1.4.4 cluster resulted in red state, with dangling indices","user":{"login":"rtoma","id":2914051,"node_id":"MDQ6VXNlcjI5MTQwNTE=","avatar_url":"https://avatars2.githubusercontent.com/u/2914051?v=4","gravatar_id":"","url":"https://api.github.com/users/rtoma","html_url":"https://github.com/rtoma","followers_url":"https://api.github.com/users/rtoma/followers","following_url":"https://api.github.com/users/rtoma/following{/other_user}","gists_url":"https://api.github.com/users/rtoma/gists{/gist_id}","starred_url":"https://api.github.com/users/rtoma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rtoma/subscriptions","organizations_url":"https://api.github.com/users/rtoma/orgs","repos_url":"https://api.github.com/users/rtoma/repos","events_url":"https://api.github.com/users/rtoma/events{/privacy}","received_events_url":"https://api.github.com/users/rtoma/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2015-03-12T16:15:02Z","updated_at":"2015-03-15T21:31:07Z","closed_at":"2015-03-12T18:55:08Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\n\nHow to recover from the following?\n\n```\ndangling index, exists on local file system, but not in cluster metadata,\nauto import to cluster state [YES]\n```\n\nThis morning (~6 hours ago) we restarted one node (not master). After restart the following was in the logging. Cluster is now in red state, because primary and replica shards are unassigned.\n\n```\n[2015-03-12 11:49:44,001][INFO ][gateway.local.state.meta ] [adm-logsearch-db-001.esprodata01] [logstash-adm-log4json-2015.01.26] dangling index, exists on local file system, but not in cluster metadata, auto import to cluster state [YES]\n[2015-03-12 11:49:44,002][INFO ][gateway.local.state.meta ] [adm-logsearch-db-001.esprodata01] [logstash-shd-apache-2015.02.26] dangling index, exists on local file system, but not in cluster metadata, auto import to cluster state [YES]\n[2015-03-12 11:49:44,004][INFO ][gateway.local.state.meta ] [adm-logsearch-db-001.esprodata01] [logstash-adm-apache-2015.01.26] dangling index, exists on local file system, but not in cluster metadata, auto import to cluster state [YES]\n[2015-03-12 11:49:44,004][INFO ][gateway.local.state.meta ] [adm-logsearch-db-001.esprodata01] [logstash-pro-log4j-2015.01.26] dangling index, exists on local file system, but not in cluster metadata, auto import to cluster state [YES]\n[2015-03-12 11:49:44,005][INFO ][gateway.local.state.meta ] [adm-logsearch-db-001.esprodata01] [logstash-xpr-squid-2015.02.26] dangling index, exists on local file system, but not in cluster metadata, auto import to cluster state [YES]\n[2015-03-12 11:49:44,005][INFO ][gateway.local.state.meta ] [adm-logsearch-db-001.esprodata01] [logstash-xpr-apache-2015.02.26] dangling index, exists on local file system, but not in cluster metadata, auto import to cluster state [YES]\n[2015-03-12 11:49:44,006][INFO ][gateway.local.state.meta ] [adm-logsearch-db-001.esprodata01] [logstash-shd-log4json-2015.02.26] dangling index, exists on local file system, but not in cluster metadata, auto import to cluster state [YES]\n[2015-03-12 11:49:44,007][INFO ][gateway.local.state.meta ] [adm-logsearch-db-001.esprodata01] [logstash-shd-squid-2015.02.26] dangling index, exists on local file system, but not in cluster metadata, auto import to cluster state [YES]\n[2015-03-12 11:49:44,007][INFO ][gateway.local.state.meta ] [adm-logsearch-db-001.esprodata01] [logstash-xpr-log4json-2015.02.26] dangling index, exists on local file system, but not in cluster metadata, auto import to cluster state [YES]\n[2015-03-12 11:49:44,008][INFO ][gateway.local.state.meta ] [adm-logsearch-db-001.esprodata01] [logstash-xpr-log4j-2015.02.26] dangling index, exists on local file system, but not in cluster metadata, auto import to cluster state [YES]\n[2015-03-12 11:49:44,008][INFO ][gateway.local.state.meta ] [adm-logsearch-db-001.esprodata01] [logstash-xpr-endeca-2015.02.26] dangling index, exists on local file system, but not in cluster metadata, auto import to cluster state [YES]\n[2015-03-12 11:49:44,009][INFO ][gateway.local.state.meta ] [adm-logsearch-db-001.esprodata01] [logstash-pro-endeca-2015.01.26] dangling index, exists on local file system, but not in cluster metadata, auto import to cluster state [YES]\n[2015-03-12 11:49:44,009][INFO ][gateway.local.state.meta ] [adm-logsearch-db-001.esprodata01] [logstash-xpr-oracle-2015.02.26] dangling index, exists on local file system, but not in cluster metadata, auto import to cluster state [YES]\n[2015-03-12 11:49:44,085][INFO ][http                     ] [adm-logsearch-db-001.esprodata01] bound_address {inet[/10.98.252.21:9200]}, publish_address {inet[/10.98.252.21:9200]}\n[2015-03-12 11:49:44,085][INFO ][node                     ] [adm-logsearch-db-001.esprodata01] started\n```\n\nPlease advice.\n","closed_by":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"performed_via_github_app":null}