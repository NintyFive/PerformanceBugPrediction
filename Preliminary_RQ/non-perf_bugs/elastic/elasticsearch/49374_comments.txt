[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/555991653","html_url":"https://github.com/elastic/elasticsearch/issues/49374#issuecomment-555991653","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49374","id":555991653,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTk5MTY1Mw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-11-20T12:55:16Z","updated_at":"2019-11-20T12:55:16Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra (:Core/Infra/Build)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/562356842","html_url":"https://github.com/elastic/elasticsearch/issues/49374#issuecomment-562356842","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49374","id":562356842,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MjM1Njg0Mg==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2019-12-05T23:00:37Z","updated_at":"2019-12-05T23:00:37Z","author_association":"MEMBER","body":"I opened https://github.com/elastic/elasticsearch/pull/49892 to improve the logging here so we can find what is failing.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/577368580","html_url":"https://github.com/elastic/elasticsearch/issues/49374#issuecomment-577368580","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49374","id":577368580,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NzM2ODU4MA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2020-01-22T20:22:27Z","updated_at":"2020-01-22T20:22:27Z","author_association":"MEMBER","body":"This hasn't reoccurred in the last month that I can find. Closing this for now.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/592572696","html_url":"https://github.com/elastic/elasticsearch/issues/49374#issuecomment-592572696","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49374","id":592572696,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjU3MjY5Ng==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2020-02-28T15:49:20Z","updated_at":"2020-02-28T15:49:20Z","author_association":"MEMBER","body":"This happened again today on 7.6 branch: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.6+multijob-unix-compatibility/os=ubuntu-18.04&&immutable/88/console . Seems like wildfly does fail to start?\r\n\r\n```\r\n11:45:12 2020-02-28 10:45:00,030 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (\"add\") failed - address: ([(\"interface\" => \"management\")]) - failure description: {\"WFLYCTL0080: Failed services\" => {\"org.wildfly.network.interface.management\" => \"java.net.SocketException: No such device (getFlags() failed)\r\n11:45:12     Caused by: java.net.SocketException: No such device (getFlags() failed)\"}}\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/592722441","html_url":"https://github.com/elastic/elasticsearch/issues/49374#issuecomment-592722441","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49374","id":592722441,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjcyMjQ0MQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2020-02-28T20:51:11Z","updated_at":"2020-02-28T20:51:11Z","author_association":"MEMBER","body":"I think this is happening because of Docker test fixtures running at the same time as this test. The issue is that those tests create Docker bridge devices which come and go as the tests setup and teardown. If other tests are running in parallel that try to loop over all devices, they will die when they hit one of these devices being removed at the same time. We've worked around this in other areas, but the failures here are in Wildfly, and not our code.\r\n\r\nI think that we can solve this by making this into a Docker test fixture, and use the official Wildfly image. We can then let Wildfly bind to its default ports and we don't have to have the port scanning code that we have anymore:\r\n\r\nhttps://github.com/elastic/elasticsearch/blob/401c75d8b5d8eec4275de9126ac1c0b6362d1c4a/qa/wildfly/build.gradle#L132-L164\r\n\r\nThis will massively simplify and clean up these tests, by modernizing them, as there is a lot of other code that we can remove there, such as the Ivy repository on top of the Wildfly download site, and the start and stop code.\r\n\r\n@pugnascotia will be picking this up.","performed_via_github_app":null}]