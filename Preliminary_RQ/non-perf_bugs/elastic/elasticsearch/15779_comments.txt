[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/169276349","html_url":"https://github.com/elastic/elasticsearch/issues/15779#issuecomment-169276349","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15779","id":169276349,"node_id":"MDEyOklzc3VlQ29tbWVudDE2OTI3NjM0OQ==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-01-06T09:32:02Z","updated_at":"2016-01-06T09:32:02Z","author_association":"MEMBER","body":"@haizaar to be clear - throwing away the transaction log means a likely data loss. In your case it's pretty much guaranteed (because of the translog generation your lucene index points at). I'm fine with having a way to allow users to confirm this loss and open the lucene index but we need to be clear about the implications. \n\nAlso note that usually another shard will be used to recover the primary.  This request is about having a way to recover where all copies have been lost or have corruptions, in the specific case that one of those corruptions is in the translog.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/170139418","html_url":"https://github.com/elastic/elasticsearch/issues/15779#issuecomment-170139418","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15779","id":170139418,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MDEzOTQxOA==","user":{"login":"haizaar","id":58201,"node_id":"MDQ6VXNlcjU4MjAx","avatar_url":"https://avatars1.githubusercontent.com/u/58201?v=4","gravatar_id":"","url":"https://api.github.com/users/haizaar","html_url":"https://github.com/haizaar","followers_url":"https://api.github.com/users/haizaar/followers","following_url":"https://api.github.com/users/haizaar/following{/other_user}","gists_url":"https://api.github.com/users/haizaar/gists{/gist_id}","starred_url":"https://api.github.com/users/haizaar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haizaar/subscriptions","organizations_url":"https://api.github.com/users/haizaar/orgs","repos_url":"https://api.github.com/users/haizaar/repos","events_url":"https://api.github.com/users/haizaar/events{/privacy}","received_events_url":"https://api.github.com/users/haizaar/received_events","type":"User","site_admin":false},"created_at":"2016-01-08T21:58:08Z","updated_at":"2016-01-08T21:58:08Z","author_association":"NONE","body":"Yes, I fully understand the implications. However if you ever get to this situation (no replicas and no adequate backups) I prefer to have a choice between full data loss (like it is now) and partial data loss. And I much prefer the partial one.\n\nI hope I read you right.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/170147062","html_url":"https://github.com/elastic/elasticsearch/issues/15779#issuecomment-170147062","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15779","id":170147062,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MDE0NzA2Mg==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-01-08T22:37:26Z","updated_at":"2016-01-08T22:37:26Z","author_association":"MEMBER","body":"> I hope I read you right.\n\nYou do :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/170148620","html_url":"https://github.com/elastic/elasticsearch/issues/15779#issuecomment-170148620","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15779","id":170148620,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MDE0ODYyMA==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-01-08T22:46:22Z","updated_at":"2016-01-08T22:46:22Z","author_association":"CONTRIBUTOR","body":"> I have an index with broken transaction log data. The data itself in the index appears to be fine as reported by Lucene tool. However ES 2.1.1 refuses to bring the index up because of broken translog.\n\nI am curious, you have yet another broken t-log? What's the problem this time?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/170203173","html_url":"https://github.com/elastic/elasticsearch/issues/15779#issuecomment-170203173","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15779","id":170203173,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MDIwMzE3Mw==","user":{"login":"haizaar","id":58201,"node_id":"MDQ6VXNlcjU4MjAx","avatar_url":"https://avatars1.githubusercontent.com/u/58201?v=4","gravatar_id":"","url":"https://api.github.com/users/haizaar","html_url":"https://github.com/haizaar","followers_url":"https://api.github.com/users/haizaar/followers","following_url":"https://api.github.com/users/haizaar/following{/other_user}","gists_url":"https://api.github.com/users/haizaar/gists{/gist_id}","starred_url":"https://api.github.com/users/haizaar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haizaar/subscriptions","organizations_url":"https://api.github.com/users/haizaar/orgs","repos_url":"https://api.github.com/users/haizaar/repos","events_url":"https://api.github.com/users/haizaar/events{/privacy}","received_events_url":"https://api.github.com/users/haizaar/received_events","type":"User","site_admin":false},"created_at":"2016-01-09T07:14:07Z","updated_at":"2016-01-09T16:04:19Z","author_association":"NONE","body":"No. I opened this bug as a spin off from the original discussion we had before.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/221043483","html_url":"https://github.com/elastic/elasticsearch/issues/15779#issuecomment-221043483","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15779","id":221043483,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTA0MzQ4Mw==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2016-05-23T17:46:48Z","updated_at":"2016-05-23T17:46:48Z","author_association":"MEMBER","body":"Coming back to this after working with someone who had a corrupt (though empty) translog and wanted to keep the data in the shard as it was the only copy (a single primary, no replica). I think we should either have a way to ignore a corrupted translog (with a ton of warnings and all that) or a tool that can put an empty translog in place so a shard can recover. Otherwise, it's frustrating in the case of accidental translog corruption or truncation to lose the entire shard's worth of data.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/221210738","html_url":"https://github.com/elastic/elasticsearch/issues/15779#issuecomment-221210738","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15779","id":221210738,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTIxMDczOA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-05-24T09:10:45Z","updated_at":"2016-05-24T09:10:45Z","author_association":"CONTRIBUTOR","body":"Agreed - we need a command line tool to perform expert operations such as this.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/348351312","html_url":"https://github.com/elastic/elasticsearch/issues/15779#issuecomment-348351312","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15779","id":348351312,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODM1MTMxMg==","user":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"created_at":"2017-11-30T23:12:27Z","updated_at":"2017-11-30T23:12:27Z","author_association":"MEMBER","body":"Implemented in https://github.com/elastic/elasticsearch/pull/19342.","performed_via_github_app":null}]