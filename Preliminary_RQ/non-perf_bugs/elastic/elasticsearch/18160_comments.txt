[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/217233937","html_url":"https://github.com/elastic/elasticsearch/issues/18160#issuecomment-217233937","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18160","id":217233937,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzIzMzkzNw==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-05-05T18:25:58Z","updated_at":"2016-05-16T13:25:12Z","author_association":"CONTRIBUTOR","body":"Running `gradle listConsoleCandidates` will spit out a list of snippets that maybe should be converted to `// AUTOSENSE`. I imagine it has a very very high false positive rate. If someone is so included, they can run it and convert what they can.\n\nIf we can get the false positive rate down to 0 then we can fail the build if this finds any snippets. _if_.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/217354355","html_url":"https://github.com/elastic/elasticsearch/issues/18160#issuecomment-217354355","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18160","id":217354355,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzM1NDM1NQ==","user":{"login":"geekpete","id":2070843,"node_id":"MDQ6VXNlcjIwNzA4NDM=","avatar_url":"https://avatars2.githubusercontent.com/u/2070843?v=4","gravatar_id":"","url":"https://api.github.com/users/geekpete","html_url":"https://github.com/geekpete","followers_url":"https://api.github.com/users/geekpete/followers","following_url":"https://api.github.com/users/geekpete/following{/other_user}","gists_url":"https://api.github.com/users/geekpete/gists{/gist_id}","starred_url":"https://api.github.com/users/geekpete/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geekpete/subscriptions","organizations_url":"https://api.github.com/users/geekpete/orgs","repos_url":"https://api.github.com/users/geekpete/repos","events_url":"https://api.github.com/users/geekpete/events{/privacy}","received_events_url":"https://api.github.com/users/geekpete/received_events","type":"User","site_admin":false},"created_at":"2016-05-06T06:01:43Z","updated_at":"2016-05-06T06:01:43Z","author_association":"MEMBER","body":"Hi nik9000, do you have any easy guide on how to assist with converting?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/217416815","html_url":"https://github.com/elastic/elasticsearch/issues/18160#issuecomment-217416815","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18160","id":217416815,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzQxNjgxNQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-05-06T11:29:31Z","updated_at":"2016-05-06T11:29:31Z","author_association":"CONTRIBUTOR","body":"The simplest thing to convert to `// AUTOSENSE` is `curl` commands because they are already complete commands.\n1. Remove the `curl -X` part. Sense doesn't need it.\n2. Remove the `localhost:9200/` part. Sense has the port and host configured.\n3. Remove the `-d'{` and put the opening `{` on the next line. Sense likes it there and the `-d'` is implied.\n4. Remove the closing `'`.\n5. If the source tag at the top of the snippet is `[source,sh]` or something switch it to `[source,js]`.\n\nNow that should just work with `// AUTOSENSE`. You can read `docs/README.md` for any of the extra test markup. Stuff like `// TESTRESPONSE` for matching the response and `// TEST[continued]` for continuing on from the last snippet.\n\nYou can test your changes by running `gradle :docs:check`. The first time you do it will take a while, just like any java build. The list of things it has to do before it can start and skips if they are already done is immense. From downloading dependencies to compiling Elasticsearch to transforming the `.asciidoc` files into tests.\n\nThere are places where we didn't write the whole API call but I think those are easier once you know the sense syntax.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/217417334","html_url":"https://github.com/elastic/elasticsearch/issues/18160#issuecomment-217417334","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18160","id":217417334,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzQxNzMzNA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-05-06T11:33:25Z","updated_at":"2016-05-06T11:33:25Z","author_association":"CONTRIBUTOR","body":"```\n* What went wrong:\nExecution failed for task ':docs:buildRestTests'.\n> Path shouldn't start with a '/': reference/search.asciidoc[20:27](js)// AUTOSENSE\n  POST /twitter/tweet?routing=kimchy\n  {\n    \"user\": \"kimchy\",\n    \"postDate\": \"2009-11-15T14:12:12\",\n    \"message\": \"trying out Elasticsearch\"\n  }\n```\n\nIt's perfectly fine for the path to start with a `/`.  In fact, I prefer it because it looks like a real path\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/217417842","html_url":"https://github.com/elastic/elasticsearch/issues/18160#issuecomment-217417842","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18160","id":217417842,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzQxNzg0Mg==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-05-06T11:37:03Z","updated_at":"2016-05-06T11:37:03Z","author_association":"CONTRIBUTOR","body":"> Remove the curl -X part. Sense doesn't need it.\n> Remove the localhost:9200/ part. Sense has the port and host configured.\n> Remove the -d'{ and put the opening { on the next line. Sense likes it there and the -d' is implied.\n> Remove the closing '.\n> If the source tag at the top of the snippet is [source,sh] or something switch it to [source,js].\n\nOr paste it into Sense, which should convert it to Sense syntax.  Then press Ctrl-I or Cmd-I to reformat.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/217418571","html_url":"https://github.com/elastic/elasticsearch/issues/18160#issuecomment-217418571","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18160","id":217418571,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzQxODU3MQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-05-06T11:42:20Z","updated_at":"2016-05-06T11:42:20Z","author_association":"CONTRIBUTOR","body":"> It's perfectly fine for the path to start with a /. In fact, I prefer it because it looks like a real path\n\nI didn't like their being two ways to do it and it looked like more than half of the docs did it sans-`/` so I picked that way. No one seemed to complain but maybe no one noticed?\n\nIf you really want to have the inconsistency back I can support that too.\n\n> Or paste it into Sense, which should convert it to Sense syntax. Then press Ctrl-I or Cmd-I to reformat.\n\nThe great irony of this is that I never use sense. I tried this morning and, of course, it didn't like that I was running on Elasticsearch's master branch and I hadn't built it from source. I don't have the patience nor the skill with javascript to run that from master too, I think.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/217419221","html_url":"https://github.com/elastic/elasticsearch/issues/18160#issuecomment-217419221","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18160","id":217419221,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzQxOTIyMQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-05-06T11:46:44Z","updated_at":"2016-05-06T11:46:44Z","author_association":"CONTRIBUTOR","body":"> If you really want to have the inconsistency back I can support that too.\n\nIf anything, I'd prefer the other way.  But I'm OK with the inconsistency\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/217435659","html_url":"https://github.com/elastic/elasticsearch/issues/18160#issuecomment-217435659","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18160","id":217435659,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzQzNTY1OQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-05-06T13:11:23Z","updated_at":"2016-05-06T13:11:23Z","author_association":"CONTRIBUTOR","body":"@clintongormley I created #18184 for it.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/217820189","html_url":"https://github.com/elastic/elasticsearch/issues/18160#issuecomment-217820189","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18160","id":217820189,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzgyMDE4OQ==","user":{"login":"MaineC","id":70953,"node_id":"MDQ6VXNlcjcwOTUz","avatar_url":"https://avatars3.githubusercontent.com/u/70953?v=4","gravatar_id":"","url":"https://api.github.com/users/MaineC","html_url":"https://github.com/MaineC","followers_url":"https://api.github.com/users/MaineC/followers","following_url":"https://api.github.com/users/MaineC/following{/other_user}","gists_url":"https://api.github.com/users/MaineC/gists{/gist_id}","starred_url":"https://api.github.com/users/MaineC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaineC/subscriptions","organizations_url":"https://api.github.com/users/MaineC/orgs","repos_url":"https://api.github.com/users/MaineC/repos","events_url":"https://api.github.com/users/MaineC/events{/privacy}","received_events_url":"https://api.github.com/users/MaineC/received_events","type":"User","site_admin":false},"created_at":"2016-05-09T09:40:40Z","updated_at":"2016-05-09T09:40:40Z","author_association":"CONTRIBUTOR","body":"@nik9000 How deep do we want those tests to be? TESTRESPONSE seems to be present only in a couple of documents.\n\nConcrete example: For the query dsl docs - should there be more than just the AUTOSENSE annotation to include them in the test run so parse failures are caught?\n\nAnother questions: Should we/ do we barf in case there's deprecated stuff in those snippets?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/217852709","html_url":"https://github.com/elastic/elasticsearch/issues/18160#issuecomment-217852709","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18160","id":217852709,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzg1MjcwOQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-05-09T12:38:03Z","updated_at":"2016-05-09T12:38:03Z","author_association":"CONTRIBUTOR","body":"> @nik9000 How deep do we want those tests to be? TESTRESPONSE seems to be present only in a couple of documents.\n\nI don't know. Just trying to run the query at all is a huge improvement over what we have. As a first pass I'd just `// AUTOSENSE`ify all of them.\n\nIf we want to go deeper we can use the `// TEST[setup:name_of_data_set]` markup to reference a dataset defined in `docs/build.gradle` and have that run before the snippet. Then you can make a `// TESTRESPONSE`.\n\nIn my first pass I was just trying to convert what we had, inventing syntax along the way. I just tried to pick up all the `// AUTOSENSE` stuff and do sensible things with the snippets that looked like responses. I don't know what the final state should be.\n\n> Another questions: Should we/ do we barf in case there's deprecated stuff in those snippets?\n\nYes we should. No we don't.\n\nI don't know that Elasticsearch has a parameter to reject deprecated stuff. If not we should invent a parameter and make a big deal out of it because it seems really useful. And all the snippets should send that parameter by default. I think some snippets will talk about deprecated syntax and we can make `// TEST[deprecated]` or something to allow the snippet to send deprecated syntax.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/217855749","html_url":"https://github.com/elastic/elasticsearch/issues/18160#issuecomment-217855749","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18160","id":217855749,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzg1NTc0OQ==","user":{"login":"MaineC","id":70953,"node_id":"MDQ6VXNlcjcwOTUz","avatar_url":"https://avatars3.githubusercontent.com/u/70953?v=4","gravatar_id":"","url":"https://api.github.com/users/MaineC","html_url":"https://github.com/MaineC","followers_url":"https://api.github.com/users/MaineC/followers","following_url":"https://api.github.com/users/MaineC/following{/other_user}","gists_url":"https://api.github.com/users/MaineC/gists{/gist_id}","starred_url":"https://api.github.com/users/MaineC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaineC/subscriptions","organizations_url":"https://api.github.com/users/MaineC/orgs","repos_url":"https://api.github.com/users/MaineC/repos","events_url":"https://api.github.com/users/MaineC/events{/privacy}","received_events_url":"https://api.github.com/users/MaineC/received_events","type":"User","site_admin":false},"created_at":"2016-05-09T12:52:46Z","updated_at":"2016-05-09T12:52:46Z","author_association":"CONTRIBUTOR","body":"> I don't know. Just trying to run the query at all is a huge improvement over what we have. As a \n> first pass I'd just // AUTOSENSEify all of them.\n\nThat's what I'm currently doing for the query-dsl docs (went through them about half a year ago already when switching the parsing code to ParseField, the more complicated json snippets ended up as *fromJSON tests in the *QueryBuilder Java tests back then, so I should recognize most of the issues I run into while going along)\n\n> I don't know that Elasticsearch has a parameter to reject deprecated stuff.\n\nFor parsing queries through ParseField there is an option called \"index.query.parse.strict\" that will fail to parse deprecated json parameters with an exception.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/217856546","html_url":"https://github.com/elastic/elasticsearch/issues/18160#issuecomment-217856546","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18160","id":217856546,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzg1NjU0Ng==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-05-09T12:56:27Z","updated_at":"2016-05-09T12:56:27Z","author_association":"CONTRIBUTOR","body":"> For parsing queries through ParseField there is an option called \"index.query.parse.strict\" that will fail to parse deprecated json parameters with an exception.\n\nCool! Is that at the index level? I'd love something at the request level for this though I haven't looked at how hard it'd be to implement. And it'd be great if it were global including stuff like detecting deprecated mappings and stuff. It is the kind of thing we could have a lively discussion with @clintongormley about, I think.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/217858425","html_url":"https://github.com/elastic/elasticsearch/issues/18160#issuecomment-217858425","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18160","id":217858425,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzg1ODQyNQ==","user":{"login":"MaineC","id":70953,"node_id":"MDQ6VXNlcjcwOTUz","avatar_url":"https://avatars3.githubusercontent.com/u/70953?v=4","gravatar_id":"","url":"https://api.github.com/users/MaineC","html_url":"https://github.com/MaineC","followers_url":"https://api.github.com/users/MaineC/followers","following_url":"https://api.github.com/users/MaineC/following{/other_user}","gists_url":"https://api.github.com/users/MaineC/gists{/gist_id}","starred_url":"https://api.github.com/users/MaineC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaineC/subscriptions","organizations_url":"https://api.github.com/users/MaineC/orgs","repos_url":"https://api.github.com/users/MaineC/repos","events_url":"https://api.github.com/users/MaineC/events{/privacy}","received_events_url":"https://api.github.com/users/MaineC/received_events","type":"User","site_admin":false},"created_at":"2016-05-09T13:04:55Z","updated_at":"2016-05-09T13:04:55Z","author_association":"CONTRIBUTOR","body":"#17512 is related to this setting.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/217859014","html_url":"https://github.com/elastic/elasticsearch/issues/18160#issuecomment-217859014","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18160","id":217859014,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzg1OTAxNA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-05-09T13:07:33Z","updated_at":"2016-05-09T13:07:33Z","author_association":"CONTRIBUTOR","body":"Lol, I should remember my own issues.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/219424500","html_url":"https://github.com/elastic/elasticsearch/issues/18160#issuecomment-219424500","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18160","id":219424500,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTQyNDUwMA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-05-16T13:28:13Z","updated_at":"2016-05-16T13:28:13Z","author_association":"CONTRIBUTOR","body":"@clintongormley, you mentioned to me that you planned to rewrite some areas of the docs soon and would get to this as part of the rewrite. Like #18356. Anyway, do you have a list of places you plan to rewrite or a list of places you know you won't rewrite?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/219652819","html_url":"https://github.com/elastic/elasticsearch/issues/18160#issuecomment-219652819","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18160","id":219652819,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTY1MjgxOQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-05-17T08:29:17Z","updated_at":"2016-05-17T08:29:17Z","author_association":"CONTRIBUTOR","body":"> Anyway, do you have a list of places you plan to rewrite or a list of places you know you won't rewrite?\n\nMappings I won't rewrite (or only a little).  Nor cluster and index settings.  Analysis is in progress.  That's about it - other docs I'll redo as I have the time\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/219683716","html_url":"https://github.com/elastic/elasticsearch/issues/18160#issuecomment-219683716","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18160","id":219683716,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTY4MzcxNg==","user":{"login":"MaineC","id":70953,"node_id":"MDQ6VXNlcjcwOTUz","avatar_url":"https://avatars3.githubusercontent.com/u/70953?v=4","gravatar_id":"","url":"https://api.github.com/users/MaineC","html_url":"https://github.com/MaineC","followers_url":"https://api.github.com/users/MaineC/followers","following_url":"https://api.github.com/users/MaineC/following{/other_user}","gists_url":"https://api.github.com/users/MaineC/gists{/gist_id}","starred_url":"https://api.github.com/users/MaineC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaineC/subscriptions","organizations_url":"https://api.github.com/users/MaineC/orgs","repos_url":"https://api.github.com/users/MaineC/repos","events_url":"https://api.github.com/users/MaineC/events{/privacy}","received_events_url":"https://api.github.com/users/MaineC/received_events","type":"User","site_admin":false},"created_at":"2016-05-17T10:50:45Z","updated_at":"2016-05-17T10:50:45Z","author_association":"CONTRIBUTOR","body":"Am I the only one having trouble to run `gradle :docs:check` even on master at the moment?\n\nRunning into a \n\n```\n==> Test Info: seed=FA5BECA4868DAF99; jvm=1; suite=1\nSuite: org.elasticsearch.smoketest.SmokeTestDocsIT\nERROR   0.01s | SmokeTestDocsIT.initializationError <<< FAILURES!\n   > Throwable #1: java.lang.IllegalArgumentException: Negative position\n   >    at sun.nio.ch.FileChannelImpl.read(FileChannelImpl.java:717)\n   >    at org.elasticsearch.test.rest.parser.RestTestSuiteParser.parse(RestTestSuiteParser.java:54)\n   >    at org.elasticsearch.test.rest.ESRestTestCase.collectTestCandidates(ESRestTestCase.java:171)\n   >    at org.elasticsearch.test.rest.ESRestTestCase.createParameters(ESRestTestCase.java:148)\n   >    at org.elasticsearch.smoketest.SmokeTestDocsIT.parameters(SmokeTestDocsIT.java:40)\n   >    at java.lang.reflect.Constructor.newInstance(Constructor.java:422)\nCompleted [1/1] in 0.01s, 1 test, 1 error <<< FAILURES!\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/219696315","html_url":"https://github.com/elastic/elasticsearch/issues/18160#issuecomment-219696315","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18160","id":219696315,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTY5NjMxNQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-05-17T11:56:43Z","updated_at":"2016-05-17T11:56:43Z","author_association":"CONTRIBUTOR","body":"Clint had that a while back and needed to `gradle docs:clean` though I\ndon't know what caused it.\nOn May 17, 2016 6:50 AM, \"Isabel Drost-Fromm\" notifications@github.com\nwrote:\n\n> Am I the only one having trouble to run gradle :docs:check even on master\n> at the moment?\n> \n> Running into a\n> \n> ==> Test Info: seed=FA5BECA4868DAF99; jvm=1; suite=1\n> Suite: org.elasticsearch.smoketest.SmokeTestDocsIT\n> ERROR   0.01s | SmokeTestDocsIT.initializationError <<< FAILURES!\n> \n> > Throwable #1: java.lang.IllegalArgumentException: Negative position\n> >    at sun.nio.ch.FileChannelImpl.read(FileChannelImpl.java:717)\n> >    at org.elasticsearch.test.rest.parser.RestTestSuiteParser.parse(RestTestSuiteParser.java:54)\n> >    at org.elasticsearch.test.rest.ESRestTestCase.collectTestCandidates(ESRestTestCase.java:171)\n> >    at org.elasticsearch.test.rest.ESRestTestCase.createParameters(ESRestTestCase.java:148)\n> >    at org.elasticsearch.smoketest.SmokeTestDocsIT.parameters(SmokeTestDocsIT.java:40)\n> >    at java.lang.reflect.Constructor.newInstance(Constructor.java:422)\n> > Completed [1/1] in 0.01s, 1 test, 1 error <<< FAILURES!\n> \n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly or view it on GitHub\n> https://github.com/elastic/elasticsearch/issues/18160#issuecomment-219683716\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/219783240","html_url":"https://github.com/elastic/elasticsearch/issues/18160#issuecomment-219783240","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18160","id":219783240,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTc4MzI0MA==","user":{"login":"MaineC","id":70953,"node_id":"MDQ6VXNlcjcwOTUz","avatar_url":"https://avatars3.githubusercontent.com/u/70953?v=4","gravatar_id":"","url":"https://api.github.com/users/MaineC","html_url":"https://github.com/MaineC","followers_url":"https://api.github.com/users/MaineC/followers","following_url":"https://api.github.com/users/MaineC/following{/other_user}","gists_url":"https://api.github.com/users/MaineC/gists{/gist_id}","starred_url":"https://api.github.com/users/MaineC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaineC/subscriptions","organizations_url":"https://api.github.com/users/MaineC/orgs","repos_url":"https://api.github.com/users/MaineC/repos","events_url":"https://api.github.com/users/MaineC/events{/privacy}","received_events_url":"https://api.github.com/users/MaineC/received_events","type":"User","site_admin":false},"created_at":"2016-05-17T16:58:52Z","updated_at":"2016-05-17T16:58:52Z","author_association":"CONTRIBUTOR","body":"That did the trick for me. Thanks.\n\nAnother question: Is it possible to limit test execution to just one doc file? That might speed up finding typos a bit when converting doc files with several snippets which look easy enough to not require trying each one of them separately.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/219906932","html_url":"https://github.com/elastic/elasticsearch/issues/18160#issuecomment-219906932","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18160","id":219906932,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTkwNjkzMg==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-05-18T02:12:42Z","updated_at":"2016-05-18T02:12:42Z","author_association":"CONTRIBUTOR","body":"> Is it possible to limit test execution to just one doc file\n\n`-Dtests.method=\"*file_name*\"` is what I've been doing.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/240413378","html_url":"https://github.com/elastic/elasticsearch/issues/18160#issuecomment-240413378","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18160","id":240413378,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MDQxMzM3OA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-08-17T13:38:35Z","updated_at":"2016-08-17T13:38:35Z","author_association":"CONTRIBUTOR","body":"I just checked. We currently run 553 docs tests and we have about 970 snippets in the docs that `gradle docs:listConsoleCandidates` thinks should be converted. I'm fairly sure it is over counting though I don't know by how much. We have more than a third but less than half of the snippets tested at this point.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/248643394","html_url":"https://github.com/elastic/elasticsearch/issues/18160#issuecomment-248643394","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18160","id":248643394,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODY0MzM5NA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-09-21T15:13:53Z","updated_at":"2016-09-21T15:13:53Z","author_association":"CONTRIBUTOR","body":"Removing the `v5.0.0` label because this isn't going to make 5.0.0. There are ~730 unconverted snippets.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/248756813","html_url":"https://github.com/elastic/elasticsearch/issues/18160#issuecomment-248756813","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18160","id":248756813,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODc1NjgxMw==","user":{"login":"geekpete","id":2070843,"node_id":"MDQ6VXNlcjIwNzA4NDM=","avatar_url":"https://avatars2.githubusercontent.com/u/2070843?v=4","gravatar_id":"","url":"https://api.github.com/users/geekpete","html_url":"https://github.com/geekpete","followers_url":"https://api.github.com/users/geekpete/followers","following_url":"https://api.github.com/users/geekpete/following{/other_user}","gists_url":"https://api.github.com/users/geekpete/gists{/gist_id}","starred_url":"https://api.github.com/users/geekpete/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geekpete/subscriptions","organizations_url":"https://api.github.com/users/geekpete/orgs","repos_url":"https://api.github.com/users/geekpete/repos","events_url":"https://api.github.com/users/geekpete/events{/privacy}","received_events_url":"https://api.github.com/users/geekpete/received_events","type":"User","site_admin":false},"created_at":"2016-09-21T22:05:16Z","updated_at":"2016-09-21T22:05:16Z","author_association":"MEMBER","body":"If we went totally crazy on it, do you rekon we could smash through those snippets?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/248759343","html_url":"https://github.com/elastic/elasticsearch/issues/18160#issuecomment-248759343","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18160","id":248759343,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODc1OTM0Mw==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-09-21T22:17:35Z","updated_at":"2016-09-21T22:17:35Z","author_association":"CONTRIBUTOR","body":"I'm not sure really. I know a pile of the snippets come from aggregations and for those it really helps to have the right set of data. I did a bunch of the pipeline aggregations ones and made a little data set in `docs/build.gradle` that matched well and everything worked out well.\n\nI reckon we could split them up and say like \"you do the `_cat` snippets, you do the aggregation snippets, you do the query snippets, etc\" and after a couple of days work for a few people in parallel we could knock them out.\n\nI try to knock out a few every few days, but at that rate it is going to take a while.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/338441920","html_url":"https://github.com/elastic/elasticsearch/issues/18160#issuecomment-338441920","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18160","id":338441920,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODQ0MTkyMA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2017-10-22T00:29:56Z","updated_at":"2017-10-22T00:29:56Z","author_association":"CONTRIBUTOR","body":"@tlrx Finished this in 643eb286dcb18b4f2b59c0f5b3a554ffd2b35ca2. Thanks everyone doing all this work! 🍰 ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/338443931","html_url":"https://github.com/elastic/elasticsearch/issues/18160#issuecomment-338443931","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18160","id":338443931,"node_id":"MDEyOklzc3VlQ29tbWVudDMzODQ0MzkzMQ==","user":{"login":"geekpete","id":2070843,"node_id":"MDQ6VXNlcjIwNzA4NDM=","avatar_url":"https://avatars2.githubusercontent.com/u/2070843?v=4","gravatar_id":"","url":"https://api.github.com/users/geekpete","html_url":"https://github.com/geekpete","followers_url":"https://api.github.com/users/geekpete/followers","following_url":"https://api.github.com/users/geekpete/following{/other_user}","gists_url":"https://api.github.com/users/geekpete/gists{/gist_id}","starred_url":"https://api.github.com/users/geekpete/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geekpete/subscriptions","organizations_url":"https://api.github.com/users/geekpete/orgs","repos_url":"https://api.github.com/users/geekpete/repos","events_url":"https://api.github.com/users/geekpete/events{/privacy}","received_events_url":"https://api.github.com/users/geekpete/received_events","type":"User","site_admin":false},"created_at":"2017-10-22T01:27:21Z","updated_at":"2017-10-22T01:27:21Z","author_association":"MEMBER","body":"Amazing effort! Awesome.\n\nOn 22 Oct 2017 10:30 a.m., \"Nik Everett\" <notifications@github.com> wrote:\n\n> @tlrx <https://github.com/tlrx> Finished this in 643eb28\n> <https://github.com/elastic/elasticsearch/commit/643eb286dcb18b4f2b59c0f5b3a554ffd2b35ca2>.\n> Thanks everyone doing all this work! 🍰\n>\n> —\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/elastic/elasticsearch/issues/18160#issuecomment-338441920>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AB-ZO7XdtGmbsYsqs2M3NInv6-vGKEgXks5suoyzgaJpZM4IYP5M>\n> .\n>\n","performed_via_github_app":null}]