{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/48508","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48508/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48508/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48508/events","html_url":"https://github.com/elastic/elasticsearch/issues/48508","id":512403258,"node_id":"MDU6SXNzdWU1MTI0MDMyNTg=","number":48508,"title":"Setting to whitelist allowed licenses","user":{"login":"bytebilly","id":52658645,"node_id":"MDQ6VXNlcjUyNjU4NjQ1","avatar_url":"https://avatars0.githubusercontent.com/u/52658645?v=4","gravatar_id":"","url":"https://api.github.com/users/bytebilly","html_url":"https://github.com/bytebilly","followers_url":"https://api.github.com/users/bytebilly/followers","following_url":"https://api.github.com/users/bytebilly/following{/other_user}","gists_url":"https://api.github.com/users/bytebilly/gists{/gist_id}","starred_url":"https://api.github.com/users/bytebilly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bytebilly/subscriptions","organizations_url":"https://api.github.com/users/bytebilly/orgs","repos_url":"https://api.github.com/users/bytebilly/repos","events_url":"https://api.github.com/users/bytebilly/events{/privacy}","received_events_url":"https://api.github.com/users/bytebilly/received_events","type":"User","site_admin":false},"labels":[{"id":912841668,"node_id":"MDU6TGFiZWw5MTI4NDE2Njg=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Security/License","name":":Security/License","color":"0e8a16","default":false,"description":"License functionality for commercial features"},{"id":23172,"node_id":"MDU6TGFiZWwyMzE3Mg==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Efeature","name":">feature","color":"006b75","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-10-25T09:21:27Z","updated_at":"2020-01-15T20:39:19Z","closed_at":"2019-12-10T05:46:08Z","author_association":"NONE","active_lock_reason":null,"body":"# Description\r\n\r\nWe want to introduce a new Elasticsearch setting to define which are the licenses that can be used in a specific cluster.\r\n\r\nThe main goal is to allow external coordinators (like ECK or ECE) to control which license can be installed on clusters that are centrally managed, and to avoid that inconsistent licenses are manually installed using direct access to the cluster.\r\n\r\n# Proposal\r\n\r\nIntroduce the new setting and perform the check on the license type when a new license is sent via [Update license API](https://www.elastic.co/guide/en/elasticsearch/reference/current/update-license.html).\r\n\r\nThe setting name is `xpack.license.upload.types`.\r\n\r\nThe value is a list of possible license types.\r\nThe supported use case is what is needed by Cloud, so `trial,enterprise`\r\n\r\nThe default value for this setting (if not set) is to allow any license to be used.\r\n\r\n# Questions\r\n\r\n1. ~~Is it defined in `elasticsearch.yml`?~~ — YES\r\n1. ~~Can it be updated via setting via API?~~ — NO\r\n1. ~~Will the check happen also on bootstrap?~~ — NO","closed_by":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"performed_via_github_app":null}