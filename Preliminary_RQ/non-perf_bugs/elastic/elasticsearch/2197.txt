{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/2197","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2197/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2197/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2197/events","html_url":"https://github.com/elastic/elasticsearch/issues/2197","id":6395750,"node_id":"MDU6SXNzdWU2Mzk1NzUw","number":2197,"title":"IndexMissingException when calling _mlt on client node","user":{"login":"madlep","id":27223,"node_id":"MDQ6VXNlcjI3MjIz","avatar_url":"https://avatars3.githubusercontent.com/u/27223?v=4","gravatar_id":"","url":"https://api.github.com/users/madlep","html_url":"https://github.com/madlep","followers_url":"https://api.github.com/users/madlep/followers","following_url":"https://api.github.com/users/madlep/following{/other_user}","gists_url":"https://api.github.com/users/madlep/gists{/gist_id}","starred_url":"https://api.github.com/users/madlep/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/madlep/subscriptions","organizations_url":"https://api.github.com/users/madlep/orgs","repos_url":"https://api.github.com/users/madlep/repos","events_url":"https://api.github.com/users/madlep/events{/privacy}","received_events_url":"https://api.github.com/users/madlep/received_events","type":"User","site_admin":false},"labels":[{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":12291478,"node_id":"MDU6TGFiZWwxMjI5MTQ3OA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v0.19.10","name":"v0.19.10","color":"DDDDDD","default":false,"description":null},{"id":232920,"node_id":"MDU6TGFiZWwyMzI5MjA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v0.20.0.RC1","name":"v0.20.0.RC1","color":"DDDDDD","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2012-08-23T02:06:30Z","updated_at":"2012-08-25T03:58:32Z","closed_at":"2012-08-24T21:52:00Z","author_association":"NONE","active_lock_reason":null,"body":"I think I've found a bug with ElasticSearch with _mlt and node clients.\n\nWe're running 0.19.8.\n\nWe have two data nodes and each app server has its own ES instance running in node client mode. Searches and normal document GETs work fine, however when running _mlt on a client node, I get an IndexMissingException. The exact same query works fine on the data node. I suspect _mlt is only checking the local _mlt\n\nTo sum it up:\n\nOn data node:\n$ curl http://localhost:9200/foo/bar/1 # Works\n$ curl http://localhost:9200/foo/bar/1/_mlt # Works\n\nOn client node:\n$ curl http://localhost:9200/foo/bar/1 # Works\n$ curl http://localhost:9200/foo/bar/1/_mlt # Fails with IndexMissingException\n\nFull gist showing curl verbose output at https://gist.github.com/3431254\n\nOriginally raised on group at https://groups.google.com/forum/#!starred/elasticsearch/iFGSXu1e77Q\n","closed_by":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"performed_via_github_app":null}