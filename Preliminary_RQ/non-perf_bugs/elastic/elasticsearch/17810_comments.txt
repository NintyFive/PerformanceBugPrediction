[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/211001382","html_url":"https://github.com/elastic/elasticsearch/issues/17810#issuecomment-211001382","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17810","id":211001382,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMTAwMTM4Mg==","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2016-04-17T11:09:04Z","updated_at":"2016-04-17T11:09:04Z","author_association":"CONTRIBUTOR","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/217110224","html_url":"https://github.com/elastic/elasticsearch/issues/17810#issuecomment-217110224","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17810","id":217110224,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzExMDIyNA==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-05-05T09:18:36Z","updated_at":"2016-05-05T09:18:36Z","author_association":"CONTRIBUTOR","body":"+100 make this a blocker\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/217110258","html_url":"https://github.com/elastic/elasticsearch/issues/17810#issuecomment-217110258","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17810","id":217110258,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzExMDI1OA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-05-05T09:18:52Z","updated_at":"2016-05-05T09:18:52Z","author_association":"CONTRIBUTOR","body":"We could use the cluster UUID instead of the cluster name same as we do for indices now.  We should also provide a command line tool to allow renaming clusters and indices.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/217110453","html_url":"https://github.com/elastic/elasticsearch/issues/17810#issuecomment-217110453","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17810","id":217110453,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzExMDQ1Mw==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-05-05T09:20:15Z","updated_at":"2016-05-05T09:20:15Z","author_association":"CONTRIBUTOR","body":"yeah I mean that is the ultimate solution just don't use it anywhere outside of the system. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/219965131","html_url":"https://github.com/elastic/elasticsearch/issues/17810#issuecomment-219965131","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17810","id":219965131,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTk2NTEzMQ==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-05-18T08:52:09Z","updated_at":"2016-05-18T08:52:09Z","author_association":"MEMBER","body":"we discussed it some more and I think I summarize things with:\n\n1) One option is to limit cluster names to be pure ascii. Down side here is the BWC breakage (people who's cluster names are non-ascii, will need to re-configure and change folder names). The up side is the simplicity and the transparency - a common mistake in training is to start ES twice, one normally and one with a non-default cluster name). Looking at the data folder immediately shows what's wrong and what people should do.\n2) Another solution is to use the cluster_uuid as a top level folder name. This would mean people are free to choose whatever they want as a cluster name. The down side is that it produces a chicken-and-egg issues:\n- in order to use the right data folder, a new node needs to first join the cluster to get it's uuid. This means we can't persist anything /create folders before we join. \n- Existing nodes can scan their data folders to find one that has the right cluster name internally in it's _state file. This adds complexity and ambiguity \n  - what happens if we find two matching folders? (we can probably not start, but then the user needs to choose, meaning they need tooling to see which one is goog).\n  - what happens if a node joins the cluster after having written stuff/read stuff to it's data folder (for example, we plan to write some persistent node id in there, which is needed on join), only to discover that the cluster has another uuid than the folder used locally.\n\nPersonally, I see the reason to have an \"opaque\" identifier for a cluster, but I'm not sure it's worth the complexity.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/220568052","html_url":"https://github.com/elastic/elasticsearch/issues/17810#issuecomment-220568052","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17810","id":220568052,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDU2ODA1Mg==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-05-20T10:11:02Z","updated_at":"2016-05-20T10:11:02Z","author_association":"CONTRIBUTOR","body":"Discussed in FixItFriday - there's no need to have the cluster name as a directory at all.  If you want multiple clusters in the same mount point, then just change the `path.data`.\n\nOn startup, we should check the data path for any folder other than `nodes`. If any exists, then we should fail hard and tell the user to either: (1) move the `cluster/nodes` up to the top level or (2) change the `path.data` setting.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/220568608","html_url":"https://github.com/elastic/elasticsearch/issues/17810#issuecomment-220568608","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17810","id":220568608,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDU2ODYwOA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-05-20T10:13:27Z","updated_at":"2016-05-20T10:13:27Z","author_association":"CONTRIBUTOR","body":"The data path can also be set as `path.data = /path/to/data/${cluster.name}`\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/220641055","html_url":"https://github.com/elastic/elasticsearch/issues/17810#issuecomment-220641055","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17810","id":220641055,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDY0MTA1NQ==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2016-05-20T15:40:22Z","updated_at":"2016-05-20T15:40:22Z","author_association":"MEMBER","body":"We'll also need to check for the (extremely rare) case where someone has named their cluster \"nodes\" and act accordingly.\n","performed_via_github_app":null}]