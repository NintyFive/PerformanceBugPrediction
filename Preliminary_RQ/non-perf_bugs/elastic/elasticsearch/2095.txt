{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/2095","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2095/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2095/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2095/events","html_url":"https://github.com/elastic/elasticsearch/issues/2095","id":5525172,"node_id":"MDU6SXNzdWU1NTI1MTcy","number":2095,"title":"Highlighters (both kinds) break when phrase query has stop words","user":{"login":"konklone","id":4592,"node_id":"MDQ6VXNlcjQ1OTI=","avatar_url":"https://avatars0.githubusercontent.com/u/4592?v=4","gravatar_id":"","url":"https://api.github.com/users/konklone","html_url":"https://github.com/konklone","followers_url":"https://api.github.com/users/konklone/followers","following_url":"https://api.github.com/users/konklone/following{/other_user}","gists_url":"https://api.github.com/users/konklone/gists{/gist_id}","starred_url":"https://api.github.com/users/konklone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/konklone/subscriptions","organizations_url":"https://api.github.com/users/konklone/orgs","repos_url":"https://api.github.com/users/konklone/repos","events_url":"https://api.github.com/users/konklone/events{/privacy}","received_events_url":"https://api.github.com/users/konklone/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2012-07-10T15:07:27Z","updated_at":"2016-11-10T13:12:52Z","closed_at":"2014-07-08T15:33:24Z","author_association":"NONE","active_lock_reason":null,"body":"When a phrase query with a stop word in it is used, the highlighting breaks in different ways, depending on whether the plain or term vector highlighter is used.\n\nThe plain highlighter does strange things to the result - in my example, it split the excerpt in two and lists them in reverse order.\n\nThe term vector simply returns no highlight fragment at all. It seems like it knows enough to match the phrase, but when going to highlight it just subtracts the stop-word from the pattern it's using to find the excerpt.\n\nI have a recreation of both examples here:\nhttps://gist.github.com/3083891\n\nThis is similar to #1986, but I'm focusing just on the end result, not on suggesting a way to switch which highlighter is used.\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}