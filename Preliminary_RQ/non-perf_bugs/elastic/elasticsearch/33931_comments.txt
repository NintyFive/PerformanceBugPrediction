[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/423439859","html_url":"https://github.com/elastic/elasticsearch/issues/33931#issuecomment-423439859","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33931","id":423439859,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMzQzOTg1OQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-09-21T07:24:25Z","updated_at":"2018-09-21T07:24:25Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/423612991","html_url":"https://github.com/elastic/elasticsearch/issues/33931#issuecomment-423612991","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33931","id":423612991,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMzYxMjk5MQ==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2018-09-21T17:26:46Z","updated_at":"2018-09-21T17:26:46Z","author_association":"MEMBER","body":"+1","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/423763368","html_url":"https://github.com/elastic/elasticsearch/issues/33931#issuecomment-423763368","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33931","id":423763368,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMzc2MzM2OA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-09-22T18:19:19Z","updated_at":"2018-09-22T18:21:37Z","author_association":"MEMBER","body":"I think that `follow` should appear in the `start` and `stop` APIs. When I look at the endpoints `/{index}/_ccr/start` and `/{index}/_ccr/stop` I think we should be explicit about what is being started and stopped, namely following, otherwise I think the intent is not clear. Thus, I think that `follow` should appear in these endpoints:\r\n - `/{index}/_ccr/start_follow`\r\n - `/{index}/_ccr/stop_follow`\r\n\r\nAdditionally, I am not sure if `start` and `stop` are the right verbs. I think of `start` as beginning following as opposed to resuming following which this endpoint can be used for. Maybe these endpoints should be:\r\n - `/{index}/_ccr/resume_follow`\r\n - `/{index}/_ccr/pause_follow`\r\n\r\nNext, maybe `create_and_follow` does not need to be so verbose. How about simply `follow` with the semantics that it creates the index and starts following? I realize this is slightly contrary to my point in the previous API where I felt that we needed to be explicit about what we are starting and stopping, but I don't see the need to be explicit that we are creating the index here in the verbs in the API, I think we can get away with just `follow`. Then we have a nice symmetry:\r\n - follow API\r\n - unfollow API\r\n - pause follow API\r\n - resume follow API\r\n\r\nwith endpoints:\r\n - `/{index}/_ccr/follow`\r\n - `/{index}/_ccr/unfollow`\r\n - `/{index}/_ccr/pause_follow`\r\n - `/{index}/_ccr/resume_follow`\r\n\r\nWhat do you think @bleskes @dliappis @dnhatn @martijnvg?\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/423832680","html_url":"https://github.com/elastic/elasticsearch/issues/33931#issuecomment-423832680","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33931","id":423832680,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMzgzMjY4MA==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2018-09-23T17:25:55Z","updated_at":"2018-09-23T17:25:55Z","author_association":"MEMBER","body":"I'm good with pause/resume instead of stop/start. IMO we don't need the follow about I'm ok with having it.\r\n\r\nRe `/{index}/_ccr/follow` - I'm concerned with this one. I'm worried that if we in future introduce an api that does allow you to take an existing index and tell it to follow another index (where it makes senses) we'll be in trouble. Creating an index is a major event - I like it's in the api name.\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/423834069","html_url":"https://github.com/elastic/elasticsearch/issues/33931#issuecomment-423834069","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33931","id":423834069,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMzgzNDA2OQ==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2018-09-23T17:46:08Z","updated_at":"2018-09-23T17:46:08Z","author_association":"MEMBER","body":"> Re /{index}/_ccr/follow - I'm concerned with this one. I'm worried that if we in future introduce an api that does allow you to take an existing index and tell it to follow another index (where it makes senses) we'll be in trouble. \r\n\r\nIf we would make the follow api (which is now create and follow) only accept a http PUT and when we add the ability to turn an existing index into a follow index we also accept a http POST then would that be clear enough? The PUT variant would fail if the follow index already exists and the POST variant would fail if the follow index is missing.\r\n\r\nI'm üëç with pause/resume instead of stop/start and the reasoning behind it. Personally I like the symmetry that comes with the shortening from `/{index}/_ccr/create_and_follow` to just `/{index}/_ccr/follow`, but I'm ok with sticking to create and follow if others think it is clearer.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/423835669","html_url":"https://github.com/elastic/elasticsearch/issues/33931#issuecomment-423835669","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33931","id":423835669,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMzgzNTY2OQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-09-23T18:08:47Z","updated_at":"2018-09-23T18:08:47Z","author_association":"MEMBER","body":"@bleskes I had the same thought as you this morning regarding future APIs and had the same thought as @martijnvg as a solution to it: `PUT` for create and `POST` for an existing index. Is this satisfactory to you @bleskes?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/423836325","html_url":"https://github.com/elastic/elasticsearch/issues/33931#issuecomment-423836325","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33931","id":423836325,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMzgzNjMyNQ==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2018-09-23T18:18:11Z","updated_at":"2018-09-23T18:18:11Z","author_association":"MEMBER","body":"I feel the difference between `POST` and `PUT` is too subtle and many people make mistakes. I don't feel really strongly about it so the group prefers this much better, I will go along.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/424229634","html_url":"https://github.com/elastic/elasticsearch/issues/33931#issuecomment-424229634","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33931","id":424229634,"node_id":"MDEyOklzc3VlQ29tbWVudDQyNDIyOTYzNA==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2018-09-25T07:01:44Z","updated_at":"2018-09-25T07:01:44Z","author_association":"MEMBER","body":"@elastic/es-clients any opinions here?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/424271942","html_url":"https://github.com/elastic/elasticsearch/issues/33931#issuecomment-424271942","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33931","id":424271942,"node_id":"MDEyOklzc3VlQ29tbWVudDQyNDI3MTk0Mg==","user":{"login":"Mpdreamz","id":245275,"node_id":"MDQ6VXNlcjI0NTI3NQ==","avatar_url":"https://avatars3.githubusercontent.com/u/245275?v=4","gravatar_id":"","url":"https://api.github.com/users/Mpdreamz","html_url":"https://github.com/Mpdreamz","followers_url":"https://api.github.com/users/Mpdreamz/followers","following_url":"https://api.github.com/users/Mpdreamz/following{/other_user}","gists_url":"https://api.github.com/users/Mpdreamz/gists{/gist_id}","starred_url":"https://api.github.com/users/Mpdreamz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Mpdreamz/subscriptions","organizations_url":"https://api.github.com/users/Mpdreamz/orgs","repos_url":"https://api.github.com/users/Mpdreamz/repos","events_url":"https://api.github.com/users/Mpdreamz/events{/privacy}","received_events_url":"https://api.github.com/users/Mpdreamz/received_events","type":"User","site_admin":false},"created_at":"2018-09-25T09:30:56Z","updated_at":"2018-09-25T09:30:56Z","author_association":"MEMBER","body":"What are the semantics behind `pause/resume`? If `resume` picks up right where `pause` left off then definitely agree `pause/resume` are better verbs then `start/stop`.\r\n\r\nI agree with @boaz that the difference is a bit too subtle. If we reuse the `/{index}/_ccr/follow` for both PUT and POST they should at least be documented as two separate API's i.e `ccr.create_and_follow.json` and `ccr.follow.json` \r\n\r\nThere are other API's that accept both `PUT` and `POST` without changing semantics such as [snapshot.create.json](https://github.com/elastic/elasticsearch/blob/master/rest-api-spec/src/main/resources/rest-api-spec/api/snapshot.create.json#L4) and the one that does [index.json](https://github.com/elastic/elasticsearch/blob/master/rest-api-spec/src/main/resources/rest-api-spec/api/index.json) has active discussions to split into two explicit different API's as well.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/424340318","html_url":"https://github.com/elastic/elasticsearch/issues/33931#issuecomment-424340318","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33931","id":424340318,"node_id":"MDEyOklzc3VlQ29tbWVudDQyNDM0MDMxOA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-09-25T13:20:05Z","updated_at":"2018-09-25T13:20:05Z","author_association":"MEMBER","body":"Thanks for the feedback everyone.\r\n\r\nI feel that our proposed use of `PUT` and `POST` here is fairly conventional, and it doesn't seem the feelings against are strong (please correct me if I am reading this wrongly). We will indeed document these as separate APIs @Mpdreamz!\r\n\r\nSo let us move forward with:\r\n\r\n```\r\nPUT /{index}/_ccr/follow <-- create a new follower index\r\nPOST /{index}/_ccr/pause_follow <-- pause a follower index\r\nPOST /{index}/_ccr/resume_follow <-- resume a follower index\r\nPOST /{index}/_ccr/unfollow <-- convert a follower index to a regular index\r\n```\r\n\r\nand reserving but not currently implementing\r\n\r\n```\r\nPOST /{index}/_ccr/follow <-- convert an existing index to a follower index\r\n```","performed_via_github_app":null}]