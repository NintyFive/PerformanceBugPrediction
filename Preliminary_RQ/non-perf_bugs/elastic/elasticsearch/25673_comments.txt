[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/314785484","html_url":"https://github.com/elastic/elasticsearch/issues/25673#issuecomment-314785484","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25673","id":314785484,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNDc4NTQ4NA==","user":{"login":"jaymode","id":4339958,"node_id":"MDQ6VXNlcjQzMzk5NTg=","avatar_url":"https://avatars1.githubusercontent.com/u/4339958?v=4","gravatar_id":"","url":"https://api.github.com/users/jaymode","html_url":"https://github.com/jaymode","followers_url":"https://api.github.com/users/jaymode/followers","following_url":"https://api.github.com/users/jaymode/following{/other_user}","gists_url":"https://api.github.com/users/jaymode/gists{/gist_id}","starred_url":"https://api.github.com/users/jaymode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaymode/subscriptions","organizations_url":"https://api.github.com/users/jaymode/orgs","repos_url":"https://api.github.com/users/jaymode/repos","events_url":"https://api.github.com/users/jaymode/events{/privacy}","received_events_url":"https://api.github.com/users/jaymode/received_events","type":"User","site_admin":false},"created_at":"2017-07-12T14:24:45Z","updated_at":"2017-07-12T14:24:45Z","author_association":"MEMBER","body":"> However both endpoints accept Content-Type: application/json.\r\n\r\nThis was done to avoid breaking clients that sent bulk/msearch bodies with a content type of JSON instead of the ndjson content type. I can see how this is misleading.\r\n\r\n> Also delete api (any any other one) accepts Content-Type: application/x-ndjson\r\n\r\nThe request you provided does not have a body; if you add a body this will be rejected.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/314786119","html_url":"https://github.com/elastic/elasticsearch/issues/25673#issuecomment-314786119","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25673","id":314786119,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNDc4NjExOQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-07-12T14:26:56Z","updated_at":"2017-07-12T14:26:56Z","author_association":"MEMBER","body":"Maybe we should update the docs to mention that both content-types are supported, or do we plan to only support ndjson in the future for bulk and msearch?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/314787215","html_url":"https://github.com/elastic/elasticsearch/issues/25673#issuecomment-314787215","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25673","id":314787215,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNDc4NzIxNQ==","user":{"login":"jaymode","id":4339958,"node_id":"MDQ6VXNlcjQzMzk5NTg=","avatar_url":"https://avatars1.githubusercontent.com/u/4339958?v=4","gravatar_id":"","url":"https://api.github.com/users/jaymode","html_url":"https://github.com/jaymode","followers_url":"https://api.github.com/users/jaymode/followers","following_url":"https://api.github.com/users/jaymode/following{/other_user}","gists_url":"https://api.github.com/users/jaymode/gists{/gist_id}","starred_url":"https://api.github.com/users/jaymode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaymode/subscriptions","organizations_url":"https://api.github.com/users/jaymode/orgs","repos_url":"https://api.github.com/users/jaymode/repos","events_url":"https://api.github.com/users/jaymode/events{/privacy}","received_events_url":"https://api.github.com/users/jaymode/received_events","type":"User","site_admin":false},"created_at":"2017-07-12T14:30:07Z","updated_at":"2017-07-12T14:30:07Z","author_association":"MEMBER","body":"I think we should only support ndjson for these endpoints in the future","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/314790024","html_url":"https://github.com/elastic/elasticsearch/issues/25673#issuecomment-314790024","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25673","id":314790024,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNDc5MDAyNA==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-07-12T14:38:45Z","updated_at":"2017-07-12T14:38:45Z","author_association":"MEMBER","body":"Alright, maybe we should issue a deprecation warning in case json is specified then and open an issue to formally deprecate it?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/314881894","html_url":"https://github.com/elastic/elasticsearch/issues/25673#issuecomment-314881894","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25673","id":314881894,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNDg4MTg5NA==","user":{"login":"olcbean","id":26058559,"node_id":"MDQ6VXNlcjI2MDU4NTU5","avatar_url":"https://avatars3.githubusercontent.com/u/26058559?v=4","gravatar_id":"","url":"https://api.github.com/users/olcbean","html_url":"https://github.com/olcbean","followers_url":"https://api.github.com/users/olcbean/followers","following_url":"https://api.github.com/users/olcbean/following{/other_user}","gists_url":"https://api.github.com/users/olcbean/gists{/gist_id}","starred_url":"https://api.github.com/users/olcbean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/olcbean/subscriptions","organizations_url":"https://api.github.com/users/olcbean/orgs","repos_url":"https://api.github.com/users/olcbean/repos","events_url":"https://api.github.com/users/olcbean/events{/privacy}","received_events_url":"https://api.github.com/users/olcbean/received_events","type":"User","site_admin":false},"created_at":"2017-07-12T20:07:44Z","updated_at":"2017-07-12T20:07:44Z","author_association":"CONTRIBUTOR","body":"@jaymode deprecating json should be a straightforward task. I would like to have a go at it.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/315164987","html_url":"https://github.com/elastic/elasticsearch/issues/25673#issuecomment-315164987","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25673","id":315164987,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNTE2NDk4Nw==","user":{"login":"jaymode","id":4339958,"node_id":"MDQ6VXNlcjQzMzk5NTg=","avatar_url":"https://avatars1.githubusercontent.com/u/4339958?v=4","gravatar_id":"","url":"https://api.github.com/users/jaymode","html_url":"https://github.com/jaymode","followers_url":"https://api.github.com/users/jaymode/followers","following_url":"https://api.github.com/users/jaymode/following{/other_user}","gists_url":"https://api.github.com/users/jaymode/gists{/gist_id}","starred_url":"https://api.github.com/users/jaymode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaymode/subscriptions","organizations_url":"https://api.github.com/users/jaymode/orgs","repos_url":"https://api.github.com/users/jaymode/repos","events_url":"https://api.github.com/users/jaymode/events{/privacy}","received_events_url":"https://api.github.com/users/jaymode/received_events","type":"User","site_admin":false},"created_at":"2017-07-13T18:36:06Z","updated_at":"2017-07-13T18:36:06Z","author_association":"MEMBER","body":"@olcbean I am not sure it is that simple. There are some tricky aspects such as the rest tests that use these endpoints and ensuring we don't fail due to the deprecation warnings. Also, the rest tests and api specs do not indicate if an API supports content streaming and changing this may require coordination with other consumers of these specs, right @javanna ?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/315177857","html_url":"https://github.com/elastic/elasticsearch/issues/25673#issuecomment-315177857","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25673","id":315177857,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNTE3Nzg1Nw==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-07-13T19:26:43Z","updated_at":"2017-07-13T19:26:43Z","author_association":"MEMBER","body":"yea I agree there is some coordination needed with the clients team , and we may have to update the spec for bulk and msearch.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/315207481","html_url":"https://github.com/elastic/elasticsearch/issues/25673#issuecomment-315207481","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25673","id":315207481,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNTIwNzQ4MQ==","user":{"login":"olcbean","id":26058559,"node_id":"MDQ6VXNlcjI2MDU4NTU5","avatar_url":"https://avatars3.githubusercontent.com/u/26058559?v=4","gravatar_id":"","url":"https://api.github.com/users/olcbean","html_url":"https://github.com/olcbean","followers_url":"https://api.github.com/users/olcbean/followers","following_url":"https://api.github.com/users/olcbean/following{/other_user}","gists_url":"https://api.github.com/users/olcbean/gists{/gist_id}","starred_url":"https://api.github.com/users/olcbean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/olcbean/subscriptions","organizations_url":"https://api.github.com/users/olcbean/orgs","repos_url":"https://api.github.com/users/olcbean/repos","events_url":"https://api.github.com/users/olcbean/events{/privacy}","received_events_url":"https://api.github.com/users/olcbean/received_events","type":"User","site_admin":false},"created_at":"2017-07-13T21:29:28Z","updated_at":"2017-07-13T21:29:28Z","author_association":"CONTRIBUTOR","body":"I see, indeed it needs more coordination. Nevertheless, given I have spent some time on this part of the internals - please consider assigning me this set of changes once there is clarity on the new spec. Thanks!","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/315296742","html_url":"https://github.com/elastic/elasticsearch/issues/25673#issuecomment-315296742","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25673","id":315296742,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNTI5Njc0Mg==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-07-14T07:56:37Z","updated_at":"2017-07-14T07:56:37Z","author_association":"MEMBER","body":"Thank you @olcbean we will keep that in mind. Closing this issue in favour of #25718.","performed_via_github_app":null}]