{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/21634","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21634/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21634/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21634/events","html_url":"https://github.com/elastic/elasticsearch/issues/21634","id":190122621,"node_id":"MDU6SXNzdWUxOTAxMjI2MjE=","number":21634,"title":"Allow Ingest Pipeline to be Skipped if `node.ingest: false`","user":{"login":"pickypg","id":1501235,"node_id":"MDQ6VXNlcjE1MDEyMzU=","avatar_url":"https://avatars2.githubusercontent.com/u/1501235?v=4","gravatar_id":"","url":"https://api.github.com/users/pickypg","html_url":"https://github.com/pickypg","followers_url":"https://api.github.com/users/pickypg/followers","following_url":"https://api.github.com/users/pickypg/following{/other_user}","gists_url":"https://api.github.com/users/pickypg/gists{/gist_id}","starred_url":"https://api.github.com/users/pickypg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pickypg/subscriptions","organizations_url":"https://api.github.com/users/pickypg/orgs","repos_url":"https://api.github.com/users/pickypg/repos","events_url":"https://api.github.com/users/pickypg/events{/privacy}","received_events_url":"https://api.github.com/users/pickypg/received_events","type":"User","site_admin":false},"labels":[{"id":268963484,"node_id":"MDU6TGFiZWwyNjg5NjM0ODQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Ingest","name":":Core/Features/Ingest","color":"0e8a16","default":false,"description":"Execution or management of Ingest Pipelines"},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-11-17T18:14:06Z","updated_at":"2016-12-07T12:21:52Z","closed_at":"2016-12-07T12:21:50Z","author_association":"MEMBER","active_lock_reason":null,"body":"The idea is to add a flag, which defaults to `false`, that allows pipelines to be skipped if no ingest nodes exist.\r\n\r\n```http\r\nPOST /_bulk?pipeline=xyz&can_skip_pipeline\r\n```\r\n\r\nThe purpose is to allow tools like Monitoring, and anything else that creates consistent, versioned indices, to supply pipelines so that old data can be transitioned into a new version (as much as possible) as it flows into updated systems (e.g., API v1 may need to be upgraded to API v2, if/where possible).\r\n\r\nHowever, if a user removes ingest nodes, then they effectively block all requests until they disable the ingest feature for their tool (or it constantly auto-detects, which is possible, but wasteful given the unlikely nature of it changing). Given that pipelines are about enrichment, it seems reasonable to have an opt-in way to say \"it's okay if none of it happens\".","closed_by":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"performed_via_github_app":null}