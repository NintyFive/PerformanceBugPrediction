[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/342145772","html_url":"https://github.com/elastic/elasticsearch/issues/27273#issuecomment-342145772","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27273","id":342145772,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjE0NTc3Mg==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-11-06T13:18:34Z","updated_at":"2017-11-06T13:18:34Z","author_association":"MEMBER","body":"hi @kunisen could you elaborate on what you mean by metadata? Also, you mention `_cluster/stats` which is an API that returns aggregated info, does that mean this info is already present in the output of nodes stats or indices stats API?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/342354251","html_url":"https://github.com/elastic/elasticsearch/issues/27273#issuecomment-342354251","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27273","id":342354251,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjM1NDI1MQ==","user":{"login":"kiju98","id":25359646,"node_id":"MDQ6VXNlcjI1MzU5NjQ2","avatar_url":"https://avatars2.githubusercontent.com/u/25359646?v=4","gravatar_id":"","url":"https://api.github.com/users/kiju98","html_url":"https://github.com/kiju98","followers_url":"https://api.github.com/users/kiju98/followers","following_url":"https://api.github.com/users/kiju98/following{/other_user}","gists_url":"https://api.github.com/users/kiju98/gists{/gist_id}","starred_url":"https://api.github.com/users/kiju98/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kiju98/subscriptions","organizations_url":"https://api.github.com/users/kiju98/orgs","repos_url":"https://api.github.com/users/kiju98/repos","events_url":"https://api.github.com/users/kiju98/events{/privacy}","received_events_url":"https://api.github.com/users/kiju98/received_events","type":"User","site_admin":false},"created_at":"2017-11-07T02:18:26Z","updated_at":"2017-11-07T02:18:26Z","author_association":"NONE","body":"Hi @javanna \r\nBy metadata, I mean the extra data to manage the actual data in shards.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/342482535","html_url":"https://github.com/elastic/elasticsearch/issues/27273#issuecomment-342482535","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27273","id":342482535,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjQ4MjUzNQ==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2017-11-07T13:31:03Z","updated_at":"2017-11-07T13:31:03Z","author_association":"CONTRIBUTOR","body":"I do not see this data currently exposed via any API, and it therefore may not even be available internally. It sounds tricky to calculate. @dakrone, you know about circuit breakers so do you have an opinion about this? @kunisen, could you elaborate on what the user expected to do with those numbers if they were available, and how that differs from what they do now?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/342510662","html_url":"https://github.com/elastic/elasticsearch/issues/27273#issuecomment-342510662","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27273","id":342510662,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjUxMDY2Mg==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2017-11-07T15:05:53Z","updated_at":"2017-11-07T15:05:53Z","author_association":"MEMBER","body":"I'm not 100% sure what you mean by \"metadata\" or the extra data to manage the actual data in shards, but if you mean segment memory, there is a PR for that: #27116. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/342686686","html_url":"https://github.com/elastic/elasticsearch/issues/27273#issuecomment-342686686","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27273","id":342686686,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjY4NjY4Ng==","user":{"login":"kiju98","id":25359646,"node_id":"MDQ6VXNlcjI1MzU5NjQ2","avatar_url":"https://avatars2.githubusercontent.com/u/25359646?v=4","gravatar_id":"","url":"https://api.github.com/users/kiju98","html_url":"https://github.com/kiju98","followers_url":"https://api.github.com/users/kiju98/followers","following_url":"https://api.github.com/users/kiju98/following{/other_user}","gists_url":"https://api.github.com/users/kiju98/gists{/gist_id}","starred_url":"https://api.github.com/users/kiju98/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kiju98/subscriptions","organizations_url":"https://api.github.com/users/kiju98/orgs","repos_url":"https://api.github.com/users/kiju98/repos","events_url":"https://api.github.com/users/kiju98/events{/privacy}","received_events_url":"https://api.github.com/users/kiju98/received_events","type":"User","site_admin":false},"created_at":"2017-11-08T02:07:29Z","updated_at":"2017-11-08T02:08:03Z","author_association":"NONE","body":"I think the user wants to know the overhead, i.e. disk space or memory usage excluding the actual data they want to store. Am I correct, @kunisen ?\r\nI don't know what \"Lucene segment memory\" exactly means. Does it mean the total amount of Java heap to handle Lucene segments and includes the value of each field and inverted index and so on or just some pointers where Elasticsearch can find the Lucene segments in use?\r\nBut I think it's very good anyway to \"reduce the amount of \"unknown\" memory that is not tracked by the breakers and thus circuit-breakable\" (https://github.com/elastic/elasticsearch/issues/27044) and it may serve some of their needs.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/342696864","html_url":"https://github.com/elastic/elasticsearch/issues/27273#issuecomment-342696864","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27273","id":342696864,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjY5Njg2NA==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2017-11-08T03:09:14Z","updated_at":"2017-11-08T03:09:14Z","author_association":"MEMBER","body":"> I don't know what \"Lucene segment memory\" exactly means. Does it mean the total amount of Java heap to handle Lucene segments and includes the value of each field and inverted index and so on or just some pointers where Elasticsearch can find the Lucene segments in use?\r\n\r\nIt's the amount of memory that Elasticsearch (really Lucene) uses in the JVM heap in order to keep the shard searchable","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/342729743","html_url":"https://github.com/elastic/elasticsearch/issues/27273#issuecomment-342729743","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27273","id":342729743,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MjcyOTc0Mw==","user":{"login":"kunisen","id":30574753,"node_id":"MDQ6VXNlcjMwNTc0NzUz","avatar_url":"https://avatars2.githubusercontent.com/u/30574753?v=4","gravatar_id":"","url":"https://api.github.com/users/kunisen","html_url":"https://github.com/kunisen","followers_url":"https://api.github.com/users/kunisen/followers","following_url":"https://api.github.com/users/kunisen/following{/other_user}","gists_url":"https://api.github.com/users/kunisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kunisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kunisen/subscriptions","organizations_url":"https://api.github.com/users/kunisen/orgs","repos_url":"https://api.github.com/users/kunisen/repos","events_url":"https://api.github.com/users/kunisen/events{/privacy}","received_events_url":"https://api.github.com/users/kunisen/received_events","type":"User","site_admin":false},"created_at":"2017-11-08T07:09:07Z","updated_at":"2017-11-08T07:09:07Z","author_association":"NONE","body":"Thanks, @kiju98 \r\nYeah, the goal is to find out the disk space or memory usage excluding the actual data they want to store.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/343487640","html_url":"https://github.com/elastic/elasticsearch/issues/27273#issuecomment-343487640","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27273","id":343487640,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MzQ4NzY0MA==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2017-11-10T14:29:47Z","updated_at":"2017-11-10T14:30:05Z","author_association":"MEMBER","body":"If we can step back for a minute, What is the problem the user is trying to solve here? \r\n\r\nIts not clear from this issue what the problem is, what is meant by `metadata` (do you mean the cluster state for example) and what the user wants to do with this statistic, so maybe you could explain first what the problem that the user has which is causing this statistic to be requested?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/350941209","html_url":"https://github.com/elastic/elasticsearch/issues/27273#issuecomment-350941209","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27273","id":350941209,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDk0MTIwOQ==","user":{"login":"kunisen","id":30574753,"node_id":"MDQ6VXNlcjMwNTc0NzUz","avatar_url":"https://avatars2.githubusercontent.com/u/30574753?v=4","gravatar_id":"","url":"https://api.github.com/users/kunisen","html_url":"https://github.com/kunisen","followers_url":"https://api.github.com/users/kunisen/followers","following_url":"https://api.github.com/users/kunisen/following{/other_user}","gists_url":"https://api.github.com/users/kunisen/gists{/gist_id}","starred_url":"https://api.github.com/users/kunisen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kunisen/subscriptions","organizations_url":"https://api.github.com/users/kunisen/orgs","repos_url":"https://api.github.com/users/kunisen/repos","events_url":"https://api.github.com/users/kunisen/events{/privacy}","received_events_url":"https://api.github.com/users/kunisen/received_events","type":"User","site_admin":false},"created_at":"2017-12-12T04:22:19Z","updated_at":"2017-12-12T04:22:19Z","author_association":"NONE","body":"sorry for the late response.\r\nthey are using elasticsearch very heavily. so they want to know the very detailed part. in this case, not only the whole bunch of memory, but the metadata (not including data) and the data part. \r\nas kiju mentioned in the upper post, \r\n>I think the user wants to know the overhead, i.e. disk space or memory usage excluding the actual data they want to store.\r\n\r\nthis is not a direct solution, but they want to monitor the usage to find out in which part they can do optimization. @colings86 ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/350991076","html_url":"https://github.com/elastic/elasticsearch/issues/27273#issuecomment-350991076","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27273","id":350991076,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDk5MTA3Ng==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2017-12-12T09:14:51Z","updated_at":"2017-12-12T09:14:51Z","author_association":"MEMBER","body":"Ok so why do they feel they need to do optimisation? What is the issue they are seeing that they want to optimise?\r\n\r\n> I think the user wants to know the overhead, i.e. disk space or memory usage excluding the actual data they want to store.\r\n\r\nThe problem with the definition \"disk space or memory usage excluding the actual data they want to store\" is that it doesn't explain what this metadata is? The only thing that we store which isn't related to an index is the cluster state. Is this what they want to measure? Even the cluster state has a lot of elements that are related to indices and it is non-trivial to measure its actual in-memory footprint anyway as parts of the cluster state can be compressed or uncompressed on each node differently.\r\n\r\nAs I said before I think we need to take a step back and look at the problems that are causing this request to be able to work out if there are current APIs that can help or if we need to add something.\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/366221662","html_url":"https://github.com/elastic/elasticsearch/issues/27273#issuecomment-366221662","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27273","id":366221662,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjIyMTY2Mg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-02-16T12:21:21Z","updated_at":"2018-02-16T12:21:21Z","author_association":"MEMBER","body":"No additional feedback, closing.","performed_via_github_app":null}]