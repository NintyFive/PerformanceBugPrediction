[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/346955937","html_url":"https://github.com/elastic/elasticsearch/issues/27527#issuecomment-346955937","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27527","id":346955937,"node_id":"MDEyOklzc3VlQ29tbWVudDM0Njk1NTkzNw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-11-25T17:58:42Z","updated_at":"2017-11-25T17:58:42Z","author_association":"MEMBER","body":"I donâ€™t think we should do this. We publish only the modules that expose a client API because we have to yet for the rest we want to encourage standing up a standalone Elasticsearch node instead of internal cluster integration tests.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/346955947","html_url":"https://github.com/elastic/elasticsearch/issues/27527#issuecomment-346955947","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27527","id":346955947,"node_id":"MDEyOklzc3VlQ29tbWVudDM0Njk1NTk0Nw==","user":{"login":"mattweber","id":173955,"node_id":"MDQ6VXNlcjE3Mzk1NQ==","avatar_url":"https://avatars3.githubusercontent.com/u/173955?v=4","gravatar_id":"","url":"https://api.github.com/users/mattweber","html_url":"https://github.com/mattweber","followers_url":"https://api.github.com/users/mattweber/followers","following_url":"https://api.github.com/users/mattweber/following{/other_user}","gists_url":"https://api.github.com/users/mattweber/gists{/gist_id}","starred_url":"https://api.github.com/users/mattweber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattweber/subscriptions","organizations_url":"https://api.github.com/users/mattweber/orgs","repos_url":"https://api.github.com/users/mattweber/repos","events_url":"https://api.github.com/users/mattweber/events{/privacy}","received_events_url":"https://api.github.com/users/mattweber/received_events","type":"User","site_admin":false},"created_at":"2017-11-25T17:58:48Z","updated_at":"2017-11-25T17:58:48Z","author_association":"CONTRIBUTOR","body":"I wish you published all modules for this exact reason.  I run into issues due to missing painless module all the time and am sure I will run into it when I port plugins to 6x because of analysis-common module as well.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/356603274","html_url":"https://github.com/elastic/elasticsearch/issues/27527#issuecomment-356603274","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27527","id":356603274,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NjYwMzI3NA==","user":{"login":"srid99","id":1322678,"node_id":"MDQ6VXNlcjEzMjI2Nzg=","avatar_url":"https://avatars0.githubusercontent.com/u/1322678?v=4","gravatar_id":"","url":"https://api.github.com/users/srid99","html_url":"https://github.com/srid99","followers_url":"https://api.github.com/users/srid99/followers","following_url":"https://api.github.com/users/srid99/following{/other_user}","gists_url":"https://api.github.com/users/srid99/gists{/gist_id}","starred_url":"https://api.github.com/users/srid99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srid99/subscriptions","organizations_url":"https://api.github.com/users/srid99/orgs","repos_url":"https://api.github.com/users/srid99/repos","events_url":"https://api.github.com/users/srid99/events{/privacy}","received_events_url":"https://api.github.com/users/srid99/received_events","type":"User","site_admin":false},"created_at":"2018-01-10T13:33:44Z","updated_at":"2018-01-10T13:33:44Z","author_association":"NONE","body":"This is kind of annoying since we need the analysis-common for our integration test and we don't have these dependencies published. We ended up using the artifacts published under the group-id org.codelibs.elasticsearch.module. Thanks to https://github.com/codelibs/elasticsearch-module/ for that. Hope you publish all modules so we don't have to rely on others.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/368276355","html_url":"https://github.com/elastic/elasticsearch/issues/27527#issuecomment-368276355","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27527","id":368276355,"node_id":"MDEyOklzc3VlQ29tbWVudDM2ODI3NjM1NQ==","user":{"login":"jprante","id":635745,"node_id":"MDQ6VXNlcjYzNTc0NQ==","avatar_url":"https://avatars1.githubusercontent.com/u/635745?v=4","gravatar_id":"","url":"https://api.github.com/users/jprante","html_url":"https://github.com/jprante","followers_url":"https://api.github.com/users/jprante/followers","following_url":"https://api.github.com/users/jprante/following{/other_user}","gists_url":"https://api.github.com/users/jprante/gists{/gist_id}","starred_url":"https://api.github.com/users/jprante/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jprante/subscriptions","organizations_url":"https://api.github.com/users/jprante/orgs","repos_url":"https://api.github.com/users/jprante/repos","events_url":"https://api.github.com/users/jprante/events{/privacy}","received_events_url":"https://api.github.com/users/jprante/received_events","type":"User","site_admin":false},"created_at":"2018-02-25T01:56:25Z","updated_at":"2018-02-25T01:56:25Z","author_association":"CONTRIBUTOR","body":"I had to copy the analysis-common module to my dev kit https://github.com/jprante/elasticsearch-xbib-devkit by changing the group ID just for the reason to publish a jar artifact to a repo so that tests with custom analyzers that use token filters like keyword marker can run.\r\n\r\nFor example:\r\n\r\n```\r\nimport org.elasticsearch.analysis.common.CommonAnalysisPlugin;\r\n...\r\nESTestCase.TestAnalysis analysis = ESTestCase.createTestAnalysis(new Index(\"test\", \"_na_\"),\r\n                settings, new AnalysisDecompoundPlugin(Settings.EMPTY), new CommonAnalysisPlugin());\r\n```\r\nhttps://github.com/jprante/elasticsearch-analysis-decompound/blob/6.2/src/test/java/org/xbib/elasticsearch/index/analysis/decompound/patricia/DecompoundTokenFilterTests.java#L59\r\n\r\nMy copy in my repo looks like this:\r\nhttp://xbib.org/repository/org/xbib/elasticsearch/elasticsearch-analysis-common/6.2.2.0/\r\n\r\nThe result is that I have to track the mainline analysis-common module for updates and copy all changes manually into my code. The analysis-common module has virtually become invisible for analyzer plugin developers. For me it's fun to build a personal code base, but for other plugin developers it will be no easy job.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/368535827","html_url":"https://github.com/elastic/elasticsearch/issues/27527#issuecomment-368535827","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27527","id":368535827,"node_id":"MDEyOklzc3VlQ29tbWVudDM2ODUzNTgyNw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-02-26T15:15:32Z","updated_at":"2018-02-26T15:15:32Z","author_association":"MEMBER","body":"We discussed this during Fix-it-Friday on 2018-02-23 and agreed that we are not going to publish these module artifacts for the following reasons:\r\n - we do not want these artifacts to be seen as general libraries that developers can rely on in their code\r\n - we do not want to encourage the use of internal cluster integration tests, instead we want to encourage the use of standalone tests where this module would be installed\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/398777295","html_url":"https://github.com/elastic/elasticsearch/issues/27527#issuecomment-398777295","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27527","id":398777295,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODc3NzI5NQ==","user":{"login":"cdekker","id":1729963,"node_id":"MDQ6VXNlcjE3Mjk5NjM=","avatar_url":"https://avatars1.githubusercontent.com/u/1729963?v=4","gravatar_id":"","url":"https://api.github.com/users/cdekker","html_url":"https://github.com/cdekker","followers_url":"https://api.github.com/users/cdekker/followers","following_url":"https://api.github.com/users/cdekker/following{/other_user}","gists_url":"https://api.github.com/users/cdekker/gists{/gist_id}","starred_url":"https://api.github.com/users/cdekker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cdekker/subscriptions","organizations_url":"https://api.github.com/users/cdekker/orgs","repos_url":"https://api.github.com/users/cdekker/repos","events_url":"https://api.github.com/users/cdekker/events{/privacy}","received_events_url":"https://api.github.com/users/cdekker/received_events","type":"User","site_admin":false},"created_at":"2018-06-20T14:45:24Z","updated_at":"2018-06-20T14:45:24Z","author_association":"NONE","body":"@jasontedor could you elaborate on how we are supposed to write tests, testing the functionality of these filters when you say 'use of standalone tests where this module would be installed'?\r\n\r\nLet's say I want to test the creation of an index using a custom analyzer or pattern filter, adding a document and querying using said filter.\r\n\r\nShould I always have a standalone ES cluster when running these tests? Surely that would limit the portability of my code severely. What would be the best practice here?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/398786038","html_url":"https://github.com/elastic/elasticsearch/issues/27527#issuecomment-398786038","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27527","id":398786038,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODc4NjAzOA==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2018-06-20T15:08:29Z","updated_at":"2018-06-20T15:08:29Z","author_association":"MEMBER","body":"@cdekker I shared some ideas about integration testing in this thread: https://discuss.elastic.co/t/in-memory-testing-with-resthighlevelclient/106196/6\r\n\r\nIn case it helps.","performed_via_github_app":null}]