[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/63300426","html_url":"https://github.com/elastic/elasticsearch/issues/8493#issuecomment-63300426","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8493","id":63300426,"node_id":"MDEyOklzc3VlQ29tbWVudDYzMzAwNDI2","user":{"login":"abravorus","id":1001162,"node_id":"MDQ6VXNlcjEwMDExNjI=","avatar_url":"https://avatars0.githubusercontent.com/u/1001162?v=4","gravatar_id":"","url":"https://api.github.com/users/abravorus","html_url":"https://github.com/abravorus","followers_url":"https://api.github.com/users/abravorus/followers","following_url":"https://api.github.com/users/abravorus/following{/other_user}","gists_url":"https://api.github.com/users/abravorus/gists{/gist_id}","starred_url":"https://api.github.com/users/abravorus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abravorus/subscriptions","organizations_url":"https://api.github.com/users/abravorus/orgs","repos_url":"https://api.github.com/users/abravorus/repos","events_url":"https://api.github.com/users/abravorus/events{/privacy}","received_events_url":"https://api.github.com/users/abravorus/received_events","type":"User","site_admin":false},"created_at":"2014-11-17T12:54:26Z","updated_at":"2014-11-17T12:54:26Z","author_association":"NONE","body":"Hello,\n\nI prepared a set of files (based on files in RPM package) needed to start elasticsearch with systemd under Debian jessie (testing) and was able to start it normally.\n\n1) /etc/systemd/system/elasticsearch.service\n\n```\n[Unit]\nDescription=Starts and stops a single elasticsearch instance on this system\nDocumentation=http://www.elasticsearch.org\n\n[Service]\nType=forking\nEnvironmentFile=/etc/default/elasticsearch\nUser=elasticsearch\nGroup=elasticsearch\nPIDFile=/var/run/elasticsearch/elasticsearch.pid\nExecStart=/usr/share/elasticsearch/bin/elasticsearch -d -p /var/run/elasticsearch/elasticsearch.pid -Des.default.config=$CONF_FILE -Des.default.path.home=$ES_HOME -Des.default.path.logs=$LOG_DIR -Des.default.path.data=$DATA_DIR -Des.default.path.work=$WORK_DIR -Des.default.path.conf=$CONF_DIR\n# See MAX_OPEN_FILES in /etc/default/elasticsearch\nLimitNOFILE=65535\n# See MAX_LOCKED_MEMORY in /etc/default/elasticsearch, use \"infinity\" when     MAX_LOCKED_MEMORY=unlimited and using bootstrap.mlockall: true\n#LimitMEMLOCK=infinity\n# Shutdown delay in seconds, before process is tried to be killed with KILL (if configured)\nTimeoutStopSec=20\n\n[Install]\nWantedBy=multi-user.target\n```\n\n2)  /usr/lib/sysctl.d/elasticsearch.conf\n\n```\nvm.max_map_count=262144\n```\n\n3) /usr/lib/tmpfiles.d/elasticsearch.conf\n\n```\nd    /run/elasticsearch   0755 elasticsearch elasticsearch - -\n```\n\nYou should also check the content of /etc/default/elasticsearch for default values for your configuration, for example to change ES_HEAP_SIZE value.\n\nYou also need to make all systemd exercises ones (as root or via sudo):\n\nsystemd-tmpfiles --create elasticsearch.conf (to created a folder with proper permissions for PID file)\nsystemctl daemon-reload\nsystemctl enable elasticsearch.service\n\nAfter that elasticsearch should start automatically after reboot or you can start it manually via:\nsystemctl start elasticsearch.service\nor\n/etc/init.d/elasticsearch start (which actually run the previous command)\n\nOf course, I'm not sure that all above is errors free but it works for me.\n\nAlexandr\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/65385408","html_url":"https://github.com/elastic/elasticsearch/issues/8493#issuecomment-65385408","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8493","id":65385408,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Mzg1NDA4","user":{"login":"t-lo","id":71888,"node_id":"MDQ6VXNlcjcxODg4","avatar_url":"https://avatars2.githubusercontent.com/u/71888?v=4","gravatar_id":"","url":"https://api.github.com/users/t-lo","html_url":"https://github.com/t-lo","followers_url":"https://api.github.com/users/t-lo/followers","following_url":"https://api.github.com/users/t-lo/following{/other_user}","gists_url":"https://api.github.com/users/t-lo/gists{/gist_id}","starred_url":"https://api.github.com/users/t-lo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/t-lo/subscriptions","organizations_url":"https://api.github.com/users/t-lo/orgs","repos_url":"https://api.github.com/users/t-lo/repos","events_url":"https://api.github.com/users/t-lo/events{/privacy}","received_events_url":"https://api.github.com/users/t-lo/received_events","type":"User","site_admin":false},"created_at":"2014-12-03T10:21:45Z","updated_at":"2014-12-03T10:21:45Z","author_association":"CONTRIBUTOR","body":"Debian stable (\"Wheezy\") still uses sysv-init; \"Jessie\" is still in \"testing\" (i.e. not released), and thusly will not receive timely security updates until its release in 2015 (see https://www.debian.org/releases/jessie/).\n\nSo, does elasticsearch support `.deb` packages for \"testing\" (i.e. unreleased) versions?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/65393507","html_url":"https://github.com/elastic/elasticsearch/issues/8493#issuecomment-65393507","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8493","id":65393507,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzkzNTA3","user":{"login":"abravorus","id":1001162,"node_id":"MDQ6VXNlcjEwMDExNjI=","avatar_url":"https://avatars0.githubusercontent.com/u/1001162?v=4","gravatar_id":"","url":"https://api.github.com/users/abravorus","html_url":"https://github.com/abravorus","followers_url":"https://api.github.com/users/abravorus/followers","following_url":"https://api.github.com/users/abravorus/following{/other_user}","gists_url":"https://api.github.com/users/abravorus/gists{/gist_id}","starred_url":"https://api.github.com/users/abravorus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abravorus/subscriptions","organizations_url":"https://api.github.com/users/abravorus/orgs","repos_url":"https://api.github.com/users/abravorus/repos","events_url":"https://api.github.com/users/abravorus/events{/privacy}","received_events_url":"https://api.github.com/users/abravorus/received_events","type":"User","site_admin":false},"created_at":"2014-12-03T11:22:54Z","updated_at":"2014-12-03T11:22:54Z","author_association":"NONE","body":"Hi,\n\nI can just say that in my experience official elasticsearch .deb package\ncan be installed without any problems on Debian testing (\"Jessie\") and\ncould be run on it smootly. The only question is that \"Jessie\" switched\nalready to systemd (instead of sysv-init) and I had to prepare\nelasticsearch systemd config files by myself.\n\nI have quite a simple elasticsearch cluster with two non-heavily-loaded\nnodes both running under Debian \"Jessie\". Upgrade from ES 1.4.0 to 1.4.1\nwas done successfully by standard apt-get update/apt-get upgrade procedure\n(having ES systemd files in place already, of course).\n\nSecurity updates for \"Jessie\" are done via the following repository record\nin /etc/apt/sources.list:\ndeb http://security.debian.org/ jessie/updates main non-free contrib\n\nThere are only 4 weeks till 2015, time goes fast :)\n\nAlexandr\n\nOn Wed, Dec 3, 2014 at 1:22 PM, Thilo Fromm notifications@github.com\nwrote:\n\n> Debian stable (\"Wheezy\") still uses sysv-init; \"Jessie\" is still in\n> \"testing\" (i.e. not released), and thusly will not receive timely security\n> updates until its release in 2015 (see\n> https://www.debian.org/releases/jessie/).\n> \n> So, does elasticsearch support .deb packages for \"testing\" (i.e.\n> unreleased) versions?\n> \n> —\n> Reply to this email directly or view it on GitHub\n> https://github.com/elasticsearch/elasticsearch/issues/8493#issuecomment-65385408\n> .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/65394793","html_url":"https://github.com/elastic/elasticsearch/issues/8493#issuecomment-65394793","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8493","id":65394793,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Mzk0Nzkz","user":{"login":"t-lo","id":71888,"node_id":"MDQ6VXNlcjcxODg4","avatar_url":"https://avatars2.githubusercontent.com/u/71888?v=4","gravatar_id":"","url":"https://api.github.com/users/t-lo","html_url":"https://github.com/t-lo","followers_url":"https://api.github.com/users/t-lo/followers","following_url":"https://api.github.com/users/t-lo/following{/other_user}","gists_url":"https://api.github.com/users/t-lo/gists{/gist_id}","starred_url":"https://api.github.com/users/t-lo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/t-lo/subscriptions","organizations_url":"https://api.github.com/users/t-lo/orgs","repos_url":"https://api.github.com/users/t-lo/repos","events_url":"https://api.github.com/users/t-lo/events{/privacy}","received_events_url":"https://api.github.com/users/t-lo/received_events","type":"User","site_admin":false},"created_at":"2014-12-03T11:37:05Z","updated_at":"2014-12-03T11:37:05Z","author_association":"CONTRIBUTOR","body":"@abravorus Is there a generic way to build a `.deb` package which provides both a `.service` file for systemd and a sysv-script, and only installs the correct ones (i.e. init script on Deb < 8, and service file on Deb >= 8)? Or do you think it would be best to provide a `.deb` w/ init script for Debian < 8, and a separate `.deb` for Debian >= 8?\n\nConcerning sec updates, quoting from https://www.debian.org/releases/jessie/:\n\n> Please note that security updates for testing distribution are not yet managed by the security team.\n> Hence, testing does not get security updates in a timely manner. You are encouraged to switch\n> your sources.list entries from testing to wheezy for the time being if you need security support. See\n> also the entry in the Security Team's FAQ for the testing distribution.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/65397153","html_url":"https://github.com/elastic/elasticsearch/issues/8493#issuecomment-65397153","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8493","id":65397153,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Mzk3MTUz","user":{"login":"abravorus","id":1001162,"node_id":"MDQ6VXNlcjEwMDExNjI=","avatar_url":"https://avatars0.githubusercontent.com/u/1001162?v=4","gravatar_id":"","url":"https://api.github.com/users/abravorus","html_url":"https://github.com/abravorus","followers_url":"https://api.github.com/users/abravorus/followers","following_url":"https://api.github.com/users/abravorus/following{/other_user}","gists_url":"https://api.github.com/users/abravorus/gists{/gist_id}","starred_url":"https://api.github.com/users/abravorus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abravorus/subscriptions","organizations_url":"https://api.github.com/users/abravorus/orgs","repos_url":"https://api.github.com/users/abravorus/repos","events_url":"https://api.github.com/users/abravorus/events{/privacy}","received_events_url":"https://api.github.com/users/abravorus/received_events","type":"User","site_admin":false},"created_at":"2014-12-03T12:00:40Z","updated_at":"2014-12-03T12:00:40Z","author_association":"NONE","body":"Hi Thilo,\n\nI do not know is it possible to build such a single .deb package. May be\npossible if it will look on installed packages in pre-install phase, but I\nnever did it by myself. I think that more simple and robust way is to build\ntwo separate packages for Debian < 8 and for Debian >= 8.\n\nKeeping in mind that some other Linux distros are switched already to\nsystemd and ES has already systemd support for RPM there is a sense to be\nprepared for that for Debian too.\n\nYou are right about security updates for Debian testing. I've just noted\nthat they are available in principle.\n\nAlexandr\n\nPS: Looks like GitHub web-site is blocked in Russia, I can answer via\ne-mail only.\n\nOn Wed, Dec 3, 2014 at 2:37 PM, Thilo Fromm notifications@github.com\nwrote:\n\n> @abravorus https://github.com/abravorus Is there a generic way to build\n> a .deb package which provides both a .service file for systemd and a\n> sysv-script, and only installs the correct ones (i.e. init script on Deb <\n> 8, and service file on Deb >= 8)? Or do you think it would be best to\n> provide a .deb w/ init script for Debian < 8, and a separate .deb for\n> Debian >= 8?\n> \n> Concerning sec updates, quoting from\n> https://www.debian.org/releases/jessie/:\n> \n> Please note that security updates for testing distribution are not yet\n> managed by the security team.\n> Hence, testing does not get security updates in a timely manner. You are\n> encouraged to switch\n> your sources.list entries from testing to wheezy for the time being if you\n> need security support. See\n> also the entry in the Security Team's FAQ for the testing distribution.\n> \n> —\n> Reply to this email directly or view it on GitHub\n> https://github.com/elasticsearch/elasticsearch/issues/8493#issuecomment-65394793\n> .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/65397456","html_url":"https://github.com/elastic/elasticsearch/issues/8493#issuecomment-65397456","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8493","id":65397456,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Mzk3NDU2","user":{"login":"t-lo","id":71888,"node_id":"MDQ6VXNlcjcxODg4","avatar_url":"https://avatars2.githubusercontent.com/u/71888?v=4","gravatar_id":"","url":"https://api.github.com/users/t-lo","html_url":"https://github.com/t-lo","followers_url":"https://api.github.com/users/t-lo/followers","following_url":"https://api.github.com/users/t-lo/following{/other_user}","gists_url":"https://api.github.com/users/t-lo/gists{/gist_id}","starred_url":"https://api.github.com/users/t-lo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/t-lo/subscriptions","organizations_url":"https://api.github.com/users/t-lo/orgs","repos_url":"https://api.github.com/users/t-lo/repos","events_url":"https://api.github.com/users/t-lo/events{/privacy}","received_events_url":"https://api.github.com/users/t-lo/received_events","type":"User","site_admin":false},"created_at":"2014-12-03T12:03:49Z","updated_at":"2014-12-03T12:03:49Z","author_association":"CONTRIBUTOR","body":"Ping @clintongormley does ES want two separate `.deb`s, one for systemd, one for sysv-init?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/65404070","html_url":"https://github.com/elastic/elasticsearch/issues/8493#issuecomment-65404070","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8493","id":65404070,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDA0MDcw","user":{"login":"t-lo","id":71888,"node_id":"MDQ6VXNlcjcxODg4","avatar_url":"https://avatars2.githubusercontent.com/u/71888?v=4","gravatar_id":"","url":"https://api.github.com/users/t-lo","html_url":"https://github.com/t-lo","followers_url":"https://api.github.com/users/t-lo/followers","following_url":"https://api.github.com/users/t-lo/following{/other_user}","gists_url":"https://api.github.com/users/t-lo/gists{/gist_id}","starred_url":"https://api.github.com/users/t-lo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/t-lo/subscriptions","organizations_url":"https://api.github.com/users/t-lo/orgs","repos_url":"https://api.github.com/users/t-lo/repos","events_url":"https://api.github.com/users/t-lo/events{/privacy}","received_events_url":"https://api.github.com/users/t-lo/received_events","type":"User","site_admin":false},"created_at":"2014-12-03T13:09:24Z","updated_at":"2014-12-03T13:09:24Z","author_association":"CONTRIBUTOR","body":"@abravorus Currently there are some improvements to the ES `.service` file in the works. Most notably the ES start script doesn't daemonize (so backgrounding is left to systemd), and we use `After=network-online.target` to wait for networking before starting ES. I checked with Fedora 21 and it behaves as expected. \nCould you please test the new service file w/ Debian 8?\n\n```\n[Unit]\nDescription=Starts and stops a single elasticsearch instance on this system\nDocumentation=http://www.elasticsearch.org\nWants=network-online.target\nAfter=network-online.target\n\n[Service]\nEnvironmentFile=/etc/sysconfig/elasticsearch\nUser=elasticsearch\nGroup=elasticsearch\nExecStart=/usr/share/elasticsearch/bin/elasticsearch            \\\n                            -Des.default.config=$CONF_FILE      \\\n                            -Des.default.path.home=$ES_HOME     \\\n                            -Des.default.path.logs=$LOG_DIR     \\\n                            -Des.default.path.data=$DATA_DIR    \\\n                            -Des.default.path.work=$WORK_DIR    \\\n                            -Des.default.path.conf=$CONF_DIR\n# See MAX_OPEN_FILES in sysconfig\nLimitNOFILE=65535\n# See MAX_LOCKED_MEMORY in sysconfig, use \"infinity\" when MAX_LOCKED_MEMORY=unlimited and using bootstrap.mlockall: true\n#LimitMEMLOCK=infinity\n# Shutdown delay in seconds, before process is tried to be killed with KILL (if configured)\nTimeoutStopSec=20\n\n[Install]\nWantedBy=multi-user.target\n```\n\nRegards,\nThilo\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/65404549","html_url":"https://github.com/elastic/elasticsearch/issues/8493#issuecomment-65404549","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8493","id":65404549,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDA0NTQ5","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-12-03T13:13:46Z","updated_at":"2014-12-03T13:13:46Z","author_association":"CONTRIBUTOR","body":"@t-lo We'd definitely want to provide just a single .deb package, so supporting both in one would be awesome.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/65405026","html_url":"https://github.com/elastic/elasticsearch/issues/8493#issuecomment-65405026","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8493","id":65405026,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDA1MDI2","user":{"login":"abravorus","id":1001162,"node_id":"MDQ6VXNlcjEwMDExNjI=","avatar_url":"https://avatars0.githubusercontent.com/u/1001162?v=4","gravatar_id":"","url":"https://api.github.com/users/abravorus","html_url":"https://github.com/abravorus","followers_url":"https://api.github.com/users/abravorus/followers","following_url":"https://api.github.com/users/abravorus/following{/other_user}","gists_url":"https://api.github.com/users/abravorus/gists{/gist_id}","starred_url":"https://api.github.com/users/abravorus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abravorus/subscriptions","organizations_url":"https://api.github.com/users/abravorus/orgs","repos_url":"https://api.github.com/users/abravorus/repos","events_url":"https://api.github.com/users/abravorus/events{/privacy}","received_events_url":"https://api.github.com/users/abravorus/received_events","type":"User","site_admin":false},"created_at":"2014-12-03T13:17:55Z","updated_at":"2014-12-03T13:17:55Z","author_association":"NONE","body":"Hi Thilo,\n\nI will test new .service file tomorrow and let you know.\n\nOne note: There is no /etc/sysconfig folder in Debian (both <8 and >=8), I\nuse /etc/default/elasticsearch instead. Or this folder should be created by\n.deb , but I do not see that now.\n\nAlexandr\n\nOn Wed, Dec 3, 2014 at 4:10 PM, Thilo Fromm notifications@github.com\nwrote:\n\n> @abravorus https://github.com/abravorus Currently there are some\n> improvements to the ES .service file in the works. Most notably the ES\n> start script doesn't daemonize (so backgrounding is left to systemd), and\n> we use After=network-online.target to wait for networking before starting\n> ES. I checked with Fedora 21 and it behaves as expected.\n> Could you please test the new service file w/ Debian 8?\n> \n> [Unit]\n> Description=Starts and stops a single elasticsearch instance on this system\n> Documentation=http://www.elasticsearch.org\n> Wants=network-online.target\n> After=network-online.target\n> \n> [Service]\n> EnvironmentFile=/etc/sysconfig/elasticsearch\n> User=elasticsearch\n> Group=elasticsearch\n> ExecStart=/usr/share/elasticsearch/bin/elasticsearch            \\\n>                             -Des.default.config=$CONF_FILE      \\\n>                             -Des.default.path.home=$ES_HOME     \\\n>                             -Des.default.path.logs=$LOG_DIR     \\\n>                             -Des.default.path.data=$DATA_DIR    \\\n>                             -Des.default.path.work=$WORK_DIR    \\\n>                             -Des.default.path.conf=$CONF_DIR\n> \n> # See MAX_OPEN_FILES in sysconfig\n> \n> LimitNOFILE=65535\n> \n> # See MAX_LOCKED_MEMORY in sysconfig, use \"infinity\" when MAX_LOCKED_MEMORY=unlimited and using bootstrap.mlockall: true\n> \n> #LimitMEMLOCK=infinity\n> \n> # Shutdown delay in seconds, before process is tried to be killed with KILL (if configured)\n> \n> TimeoutStopSec=20\n> \n> [Install]\n> WantedBy=multi-user.target\n> \n> Regards,\n> Thilo\n> \n> —\n> Reply to this email directly or view it on GitHub\n> https://github.com/elasticsearch/elasticsearch/issues/8493#issuecomment-65404070\n> .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/65405711","html_url":"https://github.com/elastic/elasticsearch/issues/8493#issuecomment-65405711","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8493","id":65405711,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDA1NzEx","user":{"login":"electrical","id":271677,"node_id":"MDQ6VXNlcjI3MTY3Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/271677?v=4","gravatar_id":"","url":"https://api.github.com/users/electrical","html_url":"https://github.com/electrical","followers_url":"https://api.github.com/users/electrical/followers","following_url":"https://api.github.com/users/electrical/following{/other_user}","gists_url":"https://api.github.com/users/electrical/gists{/gist_id}","starred_url":"https://api.github.com/users/electrical/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/electrical/subscriptions","organizations_url":"https://api.github.com/users/electrical/orgs","repos_url":"https://api.github.com/users/electrical/repos","events_url":"https://api.github.com/users/electrical/events{/privacy}","received_events_url":"https://api.github.com/users/electrical/received_events","type":"User","site_admin":false},"created_at":"2014-12-03T13:23:54Z","updated_at":"2014-12-03T13:23:54Z","author_association":"CONTRIBUTOR","body":"@abravorus the /etc/default/elasticsearch file should be created by the package. weird that it doesn't in your case.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/65406854","html_url":"https://github.com/elastic/elasticsearch/issues/8493#issuecomment-65406854","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8493","id":65406854,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDA2ODU0","user":{"login":"t-lo","id":71888,"node_id":"MDQ6VXNlcjcxODg4","avatar_url":"https://avatars2.githubusercontent.com/u/71888?v=4","gravatar_id":"","url":"https://api.github.com/users/t-lo","html_url":"https://github.com/t-lo","followers_url":"https://api.github.com/users/t-lo/followers","following_url":"https://api.github.com/users/t-lo/following{/other_user}","gists_url":"https://api.github.com/users/t-lo/gists{/gist_id}","starred_url":"https://api.github.com/users/t-lo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/t-lo/subscriptions","organizations_url":"https://api.github.com/users/t-lo/orgs","repos_url":"https://api.github.com/users/t-lo/repos","events_url":"https://api.github.com/users/t-lo/events{/privacy}","received_events_url":"https://api.github.com/users/t-lo/received_events","type":"User","site_admin":false},"created_at":"2014-12-03T13:34:16Z","updated_at":"2014-12-03T13:35:20Z","author_association":"CONTRIBUTOR","body":"@electrical I think @abravorus pointed out a problematic line in my (RPM specific) `.service` file: `EnvironmentFile=/etc/sysconfig/elasticsearch`. And I think he's right - for Debianesque systems this needs to be `EnvironmentFile=/etc/default/elasticsearch`.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/65406987","html_url":"https://github.com/elastic/elasticsearch/issues/8493#issuecomment-65406987","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8493","id":65406987,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDA2OTg3","user":{"login":"abravorus","id":1001162,"node_id":"MDQ6VXNlcjEwMDExNjI=","avatar_url":"https://avatars0.githubusercontent.com/u/1001162?v=4","gravatar_id":"","url":"https://api.github.com/users/abravorus","html_url":"https://github.com/abravorus","followers_url":"https://api.github.com/users/abravorus/followers","following_url":"https://api.github.com/users/abravorus/following{/other_user}","gists_url":"https://api.github.com/users/abravorus/gists{/gist_id}","starred_url":"https://api.github.com/users/abravorus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abravorus/subscriptions","organizations_url":"https://api.github.com/users/abravorus/orgs","repos_url":"https://api.github.com/users/abravorus/repos","events_url":"https://api.github.com/users/abravorus/events{/privacy}","received_events_url":"https://api.github.com/users/abravorus/received_events","type":"User","site_admin":false},"created_at":"2014-12-03T13:35:19Z","updated_at":"2014-12-03T13:35:19Z","author_association":"NONE","body":"Richard, it's created, no problem. But proposed .service file uses\n/etc/sysconfig/elasticsearch\nfile which doesn't exists in .deb . And I use, in my handmade .service\nfile /etc/default/elasticsearch\ninstead.\n\nAlexandr\n\nOn Wed, Dec 3, 2014 at 4:24 PM, Richard Pijnenburg <notifications@github.com\n\n> wrote:\n> \n> @abravorus https://github.com/abravorus the /etc/default/elasticsearch\n> file should be created by the package. weird that it doesn't in your case.\n> \n> —\n> Reply to this email directly or view it on GitHub\n> https://github.com/elasticsearch/elasticsearch/issues/8493#issuecomment-65405711\n> .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/65407020","html_url":"https://github.com/elastic/elasticsearch/issues/8493#issuecomment-65407020","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8493","id":65407020,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDA3MDIw","user":{"login":"electrical","id":271677,"node_id":"MDQ6VXNlcjI3MTY3Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/271677?v=4","gravatar_id":"","url":"https://api.github.com/users/electrical","html_url":"https://github.com/electrical","followers_url":"https://api.github.com/users/electrical/followers","following_url":"https://api.github.com/users/electrical/following{/other_user}","gists_url":"https://api.github.com/users/electrical/gists{/gist_id}","starred_url":"https://api.github.com/users/electrical/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/electrical/subscriptions","organizations_url":"https://api.github.com/users/electrical/orgs","repos_url":"https://api.github.com/users/electrical/repos","events_url":"https://api.github.com/users/electrical/events{/privacy}","received_events_url":"https://api.github.com/users/electrical/received_events","type":"User","site_admin":false},"created_at":"2014-12-03T13:35:36Z","updated_at":"2014-12-03T13:35:36Z","author_association":"CONTRIBUTOR","body":"Ahh i see. sorry. yeah, we will need to create a separate service file indeed.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/65407121","html_url":"https://github.com/elastic/elasticsearch/issues/8493#issuecomment-65407121","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8493","id":65407121,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDA3MTIx","user":{"login":"abravorus","id":1001162,"node_id":"MDQ6VXNlcjEwMDExNjI=","avatar_url":"https://avatars0.githubusercontent.com/u/1001162?v=4","gravatar_id":"","url":"https://api.github.com/users/abravorus","html_url":"https://github.com/abravorus","followers_url":"https://api.github.com/users/abravorus/followers","following_url":"https://api.github.com/users/abravorus/following{/other_user}","gists_url":"https://api.github.com/users/abravorus/gists{/gist_id}","starred_url":"https://api.github.com/users/abravorus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abravorus/subscriptions","organizations_url":"https://api.github.com/users/abravorus/orgs","repos_url":"https://api.github.com/users/abravorus/repos","events_url":"https://api.github.com/users/abravorus/events{/privacy}","received_events_url":"https://api.github.com/users/abravorus/received_events","type":"User","site_admin":false},"created_at":"2014-12-03T13:36:28Z","updated_at":"2014-12-03T13:36:28Z","author_association":"NONE","body":"Thilo, exactly. Probably this is due to the difference in RPM and .deb\nfolder structure.\n\nAlexandr\n\nOn Wed, Dec 3, 2014 at 4:34 PM, Thilo Fromm notifications@github.com\nwrote:\n\n> @electrical https://github.com/electrical I think @abravorus\n> https://github.com/abravorus pointed out a problematic line in the (RPM\n> specific) .service file: EnvironmentFile=/etc/sysconfig/elasticsearch.\n> And I think he's right - for Debianesque systems this needs to be\n> EnvironmentFile=/etc/default/elasticsearch.\n> \n> —\n> Reply to this email directly or view it on GitHub\n> https://github.com/elasticsearch/elasticsearch/issues/8493#issuecomment-65406854\n> .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/65407216","html_url":"https://github.com/elastic/elasticsearch/issues/8493#issuecomment-65407216","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8493","id":65407216,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NDA3MjE2","user":{"login":"t-lo","id":71888,"node_id":"MDQ6VXNlcjcxODg4","avatar_url":"https://avatars2.githubusercontent.com/u/71888?v=4","gravatar_id":"","url":"https://api.github.com/users/t-lo","html_url":"https://github.com/t-lo","followers_url":"https://api.github.com/users/t-lo/followers","following_url":"https://api.github.com/users/t-lo/following{/other_user}","gists_url":"https://api.github.com/users/t-lo/gists{/gist_id}","starred_url":"https://api.github.com/users/t-lo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/t-lo/subscriptions","organizations_url":"https://api.github.com/users/t-lo/orgs","repos_url":"https://api.github.com/users/t-lo/repos","events_url":"https://api.github.com/users/t-lo/events{/privacy}","received_events_url":"https://api.github.com/users/t-lo/received_events","type":"User","site_admin":false},"created_at":"2014-12-03T13:37:10Z","updated_at":"2014-12-03T13:37:10Z","author_association":"CONTRIBUTOR","body":"@abravorus thanks for pointing this out; I missed that :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/65542154","html_url":"https://github.com/elastic/elasticsearch/issues/8493#issuecomment-65542154","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8493","id":65542154,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTQyMTU0","user":{"login":"abravorus","id":1001162,"node_id":"MDQ6VXNlcjEwMDExNjI=","avatar_url":"https://avatars0.githubusercontent.com/u/1001162?v=4","gravatar_id":"","url":"https://api.github.com/users/abravorus","html_url":"https://github.com/abravorus","followers_url":"https://api.github.com/users/abravorus/followers","following_url":"https://api.github.com/users/abravorus/following{/other_user}","gists_url":"https://api.github.com/users/abravorus/gists{/gist_id}","starred_url":"https://api.github.com/users/abravorus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abravorus/subscriptions","organizations_url":"https://api.github.com/users/abravorus/orgs","repos_url":"https://api.github.com/users/abravorus/repos","events_url":"https://api.github.com/users/abravorus/events{/privacy}","received_events_url":"https://api.github.com/users/abravorus/received_events","type":"User","site_admin":false},"created_at":"2014-12-04T06:07:02Z","updated_at":"2014-12-04T06:07:02Z","author_association":"NONE","body":"Hi Thilo,\n\nI checked your .service file on one of my ES nodes under Debian 8. It\nworks, service starts/stops as expected.\nBut I didn't check it with full machine reboot because I can't do it now\n(and probably two weeks more). If this is not urgently I will let you know\nabout full reboot test as soon as I'll be able to do it.\n\nAlexandr\n\nOn Wed, Dec 3, 2014 at 4:10 PM, Thilo Fromm notifications@github.com\nwrote:\n\n> @abravorus https://github.com/abravorus Currently there are some\n> improvements to the ES .service file in the works. Most notably the ES\n> start script doesn't daemonize (so backgrounding is left to systemd), and\n> we use After=network-online.target to wait for networking before starting\n> ES. I checked with Fedora 21 and it behaves as expected.\n> Could you please test the new service file w/ Debian 8?\n> \n> [Unit]\n> Description=Starts and stops a single elasticsearch instance on this system\n> Documentation=http://www.elasticsearch.org\n> Wants=network-online.target\n> After=network-online.target\n> \n> [Service]\n> EnvironmentFile=/etc/sysconfig/elasticsearch\n> User=elasticsearch\n> Group=elasticsearch\n> ExecStart=/usr/share/elasticsearch/bin/elasticsearch            \\\n>                             -Des.default.config=$CONF_FILE      \\\n>                             -Des.default.path.home=$ES_HOME     \\\n>                             -Des.default.path.logs=$LOG_DIR     \\\n>                             -Des.default.path.data=$DATA_DIR    \\\n>                             -Des.default.path.work=$WORK_DIR    \\\n>                             -Des.default.path.conf=$CONF_DIR\n> \n> # See MAX_OPEN_FILES in sysconfig\n> \n> LimitNOFILE=65535\n> \n> # See MAX_LOCKED_MEMORY in sysconfig, use \"infinity\" when MAX_LOCKED_MEMORY=unlimited and using bootstrap.mlockall: true\n> \n> #LimitMEMLOCK=infinity\n> \n> # Shutdown delay in seconds, before process is tried to be killed with KILL (if configured)\n> \n> TimeoutStopSec=20\n> \n> [Install]\n> WantedBy=multi-user.target\n> \n> Regards,\n> Thilo\n> \n> —\n> Reply to this email directly or view it on GitHub\n> https://github.com/elasticsearch/elasticsearch/issues/8493#issuecomment-65404070\n> .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/65553259","html_url":"https://github.com/elastic/elasticsearch/issues/8493#issuecomment-65553259","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8493","id":65553259,"node_id":"MDEyOklzc3VlQ29tbWVudDY1NTUzMjU5","user":{"login":"t-lo","id":71888,"node_id":"MDQ6VXNlcjcxODg4","avatar_url":"https://avatars2.githubusercontent.com/u/71888?v=4","gravatar_id":"","url":"https://api.github.com/users/t-lo","html_url":"https://github.com/t-lo","followers_url":"https://api.github.com/users/t-lo/followers","following_url":"https://api.github.com/users/t-lo/following{/other_user}","gists_url":"https://api.github.com/users/t-lo/gists{/gist_id}","starred_url":"https://api.github.com/users/t-lo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/t-lo/subscriptions","organizations_url":"https://api.github.com/users/t-lo/orgs","repos_url":"https://api.github.com/users/t-lo/repos","events_url":"https://api.github.com/users/t-lo/events{/privacy}","received_events_url":"https://api.github.com/users/t-lo/received_events","type":"User","site_admin":false},"created_at":"2014-12-04T08:45:58Z","updated_at":"2014-12-04T08:45:58Z","author_association":"CONTRIBUTOR","body":"@abravorus Thanks for testing!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/65778213","html_url":"https://github.com/elastic/elasticsearch/issues/8493#issuecomment-65778213","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8493","id":65778213,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Nzc4MjEz","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2014-12-05T11:29:20Z","updated_at":"2014-12-05T11:29:20Z","author_association":"CONTRIBUTOR","body":"Fixed via #8765\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/65779033","html_url":"https://github.com/elastic/elasticsearch/issues/8493#issuecomment-65779033","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8493","id":65779033,"node_id":"MDEyOklzc3VlQ29tbWVudDY1Nzc5MDMz","user":{"login":"abravorus","id":1001162,"node_id":"MDQ6VXNlcjEwMDExNjI=","avatar_url":"https://avatars0.githubusercontent.com/u/1001162?v=4","gravatar_id":"","url":"https://api.github.com/users/abravorus","html_url":"https://github.com/abravorus","followers_url":"https://api.github.com/users/abravorus/followers","following_url":"https://api.github.com/users/abravorus/following{/other_user}","gists_url":"https://api.github.com/users/abravorus/gists{/gist_id}","starred_url":"https://api.github.com/users/abravorus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abravorus/subscriptions","organizations_url":"https://api.github.com/users/abravorus/orgs","repos_url":"https://api.github.com/users/abravorus/repos","events_url":"https://api.github.com/users/abravorus/events{/privacy}","received_events_url":"https://api.github.com/users/abravorus/received_events","type":"User","site_admin":false},"created_at":"2014-12-05T11:38:09Z","updated_at":"2014-12-05T11:38:09Z","author_association":"NONE","body":"Great, thanks!\n\nAlexandr\n\nOn Fri, Dec 5, 2014 at 2:30 PM, Adrien Grand notifications@github.com\nwrote:\n\n> Closed #8493 https://github.com/elasticsearch/elasticsearch/issues/8493.\n> \n> —\n> Reply to this email directly or view it on GitHub\n> https://github.com/elasticsearch/elasticsearch/issues/8493#event-203209705\n> .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/66281841","html_url":"https://github.com/elastic/elasticsearch/issues/8493#issuecomment-66281841","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8493","id":66281841,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjgxODQx","user":{"login":"abravorus","id":1001162,"node_id":"MDQ6VXNlcjEwMDExNjI=","avatar_url":"https://avatars0.githubusercontent.com/u/1001162?v=4","gravatar_id":"","url":"https://api.github.com/users/abravorus","html_url":"https://github.com/abravorus","followers_url":"https://api.github.com/users/abravorus/followers","following_url":"https://api.github.com/users/abravorus/following{/other_user}","gists_url":"https://api.github.com/users/abravorus/gists{/gist_id}","starred_url":"https://api.github.com/users/abravorus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abravorus/subscriptions","organizations_url":"https://api.github.com/users/abravorus/orgs","repos_url":"https://api.github.com/users/abravorus/repos","events_url":"https://api.github.com/users/abravorus/events{/privacy}","received_events_url":"https://api.github.com/users/abravorus/received_events","type":"User","site_admin":false},"created_at":"2014-12-09T13:26:47Z","updated_at":"2014-12-09T13:26:47Z","author_association":"NONE","body":"Hi Thilo, \n\nJust to let you know.\n.service file works as expected during full machine reboot too. Thanks to our electricians for the occasional 4-hours blackout :)\n\nAlexandr\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/66282310","html_url":"https://github.com/elastic/elasticsearch/issues/8493#issuecomment-66282310","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8493","id":66282310,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjgyMzEw","user":{"login":"t-lo","id":71888,"node_id":"MDQ6VXNlcjcxODg4","avatar_url":"https://avatars2.githubusercontent.com/u/71888?v=4","gravatar_id":"","url":"https://api.github.com/users/t-lo","html_url":"https://github.com/t-lo","followers_url":"https://api.github.com/users/t-lo/followers","following_url":"https://api.github.com/users/t-lo/following{/other_user}","gists_url":"https://api.github.com/users/t-lo/gists{/gist_id}","starred_url":"https://api.github.com/users/t-lo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/t-lo/subscriptions","organizations_url":"https://api.github.com/users/t-lo/orgs","repos_url":"https://api.github.com/users/t-lo/repos","events_url":"https://api.github.com/users/t-lo/events{/privacy}","received_events_url":"https://api.github.com/users/t-lo/received_events","type":"User","site_admin":false},"created_at":"2014-12-09T13:30:42Z","updated_at":"2014-12-09T13:30:42Z","author_association":"CONTRIBUTOR","body":"@abravorus Heh :D Thanks again for testing!\n","performed_via_github_app":null}]