[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/283734230","html_url":"https://github.com/elastic/elasticsearch/issues/23463#issuecomment-283734230","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23463","id":283734230,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzczNDIzMA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-03-02T18:16:29Z","updated_at":"2017-03-02T18:16:37Z","author_association":"MEMBER","body":"@glycerine I think that #20640 would meet your requirements. In this case, you would remove the default template that matches `*` that would specify `auto_create_index` set to `true`, and then indices could only be created if they match a template pattern that has `auto_create_index` set to `true`. Do you agree with this? If so, I would like to close this feature request as a duplicate of #20640.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/283739812","html_url":"https://github.com/elastic/elasticsearch/issues/23463#issuecomment-283739812","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23463","id":283739812,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzczOTgxMg==","user":{"login":"glycerine","id":445247,"node_id":"MDQ6VXNlcjQ0NTI0Nw==","avatar_url":"https://avatars2.githubusercontent.com/u/445247?v=4","gravatar_id":"","url":"https://api.github.com/users/glycerine","html_url":"https://github.com/glycerine","followers_url":"https://api.github.com/users/glycerine/followers","following_url":"https://api.github.com/users/glycerine/following{/other_user}","gists_url":"https://api.github.com/users/glycerine/gists{/gist_id}","starred_url":"https://api.github.com/users/glycerine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glycerine/subscriptions","organizations_url":"https://api.github.com/users/glycerine/orgs","repos_url":"https://api.github.com/users/glycerine/repos","events_url":"https://api.github.com/users/glycerine/events{/privacy}","received_events_url":"https://api.github.com/users/glycerine/received_events","type":"User","site_admin":false},"created_at":"2017-03-02T18:37:20Z","updated_at":"2017-03-02T18:37:20Z","author_association":"NONE","body":"Hi @jasontedor, thanks for pointing out #20640.\r\n\r\nI think that the suggestion works... I'm just trying to piece it all together.\r\n\r\nThe docs are a little confusing because `auto_create_index` can apparently be either a bool or a string, depending on context. To avoid confusion, I highly recommend using *a new name* for the new setting that goes *inside* the template. i.e. avoid reusing `auto_create_index` again as it is a string now (or proposed) and in a different location.\r\n\r\nhttps://www.elastic.co/guide/en/elasticsearch/reference/current/docs-index_.html#index-creation says\r\n\r\n> Automatic Index Creation\r\n>\r\n>The index operation automatically creates an index if it has not been created before (check out the create index API for manually creating an index), and also automatically creates a dynamic type mapping for the specific type if one has not yet been created (check out the put mapping API for manually creating a type mapping).\r\n>\r\n>The mapping itself is very flexible and is schema-free. New fields and objects will automatically be added to the mapping definition of the type specified. Check out the mapping section for more information on mapping definitions.\r\n>\r\n>Automatic index creation can be disabled by setting action.auto_create_index to false in the config file of all nodes. Automatic mapping creation can be disabled by setting index.mapper.dynamic to false per-index as an index setting.\r\n>\r\n>Automatic index creation can include a pattern based white/black list, for example, set action.auto_create_index to +aaa*,-bbb*,+ccc*,-* (+ meaning allowed, and - meaning disallowed).\r\n\r\nQ: In the example just above, the aaa* would be referring to... is that a regex to match an index name?\r\n\r\nIt would help to be discussing a specific example. Lets ask this: to accomplish the desired goal expressed in this ticket, what would be the steps, the precise protocol, to activate the \"no-new-index-without-a-template\" Step 1, step 2, step 3...","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/283741816","html_url":"https://github.com/elastic/elasticsearch/issues/23463#issuecomment-283741816","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23463","id":283741816,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Mzc0MTgxNg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-03-02T18:44:51Z","updated_at":"2017-03-02T18:44:51Z","author_association":"MEMBER","body":"> Q: In the example just above, the aaa* would be referring to... is that a regex to match an index name?\r\n\r\nYes, it's a regex.\r\n\r\n> Lets ask this: to accomplish the desired goal expressed in this ticket, what would be the steps, the precise protocol, to activate the \"no-new-index-without-a-template\"\r\n\r\nGiven the proposal in #20640, it would be only to remove the default template that matches `*` that has `auto_create_index` set to `true`. The only way that an index can be created without that template existing is if there is a template existing whose template pattern matches the name of the index being created. As such, it would then be created from the relevant template(s). Given your other requirement:\r\n\r\n> I really, really don't want elasticsearch (ES) to be guessing about the types of fields.\r\n\r\nyou would also want to disable dynamic mapping (`index.mapper.dynamic`).\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/283741903","html_url":"https://github.com/elastic/elasticsearch/issues/23463#issuecomment-283741903","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23463","id":283741903,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Mzc0MTkwMw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-03-02T18:45:12Z","updated_at":"2017-03-02T18:45:12Z","author_association":"MEMBER","body":"Duplicates #20640","performed_via_github_app":null}]