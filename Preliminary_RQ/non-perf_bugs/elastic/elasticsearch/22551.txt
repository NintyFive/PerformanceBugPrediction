{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/22551","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22551/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22551/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22551/events","html_url":"https://github.com/elastic/elasticsearch/issues/22551","id":200060600,"node_id":"MDU6SXNzdWUyMDAwNjA2MDA=","number":22551,"title":"ShardStats causing IllegalStateException, nodes get disconnected","user":{"login":"fulax","id":469047,"node_id":"MDQ6VXNlcjQ2OTA0Nw==","avatar_url":"https://avatars2.githubusercontent.com/u/469047?v=4","gravatar_id":"","url":"https://api.github.com/users/fulax","html_url":"https://github.com/fulax","followers_url":"https://api.github.com/users/fulax/followers","following_url":"https://api.github.com/users/fulax/following{/other_user}","gists_url":"https://api.github.com/users/fulax/gists{/gist_id}","starred_url":"https://api.github.com/users/fulax/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fulax/subscriptions","organizations_url":"https://api.github.com/users/fulax/orgs","repos_url":"https://api.github.com/users/fulax/repos","events_url":"https://api.github.com/users/fulax/events{/privacy}","received_events_url":"https://api.github.com/users/fulax/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":14,"created_at":"2017-01-11T10:50:04Z","updated_at":"2017-12-14T09:56:05Z","closed_at":"2017-01-11T11:12:33Z","author_association":"NONE","active_lock_reason":null,"body":"**Elasticsearch version**: 5.1.1, from Elastic Artifacts repositories\r\n\r\n**Plugins installed**: [x-pack]\r\n\r\n**JVM version**: Java(TM) SE Runtime Environment (build 1.8.0_65-b17) (custom .deb packaging of Oracle's tarball)\r\n\r\n**OS version**: Debian 8.6\r\n\r\n**Description of the problem including expected versus actual behavior**: Some data only nodes close their connection with the master node, resulting in unstable cluster state. The recovery process get stuck with ShardLockObtainFailedException and some shards never get assigned.\r\n\r\nWe have this issue for a few days. We installed the x-pack plugin to have a closer look at the metrics of the cluster. We also explicitely move to netty3 instead of netty4 to check for differences.\r\n\r\n**Steps to reproduce**:\r\n 1. Have a 5 node cluster : 4 data-only nodes, 1 master/ingest node\r\n 2. Do intensive read/write on the cluster using some app using the Elasticsearch Transport Client (5.1.1)\r\n 3. Observe the cluster state using 3rd party apps, like [cerebro](https://github.com/lmenezes/cerebro)\r\n\r\nThe cluster went well all night with only the XPack Monitoring plugin running. But this morning, we started cerebro again, and we got the following stack trace an hour or so after. Like we observed the days before.\r\n\r\n**Provide logs (if relevant)**:\r\n\r\nStack trace on the master node:\r\n\r\n```\r\n[2017-01-11T11:24:40,903][DEBUG][o.e.a.a.c.n.s.TransportNodesStatsAction] [phelps-esmaster] failed to execute on node [igq1a76pSw674dis_jrjZA]\r\norg.elasticsearch.transport.RemoteTransportException: [Failed to deserialize response of type [org.elasticsearch.action.admin.cluster.node.stats.NodeStats]]\r\nCaused by: org.elasticsearch.transport.TransportSerializationException: Failed to deserialize response of type [org.elasticsearch.action.admin.cluster.node.stats.NodeStats]\r\n\tat org.elasticsearch.transport.TcpTransport.handleResponse(TcpTransport.java:1278) [elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.transport.TcpTransport.messageReceived(TcpTransport.java:1250) [elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.transport.netty3.Netty3MessageChannelHandler.messageReceived(Netty3MessageChannelHandler.java:73) [transport-netty3-5.1.1.jar:5.1.1]\r\n\tat org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:296) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.handler.codec.frame.FrameDecoder.unfoldAndFireMessageReceived(FrameDecoder.java:462) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.handler.codec.frame.FrameDecoder.callDecode(FrameDecoder.java:443) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.handler.codec.frame.FrameDecoder.messageReceived(FrameDecoder.java:310) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:559) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:268) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:255) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:88) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.socket.nio.AbstractNioWorker.process(AbstractNioWorker.java:108) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.socket.nio.AbstractNioSelector.run(AbstractNioSelector.java:337) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:89) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:178) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:108) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42) [netty-3.10.6.Final.jar:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_65]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_65]\r\n\tat java.lang.Thread.run(Thread.java:745) [?:1.8.0_65]\r\nCaused by: java.lang.IllegalStateException: No routing state mapped for [0]\r\n\tat org.elasticsearch.cluster.routing.ShardRoutingState.fromValue(ShardRoutingState.java:71) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.cluster.routing.ShardRouting.<init>(ShardRouting.java:254) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.cluster.routing.ShardRouting.<init>(ShardRouting.java:274) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.action.admin.indices.stats.ShardStats.readFrom(ShardStats.java:92) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.action.admin.indices.stats.ShardStats.readShardStats(ShardStats.java:86) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.action.admin.indices.stats.IndexShardStats.readFrom(IndexShardStats.java:99) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.action.admin.indices.stats.IndexShardStats.readIndexShardStats(IndexShardStats.java:114) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.indices.NodeIndicesStats.readFrom(NodeIndicesStats.java:166) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.indices.NodeIndicesStats.readIndicesStats(NodeIndicesStats.java:151) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.action.admin.cluster.node.stats.NodeStats.readFrom(NodeStats.java:212) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.transport.TcpTransport.handleResponse(TcpTransport.java:1275) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.transport.TcpTransport.messageReceived(TcpTransport.java:1250) [elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.transport.netty3.Netty3MessageChannelHandler.messageReceived(Netty3MessageChannelHandler.java:73) ~[?:?]\r\n\tat org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70) ~[?:?]\r\n\tat org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564) ~[?:?]\r\n\tat org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791) ~[?:?]\r\n\tat org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:296) ~[?:?]\r\n\tat org.jboss.netty.handler.codec.frame.FrameDecoder.unfoldAndFireMessageReceived(FrameDecoder.java:462) ~[?:?]\r\n\tat org.jboss.netty.handler.codec.frame.FrameDecoder.callDecode(FrameDecoder.java:443) ~[?:?]\r\n\tat org.jboss.netty.handler.codec.frame.FrameDecoder.messageReceived(FrameDecoder.java:310) ~[?:?]\r\n\tat org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70) ~[?:?]\r\n\tat org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564) ~[?:?]\r\n\tat org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:559) ~[?:?]\r\n\tat org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:268) ~[?:?]\r\n\tat org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:255) ~[?:?]\r\n\tat org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:88) ~[?:?]\r\n\tat org.jboss.netty.channel.socket.nio.AbstractNioWorker.process(AbstractNioWorker.java:108) ~[?:?]\r\n\tat org.jboss.netty.channel.socket.nio.AbstractNioSelector.run(AbstractNioSelector.java:337) ~[?:?]\r\n\tat org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:89) ~[?:?]\r\n\tat org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:178) ~[?:?]\r\n\tat org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:108) ~[?:?]\r\n\tat org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42) ~[?:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[?:1.8.0_65]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) ~[?:1.8.0_65]\r\n\tat java.lang.Thread.run(Thread.java:745) ~[?:1.8.0_65]\r\n[2017-01-11T11:24:40,915][WARN ][o.e.a.a.c.n.s.TransportNodesStatsAction] [phelps-esmaster] not accumulating exceptions, excluding exception from response\r\norg.elasticsearch.action.FailedNodeException: Failed node [igq1a76pSw674dis_jrjZA]\r\n\tat org.elasticsearch.action.support.nodes.TransportNodesAction$AsyncAction.onFailure(TransportNodesAction.java:247) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.action.support.nodes.TransportNodesAction$AsyncAction.access$300(TransportNodesAction.java:160) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.action.support.nodes.TransportNodesAction$AsyncAction$1.handleException(TransportNodesAction.java:219) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.transport.TransportService$ContextRestoreResponseHandler.handleException(TransportService.java:984) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.transport.TcpTransport.lambda$handleException$17(TcpTransport.java:1314) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.common.util.concurrent.EsExecutors$1.execute(EsExecutors.java:109) [elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.transport.TcpTransport.handleException(TcpTransport.java:1312) [elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.transport.TcpTransport.handleResponse(TcpTransport.java:1277) [elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.transport.TcpTransport.messageReceived(TcpTransport.java:1250) [elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.transport.netty3.Netty3MessageChannelHandler.messageReceived(Netty3MessageChannelHandler.java:73) [transport-netty3-5.1.1.jar:5.1.1]\r\n\tat org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:296) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.handler.codec.frame.FrameDecoder.unfoldAndFireMessageReceived(FrameDecoder.java:462) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.handler.codec.frame.FrameDecoder.callDecode(FrameDecoder.java:443) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.handler.codec.frame.FrameDecoder.messageReceived(FrameDecoder.java:310) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:559) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:268) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:255) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:88) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.socket.nio.AbstractNioWorker.process(AbstractNioWorker.java:108) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.socket.nio.AbstractNioSelector.run(AbstractNioSelector.java:337) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:89) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:178) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:108) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42) [netty-3.10.6.Final.jar:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_65]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_65]\r\n\tat java.lang.Thread.run(Thread.java:745) [?:1.8.0_65]\r\nCaused by: org.elasticsearch.transport.RemoteTransportException: [Failed to deserialize response of type [org.elasticsearch.action.admin.cluster.node.stats.NodeStats]]\r\nCaused by: org.elasticsearch.transport.TransportSerializationException: Failed to deserialize response of type [org.elasticsearch.action.admin.cluster.node.stats.NodeStats]\r\n\tat org.elasticsearch.transport.TcpTransport.handleResponse(TcpTransport.java:1278) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\t... 24 more\r\nCaused by: java.lang.IllegalStateException: No routing state mapped for [0]\r\n\tat org.elasticsearch.cluster.routing.ShardRoutingState.fromValue(ShardRoutingState.java:71) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.cluster.routing.ShardRouting.<init>(ShardRouting.java:254) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.cluster.routing.ShardRouting.<init>(ShardRouting.java:274) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.action.admin.indices.stats.ShardStats.readFrom(ShardStats.java:92) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.action.admin.indices.stats.ShardStats.readShardStats(ShardStats.java:86) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.action.admin.indices.stats.IndexShardStats.readFrom(IndexShardStats.java:99) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.action.admin.indices.stats.IndexShardStats.readIndexShardStats(IndexShardStats.java:114) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.indices.NodeIndicesStats.readFrom(NodeIndicesStats.java:166) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.indices.NodeIndicesStats.readIndicesStats(NodeIndicesStats.java:151) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.action.admin.cluster.node.stats.NodeStats.readFrom(NodeStats.java:212) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.transport.TcpTransport.handleResponse(TcpTransport.java:1275) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\t... 24 more\r\n[2017-01-11T11:24:40,918][WARN ][o.e.t.n.Netty3Transport  ] [phelps-esmaster] exception caught on transport layer [[id: 0xf03cea9c, /85.***.***.***:59260 => 85.***.***.***/***.***.***.24:9300]], closing connection\r\njava.lang.IllegalStateException: Message not fully read (response) for requestId [1227461], handler [org.elasticsearch.transport.TransportService$ContextRestoreResponseHandler/org.elasticsearch.action.support.nodes.TransportNodesAction$AsyncAction$1@4f03a31a], error [false]; resetting\r\n\tat org.elasticsearch.transport.TcpTransport.messageReceived(TcpTransport.java:1257) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.transport.netty3.Netty3MessageChannelHandler.messageReceived(Netty3MessageChannelHandler.java:73) ~[transport-netty3-5.1.1.jar:5.1.1]\r\n\tat org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70) ~[netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.DefaultChannelPipeline$DefaultChannelHandlerContext.sendUpstream(DefaultChannelPipeline.java:791) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:296) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.handler.codec.frame.FrameDecoder.unfoldAndFireMessageReceived(FrameDecoder.java:462) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.handler.codec.frame.FrameDecoder.callDecode(FrameDecoder.java:443) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.handler.codec.frame.FrameDecoder.messageReceived(FrameDecoder.java:310) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.SimpleChannelUpstreamHandler.handleUpstream(SimpleChannelUpstreamHandler.java:70) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:564) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.DefaultChannelPipeline.sendUpstream(DefaultChannelPipeline.java:559) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:268) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.Channels.fireMessageReceived(Channels.java:255) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.socket.nio.NioWorker.read(NioWorker.java:88) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.socket.nio.AbstractNioWorker.process(AbstractNioWorker.java:108) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.socket.nio.AbstractNioSelector.run(AbstractNioSelector.java:337) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:89) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.channel.socket.nio.NioWorker.run(NioWorker.java:178) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:108) [netty-3.10.6.Final.jar:?]\r\n\tat org.jboss.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42) [netty-3.10.6.Final.jar:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_65]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_65]\r\n\tat java.lang.Thread.run(Thread.java:745) [?:1.8.0_65]\r\n[2017-01-11T11:24:40,950][INFO ][o.e.c.r.a.AllocationService] [phelps-esmaster] Cluster health status changed from [GREEN] to [RED] (reason: [{mc9l4}{igq1a76pSw674dis_jrjZA}{PonYN4HbSpCdiYa4ZlSmKw}{***.***.***.24}{***.***.***.24:9300} transport disconnected]).\r\n[2017-01-11T11:24:40,950][INFO ][o.e.c.s.ClusterService   ] [phelps-esmaster] removed {{mc9l4}{igq1a76pSw674dis_jrjZA}{PonYN4HbSpCdiYa4ZlSmKw}{***.***.***.24}{***.***.***.24:9300},}, reason: zen-disco-node-failed({mc9l4}{igq1a76pSw674dis_jrjZA}{PonYN4HbSpCdiYa4ZlSmKw}{***.***.***.24}{***.***.***.24:9300}), reason(transport disconnected)[{mc9l4}{igq1a76pSw674dis_jrjZA}{PonYN4HbSpCdiYa4ZlSmKw}{***.***.***.24}{***.***.***.24:9300} transport disconnected]\r\n[2017-01-11T11:24:41,299][INFO ][o.e.c.r.DelayedAllocationService] [phelps-esmaster] scheduling reroute for delayed shards in [59.6s] (59 delayed shards)\r\n```\r\n\r\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}