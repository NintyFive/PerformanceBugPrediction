{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/6341","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6341/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6341/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6341/events","html_url":"https://github.com/elastic/elasticsearch/issues/6341","id":34579753,"node_id":"MDU6SXNzdWUzNDU3OTc1Mw==","number":6341,"title":"Highlighting tags do not surround special characters at end of search string","user":{"login":"roblangenfeld","id":1999493,"node_id":"MDQ6VXNlcjE5OTk0OTM=","avatar_url":"https://avatars2.githubusercontent.com/u/1999493?v=4","gravatar_id":"","url":"https://api.github.com/users/roblangenfeld","html_url":"https://github.com/roblangenfeld","followers_url":"https://api.github.com/users/roblangenfeld/followers","following_url":"https://api.github.com/users/roblangenfeld/following{/other_user}","gists_url":"https://api.github.com/users/roblangenfeld/gists{/gist_id}","starred_url":"https://api.github.com/users/roblangenfeld/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roblangenfeld/subscriptions","organizations_url":"https://api.github.com/users/roblangenfeld/orgs","repos_url":"https://api.github.com/users/roblangenfeld/repos","events_url":"https://api.github.com/users/roblangenfeld/events{/privacy}","received_events_url":"https://api.github.com/users/roblangenfeld/received_events","type":"User","site_admin":false},"labels":[{"id":111549183,"node_id":"MDU6TGFiZWwxMTE1NDkxODM=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Highlighting","name":":Search/Highlighting","color":"0e8a16","default":false,"description":"How a query matched a document"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2014-05-29T18:30:54Z","updated_at":"2016-11-24T18:47:21Z","closed_at":"2016-11-24T18:47:21Z","author_association":"NONE","active_lock_reason":null,"body":"Elastic Search Version 1.1\nJava API\n\nIssue: We are using elastic search 1.1 and performing highlighting on the our results. We starting noticing a particularly strange occurence where the tags where being inserted in regards to single quotes.\n\nIf I were to search the exact sting (with single quotes): 'de\nI am returned this string as one of my results (this works):\n<b>'de</b>termine output from\nHowever if I perform this search: de'\nNow the tags do no honor the single quote anymore and this string is returned:\n'Add co<b>de</b>' button\n\nSo the issue here is that when it comes to highlighting, es is not honoring trailing single quotes in the highlighting. But if the quote comes first in the search string it will honor it in the highlighting. Elastic search should honor wrapping the highlighting tags around the entirely found search string when it ends with a single quote.\n\nUpdate:\n\nThis issue also occurs with any special character \" / \\ | and more when they are the last item in the search string, they don't get highlighted.\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}