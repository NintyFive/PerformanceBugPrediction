{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/14056","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14056/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14056/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14056/events","html_url":"https://github.com/elastic/elasticsearch/issues/14056","id":110756484,"node_id":"MDU6SXNzdWUxMTA3NTY0ODQ=","number":14056,"title":"bonsai-elasticsearch-rails - cannot require 'elasticsearch/rails/tasks/import'","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars3.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-10-10T00:31:00Z","updated_at":"2015-10-10T01:44:43Z","closed_at":"2015-10-10T01:44:43Z","author_association":"NONE","active_lock_reason":null,"body":"When I run: \n\n```\n$ heroku run bundle exec rake environment elasticsearch:import:model CLASS='Artist' FORCE=true\n```\n\nmy terminal response is \n\n```\nRunning bundle exec rake environment elasticsearch:import:model CLASS=Artist FORCE=true on doremi... up, run.3015\nStarting up a new ElasticSearch client with https://hexcode.bonsai.io\nrake aborted!\nNameError: uninitialized constant Elasticsearch\n/app/vendor/bundle/ruby/2.0.0/gems/bonsai-elasticsearch-rails-0.0.4/lib/bonsai/elasticsearch/rails.rb:4:in `<top (required)>'\n/app/vendor/bundle/ruby/2.0.0/gems/bundler-1.9.7/lib/bundler/runtime.rb:85:in `require'\n/app/vendor/bundle/ruby/2.0.0/gems/bundler-1.9.7/lib/bundler/runtime.rb:85:in `rescue in block in require'\n/app/vendor/bundle/ruby/2.0.0/gems/bundler-1.9.7/lib/bundler/runtime.rb:68:in `block in require'\n/app/vendor/bundle/ruby/2.0.0/gems/bundler-1.9.7/lib/bundler/runtime.rb:61:in `each'\n/app/vendor/bundle/ruby/2.0.0/gems/bundler-1.9.7/lib/bundler/runtime.rb:61:in `require'\n/app/vendor/bundle/ruby/2.0.0/gems/bundler-1.9.7/lib/bundler.rb:134:in `require'\n/app/config/application.rb:16:in `<top (required)>'\n/app/Rakefile:4:in `require'\n/app/Rakefile:4:in `<top (required)>'\n(See full trace by running task with --trace)\n```\n\nI have checked that all my elastic-\\* gems are their most up to date versions: 0.1.7 for elasticsearch-rails and elasticsearch-model, 0.0.4 for bonsai-elasticsearch-rails, however I did notice here https://rubygems.org/gems/bonsai-elasticsearch-rails that bonsai-elastic-search rails depends on bundler 1.5 and Heroku is using 1.9.7 which is not possible to change as far as I can see. Could this be the crux of the matter?\n\nI also have a similar error in my logs when I try to deploy\n\n```\nOct 09 17:04:27 doremi app/worker.1:  NameError: uninitialized constant Elasticsearch \nOct 09 17:04:27 doremi app/worker.1:  rake aborted! \nOct 09 17:04:27 doremi app/worker.1:  /app/vendor/bundle/ruby/2.2.0/gems/bonsai-elasticsearch-rails-0.0.4/lib/bonsai/elasticsearch/rails.rb:4:in `<top (required)>' \nOct 09 17:04:27 doremi app/worker.1:  /app/vendor/bundle/ruby/2.2.0/gems/bundler-1.9.7/lib/bundler/runtime.rb:85:in `require' \nOct 09 17:04:27 doremi app/worker.1:  /app/vendor/bundle/ruby/2.2.0/gems/bundler-1.9.7/lib/bundler/runtime.rb:85:in `rescue in block in require' \nOct 09 17:04:27 doremi app/worker.1:  /app/vendor/bundle/ruby/2.2.0/gems/bundler-1.9.7/lib/bundler/runtime.rb:68:in `block in require' \nOct 09 17:04:27 doremi app/worker.1:  /app/vendor/bundle/ruby/2.2.0/gems/bundler-1.9.7/lib/bundler/runtime.rb:61:in `each' \nOct 09 17:04:27 doremi app/worker.1:  /app/vendor/bundle/ruby/2.2.0/gems/bundler-1.9.7/lib/bundler/runtime.rb:61:in `require' \nOct 09 17:04:27 doremi app/worker.1:  /app/vendor/bundle/ruby/2.2.0/gems/bundler-1.9.7/lib/bundler.rb:134:in `require' \nOct 09 17:04:27 doremi app/worker.1:  /app/config/application.rb:16:in `<top (required)>' \nOct 09 17:04:27 doremi app/worker.1:  /app/Rakefile:4:in `require' \nOct 09 17:04:27 doremi app/worker.1:  /app/Rakefile:4:in `<top (required)>' \nOct 09 17:04:27 doremi app/worker.1:  LoadError: cannot load such file -- bonsai-elasticsearch-rails \nOct 09 17:04:27 doremi app/worker.1:  /app/vendor/bundle/ruby/2.2.0/gems/bundler-1.9.7/lib/bundler/runtime.rb:76:in `require' \nOct 09 17:04:27 doremi app/worker.1:  /app/vendor/bundle/ruby/2.2.0/gems/bundler-1.9.7/lib/bundler/runtime.rb:76:in `block (2 levels) in require' \nOct 09 17:04:27 doremi app/worker.1:  /app/vendor/bundle/ruby/2.2.0/gems/bundler-1.9.7/lib/bundler/runtime.rb:72:in `each' \nOct 09 17:04:27 doremi app/worker.1:  /app/vendor/bundle/ruby/2.2.0/gems/bundler-1.9.7/lib/bundler/runtime.rb:72:in `block in require' \nOct 09 17:04:27 doremi app/worker.1:  /app/vendor/bundle/ruby/2.2.0/gems/bundler-1.9.7/lib/bundler/runtime.rb:61:in `each' \nOct 09 17:04:27 doremi app/worker.1:  /app/vendor/bundle/ruby/2.2.0/gems/bundler-1.9.7/lib/bundler/runtime.rb:61:in `require' \nOct 09 17:04:27 doremi app/worker.1:  /app/vendor/bundle/ruby/2.2.0/gems/bundler-1.9.7/lib/bundler.rb:134:in `require' \nOct 09 17:04:27 doremi app/worker.1:  /app/config/application.rb:16:in `<top (required)>' \nOct 09 17:04:27 doremi app/worker.1:  /app/Rakefile:4:in `require' \nOct 09 17:04:27 doremi app/worker.1:  /app/Rakefile:4:in `<top (required)>' \n```\n","closed_by":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"performed_via_github_app":null}