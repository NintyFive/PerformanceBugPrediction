{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/64026","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/64026/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/64026/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/64026/events","html_url":"https://github.com/elastic/elasticsearch/issues/64026","id":726913389,"node_id":"MDU6SXNzdWU3MjY5MTMzODk=","number":64026,"title":"Switch back to AdoptOpenJDK for bundled jdk","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"labels":[{"id":114977275,"node_id":"MDU6TGFiZWwxMTQ5NzcyNzU=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Packaging","name":":Delivery/Packaging","color":"0e8a16","default":false,"description":"RPM and deb packaging, tar and zip archives, shell and batch scripts"},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-10-21T22:45:10Z","updated_at":"2020-11-11T22:03:12Z","closed_at":"2020-10-29T17:55:47Z","author_association":"MEMBER","active_lock_reason":null,"body":"We recently switched the bundled jdk back to Oracle, to maintain support for CentOS 6/OEL 6/RHEL 6, which was broken with jdk 15 of adoptopenjdk (https://github.com/AdoptOpenJDK/openjdk-build/issues/2097). While this worked to get jdk 15 working on those older platforms, this causes an issue with homebrew:\r\n\r\n```\r\n==> find /usr/local/Cellar/elasticsearch-full/7.9.3/libexec/jdk.app/Contents/Home/bin -type f -exec\r\nError: Failed changing dylib ID of /usr/local/Cellar/elasticsearch-full/7.9.3/libexec/jdk.app/Contents/Home/lib/libnet.dylib\r\n  from @rpath/libnet.dylib\r\n    to /usr/local/opt/elasticsearch-full/libexec/jdk.app/Contents/Home/lib/libnet.dylib\r\nError: Failed to fix install linkage\r\nThe formula built, but you may encounter issues using it or linking other\r\nformulae against it.\r\n```\r\n\r\nIt is unclear how this issue can be fixed without recompiling the jdk. Fortunately the original issue upstream in AdoptOpenJDK has been fixed, and the 15.0.1 release should again support RHEL 6 and friends. We should switch back to adoptopenjdk, since we know it does not have this issue with homebrew.","closed_by":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"performed_via_github_app":null}