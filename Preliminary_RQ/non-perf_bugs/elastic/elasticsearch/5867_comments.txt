[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/40802514","html_url":"https://github.com/elastic/elasticsearch/issues/5867#issuecomment-40802514","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5867","id":40802514,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODAyNTE0","user":{"login":"uboness","id":211019,"node_id":"MDQ6VXNlcjIxMTAxOQ==","avatar_url":"https://avatars3.githubusercontent.com/u/211019?v=4","gravatar_id":"","url":"https://api.github.com/users/uboness","html_url":"https://github.com/uboness","followers_url":"https://api.github.com/users/uboness/followers","following_url":"https://api.github.com/users/uboness/following{/other_user}","gists_url":"https://api.github.com/users/uboness/gists{/gist_id}","starred_url":"https://api.github.com/users/uboness/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uboness/subscriptions","organizations_url":"https://api.github.com/users/uboness/orgs","repos_url":"https://api.github.com/users/uboness/repos","events_url":"https://api.github.com/users/uboness/events{/privacy}","received_events_url":"https://api.github.com/users/uboness/received_events","type":"User","site_admin":false},"created_at":"2014-04-18T11:21:19Z","updated_at":"2014-04-18T11:21:19Z","author_association":"CONTRIBUTOR","body":"not sure about this... first I'm not sure it's really needed... second, if it is something ppl would really like to have, this feels like a partial feature, if we go down this route, I'd rather return the full agg configuration, not just the type (for example, I believe ppl asked in the past to get back the `interval` of the histos along with the response).\n\n@clintongormley @jpountz what do you think?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/40802678","html_url":"https://github.com/elastic/elasticsearch/issues/5867#issuecomment-40802678","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5867","id":40802678,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODAyNjc4","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-04-18T11:25:47Z","updated_at":"2014-04-18T11:25:47Z","author_association":"CONTRIBUTOR","body":"Hmm, it makes more sense to me to just hang on to the original request, rather than to pass the config back over the wire again, same as we do `bulk` and `mget`. But maybe this is easier to do in a scripting language than in .net\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/40802950","html_url":"https://github.com/elastic/elasticsearch/issues/5867#issuecomment-40802950","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5867","id":40802950,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODAyOTUw","user":{"login":"uboness","id":211019,"node_id":"MDQ6VXNlcjIxMTAxOQ==","avatar_url":"https://avatars3.githubusercontent.com/u/211019?v=4","gravatar_id":"","url":"https://api.github.com/users/uboness","html_url":"https://github.com/uboness","followers_url":"https://api.github.com/users/uboness/followers","following_url":"https://api.github.com/users/uboness/following{/other_user}","gists_url":"https://api.github.com/users/uboness/gists{/gist_id}","starred_url":"https://api.github.com/users/uboness/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uboness/subscriptions","organizations_url":"https://api.github.com/users/uboness/orgs","repos_url":"https://api.github.com/users/uboness/repos","events_url":"https://api.github.com/users/uboness/events{/privacy}","received_events_url":"https://api.github.com/users/uboness/received_events","type":"User","site_admin":false},"created_at":"2014-04-18T11:33:52Z","updated_at":"2014-04-18T11:33:52Z","author_association":"CONTRIBUTOR","body":"yeah... I'd prefer to hang on original request as well... it feels wrong from many perspectives and inconsistent with other apis (as @clintongormley mentioned, `bulk` and `mget`, but one could also ask why we don't return the query back together with the search response).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/40806408","html_url":"https://github.com/elastic/elasticsearch/issues/5867#issuecomment-40806408","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5867","id":40806408,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODA2NDA4","user":{"login":"Mpdreamz","id":245275,"node_id":"MDQ6VXNlcjI0NTI3NQ==","avatar_url":"https://avatars3.githubusercontent.com/u/245275?v=4","gravatar_id":"","url":"https://api.github.com/users/Mpdreamz","html_url":"https://github.com/Mpdreamz","followers_url":"https://api.github.com/users/Mpdreamz/followers","following_url":"https://api.github.com/users/Mpdreamz/following{/other_user}","gists_url":"https://api.github.com/users/Mpdreamz/gists{/gist_id}","starred_url":"https://api.github.com/users/Mpdreamz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Mpdreamz/subscriptions","organizations_url":"https://api.github.com/users/Mpdreamz/orgs","repos_url":"https://api.github.com/users/Mpdreamz/repos","events_url":"https://api.github.com/users/Mpdreamz/events{/privacy}","received_events_url":"https://api.github.com/users/Mpdreamz/received_events","type":"User","site_admin":false},"created_at":"2014-04-18T12:53:57Z","updated_at":"2014-04-18T12:59:01Z","author_association":"MEMBER","body":"I have to respectfully disagree with both of you here :)\n\nThis is how a facet response looks like:\n\n```\n\"facets\": {\n      \"myfacet\": {\n         \"_type\": \"terms\",\n         \"missing\": 0,\n         \"total\": 2,\n         \"other\": 0,\n         \"terms\": []\n      }\n   },\n```\n\nSo spitting out `_type` for aggregations makes it actually all the more consistent. \n\nHaving deserialization state is a real pain in .NET since the whole deserialization is a single pass and most serializers can not hold state while creating custom converters. I had to piggy back in a very hackish manner in `JSON.NET` to support `multi_search` `mget` `bulk` responses and the fact that I had to do so made injecting other serializers in NEST (not Elasticsearch.Net btw) impossible..\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/40808197","html_url":"https://github.com/elastic/elasticsearch/issues/5867#issuecomment-40808197","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5867","id":40808197,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODA4MTk3","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2014-04-18T13:27:07Z","updated_at":"2014-04-18T13:27:07Z","author_association":"CONTRIBUTOR","body":"I'm afraid giving the whole configuration back would make the response bloated. But on the other hand if we start giving options in order to only render the type or the interval, it would be a pain to test.\n\nMaybe something that would be flexible and reasonably easy to do/test/maintain would be to let users add arbitrary metadata to aggregations at query time that we would render back in the aggregations response. This way, if a client needs the aggregation type to make deserialization easier, it could just add it to this metadata (same for histogram interval)?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/40808432","html_url":"https://github.com/elastic/elasticsearch/issues/5867#issuecomment-40808432","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5867","id":40808432,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODA4NDMy","user":{"login":"Mpdreamz","id":245275,"node_id":"MDQ6VXNlcjI0NTI3NQ==","avatar_url":"https://avatars3.githubusercontent.com/u/245275?v=4","gravatar_id":"","url":"https://api.github.com/users/Mpdreamz","html_url":"https://github.com/Mpdreamz","followers_url":"https://api.github.com/users/Mpdreamz/followers","following_url":"https://api.github.com/users/Mpdreamz/following{/other_user}","gists_url":"https://api.github.com/users/Mpdreamz/gists{/gist_id}","starred_url":"https://api.github.com/users/Mpdreamz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Mpdreamz/subscriptions","organizations_url":"https://api.github.com/users/Mpdreamz/orgs","repos_url":"https://api.github.com/users/Mpdreamz/repos","events_url":"https://api.github.com/users/Mpdreamz/events{/privacy}","received_events_url":"https://api.github.com/users/Mpdreamz/received_events","type":"User","site_admin":false},"created_at":"2014-04-18T13:31:01Z","updated_at":"2014-04-18T13:31:01Z","author_association":"MEMBER","body":"This isn't about configuration or request state though is about giving enough information back to be able to deserialize/know what we the thing that is being returned actually is. \n\nTo me returning `_type` here is not analogous to returning the original query on search results or passed options to the aggregations itself.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/45840274","html_url":"https://github.com/elastic/elasticsearch/issues/5867#issuecomment-45840274","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5867","id":45840274,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1ODQwMjc0","user":{"login":"Mpdreamz","id":245275,"node_id":"MDQ6VXNlcjI0NTI3NQ==","avatar_url":"https://avatars3.githubusercontent.com/u/245275?v=4","gravatar_id":"","url":"https://api.github.com/users/Mpdreamz","html_url":"https://github.com/Mpdreamz","followers_url":"https://api.github.com/users/Mpdreamz/followers","following_url":"https://api.github.com/users/Mpdreamz/following{/other_user}","gists_url":"https://api.github.com/users/Mpdreamz/gists{/gist_id}","starred_url":"https://api.github.com/users/Mpdreamz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Mpdreamz/subscriptions","organizations_url":"https://api.github.com/users/Mpdreamz/orgs","repos_url":"https://api.github.com/users/Mpdreamz/repos","events_url":"https://api.github.com/users/Mpdreamz/events{/privacy}","received_events_url":"https://api.github.com/users/Mpdreamz/received_events","type":"User","site_admin":false},"created_at":"2014-06-12T08:03:02Z","updated_at":"2014-06-12T08:03:02Z","author_association":"MEMBER","body":"@jpountz I implemented the ability to attach arbitrary metadata to aggregations here #6465 would love a review whenever is convenient for you :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/68367896","html_url":"https://github.com/elastic/elasticsearch/issues/5867#issuecomment-68367896","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5867","id":68367896,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzY3ODk2","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-12-30T15:56:00Z","updated_at":"2014-12-30T15:56:00Z","author_association":"CONTRIBUTOR","body":"Closed by #8279\n","performed_via_github_app":null}]