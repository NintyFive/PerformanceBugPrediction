[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/49015832","html_url":"https://github.com/elastic/elasticsearch/issues/6872#issuecomment-49015832","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6872","id":49015832,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDE1ODMy","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-07-15T10:45:44Z","updated_at":"2014-07-15T10:45:44Z","author_association":"CONTRIBUTOR","body":"Hi @raghavj1991 \n\nI don't know what version of Elasticsearch your are using, but in v1.2.1 multi-level aggregations assign fewer buckets than before, which helps with memory usage.  And in v1.3, we introduced the `collect` mode which allows you to control how aggregations are executed in order to trade time for memory: http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/search-aggregations-bucket-terms-aggregation.html#_collect_mode\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/49016099","html_url":"https://github.com/elastic/elasticsearch/issues/6872#issuecomment-49016099","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6872","id":49016099,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDE2MDk5","user":{"login":"raghavj1991","id":5036649,"node_id":"MDQ6VXNlcjUwMzY2NDk=","avatar_url":"https://avatars2.githubusercontent.com/u/5036649?v=4","gravatar_id":"","url":"https://api.github.com/users/raghavj1991","html_url":"https://github.com/raghavj1991","followers_url":"https://api.github.com/users/raghavj1991/followers","following_url":"https://api.github.com/users/raghavj1991/following{/other_user}","gists_url":"https://api.github.com/users/raghavj1991/gists{/gist_id}","starred_url":"https://api.github.com/users/raghavj1991/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/raghavj1991/subscriptions","organizations_url":"https://api.github.com/users/raghavj1991/orgs","repos_url":"https://api.github.com/users/raghavj1991/repos","events_url":"https://api.github.com/users/raghavj1991/events{/privacy}","received_events_url":"https://api.github.com/users/raghavj1991/received_events","type":"User","site_admin":false},"created_at":"2014-07-15T10:49:11Z","updated_at":"2014-07-15T10:49:11Z","author_association":"NONE","body":"Sorry for the vagueness. I'm using ES - 1.0.0 . So, if we shift to 1.2 can I get rid of Out of Heap Memory space errors ? . \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/49018265","html_url":"https://github.com/elastic/elasticsearch/issues/6872#issuecomment-49018265","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6872","id":49018265,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDE4MjY1","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-07-15T11:14:23Z","updated_at":"2014-07-15T11:14:23Z","author_association":"CONTRIBUTOR","body":"Hopefully that will be sufficient.  If not, then you may have to wait for 1.3.  You can also switch to using doc_values instead of fielddata, which writes the required data to disk at index time, instead of having to load it into memory at search time.\n\nhttp://www.elasticsearch.org/guide/en/elasticsearch/reference/current/mapping-core-types.html#_doc_values_format\n","performed_via_github_app":null}]