{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/13392","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13392/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13392/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13392/events","html_url":"https://github.com/elastic/elasticsearch/issues/13392","id":105363171,"node_id":"MDU6SXNzdWUxMDUzNjMxNzE=","number":13392,"title":"2.0.0-beta1 Init script startup fails silently when hitting java.lang.UnsupportedClassVersionError (unsupported JVM)","user":{"login":"nellicus","id":8770097,"node_id":"MDQ6VXNlcjg3NzAwOTc=","avatar_url":"https://avatars2.githubusercontent.com/u/8770097?v=4","gravatar_id":"","url":"https://api.github.com/users/nellicus","html_url":"https://github.com/nellicus","followers_url":"https://api.github.com/users/nellicus/followers","following_url":"https://api.github.com/users/nellicus/following{/other_user}","gists_url":"https://api.github.com/users/nellicus/gists{/gist_id}","starred_url":"https://api.github.com/users/nellicus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nellicus/subscriptions","organizations_url":"https://api.github.com/users/nellicus/orgs","repos_url":"https://api.github.com/users/nellicus/repos","events_url":"https://api.github.com/users/nellicus/events{/privacy}","received_events_url":"https://api.github.com/users/nellicus/received_events","type":"User","site_admin":false},"labels":[{"id":114977275,"node_id":"MDU6TGFiZWwxMTQ5NzcyNzU=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Packaging","name":":Delivery/Packaging","color":"0e8a16","default":false,"description":"RPM and deb packaging, tar and zip archives, shell and batch scripts"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"},{"id":236948951,"node_id":"MDU6TGFiZWwyMzY5NDg5NTE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v1.7.1","name":"v1.7.1","color":"dddddd","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"assignees":[{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false}],"milestone":null,"comments":6,"created_at":"2015-09-08T11:54:11Z","updated_at":"2020-11-11T21:59:24Z","closed_at":"2016-01-28T15:51:57Z","author_association":"MEMBER","active_lock_reason":null,"body":"OS info\n\n```\nelk@master-clone:/opt$ uname -a\nLinux master-clone 3.2.0-4-amd64 #1 SMP Debian 3.2.68-1+deb7u3 x86_64 GNU/Linux\n```\n\nJava info\n\n```\nelk@master-clone:/opt$ java -version\njava version \"1.6.0_36\"\nOpenJDK Runtime Environment (IcedTea6 1.13.8) (6b36-1.13.8-1~deb7u1)\nOpenJDK 64-Bit Server VM (build 23.25-b01, mixed mode)\n```\n\nDownload and Install deb (probably affects other packages)\n\n```\nelk@master-clone:/opt$ wget https://download.elastic.co/elasticsearch/elasticsearch/elasticsearch-1.7.1.deb\n--2015-09-08 13:31:03--  https://download.elastic.co/elasticsearch/elasticsearch/elasticsearch-1.7.1.deb\nResolving download.elastic.co (download.elastic.co)... 107.22.213.126, 107.22.237.122, 107.20.222.112, ...\nConnecting to download.elastic.co (download.elastic.co)|107.22.213.126|:443... connected.\nHTTP request sent, awaiting response... 200 OK\nLength: 27321880 (26M) [application/x-debian-package]\nSaving to: `elasticsearch-1.7.1.deb'\n\n100%[=================================================================================================================================================================================================================================================================================>] 27,321,880  4.43M/s   in 6.6s    \n\n2015-09-08 13:31:11 (3.94 MB/s) - `elasticsearch-1.7.1.deb' saved [27321880/27321880]\n\nelk@master-clone:/opt$ sudo dpkg -i elasticsearch-1.7.1.deb \nSelecting previously unselected package elasticsearch.\n(Reading database ... 143837 files and directories currently installed.)\nUnpacking elasticsearch (from elasticsearch-1.7.1.deb) ...\nCreating elasticsearch group... OK\nCreating elasticsearch user... OK\nSetting up elasticsearch (1.7.1) ...\n```\n\nLaunch service\n\n```\nelk@master-clone:/opt$ sudo /etc/init.d/elasticsearch start\n[FAIL] Starting Elasticsearch Server: failed!\n```\n\nremoving -b flag , from /etc/init.d/elasticsearch\n\n```\nstart-stop-daemon --start -b --user \"$ES_USER\" -c \"$ES_USER\" --pidfile \"$PID_FILE\" --exec $DAEMON -- $DAEMON_OPTS\n```\n\nto\n\n```\nstart-stop-daemon --start --user \"$ES_USER\" -c \"$ES_USER\" --pidfile \"$PID_FILE\" --exec $DAEMON -- $DAEMON_OPTS\n        start-stop-daemon --stop --pidfile \"$PID_FILE\" \\\n```\n\nto make this surface\n\n```\nelk@master-clone:/opt$ sudo /etc/init.d/elasticsearch start\n[....] Starting Elasticsearch Server:Exception in thread \"main\" java.lang.UnsupportedClassVersionError: org/elasticsearch/bootstrap/Elasticsearch : Unsupported major.minor version 51.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:643)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:277)\n    at java.net.URLClassLoader.access$000(URLClassLoader.java:73)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:212)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:205)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:323)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:294)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:268)\nCould not find the main class: org.elasticsearch.bootstrap.Elasticsearch. Program will exit.\n failed!\n```\n\nThis is really bad user experience and it would be very desirable at least to catch this output and present it to the user.\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}