{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/31887","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31887/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31887/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31887/events","html_url":"https://github.com/elastic/elasticsearch/issues/31887","id":339287352,"node_id":"MDU6SXNzdWUzMzkyODczNTI=","number":31887,"title":"Inconsistent return value across metric aggregations between sum, avg, max, min with min_doc_count = 0","user":{"login":"guanghaofan","id":14012353,"node_id":"MDQ6VXNlcjE0MDEyMzUz","avatar_url":"https://avatars1.githubusercontent.com/u/14012353?v=4","gravatar_id":"","url":"https://api.github.com/users/guanghaofan","html_url":"https://github.com/guanghaofan","followers_url":"https://api.github.com/users/guanghaofan/followers","following_url":"https://api.github.com/users/guanghaofan/following{/other_user}","gists_url":"https://api.github.com/users/guanghaofan/gists{/gist_id}","starred_url":"https://api.github.com/users/guanghaofan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guanghaofan/subscriptions","organizations_url":"https://api.github.com/users/guanghaofan/orgs","repos_url":"https://api.github.com/users/guanghaofan/repos","events_url":"https://api.github.com/users/guanghaofan/events{/privacy}","received_events_url":"https://api.github.com/users/guanghaofan/received_events","type":"User","site_admin":false},"labels":[{"id":141141324,"node_id":"MDU6TGFiZWwxNDExNDEzMjQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Analytics/Aggregations","name":":Analytics/Aggregations","color":"0e8a16","default":false,"description":"Aggregations"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-07-09T02:44:42Z","updated_at":"2018-07-13T14:07:09Z","closed_at":"2018-07-13T14:07:09Z","author_association":"NONE","active_lock_reason":null,"body":"**es.version**: 6.3.0\r\n**description:**\r\nWith min_doc_count = 0, then \r\nMetric Type **sum** return value '0'\r\nOthers[**min/max/avg/mean**] return value 'null'\r\nif **sum** returns value '0', the empty bucket data will be mixed with the valid data value '0' in **Kibana** **visualizations**, and not sure the purpose of this design?\r\nI know the sum is double type and the initial value is set as '0' and however it would be best if the return value can be null for the empty bucket as what you did in the min/max/avg aggregation types since value '0' is a real meaningful data from the time we have the negative numbers!\r\n\r\nthanks!","closed_by":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"performed_via_github_app":null}