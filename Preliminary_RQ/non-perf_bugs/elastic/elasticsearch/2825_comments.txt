[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/15900274","html_url":"https://github.com/elastic/elasticsearch/issues/2825#issuecomment-15900274","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2825","id":15900274,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTAwMjc0","user":{"login":"Rzulf","id":242137,"node_id":"MDQ6VXNlcjI0MjEzNw==","avatar_url":"https://avatars1.githubusercontent.com/u/242137?v=4","gravatar_id":"","url":"https://api.github.com/users/Rzulf","html_url":"https://github.com/Rzulf","followers_url":"https://api.github.com/users/Rzulf/followers","following_url":"https://api.github.com/users/Rzulf/following{/other_user}","gists_url":"https://api.github.com/users/Rzulf/gists{/gist_id}","starred_url":"https://api.github.com/users/Rzulf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rzulf/subscriptions","organizations_url":"https://api.github.com/users/Rzulf/orgs","repos_url":"https://api.github.com/users/Rzulf/repos","events_url":"https://api.github.com/users/Rzulf/events{/privacy}","received_events_url":"https://api.github.com/users/Rzulf/received_events","type":"User","site_admin":false},"created_at":"2013-04-04T14:26:43Z","updated_at":"2013-04-04T14:26:43Z","author_association":"NONE","body":"I managed to find a reason for shard inconsistency. For a few days flush was disabled and everything was stored in translog. In those few days ES cluster has undergone some heavy conditions (a lot of saves -> running out of memory -> node restart). I managed to fixed this issue, by enabling saving to disk and physically deleting replicas in order to fully restore them.\n\nShouldn't the cluster be aware of the fact that there are inconsistencies in replicas? The differences were quite huge, up to few millions per shard and cluster health was \"green\".\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/21109370","html_url":"https://github.com/elastic/elasticsearch/issues/2825#issuecomment-21109370","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2825","id":21109370,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMTA5Mzcw","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2013-07-17T12:31:05Z","updated_at":"2013-07-17T12:31:05Z","author_association":"MEMBER","body":"If you disabled flush/refresh by configuration there's not too much one can do in order to detect this kind of problems.\n\nIf you think this is a bug, can you provide a gist to reproduce your problem in order to make sure we are talking about the same kind of problem? Thanks a lot!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/21115207","html_url":"https://github.com/elastic/elasticsearch/issues/2825#issuecomment-21115207","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2825","id":21115207,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMTE1MjA3","user":{"login":"Rzulf","id":242137,"node_id":"MDQ6VXNlcjI0MjEzNw==","avatar_url":"https://avatars1.githubusercontent.com/u/242137?v=4","gravatar_id":"","url":"https://api.github.com/users/Rzulf","html_url":"https://github.com/Rzulf","followers_url":"https://api.github.com/users/Rzulf/followers","following_url":"https://api.github.com/users/Rzulf/following{/other_user}","gists_url":"https://api.github.com/users/Rzulf/gists{/gist_id}","starred_url":"https://api.github.com/users/Rzulf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rzulf/subscriptions","organizations_url":"https://api.github.com/users/Rzulf/orgs","repos_url":"https://api.github.com/users/Rzulf/repos","events_url":"https://api.github.com/users/Rzulf/events{/privacy}","received_events_url":"https://api.github.com/users/Rzulf/received_events","type":"User","site_admin":false},"created_at":"2013-07-17T14:09:17Z","updated_at":"2013-07-17T14:09:17Z","author_association":"NONE","body":"Unfortunately I cannot reproduce this problem. As I written earlier cluster had some stability problems. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/21120781","html_url":"https://github.com/elastic/elasticsearch/issues/2825#issuecomment-21120781","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2825","id":21120781,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMTIwNzgx","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2013-07-17T15:24:25Z","updated_at":"2013-07-17T15:24:25Z","author_association":"MEMBER","body":"thanks for the fast answer. I'll close it, but I'd like to get more information if you stumble over this again in order to reproduce!\n","performed_via_github_app":null}]