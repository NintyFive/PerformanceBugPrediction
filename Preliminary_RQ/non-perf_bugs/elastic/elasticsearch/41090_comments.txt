[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/481831263","html_url":"https://github.com/elastic/elasticsearch/issues/41090#issuecomment-481831263","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41090","id":481831263,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTgzMTI2Mw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-04-10T19:32:30Z","updated_at":"2019-04-10T19:32:30Z","author_association":"COLLABORATOR","body":"Pinging @elastic/ml-core","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/481833858","html_url":"https://github.com/elastic/elasticsearch/issues/41090#issuecomment-481833858","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41090","id":481833858,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTgzMzg1OA==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2019-04-10T19:40:53Z","updated_at":"2019-04-10T19:41:26Z","author_association":"CONTRIBUTOR","body":"> NO persistent tasks in the cluster state\r\n\r\n... and never ever have been I think. If you have _ever_ created a persistent task but just don’t have any right now then the corresponding custom metadata will exist, just storing the highest ever allocation ID, and then the collection that’s null when the problem occurs will instead be an empty collection.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/482014671","html_url":"https://github.com/elastic/elasticsearch/issues/41090#issuecomment-482014671","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41090","id":482014671,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjAxNDY3MQ==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2019-04-11T08:13:04Z","updated_at":"2019-04-11T08:13:04Z","author_association":"CONTRIBUTOR","body":"Although this cannot affect _rolling_ upgrades to 7.x (because to do such an upgrade you have to first upgrade to 6.7), I don't see why it couldn't affect full cluster restart upgrades from 6.0-6.5 direct to 7.x.  Maybe I am missing something though.\r\n\r\nSince the fix is so tiny I think it would be best to put it into master, 7.x and 7.0 as well as 6.7.  It cannot hurt even if it's unnecessary.\r\n\r\nOne more point of note: if this is theoretically a problem for full cluster restart upgrades from 6.0-6.5 direct to 7.x then at least it will not affect Cloud, because I believe Cloud is forcing _all_ upgrades to 7.x to go via 6.7.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/482108329","html_url":"https://github.com/elastic/elasticsearch/issues/41090#issuecomment-482108329","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41090","id":482108329,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjEwODMyOQ==","user":{"login":"benwtrent","id":4357155,"node_id":"MDQ6VXNlcjQzNTcxNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/4357155?v=4","gravatar_id":"","url":"https://api.github.com/users/benwtrent","html_url":"https://github.com/benwtrent","followers_url":"https://api.github.com/users/benwtrent/followers","following_url":"https://api.github.com/users/benwtrent/following{/other_user}","gists_url":"https://api.github.com/users/benwtrent/gists{/gist_id}","starred_url":"https://api.github.com/users/benwtrent/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benwtrent/subscriptions","organizations_url":"https://api.github.com/users/benwtrent/orgs","repos_url":"https://api.github.com/users/benwtrent/repos","events_url":"https://api.github.com/users/benwtrent/events{/privacy}","received_events_url":"https://api.github.com/users/benwtrent/received_events","type":"User","site_admin":false},"created_at":"2019-04-11T13:12:54Z","updated_at":"2019-04-11T13:12:54Z","author_association":"MEMBER","body":"@droberts195 for sure. I am going to open PRs for adding the fix to 7.0, 7.X and master. I wanted to get 6.7 opened first as it was where it was discovered first. ","performed_via_github_app":null}]