[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/346608929","html_url":"https://github.com/elastic/elasticsearch/issues/27503#issuecomment-346608929","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27503","id":346608929,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NjYwODkyOQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-11-23T12:43:37Z","updated_at":"2017-11-23T12:43:37Z","author_association":"MEMBER","body":"> Is this a bug, is this parameter ignored on purpose, or am I missing something ?\r\n\r\nWe do not ignore this parameter, and I can tell you from experience that it does indeed work to debug SSL issues (with X-Pack). However, we do not support Searchguard so I am going to close this issue.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/346620951","html_url":"https://github.com/elastic/elasticsearch/issues/27503#issuecomment-346620951","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27503","id":346620951,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NjYyMDk1MQ==","user":{"login":"fesnault","id":261169,"node_id":"MDQ6VXNlcjI2MTE2OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/261169?v=4","gravatar_id":"","url":"https://api.github.com/users/fesnault","html_url":"https://github.com/fesnault","followers_url":"https://api.github.com/users/fesnault/followers","following_url":"https://api.github.com/users/fesnault/following{/other_user}","gists_url":"https://api.github.com/users/fesnault/gists{/gist_id}","starred_url":"https://api.github.com/users/fesnault/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fesnault/subscriptions","organizations_url":"https://api.github.com/users/fesnault/orgs","repos_url":"https://api.github.com/users/fesnault/repos","events_url":"https://api.github.com/users/fesnault/events{/privacy}","received_events_url":"https://api.github.com/users/fesnault/received_events","type":"User","site_admin":false},"created_at":"2017-11-23T13:39:53Z","updated_at":"2017-11-23T13:39:53Z","author_association":"NONE","body":"@jasontedor I mentionned SearchGuad just to inform you about the context. The issue is not about searchguard.\r\nI added the parameter in elasticsearch script and no log appear. It IS an ES problem, not SG.\r\n\r\nPlease help me. If it works with you, can you tell me how you configure it ? I added the option in jvm.options as i did for the memory parameters, and the memory parameters are picked up, so why not the javax.net.debug ?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/346621726","html_url":"https://github.com/elastic/elasticsearch/issues/27503#issuecomment-346621726","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27503","id":346621726,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NjYyMTcyNg==","user":{"login":"fesnault","id":261169,"node_id":"MDQ6VXNlcjI2MTE2OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/261169?v=4","gravatar_id":"","url":"https://api.github.com/users/fesnault","html_url":"https://github.com/fesnault","followers_url":"https://api.github.com/users/fesnault/followers","following_url":"https://api.github.com/users/fesnault/following{/other_user}","gists_url":"https://api.github.com/users/fesnault/gists{/gist_id}","starred_url":"https://api.github.com/users/fesnault/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fesnault/subscriptions","organizations_url":"https://api.github.com/users/fesnault/orgs","repos_url":"https://api.github.com/users/fesnault/repos","events_url":"https://api.github.com/users/fesnault/events{/privacy}","received_events_url":"https://api.github.com/users/fesnault/received_events","type":"User","site_admin":false},"created_at":"2017-11-23T13:43:07Z","updated_at":"2017-11-23T13:43:07Z","author_association":"NONE","body":"As you can see, the option is in the command line :\r\n\r\n`\r\n5203      9822 10.8 63.6 5825976 2496212 ?     Sl   11:14  15:51 /usr/bin/java -Xms2g -Xmx2g -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=75 -XX:+UseCMSInitiatingOccupancyOnly -XX:+AlwaysPreTouch -server -Xss1m -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djna.nosys=true -Djdk.io.permissionsUseCanonicalPath=true -Dio.netty.noUnsafe=true -Dio.netty.noKeySetOptimization=true -Dio.netty.recycler.maxCapacityPerThread=0 -**Djavax.net.debug=all** -Dlog4j.shutdownHookEnabled=false -Dlog4j2.disable.jmx=true -Dlog4j.skipJansi=true -XX:+HeapDumpOnOutOfMemoryError -Djavax.net.debug=all -Des.path.home=/opt/es-home -cp /opt/es-home/lib/* org.elasticsearch.bootstrap.Elasticsearch -d -p /opt/es-home/elasticsearch.pid -Epath.conf=/opt/es-data/config\r\n`","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/346642999","html_url":"https://github.com/elastic/elasticsearch/issues/27503#issuecomment-346642999","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27503","id":346642999,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NjY0Mjk5OQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-11-23T15:12:45Z","updated_at":"2017-11-23T15:12:45Z","author_association":"MEMBER","body":"The flag `-Djavax.net.debug=` is for debugging SSL/TLS with the JSSE. This is only relevant if you’re using a plugin that uses this framework (so is not relevant for open source Elasticsearch). Either:\r\n - you’re not using any SSL/TLS on top of the JSSE in which case the flag is not relevant\r\n - you’re using X-Pack Security with SSL/TLS enabled on HTTP or transport and we will happily support you\r\n - you’re using Searchguard (which you mentioned you’re using) which we do not support\r\n - you’re using an unknown 3rd-party plugin for providing SSL/TLS on top of JSSE which we do not support","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/346812277","html_url":"https://github.com/elastic/elasticsearch/issues/27503#issuecomment-346812277","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27503","id":346812277,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NjgxMjI3Nw==","user":{"login":"floragunn","id":11678154,"node_id":"MDQ6VXNlcjExNjc4MTU0","avatar_url":"https://avatars3.githubusercontent.com/u/11678154?v=4","gravatar_id":"","url":"https://api.github.com/users/floragunn","html_url":"https://github.com/floragunn","followers_url":"https://api.github.com/users/floragunn/followers","following_url":"https://api.github.com/users/floragunn/following{/other_user}","gists_url":"https://api.github.com/users/floragunn/gists{/gist_id}","starred_url":"https://api.github.com/users/floragunn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/floragunn/subscriptions","organizations_url":"https://api.github.com/users/floragunn/orgs","repos_url":"https://api.github.com/users/floragunn/repos","events_url":"https://api.github.com/users/floragunn/events{/privacy}","received_events_url":"https://api.github.com/users/floragunn/received_events","type":"User","site_admin":false},"created_at":"2017-11-24T11:53:50Z","updated_at":"2017-11-24T11:53:50Z","author_association":"NONE","body":"@fesnault Search Guard supports of course `-Djavax.net.debug=`. If you use OpenSSL you will see not so much output because, as mentioned above, the flag is only relevant for Java SSL (JSSE). But some info is printed out anyhow. Log output goes to stdout.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/346820677","html_url":"https://github.com/elastic/elasticsearch/issues/27503#issuecomment-346820677","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27503","id":346820677,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NjgyMDY3Nw==","user":{"login":"fesnault","id":261169,"node_id":"MDQ6VXNlcjI2MTE2OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/261169?v=4","gravatar_id":"","url":"https://api.github.com/users/fesnault","html_url":"https://github.com/fesnault","followers_url":"https://api.github.com/users/fesnault/followers","following_url":"https://api.github.com/users/fesnault/following{/other_user}","gists_url":"https://api.github.com/users/fesnault/gists{/gist_id}","starred_url":"https://api.github.com/users/fesnault/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fesnault/subscriptions","organizations_url":"https://api.github.com/users/fesnault/orgs","repos_url":"https://api.github.com/users/fesnault/repos","events_url":"https://api.github.com/users/fesnault/events{/privacy}","received_events_url":"https://api.github.com/users/fesnault/received_events","type":"User","site_admin":false},"created_at":"2017-11-24T12:42:54Z","updated_at":"2017-11-24T12:44:04Z","author_association":"NONE","body":"@floragunncom thanks for the input.\r\nBut that's what bothers me, I'm not using OpenSSL, as your log shows \r\n\r\n`\r\n[2017-11-24T07:58:41,844][INFO ][c.f.s.SearchGuardPlugin  ] Node [ppjbies1] is a transportClient: false/tribeNode: false/tribeNodeClient: false\r\n`\r\n`\r\n[2017-11-24T07:58:41,844][INFO ][c.f.s.SearchGuardPlugin  ] FLS/DLS module not available\r\n`\r\n`\r\n[2017-11-24T07:58:41,857][INFO ][c.f.s.s.DefaultSearchGuardKeyStore] Open SSL not available (this is not an error, we simply fallback to built-in JDK SSL) because of java.lang.ClassNotFoundException: io.netty.internal.tcnative.SSL\r\n`\r\n`\r\n[2017-11-24T07:58:41,857][INFO ][c.f.s.s.DefaultSearchGuardKeyStore] java.version: 1.8.0_144\r\n[2017-11-24T07:58:41,857][INFO ][c.f.s.s.DefaultSearchGuardKeyStore] java.vendor: Oracle Corporation\r\n`","performed_via_github_app":null}]