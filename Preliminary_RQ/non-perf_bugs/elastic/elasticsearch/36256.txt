{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/36256","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36256/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36256/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36256/events","html_url":"https://github.com/elastic/elasticsearch/issues/36256","id":387760773,"node_id":"MDU6SXNzdWUzODc3NjA3NzM=","number":36256,"title":"Packaging: investigate jdk-11 startup problems on SUSE 15 Leap","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"labels":[{"id":114977275,"node_id":"MDU6TGFiZWwxMTQ5NzcyNzU=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Packaging","name":":Delivery/Packaging","color":"0e8a16","default":false,"description":"RPM and deb packaging, tar and zip archives, shell and batch scripts"},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"},{"id":959855511,"node_id":"MDU6TGFiZWw5NTk4NTU1MTE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/jdk11","name":"jdk11","color":"e11d21","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"assignees":[{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false}],"milestone":null,"comments":6,"created_at":"2018-12-05T13:38:28Z","updated_at":"2020-11-11T22:03:47Z","closed_at":"2020-08-20T14:58:05Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"as per discussion here:\r\nhttps://discuss.elastic.co/t/es-6-5-1-fatal-error-on-launch-with-jdk-11-no-error-runs-ok-with-jdk-1-8/157944/5\r\n\r\nElasticsearch is failing to start on Suse Leap 15 and jdk 11 from this linux distro. \r\nhttps://download.opensuse.org/repositories/Java:/Factory/openSUSE_Leap_15.0/x86_64/java-11-openjdk-headless-11.0.1.0-lp150.101.2.x86_64.rpm\r\nWe are not supporting this distro at the moment, but most likely we will plan to do that in near future due to end of maintenance for previous version.\r\n\r\n\r\n```\r\n18-12-05T11:26:23,994][INFO ][o.e.p.PluginsService     ] [y2cwFBj] no plugins loaded\r\n[2018-12-05T11:26:28,285][INFO ][o.e.x.s.a.s.FileRolesStore] [y2cwFBj] parsed [0] roles from file [/etc/elasticsearch/roles.yml]\r\n[2018-12-05T11:26:28,629][ERROR][o.e.b.ElasticsearchUncaughtExceptionHandler] [y2cwFBj] fatal error in thread [main], exiting\r\njava.lang.ExceptionInInitializerError: null\r\n        at org.elasticsearch.xpack.watcher.Watcher.createComponents(Watcher.java:289) ~[?:?]\r\n        at org.elasticsearch.node.Node.lambda$new$11(Node.java:472) ~[elasticsearch-6.5.1.jar:6.5.1]\r\n        at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:267) ~[?:1.8.0_171]\r\n        at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382) ~[?:1.8.0_171]\r\n        at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[?:1.8.0_171]\r\n        at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[?:1.8.0_171]\r\n        at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708) ~[?:1.8.0_171]\r\n        at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:1.8.0_171]\r\n        at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499) ~[?:1.8.0_171]\r\n        at org.elasticsearch.node.Node.<init>(Node.java:475) ~[elasticsearch-6.5.1.jar:6.5.1]\r\n        at org.elasticsearch.node.Node.<init>(Node.java:265) ~[elasticsearch-6.5.1.jar:6.5.1]\r\n        at org.elasticsearch.bootstrap.Bootstrap$5.<init>(Bootstrap.java:212) ~[elasticsearch-6.5.1.jar:6.5.1]\r\n        at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:212) ~[elasticsearch-6.5.1.jar:6.5.1]\r\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:333) ~[elasticsearch-6.5.1.jar:6.5.1]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:136) ~[elasticsearch-6.5.1.jar:6.5.1]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:127) ~[elasticsearch-6.5.1.jar:6.5.1]\r\n        at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) ~[elasticsearch-6.5.1.jar:6.5.1]\r\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124) ~[elasticsearch-cli-6.5.1.jar:6.5.1]\r\n        at org.elasticsearch.cli.Command.main(Command.java:90) ~[elasticsearch-cli-6.5.1.jar:6.5.1]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:93) ~[elasticsearch-6.5.1.jar:6.5.1]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:86) ~[elasticsearch-6.5.1.jar:6.5.1]\r\nCaused by: java.security.AccessControlException: access denied (\"java.lang.RuntimePermission\" \"setFactory\")\r\n        at java.security.AccessControlContext.checkPermission(AccessControlContext.java:472) ~[?:1.8.0_171]\r\n        at java.security.AccessController.checkPermission(AccessController.java:884) ~[?:1.8.0_171]\r\n        at java.lang.SecurityManager.checkPermission(SecurityManager.java:549) ~[?:1.8.0_171]\r\n        at java.lang.SecurityManager.checkSetFactory(SecurityManager.java:1664) ~[?:1.8.0_171]\r\n        at javax.activation.CommandMap.setDefaultCommandMap(CommandMap.java:91) ~[?:1.8.0_171]\r\n        at org.elasticsearch.xpack.watcher.notification.email.Account.lambda$static$0(Account.java:51) ~[?:?]\r\n        at java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_171]\r\n        at org.elasticsearch.xpack.watcher.notification.email.Account.<clinit>(Account.java:43) ~[?:?]\r\n        ... 21 more\r\n```\r\nIt is however correctly starting up on JDK dowloaded from https://jdk.java.net/11/\r\nhttps://download.java.net/java/GA/jdk11/13/GPL/openjdk-11.0.1_linux-x64_bin.tar.gz\r\nIt is also starting up ok on that distro with JDK10 from that linux repo:\r\nhttps://download.opensuse.org/repositories/Java:/Factory/openSUSE_Leap_15.0/x86_64/java-10-openjdk-headless-10.0.2.0-lp150.83.1.x86_64.rpm\r\n\r\njust comparing the content of these RPM does not indicate any differences\r\n\r\n","closed_by":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"performed_via_github_app":null}