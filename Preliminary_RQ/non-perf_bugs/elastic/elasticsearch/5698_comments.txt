[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/39676973","html_url":"https://github.com/elastic/elasticsearch/issues/5698#issuecomment-39676973","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5698","id":39676973,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Njc2OTcz","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2014-04-06T19:02:04Z","updated_at":"2014-04-06T19:02:04Z","author_association":"MEMBER","body":"good catch. This is because the default merge scheduler is now the serial merge scheduler in 1.1, which doesn't block merges. In theory though, even with the previous concurrent merge scheduler, the optimize request might have blocked if all threads were busy and there was a pending merge.\n\nSeems like the way to solve it properly is in `TransportOptimizeAction`, to use \"SAME\" executor, and fork to the optimize thread pool explicitly in the shard action, and only wait for it to finish if `wait_for_merge` is set.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/42442773","html_url":"https://github.com/elastic/elasticsearch/issues/5698#issuecomment-42442773","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5698","id":42442773,"node_id":"MDEyOklzc3VlQ29tbWVudDQyNDQyNzcz","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2014-05-07T15:35:26Z","updated_at":"2014-05-07T15:35:26Z","author_association":"MEMBER","body":"we have moved back to default to the concurrent merge scheduler, so this is not as urgent (or a regression) anymore, since we moved back to the previous behavior.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/54744360","html_url":"https://github.com/elastic/elasticsearch/issues/5698#issuecomment-54744360","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5698","id":54744360,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NzQ0MzYw","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2014-09-07T11:40:58Z","updated_at":"2014-09-07T11:40:58Z","author_association":"MEMBER","body":"we have removed the serial merge scheduler option in #6120, so this is no longer relevant I think, closing  for now\n","performed_via_github_app":null}]