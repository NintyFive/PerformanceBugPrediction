[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/376928036","html_url":"https://github.com/elastic/elasticsearch/issues/29284#issuecomment-376928036","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29284","id":376928036,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NjkyODAzNg==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2018-03-28T15:26:58Z","updated_at":"2018-03-28T15:26:58Z","author_association":"MEMBER","body":"I'm going to label this as packaging and plugins labels first as I feel people with that expertise should look at this first. If it turns out to be something with the specific plugin we can re-label.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/376928160","html_url":"https://github.com/elastic/elasticsearch/issues/29284#issuecomment-376928160","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29284","id":376928160,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NjkyODE2MA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-03-28T15:27:16Z","updated_at":"2018-03-28T15:27:16Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/376932962","html_url":"https://github.com/elastic/elasticsearch/issues/29284#issuecomment-376932962","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29284","id":376932962,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NjkzMjk2Mg==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2018-03-28T15:39:31Z","updated_at":"2018-03-28T15:39:31Z","author_association":"MEMBER","body":"Note: We have no tests for and do not officially support gentoo systems.\r\n\r\nCan you run `ls -ld /etc/elasticsearch` and show the results here?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/376962559","html_url":"https://github.com/elastic/elasticsearch/issues/29284#issuecomment-376962559","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29284","id":376962559,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Njk2MjU1OQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-03-28T17:07:37Z","updated_at":"2018-03-28T17:07:37Z","author_association":"MEMBER","body":"I think that this is neither a bug with the packaging nor a bug with the plugin. Instead, I suspect there is a problem with the environment here. Specifically, I suspect that the `setgid` bit is missing on `/etc/elasticsearch`. I am removing the bug label and marking this one as pending feedback, namely the information that was requested by @rjernst.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/377259838","html_url":"https://github.com/elastic/elasticsearch/issues/29284#issuecomment-377259838","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29284","id":377259838,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzI1OTgzOA==","user":{"login":"misch42","id":6481385,"node_id":"MDQ6VXNlcjY0ODEzODU=","avatar_url":"https://avatars0.githubusercontent.com/u/6481385?v=4","gravatar_id":"","url":"https://api.github.com/users/misch42","html_url":"https://github.com/misch42","followers_url":"https://api.github.com/users/misch42/followers","following_url":"https://api.github.com/users/misch42/following{/other_user}","gists_url":"https://api.github.com/users/misch42/gists{/gist_id}","starred_url":"https://api.github.com/users/misch42/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/misch42/subscriptions","organizations_url":"https://api.github.com/users/misch42/orgs","repos_url":"https://api.github.com/users/misch42/repos","events_url":"https://api.github.com/users/misch42/events{/privacy}","received_events_url":"https://api.github.com/users/misch42/received_events","type":"User","site_admin":false},"created_at":"2018-03-29T14:49:06Z","updated_at":"2018-03-29T14:49:06Z","author_association":"NONE","body":"# ls -ld /etc/elasticsearch/\r\ndrwxr-xr-x 4 root root 4096 Mar 28 16:43 /etc/elasticsearch/\r\n\r\nBut if you want the rights on the dir below it is:\r\n# ls -ld /etc/elasticsearch/*\r\n-rw-r--r-- 1 root          root 3000 Mar  2 21:55 /etc/elasticsearch/elasticsearch.yml\r\ndrwxr-x--- 2 elasticsearch root 4096 Mar 28 16:43 /etc/elasticsearch/ingest-geoip\r\n-rw-r--r-- 1 root          root 2767 Mar 28 15:53 /etc/elasticsearch/jvm.options\r\n-rw-r--r-- 1 root          root 5091 Mar 28 15:53 /etc/elasticsearch/log4j2.properties\r\n-rw-r--r-- 1 root          root 2571 Mar  8  2016 /etc/elasticsearch/logging.yml\r\ndrwxr-xr-x 2 root          root 4096 Mar 28 15:53 /etc/elasticsearch/scripts\r\n\r\nPlease note that I already changed the ownership of the ingest-geoip directory.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/377292628","html_url":"https://github.com/elastic/elasticsearch/issues/29284#issuecomment-377292628","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29284","id":377292628,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NzI5MjYyOA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-03-29T16:28:15Z","updated_at":"2018-03-29T16:28:15Z","author_association":"MEMBER","body":"I wanted to see the permissions on `/etc/elasticsearch` and it shows exactly what I thought would be the case. Namely, it does not have the `setgid` bit set:\r\n\r\n```\r\ndrwxr-xr-x 4 root root 4096 Mar 28 16:43 /etc/elasticsearch/\r\n```\r\n\r\nInstead, this should be:\r\n\r\n```\r\ndrwxr-s--- 2 root elasticsearch ...\r\n```\r\n\r\nI am not sure exactly how you installed Elasticsearch, but the package does establish these [directories in this way](https://github.com/elastic/elasticsearch/blob/v6.2.2/distribution/src/main/packaging/scripts/postinst#L102-L104).\r\n\r\nSince it appears that you have deviated from the intended package configuration, I am closing this as not a bug. Please feel free to continue the discussion if needed, we can reopen this if you do present evidence of a bug here.\r\n\r\n","performed_via_github_app":null}]