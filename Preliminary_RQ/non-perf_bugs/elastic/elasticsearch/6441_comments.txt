[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/45494236","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-45494236","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":45494236,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NDk0MjM2","user":{"login":"OlegYch","id":268312,"node_id":"MDQ6VXNlcjI2ODMxMg==","avatar_url":"https://avatars1.githubusercontent.com/u/268312?v=4","gravatar_id":"","url":"https://api.github.com/users/OlegYch","html_url":"https://github.com/OlegYch","followers_url":"https://api.github.com/users/OlegYch/followers","following_url":"https://api.github.com/users/OlegYch/following{/other_user}","gists_url":"https://api.github.com/users/OlegYch/gists{/gist_id}","starred_url":"https://api.github.com/users/OlegYch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OlegYch/subscriptions","organizations_url":"https://api.github.com/users/OlegYch/orgs","repos_url":"https://api.github.com/users/OlegYch/repos","events_url":"https://api.github.com/users/OlegYch/events{/privacy}","received_events_url":"https://api.github.com/users/OlegYch/received_events","type":"User","site_admin":false},"created_at":"2014-06-09T14:10:38Z","updated_at":"2014-06-09T14:10:38Z","author_association":"NONE","body":"actually just one jvm and hard restart is enough\ni also occasionally get even before restart\n\n```\njava.lang.IllegalArgumentException: No type mapped for [0]\n    at org.elasticsearch.index.translog.Translog$Operation$Type.fromId(Translog.java:223) ~[elasticsearch-1.2.1.jar:na]\n    at org.elasticsearch.index.translog.TranslogStreams.readSource(TranslogStreams.java:59) ~[elasticsearch-1.2.1.jar:na]\n    at org.elasticsearch.index.engine.internal.InternalEngine.get(InternalEngine.java:340) ~[elasticsearch-1.2.1.jar:na]\n    at org.elasticsearch.index.shard.service.InternalIndexShard.get(InternalIndexShard.java:469) ~[elasticsearch-1.2.1.jar:na]\n    at org.elasticsearch.index.get.ShardGetService.innerGet(ShardGetService.java:195) ~[elasticsearch-1.2.1.jar:na]\n    at org.elasticsearch.index.get.ShardGetService.get(ShardGetService.java:106) ~[elasticsearch-1.2.1.jar:na]\n    at org.elasticsearch.action.get.TransportGetAction.shardOperation(TransportGetAction.java:109) ~[elasticsearch-1.2.1.jar:na]\n    at org.elasticsearch.action.get.TransportGetAction.shardOperation(TransportGetAction.java:43) ~[elasticsearch-1.2.1.jar:na]\n    at org.elasticsearch.action.support.single.shard.TransportShardSingleOperationAction$AsyncSingleAction$1.run(TransportShardSingleOperationAction.java:163) ~[elasticsearch-1.2.1.jar:na]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) ~[na:1.7.0_51]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) ~[na:1.7.0_51]\n    at java.lang.Thread.run(Thread.java:744) ~[na:1.7.0_51]\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/45497724","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-45497724","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":45497724,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NDk3NzI0","user":{"login":"OlegYch","id":268312,"node_id":"MDQ6VXNlcjI2ODMxMg==","avatar_url":"https://avatars1.githubusercontent.com/u/268312?v=4","gravatar_id":"","url":"https://api.github.com/users/OlegYch","html_url":"https://github.com/OlegYch","followers_url":"https://api.github.com/users/OlegYch/followers","following_url":"https://api.github.com/users/OlegYch/following{/other_user}","gists_url":"https://api.github.com/users/OlegYch/gists{/gist_id}","starred_url":"https://api.github.com/users/OlegYch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OlegYch/subscriptions","organizations_url":"https://api.github.com/users/OlegYch/orgs","repos_url":"https://api.github.com/users/OlegYch/repos","events_url":"https://api.github.com/users/OlegYch/events{/privacy}","received_events_url":"https://api.github.com/users/OlegYch/received_events","type":"User","site_admin":false},"created_at":"2014-06-09T14:40:31Z","updated_at":"2014-06-09T14:40:31Z","author_association":"NONE","body":"the same test works fine with 1.1.2\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/45737940","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-45737940","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":45737940,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NzM3OTQw","user":{"login":"OlegYch","id":268312,"node_id":"MDQ6VXNlcjI2ODMxMg==","avatar_url":"https://avatars1.githubusercontent.com/u/268312?v=4","gravatar_id":"","url":"https://api.github.com/users/OlegYch","html_url":"https://github.com/OlegYch","followers_url":"https://api.github.com/users/OlegYch/followers","following_url":"https://api.github.com/users/OlegYch/following{/other_user}","gists_url":"https://api.github.com/users/OlegYch/gists{/gist_id}","starred_url":"https://api.github.com/users/OlegYch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OlegYch/subscriptions","organizations_url":"https://api.github.com/users/OlegYch/orgs","repos_url":"https://api.github.com/users/OlegYch/repos","events_url":"https://api.github.com/users/OlegYch/events{/privacy}","received_events_url":"https://api.github.com/users/OlegYch/received_events","type":"User","site_admin":false},"created_at":"2014-06-11T13:06:03Z","updated_at":"2014-06-11T13:06:03Z","author_association":"NONE","body":"actually the problem also exists on linux\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46102169","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-46102169","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":46102169,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MTAyMTY5","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2014-06-14T23:17:13Z","updated_at":"2014-06-15T10:40:34Z","author_association":"CONTRIBUTOR","body":"Hi the same happens for me in Windows and Linux (Ubuntu 12.04, DEB package by Elasticsearch).\n\nIt happens mostly after heavy indexing (in my case I am inexing out of one index into another one with some transformations). The error is easily visible after restarting the node, in that case you get the given errors ASAP.\n\nBefore the actual problem shows after restart, the following can be seen on my index, too: While reading one document from the original index with a realtime get, to be indexed in the other index, it starts to complain about some broken mapping, while reading the field data (source/stored field):\n\n```\n[2014-06-15 00:01:04,147][DEBUG][action.get               ] [PANGAEA Elasticsearch] [panfmp_v2][3]: failed to execute [[panfmp_v2][panfmp_meta][badc]: routing [null]]\njava.lang.IllegalArgumentException: No type mapped for [121]\n        at org.elasticsearch.index.translog.Translog$Operation$Type.fromId(Translog.java:223)\n        at org.elasticsearch.index.translog.TranslogStreams.readSource(TranslogStreams.java:59)\n        at org.elasticsearch.index.engine.internal.InternalEngine.get(InternalEngine.java:340)\n        at org.elasticsearch.index.shard.service.InternalIndexShard.get(InternalIndexShard.java:469)\n        at org.elasticsearch.index.get.ShardGetService.innerGet(ShardGetService.java:195)\n        at org.elasticsearch.index.get.ShardGetService.get(ShardGetService.java:106)\n        at org.elasticsearch.action.get.TransportGetAction.shardOperation(TransportGetAction.java:109)\n        at org.elasticsearch.action.get.TransportGetAction.shardOperation(TransportGetAction.java:43)\n        at org.elasticsearch.action.support.single.shard.TransportShardSingleOperationAction$AsyncSingleAction$1.run(TransportShardSingleOperationAction.java:163)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n        at java.lang.Thread.run(Thread.java:745)\n```\n\nWhen this error happened for the first time, you can be sure that the index is corrupt and will produce the messages reported in this issue on startup.\n\nOracle Java 7u60 !\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46102286","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-46102286","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":46102286,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MTAyMjg2","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2014-06-14T23:24:45Z","updated_at":"2014-06-14T23:24:45Z","author_association":"CONTRIBUTOR","body":"To work around the problem, you need to trigger a flush() before the realtime get, so it looks like the problem is related to the transaction log.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46112396","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-46112396","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":46112396,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MTEyMzk2","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2014-06-15T10:37:45Z","updated_at":"2014-06-15T10:37:45Z","author_association":"CONTRIBUTOR","body":"I tried this out with a variety of combinations of mappings (the affected mapping is always one with solely some key-value-pairs, which are never indexed, just some \"metadata\" stored as key-value pairs in the index). It does not work if stored=true for the fields and source is disabled, but the same if source is enabled.\n\nIt looks like Elasticsearch has a problem in version 1.2.1 to load documents from the realtime transaction log, because it has problems with its mapping.\n\nThe mapping it has problems with is:\n\n``` javascript\n    \"metadata\" : {\n        \"dynamic_templates\" : [ {\n          \"kv_pairs\" : {\n            \"mapping\" : {\n              \"type\" : \"string\",\n              \"index\" : \"no\",\n              \"store\" : false\n            },\n            \"match\" : \"*\"\n          }\n        } ],\n        \"_all\" : {\n          \"enabled\" : false\n        },\n        \"properties\" : {\n          \"lastHarvested\" : {\n            \"type\" : \"string\",\n            \"index\" : \"no\"\n          }\n        }\n   }\n```\n\nAs said before, if you flush before getting the realtime documents, it works. But this is a bad idea for performance and couteracts realtime.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46113616","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-46113616","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":46113616,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MTEzNjE2","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2014-06-15T11:42:23Z","updated_at":"2014-06-15T11:43:16Z","author_association":"CONTRIBUTOR","body":"I have the feeling, this has to do wth the changes in #6149, although my code does not use external versions. To me it looks like reading and writing version numbers to the tranlog f*cks up, and the readByte() for looking up the transaction type then gets an invalid value, because we are reading something different (filepointer at wrong position). I want to mention, its done with a completely fresh index, so its not a backwards problem.\n\nMaybe @bleskes should have look!\nUwe\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46145806","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-46145806","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":46145806,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MTQ1ODA2","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2014-06-16T06:48:29Z","updated_at":"2014-06-16T06:48:29Z","author_association":"MEMBER","body":"@uschindler yeah, I was already keeping an eye on this thread :) I will try to reproduce this / look into the code. If you already some code you can share that reproduces it, it will be very much appreciated.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46153636","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-46153636","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":46153636,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MTUzNjM2","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2014-06-16T08:40:29Z","updated_at":"2014-06-16T08:40:29Z","author_association":"CONTRIBUTOR","body":"Hi @bleskes: I will try to write an examle TransportClient-main() program that reproduvces the issue. I am not sure if this can be reproduced in a conventional test. In addition, for me its easier to create just a client that does exactly the same what mine does (same mapping).\n\nPlease note: The mapping I used has no indexed fields, and only a dynamic field that assigns <String,String> key value pairs (unstored). I use this just for storing some \"state\" in the index using one single docid. This docid is updated quite often and read via realtime get.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46154025","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-46154025","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":46154025,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MTU0MDI1","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2014-06-16T08:44:42Z","updated_at":"2014-06-16T08:44:42Z","author_association":"MEMBER","body":"@uschindler that would be awesome. Just clarifying - you can reproduce without indexing lots of documents? (via a scan / index operation).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46154471","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-46154471","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":46154471,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MTU0NDcx","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2014-06-16T08:49:33Z","updated_at":"2014-06-16T08:49:33Z","author_association":"CONTRIBUTOR","body":"I will try out, I just said what the pattern of the usage of the realtime get was: one single document with state information. The other stuff was going on in parallel (scan and reindex to new index). I will try to reproduce during the day.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46361779","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-46361779","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":46361779,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MzYxNzc5","user":{"login":"ikks","id":531285,"node_id":"MDQ6VXNlcjUzMTI4NQ==","avatar_url":"https://avatars0.githubusercontent.com/u/531285?v=4","gravatar_id":"","url":"https://api.github.com/users/ikks","html_url":"https://github.com/ikks","followers_url":"https://api.github.com/users/ikks/followers","following_url":"https://api.github.com/users/ikks/following{/other_user}","gists_url":"https://api.github.com/users/ikks/gists{/gist_id}","starred_url":"https://api.github.com/users/ikks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ikks/subscriptions","organizations_url":"https://api.github.com/users/ikks/orgs","repos_url":"https://api.github.com/users/ikks/repos","events_url":"https://api.github.com/users/ikks/events{/privacy}","received_events_url":"https://api.github.com/users/ikks/received_events","type":"User","site_admin":false},"created_at":"2014-06-17T20:37:25Z","updated_at":"2014-06-17T20:37:25Z","author_association":"NONE","body":"Yesterday I had an issue like this one, also with space problems, the index was broken, so removing it let me restart elasticsearch.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46401313","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-46401313","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":46401313,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDAxMzEz","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2014-06-18T06:45:26Z","updated_at":"2014-06-18T06:45:26Z","author_association":"MEMBER","body":"@ikks yeah, the issue indicates (I think) a corrupted transaction log. During restart we replay the translog to make sure all indexed documents that were not committed to disk by lucene (== flush in ES terminology) are re-indexed. Running out of disk space can corrupt the tranlog and break this replay process. For what it's worth - it's enough to delete the translog file is enough (with the potential loss of data) to bring back the index.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46409700","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-46409700","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":46409700,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDA5NzAw","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2014-06-18T08:39:25Z","updated_at":"2014-06-18T08:39:40Z","author_association":"CONTRIBUTOR","body":"@ikks, @bleskes yes thats a different issue. I am at the moment again working on reproducing. I found out up to now: I modified org.elasticsearch.stresstest.get.GetStressTest to have 2 indexes and 2 mappings and indexing random documents with various field combinations and getting random ones of the already indexed. This showed:\n- The mapping itsself is not the bad guy\n- Changing/updating the mapping while indexing is not the issue (we do this, so it worth to try)\n- There is no out of disk space here :-)\n\nWhat I have not yet tested is one thing: The scan-search with copying documents from one index to the other. This is the only one from my code that is not in my modified test.\n\nOnce I have something, I will post.\n\nTo me the issue looks like not really introduced in ES 1.2, it looks more like some other changes (like when we flush based on memory) now caused the issue to happen. I have seen references to corrupt transaction log several times in the past, so this might be all related.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46409893","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-46409893","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":46409893,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDA5ODkz","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2014-06-18T08:41:59Z","updated_at":"2014-06-18T08:41:59Z","author_association":"MEMBER","body":"@uschindler agreed it's not necessarily a 1.2 issue, though @OlegYch was very specific about that. Thx for the hard work. Hoping you will find it.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46410063","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-46410063","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":46410063,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDEwMDYz","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2014-06-18T08:44:06Z","updated_at":"2014-06-18T08:44:06Z","author_association":"CONTRIBUTOR","body":"I have the following until now, which still passes: https://github.com/uschindler/elasticsearch/commit/5b72037ed60fbb387bbe16e6defa950d68a6aabd\n\nJust run from eclipse with right-click -> execute.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46410265","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-46410265","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":46410265,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDEwMjY1","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2014-06-18T08:46:24Z","updated_at":"2014-06-18T08:46:24Z","author_association":"CONTRIBUTOR","body":"@bleskes I also sometimes to bulk indexing requests in my test, because this was also something i did locally. As said before, no corrumption until now :-)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46410383","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-46410383","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":46410383,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDEwMzgz","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2014-06-18T08:47:52Z","updated_at":"2014-06-18T08:47:52Z","author_association":"MEMBER","body":"@uschindler yeah, I spent half of bbuzz with a modified version this test doing crazy stuff to no avail.. @OlegYch said he hard restarted a node? maybe that's a clue?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46410706","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-46410706","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":46410706,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDEwNzA2","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2014-06-18T08:51:40Z","updated_at":"2014-06-18T08:51:40Z","author_association":"CONTRIBUTOR","body":"@bleskes restarting node is not the primary problem. The problem shows before restarting the node. If you get errors while realtime gets and restart the node after that, it is no longer able to reapply transactions. But this is just a followup, the original issue happened earlier.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46410970","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-46410970","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":46410970,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDEwOTcw","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2014-06-18T08:54:46Z","updated_at":"2014-06-18T08:54:46Z","author_association":"MEMBER","body":"@uschindler if you had without restarting, then yeah, I agree. I was thinking maybe the restart cause the translog not to be written to disk correctly.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46414022","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-46414022","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":46414022,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDE0MDIy","user":{"login":"OlegYch","id":268312,"node_id":"MDQ6VXNlcjI2ODMxMg==","avatar_url":"https://avatars1.githubusercontent.com/u/268312?v=4","gravatar_id":"","url":"https://api.github.com/users/OlegYch","html_url":"https://github.com/OlegYch","followers_url":"https://api.github.com/users/OlegYch/followers","following_url":"https://api.github.com/users/OlegYch/following{/other_user}","gists_url":"https://api.github.com/users/OlegYch/gists{/gist_id}","starred_url":"https://api.github.com/users/OlegYch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OlegYch/subscriptions","organizations_url":"https://api.github.com/users/OlegYch/orgs","repos_url":"https://api.github.com/users/OlegYch/repos","events_url":"https://api.github.com/users/OlegYch/events{/privacy}","received_events_url":"https://api.github.com/users/OlegYch/received_events","type":"User","site_admin":false},"created_at":"2014-06-18T09:29:46Z","updated_at":"2014-06-18T09:29:46Z","author_association":"NONE","body":"registering a few percolators into clean index is enough to trigger No version type match [56] after restart\nthe code is like this\n\n```\n      new IndexRequestBuilder(null).setIndex(index)\n        .setType(PercolatorService.TYPE_NAME).setId(id).setRefresh(true)\n        .setSource(source).request\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46423538","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-46423538","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":46423538,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDIzNTM4","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2014-06-18T11:25:56Z","updated_at":"2014-06-18T11:25:56Z","author_association":"CONTRIBUTOR","body":"@OlegYch maybe you can post your code?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46427105","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-46427105","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":46427105,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDI3MTA1","user":{"login":"OlegYch","id":268312,"node_id":"MDQ6VXNlcjI2ODMxMg==","avatar_url":"https://avatars1.githubusercontent.com/u/268312?v=4","gravatar_id":"","url":"https://api.github.com/users/OlegYch","html_url":"https://github.com/OlegYch","followers_url":"https://api.github.com/users/OlegYch/followers","following_url":"https://api.github.com/users/OlegYch/following{/other_user}","gists_url":"https://api.github.com/users/OlegYch/gists{/gist_id}","starred_url":"https://api.github.com/users/OlegYch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OlegYch/subscriptions","organizations_url":"https://api.github.com/users/OlegYch/orgs","repos_url":"https://api.github.com/users/OlegYch/repos","events_url":"https://api.github.com/users/OlegYch/events{/privacy}","received_events_url":"https://api.github.com/users/OlegYch/received_events","type":"User","site_admin":false},"created_at":"2014-06-18T12:06:21Z","updated_at":"2014-06-18T12:06:21Z","author_association":"NONE","body":"ok let me try to minimize it\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46431839","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-46431839","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":46431839,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDMxODM5","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2014-06-18T13:00:35Z","updated_at":"2014-06-18T13:00:35Z","author_association":"CONTRIBUTOR","body":"I also have the code actually in open access. so its easy to reproduce the whole thing. If you are willing to checkout some SVN code and the patch away the \"explicit flush\" i added to workaround the problem, you can easily reproduce...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46432722","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-46432722","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":46432722,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDMyNzIy","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2014-06-18T13:08:55Z","updated_at":"2014-06-18T13:08:55Z","author_association":"CONTRIBUTOR","body":"Maybe the whole problem is one of the good old \"Oracle JDK bugs\"!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46438841","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-46438841","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":46438841,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDM4ODQx","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2014-06-18T14:00:05Z","updated_at":"2014-06-18T17:44:34Z","author_association":"CONTRIBUTOR","body":"Here is how to reproduce:\n- Checkout panFMP source code, revision 600: svn co -r 600 https://svn.code.sf.net/p/panfmp/code/main/trunk\n- Patch this:\n\n```\nIndex: src/de/pangaea/metadataportal/processor/ElasticsearchConnection.java\n===================================================================\n--- src/de/pangaea/metadataportal/processor/ElasticsearchConnection.java        (revision 600)\n+++ src/de/pangaea/metadataportal/processor/ElasticsearchConnection.java        (working copy)\n@@ -200,8 +200,8 @@\n\n     final IndicesAdminClient indicesAdmin = client.admin().indices();\n\n-    log.info(\"Flushing data...\");\n-    indicesAdmin.prepareFlush(realIndexName).get();\n+    // log.info(\"Flushing data...\");\n+    // indicesAdmin.prepareFlush(realIndexName).get();\n\n     final String aliasedIndex = getAliasedIndex(ticonf);\n     if (cleanShutdown && !realIndexName.equals(aliasedIndex)) {\n```\n- Start Elasticsearch (as downloaded), version 1.2.1\n- Run as a first step to fill the index with XML metadata from PANGAEA and some US datacenters: ant run-harvester (if this fails for first time with NoNodeAvailableException, retry - this requires that ES is running on localhost, port 9300). \n\nAfter the data is harvested (index panfmp_v1), rebuild the index: ant run-rebuilder\n\nWhile running the rebuilder, it hits exceptions on realtime get. If you restart the ES instance it will break while trying to reapply tranlog.\n\nI used Oracle JDK 7u60... The bug reproduces every time on Windows 7! Did not try Linux.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46440345","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-46440345","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":46440345,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDQwMzQ1","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2014-06-18T14:12:09Z","updated_at":"2014-06-18T14:12:09Z","author_association":"MEMBER","body":"@uschindler thx! I will definitely dig into this. \n\n@OlegYch I will also try the percolator route. If you have running reproduction it will be awesome.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46454725","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-46454725","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":46454725,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDU0NzI1","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2014-06-18T15:53:13Z","updated_at":"2014-06-18T15:53:13Z","author_association":"CONTRIBUTOR","body":"Just for completeness: Here is my other tester that also does not find the bug :(: https://github.com/uschindler/elasticsearch/commit/8301432f74bdb3231a7a9f0f21cbd09543749895\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46465219","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-46465219","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":46465219,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDY1MjE5","user":{"login":"OlegYch","id":268312,"node_id":"MDQ6VXNlcjI2ODMxMg==","avatar_url":"https://avatars1.githubusercontent.com/u/268312?v=4","gravatar_id":"","url":"https://api.github.com/users/OlegYch","html_url":"https://github.com/OlegYch","followers_url":"https://api.github.com/users/OlegYch/followers","following_url":"https://api.github.com/users/OlegYch/following{/other_user}","gists_url":"https://api.github.com/users/OlegYch/gists{/gist_id}","starred_url":"https://api.github.com/users/OlegYch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OlegYch/subscriptions","organizations_url":"https://api.github.com/users/OlegYch/orgs","repos_url":"https://api.github.com/users/OlegYch/repos","events_url":"https://api.github.com/users/OlegYch/events{/privacy}","received_events_url":"https://api.github.com/users/OlegYch/received_events","type":"User","site_admin":false},"created_at":"2014-06-18T17:15:31Z","updated_at":"2014-06-18T17:15:31Z","author_association":"NONE","body":"here is a repro https://github.com/OlegYch/es-test\nbasically 1.2.1 fails when i insert several somewhat large percolators (perhaps other documents as well)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46466101","html_url":"https://github.com/elastic/elasticsearch/issues/6441#issuecomment-46466101","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6441","id":46466101,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDY2MTAx","user":{"login":"OlegYch","id":268312,"node_id":"MDQ6VXNlcjI2ODMxMg==","avatar_url":"https://avatars1.githubusercontent.com/u/268312?v=4","gravatar_id":"","url":"https://api.github.com/users/OlegYch","html_url":"https://github.com/OlegYch","followers_url":"https://api.github.com/users/OlegYch/followers","following_url":"https://api.github.com/users/OlegYch/following{/other_user}","gists_url":"https://api.github.com/users/OlegYch/gists{/gist_id}","starred_url":"https://api.github.com/users/OlegYch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OlegYch/subscriptions","organizations_url":"https://api.github.com/users/OlegYch/orgs","repos_url":"https://api.github.com/users/OlegYch/repos","events_url":"https://api.github.com/users/OlegYch/events{/privacy}","received_events_url":"https://api.github.com/users/OlegYch/received_events","type":"User","site_admin":false},"created_at":"2014-06-18T17:22:48Z","updated_at":"2014-06-18T17:22:48Z","author_association":"NONE","body":"it seems to fail only on windows though\n using same jdk on both windows and linux\nJava(TM) SE Runtime Environment (build 1.7.0_51-b13)\nJava HotSpot(TM) 64-Bit Server VM (build 24.51-b03, mixed mode)\n","performed_via_github_app":null}]