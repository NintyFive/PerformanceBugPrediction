[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/36576242","html_url":"https://github.com/elastic/elasticsearch/issues/5326#issuecomment-36576242","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5326","id":36576242,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTc2MjQy","user":{"login":"justinuang","id":292519,"node_id":"MDQ6VXNlcjI5MjUxOQ==","avatar_url":"https://avatars3.githubusercontent.com/u/292519?v=4","gravatar_id":"","url":"https://api.github.com/users/justinuang","html_url":"https://github.com/justinuang","followers_url":"https://api.github.com/users/justinuang/followers","following_url":"https://api.github.com/users/justinuang/following{/other_user}","gists_url":"https://api.github.com/users/justinuang/gists{/gist_id}","starred_url":"https://api.github.com/users/justinuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinuang/subscriptions","organizations_url":"https://api.github.com/users/justinuang/orgs","repos_url":"https://api.github.com/users/justinuang/repos","events_url":"https://api.github.com/users/justinuang/events{/privacy}","received_events_url":"https://api.github.com/users/justinuang/received_events","type":"User","site_admin":false},"created_at":"2014-03-03T23:52:05Z","updated_at":"2014-03-03T23:54:03Z","author_association":"NONE","body":"What happens if the buffer is flushed right after the last non-null element in the `termsEnum` is iterated over? Won't `this.flushBuffer == 0`, and a `NullPointerException` will be thrown?\n\nI see that this circuit breaking functionality was added by @dakrone in commit a7542247.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/36645180","html_url":"https://github.com/elastic/elasticsearch/issues/5326#issuecomment-36645180","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5326","id":36645180,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjQ1MTgw","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2014-03-04T16:41:45Z","updated_at":"2014-03-04T16:41:45Z","author_association":"MEMBER","body":"@justinuang I see the issue in `bytesPerValue` in `PagedBytesIndexFieldData`, I will fix this.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/36645443","html_url":"https://github.com/elastic/elasticsearch/issues/5326#issuecomment-36645443","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5326","id":36645443,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjQ1NDQz","user":{"login":"justinuang","id":292519,"node_id":"MDQ6VXNlcjI5MjUxOQ==","avatar_url":"https://avatars3.githubusercontent.com/u/292519?v=4","gravatar_id":"","url":"https://api.github.com/users/justinuang","html_url":"https://github.com/justinuang","followers_url":"https://api.github.com/users/justinuang/followers","following_url":"https://api.github.com/users/justinuang/following{/other_user}","gists_url":"https://api.github.com/users/justinuang/gists{/gist_id}","starred_url":"https://api.github.com/users/justinuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinuang/subscriptions","organizations_url":"https://api.github.com/users/justinuang/orgs","repos_url":"https://api.github.com/users/justinuang/repos","events_url":"https://api.github.com/users/justinuang/events{/privacy}","received_events_url":"https://api.github.com/users/justinuang/received_events","type":"User","site_admin":false},"created_at":"2014-03-04T16:43:59Z","updated_at":"2014-03-04T16:43:59Z","author_association":"NONE","body":"Thanks so much! If you don't mind, can you explain what the bug is?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/36645860","html_url":"https://github.com/elastic/elasticsearch/issues/5326#issuecomment-36645860","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5326","id":36645860,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjQ1ODYw","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2014-03-04T16:47:34Z","updated_at":"2014-03-04T16:47:34Z","author_association":"MEMBER","body":"It is like you said in the `.next()` method, if the `term` is null right after a flush we still end up calling the `.bytesPerValue()` function on it. I'm going to add a check in `.next()` that for null terms and returns null immediately.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/36646122","html_url":"https://github.com/elastic/elasticsearch/issues/5326#issuecomment-36646122","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5326","id":36646122,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjQ2MTIy","user":{"login":"justinuang","id":292519,"node_id":"MDQ6VXNlcjI5MjUxOQ==","avatar_url":"https://avatars3.githubusercontent.com/u/292519?v=4","gravatar_id":"","url":"https://api.github.com/users/justinuang","html_url":"https://github.com/justinuang","followers_url":"https://api.github.com/users/justinuang/followers","following_url":"https://api.github.com/users/justinuang/following{/other_user}","gists_url":"https://api.github.com/users/justinuang/gists{/gist_id}","starred_url":"https://api.github.com/users/justinuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinuang/subscriptions","organizations_url":"https://api.github.com/users/justinuang/orgs","repos_url":"https://api.github.com/users/justinuang/repos","events_url":"https://api.github.com/users/justinuang/events{/privacy}","received_events_url":"https://api.github.com/users/justinuang/received_events","type":"User","site_admin":false},"created_at":"2014-03-04T16:49:47Z","updated_at":"2014-03-04T16:49:47Z","author_association":"NONE","body":"Awesome. Thanks for your expertise. I'm guessing that your previous comment doesn't really apply to this issue then?\n\n> @justinuang I see the issue in bytesPerValue in PagedBytesIndexFieldData, I will fix this.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/36646245","html_url":"https://github.com/elastic/elasticsearch/issues/5326#issuecomment-36646245","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5326","id":36646245,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjQ2MjQ1","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2014-03-04T16:50:44Z","updated_at":"2014-03-04T16:50:44Z","author_association":"MEMBER","body":"No, it does, that's where the actual NPE is coming from, because I assume `term` can never be null in `.bytesPerValue()` (which was incorrect)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/36646893","html_url":"https://github.com/elastic/elasticsearch/issues/5326#issuecomment-36646893","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5326","id":36646893,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjQ2ODkz","user":{"login":"justinuang","id":292519,"node_id":"MDQ6VXNlcjI5MjUxOQ==","avatar_url":"https://avatars3.githubusercontent.com/u/292519?v=4","gravatar_id":"","url":"https://api.github.com/users/justinuang","html_url":"https://github.com/justinuang","followers_url":"https://api.github.com/users/justinuang/followers","following_url":"https://api.github.com/users/justinuang/following{/other_user}","gists_url":"https://api.github.com/users/justinuang/gists{/gist_id}","starred_url":"https://api.github.com/users/justinuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinuang/subscriptions","organizations_url":"https://api.github.com/users/justinuang/orgs","repos_url":"https://api.github.com/users/justinuang/repos","events_url":"https://api.github.com/users/justinuang/events{/privacy}","received_events_url":"https://api.github.com/users/justinuang/received_events","type":"User","site_admin":false},"created_at":"2014-03-04T16:56:28Z","updated_at":"2014-03-04T16:56:28Z","author_association":"NONE","body":"Ah I see. Thanks again!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/36653102","html_url":"https://github.com/elastic/elasticsearch/issues/5326#issuecomment-36653102","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5326","id":36653102,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NjUzMTAy","user":{"login":"justinuang","id":292519,"node_id":"MDQ6VXNlcjI5MjUxOQ==","avatar_url":"https://avatars3.githubusercontent.com/u/292519?v=4","gravatar_id":"","url":"https://api.github.com/users/justinuang","html_url":"https://github.com/justinuang","followers_url":"https://api.github.com/users/justinuang/followers","following_url":"https://api.github.com/users/justinuang/following{/other_user}","gists_url":"https://api.github.com/users/justinuang/gists{/gist_id}","starred_url":"https://api.github.com/users/justinuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinuang/subscriptions","organizations_url":"https://api.github.com/users/justinuang/orgs","repos_url":"https://api.github.com/users/justinuang/repos","events_url":"https://api.github.com/users/justinuang/events{/privacy}","received_events_url":"https://api.github.com/users/justinuang/received_events","type":"User","site_admin":false},"created_at":"2014-03-04T17:53:01Z","updated_at":"2014-03-04T17:53:01Z","author_association":"NONE","body":"Cool. Do you know when the next release will be? It's hitting us in production.\n","performed_via_github_app":null}]