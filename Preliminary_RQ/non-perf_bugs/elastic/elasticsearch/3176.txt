{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/3176","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3176/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3176/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3176/events","html_url":"https://github.com/elastic/elasticsearch/issues/3176","id":15506730,"node_id":"MDU6SXNzdWUxNTUwNjczMA==","number":3176,"title":"Elasticsearch JVM options","user":{"login":"kayrus","id":4047483,"node_id":"MDQ6VXNlcjQwNDc0ODM=","avatar_url":"https://avatars2.githubusercontent.com/u/4047483?v=4","gravatar_id":"","url":"https://api.github.com/users/kayrus","html_url":"https://github.com/kayrus","followers_url":"https://api.github.com/users/kayrus/followers","following_url":"https://api.github.com/users/kayrus/following{/other_user}","gists_url":"https://api.github.com/users/kayrus/gists{/gist_id}","starred_url":"https://api.github.com/users/kayrus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kayrus/subscriptions","organizations_url":"https://api.github.com/users/kayrus/orgs","repos_url":"https://api.github.com/users/kayrus/repos","events_url":"https://api.github.com/users/kayrus/events{/privacy}","received_events_url":"https://api.github.com/users/kayrus/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2013-06-13T14:03:53Z","updated_at":"2013-06-13T14:07:20Z","closed_at":"2013-06-13T14:07:20Z","author_association":"NONE","active_lock_reason":null,"body":"Hello!\n\nI'm trying to increase elasticsearch indexing performance for logstash. here are my tech specs:\n\nthree servers with:\neach with two E5520 CPU and 24Gb RAM, RAID10 (4HDD)\n\nHere are java opts:\nES_HEAP_SIZE=12g\nES_JAVA_OPTS=\"-XX:+UseConcMarkSweepGC -XX:+UseParNewGC -XX:CMSInitiatingOccupancyFraction=70 -XX:-UseGCOverheadLimit -XX:NewSize=256m -XX:InitialTenuringThreshold=10 -Djava.net.preferIPv4Stack=true -Dnetworkaddress.cache.ttl=7200 -Dnetworkaddress.cache.negative.ttl=2\"\n\nHere are configs. master:\n\ncluster.name: \"logstash\"\nnode.name: \"search-1\"\nnode.master: true\nnode.data: true\nindex.number_of_shards: 3\nbootstrap.mlockall: true\nindices.memory.index_buffer_size: 50%\nindex.translog.flush_threshold_ops: 50000\nthreadpool.search.type: fixed\nthreadpool.search.size: 20\nthreadpool.search.queue_size: 100\n\nthreadpool.index.type: fixed\nthreadpool.index.size: 60\nthreadpool.index.queue_size: 200\n\nslave:\ncluster.name: \"logstash\"\nnode.name: \"search-2\"\nnode.master: false\nnode.data: true\nindex.number_of_shards: 3\nbootstrap.mlockall: true\nindices.memory.index_buffer_size: 50%\nindex.translog.flush_threshold_ops: 50000\nthreadpool.search.type: fixed\nthreadpool.search.size: 20\nthreadpool.search.queue_size: 100\n\nthreadpool.index.type: fixed\nthreadpool.index.size: 60\nthreadpool.index.queue_size: 200\n\nThe maximum amount of logs I reached are 3000 logs per second and lots of gaps approximately 30-60 seconds (garbage collector I guess).\n\nCould anyone help me to reach at least 10000 logs per second? Each log is approximately 170 bytes.\n","closed_by":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"performed_via_github_app":null}