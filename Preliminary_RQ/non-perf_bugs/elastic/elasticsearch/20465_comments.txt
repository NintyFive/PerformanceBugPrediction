[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/246936564","html_url":"https://github.com/elastic/elasticsearch/issues/20465#issuecomment-246936564","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20465","id":246936564,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NjkzNjU2NA==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-09-14T08:03:50Z","updated_at":"2016-09-14T08:03:50Z","author_association":"CONTRIBUTOR","body":"@dobariya I am not sure if we should do this since your source index will likely have legacy mappings and settings? You should rather work with templates or create the structure yourself? Maybe we should warn you instead and ask if we should auto-create the index unless specified ie. fail the reindex if the target doesn't exist?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/246943910","html_url":"https://github.com/elastic/elasticsearch/issues/20465#issuecomment-246943910","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20465","id":246943910,"node_id":"MDEyOklzc3VlQ29tbWVudDI0Njk0MzkxMA==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-09-14T08:36:25Z","updated_at":"2016-09-14T08:36:25Z","author_association":"MEMBER","body":"apart for playing around, what is your use case for this? typically one would reindex because they need to upgrade something/change settings etc.  Also, you need to be aware then when not locking your mapping new mapping may be introduced between the creation of the target index and when the scroll search of the reindex process starts making this not a completely trivial feature to add. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/246945788","html_url":"https://github.com/elastic/elasticsearch/issues/20465#issuecomment-246945788","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20465","id":246945788,"node_id":"MDEyOklzc3VlQ29tbWVudDI0Njk0NTc4OA==","user":{"login":"dobariya","id":10497122,"node_id":"MDQ6VXNlcjEwNDk3MTIy","avatar_url":"https://avatars0.githubusercontent.com/u/10497122?v=4","gravatar_id":"","url":"https://api.github.com/users/dobariya","html_url":"https://github.com/dobariya","followers_url":"https://api.github.com/users/dobariya/followers","following_url":"https://api.github.com/users/dobariya/following{/other_user}","gists_url":"https://api.github.com/users/dobariya/gists{/gist_id}","starred_url":"https://api.github.com/users/dobariya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dobariya/subscriptions","organizations_url":"https://api.github.com/users/dobariya/orgs","repos_url":"https://api.github.com/users/dobariya/repos","events_url":"https://api.github.com/users/dobariya/events{/privacy}","received_events_url":"https://api.github.com/users/dobariya/received_events","type":"User","site_admin":false},"created_at":"2016-09-14T08:44:01Z","updated_at":"2016-09-14T08:44:01Z","author_association":"NONE","body":"@bleskes :I have a huge index around 100 million but from that we only need some documents to play around.To get those some documents i would need to apply filter every time rather i thought to create a new index and put those some documents using reindex api so this way i will only have few documents and will not have to search on entire index.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/246946898","html_url":"https://github.com/elastic/elasticsearch/issues/20465#issuecomment-246946898","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20465","id":246946898,"node_id":"MDEyOklzc3VlQ29tbWVudDI0Njk0Njg5OA==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-09-14T08:48:31Z","updated_at":"2016-09-14T08:48:31Z","author_association":"MEMBER","body":"hmm. makes sense although, since it's just a simple one liner in any script language to get the mapping and create a new index with it, I'm not sure it's worth making the reindex API more complex. Note that you also almost surely want to change the number of shards of the target index if it's going to be small.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/246949454","html_url":"https://github.com/elastic/elasticsearch/issues/20465#issuecomment-246949454","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20465","id":246949454,"node_id":"MDEyOklzc3VlQ29tbWVudDI0Njk0OTQ1NA==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-09-14T08:58:52Z","updated_at":"2016-09-14T08:58:52Z","author_association":"CONTRIBUTOR","body":"@dobariya I wonder if it makes sense to allow to clone and index without data ie. pimp the create index API. I really think that's a better primitive and you can just call this with source and target index name before you fire off reindex?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/246950837","html_url":"https://github.com/elastic/elasticsearch/issues/20465#issuecomment-246950837","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20465","id":246950837,"node_id":"MDEyOklzc3VlQ29tbWVudDI0Njk1MDgzNw==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-09-14T09:04:31Z","updated_at":"2016-09-14T09:04:31Z","author_association":"MEMBER","body":"@s1monw I thought about that too, and we can do - but I think it should have the semantics of take the given index setting as a template and apply the given request on top of it (so you can change things like number of shards).  \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/246953595","html_url":"https://github.com/elastic/elasticsearch/issues/20465#issuecomment-246953595","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20465","id":246953595,"node_id":"MDEyOklzc3VlQ29tbWVudDI0Njk1MzU5NQ==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-09-14T09:15:39Z","updated_at":"2016-09-14T09:15:39Z","author_association":"CONTRIBUTOR","body":"@bleskes that is bascially what `_shrink` does. I think we can generalize it\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/246961515","html_url":"https://github.com/elastic/elasticsearch/issues/20465#issuecomment-246961515","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20465","id":246961515,"node_id":"MDEyOklzc3VlQ29tbWVudDI0Njk2MTUxNQ==","user":{"login":"dobariya","id":10497122,"node_id":"MDQ6VXNlcjEwNDk3MTIy","avatar_url":"https://avatars0.githubusercontent.com/u/10497122?v=4","gravatar_id":"","url":"https://api.github.com/users/dobariya","html_url":"https://github.com/dobariya","followers_url":"https://api.github.com/users/dobariya/followers","following_url":"https://api.github.com/users/dobariya/following{/other_user}","gists_url":"https://api.github.com/users/dobariya/gists{/gist_id}","starred_url":"https://api.github.com/users/dobariya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dobariya/subscriptions","organizations_url":"https://api.github.com/users/dobariya/orgs","repos_url":"https://api.github.com/users/dobariya/repos","events_url":"https://api.github.com/users/dobariya/events{/privacy}","received_events_url":"https://api.github.com/users/dobariya/received_events","type":"User","site_admin":false},"created_at":"2016-09-14T09:48:02Z","updated_at":"2016-09-14T09:48:02Z","author_association":"NONE","body":"@bleskes yes we can also have option to give shard size if its small.So can i conclude we are getting this update?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/246991546","html_url":"https://github.com/elastic/elasticsearch/issues/20465#issuecomment-246991546","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20465","id":246991546,"node_id":"MDEyOklzc3VlQ29tbWVudDI0Njk5MTU0Ng==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-09-14T12:03:55Z","updated_at":"2016-09-14T12:03:55Z","author_association":"CONTRIBUTOR","body":"> @bleskes yes we can also have option to give shard size if its small\n\nStuff like this is why I'm weary adding a general \"make a new index with this index's settings\". It is really \"make a new index with this index's setting except these three settings\". I feel like lots of folks are going to have a different list of three things and they are better off just making the index themselves.\n\n> Maybe we should warn you instead and ask if we should auto-create the index unless specified ie. fail the reindex if the target doesn't exist?\n\nI like this idea.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/247068014","html_url":"https://github.com/elastic/elasticsearch/issues/20465#issuecomment-247068014","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20465","id":247068014,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NzA2ODAxNA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-09-14T16:16:25Z","updated_at":"2016-09-14T16:16:25Z","author_association":"CONTRIBUTOR","body":"What about:\n\n```\nPUT {new_index}/_from/{old_index}\n... any settings, mapping, alias overrides...\n```\n\nThis API would also delete the old version created, index uuid, etc settings\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/247515535","html_url":"https://github.com/elastic/elasticsearch/issues/20465#issuecomment-247515535","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20465","id":247515535,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NzUxNTUzNQ==","user":{"login":"dobariya","id":10497122,"node_id":"MDQ6VXNlcjEwNDk3MTIy","avatar_url":"https://avatars0.githubusercontent.com/u/10497122?v=4","gravatar_id":"","url":"https://api.github.com/users/dobariya","html_url":"https://github.com/dobariya","followers_url":"https://api.github.com/users/dobariya/followers","following_url":"https://api.github.com/users/dobariya/following{/other_user}","gists_url":"https://api.github.com/users/dobariya/gists{/gist_id}","starred_url":"https://api.github.com/users/dobariya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dobariya/subscriptions","organizations_url":"https://api.github.com/users/dobariya/orgs","repos_url":"https://api.github.com/users/dobariya/repos","events_url":"https://api.github.com/users/dobariya/events{/privacy}","received_events_url":"https://api.github.com/users/dobariya/received_events","type":"User","site_admin":false},"created_at":"2016-09-16T04:28:06Z","updated_at":"2016-09-16T04:28:19Z","author_association":"NONE","body":"yes this makes sense.I like this idea\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/247563329","html_url":"https://github.com/elastic/elasticsearch/issues/20465#issuecomment-247563329","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20465","id":247563329,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NzU2MzMyOQ==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-09-16T09:59:41Z","updated_at":"2016-09-16T09:59:41Z","author_association":"CONTRIBUTOR","body":"we spoke about this in fixit - FRYday :) and we agreed that having this option to auto-create an index from another index or copy settings / mappings is beyond the point. If you reindex you usually want to change something (mappings or settings) or you migrate from an old version. You also have templates in place to get mappings right OR you have a way to create your indices. I feel we have enough primitives in place to allow users to create indices easily. We also discussed and agreed that reindex should not automatically create an index but make it mandatory that this index exists. @nik9000 do you want me to open an issue? \n","performed_via_github_app":null}]