[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/180060144","html_url":"https://github.com/elastic/elasticsearch/issues/16464#issuecomment-180060144","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16464","id":180060144,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MDA2MDE0NA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-02-04T21:27:39Z","updated_at":"2016-02-06T22:16:38Z","author_association":"MEMBER","body":"This is covered in the [breaking changes for 2.2.0](https://www.elastic.co/guide/en/elasticsearch/reference/current/breaking-changes-2.2.html#_scripting_and_security); in particular, see [Scripting and the Java Security Manager](https://www.elastic.co/guide/en/elasticsearch/reference/2.2/modules-scripting-security.html). You need to whitelist `java.lang.Throwable` and probably continue down the Throwable hierarchy until you reach whatever concrete class is being thrown here.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/180095701","html_url":"https://github.com/elastic/elasticsearch/issues/16464#issuecomment-180095701","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16464","id":180095701,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MDA5NTcwMQ==","user":{"login":"hulu1522","id":8116850,"node_id":"MDQ6VXNlcjgxMTY4NTA=","avatar_url":"https://avatars0.githubusercontent.com/u/8116850?v=4","gravatar_id":"","url":"https://api.github.com/users/hulu1522","html_url":"https://github.com/hulu1522","followers_url":"https://api.github.com/users/hulu1522/followers","following_url":"https://api.github.com/users/hulu1522/following{/other_user}","gists_url":"https://api.github.com/users/hulu1522/gists{/gist_id}","starred_url":"https://api.github.com/users/hulu1522/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hulu1522/subscriptions","organizations_url":"https://api.github.com/users/hulu1522/orgs","repos_url":"https://api.github.com/users/hulu1522/repos","events_url":"https://api.github.com/users/hulu1522/events{/privacy}","received_events_url":"https://api.github.com/users/hulu1522/received_events","type":"User","site_admin":false},"created_at":"2016-02-04T23:07:09Z","updated_at":"2016-02-04T23:07:09Z","author_association":"NONE","body":"I followed that and it doesn't work.  I put this file in the elasticsearch users home directory and root's just to be sure.  I have not yet put it in the JAVA_HOME location yet but this way should work.\n\nLocations:\n`/home/elastic/.java.policy`\n`/root/.java.policy`\n\n``` java\n//\n//\n//     This File is Managed by Chef!\n//\n//  Any modifications will be overwritten.\n//\n//\n\n\ngrant {\n  permission org.elasticsearch.script.ClassPermission \"java.lang.Throwable\";\n};\n```\n\nNeither of them work.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/180207058","html_url":"https://github.com/elastic/elasticsearch/issues/16464#issuecomment-180207058","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16464","id":180207058,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MDIwNzA1OA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-02-05T05:34:51Z","updated_at":"2016-02-05T05:34:51Z","author_association":"CONTRIBUTOR","body":"Your policy file needs to contain the following:\n\n```\ngrant {\n  permission org.elasticsearch.script.ClassPermission \"java.lang.Throwable\";\n  permission org.elasticsearch.script.ClassPermission \"java.lang.Exception\";\n  permission org.elasticsearch.script.ClassPermission \"groovy.lang.GroovyException\";\n};\n```\n","performed_via_github_app":null}]