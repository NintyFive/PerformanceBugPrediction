{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/26518","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26518/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26518/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26518/events","html_url":"https://github.com/elastic/elasticsearch/issues/26518","id":255577143,"node_id":"MDU6SXNzdWUyNTU1NzcxNDM=","number":26518,"title":"log4j UnsupportedCharsetException cp65001 after Elasticsearch 6.0.0-Beta2 bat run ","user":{"login":"net1pei","id":30893836,"node_id":"MDQ6VXNlcjMwODkzODM2","avatar_url":"https://avatars1.githubusercontent.com/u/30893836?v=4","gravatar_id":"","url":"https://api.github.com/users/net1pei","html_url":"https://github.com/net1pei","followers_url":"https://api.github.com/users/net1pei/followers","following_url":"https://api.github.com/users/net1pei/following{/other_user}","gists_url":"https://api.github.com/users/net1pei/gists{/gist_id}","starred_url":"https://api.github.com/users/net1pei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/net1pei/subscriptions","organizations_url":"https://api.github.com/users/net1pei/orgs","repos_url":"https://api.github.com/users/net1pei/repos","events_url":"https://api.github.com/users/net1pei/events{/privacy}","received_events_url":"https://api.github.com/users/net1pei/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-09-06T11:53:56Z","updated_at":"2017-09-06T12:11:24Z","closed_at":"2017-09-06T12:11:24Z","author_association":"NONE","active_lock_reason":null,"body":"Elasticsearch version (bin/elasticsearch --version):\r\n6.0.0-Beta2\r\n\r\nPlugins installed:\r\nNo\r\n\r\nJVM version (java -version):\r\n1.8.0_144\r\n\r\nOS version (uname -a if on a Unix-like system):\r\nWin7-SP1, 64 bit\r\n\r\nDescription of the problem including expected versus actual behavior:\r\n\r\nInstall Elasticsearch 6.0.0-Beta2 ZIP, URL: https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-6.0.0-beta2.zip\r\n\r\nAfter unzip into E:\\ES\\elasticsearch-6.0.0-beta2 , when run in DOS, then get an error:\r\nE:\\ES\\elasticsearch-6.0.0-beta2\\bin>elasticsearch.bat\r\n2017-09-06 19:43:55,657 main ERROR Unable to inject fields into builder class for plugin type class org.apache.logging.log4j.core.appender.ConsoleAppender, elem\r\nent Console. java.nio.charset.UnsupportedCharsetException: cp65001\r\n        at java.nio.charset.Charset.forName(Unknown Source)\r\n        at org.apache.logging.log4j.util.PropertiesUtil.getCharsetProperty(PropertiesUtil.java:146)\r\n        at org.apache.logging.log4j.util.PropertiesUtil.getCharsetProperty(PropertiesUtil.java:134)\r\n        at org.apache.logging.log4j.core.appender.ConsoleAppender$Target.getCharset(ConsoleAppender.java:85)\r\n        at org.apache.logging.log4j.core.appender.ConsoleAppender$Target$1.getDefaultCharset(ConsoleAppender.java:71)\r\n        at org.apache.logging.log4j.core.appender.ConsoleAppender$Builder.build(ConsoleAppender.java:218)\r\n        at org.apache.logging.log4j.core.appender.ConsoleAppender$Builder.build(ConsoleAppender.java:185)\r\n        at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:122)\r\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:952)\r\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:892)\r\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:884)\r\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:508)\r\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:232)\r\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:244)\r\n        at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:545)\r\n        at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:261)\r\n        at org.elasticsearch.common.logging.LogConfigurator.configure(LogConfigurator.java:164)\r\n        at org.elasticsearch.common.logging.LogConfigurator.configure(LogConfigurator.java:120)\r\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:290)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:130)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:121)\r\n        at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:69)\r\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:134)\r\n        at org.elasticsearch.cli.Command.main(Command.java:90)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:92)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:85)\r\n\r\n2017-09-06 19:43:55,701 main ERROR Unable to invoke factory method in class class org.apache.logging.log4j.core.appender.ConsoleAppender for element Console. ja\r\nva.lang.IllegalStateException: No factory method found for class org.apache.logging.log4j.core.appender.ConsoleAppender\r\n        at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.findFactoryMethod(PluginBuilder.java:224)\r\n        at org.apache.logging.log4j.core.config.plugins.util.PluginBuilder.build(PluginBuilder.java:130)\r\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.createPluginObject(AbstractConfiguration.java:952)\r\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:892)\r\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.createConfiguration(AbstractConfiguration.java:884)\r\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.doConfigure(AbstractConfiguration.java:508)\r\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:232)\r\n        at org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:244)\r\n        at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:545)\r\n        at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:261)\r\n        at org.elasticsearch.common.logging.LogConfigurator.configure(LogConfigurator.java:164)\r\n        at org.elasticsearch.common.logging.LogConfigurator.configure(LogConfigurator.java:120)\r\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:290)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:130)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:121)\r\n        at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:69)\r\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:134)\r\n        at org.elasticsearch.cli.Command.main(Command.java:90)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:92)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:85)\r\n\r\n2017-09-06 19:43:55,764 main ERROR Null object returned for Console in Appenders.\r\n2017-09-06 19:43:55,781 main ERROR Unable to locate appender \"console\" for logger config \"root\"","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}