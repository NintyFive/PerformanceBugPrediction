[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/555936038","html_url":"https://github.com/elastic/elasticsearch/issues/49351#issuecomment-555936038","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49351","id":555936038,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTkzNjAzOA==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2019-11-20T10:14:11Z","updated_at":"2019-11-20T10:14:11Z","author_association":"MEMBER","body":"> can this cause any in-place **upgrade** problems with ES 5 => 7\r\n\r\nIf by \"in-place\" you mean rolling upgrades, this isn't supported directly from any 5 to 7 version. See https://www.elastic.co/guide/en/elasticsearch/reference/current/setup-upgrade.html for reference.\r\nAs you noticed, the date `2016-11-30T12+01` isn't complete and therefore should be rejected when parsed as \"strict_date_optional_time\". The fact that it was accepted in 5 should be considered a bug and the current behaviour as correct. I hope you don't mind me closing this issue. If you have further questions around upgrades I'd like to point you to the support forums over at https://discuss.elastic.co since we prefer to use Github issues only for bug reports and feature requests.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/556965795","html_url":"https://github.com/elastic/elasticsearch/issues/49351#issuecomment-556965795","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49351","id":556965795,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Njk2NTc5NQ==","user":{"login":"jamshid","id":8549,"node_id":"MDQ6VXNlcjg1NDk=","avatar_url":"https://avatars0.githubusercontent.com/u/8549?v=4","gravatar_id":"","url":"https://api.github.com/users/jamshid","html_url":"https://github.com/jamshid","followers_url":"https://api.github.com/users/jamshid/followers","following_url":"https://api.github.com/users/jamshid/following{/other_user}","gists_url":"https://api.github.com/users/jamshid/gists{/gist_id}","starred_url":"https://api.github.com/users/jamshid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamshid/subscriptions","organizations_url":"https://api.github.com/users/jamshid/orgs","repos_url":"https://api.github.com/users/jamshid/repos","events_url":"https://api.github.com/users/jamshid/events{/privacy}","received_events_url":"https://api.github.com/users/jamshid/received_events","type":"User","site_admin":false},"created_at":"2019-11-21T07:59:36Z","updated_at":"2019-11-21T07:59:36Z","author_association":"NONE","body":"Okay thanks, I guess closing is fine but fwiw `{\"date\": \"2016-11-30T12\"}` _is_ accepted. \r\nES 7 changed to no longer allow this partial time iff a time zone is specified. \r\n\r\nThat seems inconsistent. Minutes and seconds are optional in ISO 8601, and I believe a time zone is allowed.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/557087569","html_url":"https://github.com/elastic/elasticsearch/issues/49351#issuecomment-557087569","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49351","id":557087569,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzA4NzU2OQ==","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"created_at":"2019-11-21T13:36:36Z","updated_at":"2019-11-21T13:36:36Z","author_association":"CONTRIBUTOR","body":"@jamshid @cbismuth this is a problem that was raised recently by other users too. We accepted this as a regression bug and fixed in ES v7.5 (which is not released as of yet)\r\nhttps://github.com/elastic/elasticsearch/pull/46814\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/564737395","html_url":"https://github.com/elastic/elasticsearch/issues/49351#issuecomment-564737395","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49351","id":564737395,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NDczNzM5NQ==","user":{"login":"jamshid","id":8549,"node_id":"MDQ6VXNlcjg1NDk=","avatar_url":"https://avatars0.githubusercontent.com/u/8549?v=4","gravatar_id":"","url":"https://api.github.com/users/jamshid","html_url":"https://github.com/jamshid","followers_url":"https://api.github.com/users/jamshid/followers","following_url":"https://api.github.com/users/jamshid/following{/other_user}","gists_url":"https://api.github.com/users/jamshid/gists{/gist_id}","starred_url":"https://api.github.com/users/jamshid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamshid/subscriptions","organizations_url":"https://api.github.com/users/jamshid/orgs","repos_url":"https://api.github.com/users/jamshid/repos","events_url":"https://api.github.com/users/jamshid/events{/privacy}","received_events_url":"https://api.github.com/users/jamshid/received_events","type":"User","site_admin":false},"created_at":"2019-12-11T21:19:14Z","updated_at":"2019-12-11T21:19:14Z","author_association":"NONE","body":"@pgomulka this regression does not appear fixed in v7.5.0. Any chance it will be fixed?\r\n```\r\ndocker run -d -p 9200:9200 -p 9300:9300 -e \"ES_JAVA_OPTS=-Xms512m -Xmx512m\" -e \"discovery.type=single-node\" docker.elastic.co/elasticsearch/elasticsearch:7.5.0\r\n\r\ncurl -X PUT \"ELASTICSEARCH:9200/my_index?pretty\" -H 'Content-Type: application/json' --data-binary '{\r\n  \"mappings\": {\r\n      \"properties\": {\r\n        \"date\": {\r\n          \"type\":   \"date\"\r\n        }\r\n      }\r\n  }\r\n}'\r\n\r\ncurl -i -XPUT -H 'Content-type: application/json' http://ELASTICSEARCH:9200/my_index/_doc/1 --data-binary  '{\"date\": \"2016-11-30T12+01\"}'\r\n\r\nHTTP/1.1 400 Bad Request\r\ncontent-type: application/json; charset=UTF-8\r\ncontent-length: 767\r\n\r\n{\r\n  \"error\" : {\r\n    \"root_cause\" : [\r\n      {\r\n        \"type\" : \"mapper_parsing_exception\",\r\n        \"reason\" : \"failed to parse field [date] of type [date] in document with id '1'. Preview of field's value: '2016-11-30T12+01'\"\r\n      }\r\n    ],\r\n    \"type\" : \"mapper_parsing_exception\",\r\n    \"reason\" : \"failed to parse field [date] of type [date] in document with id '1'. Preview of field's value: '2016-11-30T12+01'\",\r\n    \"caused_by\" : {\r\n      \"type\" : \"illegal_argument_exception\",\r\n      \"reason\" : \"failed to parse date field [2016-11-30T12+01] with format [strict_date_optional_time||epoch_millis]\",\r\n      \"caused_by\" : {\r\n        \"type\" : \"date_time_parse_exception\",\r\n        \"reason\" : \"Failed to parse with all enclosed parsers\"\r\n      }\r\n    }\r\n  },\r\n  \"status\" : 400\r\n}\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/564934387","html_url":"https://github.com/elastic/elasticsearch/issues/49351#issuecomment-564934387","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49351","id":564934387,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NDkzNDM4Nw==","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"created_at":"2019-12-12T09:56:30Z","updated_at":"2019-12-12T09:56:30Z","author_association":"CONTRIBUTOR","body":"@jamshid that looks to be broken, I will have a look","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/567359437","html_url":"https://github.com/elastic/elasticsearch/issues/49351#issuecomment-567359437","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49351","id":567359437,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzM1OTQzNw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-12-19T06:48:22Z","updated_at":"2019-12-19T06:48:22Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra (:Core/Infra/Core)","performed_via_github_app":null}]