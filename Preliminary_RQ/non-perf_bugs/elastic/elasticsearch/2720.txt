{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/2720","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2720/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2720/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2720/events","html_url":"https://github.com/elastic/elasticsearch/issues/2720","id":11576686,"node_id":"MDU6SXNzdWUxMTU3NjY4Ng==","number":2720,"title":"Change the geo_shape support to only rely on the lucene geo_shape support","user":{"login":"uboness","id":211019,"node_id":"MDQ6VXNlcjIxMTAxOQ==","avatar_url":"https://avatars3.githubusercontent.com/u/211019?v=4","gravatar_id":"","url":"https://api.github.com/users/uboness","html_url":"https://github.com/uboness","followers_url":"https://api.github.com/users/uboness/followers","following_url":"https://api.github.com/users/uboness/following{/other_user}","gists_url":"https://api.github.com/users/uboness/gists{/gist_id}","starred_url":"https://api.github.com/users/uboness/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uboness/subscriptions","organizations_url":"https://api.github.com/users/uboness/orgs","repos_url":"https://api.github.com/users/uboness/repos","events_url":"https://api.github.com/users/uboness/events{/privacy}","received_events_url":"https://api.github.com/users/uboness/received_events","type":"User","site_admin":false},"labels":[{"id":33660,"node_id":"MDU6TGFiZWwzMzY2MA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebreaking","name":">breaking","color":"d93f0b","default":false,"description":null},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":29805870,"node_id":"MDU6TGFiZWwyOTgwNTg3MA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v0.90.0.RC1","name":"v0.90.0.RC1","color":"DDDDDD","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2013-03-02T14:24:26Z","updated_at":"2013-03-19T18:02:17Z","closed_at":"2013-03-02T16:14:36Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Currently we use our own `XTermQueryPrefixTreeStrategy` for all the geo_shape indexing/searching (which our own version of lucene's `TermQueryPrefixTreeStrategy`). This strategy is not very ideal when it comes to accuracy. We should remove it, and set the `RecursivePrefixTreeStrategy` instead by default, while enable users to define the strategy in the mappings. \n\nSince both strategies use the same indexing method, we should also enable the user change the strategy at query time. This will enable the user to easily play around with the different strategies and try out different filter/query approaches without needing to reindex the documents.\n\nThis change will effectively remove support for shape \"relations\". More precisely, only the \"intersects\" relation will be supported (\"within\" and \"disjoint\" will be removed). One could emulate \"disjoint\" relation with a bool filter/query:\n\n``` json\n{\n   \"bool\" : {\n      \"must_not\" : [\n          { \"geo_shape\" : { ... } }\n      ]\n   }\n}\n```\n","closed_by":{"login":"uboness","id":211019,"node_id":"MDQ6VXNlcjIxMTAxOQ==","avatar_url":"https://avatars3.githubusercontent.com/u/211019?v=4","gravatar_id":"","url":"https://api.github.com/users/uboness","html_url":"https://github.com/uboness","followers_url":"https://api.github.com/users/uboness/followers","following_url":"https://api.github.com/users/uboness/following{/other_user}","gists_url":"https://api.github.com/users/uboness/gists{/gist_id}","starred_url":"https://api.github.com/users/uboness/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uboness/subscriptions","organizations_url":"https://api.github.com/users/uboness/orgs","repos_url":"https://api.github.com/users/uboness/repos","events_url":"https://api.github.com/users/uboness/events{/privacy}","received_events_url":"https://api.github.com/users/uboness/received_events","type":"User","site_admin":false},"performed_via_github_app":null}