{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/24038","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24038/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24038/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24038/events","html_url":"https://github.com/elastic/elasticsearch/issues/24038","id":220809071,"node_id":"MDU6SXNzdWUyMjA4MDkwNzE=","number":24038,"title":"Large json body causes broken pipe error","user":{"login":"ShihaoJing","id":21141435,"node_id":"MDQ6VXNlcjIxMTQxNDM1","avatar_url":"https://avatars2.githubusercontent.com/u/21141435?v=4","gravatar_id":"","url":"https://api.github.com/users/ShihaoJing","html_url":"https://github.com/ShihaoJing","followers_url":"https://api.github.com/users/ShihaoJing/followers","following_url":"https://api.github.com/users/ShihaoJing/following{/other_user}","gists_url":"https://api.github.com/users/ShihaoJing/gists{/gist_id}","starred_url":"https://api.github.com/users/ShihaoJing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ShihaoJing/subscriptions","organizations_url":"https://api.github.com/users/ShihaoJing/orgs","repos_url":"https://api.github.com/users/ShihaoJing/repos","events_url":"https://api.github.com/users/ShihaoJing/events{/privacy}","received_events_url":"https://api.github.com/users/ShihaoJing/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-04-11T00:47:37Z","updated_at":"2017-10-19T11:28:18Z","closed_at":"2017-04-11T01:03:58Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,  I am a newbie to elastic search. I need to index many large csv documents (about 150MB). \r\nMy plan is to create a mapping like this:\r\n```\r\n\"basetype\": {\r\n        \"_all\": {\r\n          \"enabled\": false\r\n        },\r\n        \"properties\": {\r\n          \"data\": {\r\n            \"type\": \"text\"\r\n          },\r\n          \"description\": {\r\n            \"type\": \"text\"\r\n          },\r\n          \"downloadURL\": {\r\n            \"type\": \"text\"\r\n          },\r\n          \"format\": {\r\n            \"type\": \"text\"\r\n          },\r\n          \"keyword\": {\r\n            \"type\": \"text\"\r\n          },\r\n          \"title\": {\r\n            \"type\": \"text\"\r\n          }\r\n        }\r\n      }\r\n```\r\nFor 'data' field,  this will be the json string converted from csv file.\r\nWhen I was trying to post a new json to elastic search, it gave a following error:\r\n```\r\nConnectionError: ConnectionError(('Connection aborted.', OSError(41, 'Protocol wrong type for socket'))) caused by: ProtocolError(('Connection aborted.', OSError(41, 'Protocol wrong type for socket')))\r\n```\r\nCan anyone help me with this issue? Thanks!","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}