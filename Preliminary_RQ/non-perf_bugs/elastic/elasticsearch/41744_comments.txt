[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/489246884","html_url":"https://github.com/elastic/elasticsearch/issues/41744#issuecomment-489246884","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41744","id":489246884,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTI0Njg4NA==","user":{"login":"jbaiera","id":875779,"node_id":"MDQ6VXNlcjg3NTc3OQ==","avatar_url":"https://avatars1.githubusercontent.com/u/875779?v=4","gravatar_id":"","url":"https://api.github.com/users/jbaiera","html_url":"https://github.com/jbaiera","followers_url":"https://api.github.com/users/jbaiera/followers","following_url":"https://api.github.com/users/jbaiera/following{/other_user}","gists_url":"https://api.github.com/users/jbaiera/gists{/gist_id}","starred_url":"https://api.github.com/users/jbaiera/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbaiera/subscriptions","organizations_url":"https://api.github.com/users/jbaiera/orgs","repos_url":"https://api.github.com/users/jbaiera/repos","events_url":"https://api.github.com/users/jbaiera/events{/privacy}","received_events_url":"https://api.github.com/users/jbaiera/received_events","type":"User","site_admin":false},"created_at":"2019-05-03T21:34:00Z","updated_at":"2019-05-03T21:34:00Z","author_association":"CONTRIBUTOR","body":"This should work. The `type` field under the `terms` query is only used to look up the terms list if it exists in a document.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/492508294","html_url":"https://github.com/elastic/elasticsearch/issues/41744#issuecomment-492508294","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41744","id":492508294,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjUwODI5NA==","user":{"login":"drakejin","id":10516961,"node_id":"MDQ6VXNlcjEwNTE2OTYx","avatar_url":"https://avatars1.githubusercontent.com/u/10516961?v=4","gravatar_id":"","url":"https://api.github.com/users/drakejin","html_url":"https://github.com/drakejin","followers_url":"https://api.github.com/users/drakejin/followers","following_url":"https://api.github.com/users/drakejin/following{/other_user}","gists_url":"https://api.github.com/users/drakejin/gists{/gist_id}","starred_url":"https://api.github.com/users/drakejin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drakejin/subscriptions","organizations_url":"https://api.github.com/users/drakejin/orgs","repos_url":"https://api.github.com/users/drakejin/repos","events_url":"https://api.github.com/users/drakejin/events{/privacy}","received_events_url":"https://api.github.com/users/drakejin/received_events","type":"User","site_admin":false},"created_at":"2019-05-15T05:24:35Z","updated_at":"2019-05-15T05:39:51Z","author_association":"NONE","body":"Well, @jbaiera. It didn't work for me.\r\n\r\n# Didn't work Case.\r\n**input data**\r\n``` json \r\n# search_article.6.json\r\n# curl -H 'Content-Type: application/json' -vX GET 'http://123.123.123.123:9200/articles-/_doc/_search?pretty&from=0&size=15' -d @./search_article.6.json\r\n{\r\n  \"min_score\": 0.9,\r\n  \"query\": {\r\n    \"terms\": {\r\n      \"type\": [\r\n        \"FleaMarketArticle\",\r\n        \"BusinessArticle\"\r\n      ]\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n**output**\r\n```\r\n*   Trying 123.123.123.123...\r\n* TCP_NODELAY set\r\n* Connected to 123.123.123.123 (123.123.123.123) port 9200 (#0)\r\n> GET /articles-/_doc/_search?pretty&from=0&size=15 HTTP/1.1\r\n> Host: 123.123.123.123:9200\r\n> User-Agent: curl/7.54.0\r\n> Accept: */*\r\n> Content-Type: application/json\r\n> Content-Length: 130\r\n> \r\n* upload completely sent off: 130 out of 130 bytes\r\n< HTTP/1.1 200 OK\r\n< content-type: application/json; charset=UTF-8\r\n< content-length: 212\r\n< \r\n{\r\n  \"took\" : 3,\r\n  \"timed_out\" : false,\r\n  \"_shards\" : {\r\n    \"total\" : 5,\r\n    \"successful\" : 5,\r\n    \"skipped\" : 0,\r\n    \"failed\" : 0\r\n  },\r\n  \"hits\" : {\r\n    \"total\" : 0,\r\n    \"max_score\" : null,\r\n    \"hits\" : [ ]\r\n  }\r\n}\r\n* Connection #0 to host 123.123.123.123 left intact\r\n```\r\n\r\n\r\n# Work Case\r\n\r\n``` json\r\n# search_article.6.json\r\n# curl -H 'Content-Type: application/json' -vX GET 'http://123.123.123.123:9200/articles-/_doc/_search?pretty&from=0&size=15' -d @./search_article.6.json\r\n\r\n{\r\n  \"min_score\": 0.9,\r\n  \"query\": {\r\n    \"terms\": {\r\n      \"publish_range\": [\r\n        1,\r\n        2,\r\n        3,\r\n        4\r\n      ]\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n**output**\r\n```\r\n*   Trying 123.123.123.123...\r\n* TCP_NODELAY set\r\n* Connected to 123.123.123.123 (123.123.123.123) port 9200 (#0)\r\n> GET /articles-/_doc/_search?pretty&from=0&size=15 HTTP/1.1\r\n> Host: 123.123.123.123:9200\r\n> User-Agent: curl/7.54.0\r\n> Accept: */*\r\n> Content-Type: application/json\r\n> Content-Length: 125\r\n> \r\n* upload completely sent off: 125 out of 125 bytes\r\n< HTTP/1.1 200 OK\r\n< content-type: application/json; charset=UTF-8\r\n< content-length: 11973\r\n< \r\n{\r\n  \"took\" : 41,\r\n  \"timed_out\" : false,\r\n  \"_shards\" : {\r\n    \"total\" : 5,\r\n    \"successful\" : 5,\r\n    \"skipped\" : 0,\r\n    \"failed\" : 0\r\n  },\r\n  \"hits\" : {\r\n    \"total\" : 1196476,\r\n    \"max_score\" : 1.0,\r\n    \"hits\" : [...]\r\n  }\r\n}\r\n```\r\n\r\nWhat am I wrong? `type` in `terms`proprerty It didn't work. but not `type` property is work.\r\nhere is my mapping schema. \r\n\r\n```\r\n\r\n{\r\n  \"articles-\": {\r\n    \"mappings\": {\r\n      \"_doc\": {\r\n        \"properties\": {\r\n          \"category_id\": {\r\n            \"type\": \"text\"\r\n          },\r\n          \"created_at\": {\r\n            \"type\": \"date\"\r\n          },\r\n          \"price\": {\r\n            \"type\": \"long\"\r\n          },\r\n          \"publish_range\": {\r\n            \"type\": \"text\"\r\n          },\r\n          \"published_at_i\": {\r\n            \"type\": \"long\"\r\n          },\r\n          \"status\": {\r\n            \"type\": \"text\"\r\n          },\r\n          \"type\": {\r\n            \"type\": \"text\"\r\n          },\r\n          \"user_id\": {\r\n            \"type\": \"long\"\r\n          },\r\n          \"visible\": {\r\n            \"type\": \"text\"\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n``` ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/492540703","html_url":"https://github.com/elastic/elasticsearch/issues/41744#issuecomment-492540703","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41744","id":492540703,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjU0MDcwMw==","user":{"login":"drakejin","id":10516961,"node_id":"MDQ6VXNlcjEwNTE2OTYx","avatar_url":"https://avatars1.githubusercontent.com/u/10516961?v=4","gravatar_id":"","url":"https://api.github.com/users/drakejin","html_url":"https://github.com/drakejin","followers_url":"https://api.github.com/users/drakejin/followers","following_url":"https://api.github.com/users/drakejin/following{/other_user}","gists_url":"https://api.github.com/users/drakejin/gists{/gist_id}","starred_url":"https://api.github.com/users/drakejin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drakejin/subscriptions","organizations_url":"https://api.github.com/users/drakejin/orgs","repos_url":"https://api.github.com/users/drakejin/repos","events_url":"https://api.github.com/users/drakejin/events{/privacy}","received_events_url":"https://api.github.com/users/drakejin/received_events","type":"User","site_admin":false},"created_at":"2019-05-15T07:37:44Z","updated_at":"2019-05-15T07:37:44Z","author_association":"NONE","body":"Sorry I got it.  mappings type `text` is not my features.\r\nthe `type` of `terms` is required field type `keyword`\r\n","performed_via_github_app":null}]