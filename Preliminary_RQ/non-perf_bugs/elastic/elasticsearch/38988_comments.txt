[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/464192917","html_url":"https://github.com/elastic/elasticsearch/issues/38988#issuecomment-464192917","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38988","id":464192917,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDE5MjkxNw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-02-15T20:45:34Z","updated_at":"2019-02-15T20:45:34Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-features","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/464228343","html_url":"https://github.com/elastic/elasticsearch/issues/38988#issuecomment-464228343","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38988","id":464228343,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDIyODM0Mw==","user":{"login":"gwbrown","id":1522844,"node_id":"MDQ6VXNlcjE1MjI4NDQ=","avatar_url":"https://avatars1.githubusercontent.com/u/1522844?v=4","gravatar_id":"","url":"https://api.github.com/users/gwbrown","html_url":"https://github.com/gwbrown","followers_url":"https://api.github.com/users/gwbrown/followers","following_url":"https://api.github.com/users/gwbrown/following{/other_user}","gists_url":"https://api.github.com/users/gwbrown/gists{/gist_id}","starred_url":"https://api.github.com/users/gwbrown/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gwbrown/subscriptions","organizations_url":"https://api.github.com/users/gwbrown/orgs","repos_url":"https://api.github.com/users/gwbrown/repos","events_url":"https://api.github.com/users/gwbrown/events{/privacy}","received_events_url":"https://api.github.com/users/gwbrown/received_events","type":"User","site_admin":false},"created_at":"2019-02-15T22:30:47Z","updated_at":"2019-02-15T22:34:40Z","author_association":"CONTRIBUTOR","body":"You can determine this from the current explain response, although I can certainly see how it's not immediately obvious, and should probably be documented better than it is.  The `lifecycle_date` and `lifecycle_date_millis` fields contain the \"reference\" date used.\r\n\r\n`GET /*/_ilm/explain?human`:\r\n```json\r\n{\r\n  \"indices\": {\r\n    \"test-000001\": {\r\n      \"index\": \"test-000001\",\r\n      \"managed\": true,\r\n      \"policy\": \"my_policy\",\r\n      \"lifecycle_date\": \"2019-02-15T22:25:03.953Z\", <1>\r\n      \"lifecycle_date_millis\": 1550269503953,\r\n      \"phase\": \"new\",\r\n      \"phase_time\": \"2019-02-15T22:25:04.098Z\",\r\n      \"phase_time_millis\": 1550269504098,\r\n      \"action\": \"complete\",\r\n      \"action_time\": \"2019-02-15T22:25:04.098Z\",\r\n      \"action_time_millis\": 1550269504098,\r\n      \"step\": \"complete\",\r\n      \"step_time\": \"2019-02-15T22:25:04.098Z\",\r\n      \"step_time_millis\": 1550269504098\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n<1> is the date that's checked against `min_age` of each phase from the policy. So enabling trace logging isn't strictly necessary to get this information, although including the current delta in the explain API output and/or documenting this better would probably be good to do.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/464235432","html_url":"https://github.com/elastic/elasticsearch/issues/38988#issuecomment-464235432","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38988","id":464235432,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NDIzNTQzMg==","user":{"login":"ppf2","id":7216393,"node_id":"MDQ6VXNlcjcyMTYzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/7216393?v=4","gravatar_id":"","url":"https://api.github.com/users/ppf2","html_url":"https://github.com/ppf2","followers_url":"https://api.github.com/users/ppf2/followers","following_url":"https://api.github.com/users/ppf2/following{/other_user}","gists_url":"https://api.github.com/users/ppf2/gists{/gist_id}","starred_url":"https://api.github.com/users/ppf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppf2/subscriptions","organizations_url":"https://api.github.com/users/ppf2/orgs","repos_url":"https://api.github.com/users/ppf2/repos","events_url":"https://api.github.com/users/ppf2/events{/privacy}","received_events_url":"https://api.github.com/users/ppf2/received_events","type":"User","site_admin":false},"created_at":"2019-02-15T22:53:06Z","updated_at":"2019-02-15T22:53:06Z","author_association":"MEMBER","body":"Thanks for the info!  Adding something like a \"time until next phase\" field to the explain output will be nice.","performed_via_github_app":null}]