[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/402382620","html_url":"https://github.com/elastic/elasticsearch/issues/31775#issuecomment-402382620","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31775","id":402382620,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjM4MjYyMA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-07-04T06:58:22Z","updated_at":"2018-07-04T06:58:22Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search-aggs","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/402455598","html_url":"https://github.com/elastic/elasticsearch/issues/31775#issuecomment-402455598","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31775","id":402455598,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjQ1NTU5OA==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2018-07-04T11:49:26Z","updated_at":"2018-07-04T11:49:26Z","author_association":"MEMBER","body":"@bwsawyer I marked this issue as a bug because it works on 5.x but I wonder why you'd use a rescorer in a scroll context ? Is there something you cannot achieve with the main query ? A scroll needs to score **all** documents which defeats the purpose of the rescorer. Maybe we should simply fail or document the fact that `scroll` and `rescore` don't play well together ?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/402721761","html_url":"https://github.com/elastic/elasticsearch/issues/31775#issuecomment-402721761","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31775","id":402721761,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMjcyMTc2MQ==","user":{"login":"bwsawyer","id":6223470,"node_id":"MDQ6VXNlcjYyMjM0NzA=","avatar_url":"https://avatars3.githubusercontent.com/u/6223470?v=4","gravatar_id":"","url":"https://api.github.com/users/bwsawyer","html_url":"https://github.com/bwsawyer","followers_url":"https://api.github.com/users/bwsawyer/followers","following_url":"https://api.github.com/users/bwsawyer/following{/other_user}","gists_url":"https://api.github.com/users/bwsawyer/gists{/gist_id}","starred_url":"https://api.github.com/users/bwsawyer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bwsawyer/subscriptions","organizations_url":"https://api.github.com/users/bwsawyer/orgs","repos_url":"https://api.github.com/users/bwsawyer/repos","events_url":"https://api.github.com/users/bwsawyer/events{/privacy}","received_events_url":"https://api.github.com/users/bwsawyer/received_events","type":"User","site_admin":false},"created_at":"2018-07-05T13:28:40Z","updated_at":"2018-07-05T13:28:40Z","author_association":"NONE","body":"In our use case we use the main query as a blocking step to retrieve good candidates for a more computationally intensive rescore function (in a custom plugin).  Running the function over all the documents in the index isn't feasible, nor can we accomplish our blocking query as a pre-filter.\r\n\r\nPart of our application needs to retrieve all documents that score above a certain threshold after applying that rescore function. Sometimes the number of documents above the threshold is large enough that I assume scrolling would be more efficient than paging, at least as I understand it.  I admit I have not done any benchmarking to verify this assumption.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/403384336","html_url":"https://github.com/elastic/elasticsearch/issues/31775#issuecomment-403384336","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31775","id":403384336,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzM4NDMzNg==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2018-07-09T07:23:17Z","updated_at":"2018-07-09T07:23:17Z","author_association":"MEMBER","body":"Scrolling is faster than simple pagination but the issue I have with rescored scroll is that it breaks the `_score` sort. In your example the main query is a `match_all` so each page is rescored up to `window_size` but documents with greater score can be returned in subsequent pages. For this reason I don't think rescored scroll should be possible or at least we should disable sort in this case. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/405291895","html_url":"https://github.com/elastic/elasticsearch/issues/31775#issuecomment-405291895","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31775","id":405291895,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTI5MTg5NQ==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2018-07-16T15:44:34Z","updated_at":"2018-07-16T15:44:34Z","author_association":"MEMBER","body":"We've decided to forbid scroll with rescores, it used to work in 5x but should be considered as a bug since it breaks the sort. Though we should fail the creation of the scroll instead of silently ignoring the scorers as we do today which is why I am marking this issue as an adoptme. ","performed_via_github_app":null}]