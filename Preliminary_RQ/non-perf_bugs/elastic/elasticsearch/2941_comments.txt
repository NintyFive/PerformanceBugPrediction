[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/17132390","html_url":"https://github.com/elastic/elasticsearch/issues/2941#issuecomment-17132390","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2941","id":17132390,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MTMyMzkw","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2013-04-28T11:12:34Z","updated_at":"2013-04-28T11:12:34Z","author_association":"MEMBER","body":"Hey Jilles,\n\ncan you provide an example, just to make sure we are talking about the same problem? When the JSON is not parseable, you should usually get a JsonParseException, so it seems your JSON is somewhat special to circumvent this.\n\nthx a lot!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/17153386","html_url":"https://github.com/elastic/elasticsearch/issues/2941#issuecomment-17153386","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2941","id":17153386,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MTUzMzg2","user":{"login":"jillesvangurp","id":819187,"node_id":"MDQ6VXNlcjgxOTE4Nw==","avatar_url":"https://avatars2.githubusercontent.com/u/819187?v=4","gravatar_id":"","url":"https://api.github.com/users/jillesvangurp","html_url":"https://github.com/jillesvangurp","followers_url":"https://api.github.com/users/jillesvangurp/followers","following_url":"https://api.github.com/users/jillesvangurp/following{/other_user}","gists_url":"https://api.github.com/users/jillesvangurp/gists{/gist_id}","starred_url":"https://api.github.com/users/jillesvangurp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jillesvangurp/subscriptions","organizations_url":"https://api.github.com/users/jillesvangurp/orgs","repos_url":"https://api.github.com/users/jillesvangurp/repos","events_url":"https://api.github.com/users/jillesvangurp/events{/privacy}","received_events_url":"https://api.github.com/users/jillesvangurp/received_events","type":"User","site_admin":false},"created_at":"2013-04-29T07:37:43Z","updated_at":"2013-04-29T07:37:43Z","author_association":"CONTRIBUTOR","body":"Sure:\n\nPass this in to the _bulk API,\n{\"index\":{\"_index\":\"foo\",\"_type\":\"bar\"}}\n{\"name\":\"ok\"}\n{\"index\":{\"_index\":\"foo\",\"_type\":\"bar\"}}\n{\"name\":\"not_ok\"}thisbitshouldbreakthings\n\nIf you then do a search, it returns both entries including the non parseable '{\"name\":\"not_ok\"}thisbitshouldbreakthings'\n\nIt looks like the parser simply stops reading the input after the last parse event.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/17991852","html_url":"https://github.com/elastic/elasticsearch/issues/2941#issuecomment-17991852","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2941","id":17991852,"node_id":"MDEyOklzc3VlQ29tbWVudDE3OTkxODUy","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2013-05-16T09:55:56Z","updated_at":"2013-05-16T09:55:56Z","author_association":"CONTRIBUTOR","body":"Hi @jillesvangurp \n\nI've been caught with similar issues before.  The question is: just how strict should it be? I agree that trailing junk shouldn't be allowed (except for whitespace).\n\nWhat about trailing commas or unquoted keys?  Personally I'd allow them - makes it easier to test things out from the command line.  That said, many JSON parsers will fail to parse those and throw errors.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/17992934","html_url":"https://github.com/elastic/elasticsearch/issues/2941#issuecomment-17992934","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2941","id":17992934,"node_id":"MDEyOklzc3VlQ29tbWVudDE3OTkyOTM0","user":{"login":"jillesvangurp","id":819187,"node_id":"MDQ6VXNlcjgxOTE4Nw==","avatar_url":"https://avatars2.githubusercontent.com/u/819187?v=4","gravatar_id":"","url":"https://api.github.com/users/jillesvangurp","html_url":"https://github.com/jillesvangurp","followers_url":"https://api.github.com/users/jillesvangurp/followers","following_url":"https://api.github.com/users/jillesvangurp/following{/other_user}","gists_url":"https://api.github.com/users/jillesvangurp/gists{/gist_id}","starred_url":"https://api.github.com/users/jillesvangurp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jillesvangurp/subscriptions","organizations_url":"https://api.github.com/users/jillesvangurp/orgs","repos_url":"https://api.github.com/users/jillesvangurp/repos","events_url":"https://api.github.com/users/jillesvangurp/events{/privacy}","received_events_url":"https://api.github.com/users/jillesvangurp/received_events","type":"User","site_admin":false},"created_at":"2013-05-16T10:21:37Z","updated_at":"2013-05-16T10:21:37Z","author_association":"CONTRIBUTOR","body":"I'm biased towards being very strict. Anything elastic search returns should be parseable. In this case it actually passes through the junk and breaks that promise.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/17999963","html_url":"https://github.com/elastic/elasticsearch/issues/2941#issuecomment-17999963","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2941","id":17999963,"node_id":"MDEyOklzc3VlQ29tbWVudDE3OTk5OTYz","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2013-05-16T13:13:31Z","updated_at":"2013-05-16T13:13:31Z","author_association":"CONTRIBUTOR","body":"Being very strict also makes it painful to try out from the command line,\nwhich breaks the Elasticsearch philosophy of easy-to-start.\n\nOn 16 May 2013 12:21, Jilles van Gurp notifications@github.com wrote:\n\n> I'm biased towards being very strict. Anything elastic search returns\n> should be parseable. In this case it actually passes through the junk and\n> breaks that promise.\n> \n> â€”\n> Reply to this email directly or view it on GitHubhttps://github.com/elasticsearch/elasticsearch/issues/2941#issuecomment-17992934\n> .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/18000078","html_url":"https://github.com/elastic/elasticsearch/issues/2941#issuecomment-18000078","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2941","id":18000078,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MDAwMDc4","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2013-05-16T13:15:34Z","updated_at":"2013-05-16T13:15:34Z","author_association":"MEMBER","body":"I think that we can try and identify this cases where its evident that its not good, and reject it. The example shown, we can try and do better in that case...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/18001286","html_url":"https://github.com/elastic/elasticsearch/issues/2941#issuecomment-18001286","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2941","id":18001286,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MDAxMjg2","user":{"login":"jillesvangurp","id":819187,"node_id":"MDQ6VXNlcjgxOTE4Nw==","avatar_url":"https://avatars2.githubusercontent.com/u/819187?v=4","gravatar_id":"","url":"https://api.github.com/users/jillesvangurp","html_url":"https://github.com/jillesvangurp","followers_url":"https://api.github.com/users/jillesvangurp/followers","following_url":"https://api.github.com/users/jillesvangurp/following{/other_user}","gists_url":"https://api.github.com/users/jillesvangurp/gists{/gist_id}","starred_url":"https://api.github.com/users/jillesvangurp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jillesvangurp/subscriptions","organizations_url":"https://api.github.com/users/jillesvangurp/orgs","repos_url":"https://api.github.com/users/jillesvangurp/repos","events_url":"https://api.github.com/users/jillesvangurp/events{/privacy}","received_events_url":"https://api.github.com/users/jillesvangurp/received_events","type":"User","site_admin":false},"created_at":"2013-05-16T13:37:02Z","updated_at":"2013-05-16T13:37:02Z","author_association":"CONTRIBUTOR","body":"I think trailing whitespace is in any case allowed in json. So, I agree that that should be allowed. Any other characters making it through have the same issue that I described above: they break things when elastic search returns the trailing content with a search response. So, I don't think fixing this issue should make a lot of people unhappy on the command line.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/18207830","html_url":"https://github.com/elastic/elasticsearch/issues/2941#issuecomment-18207830","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2941","id":18207830,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MjA3ODMw","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2013-05-21T13:18:03Z","updated_at":"2013-05-21T13:18:03Z","author_association":"MEMBER","body":"FYI, this not a bulk issue but a general indexing issue. The `DocumentMapper.parse()` method does not throw an error, when indexing this \n\n```\ncurl -X PUT localhost:9200/foo/bar/1 -d '{\"foo\":\"bar\"} craaaaaaaaaaap'\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/51591047","html_url":"https://github.com/elastic/elasticsearch/issues/2941#issuecomment-51591047","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2941","id":51591047,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTkxMDQ3","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-08-08T11:42:00Z","updated_at":"2014-08-08T11:42:00Z","author_association":"CONTRIBUTOR","body":"Closing in favour of #2315 \n","performed_via_github_app":null}]