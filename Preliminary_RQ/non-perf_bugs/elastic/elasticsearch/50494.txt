{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/50494","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50494/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50494/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50494/events","html_url":"https://github.com/elastic/elasticsearch/issues/50494","id":542327764,"node_id":"MDU6SXNzdWU1NDIzMjc3NjQ=","number":50494,"title":"Not equal value inside array in ES SQL API","user":{"login":"skiod","id":31699358,"node_id":"MDQ6VXNlcjMxNjk5MzU4","avatar_url":"https://avatars0.githubusercontent.com/u/31699358?v=4","gravatar_id":"","url":"https://api.github.com/users/skiod","html_url":"https://github.com/skiod","followers_url":"https://api.github.com/users/skiod/followers","following_url":"https://api.github.com/users/skiod/following{/other_user}","gists_url":"https://api.github.com/users/skiod/gists{/gist_id}","starred_url":"https://api.github.com/users/skiod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/skiod/subscriptions","organizations_url":"https://api.github.com/users/skiod/orgs","repos_url":"https://api.github.com/users/skiod/repos","events_url":"https://api.github.com/users/skiod/events{/privacy}","received_events_url":"https://api.github.com/users/skiod/received_events","type":"User","site_admin":false},"labels":[{"id":912794284,"node_id":"MDU6TGFiZWw5MTI3OTQyODQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Query%20Languages/SQL","name":":Query Languages/SQL","color":"0e8a16","default":false,"description":"SQL querying"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-12-25T11:41:46Z","updated_at":"2019-12-26T16:16:21Z","closed_at":"2019-12-26T16:16:20Z","author_association":"NONE","active_lock_reason":null,"body":"According to Elasticsearch doc it doesn't support arrays in SQL api.\r\n\r\nI ended up using filter but it's doesn't work for my case. \r\n\r\ninclude product ids **works** fine\r\n```\r\n\"body\": {\r\n            \"query\" :\"SELECT email FROM orders WHERE  shop='domain' GROUP BY email,total_price\", \r\n            \"filter\": { \r\n                 \"term: { \r\n                            \"line_items.product_id\": \"14141414\"\r\n                        } \r\n            }\r\n          }\r\n```\r\n\r\nbut when i try to exclude some product ids by adding 'not' it **doesn't work**\r\n\r\n```\r\n\"body\": {\r\n            \"query\" :\"SELECT email FROM orders WHERE  shop='eclatdeparis.myshopify.com' GROUP BY email,total_price\", \r\n            \"filter\": { \r\n                \"not\" : {\r\n                   \"filter\" : {\r\n                        \"term\": { \r\n                            \"line_items.product_id\": \"1418646978625\"\r\n                        } \r\n                    }\r\n                }\r\n            }\r\n          }\r\n```\r\nis it any trick for exclude ?????\r\nThanks in advance","closed_by":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"performed_via_github_app":null}