[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/38871080","html_url":"https://github.com/elastic/elasticsearch/issues/5581#issuecomment-38871080","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5581","id":38871080,"node_id":"MDEyOklzc3VlQ29tbWVudDM4ODcxMDgw","user":{"login":"kzwang","id":2177991,"node_id":"MDQ6VXNlcjIxNzc5OTE=","avatar_url":"https://avatars3.githubusercontent.com/u/2177991?v=4","gravatar_id":"","url":"https://api.github.com/users/kzwang","html_url":"https://github.com/kzwang","followers_url":"https://api.github.com/users/kzwang/followers","following_url":"https://api.github.com/users/kzwang/following{/other_user}","gists_url":"https://api.github.com/users/kzwang/gists{/gist_id}","starred_url":"https://api.github.com/users/kzwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kzwang/subscriptions","organizations_url":"https://api.github.com/users/kzwang/orgs","repos_url":"https://api.github.com/users/kzwang/repos","events_url":"https://api.github.com/users/kzwang/events{/privacy}","received_events_url":"https://api.github.com/users/kzwang/received_events","type":"User","site_admin":false},"created_at":"2014-03-27T22:53:25Z","updated_at":"2014-03-27T22:53:25Z","author_association":"CONTRIBUTOR","body":"bulk api won't throw exception if any requests fails \nfor example, if you use the requests from the document http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/docs-bulk.html\n\n```\n{ \"index\" : { \"_index\" : \"test\", \"_type\" : \"type1\", \"_id\" : \"1\" } }\n{ \"field1\" : \"value1\" }\n{ \"delete\" : { \"_index\" : \"test\", \"_type\" : \"type1\", \"_id\" : \"2\" } }\n{ \"create\" : { \"_index\" : \"test\", \"_type\" : \"type1\", \"_id\" : \"3\" } }\n{ \"field1\" : \"value3\" }\n{ \"update\" : {\"_id\" : \"1\", \"_type\" : \"type1\", \"_index\" : \"index1\"} }\n{ \"doc\" : {\"field2\" : \"value2\"} }\n```\n\nyou will get result\n\n```\n{\n  \"took\": 137,\n  \"errors\": true,\n  \"items\": [\n    {\n      \"index\": {\n        \"_index\": \"test\",\n        \"_type\": \"type1\",\n        \"_id\": \"1\",\n        \"_version\": 1,\n        \"status\": 201\n      }\n    },\n    {\n      \"delete\": {\n        \"_index\": \"test\",\n        \"_type\": \"type1\",\n        \"_id\": \"2\",\n        \"_version\": 1,\n        \"status\": 404,\n        \"found\": false\n      }\n    },\n    {\n      \"create\": {\n        \"_index\": \"test\",\n        \"_type\": \"type1\",\n        \"_id\": \"3\",\n        \"_version\": 1,\n        \"status\": 201\n      }\n    },\n    {\n      \"update\": {\n        \"_index\": \"index1\",\n        \"_type\": \"type1\",\n        \"_id\": \"1\",\n        \"status\": 404,\n        \"error\": \"DocumentMissingException[[index1][-1] [type1][1]: document missing]\"\n      }\n    }\n  ]\n}\n```\n\nyou can see the delete and update request fail and the index and create success.\n\nso in your case, you can send all results as one bulk request and go though this result to find any failed items\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/39582921","html_url":"https://github.com/elastic/elasticsearch/issues/5581#issuecomment-39582921","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5581","id":39582921,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTgyOTIx","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2014-04-04T16:16:05Z","updated_at":"2014-04-04T16:16:05Z","author_association":"MEMBER","body":"Hi @jeffsteinmetz as @kzwang said, the bulk response returns multiple items, in the same order as you specified them in the request. You need to check each item to know how things went. A single failing request won't be failing the whole bulk. Is this what you need or am I missing something?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/39584541","html_url":"https://github.com/elastic/elasticsearch/issues/5581#issuecomment-39584541","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5581","id":39584541,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTg0NTQx","user":{"login":"jeffsteinmetz","id":5488059,"node_id":"MDQ6VXNlcjU0ODgwNTk=","avatar_url":"https://avatars0.githubusercontent.com/u/5488059?v=4","gravatar_id":"","url":"https://api.github.com/users/jeffsteinmetz","html_url":"https://github.com/jeffsteinmetz","followers_url":"https://api.github.com/users/jeffsteinmetz/followers","following_url":"https://api.github.com/users/jeffsteinmetz/following{/other_user}","gists_url":"https://api.github.com/users/jeffsteinmetz/gists{/gist_id}","starred_url":"https://api.github.com/users/jeffsteinmetz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeffsteinmetz/subscriptions","organizations_url":"https://api.github.com/users/jeffsteinmetz/orgs","repos_url":"https://api.github.com/users/jeffsteinmetz/repos","events_url":"https://api.github.com/users/jeffsteinmetz/events{/privacy}","received_events_url":"https://api.github.com/users/jeffsteinmetz/received_events","type":"User","site_admin":false},"created_at":"2014-04-04T16:32:15Z","updated_at":"2014-04-04T16:32:15Z","author_association":"NONE","body":"Thank you.  Knowing that it doesn't fail the whole bulk, and that it doesn't raise an error in the python client that needs to be caught helps.   I think it was the elasticsearch-py logging messages that were throwing me off.  Will need to test again to confirm the python client doesn't throw errors but just logs warnings and continues.\n","performed_via_github_app":null}]