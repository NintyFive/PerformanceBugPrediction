{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/39910","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39910/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39910/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39910/events","html_url":"https://github.com/elastic/elasticsearch/issues/39910","id":419392127,"node_id":"MDU6SXNzdWU0MTkzOTIxMjc=","number":39910,"title":"Java Rest Client swallows exceptions","user":{"login":"BBK-PiJ-2012-88","id":2480101,"node_id":"MDQ6VXNlcjI0ODAxMDE=","avatar_url":"https://avatars0.githubusercontent.com/u/2480101?v=4","gravatar_id":"","url":"https://api.github.com/users/BBK-PiJ-2012-88","html_url":"https://github.com/BBK-PiJ-2012-88","followers_url":"https://api.github.com/users/BBK-PiJ-2012-88/followers","following_url":"https://api.github.com/users/BBK-PiJ-2012-88/following{/other_user}","gists_url":"https://api.github.com/users/BBK-PiJ-2012-88/gists{/gist_id}","starred_url":"https://api.github.com/users/BBK-PiJ-2012-88/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BBK-PiJ-2012-88/subscriptions","organizations_url":"https://api.github.com/users/BBK-PiJ-2012-88/orgs","repos_url":"https://api.github.com/users/BBK-PiJ-2012-88/repos","events_url":"https://api.github.com/users/BBK-PiJ-2012-88/events{/privacy}","received_events_url":"https://api.github.com/users/BBK-PiJ-2012-88/received_events","type":"User","site_admin":false},"labels":[{"id":407508641,"node_id":"MDU6TGFiZWw0MDc1MDg2NDE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Java%20Low%20Level%20REST%20Client","name":":Core/Features/Java Low Level REST Client","color":"0e8a16","default":false,"description":"Minimal dependencies Java Client for Elasticsearch"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2019-03-11T10:21:01Z","updated_at":"2019-03-11T15:52:53Z","closed_at":"2019-03-11T15:52:52Z","author_association":"NONE","active_lock_reason":null,"body":"<!--\r\n\r\n** Please read the guidelines below. **\r\n\r\nIssues that do not follow these guidelines are likely to be closed.\r\n\r\n1.  GitHub is reserved for bug reports and feature requests. The best place to\r\n    ask a general question is at the Elastic [forums](https://discuss.elastic.co).\r\n    GitHub is not the place for general questions.\r\n\r\n2.  Is this bug report or feature request for a supported OS? If not, it\r\n    is likely to be closed.  See https://www.elastic.co/support/matrix#show_os\r\n\r\n3.  Please fill out EITHER the feature request block or the bug report block\r\n    below, and delete the other block.\r\n\r\n-->\r\n\r\n<!-- Feature request -->\r\n\r\n**Describe the feature**:\r\n\r\n<!-- Bug report -->\r\n\r\n**Elasticsearch version** (`bin/elasticsearch --version`): 5.* and 6.*\r\n\r\n**Plugins installed**: []\r\n\r\n**JVM version** (`java -version`):\r\n\r\n**OS version** (`uname -a` if on a Unix-like system):\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\n\r\nActual Behaviour\r\n\r\nMake a request to an elastic cluster using the java rest client that fails with a transient exception. If the initial request to the cluster takes longer to fail than the max retry timeout millis the request fails with an IOException and the cause of the initial failure is not added as a suppressed exception. \r\n\r\nExpected Behaviour: \r\n\r\nMake a request to an elastic cluster using the java rest client that fails with a transient exception. If the initial request to the cluster takes longer to fail than the max retry timeout millis the initial reason for the failure should be added to the IOException as a suppressed exception (this is the behaviour if the client attempts 1+ retry attempts).\r\n\r\n**Steps to reproduce**:\r\n\r\nThis issue is hard to reproduce in a deterministic fashion. However, we encounter the issue fairly frequently with max retry timeout millis set to 1ms. \r\n\r\n**Provide logs (if relevant)**:\r\n\r\n","closed_by":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"performed_via_github_app":null}