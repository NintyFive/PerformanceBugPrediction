{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/43027","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43027/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43027/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43027/events","html_url":"https://github.com/elastic/elasticsearch/issues/43027","id":454082570,"node_id":"MDU6SXNzdWU0NTQwODI1NzA=","number":43027,"title":"Couldn't map data retrieved from elasticsearch document?","user":{"login":"singhprashant1998","id":36139046,"node_id":"MDQ6VXNlcjM2MTM5MDQ2","avatar_url":"https://avatars1.githubusercontent.com/u/36139046?v=4","gravatar_id":"","url":"https://api.github.com/users/singhprashant1998","html_url":"https://github.com/singhprashant1998","followers_url":"https://api.github.com/users/singhprashant1998/followers","following_url":"https://api.github.com/users/singhprashant1998/following{/other_user}","gists_url":"https://api.github.com/users/singhprashant1998/gists{/gist_id}","starred_url":"https://api.github.com/users/singhprashant1998/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhprashant1998/subscriptions","organizations_url":"https://api.github.com/users/singhprashant1998/orgs","repos_url":"https://api.github.com/users/singhprashant1998/repos","events_url":"https://api.github.com/users/singhprashant1998/events{/privacy}","received_events_url":"https://api.github.com/users/singhprashant1998/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-06-10T09:37:54Z","updated_at":"2019-06-10T09:55:45Z","closed_at":"2019-06-10T09:55:45Z","author_association":"NONE","active_lock_reason":null,"body":"I have a elastic search document which reads:\r\n\r\n`private String city;\r\n\t\r\n\tprivate String mobileNumber;\r\n\t\r\n\tprivate String professionType;\r\n\t\r\n\tprivate double monthlyIncome;\r\n\t\r\n\tprivate String designation;\r\n\t\r\n\t@Field(type = FieldType.Date, format = DateFormat.custom, pattern = MosaicConstants.DATE_PATTERN)\r\n\t@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = MosaicConstants.DATE_PATTERN)\r\n\tprivate Date birthDate;\r\n\t\r\n\tprivate String lastUpdatedSource;\r\n\t\r\n\t@Field(type = FieldType.Date, format = DateFormat.custom, pattern = MosaicConstants.DATE_PATTERN)\r\n\t@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = MosaicConstants.DATE_PATTERN)\r\n\tprivate Date creationDate;\r\n\t\r\n\t@Field(type = FieldType.Date, format = DateFormat.custom, pattern = MosaicConstants.DATE_PATTERN)\r\n\t@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = MosaicConstants.DATE_PATTERN)\r\n\tprivate Date lastUpdatedDate;`\r\n\r\nOn being mapped with the data retrieved from the elastic search. The error i'm getting :\r\n\r\n`org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userDetailsQueueConsumer': Unsatisfied dependency expressed through field 'searchService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userSearchService': Unsatisfied dependency expressed through field 'userSearchRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userSearchRepository': Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Mapper for [birthDate] conflicts with existing mapping in other types:\r\n[mapper [birthDate] has different [format] values]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1411) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:849) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877) ~[spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549) ~[spring-context-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:142) ~[spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:775) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:316) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1260) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1248) [spring-boot-2.1.4.RELEASE.jar:2.1.4.RELEASE]\r\n\tat com.girnarsoft.mosaic.MosaicSearchApplication.main(MosaicSearchApplication.java:14) [classes/:na]\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userSearchService': Unsatisfied dependency expressed through field 'userSearchRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'userSearchRepository': Invocation of init method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository]: Constructor threw exception; nested exception is java.lang.IllegalArgumentException: Mapper for [birthDate] conflicts with existing mapping in other types:\r\n[mapper [birthDate] has different [format] values]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:596) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:90) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:374) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1411) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:592) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1247) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1167) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:593) ~[spring-beans-5.1.6.RELEASE.jar:5.1.6.RELEASE]\r\n\t... 19 common frames omitted`\r\n\r\nand here is my document of the elasticsearch: \r\n` \"hits\" : {\r\n    \"total\" : 1,\r\n    \"max_score\" : 1.0,\r\n    \"hits\" : [\r\n      {\r\n        \"_index\" : \"user_index\",\r\n        \"_type\" : \"user\",\r\n        \"_id\" : \"e2996a60-8043-11e9-85c6-7fe9bfcb0793\",\r\n        \"_score\" : 1.0,\r\n        \"_source\" : {\r\n          \"mosaicId\" : \"e2996a60-8043-11e9-85c6-7fe9bfcb0793\",\r\n          \"connectoId\" : \"abcd\",\r\n          \"city\" : \"Jaipur\",\r\n          \"mobileNumber\" : \"\",\r\n          \"professionType\" : null,\r\n          \"monthlyIncome\" : 20000.0,\r\n          \"birthDate\" : \"1984-10-17 06:30:00\",\r\n          \"lastUpdatedSource\" : \"BD\",\r\n          \"creationDate\" : \"2019-05-27 08:55:23\",\r\n          \"lastUpdatedDate\" : \"2019-05-27 08:55:23\"\r\n        }\r\n      }\r\n    ]\r\n`\r\nPlease help me with this issue.","closed_by":{"login":"romseygeek","id":1347065,"node_id":"MDQ6VXNlcjEzNDcwNjU=","avatar_url":"https://avatars0.githubusercontent.com/u/1347065?v=4","gravatar_id":"","url":"https://api.github.com/users/romseygeek","html_url":"https://github.com/romseygeek","followers_url":"https://api.github.com/users/romseygeek/followers","following_url":"https://api.github.com/users/romseygeek/following{/other_user}","gists_url":"https://api.github.com/users/romseygeek/gists{/gist_id}","starred_url":"https://api.github.com/users/romseygeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/romseygeek/subscriptions","organizations_url":"https://api.github.com/users/romseygeek/orgs","repos_url":"https://api.github.com/users/romseygeek/repos","events_url":"https://api.github.com/users/romseygeek/events{/privacy}","received_events_url":"https://api.github.com/users/romseygeek/received_events","type":"User","site_admin":false},"performed_via_github_app":null}