[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/73215348","html_url":"https://github.com/elastic/elasticsearch/issues/9511#issuecomment-73215348","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9511","id":73215348,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjE1MzQ4","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2015-02-06T10:16:14Z","updated_at":"2015-02-06T10:16:14Z","author_association":"MEMBER","body":"@nknize I think this problem relates to the code to deal with polygons around the international date line. We rely on the fact that a hole is actually a hole (i.e. is within the polygon) to be able to place it properly. By definition a hole which intersects the polygons edges is not actually a hole but a modification to the external shape of the main polygon. Maybe we need to add some logic to rewrite the polygon to cut out the hole from the main polygon shape if it intersects with the edge?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/84112332","html_url":"https://github.com/elastic/elasticsearch/issues/9511#issuecomment-84112332","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9511","id":84112332,"node_id":"MDEyOklzc3VlQ29tbWVudDg0MTEyMzMy","user":{"login":"tschaub","id":41094,"node_id":"MDQ6VXNlcjQxMDk0","avatar_url":"https://avatars0.githubusercontent.com/u/41094?v=4","gravatar_id":"","url":"https://api.github.com/users/tschaub","html_url":"https://github.com/tschaub","followers_url":"https://api.github.com/users/tschaub/followers","following_url":"https://api.github.com/users/tschaub/following{/other_user}","gists_url":"https://api.github.com/users/tschaub/gists{/gist_id}","starred_url":"https://api.github.com/users/tschaub/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tschaub/subscriptions","organizations_url":"https://api.github.com/users/tschaub/orgs","repos_url":"https://api.github.com/users/tschaub/repos","events_url":"https://api.github.com/users/tschaub/events{/privacy}","received_events_url":"https://api.github.com/users/tschaub/received_events","type":"User","site_admin":false},"created_at":"2015-03-20T19:40:01Z","updated_at":"2015-03-20T19:40:01Z","author_association":"NONE","body":"We've been hitting the same issues with polygons that are not close to the dateline and don't have interior rings that cross an exterior ring.\n\n```\n#!/bin/sh\n\ncurl -XDELETE http://localhost:9200/test_index\n\ncurl -XPUT http://localhost:9200/test_index/\n\ncurl -XPUT http://localhost:9200/test_index/test_type/_mapping -d '\n {\n     \"properties\": {\n         \"geom\": {\n             \"type\": \"geo_shape\",\n             \"tree\": \"quadtree\",\n             \"tree_levels\": \"26\"\n         }\n     }\n }'\n\ncurl -XGET localhost:9200/test_index/test_type/_search?pretty -d \\\n    '{\"query\": {\"filtered\": {\"filter\": {\"bool\": {\"must\": [{\"geo_shape\": {\"geom\": {\"shape\": {\"type\": \"polygon\", \"coordinates\": [[[-150.0, -30.0], [-150.0, 30.0], [150.0, 30.0], [150.0, -30.0], [-150.0, -30.0]], [[0.01, 0.01], [0.02, 0.02], [0.01, 0.02], [0.01, 0.01]]]}}}}, \"from\": 0, \"size\": 50}'\n```\n\nHere's the polygon geometry from that query: http://bl.ocks.org/anonymous/raw/0fb706605fe9e53c52f8/\n\nIf the exterior ring is changed so that it spans from -90 (west) to 90 (east) longitude, the query succeeds.  When the exterior ring spans more than 180 degrees, the query fails - even if the exterior ring is not near the dateline. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/84124411","html_url":"https://github.com/elastic/elasticsearch/issues/9511#issuecomment-84124411","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9511","id":84124411,"node_id":"MDEyOklzc3VlQ29tbWVudDg0MTI0NDEx","user":{"login":"tschaub","id":41094,"node_id":"MDQ6VXNlcjQxMDk0","avatar_url":"https://avatars0.githubusercontent.com/u/41094?v=4","gravatar_id":"","url":"https://api.github.com/users/tschaub","html_url":"https://github.com/tschaub","followers_url":"https://api.github.com/users/tschaub/followers","following_url":"https://api.github.com/users/tschaub/following{/other_user}","gists_url":"https://api.github.com/users/tschaub/gists{/gist_id}","starred_url":"https://api.github.com/users/tschaub/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tschaub/subscriptions","organizations_url":"https://api.github.com/users/tschaub/orgs","repos_url":"https://api.github.com/users/tschaub/repos","events_url":"https://api.github.com/users/tschaub/events{/privacy}","received_events_url":"https://api.github.com/users/tschaub/received_events","type":"User","site_admin":false},"created_at":"2015-03-20T19:54:45Z","updated_at":"2015-03-20T22:03:34Z","author_association":"NONE","body":"Are you by chance assuming that rings spanning more than 180 degrees need to be \"inverted\"?  In my opinion, you're best off pretending the world is flat and accepting that 0, 0 is inside a polygon spanning -91 (west) to 91 (east) - regardless of the winding order of exterior rings.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/84130273","html_url":"https://github.com/elastic/elasticsearch/issues/9511#issuecomment-84130273","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9511","id":84130273,"node_id":"MDEyOklzc3VlQ29tbWVudDg0MTMwMjcz","user":{"login":"tschaub","id":41094,"node_id":"MDQ6VXNlcjQxMDk0","avatar_url":"https://avatars0.githubusercontent.com/u/41094?v=4","gravatar_id":"","url":"https://api.github.com/users/tschaub","html_url":"https://github.com/tschaub","followers_url":"https://api.github.com/users/tschaub/followers","following_url":"https://api.github.com/users/tschaub/following{/other_user}","gists_url":"https://api.github.com/users/tschaub/gists{/gist_id}","starred_url":"https://api.github.com/users/tschaub/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tschaub/subscriptions","organizations_url":"https://api.github.com/users/tschaub/orgs","repos_url":"https://api.github.com/users/tschaub/repos","events_url":"https://api.github.com/users/tschaub/events{/privacy}","received_events_url":"https://api.github.com/users/tschaub/received_events","type":"User","site_admin":false},"created_at":"2015-03-20T20:02:15Z","updated_at":"2015-03-20T20:02:15Z","author_association":"NONE","body":"I should debug to confirm, but it feels like you may be testing whether an interior ring is inside an exterior ring with different logic than the intersect query.  Perhaps the query above fails because you decide that the interior ring (a small ring near 0, 0) is not inside the exterior ring.  Maybe that is because you assume that because the exterior ring spans more than 180 degrees longitude you need to invert it.\n\nBut a similar query without the interior ring returns results that are inside the exterior ring in the same sense that the interior ring is inside (i.e. without assuming that the > 180 spanning exterior ring implies a ring that crosses the dateline).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/84217778","html_url":"https://github.com/elastic/elasticsearch/issues/9511#issuecomment-84217778","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9511","id":84217778,"node_id":"MDEyOklzc3VlQ29tbWVudDg0MjE3Nzc4","user":{"login":"nknize","id":830187,"node_id":"MDQ6VXNlcjgzMDE4Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/830187?v=4","gravatar_id":"","url":"https://api.github.com/users/nknize","html_url":"https://github.com/nknize","followers_url":"https://api.github.com/users/nknize/followers","following_url":"https://api.github.com/users/nknize/following{/other_user}","gists_url":"https://api.github.com/users/nknize/gists{/gist_id}","starred_url":"https://api.github.com/users/nknize/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nknize/subscriptions","organizations_url":"https://api.github.com/users/nknize/orgs","repos_url":"https://api.github.com/users/nknize/repos","events_url":"https://api.github.com/users/nknize/events{/privacy}","received_events_url":"https://api.github.com/users/nknize/received_events","type":"User","site_admin":false},"created_at":"2015-03-21T01:55:22Z","updated_at":"2015-03-22T05:22:23Z","author_association":"CONTRIBUTOR","body":"Hey @bictorman and Tim, thanks for the update.  I'll bump this up on the priority list to review before the next release. After looking at the provided examples it appears to be working as expected. We comply with OGC SFA spec (https://portal.opengeospatial.org/files/?artifact_id=829 see section 2.1.10 - specifically figure 2.5). \"Figure 2.5 shows some examples of geometric objects that violate the above assertions and are not representable as single instances of Polygon.\"  That is, holes should not intersect edges (these need to be converted to multi-polygon or multiple polygon objects).\n\nJust to make sure there isn't some other latent bug, which version are you working with?  Prior to 1.4.3 the ring orientation logic was incorrectly computed for polys > 180 (leading to behavior Tim described).  That was corrected in 1.4.3+ to follow the OGC SFF right-hand rule along with an added `orientation` option to explicitly define orientation behavior.  Per the right-hand rule, the polygon provided crosses the dateline, so the hole is outside the poly. A simple fix for this case should be to add \n\n```\n\"orientation\": \"left\"\n```\n\nAnd the ring vertices will be clockwise ordered. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/85097516","html_url":"https://github.com/elastic/elasticsearch/issues/9511#issuecomment-85097516","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9511","id":85097516,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MDk3NTE2","user":{"login":"tschaub","id":41094,"node_id":"MDQ6VXNlcjQxMDk0","avatar_url":"https://avatars0.githubusercontent.com/u/41094?v=4","gravatar_id":"","url":"https://api.github.com/users/tschaub","html_url":"https://github.com/tschaub","followers_url":"https://api.github.com/users/tschaub/followers","following_url":"https://api.github.com/users/tschaub/following{/other_user}","gists_url":"https://api.github.com/users/tschaub/gists{/gist_id}","starred_url":"https://api.github.com/users/tschaub/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tschaub/subscriptions","organizations_url":"https://api.github.com/users/tschaub/orgs","repos_url":"https://api.github.com/users/tschaub/repos","events_url":"https://api.github.com/users/tschaub/events{/privacy}","received_events_url":"https://api.github.com/users/tschaub/received_events","type":"User","site_admin":false},"created_at":"2015-03-23T17:04:26Z","updated_at":"2015-03-23T17:10:26Z","author_association":"NONE","body":"Thanks for the additional detail @nknize.  I'll confirm the version we are using and try the orientation property.  One concern is that GeoJSON doesn't specify the winding order and OGR (and more) don't enforce a winding order when serializing.  Would it be possible to provide an option to disable the winding order check for polygons > 180?  I like the behavior we're getting for polygons that don't span 180 and would find it convenient to force the same for all polygons (dateline be damned).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/85100600","html_url":"https://github.com/elastic/elasticsearch/issues/9511#issuecomment-85100600","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9511","id":85100600,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MTAwNjAw","user":{"login":"tschaub","id":41094,"node_id":"MDQ6VXNlcjQxMDk0","avatar_url":"https://avatars0.githubusercontent.com/u/41094?v=4","gravatar_id":"","url":"https://api.github.com/users/tschaub","html_url":"https://github.com/tschaub","followers_url":"https://api.github.com/users/tschaub/followers","following_url":"https://api.github.com/users/tschaub/following{/other_user}","gists_url":"https://api.github.com/users/tschaub/gists{/gist_id}","starred_url":"https://api.github.com/users/tschaub/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tschaub/subscriptions","organizations_url":"https://api.github.com/users/tschaub/orgs","repos_url":"https://api.github.com/users/tschaub/repos","events_url":"https://api.github.com/users/tschaub/events{/privacy}","received_events_url":"https://api.github.com/users/tschaub/received_events","type":"User","site_admin":false},"created_at":"2015-03-23T17:12:17Z","updated_at":"2015-03-23T17:12:17Z","author_association":"NONE","body":"We're running 1.4.4.  I'll try to come up with some simple test cases to ensure we can get consistent behavior (for polygons with and without holes, regardless of span).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/85196176","html_url":"https://github.com/elastic/elasticsearch/issues/9511#issuecomment-85196176","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9511","id":85196176,"node_id":"MDEyOklzc3VlQ29tbWVudDg1MTk2MTc2","user":{"login":"nknize","id":830187,"node_id":"MDQ6VXNlcjgzMDE4Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/830187?v=4","gravatar_id":"","url":"https://api.github.com/users/nknize","html_url":"https://github.com/nknize","followers_url":"https://api.github.com/users/nknize/followers","following_url":"https://api.github.com/users/nknize/following{/other_user}","gists_url":"https://api.github.com/users/nknize/gists{/gist_id}","starred_url":"https://api.github.com/users/nknize/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nknize/subscriptions","organizations_url":"https://api.github.com/users/nknize/orgs","repos_url":"https://api.github.com/users/nknize/repos","events_url":"https://api.github.com/users/nknize/events{/privacy}","received_events_url":"https://api.github.com/users/nknize/received_events","type":"User","site_admin":false},"created_at":"2015-03-23T21:03:39Z","updated_at":"2015-03-23T21:03:39Z","author_association":"CONTRIBUTOR","body":"@tschaub We can certainly add an ignore option to the orientation and provide the \"old\" behavior if that's desired (the default would remain \"right\"). We ultimately chose OGC compliance (despite the GeoJSON indifference) as a solution to the ongoing issues surrounding dateline crossing polys.  If you don't have any dateline crossing polys (or already have application logic to handle it) then an `ignore` option certainly makes sense.  Would this option help you out?\n\nIn the meantime, 1.4.4 supports the `orientation` option which can be applied to the mapping and/or on a per document basis.  This way you can have a shape field default to the left-hand rule but have specific documents processed using the right hand rule.  In the above case you'd pass this particular document with the `orientation: left` parameter and all is well.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/85510168","html_url":"https://github.com/elastic/elasticsearch/issues/9511#issuecomment-85510168","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9511","id":85510168,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NTEwMTY4","user":{"login":"nknize","id":830187,"node_id":"MDQ6VXNlcjgzMDE4Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/830187?v=4","gravatar_id":"","url":"https://api.github.com/users/nknize","html_url":"https://github.com/nknize","followers_url":"https://api.github.com/users/nknize/followers","following_url":"https://api.github.com/users/nknize/following{/other_user}","gists_url":"https://api.github.com/users/nknize/gists{/gist_id}","starred_url":"https://api.github.com/users/nknize/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nknize/subscriptions","organizations_url":"https://api.github.com/users/nknize/orgs","repos_url":"https://api.github.com/users/nknize/repos","events_url":"https://api.github.com/users/nknize/events{/privacy}","received_events_url":"https://api.github.com/users/nknize/received_events","type":"User","site_admin":false},"created_at":"2015-03-24T14:08:50Z","updated_at":"2015-03-24T14:08:50Z","author_association":"CONTRIBUTOR","body":"@bictorman There are 2 discussions here (latest surrounding winding order). I want to make sure we answered your original question/issue.  \n\nWe comply with OGC SFA spec (https://portal.opengeospatial.org/files/?artifact_id=829 see section 2.1.10 - specifically figure 2.5). \"Figure 2.5 shows some examples of geometric objects that violate the above assertions and are not representable as single instances of Polygon.\" That is, holes should not intersect edges.  So you'll need to convert those geometric objects to multi-polygons or multiple polygon objects.\n\nLet us know if there are any other questions.  If not I'll close this as a non-issue.  The second discussion (winding order) has been moved to #10227 \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/85568049","html_url":"https://github.com/elastic/elasticsearch/issues/9511#issuecomment-85568049","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9511","id":85568049,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NTY4MDQ5","user":{"login":"bictorman","id":729447,"node_id":"MDQ6VXNlcjcyOTQ0Nw==","avatar_url":"https://avatars2.githubusercontent.com/u/729447?v=4","gravatar_id":"","url":"https://api.github.com/users/bictorman","html_url":"https://github.com/bictorman","followers_url":"https://api.github.com/users/bictorman/followers","following_url":"https://api.github.com/users/bictorman/following{/other_user}","gists_url":"https://api.github.com/users/bictorman/gists{/gist_id}","starred_url":"https://api.github.com/users/bictorman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bictorman/subscriptions","organizations_url":"https://api.github.com/users/bictorman/orgs","repos_url":"https://api.github.com/users/bictorman/repos","events_url":"https://api.github.com/users/bictorman/events{/privacy}","received_events_url":"https://api.github.com/users/bictorman/received_events","type":"User","site_admin":false},"created_at":"2015-03-24T15:45:32Z","updated_at":"2015-03-24T15:45:32Z","author_association":"NONE","body":"@nknize Understood. Seems like I was misled by the behaviour of PostGIS and previous ES versions. We'll try to fix the data, thanks for the answer.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/85651209","html_url":"https://github.com/elastic/elasticsearch/issues/9511#issuecomment-85651209","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9511","id":85651209,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NjUxMjA5","user":{"login":"nknize","id":830187,"node_id":"MDQ6VXNlcjgzMDE4Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/830187?v=4","gravatar_id":"","url":"https://api.github.com/users/nknize","html_url":"https://github.com/nknize","followers_url":"https://api.github.com/users/nknize/followers","following_url":"https://api.github.com/users/nknize/following{/other_user}","gists_url":"https://api.github.com/users/nknize/gists{/gist_id}","starred_url":"https://api.github.com/users/nknize/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nknize/subscriptions","organizations_url":"https://api.github.com/users/nknize/orgs","repos_url":"https://api.github.com/users/nknize/repos","events_url":"https://api.github.com/users/nknize/events{/privacy}","received_events_url":"https://api.github.com/users/nknize/received_events","type":"User","site_admin":false},"created_at":"2015-03-24T19:13:58Z","updated_at":"2015-03-24T19:13:58Z","author_association":"CONTRIBUTOR","body":"Closing as non-issue\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/86170962","html_url":"https://github.com/elastic/elasticsearch/issues/9511#issuecomment-86170962","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9511","id":86170962,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MTcwOTYy","user":{"login":"dbaston","id":6318931,"node_id":"MDQ6VXNlcjYzMTg5MzE=","avatar_url":"https://avatars0.githubusercontent.com/u/6318931?v=4","gravatar_id":"","url":"https://api.github.com/users/dbaston","html_url":"https://github.com/dbaston","followers_url":"https://api.github.com/users/dbaston/followers","following_url":"https://api.github.com/users/dbaston/following{/other_user}","gists_url":"https://api.github.com/users/dbaston/gists{/gist_id}","starred_url":"https://api.github.com/users/dbaston/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbaston/subscriptions","organizations_url":"https://api.github.com/users/dbaston/orgs","repos_url":"https://api.github.com/users/dbaston/repos","events_url":"https://api.github.com/users/dbaston/events{/privacy}","received_events_url":"https://api.github.com/users/dbaston/received_events","type":"User","site_admin":false},"created_at":"2015-03-25T18:54:32Z","updated_at":"2015-03-25T18:54:32Z","author_association":"NONE","body":"@nknize A lot of other software out there (PostGIS, GEOS, JTS, etc.) interprets the OGC spec to allow an interior ring to touch the outside of a boundary, provided that it only touches at one point.  (If only OGC had included a drawing of this simple case in the spec!)  Does ES have a different interpretation of the spec than PostGIS etc, and if so, how is one to represent a polygon like the one @bictorman posted in ES?  I'm familiar with the ESRI/ArcGIS way of representing this -- as an exterior ring that loops back on itself -- but I've always understood that to be different from the OGC way.\n\nSome more examples of OGC-valid polygons, including the case @bictorman posted, are found in the PostGIS docs:\nhttp://postgis.net/docs/using_postgis_dbmanagement.html#OGC_Validity\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/86211566","html_url":"https://github.com/elastic/elasticsearch/issues/9511#issuecomment-86211566","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9511","id":86211566,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MjExNTY2","user":{"login":"nknize","id":830187,"node_id":"MDQ6VXNlcjgzMDE4Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/830187?v=4","gravatar_id":"","url":"https://api.github.com/users/nknize","html_url":"https://github.com/nknize","followers_url":"https://api.github.com/users/nknize/followers","following_url":"https://api.github.com/users/nknize/following{/other_user}","gists_url":"https://api.github.com/users/nknize/gists{/gist_id}","starred_url":"https://api.github.com/users/nknize/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nknize/subscriptions","organizations_url":"https://api.github.com/users/nknize/orgs","repos_url":"https://api.github.com/users/nknize/repos","events_url":"https://api.github.com/users/nknize/events{/privacy}","received_events_url":"https://api.github.com/users/nknize/received_events","type":"User","site_admin":false},"created_at":"2015-03-25T20:50:28Z","updated_at":"2015-03-25T20:50:28Z","author_association":"CONTRIBUTOR","body":"@dbaston  While I cannot comment on OGC compliance for other software packages your question did expose an issue with the ShapeBuilder incorrectly counting the closed coordinate of the interior ring as a violation of 2.1.10 assertion 3 (a conflict between the geojson parser and the OGC builder counting that point as 3 intersections).  I'm going to reopen this issue to correct the closed coordinate issue.   \n\nHopefully @bictorman was able to adjust his polygon accordingly.  If not a working coordinate order can be found at the following GIST:  https://gist.github.com/nknize/7a5d2bf9a9e654e1cbb5\n\nAs to the question of ES interpretation of the spec, its implemented to follow the spec as closely as possible per collaboration with the OGC and OSGeo community.  Variations are often discovered by way of the mailing lists and issue discussions such as these (which keep the implementation in check).  Thanks again for revisiting this.  The feedback is greatly appreciated.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/154388077","html_url":"https://github.com/elastic/elasticsearch/issues/9511#issuecomment-154388077","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9511","id":154388077,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NDM4ODA3Nw==","user":{"login":"muka","id":1021269,"node_id":"MDQ6VXNlcjEwMjEyNjk=","avatar_url":"https://avatars2.githubusercontent.com/u/1021269?v=4","gravatar_id":"","url":"https://api.github.com/users/muka","html_url":"https://github.com/muka","followers_url":"https://api.github.com/users/muka/followers","following_url":"https://api.github.com/users/muka/following{/other_user}","gists_url":"https://api.github.com/users/muka/gists{/gist_id}","starred_url":"https://api.github.com/users/muka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/muka/subscriptions","organizations_url":"https://api.github.com/users/muka/orgs","repos_url":"https://api.github.com/users/muka/repos","events_url":"https://api.github.com/users/muka/events{/privacy}","received_events_url":"https://api.github.com/users/muka/received_events","type":"User","site_admin":false},"created_at":"2015-11-06T11:31:14Z","updated_at":"2015-11-06T11:31:14Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null}]