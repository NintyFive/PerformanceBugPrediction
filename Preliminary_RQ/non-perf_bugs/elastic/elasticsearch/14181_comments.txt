[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/149530985","html_url":"https://github.com/elastic/elasticsearch/issues/14181#issuecomment-149530985","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14181","id":149530985,"node_id":"MDEyOklzc3VlQ29tbWVudDE0OTUzMDk4NQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-10-20T11:17:23Z","updated_at":"2015-10-20T11:17:23Z","author_association":"CONTRIBUTOR","body":"1cm resolution for half the world?  Not surprising it OOMs :)\n\n@nknize what can we do here?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/149572396","html_url":"https://github.com/elastic/elasticsearch/issues/14181#issuecomment-149572396","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14181","id":149572396,"node_id":"MDEyOklzc3VlQ29tbWVudDE0OTU3MjM5Ng==","user":{"login":"nknize","id":830187,"node_id":"MDQ6VXNlcjgzMDE4Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/830187?v=4","gravatar_id":"","url":"https://api.github.com/users/nknize","html_url":"https://github.com/nknize","followers_url":"https://api.github.com/users/nknize/followers","following_url":"https://api.github.com/users/nknize/following{/other_user}","gists_url":"https://api.github.com/users/nknize/gists{/gist_id}","starred_url":"https://api.github.com/users/nknize/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nknize/subscriptions","organizations_url":"https://api.github.com/users/nknize/orgs","repos_url":"https://api.github.com/users/nknize/repos","events_url":"https://api.github.com/users/nknize/events{/privacy}","received_events_url":"https://api.github.com/users/nknize/received_events","type":"User","site_admin":false},"created_at":"2015-10-20T13:44:10Z","updated_at":"2015-10-20T16:26:39Z","author_association":"CONTRIBUTOR","body":"With that high of resolution this uncovered an issue in Lucene's GeoHashPrefixTree that I had fixed in PackedQuadTree. I'd suggest cutting over to QuadTree with the following mappings:\n\n```\n\"properties\" : {\n    \"bbox\" : {\n        \"type\": \"geo_shape\",\n        \"tree\" : \"quadtree\",\n        \"precision\": 29\n    }\n}\n```\n\nThis will give 1.11 cm accuracy (but takes ~10 secs on my laptop to index). Ultimately, with shapes the size of the one posted I would suggest lowering that resolution, or at very least, breaking it down into smaller shapes.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/149721823","html_url":"https://github.com/elastic/elasticsearch/issues/14181#issuecomment-149721823","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14181","id":149721823,"node_id":"MDEyOklzc3VlQ29tbWVudDE0OTcyMTgyMw==","user":{"login":"markwalkom","id":3184718,"node_id":"MDQ6VXNlcjMxODQ3MTg=","avatar_url":"https://avatars0.githubusercontent.com/u/3184718?v=4","gravatar_id":"","url":"https://api.github.com/users/markwalkom","html_url":"https://github.com/markwalkom","followers_url":"https://api.github.com/users/markwalkom/followers","following_url":"https://api.github.com/users/markwalkom/following{/other_user}","gists_url":"https://api.github.com/users/markwalkom/gists{/gist_id}","starred_url":"https://api.github.com/users/markwalkom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markwalkom/subscriptions","organizations_url":"https://api.github.com/users/markwalkom/orgs","repos_url":"https://api.github.com/users/markwalkom/repos","events_url":"https://api.github.com/users/markwalkom/events{/privacy}","received_events_url":"https://api.github.com/users/markwalkom/received_events","type":"User","site_admin":false},"created_at":"2015-10-20T22:33:31Z","updated_at":"2015-10-20T22:33:31Z","author_association":"MEMBER","body":"/faceplam\n\nI totally missed that and yes, makes sense\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/149752713","html_url":"https://github.com/elastic/elasticsearch/issues/14181#issuecomment-149752713","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14181","id":149752713,"node_id":"MDEyOklzc3VlQ29tbWVudDE0OTc1MjcxMw==","user":{"login":"nknize","id":830187,"node_id":"MDQ6VXNlcjgzMDE4Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/830187?v=4","gravatar_id":"","url":"https://api.github.com/users/nknize","html_url":"https://github.com/nknize","followers_url":"https://api.github.com/users/nknize/followers","following_url":"https://api.github.com/users/nknize/following{/other_user}","gists_url":"https://api.github.com/users/nknize/gists{/gist_id}","starred_url":"https://api.github.com/users/nknize/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nknize/subscriptions","organizations_url":"https://api.github.com/users/nknize/orgs","repos_url":"https://api.github.com/users/nknize/repos","events_url":"https://api.github.com/users/nknize/events{/privacy}","received_events_url":"https://api.github.com/users/nknize/received_events","type":"User","site_admin":false},"created_at":"2015-10-21T01:28:12Z","updated_at":"2015-10-21T01:28:12Z","author_association":"CONTRIBUTOR","body":"No worries Mark! It actually raised some good issues re: max precision. 1.  We throw a healthy IAE when `precision` is explicitly set beyond the max tree level but not when its set using \"human readable\" form (e.g., \"1mm\" happily self destructs w/ OOM). 2. GeoHashPrefixTree needs the same surgery procedure as applied to QuadPrefixTree\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/149781458","html_url":"https://github.com/elastic/elasticsearch/issues/14181#issuecomment-149781458","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14181","id":149781458,"node_id":"MDEyOklzc3VlQ29tbWVudDE0OTc4MTQ1OA==","user":{"login":"michel-kraemer","id":295407,"node_id":"MDQ6VXNlcjI5NTQwNw==","avatar_url":"https://avatars2.githubusercontent.com/u/295407?v=4","gravatar_id":"","url":"https://api.github.com/users/michel-kraemer","html_url":"https://github.com/michel-kraemer","followers_url":"https://api.github.com/users/michel-kraemer/followers","following_url":"https://api.github.com/users/michel-kraemer/following{/other_user}","gists_url":"https://api.github.com/users/michel-kraemer/gists{/gist_id}","starred_url":"https://api.github.com/users/michel-kraemer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michel-kraemer/subscriptions","organizations_url":"https://api.github.com/users/michel-kraemer/orgs","repos_url":"https://api.github.com/users/michel-kraemer/repos","events_url":"https://api.github.com/users/michel-kraemer/events{/privacy}","received_events_url":"https://api.github.com/users/michel-kraemer/received_events","type":"User","site_admin":false},"created_at":"2015-10-21T04:40:06Z","updated_at":"2015-10-21T04:40:06Z","author_association":"NONE","body":"I agree that the resolution is too high. I initially used a smaller bounding box and got the same error. For the minimum working example to reproduce the bug I just copied the snippet from the docs. Sorry for the confusion.\n\nSo do I understand you correctly that there actually is a bug? Because the minimum example works quite well under 1.7. It's done within a couple of milliseconds even with the high resolution and the large bounding box.\n\nCheers,\nMichel\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/149781804","html_url":"https://github.com/elastic/elasticsearch/issues/14181#issuecomment-149781804","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14181","id":149781804,"node_id":"MDEyOklzc3VlQ29tbWVudDE0OTc4MTgwNA==","user":{"login":"michel-kraemer","id":295407,"node_id":"MDQ6VXNlcjI5NTQwNw==","avatar_url":"https://avatars2.githubusercontent.com/u/295407?v=4","gravatar_id":"","url":"https://api.github.com/users/michel-kraemer","html_url":"https://github.com/michel-kraemer","followers_url":"https://api.github.com/users/michel-kraemer/followers","following_url":"https://api.github.com/users/michel-kraemer/following{/other_user}","gists_url":"https://api.github.com/users/michel-kraemer/gists{/gist_id}","starred_url":"https://api.github.com/users/michel-kraemer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michel-kraemer/subscriptions","organizations_url":"https://api.github.com/users/michel-kraemer/orgs","repos_url":"https://api.github.com/users/michel-kraemer/repos","events_url":"https://api.github.com/users/michel-kraemer/events{/privacy}","received_events_url":"https://api.github.com/users/michel-kraemer/received_events","type":"User","site_admin":false},"created_at":"2015-10-21T04:44:05Z","updated_at":"2015-10-21T04:44:05Z","author_association":"NONE","body":"OK. I see. I just tried it again with a smaller bounding box and it's working OK. It seems my application code produced too large bounding boxes and I didn't notice that. I will check my code. Thanks for the pointers.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/162922868","html_url":"https://github.com/elastic/elasticsearch/issues/14181#issuecomment-162922868","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14181","id":162922868,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjkyMjg2OA==","user":{"login":"nknize","id":830187,"node_id":"MDQ6VXNlcjgzMDE4Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/830187?v=4","gravatar_id":"","url":"https://api.github.com/users/nknize","html_url":"https://github.com/nknize","followers_url":"https://api.github.com/users/nknize/followers","following_url":"https://api.github.com/users/nknize/following{/other_user}","gists_url":"https://api.github.com/users/nknize/gists{/gist_id}","starred_url":"https://api.github.com/users/nknize/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nknize/subscriptions","organizations_url":"https://api.github.com/users/nknize/orgs","repos_url":"https://api.github.com/users/nknize/repos","events_url":"https://api.github.com/users/nknize/events{/privacy}","received_events_url":"https://api.github.com/users/nknize/received_events","type":"User","site_admin":false},"created_at":"2015-12-08T15:46:14Z","updated_at":"2015-12-08T15:46:14Z","author_association":"CONTRIBUTOR","body":"I don't see this making 2.2 since it will be a lucene 5.5+ improvement. Removing version labels for now.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/287375009","html_url":"https://github.com/elastic/elasticsearch/issues/14181#issuecomment-287375009","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14181","id":287375009,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NzM3NTAwOQ==","user":{"login":"michel-kraemer","id":295407,"node_id":"MDQ6VXNlcjI5NTQwNw==","avatar_url":"https://avatars2.githubusercontent.com/u/295407?v=4","gravatar_id":"","url":"https://api.github.com/users/michel-kraemer","html_url":"https://github.com/michel-kraemer","followers_url":"https://api.github.com/users/michel-kraemer/followers","following_url":"https://api.github.com/users/michel-kraemer/following{/other_user}","gists_url":"https://api.github.com/users/michel-kraemer/gists{/gist_id}","starred_url":"https://api.github.com/users/michel-kraemer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/michel-kraemer/subscriptions","organizations_url":"https://api.github.com/users/michel-kraemer/orgs","repos_url":"https://api.github.com/users/michel-kraemer/repos","events_url":"https://api.github.com/users/michel-kraemer/events{/privacy}","received_events_url":"https://api.github.com/users/michel-kraemer/received_events","type":"User","site_admin":false},"created_at":"2017-03-17T14:50:28Z","updated_at":"2017-03-17T14:50:28Z","author_association":"NONE","body":"@nknize Now that we have Lucene 6, are there any plans to follow up on this issue?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/376245877","html_url":"https://github.com/elastic/elasticsearch/issues/14181#issuecomment-376245877","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14181","id":376245877,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NjI0NTg3Nw==","user":{"login":"nknize","id":830187,"node_id":"MDQ6VXNlcjgzMDE4Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/830187?v=4","gravatar_id":"","url":"https://api.github.com/users/nknize","html_url":"https://github.com/nknize","followers_url":"https://api.github.com/users/nknize/followers","following_url":"https://api.github.com/users/nknize/following{/other_user}","gists_url":"https://api.github.com/users/nknize/gists{/gist_id}","starred_url":"https://api.github.com/users/nknize/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nknize/subscriptions","organizations_url":"https://api.github.com/users/nknize/orgs","repos_url":"https://api.github.com/users/nknize/repos","events_url":"https://api.github.com/users/nknize/events{/privacy}","received_events_url":"https://api.github.com/users/nknize/received_events","type":"User","site_admin":false},"created_at":"2018-03-26T17:26:52Z","updated_at":"2018-03-26T17:26:52Z","author_association":"CONTRIBUTOR","body":"closed in favor of #16749 ","performed_via_github_app":null}]