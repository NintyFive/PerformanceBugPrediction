[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/296666625","html_url":"https://github.com/elastic/elasticsearch/issues/24283#issuecomment-296666625","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24283","id":296666625,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjY2NjYyNQ==","user":{"login":"elzozz","id":11685589,"node_id":"MDQ6VXNlcjExNjg1NTg5","avatar_url":"https://avatars3.githubusercontent.com/u/11685589?v=4","gravatar_id":"","url":"https://api.github.com/users/elzozz","html_url":"https://github.com/elzozz","followers_url":"https://api.github.com/users/elzozz/followers","following_url":"https://api.github.com/users/elzozz/following{/other_user}","gists_url":"https://api.github.com/users/elzozz/gists{/gist_id}","starred_url":"https://api.github.com/users/elzozz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elzozz/subscriptions","organizations_url":"https://api.github.com/users/elzozz/orgs","repos_url":"https://api.github.com/users/elzozz/repos","events_url":"https://api.github.com/users/elzozz/events{/privacy}","received_events_url":"https://api.github.com/users/elzozz/received_events","type":"User","site_admin":false},"created_at":"2017-04-24T13:25:00Z","updated_at":"2017-04-24T13:25:00Z","author_association":"NONE","body":"Same issue here.\r\nUpgraded from 5.3.0 to 5.3.1 and had explicitly configured data path.\r\nUnfortunately I don't have the data on default path, so I'm one node down until a patch is out","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/296668816","html_url":"https://github.com/elastic/elasticsearch/issues/24283#issuecomment-296668816","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24283","id":296668816,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjY2ODgxNg==","user":{"login":"antdavidl","id":6018658,"node_id":"MDQ6VXNlcjYwMTg2NTg=","avatar_url":"https://avatars2.githubusercontent.com/u/6018658?v=4","gravatar_id":"","url":"https://api.github.com/users/antdavidl","html_url":"https://github.com/antdavidl","followers_url":"https://api.github.com/users/antdavidl/followers","following_url":"https://api.github.com/users/antdavidl/following{/other_user}","gists_url":"https://api.github.com/users/antdavidl/gists{/gist_id}","starred_url":"https://api.github.com/users/antdavidl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/antdavidl/subscriptions","organizations_url":"https://api.github.com/users/antdavidl/orgs","repos_url":"https://api.github.com/users/antdavidl/repos","events_url":"https://api.github.com/users/antdavidl/events{/privacy}","received_events_url":"https://api.github.com/users/antdavidl/received_events","type":"User","site_admin":false},"created_at":"2017-04-24T13:30:27Z","updated_at":"2017-04-24T13:31:15Z","author_association":"NONE","body":"Well @elzozz,\r\naccording to what you are commenting, it could be that the bug at 5.3.0 has really affected you, saving some indexes in the wrong (default) folder. In this case, it would be a different scenario to the one I was commenting (in my case, it was a clear false negative).\r\n\r\nIf this is your case, you have to manually fix this moving these indexes to the real data folder.\r\n\r\nCheck https://www.elastic.co/blog/multi-data-path-bug-in-elasticsearch-5-3-0 for further details (basically, you just need to move the folder content ...).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/296670145","html_url":"https://github.com/elastic/elasticsearch/issues/24283#issuecomment-296670145","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24283","id":296670145,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjY3MDE0NQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-04-24T13:35:15Z","updated_at":"2017-04-24T13:35:15Z","author_association":"MEMBER","body":"@elzozz I think that @antdavidl is correct here.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/296670240","html_url":"https://github.com/elastic/elasticsearch/issues/24283#issuecomment-296670240","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24283","id":296670240,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjY3MDI0MA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-04-24T13:35:40Z","updated_at":"2017-04-24T13:35:40Z","author_association":"MEMBER","body":"@antdavidl Thanks for reporting, we will get this fixed in the next patch release (5.3.2).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/296670335","html_url":"https://github.com/elastic/elasticsearch/issues/24283#issuecomment-296670335","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24283","id":296670335,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjY3MDMzNQ==","user":{"login":"elzozz","id":11685589,"node_id":"MDQ6VXNlcjExNjg1NTg5","avatar_url":"https://avatars3.githubusercontent.com/u/11685589?v=4","gravatar_id":"","url":"https://api.github.com/users/elzozz","html_url":"https://github.com/elzozz","followers_url":"https://api.github.com/users/elzozz/followers","following_url":"https://api.github.com/users/elzozz/following{/other_user}","gists_url":"https://api.github.com/users/elzozz/gists{/gist_id}","starred_url":"https://api.github.com/users/elzozz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elzozz/subscriptions","organizations_url":"https://api.github.com/users/elzozz/orgs","repos_url":"https://api.github.com/users/elzozz/repos","events_url":"https://api.github.com/users/elzozz/events{/privacy}","received_events_url":"https://api.github.com/users/elzozz/received_events","type":"User","site_admin":false},"created_at":"2017-04-24T13:36:00Z","updated_at":"2017-04-24T13:36:00Z","author_association":"NONE","body":"@antdavidl \r\nWell the paths are the same in the error logs, so I think it's the same issue ;)\r\n`[2017-04-24T15:12:01,365][ERROR][o.e.n.Node] [elastic-master-01] detected index data in default.path.data [/elastic-data/nodes/0/indices] where there should not be any                                                                                                                                                                              \r\n[2017-04-24T15:12:01,366][INFO ][o.e.n.Node] [elastic-master-01] index folder [eSpOBkgsSB24W1M_z5gbCA] in default.path.data [/elastic-data/nodes/0/indices] must be moved to any of [/elastic-data/nodes/0/indices]`","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/296673207","html_url":"https://github.com/elastic/elasticsearch/issues/24283#issuecomment-296673207","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24283","id":296673207,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjY3MzIwNw==","user":{"login":"elzozz","id":11685589,"node_id":"MDQ6VXNlcjExNjg1NTg5","avatar_url":"https://avatars3.githubusercontent.com/u/11685589?v=4","gravatar_id":"","url":"https://api.github.com/users/elzozz","html_url":"https://github.com/elzozz","followers_url":"https://api.github.com/users/elzozz/followers","following_url":"https://api.github.com/users/elzozz/following{/other_user}","gists_url":"https://api.github.com/users/elzozz/gists{/gist_id}","starred_url":"https://api.github.com/users/elzozz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elzozz/subscriptions","organizations_url":"https://api.github.com/users/elzozz/orgs","repos_url":"https://api.github.com/users/elzozz/repos","events_url":"https://api.github.com/users/elzozz/events{/privacy}","received_events_url":"https://api.github.com/users/elzozz/received_events","type":"User","site_admin":false},"created_at":"2017-04-24T13:46:25Z","updated_at":"2017-04-24T13:46:25Z","author_association":"NONE","body":"As a workaround if you don't have the data at default path '/var/lib/elasticsearch'. just create a symlink to the default path and comment out the explicit path.data definition in the config file","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/296674533","html_url":"https://github.com/elastic/elasticsearch/issues/24283#issuecomment-296674533","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24283","id":296674533,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjY3NDUzMw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-04-24T13:50:51Z","updated_at":"2017-04-24T13:50:51Z","author_association":"MEMBER","body":"I think there's some confusion here. You say:\r\n\r\n>Unfortunately I don't have the data on default path, so I'm one node down until a patch is out\r\n\r\nIf you have `default.path.data` and `path.data` set to the same thing, as it appears that you do, then the above statement can not be true and you see the issue that you're seeing. If there's data in `path.data`, then since it appears you have `default.path.data` set to the same path, there must be data in `default.path.data`.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/296675846","html_url":"https://github.com/elastic/elasticsearch/issues/24283#issuecomment-296675846","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24283","id":296675846,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjY3NTg0Ng==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-04-24T13:54:57Z","updated_at":"2017-04-24T13:55:03Z","author_association":"MEMBER","body":"@elzozz Can you please describe your precise situation? It appears that you have `path.data` and `default.path.data` both explicitly configured to the same data path, and that you are not using the default `default.path.data` configuration of `/var/lib/elasticsearch` from the packaging?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/296679415","html_url":"https://github.com/elastic/elasticsearch/issues/24283#issuecomment-296679415","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24283","id":296679415,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjY3OTQxNQ==","user":{"login":"elzozz","id":11685589,"node_id":"MDQ6VXNlcjExNjg1NTg5","avatar_url":"https://avatars3.githubusercontent.com/u/11685589?v=4","gravatar_id":"","url":"https://api.github.com/users/elzozz","html_url":"https://github.com/elzozz","followers_url":"https://api.github.com/users/elzozz/followers","following_url":"https://api.github.com/users/elzozz/following{/other_user}","gists_url":"https://api.github.com/users/elzozz/gists{/gist_id}","starred_url":"https://api.github.com/users/elzozz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elzozz/subscriptions","organizations_url":"https://api.github.com/users/elzozz/orgs","repos_url":"https://api.github.com/users/elzozz/repos","events_url":"https://api.github.com/users/elzozz/events{/privacy}","received_events_url":"https://api.github.com/users/elzozz/received_events","type":"User","site_admin":false},"created_at":"2017-04-24T14:07:25Z","updated_at":"2017-04-24T14:07:25Z","author_association":"NONE","body":"@jasontedor Sorry, It's Monday and I can't seem to compose a normal sentence ;)\r\nIn my configuration I only have defined the `path.data: /elastic-data` nothing else related to `path`\r\nBy default path, I meant /var/lib/elasticsearch, as configured by default by package manager","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/296681353","html_url":"https://github.com/elastic/elasticsearch/issues/24283#issuecomment-296681353","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24283","id":296681353,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjY4MTM1Mw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-04-24T14:13:57Z","updated_at":"2017-04-24T14:13:57Z","author_association":"MEMBER","body":"Then I do not understand how you're running into this issue if `default.path.data` is the default `/var/lib/elasticsearch` from the packaging and `path.data` is explicitly configured elsewhere, and I don't understand the log message that you provided. If `default.path.data` indeed has the default value from the packaging, the log message that you shared above would not say that `default.path.data` has the value `/elastic-data/nodes/0/indices`.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/296684105","html_url":"https://github.com/elastic/elasticsearch/issues/24283#issuecomment-296684105","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24283","id":296684105,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjY4NDEwNQ==","user":{"login":"splitice","id":468579,"node_id":"MDQ6VXNlcjQ2ODU3OQ==","avatar_url":"https://avatars0.githubusercontent.com/u/468579?v=4","gravatar_id":"","url":"https://api.github.com/users/splitice","html_url":"https://github.com/splitice","followers_url":"https://api.github.com/users/splitice/followers","following_url":"https://api.github.com/users/splitice/following{/other_user}","gists_url":"https://api.github.com/users/splitice/gists{/gist_id}","starred_url":"https://api.github.com/users/splitice/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/splitice/subscriptions","organizations_url":"https://api.github.com/users/splitice/orgs","repos_url":"https://api.github.com/users/splitice/repos","events_url":"https://api.github.com/users/splitice/events{/privacy}","received_events_url":"https://api.github.com/users/splitice/received_events","type":"User","site_admin":false},"created_at":"2017-04-24T14:23:00Z","updated_at":"2017-04-24T14:23:00Z","author_association":"NONE","body":"I'm too seeing this with a fresh install of an els 5.3.1 cluster which was performed using the elastic ansible file.\r\n\r\nin my elasticsearch config path.data is set to /var/lib/elasticsearch/els13-els13\r\nsystemd starts elasticsearch with /usr/share/elasticsearch/bin/elasticsearch -p ${PID_DIR}/elasticsearch.pid --quiet -Edefault.path.logs=${LOG_DIR} -Edefault.path.data=${DATA_DIR} -Edefault.path.conf=${CONF_DIR}\r\nThe value of DATA_DIR as set in /etc/defaults is ```DATA_DIR=/var/lib/elasticsearch/els13-els13```\r\n\r\nIs the ansible script doing something wrong, or is this an ELS bug? It prevents the restart of nodes without deletion of that node's index data and is hence quite critical if multiple nodes were to fail at the same time.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/296684860","html_url":"https://github.com/elastic/elasticsearch/issues/24283#issuecomment-296684860","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24283","id":296684860,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjY4NDg2MA==","user":{"login":"elzozz","id":11685589,"node_id":"MDQ6VXNlcjExNjg1NTg5","avatar_url":"https://avatars3.githubusercontent.com/u/11685589?v=4","gravatar_id":"","url":"https://api.github.com/users/elzozz","html_url":"https://github.com/elzozz","followers_url":"https://api.github.com/users/elzozz/followers","following_url":"https://api.github.com/users/elzozz/following{/other_user}","gists_url":"https://api.github.com/users/elzozz/gists{/gist_id}","starred_url":"https://api.github.com/users/elzozz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elzozz/subscriptions","organizations_url":"https://api.github.com/users/elzozz/orgs","repos_url":"https://api.github.com/users/elzozz/repos","events_url":"https://api.github.com/users/elzozz/events{/privacy}","received_events_url":"https://api.github.com/users/elzozz/received_events","type":"User","site_admin":false},"created_at":"2017-04-24T14:25:31Z","updated_at":"2017-04-24T14:25:31Z","author_association":"NONE","body":"Here are the config files, maybe it provides with more info.\r\n\r\n[elk-master-01.zip](https://github.com/elastic/elasticsearch/files/952055/elk-master-01.zip)\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/296688838","html_url":"https://github.com/elastic/elasticsearch/issues/24283#issuecomment-296688838","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24283","id":296688838,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjY4ODgzOA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-04-24T14:37:53Z","updated_at":"2017-04-24T14:37:53Z","author_association":"MEMBER","body":"> Is the ansible script doing something wrong, or is this an ELS bug?\r\n\r\n@splitice I peeked at the Ansible role; it appears they are setting the [configured data paths in the service definition](https://github.com/elastic/ansible-elasticsearch/blob/0.2/templates/systemd/elasticsearch.j2#L10) *and* in the [configuration file](https://github.com/elastic/ansible-elasticsearch/blob/0.2/templates/elasticsearch.yml.j2#L19). I wouldn't necessarily consider this a bug although I don't think they should be doing this, but it does mean that every user of the Ansible role is going to be snagged by this until 5.3.2 it out.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/296690052","html_url":"https://github.com/elastic/elasticsearch/issues/24283#issuecomment-296690052","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24283","id":296690052,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjY5MDA1Mg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-04-24T14:41:32Z","updated_at":"2017-04-24T14:41:32Z","author_association":"MEMBER","body":"@elzozz I don't see `default.path.data` configured in the configuration files that you shared. Can you also share `/etc/default/elasticsearch` or `/etc/sysconfig/elasticsearch` (the former for a Debian-based system, the latter for an RPM-based system) and maybe `/usr/lib/systemd/system/elasticsearch.service` if you're on systemd and otherwise `/etc/init.d/elasticsearch`)?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/296816128","html_url":"https://github.com/elastic/elasticsearch/issues/24283#issuecomment-296816128","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24283","id":296816128,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjgxNjEyOA==","user":{"login":"camarigor","id":26566126,"node_id":"MDQ6VXNlcjI2NTY2MTI2","avatar_url":"https://avatars2.githubusercontent.com/u/26566126?v=4","gravatar_id":"","url":"https://api.github.com/users/camarigor","html_url":"https://github.com/camarigor","followers_url":"https://api.github.com/users/camarigor/followers","following_url":"https://api.github.com/users/camarigor/following{/other_user}","gists_url":"https://api.github.com/users/camarigor/gists{/gist_id}","starred_url":"https://api.github.com/users/camarigor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/camarigor/subscriptions","organizations_url":"https://api.github.com/users/camarigor/orgs","repos_url":"https://api.github.com/users/camarigor/repos","events_url":"https://api.github.com/users/camarigor/events{/privacy}","received_events_url":"https://api.github.com/users/camarigor/received_events","type":"User","site_admin":false},"created_at":"2017-04-24T20:42:09Z","updated_at":"2017-04-25T18:41:00Z","author_association":"NONE","body":"i found this topic and this solve to me. \r\nELK running back again.\r\n\r\n> I removed the  \"-Edefault.path.data=${DATA_DIR} \" parameter from the startup command and everything works fine again.\r\n> \r\n> The default.data.path is defined in the elasticsearch.yml file\r\n\r\n\r\nhttps://discuss.elastic.co/t/elasticsearch-restart-failed/83357/7?u=igormarqs","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/296927492","html_url":"https://github.com/elastic/elasticsearch/issues/24283#issuecomment-296927492","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24283","id":296927492,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjkyNzQ5Mg==","user":{"login":"elzozz","id":11685589,"node_id":"MDQ6VXNlcjExNjg1NTg5","avatar_url":"https://avatars3.githubusercontent.com/u/11685589?v=4","gravatar_id":"","url":"https://api.github.com/users/elzozz","html_url":"https://github.com/elzozz","followers_url":"https://api.github.com/users/elzozz/followers","following_url":"https://api.github.com/users/elzozz/following{/other_user}","gists_url":"https://api.github.com/users/elzozz/gists{/gist_id}","starred_url":"https://api.github.com/users/elzozz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elzozz/subscriptions","organizations_url":"https://api.github.com/users/elzozz/orgs","repos_url":"https://api.github.com/users/elzozz/repos","events_url":"https://api.github.com/users/elzozz/events{/privacy}","received_events_url":"https://api.github.com/users/elzozz/received_events","type":"User","site_admin":false},"created_at":"2017-04-25T06:29:54Z","updated_at":"2017-04-25T06:29:54Z","author_association":"NONE","body":"@jasontedor Here are the config files and I think I found the issue in my case.\r\nIn `/etc/sysconfig/elasticsearch/` DATA_DIR was set to /elastic-data, the same path as in `elasticsearch.yml` data.path parameter. As mentioned by @igormarqs the startup script then adds the `-Edefault.path.data=${DATA_DIR} ` line to the command line. So the default.path.data is indeed defined, but not from the `elasticsearch.yml` configuration file.\r\nCommenting out the DATA_DIR in `/etc/sysconfig/elasticsearch` solved the issue after upgrade.\r\n[elk-sysconfig.zip](https://github.com/elastic/elasticsearch/files/954058/elk-sysconfig.zip)\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/296968300","html_url":"https://github.com/elastic/elasticsearch/issues/24283#issuecomment-296968300","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24283","id":296968300,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Njk2ODMwMA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-04-25T09:10:30Z","updated_at":"2017-04-25T09:10:30Z","author_association":"MEMBER","body":"@elzozz Indeed, you have both `path.data` configured and `default.path.data` configured the same path (which differs from the default provided by the packaging). That explains why are you also impacted by this issue.","performed_via_github_app":null}]