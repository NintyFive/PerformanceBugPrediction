{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/27781","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27781/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27781/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27781/events","html_url":"https://github.com/elastic/elasticsearch/issues/27781","id":281432378,"node_id":"MDU6SXNzdWUyODE0MzIzNzg=","number":27781,"title":"NPE with _cat/indices, _cat/nodes, _cat/allocation with Elasticsearch 6.0.1 ","user":{"login":"louloupw22","id":34483621,"node_id":"MDQ6VXNlcjM0NDgzNjIx","avatar_url":"https://avatars2.githubusercontent.com/u/34483621?v=4","gravatar_id":"","url":"https://api.github.com/users/louloupw22","html_url":"https://github.com/louloupw22","followers_url":"https://api.github.com/users/louloupw22/followers","following_url":"https://api.github.com/users/louloupw22/following{/other_user}","gists_url":"https://api.github.com/users/louloupw22/gists{/gist_id}","starred_url":"https://api.github.com/users/louloupw22/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/louloupw22/subscriptions","organizations_url":"https://api.github.com/users/louloupw22/orgs","repos_url":"https://api.github.com/users/louloupw22/repos","events_url":"https://api.github.com/users/louloupw22/events{/privacy}","received_events_url":"https://api.github.com/users/louloupw22/received_events","type":"User","site_admin":false},"labels":[{"id":163824881,"node_id":"MDU6TGFiZWwxNjM4MjQ4ODE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Indices%20APIs","name":":Core/Features/Indices APIs","color":"0e8a16","default":false,"description":"APIs to create and manage indices"}],"state":"closed","locked":false,"assignee":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"assignees":[{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false}],"milestone":null,"comments":8,"created_at":"2017-12-12T15:46:24Z","updated_at":"2018-02-13T20:39:27Z","closed_at":"2017-12-12T16:35:40Z","author_association":"NONE","active_lock_reason":null,"body":"Hello, I have just migrated to elasticsearch 6.0.1 (I was using 5.6.5 before). I have some problem with cat API as when I :\r\n\r\n```\r\nGET /_cat/allocation?v\r\nGET /_cat/indices?v\r\nGET /_cat/nodes\r\n```\r\nI receive this message\r\n\r\n```\r\n{\r\n  \"error\": {\r\n    \"root_cause\": [\r\n      {\r\n        \"type\": \"null_pointer_exception\",\r\n        \"reason\": null\r\n      }\r\n    ],\r\n    \"type\": \"null_pointer_exception\",\r\n    \"reason\": null\r\n  },\r\n  \"status\": 500\r\n}\r\n```\r\nand also in powershell :\r\n\r\n```\r\n[WARN ][r.suppressed             ] path: /_cat/indices, params: {v=}\r\n        java.lang.NullPointerException: null\r\n        at org.elasticsearch.common.io.stream.StreamOutput.writeStringList(StreamOutput.java:949) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n                at org.elasticsearch.cluster.metadata.IndexTemplateMetaData.writeTo(IndexTemplateMetaData.java:248) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n                at org.elasticsearch.cluster.metadata.MetaData.writeTo(MetaData.java:695) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n                at org.elasticsearch.cluster.ClusterState.writeTo(ClusterState.java:686) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n                at org.elasticsearch.discovery.zen.PublishClusterStateAction.serializeFullClusterState(PublishClusterStateAction.java:351) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n                at org.elasticsearch.action.admin.cluster.state.TransportClusterStateAction.masterOperation(TransportClusterStateAction.java:136) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n                at org.elasticsearch.action.admin.cluster.state.TransportClusterStateAction.masterOperation(TransportClusterStateAction.java:44) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n                at org.elasticsearch.action.support.master.TransportMasterNodeAction.masterOperation(TransportMasterNodeAction.java:87) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n                at org.elasticsearch.action.support.master.TransportMasterNodeAction$AsyncSingleAction$2.doRun(TransportMasterNodeAction.java:166) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n                at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n                at org.elasticsearch.common.util.concurrent.EsExecutors$1.execute(EsExecutors.java:139) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n                at org.elasticsearch.action.support.master.TransportMasterNodeAction$AsyncSingleAction.doStart(TransportMasterNodeAction.java:163) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n                at org.elasticsearch.action.support.master.TransportMasterNodeAction$AsyncSingleAction.start(TransportMasterNodeAction.java:126) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n                at org.elasticsearch.action.support.master.TransportMasterNodeAction.doExecute(TransportMasterNodeAction.java:104) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n                at org.elasticsearch.action.support.master.TransportMasterNodeAction.doExecute(TransportMasterNodeAction.java:54) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n                at org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:167) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n                at org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:139) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n                at org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:81) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n                at org.elasticsearch.client.node.NodeClient.executeLocally(NodeClient.java:83) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n                at org.elasticsearch.client.node.NodeClient.doExecute(NodeClient.java:72) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n                at org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:405) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n                at org.elasticsearch.client.support.AbstractClient$ClusterAdmin.execute(AbstractClient.java:712) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n                at org.elasticsearch.client.support.AbstractClient$ClusterAdmin.state(AbstractClient.java:748) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n                at org.elasticsearch.rest.action.cat.RestIndicesAction.lambda$doCatRequest$0(RestIndicesAction.java:91) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n                at org.elasticsearch.rest.BaseRestHandler.handleRequest(BaseRestHandler.java:97) [elasticsearch-6.0.1.jar:6.0.1]\r\n                at org.elasticsearch.rest.RestController.dispatchRequest(RestController.java:240) [elasticsearch-6.0.1.jar:6.0.1]\r\n                at org.elasticsearch.rest.RestController.tryAllHandlers(RestController.java:336) [elasticsearch-6.0.1.jar:6.0.1]\r\n                at org.elasticsearch.rest.RestController.dispatchRequest(RestController.java:174) [elasticsearch-6.0.1.jar:6.0.1]\r\n                at org.elasticsearch.http.netty4.Netty4HttpServerTransport.dispatchRequest(Netty4HttpServerTransport.java:491) [transport-netty4-6.0.1.jar:6.0.1]\r\n                at org.elasticsearch.http.netty4.Netty4HttpRequestHandler.channelRead0(Netty4HttpRequestHandler.java:80) [transport-netty4-6.0.1.jar:6.0.1]\r\n```\r\n\r\nHowever I have a good answer when I ask GET _cat/recovery for example and index can also be retrieved.\r\n\r\nDoes anyone have an idea of the problem ?\r\nI have also opened a discussion [here ](https://discuss.elastic.co/t/problem-with-cat-indices-cat-nodes-cat-allocation-with-elasticsearch6-0-1/111370)\r\n\r\n\r\nThank you\r\n\r\n","closed_by":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"performed_via_github_app":null}