{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/54930","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54930/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54930/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54930/events","html_url":"https://github.com/elastic/elasticsearch/issues/54930","id":596185332,"node_id":"MDU6SXNzdWU1OTYxODUzMzI=","number":54930,"title":"Proposal for Introducing s390x and ppc64le Packages","user":{"login":"james-crowley","id":42618816,"node_id":"MDQ6VXNlcjQyNjE4ODE2","avatar_url":"https://avatars1.githubusercontent.com/u/42618816?v=4","gravatar_id":"","url":"https://api.github.com/users/james-crowley","html_url":"https://github.com/james-crowley","followers_url":"https://api.github.com/users/james-crowley/followers","following_url":"https://api.github.com/users/james-crowley/following{/other_user}","gists_url":"https://api.github.com/users/james-crowley/gists{/gist_id}","starred_url":"https://api.github.com/users/james-crowley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/james-crowley/subscriptions","organizations_url":"https://api.github.com/users/james-crowley/orgs","repos_url":"https://api.github.com/users/james-crowley/repos","events_url":"https://api.github.com/users/james-crowley/events{/privacy}","received_events_url":"https://api.github.com/users/james-crowley/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-04-07T22:18:47Z","updated_at":"2020-04-08T00:49:21Z","closed_at":"2020-04-08T00:49:21Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"I wanted to start a discussion about introducing packages for `s390x` and `ppc64le` architectures. \r\n\r\n\r\nI saw a couple of amazing PRs by @jasontedor, #53914, #53926, #53936, #54856, which outlined the process for adding a new architecture in this case it was `arm64`.\r\n\r\nFrom my brief scan of the changes @jasontedor made, it seems like the code is extendable to allow other architectures.\r\n\r\nhttps://github.com/elastic/elasticsearch/blob/3cd858c8dfc77f1c68b2dd2a0f5a8f4b6fffe393/buildSrc/src/main/java/org/elasticsearch/gradle/Jdk.java#L36\r\n\r\nHere we would need to append the additional architectures onto the list.\r\n\r\nhttps://github.com/elastic/elasticsearch/blob/3cd858c8dfc77f1c68b2dd2a0f5a8f4b6fffe393/buildSrc/src/main/java/org/elasticsearch/gradle/Architecture.java#L29-L35\r\n\r\nAlso, in this snippet we would need to add additional case statements for the additional architectures.\r\n\r\nThere are couple other key areas we would also need to change, but overall the changes @jasontedor made were very well done! \r\n\r\nMost of these changes stated above are currently how we are building `s390x` binaries to run internally and I would love to see them get merged. \r\n\r\nI have worked with a couple other open source communities to add support for `s390x` and `ppc64le`. One of the challenges communities face is access to `s390x` and `ppc64le` hardware, fortunately IBM does offer free resources for both platforms for open source communities. I am happy to assist the Elasticsearch team in getting setup with these resources, which you could pull into your own CI/CD pipelines.\r\n\r\nTagging a couple of elastic team members I saw helping out with the PRs mentioned above. @mark-vieira @pugnascotia\r\n","closed_by":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"performed_via_github_app":null}