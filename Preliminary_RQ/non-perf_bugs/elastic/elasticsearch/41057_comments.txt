[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/481618295","html_url":"https://github.com/elastic/elasticsearch/issues/41057#issuecomment-481618295","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41057","id":481618295,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTYxODI5NQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-04-10T09:38:22Z","updated_at":"2019-04-10T09:38:22Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-analytics-geo","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/481618305","html_url":"https://github.com/elastic/elasticsearch/issues/41057#issuecomment-481618305","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41057","id":481618305,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTYxODMwNQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-04-10T09:38:23Z","updated_at":"2019-04-10T09:38:23Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/481622056","html_url":"https://github.com/elastic/elasticsearch/issues/41057#issuecomment-481622056","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41057","id":481622056,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTYyMjA1Ng==","user":{"login":"iverase","id":29038686,"node_id":"MDQ6VXNlcjI5MDM4Njg2","avatar_url":"https://avatars1.githubusercontent.com/u/29038686?v=4","gravatar_id":"","url":"https://api.github.com/users/iverase","html_url":"https://github.com/iverase","followers_url":"https://api.github.com/users/iverase/followers","following_url":"https://api.github.com/users/iverase/following{/other_user}","gists_url":"https://api.github.com/users/iverase/gists{/gist_id}","starred_url":"https://api.github.com/users/iverase/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iverase/subscriptions","organizations_url":"https://api.github.com/users/iverase/orgs","repos_url":"https://api.github.com/users/iverase/repos","events_url":"https://api.github.com/users/iverase/events{/privacy}","received_events_url":"https://api.github.com/users/iverase/received_events","type":"User","site_admin":false},"created_at":"2019-04-10T09:49:04Z","updated_at":"2019-04-10T09:49:04Z","author_association":"CONTRIBUTOR","body":"@hendrikmuhs you might be interested in this issue.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/481623918","html_url":"https://github.com/elastic/elasticsearch/issues/41057#issuecomment-481623918","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41057","id":481623918,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTYyMzkxOA==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2019-04-10T09:54:31Z","updated_at":"2019-04-10T10:14:30Z","author_association":"CONTRIBUTOR","body":"Here's the sample jobs and build times for CentOS \r\n\r\n\r\nApril 10th 2019, 04:45:47.898 | 344.89 | https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+intake/3054/console\r\n| April 9th 2019, 21:28:46.165 | 340.88 | https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+intake/3043/console\r\n| April 9th 2019, 17:37:37.797 | 324.01 | https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+intake/3037/console\r\n| April 9th 2019, 16:03:52.234 | 335.65 | https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+intake/3036/console\r\n| April 8th 2019, 21:49:19.877 | 329.52 | https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+intake/3022/console\r\n| April 8th 2019, 21:37:43.808 | 329.08 | https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+intake/3021/console\r\n| April 8th 2019, 19:24:17.199 | 350.37 | https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+intake/3020/console\r\n| April 7th 2019, 00:25:38.841 | 291.46 | https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+intake/2988/console\r\n| April 5th 2019, 18:43:32.631 | 275.26 | https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+intake/2972/console\r\n| April 5th 2019, 15:28:06.225 | 304.67 | https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+intake/2969/console\r\n| April 5th 2019, 01:53:32.433 | 290.23 | https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+intake/2957/console\r\n| April 4th 2019, 22:17:38.099 | 275.46 | https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+intake/2956/console\r\n\r\n*3054* completed in  5h 47m  against 01369fb1766566e968c8f3ad73763202c80440e2 \r\nThe testing seed was `884069A787BC42`\r\nre-triggered the same commit with job Id [3​06​5](https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+intake/3065/)\r\n \r\n*2988* completed in 4h 54m against 51b9d5ee3a4bab5e3187f5be52f9b0d8184e7963\r\nre-triggered the same commit [3​06​6](https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+intake/3066/)\r\n[build scan](https://gradle.com/s/no6elhf7rvvqs) \r\n\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/481634098","html_url":"https://github.com/elastic/elasticsearch/issues/41057#issuecomment-481634098","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41057","id":481634098,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTYzNDA5OA==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2019-04-10T10:26:25Z","updated_at":"2019-04-10T10:26:51Z","author_association":"CONTRIBUTOR","body":"Looking at the build scans for the previous  jobs  being compared, it seems like the tasks that take longest are around the same, but everything takes just a bit longer in the long build.\r\n\r\n|task                                                                                           |   3054              |  2988|\r\n|--|--|--|\r\n:x-pack:plugin:ml:qa:native-multi-node-tests:integTestRunner   |  12m 13.772s  | 9m 13.543s\r\n:x-pack:plugin:ml:qa:ml-with-security:integTestRunner\t            |  11m 50.843s  |  6m 57.956s  \t \t                                                                            \r\n:build-tools:integTest\t                                                            |  8m 40.742s | 8m 18.708s\t \t \r\n:x-pack:plugin:integTestRunner                                                   |\t8m 32.027s | 6m 13.465s\t  \t \r\n:server:integTest\t                                                                    | 8m 10.357s | 6m 34.539s\t \t \r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/481662279","html_url":"https://github.com/elastic/elasticsearch/issues/41057#issuecomment-481662279","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41057","id":481662279,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTY2MjI3OQ==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2019-04-10T12:04:45Z","updated_at":"2019-04-10T13:27:56Z","author_association":"CONTRIBUTOR","body":"Running `./gradlew :x-pack:plugin:ml:qa:native-multi-node-tests:integTestRunner -Dtests.seed=884069A787BC42` on a warmed up Centos 7 CI worker image. \r\n\r\n```\r\nBUILD SUCCESSFUL in 12m 11s (vm1)\r\nBUILD SUCCESSFUL in 13m 12s (vm2)\r\nBUILD SUCCESSFUL in 11m 58s (vm1)\r\nBUILD SUCCESSFUL in 12m 18s (vm2)\r\n```\r\nThere seems to be some variance on the time it takes for the tests to run even when trying to control all aspects.\r\n\r\nRunning the same against 51b9d5e from 2988 to account for any changes in the code. \r\n```\r\nBUILD SUCCESSFUL in 14m 43s (vm1)\r\nBUILD SUCCESSFUL in 14m 10s (vm2)\r\n```\r\n\r\nStrangely it looks to take even longer when the expectation would have been for it to be faster on this commit.\r\n\r\n\r\nRunning again with java 8 as runtime this time:\r\n`./gradlew :x-pack:plugin:ml:qa:native-multi-node-tests:integTestRunner -Dtests.seed=884069A787BC42 -Druntime.java=8`\r\n```\r\nBUILD SUCCESSFUL in 10m 23s\r\nBUILD SUCCESSFUL in 9m 26s\r\nBUILD SUCCESSFUL in 10m 29s\r\nBUILD SUCCESSFUL in 10m 4s\r\n```\r\n\r\nDoes seem to get it around the time it initially ran in CI. \r\n\r\nrunning with java 11 : `./gradlew :x-pack:plugin:ml:qa:native-multi-node-tests:integTestRunner -Dtests.seed=884069A787BC42 -Druntime.java=11` against the same commit:\r\n```\r\nBUILD SUCCESSFUL in 12m 9s\r\nBUILD SUCCESSFUL in 11m 13s\r\n```\r\n\r\nrunning with java 10 : `./gradlew :x-pack:plugin:ml:qa:native-multi-node-tests:integTestRunner -Dtests.seed=884069A787BC42 -Druntime.java=10` against the same commit:\r\n```\r\nBUILD SUCCESSFUL in 12m 20s\r\nBUILD SUCCESSFUL in 11m 42s\r\n```\r\n\r\nrunning with java 9 : `./gradlew :x-pack:plugin:ml:qa:native-multi-node-tests:integTestRunner -Dtests.seed=884069A787BC42 -Druntime.java=9` against the same commit:\r\n```\r\nBUILD SUCCESSFUL in 11m 50s\r\nBUILD SUCCESSFUL in 10m 35s\r\n```\r\n\r\n\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/481674012","html_url":"https://github.com/elastic/elasticsearch/issues/41057#issuecomment-481674012","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41057","id":481674012,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTY3NDAxMg==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2019-04-10T12:41:02Z","updated_at":"2019-04-10T12:41:02Z","author_association":"CONTRIBUTOR","body":"Let's look at images as the next suspects running the same `./gradlew :x-pack:plugin:ml:qa:native-multi-node-tests:integTestRunner -Dtests.seed=884069A787BC42` command: \r\n - April 3d: \r\n     -  BUILD SUCCESSFUL in 13m 30s  \r\n     -  java 8: BUILD SUCCESSFUL in 13m 34s\r\n - April 6d: \r\n     - BUILD SUCCESSFUL in 13m 49s\r\n     - java 8: \r\n - April 7d:  \r\n     -  BUILD SUCCESSFUL in 13m 50s\r\n     - java 8: BUILD SUCCESSFUL in 13m 34s\r\n - April 8d: BUILD SUCCESSFUL in 14m 51s\r\n     - BUILD SUCCESSFUL in 12m 43s\r\n     - java 8: BUILD SUCCESSFUL in 13m 45s\r\n\r\nFrom here, it doesn't seem to be significant differences in the images nor to they seem influenced by the java version used.  \r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/481691308","html_url":"https://github.com/elastic/elasticsearch/issues/41057#issuecomment-481691308","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41057","id":481691308,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTY5MTMwOA==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2019-04-10T13:29:46Z","updated_at":"2019-04-10T13:29:46Z","author_association":"CONTRIBUTOR","body":"![Screenshot_2019-04-10_16-30-23](https://user-images.githubusercontent.com/2565652/55882693-a360a300-5bad-11e9-9fc6-a6449adb3452.png)\r\n\r\nLooking a bit further back at how much builds took, it seems that  in fact the previous few days were  the anomaly in that the build ran faster, and then it came back up. ","performed_via_github_app":null}]