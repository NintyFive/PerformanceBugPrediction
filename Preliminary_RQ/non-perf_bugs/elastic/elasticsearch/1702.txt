{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/1702","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1702/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1702/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1702/events","html_url":"https://github.com/elastic/elasticsearch/issues/1702","id":3231953,"node_id":"MDU6SXNzdWUzMjMxOTUz","number":1702,"title":"Retrieving byte type stored field fails","user":{"login":"marchh","id":1439298,"node_id":"MDQ6VXNlcjE0MzkyOTg=","avatar_url":"https://avatars3.githubusercontent.com/u/1439298?v=4","gravatar_id":"","url":"https://api.github.com/users/marchh","html_url":"https://github.com/marchh","followers_url":"https://api.github.com/users/marchh/followers","following_url":"https://api.github.com/users/marchh/following{/other_user}","gists_url":"https://api.github.com/users/marchh/gists{/gist_id}","starred_url":"https://api.github.com/users/marchh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marchh/subscriptions","organizations_url":"https://api.github.com/users/marchh/orgs","repos_url":"https://api.github.com/users/marchh/repos","events_url":"https://api.github.com/users/marchh/events{/privacy}","received_events_url":"https://api.github.com/users/marchh/received_events","type":"User","site_admin":false},"labels":[{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":230713,"node_id":"MDU6TGFiZWwyMzA3MTM=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v0.19.0.RC3","name":"v0.19.0.RC3","color":"DDDDDD","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2012-02-15T09:33:05Z","updated_at":"2012-02-15T13:28:09Z","closed_at":"2012-02-15T13:28:09Z","author_association":"NONE","active_lock_reason":null,"body":"If you write a single java.lang.Byte type via json, it can't be read back.\n\nThe following error occurs:\nFailed to execute phase [query_fetch], total failure; shardFailures {RemoteTransportException[[Spot][inet[/192.168.0.124:9300]][search/phase/query+fetch]]; nested: IOException[Can't write type [class java.lang.Byte]]; }\n## \n## The following code produces the error:\n\nIndex-Mapping (template)\n...\n \"ct\" : {\n                    \"type\" : \"byte\",\n                    \"store\" : \"yes\",\n                    \"index\" : \"no\"\n}\n## ...\n## Writing the document:\n\nXContentBuilder jsonB = jsonBuilder();\njsonB.startObject();\n...\njsonB.field(\"ct\", (byte)5);\njsonB.endObject();\n...\nes.getClient().prepareIndex(INDEX_DOCUMENTS, \"document\",uid).setSource(jsonB).execute().actionGet();\n\n---\n## Reading back:\n\nQueryBuilder b = QueryBuilders.queryString(str).defaultOperator(Operator.OR).allowLeadingWildcard(false).useDisMax(true); \nSearchRequestBuilder request = es.getClient().prepareSearch(INDEX_DOCUMENTS)\n                    .setSearchType(SearchType.DFS_QUERY_THEN_FETCH)\n                    .addFields(\"ct\")\n                    .setFrom(n).setSize(limit)\n                    .setQuery(b);\n","closed_by":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"performed_via_github_app":null}