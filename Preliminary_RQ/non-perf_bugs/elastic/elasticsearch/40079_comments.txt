[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/473179947","html_url":"https://github.com/elastic/elasticsearch/issues/40079#issuecomment-473179947","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40079","id":473179947,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MzE3OTk0Nw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-03-15T07:00:50Z","updated_at":"2019-03-15T07:00:50Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/512266072","html_url":"https://github.com/elastic/elasticsearch/issues/40079#issuecomment-512266072","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40079","id":512266072,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjI2NjA3Mg==","user":{"login":"benwtrent","id":4357155,"node_id":"MDQ6VXNlcjQzNTcxNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/4357155?v=4","gravatar_id":"","url":"https://api.github.com/users/benwtrent","html_url":"https://github.com/benwtrent","followers_url":"https://api.github.com/users/benwtrent/followers","following_url":"https://api.github.com/users/benwtrent/following{/other_user}","gists_url":"https://api.github.com/users/benwtrent/gists{/gist_id}","starred_url":"https://api.github.com/users/benwtrent/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benwtrent/subscriptions","organizations_url":"https://api.github.com/users/benwtrent/orgs","repos_url":"https://api.github.com/users/benwtrent/repos","events_url":"https://api.github.com/users/benwtrent/events{/privacy}","received_events_url":"https://api.github.com/users/benwtrent/received_events","type":"User","site_admin":false},"created_at":"2019-07-17T13:57:40Z","updated_at":"2019-07-17T13:57:40Z","author_association":"MEMBER","body":"Found a related hdfs repository error. Unsure if it is caused by the fix for this issue or not:\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.3+matrix-java-periodic/ES_BUILD_JAVA=openjdk12,ES_RUNTIME_JAVA=java8fips,nodes=general-purpose/28/console\r\n\r\nyaml hdfs repository test fail for the following reason:\r\n\r\n```\r\n[2019-07-17T12:03:42,641][INFO ][o.e.r.RepositoriesService] [integTest-0] put repository [test_snapshot_repository]\r\n[2019-07-17T12:03:42,708][WARN ][o.a.h.u.NativeCodeLoader ] [integTest-0] Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n[2019-07-17T12:03:43,215][WARN ][o.a.h.i.Client           ] [integTest-0] Failed to connect to server: localhost/127.0.0.1:9999: try once and fail.\r\njava.net.ConnectException: Connection refused\r\n\tat sun.nio.ch.SocketChannelImpl.checkConnect(Native Method) ~[?:?]\r\n\tat sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717) ~[?:?]\r\n\tat org.apache.hadoop.net.SocketIOWithTimeout.connect(SocketIOWithTimeout.java:206) ~[?:?]\r\n\tat org.apache.hadoop.net.NetUtils.connect(NetUtils.java:531) ~[?:?]\r\n\tat org.apache.hadoop.net.NetUtils.connect(NetUtils.java:495) ~[?:?]\r\n\tat org.apache.hadoop.ipc.Client$Connection.setupConnection(Client.java:681) ~[?:?]\r\n\tat org.apache.hadoop.ipc.Client$Connection.setupIOstreams(Client.java:777) ~[?:?]\r\n\tat org.apache.hadoop.ipc.Client$Connection.access$3500(Client.java:409) ~[?:?]\r\n\tat org.apache.hadoop.ipc.Client.getConnection(Client.java:1542) ~[?:?]\r\n\tat org.apache.hadoop.ipc.Client.call(Client.java:1373) ~[?:?]\r\n\tat org.apache.hadoop.ipc.Client.call(Client.java:1337) ~[?:?]\r\n\tat org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:227) ~[?:?]\r\n\tat org.apache.hadoop.ipc.ProtobufRpcEngine$Invoker.invoke(ProtobufRpcEngine.java:116) ~[?:?]\r\n\tat com.sun.proxy.$Proxy36.mkdirs(Unknown Source) ~[?:?]\r\n\tat org.apache.hadoop.hdfs.protocolPB.ClientNamenodeProtocolTranslatorPB.mkdirs(ClientNamenodeProtocolTranslatorPB.java:574) ~[?:?]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_212]\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler.invokeMethod(RetryInvocationHandler.java:398) ~[?:?]\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeMethod(RetryInvocationHandler.java:163) ~[?:?]\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invoke(RetryInvocationHandler.java:155) ~[?:?]\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler$Call.invokeOnce(RetryInvocationHandler.java:95) ~[?:?]\r\n\tat org.apache.hadoop.io.retry.RetryInvocationHandler.invoke(RetryInvocationHandler.java:335) ~[?:?]\r\n\tat com.sun.proxy.$Proxy37.mkdirs(Unknown Source) ~[?:?]\r\n\tat org.apache.hadoop.hdfs.DFSClient.primitiveMkdir(DFSClient.java:2525) ~[?:?]\r\n\tat org.apache.hadoop.fs.Hdfs.mkdir(Hdfs.java:311) ~[?:?]\r\n\tat org.apache.hadoop.fs.FileContext$4.next(FileContext.java:738) ~[?:?]\r\n\tat org.apache.hadoop.fs.FileContext$4.next(FileContext.java:734) ~[?:?]\r\n\tat org.apache.hadoop.fs.FSLinkResolver.resolve(FSLinkResolver.java:90) ~[?:?]\r\n\tat org.apache.hadoop.fs.FileContext.mkdir(FileContext.java:741) ~[?:?]\r\n\tat org.elasticsearch.repositories.hdfs.HdfsBlobStore.lambda$mkdirs$1(HdfsBlobStore.java:64) ~[?:?]\r\n\tat org.elasticsearch.repositories.hdfs.HdfsBlobStore.lambda$execute$2(HdfsBlobStore.java:114) ~[?:?]\r\n\tat java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_212]\r\n\tat java.security.AccessController.doPrivileged(AccessController.java:713) ~[?:1.8.0_212]\r\n\tat org.elasticsearch.repositories.hdfs.HdfsSecurityContext.doPrivilegedOrThrow(HdfsSecurityContext.java:142) ~[?:?]\r\n\tat org.elasticsearch.repositories.hdfs.HdfsBlobStore.execute(HdfsBlobStore.java:112) ~[?:?]\r\n\tat org.elasticsearch.repositories.hdfs.HdfsBlobStore.mkdirs(HdfsBlobStore.java:63) ~[?:?]\r\n\tat org.elasticsearch.repositories.hdfs.HdfsBlobStore.<init>(HdfsBlobStore.java:55) ~[?:?]\r\n\tat org.elasticsearch.repositories.hdfs.HdfsRepository.createBlobstore(HdfsRepository.java:144) ~[?:?]\r\n\tat org.elasticsearch.repositories.hdfs.HdfsRepository.lambda$createBlobStore$1(HdfsRepository.java:232) ~[?:?]\r\n\tat java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_212]\r\n\tat org.elasticsearch.repositories.hdfs.HdfsRepository.createBlobStore(HdfsRepository.java:231) ~[?:?]\r\n\tat org.elasticsearch.repositories.hdfs.HdfsRepository.createBlobStore(HdfsRepository.java:54) ~[?:?]\r\n\tat org.elasticsearch.repositories.blobstore.BlobStoreRepository.blobStore(BlobStoreRepository.java:338) ~[elasticsearch-7.3.0-SNAPSHOT.jar:7.3.0-SNAPSHOT]\r\n\tat org.elasticsearch.repositories.blobstore.BlobStoreRepository.startVerification(BlobStoreRepository.java:621) ~[elasticsearch-7.3.0-SNAPSHOT.jar:7.3.0-SNAPSHOT]\r\n\tat org.elasticsearch.repositories.RepositoriesService.lambda$verifyRepository$7(RepositoriesService.java:239) ~[elasticsearch-7.3.0-SNAPSHOT.jar:7.3.0-SNAPSHOT]\r\n\tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:688) [elasticsearch-7.3.0-SNAPSHOT.jar:7.3.0-SNAPSHOT]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_212]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_212]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_212]\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/512307449","html_url":"https://github.com/elastic/elasticsearch/issues/40079#issuecomment-512307449","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40079","id":512307449,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjMwNzQ0OQ==","user":{"login":"benwtrent","id":4357155,"node_id":"MDQ6VXNlcjQzNTcxNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/4357155?v=4","gravatar_id":"","url":"https://api.github.com/users/benwtrent","html_url":"https://github.com/benwtrent","followers_url":"https://api.github.com/users/benwtrent/followers","following_url":"https://api.github.com/users/benwtrent/following{/other_user}","gists_url":"https://api.github.com/users/benwtrent/gists{/gist_id}","starred_url":"https://api.github.com/users/benwtrent/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benwtrent/subscriptions","organizations_url":"https://api.github.com/users/benwtrent/orgs","repos_url":"https://api.github.com/users/benwtrent/repos","events_url":"https://api.github.com/users/benwtrent/events{/privacy}","received_events_url":"https://api.github.com/users/benwtrent/received_events","type":"User","site_admin":false},"created_at":"2019-07-17T15:12:22Z","updated_at":"2019-07-17T15:12:22Z","author_association":"MEMBER","body":"Another related failure with Fips + repository-hdfs, ever since the merge of the fix that disables the tests in fips, on 7.2 build have continually failed with the same reason:\r\n\r\n```\r\n:plugins:repository-hdfs:testingConventions FAILED\r\n--\r\nTest classes are not included in any enabled task (:plugins:repository-hdfs:test,:plugins:repository-hdfs:integTestRunner):\r\n* org.elasticsearch.repositories.hdfs.HaHdfsFailoverTestSuiteIT\r\n```\r\n\r\nAll of the failures are on the 7.2 branch in the matrix-java-periodic job with the following parameters \r\n\r\nES_BUILD_JAVA=openjdk12,\r\nES_RUNTIME_JAVA=java8fips,\r\nnodes=general-purpose\r\n\r\nAll the failures occur on some flavor of linux.\r\n\r\nExamples: \r\n* https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.2+matrix-java-periodic/ES_BUILD_JAVA=openjdk12,ES_RUNTIME_JAVA=java8fips,nodes=general-purpose/78/console\r\n* https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.2+matrix-java-periodic/ES_BUILD_JAVA=openjdk12,ES_RUNTIME_JAVA=java8fips,nodes=general-purpose/85/console\r\n* https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.2+matrix-java-periodic/ES_BUILD_JAVA=openjdk12,ES_RUNTIME_JAVA=java8fips,nodes=general-purpose/86/console","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/517355774","html_url":"https://github.com/elastic/elasticsearch/issues/40079#issuecomment-517355774","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40079","id":517355774,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNzM1NTc3NA==","user":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"created_at":"2019-08-01T16:13:34Z","updated_at":"2019-08-01T16:13:34Z","author_association":"CONTRIBUTOR","body":"resolved by #44283","performed_via_github_app":null}]