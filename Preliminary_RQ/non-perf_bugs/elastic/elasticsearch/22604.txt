{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/22604","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22604/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22604/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22604/events","html_url":"https://github.com/elastic/elasticsearch/issues/22604","id":200563436,"node_id":"MDU6SXNzdWUyMDA1NjM0MzY=","number":22604,"title":"Bootstrap failed","user":{"login":"tramchamploo","id":708349,"node_id":"MDQ6VXNlcjcwODM0OQ==","avatar_url":"https://avatars1.githubusercontent.com/u/708349?v=4","gravatar_id":"","url":"https://api.github.com/users/tramchamploo","html_url":"https://github.com/tramchamploo","followers_url":"https://api.github.com/users/tramchamploo/followers","following_url":"https://api.github.com/users/tramchamploo/following{/other_user}","gists_url":"https://api.github.com/users/tramchamploo/gists{/gist_id}","starred_url":"https://api.github.com/users/tramchamploo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tramchamploo/subscriptions","organizations_url":"https://api.github.com/users/tramchamploo/orgs","repos_url":"https://api.github.com/users/tramchamploo/repos","events_url":"https://api.github.com/users/tramchamploo/events{/privacy}","received_events_url":"https://api.github.com/users/tramchamploo/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-01-13T07:19:01Z","updated_at":"2017-01-13T08:05:40Z","closed_at":"2017-01-13T08:05:40Z","author_association":"NONE","active_lock_reason":null,"body":"**Elasticsearch version**:\r\n5.1.2\r\n**Plugins installed**: [none]\r\n\r\n**JVM version**:\r\nJVM[Oracle Corporation/Java HotSpot(TM) 64-Bit Server VM/1.8.0_65/25.65-b01\r\n**OS version**:\r\nOS[Linux/3.10.0-229.el7.x86_64/amd64]\r\n\r\nElasticsearch directory owner is user I logged in and not root. On my other machines, bootstrap is fine.\r\n```\r\n[2017-01-13T15:09:01,463][INFO ][o.e.p.PluginsService     ] [node-10.69.2.221] no plugins loaded\r\n[2017-01-13T15:09:03,737][INFO ][o.e.n.Node               ] [node-10.69.2.221] initialized\r\n[2017-01-13T15:09:03,737][INFO ][o.e.n.Node               ] [node-10.69.2.221] starting ...\r\n[2017-01-13T15:09:03,777][INFO ][i.n.u.i.PlatformDependent] Your platform does not provide complete low-level API for accessing direct buffers reliably. Unless explicitly requested, heap buffer will always be preferred to avoid potential system unstability.\r\n[2017-01-13T15:09:03,905][INFO ][o.e.t.TransportService   ] [node-10.69.2.221] publish_address {10.69.2.221:9300}, bound_addresses {10.69.2.221:9300}\r\n[2017-01-13T15:09:03,910][INFO ][o.e.b.BootstrapCheck     ] [node-10.69.2.221] bound or publishing to a non-loopback or non-link-local address, enforcing bootstrap checks\r\n[2017-01-13T15:09:03,913][ERROR][o.e.b.Bootstrap          ] [node-10.69.2.221] node validation exception\r\nbootstrap checks failed\r\ninitial heap size [260046848] not equal to maximum heap size [4152360960]; this can cause resize pauses and prevents mlockall from locking the entire heap\r\n[2017-01-13T15:09:03,916][INFO ][o.e.n.Node               ] [node-10.69.2.221] stopping ...\r\n\r\n\r\n\r\n2017-01-13 15:12:31,612 main ERROR Could not register mbeans java.security.AccessControlException: access denied (\"javax.management.MBeanTrustPermission\" \"register\")\r\n        at java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\r\n        at java.lang.SecurityManager.checkPermission(SecurityManager.java:585)\r\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.checkMBeanTrustPermission(DefaultMBeanServerInterceptor.java:1848)\r\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:322)\r\n        at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)\r\n        at org.apache.logging.log4j.core.jmx.Server.register(Server.java:389)\r\n        at org.apache.logging.log4j.core.jmx.Server.reregisterMBeansAfterReconfigure(Server.java:167)\r\n        at org.apache.logging.log4j.core.jmx.Server.reregisterMBeansAfterReconfigure(Server.java:140)\r\n        at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:541)\r\n        at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:258)\r\n        at org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:206)\r\n        at org.apache.logging.log4j.core.config.Configurator.initialize(Configurator.java:220)\r\n        at org.apache.logging.log4j.core.config.Configurator.initialize(Configurator.java:197)\r\n        at org.elasticsearch.common.logging.LogConfigurator.configureStatusLogger(LogConfigurator.java:125)\r\n        at org.elasticsearch.common.logging.LogConfigurator.configureWithoutConfig(LogConfigurator.java:67)\r\n        at org.elasticsearch.cli.Command.main(Command.java:85)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:89)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:82)\r\n\r\n\r\n2017-01-13 15:12:32,013 main ERROR Could not register mbeans java.security.AccessControlException: access denied (\"javax.management.MBeanTrustPermission\" \"register\")\r\n        at java.security.AccessControlContext.checkPermission(AccessControlContext.java:472)\r\n        at java.lang.SecurityManager.checkPermission(SecurityManager.java:585)\r\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.checkMBeanTrustPermission(DefaultMBeanServerInterceptor.java:1848)\r\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.registerMBean(DefaultMBeanServerInterceptor.java:322)\r\n        at com.sun.jmx.mbeanserver.JmxMBeanServer.registerMBean(JmxMBeanServer.java:522)\r\n        at org.apache.logging.log4j.core.jmx.Server.register(Server.java:389)\r\n        at org.apache.logging.log4j.core.jmx.Server.reregisterMBeansAfterReconfigure(Server.java:167)\r\n        at org.apache.logging.log4j.core.jmx.Server.reregisterMBeansAfterReconfigure(Server.java:140)\r\n        at org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:541)\r\n        at org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:258)\r\n        at org.elasticsearch.common.logging.LogConfigurator.configure(LogConfigurator.java:116)\r\n        at org.elasticsearch.common.logging.LogConfigurator.configure(LogConfigurator.java:83)\r\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:272)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:121)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:112)\r\n        at org.elasticsearch.cli.SettingCommand.execute(SettingCommand.java:54)\r\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:122)\r\n        at org.elasticsearch.cli.Command.main(Command.java:88)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:89)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:82)\r\n\r\n[2017-01-13T15:12:32,213][INFO ][o.e.n.Node               ] [node-10.69.2.221] initializing ...\r\n[2017-01-13T15:12:32,326][INFO ][o.e.e.NodeEnvironment    ] [node-10.69.2.221] using [1] data paths, mounts [[/data0 (/dev/sda7)]], net usable_space [83.3gb], net total_space [235.5gb], spins? [possibly], types [ext4]\r\n[2017-01-13T15:12:32,326][INFO ][o.e.e.NodeEnvironment    ] [node-10.69.2.221] heap size [3.4gb], compressed ordinary object pointers [true]\r\n[2017-01-13T15:12:32,327][INFO ][o.e.n.Node               ] [node-10.69.2.221] node name [node-10.69.2.221], node ID [Vhv-FpAbTla_8ehUSnrDQA]\r\n[2017-01-13T15:12:32,330][INFO ][o.e.n.Node               ] [node-10.69.2.221] version[5.1.2], pid[227827], build[c8c4c16/2017-01-11T20:18:39.146Z], OS[Linux/3.10.0-229.el7.x86_64/amd64], JVM[Oracle Corporation/Java HotSpot(TM) 64-Bit Server VM/1.8.0_65/25.65-b01]\r\n[2017-01-13T15:12:33,348][INFO ][o.e.p.PluginsService     ] [node-10.69.2.221] loaded module [aggs-matrix-stats]\r\n[2017-01-13T15:12:33,348][INFO ][o.e.p.PluginsService     ] [node-10.69.2.221] loaded module [ingest-common]\r\n[2017-01-13T15:12:33,348][INFO ][o.e.p.PluginsService     ] [node-10.69.2.221] loaded module [lang-expression]\r\n[2017-01-13T15:12:33,349][INFO ][o.e.p.PluginsService     ] [node-10.69.2.221] loaded module [lang-groovy]\r\n[2017-01-13T15:12:33,349][INFO ][o.e.p.PluginsService     ] [node-10.69.2.221] loaded module [lang-mustache]\r\n[2017-01-13T15:12:33,349][INFO ][o.e.p.PluginsService     ] [node-10.69.2.221] loaded module [lang-painless]\r\n[2017-01-13T15:12:33,349][INFO ][o.e.p.PluginsService     ] [node-10.69.2.221] loaded module [percolator]\r\n[2017-01-13T15:12:33,349][INFO ][o.e.p.PluginsService     ] [node-10.69.2.221] loaded module [reindex]\r\n[2017-01-13T15:12:33,349][INFO ][o.e.p.PluginsService     ] [node-10.69.2.221] loaded module [transport-netty3]\r\n[2017-01-13T15:12:33,349][INFO ][o.e.p.PluginsService     ] [node-10.69.2.221] loaded module [transport-netty4]\r\n[2017-01-13T15:12:33,350][INFO ][o.e.p.PluginsService     ] [node-10.69.2.221] no plugins loaded\r\n[2017-01-13T15:12:35,602][INFO ][o.e.n.Node               ] [node-10.69.2.221] initialized\r\n[2017-01-13T15:12:35,602][INFO ][o.e.n.Node               ] [node-10.69.2.221] starting ...\r\n[2017-01-13T15:12:35,641][INFO ][i.n.u.i.PlatformDependent] Your platform does not provide complete low-level API for accessing direct buffers reliably. Unless explicitly requested, heap buffer will always be preferred to avoid potential system unstability.\r\n[2017-01-13T15:12:35,770][INFO ][o.e.t.TransportService   ] [node-10.69.2.221] publish_address {10.69.2.221:9300}, bound_addresses {10.69.2.221:9300}\r\n[2017-01-13T15:12:35,776][INFO ][o.e.b.BootstrapCheck     ] [node-10.69.2.221] bound or publishing to a non-loopback or non-link-local address, enforcing bootstrap checks\r\n[2017-01-13T15:12:35,778][ERROR][o.e.b.Bootstrap          ] [node-10.69.2.221] node validation exception\r\nbootstrap checks failed\r\ninitial heap size [260046848] not equal to maximum heap size [4152360960]; this can cause resize pauses and prevents mlockall from locking the entire heap\r\n[2017-01-13T15:12:35,782][INFO ][o.e.n.Node               ] [node-10.69.2.221] stopping ...\r\n\r\nException: java.security.AccessControlException thrown from the UncaughtExceptionHandler in thread \"Thread-4\"\r\n```","closed_by":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"performed_via_github_app":null}