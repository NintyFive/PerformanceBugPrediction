[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/170376677","html_url":"https://github.com/elastic/elasticsearch/issues/15707#issuecomment-170376677","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15707","id":170376677,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MDM3NjY3Nw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-01-10T18:14:59Z","updated_at":"2016-01-10T18:14:59Z","author_association":"CONTRIBUTOR","body":"@colings86 could you take a look please?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/170501124","html_url":"https://github.com/elastic/elasticsearch/issues/15707#issuecomment-170501124","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15707","id":170501124,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MDUwMTEyNA==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2016-01-11T10:26:46Z","updated_at":"2016-01-11T10:26:46Z","author_association":"MEMBER","body":"This is a quirk of the percentiles and percentile_ranks aggregations. The underlying algorithms that calculates the percentile values (TDigest and HDRHistogram) do this by storing a histogram which can be queried for any value, not just the values asked for in the request. The `metricname` in the buckets_path is passed directly to the algorithm to return a result so the buckets_path will get a result for any percentile value (between 0 and 100). I guess this is technically a bug but IMO its not a bug that really causes any harm (hence why I called it a quirk at the start of this comment) so I am wary of adding in extra code to protect against something that doesn't really cause a problem (maybe others have a different view on this?). \n\nIncidently, to access percentile values with a dot in them (e.g. 99.9th percentile) you can use square bracket notation like this:\n\n```\n\"buckets_path\" : \"pcttime[99.9]\",\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/171140364","html_url":"https://github.com/elastic/elasticsearch/issues/15707#issuecomment-171140364","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15707","id":171140364,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MTE0MDM2NA==","user":{"login":"chenryn","id":1219655,"node_id":"MDQ6VXNlcjEyMTk2NTU=","avatar_url":"https://avatars3.githubusercontent.com/u/1219655?v=4","gravatar_id":"","url":"https://api.github.com/users/chenryn","html_url":"https://github.com/chenryn","followers_url":"https://api.github.com/users/chenryn/followers","following_url":"https://api.github.com/users/chenryn/following{/other_user}","gists_url":"https://api.github.com/users/chenryn/gists{/gist_id}","starred_url":"https://api.github.com/users/chenryn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenryn/subscriptions","organizations_url":"https://api.github.com/users/chenryn/orgs","repos_url":"https://api.github.com/users/chenryn/repos","events_url":"https://api.github.com/users/chenryn/events{/privacy}","received_events_url":"https://api.github.com/users/chenryn/received_events","type":"User","site_admin":false},"created_at":"2016-01-13T02:45:59Z","updated_at":"2016-01-13T02:45:59Z","author_association":"NONE","body":"Thank you, and I think it's a good hidden feature for percentiles and percentile_ranks aggregations.\nMaybe more good if describe the percentiles feature and square bracket style of `bucket_path` in doc.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/190619028","html_url":"https://github.com/elastic/elasticsearch/issues/15707#issuecomment-190619028","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15707","id":190619028,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MDYxOTAyOA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-03-01T08:55:44Z","updated_at":"2016-03-01T08:55:44Z","author_association":"CONTRIBUTOR","body":"Documentation about the alternate buckets_path syntax has been added.  Closing\n","performed_via_github_app":null}]