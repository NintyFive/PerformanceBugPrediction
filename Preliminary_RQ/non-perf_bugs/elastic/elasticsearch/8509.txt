{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/8509","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8509/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8509/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8509/events","html_url":"https://github.com/elastic/elasticsearch/issues/8509","id":49119157,"node_id":"MDU6SXNzdWU0OTExOTE1Nw==","number":8509,"title":"[CI Failure] MinimumMasterNodesTests.multipleNodesShutdownNonMasterNodes","user":{"login":"stormpython","id":3149785,"node_id":"MDQ6VXNlcjMxNDk3ODU=","avatar_url":"https://avatars0.githubusercontent.com/u/3149785?v=4","gravatar_id":"","url":"https://api.github.com/users/stormpython","html_url":"https://github.com/stormpython","followers_url":"https://api.github.com/users/stormpython/followers","following_url":"https://api.github.com/users/stormpython/following{/other_user}","gists_url":"https://api.github.com/users/stormpython/gists{/gist_id}","starred_url":"https://api.github.com/users/stormpython/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stormpython/subscriptions","organizations_url":"https://api.github.com/users/stormpython/orgs","repos_url":"https://api.github.com/users/stormpython/repos","events_url":"https://api.github.com/users/stormpython/events{/privacy}","received_events_url":"https://api.github.com/users/stormpython/received_events","type":"User","site_admin":false},"labels":[{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2014-11-17T17:21:50Z","updated_at":"2014-11-21T23:06:25Z","closed_at":"2014-11-21T23:06:25Z","author_association":"NONE","active_lock_reason":null,"body":"http://build-us-1.elasticsearch.org/job/es_core_1x_small/967/\n\n``` java\njava.lang.RuntimeException: MockDirectoryWrapper: cannot close: there are still open files: {_0.cfs=1, _1.cfs=1}\n    at __randomizedtesting.SeedInfo.seed([400BD79F07D4ECE4:C685D546BE64EF40]:0)\n    at org.apache.lucene.store.MockDirectoryWrapper.close(MockDirectoryWrapper.java:701)\n    at org.elasticsearch.test.store.MockDirectoryHelper$ElasticsearchMockDirectoryWrapper.close(MockDirectoryHelper.java:140)\n    at org.elasticsearch.test.hamcrest.ElasticsearchAssertions.assertAllFilesClosed(ElasticsearchAssertions.java:675)\n    at org.elasticsearch.test.TestCluster.assertAfterTest(TestCluster.java:85)\n    at org.elasticsearch.test.InternalTestCluster.assertAfterTest(InternalTestCluster.java:1672)\n    at org.elasticsearch.test.ElasticsearchIntegrationTest.afterInternal(ElasticsearchIntegrationTest.java:617)\n    at org.elasticsearch.test.ElasticsearchIntegrationTest.after(ElasticsearchIntegrationTest.java:1788)\n    at sun.reflect.GeneratedMethodAccessor39.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1618)\n    at com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:885)\n    at org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:50)\n    at org.apache.lucene.util.TestRuleFieldCacheSanity$1.evaluate(TestRuleFieldCacheSanity.java:51)\n    at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:46)\n    at com.carrotsearch.randomizedtesting.rules.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:55)\n    at org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:49)\n    at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:65)\n    at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:48)\n    at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n    at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:365)\n    at com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:798)\n    at com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:458)\n    at com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:836)\n    at com.carrotsearch.randomizedtesting.RandomizedRunner$3.evaluate(RandomizedRunner.java:738)\n    at com.carrotsearch.randomizedtesting.RandomizedRunner$4.evaluate(RandomizedRunner.java:772)\n    at com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:783)\n    at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:46)\n    at org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:42)\n    at com.carrotsearch.randomizedtesting.rules.SystemPropertiesInvariantRule$1.evaluate(SystemPropertiesInvariantRule.java:55)\n    at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:39)\n    at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:39)\n    at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n    at org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:54)\n    at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:48)\n    at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:65)\n    at org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:55)\n    at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n    at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:365)\n    at java.lang.Thread.run(Thread.java:744)\nCaused by: java.lang.RuntimeException: unclosed IndexInput: _0.cfs\n    at org.apache.lucene.store.MockDirectoryWrapper.addFileHandle(MockDirectoryWrapper.java:585)\n    at org.apache.lucene.store.MockDirectoryWrapper.openInput(MockDirectoryWrapper.java:629)\n    at org.apache.lucene.store.FilterDirectory.openInput(FilterDirectory.java:80)\n    at org.elasticsearch.index.store.Store$StoreDirectory.openInput(Store.java:566)\n    at org.apache.lucene.store.CompoundFileDirectory.<init>(CompoundFileDirectory.java:104)\n    at org.apache.lucene.index.SegmentCoreReaders.<init>(SegmentCoreReaders.java:108)\n    at org.apache.lucene.index.SegmentReader.<init>(SegmentReader.java:108)\n    at org.apache.lucene.index.ReadersAndUpdates.getReader(ReadersAndUpdates.java:145)\n    at org.apache.lucene.index.ReadersAndUpdates.getReadOnlyClone(ReadersAndUpdates.java:239)\n    at org.apache.lucene.index.StandardDirectoryReader.open(StandardDirectoryReader.java:104)\n    at org.apache.lucene.index.IndexWriter.getReader(IndexWriter.java:422)\n    at org.apache.lucene.index.DirectoryReader.open(DirectoryReader.java:112)\n    at org.apache.lucene.search.SearcherManager.<init>(SearcherManager.java:89)\n    at org.elasticsearch.index.engine.internal.InternalEngine.buildSearchManager(InternalEngine.java:1535)\n    at org.elasticsearch.index.engine.internal.InternalEngine.start(InternalEngine.java:309)\n    at org.elasticsearch.index.shard.service.InternalIndexShard.performRecoveryPrepareForTranslog(InternalIndexShard.java:733)\n    at org.elasticsearch.indices.recovery.RecoveryTarget$PrepareForTranslogOperationsRequestHandler.messageReceived(RecoveryTarget.java:271)\n    at org.elasticsearch.indices.recovery.RecoveryTarget$PrepareForTranslogOperationsRequestHandler.messageReceived(RecoveryTarget.java:255)\n    at org.elasticsearch.transport.netty.MessageChannelHandler$RequestHandler.doRun(MessageChannelHandler.java:274)\n    at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:36)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    ... 1 more\n```\n","closed_by":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"performed_via_github_app":null}