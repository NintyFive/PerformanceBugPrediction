[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/392028092","html_url":"https://github.com/elastic/elasticsearch/issues/30807#issuecomment-392028092","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30807","id":392028092,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjAyODA5Mg==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2018-05-25T11:44:40Z","updated_at":"2018-05-25T11:44:40Z","author_association":"CONTRIBUTOR","body":"This is still failing on the master branch with a similar, but not identical, error.\r\n\r\nFor example, in https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+intake/1976/consoleText we have:\r\n\r\n```\r\n  1> [2018-05-25T21:23:17,142][INFO ][o.e.b.MixedClusterClientYamlTestSuiteIT] Stash dump on test failure [{\r\n  1>   \"stash\" : {\r\n  1>     \"body\" : {\r\n  1>       \"error\" : {\r\n  1>         \"root_cause\" : [\r\n  1>           {\r\n  1>             \"type\" : \"transport_serialization_exception\",\r\n  1>             \"reason\" : \"Failed to deserialize response from handler [org.elasticsearch.transport.TransportService$ContextRestoreResponseHandler]\",\r\n  1>             \"stack_trace\" : \"TransportSerializationException[Failed to deserialize response from handler [org.elasticsearch.transport.TransportService$ContextRestoreResponseHandler]]; nested: EOFException[tried to read: 111 bytes but only 43 remaining];\r\n  1> \tat org.elasticsearch.transport.TcpTransport.handleResponse(TcpTransport.java:1502)\r\n  1> \tat org.elasticsearch.transport.TcpTransport.messageReceived(TcpTransport.java:1461)\r\n  1> \tat org.elasticsearch.transport.netty4.Netty4MessageChannelHandler.channelRead(Netty4MessageChannelHandler.java:63)\r\n  1> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n  1> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n  1> \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n  1> \tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310)\r\n  1> \tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:297)\r\n  1> \tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:413)\r\n  1> \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:265)\r\n  1> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n  1> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n  1> \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n  1> \tat io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:241)\r\n  1> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n  1> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n  1> \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340)\r\n  1> \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1359)\r\n  1> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362)\r\n  1> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348)\r\n  1> \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:935)\r\n  1> \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:134)\r\n  1> \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:645)\r\n  1> \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:545)\r\n  1> \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:499)\r\n  1> \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:459)\r\n  1> \tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:858)\r\n  1> \tat java.base/java.lang.Thread.run(Thread.java:844)\r\n  1> Caused by: java.io.EOFException: tried to read: 111 bytes but only 43 remaining\r\n  1> \tat org.elasticsearch.transport.netty4.ByteBufStreamInput.ensureCanReadBytes(ByteBufStreamInput.java:75)\r\n  1> \tat org.elasticsearch.common.io.stream.FilterStreamInput.ensureCanReadBytes(FilterStreamInput.java:80)\r\n  1> \tat org.elasticsearch.common.io.stream.StreamInput.readArraySize(StreamInput.java:1005)\r\n  1> \tat org.elasticsearch.common.io.stream.StreamInput.readString(StreamInput.java:373)\r\n  1> \tat org.elasticsearch.cluster.node.DiscoveryNode.<init>(DiscoveryNode.java:221)\r\n  1> \tat org.elasticsearch.common.io.stream.StreamInput.readList(StreamInput.java:938)\r\n  1> \tat org.elasticsearch.action.admin.cluster.repositories.verify.VerifyRepositoryResponse.readFrom(VerifyRepositoryResponse.java:147)\r\n  1> \tat org.elasticsearch.transport.TransportResponseHandler.read(TransportResponseHandler.java:47)\r\n  1> \tat org.elasticsearch.transport.TransportService$ContextRestoreResponseHandler.read(TransportService.java:1082)\r\n  1> \tat org.elasticsearch.transport.TcpTransport.handleResponse(TcpTransport.java:1498)\r\n  1> \t... 27 more\r\n  1> \"\r\n  1>           }\r\n  1>         ],\r\n```\r\n\r\nI will re-mute the test.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/392031780","html_url":"https://github.com/elastic/elasticsearch/issues/30807#issuecomment-392031780","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30807","id":392031780,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjAzMTc4MA==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2018-05-25T12:01:17Z","updated_at":"2018-05-25T12:01:17Z","author_association":"CONTRIBUTOR","body":"I suspect the problem is that the master branch says the oldest version that has a `nodes` member in `VerifyRepositoryResponse` is 7.0.0-alpha1, but the 6.x branch says it is 6.4.0.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/392033422","html_url":"https://github.com/elastic/elasticsearch/issues/30807#issuecomment-392033422","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30807","id":392033422,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjAzMzQyMg==","user":{"login":"hub-cap","id":613352,"node_id":"MDQ6VXNlcjYxMzM1Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/613352?v=4","gravatar_id":"","url":"https://api.github.com/users/hub-cap","html_url":"https://github.com/hub-cap","followers_url":"https://api.github.com/users/hub-cap/followers","following_url":"https://api.github.com/users/hub-cap/following{/other_user}","gists_url":"https://api.github.com/users/hub-cap/gists{/gist_id}","starred_url":"https://api.github.com/users/hub-cap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hub-cap/subscriptions","organizations_url":"https://api.github.com/users/hub-cap/orgs","repos_url":"https://api.github.com/users/hub-cap/repos","events_url":"https://api.github.com/users/hub-cap/events{/privacy}","received_events_url":"https://api.github.com/users/hub-cap/received_events","type":"User","site_admin":false},"created_at":"2018-05-25T12:09:04Z","updated_at":"2018-05-25T12:09:04Z","author_association":"CONTRIBUTOR","body":"yea, i have an open PR to fix this, but it kept failing due to flaky tests... #30796 its waiting *again* for another CI run to pass, keep yer fingers crossed this time!","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/392033512","html_url":"https://github.com/elastic/elasticsearch/issues/30807#issuecomment-392033512","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30807","id":392033512,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjAzMzUxMg==","user":{"login":"hub-cap","id":613352,"node_id":"MDQ6VXNlcjYxMzM1Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/613352?v=4","gravatar_id":"","url":"https://api.github.com/users/hub-cap","html_url":"https://github.com/hub-cap","followers_url":"https://api.github.com/users/hub-cap/followers","following_url":"https://api.github.com/users/hub-cap/following{/other_user}","gists_url":"https://api.github.com/users/hub-cap/gists{/gist_id}","starred_url":"https://api.github.com/users/hub-cap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hub-cap/subscriptions","organizations_url":"https://api.github.com/users/hub-cap/orgs","repos_url":"https://api.github.com/users/hub-cap/repos","events_url":"https://api.github.com/users/hub-cap/events{/privacy}","received_events_url":"https://api.github.com/users/hub-cap/received_events","type":"User","site_admin":false},"created_at":"2018-05-25T12:09:30Z","updated_at":"2018-05-25T12:09:30Z","author_association":"CONTRIBUTOR","body":"in hindsight i should have just left the test muted until all this went in.","performed_via_github_app":null}]