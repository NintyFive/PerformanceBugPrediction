{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/22390","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22390/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22390/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22390/events","html_url":"https://github.com/elastic/elasticsearch/issues/22390","id":198154726,"node_id":"MDU6SXNzdWUxOTgxNTQ3MjY=","number":22390,"title":"Let's talk about HTTP testing with assertions enabled","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"labels":[{"id":442465389,"node_id":"MDU6TGFiZWw0NDI0NjUzODk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Pretty%20Bloody%20Important","name":"Pretty Bloody Important","color":"d93f0b","default":false,"description":null},{"id":92913658,"node_id":"MDU6TGFiZWw5MjkxMzY1OA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/blocker","name":"blocker","color":"e11d21","default":false,"description":null},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-12-30T14:39:31Z","updated_at":"2017-01-24T11:15:05Z","closed_at":"2017-01-04T17:16:52Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"For better or worse Elasticsearch uses assertions to detect bugs. The vast, vast majority if users run with them disabled because that is the default and they have a performance overhead. Sometimes it is a non-trivial performance overhead. Anyway, we recently turned assertions on during out HTTP tests (#22334) and they caught a few bugs, some of them we're quite glad it caught. We think there is value in running the assertions during testing. We wrote them to catch bugs, after all. But we also think there is value in the HTTP testing being as true to production settings as possible and running with assertions enabled obviously doesn't do that.\r\n\r\nSo this issue is to discuss striking a balance.","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}