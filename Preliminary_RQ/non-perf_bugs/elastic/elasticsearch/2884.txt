{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/2884","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2884/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2884/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2884/events","html_url":"https://github.com/elastic/elasticsearch/issues/2884","id":13063573,"node_id":"MDU6SXNzdWUxMzA2MzU3Mw==","number":2884,"title":"401 Unauthorized - issues in implementing elasticsearch-jetty plugin","user":{"login":"sunilb128","id":4125499,"node_id":"MDQ6VXNlcjQxMjU0OTk=","avatar_url":"https://avatars3.githubusercontent.com/u/4125499?v=4","gravatar_id":"","url":"https://api.github.com/users/sunilb128","html_url":"https://github.com/sunilb128","followers_url":"https://api.github.com/users/sunilb128/followers","following_url":"https://api.github.com/users/sunilb128/following{/other_user}","gists_url":"https://api.github.com/users/sunilb128/gists{/gist_id}","starred_url":"https://api.github.com/users/sunilb128/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunilb128/subscriptions","organizations_url":"https://api.github.com/users/sunilb128/orgs","repos_url":"https://api.github.com/users/sunilb128/repos","events_url":"https://api.github.com/users/sunilb128/events{/privacy}","received_events_url":"https://api.github.com/users/sunilb128/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2013-04-11T11:46:01Z","updated_at":"2013-04-11T12:15:59Z","closed_at":"2013-04-11T12:15:59Z","author_association":"NONE","active_lock_reason":null,"body":"Hi All, \n\nMy Requirement: Secure authentication on Elasticsearch\n\nWork Done: \n\nOn Ubuntu 12.04.1 LTS \nfollowing items installed and configured:\nJetty Plugin    0.20.1\nElasticsearch   0.20.2\nJetty           8.1.4.v20120524 \nas per direction given at https://github.com/sonian/elasticsearch-jetty\n[I HAVE TRIED LATEST AND EVEN OLDER Combinations of these 3 items as well]\n\nAll installation was successful and I was able to restrict XPUT/XDELETE operation with authentication, but EVEN WHEN I AM PROVIDING correct USERNAME:PASSWORD as below: \ncurl -u admin:Passw0rd -X PUT 'http://localhost:9200/index'\nit gives error:\n401 Unauthorized .....\n\nPlease help if I miss something.\n\nThanks in advance,\nsunilb\n\n---\n\nFollowing are the detail of steps done by me:\n## 1st Step\n\nUbuntu 12.04 â€“ Install Jetty 7\n\nThis article will show you how to install Jetty 7 on Ubuntu 12.04. Perform all steps as root.\n\nJetty requires Java. Install Java first, I prefer openjdk instead of oracle jdk, but it should work both.\n\napt-get install openjdk-7-jdk\n\nCreate a symlink for easier reference from jetty\n\nmkdir /usr/java\nln -s /usr/lib/jvm/java-7-openjdk-amd64 /usr/java/default\n\nGo to the opt directory\n\ncd /opt\n\nDownload the latest Jetty distribution (7.x).\n\nwget \"http://eclipse.org/downloads/download.php?file=/jetty/stable-7/dist/jetty-distribution-8.1.4.v20120524.tar.gz&r=1\"\nmv download.php\\?file\\=%2Fjetty%2Fstable-7%2Fdist%2Fjetty-distribution-8.1.4.v20120524.tar.gz&r\\=1  jetty-distribution-8.1.4.v20120524.tar.gz\n\nUnpack the archive\n\ntar -xvf jetty-distribution-8.1.4.v20120524.tar.gz\nmv jetty-distribution-8.1.4.v20120524 jetty\n\nCreate jetty user and make it the owner of /opt/jetty\n\nuseradd jetty -U -s /bin/false\nchown -R jetty:jetty /opt/jetty\n\nCopy Jetty script to run as service\n\ncp /opt/jetty/bin/jetty.sh /etc/init.d/jetty\n\nCreate the settings file /etc/default/jetty\n\nnano /etc/default/jetty\n\nand paste the following in it\n\nJAVA_HOME=/usr/java/default # Path to Java\nNO_START=0 # Start on boot\nJETTY_HOST=0.0.0.0 # Listen to all hosts\nJETTY_PORT=8085 # Run on this port\nJETTY_USER=jetty # Run as this user\n\nStart Jetty as service\n\nservice jetty start\n\nIt should now be running on port 8085! Visit in your browser http://example.com:8085 and you should see a Jetty screen.\nRemove the unsecure test and async-rest application:\n\ncd /opt/jetty/webapps\nrm -rf test.d/ test.war test.xml async-rest.war\n## 2nd STEP\n\nINSTALL ELASTIC SEARCH\nwget https://download.elasticsearch.org/elasticsearch/elasticsearch/elasticsearch-0.20.6.deb\nsudo dpkg -i elasticsearch-0.20.6.deb\nsudo service elasticsearch start\n## 3rd Step\n\nInstall curl on linux machine\napt-get install curl\n## 4th step\n\nInstall https://github.com/sonian/elasticsearch-jetty as per given instructions\n","closed_by":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"performed_via_github_app":null}