[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/673444644","html_url":"https://github.com/elastic/elasticsearch/issues/61090#issuecomment-673444644","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61090","id":673444644,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzQ0NDY0NA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-08-13T12:20:39Z","updated_at":"2020-08-13T12:20:39Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-security (:Security/Authentication)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/678046555","html_url":"https://github.com/elastic/elasticsearch/issues/61090#issuecomment-678046555","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61090","id":678046555,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODA0NjU1NQ==","user":{"login":"ywangd","id":2344308,"node_id":"MDQ6VXNlcjIzNDQzMDg=","avatar_url":"https://avatars3.githubusercontent.com/u/2344308?v=4","gravatar_id":"","url":"https://api.github.com/users/ywangd","html_url":"https://github.com/ywangd","followers_url":"https://api.github.com/users/ywangd/followers","following_url":"https://api.github.com/users/ywangd/following{/other_user}","gists_url":"https://api.github.com/users/ywangd/gists{/gist_id}","starred_url":"https://api.github.com/users/ywangd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywangd/subscriptions","organizations_url":"https://api.github.com/users/ywangd/orgs","repos_url":"https://api.github.com/users/ywangd/repos","events_url":"https://api.github.com/users/ywangd/events{/privacy}","received_events_url":"https://api.github.com/users/ywangd/received_events","type":"User","site_admin":false},"created_at":"2020-08-21T05:28:54Z","updated_at":"2020-08-21T05:28:54Z","author_association":"MEMBER","body":"In fact, it does not matter whether anonymous access is enabled or not. If no authentication token can be extracted (which could be due to unlicensed realms), nothing is logged. User will see either authentication rejected or falling back to anonymous user depending on whether anonymous access is enabled or not. But server side does not log any warnings about unlicensed realms.\r\n\r\nThe unlicensed realms are only logged when the user lookup returns `null`. Being able to perform user lookup (regardless whether the lookup result) requires a non-null authentication token. In another word, once a token is extracted, we have warnings about unlicensed realms. But we also need the same warnings if no token can be extracted.","performed_via_github_app":null}]