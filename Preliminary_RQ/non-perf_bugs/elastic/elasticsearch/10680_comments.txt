[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/95516562","html_url":"https://github.com/elastic/elasticsearch/issues/10680#issuecomment-95516562","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10680","id":95516562,"node_id":"MDEyOklzc3VlQ29tbWVudDk1NTE2NTYy","user":{"login":"saimonmoore","id":494,"node_id":"MDQ6VXNlcjQ5NA==","avatar_url":"https://avatars3.githubusercontent.com/u/494?v=4","gravatar_id":"","url":"https://api.github.com/users/saimonmoore","html_url":"https://github.com/saimonmoore","followers_url":"https://api.github.com/users/saimonmoore/followers","following_url":"https://api.github.com/users/saimonmoore/following{/other_user}","gists_url":"https://api.github.com/users/saimonmoore/gists{/gist_id}","starred_url":"https://api.github.com/users/saimonmoore/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saimonmoore/subscriptions","organizations_url":"https://api.github.com/users/saimonmoore/orgs","repos_url":"https://api.github.com/users/saimonmoore/repos","events_url":"https://api.github.com/users/saimonmoore/events{/privacy}","received_events_url":"https://api.github.com/users/saimonmoore/received_events","type":"User","site_admin":false},"created_at":"2015-04-23T09:50:43Z","updated_at":"2015-04-23T09:50:43Z","author_association":"NONE","body":"yeah this happened to me too. Would like to know too.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/95570984","html_url":"https://github.com/elastic/elasticsearch/issues/10680#issuecomment-95570984","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10680","id":95570984,"node_id":"MDEyOklzc3VlQ29tbWVudDk1NTcwOTg0","user":{"login":"ivanilves","id":9897741,"node_id":"MDQ6VXNlcjk4OTc3NDE=","avatar_url":"https://avatars0.githubusercontent.com/u/9897741?v=4","gravatar_id":"","url":"https://api.github.com/users/ivanilves","html_url":"https://github.com/ivanilves","followers_url":"https://api.github.com/users/ivanilves/followers","following_url":"https://api.github.com/users/ivanilves/following{/other_user}","gists_url":"https://api.github.com/users/ivanilves/gists{/gist_id}","starred_url":"https://api.github.com/users/ivanilves/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivanilves/subscriptions","organizations_url":"https://api.github.com/users/ivanilves/orgs","repos_url":"https://api.github.com/users/ivanilves/repos","events_url":"https://api.github.com/users/ivanilves/events{/privacy}","received_events_url":"https://api.github.com/users/ivanilves/received_events","type":"User","site_admin":false},"created_at":"2015-04-23T12:34:29Z","updated_at":"2015-04-23T12:34:29Z","author_association":"NONE","body":"Confirm it happened to me too. Would like to have configurable **shard_close_timeout** or something...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/96245468","html_url":"https://github.com/elastic/elasticsearch/issues/10680#issuecomment-96245468","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10680","id":96245468,"node_id":"MDEyOklzc3VlQ29tbWVudDk2MjQ1NDY4","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-04-25T17:46:35Z","updated_at":"2015-04-25T17:46:35Z","author_association":"CONTRIBUTOR","body":"@tlrx do we force shutdown of ES nodes from the init scripts? I thought we'd removed that?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/96245630","html_url":"https://github.com/elastic/elasticsearch/issues/10680#issuecomment-96245630","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10680","id":96245630,"node_id":"MDEyOklzc3VlQ29tbWVudDk2MjQ1NjMw","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-04-25T17:48:06Z","updated_at":"2015-04-25T17:48:06Z","author_association":"CONTRIBUTOR","body":"Oh, it's not in the init script...\n\n@s1monw what do you think about this?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/96250446","html_url":"https://github.com/elastic/elasticsearch/issues/10680#issuecomment-96250446","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10680","id":96250446,"node_id":"MDEyOklzc3VlQ29tbWVudDk2MjUwNDQ2","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2015-04-25T18:08:50Z","updated_at":"2015-04-25T18:08:50Z","author_association":"MEMBER","body":"> @tlrx do we force shutdown of ES nodes from the init scripts? I thought we'd removed that?\n\nWe force shutdown by killing process after ~20 sec (see [here for RPM](https://github.com/elastic/elasticsearch/blob/master/src/packaging/rpm/init.d/elasticsearch#L113) and [here for DEB](https://github.com/elastic/elasticsearch/blob/master/src/packaging/deb/init.d/elasticsearch#L189)). I don't remind we decided to remove this for elasticsearch.\n\nI'm not familiar with the IndicesService class but I find those 30 sec a bit strange.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/96413460","html_url":"https://github.com/elastic/elasticsearch/issues/10680#issuecomment-96413460","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10680","id":96413460,"node_id":"MDEyOklzc3VlQ29tbWVudDk2NDEzNDYw","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-04-26T17:51:16Z","updated_at":"2015-04-26T17:51:16Z","author_association":"CONTRIBUTOR","body":"> We force shutdown by killing process after ~20 sec (see here for RPM and here for DEB). I don't remind we decided to remove this for elasticsearch.\n\nSo it looks like `killproc` is sending a -9 after our specified 20 seconds (see https://github.com/elastic/elasticsearch/pull/3973#issuecomment-54807069) , but Elasticsearch is waiting for 30 seconds... Perhaps we should make the init script timeout longer.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/96418130","html_url":"https://github.com/elastic/elasticsearch/issues/10680#issuecomment-96418130","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10680","id":96418130,"node_id":"MDEyOklzc3VlQ29tbWVudDk2NDE4MTMw","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-04-26T18:25:08Z","updated_at":"2015-04-26T18:25:08Z","author_association":"CONTRIBUTOR","body":"@somebody32 @saimonmoore @ivanilves what versions of Elasticsearch are you seeing this on?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/96418686","html_url":"https://github.com/elastic/elasticsearch/issues/10680#issuecomment-96418686","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10680","id":96418686,"node_id":"MDEyOklzc3VlQ29tbWVudDk2NDE4Njg2","user":{"login":"somebody32","id":25742,"node_id":"MDQ6VXNlcjI1NzQy","avatar_url":"https://avatars0.githubusercontent.com/u/25742?v=4","gravatar_id":"","url":"https://api.github.com/users/somebody32","html_url":"https://github.com/somebody32","followers_url":"https://api.github.com/users/somebody32/followers","following_url":"https://api.github.com/users/somebody32/following{/other_user}","gists_url":"https://api.github.com/users/somebody32/gists{/gist_id}","starred_url":"https://api.github.com/users/somebody32/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/somebody32/subscriptions","organizations_url":"https://api.github.com/users/somebody32/orgs","repos_url":"https://api.github.com/users/somebody32/repos","events_url":"https://api.github.com/users/somebody32/events{/privacy}","received_events_url":"https://api.github.com/users/somebody32/received_events","type":"User","site_admin":false},"created_at":"2015-04-26T18:35:44Z","updated_at":"2015-04-26T18:35:44Z","author_association":"NONE","body":"@clintongormley 1.5.0 (and looks like no difference in 1.5.1 too)\n\nAnd, as I said, the problem not only in init script. Bult-in 30 seconds grace period was not enough in our case to flush all shards\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/102975248","html_url":"https://github.com/elastic/elasticsearch/issues/10680#issuecomment-102975248","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10680","id":102975248,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMjk3NTI0OA==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2015-05-18T08:34:27Z","updated_at":"2015-05-18T08:34:27Z","author_association":"MEMBER","body":"@tlrx  - @s1monw 's PR fix the internal wait in ES. I might be missing something here but I think the RPM/DEB still needs to be changed for it to be effective no? \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/103800240","html_url":"https://github.com/elastic/elasticsearch/issues/10680#issuecomment-103800240","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10680","id":103800240,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMzgwMDI0MA==","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2015-05-20T07:54:58Z","updated_at":"2015-05-20T07:54:58Z","author_association":"MEMBER","body":"@bleskes right - I created #11248 to track this.\n","performed_via_github_app":null}]