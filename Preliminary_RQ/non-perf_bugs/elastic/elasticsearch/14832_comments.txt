[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/157738549","html_url":"https://github.com/elastic/elasticsearch/issues/14832#issuecomment-157738549","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14832","id":157738549,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NzczODU0OQ==","user":{"login":"rashidkpc","id":1250387,"node_id":"MDQ6VXNlcjEyNTAzODc=","avatar_url":"https://avatars1.githubusercontent.com/u/1250387?v=4","gravatar_id":"","url":"https://api.github.com/users/rashidkpc","html_url":"https://github.com/rashidkpc","followers_url":"https://api.github.com/users/rashidkpc/followers","following_url":"https://api.github.com/users/rashidkpc/following{/other_user}","gists_url":"https://api.github.com/users/rashidkpc/gists{/gist_id}","starred_url":"https://api.github.com/users/rashidkpc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rashidkpc/subscriptions","organizations_url":"https://api.github.com/users/rashidkpc/orgs","repos_url":"https://api.github.com/users/rashidkpc/repos","events_url":"https://api.github.com/users/rashidkpc/events{/privacy}","received_events_url":"https://api.github.com/users/rashidkpc/received_events","type":"User","site_admin":false},"created_at":"2015-11-18T14:53:32Z","updated_at":"2015-11-18T14:53:32Z","author_association":"NONE","body":"The reason Kibana needs _field_stats is speed alone. Currently aggregations don't perform fast enough for Kibana to use them for pre-flight requests in determining which indices to search. On my very small data set I get 138ms for an aggregation, and 23ms for _field_stats.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/157744744","html_url":"https://github.com/elastic/elasticsearch/issues/14832#issuecomment-157744744","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14832","id":157744744,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Nzc0NDc0NA==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2015-11-18T15:15:19Z","updated_at":"2015-11-18T15:15:19Z","author_association":"CONTRIBUTOR","body":"Wouldn't the request cache already help from that perspective?\n\nSeparately I think we can work on making such aggs less naive and use index statistics when applicable. I opened #14835\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/157746645","html_url":"https://github.com/elastic/elasticsearch/issues/14832#issuecomment-157746645","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14832","id":157746645,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Nzc0NjY0NQ==","user":{"login":"rashidkpc","id":1250387,"node_id":"MDQ6VXNlcjEyNTAzODc=","avatar_url":"https://avatars1.githubusercontent.com/u/1250387?v=4","gravatar_id":"","url":"https://api.github.com/users/rashidkpc","html_url":"https://github.com/rashidkpc","followers_url":"https://api.github.com/users/rashidkpc/followers","following_url":"https://api.github.com/users/rashidkpc/following{/other_user}","gists_url":"https://api.github.com/users/rashidkpc/gists{/gist_id}","starred_url":"https://api.github.com/users/rashidkpc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rashidkpc/subscriptions","organizations_url":"https://api.github.com/users/rashidkpc/orgs","repos_url":"https://api.github.com/users/rashidkpc/repos","events_url":"https://api.github.com/users/rashidkpc/events{/privacy}","received_events_url":"https://api.github.com/users/rashidkpc/received_events","type":"User","site_admin":false},"created_at":"2015-11-18T15:22:42Z","updated_at":"2015-11-18T15:24:12Z","author_association":"NONE","body":"The request would cache, but only if the data and time ranges that are not changing right? Most Kibana users have constantly updating data sets and are using `[now-1M TO now]` style time ranges. We need to re-lookup the index list whenever the time range or underlying data changes.\n\n#14835 should work just fine though assuming it still works with the terms agg in the example above\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/157770338","html_url":"https://github.com/elastic/elasticsearch/issues/14832#issuecomment-157770338","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14832","id":157770338,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Nzc3MDMzOA==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2015-11-18T16:35:21Z","updated_at":"2015-11-18T16:35:21Z","author_association":"CONTRIBUTOR","body":"Good point about caching, the script from the bucket selector will change all the time, which is a pity since shards (where the caching is done) don't care about pipeline aggs, which are executed on the coordinating node.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/157770606","html_url":"https://github.com/elastic/elasticsearch/issues/14832#issuecomment-157770606","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14832","id":157770606,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Nzc3MDYwNg==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2015-11-18T16:36:26Z","updated_at":"2015-11-18T16:36:26Z","author_association":"CONTRIBUTOR","body":"As a side note, the caching would work if the bucket filtering was performed on Kibana side.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/160116220","html_url":"https://github.com/elastic/elasticsearch/issues/14832#issuecomment-160116220","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14832","id":160116220,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MDExNjIyMA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-11-27T11:10:51Z","updated_at":"2015-11-27T11:10:51Z","author_association":"CONTRIBUTOR","body":"Discussed this in FixItFriday.  Aggregations could be a viable replacement for field stats if:\n- The min/max aggs can be optimized to use the field stats to return values from the index stats instead of running the full aggregation (requires a match all query and no deleted docs)\n- A pipeline agg is used to filter down the result set to the interesting indices (and can still be cached in the results cache even with the moving boundary)\n- The new dimensional format for date fields coming in Lucene 6 can expose the min/max values.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/237807528","html_url":"https://github.com/elastic/elasticsearch/issues/14832#issuecomment-237807528","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14832","id":237807528,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzgwNzUyOA==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-08-05T09:38:32Z","updated_at":"2016-08-05T09:38:32Z","author_association":"CONTRIBUTOR","body":"This surfaced again in today's Fixit Friday when discussing whether to remove the experimental tag in the field stats API (#19798) as we would really like for the field stats API to not be necessary for Kibana cc @s1monw .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/293170328","html_url":"https://github.com/elastic/elasticsearch/issues/14832#issuecomment-293170328","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14832","id":293170328,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzE3MDMyOA==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2017-04-11T07:05:54Z","updated_at":"2017-04-11T07:05:54Z","author_association":"CONTRIBUTOR","body":"The field stats API is getting replaced by field caps, which do not expose stats. Closing.","performed_via_github_app":null}]