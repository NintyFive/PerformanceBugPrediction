{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/29361","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29361/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29361/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29361/events","html_url":"https://github.com/elastic/elasticsearch/issues/29361","id":311068225,"node_id":"MDU6SXNzdWUzMTEwNjgyMjU=","number":29361,"title":"UNASSIGNED DANGLING_INDEX_IMPORTED can not delete!!","user":{"login":"dzhyw","id":7122097,"node_id":"MDQ6VXNlcjcxMjIwOTc=","avatar_url":"https://avatars1.githubusercontent.com/u/7122097?v=4","gravatar_id":"","url":"https://api.github.com/users/dzhyw","html_url":"https://github.com/dzhyw","followers_url":"https://api.github.com/users/dzhyw/followers","following_url":"https://api.github.com/users/dzhyw/following{/other_user}","gists_url":"https://api.github.com/users/dzhyw/gists{/gist_id}","starred_url":"https://api.github.com/users/dzhyw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dzhyw/subscriptions","organizations_url":"https://api.github.com/users/dzhyw/orgs","repos_url":"https://api.github.com/users/dzhyw/repos","events_url":"https://api.github.com/users/dzhyw/events{/privacy}","received_events_url":"https://api.github.com/users/dzhyw/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-04-04T02:58:14Z","updated_at":"2018-04-04T03:03:43Z","closed_at":"2018-04-04T03:03:43Z","author_association":"NONE","active_lock_reason":null,"body":"when I upgrade es version，es 2.4.1 to es 5.6.3, some indices shards appeared shard unassigned\r\n\r\nstatus :UNASSIGNED DANGLING_INDEX_IMPORTED , when i delete,it still appeared. can't del \r\n\r\nHere is some information on the index：\r\n\r\nlogstash-express-error-2018.03.12   1 r STARTED    \r\nlogstash-express-error-2018.03.12   1 p STARTED    \r\nlogstash-express-error-2018.03.12   3 p STARTED    \r\nlogstash-express-error-2018.03.12   3 r STARTED    \r\nlogstash-express-error-2018.03.12   4 r STARTED    \r\nlogstash-express-error-2018.03.12   4 p STARTED    \r\nlogstash-express-error-2018.03.12   0 p STARTED    \r\nlogstash-express-error-2018.03.12   0 r STARTED    \r\nlogstash-wccpc-2017.10.10           2 p UNASSIGNED DANGLING_INDEX_IMPORTED\r\nlogstash-wccpc-2017.10.10           2 r UNASSIGNED DANGLING_INDEX_IMPORTED\r\nlogstash-wccpc-2017.10.10           1 p UNASSIGNED DANGLING_INDEX_IMPORTED\r\nlogstash-wccpc-2017.10.10           1 r UNASSIGNED DANGLING_INDEX_IMPORTED\r\nlogstash-wccpc-2017.10.10           3 p UNASSIGNED DANGLING_INDEX_IMPORTED\r\nlogstash-wccpc-2017.10.10           3 r UNASSIGNED DANGLING_INDEX_IMPORTED\r\nlogstash-wccpc-2017.10.10           4 p UNASSIGNED DANGLING_INDEX_IMPORTED\r\nlogstash-wccpc-2017.10.10           4 r UNASSIGNED DANGLING_INDEX_IMPORTED\r\nlogstash-wccpc-2017.10.10           0 p UNASSIGNED DANGLING_INDEX_IMPORTED\r\nlogstash-wccpc-2017.10.10           0 r UNASSIGNED DANGLING_INDEX_IMPORTED\r\nlogstash-third-2018.04.04           2 p STARTED    \r\nlogstash-third-2018.04.04           2 r STARTED    \r\nlogstash-third-2018.04.04           1 p STARTED    \r\nlogstash-third-2018.04.04           1 r STARTED    \r\nlogstash-third-2018.04.04           3 r STARTED    \r\nlogstash-third-2018.04.04           3 p STARTED    \r\nlogstash-third-2018.04.04           4 r STARTED    \r\nlogstash-third-2018.04.04           4 p STARTED    \r\nlogstash-third-2018.04.04           0 r STARTED    \r\n\r\n\r\nlogstash-wccpc-2017.10.10: {\r\nstatus: \"red\",\r\nnumber_of_shards: 5,\r\nnumber_of_replicas: 1,\r\nactive_primary_shards: 0,\r\nactive_shards: 0,\r\nrelocating_shards: 0,\r\ninitializing_shards: 0,\r\nunassigned_shards: 10,\r\nshards: {\r\n0: {\r\nstatus: \"red\",\r\nprimary_active: false,\r\nactive_shards: 0,\r\nrelocating_shards: 0,\r\ninitializing_shards: 0,\r\nunassigned_shards: 2\r\n},\r\n1: {\r\nstatus: \"red\",\r\nprimary_active: false,\r\nactive_shards: 0,\r\nrelocating_shards: 0,\r\ninitializing_shards: 0,\r\nunassigned_shards: 2\r\n},\r\n2: {\r\nstatus: \"red\",\r\nprimary_active: false,\r\nactive_shards: 0,\r\nrelocating_shards: 0,\r\ninitializing_shards: 0,\r\nunassigned_shards: 2\r\n},\r\n3: {\r\nstatus: \"red\",\r\nprimary_active: false,\r\nactive_shards: 0,\r\nrelocating_shards: 0,\r\ninitializing_shards: 0,\r\nunassigned_shards: 2\r\n},\r\n4: {\r\nstatus: \"red\",\r\nprimary_active: false,\r\nactive_shards: 0,\r\nrelocating_shards: 0,\r\ninitializing_shards: 0,\r\nunassigned_shards: 2\r\n}\r\n}\r\n},\r\n\r\n\r\n**Elasticsearch version** (`bin/elasticsearch --version`):\r\ncluster_name: \"wcc-es\",\r\nnodes: {\r\ngBLas-zVSgapBNr_yZbbbA: {\r\nname: \"wcc-es-xietiao-node1\",\r\ntransport_address: \"192.168.199.43:9300\",\r\nhost: \"192.168.199.43\",\r\nip: \"192.168.199.43\",\r\nversion: \"5.6.3\",\r\nbuild_hash: \"1a2f265\",\r\nroles: [\r\n\"ingest\"\r\n],\r\nprocess: {\r\nrefresh_interval_in_millis: 1000,\r\nid: 19259,\r\nmlockall: true\r\n}\r\n},\r\nnZP4zvXWR8CQ4dWC2zwBzA: {\r\nname: \"wcc-es-data-node3\",\r\ntransport_address: \"192.168.199.175:9300\",\r\nhost: \"192.168.199.175\",\r\nip: \"192.168.199.175\",\r\nversion: \"5.6.3\",\r\nbuild_hash: \"1a2f265\",\r\nroles: [\r\n\"data\",\r\n\"ingest\"\r\n],\r\nprocess: {\r\nrefresh_interval_in_millis: 1000,\r\nid: 2307,\r\nmlockall: true\r\n}\r\n},\r\nhcJjYs8jSVWobbJ-vL7HKA: {\r\nname: \"wcc-es-data-node2\",\r\ntransport_address: \"192.168.199.172:9300\",\r\nhost: \"192.168.199.172\",\r\nip: \"192.168.199.172\",\r\nversion: \"5.6.3\",\r\nbuild_hash: \"1a2f265\",\r\nroles: [\r\n\"data\",\r\n\"ingest\"\r\n],\r\nprocess: {\r\nrefresh_interval_in_millis: 1000,\r\nid: 21467,\r\nmlockall: true\r\n}\r\n},\r\no3euD2vmQKOB5zTN211v_A: {\r\nname: \"wcc-es-data-node5\",\r\ntransport_address: \"192.168.200.252:9300\",\r\nhost: \"192.168.200.252\",\r\nip: \"192.168.200.252\",\r\nversion: \"5.6.3\",\r\nbuild_hash: \"1a2f265\",\r\nroles: [\r\n\"data\",\r\n\"ingest\"\r\n],\r\nprocess: {\r\nrefresh_interval_in_millis: 1000,\r\nid: 5018,\r\nmlockall: true\r\n}\r\n},\r\nguAdzoacQIuCgC4gg1g1og: {\r\nname: \"wcc-es-data-node1\",\r\ntransport_address: \"192.168.199.171:9300\",\r\nhost: \"192.168.199.171\",\r\nip: \"192.168.199.171\",\r\nversion: \"5.6.3\",\r\nbuild_hash: \"1a2f265\",\r\nroles: [\r\n\"data\",\r\n\"ingest\"\r\n],\r\nprocess: {\r\nrefresh_interval_in_millis: 1000,\r\nid: 28955,\r\nmlockall: true\r\n}\r\n},\r\n_IzDEfV0QhWR3OTXFAUj3w: {\r\nname: \"wcc-es-data-node4\",\r\ntransport_address: \"192.168.200.23:9300\",\r\nhost: \"192.168.200.23\",\r\nip: \"192.168.200.23\",\r\nversion: \"5.6.3\",\r\nbuild_hash: \"1a2f265\",\r\nroles: [\r\n\"data\",\r\n\"ingest\"\r\n],\r\nprocess: {\r\nrefresh_interval_in_millis: 1000,\r\nid: 23494,\r\nmlockall: true\r\n}\r\n},\r\n6alVMTJDT8iQfT-mfUbmZw: {\r\nname: \"wcc-es-master-node1\",\r\ntransport_address: \"192.168.200.24:9300\",\r\nhost: \"192.168.200.24\",\r\nip: \"192.168.200.24\",\r\nversion: \"5.6.3\",\r\nbuild_hash: \"1a2f265\",\r\nroles: [\r\n\"master\",\r\n\"ingest\"\r\n],\r\nprocess: {\r\nrefresh_interval_in_millis: 1000,\r\nid: 23041,\r\nmlockall: true\r\n}\r\n}\r\n}\r\n\r\n\r\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}