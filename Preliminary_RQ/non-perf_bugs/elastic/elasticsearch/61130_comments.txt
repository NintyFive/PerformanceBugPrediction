[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/673866674","html_url":"https://github.com/elastic/elasticsearch/issues/61130#issuecomment-673866674","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61130","id":673866674,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Mzg2NjY3NA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-08-14T03:44:09Z","updated_at":"2020-08-14T03:44:09Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-security (:Security/Authentication)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/674035048","html_url":"https://github.com/elastic/elasticsearch/issues/61130#issuecomment-674035048","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61130","id":674035048,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDAzNTA0OA==","user":{"login":"azasypkin","id":1713708,"node_id":"MDQ6VXNlcjE3MTM3MDg=","avatar_url":"https://avatars1.githubusercontent.com/u/1713708?v=4","gravatar_id":"","url":"https://api.github.com/users/azasypkin","html_url":"https://github.com/azasypkin","followers_url":"https://api.github.com/users/azasypkin/followers","following_url":"https://api.github.com/users/azasypkin/following{/other_user}","gists_url":"https://api.github.com/users/azasypkin/gists{/gist_id}","starred_url":"https://api.github.com/users/azasypkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/azasypkin/subscriptions","organizations_url":"https://api.github.com/users/azasypkin/orgs","repos_url":"https://api.github.com/users/azasypkin/repos","events_url":"https://api.github.com/users/azasypkin/events{/privacy}","received_events_url":"https://api.github.com/users/azasypkin/received_events","type":"User","site_admin":false},"created_at":"2020-08-14T11:44:04Z","updated_at":"2020-08-14T11:44:04Z","author_association":"MEMBER","body":"cc @elastic/kibana-security just to track that issue - we rely on the shape of this response in many places and our CI will likely go red as soon as we get ES snapshot with this change.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/674040147","html_url":"https://github.com/elastic/elasticsearch/issues/61130#issuecomment-674040147","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61130","id":674040147,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDA0MDE0Nw==","user":{"login":"ywangd","id":2344308,"node_id":"MDQ6VXNlcjIzNDQzMDg=","avatar_url":"https://avatars3.githubusercontent.com/u/2344308?v=4","gravatar_id":"","url":"https://api.github.com/users/ywangd","html_url":"https://github.com/ywangd","followers_url":"https://api.github.com/users/ywangd/followers","following_url":"https://api.github.com/users/ywangd/following{/other_user}","gists_url":"https://api.github.com/users/ywangd/gists{/gist_id}","starred_url":"https://api.github.com/users/ywangd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywangd/subscriptions","organizations_url":"https://api.github.com/users/ywangd/orgs","repos_url":"https://api.github.com/users/ywangd/repos","events_url":"https://api.github.com/users/ywangd/events{/privacy}","received_events_url":"https://api.github.com/users/ywangd/received_events","type":"User","site_admin":false},"created_at":"2020-08-14T11:59:41Z","updated_at":"2020-08-14T11:59:41Z","author_association":"MEMBER","body":"The plan is to add a new top level field `authentication_type` to the response object. Existing fields will not be touched. It will be something like the follows after the change:\r\n```javascript\r\n{\r\n  \"username\": \"foo@example.com\",\r\n  \"roles\": [\r\n    \"kibana_system\"\r\n  ],\r\n  \"full_name\": null,\r\n  \"email\": null,\r\n  \"metadata\": {},\r\n  \"enabled\": true,\r\n  \"authentication_realm\": {\r\n    \"name\": \"saml1\",\r\n    \"type\": \"saml\"\r\n  },\r\n  \"lookup_realm\": {\r\n    \"name\": \"saml1\",\r\n    \"type\": \"saml\"\r\n  },\r\n  \"authentication_type\":  \"TOKEN\"  // <--- new field here\r\n}\r\n```\r\n\r\nI thought Kibana is lenient for extra fields. But maybe my understanding is wrong.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/674070692","html_url":"https://github.com/elastic/elasticsearch/issues/61130#issuecomment-674070692","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61130","id":674070692,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDA3MDY5Mg==","user":{"login":"azasypkin","id":1713708,"node_id":"MDQ6VXNlcjE3MTM3MDg=","avatar_url":"https://avatars1.githubusercontent.com/u/1713708?v=4","gravatar_id":"","url":"https://api.github.com/users/azasypkin","html_url":"https://github.com/azasypkin","followers_url":"https://api.github.com/users/azasypkin/followers","following_url":"https://api.github.com/users/azasypkin/following{/other_user}","gists_url":"https://api.github.com/users/azasypkin/gists{/gist_id}","starred_url":"https://api.github.com/users/azasypkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/azasypkin/subscriptions","organizations_url":"https://api.github.com/users/azasypkin/orgs","repos_url":"https://api.github.com/users/azasypkin/repos","events_url":"https://api.github.com/users/azasypkin/events{/privacy}","received_events_url":"https://api.github.com/users/azasypkin/received_events","type":"User","site_admin":false},"created_at":"2020-08-14T13:18:50Z","updated_at":"2020-08-14T13:18:50Z","author_association":"MEMBER","body":"> I thought Kibana is lenient for extra fields. But maybe my understanding is wrong.\r\n\r\nWe're in the main code, it won't break it in any way. But we still have few places in the tests where we check all the fields. Plus we have Typescript interfaces that describe that response. Nothing to worry about, we just need to update few dev/test-only places.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/678277717","html_url":"https://github.com/elastic/elasticsearch/issues/61130#issuecomment-678277717","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61130","id":678277717,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODI3NzcxNw==","user":{"login":"ywangd","id":2344308,"node_id":"MDQ6VXNlcjIzNDQzMDg=","avatar_url":"https://avatars3.githubusercontent.com/u/2344308?v=4","gravatar_id":"","url":"https://api.github.com/users/ywangd","html_url":"https://github.com/ywangd","followers_url":"https://api.github.com/users/ywangd/followers","following_url":"https://api.github.com/users/ywangd/following{/other_user}","gists_url":"https://api.github.com/users/ywangd/gists{/gist_id}","starred_url":"https://api.github.com/users/ywangd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywangd/subscriptions","organizations_url":"https://api.github.com/users/ywangd/orgs","repos_url":"https://api.github.com/users/ywangd/repos","events_url":"https://api.github.com/users/ywangd/events{/privacy}","received_events_url":"https://api.github.com/users/ywangd/received_events","type":"User","site_admin":false},"created_at":"2020-08-21T13:00:22Z","updated_at":"2020-08-21T13:00:22Z","author_association":"MEMBER","body":"@azasypkin Thanks for the insights. The change is now merged to master and backported for v7.10.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/678404133","html_url":"https://github.com/elastic/elasticsearch/issues/61130#issuecomment-678404133","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61130","id":678404133,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODQwNDEzMw==","user":{"login":"azasypkin","id":1713708,"node_id":"MDQ6VXNlcjE3MTM3MDg=","avatar_url":"https://avatars1.githubusercontent.com/u/1713708?v=4","gravatar_id":"","url":"https://api.github.com/users/azasypkin","html_url":"https://github.com/azasypkin","followers_url":"https://api.github.com/users/azasypkin/followers","following_url":"https://api.github.com/users/azasypkin/following{/other_user}","gists_url":"https://api.github.com/users/azasypkin/gists{/gist_id}","starred_url":"https://api.github.com/users/azasypkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/azasypkin/subscriptions","organizations_url":"https://api.github.com/users/azasypkin/orgs","repos_url":"https://api.github.com/users/azasypkin/repos","events_url":"https://api.github.com/users/azasypkin/events{/privacy}","received_events_url":"https://api.github.com/users/azasypkin/received_events","type":"User","site_admin":false},"created_at":"2020-08-21T17:29:34Z","updated_at":"2020-08-21T17:29:34Z","author_association":"MEMBER","body":"> @azasypkin Thanks for the insights. The change is now merged to master and backported for v7.10.\r\n\r\nThanks @ywangd ! I'll be on PTO next week, so pinging @elastic/kibana-security in case our CI starts failing (it likely will) next week when new ES snapshot is promoted. I'm mostly concerned with our tests that have the check like [this](https://github.com/elastic/kibana/blob/e46e66210fe122c40c739382cc72c7f1286c6e48/x-pack/test/api_integration/apis/security/basic_login.js#L137-L147).","performed_via_github_app":null}]