{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/64690","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/64690/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/64690/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/64690/events","html_url":"https://github.com/elastic/elasticsearch/issues/64690","id":737600879,"node_id":"MDU6SXNzdWU3Mzc2MDA4Nzk=","number":64690,"title":"EQL: better error message for missing tiebreaker","user":{"login":"costin","id":76245,"node_id":"MDQ6VXNlcjc2MjQ1","avatar_url":"https://avatars3.githubusercontent.com/u/76245?v=4","gravatar_id":"","url":"https://api.github.com/users/costin","html_url":"https://github.com/costin","followers_url":"https://api.github.com/users/costin/followers","following_url":"https://api.github.com/users/costin/following{/other_user}","gists_url":"https://api.github.com/users/costin/gists{/gist_id}","starred_url":"https://api.github.com/users/costin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/costin/subscriptions","organizations_url":"https://api.github.com/users/costin/orgs","repos_url":"https://api.github.com/users/costin/repos","events_url":"https://api.github.com/users/costin/events{/privacy}","received_events_url":"https://api.github.com/users/costin/received_events","type":"User","site_admin":false},"labels":[{"id":1690690117,"node_id":"MDU6TGFiZWwxNjkwNjkwMTE3","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Query%20Languages/EQL","name":":Query Languages/EQL","color":"0e8a16","default":false,"description":"EQL querying"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-11-06T09:16:03Z","updated_at":"2020-11-13T11:47:24Z","closed_at":"2020-11-13T11:47:24Z","author_association":"MEMBER","active_lock_reason":null,"body":"In sequences that specify tiebreakers, events without such a field trigger the following error:\r\n```\r\n{\r\n  \"error\" : {\r\n    \"root_cause\" : [\r\n      {\r\n        \"type\" : \"eql_illegal_argument_exception\",\r\n        \"reason\" : \"Expected tiebreaker to be Comparable but got null\"\r\n      }\r\n    ],\r\n    \"type\" : \"eql_illegal_argument_exception\",\r\n    \"reason\" : \"Expected tiebreaker to be Comparable but got null\"\r\n  },\r\n  \"status\" : 500\r\n}\r\n```\r\nThis is not very user friendly since it indicates the problem but not the cause or how to fix it. It would help to rephrase the message to indicate that the tiebreaker field (and its name) and potentially the associated query is missing for a certain document (along side information on the document id).","closed_by":{"login":"costin","id":76245,"node_id":"MDQ6VXNlcjc2MjQ1","avatar_url":"https://avatars3.githubusercontent.com/u/76245?v=4","gravatar_id":"","url":"https://api.github.com/users/costin","html_url":"https://github.com/costin","followers_url":"https://api.github.com/users/costin/followers","following_url":"https://api.github.com/users/costin/following{/other_user}","gists_url":"https://api.github.com/users/costin/gists{/gist_id}","starred_url":"https://api.github.com/users/costin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/costin/subscriptions","organizations_url":"https://api.github.com/users/costin/orgs","repos_url":"https://api.github.com/users/costin/repos","events_url":"https://api.github.com/users/costin/events{/privacy}","received_events_url":"https://api.github.com/users/costin/received_events","type":"User","site_admin":false},"performed_via_github_app":null}