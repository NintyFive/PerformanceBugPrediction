[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/2143262","html_url":"https://github.com/elastic/elasticsearch/issues/827#issuecomment-2143262","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/827","id":2143262,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDMyNjI=","user":{"login":"avar","id":45301,"node_id":"MDQ6VXNlcjQ1MzAx","avatar_url":"https://avatars3.githubusercontent.com/u/45301?v=4","gravatar_id":"","url":"https://api.github.com/users/avar","html_url":"https://github.com/avar","followers_url":"https://api.github.com/users/avar/followers","following_url":"https://api.github.com/users/avar/following{/other_user}","gists_url":"https://api.github.com/users/avar/gists{/gist_id}","starred_url":"https://api.github.com/users/avar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avar/subscriptions","organizations_url":"https://api.github.com/users/avar/orgs","repos_url":"https://api.github.com/users/avar/repos","events_url":"https://api.github.com/users/avar/events{/privacy}","received_events_url":"https://api.github.com/users/avar/received_events","type":"User","site_admin":false},"created_at":"2011-09-20T09:11:07Z","updated_at":"2011-09-20T09:11:07Z","author_association":"NONE","body":"I've just encountered this issue as well. It looks like a race\ncondition in the transport code. I had it on 0.17.7 while upgrading\nfrom 0.17.6:\n\n```\n[2011-09-20 10:26:27,823][DEBUG][action.admin.cluster.node.info] [search-02] failed to execute on node [R62UvRZBSGC62ISiKvYc2w]\norg.elasticsearch.transport.RemoteTransportException: [search-03][inet[/10.147.174.142:9300]][/cluster/nodes/info/node]\nCaused by: java.lang.NullPointerException\n        at org.elasticsearch.action.support.nodes.NodeOperationResponse.writeTo(NodeOperationResponse.java:64)\n        at org.elasticsearch.action.admin.cluster.node.info.NodeInfo.writeTo(NodeInfo.java:215)\n        at org.elasticsearch.transport.support.TransportStreams.buildResponse(TransportStreams.java:136)\n        at org.elasticsearch.transport.netty.NettyTransportChannel.sendResponse(NettyTransportChannel.java:74)\n        at org.elasticsearch.transport.netty.NettyTransportChannel.sendResponse(NettyTransportChannel.java:66)\n        at org.elasticsearch.action.support.nodes.TransportNodesOperationAction$NodeTransportHandler.messageReceived(TransportNodesOperationAction.java:267)\n        at org.elasticsearch.action.support.nodes.TransportNodesOperationAction$NodeTransportHandler.messageReceived(TransportNodesOperationAction.java:260)\n        at org.elasticsearch.transport.netty.MessageChannelHandler$RequestHandler.run(MessageChannelHandler.java:238)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n        at java.lang.Thread.run(Thread.java:619)\n```\n\nBasically what happened was:\n1. The node that emitted this error had already been upgraded to\n   0.17.7 & was running fine\n2. Another node (R62UvRZBSGC62ISiKvYc2w) running 0.17.6 was being\n   restarted for an upgrade\n\nReading the code this happens here:\n\n```\n@Override public void writeTo(StreamOutput out) throws IOException {\n    node.writeTo(out);\n}\n```\n\nPresumably `node` is `NULL` at this point since it's been checked\nearlier for validity, but the `node` has since gone away.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/15917499","html_url":"https://github.com/elastic/elasticsearch/issues/827#issuecomment-15917499","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/827","id":15917499,"node_id":"MDEyOklzc3VlQ29tbWVudDE1OTE3NDk5","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2013-04-04T19:13:00Z","updated_at":"2013-04-04T19:13:00Z","author_association":"CONTRIBUTOR","body":"This appears to have been fixed at some stage - Closing\n","performed_via_github_app":null}]