[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/155056466","html_url":"https://github.com/elastic/elasticsearch/issues/14613#issuecomment-155056466","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14613","id":155056466,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NTA1NjQ2Ng==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-11-09T13:04:15Z","updated_at":"2015-11-09T13:04:15Z","author_association":"CONTRIBUTOR","body":"@whybangbang I'm afraid I don't understand what you mean.  Perhaps an example will help? `min_score` is not per function, it is per function-score query\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/157261924","html_url":"https://github.com/elastic/elasticsearch/issues/14613#issuecomment-157261924","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14613","id":157261924,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NzI2MTkyNA==","user":{"login":"whybangbang","id":8721386,"node_id":"MDQ6VXNlcjg3MjEzODY=","avatar_url":"https://avatars3.githubusercontent.com/u/8721386?v=4","gravatar_id":"","url":"https://api.github.com/users/whybangbang","html_url":"https://github.com/whybangbang","followers_url":"https://api.github.com/users/whybangbang/followers","following_url":"https://api.github.com/users/whybangbang/following{/other_user}","gists_url":"https://api.github.com/users/whybangbang/gists{/gist_id}","starred_url":"https://api.github.com/users/whybangbang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/whybangbang/subscriptions","organizations_url":"https://api.github.com/users/whybangbang/orgs","repos_url":"https://api.github.com/users/whybangbang/repos","events_url":"https://api.github.com/users/whybangbang/events{/privacy}","received_events_url":"https://api.github.com/users/whybangbang/received_events","type":"User","site_admin":false},"created_at":"2015-11-17T03:59:50Z","updated_at":"2016-02-14T15:56:32Z","author_association":"NONE","body":"@clintongormley \nwe don't know why time gauss function'score is 0 sometimes, \nfor example(the example enlarge the problem )\n\n```\n{\n  \"gauss\": {\n    \"updated_at\": {\n      \"origin\": 2440060781,\n      \"scale\": \"172800\"\n    }\n  }\n}\n```\n\nexplain is \n\n```\n{\n  \"value\": 0,\n  \"description\": \"Function for field updated_at:\",\n  \"details\": [\n    {\n      \"value\": 0,\n      \"description\": \"exp(-0.5*pow(MIN[Math.max(Math.abs(1.44621567E9(=doc value) - 2.440060781E9(=origin))) - 0.0(=offset), 0)],2.0)/2.1539321544868954E10)\"\n    }\n  ]\n}\n```\n\ngauss'score == 0 and this document ' score = 0\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/157288523","html_url":"https://github.com/elastic/elasticsearch/issues/14613#issuecomment-157288523","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14613","id":157288523,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NzI4ODUyMw==","user":{"login":"shenzhun","id":2031569,"node_id":"MDQ6VXNlcjIwMzE1Njk=","avatar_url":"https://avatars2.githubusercontent.com/u/2031569?v=4","gravatar_id":"","url":"https://api.github.com/users/shenzhun","html_url":"https://github.com/shenzhun","followers_url":"https://api.github.com/users/shenzhun/followers","following_url":"https://api.github.com/users/shenzhun/following{/other_user}","gists_url":"https://api.github.com/users/shenzhun/gists{/gist_id}","starred_url":"https://api.github.com/users/shenzhun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenzhun/subscriptions","organizations_url":"https://api.github.com/users/shenzhun/orgs","repos_url":"https://api.github.com/users/shenzhun/repos","events_url":"https://api.github.com/users/shenzhun/events{/privacy}","received_events_url":"https://api.github.com/users/shenzhun/received_events","type":"User","site_admin":false},"created_at":"2015-11-17T06:49:16Z","updated_at":"2015-11-17T06:49:16Z","author_association":"NONE","body":"@clintongormley I guess @whybangbang means that does gauss function of ES have default value function, when the output score is 0, then default value could be used instead of 0.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/183907651","html_url":"https://github.com/elastic/elasticsearch/issues/14613#issuecomment-183907651","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14613","id":183907651,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MzkwNzY1MQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-02-14T15:56:46Z","updated_at":"2016-02-14T15:56:46Z","author_association":"CONTRIBUTOR","body":"@brwe can you shed any light on this?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/183933749","html_url":"https://github.com/elastic/elasticsearch/issues/14613#issuecomment-183933749","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14613","id":183933749,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MzkzMzc0OQ==","user":{"login":"brwe","id":4320215,"node_id":"MDQ6VXNlcjQzMjAyMTU=","avatar_url":"https://avatars0.githubusercontent.com/u/4320215?v=4","gravatar_id":"","url":"https://api.github.com/users/brwe","html_url":"https://github.com/brwe","followers_url":"https://api.github.com/users/brwe/followers","following_url":"https://api.github.com/users/brwe/following{/other_user}","gists_url":"https://api.github.com/users/brwe/gists{/gist_id}","starred_url":"https://api.github.com/users/brwe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brwe/subscriptions","organizations_url":"https://api.github.com/users/brwe/orgs","repos_url":"https://api.github.com/users/brwe/repos","events_url":"https://api.github.com/users/brwe/events{/privacy}","received_events_url":"https://api.github.com/users/brwe/received_events","type":"User","site_admin":false},"created_at":"2016-02-14T17:31:29Z","updated_at":"2016-02-14T17:31:29Z","author_association":"CONTRIBUTOR","body":"The document is simply too far away from origin and hence the number is too small to fit into a float. That is why it is 0.\nIf I understand correctly you do not want the documents to be scored with 0 in that case? \nIn that case you have to apply an additional filter to the function that only scores documents that are not too far away and another one that gives documents outside this range a \"default\" value. In you example this would mean something like:\n\n```\n{\n  \"query\": {\n    \"function_score\": {\n      \"functions\": [\n        {\n          \"filter\": {\n            \"range\": {\n              \"date\": {\n                \"lt\": 2440579181,\n                \"gt\": 2439542381\n              }\n            }\n          },\n          \"gauss\": {\n            \"date\": {\n              \"origin\": 2440060781,\n              \"scale\": 172800\n            }\n          }\n        },\n        {\n          \"filter\": {\n            \"range\": {\n              \"date\": {\n                \"gte\": 2440579181\n              }\n            }\n          },\n          \"weight\": 0.1\n        },\n        {\n          \"filter\": {\n            \"range\": {\n              \"date\": {\n                \"lte\": 2439542381\n              }\n            }\n          },\n          \"weight\": 0.1\n        }\n      ]\n    }\n  }\n}\n```\n\nLet me know if that is what you meant.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/221229835","html_url":"https://github.com/elastic/elasticsearch/issues/14613#issuecomment-221229835","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14613","id":221229835,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMTIyOTgzNQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-05-24T10:31:18Z","updated_at":"2016-05-24T10:31:18Z","author_association":"CONTRIBUTOR","body":"This issue is fairly old and there hasn't been much activity on it. Closing, but please re-open if it still occurs.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/348220181","html_url":"https://github.com/elastic/elasticsearch/issues/14613#issuecomment-348220181","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14613","id":348220181,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODIyMDE4MQ==","user":{"login":"hartuvofir","id":28684396,"node_id":"MDQ6VXNlcjI4Njg0Mzk2","avatar_url":"https://avatars2.githubusercontent.com/u/28684396?v=4","gravatar_id":"","url":"https://api.github.com/users/hartuvofir","html_url":"https://github.com/hartuvofir","followers_url":"https://api.github.com/users/hartuvofir/followers","following_url":"https://api.github.com/users/hartuvofir/following{/other_user}","gists_url":"https://api.github.com/users/hartuvofir/gists{/gist_id}","starred_url":"https://api.github.com/users/hartuvofir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hartuvofir/subscriptions","organizations_url":"https://api.github.com/users/hartuvofir/orgs","repos_url":"https://api.github.com/users/hartuvofir/repos","events_url":"https://api.github.com/users/hartuvofir/events{/privacy}","received_events_url":"https://api.github.com/users/hartuvofir/received_events","type":"User","site_admin":false},"created_at":"2017-11-30T15:22:23Z","updated_at":"2017-11-30T15:22:23Z","author_association":"NONE","body":"Hi!\r\nWe having the same problem (0 score of distance, and the doc's score will be zero)\r\nwhat should we do? ","performed_via_github_app":null}]