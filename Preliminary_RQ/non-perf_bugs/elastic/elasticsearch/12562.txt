{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/12562","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12562/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12562/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12562/events","html_url":"https://github.com/elastic/elasticsearch/issues/12562","id":98223676,"node_id":"MDU6SXNzdWU5ODIyMzY3Ng==","number":12562,"title":"Rename position_offset_gap to position_increment_gap","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"labels":[{"id":141145460,"node_id":"MDU6TGFiZWwxNDExNDU0NjA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Mapping","name":":Search/Mapping","color":"0e8a16","default":false,"description":"How fields should be indexed"},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":110815527,"node_id":"MDU6TGFiZWwxMTA4MTU1Mjc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/help%20wanted","name":"help wanted","color":"207de5","default":true,"description":"adoptme"},{"id":260270551,"node_id":"MDU6TGFiZWwyNjAyNzA1NTE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v2.0.0-beta2","name":"v2.0.0-beta2","color":"dddddd","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2015-07-30T17:40:58Z","updated_at":"2015-09-14T17:17:14Z","closed_at":"2015-08-26T22:19:32Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"The name \"position_offset_gap\" is confusing because Lucene has three similar sounding things:\n- `Analyzer#getPositionIncrementGap`\n- `Analyzer#getOffsetGap`\n- `IndexOptions.DOCS_AND_FREQS_AND_POSITIONS_AND_OFFSETS` and `FieldType#storeTermVectorOffsets`\n\nElasticsearch's `position_offset_gap` is mapped directly to `Analyzer#getPositionIncrememntGap` - its the gap in term positions between multiple values of the same field in the same document.\n\n`Analyzer#getOffsetGap` is the position gap between _tokens_ and shouldn't be messed with on the mapping level.\n\nThe word \"offsets\" `IndexOptions.DOCS_AND_FREQS_AND_POSITIONS_AND_OFFSETS` and `FieldType#storeTermVectorOffsets` refers to storing the offsets into the text of the field in either the postings list or the term vectors and are primarily used for highlighting.\n\nI propose Elasticsearch renames `position_offset_gap` to `position_increment_gap` to line up with Lucene and reserves the work \"offset\" to talk about the offsets into the text of fields. I know Elasticsearch doesn't always have to line up with the Lucene names for things but in this case its quite confusing not to. We could always go with other names like `multi_value_position_gap` or `multi_value_term_gap` if we think they are more descriptive.\n\nIn reference to https://github.com/elastic/elasticsearch/pull/12544#issuecomment-126132622\n","closed_by":{"login":"xuzha","id":1799964,"node_id":"MDQ6VXNlcjE3OTk5NjQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1799964?v=4","gravatar_id":"","url":"https://api.github.com/users/xuzha","html_url":"https://github.com/xuzha","followers_url":"https://api.github.com/users/xuzha/followers","following_url":"https://api.github.com/users/xuzha/following{/other_user}","gists_url":"https://api.github.com/users/xuzha/gists{/gist_id}","starred_url":"https://api.github.com/users/xuzha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xuzha/subscriptions","organizations_url":"https://api.github.com/users/xuzha/orgs","repos_url":"https://api.github.com/users/xuzha/repos","events_url":"https://api.github.com/users/xuzha/events{/privacy}","received_events_url":"https://api.github.com/users/xuzha/received_events","type":"User","site_admin":false},"performed_via_github_app":null}