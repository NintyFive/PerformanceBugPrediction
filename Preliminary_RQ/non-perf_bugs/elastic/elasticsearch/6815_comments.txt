[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/48627256","html_url":"https://github.com/elastic/elasticsearch/issues/6815#issuecomment-48627256","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6815","id":48627256,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NjI3MjU2","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-07-10T16:16:01Z","updated_at":"2014-07-10T16:16:01Z","author_association":"CONTRIBUTOR","body":"Hi @mal \n\nI'm not really following the use case here. Could you expand on what you're trying to achieve?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/48705885","html_url":"https://github.com/elastic/elasticsearch/issues/6815#issuecomment-48705885","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6815","id":48705885,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NzA1ODg1","user":{"login":"mal","id":591257,"node_id":"MDQ6VXNlcjU5MTI1Nw==","avatar_url":"https://avatars0.githubusercontent.com/u/591257?v=4","gravatar_id":"","url":"https://api.github.com/users/mal","html_url":"https://github.com/mal","followers_url":"https://api.github.com/users/mal/followers","following_url":"https://api.github.com/users/mal/following{/other_user}","gists_url":"https://api.github.com/users/mal/gists{/gist_id}","starred_url":"https://api.github.com/users/mal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mal/subscriptions","organizations_url":"https://api.github.com/users/mal/orgs","repos_url":"https://api.github.com/users/mal/repos","events_url":"https://api.github.com/users/mal/events{/privacy}","received_events_url":"https://api.github.com/users/mal/received_events","type":"User","site_admin":false},"created_at":"2014-07-11T08:23:26Z","updated_at":"2014-09-04T13:43:31Z","author_association":"NONE","body":"We have documents that store references to each other, each document can reference multiple other documents, or none at all. Each set of inter-referential documents are discrete, forming thousands of isolated document clusters. The references are stored in an array like field.\n\nThe use case is to be able to aggregate on these clusters, to be able, for example:\n- to count the number of clusters\n- to find the biggest cluster\n- to be able to get a single document that best represents a cluster (i.e. top_hit after sorting a cluster)\n- etc\n\nHope that makes more sense!\n\nP.S. To clarify; in our case we'd be using `overlap=1` because one term in common between documents, would be enough to cluster the way we want, the idea to allow varying it was to hopefully make it more useful for others that may wish to use it.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/48725339","html_url":"https://github.com/elastic/elasticsearch/issues/6815#issuecomment-48725339","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6815","id":48725339,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NzI1MzM5","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-07-11T12:40:34Z","updated_at":"2014-07-11T12:40:34Z","author_association":"CONTRIBUTOR","body":"@markharwood any input here?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/54478531","html_url":"https://github.com/elastic/elasticsearch/issues/6815#issuecomment-54478531","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6815","id":54478531,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NDc4NTMx","user":{"login":"mal","id":591257,"node_id":"MDQ6VXNlcjU5MTI1Nw==","avatar_url":"https://avatars0.githubusercontent.com/u/591257?v=4","gravatar_id":"","url":"https://api.github.com/users/mal","html_url":"https://github.com/mal","followers_url":"https://api.github.com/users/mal/followers","following_url":"https://api.github.com/users/mal/following{/other_user}","gists_url":"https://api.github.com/users/mal/gists{/gist_id}","starred_url":"https://api.github.com/users/mal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mal/subscriptions","organizations_url":"https://api.github.com/users/mal/orgs","repos_url":"https://api.github.com/users/mal/repos","events_url":"https://api.github.com/users/mal/events{/privacy}","received_events_url":"https://api.github.com/users/mal/received_events","type":"User","site_admin":false},"created_at":"2014-09-04T13:43:42Z","updated_at":"2014-09-04T13:43:42Z","author_association":"NONE","body":"@clintongormley @markharwood I've updated the original issue example to hopefully better show the desired functionality, be interested in your thoughts on this\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/54492431","html_url":"https://github.com/elastic/elasticsearch/issues/6815#issuecomment-54492431","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6815","id":54492431,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NDkyNDMx","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2014-09-04T15:14:50Z","updated_at":"2014-09-04T15:14:50Z","author_association":"CONTRIBUTOR","body":"What you are talking about is essentially a graph. If you don't have too many terms (and that may be a big \"if\"...) then you can use 2 terms aggs to create a graph e.g. \n    {\n      \"aggs\": {\n        \"src\":{\n          \"terms\": {\n            \"field\": \"a\",\n            \"size\": 10000\n          },\n          \"aggs\": {\n            \"target\": {\n              \"terms\": {\n                \"field\": \"a\",\n                \"size\": 10000,\n                \"min_doc_count\": 2\n              }\n            }\n          }\n        }\n      }\n    }\n\nEach \"leaf\" bucket created is essentially defining an \"edge\" between pairs of nodes with a count of the number of docs. The \"min_doc_count\" is used to trim doc_counts of 1 which are essentially a self-reference of numbers in a single doc. You can create a graph from this data an run centrality measures etc.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/61239306","html_url":"https://github.com/elastic/elasticsearch/issues/6815#issuecomment-61239306","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6815","id":61239306,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjM5MzA2","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-10-31T09:56:44Z","updated_at":"2014-10-31T09:56:44Z","author_association":"CONTRIBUTOR","body":"@mal I hope mark's demo was helpful.  There are certainly more things that we can do to provide graph-like functionality, but we'll need to explore and scope them out.  I'm going to close this ticket for now. \n\nthanks for the suggestion\n","performed_via_github_app":null}]