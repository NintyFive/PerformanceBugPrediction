[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/48017010","html_url":"https://github.com/elastic/elasticsearch/issues/6720#issuecomment-48017010","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6720","id":48017010,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDE3MDEw","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2014-07-04T07:47:43Z","updated_at":"2014-07-04T07:47:43Z","author_association":"CONTRIBUTOR","body":"I think this is an awesome feature for specific problems. Yet I think we have to make sure that this never ever corrupts an index during a merge. IMO we should restrict this to numeric fields and allow only `asc / desc` and that field is automatically marked as using on-disk docvalues to make sure we don't fail the merge due to OOM.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/48024603","html_url":"https://github.com/elastic/elasticsearch/issues/6720#issuecomment-48024603","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6720","id":48024603,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDI0NjAz","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2014-07-04T09:27:12Z","updated_at":"2014-07-04T09:27:12Z","author_association":"CONTRIBUTOR","body":"why limit to numeric? whether a field is numeric or not is completely unrelated to this feature: sorry that just doesn't make sense. Since lucene 4.8 you can supply any arbitrary Sort here.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/48024750","html_url":"https://github.com/elastic/elasticsearch/issues/6720#issuecomment-48024750","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6720","id":48024750,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDI0NzUw","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2014-07-04T09:29:03Z","updated_at":"2014-07-04T09:29:03Z","author_association":"CONTRIBUTOR","body":"I am super concerned about memory consumption so I should have rather said restricted to on-disk DV. I don't think it's unrelated\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/48040429","html_url":"https://github.com/elastic/elasticsearch/issues/6720#issuecomment-48040429","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6720","id":48040429,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDQwNDI5","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2014-07-04T12:51:30Z","updated_at":"2014-07-04T12:51:30Z","author_association":"CONTRIBUTOR","body":"my question was with regards to string fields though. I think those are ok too (as well as multiple-level sorts or whatever lucene has). If we want to limit it to DV to prevent traps in merging thats fine, but I think string is just as good as numeric.\n\nSeparately, the real issue here is how well early termination will work with situations like aggregations. I don't yet fully understand how this is working, but it looks like it simply plugs into collector. so you would get wrong aggregation counts with early termination if we aren't careful.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/48043366","html_url":"https://github.com/elastic/elasticsearch/issues/6720#issuecomment-48043366","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6720","id":48043366,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDQzMzY2","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2014-07-04T13:23:21Z","updated_at":"2014-07-04T13:23:21Z","author_association":"CONTRIBUTOR","body":"+1 on allowing string doc values and multi-level sorts. We don't need to have them from the first iteration but having them eventually would be nice. Then we could early-terminate on any prefix on the sort that is configured at index time.\n\nEven without aggregations, simple things like the total number of hits could only be approximated. I guess there would need to be a per-query flag to turn early termination on.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/48369375","html_url":"https://github.com/elastic/elasticsearch/issues/6720#issuecomment-48369375","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6720","id":48369375,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzY5Mzc1","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2014-07-08T17:07:52Z","updated_at":"2014-07-08T17:07:52Z","author_association":"MEMBER","body":"This sounds like the PageRank use case, but there is another as well.\n\nSorting can be very useful for compression, to allow \"clumps\" of documents to be near each other (thus producing smaller deltas in postings).  For example, let's say we have songs lyrics as our documents, and we sort by genre.  If we restrict the search to a specific genre, we will quickly narrow into a small portion of the postings list, with small deltas.  Also, if we do a search across all genres, but for a term which is highly correlated with a genre (e.g. \"cowboy\" for \"Country\"), then again we will have good compression and search speed for that term.\n\nMy point is just that you don't need early termination for this to be useful.  It can help speed up queries if you just understand your data and the common types of queries you run.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/53104292","html_url":"https://github.com/elastic/elasticsearch/issues/6720#issuecomment-53104292","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6720","id":53104292,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTA0Mjky","user":{"login":"ofavre","id":95129,"node_id":"MDQ6VXNlcjk1MTI5","avatar_url":"https://avatars3.githubusercontent.com/u/95129?v=4","gravatar_id":"","url":"https://api.github.com/users/ofavre","html_url":"https://github.com/ofavre","followers_url":"https://api.github.com/users/ofavre/followers","following_url":"https://api.github.com/users/ofavre/following{/other_user}","gists_url":"https://api.github.com/users/ofavre/gists{/gist_id}","starred_url":"https://api.github.com/users/ofavre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ofavre/subscriptions","organizations_url":"https://api.github.com/users/ofavre/orgs","repos_url":"https://api.github.com/users/ofavre/repos","events_url":"https://api.github.com/users/ofavre/events{/privacy}","received_events_url":"https://api.github.com/users/ofavre/received_events","type":"User","site_admin":false},"created_at":"2014-08-22T18:43:42Z","updated_at":"2014-08-22T18:43:42Z","author_association":"CONTRIBUTOR","body":"[Algolia](https://www.algolia.com/) amazing speed is achieved through index-time ordering, and they do support typo-tolerance as well.\nI think it's safe to say that this can very well be a major feature.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/107224931","html_url":"https://github.com/elastic/elasticsearch/issues/6720#issuecomment-107224931","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6720","id":107224931,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNzIyNDkzMQ==","user":{"login":"Vineeth-Mohan","id":977962,"node_id":"MDQ6VXNlcjk3Nzk2Mg==","avatar_url":"https://avatars3.githubusercontent.com/u/977962?v=4","gravatar_id":"","url":"https://api.github.com/users/Vineeth-Mohan","html_url":"https://github.com/Vineeth-Mohan","followers_url":"https://api.github.com/users/Vineeth-Mohan/followers","following_url":"https://api.github.com/users/Vineeth-Mohan/following{/other_user}","gists_url":"https://api.github.com/users/Vineeth-Mohan/gists{/gist_id}","starred_url":"https://api.github.com/users/Vineeth-Mohan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Vineeth-Mohan/subscriptions","organizations_url":"https://api.github.com/users/Vineeth-Mohan/orgs","repos_url":"https://api.github.com/users/Vineeth-Mohan/repos","events_url":"https://api.github.com/users/Vineeth-Mohan/events{/privacy}","received_events_url":"https://api.github.com/users/Vineeth-Mohan/received_events","type":"User","site_admin":false},"created_at":"2015-05-31T17:09:51Z","updated_at":"2015-05-31T17:09:51Z","author_association":"NONE","body":"Looking forward for this feature. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/109627124","html_url":"https://github.com/elastic/elasticsearch/issues/6720#issuecomment-109627124","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6720","id":109627124,"node_id":"MDEyOklzc3VlQ29tbWVudDEwOTYyNzEyNA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-06-06T18:12:10Z","updated_at":"2015-06-06T18:12:10Z","author_association":"CONTRIBUTOR","body":"Comment copied over from #8873:\n\nDocuments of different types tend to have different fields, which can lead to problems of sparsity when documents are stored in the order that they were indexed.  If we sort documents by type, then missing values (eg in doc values or norms) can be represented very efficiently.\n\nOn merge, documents should be sorted by type (assuming there is more than one type).  Additionally, for certain use cases, it can make sense to apply a secondary sort (eg on timestamp). This secondary level should be customizable per index, and should probably be dynamically updatable (although it would only have effect on later merges).\n\nRelates to #8870\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/137705362","html_url":"https://github.com/elastic/elasticsearch/issues/6720#issuecomment-137705362","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6720","id":137705362,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNzcwNTM2Mg==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2015-09-04T11:05:05Z","updated_at":"2015-09-04T11:05:05Z","author_association":"CONTRIBUTOR","body":"We probably want to have https://issues.apache.org/jira/browse/LUCENE-6766 first.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/137971985","html_url":"https://github.com/elastic/elasticsearch/issues/6720#issuecomment-137971985","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6720","id":137971985,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNzk3MTk4NQ==","user":{"login":"otisg","id":332580,"node_id":"MDQ6VXNlcjMzMjU4MA==","avatar_url":"https://avatars2.githubusercontent.com/u/332580?v=4","gravatar_id":"","url":"https://api.github.com/users/otisg","html_url":"https://github.com/otisg","followers_url":"https://api.github.com/users/otisg/followers","following_url":"https://api.github.com/users/otisg/following{/other_user}","gists_url":"https://api.github.com/users/otisg/gists{/gist_id}","starred_url":"https://api.github.com/users/otisg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/otisg/subscriptions","organizations_url":"https://api.github.com/users/otisg/orgs","repos_url":"https://api.github.com/users/otisg/repos","events_url":"https://api.github.com/users/otisg/events{/privacy}","received_events_url":"https://api.github.com/users/otisg/received_events","type":"User","site_admin":false},"created_at":"2015-09-05T16:13:44Z","updated_at":"2015-09-05T16:13:44Z","author_association":"NONE","body":"@jpountz would this help in the typical ELK case where one indexes logs (older first, then newer ones) and typically short in the opposite order - first new ones, then old ones?\n\nIn other words, with a typical ELK case where logs are being indexed would the natural indexing order already result in ideally sorted index, or would one have to run something (whatever LUCENE-6766 and this ES issue expose) to inverse the sort order of such an index?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/137974027","html_url":"https://github.com/elastic/elasticsearch/issues/6720#issuecomment-137974027","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6720","id":137974027,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNzk3NDAyNw==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2015-09-05T16:44:49Z","updated_at":"2015-09-05T16:44:49Z","author_association":"CONTRIBUTOR","body":"I don't think index sorting would be appealing for time series: typical ELK deployments are interested in ingestion speed and running aggregations and none of them would benefit from index sorting as it adds overhead at index time and aggregations can't be early-terminated.\n\nIn my opinion, this would be more useful for pure search use-cases that only need to fetch the top docs and have a low to moderate ingestion rate.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/138152561","html_url":"https://github.com/elastic/elasticsearch/issues/6720#issuecomment-138152561","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6720","id":138152561,"node_id":"MDEyOklzc3VlQ29tbWVudDEzODE1MjU2MQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2015-09-07T01:28:40Z","updated_at":"2015-09-07T01:28:40Z","author_association":"CONTRIBUTOR","body":"> I don't think index sorting would be appealing for time series: typical ELK deployments are interested in ingestion speed and running aggregations and none of them would benefit from index sorting as it adds overhead at index time and aggregations can't be early-terminated.\n\nI suspect it'd be faster to answer \"find me the last 10 things that match this query\" which is pretty useful. You'd have to not care about the count of total matches and I'm not sure if that outweighs the index time cost. I don't know this feature well so I can speak to what that index time cost amounts to.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/162551551","html_url":"https://github.com/elastic/elasticsearch/issues/6720#issuecomment-162551551","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6720","id":162551551,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjU1MTU1MQ==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2015-12-07T15:11:20Z","updated_at":"2015-12-07T15:11:20Z","author_association":"MEMBER","body":"After reading the description I though it would be pretty easy to add the feature but then I realized that it would break the blockjoin/nested support. Seems like we would need another sorting merge policy which takes the nested document into account...  \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/195468034","html_url":"https://github.com/elastic/elasticsearch/issues/6720#issuecomment-195468034","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6720","id":195468034,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTQ2ODAzNA==","user":{"login":"Vineeth-Mohan","id":977962,"node_id":"MDQ6VXNlcjk3Nzk2Mg==","avatar_url":"https://avatars3.githubusercontent.com/u/977962?v=4","gravatar_id":"","url":"https://api.github.com/users/Vineeth-Mohan","html_url":"https://github.com/Vineeth-Mohan","followers_url":"https://api.github.com/users/Vineeth-Mohan/followers","following_url":"https://api.github.com/users/Vineeth-Mohan/following{/other_user}","gists_url":"https://api.github.com/users/Vineeth-Mohan/gists{/gist_id}","starred_url":"https://api.github.com/users/Vineeth-Mohan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Vineeth-Mohan/subscriptions","organizations_url":"https://api.github.com/users/Vineeth-Mohan/orgs","repos_url":"https://api.github.com/users/Vineeth-Mohan/repos","events_url":"https://api.github.com/users/Vineeth-Mohan/events{/privacy}","received_events_url":"https://api.github.com/users/Vineeth-Mohan/received_events","type":"User","site_admin":false},"created_at":"2016-03-11T17:32:38Z","updated_at":"2016-03-11T17:32:38Z","author_association":"NONE","body":"@ofavre - I am curious how this can speed up algolia. They offer various sorting options and one of them looks like TF-IDF. AFAIK , this technique can only speed up sorting based on a single factor and not something dynamic. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/233645782","html_url":"https://github.com/elastic/elasticsearch/issues/6720#issuecomment-233645782","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6720","id":233645782,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMzY0NTc4Mg==","user":{"login":"JanJakes","id":141436,"node_id":"MDQ6VXNlcjE0MTQzNg==","avatar_url":"https://avatars2.githubusercontent.com/u/141436?v=4","gravatar_id":"","url":"https://api.github.com/users/JanJakes","html_url":"https://github.com/JanJakes","followers_url":"https://api.github.com/users/JanJakes/followers","following_url":"https://api.github.com/users/JanJakes/following{/other_user}","gists_url":"https://api.github.com/users/JanJakes/gists{/gist_id}","starred_url":"https://api.github.com/users/JanJakes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JanJakes/subscriptions","organizations_url":"https://api.github.com/users/JanJakes/orgs","repos_url":"https://api.github.com/users/JanJakes/repos","events_url":"https://api.github.com/users/JanJakes/events{/privacy}","received_events_url":"https://api.github.com/users/JanJakes/received_events","type":"User","site_admin":false},"created_at":"2016-07-19T14:13:44Z","updated_at":"2016-07-19T14:13:44Z","author_association":"NONE","body":"Any plans/updates on this issue? Using index time sorting would have huge performance impacts on queries like \"give me 10 items with the highest rating\" when having millions of them. Seems like Algolia is using exactly this approach: https://www.algolia.com/doc/faq/index-configuration/how-to-sort-the-results-with-a-specific-attribute\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/233647915","html_url":"https://github.com/elastic/elasticsearch/issues/6720#issuecomment-233647915","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6720","id":233647915,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMzY0NzkxNQ==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-07-19T14:20:57Z","updated_at":"2016-07-19T14:20:57Z","author_association":"CONTRIBUTOR","body":"We are slowly making progress: index sorting is going to be better integrated into Lucene in the upcoming 6.2 release https://issues.apache.org/jira/browse/LUCENE-6766 so when 6.2 is out we can start working on the integration. This will take time so don't expect it to be implemented and automatically terminate queries early etc. soon, but there is definitely progress being made.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/273195433","html_url":"https://github.com/elastic/elasticsearch/issues/6720#issuecomment-273195433","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6720","id":273195433,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzE5NTQzMw==","user":{"login":"weiqiyiji","id":494412,"node_id":"MDQ6VXNlcjQ5NDQxMg==","avatar_url":"https://avatars2.githubusercontent.com/u/494412?v=4","gravatar_id":"","url":"https://api.github.com/users/weiqiyiji","html_url":"https://github.com/weiqiyiji","followers_url":"https://api.github.com/users/weiqiyiji/followers","following_url":"https://api.github.com/users/weiqiyiji/following{/other_user}","gists_url":"https://api.github.com/users/weiqiyiji/gists{/gist_id}","starred_url":"https://api.github.com/users/weiqiyiji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiqiyiji/subscriptions","organizations_url":"https://api.github.com/users/weiqiyiji/orgs","repos_url":"https://api.github.com/users/weiqiyiji/repos","events_url":"https://api.github.com/users/weiqiyiji/events{/privacy}","received_events_url":"https://api.github.com/users/weiqiyiji/received_events","type":"User","site_admin":false},"created_at":"2017-01-17T15:10:30Z","updated_at":"2017-01-17T15:10:30Z","author_association":"NONE","body":"Hey, guys, is there any progress? Currently I need index-time sorting in my product, and I wonder if I can wait util you guys implement this feature or I have to do it myself first.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/273207354","html_url":"https://github.com/elastic/elasticsearch/issues/6720#issuecomment-273207354","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6720","id":273207354,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzIwNzM1NA==","user":{"login":"mikemccand","id":796508,"node_id":"MDQ6VXNlcjc5NjUwOA==","avatar_url":"https://avatars0.githubusercontent.com/u/796508?v=4","gravatar_id":"","url":"https://api.github.com/users/mikemccand","html_url":"https://github.com/mikemccand","followers_url":"https://api.github.com/users/mikemccand/followers","following_url":"https://api.github.com/users/mikemccand/following{/other_user}","gists_url":"https://api.github.com/users/mikemccand/gists{/gist_id}","starred_url":"https://api.github.com/users/mikemccand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikemccand/subscriptions","organizations_url":"https://api.github.com/users/mikemccand/orgs","repos_url":"https://api.github.com/users/mikemccand/repos","events_url":"https://api.github.com/users/mikemccand/events{/privacy}","received_events_url":"https://api.github.com/users/mikemccand/received_events","type":"User","site_admin":false},"created_at":"2017-01-17T15:48:35Z","updated_at":"2017-01-17T15:48:35Z","author_association":"CONTRIBUTOR","body":"There has been good progress on the Lucene side, including a change @jimczi just pushed to Lucene 6.x (https://issues.apache.org/jira/browse/LUCENE-7579) for its future 6.5.0 release, to give a big boost to indexing performance with index-time sorting.  You can see the impact of that change in the nightly sparse Lucene benchmarks: it's annotation V in this chart: https://home.apache.org/~mikemccand/lucenebench/sparseResults.html#index_throughput\r\n\r\nBut we still have plenty of work to do to expose sorted indices in ES.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/273229782","html_url":"https://github.com/elastic/elasticsearch/issues/6720#issuecomment-273229782","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6720","id":273229782,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzIyOTc4Mg==","user":{"login":"weiqiyiji","id":494412,"node_id":"MDQ6VXNlcjQ5NDQxMg==","avatar_url":"https://avatars2.githubusercontent.com/u/494412?v=4","gravatar_id":"","url":"https://api.github.com/users/weiqiyiji","html_url":"https://github.com/weiqiyiji","followers_url":"https://api.github.com/users/weiqiyiji/followers","following_url":"https://api.github.com/users/weiqiyiji/following{/other_user}","gists_url":"https://api.github.com/users/weiqiyiji/gists{/gist_id}","starred_url":"https://api.github.com/users/weiqiyiji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/weiqiyiji/subscriptions","organizations_url":"https://api.github.com/users/weiqiyiji/orgs","repos_url":"https://api.github.com/users/weiqiyiji/repos","events_url":"https://api.github.com/users/weiqiyiji/events{/privacy}","received_events_url":"https://api.github.com/users/weiqiyiji/received_events","type":"User","site_admin":false},"created_at":"2017-01-17T16:59:54Z","updated_at":"2017-01-17T16:59:54Z","author_association":"NONE","body":"@mikemccand Ok, I'll watch this issue first. Thanks!","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/289449278","html_url":"https://github.com/elastic/elasticsearch/issues/6720#issuecomment-289449278","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6720","id":289449278,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTQ0OTI3OA==","user":{"login":"makeyang","id":13898618,"node_id":"MDQ6VXNlcjEzODk4NjE4","avatar_url":"https://avatars2.githubusercontent.com/u/13898618?v=4","gravatar_id":"","url":"https://api.github.com/users/makeyang","html_url":"https://github.com/makeyang","followers_url":"https://api.github.com/users/makeyang/followers","following_url":"https://api.github.com/users/makeyang/following{/other_user}","gists_url":"https://api.github.com/users/makeyang/gists{/gist_id}","starred_url":"https://api.github.com/users/makeyang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/makeyang/subscriptions","organizations_url":"https://api.github.com/users/makeyang/orgs","repos_url":"https://api.github.com/users/makeyang/repos","events_url":"https://api.github.com/users/makeyang/events{/privacy}","received_events_url":"https://api.github.com/users/makeyang/received_events","type":"User","site_admin":false},"created_at":"2017-03-27T13:13:37Z","updated_at":"2017-03-27T13:13:37Z","author_association":"CONTRIBUTOR","body":"@mikemccand  any branch working on this so we can take a look at it ?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/289451813","html_url":"https://github.com/elastic/elasticsearch/issues/6720#issuecomment-289451813","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6720","id":289451813,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTQ1MTgxMw==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2017-03-27T13:23:42Z","updated_at":"2017-03-27T13:23:42Z","author_association":"CONTRIBUTOR","body":"There is no branch yet.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/290723841","html_url":"https://github.com/elastic/elasticsearch/issues/6720#issuecomment-290723841","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6720","id":290723841,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDcyMzg0MQ==","user":{"login":"makeyang","id":13898618,"node_id":"MDQ6VXNlcjEzODk4NjE4","avatar_url":"https://avatars2.githubusercontent.com/u/13898618?v=4","gravatar_id":"","url":"https://api.github.com/users/makeyang","html_url":"https://github.com/makeyang","followers_url":"https://api.github.com/users/makeyang/followers","following_url":"https://api.github.com/users/makeyang/following{/other_user}","gists_url":"https://api.github.com/users/makeyang/gists{/gist_id}","starred_url":"https://api.github.com/users/makeyang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/makeyang/subscriptions","organizations_url":"https://api.github.com/users/makeyang/orgs","repos_url":"https://api.github.com/users/makeyang/repos","events_url":"https://api.github.com/users/makeyang/events{/privacy}","received_events_url":"https://api.github.com/users/makeyang/received_events","type":"User","site_admin":false},"created_at":"2017-03-31T14:15:12Z","updated_at":"2017-03-31T14:15:12Z","author_association":"CONTRIBUTOR","body":"sorry to bother to propose some thoughts on this issue:\r\n\r\n1. add mapping parameters: index_sort with values[no, asc, desc] for datatype[long,integer,short,byte,double,float] and index_sort_order with no-negative int value if and only if fields setting index_sort\r\n2. these 2 parameters can't be modified once it is set for a index\r\n3. index_sort_order is used to decide order of multi fields and 1 stands for the first sequence to decide sort\r\n4. it should not allow null value for fields with mapping parameter index_sort set not no for easy to implement\r\n5. it should not allow indices with no-zero-doc to add fields with index_sort parameter for easy to implement\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/290725464","html_url":"https://github.com/elastic/elasticsearch/issues/6720#issuecomment-290725464","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6720","id":290725464,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDcyNTQ2NA==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2017-03-31T14:21:18Z","updated_at":"2017-03-31T14:21:18Z","author_association":"MEMBER","body":"@makeyang thanks. \r\nI am planning to add the index sorting spec in the index settings rather than on the index mapping since you can define an index sort based on multiple fields.\r\nAnyway I am currently iterating on this feature and I'll add updates (and link to the PR when I open it) to this issue so stay tuned !","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/295254968","html_url":"https://github.com/elastic/elasticsearch/issues/6720#issuecomment-295254968","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6720","id":295254968,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NTI1NDk2OA==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2017-04-19T12:40:27Z","updated_at":"2017-04-19T12:40:27Z","author_association":"MEMBER","body":"Index time sorting has landed in master:\r\nhttps://github.com/elastic/elasticsearch/pull/24055\r\n\r\nThere are still missing pieces that we need to add in order to make index sorting useful:\r\n\r\n- Documentation regarding when to (not) use index sorting and how\r\n\r\n- Early termination for queries that rely on the index sort\r\n\r\n- Faster sorted scroll queries when the query sort matches the index sort.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/307714803","html_url":"https://github.com/elastic/elasticsearch/issues/6720#issuecomment-307714803","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6720","id":307714803,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzcxNDgwMw==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2017-06-12T07:48:30Z","updated_at":"2017-06-12T07:48:30Z","author_association":"MEMBER","body":"Index sorting is now fully supported in master. \r\nThe documentation for this feature can be found here:\r\nhttps://www.elastic.co/guide/en/elasticsearch/reference/master/index-modules-index-sorting.html\r\n\r\nWe'll continue to add enhancements and features based on sorted indices but this issue can be closed. ","performed_via_github_app":null}]