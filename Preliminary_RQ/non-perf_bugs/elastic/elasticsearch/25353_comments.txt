[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/310389491","html_url":"https://github.com/elastic/elasticsearch/issues/25353#issuecomment-310389491","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25353","id":310389491,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDM4OTQ5MQ==","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2017-06-22T14:02:27Z","updated_at":"2017-06-22T14:02:27Z","author_association":"MEMBER","body":"Elasticsearch uses a hash function to spread the documents among the shards of the index. In your case, it uses the hash function of 2.3.3. But since you created the index with a old version (`index.version.created`: 1070499 corresponds to version 1.7.4), when the node is restarted elasticsearch thinks it's a old index and updates the index settings to use the hash function corresponding to 1.7.4 (DjbHashFunction). That just messed up all the Get requests.\r\n\r\nYou should not force a old version when creating an index (I think it's not possible anymore in newer versions). So your options are to either use an old elasticsearch version compatible with the community plugin or use a newer version of the plugin if it exists.\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/310390593","html_url":"https://github.com/elastic/elasticsearch/issues/25353#issuecomment-310390593","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25353","id":310390593,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDM5MDU5Mw==","user":{"login":"daviddyball","id":1235844,"node_id":"MDQ6VXNlcjEyMzU4NDQ=","avatar_url":"https://avatars2.githubusercontent.com/u/1235844?v=4","gravatar_id":"","url":"https://api.github.com/users/daviddyball","html_url":"https://github.com/daviddyball","followers_url":"https://api.github.com/users/daviddyball/followers","following_url":"https://api.github.com/users/daviddyball/following{/other_user}","gists_url":"https://api.github.com/users/daviddyball/gists{/gist_id}","starred_url":"https://api.github.com/users/daviddyball/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daviddyball/subscriptions","organizations_url":"https://api.github.com/users/daviddyball/orgs","repos_url":"https://api.github.com/users/daviddyball/repos","events_url":"https://api.github.com/users/daviddyball/events{/privacy}","received_events_url":"https://api.github.com/users/daviddyball/received_events","type":"User","site_admin":false},"created_at":"2017-06-22T14:06:31Z","updated_at":"2017-06-22T14:06:31Z","author_association":"NONE","body":"Makes complete sense. Thanks for the clarification. I've spoken with the plugin maintainer and it's not on the roadmap, so I'll work something out.","performed_via_github_app":null}]