[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/6660281","html_url":"https://github.com/elastic/elasticsearch/issues/2040#issuecomment-6660281","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2040","id":6660281,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjAyODE=","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2012-06-29T14:04:47Z","updated_at":"2012-06-29T14:04:47Z","author_association":"MEMBER","body":"+1, I also need this feature\n\nCan anyone point me to the class(es) or way to implement this? Thx\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/8732675","html_url":"https://github.com/elastic/elasticsearch/issues/2040#issuecomment-8732675","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2040","id":8732675,"node_id":"MDEyOklzc3VlQ29tbWVudDg3MzI2NzU=","user":{"login":"jimdickinson","id":55369,"node_id":"MDQ6VXNlcjU1MzY5","avatar_url":"https://avatars0.githubusercontent.com/u/55369?v=4","gravatar_id":"","url":"https://api.github.com/users/jimdickinson","html_url":"https://github.com/jimdickinson","followers_url":"https://api.github.com/users/jimdickinson/followers","following_url":"https://api.github.com/users/jimdickinson/following{/other_user}","gists_url":"https://api.github.com/users/jimdickinson/gists{/gist_id}","starred_url":"https://api.github.com/users/jimdickinson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimdickinson/subscriptions","organizations_url":"https://api.github.com/users/jimdickinson/orgs","repos_url":"https://api.github.com/users/jimdickinson/repos","events_url":"https://api.github.com/users/jimdickinson/events{/privacy}","received_events_url":"https://api.github.com/users/jimdickinson/received_events","type":"User","site_admin":false},"created_at":"2012-09-20T15:20:08Z","updated_at":"2012-09-20T15:20:08Z","author_association":"NONE","body":"+1\n\nThis feature would be really useful to me.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/8747260","html_url":"https://github.com/elastic/elasticsearch/issues/2040#issuecomment-8747260","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2040","id":8747260,"node_id":"MDEyOklzc3VlQ29tbWVudDg3NDcyNjA=","user":{"login":"otisg","id":332580,"node_id":"MDQ6VXNlcjMzMjU4MA==","avatar_url":"https://avatars2.githubusercontent.com/u/332580?v=4","gravatar_id":"","url":"https://api.github.com/users/otisg","html_url":"https://github.com/otisg","followers_url":"https://api.github.com/users/otisg/followers","following_url":"https://api.github.com/users/otisg/following{/other_user}","gists_url":"https://api.github.com/users/otisg/gists{/gist_id}","starred_url":"https://api.github.com/users/otisg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/otisg/subscriptions","organizations_url":"https://api.github.com/users/otisg/orgs","repos_url":"https://api.github.com/users/otisg/repos","events_url":"https://api.github.com/users/otisg/events{/privacy}","received_events_url":"https://api.github.com/users/otisg/received_events","type":"User","site_admin":false},"created_at":"2012-09-20T22:02:05Z","updated_at":"2012-09-20T22:02:05Z","author_association":"NONE","body":"+1\nJust spoke to a company using ES and they, too, would like this.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/9529389","html_url":"https://github.com/elastic/elasticsearch/issues/2040#issuecomment-9529389","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2040","id":9529389,"node_id":"MDEyOklzc3VlQ29tbWVudDk1MjkzODk=","user":{"login":"ferdynice","id":2369153,"node_id":"MDQ6VXNlcjIzNjkxNTM=","avatar_url":"https://avatars3.githubusercontent.com/u/2369153?v=4","gravatar_id":"","url":"https://api.github.com/users/ferdynice","html_url":"https://github.com/ferdynice","followers_url":"https://api.github.com/users/ferdynice/followers","following_url":"https://api.github.com/users/ferdynice/following{/other_user}","gists_url":"https://api.github.com/users/ferdynice/gists{/gist_id}","starred_url":"https://api.github.com/users/ferdynice/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ferdynice/subscriptions","organizations_url":"https://api.github.com/users/ferdynice/orgs","repos_url":"https://api.github.com/users/ferdynice/repos","events_url":"https://api.github.com/users/ferdynice/events{/privacy}","received_events_url":"https://api.github.com/users/ferdynice/received_events","type":"User","site_admin":false},"created_at":"2012-10-17T14:32:30Z","updated_at":"2012-10-17T14:32:30Z","author_association":"NONE","body":"This would be very useful!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/12642718","html_url":"https://github.com/elastic/elasticsearch/issues/2040#issuecomment-12642718","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2040","id":12642718,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNjQyNzE4","user":{"login":"loachli","id":2426652,"node_id":"MDQ6VXNlcjI0MjY2NTI=","avatar_url":"https://avatars0.githubusercontent.com/u/2426652?v=4","gravatar_id":"","url":"https://api.github.com/users/loachli","html_url":"https://github.com/loachli","followers_url":"https://api.github.com/users/loachli/followers","following_url":"https://api.github.com/users/loachli/following{/other_user}","gists_url":"https://api.github.com/users/loachli/gists{/gist_id}","starred_url":"https://api.github.com/users/loachli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/loachli/subscriptions","organizations_url":"https://api.github.com/users/loachli/orgs","repos_url":"https://api.github.com/users/loachli/repos","events_url":"https://api.github.com/users/loachli/events{/privacy}","received_events_url":"https://api.github.com/users/loachli/received_events","type":"User","site_admin":false},"created_at":"2013-01-24T09:06:33Z","updated_at":"2013-01-24T09:06:33Z","author_association":"NONE","body":"+1, Save top k is enough\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/28823341","html_url":"https://github.com/elastic/elasticsearch/issues/2040#issuecomment-28823341","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2040","id":28823341,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODIzMzQx","user":{"login":"fmaritato","id":155571,"node_id":"MDQ6VXNlcjE1NTU3MQ==","avatar_url":"https://avatars1.githubusercontent.com/u/155571?v=4","gravatar_id":"","url":"https://api.github.com/users/fmaritato","html_url":"https://github.com/fmaritato","followers_url":"https://api.github.com/users/fmaritato/followers","following_url":"https://api.github.com/users/fmaritato/following{/other_user}","gists_url":"https://api.github.com/users/fmaritato/gists{/gist_id}","starred_url":"https://api.github.com/users/fmaritato/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmaritato/subscriptions","organizations_url":"https://api.github.com/users/fmaritato/orgs","repos_url":"https://api.github.com/users/fmaritato/repos","events_url":"https://api.github.com/users/fmaritato/events{/privacy}","received_events_url":"https://api.github.com/users/fmaritato/received_events","type":"User","site_admin":false},"created_at":"2013-11-19T19:21:12Z","updated_at":"2013-11-19T19:21:12Z","author_association":"NONE","body":"I have done some work on this since I need it for a project. I only implemented it for terms facets at the moment until I get some feedback on implementation. Can someone take a look at the diff of my fork and let me know if this is on the right track? https://github.com/fmaritato/elasticsearch/compare/issue2040\n\nEssentially, I added a \"num_results\" parameter to the terms facet. The unit test I added uses the elasticsearch-test framework since it is easier and faster than the integration tests the project currently uses. I can take it out or switch it over if desired.\n\nThanks\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/33250386","html_url":"https://github.com/elastic/elasticsearch/issues/2040#issuecomment-33250386","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2040","id":33250386,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjUwMzg2","user":{"login":"billoneil","id":5205330,"node_id":"MDQ6VXNlcjUyMDUzMzA=","avatar_url":"https://avatars3.githubusercontent.com/u/5205330?v=4","gravatar_id":"","url":"https://api.github.com/users/billoneil","html_url":"https://github.com/billoneil","followers_url":"https://api.github.com/users/billoneil/followers","following_url":"https://api.github.com/users/billoneil/following{/other_user}","gists_url":"https://api.github.com/users/billoneil/gists{/gist_id}","starred_url":"https://api.github.com/users/billoneil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billoneil/subscriptions","organizations_url":"https://api.github.com/users/billoneil/orgs","repos_url":"https://api.github.com/users/billoneil/repos","events_url":"https://api.github.com/users/billoneil/events{/privacy}","received_events_url":"https://api.github.com/users/billoneil/received_events","type":"User","site_admin":false},"created_at":"2014-01-24T18:55:46Z","updated_at":"2014-01-24T18:55:46Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/49412673","html_url":"https://github.com/elastic/elasticsearch/issues/2040#issuecomment-49412673","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2040","id":49412673,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDEyNjcz","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-07-18T09:35:55Z","updated_at":"2014-07-18T09:35:55Z","author_association":"CONTRIBUTOR","body":"Closing in favour of #6876\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/49414768","html_url":"https://github.com/elastic/elasticsearch/issues/2040#issuecomment-49414768","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2040","id":49414768,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDE0NzY4","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-07-18T10:00:17Z","updated_at":"2014-07-18T10:00:17Z","author_association":"CONTRIBUTOR","body":"Actually, #6876 doesn't solve this.  Please could I have some info about use cases here.  Why do you need this feature?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/49673662","html_url":"https://github.com/elastic/elasticsearch/issues/2040#issuecomment-49673662","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2040","id":49673662,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NjczNjYy","user":{"login":"fmaritato","id":155571,"node_id":"MDQ6VXNlcjE1NTU3MQ==","avatar_url":"https://avatars1.githubusercontent.com/u/155571?v=4","gravatar_id":"","url":"https://api.github.com/users/fmaritato","html_url":"https://github.com/fmaritato","followers_url":"https://api.github.com/users/fmaritato/followers","following_url":"https://api.github.com/users/fmaritato/following{/other_user}","gists_url":"https://api.github.com/users/fmaritato/gists{/gist_id}","starred_url":"https://api.github.com/users/fmaritato/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmaritato/subscriptions","organizations_url":"https://api.github.com/users/fmaritato/orgs","repos_url":"https://api.github.com/users/fmaritato/repos","events_url":"https://api.github.com/users/fmaritato/events{/privacy}","received_events_url":"https://api.github.com/users/fmaritato/received_events","type":"User","site_admin":false},"created_at":"2014-07-21T22:14:26Z","updated_at":"2014-07-21T22:14:26Z","author_association":"NONE","body":"The project I was working on was indexing shopping products from different providers who had inventory. I found when I was doing searches but only returning the first 25 items that the facets returning the brand names and counts reflected the entire search instead of what was being shown on the page. This often lead to a confusing user experience.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/49700699","html_url":"https://github.com/elastic/elasticsearch/issues/2040#issuecomment-49700699","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2040","id":49700699,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzAwNjk5","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-07-22T05:47:49Z","updated_at":"2014-07-22T05:47:49Z","author_association":"CONTRIBUTOR","body":"I can see the usefulness of this option. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/49735427","html_url":"https://github.com/elastic/elasticsearch/issues/2040#issuecomment-49735427","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2040","id":49735427,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzM1NDI3","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2014-07-22T13:03:48Z","updated_at":"2014-07-22T13:04:11Z","author_association":"CONTRIBUTOR","body":"Related: I extended the significant_terms agg in https://github.com/elasticsearch/elasticsearch/pull/6796 to add sampling of top results from each shard. For that use case it was also beneficial to eliminate near-duplicates from the analysis because they tend to rank similarly in the results. Using elements of this implementation and the new \"deferred\" capability in the aggregations base class we could add a sampling capability that would apply to all child aggregations in a tree.  \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/101300993","html_url":"https://github.com/elastic/elasticsearch/issues/2040#issuecomment-101300993","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2040","id":101300993,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMTMwMDk5Mw==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2015-05-12T14:29:03Z","updated_at":"2015-05-12T14:29:03Z","author_association":"CONTRIBUTOR","body":"Closed in favour of https://github.com/elastic/elasticsearch/issues/8108 which is now in master branch\n","performed_via_github_app":null}]