{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/46222","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46222/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46222/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46222/events","html_url":"https://github.com/elastic/elasticsearch/issues/46222","id":488066208,"node_id":"MDU6SXNzdWU0ODgwNjYyMDg=","number":46222,"title":"boolean, string, number value - canonical form","user":{"login":"regfaker","id":1756775,"node_id":"MDQ6VXNlcjE3NTY3NzU=","avatar_url":"https://avatars0.githubusercontent.com/u/1756775?v=4","gravatar_id":"","url":"https://api.github.com/users/regfaker","html_url":"https://github.com/regfaker","followers_url":"https://api.github.com/users/regfaker/followers","following_url":"https://api.github.com/users/regfaker/following{/other_user}","gists_url":"https://api.github.com/users/regfaker/gists{/gist_id}","starred_url":"https://api.github.com/users/regfaker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/regfaker/subscriptions","organizations_url":"https://api.github.com/users/regfaker/orgs","repos_url":"https://api.github.com/users/regfaker/repos","events_url":"https://api.github.com/users/regfaker/events{/privacy}","received_events_url":"https://api.github.com/users/regfaker/received_events","type":"User","site_admin":false},"labels":[{"id":141145460,"node_id":"MDU6TGFiZWwxNDExNDU0NjA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Mapping","name":":Search/Mapping","color":"0e8a16","default":false,"description":"How fields should be indexed"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2019-09-02T08:30:29Z","updated_at":"2019-09-03T20:36:52Z","closed_at":"2019-09-03T20:36:52Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\r\nhard to say if this is bug or feature request. From my point of view it is rather bug.\r\n\r\nBoolean type fields accepts both boolean and string boolean values. But it is saved in that form which comes in. So then in search response hits there are mixed values \"true\", true, ...\r\nIt was suprising to me that it does not persist canonical value of given type. Ok, search term based on boolean value is working but if hits are processed then it is not what one would expect. Of course it could be said that it is competence of client which sends data to save. But it is also part of competence of storage to hold values of given type in correct form.\r\n\r\nSame behaviour for string (keyword, text) (number value stored), number (string value of number is allowed) types.\r\n\r\nShouldn't be all types saved in their canonical form?\r\n\r\n**Elasticsearch version**: 6.6.1\r\n**JVM version** (`java -version`): 1.8.0_131\r\n\r\n**OS version** (`uname -a` if on a Unix-like system): Linux  4.4.0-1075-aws #85-Ubuntu SMP Thu Jan 17 17:15:12 UTC 2019 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n 1. Put boolean type mapping to field on some index.\r\n 2. Save document to this index with this field value as \"true\" (string form)\r\n 3. Make _search to return this new document and string form value will be returned in hits _source.\r\n","closed_by":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"performed_via_github_app":null}