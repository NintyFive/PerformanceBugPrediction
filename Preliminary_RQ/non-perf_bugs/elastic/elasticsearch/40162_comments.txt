[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/474012104","html_url":"https://github.com/elastic/elasticsearch/issues/40162#issuecomment-474012104","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40162","id":474012104,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NDAxMjEwNA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-03-18T17:09:58Z","updated_at":"2019-03-18T17:09:58Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/475987405","html_url":"https://github.com/elastic/elasticsearch/issues/40162#issuecomment-475987405","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40162","id":475987405,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NTk4NzQwNQ==","user":{"login":"matriv","id":5058131,"node_id":"MDQ6VXNlcjUwNTgxMzE=","avatar_url":"https://avatars1.githubusercontent.com/u/5058131?v=4","gravatar_id":"","url":"https://api.github.com/users/matriv","html_url":"https://github.com/matriv","followers_url":"https://api.github.com/users/matriv/followers","following_url":"https://api.github.com/users/matriv/following{/other_user}","gists_url":"https://api.github.com/users/matriv/gists{/gist_id}","starred_url":"https://api.github.com/users/matriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matriv/subscriptions","organizations_url":"https://api.github.com/users/matriv/orgs","repos_url":"https://api.github.com/users/matriv/repos","events_url":"https://api.github.com/users/matriv/events{/privacy}","received_events_url":"https://api.github.com/users/matriv/received_events","type":"User","site_admin":false},"created_at":"2019-03-24T18:41:43Z","updated_at":"2019-03-24T18:42:12Z","author_association":"CONTRIBUTOR","body":"@astefan I don't get why this is an issue, it's expected behaviour.\r\nYou're adding the `certified` column which has unique value for all 7 entries.\r\nTo clarify the results you can add the `certified` to the select list: ```SELECT count(*), YEAR(certified) year, certified FROM test WHERE certified > 0 GROUP BY year, certified```  you get:\r\n```\r\n   count(*)    |     year      |       certified\r\n---------------+---------------+------------------------\r\n1              |2018           |2018-07-31T10:44:11.857Z\r\n1              |2018           |2018-08-21T15:44:11.857Z\r\n1              |2018           |2018-11-30T10:44:11.857Z\r\n1              |2019           |2019-01-14T10:44:11.857Z\r\n1              |2019           |2019-02-21T10:44:11.857Z\r\n1              |2019           |2019-03-11T15:44:11.857Z\r\n1              |2019           |2019-03-15T10:44:11.857Z\r\n```\r\n\r\nwhich is the expected result.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/476080413","html_url":"https://github.com/elastic/elasticsearch/issues/40162#issuecomment-476080413","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40162","id":476080413,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NjA4MDQxMw==","user":{"login":"astefan","id":893749,"node_id":"MDQ6VXNlcjg5Mzc0OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/893749?v=4","gravatar_id":"","url":"https://api.github.com/users/astefan","html_url":"https://github.com/astefan","followers_url":"https://api.github.com/users/astefan/followers","following_url":"https://api.github.com/users/astefan/following{/other_user}","gists_url":"https://api.github.com/users/astefan/gists{/gist_id}","starred_url":"https://api.github.com/users/astefan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astefan/subscriptions","organizations_url":"https://api.github.com/users/astefan/orgs","repos_url":"https://api.github.com/users/astefan/repos","events_url":"https://api.github.com/users/astefan/events{/privacy}","received_events_url":"https://api.github.com/users/astefan/received_events","type":"User","site_admin":false},"created_at":"2019-03-25T07:13:49Z","updated_at":"2019-03-25T07:13:49Z","author_association":"CONTRIBUTOR","body":"Look carefully at the first and second tests results for YEAR. In the first one you have 2017, while in the second you don't but you have 2019. It's about how intervals work in ES and @costin mentioned this is the correct behavior, but imo it's an unexpected behavior from end user point of view and we'll probably hear about this some more in the future.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/476244718","html_url":"https://github.com/elastic/elasticsearch/issues/40162#issuecomment-476244718","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40162","id":476244718,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NjI0NDcxOA==","user":{"login":"matriv","id":5058131,"node_id":"MDQ6VXNlcjUwNTgxMzE=","avatar_url":"https://avatars1.githubusercontent.com/u/5058131?v=4","gravatar_id":"","url":"https://api.github.com/users/matriv","html_url":"https://github.com/matriv","followers_url":"https://api.github.com/users/matriv/followers","following_url":"https://api.github.com/users/matriv/following{/other_user}","gists_url":"https://api.github.com/users/matriv/gists{/gist_id}","starred_url":"https://api.github.com/users/matriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matriv/subscriptions","organizations_url":"https://api.github.com/users/matriv/orgs","repos_url":"https://api.github.com/users/matriv/repos","events_url":"https://api.github.com/users/matriv/events{/privacy}","received_events_url":"https://api.github.com/users/matriv/received_events","type":"User","site_admin":false},"created_at":"2019-03-25T15:20:32Z","updated_at":"2019-03-25T15:20:32Z","author_association":"CONTRIBUTOR","body":"Sorry, completely missed that. and I now I remember the discussion on this.\r\nImho, the YEAR() should behave the same way, regardless where and how it's used. If it's in the GROUP BY as the only grouping key it shouldn't change behavior and transform into an `INTERVAL 1 year` histogram. It should still extract the year as a number and use it for the grouping via a painless script as usual.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/504921706","html_url":"https://github.com/elastic/elasticsearch/issues/40162#issuecomment-504921706","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40162","id":504921706,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDkyMTcwNg==","user":{"login":"astefan","id":893749,"node_id":"MDQ6VXNlcjg5Mzc0OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/893749?v=4","gravatar_id":"","url":"https://api.github.com/users/astefan","html_url":"https://github.com/astefan","followers_url":"https://api.github.com/users/astefan/followers","following_url":"https://api.github.com/users/astefan/following{/other_user}","gists_url":"https://api.github.com/users/astefan/gists{/gist_id}","starred_url":"https://api.github.com/users/astefan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astefan/subscriptions","organizations_url":"https://api.github.com/users/astefan/orgs","repos_url":"https://api.github.com/users/astefan/repos","events_url":"https://api.github.com/users/astefan/events{/privacy}","received_events_url":"https://api.github.com/users/astefan/received_events","type":"User","site_admin":false},"created_at":"2019-06-24T08:56:05Z","updated_at":"2019-06-24T08:56:05Z","author_association":"CONTRIBUTOR","body":"One more thing I'd like to mention, not to lose track of it: the `HISTOGRAM` using a `1 YEAR` interval it's creating a `date_histogram` with `31104000000ms` (from `SELECT HISTOGRAM(date, INTERVAL 1 YEAR) AS h, COUNT(*) AS c FROM test GROUP BY h`) while a `GROUP BY YEAR(date)` is creating a `date_histogram` with `31536000000ms`. The former is computed as 12 months having 30 days and then coming up with a milliseconds number, while the latter uses 365 days year and then reaching the milliseconds number. While I understand why it's like this, I think it's small inconsistency in how we approach these scenarios.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/508454085","html_url":"https://github.com/elastic/elasticsearch/issues/40162#issuecomment-508454085","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40162","id":508454085,"node_id":"MDEyOklzc3VlQ29tbWVudDUwODQ1NDA4NQ==","user":{"login":"sophiec20","id":4185750,"node_id":"MDQ6VXNlcjQxODU3NTA=","avatar_url":"https://avatars2.githubusercontent.com/u/4185750?v=4","gravatar_id":"","url":"https://api.github.com/users/sophiec20","html_url":"https://github.com/sophiec20","followers_url":"https://api.github.com/users/sophiec20/followers","following_url":"https://api.github.com/users/sophiec20/following{/other_user}","gists_url":"https://api.github.com/users/sophiec20/gists{/gist_id}","starred_url":"https://api.github.com/users/sophiec20/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sophiec20/subscriptions","organizations_url":"https://api.github.com/users/sophiec20/orgs","repos_url":"https://api.github.com/users/sophiec20/repos","events_url":"https://api.github.com/users/sophiec20/events{/privacy}","received_events_url":"https://api.github.com/users/sophiec20/received_events","type":"User","site_admin":false},"created_at":"2019-07-04T11:48:58Z","updated_at":"2019-07-04T11:48:58Z","author_association":"NONE","body":"From an end-user perspective, I am finding the YEAR method kinda strange. My SQL background expects this to be the calendar year of the data i.e. `datepart(date,'yyyy')`.\r\n\r\nThe following results were returned for the same data. Results B and D (which both use calendar_interval date histogram) is what I would expect to be returned.  (I don't quite understand results A and C.) \r\n\r\n[A] Using SQL\r\n```\r\nGET _sql?format=txt\r\n{\r\n  \"query\": \"select YEAR(\\\"@timestamp\\\"), count(*) from \\\"gallery-*\\\" group by YEAR(\\\"@timestamp\\\")\"\r\n}\r\n\r\nYEAR(\"@timestamp\")|   count(*)    \r\n------------------+---------------       \r\n2017              |174004         \r\n2018              |25442794  \r\n```\r\n\r\n[B] Using calendar_interval agg\r\n```\r\nGET gallery-*/_search?track_total_hits=true\r\n{\r\n  \"size\": 0,\r\n  \"aggs\": {\r\n    \"time\": {\r\n      \"date_histogram\": {\r\n        \"field\": \"@timestamp\",\r\n        \"calendar_interval\": \"1y\"\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n# results\r\n{\r\n  \"took\" : 27,\r\n  \"timed_out\" : false,\r\n  \"_shards\" : {\r\n    \"total\" : 29,\r\n    \"successful\" : 29,\r\n    \"skipped\" : 0,\r\n    \"failed\" : 0\r\n  },\r\n  \"hits\" : {\r\n    \"total\" : {\r\n      \"value\" : 25616799,\r\n      \"relation\" : \"eq\"\r\n    },\r\n    \"max_score\" : null,\r\n    \"hits\" : [ ]\r\n  },\r\n  \"aggregations\" : {\r\n    \"time\" : {\r\n      \"buckets\" : [\r\n        {\r\n          \"key_as_string\" : \"2018-01-01T00:00:00.000Z\",\r\n          \"key\" : 1514764800000,\r\n          \"doc_count\" : 240539\r\n        },\r\n        {\r\n          \"key_as_string\" : \"2019-01-01T00:00:00.000Z\",\r\n          \"key\" : 1546300800000,\r\n          \"doc_count\" : 25376259\r\n        }\r\n      ]\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n[C] Using fixed_interval aggs\r\n```\r\nGET gallery-*/_search?track_total_hits=true\r\n{\r\n  \"size\": 0,\r\n  \"aggs\": {\r\n    \"time\": {\r\n      \"date_histogram\": {\r\n        \"field\": \"@timestamp\",\r\n        \"fixed_interval\": \"365d\"\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n# results\r\n{\r\n  \"took\" : 2225,\r\n  \"timed_out\" : false,\r\n  \"_shards\" : {\r\n    \"total\" : 29,\r\n    \"successful\" : 29,\r\n    \"skipped\" : 0,\r\n    \"failed\" : 0\r\n  },\r\n  \"hits\" : {\r\n    \"total\" : {\r\n      \"value\" : 25616799,\r\n      \"relation\" : \"eq\"\r\n    },\r\n    \"max_score\" : null,\r\n    \"hits\" : [ ]\r\n  },\r\n  \"aggregations\" : {\r\n    \"time\" : {\r\n      \"buckets\" : [\r\n        {\r\n          \"key_as_string\" : \"2017-12-20T00:00:00.000Z\",\r\n          \"key\" : 1513728000000,\r\n          \"doc_count\" : 174004\r\n        },\r\n        {\r\n          \"key_as_string\" : \"2018-12-20T00:00:00.000Z\",\r\n          \"key\" : 1545264000000,\r\n          \"doc_count\" : 25442794\r\n        }\r\n      ]\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n[D] Using Kibana (note it is not possible to select histogram with a date field)\r\n![image](https://user-images.githubusercontent.com/4185750/60664148-10a46d00-9e59-11e9-87d0-9324313f769c.png)\r\n\r\nFound in 7.3.0 `    \"build_hash\" : \"f8fd432\",\r\n    \"build_date\" : \"2019-07-03T15:05:06.452272Z\"`","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/508455453","html_url":"https://github.com/elastic/elasticsearch/issues/40162#issuecomment-508455453","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40162","id":508455453,"node_id":"MDEyOklzc3VlQ29tbWVudDUwODQ1NTQ1Mw==","user":{"login":"sophiec20","id":4185750,"node_id":"MDQ6VXNlcjQxODU3NTA=","avatar_url":"https://avatars2.githubusercontent.com/u/4185750?v=4","gravatar_id":"","url":"https://api.github.com/users/sophiec20","html_url":"https://github.com/sophiec20","followers_url":"https://api.github.com/users/sophiec20/followers","following_url":"https://api.github.com/users/sophiec20/following{/other_user}","gists_url":"https://api.github.com/users/sophiec20/gists{/gist_id}","starred_url":"https://api.github.com/users/sophiec20/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sophiec20/subscriptions","organizations_url":"https://api.github.com/users/sophiec20/orgs","repos_url":"https://api.github.com/users/sophiec20/repos","events_url":"https://api.github.com/users/sophiec20/events{/privacy}","received_events_url":"https://api.github.com/users/sophiec20/received_events","type":"User","site_admin":false},"created_at":"2019-07-04T11:54:19Z","updated_at":"2019-07-04T11:54:19Z","author_association":"NONE","body":"looks like this will probably be resolved by https://github.com/elastic/elasticsearch/issues/43922","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/508464626","html_url":"https://github.com/elastic/elasticsearch/issues/40162#issuecomment-508464626","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40162","id":508464626,"node_id":"MDEyOklzc3VlQ29tbWVudDUwODQ2NDYyNg==","user":{"login":"astefan","id":893749,"node_id":"MDQ6VXNlcjg5Mzc0OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/893749?v=4","gravatar_id":"","url":"https://api.github.com/users/astefan","html_url":"https://github.com/astefan","followers_url":"https://api.github.com/users/astefan/followers","following_url":"https://api.github.com/users/astefan/following{/other_user}","gists_url":"https://api.github.com/users/astefan/gists{/gist_id}","starred_url":"https://api.github.com/users/astefan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astefan/subscriptions","organizations_url":"https://api.github.com/users/astefan/orgs","repos_url":"https://api.github.com/users/astefan/repos","events_url":"https://api.github.com/users/astefan/events{/privacy}","received_events_url":"https://api.github.com/users/astefan/received_events","type":"User","site_admin":false},"created_at":"2019-07-04T12:27:23Z","updated_at":"2019-07-04T12:27:23Z","author_association":"CONTRIBUTOR","body":"@sophiec20 SQL uses, at the moment, an `interval` expressed in milliseconds to represent a year. And this interval is a fixed one, not counting leap years. If we take into consideration #43922, it's basically a `fixed_interval`.\r\n\r\nSo, the way it works now (with `fixed_interval`) in SQL is, imagine time starting on January 1st, 1970 and start adding to this date the number of milliseconds in a 365 days year - `31536000000ms`. And every time you add that number of millis a bucket is created. 49th bucket starts on Dec 20th, 2018 and all the dates from Dec 20th, 2018 until Dec 20th, 2019 fall in the 2018 bucket. Same goes for all the dates from Dec 20th, 2017 to Dec 20th, 2018 - the will fall in the 2017 bucket.\r\n\r\n#43922 will not fix this. The actual fix is to switch from using a `31536000000ms` interval to a `1y` `calendar_interval` one.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/526081984","html_url":"https://github.com/elastic/elasticsearch/issues/40162#issuecomment-526081984","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40162","id":526081984,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjA4MTk4NA==","user":{"login":"astefan","id":893749,"node_id":"MDQ6VXNlcjg5Mzc0OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/893749?v=4","gravatar_id":"","url":"https://api.github.com/users/astefan","html_url":"https://github.com/astefan","followers_url":"https://api.github.com/users/astefan/followers","following_url":"https://api.github.com/users/astefan/following{/other_user}","gists_url":"https://api.github.com/users/astefan/gists{/gist_id}","starred_url":"https://api.github.com/users/astefan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astefan/subscriptions","organizations_url":"https://api.github.com/users/astefan/orgs","repos_url":"https://api.github.com/users/astefan/repos","events_url":"https://api.github.com/users/astefan/events{/privacy}","received_events_url":"https://api.github.com/users/astefan/received_events","type":"User","site_admin":false},"created_at":"2019-08-29T08:25:59Z","updated_at":"2019-08-29T08:25:59Z","author_association":"CONTRIBUTOR","body":"https://discuss.elastic.co/t/elasticsearch-sql-query-where-not-working/196989","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/537580511","html_url":"https://github.com/elastic/elasticsearch/issues/40162#issuecomment-537580511","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40162","id":537580511,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNzU4MDUxMQ==","user":{"login":"avierr","id":46021572,"node_id":"MDQ6VXNlcjQ2MDIxNTcy","avatar_url":"https://avatars3.githubusercontent.com/u/46021572?v=4","gravatar_id":"","url":"https://api.github.com/users/avierr","html_url":"https://github.com/avierr","followers_url":"https://api.github.com/users/avierr/followers","following_url":"https://api.github.com/users/avierr/following{/other_user}","gists_url":"https://api.github.com/users/avierr/gists{/gist_id}","starred_url":"https://api.github.com/users/avierr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avierr/subscriptions","organizations_url":"https://api.github.com/users/avierr/orgs","repos_url":"https://api.github.com/users/avierr/repos","events_url":"https://api.github.com/users/avierr/events{/privacy}","received_events_url":"https://api.github.com/users/avierr/received_events","type":"User","site_admin":false},"created_at":"2019-10-02T16:45:51Z","updated_at":"2019-10-02T16:45:51Z","author_association":"NONE","body":"Yeah same issue here. After recommending ES for a new project it was a bit embarrassing to see basic queries returning wrong results lol. \r\n\r\nbut anyway, is this the best way to solve it for now ?\r\n`HISTOGRAM(year(timestamp), 1)`\r\n\r\nis there an expected patch/release date for this fix?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/537855320","html_url":"https://github.com/elastic/elasticsearch/issues/40162#issuecomment-537855320","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40162","id":537855320,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNzg1NTMyMA==","user":{"login":"skiod","id":31699358,"node_id":"MDQ6VXNlcjMxNjk5MzU4","avatar_url":"https://avatars0.githubusercontent.com/u/31699358?v=4","gravatar_id":"","url":"https://api.github.com/users/skiod","html_url":"https://github.com/skiod","followers_url":"https://api.github.com/users/skiod/followers","following_url":"https://api.github.com/users/skiod/following{/other_user}","gists_url":"https://api.github.com/users/skiod/gists{/gist_id}","starred_url":"https://api.github.com/users/skiod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/skiod/subscriptions","organizations_url":"https://api.github.com/users/skiod/orgs","repos_url":"https://api.github.com/users/skiod/repos","events_url":"https://api.github.com/users/skiod/events{/privacy}","received_events_url":"https://api.github.com/users/skiod/received_events","type":"User","site_admin":false},"created_at":"2019-10-03T08:59:49Z","updated_at":"2019-10-03T09:00:00Z","author_association":"NONE","body":"@avierr  \r\n```\r\nHISTOGRAM(year(timestamp), 1)\r\n```\r\n can replace YEAR ? ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/537858216","html_url":"https://github.com/elastic/elasticsearch/issues/40162#issuecomment-537858216","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40162","id":537858216,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNzg1ODIxNg==","user":{"login":"avierr","id":46021572,"node_id":"MDQ6VXNlcjQ2MDIxNTcy","avatar_url":"https://avatars3.githubusercontent.com/u/46021572?v=4","gravatar_id":"","url":"https://api.github.com/users/avierr","html_url":"https://github.com/avierr","followers_url":"https://api.github.com/users/avierr/followers","following_url":"https://api.github.com/users/avierr/following{/other_user}","gists_url":"https://api.github.com/users/avierr/gists{/gist_id}","starred_url":"https://api.github.com/users/avierr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/avierr/subscriptions","organizations_url":"https://api.github.com/users/avierr/orgs","repos_url":"https://api.github.com/users/avierr/repos","events_url":"https://api.github.com/users/avierr/events{/privacy}","received_events_url":"https://api.github.com/users/avierr/received_events","type":"User","site_admin":false},"created_at":"2019-10-03T09:07:21Z","updated_at":"2019-10-03T09:07:21Z","author_association":"NONE","body":"> @avierr\r\n> \r\n> ```\r\n> HISTOGRAM(year(timestamp), 1)\r\n> ```\r\n> \r\n> can replace YEAR ?\r\n\r\nAtleast I get a similar result, but instead of 2019, I get 2019.0","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/539905943","html_url":"https://github.com/elastic/elasticsearch/issues/40162#issuecomment-539905943","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40162","id":539905943,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTkwNTk0Mw==","user":{"login":"astefan","id":893749,"node_id":"MDQ6VXNlcjg5Mzc0OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/893749?v=4","gravatar_id":"","url":"https://api.github.com/users/astefan","html_url":"https://github.com/astefan","followers_url":"https://api.github.com/users/astefan/followers","following_url":"https://api.github.com/users/astefan/following{/other_user}","gists_url":"https://api.github.com/users/astefan/gists{/gist_id}","starred_url":"https://api.github.com/users/astefan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astefan/subscriptions","organizations_url":"https://api.github.com/users/astefan/orgs","repos_url":"https://api.github.com/users/astefan/repos","events_url":"https://api.github.com/users/astefan/events{/privacy}","received_events_url":"https://api.github.com/users/astefan/received_events","type":"User","site_admin":false},"created_at":"2019-10-09T08:53:34Z","updated_at":"2019-10-09T08:53:34Z","author_association":"CONTRIBUTOR","body":"master (8.0.0): https://github.com/elastic/elasticsearch/commit/55f5463eee4ecea3537df4b34645f1d87472a802\r\n7.x (7.5.0): https://github.com/elastic/elasticsearch/commit/75a7daae73cca0cb7c3d0afe576ed071c1699690","performed_via_github_app":null}]