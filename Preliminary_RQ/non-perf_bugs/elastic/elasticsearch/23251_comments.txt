[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/281106242","html_url":"https://github.com/elastic/elasticsearch/issues/23251#issuecomment-281106242","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23251","id":281106242,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTEwNjI0Mg==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2017-02-20T15:21:15Z","updated_at":"2017-02-20T15:21:15Z","author_association":"MEMBER","body":"Thx @tarunramsinghani . The null pointer exception is indeed a potential bug albeit harmless - it means that collecting disk info went wrong and it will just be retried later. At this we only fix major issues with 2.4 and I don't this qualified. I suggest you upgrade and if it repeats we can dig further.\r\n\r\nAll the other problems indicate that your cluster /network is under stress. Those recovery failures kick in once the recovery target didn't see any activity in the last 30m . That nodes leave and joining has to potentially do with network issues but are more likely to be cause by nodes going into long GC and not responding to pings. I'm not sure what hardware you run on (i.e., if it's a VM) but a young GC of 8s of on such a 10GB heap is crazy slow. I suggest you look at the amount of data you store on those nodes and their performance. Closing this for now.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/284134575","html_url":"https://github.com/elastic/elasticsearch/issues/23251#issuecomment-284134575","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23251","id":284134575,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NDEzNDU3NQ==","user":{"login":"bittusarkar","id":860447,"node_id":"MDQ6VXNlcjg2MDQ0Nw==","avatar_url":"https://avatars0.githubusercontent.com/u/860447?v=4","gravatar_id":"","url":"https://api.github.com/users/bittusarkar","html_url":"https://github.com/bittusarkar","followers_url":"https://api.github.com/users/bittusarkar/followers","following_url":"https://api.github.com/users/bittusarkar/following{/other_user}","gists_url":"https://api.github.com/users/bittusarkar/gists{/gist_id}","starred_url":"https://api.github.com/users/bittusarkar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bittusarkar/subscriptions","organizations_url":"https://api.github.com/users/bittusarkar/orgs","repos_url":"https://api.github.com/users/bittusarkar/repos","events_url":"https://api.github.com/users/bittusarkar/events{/privacy}","received_events_url":"https://api.github.com/users/bittusarkar/received_events","type":"User","site_admin":false},"created_at":"2017-03-04T07:33:51Z","updated_at":"2017-03-04T07:33:51Z","author_association":"NONE","body":"Thank you for the pointers @bleskes. We're running on VMs and have set `ES_HEAP_SIZE` to `14g` and `ES_HEAP_NEWSIZE` to `4g` on all data nodes. Do you suspect the value of `ES_HEAP_NEWSIZE` is too high?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/297622730","html_url":"https://github.com/elastic/elasticsearch/issues/23251#issuecomment-297622730","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23251","id":297622730,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NzYyMjczMA==","user":{"login":"tarunramsinghani","id":2929463,"node_id":"MDQ6VXNlcjI5Mjk0NjM=","avatar_url":"https://avatars3.githubusercontent.com/u/2929463?v=4","gravatar_id":"","url":"https://api.github.com/users/tarunramsinghani","html_url":"https://github.com/tarunramsinghani","followers_url":"https://api.github.com/users/tarunramsinghani/followers","following_url":"https://api.github.com/users/tarunramsinghani/following{/other_user}","gists_url":"https://api.github.com/users/tarunramsinghani/gists{/gist_id}","starred_url":"https://api.github.com/users/tarunramsinghani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tarunramsinghani/subscriptions","organizations_url":"https://api.github.com/users/tarunramsinghani/orgs","repos_url":"https://api.github.com/users/tarunramsinghani/repos","events_url":"https://api.github.com/users/tarunramsinghani/events{/privacy}","received_events_url":"https://api.github.com/users/tarunramsinghani/received_events","type":"User","site_admin":true},"created_at":"2017-04-27T06:21:51Z","updated_at":"2017-04-27T06:21:51Z","author_association":"NONE","body":"@bleskes We are still facing the same issue. Do you think the setting we have i.e. ES_HEAP_NEWSIZE to ~25% of ES_HEAP_SIZE can cause this. We added this setting in ES 1.7 to avoid OOM issues, but does this setting have any adverse effect on ES 2.4 ?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/300494235","html_url":"https://github.com/elastic/elasticsearch/issues/23251#issuecomment-300494235","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23251","id":300494235,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMDQ5NDIzNQ==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2017-05-10T14:11:16Z","updated_at":"2017-05-10T14:11:16Z","author_association":"MEMBER","body":"@tarunramsinghani I suggest you ask this question on our discuss.elastic.co forums where we can help more. We keep github for features and bugs.","performed_via_github_app":null}]