[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/161513978","html_url":"https://github.com/elastic/elasticsearch/issues/15201#issuecomment-161513978","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15201","id":161513978,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTUxMzk3OA==","user":{"login":"naivefun","id":10683378,"node_id":"MDQ6VXNlcjEwNjgzMzc4","avatar_url":"https://avatars3.githubusercontent.com/u/10683378?v=4","gravatar_id":"","url":"https://api.github.com/users/naivefun","html_url":"https://github.com/naivefun","followers_url":"https://api.github.com/users/naivefun/followers","following_url":"https://api.github.com/users/naivefun/following{/other_user}","gists_url":"https://api.github.com/users/naivefun/gists{/gist_id}","starred_url":"https://api.github.com/users/naivefun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naivefun/subscriptions","organizations_url":"https://api.github.com/users/naivefun/orgs","repos_url":"https://api.github.com/users/naivefun/repos","events_url":"https://api.github.com/users/naivefun/events{/privacy}","received_events_url":"https://api.github.com/users/naivefun/received_events","type":"User","site_admin":false},"created_at":"2015-12-03T04:55:20Z","updated_at":"2015-12-03T04:55:20Z","author_association":"NONE","body":"Exactly +1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/161551128","html_url":"https://github.com/elastic/elasticsearch/issues/15201#issuecomment-161551128","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15201","id":161551128,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTU1MTEyOA==","user":{"login":"lukas-vlcek","id":205174,"node_id":"MDQ6VXNlcjIwNTE3NA==","avatar_url":"https://avatars2.githubusercontent.com/u/205174?v=4","gravatar_id":"","url":"https://api.github.com/users/lukas-vlcek","html_url":"https://github.com/lukas-vlcek","followers_url":"https://api.github.com/users/lukas-vlcek/followers","following_url":"https://api.github.com/users/lukas-vlcek/following{/other_user}","gists_url":"https://api.github.com/users/lukas-vlcek/gists{/gist_id}","starred_url":"https://api.github.com/users/lukas-vlcek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukas-vlcek/subscriptions","organizations_url":"https://api.github.com/users/lukas-vlcek/orgs","repos_url":"https://api.github.com/users/lukas-vlcek/repos","events_url":"https://api.github.com/users/lukas-vlcek/events{/privacy}","received_events_url":"https://api.github.com/users/lukas-vlcek/received_events","type":"User","site_admin":false},"created_at":"2015-12-03T08:36:01Z","updated_at":"2015-12-03T08:36:01Z","author_association":"CONTRIBUTOR","body":"@nik9000 nice! Is there any idea which ES version is targeted?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/161670774","html_url":"https://github.com/elastic/elasticsearch/issues/15201#issuecomment-161670774","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15201","id":161670774,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTY3MDc3NA==","user":{"login":"niemyjski","id":1020579,"node_id":"MDQ6VXNlcjEwMjA1Nzk=","avatar_url":"https://avatars3.githubusercontent.com/u/1020579?v=4","gravatar_id":"","url":"https://api.github.com/users/niemyjski","html_url":"https://github.com/niemyjski","followers_url":"https://api.github.com/users/niemyjski/followers","following_url":"https://api.github.com/users/niemyjski/following{/other_user}","gists_url":"https://api.github.com/users/niemyjski/gists{/gist_id}","starred_url":"https://api.github.com/users/niemyjski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niemyjski/subscriptions","organizations_url":"https://api.github.com/users/niemyjski/orgs","repos_url":"https://api.github.com/users/niemyjski/repos","events_url":"https://api.github.com/users/niemyjski/events{/privacy}","received_events_url":"https://api.github.com/users/niemyjski/received_events","type":"User","site_admin":false},"created_at":"2015-12-03T15:13:48Z","updated_at":"2015-12-03T15:13:48Z","author_association":"CONTRIBUTOR","body":"Please make this available in 3.0! Currently we use foundatio to help us with this and it would be really really nice to have this sooner than later: https://github.com/exceptionless/Foundatio/blob/master/src/Elasticsearch/Jobs/ReindexWorkItemHandler.cs\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/161680962","html_url":"https://github.com/elastic/elasticsearch/issues/15201#issuecomment-161680962","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15201","id":161680962,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTY4MDk2Mg==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2015-12-03T15:42:32Z","updated_at":"2015-12-03T15:42:32Z","author_association":"CONTRIBUTOR","body":"> @nik9000 nice! Is there any idea which ES version is targeted?\n\n3.0.0 initially but I really want to backport it to 2.3 as well.\n\nAnother thing I should mention: I talked with @imotov who is doing the task management. All tasks will have an option for `wait_until_completion` to wait for the copy. It'll make using the API simpler for smaller copies but isn't something you'd want to use for large copies.\n\nI've started the implementation for the first 4 use cases in #15125. Right now its a plugin - I believe it'll be a prebundled plugin which will be a new thing in 2.3.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/162186952","html_url":"https://github.com/elastic/elasticsearch/issues/15201#issuecomment-162186952","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15201","id":162186952,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjE4Njk1Mg==","user":{"login":"xiaoshi2013","id":3827699,"node_id":"MDQ6VXNlcjM4Mjc2OTk=","avatar_url":"https://avatars2.githubusercontent.com/u/3827699?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaoshi2013","html_url":"https://github.com/xiaoshi2013","followers_url":"https://api.github.com/users/xiaoshi2013/followers","following_url":"https://api.github.com/users/xiaoshi2013/following{/other_user}","gists_url":"https://api.github.com/users/xiaoshi2013/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaoshi2013/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaoshi2013/subscriptions","organizations_url":"https://api.github.com/users/xiaoshi2013/orgs","repos_url":"https://api.github.com/users/xiaoshi2013/repos","events_url":"https://api.github.com/users/xiaoshi2013/events{/privacy}","received_events_url":"https://api.github.com/users/xiaoshi2013/received_events","type":"User","site_admin":false},"created_at":"2015-12-05T13:41:51Z","updated_at":"2015-12-05T13:41:51Z","author_association":"NONE","body":"Very nice looking\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/169404386","html_url":"https://github.com/elastic/elasticsearch/issues/15201#issuecomment-169404386","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15201","id":169404386,"node_id":"MDEyOklzc3VlQ29tbWVudDE2OTQwNDM4Ng==","user":{"login":"bdharrington7","id":4553795,"node_id":"MDQ6VXNlcjQ1NTM3OTU=","avatar_url":"https://avatars3.githubusercontent.com/u/4553795?v=4","gravatar_id":"","url":"https://api.github.com/users/bdharrington7","html_url":"https://github.com/bdharrington7","followers_url":"https://api.github.com/users/bdharrington7/followers","following_url":"https://api.github.com/users/bdharrington7/following{/other_user}","gists_url":"https://api.github.com/users/bdharrington7/gists{/gist_id}","starred_url":"https://api.github.com/users/bdharrington7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bdharrington7/subscriptions","organizations_url":"https://api.github.com/users/bdharrington7/orgs","repos_url":"https://api.github.com/users/bdharrington7/repos","events_url":"https://api.github.com/users/bdharrington7/events{/privacy}","received_events_url":"https://api.github.com/users/bdharrington7/received_events","type":"User","site_admin":false},"created_at":"2016-01-06T17:57:38Z","updated_at":"2016-01-06T17:57:38Z","author_association":"NONE","body":"@nik9000 I'm curious, in your example for resharding you have comments indicating that we would have to stop indexing. What kind of steps would have to be taken if this wasn't possible?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/169405719","html_url":"https://github.com/elastic/elasticsearch/issues/15201#issuecomment-169405719","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15201","id":169405719,"node_id":"MDEyOklzc3VlQ29tbWVudDE2OTQwNTcxOQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-01-06T18:03:14Z","updated_at":"2016-01-06T18:03:14Z","author_association":"CONTRIBUTOR","body":"> @nik9000 I'm curious, in your example for resharding you have comments indicating that we would have to stop indexing. What kind of steps would have to be taken if this wasn't possible?\n\nYou'll want to have some way of replaying the same updates on you application side against both indexes. At some point I'd like to be able to install a redirect mechanism in Elasticsearch for the duration of the reindex operation. It seems like an obvious thing. Its not part of what I'm working on now and it introduces yet more complexity around versioning but its important.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/179915944","html_url":"https://github.com/elastic/elasticsearch/issues/15201#issuecomment-179915944","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15201","id":179915944,"node_id":"MDEyOklzc3VlQ29tbWVudDE3OTkxNTk0NA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-02-04T15:59:57Z","updated_at":"2016-04-22T13:45:33Z","author_association":"CONTRIBUTOR","body":"I've updated the list of things that reindex will do. Right now we don't have external cluster support and I don't know when that'll become a priority.\n\nRight now this is what is left before we can merge the feature/reindex branch down to master:\n- [x] Progress from the task API: #16461\n- [x] Retry bulk failures if they are safe to retry. Like rejection exceptions. #16556\n- [x] Cancelation #16613\n- [x] Move it from a plugin to a module so it ships with Elasticsearch by default #16619\n- [x] Actually merge it to master #16861\n\nHere are things that are left to do in the first phase of the project:\n-  [x] Throttling\n-  [x] Backporting to 2.x\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/199908032","html_url":"https://github.com/elastic/elasticsearch/issues/15201#issuecomment-199908032","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15201","id":199908032,"node_id":"MDEyOklzc3VlQ29tbWVudDE5OTkwODAzMg==","user":{"login":"HonzaKral","id":32132,"node_id":"MDQ6VXNlcjMyMTMy","avatar_url":"https://avatars0.githubusercontent.com/u/32132?v=4","gravatar_id":"","url":"https://api.github.com/users/HonzaKral","html_url":"https://github.com/HonzaKral","followers_url":"https://api.github.com/users/HonzaKral/followers","following_url":"https://api.github.com/users/HonzaKral/following{/other_user}","gists_url":"https://api.github.com/users/HonzaKral/gists{/gist_id}","starred_url":"https://api.github.com/users/HonzaKral/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HonzaKral/subscriptions","organizations_url":"https://api.github.com/users/HonzaKral/orgs","repos_url":"https://api.github.com/users/HonzaKral/repos","events_url":"https://api.github.com/users/HonzaKral/events{/privacy}","received_events_url":"https://api.github.com/users/HonzaKral/received_events","type":"User","site_admin":false},"created_at":"2016-03-22T17:01:42Z","updated_at":"2016-03-22T17:01:42Z","author_association":"MEMBER","body":"This is indeed a super useful API, cannot wait!\n\nWould it be possible to also, in future versions, provide additional functionality to allow `update` on the target index except of only `index` operations? My use case for this is entity centric indexing - imagine you have an index containing events and wish to group them by session. With the reindex api it should be possible to read the source events, apply a script (or just extract a field) to get the ID of a target document and pass it as a parameter to a specified update script.\n\nAnother use case we see a lot with users is that they want to move some data out of one index to another. Would it be possible to combine the reindex with delete-by-query essentially? After a document is indexed in the target index a `delete` operation will be issued on the source index. Of course this couldn't be done atomically, but even on best effort basis this would be super useful for a lot of people - essentially executing reindex and delete-by-query at the same time (on the same point in time snapshot of the index) with no additional guarantees than those two operations have individually.\n\nI am happy to create individual issues for these use cases if they make sense to people.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/214875333","html_url":"https://github.com/elastic/elasticsearch/issues/15201#issuecomment-214875333","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15201","id":214875333,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDg3NTMzMw==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-04-26T20:26:16Z","updated_at":"2016-04-26T20:26:16Z","author_association":"CONTRIBUTOR","body":"I'm going to close this because reindex is done and live in 2.3.0 and 5.0.0-alpha1. I think @HonzaKral's point is really another feature request. @HonzaKral, can you make a new issue for it? Sorry!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/214885545","html_url":"https://github.com/elastic/elasticsearch/issues/15201#issuecomment-214885545","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15201","id":214885545,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDg4NTU0NQ==","user":{"login":"HonzaKral","id":32132,"node_id":"MDQ6VXNlcjMyMTMy","avatar_url":"https://avatars0.githubusercontent.com/u/32132?v=4","gravatar_id":"","url":"https://api.github.com/users/HonzaKral","html_url":"https://github.com/HonzaKral","followers_url":"https://api.github.com/users/HonzaKral/followers","following_url":"https://api.github.com/users/HonzaKral/following{/other_user}","gists_url":"https://api.github.com/users/HonzaKral/gists{/gist_id}","starred_url":"https://api.github.com/users/HonzaKral/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HonzaKral/subscriptions","organizations_url":"https://api.github.com/users/HonzaKral/orgs","repos_url":"https://api.github.com/users/HonzaKral/repos","events_url":"https://api.github.com/users/HonzaKral/events{/privacy}","received_events_url":"https://api.github.com/users/HonzaKral/received_events","type":"User","site_admin":false},"created_at":"2016-04-26T21:03:51Z","updated_at":"2016-04-26T21:03:51Z","author_association":"MEMBER","body":"Done as #17998 and #17997 \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/214886044","html_url":"https://github.com/elastic/elasticsearch/issues/15201#issuecomment-214886044","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15201","id":214886044,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDg4NjA0NA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-04-26T21:05:46Z","updated_at":"2016-04-26T21:05:46Z","author_association":"CONTRIBUTOR","body":"Thanks!\n","performed_via_github_app":null}]