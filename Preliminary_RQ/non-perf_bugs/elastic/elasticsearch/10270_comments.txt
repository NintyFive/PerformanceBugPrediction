[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/86360397","html_url":"https://github.com/elastic/elasticsearch/issues/10270#issuecomment-86360397","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10270","id":86360397,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MzYwMzk3","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2015-03-26T06:35:22Z","updated_at":"2015-03-26T06:35:45Z","author_association":"MEMBER","body":"@kutchar I believe this should have been fixed with #9490. Have you tried this on 1.5.0?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/86650716","html_url":"https://github.com/elastic/elasticsearch/issues/10270#issuecomment-86650716","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10270","id":86650716,"node_id":"MDEyOklzc3VlQ29tbWVudDg2NjUwNzE2","user":{"login":"kutchar","id":905435,"node_id":"MDQ6VXNlcjkwNTQzNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/905435?v=4","gravatar_id":"","url":"https://api.github.com/users/kutchar","html_url":"https://github.com/kutchar","followers_url":"https://api.github.com/users/kutchar/followers","following_url":"https://api.github.com/users/kutchar/following{/other_user}","gists_url":"https://api.github.com/users/kutchar/gists{/gist_id}","starred_url":"https://api.github.com/users/kutchar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kutchar/subscriptions","organizations_url":"https://api.github.com/users/kutchar/orgs","repos_url":"https://api.github.com/users/kutchar/repos","events_url":"https://api.github.com/users/kutchar/events{/privacy}","received_events_url":"https://api.github.com/users/kutchar/received_events","type":"User","site_admin":false},"created_at":"2015-03-26T18:08:06Z","updated_at":"2015-03-26T18:08:06Z","author_association":"NONE","body":"@rjernst yes, the problem is with 1.5.0. I haven't tried it with the older versions.\n\n```\n\"version\" : {\n    \"number\" : \"1.5.0\",\n    \"build_hash\" : \"544816042d40151d3ce4ba4f95399d7860dc2e92\",\n    \"build_timestamp\" : \"2015-03-23T14:30:58Z\",\n    \"build_snapshot\" : false,\n    \"lucene_version\" : \"4.10.4\"\n}\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/86834212","html_url":"https://github.com/elastic/elasticsearch/issues/10270#issuecomment-86834212","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10270","id":86834212,"node_id":"MDEyOklzc3VlQ29tbWVudDg2ODM0MjEy","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2015-03-27T05:41:06Z","updated_at":"2015-03-27T05:41:06Z","author_association":"MEMBER","body":"@kutchar Sorry I had this mixed up with specifying types for parent/child.  What you are seeing here is in fact a difficult limitation to overcome because of the eager binding of the query parser.  When the inner term query is parsed, it looks up this field in the mappings immediately, and creates a lucene TermQuery.  It has no idea that it is running within a nested context.  It might be possible to tweak the parsing context to \"know\" about the nested context, but it is possible the `path` may not be specified until after the `filter` or `query` parameters to the nested filter.\n\nSo while I agree it would be better to have the nested context be taken into account, I don't think it is possible without some major refactoring of the query parsers.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/87869081","html_url":"https://github.com/elastic/elasticsearch/issues/10270#issuecomment-87869081","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10270","id":87869081,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODY5MDgx","user":{"login":"kutchar","id":905435,"node_id":"MDQ6VXNlcjkwNTQzNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/905435?v=4","gravatar_id":"","url":"https://api.github.com/users/kutchar","html_url":"https://github.com/kutchar","followers_url":"https://api.github.com/users/kutchar/followers","following_url":"https://api.github.com/users/kutchar/following{/other_user}","gists_url":"https://api.github.com/users/kutchar/gists{/gist_id}","starred_url":"https://api.github.com/users/kutchar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kutchar/subscriptions","organizations_url":"https://api.github.com/users/kutchar/orgs","repos_url":"https://api.github.com/users/kutchar/repos","events_url":"https://api.github.com/users/kutchar/events{/privacy}","received_events_url":"https://api.github.com/users/kutchar/received_events","type":"User","site_admin":false},"created_at":"2015-03-30T22:56:59Z","updated_at":"2015-03-30T22:56:59Z","author_association":"NONE","body":"@rjernst would it make sense to mention this in the documentation?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/87898017","html_url":"https://github.com/elastic/elasticsearch/issues/10270#issuecomment-87898017","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10270","id":87898017,"node_id":"MDEyOklzc3VlQ29tbWVudDg3ODk4MDE3","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2015-03-31T02:01:07Z","updated_at":"2015-03-31T02:01:07Z","author_association":"MEMBER","body":"@clintongormley might have an idea how/where best to document this?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/89769621","html_url":"https://github.com/elastic/elasticsearch/issues/10270#issuecomment-89769621","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10270","id":89769621,"node_id":"MDEyOklzc3VlQ29tbWVudDg5NzY5NjIx","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-04-05T13:12:27Z","updated_at":"2015-04-05T13:12:27Z","author_association":"CONTRIBUTOR","body":"@rjernst actually, with #9670 in place, we need to use the full path name for all field references, not just nested queries.  I've opened #10439 for this.\n","performed_via_github_app":null}]