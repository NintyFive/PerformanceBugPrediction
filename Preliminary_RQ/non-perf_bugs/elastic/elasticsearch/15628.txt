{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/15628","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15628/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15628/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15628/events","html_url":"https://github.com/elastic/elasticsearch/issues/15628","id":123639382,"node_id":"MDU6SXNzdWUxMjM2MzkzODI=","number":15628,"title":"grep -E used in elasticsearch startup script causes error on Solaris","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-12-23T10:57:34Z","updated_at":"2016-01-06T21:18:52Z","closed_at":"2016-01-06T21:18:52Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Since Elasticsearch 2.1.1 the elasticsearch startup script has contained this line:\n\n```\ndaemonized=`echo $* | grep -E -- '(^-d |-d$| -d |--daemonize$|--daemonize )'`\n```\n\nThis means Elasticsearch 2.1 doesn't start on Solaris.  Changing grep -E to egrep makes it work on all of Solaris, Linux and Mac OS X:\n\n```\ndaemonized=`echo $* | egrep -- '(^-d |-d$| -d |--daemonize$|--daemonize )'`\n```\n\nOn Solaris:\n\n```\n$ echo -d -x -g --hello | grep -E -- '(^-d |-d$| -d |--daemonize$|--daemonize )'\ngrep: illegal option -- E\nUsage: grep [-c|-l|-q] -bhinsvw pattern file . . .\n$ echo -d -x -g --hello | egrep -- '(^-d |-d$| -d |--daemonize$|--daemonize )'\n-d -x -g --hello\n```\n\nOn Linux and Mac OS X:\n\n```\n$ echo -d -x -g --hello | grep -E -- '(^-d |-d$| -d |--daemonize$|--daemonize )'\n-d -x -g --hello\n$ echo -d -x -g --hello | egrep -- '(^-d |-d$| -d |--daemonize$|--daemonize )'\n-d -x -g --hello\n```\n\nHowever, I am not sure if there are other platforms where egrep wouldn't work, so if there are any others you want to support you might want to check them too.\n","closed_by":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"performed_via_github_app":null}