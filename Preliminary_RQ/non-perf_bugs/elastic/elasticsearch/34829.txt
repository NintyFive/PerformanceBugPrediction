{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/34829","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34829/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34829/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34829/events","html_url":"https://github.com/elastic/elasticsearch/issues/34829","id":373684306,"node_id":"MDU6SXNzdWUzNzM2ODQzMDY=","number":34829,"title":"[Painless] Context Doc Examples","user":{"login":"jdconrad","id":2126764,"node_id":"MDQ6VXNlcjIxMjY3NjQ=","avatar_url":"https://avatars2.githubusercontent.com/u/2126764?v=4","gravatar_id":"","url":"https://api.github.com/users/jdconrad","html_url":"https://github.com/jdconrad","followers_url":"https://api.github.com/users/jdconrad/followers","following_url":"https://api.github.com/users/jdconrad/following{/other_user}","gists_url":"https://api.github.com/users/jdconrad/gists{/gist_id}","starred_url":"https://api.github.com/users/jdconrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdconrad/subscriptions","organizations_url":"https://api.github.com/users/jdconrad/orgs","repos_url":"https://api.github.com/users/jdconrad/repos","events_url":"https://api.github.com/users/jdconrad/events{/privacy}","received_events_url":"https://api.github.com/users/jdconrad/received_events","type":"User","site_admin":false},"labels":[{"id":146834791,"node_id":"MDU6TGFiZWwxNDY4MzQ3OTE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Scripting","name":":Core/Infra/Scripting","color":"0e8a16","default":false,"description":"Scripting abstractions, Painless, and Mustache"},{"id":23715,"node_id":"MDU6TGFiZWwyMzcxNQ==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Edocs","name":">docs","color":"db755e","default":false,"description":"General docs changes"},{"id":158399402,"node_id":"MDU6TGFiZWwxNTgzOTk0MDI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Meta","name":"Meta","color":"e11d21","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-10-24T21:27:23Z","updated_at":"2019-08-15T17:59:19Z","closed_at":"2019-08-15T17:59:18Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Painless has some basic documentation for contexts at https://www.elastic.co/guide/en/elasticsearch/painless/master/painless-contexts.html .  Each context has a separate page that describes the what variables are available to a Painless script such as `doc` and `params`.  These contexts each need to be reviewed by someone familiar with the related code and have one or more examples added.\r\n\r\nThere is a data set for examples already available for download and steps to setup the an ES cluster with that data set at https://www.elastic.co/guide/en/elasticsearch/painless/master/painless-context-examples.html .  For consistency it would be ideal if any examples generated were based on this data set and the contexts put in order of dependency within the index contexts page.  (Ingest needs to go first.)  Each example also has a test along with the curl commands as comments in the ContextExampleTests under Painless.\r\n\r\nSeveral contexts have changed recently and will need to updated to reflect those changes such as `search` -> `score`.\r\n\r\nThe following contexts need review and/or examples:\r\n* [x] ingest (https://www.elastic.co/guide/en/elasticsearch/painless/master/painless-ingest-processor-context.html) @jdconrad (#32302) (This could an expert review of the available variables still.)\r\n* [ ] reindex (https://www.elastic.co/guide/en/elasticsearch/painless/master/painless-reindex-context.html) @jdconrad (#34024) (This could an expert review of the available variables still.)\r\n* [x] update (https://www.elastic.co/guide/en/elasticsearch/painless/master/painless-update-context.html) @rjernst (#37943)\r\n* [x] update by query (https://www.elastic.co/guide/en/elasticsearch/painless/master/painless-update-by-query-context.html) @rjernst (#37943)\r\n* [x] sort (https://www.elastic.co/guide/en/elasticsearch/painless/master/painless-sort-context.html) @romseygeek\r\n* [x] similarity (https://www.elastic.co/guide/en/elasticsearch/painless/master/painless-similarity-context.html) @romseygeek\r\n* [x] weight (https://www.elastic.co/guide/en/elasticsearch/painless/master/painless-weight-context.html) @romseygeek\r\n* [x] score (https://www.elastic.co/guide/en/elasticsearch/painless/master/painless-score-context.html) @romseygeek\r\n* [x] field (https://www.elastic.co/guide/en/elasticsearch/painless/master/painless-field-context.html) (#35130) @mayya-sharipova \r\n* [x] filter (https://www.elastic.co/guide/en/elasticsearch/painless/master/painless-filter-context.html) (#35305) @mayya-sharipova \r\n* [x] minimum should match (https://www.elastic.co/guide/en/elasticsearch/painless/master/painless-min-should-match-context.html) (#35423) @mayya-sharipova \r\n* [ ] metric aggregation initialization/map/combine/reduce (https://www.elastic.co/guide/en/elasticsearch/painless/master/painless-metric-agg-init-context.html) @polyfractal \r\n* [x] bucket script aggregation (https://www.elastic.co/guide/en/elasticsearch/painless/master/painless-bucket-agg-context.html) (#35142) @polyfractal \r\n* [x] bucket_selector aggregation (https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-pipeline-bucket-selector-aggregation.html) (#35162) @polyfractal\r\n* [ ] general aggregation script @andyb-elastic  \r\n* [ ] watcher condition (https://www.elastic.co/guide/en/elasticsearch/painless/master/painless-watcher-condition-context.html) @hub-cap\r\n* [ ] watcher transform https://www.elastic.co/guide/en/elasticsearch/painless/master/painless-watcher-transform-context.html @hub-cap","closed_by":{"login":"jdconrad","id":2126764,"node_id":"MDQ6VXNlcjIxMjY3NjQ=","avatar_url":"https://avatars2.githubusercontent.com/u/2126764?v=4","gravatar_id":"","url":"https://api.github.com/users/jdconrad","html_url":"https://github.com/jdconrad","followers_url":"https://api.github.com/users/jdconrad/followers","following_url":"https://api.github.com/users/jdconrad/following{/other_user}","gists_url":"https://api.github.com/users/jdconrad/gists{/gist_id}","starred_url":"https://api.github.com/users/jdconrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdconrad/subscriptions","organizations_url":"https://api.github.com/users/jdconrad/orgs","repos_url":"https://api.github.com/users/jdconrad/repos","events_url":"https://api.github.com/users/jdconrad/events{/privacy}","received_events_url":"https://api.github.com/users/jdconrad/received_events","type":"User","site_admin":false},"performed_via_github_app":null}