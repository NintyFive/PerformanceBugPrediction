[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/663185547","html_url":"https://github.com/elastic/elasticsearch/issues/60140#issuecomment-663185547","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/60140","id":663185547,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MzE4NTU0Nw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-07-23T19:16:34Z","updated_at":"2020-07-23T19:16:34Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra (:Core/Infra/Packaging)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/664680406","html_url":"https://github.com/elastic/elasticsearch/issues/60140#issuecomment-664680406","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/60140","id":664680406,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDY4MDQwNg==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2020-07-27T22:59:11Z","updated_at":"2020-07-27T22:59:11Z","author_association":"MEMBER","body":"Thanks very much for your interest in Elasticsearch.\r\n\r\nYour issue is most likely configuration and/or environmental, as we have tests for basic cases like \"does the systemd service start?\". While it may still be a bug on our end, we like to direct these kinds of things to the [forums](https://discuss.elastic.co/c/elastic-stack/elasticsearch). There's an active community there that can help diagnose your issue, and provide suggestions on changes if necessary. This allows us to use GitHub for verified bug reports, feature requests, and pull requests.\r\n\r\nAdditionally, please note that images of text are both difficult to read, and are not searchable, so we ask that any text like systemd output be provided as quoted text. And even if \"no error messages\" exist in the `elasticsearch.log`, if there is an issue with Elasticsearch starting, it is best to include the log.\r\n\r\nAs this is unlikely to be a bug in Elasticsearch, I hope you don't mind that I close this issue. It can always be reopened in the future if further evidence points to a bug.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/664687183","html_url":"https://github.com/elastic/elasticsearch/issues/60140#issuecomment-664687183","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/60140","id":664687183,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDY4NzE4Mw==","user":{"login":"rossengeorgiev","id":2720787,"node_id":"MDQ6VXNlcjI3MjA3ODc=","avatar_url":"https://avatars2.githubusercontent.com/u/2720787?v=4","gravatar_id":"","url":"https://api.github.com/users/rossengeorgiev","html_url":"https://github.com/rossengeorgiev","followers_url":"https://api.github.com/users/rossengeorgiev/followers","following_url":"https://api.github.com/users/rossengeorgiev/following{/other_user}","gists_url":"https://api.github.com/users/rossengeorgiev/gists{/gist_id}","starred_url":"https://api.github.com/users/rossengeorgiev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rossengeorgiev/subscriptions","organizations_url":"https://api.github.com/users/rossengeorgiev/orgs","repos_url":"https://api.github.com/users/rossengeorgiev/repos","events_url":"https://api.github.com/users/rossengeorgiev/events{/privacy}","received_events_url":"https://api.github.com/users/rossengeorgiev/received_events","type":"User","site_admin":false},"created_at":"2020-07-27T23:20:54Z","updated_at":"2020-07-27T23:20:54Z","author_association":"NONE","body":"hi @rjernst, the elasticsearch systemd service file, and notify integration is something shipped by elasticsearch. It is definitely something to look at. The reason I included a screenshot it because I was on a console, and obtaining text output would been too cumbersome. All relevant information is included and this is easily reproducible. I am incredibly disappointed at your response to this report.  ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/665300462","html_url":"https://github.com/elastic/elasticsearch/issues/60140#issuecomment-665300462","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/60140","id":665300462,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NTMwMDQ2Mg==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2020-07-28T21:47:06Z","updated_at":"2020-07-28T21:47:06Z","author_association":"MEMBER","body":"@rossengeorgiev After looking back at our notify callback, I do see one potential edge case. We currently schedule a timer to fire every 15 seconds to extend the systemd timeout, but the first invocation is not immediate. So, if more than 15 seconds is taken for plugin initialization to happen, we would never get to our first extension, and the default systemd timeout would trigger. \r\n\r\nI'm going to reopen this, and open a PR to set the initial systemd timeout to 75 seconds. This will give us 60 seconds for plugin initialization to occur. However, note that something is still odd in your system. Not a lot happens before plugin initialization, so something else is likely going on which you should investigate. It is also concerning that your Elasticsearch log shows nothing. It would be helpful to turn on trace logging (`logger.level=trace`) and include the full log output here. If my theory is correct, we will see timestamps indicating the `systemd` module is loaded more than 15 seconds after the first log message, and the trace logging should help identify what may be slowing down startup.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/666302919","html_url":"https://github.com/elastic/elasticsearch/issues/60140#issuecomment-666302919","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/60140","id":666302919,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjMwMjkxOQ==","user":{"login":"rossengeorgiev","id":2720787,"node_id":"MDQ6VXNlcjI3MjA3ODc=","avatar_url":"https://avatars2.githubusercontent.com/u/2720787?v=4","gravatar_id":"","url":"https://api.github.com/users/rossengeorgiev","html_url":"https://github.com/rossengeorgiev","followers_url":"https://api.github.com/users/rossengeorgiev/followers","following_url":"https://api.github.com/users/rossengeorgiev/following{/other_user}","gists_url":"https://api.github.com/users/rossengeorgiev/gists{/gist_id}","starred_url":"https://api.github.com/users/rossengeorgiev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rossengeorgiev/subscriptions","organizations_url":"https://api.github.com/users/rossengeorgiev/orgs","repos_url":"https://api.github.com/users/rossengeorgiev/repos","events_url":"https://api.github.com/users/rossengeorgiev/events{/privacy}","received_events_url":"https://api.github.com/users/rossengeorgiev/received_events","type":"User","site_admin":false},"created_at":"2020-07-30T11:10:47Z","updated_at":"2020-07-30T11:10:47Z","author_association":"NONE","body":"Hi @rjernst, appreciate you coming back to the issue and taking a second look.\r\n\r\nMore context, I encounter the issue on VM after being restored from snapshot. Note that stopping elasticsearch prior to snapshot doesn't seem to make a difference. When I restore the VM, start up is slow, which I assume is due to data checking. Anyway, I went back to try again, and I've got you a trace log:\r\n\r\nhttps://gist.githubusercontent.com/rossengeorgiev/5b90bf1793e6e5b709a6b409faad9d08/raw/85bc660b82174cb51ee1daead93e15a653587f3c/elasticsearch.log","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/706769448","html_url":"https://github.com/elastic/elasticsearch/issues/60140#issuecomment-706769448","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/60140","id":706769448,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjc2OTQ0OA==","user":{"login":"jamshid","id":8549,"node_id":"MDQ6VXNlcjg1NDk=","avatar_url":"https://avatars0.githubusercontent.com/u/8549?v=4","gravatar_id":"","url":"https://api.github.com/users/jamshid","html_url":"https://github.com/jamshid","followers_url":"https://api.github.com/users/jamshid/followers","following_url":"https://api.github.com/users/jamshid/following{/other_user}","gists_url":"https://api.github.com/users/jamshid/gists{/gist_id}","starred_url":"https://api.github.com/users/jamshid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jamshid/subscriptions","organizations_url":"https://api.github.com/users/jamshid/orgs","repos_url":"https://api.github.com/users/jamshid/repos","events_url":"https://api.github.com/users/jamshid/events{/privacy}","received_events_url":"https://api.github.com/users/jamshid/received_events","type":"User","site_admin":false},"created_at":"2020-10-11T21:16:38Z","updated_at":"2020-10-11T21:16:38Z","author_association":"NONE","body":"Thanks for filing and fixing this. FWIW:\r\n\r\nI _think_ I ran into it when upgrading 6.8.6 to 7.5.2. Debug logs wouldn't show anything wrong when \"stopping ...\", didn't even realize it was systemd itself doing it. After a few service restarts it stayed up.\r\n\r\nFrom TRACE logs below maybe the problem is upgrades/cleanup of 6.8.6 indices took unexpectedly long? I'll try adding the 75s timeout but not sure that's enough.\r\n```\r\n[2020-10-09T17:18:16,071][TRACE][o.e.e.NodeEnvironment    ] [green4] obtaining node lock on /var/lib/elasticsearch/nodes/0 ...\r\n[2020-10-09T17:18:16,093][TRACE][o.e.g.MetaDataStateFormat] [green4] found state file: /var/lib/elasticsearch/nodes/0/_state/node-20.st\r\n...\r\n[2020-10-09T17:18:16,175][DEBUG][o.e.e.NodeEnvironment    ] [green4] node data locations details:\r\n -> /var/lib/elasticsearch/nodes/0, free_space [656.4gb], usable_space [656.4gb], total_space [899gb], mount [/ (rootfs)], type [rootfs]\r\n[2020-10-09T17:18:16,175][INFO ][o.e.e.NodeEnvironment    ] [green4] heap size [30.9gb], compressed ordinary object pointers [true]\r\n[2020-10-09T17:18:21,242][INFO ][o.e.n.Node               ] [green4] node name [green4], node ID [JB7r9p1PT1mwfR_h1AhNfg], cluster name [ES68_GreenIvoryTestCluster]\r\n[2020-10-09T17:18:21,242][INFO ][o.e.n.Node               ] [green4] version[7.5.2], pid[4808], build[default/rpm/8bec50e1e0ad29dad5653712cf3bb580cd1afcdf/2020-01-15T12:11:52.313576Z], OS[Linux/3.10.0-1062.18.1.el7.x86_64/amd64], JVM[AdoptOpenJDK/OpenJDK 64-Bit Server VM/13.0.1/13.0.1+9]\r\n[2020-10-09T17:18:21,243][INFO ][o.e.n.Node               ] [green4] JVM home [/usr/share/elasticsearch/jdk]\r\n[2020-10-09T17:18:21,243][INFO ][o.e.n.Node               ] [green4] JVM arguments [-Des.networkaddress.cache.ttl=60, -Des.networkaddress.cache.negative.ttl=10, -XX:+AlwaysPreTouch, -Xss1m, -Djava.awt.headless=true, -Dfile.encoding=UTF-8, -Djna.nosys=true, -XX:-OmitStackTraceInFastThrow, -Dio.netty.noUnsafe=true, -Dio.netty.noKeySetOptimization=true, -Dio.netty.recycler.maxCapacityPerThread=0, -Dio.netty.allocator.numDirectArenas=0, -Dlog4j.shutdownHookEnabled=false, -Dlog4j2.disable.jmx=true, -Djava.locale.providers=COMPAT, -Xms31g, -Xmx31g, -XX:+UseConcMarkSweepGC, -XX:CMSInitiatingOccupancyFraction=75, -XX:+UseCMSInitiatingOccupancyOnly, -Djava.io.tmpdir=/tmp/elasticsearch-15343235074654645061, -XX:+HeapDumpOnOutOfMemoryError, -XX:HeapDumpPath=/var/lib/elasticsearch, -XX:ErrorFile=/var/log/elasticsearch/hs_err_pid%p.log, -Xlog:gc*,gc+age=trace,safepoint:file=/var/log/elasticsearch/gc.log:utctime,pid,tags:filecount=32,filesize=64m, -XX:MaxDirectMemorySize=16642998272, -Des.path.home=/usr/share/elasticsearch, -Des.path.conf=/etc/elasticsearch, -Des.distribution.flavor=default, -Des.distribution.type=rpm, -Des.bundled_jdk=true]\r\n[2020-10-09T17:18:21,243][DEBUG][o.e.n.Node               ] [green4] using config [/etc/elasticsearch], data [[/var/lib/elasticsearch]], logs [/var/log/elasticsearch], plugins [/usr/share/elasticsearch/plugins]\r\n[2020-10-09T17:18:21,245][TRACE][o.e.p.PluginsService     ] [green4] --- adding [module] [/usr/share/elasticsearch/modules/aggs-matrix-stats]\r\n...\r\n[2020-10-09T17:18:23,898][INFO ][o.e.p.PluginsService     ] [green4] loaded module [x-pack-watcher]\r\n[2020-10-09T17:18:23,899][INFO ][o.e.p.PluginsService     ] [green4] no plugins loaded\r\n...\r\n[2020-10-09T17:18:24,318][DEBUG][i.n.u.i.CleanerJava9     ] [green4] java.nio.ByteBuffer.cleaner(): unavailable\r\njava.lang.UnsupportedOperationException: sun.misc.Unsafe unavailable\r\n\tat io.netty.util.internal.CleanerJava9.<clinit>(CleanerJava9.java:68) [netty-common-4.1.43.Final.jar:4.1.43.Final]\r\n...\r\n[2020-10-09T17:18:24,330][DEBUG][i.n.u.i.PlatformDependent] [green4] -Dio.netty.noPreferDirect: true\r\n[2020-10-09T17:18:26,659][DEBUG][o.e.s.ScriptService      ] [green4] using script cache with max_size [100], expire [0s]\r\n[2020-10-09T17:18:26,749][TRACE][o.e.i.IndexSettings      ] [green4] [_na_] using [tiered] merge mergePolicy with expunge_deletes_allowed[10.0], floor_segment[2mb], max_merge_at_once[10], max_merge_at_once_explicit[30], max_merged_segment[5gb], segments_per_tier[10.0], deletes_pct_allowed[33.0]\r\n[2020-10-09T17:18:27,000][TRACE][o.e.i.IndexSettings      ] [green4] [_na_] using [tiered] merge mergePolicy with expunge_deletes_allowed[10.0], floor_segment[2mb], max_merge_at_once[10], max_merge_at_once_explicit[30], max_merged_segment[5gb], segments_per_tier[10.0], deletes_pct_allowed[33.0]\r\n[2020-10-09T17:18:27,146][DEBUG][o.e.d.z.ElectMasterService] [green4] using minimum_master_nodes [-1]\r\n[2020-10-09T17:18:27,431][DEBUG][o.e.m.j.JvmGcMonitorService] [green4] enabled [true], interval [1s], gc_threshold [{default=GcThreshold{name='default', warnThreshold=10000, infoThreshold=5000, debugThreshold=2000}, young=GcThreshold{name='young', warnThreshold=1000, infoThreshold=700, debugThreshold=400}, old=GcThreshold{name='old', warnThreshold=10000, infoThreshold=5000, debugThreshold=2000}}], overhead [50, 25, 10]\r\n[2020-10-09T17:18:27,447][DEBUG][o.e.m.o.OsService        ] [green4] using refresh_interval [1s]\r\n[2020-10-09T17:18:27,450][DEBUG][o.e.m.p.ProcessService   ] [green4] using refresh_interval [1s]\r\n[2020-10-09T17:18:27,457][DEBUG][o.e.m.j.JvmService       ] [green4] using refresh_interval [1s]\r\n[2020-10-09T17:18:27,457][DEBUG][o.e.m.f.FsService        ] [green4] using refresh_interval [1s]\r\n[2020-10-09T17:18:27,460][DEBUG][o.e.c.r.a.d.ClusterRebalanceAllocationDecider] [green4] using [cluster.routing.allocation.allow_rebalance] with [indices_all_active]\r\n[2020-10-09T17:18:27,460][DEBUG][o.e.c.r.a.d.ConcurrentRebalanceAllocationDecider] [green4] using [cluster_concurrent_rebalance] with [2]\r\n[2020-10-09T17:18:27,528][DEBUG][o.e.c.r.a.d.ThrottlingAllocationDecider] [green4] using node_concurrent_outgoing_recoveries [2], node_concurrent_incoming_recoveries [2], node_initial_primaries_recoveries [4]\r\n[2020-10-09T17:18:28,178][TRACE][o.e.i.b.HierarchyCircuitBreakerService] [green4] parent circuit breaker with settings [!!!org.elasticsearch.indices.breaker.BreakerSettings@5e34a84b=>java.lang.NullPointerException:null!!!]\r\n[2020-10-09T17:18:28,180][TRACE][o.e.i.b.request          ] [green4] creating ChildCircuitBreaker with settings [request,type=MEMORY,durability=TRANSIENT,limit=19929759744/18.5gb,overhead=1.0]\r\n[2020-10-09T17:18:28,180][TRACE][o.e.i.b.fielddata        ] [green4] creating ChildCircuitBreaker with settings [fielddata,type=MEMORY,durability=PERMANENT,limit=13286506496/12.3gb,overhead=1.03]\r\n[2020-10-09T17:18:28,181][TRACE][o.e.i.b.in_flight_requests] [green4] creating ChildCircuitBreaker with settings [in_flight_requests,type=MEMORY,durability=TRANSIENT,limit=33216266240/30.9gb,overhead=2.0]\r\n[2020-10-09T17:18:28,181][TRACE][o.e.i.b.accounting       ] [green4] creating ChildCircuitBreaker with settings [accounting,type=MEMORY,durability=PERMANENT,limit=33216266240/30.9gb,overhead=1.0]\r\n[2020-10-09T17:18:28,429][DEBUG][o.e.i.IndicesQueryCache  ] [green4] using [node] query cache with size [3gb] max filter count [10000]\r\n[2020-10-09T17:18:28,433][DEBUG][o.e.i.IndexingMemoryController] [green4] using indexing buffer size [3gb] with indices.memory.shard_inactive_time [5m], indices.memory.interval [5s]\r\n[2020-10-09T17:18:29,204][TRACE][o.e.x.s.a.f.FileUserPasswdStore] [green4] reading users file [/etc/elasticsearch/users]...\r\n[2020-10-09T17:18:29,205][DEBUG][o.e.x.s.a.f.FileUserPasswdStore] [green4] parsed [0] users from file [/etc/elasticsearch/users]\r\n[2020-10-09T17:18:29,211][TRACE][o.e.x.s.a.f.FileUserRolesStore] [green4] reading users_roles file [/etc/elasticsearch/users_roles]...\r\n[2020-10-09T17:18:29,211][DEBUG][o.e.x.s.a.f.FileUserRolesStore] [green4] parsed [0] user to role mappings from file [/etc/elasticsearch/users_roles]\r\n[2020-10-09T17:18:29,246][DEBUG][o.e.x.s.a.s.FileRolesStore] [green4] attempting to read roles file located at [/etc/elasticsearch/roles.yml]\r\n[2020-10-09T17:18:29,247][INFO ][o.e.x.s.a.s.FileRolesStore] [green4] parsed [0] roles from file [/etc/elasticsearch/roles.yml]\r\n[2020-10-09T17:18:29,402][DEBUG][o.e.x.s.Security         ] [green4] Using default authentication failure handler\r\n[2020-10-09T17:18:29,667][DEBUG][o.e.x.s.t.f.IPFilter     ] [green4] loaded ip filtering profiles: []\r\n[2020-10-09T17:18:29,956][TRACE][o.e.x.w.t.s.e.TickerScheduleTriggerEngine] [green4] checking jobs [2020-10-09T22:18:29.956193Z]\r\n[2020-10-09T17:18:30,088][DEBUG][o.e.x.m.p.l.CppLogMessageHandler] [green4] [controller/4914] [CLogger.cc@306] Logger is logging to named pipe /tmp/elasticsearch-15343235074654645061/controller_log_4808\r\n[2020-10-09T17:18:30,090][INFO ][o.e.x.m.p.l.CppLogMessageHandler] [green4] [controller/4914] [Main.cc@110] controller (64 bit): Version 7.5.2 (Build 68f6981dfb8e2d) Copyright (c) 2020 Elasticsearch BV\r\n[2020-10-09T17:18:30,339][DEBUG][o.e.x.t.TransformClusterStateListener] [green4] Created TransformClusterStateListener\r\n[2020-10-09T17:18:30,457][TRACE][o.e.x.w.t.s.e.TickerScheduleTriggerEngine] [green4] checking jobs [2020-10-09T22:18:30.457775Z]\r\n[2020-10-09T17:18:30,748][DEBUG][o.e.a.ActionModule       ] [green4] Using REST wrapper from plugin org.elasticsearch.xpack.security.Security\r\n[2020-10-09T17:18:30,791][DEBUG][i.n.u.i.l.InternalLoggerFactory] [green4] Using Log4J as the default logging framework\r\n[2020-10-09T17:18:30,795][DEBUG][i.n.u.i.PlatformDependent0] [green4] -Dio.netty.noUnsafe: true\r\n[2020-10-09T17:18:30,795][DEBUG][i.n.u.i.PlatformDependent0] [green4] sun.misc.Unsafe: unavailable (io.netty.noUnsafe)\r\n[2020-10-09T17:18:30,795][DEBUG][i.n.u.i.PlatformDependent0] [green4] Java version: 13\r\n[2020-10-09T17:18:30,796][DEBUG][i.n.u.i.PlatformDependent0] [green4] java.nio.DirectByteBuffer.<init>(long, int): unavailable\r\n[2020-10-09T17:18:30,797][DEBUG][i.n.u.i.PlatformDependent] [green4] maxDirectMemory: 33216266240 bytes (maybe)\r\n[2020-10-09T17:18:30,797][DEBUG][i.n.u.i.PlatformDependent] [green4] -Dio.netty.tmpdir: /tmp/elasticsearch-15343235074654645061 (java.io.tmpdir)\r\n[2020-10-09T17:18:30,798][DEBUG][i.n.u.i.PlatformDependent] [green4] -Dio.netty.bitMode: 64 (sun.arch.data.model)\r\n[2020-10-09T17:18:30,798][DEBUG][i.n.u.i.PlatformDependent] [green4] -Dio.netty.maxDirectMemory: -1 bytes\r\n[2020-10-09T17:18:30,798][DEBUG][i.n.u.i.PlatformDependent] [green4] -Dio.netty.uninitializedArrayAllocationThreshold: -1\r\n[2020-10-09T17:18:30,799][DEBUG][i.n.u.i.CleanerJava9     ] [green4] java.nio.ByteBuffer.cleaner(): unavailable\r\njava.lang.UnsupportedOperationException: sun.misc.Unsafe unavailable\r\n...\r\n[2020-10-09T17:18:30,801][DEBUG][i.n.u.i.PlatformDependent] [green4] -Dio.netty.noPreferDirect: true\r\n[2020-10-09T17:18:30,902][DEBUG][o.e.h.n.Netty4HttpServerTransport] [green4] using max_chunk_size[8kb], max_header_size[8kb], max_initial_line_length[4kb], max_content_length[100mb], receive_predictor[64kb], max_composite_buffer_components[69905], pipelining_max_events[10000]\r\n[2020-10-09T17:18:30,950][DEBUG][o.e.d.SettingsBasedSeedHostsProvider] [green4] using initial hosts [green4, green3, ivory4]\r\n[2020-10-09T17:18:30,958][TRACE][o.e.x.w.t.s.e.TickerScheduleTriggerEngine] [green4] checking jobs [2020-10-09T22:18:30.958213Z]\r\n[2020-10-09T17:18:30,995][INFO ][o.e.d.DiscoveryModule    ] [green4] using discovery type [zen] and seed hosts providers [settings]\r\n[2020-10-09T17:18:31,224][DEBUG][o.e.i.r.RecoverySettings ] [green4] using max_bytes_per_sec[40mb]\r\n[2020-10-09T17:18:31,458][TRACE][o.e.x.w.t.s.e.TickerScheduleTriggerEngine] [green4] checking jobs [2020-10-09T22:18:31.458587Z]\r\n[2020-10-09T17:18:31,946][DEBUG][o.e.n.Node               ] [green4] initializing HTTP handlers ...\r\n[2020-10-09T17:18:31,959][TRACE][o.e.x.w.t.s.e.TickerScheduleTriggerEngine] [green4] checking jobs [2020-10-09T22:18:31.958998Z]\r\n[2020-10-09T17:18:32,258][INFO ][o.e.n.Node               ] [green4] initialized\r\n[2020-10-09T17:18:32,259][INFO ][o.e.n.Node               ] [green4] starting ...\r\n[2020-10-09T17:18:32,260][DEBUG][o.e.l.LicenseService     ] [green4] initializing license state\r\n[2020-10-09T17:18:32,260][DEBUG][o.e.x.m.MonitoringService] [green4] monitoring service is starting\r\n[2020-10-09T17:18:32,260][DEBUG][o.e.x.m.MonitoringService] [green4] monitoring service started\r\n[2020-10-09T17:18:32,265][DEBUG][o.e.x.m.c.CleanerService ] [green4] starting cleaning service\r\n[2020-10-09T17:18:32,269][DEBUG][o.e.x.m.c.CleanerService ] [green4] cleaning service started\r\n[2020-10-09T17:18:32,280][DEBUG][i.n.c.MultithreadEventLoopGroup] [green4] -Dio.netty.eventLoopThreads: 16\r\n...\r\n[2020-10-09T17:18:32,361][DEBUG][o.e.t.n.Netty4Transport  ] [green4] using profile[default], worker_count[16], port[9300-9400], bind_host[[_site_]], publish_host[[]], receive_predictor[64kb->64kb]\r\n[2020-10-09T17:18:32,367][DEBUG][o.e.t.TcpTransport       ] [green4] binding server bootstrap to: [172.30.14.115]\r\n...\r\n[2020-10-09T17:18:32,459][TRACE][o.e.x.w.t.s.e.TickerScheduleTriggerEngine] [green4] checking jobs [2020-10-09T22:18:32.459444Z]\r\n[2020-10-09T17:18:32,515][TRACE][o.e.g.MetaStateService   ] [green4] generation id [2198] read from [global-2198.st]\r\n[2020-10-09T17:18:32,733][TRACE][o.e.g.MetaDataStateFormat] [green4] found state file: /var/lib/elasticsearch/nodes/0/indices/WxdUXWSjRYiXzCTvlKfz4g/_state/state-17.st\r\n[2020-10-09T17:18:32,742][TRACE][o.e.g.MetaStateService   ] [green4] generation id [17] read from [state-17.st]\r\n...\r\n[2020-10-09T17:18:36,905][TRACE][o.e.g.MetaDataStateFormat] [green4] found state file: /var/lib/elasticsearch/nodes/0/indices/fcam8wFgT1G86-HtjZ96Yw/_state/state-22.st\r\n[2020-10-09T17:18:36,906][TRACE][o.e.g.MetaStateService   ] [green4] generation id [22] read from [state-22.st]\r\n[2020-10-09T17:18:36,955][TRACE][o.e.i.IndexSettings      ] [green4] [metrics-onyxs-s-2020.07.30] using [tiered] merge mergePolicy with expunge_deletes_allowed[10.0], floor_segment[2mb], max_merge_at_once[10], max_merge_at_once_explicit[30], max_merged_segment[5gb], segments_per_tier[10.0], deletes_pct_allowed[33.0]\r\n[2020-10-09T17:18:36,982][TRACE][o.e.i.m.MapperService    ] [green4] [metrics-onyxs-s-2020.07.30] default mapping source[{\"_default_\":{}}]\r\n[2020-10-09T17:18:36,991][TRACE][o.e.x.w.t.s.e.TickerScheduleTriggerEngine] [green4] checking jobs [2020-10-09T22:18:36.991672Z]\r\n[2020-10-09T17:18:37,038][TRACE][o.e.i.IndexSettings      ] [green4] [metrics-dino-health-2020.09.10] using [tiered] merge mergePolicy with expunge_deletes_allowed[10.0], floor_segment[2mb], max_merge_at_once[10], max_merge_at_once_explicit[30], max_merged_segment[5gb], segments_per_tier[10.0], deletes_pct_allowed[33.0]\r\n[2020-10-09T17:18:37,039][TRACE][o.e.i.m.MapperService    ] [green4] [metrics-dino-health-2020.09.10] default mapping source[{\"_default_\":{}}]\r\n[2020-10-09T17:18:37,043][TRACE][o.e.i.IndexSettings      ] [green4] [metrics-luckys-index-2020.07.26] using [tiered] merge mergePolicy with expunge_deletes_allowed[10.0], floor_segment[2mb], max_merge_at_once[10], max_merge_at_once_explicit[30], max_merged_segment[5gb], segments_per_tier[10.0], deletes_pct_allowed[33.0]\r\n...\r\n[2020-10-09T17:18:39,184][TRACE][o.e.i.IndexSettings      ] [green4] [metrics-onyxs-node-2020.07.06] using [tiered] merge mergePolicy with expunge_deletes_allowed[10.0], floor_segment[2mb], max_merge_at_once[10], max_merge_at_once_explicit[30], max_merged_segment[5gb], segments_per_tier[10.0], deletes_pct_allowed[33.0]\r\n[2020-10-09T17:18:39,184][TRACE][o.e.i.m.MapperService    ] [green4] [metrics-onyxs-node-2020.07.06] default mapping source[{\"_default_\":{}}]\r\n[2020-10-09T17:18:39,310][TRACE][o.e.g.MetaStateService   ] [green4] [[metrics-onyxs-s-2020.07.30/C37J5PdJSzC8Q42bSVReYg]] writing state, reason [upgrade]\r\n[2020-10-09T17:18:39,311][TRACE][o.e.g.MetaDataStateFormat] [green4] cleaned up /var/lib/elasticsearch/nodes/0/indices/C37J5PdJSzC8Q42bSVReYg/state-22.st.tmp\r\n[2020-10-09T17:18:39,570][TRACE][o.e.x.w.t.s.e.TickerScheduleTriggerEngine] [green4] checking jobs [2020-10-09T22:18:39.570668Z]\r\n[2020-10-09T17:18:39,646][TRACE][o.e.g.MetaDataStateFormat] [green4] cleaned up /var/lib/elasticsearch/nodes/0/indices/C37J5PdJSzC8Q42bSVReYg/state-22.st.tmp\r\n[2020-10-09T17:18:39,646][TRACE][o.e.g.MetaStateService   ] [green4] [[metrics-onyxs-s-2020.07.30/C37J5PdJSzC8Q42bSVReYg]] state written\r\n[2020-10-09T17:18:39,649][TRACE][o.e.g.MetaStateService   ] [green4] [[metrics-dino-health-2020.09.10/Hv7syxfVQES4XUMsyd-YSg]] writing state, reason [upgrade]\r\n...\r\n[2020-10-09T17:19:19,834][TRACE][o.e.g.MetaStateService   ] [green4] [[metrics-dino-node-2020.08.13/go0QeqRaQBeyEmuShtK4Pw]] writing state, reason [upgrade]\r\n[2020-10-09T17:19:19,835][TRACE][o.e.g.MetaDataStateFormat] [green4] cleaned up /var/lib/elasticsearch/nodes/0/indices/go0QeqRaQBeyEmuShtK4Pw/state-21.st.tmp\r\n[2020-10-09T17:19:19,859][DEBUG][o.a.h.i.c.PoolingHttpClientConnectionManager] [green4] Closing expired connections\r\n[2020-10-09T17:19:19,889][TRACE][o.e.g.MetaDataStateFormat] [green4] cleaned up /var/lib/elasticsearch/nodes/0/indices/go0QeqRaQBeyEmuShtK4Pw/state-21.st.tmp\r\n[2020-10-09T17:19:19,890][TRACE][o.e.g.MetaStateService   ] [green4] [[metrics-dino-node-2020.08.13/go0QeqRaQBeyEmuShtK4Pw]] state written\r\n[2020-10-09T17:19:19,890][TRACE][o.e.g.MetaStateService   ] [green4] [[metrics-dino-s-2020.09.09/3JoN572CTPyvgos_nOtsUA]] writing state, reason [upgrade]\r\n[2020-10-09T17:19:19,891][TRACE][o.e.g.MetaDataStateFormat] [green4] cleaned up /var/lib/elasticsearch/nodes/0/indices/3JoN572CTPyvgos_nOtsUA/state-17.st.tmp\r\n[2020-10-09T17:19:19,894][INFO ][o.e.n.Node               ] [green4] stopping ...\r\n[2020-10-09T16:29:05,130][INFO ][o.e.n.Node               ] [green4] stopped\r\n[2020-10-09T16:29:05,130][INFO ][o.e.n.Node               ] [green4] closing ...\r\n[2020-10-09T16:29:05,152][INFO ][o.e.n.Node               ] [green4] closed\r\n[2020-10-09T16:29:05,157][INFO ][o.e.x.m.p.NativeController] [green4] Native controller process has stopped - no new native processes can be started\r\n\r\n```","performed_via_github_app":null}]