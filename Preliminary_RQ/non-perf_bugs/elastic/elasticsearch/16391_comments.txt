[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/178966149","html_url":"https://github.com/elastic/elasticsearch/issues/16391#issuecomment-178966149","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16391","id":178966149,"node_id":"MDEyOklzc3VlQ29tbWVudDE3ODk2NjE0OQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-02-03T02:42:14Z","updated_at":"2016-02-03T02:42:32Z","author_association":"MEMBER","body":"Someone else will look at the core of the issue here but I just wanted to let you know that the message\n\n> I'm also seeing this in the logs:\n> \n> ```\n> [2016-02-02 16:05:12,166][DEBUG][cluster.action.shard     ] [George Stacy] [analytics_test_201602][4] sending shard started for [analytics_test_201602][4], node[OcKoG1smQ0a__zSHxix33A], [P], v[1], s[INITIALIZING], a[id=ZgJoAG_vRGO6pVamLpHOHg], unassigned_info[[reason=INDEX_CREATED], at[2016-02-02T23:05:12.087Z]], expected_shard_size[7404], indexUUID [_WBlFe96TRO0kbG7S3ZgDg], message [after recovery from store], failure [Unknown]\n> ```\n\nthat you pointed out is fine, it's not a failure, it's just bad logging. In this case, a shard is being started after recovering. However, shard started and shard failure actions share the same request object and their shared string representation prints out `failure: [Unknown]` when there is no failure. It's bothered me for awhile, but seeing it here finally brought me to do something about it; I opened #16396. Sorry for the confusion!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/179013457","html_url":"https://github.com/elastic/elasticsearch/issues/16391#issuecomment-179013457","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16391","id":179013457,"node_id":"MDEyOklzc3VlQ29tbWVudDE3OTAxMzQ1Nw==","user":{"login":"bwebster","id":441162,"node_id":"MDQ6VXNlcjQ0MTE2Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/441162?v=4","gravatar_id":"","url":"https://api.github.com/users/bwebster","html_url":"https://github.com/bwebster","followers_url":"https://api.github.com/users/bwebster/followers","following_url":"https://api.github.com/users/bwebster/following{/other_user}","gists_url":"https://api.github.com/users/bwebster/gists{/gist_id}","starred_url":"https://api.github.com/users/bwebster/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bwebster/subscriptions","organizations_url":"https://api.github.com/users/bwebster/orgs","repos_url":"https://api.github.com/users/bwebster/repos","events_url":"https://api.github.com/users/bwebster/events{/privacy}","received_events_url":"https://api.github.com/users/bwebster/received_events","type":"User","site_admin":false},"created_at":"2016-02-03T05:07:21Z","updated_at":"2016-02-03T05:07:21Z","author_association":"NONE","body":"Thanks for the explanation @jasontedor.  Good to know that the `failure: [Unknown]` isn't something to worry about.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/179536306","html_url":"https://github.com/elastic/elasticsearch/issues/16391#issuecomment-179536306","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16391","id":179536306,"node_id":"MDEyOklzc3VlQ29tbWVudDE3OTUzNjMwNg==","user":{"login":"bwebster","id":441162,"node_id":"MDQ6VXNlcjQ0MTE2Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/441162?v=4","gravatar_id":"","url":"https://api.github.com/users/bwebster","html_url":"https://github.com/bwebster","followers_url":"https://api.github.com/users/bwebster/followers","following_url":"https://api.github.com/users/bwebster/following{/other_user}","gists_url":"https://api.github.com/users/bwebster/gists{/gist_id}","starred_url":"https://api.github.com/users/bwebster/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bwebster/subscriptions","organizations_url":"https://api.github.com/users/bwebster/orgs","repos_url":"https://api.github.com/users/bwebster/repos","events_url":"https://api.github.com/users/bwebster/events{/privacy}","received_events_url":"https://api.github.com/users/bwebster/received_events","type":"User","site_admin":false},"created_at":"2016-02-03T23:50:31Z","updated_at":"2016-02-03T23:50:31Z","author_association":"NONE","body":"Update: the test suite is now much more reliable.  The only difference is that the test data is no longer overlapping a month boundary.  All the test data is created in one index (for the month of February).\n\nSeems to be related to the query needing to hit more than one index.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/189673014","html_url":"https://github.com/elastic/elasticsearch/issues/16391#issuecomment-189673014","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16391","id":189673014,"node_id":"MDEyOklzc3VlQ29tbWVudDE4OTY3MzAxNA==","user":{"login":"2e3s","id":4003445,"node_id":"MDQ6VXNlcjQwMDM0NDU=","avatar_url":"https://avatars3.githubusercontent.com/u/4003445?v=4","gravatar_id":"","url":"https://api.github.com/users/2e3s","html_url":"https://github.com/2e3s","followers_url":"https://api.github.com/users/2e3s/followers","following_url":"https://api.github.com/users/2e3s/following{/other_user}","gists_url":"https://api.github.com/users/2e3s/gists{/gist_id}","starred_url":"https://api.github.com/users/2e3s/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/2e3s/subscriptions","organizations_url":"https://api.github.com/users/2e3s/orgs","repos_url":"https://api.github.com/users/2e3s/repos","events_url":"https://api.github.com/users/2e3s/events{/privacy}","received_events_url":"https://api.github.com/users/2e3s/received_events","type":"User","site_admin":false},"created_at":"2016-02-27T15:56:25Z","updated_at":"2016-02-27T16:47:02Z","author_association":"NONE","body":"I have the same error, narrowed it if it helps. In short, the different parts are, query with the error:\n\n``` json\n  \"aggregations\": {\n    \"root\": {\n      \"terms\": {\n        \"field\": \"result\",\n        \"order\": [{\"current>amount\": \"desc\"}]\n      },\n```\n\nwith no error\n\n``` json\n  \"aggregations\": {\n    \"root\": {\n      \"terms\": {\n        \"field\": \"result\",\n        \"order\": [{\"current\": \"desc\"}]\n      },\n```\n\nit happens on a single index, a few records, quite a trivial config.\nWhile trying it more I figured out that putting a record with this `curl -XPUT 'http://localhost:9200/sortbug/sortbug/c1t987654' -d '` with the first query makes the error and this `curl -XPUT 'http://localhost:9200/sortbug/sortbug/c1t98765' -d '` doesn't.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/202909397","html_url":"https://github.com/elastic/elasticsearch/issues/16391#issuecomment-202909397","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16391","id":202909397,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMjkwOTM5Nw==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2016-03-29T14:06:20Z","updated_at":"2016-03-29T14:06:20Z","author_association":"MEMBER","body":"This looks to be the same as https://github.com/elastic/elasticsearch/issues/17225 which has been fixed by https://github.com/elastic/elasticsearch/pull/17379 and should be available from version 2.3.1. Could you confirm whether you still see this on the latest 2.3 branch?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/218735451","html_url":"https://github.com/elastic/elasticsearch/issues/16391#issuecomment-218735451","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16391","id":218735451,"node_id":"MDEyOklzc3VlQ29tbWVudDIxODczNTQ1MQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-05-12T11:54:20Z","updated_at":"2016-05-12T11:54:20Z","author_association":"CONTRIBUTOR","body":"No further feedback. Closing\n","performed_via_github_app":null}]