[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/253785655","html_url":"https://github.com/elastic/elasticsearch/issues/20933#issuecomment-253785655","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20933","id":253785655,"node_id":"MDEyOklzc3VlQ29tbWVudDI1Mzc4NTY1NQ==","user":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"created_at":"2016-10-14T12:25:36Z","updated_at":"2016-10-14T12:25:36Z","author_association":"MEMBER","body":"Have you seen the existing [Profile API](https://www.elastic.co/guide/en/elasticsearch/reference/current/search-profile.html)?  It returns per-shard breakdown of many of the things you listed: scoring, rewriting, etc.\n\nIt doesn't instrument everything in ES yet (DFS for example, or the fetch phase), but the goal is to add more to the feature over time.  For example, in 5.0 it gained the ability to [profile aggregations](https://github.com/elastic/elasticsearch/pull/18414)\n","performed_via_github_app":null}]