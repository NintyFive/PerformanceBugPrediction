[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/527337509","html_url":"https://github.com/elastic/elasticsearch/issues/46252#issuecomment-527337509","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46252","id":527337509,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzMzNzUwOQ==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2019-09-03T07:21:13Z","updated_at":"2019-09-03T07:21:13Z","author_association":"MEMBER","body":"Looks the ES 6.2.4 es node is reading a data directory that was used by an es node with a higher version. Looking at the stack trace, the `mapping_version` field was introduced in #33147, which was included in the 6.5 release. Did you do an upgrade to a newer version and then downgraded to 6.2.4 using the same data directory?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/527345603","html_url":"https://github.com/elastic/elasticsearch/issues/46252#issuecomment-527345603","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46252","id":527345603,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzM0NTYwMw==","user":{"login":"showalski","id":17571224,"node_id":"MDQ6VXNlcjE3NTcxMjI0","avatar_url":"https://avatars1.githubusercontent.com/u/17571224?v=4","gravatar_id":"","url":"https://api.github.com/users/showalski","html_url":"https://github.com/showalski","followers_url":"https://api.github.com/users/showalski/followers","following_url":"https://api.github.com/users/showalski/following{/other_user}","gists_url":"https://api.github.com/users/showalski/gists{/gist_id}","starred_url":"https://api.github.com/users/showalski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/showalski/subscriptions","organizations_url":"https://api.github.com/users/showalski/orgs","repos_url":"https://api.github.com/users/showalski/repos","events_url":"https://api.github.com/users/showalski/events{/privacy}","received_events_url":"https://api.github.com/users/showalski/received_events","type":"User","site_admin":false},"created_at":"2019-09-03T07:47:15Z","updated_at":"2019-09-03T07:47:15Z","author_association":"NONE","body":"@martijnvg Thanks for your help. Yes, we tested different versions on same virtual machine without cleaning old ES data. The main versions being used are `6.7.2` and `6.2.4`.\r\n\r\nSo when we test `6.2.4` version, we need to remove data generated by ES that has version higher than 6.5 release? This is the only way to let version `6.2.4` ES work as expected, right?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/527352813","html_url":"https://github.com/elastic/elasticsearch/issues/46252#issuecomment-527352813","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46252","id":527352813,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzM1MjgxMw==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2019-09-03T08:08:39Z","updated_at":"2019-09-03T08:08:39Z","author_association":"MEMBER","body":"> So when we test 6.2.4 version, we need to remove data generated by ES that has version higher than 6.5 release? This is the only way to let version 6.2.4 ES work as expected, right?\r\n\r\nElasticsearch supports upgrading to a newer version with the same data directory. However Elasticsearch doesn't support downgrading to an older version with the same data directory. In that case the data directory should be removed. In any case when upgrading please consult the upgrade docs: https://www.elastic.co/guide/en/elasticsearch/reference/current/setup-upgrade.html","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/527358285","html_url":"https://github.com/elastic/elasticsearch/issues/46252#issuecomment-527358285","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46252","id":527358285,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzM1ODI4NQ==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2019-09-03T08:24:39Z","updated_at":"2019-09-03T08:24:39Z","author_association":"MEMBER","body":"I'm going to close this issue. Actually we use GitHub for verified bug reports, feature requests, and pull requests. Next time we would really appreciate if you go to the [forums](https://discuss.elastic.co/) first before opening an issue here. If you do have a followup question then open a thread in the Elasticsearch forum and then I'm happy to help you there.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/527359849","html_url":"https://github.com/elastic/elasticsearch/issues/46252#issuecomment-527359849","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46252","id":527359849,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzM1OTg0OQ==","user":{"login":"showalski","id":17571224,"node_id":"MDQ6VXNlcjE3NTcxMjI0","avatar_url":"https://avatars1.githubusercontent.com/u/17571224?v=4","gravatar_id":"","url":"https://api.github.com/users/showalski","html_url":"https://github.com/showalski","followers_url":"https://api.github.com/users/showalski/followers","following_url":"https://api.github.com/users/showalski/following{/other_user}","gists_url":"https://api.github.com/users/showalski/gists{/gist_id}","starred_url":"https://api.github.com/users/showalski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/showalski/subscriptions","organizations_url":"https://api.github.com/users/showalski/orgs","repos_url":"https://api.github.com/users/showalski/repos","events_url":"https://api.github.com/users/showalski/events{/privacy}","received_events_url":"https://api.github.com/users/showalski/received_events","type":"User","site_admin":false},"created_at":"2019-09-03T08:29:06Z","updated_at":"2019-09-03T08:29:06Z","author_association":"NONE","body":"Thanks for your help.","performed_via_github_app":null}]