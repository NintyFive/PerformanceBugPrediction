[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/245369242","html_url":"https://github.com/elastic/elasticsearch/issues/20372#issuecomment-245369242","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20372","id":245369242,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTM2OTI0Mg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-09-07T18:12:29Z","updated_at":"2016-09-07T18:19:22Z","author_association":"MEMBER","body":"I think that we need to see the contents of the byte array representing `person` here, there are plenty of tests using effectively exactly the same code that you have here. Can you double-check your serialization of `person` or provide a unit test that reproduces this without an external dependency?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/245385705","html_url":"https://github.com/elastic/elasticsearch/issues/20372#issuecomment-245385705","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20372","id":245385705,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTM4NTcwNQ==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-09-07T19:12:55Z","updated_at":"2016-09-07T19:12:55Z","author_association":"MEMBER","body":"I will. Just for the record, same code works with alpha4.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/245387946","html_url":"https://github.com/elastic/elasticsearch/issues/20372#issuecomment-245387946","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20372","id":245387946,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTM4Nzk0Ng==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-09-07T19:21:49Z","updated_at":"2016-09-07T19:21:49Z","author_association":"MEMBER","body":"That's fine, but we can't debug this until we have a byte array that reproduces the issue.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/245524365","html_url":"https://github.com/elastic/elasticsearch/issues/20372#issuecomment-245524365","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20372","id":245524365,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTUyNDM2NQ==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-09-08T08:08:04Z","updated_at":"2016-09-08T08:08:04Z","author_association":"CONTRIBUTOR","body":"@dadoonet any chance that you transport client is still alpha4 and the server is alpha5? can you check you are using the right jar on the client?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/245533311","html_url":"https://github.com/elastic/elasticsearch/issues/20372#issuecomment-245533311","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20372","id":245533311,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTUzMzMxMQ==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-09-08T08:47:06Z","updated_at":"2016-09-08T08:47:45Z","author_association":"MEMBER","body":"The liveness request from the client will fail due to minCompatibleVersion checks, preventing alpha5 from speaking to alpha4, with a proper exception\n\n> On 08 Sep 2016, at 10:08, Simon Willnauer notifications@github.com wrote:\n> \n> @dadoonet any chance that you transport client is still alpha4 and the server is alpha5? can you check you are using the right jar on the client?\n> \n> â€”\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub, or mute the thread.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/245705475","html_url":"https://github.com/elastic/elasticsearch/issues/20372#issuecomment-245705475","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20372","id":245705475,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTcwNTQ3NQ==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-09-08T19:05:07Z","updated_at":"2016-09-08T19:05:07Z","author_association":"CONTRIBUTOR","body":"@bleskes I might be wrong but it seems like if you use sniffing it's not doing that. And if we don't use the handshake connect but we should? @dadoonet do you use sniffing?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/245709893","html_url":"https://github.com/elastic/elasticsearch/issues/20372#issuecomment-245709893","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20372","id":245709893,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTcwOTg5Mw==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-09-08T19:20:02Z","updated_at":"2016-09-08T19:20:02Z","author_association":"MEMBER","body":"I don't but IIRC one of my tests it was impossible to use a client version alpha4 with a node running alpha5. \n\nBut I'll double check all that tomorrow.\nAnd I'll try to reproduce with a test as suggested by Jason.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/245838910","html_url":"https://github.com/elastic/elasticsearch/issues/20372#issuecomment-245838910","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20372","id":245838910,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTgzODkxMA==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-09-09T07:21:19Z","updated_at":"2016-09-09T07:21:39Z","author_association":"MEMBER","body":"Ok. @s1monw is right. Apparently I had in my classpath an old version of something.\nI looked at my local .m2 `transport-netty4-client` pom and it was having dependencies on a netty version built by us and with a SNAPSHOT version. Not sure why this happens but here is what I did:\n- remove all files in `.m2/repository/org/elasticsearch`\n- run `mvn clean install` on my project\n- start again\n\nAnd everything is working fine.\n\nSorry for the false alarm.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/245839540","html_url":"https://github.com/elastic/elasticsearch/issues/20372#issuecomment-245839540","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20372","id":245839540,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTgzOTU0MA==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-09-09T07:24:50Z","updated_at":"2016-09-09T07:24:50Z","author_association":"CONTRIBUTOR","body":"now the question is why was this client able to connect to the node at all?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/245839879","html_url":"https://github.com/elastic/elasticsearch/issues/20372#issuecomment-245839879","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20372","id":245839879,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTgzOTg3OQ==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-09-09T07:26:45Z","updated_at":"2016-09-09T07:26:45Z","author_association":"CONTRIBUTOR","body":"> [Ok. @s1monw is right.](https://www.youtube.com/watch?v=Uz1Jwyxd4tE)\n\n;)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/245839986","html_url":"https://github.com/elastic/elasticsearch/issues/20372#issuecomment-245839986","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20372","id":245839986,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTgzOTk4Ng==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-09-09T07:27:21Z","updated_at":"2016-09-09T07:27:21Z","author_association":"MEMBER","body":"@s1monw I think that I was having both versions of the libs on the classpath? That might explain why I was able to use `PreBuiltTransportClient` class (which came only in alpha5 - transport jar).\nAnd I guess that elasticsearch jar alpha4 was still on the classpath. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/245840240","html_url":"https://github.com/elastic/elasticsearch/issues/20372#issuecomment-245840240","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20372","id":245840240,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTg0MDI0MA==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-09-09T07:28:45Z","updated_at":"2016-09-09T07:28:45Z","author_association":"CONTRIBUTOR","body":"oh man, jar hell? I guess you should enable jarhell checks in your app. I will use this as an example for everybody complaining in the future.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/245840401","html_url":"https://github.com/elastic/elasticsearch/issues/20372#issuecomment-245840401","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20372","id":245840401,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NTg0MDQwMQ==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-09-09T07:29:39Z","updated_at":"2016-09-09T07:29:39Z","author_association":"MEMBER","body":"> I will use this as an example for everybody complaining in the future.\n\nDefinitely\n","performed_via_github_app":null}]