{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/21824","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21824/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21824/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21824/events","html_url":"https://github.com/elastic/elasticsearch/issues/21824","id":191986193,"node_id":"MDU6SXNzdWUxOTE5ODYxOTM=","number":21824,"title":"Installing Plugin via Proxy fails (ES 2.4.1)","user":{"login":"rlueckl","id":10848041,"node_id":"MDQ6VXNlcjEwODQ4MDQx","avatar_url":"https://avatars0.githubusercontent.com/u/10848041?v=4","gravatar_id":"","url":"https://api.github.com/users/rlueckl","html_url":"https://github.com/rlueckl","followers_url":"https://api.github.com/users/rlueckl/followers","following_url":"https://api.github.com/users/rlueckl/following{/other_user}","gists_url":"https://api.github.com/users/rlueckl/gists{/gist_id}","starred_url":"https://api.github.com/users/rlueckl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rlueckl/subscriptions","organizations_url":"https://api.github.com/users/rlueckl/orgs","repos_url":"https://api.github.com/users/rlueckl/repos","events_url":"https://api.github.com/users/rlueckl/events{/privacy}","received_events_url":"https://api.github.com/users/rlueckl/received_events","type":"User","site_admin":false},"labels":[{"id":111624690,"node_id":"MDU6TGFiZWwxMTE2MjQ2OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/feedback_needed","name":"feedback_needed","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":17,"created_at":"2016-11-28T11:49:27Z","updated_at":"2017-01-05T13:55:23Z","closed_at":"2016-12-28T00:13:01Z","author_association":"NONE","active_lock_reason":null,"body":"This is a follow up of https://discuss.elastic.co/t/installing-plugins-via-proxy-doesnt-work-anymore/61901\r\n\r\n**Elasticsearch version**: 2.4.1\r\n\r\n**JVM version**: Oracle Java 1.8.0_66\r\n\r\n**OS version**: Debian Wheezy\r\n\r\n**Description of the problem including expected versus actual behavior**: I'm trying to install the \"mobz/elasticsearch-head\" plugin through a proxy, but I always get a \"SocketTimeoutException\". I've used a proxy before (via -DproxyPort and -DproxyHost) and it has worked in an earlier version (don't know the exact version, but you had to use \"./plugin -install\" before, now it's just \"./plugin install\").\r\n\r\n**Steps to reproduce**:\r\n```\r\n/usr/share/elasticsearch/bin/plugin -DproxyHost=http://my.proxy.lan -DproxyPort=3128 install mobz/elasticsearch-head --verbose\r\n```\r\n\r\n**Provide logs (if relevant)**:\r\n```\r\n-> Installing mobz/elasticsearch-head...\r\nTrying https://github.com/mobz/elasticsearch-head/archive/master.zip ...\r\nFailed: SocketTimeoutException[connect timed out]\r\nERROR: failed to download out of all possible locations..., use --verbose to get detailed information\r\n```\r\n\r\nUsing the same proxy and wget I can download the file:\r\n\r\n```\r\nhttps_proxy=http://my.proxy.lan:3128 wget https://github.com/mobz/elasticsearch-head/archive/master.zip\r\n--2016-11-28 12:39:57--  https://github.com/mobz/elasticsearch-head/archive/master.zip\r\nResolving my.proxy.lan (my.proxy.lan)... 172.xx.xx.xx\r\nConnecting to my.proxy.lan (my.proxy.lan)|172.xx.xx.xx|:3128... connected.\r\nProxy request sent, awaiting response... 302 Found\r\nLocation: https://codeload.github.com/mobz/elasticsearch-head/zip/master [following]\r\n--2016-11-28 12:39:58--  https://codeload.github.com/mobz/elasticsearch-head/zip/master\r\nConnecting to my.proxy.lan (my.proxy.lan)|172.xx.xx.xx|:3128... connected.\r\nProxy request sent, awaiting response... 200 OK\r\nLength: 907315 (886K) [application/zip]\r\nSaving to: `master.zip'\r\n\r\n100%[==========================>] 907,315     1.28M/s   in 0.7s    \r\n\r\n2016-11-28 12:40:00 (1.28 MB/s) - `master.zip' saved [907315/907315]\r\n```\r\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}