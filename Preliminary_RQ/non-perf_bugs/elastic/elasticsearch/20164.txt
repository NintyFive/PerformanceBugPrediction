{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/20164","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20164/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20164/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20164/events","html_url":"https://github.com/elastic/elasticsearch/issues/20164","id":173217902,"node_id":"MDU6SXNzdWUxNzMyMTc5MDI=","number":20164,"title":"Create an example to show how the rank-eval endpoint is supposed to work","user":{"login":"MaineC","id":70953,"node_id":"MDQ6VXNlcjcwOTUz","avatar_url":"https://avatars3.githubusercontent.com/u/70953?v=4","gravatar_id":"","url":"https://api.github.com/users/MaineC","html_url":"https://github.com/MaineC","followers_url":"https://api.github.com/users/MaineC/followers","following_url":"https://api.github.com/users/MaineC/following{/other_user}","gists_url":"https://api.github.com/users/MaineC/gists{/gist_id}","starred_url":"https://api.github.com/users/MaineC/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaineC/subscriptions","organizations_url":"https://api.github.com/users/MaineC/orgs","repos_url":"https://api.github.com/users/MaineC/repos","events_url":"https://api.github.com/users/MaineC/events{/privacy}","received_events_url":"https://api.github.com/users/MaineC/received_events","type":"User","site_admin":false},"labels":[{"id":418189364,"node_id":"MDU6TGFiZWw0MTgxODkzNjQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Ranking","name":":Search/Ranking","color":"0e8a16","default":false,"description":"Scoring, rescoring, rank evaluation."},{"id":23715,"node_id":"MDU6TGFiZWwyMzcxNQ==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Edocs","name":">docs","color":"db755e","default":false,"description":"General docs changes"},{"id":130371191,"node_id":"MDU6TGFiZWwxMzAzNzExOTE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/WIP","name":"WIP","color":"fef2c0","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2016-08-25T14:25:35Z","updated_at":"2017-11-08T21:54:25Z","closed_at":"2017-11-08T21:54:17Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"In [an earlier comment](https://github.com/elastic/elasticsearch/issues/19195#issuecomment-229752392) to #19195 using a tiny set of annotated Wikipedia queries seemed like a good real world use case to figure out whether the current setup of the rank-eval API has any flaws.\n\n@cbuescher spent some time downsampling the wikipedia index to something manageable for this use case (essentially including those pages in the index that actually match the queries in the annotation sample above for a reasonably simple query structure).\n\nAs #19747 turned out to introduce quite a bit of complexity we thought that this might be a good chance to see what using the API might look like for a Java dev. Christoph came up with a really rough prototype [see here](https://github.com/cbuescher/elasticsearch/commit/ed944e89bc82ee7bd3197fb659e753b21a5b8c06) Turning that into a slightly cleaner standalone Java project turned out to be non trivial due to #18131.\n\nGiven that we'll stop supporting transport client anyway sooner or later, I'm wondering what the best path forward looks like for turning this into some demoable code.\n\nOne option I can think of:Directly use the page title as doc id to avoid the extra roundtrip at the top of this class. Use the REST API eg. via Python and forget about Java altogether.\n\n@nik9000 @rjernst do you have any advice?\n","closed_by":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"performed_via_github_app":null}