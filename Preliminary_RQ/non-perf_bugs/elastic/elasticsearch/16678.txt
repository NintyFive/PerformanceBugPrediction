{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/16678","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16678/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16678/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16678/events","html_url":"https://github.com/elastic/elasticsearch/issues/16678","id":133757898,"node_id":"MDU6SXNzdWUxMzM3NTc4OTg=","number":16678,"title":"ClusterHealthResponse is always red","user":{"login":"hakdogan","id":657846,"node_id":"MDQ6VXNlcjY1Nzg0Ng==","avatar_url":"https://avatars3.githubusercontent.com/u/657846?v=4","gravatar_id":"","url":"https://api.github.com/users/hakdogan","html_url":"https://github.com/hakdogan","followers_url":"https://api.github.com/users/hakdogan/followers","following_url":"https://api.github.com/users/hakdogan/following{/other_user}","gists_url":"https://api.github.com/users/hakdogan/gists{/gist_id}","starred_url":"https://api.github.com/users/hakdogan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hakdogan/subscriptions","organizations_url":"https://api.github.com/users/hakdogan/orgs","repos_url":"https://api.github.com/users/hakdogan/repos","events_url":"https://api.github.com/users/hakdogan/events{/privacy}","received_events_url":"https://api.github.com/users/hakdogan/received_events","type":"User","site_admin":false},"labels":[{"id":144797810,"node_id":"MDU6TGFiZWwxNDQ3OTc4MTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Core","name":":Core/Infra/Core","color":"0e8a16","default":false,"description":"Core issues without another label"},{"id":837246479,"node_id":"MDU6TGFiZWw4MzcyNDY0Nzk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Allocation","name":":Distributed/Allocation","color":"0e8a16","default":false,"description":"All issues relating to the decision making around placing a shard (both master logic & on the nodes)"},{"id":111624690,"node_id":"MDU6TGFiZWwxMTE2MjQ2OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/feedback_needed","name":"feedback_needed","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2016-02-15T16:31:23Z","updated_at":"2018-02-14T14:05:33Z","closed_at":"2017-03-31T14:37:33Z","author_association":"NONE","active_lock_reason":null,"body":"I came across an interesting situation while testing some scenarios with Java API version 2.2.0\n\nClusterHealthResponse returns always red when I want to get the status of the cluster(immediately after the node starts) that has one or more indices but If you get the status of the cluster after creating an index the state of the cluster does not return red in the next request even if execute immediately after the node starts.\n\nPlease look at the [simple gist.](https://gist.github.com/hakdogan/e541e52a96b0e16ea8f9)\n\nWhen you run this standalone application sequentially you will get the following log:\n\n> 2016-02-15 18:18:11,150 [main] INFO  com.kodcu.JavaAPIMain - *************\\* GREEN **************\n> 2016-02-15 18:18:11,153 [main] INFO  com.kodcu.JavaAPIMain - Index does not exist. Creating...\n> \n> 2016-02-15 18:22:18,500 [main] INFO  com.kodcu.JavaAPIMain - *************\\* RED **************\n> 2016-02-15 18:22:18,502 [main] INFO  com.kodcu.JavaAPIMain - Index already exists.\n\nAfterwards, delete the data path directory and comment the line 67 and then run this code. The result will be as below:\n\n> 2016-02-15 18:28:43,049 [main] INFO  com.kodcu.JavaAPIMain - *************\\* GREEN **************\n> 2016-02-15 18:28:43,055 [main] INFO  com.kodcu.JavaAPIMain - Index does not exist. Creating...\n> 2016-02-15 18:28:43,910 [main] INFO  com.kodcu.JavaAPIMain - *************\\* YELLOW **************\n> \n> 2016-02-15 18:29:28,472 [main] INFO  com.kodcu.JavaAPIMain - *************\\* YELLOW **************\n> 2016-02-15 18:29:28,475 [main] INFO  com.kodcu.JavaAPIMain - Index already exists.\n\nWhat could be the source of this inconsistency?\n","closed_by":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"performed_via_github_app":null}