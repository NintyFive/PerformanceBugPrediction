[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/275112951","html_url":"https://github.com/elastic/elasticsearch/issues/22768#issuecomment-275112951","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22768","id":275112951,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTExMjk1MQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2017-01-25T13:53:25Z","updated_at":"2017-01-25T13:53:25Z","author_association":"CONTRIBUTOR","body":"There's no guarantee that there is a `.keyword` field - I'd only show this message if we're sure there is one.  Also, recent versions of Kibana only show fields that are aggregatable, so this message is seen much less frequently.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/275125794","html_url":"https://github.com/elastic/elasticsearch/issues/22768#issuecomment-275125794","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22768","id":275125794,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTEyNTc5NA==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-01-25T14:44:43Z","updated_at":"2017-01-25T14:44:43Z","author_association":"MEMBER","body":"I see, maybe just give the two options then? It would be nice to mention keyword fields at least, just not to make people enable fielddata by mistake.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/275670687","html_url":"https://github.com/elastic/elasticsearch/issues/22768#issuecomment-275670687","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22768","id":275670687,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTY3MDY4Nw==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-01-27T13:57:49Z","updated_at":"2017-01-27T13:57:49Z","author_association":"MEMBER","body":"Discussed in FixItFriday, we decided to rephrase the error message and mention the two options: either enable fielddata or aggregate on a field of type keyword.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/285306307","html_url":"https://github.com/elastic/elasticsearch/issues/22768#issuecomment-285306307","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22768","id":285306307,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NTMwNjMwNw==","user":{"login":"IanvsPoplicola","id":13974588,"node_id":"MDQ6VXNlcjEzOTc0NTg4","avatar_url":"https://avatars0.githubusercontent.com/u/13974588?v=4","gravatar_id":"","url":"https://api.github.com/users/IanvsPoplicola","html_url":"https://github.com/IanvsPoplicola","followers_url":"https://api.github.com/users/IanvsPoplicola/followers","following_url":"https://api.github.com/users/IanvsPoplicola/following{/other_user}","gists_url":"https://api.github.com/users/IanvsPoplicola/gists{/gist_id}","starred_url":"https://api.github.com/users/IanvsPoplicola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IanvsPoplicola/subscriptions","organizations_url":"https://api.github.com/users/IanvsPoplicola/orgs","repos_url":"https://api.github.com/users/IanvsPoplicola/repos","events_url":"https://api.github.com/users/IanvsPoplicola/events{/privacy}","received_events_url":"https://api.github.com/users/IanvsPoplicola/received_events","type":"User","site_admin":false},"created_at":"2017-03-09T09:54:41Z","updated_at":"2017-03-09T09:54:41Z","author_association":"NONE","body":"Hi @javanna is core/src/main/java/org/elasticsearch/index/mapper/TextFieldMapper.java the only file that needs to be changed for this issue?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/286283443","html_url":"https://github.com/elastic/elasticsearch/issues/22768#issuecomment-286283443","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22768","id":286283443,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjI4MzQ0Mw==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2017-03-14T00:15:45Z","updated_at":"2017-03-14T00:15:45Z","author_association":"CONTRIBUTOR","body":"@IanvsPoplicola Yes indeed.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/290650378","html_url":"https://github.com/elastic/elasticsearch/issues/22768#issuecomment-290650378","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22768","id":290650378,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDY1MDM3OA==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2017-03-31T08:29:42Z","updated_at":"2017-03-31T08:29:42Z","author_association":"MEMBER","body":"I've opened https://github.com/elastic/elasticsearch/pull/23841 to improve the error message for this per https://github.com/elastic/elasticsearch/issues/22768#issuecomment-275670687. However, since the error can be seen when sorting as well as aggregating (and maybe in other cases too) I did not mention aggregating in the message","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/290658275","html_url":"https://github.com/elastic/elasticsearch/issues/22768#issuecomment-290658275","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22768","id":290658275,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDY1ODI3NQ==","user":{"login":"IanvsPoplicola","id":13974588,"node_id":"MDQ6VXNlcjEzOTc0NTg4","avatar_url":"https://avatars0.githubusercontent.com/u/13974588?v=4","gravatar_id":"","url":"https://api.github.com/users/IanvsPoplicola","html_url":"https://github.com/IanvsPoplicola","followers_url":"https://api.github.com/users/IanvsPoplicola/followers","following_url":"https://api.github.com/users/IanvsPoplicola/following{/other_user}","gists_url":"https://api.github.com/users/IanvsPoplicola/gists{/gist_id}","starred_url":"https://api.github.com/users/IanvsPoplicola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IanvsPoplicola/subscriptions","organizations_url":"https://api.github.com/users/IanvsPoplicola/orgs","repos_url":"https://api.github.com/users/IanvsPoplicola/repos","events_url":"https://api.github.com/users/IanvsPoplicola/events{/privacy}","received_events_url":"https://api.github.com/users/IanvsPoplicola/received_events","type":"User","site_admin":false},"created_at":"2017-03-31T08:59:56Z","updated_at":"2017-03-31T08:59:56Z","author_association":"NONE","body":"Hi @colings86 , I've recently done a bit of work on this; I'd really appreciate some feedback if you could have a look at my changes!\r\nBasically what it does is now every time TextFieldType's fielddataBuilder() method gets called while fielddata is disabled, it will check to see if there is any sub-field of keyword-type under the textfield, and will only replace the error message if such sub-field exists.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/290659918","html_url":"https://github.com/elastic/elasticsearch/issues/22768#issuecomment-290659918","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22768","id":290659918,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDY1OTkxOA==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2017-03-31T09:06:01Z","updated_at":"2017-03-31T09:06:01Z","author_association":"MEMBER","body":"@IanvsPoplicola I'm not sure we need the logic to be complex here. I think always adding the message is ok. That way it makes it clear to the user whenever they see this that for text fields there are two way to aggregate or sort the data, either enable field data at the cost of using memory or use/add a keyword field. If we only show the message when the keyword sub field exists the users will not for example that they can re-index with a keyword field to solve this issue.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/290660226","html_url":"https://github.com/elastic/elasticsearch/issues/22768#issuecomment-290660226","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22768","id":290660226,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDY2MDIyNg==","user":{"login":"IanvsPoplicola","id":13974588,"node_id":"MDQ6VXNlcjEzOTc0NTg4","avatar_url":"https://avatars0.githubusercontent.com/u/13974588?v=4","gravatar_id":"","url":"https://api.github.com/users/IanvsPoplicola","html_url":"https://github.com/IanvsPoplicola","followers_url":"https://api.github.com/users/IanvsPoplicola/followers","following_url":"https://api.github.com/users/IanvsPoplicola/following{/other_user}","gists_url":"https://api.github.com/users/IanvsPoplicola/gists{/gist_id}","starred_url":"https://api.github.com/users/IanvsPoplicola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/IanvsPoplicola/subscriptions","organizations_url":"https://api.github.com/users/IanvsPoplicola/orgs","repos_url":"https://api.github.com/users/IanvsPoplicola/repos","events_url":"https://api.github.com/users/IanvsPoplicola/events{/privacy}","received_events_url":"https://api.github.com/users/IanvsPoplicola/received_events","type":"User","site_admin":false},"created_at":"2017-03-31T09:07:25Z","updated_at":"2017-03-31T09:07:25Z","author_association":"NONE","body":"Fair enough, thank you very much for the feedback!","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/329161272","html_url":"https://github.com/elastic/elasticsearch/issues/22768#issuecomment-329161272","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22768","id":329161272,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTE2MTI3Mg==","user":{"login":"mahesh1104","id":20576881,"node_id":"MDQ6VXNlcjIwNTc2ODgx","avatar_url":"https://avatars3.githubusercontent.com/u/20576881?v=4","gravatar_id":"","url":"https://api.github.com/users/mahesh1104","html_url":"https://github.com/mahesh1104","followers_url":"https://api.github.com/users/mahesh1104/followers","following_url":"https://api.github.com/users/mahesh1104/following{/other_user}","gists_url":"https://api.github.com/users/mahesh1104/gists{/gist_id}","starred_url":"https://api.github.com/users/mahesh1104/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mahesh1104/subscriptions","organizations_url":"https://api.github.com/users/mahesh1104/orgs","repos_url":"https://api.github.com/users/mahesh1104/repos","events_url":"https://api.github.com/users/mahesh1104/events{/privacy}","received_events_url":"https://api.github.com/users/mahesh1104/received_events","type":"User","site_admin":false},"created_at":"2017-09-13T13:05:34Z","updated_at":"2017-09-13T13:05:34Z","author_association":"NONE","body":"Fielddata is disabled on text fields by default. Set fielddata=true on [endpoints_data.uri] in order to load fielddata in memory by uninverting the inverted index. Note that this can however use significant memory. Alternatively use a keyword field instead.\r\ni am getting this error in grafana, how to achive this one ","performed_via_github_app":null}]