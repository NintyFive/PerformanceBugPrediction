[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/37435742","html_url":"https://github.com/elastic/elasticsearch/issues/5284#issuecomment-37435742","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5284","id":37435742,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDM1NzQy","user":{"login":"Jeppesen-io","id":5796153,"node_id":"MDQ6VXNlcjU3OTYxNTM=","avatar_url":"https://avatars3.githubusercontent.com/u/5796153?v=4","gravatar_id":"","url":"https://api.github.com/users/Jeppesen-io","html_url":"https://github.com/Jeppesen-io","followers_url":"https://api.github.com/users/Jeppesen-io/followers","following_url":"https://api.github.com/users/Jeppesen-io/following{/other_user}","gists_url":"https://api.github.com/users/Jeppesen-io/gists{/gist_id}","starred_url":"https://api.github.com/users/Jeppesen-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jeppesen-io/subscriptions","organizations_url":"https://api.github.com/users/Jeppesen-io/orgs","repos_url":"https://api.github.com/users/Jeppesen-io/repos","events_url":"https://api.github.com/users/Jeppesen-io/events{/privacy}","received_events_url":"https://api.github.com/users/Jeppesen-io/received_events","type":"User","site_admin":false},"created_at":"2014-03-12T17:11:37Z","updated_at":"2014-03-12T17:11:37Z","author_association":"NONE","body":"This is very strange; If I run 'curl localhost:9200/_nodes' every 5min via cron, this issue goes away.\n\nThis seems to be a problem with tribe node inactivity.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/55353497","html_url":"https://github.com/elastic/elasticsearch/issues/5284#issuecomment-55353497","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5284","id":55353497,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzUzNDk3","user":{"login":"gseng","id":6201111,"node_id":"MDQ6VXNlcjYyMDExMTE=","avatar_url":"https://avatars2.githubusercontent.com/u/6201111?v=4","gravatar_id":"","url":"https://api.github.com/users/gseng","html_url":"https://github.com/gseng","followers_url":"https://api.github.com/users/gseng/followers","following_url":"https://api.github.com/users/gseng/following{/other_user}","gists_url":"https://api.github.com/users/gseng/gists{/gist_id}","starred_url":"https://api.github.com/users/gseng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gseng/subscriptions","organizations_url":"https://api.github.com/users/gseng/orgs","repos_url":"https://api.github.com/users/gseng/repos","events_url":"https://api.github.com/users/gseng/events{/privacy}","received_events_url":"https://api.github.com/users/gseng/received_events","type":"User","site_admin":false},"created_at":"2014-09-12T02:05:29Z","updated_at":"2014-09-12T02:05:29Z","author_association":"CONTRIBUTOR","body":"I had this happening to me and this was my issue.\n\n### Issue\n- All my ES nodes used the `logging.yml` to write logs to a log4j receiver.\n- The machine the log4j receiver was on ran out of disk space.\n- However, the symptoms were exactly like yours - no errors in the cluster, only the `NodeNotConnectedException` on the tribe.\n- In fact, using the `head` plugin, the tribe node was still connected.\n\n### Conclusion\n- It's an open question whether ES should be more resilient to something like the above happening.\n- I know that if my log4j receiver shuts down and comes back later, log4j reconnects.\n- In my case because all machines were using the same log4j receiver, the entire cluster behaved in a very strange fashion - in general things would start working ... and then suddenly stop working. None of the error messages pointed to my actual problem ... had to spend 2 days digging before realizing what was happening.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/59488530","html_url":"https://github.com/elastic/elasticsearch/issues/5284#issuecomment-59488530","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5284","id":59488530,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NDg4NTMw","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-10-17T09:24:19Z","updated_at":"2014-10-17T09:24:19Z","author_association":"CONTRIBUTOR","body":"We should make the tribe node reconnect if the connection goes down.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/62185224","html_url":"https://github.com/elastic/elasticsearch/issues/5284#issuecomment-62185224","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5284","id":62185224,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTg1MjI0","user":{"login":"yongjunj","id":1096017,"node_id":"MDQ6VXNlcjEwOTYwMTc=","avatar_url":"https://avatars2.githubusercontent.com/u/1096017?v=4","gravatar_id":"","url":"https://api.github.com/users/yongjunj","html_url":"https://github.com/yongjunj","followers_url":"https://api.github.com/users/yongjunj/followers","following_url":"https://api.github.com/users/yongjunj/following{/other_user}","gists_url":"https://api.github.com/users/yongjunj/gists{/gist_id}","starred_url":"https://api.github.com/users/yongjunj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yongjunj/subscriptions","organizations_url":"https://api.github.com/users/yongjunj/orgs","repos_url":"https://api.github.com/users/yongjunj/repos","events_url":"https://api.github.com/users/yongjunj/events{/privacy}","received_events_url":"https://api.github.com/users/yongjunj/received_events","type":"User","site_admin":false},"created_at":"2014-11-07T17:54:53Z","updated_at":"2014-11-07T17:54:53Z","author_association":"NONE","body":"+1 - I'm hitting this issue with tribe node setup as well.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/62262019","html_url":"https://github.com/elastic/elasticsearch/issues/5284#issuecomment-62262019","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5284","id":62262019,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjYyMDE5","user":{"login":"gseng","id":6201111,"node_id":"MDQ6VXNlcjYyMDExMTE=","avatar_url":"https://avatars2.githubusercontent.com/u/6201111?v=4","gravatar_id":"","url":"https://api.github.com/users/gseng","html_url":"https://github.com/gseng","followers_url":"https://api.github.com/users/gseng/followers","following_url":"https://api.github.com/users/gseng/following{/other_user}","gists_url":"https://api.github.com/users/gseng/gists{/gist_id}","starred_url":"https://api.github.com/users/gseng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gseng/subscriptions","organizations_url":"https://api.github.com/users/gseng/orgs","repos_url":"https://api.github.com/users/gseng/repos","events_url":"https://api.github.com/users/gseng/events{/privacy}","received_events_url":"https://api.github.com/users/gseng/received_events","type":"User","site_admin":false},"created_at":"2014-11-08T15:39:20Z","updated_at":"2014-11-08T15:39:20Z","author_association":"CONTRIBUTOR","body":"@clintongormley , the tribe node does reconnect after the connection goes down. I've tested this making iptables drop the tribe's packet for sometime ... and then re-enabling it. Without intervention, the tribe reconnects.\n\nSo the problem is deeper where in some scenarios, the tribe will disconnect and somehow is unable to reconnect even if the cluster is working perfectly fine.\n\n@yongjunj , you could try increasing the timeouts here\n- http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/modules-discovery-zen.html#fault-detection\n\nWe've seen increased stability by increasing all of them. Notice it's the `discovery.zen.fd`. Setting `discovery.zen.ping_timeout` did not help us.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/103924536","html_url":"https://github.com/elastic/elasticsearch/issues/5284#issuecomment-103924536","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5284","id":103924536,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMzkyNDUzNg==","user":{"login":"zijian1981","id":11315277,"node_id":"MDQ6VXNlcjExMzE1Mjc3","avatar_url":"https://avatars2.githubusercontent.com/u/11315277?v=4","gravatar_id":"","url":"https://api.github.com/users/zijian1981","html_url":"https://github.com/zijian1981","followers_url":"https://api.github.com/users/zijian1981/followers","following_url":"https://api.github.com/users/zijian1981/following{/other_user}","gists_url":"https://api.github.com/users/zijian1981/gists{/gist_id}","starred_url":"https://api.github.com/users/zijian1981/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zijian1981/subscriptions","organizations_url":"https://api.github.com/users/zijian1981/orgs","repos_url":"https://api.github.com/users/zijian1981/repos","events_url":"https://api.github.com/users/zijian1981/events{/privacy}","received_events_url":"https://api.github.com/users/zijian1981/received_events","type":"User","site_admin":false},"created_at":"2015-05-20T15:23:02Z","updated_at":"2015-05-20T15:23:02Z","author_association":"NONE","body":"i hit this issue too,es didnot report any error ,sometimes es can return result ,and in other time ,it throws index is missing exception.how can I work around? Thanks \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/258677691","html_url":"https://github.com/elastic/elasticsearch/issues/5284#issuecomment-258677691","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5284","id":258677691,"node_id":"MDEyOklzc3VlQ29tbWVudDI1ODY3NzY5MQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-11-06T12:25:14Z","updated_at":"2016-11-06T12:25:14Z","author_association":"CONTRIBUTOR","body":"We haven't seen this issue in recent years.  Closing\n","performed_via_github_app":null}]