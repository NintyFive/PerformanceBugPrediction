{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/39977","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39977/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39977/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/39977/events","html_url":"https://github.com/elastic/elasticsearch/issues/39977","id":420175202,"node_id":"MDU6SXNzdWU0MjAxNzUyMDI=","number":39977,"title":"kdc vagrant fixture time out while booting","user":{"login":"andyb-elastic","id":29205940,"node_id":"MDQ6VXNlcjI5MjA1OTQw","avatar_url":"https://avatars2.githubusercontent.com/u/29205940?v=4","gravatar_id":"","url":"https://api.github.com/users/andyb-elastic","html_url":"https://github.com/andyb-elastic","followers_url":"https://api.github.com/users/andyb-elastic/followers","following_url":"https://api.github.com/users/andyb-elastic/following{/other_user}","gists_url":"https://api.github.com/users/andyb-elastic/gists{/gist_id}","starred_url":"https://api.github.com/users/andyb-elastic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andyb-elastic/subscriptions","organizations_url":"https://api.github.com/users/andyb-elastic/orgs","repos_url":"https://api.github.com/users/andyb-elastic/repos","events_url":"https://api.github.com/users/andyb-elastic/events{/privacy}","received_events_url":"https://api.github.com/users/andyb-elastic/received_events","type":"User","site_admin":false},"labels":[{"id":106454670,"node_id":"MDU6TGFiZWwxMDY0NTQ2NzA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Build","name":":Delivery/Build","color":"0e8a16","default":false,"description":"Build or test infrastructure"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"}],"state":"closed","locked":false,"assignee":{"login":"jbaiera","id":875779,"node_id":"MDQ6VXNlcjg3NTc3OQ==","avatar_url":"https://avatars1.githubusercontent.com/u/875779?v=4","gravatar_id":"","url":"https://api.github.com/users/jbaiera","html_url":"https://github.com/jbaiera","followers_url":"https://api.github.com/users/jbaiera/followers","following_url":"https://api.github.com/users/jbaiera/following{/other_user}","gists_url":"https://api.github.com/users/jbaiera/gists{/gist_id}","starred_url":"https://api.github.com/users/jbaiera/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbaiera/subscriptions","organizations_url":"https://api.github.com/users/jbaiera/orgs","repos_url":"https://api.github.com/users/jbaiera/repos","events_url":"https://api.github.com/users/jbaiera/events{/privacy}","received_events_url":"https://api.github.com/users/jbaiera/received_events","type":"User","site_admin":false},"assignees":[{"login":"jbaiera","id":875779,"node_id":"MDQ6VXNlcjg3NTc3OQ==","avatar_url":"https://avatars1.githubusercontent.com/u/875779?v=4","gravatar_id":"","url":"https://api.github.com/users/jbaiera","html_url":"https://github.com/jbaiera","followers_url":"https://api.github.com/users/jbaiera/followers","following_url":"https://api.github.com/users/jbaiera/following{/other_user}","gists_url":"https://api.github.com/users/jbaiera/gists{/gist_id}","starred_url":"https://api.github.com/users/jbaiera/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbaiera/subscriptions","organizations_url":"https://api.github.com/users/jbaiera/orgs","repos_url":"https://api.github.com/users/jbaiera/repos","events_url":"https://api.github.com/users/jbaiera/events{/privacy}","received_events_url":"https://api.github.com/users/jbaiera/received_events","type":"User","site_admin":false}],"milestone":null,"comments":11,"created_at":"2019-03-12T19:50:58Z","updated_at":"2020-11-11T21:49:25Z","closed_at":"2019-09-05T11:37:23Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"This has happened in a couple recent builds, it may be another more general issue with vagrant or this image but I'm not sure\r\n\r\nLooks like\r\n\r\n```\r\n  config.vm.synced_folder '/host/path', '/guest/path', SharedFoldersEnableSymlinksCreate: false\r\n==> krb5kdc: Clearing any previously set network interfaces...\r\n==> krb5kdc: Preparing network interfaces based on configuration...\r\n    krb5kdc: Adapter 1: nat\r\n==> krb5kdc: Forwarding ports...\r\n    krb5kdc: 88 (guest) => 60088 (host) (adapter 1)\r\n    krb5kdc: 88 (guest) => 60088 (host) (adapter 1)\r\n    krb5kdc: 22 (guest) => 2222 (host) (adapter 1)\r\n==> krb5kdc: Booting VM...\r\n==> krb5kdc: Waiting for machine to boot. This may take a few minutes...\r\n    krb5kdc: SSH address: 127.0.0.1:2222\r\n    krb5kdc: SSH username: vagrant\r\n    krb5kdc: SSH auth method: private key\r\nTimed out while waiting for the machine to boot. This means that\r\nVagrant was unable to communicate with the guest machine within\r\n\r\n> Task :plugins:repository-hdfs:krb5kdcFixture FAILED\r\n:plugins:repository-hdfs:krb5kdcFixture (Thread[Execution worker for ':' Thread 9,5,main]) completed. Took 6 mins 18.541 secs.\r\nthe configured (\"config.vm.boot_timeout\" value) time period.\r\n\r\n:plugins:repository-hdfs:krb5kdcFixture#stop (Thread[Execution worker for ':' Thread 9,5,main]) started.\r\nIf you look above, you should be able to see the error(s) that\r\nVagrant had when attempting to connect to the machine. These errors\r\nare usually good hints as to what may be wrong.\r\n\r\nIf you're using a custom box, make sure that networking is properly\r\nworking and you're able to connect to the machine. It is a common\r\nproblem that networking isn't setup properly in these boxes.\r\nVerify that authentication configurations are also setup properly,\r\nas well.\r\n\r\nIf the box appears to be booting properly, you may want to increase\r\nthe timeout (\"config.vm.boot_timeout\") value.\r\n\r\n> Task :plugins:repository-hdfs:krb5kdcFixture#stop\r\nTask ':plugins:repository-hdfs:krb5kdcFixture#stop' is not up-to-date because:\r\n  Task has not declared any outputs despite executing actions.\r\nCustom actions are attached to task ':plugins:repository-hdfs:krb5kdcFixture#stop'.\r\nStarting process 'command 'vagrant''. Working directory: /var/lib/jenkins/workspace/elastic+elasticsearch+master+intake/plugins/repository-hdfs Command: vagrant halt krb5kdc\r\nSuccessfully started process 'command 'vagrant''\r\n==> krb5kdc: Attempting graceful shutdown of VM...\r\n    krb5kdc: Guest communication could not be established! This is usually because\r\n    krb5kdc: SSH is not running, the authentication information was changed,\r\n    krb5kdc: or some other networking issue. Vagrant will force halt, if\r\n    krb5kdc: capable.\r\n==> krb5kdc: Forcing shutdown of VM...\r\n:plugins:repository-hdfs:krb5kdcFixture#stop (Thread[Execution worker for ':' Thread 9,5,main]) completed. Took 19.844 secs.\r\n```\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+intake/2498/console\r\n[build-intake-master-2498.txt.zip](https://github.com/elastic/elasticsearch/files/2958530/build-intake-master-2498.txt.zip)\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.6+matrix-java-periodic/ES_BUILD_JAVA=java11,ES_RUNTIME_JAVA=zulu11,nodes=immutable&&linux&&docker/165/console\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.6+matrix-java-periodic/ES_BUILD_JAVA=java11,ES_RUNTIME_JAVA=java8,nodes=immutable&&linux&&docker/165/console\r\n","closed_by":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"performed_via_github_app":null}