[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/679065594","html_url":"https://github.com/elastic/elasticsearch/issues/61410#issuecomment-679065594","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61410","id":679065594,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTA2NTU5NA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-08-24T11:14:50Z","updated_at":"2020-08-24T11:14:50Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-analytics-geo (:Analytics/Aggregations)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/680958187","html_url":"https://github.com/elastic/elasticsearch/issues/61410#issuecomment-680958187","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61410","id":680958187,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDk1ODE4Nw==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2020-08-26T15:38:50Z","updated_at":"2020-08-26T15:38:50Z","author_association":"MEMBER","body":"@fbuecklers in 7.10.0 we are adding a new feature called [`hard_bounds`](https://www.elastic.co/guide/en/elasticsearch/reference/7.x/search-aggregations-bucket-histogram-aggregation.html#_minimum_document_count). I wonder if this will work for your needs.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/684002975","html_url":"https://github.com/elastic/elasticsearch/issues/61410#issuecomment-684002975","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61410","id":684002975,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDAwMjk3NQ==","user":{"login":"fbuecklers","id":563511,"node_id":"MDQ6VXNlcjU2MzUxMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/563511?v=4","gravatar_id":"","url":"https://api.github.com/users/fbuecklers","html_url":"https://github.com/fbuecklers","followers_url":"https://api.github.com/users/fbuecklers/followers","following_url":"https://api.github.com/users/fbuecklers/following{/other_user}","gists_url":"https://api.github.com/users/fbuecklers/gists{/gist_id}","starred_url":"https://api.github.com/users/fbuecklers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fbuecklers/subscriptions","organizations_url":"https://api.github.com/users/fbuecklers/orgs","repos_url":"https://api.github.com/users/fbuecklers/repos","events_url":"https://api.github.com/users/fbuecklers/events{/privacy}","received_events_url":"https://api.github.com/users/fbuecklers/received_events","type":"User","site_admin":false},"created_at":"2020-08-31T19:53:52Z","updated_at":"2020-08-31T19:53:52Z","author_association":"NONE","body":"Wow, that is exactly the missing piece, if it works on preaggregated histogram fields.\r\n\r\nI don't know if I should open another ticket, but will the histogram aggregation also be supported in roll-up indices in the future? We want to reaggregate our preaggregated histograms in a rolling fashion to span larger time ranges. The resulting index should contain then a new histogram field as a result of the histogram aggregation.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/686559884","html_url":"https://github.com/elastic/elasticsearch/issues/61410#issuecomment-686559884","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61410","id":686559884,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjU1OTg4NA==","user":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"created_at":"2020-09-03T15:11:54Z","updated_at":"2020-09-03T15:11:54Z","author_association":"MEMBER","body":"> I don't know if I should open another ticket, but will the histogram aggregation also be supported in roll-up indices in the future? \r\n\r\n@fbuecklers that's roughly the plan :)  We added the new histogram field specifically so that we could [support histograms/percentiles/etc in Rollup](https://github.com/elastic/elasticsearch/issues/33214) eventually.  It'll probably be landing in the [refactored form](https://github.com/elastic/elasticsearch/issues/42720) of Rollups rather than the existing form, but one way or another we'll be adding support to rollups\r\n\r\nWe're still hammering out details about _how_ exactly it will be implemented/used.  E.g. I'm not sure if the particular scenario you mentioned (rolling up rollups) will be supported or not because we haven't quite gotten there, but the general idea is indeed to have this functionality available :)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/689036485","html_url":"https://github.com/elastic/elasticsearch/issues/61410#issuecomment-689036485","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61410","id":689036485,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTAzNjQ4NQ==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2020-09-08T17:47:33Z","updated_at":"2020-09-08T17:47:33Z","author_association":"MEMBER","body":"I opened #62124 to avoid confusion. Closing this one.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/690062580","html_url":"https://github.com/elastic/elasticsearch/issues/61410#issuecomment-690062580","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61410","id":690062580,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDA2MjU4MA==","user":{"login":"fbuecklers","id":563511,"node_id":"MDQ6VXNlcjU2MzUxMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/563511?v=4","gravatar_id":"","url":"https://api.github.com/users/fbuecklers","html_url":"https://github.com/fbuecklers","followers_url":"https://api.github.com/users/fbuecklers/followers","following_url":"https://api.github.com/users/fbuecklers/following{/other_user}","gists_url":"https://api.github.com/users/fbuecklers/gists{/gist_id}","starred_url":"https://api.github.com/users/fbuecklers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fbuecklers/subscriptions","organizations_url":"https://api.github.com/users/fbuecklers/orgs","repos_url":"https://api.github.com/users/fbuecklers/repos","events_url":"https://api.github.com/users/fbuecklers/events{/privacy}","received_events_url":"https://api.github.com/users/fbuecklers/received_events","type":"User","site_admin":false},"created_at":"2020-09-10T07:57:53Z","updated_at":"2020-09-10T07:57:53Z","author_association":"NONE","body":"@polyfractal No, we definitely do not want to rollup rolled-up indices. We are putting already pre-aggregated histogram values directly to our time-based index. Putting the raw data directly into it will not work because of the huge amount of raw data. Therefore we have a real-time based preprocessor, which does some preaggregation stuff on our raw data. That's the reason why we have already pre-aggregated histogram fields in our index.\r\n\r\nWe only want to roll-up the data afterward to day-based buckets.\r\n\r\nIs there a roadmap or an ETA, when this feature will be available? We are currently in the process to decide whenever we can use the rollup indices for our task or that we must implement our own rollup process externally. ","performed_via_github_app":null}]