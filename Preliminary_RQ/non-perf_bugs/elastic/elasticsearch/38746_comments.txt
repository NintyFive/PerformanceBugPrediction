[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/462721088","html_url":"https://github.com/elastic/elasticsearch/issues/38746#issuecomment-462721088","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38746","id":462721088,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MjcyMTA4OA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-02-12T11:19:04Z","updated_at":"2019-02-12T11:19:04Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/462721407","html_url":"https://github.com/elastic/elasticsearch/issues/38746#issuecomment-462721407","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38746","id":462721407,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MjcyMTQwNw==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2019-02-12T11:20:08Z","updated_at":"2019-02-12T11:20:08Z","author_association":"CONTRIBUTOR","body":"Hi Bruno.\r\nThanks for filing this.\r\n\r\n>text field with \"missing\": \"_last\" is not working properly with date orders\r\n\r\nIn your example query and response I don't see an error?\r\nThe \"missing text\" part of your sort criteria is a secondary sort order so will be used as a tie-breaker if there are two documents with exactly the same date (which you don't have in your example response). Date is the primary sort order and without an example of docs with identical dates we are not exercising the secondary sort order.\r\nAm I missing something ?\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/462763870","html_url":"https://github.com/elastic/elasticsearch/issues/38746#issuecomment-462763870","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38746","id":462763870,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2Mjc2Mzg3MA==","user":{"login":"brunoocasali","id":4116980,"node_id":"MDQ6VXNlcjQxMTY5ODA=","avatar_url":"https://avatars1.githubusercontent.com/u/4116980?v=4","gravatar_id":"","url":"https://api.github.com/users/brunoocasali","html_url":"https://github.com/brunoocasali","followers_url":"https://api.github.com/users/brunoocasali/followers","following_url":"https://api.github.com/users/brunoocasali/following{/other_user}","gists_url":"https://api.github.com/users/brunoocasali/gists{/gist_id}","starred_url":"https://api.github.com/users/brunoocasali/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brunoocasali/subscriptions","organizations_url":"https://api.github.com/users/brunoocasali/orgs","repos_url":"https://api.github.com/users/brunoocasali/repos","events_url":"https://api.github.com/users/brunoocasali/events{/privacy}","received_events_url":"https://api.github.com/users/brunoocasali/received_events","type":"User","site_admin":false},"created_at":"2019-02-12T13:43:41Z","updated_at":"2019-02-12T13:43:41Z","author_association":"NONE","body":"Thank you @markharwood for your reply!\r\n\r\nOh, I see it now, I don't know if the docs explain as well (with some examples) the multiple sorting types usage. But after your explanation I could understand the situation I have. But there is a way to accomplish this using that \"missing: _last\" criteria? Sorting by date and making the ones who doesn't have text to be at the end of the response? \r\n\r\nThank you again for the response!","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/462794269","html_url":"https://github.com/elastic/elasticsearch/issues/38746#issuecomment-462794269","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38746","id":462794269,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2Mjc5NDI2OQ==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2019-02-12T15:05:08Z","updated_at":"2019-02-12T15:05:08Z","author_association":"CONTRIBUTOR","body":">Sorting by date and making the ones who doesn't have text to be at the end of the response?\r\n\r\nI suspect that sort of special conditional logic will require some form of script - either as in your scripted sort example or perhaps using functions in a [function_score](https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-function-score-query.html) query.\r\n\r\nI don't think this issue is either a bug or a feature request so if you don't mind I'll close it and recommend continuing any \"how do I...?\" type discussion on a new topic in the [discuss forums ](https://discuss.elastic.co/c/elasticsearch). ","performed_via_github_app":null}]