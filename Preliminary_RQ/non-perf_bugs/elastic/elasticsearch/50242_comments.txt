[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/566146618","html_url":"https://github.com/elastic/elasticsearch/issues/50242#issuecomment-566146618","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50242","id":566146618,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NjE0NjYxOA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-12-16T16:54:17Z","updated_at":"2019-12-16T16:54:17Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-docs (>docs)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/566151911","html_url":"https://github.com/elastic/elasticsearch/issues/50242#issuecomment-566151911","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50242","id":566151911,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NjE1MTkxMQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-12-16T17:07:13Z","updated_at":"2019-12-16T17:07:13Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed (:Distributed/Distributed)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/566157231","html_url":"https://github.com/elastic/elasticsearch/issues/50242#issuecomment-566157231","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50242","id":566157231,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NjE1NzIzMQ==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2019-12-16T17:20:05Z","updated_at":"2019-12-16T17:20:05Z","author_association":"CONTRIBUTOR","body":"@rwaight are you talking about in a rolling upgrade or in a full-cluster restart?\r\n\r\nIf the master can be overloaded by too many nodes all joining simultaneously then I think we should consider that a bug that we should try and fix rather than working around it as you describe. Please would you give more details (pointers to logs etc) for further investigation?\r\n\r\nIn the case of a rolling upgrade I think it's pretty tricky to describe the batches of nodes you can safely restart concurrently without some kind of unavailability. Instead I think I would prefer to run the process one-node-at-a-time as documented. This might not have been possible in older versions due to the speed of shard recoveries, but there have been improvements in this area in recent versions that should make it much more reasonable.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/566445869","html_url":"https://github.com/elastic/elasticsearch/issues/50242#issuecomment-566445869","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50242","id":566445869,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NjQ0NTg2OQ==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2019-12-17T08:54:17Z","updated_at":"2019-12-17T08:54:17Z","author_association":"CONTRIBUTOR","body":"We discussed this in a separate channel. The specific cluster in question was running 7.1 and had ≥5000 initialising shards but only 10 pending tasks and the CPU on the master was ≤30%, which doesn't sound like \"DDOSing the master\". It's fixed now and we don't seem to have diagnostics from when it was broken. This might have been a case of setting `cluster.routing.allocation.node_concurrent_recoveries` too high, perhaps hitting https://github.com/elastic/elasticsearch/issues/36195. We're waiting on more detail.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/600657471","html_url":"https://github.com/elastic/elasticsearch/issues/50242#issuecomment-600657471","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50242","id":600657471,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDY1NzQ3MQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2020-03-18T14:32:57Z","updated_at":"2020-03-18T14:32:57Z","author_association":"CONTRIBUTOR","body":"Its been a few months and we haven't heard back so I'm going to close this issue and hope that @DaveCTurner is right. @rwaight if you'd like to leave more feedback please reply and reopen the issue.","performed_via_github_app":null}]