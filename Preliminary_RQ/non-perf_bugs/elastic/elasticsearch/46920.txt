{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/46920","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46920/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46920/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46920/events","html_url":"https://github.com/elastic/elasticsearch/issues/46920","id":496333985,"node_id":"MDU6SXNzdWU0OTYzMzM5ODU=","number":46920,"title":"[CI] CoordinatorTests.testLogsWarningPeriodicallyIfClusterNotFormed failing on 7.x","user":{"login":"matriv","id":5058131,"node_id":"MDQ6VXNlcjUwNTgxMzE=","avatar_url":"https://avatars1.githubusercontent.com/u/5058131?v=4","gravatar_id":"","url":"https://api.github.com/users/matriv","html_url":"https://github.com/matriv","followers_url":"https://api.github.com/users/matriv/followers","following_url":"https://api.github.com/users/matriv/following{/other_user}","gists_url":"https://api.github.com/users/matriv/gists{/gist_id}","starred_url":"https://api.github.com/users/matriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matriv/subscriptions","organizations_url":"https://api.github.com/users/matriv/orgs","repos_url":"https://api.github.com/users/matriv/repos","events_url":"https://api.github.com/users/matriv/events{/privacy}","received_events_url":"https://api.github.com/users/matriv/received_events","type":"User","site_admin":false},"labels":[{"id":881394071,"node_id":"MDU6TGFiZWw4ODEzOTQwNzE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Cluster%20Coordination","name":":Distributed/Cluster Coordination","color":"0e8a16","default":false,"description":"Cluster formation and cluster state publication, including cluster membership and fault detection."},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"assignees":[{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2019-09-20T12:49:18Z","updated_at":"2019-09-23T09:46:25Z","closed_at":"2019-09-23T09:46:25Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Logs: https://gradle-enterprise.elastic.co/s/n2zxbakfbzi36/console-log?task=:server:test\r\n\r\nCouldn't reproduce locally with:\r\n```\r\n./gradlew ':server:test' --tests \"org.elasticsearch.cluster.coordination.CoordinatorTests.testLogsWarningPeriodicallyIfClusterNotFormed\" \\\r\n  -Dtests.seed=4223C526497B2D65 \\\r\n  -Dtests.security.manager=true \\\r\n  -Dtests.locale=no \\\r\n  -Dtests.timezone=Asia/Chungking \\\r\n  -Dcompiler.java=12 \\\r\n  -Druntime.java=8\r\n```\r\n\r\nStacktrace:\r\n```\r\n\r\norg.elasticsearch.cluster.coordination.CoordinatorTests > testLogsWarningPeriodicallyIfClusterNotFormed FAILED\r\n--\r\njava.lang.AssertionError: [{node0}{zL-LbQAAQACH3l2B_____w}{0.0.0.0}{0.0.0.0:20}{dim}, {node2}{77fEz___T_-jSIsAAAAAAA}{0.0.0.0}{0.0.0.0:22}{dim}] vs [{node0}{zL-LbQAAQACH3l2B_____w}{0.0.0.0}{0.0.0.0:20}{dim}, {node1}{J6nlEgAAQACtOVyt_____w}{0.0.0.0}{0.0.0.0:16}{dim}, {node2}{77fEz___T_-jSIsAAAAAAA}{0.0.0.0}{0.0.0.0:22}{dim}]\r\nExpected: <[{node0}{zL-LbQAAQACH3l2B_____w}{0.0.0.0}{0.0.0.0:20}{dim}, {node1}{J6nlEgAAQACtOVyt_____w}{0.0.0.0}{0.0.0.0:16}{dim}, {node2}{77fEz___T_-jSIsAAAAAAA}{0.0.0.0}{0.0.0.0:22}{dim}]>\r\nbut: was <[{node0}{zL-LbQAAQACH3l2B_____w}{0.0.0.0}{0.0.0.0:20}{dim}, {node2}{77fEz___T_-jSIsAAAAAAA}{0.0.0.0}{0.0.0.0:22}{dim}]>\r\nat __randomizedtesting.SeedInfo.seed([4223C526497B2D65:7FE5C0D97B91B710]:0)\r\nat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:18)\r\nat org.junit.Assert.assertThat(Assert.java:956)\r\nat org.elasticsearch.cluster.coordination.CoordinatorTests$3.assertMatched(CoordinatorTests.java:1250)\r\nat org.elasticsearch.test.MockLogAppender.assertAllExpectationsMatched(MockLogAppender.java:66)\r\nat org.elasticsearch.cluster.coordination.CoordinatorTests.testLogsWarningPeriodicallyIfClusterNotFormed(CoordinatorTests.java:1255)\r\n\r\n```","closed_by":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"performed_via_github_app":null}