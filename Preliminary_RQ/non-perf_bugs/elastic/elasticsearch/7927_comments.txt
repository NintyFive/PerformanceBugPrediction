[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/57430769","html_url":"https://github.com/elastic/elasticsearch/issues/7927#issuecomment-57430769","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7927","id":57430769,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NDMwNzY5","user":{"login":"schmorgs","id":5444727,"node_id":"MDQ6VXNlcjU0NDQ3Mjc=","avatar_url":"https://avatars0.githubusercontent.com/u/5444727?v=4","gravatar_id":"","url":"https://api.github.com/users/schmorgs","html_url":"https://github.com/schmorgs","followers_url":"https://api.github.com/users/schmorgs/followers","following_url":"https://api.github.com/users/schmorgs/following{/other_user}","gists_url":"https://api.github.com/users/schmorgs/gists{/gist_id}","starred_url":"https://api.github.com/users/schmorgs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schmorgs/subscriptions","organizations_url":"https://api.github.com/users/schmorgs/orgs","repos_url":"https://api.github.com/users/schmorgs/repos","events_url":"https://api.github.com/users/schmorgs/events{/privacy}","received_events_url":"https://api.github.com/users/schmorgs/received_events","type":"User","site_admin":false},"created_at":"2014-10-01T07:57:47Z","updated_at":"2014-10-01T07:59:57Z","author_association":"NONE","body":"Seconded.  This would make make life easier than writing our own housekeeping outside of ES.\nAdditionally, adding deletion of archived logs after a given period to complete this item.\n\ne.g. maxBackupIndex: 14\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/61797928","html_url":"https://github.com/elastic/elasticsearch/issues/7927#issuecomment-61797928","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7927","id":61797928,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzk3OTI4","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2014-11-05T12:08:10Z","updated_at":"2014-11-05T12:08:10Z","author_association":"MEMBER","body":"@philmcmahon I have just tried this and I think you might just a few errors in your configuration. If you download the log4j-extras jar and put it in the lib directory of your elasticsearch nodes, you can get the TimeBasedRollingPolicy working using the following snippet in your `logging.yml` file:\n\n``` yaml\nfile:\n    type: org.apache.log4j.rolling.RollingFileAppender\n    file: ${path.logs}/elasticsearch-timebased.log.gz\n    rollingPolicy: org.apache.log4j.rolling.TimeBasedRollingPolicy\n    rollingPolicy.FileNamePattern: ${path.logs}/elasticsearch%d{yyyy-MM-dd}.log.gz\n    layout:\n      type: pattern\n      conversionPattern: \"%d{ISO8601}\"\n```\n\nAny custom policies or appenders need to be specified with their fully qualified class name to be found correctly by the loggers.\n\nLet me know if this helps.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/61854028","html_url":"https://github.com/elastic/elasticsearch/issues/7927#issuecomment-61854028","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7927","id":61854028,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODU0MDI4","user":{"login":"philmcmahon","id":3606555,"node_id":"MDQ6VXNlcjM2MDY1NTU=","avatar_url":"https://avatars2.githubusercontent.com/u/3606555?v=4","gravatar_id":"","url":"https://api.github.com/users/philmcmahon","html_url":"https://github.com/philmcmahon","followers_url":"https://api.github.com/users/philmcmahon/followers","following_url":"https://api.github.com/users/philmcmahon/following{/other_user}","gists_url":"https://api.github.com/users/philmcmahon/gists{/gist_id}","starred_url":"https://api.github.com/users/philmcmahon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/philmcmahon/subscriptions","organizations_url":"https://api.github.com/users/philmcmahon/orgs","repos_url":"https://api.github.com/users/philmcmahon/repos","events_url":"https://api.github.com/users/philmcmahon/events{/privacy}","received_events_url":"https://api.github.com/users/philmcmahon/received_events","type":"User","site_admin":false},"created_at":"2014-11-05T18:11:14Z","updated_at":"2014-11-05T18:11:28Z","author_association":"CONTRIBUTOR","body":"Thanks for the response. The above configuration works if I download the log4j-extras jar myself, but it would be better if it were added as a dependency to elasticsearch: https://github.com/elasticsearch/elasticsearch/pull/7947/files\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/62126130","html_url":"https://github.com/elastic/elasticsearch/issues/7927#issuecomment-62126130","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7927","id":62126130,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTI2MTMw","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2014-11-07T10:44:43Z","updated_at":"2014-11-07T10:44:43Z","author_association":"MEMBER","body":"@philmcmahon We discussed this and agree that log4j-extras is a common enough use-case that is make sense to include it in the dependencies. We would also like to add some documentation around this and update the LogConfigurator replacements to allow the short form of the RollingFileAppender and TimeBasedRollingPolicy class names. I can look at this soon unless you would like to have a go at updating your PR with these changes?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/62132188","html_url":"https://github.com/elastic/elasticsearch/issues/7927#issuecomment-62132188","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7927","id":62132188,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTMyMTg4","user":{"login":"philmcmahon","id":3606555,"node_id":"MDQ6VXNlcjM2MDY1NTU=","avatar_url":"https://avatars2.githubusercontent.com/u/3606555?v=4","gravatar_id":"","url":"https://api.github.com/users/philmcmahon","html_url":"https://github.com/philmcmahon","followers_url":"https://api.github.com/users/philmcmahon/followers","following_url":"https://api.github.com/users/philmcmahon/following{/other_user}","gists_url":"https://api.github.com/users/philmcmahon/gists{/gist_id}","starred_url":"https://api.github.com/users/philmcmahon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/philmcmahon/subscriptions","organizations_url":"https://api.github.com/users/philmcmahon/orgs","repos_url":"https://api.github.com/users/philmcmahon/repos","events_url":"https://api.github.com/users/philmcmahon/events{/privacy}","received_events_url":"https://api.github.com/users/philmcmahon/received_events","type":"User","site_admin":false},"created_at":"2014-11-07T11:48:32Z","updated_at":"2014-11-07T11:48:32Z","author_association":"CONTRIBUTOR","body":"I've updated the PR, I wasn't sure what to call the log4j-extras RollingFileAppender as we already have the log4j RollingFileAppender (maybe we don't need this anymore?) - currently it's 'extrasRollingFile'.\n","performed_via_github_app":null}]