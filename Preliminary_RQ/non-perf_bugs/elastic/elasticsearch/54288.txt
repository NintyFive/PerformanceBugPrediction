{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/54288","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54288/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54288/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54288/events","html_url":"https://github.com/elastic/elasticsearch/issues/54288","id":588565778,"node_id":"MDU6SXNzdWU1ODg1NjU3Nzg=","number":54288,"title":"EQL: Case sensitivity for exact matching","user":{"login":"jrodewig","id":40268737,"node_id":"MDQ6VXNlcjQwMjY4NzM3","avatar_url":"https://avatars1.githubusercontent.com/u/40268737?v=4","gravatar_id":"","url":"https://api.github.com/users/jrodewig","html_url":"https://github.com/jrodewig","followers_url":"https://api.github.com/users/jrodewig/followers","following_url":"https://api.github.com/users/jrodewig/following{/other_user}","gists_url":"https://api.github.com/users/jrodewig/gists{/gist_id}","starred_url":"https://api.github.com/users/jrodewig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrodewig/subscriptions","organizations_url":"https://api.github.com/users/jrodewig/orgs","repos_url":"https://api.github.com/users/jrodewig/repos","events_url":"https://api.github.com/users/jrodewig/events{/privacy}","received_events_url":"https://api.github.com/users/jrodewig/received_events","type":"User","site_admin":false},"labels":[{"id":1690690117,"node_id":"MDU6TGFiZWwxNjkwNjkwMTE3","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Query%20Languages/EQL","name":":Query Languages/EQL","color":"0e8a16","default":false,"description":"EQL querying"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-03-26T16:45:41Z","updated_at":"2020-04-06T16:22:29Z","closed_at":"2020-04-06T16:22:29Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"### Problem\r\n\r\nIn EQL's Python implementation, exact matching using the `==` operator is case-insensitive:\r\n```\r\n// file_path = \"\\\\TestLogs\"\r\nfile_path ==  \"\\\\TestLogs\"  // returns true\r\nfile_path ==  \"\\\\testlogs\"  // returns true\r\n```\r\n\r\nIn EQL's Elasticsearch implementation, exact matching is case sensitive, similar to the term query:\r\n```\r\n// file_path = \"\\\\TestLogs\"\r\nfile_path ==  \"\\\\TestLogs\"  // returns true\r\nfile_path ==  \"\\\\testlogs\"  // returns false\r\n```\r\n\r\nThis inconsistency could create issues for users expecting parity between EQL implementations. In the Python implementation, case insensitivity doesn't allow users specificity for case-sensitive file systems.\r\n\r\n### Proposed solutions\r\n\r\n#### EQL search API parameter\r\nWe could introduce a parameter to the EQL search API parameter that allows users to toggle case sensitivity on and off at the query level. This parameter would default to case-insensitive matching. However, this doesn't allow users to mix/match case-sensitivity _within_ an EQL query.\r\n\r\n#### `lowercase` and `uppercase` functions\r\nWe could introduce `lowercase` and `uppercase` functions that allow users to transform data in the query. However, this puts the onus on users to address case sensitivity at query time. It could also inflate the length of EQL queries.\r\n\r\n#### Add case sensitivity parameters to functions\r\nWe could add optional case sensitivity parameters to various string functions in EQL. However, this does not address case sensitivity outside of such functions.","closed_by":{"login":"jrodewig","id":40268737,"node_id":"MDQ6VXNlcjQwMjY4NzM3","avatar_url":"https://avatars1.githubusercontent.com/u/40268737?v=4","gravatar_id":"","url":"https://api.github.com/users/jrodewig","html_url":"https://github.com/jrodewig","followers_url":"https://api.github.com/users/jrodewig/followers","following_url":"https://api.github.com/users/jrodewig/following{/other_user}","gists_url":"https://api.github.com/users/jrodewig/gists{/gist_id}","starred_url":"https://api.github.com/users/jrodewig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrodewig/subscriptions","organizations_url":"https://api.github.com/users/jrodewig/orgs","repos_url":"https://api.github.com/users/jrodewig/repos","events_url":"https://api.github.com/users/jrodewig/events{/privacy}","received_events_url":"https://api.github.com/users/jrodewig/received_events","type":"User","site_admin":false},"performed_via_github_app":null}