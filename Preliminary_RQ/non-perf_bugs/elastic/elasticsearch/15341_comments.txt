[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/164482911","html_url":"https://github.com/elastic/elasticsearch/issues/15341#issuecomment-164482911","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15341","id":164482911,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NDQ4MjkxMQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-12-14T16:20:54Z","updated_at":"2015-12-14T16:20:54Z","author_association":"CONTRIBUTOR","body":"Sorry @BrunoBonacci but this is a complete non-starter. We'd have to rip out so much of the code that makes Elasticsearch Elasticsearch, then deal with the multitude of bugs that would crop up in such a refactoring, then deal with all of the feature requests for people wanting to add back things they need but aren't supported in this locked down indexer.\n\nWe have customers doing 1m docs/s.  There are plenty of things you can do to increase indexing throughput in ES, such as disabling refreshes, or disabling replicas until the data is fully indexed.\n\nI'd much rather focus on this comment:\n\n> Current solutions which involve the installation of a ELS node tend to be brittle and fail very easily.\n\nWhy?  What can be done to improve this situation instead?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/164498867","html_url":"https://github.com/elastic/elasticsearch/issues/15341#issuecomment-164498867","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15341","id":164498867,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NDQ5ODg2Nw==","user":{"login":"BrunoBonacci","id":1639862,"node_id":"MDQ6VXNlcjE2Mzk4NjI=","avatar_url":"https://avatars0.githubusercontent.com/u/1639862?v=4","gravatar_id":"","url":"https://api.github.com/users/BrunoBonacci","html_url":"https://github.com/BrunoBonacci","followers_url":"https://api.github.com/users/BrunoBonacci/followers","following_url":"https://api.github.com/users/BrunoBonacci/following{/other_user}","gists_url":"https://api.github.com/users/BrunoBonacci/gists{/gist_id}","starred_url":"https://api.github.com/users/BrunoBonacci/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BrunoBonacci/subscriptions","organizations_url":"https://api.github.com/users/BrunoBonacci/orgs","repos_url":"https://api.github.com/users/BrunoBonacci/repos","events_url":"https://api.github.com/users/BrunoBonacci/events{/privacy}","received_events_url":"https://api.github.com/users/BrunoBonacci/received_events","type":"User","site_admin":false},"created_at":"2015-12-14T17:14:35Z","updated_at":"2015-12-14T17:14:35Z","author_association":"NONE","body":"I understand the challenges behind a Standalone Indexer, I would assume that most of the are derived by the concurrency management, which in the case of this type of indexer, as described above, it wouldn't be necessary.\nEvery indexer would fall in the Single Writer Principle, so no need to handle queues of requests etc, and document index operation is executed in a single thread environment (reducer).\nThe idea is just to wrap lucene with the ELS substratum which produces indices which are in the same format as the online version.\n\n> We have customers doing 1m docs/s. \n> On how many nodes? and what type of hardware? what size of documents?\n\nThe issue with having hadoop indexing directly into ELS via the API are:\n- online users request are impacted by high volume high throughput indexing activities (eg: you don't wan't your production users not being able to query the cluster because the capacity is fully utilised by the indexers). Ensuring that such activities don't have negative impact on the live usage it is paramount.\n- alternatively need to setup dedicated cluster for indexing (which is overhead)\n- even in this case the overall throughput is still much less that what it can be achieved with a standalone indexer (no remote call, just I/O bound indexing)\n-  a standalone indexer wouldn't require to \"rip things apart\", but just to provide a wrapper class inside the same elasticsearch.jar distribution. The extent of refactoring would be limited to the ability of the wrapper to reach the information it needs to index the same field with the same format into lucene.\n  - I think that conceptually having the indexer producing fully optimized immutable segments, which are uploaded to a repository (S3) and having the cluster just to restore them as a normal backup/restore operation it is a much nicer design that having to hammer a cluster and contend the resources with users who have latency sensitive queries. It's just bytes copying at this point, and it is a nice separation of writes from reads.\n\nOther systems, such as druid.io, provide similar feature and it is much easier to re-index several TB of data with new mapping configuration or index/shard configuration.\nI'm sure that if you ask your larger users they will agree that such feature would be a great feature for them too.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/183949646","html_url":"https://github.com/elastic/elasticsearch/issues/15341#issuecomment-183949646","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15341","id":183949646,"node_id":"MDEyOklzc3VlQ29tbWVudDE4Mzk0OTY0Ng==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-02-14T18:56:56Z","updated_at":"2016-02-14T18:56:56Z","author_association":"CONTRIBUTOR","body":"This isn't something we have any plans to support, so I'm going to close this issue.\n","performed_via_github_app":null}]