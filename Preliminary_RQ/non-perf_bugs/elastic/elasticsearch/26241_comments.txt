[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/327858325","html_url":"https://github.com/elastic/elasticsearch/issues/26241#issuecomment-327858325","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26241","id":327858325,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzg1ODMyNQ==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2017-09-07T16:49:23Z","updated_at":"2017-09-07T16:49:23Z","author_association":"MEMBER","body":"I've been looking into this but I haven't been able to determine a cause or solution. Since shadow replicas are removed in 6.0 I'm going to close this, if it fails a second time we can re-open and take another look.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/329335326","html_url":"https://github.com/elastic/elasticsearch/issues/26241#issuecomment-329335326","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26241","id":329335326,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTMzNTMyNg==","user":{"login":"andyb-elastic","id":29205940,"node_id":"MDQ6VXNlcjI5MjA1OTQw","avatar_url":"https://avatars2.githubusercontent.com/u/29205940?v=4","gravatar_id":"","url":"https://api.github.com/users/andyb-elastic","html_url":"https://github.com/andyb-elastic","followers_url":"https://api.github.com/users/andyb-elastic/followers","following_url":"https://api.github.com/users/andyb-elastic/following{/other_user}","gists_url":"https://api.github.com/users/andyb-elastic/gists{/gist_id}","starred_url":"https://api.github.com/users/andyb-elastic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andyb-elastic/subscriptions","organizations_url":"https://api.github.com/users/andyb-elastic/orgs","repos_url":"https://api.github.com/users/andyb-elastic/repos","events_url":"https://api.github.com/users/andyb-elastic/events{/privacy}","received_events_url":"https://api.github.com/users/andyb-elastic/received_events","type":"User","site_admin":false},"created_at":"2017-09-14T00:35:40Z","updated_at":"2017-09-14T00:35:40Z","author_association":"CONTRIBUTOR","body":"Another one from today https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+5.5+multijob-unix-compatibility/os=centos/124/console\r\n\r\nHere's the stack trace for future reference\r\n\r\n```\r\n23:02:22   1> [2017-09-14T01:02:03,354][INFO ][o.e.i.IndexWithShadowReplicasIT] [testIndexWithFewDocuments]: after test\r\n23:02:22 ERROR   32.0s J0 | IndexWithShadowReplicasIT.testIndexWithFewDocuments <<< FAILURES!\r\n23:02:22    > Throwable #1: com.carrotsearch.randomizedtesting.UncaughtExceptionError: Captured an uncaught exception in thread: Thread[id=1697, name=elasticsearch[node_t1][clusterService#updateTask][T#1], state=RUNNABLE, group=TGRP-IndexWithShadowReplicasIT]\r\n23:02:22    > \tat __randomizedtesting.SeedInfo.seed([640935868A4179FC:8395E1A8635387E7]:0)\r\n23:02:22    > Caused by: java.lang.AssertionError\r\n23:02:22    > \tat __randomizedtesting.SeedInfo.seed([640935868A4179FC]:0)\r\n23:02:22    > \tat org.elasticsearch.common.util.concurrent.ThreadContext$ThreadContextStruct.putResponse(ThreadContext.java:447)\r\n23:02:22    > \tat org.elasticsearch.common.util.concurrent.ThreadContext$ThreadContextStruct.access$1100(ThreadContext.java:352)\r\n23:02:22    > \tat org.elasticsearch.common.util.concurrent.ThreadContext.addResponseHeader(ThreadContext.java:280)\r\n23:02:22    > \tat org.elasticsearch.common.logging.DeprecationLogger.deprecated(DeprecationLogger.java:285)\r\n23:02:22    > \tat org.elasticsearch.common.logging.DeprecationLogger.deprecated(DeprecationLogger.java:124)\r\n23:02:22    > \tat org.elasticsearch.index.store.FsDirectoryService.newFSDirectory(FsDirectoryService.java:111)\r\n23:02:22    > \tat org.elasticsearch.index.store.FsDirectoryService.newDirectory(FsDirectoryService.java:90)\r\n23:02:22    > \tat org.elasticsearch.test.store.MockFSDirectoryService.newDirectory(MockFSDirectoryService.java:107)\r\n23:02:22    > \tat org.elasticsearch.index.store.Store.<init>(Store.java:159)\r\n23:02:22    > \tat org.elasticsearch.index.IndexService.createShard(IndexService.java:346)\r\n23:02:22    > \tat org.elasticsearch.indices.IndicesService.createShard(IndicesService.java:500)\r\n23:02:22    > \tat org.elasticsearch.indices.IndicesService.createShard(IndicesService.java:148)\r\n23:02:22    > \tat org.elasticsearch.indices.cluster.IndicesClusterStateService.createShard(IndicesClusterStateService.java:542)\r\n23:02:22    > \tat org.elasticsearch.indices.cluster.IndicesClusterStateService.createOrUpdateShards(IndicesClusterStateService.java:519)\r\n23:02:22    > \tat org.elasticsearch.indices.cluster.IndicesClusterStateService.applyClusterState(IndicesClusterStateService.java:204)\r\n23:02:22    > \tat org.elasticsearch.cluster.service.ClusterService.callClusterStateAppliers(ClusterService.java:814)\r\n23:02:22    > \tat org.elasticsearch.cluster.service.ClusterService.publishAndApplyChanges(ClusterService.java:768)\r\n23:02:22    > \tat org.elasticsearch.cluster.service.ClusterService.runTasks(ClusterService.java:587)\r\n23:02:22    > \tat org.elasticsearch.cluster.service.ClusterService$ClusterServiceTaskBatcher.run(ClusterService.java:263)\r\n23:02:22    > \tat org.elasticsearch.cluster.service.TaskBatcher.runIfNotProcessed(TaskBatcher.java:150)\r\n23:02:22    > \tat org.elasticsearch.cluster.service.TaskBatcher$BatchedTask.run(TaskBatcher.java:188)\r\n23:02:22    > \tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:569)\r\n23:02:22    > \tat org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.runAndClean(PrioritizedEsThreadPoolExecutor.java:247)\r\n23:02:22    > \tat org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.run(PrioritizedEsThreadPoolExecutor.java:210)\r\n23:02:22    > \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n23:02:22    > \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n23:02:22    > \tat java.lang.Thread.run(Thread.java:748)\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/394785571","html_url":"https://github.com/elastic/elasticsearch/issues/26241#issuecomment-394785571","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26241","id":394785571,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDc4NTU3MQ==","user":{"login":"mayya-sharipova","id":5738841,"node_id":"MDQ6VXNlcjU3Mzg4NDE=","avatar_url":"https://avatars1.githubusercontent.com/u/5738841?v=4","gravatar_id":"","url":"https://api.github.com/users/mayya-sharipova","html_url":"https://github.com/mayya-sharipova","followers_url":"https://api.github.com/users/mayya-sharipova/followers","following_url":"https://api.github.com/users/mayya-sharipova/following{/other_user}","gists_url":"https://api.github.com/users/mayya-sharipova/gists{/gist_id}","starred_url":"https://api.github.com/users/mayya-sharipova/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayya-sharipova/subscriptions","organizations_url":"https://api.github.com/users/mayya-sharipova/orgs","repos_url":"https://api.github.com/users/mayya-sharipova/repos","events_url":"https://api.github.com/users/mayya-sharipova/events{/privacy}","received_events_url":"https://api.github.com/users/mayya-sharipova/received_events","type":"User","site_admin":false},"created_at":"2018-06-05T17:01:45Z","updated_at":"2018-06-05T17:01:45Z","author_association":"CONTRIBUTOR","body":"Another test failure from today on 5.6: \r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+5.6+periodic/2137/console\r\n```\r\n./gradlew :core:integTest \\\r\n  -Dtests.seed=2654AAF9700A7101 \\\r\n  -Dtests.class=org.elasticsearch.index.IndexWithShadowReplicasIT \\\r\n  -Dtests.method=\"testIndexWithFewDocuments\" \\\r\n  -Dtests.security.manager=true \\\r\n  -Dtests.locale=fr-FR \\\r\n  -Dtests.timezone=Etc/GMT+1\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/399955900","html_url":"https://github.com/elastic/elasticsearch/issues/26241#issuecomment-399955900","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26241","id":399955900,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTk1NTkwMA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-06-25T13:42:07Z","updated_at":"2018-06-25T13:42:07Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/399966901","html_url":"https://github.com/elastic/elasticsearch/issues/26241#issuecomment-399966901","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26241","id":399966901,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTk2NjkwMQ==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2018-06-25T14:14:33Z","updated_at":"2018-06-25T14:14:33Z","author_association":"MEMBER","body":"Shadow replicas is gone now so closing this issue","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/400171066","html_url":"https://github.com/elastic/elasticsearch/issues/26241#issuecomment-400171066","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26241","id":400171066,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDE3MTA2Ng==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-06-26T04:03:18Z","updated_at":"2018-06-26T04:03:18Z","author_association":"MEMBER","body":"I do not think this is a shadow replicas issue. Instead, I think it might be indicative of a problem with how we de-deduplicate deprecation messages on a thread context.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/400171732","html_url":"https://github.com/elastic/elasticsearch/issues/26241#issuecomment-400171732","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26241","id":400171732,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMDE3MTczMg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-06-26T04:08:01Z","updated_at":"2018-06-26T04:08:01Z","author_association":"MEMBER","body":"I pushed 424be027283588ac5fb76dffbee1c1cb88e75ff5 and backported it all the way to 5.6 so that if this fails again we should have more information about the failure.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/411126812","html_url":"https://github.com/elastic/elasticsearch/issues/26241#issuecomment-411126812","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26241","id":411126812,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMTEyNjgxMg==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2018-08-07T16:54:42Z","updated_at":"2018-08-07T16:54:42Z","author_association":"MEMBER","body":"Since we haven't had more movement on this in a month since Jason pushed his additional debugging, I'm going to close this, if it happens again with the additional logging we can re-open and investigate.","performed_via_github_app":null}]