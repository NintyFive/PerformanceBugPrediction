{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/12433","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12433/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12433/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12433/events","html_url":"https://github.com/elastic/elasticsearch/issues/12433","id":96968249,"node_id":"MDU6SXNzdWU5Njk2ODI0OQ==","number":12433,"title":"PluginService should ignore .DS_Store and other hidden files","user":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"labels":[{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":76184120,"node_id":"MDU6TGFiZWw3NjE4NDEyMA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v2.0.0-beta1","name":"v2.0.0-beta1","color":"dddddd","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-07-24T05:21:03Z","updated_at":"2015-07-27T08:06:58Z","closed_at":"2015-07-27T08:06:58Z","author_association":"MEMBER","active_lock_reason":null,"body":"If you traverse into a plugin directory with Finder, OSX will start creating `.DS_Store` files everywhere.  The PluginService will then attempt to read these files on startup and bomb out:\n\n```\n[2015-07-24 00:35:29,943][WARN ][bootstrap                ] failed to add plugin [/Users/tongz/Documents/elasticsearch_master/core/target/releases/elasticsearch-2.0.0-beta1-SNAPSHOT/plugins/.DS_Store]\njava.nio.file.FileSystemException: /Users/tongz/Documents/elasticsearch_master/core/target/releases/elasticsearch-2.0.0-beta1-SNAPSHOT/plugins/.DS_Store/plugin-descriptor.properties: Not a directory\nat sun.nio.fs.UnixException.translateToIOException(UnixException.java:91)\nat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102)\nat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107)\nat sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)\nat java.nio.file.Files.newByteChannel(Files.java:361)\nat java.nio.file.Files.newByteChannel(Files.java:407)\nat java.nio.file.spi.FileSystemProvider.newInputStream(FileSystemProvider.java:384)\nat java.nio.file.Files.newInputStream(Files.java:152)\nat org.elasticsearch.plugins.PluginInfo.readFromProperties(PluginInfo.java:85)\nat org.elasticsearch.plugins.PluginsService.getPluginBundles(PluginsService.java:316)\nat org.elasticsearch.plugins.PluginsService.<init>(PluginsService.java:109)\nat org.elasticsearch.node.Node.<init>(Node.java:147)\nat org.elasticsearch.node.NodeBuilder.build(NodeBuilder.java:157)\nat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:176)\nat org.elasticsearch.bootstrap.Bootstrap.main(Bootstrap.java:277)\nat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:28)\n[2015-07-24 00:35:29,946][WARN ][bootstrap                ] failed to add plugin [/Users/tongz/Documents/elasticsearch_master/core/target/releases/elasticsearch-2.0.0-beta1-SNAPSHOT/plugins/sight]\njava.lang.IllegalArgumentException: Plugin [sight] must be at least a jvm or site plugin\nat org.elasticsearch.plugins.PluginInfo.readFromProperties(PluginInfo.java:100)\nat org.elasticsearch.plugins.PluginsService.getPluginBundles(PluginsService.java:316)\nat org.elasticsearch.plugins.PluginsService.<init>(PluginsService.java:109)\nat org.elasticsearch.node.Node.<init>(Node.java:147)\nat org.elasticsearch.node.NodeBuilder.build(NodeBuilder.java:157)\nat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:176)\nat org.elasticsearch.bootstrap.Bootstrap.main(Bootstrap.java:277)\nat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:28)\n```\n\nIt would make sense for `.DS_Store` and other hidden files to be ignored by default.\n","closed_by":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"performed_via_github_app":null}