[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503625563","html_url":"https://github.com/elastic/elasticsearch/issues/43380#issuecomment-503625563","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43380","id":503625563,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzYyNTU2Mw==","user":{"login":"Grinnz","id":5769356,"node_id":"MDQ6VXNlcjU3NjkzNTY=","avatar_url":"https://avatars3.githubusercontent.com/u/5769356?v=4","gravatar_id":"","url":"https://api.github.com/users/Grinnz","html_url":"https://github.com/Grinnz","followers_url":"https://api.github.com/users/Grinnz/followers","following_url":"https://api.github.com/users/Grinnz/following{/other_user}","gists_url":"https://api.github.com/users/Grinnz/gists{/gist_id}","starred_url":"https://api.github.com/users/Grinnz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Grinnz/subscriptions","organizations_url":"https://api.github.com/users/Grinnz/orgs","repos_url":"https://api.github.com/users/Grinnz/repos","events_url":"https://api.github.com/users/Grinnz/events{/privacy}","received_events_url":"https://api.github.com/users/Grinnz/received_events","type":"User","site_admin":false},"created_at":"2019-06-19T16:06:15Z","updated_at":"2019-06-19T16:06:15Z","author_association":"NONE","body":"Note that I cannot currently upgrade to 7.0 because https://github.com/elastic/elasticsearch-perl is not yet compatible.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503645544","html_url":"https://github.com/elastic/elasticsearch/issues/43380#issuecomment-503645544","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43380","id":503645544,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzY0NTU0NA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2019-06-19T17:01:05Z","updated_at":"2019-06-19T17:01:05Z","author_association":"MEMBER","body":"> if JAVA_HOME is set to /usr/bin/java\r\n\r\nJava home should be set to the java installation directory, not the java binary location.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503652218","html_url":"https://github.com/elastic/elasticsearch/issues/43380#issuecomment-503652218","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43380","id":503652218,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzY1MjIxOA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2019-06-19T17:19:59Z","updated_at":"2019-06-19T17:19:59Z","author_association":"MEMBER","body":"To expand on what @rjernst is saying, if you have Java installed at `/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.212.b04-0.el6_10.x86_64/` then you would set `JAVA_HOME` to `/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.212.b04-0.el6_10.x86_64/`, not `/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.212.b04-0.el6_10.x86_64/bin/java`. This is because Elasticsearch looks for `java` at `JAVA_HOME/bin/java`. If it fails to find it there, it falls back to the path behavior. This explains why you're seeing the message despite having `JAVA_HOME` set, you don't have it set in a way that Elasticsearch can find the path. Sorry for the confusion here, but this is the standard way that `JAVA_HOME` is configured for software that uses the JVM. It's also consistent with what the JDK refers to internally as `java.home`, as the directory relative to which `bin/java` can be found, not the full path of `java`.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503674532","html_url":"https://github.com/elastic/elasticsearch/issues/43380#issuecomment-503674532","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43380","id":503674532,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzY3NDUzMg==","user":{"login":"Grinnz","id":5769356,"node_id":"MDQ6VXNlcjU3NjkzNTY=","avatar_url":"https://avatars3.githubusercontent.com/u/5769356?v=4","gravatar_id":"","url":"https://api.github.com/users/Grinnz","html_url":"https://github.com/Grinnz","followers_url":"https://api.github.com/users/Grinnz/followers","following_url":"https://api.github.com/users/Grinnz/following{/other_user}","gists_url":"https://api.github.com/users/Grinnz/gists{/gist_id}","starred_url":"https://api.github.com/users/Grinnz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Grinnz/subscriptions","organizations_url":"https://api.github.com/users/Grinnz/orgs","repos_url":"https://api.github.com/users/Grinnz/repos","events_url":"https://api.github.com/users/Grinnz/events{/privacy}","received_events_url":"https://api.github.com/users/Grinnz/received_events","type":"User","site_admin":false},"created_at":"2019-06-19T18:21:35Z","updated_at":"2019-06-19T18:21:35Z","author_association":"NONE","body":"But why is the message occurring when JAVA_HOME is not set? Should it not work out of the box without deprecation messages?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503676006","html_url":"https://github.com/elastic/elasticsearch/issues/43380#issuecomment-503676006","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43380","id":503676006,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzY3NjAwNg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2019-06-19T18:25:34Z","updated_at":"2019-06-19T18:25:34Z","author_association":"MEMBER","body":"> But why is the message occurring when JAVA_HOME is not set? Should it not work out of the box without deprecation messages?\r\n\r\nBecause it's falling back to finding `java` on the path. That is what is deprecated. In Elasticsearch 7.0+, we bundle a JDK and if `JAVA_HOME` is not set, we use that, and if `JAVA_HOME` is set we don't and use `JAVA_HOME` instead. But picking up `java` on the path is no longer supported.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503676592","html_url":"https://github.com/elastic/elasticsearch/issues/43380#issuecomment-503676592","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43380","id":503676592,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzY3NjU5Mg==","user":{"login":"Grinnz","id":5769356,"node_id":"MDQ6VXNlcjU3NjkzNTY=","avatar_url":"https://avatars3.githubusercontent.com/u/5769356?v=4","gravatar_id":"","url":"https://api.github.com/users/Grinnz","html_url":"https://github.com/Grinnz","followers_url":"https://api.github.com/users/Grinnz/followers","following_url":"https://api.github.com/users/Grinnz/following{/other_user}","gists_url":"https://api.github.com/users/Grinnz/gists{/gist_id}","starred_url":"https://api.github.com/users/Grinnz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Grinnz/subscriptions","organizations_url":"https://api.github.com/users/Grinnz/orgs","repos_url":"https://api.github.com/users/Grinnz/repos","events_url":"https://api.github.com/users/Grinnz/events{/privacy}","received_events_url":"https://api.github.com/users/Grinnz/received_events","type":"User","site_admin":false},"created_at":"2019-06-19T18:27:18Z","updated_at":"2019-06-19T18:27:18Z","author_association":"NONE","body":"Then the deprecation message is confusing: it says to specify JAVA_HOME, when in fact the correct action is to not do anything and live with the spurious messages until then.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503677718","html_url":"https://github.com/elastic/elasticsearch/issues/43380#issuecomment-503677718","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43380","id":503677718,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzY3NzcxOA==","user":{"login":"Grinnz","id":5769356,"node_id":"MDQ6VXNlcjU3NjkzNTY=","avatar_url":"https://avatars3.githubusercontent.com/u/5769356?v=4","gravatar_id":"","url":"https://api.github.com/users/Grinnz","html_url":"https://github.com/Grinnz","followers_url":"https://api.github.com/users/Grinnz/followers","following_url":"https://api.github.com/users/Grinnz/following{/other_user}","gists_url":"https://api.github.com/users/Grinnz/gists{/gist_id}","starred_url":"https://api.github.com/users/Grinnz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Grinnz/subscriptions","organizations_url":"https://api.github.com/users/Grinnz/orgs","repos_url":"https://api.github.com/users/Grinnz/repos","events_url":"https://api.github.com/users/Grinnz/events{/privacy}","received_events_url":"https://api.github.com/users/Grinnz/received_events","type":"User","site_admin":false},"created_at":"2019-06-19T18:30:47Z","updated_at":"2019-06-19T18:30:47Z","author_association":"NONE","body":"FWIW, I also tried setting `JAVA_HOME=/usr/lib/jvm/jre-1.8.0-openjdk.x86_64` and the warning still occurs.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503677860","html_url":"https://github.com/elastic/elasticsearch/issues/43380#issuecomment-503677860","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43380","id":503677860,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzY3Nzg2MA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2019-06-19T18:31:12Z","updated_at":"2019-06-19T18:31:12Z","author_association":"MEMBER","body":"Can you show that `/usr/lib/jvm/jre-1.8.0-openjdk.x86_64/bin/java` exists?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503678375","html_url":"https://github.com/elastic/elasticsearch/issues/43380#issuecomment-503678375","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43380","id":503678375,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzY3ODM3NQ==","user":{"login":"Grinnz","id":5769356,"node_id":"MDQ6VXNlcjU3NjkzNTY=","avatar_url":"https://avatars3.githubusercontent.com/u/5769356?v=4","gravatar_id":"","url":"https://api.github.com/users/Grinnz","html_url":"https://github.com/Grinnz","followers_url":"https://api.github.com/users/Grinnz/followers","following_url":"https://api.github.com/users/Grinnz/following{/other_user}","gists_url":"https://api.github.com/users/Grinnz/gists{/gist_id}","starred_url":"https://api.github.com/users/Grinnz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Grinnz/subscriptions","organizations_url":"https://api.github.com/users/Grinnz/orgs","repos_url":"https://api.github.com/users/Grinnz/repos","events_url":"https://api.github.com/users/Grinnz/events{/privacy}","received_events_url":"https://api.github.com/users/Grinnz/received_events","type":"User","site_admin":false},"created_at":"2019-06-19T18:32:35Z","updated_at":"2019-06-19T18:34:17Z","author_association":"NONE","body":"It is the location referred to by /etc/alternatives/java and thus /usr/bin/java.\r\n```\r\n$ ls -alh /usr/lib/jvm/jre-1.8.0-openjdk.x86_64\r\nlrwxrwxrwx 1 root root 51 May 16  2017 /usr/lib/jvm/jre-1.8.0-openjdk.x86_64 -> java-1.8.0-openjdk-1.8.0.131-0.b11.el6_9.x86_64/jre\r\n$ ls -alh /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.131-0.b11.el6_9.x86_64/jre/bin/java\r\n-rwxr-xr-x 1 root root 9.3K Apr 13  2017 /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.131-0.b11.el6_9.x86_64/jre/bin/java\r\n\r\n```\r\n(I also tried with the referred directory)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503681562","html_url":"https://github.com/elastic/elasticsearch/issues/43380#issuecomment-503681562","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43380","id":503681562,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzY4MTU2Mg==","user":{"login":"Grinnz","id":5769356,"node_id":"MDQ6VXNlcjU3NjkzNTY=","avatar_url":"https://avatars3.githubusercontent.com/u/5769356?v=4","gravatar_id":"","url":"https://api.github.com/users/Grinnz","html_url":"https://github.com/Grinnz","followers_url":"https://api.github.com/users/Grinnz/followers","following_url":"https://api.github.com/users/Grinnz/following{/other_user}","gists_url":"https://api.github.com/users/Grinnz/gists{/gist_id}","starred_url":"https://api.github.com/users/Grinnz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Grinnz/subscriptions","organizations_url":"https://api.github.com/users/Grinnz/orgs","repos_url":"https://api.github.com/users/Grinnz/repos","events_url":"https://api.github.com/users/Grinnz/events{/privacy}","received_events_url":"https://api.github.com/users/Grinnz/received_events","type":"User","site_admin":false},"created_at":"2019-06-19T18:41:56Z","updated_at":"2019-06-19T18:41:56Z","author_association":"NONE","body":"I will also note that this deprecation notice is not occurring on CentOS 7, with the same upgrade path and JAVA_HOME still not specified.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503738764","html_url":"https://github.com/elastic/elasticsearch/issues/43380#issuecomment-503738764","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43380","id":503738764,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzczODc2NA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2019-06-19T20:42:48Z","updated_at":"2019-06-19T20:42:48Z","author_association":"MEMBER","body":"With JAVA_HOME set, can you do `ls -l $JAVA_HOME/bin/java`?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503743503","html_url":"https://github.com/elastic/elasticsearch/issues/43380#issuecomment-503743503","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43380","id":503743503,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzc0MzUwMw==","user":{"login":"Grinnz","id":5769356,"node_id":"MDQ6VXNlcjU3NjkzNTY=","avatar_url":"https://avatars3.githubusercontent.com/u/5769356?v=4","gravatar_id":"","url":"https://api.github.com/users/Grinnz","html_url":"https://github.com/Grinnz","followers_url":"https://api.github.com/users/Grinnz/followers","following_url":"https://api.github.com/users/Grinnz/following{/other_user}","gists_url":"https://api.github.com/users/Grinnz/gists{/gist_id}","starred_url":"https://api.github.com/users/Grinnz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Grinnz/subscriptions","organizations_url":"https://api.github.com/users/Grinnz/orgs","repos_url":"https://api.github.com/users/Grinnz/repos","events_url":"https://api.github.com/users/Grinnz/events{/privacy}","received_events_url":"https://api.github.com/users/Grinnz/received_events","type":"User","site_admin":false},"created_at":"2019-06-19T20:56:52Z","updated_at":"2019-06-19T21:04:14Z","author_association":"NONE","body":"I'm not sure I follow - it's set in /etc/sysconfig/elasticsearch, not my local environment. If I set it in the (sudo) environment, it does not warn.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503752453","html_url":"https://github.com/elastic/elasticsearch/issues/43380#issuecomment-503752453","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43380","id":503752453,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzc1MjQ1Mw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2019-06-19T21:24:54Z","updated_at":"2019-06-19T21:24:54Z","author_association":"MEMBER","body":"Can you start Elasticsearch, with `JAVA_HOME` set in `/etc/sysconfig` as you think it is, grab the PID of the Elasticsearch process, `cat /proc/<pid>/environ | tr '\\0' '\\n' | grep JAVA_HOME` and share the output. And then, as @rjernst asks, check `ls -al $JAVA_HOME/bin/java` where `$JAVA_HOME` is the value from the previous command (from the environment of the Elasticsearch process).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503755517","html_url":"https://github.com/elastic/elasticsearch/issues/43380#issuecomment-503755517","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43380","id":503755517,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzc1NTUxNw==","user":{"login":"Grinnz","id":5769356,"node_id":"MDQ6VXNlcjU3NjkzNTY=","avatar_url":"https://avatars3.githubusercontent.com/u/5769356?v=4","gravatar_id":"","url":"https://api.github.com/users/Grinnz","html_url":"https://github.com/Grinnz","followers_url":"https://api.github.com/users/Grinnz/followers","following_url":"https://api.github.com/users/Grinnz/following{/other_user}","gists_url":"https://api.github.com/users/Grinnz/gists{/gist_id}","starred_url":"https://api.github.com/users/Grinnz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Grinnz/subscriptions","organizations_url":"https://api.github.com/users/Grinnz/orgs","repos_url":"https://api.github.com/users/Grinnz/repos","events_url":"https://api.github.com/users/Grinnz/events{/privacy}","received_events_url":"https://api.github.com/users/Grinnz/received_events","type":"User","site_admin":false},"created_at":"2019-06-19T21:34:58Z","updated_at":"2019-06-19T21:34:58Z","author_association":"NONE","body":"```\r\n$ sudo cat /proc/30591/environ | tr '\\0' '\\n' | grep JAVA_HOME                                                                                              \r\nJAVA_HOME=/usr/lib/jvm/jre-1.8.0-openjdk.x86_64\r\n\r\n$ JAVA_HOME=/usr/lib/jvm/jre-1.8.0-openjdk.x86_64; ls -al $JAVA_HOME/bin/java                                                                               \r\n-rwxr-xr-x 1 root root 9488 Apr 13  2017 /usr/lib/jvm/jre-1.8.0-openjdk.x86_64/bin/java\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503772532","html_url":"https://github.com/elastic/elasticsearch/issues/43380#issuecomment-503772532","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43380","id":503772532,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzc3MjUzMg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2019-06-19T22:39:20Z","updated_at":"2019-06-19T22:39:20Z","author_association":"MEMBER","body":"I am at a loss to explain what is going on here, thanks for being patient with us as we collect information from you. Can you share a little more? How are you starting Elasticsearch? I assume it's `service Elasticsearch start`? Can you show the output that prints the deprecation message including the context surrounding it (e.g., if it shows up on `stdout` after you issue `service elasticsearch start`)?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503776762","html_url":"https://github.com/elastic/elasticsearch/issues/43380#issuecomment-503776762","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43380","id":503776762,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzc3Njc2Mg==","user":{"login":"Grinnz","id":5769356,"node_id":"MDQ6VXNlcjU3NjkzNTY=","avatar_url":"https://avatars3.githubusercontent.com/u/5769356?v=4","gravatar_id":"","url":"https://api.github.com/users/Grinnz","html_url":"https://github.com/Grinnz","followers_url":"https://api.github.com/users/Grinnz/followers","following_url":"https://api.github.com/users/Grinnz/following{/other_user}","gists_url":"https://api.github.com/users/Grinnz/gists{/gist_id}","starred_url":"https://api.github.com/users/Grinnz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Grinnz/subscriptions","organizations_url":"https://api.github.com/users/Grinnz/orgs","repos_url":"https://api.github.com/users/Grinnz/repos","events_url":"https://api.github.com/users/Grinnz/events{/privacy}","received_events_url":"https://api.github.com/users/Grinnz/received_events","type":"User","site_admin":false},"created_at":"2019-06-19T22:58:18Z","updated_at":"2019-06-19T22:58:18Z","author_association":"NONE","body":"I am using `sudo service elasticsearch start`. It does not show up when doing that, but on any other command such as `sudo /usr/share/elasticsearch/bin/elasticsearch --version` or `sudo /usr/share/elasticsearch/bin/elasticsearch-plugin list`.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503778338","html_url":"https://github.com/elastic/elasticsearch/issues/43380#issuecomment-503778338","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43380","id":503778338,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzc3ODMzOA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2019-06-19T23:05:37Z","updated_at":"2019-06-19T23:05:37Z","author_association":"MEMBER","body":"Okay, now this is making a lot more sense. Those CLI tools do not read `/etc/sysconfig/elasticsearch`. You have to set `JAVA_HOME` in the environment that you're running in.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503779373","html_url":"https://github.com/elastic/elasticsearch/issues/43380#issuecomment-503779373","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43380","id":503779373,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzc3OTM3Mw==","user":{"login":"Grinnz","id":5769356,"node_id":"MDQ6VXNlcjU3NjkzNTY=","avatar_url":"https://avatars3.githubusercontent.com/u/5769356?v=4","gravatar_id":"","url":"https://api.github.com/users/Grinnz","html_url":"https://github.com/Grinnz","followers_url":"https://api.github.com/users/Grinnz/followers","following_url":"https://api.github.com/users/Grinnz/following{/other_user}","gists_url":"https://api.github.com/users/Grinnz/gists{/gist_id}","starred_url":"https://api.github.com/users/Grinnz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Grinnz/subscriptions","organizations_url":"https://api.github.com/users/Grinnz/orgs","repos_url":"https://api.github.com/users/Grinnz/repos","events_url":"https://api.github.com/users/Grinnz/events{/privacy}","received_events_url":"https://api.github.com/users/Grinnz/received_events","type":"User","site_admin":false},"created_at":"2019-06-19T23:10:33Z","updated_at":"2019-06-19T23:10:33Z","author_association":"NONE","body":"Indeed, if I unset JAVA_HOME in /etc/sysconfig/elasticsearch (as default) then `service elasticsearch start` also exhibits the warning.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503783571","html_url":"https://github.com/elastic/elasticsearch/issues/43380#issuecomment-503783571","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43380","id":503783571,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzc4MzU3MQ==","user":{"login":"Grinnz","id":5769356,"node_id":"MDQ6VXNlcjU3NjkzNTY=","avatar_url":"https://avatars3.githubusercontent.com/u/5769356?v=4","gravatar_id":"","url":"https://api.github.com/users/Grinnz","html_url":"https://github.com/Grinnz","followers_url":"https://api.github.com/users/Grinnz/followers","following_url":"https://api.github.com/users/Grinnz/following{/other_user}","gists_url":"https://api.github.com/users/Grinnz/gists{/gist_id}","starred_url":"https://api.github.com/users/Grinnz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Grinnz/subscriptions","organizations_url":"https://api.github.com/users/Grinnz/orgs","repos_url":"https://api.github.com/users/Grinnz/repos","events_url":"https://api.github.com/users/Grinnz/events{/privacy}","received_events_url":"https://api.github.com/users/Grinnz/received_events","type":"User","site_admin":false},"created_at":"2019-06-19T23:30:58Z","updated_at":"2019-06-19T23:30:58Z","author_association":"NONE","body":"This leaves me with two questions: 1) Why isn't the warning occurring on CentOS 7? 2) Can the deprecation message be clarified? Or is it even useful? The only action I would need to take is if I wanted to keep using the system installed java after upgrading, I would need to set it in /etc/sysconfig/elasticsearch and add it to the environment in some way for all of my sudo commands. It does not feel like a deprecation scenario but a change in behavior.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503787417","html_url":"https://github.com/elastic/elasticsearch/issues/43380#issuecomment-503787417","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43380","id":503787417,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzc4NzQxNw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2019-06-19T23:52:01Z","updated_at":"2019-06-19T23:52:01Z","author_association":"MEMBER","body":"> 1) Why isn't the warning occurring on CentOS 7?\r\n\r\nI don't know how your environment is setup so we can not explain this. I assure you there is nothing that is OS-specific in this logic. I would look on your end to see if `JAVA_HOME` is set via a login profile, for example.\r\n\r\n> 2) Can the deprecation message be clarified? Or is it even useful?\r\n\r\nWe believe it's useful since it's a breaking change for users relying on using `java` from the path.","performed_via_github_app":null}]