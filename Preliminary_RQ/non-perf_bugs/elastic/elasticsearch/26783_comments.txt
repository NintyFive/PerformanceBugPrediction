[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/331981676","html_url":"https://github.com/elastic/elasticsearch/issues/26783#issuecomment-331981676","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26783","id":331981676,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTk4MTY3Ng==","user":{"login":"stembi","id":5913496,"node_id":"MDQ6VXNlcjU5MTM0OTY=","avatar_url":"https://avatars0.githubusercontent.com/u/5913496?v=4","gravatar_id":"","url":"https://api.github.com/users/stembi","html_url":"https://github.com/stembi","followers_url":"https://api.github.com/users/stembi/followers","following_url":"https://api.github.com/users/stembi/following{/other_user}","gists_url":"https://api.github.com/users/stembi/gists{/gist_id}","starred_url":"https://api.github.com/users/stembi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stembi/subscriptions","organizations_url":"https://api.github.com/users/stembi/orgs","repos_url":"https://api.github.com/users/stembi/repos","events_url":"https://api.github.com/users/stembi/events{/privacy}","received_events_url":"https://api.github.com/users/stembi/received_events","type":"User","site_admin":false},"created_at":"2017-09-25T19:07:25Z","updated_at":"2017-09-25T19:07:25Z","author_association":"NONE","body":"It seems the **problem is with case sensitivity**:\r\nES is passing the indexed documents to the lowercase filter, which stores all the keyword in lowercase.\r\nOn the other side, the query itself is doing no analysis of searched text (in our case the \"Al\"),and because fuzziness is set to 0 (exact match), no match is found. It seems I just misunderstood the ES concept of Fuzzy query - this behaviour is not described anywhere in the documentation. Could anyone confirm this is the **origin** of the problem?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/331990515","html_url":"https://github.com/elastic/elasticsearch/issues/26783#issuecomment-331990515","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26783","id":331990515,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTk5MDUxNQ==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2017-09-25T19:43:13Z","updated_at":"2017-09-25T19:43:13Z","author_association":"CONTRIBUTOR","body":"the fuzzy query doesn't apply tokenization / normalization to the terms you pass in. You should use match query instead like this:\r\n\r\n```JSON\r\ncurl -XGET 'localhost:9200//my_index/my_type/_search?pretty' -H 'Content-Type: application/json' -d'\r\n{\r\n    \"query\": {\r\n        \"match\" : {\r\n            \"title.text\" : {\r\n                \"query\" : \"AI\",\r\n                \"fuzziness\" : \"AUTO\"\r\n            }\r\n        }\r\n    }\r\n}'\r\n```\r\n","performed_via_github_app":null}]