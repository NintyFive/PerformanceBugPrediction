[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/208374868","html_url":"https://github.com/elastic/elasticsearch/issues/17644#issuecomment-208374868","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17644","id":208374868,"node_id":"MDEyOklzc3VlQ29tbWVudDIwODM3NDg2OA==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-04-11T14:30:00Z","updated_at":"2016-04-11T14:30:00Z","author_association":"CONTRIBUTOR","body":"I suspect this is done on purpose since 99% of the time, if you add a dynamic object to your mappings, you will have a field below it.\n\nThat said I agree it is confusing that the default depends on the root as opposed to the parent.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/209324860","html_url":"https://github.com/elastic/elasticsearch/issues/17644#issuecomment-209324860","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17644","id":209324860,"node_id":"MDEyOklzc3VlQ29tbWVudDIwOTMyNDg2MA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-04-13T09:12:12Z","updated_at":"2016-04-13T09:12:12Z","author_association":"CONTRIBUTOR","body":"However the sub-object gets added, if `dynamic` is not explicitly specified at the sub-object level, it should inherit from its direct parent.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/209327530","html_url":"https://github.com/elastic/elasticsearch/issues/17644#issuecomment-209327530","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17644","id":209327530,"node_id":"MDEyOklzc3VlQ29tbWVudDIwOTMyNzUzMA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-04-13T09:20:26Z","updated_at":"2016-04-13T09:20:26Z","author_association":"CONTRIBUTOR","body":"This raises another problem...  The `dynamic` setting is updatable.  If we update the setting for a parent, the children should inherit the new setting.  I think this will not work today as the inherited dynamic setting is resolved when the field is added.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/209936225","html_url":"https://github.com/elastic/elasticsearch/issues/17644#issuecomment-209936225","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17644","id":209936225,"node_id":"MDEyOklzc3VlQ29tbWVudDIwOTkzNjIyNQ==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-04-14T13:13:18Z","updated_at":"2016-04-14T13:13:18Z","author_association":"CONTRIBUTOR","body":">  The dynamic setting is updatable. If we update the setting for a parent, the children should inherit the new setting. I think this will not work today as the inherited dynamic setting is resolved when the field is added.\n\nI think that could work actually. The way that the dynamic setting is resolved is the following:\n1. if `dynamic` is set on the object, then use it\n2. otherwise if `dynamic` is set on the root object, then use it\n3. otherwise use the default which is `true`\n\nSo if we replace (2) with \"otherwise recursively check if `dynamic` is set on the parent object, and use it\" and dynamically add objects with `null` values for `dynamic` then things should work?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/212499406","html_url":"https://github.com/elastic/elasticsearch/issues/17644#issuecomment-212499406","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17644","id":212499406,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMjQ5OTQwNg==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2016-04-20T16:21:25Z","updated_at":"2016-04-20T16:21:25Z","author_association":"MEMBER","body":"Just tested this on master, it is fixed. No inconsistency anymore depending on how the field gets added. We look at the parent and take the `dynamic` value from it. Closing.\n","performed_via_github_app":null}]