[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/604093241","html_url":"https://github.com/elastic/elasticsearch/issues/54228#issuecomment-604093241","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54228","id":604093241,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDA5MzI0MQ==","user":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"created_at":"2020-03-25T21:19:01Z","updated_at":"2020-03-25T21:19:01Z","author_association":"MEMBER","body":"Hi @krlm!  I'm going to close this as a duplicate of https://github.com/elastic/elasticsearch/issues/50109.  That said, this is the third time this issue has come up in the recent past, so I'll raise this at our next team meeting to see if we can fix sooner than later.  The [current plan](https://github.com/elastic/elasticsearch/issues/50109#issuecomment-578264809) is to introduce a flag that allows `extended_bounds` to act as hard boundaries, truncating infinite ranges and avoiding this issue.\r\n\r\n> BTW, is it possible to workaround this with script? I've tried to play with it, but doc['dateRange'].value returns some obscure (i.e. \"\\u0001©p_䠀?\\uDFBF\\uDFFF\\uDFBF\\uDFC0\") java.lang.String value and I'm a bit confused.\r\n\r\nUnfortunately there's not a way to deal with ranges in scripts yet.  What you're seeing with that obscure value is essentially the way we store the ranges internally, in a binary format.  Scripts don't presently know how to deal with it properly, and so just dump to an unusable string.  Adding [scripting support to ranges is also on the todo list](https://github.com/elastic/elasticsearch/issues/50190), but that'll take longer because it's a bit more complicated.\r\n\r\nThanks for raising the bug report, please follow #50109 for updates! ","performed_via_github_app":null}]