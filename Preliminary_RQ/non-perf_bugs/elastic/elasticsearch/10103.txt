{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/10103","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10103/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10103/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10103/events","html_url":"https://github.com/elastic/elasticsearch/issues/10103","id":62019546,"node_id":"MDU6SXNzdWU2MjAxOTU0Ng==","number":10103,"title":"DIsk based allocator should take into account the amount of disk space which can be reused","user":{"login":"maf23","id":1116021,"node_id":"MDQ6VXNlcjExMTYwMjE=","avatar_url":"https://avatars2.githubusercontent.com/u/1116021?v=4","gravatar_id":"","url":"https://api.github.com/users/maf23","html_url":"https://github.com/maf23","followers_url":"https://api.github.com/users/maf23/followers","following_url":"https://api.github.com/users/maf23/following{/other_user}","gists_url":"https://api.github.com/users/maf23/gists{/gist_id}","starred_url":"https://api.github.com/users/maf23/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maf23/subscriptions","organizations_url":"https://api.github.com/users/maf23/orgs","repos_url":"https://api.github.com/users/maf23/repos","events_url":"https://api.github.com/users/maf23/events{/privacy}","received_events_url":"https://api.github.com/users/maf23/received_events","type":"User","site_admin":false},"labels":[{"id":837246479,"node_id":"MDU6TGFiZWw4MzcyNDY0Nzk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Allocation","name":":Distributed/Allocation","color":"0e8a16","default":false,"description":"All issues relating to the decision making around placing a shard (both master logic & on the nodes)"},{"id":113234020,"node_id":"MDU6TGFiZWwxMTMyMzQwMjA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/stalled","name":"stalled","color":"fef2c0","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2015-03-16T09:17:33Z","updated_at":"2018-03-20T10:05:04Z","closed_at":"2018-03-20T10:05:04Z","author_association":"NONE","active_lock_reason":null,"body":"Assume we have a node where the disk usage is above the low watermark. If we restart this node then no shards will be allocated on it since the disk usage is above the low watermark.\n\nIt would be better if the disk based allocator could realize that it can throw away or at least reuse the space which is currently used for outdated shard copies on the node.\n","closed_by":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"performed_via_github_app":null}