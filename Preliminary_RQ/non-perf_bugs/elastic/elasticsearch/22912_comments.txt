[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/276778812","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-276778812","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":276778812,"node_id":"MDEyOklzc3VlQ29tbWVudDI3Njc3ODgxMg==","user":{"login":"seme1","id":8105948,"node_id":"MDQ6VXNlcjgxMDU5NDg=","avatar_url":"https://avatars0.githubusercontent.com/u/8105948?v=4","gravatar_id":"","url":"https://api.github.com/users/seme1","html_url":"https://github.com/seme1","followers_url":"https://api.github.com/users/seme1/followers","following_url":"https://api.github.com/users/seme1/following{/other_user}","gists_url":"https://api.github.com/users/seme1/gists{/gist_id}","starred_url":"https://api.github.com/users/seme1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seme1/subscriptions","organizations_url":"https://api.github.com/users/seme1/orgs","repos_url":"https://api.github.com/users/seme1/repos","events_url":"https://api.github.com/users/seme1/events{/privacy}","received_events_url":"https://api.github.com/users/seme1/received_events","type":"User","site_admin":false},"created_at":"2017-02-01T20:53:24Z","updated_at":"2017-02-01T20:53:24Z","author_association":"NONE","body":"The \"Duplicate filtering\" feature outlined in the following article is no more in ES 5\r\nhttp://rea.tech/implementing-autosuggest-in-elasticsearch/\r\n\r\nI'll stick with ES 2.3 till a resolution for this missing feature is found.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/276928488","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-276928488","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":276928488,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjkyODQ4OA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2017-02-02T11:03:40Z","updated_at":"2017-02-02T11:03:40Z","author_association":"CONTRIBUTOR","body":"@seme1 this change was a requested feature.  The design of the new completion suggester is significantly different to what existed before - a suggestion maps to a single document now. This isn't going to change.\r\n\r\nI'm afraid your only option is to remain on 2.3 until you've had time to rework your application.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/277186657","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-277186657","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":277186657,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NzE4NjY1Nw==","user":{"login":"seme1","id":8105948,"node_id":"MDQ6VXNlcjgxMDU5NDg=","avatar_url":"https://avatars0.githubusercontent.com/u/8105948?v=4","gravatar_id":"","url":"https://api.github.com/users/seme1","html_url":"https://github.com/seme1","followers_url":"https://api.github.com/users/seme1/followers","following_url":"https://api.github.com/users/seme1/following{/other_user}","gists_url":"https://api.github.com/users/seme1/gists{/gist_id}","starred_url":"https://api.github.com/users/seme1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seme1/subscriptions","organizations_url":"https://api.github.com/users/seme1/orgs","repos_url":"https://api.github.com/users/seme1/repos","events_url":"https://api.github.com/users/seme1/events{/privacy}","received_events_url":"https://api.github.com/users/seme1/received_events","type":"User","site_admin":false},"created_at":"2017-02-03T07:59:41Z","updated_at":"2017-02-03T07:59:41Z","author_association":"NONE","body":"How to \"rework my application\" ? I am relying on elasticsearch to give users suggestions on what terms/phrases to type when they search. I don't want the auto complete suggestion to give results pointing to individual documents, but rather to the most common/important terms/phrases. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/277189389","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-277189389","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":277189389,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NzE4OTM4OQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2017-02-03T08:16:56Z","updated_at":"2017-02-03T08:16:56Z","author_association":"CONTRIBUTOR","body":">  I don't want the auto complete suggestion to give results pointing to individual documents, but rather to the most common/important terms/phrases.\r\n\r\nThis was never the intention of the completion suggester - it has never favoured the most common words etc.  It is a prefix suggester: it looks at the prefix you've typed in and finds completions from a finite list of strings with exactly that prefix.  \r\n\r\nIf you want to use the suggester to suggest search terms which may be duplicated across documents, then you need to index those search terms in a separate index and handle the deduplication yourself.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/278645774","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-278645774","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":278645774,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODY0NTc3NA==","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2017-02-09T13:51:43Z","updated_at":"2017-02-09T14:03:26Z","author_association":"CONTRIBUTOR","body":"Sorry this is still a desaster! Is there no way to add deduplication back? This prevents some customers (and myself) to update to Elasticsearch 5. Collecting all suggest items (deduplicated) into a separate index is not going to work, as it again prevents easy updates.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/278783069","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-278783069","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":278783069,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODc4MzA2OQ==","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2017-02-09T21:42:14Z","updated_at":"2017-02-09T22:24:24Z","author_association":"CONTRIBUTOR","body":"If anybody is interested: I wrote a plugin with a hack that restores the old Completion Suggester. The trick was to add a new field type \"legacy_completion\" that behaves identical to the 2.x version of this suggester. It is a bit of hack, but works. I will post a GIST soon to show what it does - it is included into my own plugin so I have to extract this first.\r\n\r\nNevertheless: As all this works fine, why not keep the old completion suggester alive for people that are not interested in \"document\" suggestions, but want Google-like term autocompletion, but still want to have all in one index. The old suggester is perfect for that and the fact that deletions are not taken into account is not a problem at all (for this use case). In addition the deduplication works fine and is fast enough! Payloads are not required for this use case.\r\n\r\nI'd suggest to add a field type like my plugin \"legacy_completion\", but without hacks. I'd suggest to remove payloads for this use-case, too.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/278802358","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-278802358","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":278802358,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODgwMjM1OA==","user":{"login":"mikemccand","id":796508,"node_id":"MDQ6VXNlcjc5NjUwOA==","avatar_url":"https://avatars0.githubusercontent.com/u/796508?v=4","gravatar_id":"","url":"https://api.github.com/users/mikemccand","html_url":"https://github.com/mikemccand","followers_url":"https://api.github.com/users/mikemccand/followers","following_url":"https://api.github.com/users/mikemccand/following{/other_user}","gists_url":"https://api.github.com/users/mikemccand/gists{/gist_id}","starred_url":"https://api.github.com/users/mikemccand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikemccand/subscriptions","organizations_url":"https://api.github.com/users/mikemccand/orgs","repos_url":"https://api.github.com/users/mikemccand/repos","events_url":"https://api.github.com/users/mikemccand/events{/privacy}","received_events_url":"https://api.github.com/users/mikemccand/received_events","type":"User","site_admin":false},"created_at":"2017-02-09T22:57:19Z","updated_at":"2017-02-09T22:57:19Z","author_association":"CONTRIBUTOR","body":"Indeed the new suggester (called the document suggester in Lucene) is document based and does not have any ability to remove dups today.\r\n\r\nThere was some discussion early on about duplicates: https://github.com/elastic/elasticsearch/issues/22912#issuecomment-278645774 but I don't think it led to any duplicate removal being added.\r\n\r\n@areek can you confirm?\r\n\r\nI suppose we (or users) could add a while loop to query for suggestions, and then iterate (with a larger N) if too many of the top N on the first try were duplicates.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/278805711","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-278805711","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":278805711,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODgwNTcxMQ==","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2017-02-09T23:12:54Z","updated_at":"2017-02-09T23:12:54Z","author_association":"CONTRIBUTOR","body":"I'd be happy to keep the old suggester available with own field type, like my plugin is doing. I will post the plugin code tomorrow. It is quite simple, but a hack that breaks easily if internals change or the old suggester code is completely removed in ES 6. That is what I would like to prevent.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/278914709","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-278914709","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":278914709,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODkxNDcwOQ==","user":{"login":"mikemccand","id":796508,"node_id":"MDQ6VXNlcjc5NjUwOA==","avatar_url":"https://avatars0.githubusercontent.com/u/796508?v=4","gravatar_id":"","url":"https://api.github.com/users/mikemccand","html_url":"https://github.com/mikemccand","followers_url":"https://api.github.com/users/mikemccand/followers","following_url":"https://api.github.com/users/mikemccand/following{/other_user}","gists_url":"https://api.github.com/users/mikemccand/gists{/gist_id}","starred_url":"https://api.github.com/users/mikemccand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikemccand/subscriptions","organizations_url":"https://api.github.com/users/mikemccand/orgs","repos_url":"https://api.github.com/users/mikemccand/repos","events_url":"https://api.github.com/users/mikemccand/events{/privacy}","received_events_url":"https://api.github.com/users/mikemccand/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T10:52:41Z","updated_at":"2017-02-10T10:52:41Z","author_association":"CONTRIBUTOR","body":"I think we can also add duplicate handling to this suggester as an option in Lucene?  I'll open a Lucene issue to explore it; I think it may not be so difficult.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/278990216","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-278990216","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":278990216,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODk5MDIxNg==","user":{"login":"mikemccand","id":796508,"node_id":"MDQ6VXNlcjc5NjUwOA==","avatar_url":"https://avatars0.githubusercontent.com/u/796508?v=4","gravatar_id":"","url":"https://api.github.com/users/mikemccand","html_url":"https://github.com/mikemccand","followers_url":"https://api.github.com/users/mikemccand/followers","following_url":"https://api.github.com/users/mikemccand/following{/other_user}","gists_url":"https://api.github.com/users/mikemccand/gists{/gist_id}","starred_url":"https://api.github.com/users/mikemccand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikemccand/subscriptions","organizations_url":"https://api.github.com/users/mikemccand/orgs","repos_url":"https://api.github.com/users/mikemccand/repos","events_url":"https://api.github.com/users/mikemccand/events{/privacy}","received_events_url":"https://api.github.com/users/mikemccand/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T16:25:59Z","updated_at":"2017-02-10T16:25:59Z","author_association":"CONTRIBUTOR","body":"> I think we can also add duplicate handling to this suggester as an option in Lucene? I'll open a Lucene issue to explore it; I think it may not be so difficult.\r\n\r\nOK, I opened https://issues.apache.org/jira/browse/LUCENE-7686 to add optional deduplication to the document suggester, and iterated to a working patch I think.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/279169066","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-279169066","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":279169066,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTE2OTA2Ng==","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2017-02-11T19:19:45Z","updated_at":"2017-02-11T19:19:45Z","author_association":"CONTRIBUTOR","body":"Hi Mike,\r\nthanks for opening the Lucene issue! It looks good to me. But nevertheless a Suggester that is document based is not always the best idea. Your patch on the Lucene issue already mentions it: If you have lots of duplicates, this slows down and the idea behind a suggester is broken (as its slow, possibly horrible slow). Let me explain the 2 different types of Suggester \"use cases\":\r\n\r\n- The new suggester is document based, that is fine if you really want to suggest documents (and also want to filter deleted documents). Basically this suggester just executes a query and returns TopDocs (not really Topdocs, because it uses another scoring, but basically it is the same). This type of suggester works fine if you index for suggestions is unique, e.g., the document title (that should be almost unique) and suggest those in the drop down. If users click on those items, they are directly directed to the document. One example of this is the search engine on Elastic's home page. The risk of duplicates is small there.\r\n\r\n- The old suggester was just \"dictionary based\" (a variant of the term dictionary that has payloads and some weights). This suggester does not suggest documents, it just suggests terms/phrases you could enter into the search field and execute them. The same like Google is doing - and this is what I would need (and the user who opened the issue). Generally you can do the same also with the new suggester, but you must take care of using a separate, deduplicated index and index the suggester phrases from there. But this makes maintenance hard! If you have structured data and you know that some fields in you documents are useful as auto-suggestion (e.g, names of authors, journal names,... anything that could also work as a facet), then you are done already. This helps users to enter such terms (which are real suggestions, documents are no suggestions, they are already results of search). The problem with stuff like author names is that they may appear in thousands of documents. If you execute the search afterwards you get thousands of documents. This is how you would use a suggester like you see it on Google: just present phrases to search for which may return many documents. For this use case a Document-based suggester as the new one here is not scalable. To make it work as it should, user would need to create 2nd index, then execute an aggregation on the primary index on a field used for suggestions and migrate the buckets of the terms aggregation as suggestions. The backside: This makes adoption hard, as you have to run this in regular intervals and reindex the suggester index. For users with a high frequency of coming/going documents thsi is not gonna to work. The old completion suggester had the deduplication \"automatically\", because it just worked on the in-memory terms dictionary, but never iterated over documents. The backside: deleted stuff does not disappear. But for this type of suggestion this is not necessarily to happen in a timely manner. If you get a suggestion which is no longer in the index as the \"whole phrase\", it is still likely return results (for multi-word suggestions). So this was never a problem for the old suggester. I had never any problems with deletions not showing!\r\n\r\nMy suggestion would be to use the new suggester's dictionary, but just allow it to be run without return document suggestions: Just find the terms/phrases from dictionary that match and return them as suggestions. The score could be document frequency. That would help both worlds. The alternative would be to keep the old suggester alive as alternative (as said before). To me this would work like the still missing Solr \"terms component\" in ES.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/279243758","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-279243758","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":279243758,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTI0Mzc1OA==","user":{"login":"seme1","id":8105948,"node_id":"MDQ6VXNlcjgxMDU5NDg=","avatar_url":"https://avatars0.githubusercontent.com/u/8105948?v=4","gravatar_id":"","url":"https://api.github.com/users/seme1","html_url":"https://github.com/seme1","followers_url":"https://api.github.com/users/seme1/followers","following_url":"https://api.github.com/users/seme1/following{/other_user}","gists_url":"https://api.github.com/users/seme1/gists{/gist_id}","starred_url":"https://api.github.com/users/seme1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seme1/subscriptions","organizations_url":"https://api.github.com/users/seme1/orgs","repos_url":"https://api.github.com/users/seme1/repos","events_url":"https://api.github.com/users/seme1/events{/privacy}","received_events_url":"https://api.github.com/users/seme1/received_events","type":"User","site_admin":false},"created_at":"2017-02-12T19:58:06Z","updated_at":"2017-02-12T19:58:06Z","author_association":"NONE","body":"@uschindler \r\nBeing able to delete suggestion entries with near-real time effect on the suggester is important for my application. In fact, it was the reason why I tried to upgrade to version 5.1. Of course, I had to abandon the upgrade after I discovered the missing de-duplication (the issue discussed here).\r\n\r\nThe way I have things work now to deal with the deletions is that every night I simply delete the suggestion index, recreate it and then re-index all the documents. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/279540987","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-279540987","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":279540987,"node_id":"MDEyOklzc3VlQ29tbWVudDI3OTU0MDk4Nw==","user":{"login":"mikemccand","id":796508,"node_id":"MDQ6VXNlcjc5NjUwOA==","avatar_url":"https://avatars0.githubusercontent.com/u/796508?v=4","gravatar_id":"","url":"https://api.github.com/users/mikemccand","html_url":"https://github.com/mikemccand","followers_url":"https://api.github.com/users/mikemccand/followers","following_url":"https://api.github.com/users/mikemccand/following{/other_user}","gists_url":"https://api.github.com/users/mikemccand/gists{/gist_id}","starred_url":"https://api.github.com/users/mikemccand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikemccand/subscriptions","organizations_url":"https://api.github.com/users/mikemccand/orgs","repos_url":"https://api.github.com/users/mikemccand/repos","events_url":"https://api.github.com/users/mikemccand/events{/privacy}","received_events_url":"https://api.github.com/users/mikemccand/received_events","type":"User","site_admin":false},"created_at":"2017-02-13T22:16:21Z","updated_at":"2017-02-13T22:16:21Z","author_association":"CONTRIBUTOR","body":"Thanks @uschindler for a nice summary of suggester use cases and pros/cons of the document based vs term based suggesters.  Confusingly, there is also `AnalyzingInfixSuggester` (not yet exposed in ES) which is essentially another document based suggester.\r\n\r\nI like your idea to use the new suggester's dictionary (its FST): this can make dedup w/ the new suggester very low cost, because the FST has effectively already dedup'd.  I'll try to rework my patch to do this ... then we don't need the deduplicating collector.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/281032261","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-281032261","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":281032261,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTAzMjI2MQ==","user":{"login":"nofexio","id":8706877,"node_id":"MDQ6VXNlcjg3MDY4Nzc=","avatar_url":"https://avatars3.githubusercontent.com/u/8706877?v=4","gravatar_id":"","url":"https://api.github.com/users/nofexio","html_url":"https://github.com/nofexio","followers_url":"https://api.github.com/users/nofexio/followers","following_url":"https://api.github.com/users/nofexio/following{/other_user}","gists_url":"https://api.github.com/users/nofexio/gists{/gist_id}","starred_url":"https://api.github.com/users/nofexio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nofexio/subscriptions","organizations_url":"https://api.github.com/users/nofexio/orgs","repos_url":"https://api.github.com/users/nofexio/repos","events_url":"https://api.github.com/users/nofexio/events{/privacy}","received_events_url":"https://api.github.com/users/nofexio/received_events","type":"User","site_admin":false},"created_at":"2017-02-20T09:45:20Z","updated_at":"2017-02-20T09:45:20Z","author_association":"NONE","body":"Thanks @uschindler for the explanation. I have exactly the same problem. In my case the suggestion can be anything one could actually search for (tags, keywords, names, titles, cities, ...). Each document has those fields, so it's normal that there will be some duplicates. The old suggester was really helpful deduplicating the results for easy access. \r\n\r\nNow having duplicates I am aggregating them myself, but this only works because I don't have that much data. As the data increases it would take too long to give suggestions.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/281812689","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-281812689","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":281812689,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTgxMjY4OQ==","user":{"login":"mikemccand","id":796508,"node_id":"MDQ6VXNlcjc5NjUwOA==","avatar_url":"https://avatars0.githubusercontent.com/u/796508?v=4","gravatar_id":"","url":"https://api.github.com/users/mikemccand","html_url":"https://github.com/mikemccand","followers_url":"https://api.github.com/users/mikemccand/followers","following_url":"https://api.github.com/users/mikemccand/following{/other_user}","gists_url":"https://api.github.com/users/mikemccand/gists{/gist_id}","starred_url":"https://api.github.com/users/mikemccand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikemccand/subscriptions","organizations_url":"https://api.github.com/users/mikemccand/orgs","repos_url":"https://api.github.com/users/mikemccand/repos","events_url":"https://api.github.com/users/mikemccand/events{/privacy}","received_events_url":"https://api.github.com/users/mikemccand/received_events","type":"User","site_admin":false},"created_at":"2017-02-22T21:39:10Z","updated_at":"2017-02-22T21:39:10Z","author_association":"CONTRIBUTOR","body":"OK https://issues.apache.org/jira/browse/LUCENE-7686 is now fixed for Lucene 6.5.0; once we upgrade then we can expose the option in ES.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/281951973","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-281951973","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":281951973,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTk1MTk3Mw==","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2017-02-23T10:15:29Z","updated_at":"2017-02-23T10:15:53Z","author_association":"CONTRIBUTOR","body":"Thanks Mike, looks great. We just need some DSL changes to allow to pass \"dedup\" to suggester. I am still thinking about a good solution for previous \"outputs\" (if you have multiple suggestions per document, it is not easy to correlate the correct \"output\" with the suggestion). But with some JSON tricks this might be easy to solve.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/281979825","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-281979825","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":281979825,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTk3OTgyNQ==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2017-02-23T12:31:33Z","updated_at":"2017-02-23T12:31:33Z","author_association":"MEMBER","body":"> My suggestion would be to use the new suggester's dictionary, but just allow it to be run without return document suggestions: Just find the terms/phrases from dictionary that match and return them as suggestions. The score could be document frequency. That would help both worlds. The alternative would be to keep the old suggester alive as alternative (as said before). To me this would work like the still missing Solr \"terms component\" in ES.\r\n\r\nWhat you describe here would better fit in the `phrase` suggester which works with an n-gram model and scores suggestions based on frequency and co-occurence. The completion suggester is agnostic to frequency and is solely based on the provided `weight` to rank the suggestions. Not providing a `weight` and relying on duplication to find the best matches is not in the scope of this suggester. The de-duplication is helpful not only to please the suggester but also to generate the weight associated with your suggestion. For instance, a web search engine could normalize and de-duplicate the query logs to create a suggester where the `weight` could be the frequency of the query or a complex formula. \r\nMy point here is that it's dangerous to use this suggester as \"a direct field suggester for my documents\". \r\nIt's great if duplicates can be removed but if you have a lot of them then maybe that this suggester is not a good fit. For instance if you index books and wants to suggest author names I don't think you should use the completion suggester  in the same index even if the FST can de-duplicate. For this use case I think you're right we don't have a good answer in ES unless you're able to do the de-duplication/ranking on your side. The `phrase` suggester might be one but autocomplete is not implemented (only did you mean behavior).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/281982394","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-281982394","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":281982394,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTk4MjM5NA==","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2017-02-23T12:44:52Z","updated_at":"2017-02-23T12:45:00Z","author_association":"CONTRIBUTOR","body":"> For this use case I think you're right we don't have a good answer in ES unless you're able to do the de-duplication/ranking on your side. The phrase suggester might be one but autocomplete is not implemented (only did you mean behavior).\r\n\r\nThat's exactly my problem! And the example to suggest author names of books is the exact use-case I (and many others) seem to have.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/285092008","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-285092008","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":285092008,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NTA5MjAwOA==","user":{"login":"seme1","id":8105948,"node_id":"MDQ6VXNlcjgxMDU5NDg=","avatar_url":"https://avatars0.githubusercontent.com/u/8105948?v=4","gravatar_id":"","url":"https://api.github.com/users/seme1","html_url":"https://github.com/seme1","followers_url":"https://api.github.com/users/seme1/followers","following_url":"https://api.github.com/users/seme1/following{/other_user}","gists_url":"https://api.github.com/users/seme1/gists{/gist_id}","starred_url":"https://api.github.com/users/seme1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seme1/subscriptions","organizations_url":"https://api.github.com/users/seme1/orgs","repos_url":"https://api.github.com/users/seme1/repos","events_url":"https://api.github.com/users/seme1/events{/privacy}","received_events_url":"https://api.github.com/users/seme1/received_events","type":"User","site_admin":false},"created_at":"2017-03-08T16:33:20Z","updated_at":"2017-03-08T16:33:20Z","author_association":"NONE","body":"There is another related issue I'm facing. Is it possible to save more than one suggestion and display only one based on a certain attribute I pass to the suggestion engine ? \r\n\r\nFor example, the author names may be written differently in different languages. I can have the author names saved in different languages within the suggester engine. Based on the current app interface language, I want the suggested author name to match that of the user display language. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/285139773","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-285139773","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":285139773,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NTEzOTc3Mw==","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2017-03-08T19:18:26Z","updated_at":"2017-03-08T19:18:26Z","author_association":"CONTRIBUTOR","body":"> For example, the author names may be written differently in different languages. I can have the author names saved in different languages within the suggester engine. Based on the current app interface language, I want the suggested author name to match that of the user display language.\r\n\r\nI have a similar problem. The old suggester allowed to attach the \"output\" to the suggest input term. With the new one, you can no longer correlate the \"input\" term with the \"output\" in form of the \"_source\" document (you would need something like a \"highlighter\" to do this!). Of course, you can use different suggest fields in parallel (one for each language), but its then still hard to do the right suggestions if you do \"term normalization\", because you only get documents back. In my case, the autocompleter suggests also terms based on abbreviations (e.g., user starts to type in an abbreviation like \"Pb\", the suggester autocompletes \"Lead\" -- maybe bad example but it should just explain). With the outputs on previous completion this was possible, but no longer with the new one. It is impossible to guess from the autocompleted term which output from \"_source\" you would choose. Especially if you have many suggested terms (authors example)/document.\r\n\r\nIMHO, the whole thing should be solved like mentioned by @jimczi : Use the phrase suggester but allow to use it as an \"autocompleter\" instead of \"did you mean\".  As a side-effect the old completion suggester offered that, including the \"weights\" (because it defaulted to Suggest-TF if no weights were given).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/285140351","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-285140351","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":285140351,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NTE0MDM1MQ==","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2017-03-08T19:20:33Z","updated_at":"2017-03-08T19:20:33Z","author_association":"CONTRIBUTOR","body":"I would really like to keep the old completion suggester with a different field type (which is possible, otherwise ES could not read old indexes). And my plugin verifies it: I can still use the old suggester with a new field type \"legacy_completion\". HACK ALARM: I think I should publish it for download!","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/287576529","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-287576529","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":287576529,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NzU3NjUyOQ==","user":{"login":"seme1","id":8105948,"node_id":"MDQ6VXNlcjgxMDU5NDg=","avatar_url":"https://avatars0.githubusercontent.com/u/8105948?v=4","gravatar_id":"","url":"https://api.github.com/users/seme1","html_url":"https://github.com/seme1","followers_url":"https://api.github.com/users/seme1/followers","following_url":"https://api.github.com/users/seme1/following{/other_user}","gists_url":"https://api.github.com/users/seme1/gists{/gist_id}","starred_url":"https://api.github.com/users/seme1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seme1/subscriptions","organizations_url":"https://api.github.com/users/seme1/orgs","repos_url":"https://api.github.com/users/seme1/repos","events_url":"https://api.github.com/users/seme1/events{/privacy}","received_events_url":"https://api.github.com/users/seme1/received_events","type":"User","site_admin":false},"created_at":"2017-03-18T21:34:36Z","updated_at":"2017-03-18T21:34:36Z","author_association":"NONE","body":"@uschindler I'm relying on AWS ElasticSearch service. So, implemnting the hack is not currently an option. Besides, I have abandoned the upgrade to ES 5.1, and I'm still using ES 2.3. \r\n\r\n@jimczi \r\nHowever, it would be nice if the comments mentioned here are considered in future versions of ES.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/289442846","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-289442846","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":289442846,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTQ0Mjg0Ng==","user":{"login":"TheFireCookie","id":10741012,"node_id":"MDQ6VXNlcjEwNzQxMDEy","avatar_url":"https://avatars1.githubusercontent.com/u/10741012?v=4","gravatar_id":"","url":"https://api.github.com/users/TheFireCookie","html_url":"https://github.com/TheFireCookie","followers_url":"https://api.github.com/users/TheFireCookie/followers","following_url":"https://api.github.com/users/TheFireCookie/following{/other_user}","gists_url":"https://api.github.com/users/TheFireCookie/gists{/gist_id}","starred_url":"https://api.github.com/users/TheFireCookie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TheFireCookie/subscriptions","organizations_url":"https://api.github.com/users/TheFireCookie/orgs","repos_url":"https://api.github.com/users/TheFireCookie/repos","events_url":"https://api.github.com/users/TheFireCookie/events{/privacy}","received_events_url":"https://api.github.com/users/TheFireCookie/received_events","type":"User","site_admin":false},"created_at":"2017-03-27T12:47:14Z","updated_at":"2017-03-27T12:47:14Z","author_association":"NONE","body":"Hello @uschindler ,\r\n\r\nCould you share your plugin so I can use it?\r\n\r\nThanks,\r\nMatthias.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/289555874","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-289555874","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":289555874,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTU1NTg3NA==","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2017-03-27T19:15:22Z","updated_at":"2017-03-27T19:15:22Z","author_association":"CONTRIBUTOR","body":"@TheFireCookie: I was just waiting for somebody who asked! I will post it in my github account the next days. I just have to add license headers and extract it from my \"Eierlegendewollmilchsau\"-Plugin.\r\n\r\nUwe","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/290785283","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-290785283","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":290785283,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MDc4NTI4Mw==","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"created_at":"2017-03-31T18:04:06Z","updated_at":"2017-03-31T18:04:06Z","author_association":"CONTRIBUTOR","body":"Hi @TheFireCookie,\r\nhere is the plugin source code and readme file. It is set up for Elasticsearch 5.3.0, but it is easy to compile with any 5.x version. Just change the version number in the POM.\r\n\r\nhttps://github.com/uschindler/es-legacy-completion-plugin","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/300585225","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-300585225","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":300585225,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMDU4NTIyNQ==","user":{"login":"madirey","id":611653,"node_id":"MDQ6VXNlcjYxMTY1Mw==","avatar_url":"https://avatars0.githubusercontent.com/u/611653?v=4","gravatar_id":"","url":"https://api.github.com/users/madirey","html_url":"https://github.com/madirey","followers_url":"https://api.github.com/users/madirey/followers","following_url":"https://api.github.com/users/madirey/following{/other_user}","gists_url":"https://api.github.com/users/madirey/gists{/gist_id}","starred_url":"https://api.github.com/users/madirey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/madirey/subscriptions","organizations_url":"https://api.github.com/users/madirey/orgs","repos_url":"https://api.github.com/users/madirey/repos","events_url":"https://api.github.com/users/madirey/events{/privacy}","received_events_url":"https://api.github.com/users/madirey/received_events","type":"User","site_admin":false},"created_at":"2017-05-10T19:16:57Z","updated_at":"2017-05-10T19:16:57Z","author_association":"NONE","body":"+1 Would love to see this fixed in an upcoming release.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/306193512","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-306193512","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":306193512,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNjE5MzUxMg==","user":{"login":"pciccarese","id":10923279,"node_id":"MDQ6VXNlcjEwOTIzMjc5","avatar_url":"https://avatars0.githubusercontent.com/u/10923279?v=4","gravatar_id":"","url":"https://api.github.com/users/pciccarese","html_url":"https://github.com/pciccarese","followers_url":"https://api.github.com/users/pciccarese/followers","following_url":"https://api.github.com/users/pciccarese/following{/other_user}","gists_url":"https://api.github.com/users/pciccarese/gists{/gist_id}","starred_url":"https://api.github.com/users/pciccarese/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pciccarese/subscriptions","organizations_url":"https://api.github.com/users/pciccarese/orgs","repos_url":"https://api.github.com/users/pciccarese/repos","events_url":"https://api.github.com/users/pciccarese/events{/privacy}","received_events_url":"https://api.github.com/users/pciccarese/received_events","type":"User","site_admin":false},"created_at":"2017-06-05T13:55:44Z","updated_at":"2017-06-05T13:55:44Z","author_association":"NONE","body":"Hi, no updates on this issue? Is is something that will eventually get addressed? Is there a more current discussion on this topic?\r\nThank you!","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/313219330","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-313219330","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":313219330,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMzIxOTMzMA==","user":{"login":"harryatoms","id":23172068,"node_id":"MDQ6VXNlcjIzMTcyMDY4","avatar_url":"https://avatars0.githubusercontent.com/u/23172068?v=4","gravatar_id":"","url":"https://api.github.com/users/harryatoms","html_url":"https://github.com/harryatoms","followers_url":"https://api.github.com/users/harryatoms/followers","following_url":"https://api.github.com/users/harryatoms/following{/other_user}","gists_url":"https://api.github.com/users/harryatoms/gists{/gist_id}","starred_url":"https://api.github.com/users/harryatoms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harryatoms/subscriptions","organizations_url":"https://api.github.com/users/harryatoms/orgs","repos_url":"https://api.github.com/users/harryatoms/repos","events_url":"https://api.github.com/users/harryatoms/events{/privacy}","received_events_url":"https://api.github.com/users/harryatoms/received_events","type":"User","site_admin":false},"created_at":"2017-07-05T20:36:04Z","updated_at":"2017-07-05T20:36:04Z","author_association":"NONE","body":"Maybe I'm missing something but this completely breaks (my) idea of the completion suggester.\r\n\r\nVery common scenario; store an array of 'tags' on a document and use the completion suggester to provide autocomplete when entering/searching tags on a UI.\r\n\r\nIf a single document has multiple tags that are similar and match the query, only one result will be returned.\r\n\r\nExample:\r\ndocument: { tags: ['rick', 'roll'] }\r\nsuggest query term: 'r'\r\noutput options: ['rick']\r\nexpected options: ['rick', 'roll']\r\n\r\nIf I'm missing something, please let me know.\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/324707749","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-324707749","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":324707749,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDcwNzc0OQ==","user":{"login":"seme1","id":8105948,"node_id":"MDQ6VXNlcjgxMDU5NDg=","avatar_url":"https://avatars0.githubusercontent.com/u/8105948?v=4","gravatar_id":"","url":"https://api.github.com/users/seme1","html_url":"https://github.com/seme1","followers_url":"https://api.github.com/users/seme1/followers","following_url":"https://api.github.com/users/seme1/following{/other_user}","gists_url":"https://api.github.com/users/seme1/gists{/gist_id}","starred_url":"https://api.github.com/users/seme1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seme1/subscriptions","organizations_url":"https://api.github.com/users/seme1/orgs","repos_url":"https://api.github.com/users/seme1/repos","events_url":"https://api.github.com/users/seme1/events{/privacy}","received_events_url":"https://api.github.com/users/seme1/received_events","type":"User","site_admin":false},"created_at":"2017-08-24T17:48:15Z","updated_at":"2017-08-24T17:48:15Z","author_association":"NONE","body":"Any updates from the ES team on this issue ??\r\nI'm unable to upgrade to any version above 5.x due to this issue. I'm also suffering from another issue with ES 2.3 (I reported it bug in ES2.3  https://github.com/elastic/elasticsearch/issues/26358 but closed by ES team because it was fixed in ES 5.x). I feel really stuck now. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/328453200","html_url":"https://github.com/elastic/elasticsearch/issues/22912#issuecomment-328453200","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22912","id":328453200,"node_id":"MDEyOklzc3VlQ29tbWVudDMyODQ1MzIwMA==","user":{"login":"nofexio","id":8706877,"node_id":"MDQ6VXNlcjg3MDY4Nzc=","avatar_url":"https://avatars3.githubusercontent.com/u/8706877?v=4","gravatar_id":"","url":"https://api.github.com/users/nofexio","html_url":"https://github.com/nofexio","followers_url":"https://api.github.com/users/nofexio/followers","following_url":"https://api.github.com/users/nofexio/following{/other_user}","gists_url":"https://api.github.com/users/nofexio/gists{/gist_id}","starred_url":"https://api.github.com/users/nofexio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nofexio/subscriptions","organizations_url":"https://api.github.com/users/nofexio/orgs","repos_url":"https://api.github.com/users/nofexio/repos","events_url":"https://api.github.com/users/nofexio/events{/privacy}","received_events_url":"https://api.github.com/users/nofexio/received_events","type":"User","site_admin":false},"created_at":"2017-09-11T08:14:18Z","updated_at":"2017-09-11T08:14:18Z","author_association":"NONE","body":"Any news? The new Lucene version mentioned above is already merged. \r\nAre there any other requirements to solve this issue?  It would be great if there were any updates.","performed_via_github_app":null}]