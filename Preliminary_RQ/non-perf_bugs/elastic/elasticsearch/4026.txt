{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/4026","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4026/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4026/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4026/events","html_url":"https://github.com/elastic/elasticsearch/issues/4026","id":21899932,"node_id":"MDU6SXNzdWUyMTg5OTkzMg==","number":4026,"title":"Bound the number of search results returned by elasticsearch","user":{"login":"nicktgr15","id":2852737,"node_id":"MDQ6VXNlcjI4NTI3Mzc=","avatar_url":"https://avatars0.githubusercontent.com/u/2852737?v=4","gravatar_id":"","url":"https://api.github.com/users/nicktgr15","html_url":"https://github.com/nicktgr15","followers_url":"https://api.github.com/users/nicktgr15/followers","following_url":"https://api.github.com/users/nicktgr15/following{/other_user}","gists_url":"https://api.github.com/users/nicktgr15/gists{/gist_id}","starred_url":"https://api.github.com/users/nicktgr15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicktgr15/subscriptions","organizations_url":"https://api.github.com/users/nicktgr15/orgs","repos_url":"https://api.github.com/users/nicktgr15/repos","events_url":"https://api.github.com/users/nicktgr15/events{/privacy}","received_events_url":"https://api.github.com/users/nicktgr15/received_events","type":"User","site_admin":false},"labels":[{"id":110815527,"node_id":"MDU6TGFiZWwxMTA4MTU1Mjc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/help%20wanted","name":"help wanted","color":"207de5","default":true,"description":"adoptme"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2013-10-31T14:36:54Z","updated_at":"2015-01-30T11:39:22Z","closed_at":"2015-01-30T11:39:22Z","author_association":"NONE","active_lock_reason":null,"body":"Hello,\n\nWhen making a search request (post) like the following to elasticsearch using kibana I get a java heap space error and my elasticsearch node can't recover. \n\n{\"query\":{\"filtered\":{\"query\":{\"bool\":{\"should\":[{\"query_string\":{\"query\":\"*\"}}]}},\"filter\":{\"bool\":{\"must\":[{\"match_all\":{}},{\"bool\":{\"must\":[{\"match_all\":{}}]}}]}}}},\"highlight\":{\"fields\":{},\"fragment_size\":2147483647,\"pre_tags\":[\"@start-highlight@\"],\"post_tags\":[\"@end-highlight@\"]},\"size\":<b>1000000</b>,\"sort\":[{\"_id\":{\"order\":\"desc\"}}]}\n\n<b>Question</b>: Is it possible to somehow restrict the maximum value of \"size\" that someone can use? In general, Is it possible to bound the number of results returned by elasticsearch to avoid out of memory errors?\n\nI don't want to increase the heap size (currently 1gb) as this would not solve the problem.\n\nRegards,\nNick\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}