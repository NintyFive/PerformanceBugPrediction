[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/527115099","html_url":"https://github.com/elastic/elasticsearch/issues/46230#issuecomment-527115099","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46230","id":527115099,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzExNTA5OQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-09-02T11:36:35Z","updated_at":"2019-09-02T11:36:35Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-security","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/527139962","html_url":"https://github.com/elastic/elasticsearch/issues/46230#issuecomment-527139962","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46230","id":527139962,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzEzOTk2Mg==","user":{"login":"henningandersen","id":33268011,"node_id":"MDQ6VXNlcjMzMjY4MDEx","avatar_url":"https://avatars2.githubusercontent.com/u/33268011?v=4","gravatar_id":"","url":"https://api.github.com/users/henningandersen","html_url":"https://github.com/henningandersen","followers_url":"https://api.github.com/users/henningandersen/followers","following_url":"https://api.github.com/users/henningandersen/following{/other_user}","gists_url":"https://api.github.com/users/henningandersen/gists{/gist_id}","starred_url":"https://api.github.com/users/henningandersen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/henningandersen/subscriptions","organizations_url":"https://api.github.com/users/henningandersen/orgs","repos_url":"https://api.github.com/users/henningandersen/repos","events_url":"https://api.github.com/users/henningandersen/events{/privacy}","received_events_url":"https://api.github.com/users/henningandersen/received_events","type":"User","site_admin":false},"created_at":"2019-09-02T13:01:00Z","updated_at":"2019-09-02T13:01:00Z","author_association":"CONTRIBUTOR","body":"This does reproduce using:\r\n\r\n```\r\n./gradlew :x-pack:plugin:security:test --tests \"org.elasticsearch.xpack.ssl.SSLClientAuthTests\"   -Dtests.seed=E8F33A5E6B8FE7EF   -Dtests.security.manager=true   -Dtests.locale=rwk-TZ   -Dtests.timezone=America/Antigua   -Dcompiler.java=12   -Druntime.java=11\r\n```\r\n\r\nagainst 7.x","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/527408108","html_url":"https://github.com/elastic/elasticsearch/issues/46230#issuecomment-527408108","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46230","id":527408108,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzQwODEwOA==","user":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"created_at":"2019-09-03T10:52:47Z","updated_at":"2019-09-03T10:52:47Z","author_association":"CONTRIBUTOR","body":"I can't see any commits that could have introduced this on August 28th/29th. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/527421963","html_url":"https://github.com/elastic/elasticsearch/issues/46230#issuecomment-527421963","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46230","id":527421963,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzQyMTk2Mw==","user":{"login":"henningandersen","id":33268011,"node_id":"MDQ6VXNlcjMzMjY4MDEx","avatar_url":"https://avatars2.githubusercontent.com/u/33268011?v=4","gravatar_id":"","url":"https://api.github.com/users/henningandersen","html_url":"https://github.com/henningandersen","followers_url":"https://api.github.com/users/henningandersen/followers","following_url":"https://api.github.com/users/henningandersen/following{/other_user}","gists_url":"https://api.github.com/users/henningandersen/gists{/gist_id}","starred_url":"https://api.github.com/users/henningandersen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/henningandersen/subscriptions","organizations_url":"https://api.github.com/users/henningandersen/orgs","repos_url":"https://api.github.com/users/henningandersen/repos","events_url":"https://api.github.com/users/henningandersen/events{/privacy}","received_events_url":"https://api.github.com/users/henningandersen/received_events","type":"User","site_admin":false},"created_at":"2019-09-03T11:39:32Z","updated_at":"2019-09-03T11:39:32Z","author_association":"CONTRIBUTOR","body":"There were several tests that starting failing on August 29th and this does coincide with the version bump. It may be a red herring, but could be worth examining. I did try a few naive searches, but did not spot anything that would differ based on the version bump.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/527451012","html_url":"https://github.com/elastic/elasticsearch/issues/46230#issuecomment-527451012","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46230","id":527451012,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzQ1MTAxMg==","user":{"login":"hendrikmuhs","id":7126422,"node_id":"MDQ6VXNlcjcxMjY0MjI=","avatar_url":"https://avatars3.githubusercontent.com/u/7126422?v=4","gravatar_id":"","url":"https://api.github.com/users/hendrikmuhs","html_url":"https://github.com/hendrikmuhs","followers_url":"https://api.github.com/users/hendrikmuhs/followers","following_url":"https://api.github.com/users/hendrikmuhs/following{/other_user}","gists_url":"https://api.github.com/users/hendrikmuhs/gists{/gist_id}","starred_url":"https://api.github.com/users/hendrikmuhs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hendrikmuhs/subscriptions","organizations_url":"https://api.github.com/users/hendrikmuhs/orgs","repos_url":"https://api.github.com/users/hendrikmuhs/repos","events_url":"https://api.github.com/users/hendrikmuhs/events{/privacy}","received_events_url":"https://api.github.com/users/hendrikmuhs/received_events","type":"User","site_admin":false},"created_at":"2019-09-03T13:09:10Z","updated_at":"2019-09-03T13:09:10Z","author_association":"CONTRIBUTOR","body":"another one: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+periodic/545/console","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/527798632","html_url":"https://github.com/elastic/elasticsearch/issues/46230#issuecomment-527798632","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46230","id":527798632,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNzc5ODYzMg==","user":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"created_at":"2019-09-04T08:26:43Z","updated_at":"2019-09-04T08:26:43Z","author_association":"CONTRIBUTOR","body":"Another: https://gradle-enterprise.elastic.co/s/lymakh2qm3dr2\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/528771509","html_url":"https://github.com/elastic/elasticsearch/issues/46230#issuecomment-528771509","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46230","id":528771509,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODc3MTUwOQ==","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2019-09-06T08:52:17Z","updated_at":"2019-09-06T08:52:17Z","author_association":"MEMBER","body":"I muted the test in f033c3fb8955d3ac01e5551556b67a5b7a172d95\r\n\r\nI think that #45666 which added AdopOpenJDK is a good suspect.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/529431700","html_url":"https://github.com/elastic/elasticsearch/issues/46230#issuecomment-529431700","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46230","id":529431700,"node_id":"MDEyOklzc3VlQ29tbWVudDUyOTQzMTcwMA==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2019-09-09T11:40:48Z","updated_at":"2019-09-09T11:40:48Z","author_association":"CONTRIBUTOR","body":"Now that `testThatHttpFailsWithoutSslClientAuth` is muted the failure has moved on to a different test in the same suite: `testThatHttpWorksWithSslClientAuth`\r\n\r\nThis failed in https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+multijob-darwin-compatibility/199/console with the error `cluster failed to form with expected nodes`.\r\n\r\nSome possibly interesting exceptions from the [test output](https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+multijob-darwin-compatibility/199/testReport/junit/org.elasticsearch.xpack.ssl/SSLClientAuthTests/testThatHttpWorksWithSslClientAuth/) are `javax.net.ssl.SSLException: Session has no PSK`, `javax.net.ssl.SSLException: Received fatal alert: internal_error` and `javax.net.ssl.SSLHandshakeException: Insufficient buffer remaining for AEAD cipher fragment (2). Needs to be more than tag size (16)`.\r\n\r\nThe failure did not reproduce locally for me using:\r\n\r\n```\r\n./gradlew ':x-pack:plugin:security:test' --tests \"org.elasticsearch.xpack.ssl.SSLClientAuthTests.testThatHttpWorksWithSslClientAuth\" \\\r\n  -Dtests.seed=2784063770E3790B \\\r\n  -Dtests.security.manager=true \\\r\n  -Dtests.locale=fr-MQ \\\r\n  -Dtests.timezone=US/Central \\\r\n  -Dcompiler.java=12 \\\r\n  -Druntime.java=11\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/529457436","html_url":"https://github.com/elastic/elasticsearch/issues/46230#issuecomment-529457436","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46230","id":529457436,"node_id":"MDEyOklzc3VlQ29tbWVudDUyOTQ1NzQzNg==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2019-09-09T12:49:02Z","updated_at":"2019-09-09T12:49:02Z","author_association":"CONTRIBUTOR","body":"I muted `SSLClientAuthTests.testThatHttpWorksWithSslClientAuth` in 52c709120fc2290074466bbf2f36e83aa90aab2b as it has failed a few times now.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/530111833","html_url":"https://github.com/elastic/elasticsearch/issues/46230#issuecomment-530111833","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46230","id":530111833,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDExMTgzMw==","user":{"login":"jaymode","id":4339958,"node_id":"MDQ6VXNlcjQzMzk5NTg=","avatar_url":"https://avatars1.githubusercontent.com/u/4339958?v=4","gravatar_id":"","url":"https://api.github.com/users/jaymode","html_url":"https://github.com/jaymode","followers_url":"https://api.github.com/users/jaymode/followers","following_url":"https://api.github.com/users/jaymode/following{/other_user}","gists_url":"https://api.github.com/users/jaymode/gists{/gist_id}","starred_url":"https://api.github.com/users/jaymode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaymode/subscriptions","organizations_url":"https://api.github.com/users/jaymode/orgs","repos_url":"https://api.github.com/users/jaymode/repos","events_url":"https://api.github.com/users/jaymode/events{/privacy}","received_events_url":"https://api.github.com/users/jaymode/received_events","type":"User","site_admin":false},"created_at":"2019-09-10T20:45:25Z","updated_at":"2019-09-10T20:45:25Z","author_association":"MEMBER","body":"There was a [race condition](https://bugs.openjdk.java.net/browse/JDK-8213202) related to this fixed in JDK 12 and JDK 11.0.3. I sampled the failures and the runtime java is adoptopenjdk11 or JDK 11.0.2. I for sure have seen this with JDK 11.0.2, but I am not sure what patch version adoptopenjdk11 would equate to; @jasontedor do you know?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/530113783","html_url":"https://github.com/elastic/elasticsearch/issues/46230#issuecomment-530113783","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46230","id":530113783,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDExMzc4Mw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2019-09-10T20:50:52Z","updated_at":"2019-09-10T20:50:52Z","author_association":"MEMBER","body":"@jaymode OpenJDK 11.0.2 would equate to AdoptOpenJDK 11.0.2 as well.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/530121819","html_url":"https://github.com/elastic/elasticsearch/issues/46230#issuecomment-530121819","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46230","id":530121819,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDEyMTgxOQ==","user":{"login":"jaymode","id":4339958,"node_id":"MDQ6VXNlcjQzMzk5NTg=","avatar_url":"https://avatars1.githubusercontent.com/u/4339958?v=4","gravatar_id":"","url":"https://api.github.com/users/jaymode","html_url":"https://github.com/jaymode","followers_url":"https://api.github.com/users/jaymode/followers","following_url":"https://api.github.com/users/jaymode/following{/other_user}","gists_url":"https://api.github.com/users/jaymode/gists{/gist_id}","starred_url":"https://api.github.com/users/jaymode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaymode/subscriptions","organizations_url":"https://api.github.com/users/jaymode/orgs","repos_url":"https://api.github.com/users/jaymode/repos","events_url":"https://api.github.com/users/jaymode/events{/privacy}","received_events_url":"https://api.github.com/users/jaymode/received_events","type":"User","site_admin":false},"created_at":"2019-09-10T21:11:40Z","updated_at":"2019-09-10T21:11:40Z","author_association":"MEMBER","body":"Further digging reveals that `adoptopenjdk11` is most likely not AdoptOpenJDK11 but the base Oracle JDK 11, which would trigger these failures as well.\r\n\r\n```\r\nRuntime JDK Version   : 11 (Oracle Corporation 11 [OpenJDK 64-Bit Server VM 11+28])\r\nRuntime java.home     : /var/lib/jenkins/.java/adoptopenjdk11\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/530927785","html_url":"https://github.com/elastic/elasticsearch/issues/46230#issuecomment-530927785","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46230","id":530927785,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMDkyNzc4NQ==","user":{"login":"jaymode","id":4339958,"node_id":"MDQ6VXNlcjQzMzk5NTg=","avatar_url":"https://avatars1.githubusercontent.com/u/4339958?v=4","gravatar_id":"","url":"https://api.github.com/users/jaymode","html_url":"https://github.com/jaymode","followers_url":"https://api.github.com/users/jaymode/followers","following_url":"https://api.github.com/users/jaymode/following{/other_user}","gists_url":"https://api.github.com/users/jaymode/gists{/gist_id}","starred_url":"https://api.github.com/users/jaymode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaymode/subscriptions","organizations_url":"https://api.github.com/users/jaymode/orgs","repos_url":"https://api.github.com/users/jaymode/repos","events_url":"https://api.github.com/users/jaymode/events{/privacy}","received_events_url":"https://api.github.com/users/jaymode/received_events","type":"User","site_admin":false},"created_at":"2019-09-12T17:34:10Z","updated_at":"2019-09-12T17:34:10Z","author_association":"MEMBER","body":"> adoptopenjdk11 is most likely not AdoptOpenJDK11 but the base Oracle JDK 11\r\n\r\nThis is not the case. It is in fact AdoptOpenJDK 11, but just an issue in the original 11+28 release (the first 11 release). Adding in this JVM triggers this test issue since the TLS resumption bug is not fixed in this JDK. This test is specifically affected because it disables client authentication on the transport layer; the use of client authentication prevents the triggering of session resumption bug.","performed_via_github_app":null}]