[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/19533263","html_url":"https://github.com/elastic/elasticsearch/issues/3193#issuecomment-19533263","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3193","id":19533263,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTMzMjYz","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2013-06-17T08:59:35Z","updated_at":"2013-06-17T08:59:35Z","author_association":"CONTRIBUTOR","body":"Thanks for the report, I'll look into it.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/19536332","html_url":"https://github.com/elastic/elasticsearch/issues/3193#issuecomment-19536332","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3193","id":19536332,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTM2MzMy","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2013-06-17T10:10:24Z","updated_at":"2013-06-17T10:10:24Z","author_association":"CONTRIBUTOR","body":"I couldn't manage to reproduce this issue. Can you make sure you are using Elasticsearch 0.90.1 and provide a test case that demonstrates the problem?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/19537222","html_url":"https://github.com/elastic/elasticsearch/issues/3193#issuecomment-19537222","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3193","id":19537222,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTM3MjIy","user":{"login":"lxbzmy","id":2208717,"node_id":"MDQ6VXNlcjIyMDg3MTc=","avatar_url":"https://avatars1.githubusercontent.com/u/2208717?v=4","gravatar_id":"","url":"https://api.github.com/users/lxbzmy","html_url":"https://github.com/lxbzmy","followers_url":"https://api.github.com/users/lxbzmy/followers","following_url":"https://api.github.com/users/lxbzmy/following{/other_user}","gists_url":"https://api.github.com/users/lxbzmy/gists{/gist_id}","starred_url":"https://api.github.com/users/lxbzmy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lxbzmy/subscriptions","organizations_url":"https://api.github.com/users/lxbzmy/orgs","repos_url":"https://api.github.com/users/lxbzmy/repos","events_url":"https://api.github.com/users/lxbzmy/events{/privacy}","received_events_url":"https://api.github.com/users/lxbzmy/received_events","type":"User","site_admin":false},"created_at":"2013-06-17T10:33:17Z","updated_at":"2013-06-17T10:33:17Z","author_association":"NONE","body":"I couldn't  reproduce this issue too. But I remember\nproduce\n\n1 100,000 rows insert  with time field : {time:'Mon Jun 17 2013 08:00:00\nGMT+0800'} it is recongize as a string\n1. XPUT mapping and tell me\n   {\"error\":\"MergeMappingException[Merge failed with failures {[mapper [time]\n   of different type, current_type [string], merged_type\n   [date]]}]\",\"status\":400}\n2. XDELETE index.\n3. change time format  to {\"time\":\"2013-06-15T16:52:34\"}\n\n5 100,000 rows insert.\n\n6  curl -XGET http://localhost:9200/syslog/log1/_search?pretty= -d '\n{\n  \"facets\": {\n    \"time\": {\n      \"date_histogram\": {\n        \"field\": \"time\",\n        \"interval\": \"hour\"\n      }\n    }\n  }\n}'\n\nthrow exception.\n\nI will keep in touch .\n\n> I couldn't manage to reproduce this issue. Can you make sure you are using\n> Elasticsearch 0.90.1 and provide a test case that demonstrates the problem?\n> \n> —\n> Reply to this email directly or view it on GitHubhttps://github.com/elasticsearch/elasticsearch/issues/3193#issuecomment-19536332\n> .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/19537948","html_url":"https://github.com/elastic/elasticsearch/issues/3193#issuecomment-19537948","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3193","id":19537948,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTM3OTQ4","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-06-17T10:51:52Z","updated_at":"2013-06-17T10:51:52Z","author_association":"CONTRIBUTOR","body":"are you creating the index with the first request or do you explicitly set a mapping?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/19545742","html_url":"https://github.com/elastic/elasticsearch/issues/3193#issuecomment-19545742","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3193","id":19545742,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NTQ1NzQy","user":{"login":"lxbzmy","id":2208717,"node_id":"MDQ6VXNlcjIyMDg3MTc=","avatar_url":"https://avatars1.githubusercontent.com/u/2208717?v=4","gravatar_id":"","url":"https://api.github.com/users/lxbzmy","html_url":"https://github.com/lxbzmy","followers_url":"https://api.github.com/users/lxbzmy/followers","following_url":"https://api.github.com/users/lxbzmy/following{/other_user}","gists_url":"https://api.github.com/users/lxbzmy/gists{/gist_id}","starred_url":"https://api.github.com/users/lxbzmy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lxbzmy/subscriptions","organizations_url":"https://api.github.com/users/lxbzmy/orgs","repos_url":"https://api.github.com/users/lxbzmy/repos","events_url":"https://api.github.com/users/lxbzmy/events{/privacy}","received_events_url":"https://api.github.com/users/lxbzmy/received_events","type":"User","site_admin":false},"created_at":"2013-06-17T13:47:03Z","updated_at":"2013-06-17T13:47:03Z","author_association":"NONE","body":"When I found time field is wrong I have already insert 100000 test data.\n\nat this time I can not change field type.\n\nso I delete index. and insert a data. and put a mapping. and insert 100000\ndata again.\n\nSome one report same problem at google groups.\n\n2013/6/17 Simon Willnauer notifications@github.com\n\n> are you creating the index with the first request or do you explicitly set\n> a mapping?\n> \n> —\n> Reply to this email directly or view it on GitHubhttps://github.com/elasticsearch/elasticsearch/issues/3193#issuecomment-19537948\n> .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/19802435","html_url":"https://github.com/elastic/elasticsearch/issues/3193#issuecomment-19802435","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3193","id":19802435,"node_id":"MDEyOklzc3VlQ29tbWVudDE5ODAyNDM1","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2013-06-21T07:44:30Z","updated_at":"2013-06-21T07:44:30Z","author_association":"CONTRIBUTOR","body":"By any chance, do you have a full stack trace of the problem? (should be in Elasticsearch logs)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/19803521","html_url":"https://github.com/elastic/elasticsearch/issues/3193#issuecomment-19803521","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3193","id":19803521,"node_id":"MDEyOklzc3VlQ29tbWVudDE5ODAzNTIx","user":{"login":"lxbzmy","id":2208717,"node_id":"MDQ6VXNlcjIyMDg3MTc=","avatar_url":"https://avatars1.githubusercontent.com/u/2208717?v=4","gravatar_id":"","url":"https://api.github.com/users/lxbzmy","html_url":"https://github.com/lxbzmy","followers_url":"https://api.github.com/users/lxbzmy/followers","following_url":"https://api.github.com/users/lxbzmy/following{/other_user}","gists_url":"https://api.github.com/users/lxbzmy/gists{/gist_id}","starred_url":"https://api.github.com/users/lxbzmy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lxbzmy/subscriptions","organizations_url":"https://api.github.com/users/lxbzmy/orgs","repos_url":"https://api.github.com/users/lxbzmy/repos","events_url":"https://api.github.com/users/lxbzmy/events{/privacy}","received_events_url":"https://api.github.com/users/lxbzmy/received_events","type":"User","site_admin":false},"created_at":"2013-06-21T08:18:16Z","updated_at":"2013-06-21T08:18:16Z","author_association":"NONE","body":"It seems that I miss some log before this one.\nI remember put /syslog/syslog and delte it and reput /syslog/syslog again.\ndifferent is I found time filed type is string and date\n\n> [2013-06-15 14:25:03,609][WARN ][bootstrap                ] jvm uses the\n> client vm, make sure to run `java` with the server vm for best performance\n> by adding `-server` to the command line\n> [2013-06-15 14:25:03,609][INFO ][node                     ] [Ape]\n> {0.90.1}[5708]: initializing ...\n> [2013-06-15 14:25:03,625][INFO ][plugins                  ] [Ape] loaded\n> [], sites []\n> [2013-06-15 14:25:05,828][INFO ][node                     ] [Ape]\n> {0.90.1}[5708]: initialized\n> [2013-06-15 14:25:05,828][INFO ][node                     ] [Ape]\n> {0.90.1}[5708]: starting ...\n> [2013-06-15 14:25:06,062][INFO ][transport                ] [Ape]\n> bound_address {inet[/0.0.0.0:9300]}, publish_address {inet[/\n> 192.168.11.107:9300]}\n> [2013-06-15 14:25:09,156][INFO ][cluster.service          ] [Ape]\n> new_master [Ape][yn3er67mTN2lIGO7r8uXjw][inet[/192.168.11.107:9300]],\n> reason: zen-disco-join (elected_as_master)\n> [2013-06-15 14:25:09,203][INFO ][discovery                ] [Ape]\n> elasticsearch/yn3er67mTN2lIGO7r8uXjw\n> [2013-06-15 14:25:09,234][INFO ][http                     ] [Ape]\n> bound_address {inet[/0.0.0.0:9200]}, publish_address {inet[/\n> 192.168.11.107:9200]}\n> [2013-06-15 14:25:09,234][INFO ][node                     ] [Ape]\n> {0.90.1}[5708]: started\n> [2013-06-15 14:25:09,312][INFO ][gateway                  ] [Ape]\n> recovered [0] indices into cluster_state\n> [2013-06-15 14:28:19,937][INFO ][cluster.metadata         ] [Ape] [syslog]\n> creating index, cause [auto(index api)], shards [5]/[1], mappings []\n> [2013-06-15 14:28:20,421][INFO ][cluster.metadata         ] [Ape] [syslog]\n> update_mapping [syslog](dynamic)\n> [2013-06-15 14:28:22,328][WARN ][http.netty               ] [Ape] Caught\n> exception while handling client http traffic, closing connection [id:\n> 0x33c77d0c, /192.168.11.110:4421 => /192.168.11.107:9200]\n> java.io.IOException: 远程主机强迫关闭了一个现有的连接。\n> at sun.nio.ch.SocketDispatcher.read0(Native Method)\n> at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:25)\n> at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:202)\n> at sun.nio.ch.IOUtil.read(IOUtil.java:169)\n> at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:243)\n> at\n> org.elasticsearch.common.netty.channel.socket.nio.NioWorker.read(NioWorker.java:64)\n> at\n> org.elasticsearch.common.netty.channel.socket.nio.AbstractNioWorker.process(AbstractNioWorker.java:107)\n> at\n> org.elasticsearch.common.netty.channel.socket.nio.AbstractNioSelector.run(AbstractNioSelector.java:312)\n> at\n> org.elasticsearch.common.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:88)\n> at\n> org.elasticsearch.common.netty.channel.socket.nio.NioWorker.run(NioWorker.java:178)\n> at\n> org.elasticsearch.common.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:108)\n> at\n> org.elasticsearch.common.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)\n> at\n> java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n> at\n> java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n> at java.lang.Thread.run(Thread.java:662)\n> [2013-06-15 14:50:28,000][WARN ][http.netty               ] [Ape] Caught\n> exception while handling client http traffic, closing connection [id:\n> 0x2c33bfc8, /192.168.11.110:4428 => /192.168.11.107:9200]\n> java.io.IOException: 远程主机强迫关闭了一个现有的连接。\n> at sun.nio.ch.SocketDispatcher.read0(Native Method)\n> at sun.nio.ch.SocketDispatcher.read(SocketDispatcher.java:25)\n> at sun.nio.ch.IOUtil.readIntoNativeBuffer(IOUtil.java:202)\n> at sun.nio.ch.IOUtil.read(IOUtil.java:169)\n> at sun.nio.ch.SocketChannelImpl.read(SocketChannelImpl.java:243)\n> at\n> org.elasticsearch.common.netty.channel.socket.nio.NioWorker.read(NioWorker.java:64)\n> at\n> org.elasticsearch.common.netty.channel.socket.nio.AbstractNioWorker.process(AbstractNioWorker.java:107)\n> at\n> org.elasticsearch.common.netty.channel.socket.nio.AbstractNioSelector.run(AbstractNioSelector.java:312)\n> at\n> org.elasticsearch.common.netty.channel.socket.nio.AbstractNioWorker.run(AbstractNioWorker.java:88)\n> at\n> org.elasticsearch.common.netty.channel.socket.nio.NioWorker.run(NioWorker.java:178)\n> at\n> org.elasticsearch.common.netty.util.ThreadRenamingRunnable.run(ThreadRenamingRunnable.java:108)\n> at\n> org.elasticsearch.common.netty.util.internal.DeadLockProofWorker$1.run(DeadLockProofWorker.java:42)\n> at\n> java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n> at\n> java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n> at java.lang.Thread.run(Thread.java:662)\n> [2013-06-15 16:55:43,531][INFO ][cluster.metadata         ] [Ape]\n> [[syslog]] remove_mapping [syslog]\n> [2013-06-15 17:01:10,187][INFO ][cluster.metadata         ] [Ape] [syslog]\n> create_mapping [syslog]\n> [2013-06-15 17:09:05,906][DEBUG][action.search.type       ] [Ape]\n> [syslog][2], node[yn3er67mTN2lIGO7r8uXjw], [P], s[STARTED]: Failed to\n> execute [org.elasticsearch.action.search.SearchRequest@1ca9565]\n> org.elasticsearch.search.SearchParseException: [syslog][2]:\n> query[ConstantScore(_:_)],from[0],size[100]: Parse Failure [Failed to parse\n> source\n> [{\"fields\":[\"facility\",\"hostname\",\"id\",\"message\",\"serverity\",\"tag\",\"time\",\"type\"],\"from\":0,\"size\":100,\"query\":{\"match_all\":{}},\"facets\":{\"facility\":{\"terms\":{\"field\":\"facility\",\"size\":7}},\"hostname\":{\"terms\":{\"field\":\"hostname\",\"size\":7}},\"id\":{\"terms\":{\"field\":\"id\",\"size\":7}},\"message\":{\"terms\":{\"field\":\"message\",\"size\":7}},\"serverity\":{\"statistical\":{\"field\":\"serverity\"}},\"tag\":{\"terms\":{\"field\":\"tag\",\"size\":7}},\"time\":{\"date_histogram\":{\"field\":\"time\",\"interval\":\"hour\",\"post_zone\":-8}},\"type\":{\"terms\":{\"field\":\"type\",\"size\":7}}}}]]\n> at\n> org.elasticsearch.search.SearchService.parseSource(SearchService.java:573)\n> at\n> org.elasticsearch.search.SearchService.createContext(SearchService.java:484)\n> at\n> org.elasticsearch.search.SearchService.createContext(SearchService.java:469)\n> at\n> org.elasticsearch.search.SearchService.createAndPutContext(SearchService.java:462)\n> at\n> org.elasticsearch.search.SearchService.executeQueryPhase(SearchService.java:234)\n> at\n> org.elasticsearch.search.action.SearchServiceTransportAction.sendExecuteQuery(SearchServiceTransportAction.java:141)\n> at\n> org.elasticsearch.action.search.type.TransportSearchQueryThenFetchAction$AsyncAction.sendExecuteFirstPhase(TransportSearchQueryThenFetchAction.java:80)\n> at\n> org.elasticsearch.action.search.type.TransportSearchTypeAction$BaseAsyncAction.performFirstPhase(TransportSearchTypeAction.java:206)\n> at\n> org.elasticsearch.action.search.type.TransportSearchTypeAction$BaseAsyncAction.performFirstPhase(TransportSearchTypeAction.java:193)\n> at\n> org.elasticsearch.action.search.type.TransportSearchTypeAction$BaseAsyncAction$2.run(TransportSearchTypeAction.java:179)\n> at\n> java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n> at\n> java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n> at java.lang.Thread.run(Thread.java:662)\n> Caused by: java.lang.ClassCastException:\n> org.elasticsearch.index.fielddata.plain.PagedBytesIndexFieldData cannot be\n> cast to org.elasticsearch.index.fielddata.IndexNumericFieldData\n> at\n> org.elasticsearch.search.facet.datehistogram.DateHistogramFacetParser.parse(DateHistogramFacetParser.java:162)\n> at\n> org.elasticsearch.search.facet.FacetParseElement.parse(FacetParseElement.java:92)\n> at\n> org.elasticsearch.search.SearchService.parseSource(SearchService.java:561)\n> ... 12 more\n\n2013/6/21 Adrien Grand notifications@github.com\n\n> By any chance, do you have a full stack trace of the problem? (should be\n> in Elasticsearch logs)\n> \n> —\n> Reply to this email directly or view it on GitHubhttps://github.com/elasticsearch/elasticsearch/issues/3193#issuecomment-19802435\n> .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/19803897","html_url":"https://github.com/elastic/elasticsearch/issues/3193#issuecomment-19803897","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3193","id":19803897,"node_id":"MDEyOklzc3VlQ29tbWVudDE5ODAzODk3","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-06-21T08:28:17Z","updated_at":"2013-06-21T08:28:17Z","author_association":"CONTRIBUTOR","body":"Yeah I ran into this as well. I think you indexed your field as a string field but then you try to run a DataHistorgramFacet on it, it that possible? We need to throw better exceptions in such a case - this can accidentially load a massive amout of data if you do this on a tokenized string field.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/19804851","html_url":"https://github.com/elastic/elasticsearch/issues/3193#issuecomment-19804851","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3193","id":19804851,"node_id":"MDEyOklzc3VlQ29tbWVudDE5ODA0ODUx","user":{"login":"lxbzmy","id":2208717,"node_id":"MDQ6VXNlcjIyMDg3MTc=","avatar_url":"https://avatars1.githubusercontent.com/u/2208717?v=4","gravatar_id":"","url":"https://api.github.com/users/lxbzmy","html_url":"https://github.com/lxbzmy","followers_url":"https://api.github.com/users/lxbzmy/followers","following_url":"https://api.github.com/users/lxbzmy/following{/other_user}","gists_url":"https://api.github.com/users/lxbzmy/gists{/gist_id}","starred_url":"https://api.github.com/users/lxbzmy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lxbzmy/subscriptions","organizations_url":"https://api.github.com/users/lxbzmy/orgs","repos_url":"https://api.github.com/users/lxbzmy/repos","events_url":"https://api.github.com/users/lxbzmy/events{/privacy}","received_events_url":"https://api.github.com/users/lxbzmy/received_events","type":"User","site_admin":false},"created_at":"2013-06-21T08:53:58Z","updated_at":"2013-06-21T08:53:58Z","author_association":"NONE","body":"I used this web page to see my data :\nhttps://github.com/OlegKunitsyn/elasticsearch-browser\nThis application automatic query _mapping from ES server.\nso I'm sure at that moment es return _mapping show time field is date.(u\nkonw, I updated mapping )\n\n2013/6/21 Simon Willnauer notifications@github.com\n\n> Yeah I ran into this as well. I think you indexed your field as a string\n> field but then you try to run a DataHistorgramFacet on it, it that\n> possible? We need to throw better exceptions in such a case - this can\n> accidentially load a massive amout of data if you do this on a tokenized\n> string field.\n> \n> —\n> Reply to this email directly or view it on GitHubhttps://github.com/elasticsearch/elasticsearch/issues/3193#issuecomment-19803897\n> .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/48026423","html_url":"https://github.com/elastic/elasticsearch/issues/3193#issuecomment-48026423","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3193","id":48026423,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDI2NDIz","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2014-07-04T09:50:27Z","updated_at":"2014-07-04T09:50:27Z","author_association":"CONTRIBUTOR","body":"The issue is very likely due to the fact that the field is mapped as a string on one type and as a date on another one, which plays badly with field data.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/59919282","html_url":"https://github.com/elastic/elasticsearch/issues/3193#issuecomment-59919282","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3193","id":59919282,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTE5Mjgy","user":{"login":"artemredkin","id":537556,"node_id":"MDQ6VXNlcjUzNzU1Ng==","avatar_url":"https://avatars3.githubusercontent.com/u/537556?v=4","gravatar_id":"","url":"https://api.github.com/users/artemredkin","html_url":"https://github.com/artemredkin","followers_url":"https://api.github.com/users/artemredkin/followers","following_url":"https://api.github.com/users/artemredkin/following{/other_user}","gists_url":"https://api.github.com/users/artemredkin/gists{/gist_id}","starred_url":"https://api.github.com/users/artemredkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/artemredkin/subscriptions","organizations_url":"https://api.github.com/users/artemredkin/orgs","repos_url":"https://api.github.com/users/artemredkin/repos","events_url":"https://api.github.com/users/artemredkin/events{/privacy}","received_events_url":"https://api.github.com/users/artemredkin/received_events","type":"User","site_admin":false},"created_at":"2014-10-21T12:26:04Z","updated_at":"2014-10-21T12:26:04Z","author_association":"NONE","body":"> The issue is very likely due to the fact that the field is mapped as a string on one type and as a date on another one, which plays badly with field data\n> This seems very strange to me, one cannot have different field mappings between types? Why? Is it because of Lucene? What about doc values?\n\nI've just encountered this issue, some of my types have \"id\" of type \"string\", some – \"long\". Sometimes (but not always) sorting on this field breaks. And \"sort\" field in response looks very strange:\n`\"sort\" : [ \"P\\u0002\\u0000\\u0000\" ]`, where `\"id\": 97`.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/99228064","html_url":"https://github.com/elastic/elasticsearch/issues/3193#issuecomment-99228064","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3193","id":99228064,"node_id":"MDEyOklzc3VlQ29tbWVudDk5MjI4MDY0","user":{"login":"haight6716","id":862007,"node_id":"MDQ6VXNlcjg2MjAwNw==","avatar_url":"https://avatars0.githubusercontent.com/u/862007?v=4","gravatar_id":"","url":"https://api.github.com/users/haight6716","html_url":"https://github.com/haight6716","followers_url":"https://api.github.com/users/haight6716/followers","following_url":"https://api.github.com/users/haight6716/following{/other_user}","gists_url":"https://api.github.com/users/haight6716/gists{/gist_id}","starred_url":"https://api.github.com/users/haight6716/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haight6716/subscriptions","organizations_url":"https://api.github.com/users/haight6716/orgs","repos_url":"https://api.github.com/users/haight6716/repos","events_url":"https://api.github.com/users/haight6716/events{/privacy}","received_events_url":"https://api.github.com/users/haight6716/received_events","type":"User","site_admin":false},"created_at":"2015-05-05T21:27:40Z","updated_at":"2015-05-05T21:27:40Z","author_association":"NONE","body":"+1  Is it really true we can't use different mappings with different definitions for field names in the same index?\n\nNo fix is planned for this?  Could we at least generate an error in this situation (i.e. if I try to add a mapping with a different field definition than another mapping in the same index, I would get an error at that point, not later when I'm trying to do queries on my data).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/99380243","html_url":"https://github.com/elastic/elasticsearch/issues/3193#issuecomment-99380243","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3193","id":99380243,"node_id":"MDEyOklzc3VlQ29tbWVudDk5MzgwMjQz","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2015-05-06T08:33:35Z","updated_at":"2015-05-06T08:34:00Z","author_association":"MEMBER","body":"There is no \"fix\" possible.  It is simply impossible in Lucene to use the same field name for more than one data type.\n\nAn error will be added in #8871.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/99528206","html_url":"https://github.com/elastic/elasticsearch/issues/3193#issuecomment-99528206","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3193","id":99528206,"node_id":"MDEyOklzc3VlQ29tbWVudDk5NTI4MjA2","user":{"login":"haight6716","id":862007,"node_id":"MDQ6VXNlcjg2MjAwNw==","avatar_url":"https://avatars0.githubusercontent.com/u/862007?v=4","gravatar_id":"","url":"https://api.github.com/users/haight6716","html_url":"https://github.com/haight6716","followers_url":"https://api.github.com/users/haight6716/followers","following_url":"https://api.github.com/users/haight6716/following{/other_user}","gists_url":"https://api.github.com/users/haight6716/gists{/gist_id}","starred_url":"https://api.github.com/users/haight6716/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haight6716/subscriptions","organizations_url":"https://api.github.com/users/haight6716/orgs","repos_url":"https://api.github.com/users/haight6716/repos","events_url":"https://api.github.com/users/haight6716/events{/privacy}","received_events_url":"https://api.github.com/users/haight6716/received_events","type":"User","site_admin":false},"created_at":"2015-05-06T16:21:47Z","updated_at":"2015-05-06T16:21:47Z","author_association":"NONE","body":"Thanks for the response @rjernst , we will have to work around it in our application.\n","performed_via_github_app":null}]