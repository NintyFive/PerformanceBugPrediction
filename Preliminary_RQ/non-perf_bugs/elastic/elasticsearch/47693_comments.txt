[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/539166486","html_url":"https://github.com/elastic/elasticsearch/issues/47693#issuecomment-539166486","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47693","id":539166486,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTE2NjQ4Ng==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-10-07T19:26:53Z","updated_at":"2019-10-07T19:26:53Z","author_association":"COLLABORATOR","body":"Pinging @elastic/ml-core (:ml)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/539168316","html_url":"https://github.com/elastic/elasticsearch/issues/47693#issuecomment-539168316","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47693","id":539168316,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTE2ODMxNg==","user":{"login":"jdconrad","id":2126764,"node_id":"MDQ6VXNlcjIxMjY3NjQ=","avatar_url":"https://avatars2.githubusercontent.com/u/2126764?v=4","gravatar_id":"","url":"https://api.github.com/users/jdconrad","html_url":"https://github.com/jdconrad","followers_url":"https://api.github.com/users/jdconrad/followers","following_url":"https://api.github.com/users/jdconrad/following{/other_user}","gists_url":"https://api.github.com/users/jdconrad/gists{/gist_id}","starred_url":"https://api.github.com/users/jdconrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdconrad/subscriptions","organizations_url":"https://api.github.com/users/jdconrad/orgs","repos_url":"https://api.github.com/users/jdconrad/repos","events_url":"https://api.github.com/users/jdconrad/events{/privacy}","received_events_url":"https://api.github.com/users/jdconrad/received_events","type":"User","site_admin":false},"created_at":"2019-10-07T19:31:51Z","updated_at":"2019-10-07T19:31:51Z","author_association":"CONTRIBUTOR","body":"More:\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.x+bwc/BWC_VERSION=7.3.1,nodes=centos-7&&immutable/189/console\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.x+bwc/BWC_VERSION=7.3.0,nodes=centos-7&&immutable/189/console\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.x+bwc/BWC_VERSION=7.3.2,nodes=centos-7&&immutable/189/console\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/539445345","html_url":"https://github.com/elastic/elasticsearch/issues/47693#issuecomment-539445345","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47693","id":539445345,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTQ0NTM0NQ==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2019-10-08T10:06:25Z","updated_at":"2019-10-08T10:06:25Z","author_association":"CONTRIBUTOR","body":"I think the `ConnectTransportException`s are irrelevant and you always get them in the rolling upgrade tests when nodes are shut down.\r\n\r\nThe problem that causes this failure is:\r\n\r\n```\r\n18:01:38 org.elasticsearch.upgrades.UpgradeClusterClientYamlTestSuiteIT > test {p0=mixed_cluster/80_data_frame_jobs_crud/Test GET, stop, start, old continuous transforms} FAILED\r\n18:01:38     java.lang.AssertionError: Failure at [mixed_cluster/80_data_frame_jobs_crud:298]: transforms.0.state didn't match expected value:\r\n18:01:38                 transforms.0.state: expected String [stopped] but was LinkedHashMap [{task_state=stopped, indexer_state=stopped, checkpoint=1}]\r\n18:01:38 \r\n18:01:38         Caused by:\r\n18:01:38         java.lang.AssertionError: transforms.0.state didn't match expected value:\r\n18:01:38                     transforms.0.state: expected String [stopped] but was LinkedHashMap [{task_state=stopped, indexer_state=stopped, checkpoint=1}]\r\n```\r\n\r\nNot sure why this has only started failing recently as that incompatibility was introduced a long time ago.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/539451243","html_url":"https://github.com/elastic/elasticsearch/issues/47693#issuecomment-539451243","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47693","id":539451243,"node_id":"MDEyOklzc3VlQ29tbWVudDUzOTQ1MTI0Mw==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2019-10-08T10:24:45Z","updated_at":"2019-10-08T10:24:45Z","author_association":"CONTRIBUTOR","body":"@hendrikmuhs in the 7.x version of `80_data_frame_jobs_crud.yml` all the assertions on `transforms.0.state` used to be commented out with this comment:\r\n\r\n```\r\n   # Since we are breaking the stats format between 7.3 and 7.4 (allowed because we're beta) we cannot\r\n   # assert on state in the mixed cluster as it could be state at the top level or state.task_state\r\n```\r\n\r\nBut in https://github.com/elastic/elasticsearch/commit/e1842c0e5ad045dfe2df2074be449a07adce4b2b#diff-a8566ec4c3b7275e96a4686786b88f0d you added some more assertions on `transforms.0.state` that are not commented out in 7.x.  Please could you comment these like the others in the file?  (Only on 7.x - in master we _can_ assert on `transforms.0.state`.)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/540713219","html_url":"https://github.com/elastic/elasticsearch/issues/47693#issuecomment-540713219","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47693","id":540713219,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDcxMzIxOQ==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2019-10-10T18:27:32Z","updated_at":"2019-10-10T18:27:32Z","author_association":"CONTRIBUTOR","body":"Friendly reminder this test is still consistently failing in the `7.x` BWC jobs.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/540986128","html_url":"https://github.com/elastic/elasticsearch/issues/47693#issuecomment-540986128","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47693","id":540986128,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MDk4NjEyOA==","user":{"login":"hendrikmuhs","id":7126422,"node_id":"MDQ6VXNlcjcxMjY0MjI=","avatar_url":"https://avatars3.githubusercontent.com/u/7126422?v=4","gravatar_id":"","url":"https://api.github.com/users/hendrikmuhs","html_url":"https://github.com/hendrikmuhs","followers_url":"https://api.github.com/users/hendrikmuhs/followers","following_url":"https://api.github.com/users/hendrikmuhs/following{/other_user}","gists_url":"https://api.github.com/users/hendrikmuhs/gists{/gist_id}","starred_url":"https://api.github.com/users/hendrikmuhs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hendrikmuhs/subscriptions","organizations_url":"https://api.github.com/users/hendrikmuhs/orgs","repos_url":"https://api.github.com/users/hendrikmuhs/repos","events_url":"https://api.github.com/users/hendrikmuhs/events{/privacy}","received_events_url":"https://api.github.com/users/hendrikmuhs/received_events","type":"User","site_admin":false},"created_at":"2019-10-11T09:16:11Z","updated_at":"2019-10-11T09:16:11Z","author_association":"CONTRIBUTOR","body":"on it, I somehow missed the gh notification","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/541009924","html_url":"https://github.com/elastic/elasticsearch/issues/47693#issuecomment-541009924","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/47693","id":541009924,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MTAwOTkyNA==","user":{"login":"hendrikmuhs","id":7126422,"node_id":"MDQ6VXNlcjcxMjY0MjI=","avatar_url":"https://avatars3.githubusercontent.com/u/7126422?v=4","gravatar_id":"","url":"https://api.github.com/users/hendrikmuhs","html_url":"https://github.com/hendrikmuhs","followers_url":"https://api.github.com/users/hendrikmuhs/followers","following_url":"https://api.github.com/users/hendrikmuhs/following{/other_user}","gists_url":"https://api.github.com/users/hendrikmuhs/gists{/gist_id}","starred_url":"https://api.github.com/users/hendrikmuhs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hendrikmuhs/subscriptions","organizations_url":"https://api.github.com/users/hendrikmuhs/orgs","repos_url":"https://api.github.com/users/hendrikmuhs/repos","events_url":"https://api.github.com/users/hendrikmuhs/events{/privacy}","received_events_url":"https://api.github.com/users/hendrikmuhs/received_events","type":"User","site_admin":false},"created_at":"2019-10-11T10:29:38Z","updated_at":"2019-10-11T10:29:38Z","author_association":"CONTRIBUTOR","body":"fixed by #47898","performed_via_github_app":null}]