[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/318063067","html_url":"https://github.com/elastic/elasticsearch/issues/25907#issuecomment-318063067","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25907","id":318063067,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODA2MzA2Nw==","user":{"login":"hub-cap","id":613352,"node_id":"MDQ6VXNlcjYxMzM1Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/613352?v=4","gravatar_id":"","url":"https://api.github.com/users/hub-cap","html_url":"https://github.com/hub-cap","followers_url":"https://api.github.com/users/hub-cap/followers","following_url":"https://api.github.com/users/hub-cap/following{/other_user}","gists_url":"https://api.github.com/users/hub-cap/gists{/gist_id}","starred_url":"https://api.github.com/users/hub-cap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hub-cap/subscriptions","organizations_url":"https://api.github.com/users/hub-cap/orgs","repos_url":"https://api.github.com/users/hub-cap/repos","events_url":"https://api.github.com/users/hub-cap/events{/privacy}","received_events_url":"https://api.github.com/users/hub-cap/received_events","type":"User","site_admin":false},"created_at":"2017-07-26T14:05:02Z","updated_at":"2017-07-26T14:05:02Z","author_association":"CONTRIBUTOR","body":"I wonder if this is related to the fact that it has not yet been backported? Im going to backport #25892 first to see if it fixes things (since that, I believe, is pulling 5.6 source as well)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/318063246","html_url":"https://github.com/elastic/elasticsearch/issues/25907#issuecomment-318063246","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25907","id":318063246,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODA2MzI0Ng==","user":{"login":"hub-cap","id":613352,"node_id":"MDQ6VXNlcjYxMzM1Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/613352?v=4","gravatar_id":"","url":"https://api.github.com/users/hub-cap","html_url":"https://github.com/hub-cap","followers_url":"https://api.github.com/users/hub-cap/followers","following_url":"https://api.github.com/users/hub-cap/following{/other_user}","gists_url":"https://api.github.com/users/hub-cap/gists{/gist_id}","starred_url":"https://api.github.com/users/hub-cap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hub-cap/subscriptions","organizations_url":"https://api.github.com/users/hub-cap/orgs","repos_url":"https://api.github.com/users/hub-cap/repos","events_url":"https://api.github.com/users/hub-cap/events{/privacy}","received_events_url":"https://api.github.com/users/hub-cap/received_events","type":"User","site_admin":false},"created_at":"2017-07-26T14:05:35Z","updated_at":"2017-07-26T14:05:35Z","author_association":"CONTRIBUTOR","body":"Also, thanks *so very much* for sticking this pain out w/ me @olcbean ❤️ ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/318075073","html_url":"https://github.com/elastic/elasticsearch/issues/25907#issuecomment-318075073","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25907","id":318075073,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODA3NTA3Mw==","user":{"login":"hub-cap","id":613352,"node_id":"MDQ6VXNlcjYxMzM1Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/613352?v=4","gravatar_id":"","url":"https://api.github.com/users/hub-cap","html_url":"https://github.com/hub-cap","followers_url":"https://api.github.com/users/hub-cap/followers","following_url":"https://api.github.com/users/hub-cap/following{/other_user}","gists_url":"https://api.github.com/users/hub-cap/gists{/gist_id}","starred_url":"https://api.github.com/users/hub-cap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hub-cap/subscriptions","organizations_url":"https://api.github.com/users/hub-cap/orgs","repos_url":"https://api.github.com/users/hub-cap/repos","events_url":"https://api.github.com/users/hub-cap/events{/privacy}","received_events_url":"https://api.github.com/users/hub-cap/received_events","type":"User","site_admin":false},"created_at":"2017-07-26T14:44:26Z","updated_at":"2017-07-26T14:44:26Z","author_association":"CONTRIBUTOR","body":"ok, so I believe this *is* a symptom of this not yet being backported. When I pushed my backported change to my own fork, and used the following flag to change the refspec, I was able to get the tests to pass. Ill be pushing it shortly, I would like to run the full check first on it.\r\n\r\n```\r\ngradle -Dtests.bwc.refspec=origin/5.6 :qa:full-cluster-restart:check                                                                                                                                                                                                                                                                 \r\n\r\n> Configure project :benchmarks\r\nThe getTestClassesDir() method has been deprecated and is scheduled to be removed in Gradle 5.0. Please use the getTestClassesDirs() method instead.\r\n        at build_aotl8we4aotrppxbrm01p2umt.run(/home/elastic/elasticsearch/benchmarks/build.gradle:31)\r\n=======================================\r\nElasticsearch Build Hamster says Hello!\r\n=======================================\r\n  Gradle Version        : 4.0\r\n  OS Info               : Linux 4.4.0-1018-aws (amd64)\r\n  JDK Version           : Oracle Corporation 1.8.0_131 [OpenJDK 64-Bit Server VM 25.131-b11]\r\n  JAVA_HOME             : /usr/lib/jvm/java-8-openjdk-amd64\r\n  Random Testing Seed   : A4530BE86F6212E0\r\nGradle now uses separate output directories for each JVM language, but this build assumes a single directory for all classes from a source set. This behaviour has been deprecated and is scheduled to be removed in Gradle 5.0\r\n\r\n> Task :distribution:bwc-stable-snapshot:checkoutBwcBranch\r\nWarning: you are leaving 1 commit behind, not connected to\r\nany of your branches:\r\n\r\n  0680895 Fix rest client causing jarHell for gradle 3.5+ (#25892)\r\n\r\nIf you want to keep it by creating a new branch, this may be a good time\r\nto do so with:\r\n\r\n git branch <new-branch-name> 0680895\r\n\r\nHEAD is now at acd41d5... Fix rest client causing jarHell for gradle 3.5+ (#25892)\r\n\r\n> Configure project :checkout-5.x:benchmarks\r\n=======================================\r\nElasticsearch Build Hamster says Hello!\r\n=======================================\r\n  Gradle Version        : 4.0\r\n  OS Info               : Linux 4.4.0-1018-aws (amd64)\r\n  JDK Version           : Oracle Corporation 1.8.0_131 [OpenJDK 64-Bit Server VM 25.131-b11]\r\n  JAVA_HOME             : /usr/lib/jvm/java-8-openjdk-amd64\r\n\r\n> Configure project :checkout-5.x:plugins:repository-hdfs\r\nCould not find vagrant: A problem occurred starting process 'command 'vagrant''\r\nsecured hdfsFixture is unsupported, please install Vagrant 1.8.6+ to enable\r\n\r\n> Task :checkout-5.x:core:compileJava\r\nNote: Some input files use or override a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\nNote: Some input files use unchecked or unsafe operations.\r\nNote: Recompile with -Xlint:unchecked for details.\r\n\r\n> Task :checkout-5.x:modules:ingest-common:compileJava\r\nNote: /home/elastic/elasticsearch/distribution/bwc/build/bwc/checkout-5.x/modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/RemoveProcessor.java uses unchecked or unsafe operations.\r\nNote: Recompile with -Xlint:unchecked for details.\r\n\r\n> Task :checkout-5.x:modules:lang-expression:compileJava\r\nNote: Some input files use or override a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n\r\n> Task :checkout-5.x:modules:lang-mustache:compileJava\r\nNote: Some input files use or override a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n\r\n> Task :checkout-5.x:modules:parent-join:compileJava\r\nNote: /home/elastic/elasticsearch/distribution/bwc/build/bwc/checkout-5.x/modules/parent-join/src/main/java/org/elasticsearch/join/query/ParentChildInnerHitContextBuilder.java uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n\r\n> Task :checkout-5.x:modules:percolator:compileJava\r\nNote: Some input files use or override a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n\r\n> Task :checkout-5.x:modules:reindex:compileJava\r\nNote: Some input files use or override a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n\r\n> Task :checkout-5.x:modules:transport-netty3:compileJava\r\nNote: /home/elastic/elasticsearch/distribution/bwc/build/bwc/checkout-5.x/modules/transport-netty3/src/main/java/org/elasticsearch/http/netty3/Netty3HttpChannel.java uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n\r\n> Task :checkout-5.x:modules:transport-netty4:compileJava\r\nNote: /home/elastic/elasticsearch/distribution/bwc/build/bwc/checkout-5.x/modules/transport-netty4/src/main/java/org/elasticsearch/http/netty4/Netty4HttpChannel.java uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n\r\n> Task :checkout-5.x:distribution:zip:generatePomFileForNebulaPublication\r\nUnable to convert /home/elastic/elasticsearch to https form in MavenScmPlugin. Using original value.\r\n\r\n> Task :qa:full-cluster-restart:v5.6.0-SNAPSHOT#oldClusterTestRunner\r\n==> Test Info: seed=CE74A4F95E9BA266; jvm=1; suite=1\r\n\r\nHEARTBEAT J0 PID(29243@ip-10-0-1-202): 2017-07-26T14:40:56, stalled for 11.7s at: FullClusterRestartIT.testSearch\r\n\r\n> Task :qa:full-cluster-restart:v5.6.0-SNAPSHOT#oldClusterTestRunner\r\nSlow Tests Summary:\r\n 39.14s | org.elasticsearch.upgrades.FullClusterRestartIT\r\n\r\n==> Test Summary: 1 suite, 8 tests, 1 ignored (1 assumption)\r\n\r\n> Task :qa:full-cluster-restart:v5.6.0-SNAPSHOT#upgradedClusterTestRunner\r\n==> Test Info: seed=8B90DCDA0CA22068; jvm=1; suite=1\r\n==> Test Summary: 1 suite, 8 tests, 1 ignored (1 assumption)\r\n\r\n\r\nBUILD SUCCESSFUL in 2m 24s\r\n128 actionable tasks: 43 executed, 85 up-to-date","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/318097637","html_url":"https://github.com/elastic/elasticsearch/issues/25907#issuecomment-318097637","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25907","id":318097637,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODA5NzYzNw==","user":{"login":"hub-cap","id":613352,"node_id":"MDQ6VXNlcjYxMzM1Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/613352?v=4","gravatar_id":"","url":"https://api.github.com/users/hub-cap","html_url":"https://github.com/hub-cap","followers_url":"https://api.github.com/users/hub-cap/followers","following_url":"https://api.github.com/users/hub-cap/following{/other_user}","gists_url":"https://api.github.com/users/hub-cap/gists{/gist_id}","starred_url":"https://api.github.com/users/hub-cap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hub-cap/subscriptions","organizations_url":"https://api.github.com/users/hub-cap/orgs","repos_url":"https://api.github.com/users/hub-cap/repos","events_url":"https://api.github.com/users/hub-cap/events{/privacy}","received_events_url":"https://api.github.com/users/hub-cap/received_events","type":"User","site_admin":false},"created_at":"2017-07-26T15:54:32Z","updated_at":"2017-07-26T15:54:32Z","author_association":"CONTRIBUTOR","body":"Feel free to give it a whirl @olcbean , I just backported the fix to 5.6","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/318098023","html_url":"https://github.com/elastic/elasticsearch/issues/25907#issuecomment-318098023","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25907","id":318098023,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODA5ODAyMw==","user":{"login":"hub-cap","id":613352,"node_id":"MDQ6VXNlcjYxMzM1Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/613352?v=4","gravatar_id":"","url":"https://api.github.com/users/hub-cap","html_url":"https://github.com/hub-cap","followers_url":"https://api.github.com/users/hub-cap/followers","following_url":"https://api.github.com/users/hub-cap/following{/other_user}","gists_url":"https://api.github.com/users/hub-cap/gists{/gist_id}","starred_url":"https://api.github.com/users/hub-cap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hub-cap/subscriptions","organizations_url":"https://api.github.com/users/hub-cap/orgs","repos_url":"https://api.github.com/users/hub-cap/repos","events_url":"https://api.github.com/users/hub-cap/events{/privacy}","received_events_url":"https://api.github.com/users/hub-cap/received_events","type":"User","site_admin":false},"created_at":"2017-07-26T15:55:44Z","updated_at":"2017-07-26T15:55:44Z","author_association":"CONTRIBUTOR","body":"Since I forgot to put it on the commit msg, this is in reference to 236d2e5bae9ba06c901e39f91719c36e43be84a3","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/318125231","html_url":"https://github.com/elastic/elasticsearch/issues/25907#issuecomment-318125231","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25907","id":318125231,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODEyNTIzMQ==","user":{"login":"hub-cap","id":613352,"node_id":"MDQ6VXNlcjYxMzM1Mg==","avatar_url":"https://avatars2.githubusercontent.com/u/613352?v=4","gravatar_id":"","url":"https://api.github.com/users/hub-cap","html_url":"https://github.com/hub-cap","followers_url":"https://api.github.com/users/hub-cap/followers","following_url":"https://api.github.com/users/hub-cap/following{/other_user}","gists_url":"https://api.github.com/users/hub-cap/gists{/gist_id}","starred_url":"https://api.github.com/users/hub-cap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hub-cap/subscriptions","organizations_url":"https://api.github.com/users/hub-cap/orgs","repos_url":"https://api.github.com/users/hub-cap/repos","events_url":"https://api.github.com/users/hub-cap/events{/privacy}","received_events_url":"https://api.github.com/users/hub-cap/received_events","type":"User","site_admin":false},"created_at":"2017-07-26T17:29:06Z","updated_at":"2017-07-26T17:29:06Z","author_association":"CONTRIBUTOR","body":"once CI is happy Ill close this","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/318130383","html_url":"https://github.com/elastic/elasticsearch/issues/25907#issuecomment-318130383","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25907","id":318130383,"node_id":"MDEyOklzc3VlQ29tbWVudDMxODEzMDM4Mw==","user":{"login":"olcbean","id":26058559,"node_id":"MDQ6VXNlcjI2MDU4NTU5","avatar_url":"https://avatars3.githubusercontent.com/u/26058559?v=4","gravatar_id":"","url":"https://api.github.com/users/olcbean","html_url":"https://github.com/olcbean","followers_url":"https://api.github.com/users/olcbean/followers","following_url":"https://api.github.com/users/olcbean/following{/other_user}","gists_url":"https://api.github.com/users/olcbean/gists{/gist_id}","starred_url":"https://api.github.com/users/olcbean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/olcbean/subscriptions","organizations_url":"https://api.github.com/users/olcbean/orgs","repos_url":"https://api.github.com/users/olcbean/repos","events_url":"https://api.github.com/users/olcbean/events{/privacy}","received_events_url":"https://api.github.com/users/olcbean/received_events","type":"User","site_admin":false},"created_at":"2017-07-26T17:47:59Z","updated_at":"2017-07-26T17:47:59Z","author_association":"CONTRIBUTOR","body":"I just rerun the `gradle check` on 6d02b45f105cb1fb018872871ae5e59651cbe284 and it passed.\r\n\r\nThanks @hub-cap for the quick fix :)","performed_via_github_app":null}]