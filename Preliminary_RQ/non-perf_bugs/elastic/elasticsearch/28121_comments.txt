[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/355840815","html_url":"https://github.com/elastic/elasticsearch/issues/28121#issuecomment-355840815","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28121","id":355840815,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTg0MDgxNQ==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2018-01-07T18:08:18Z","updated_at":"2018-01-07T18:08:18Z","author_association":"CONTRIBUTOR","body":"One advantage that S2 has over our existing geospatial indexing is that the its cells are much more consistent in size (and shape) across the whole globe which may permit more accurate bounds on the margin of error.\r\n\r\nThere's a couple of major drawbacks that I can see. Firstly, the Java implementation seems very much to be a second-class citizen at the moment:\r\n\r\n> The Java port is based on the 2011 code and does not have the same robustness, performance, or features as the current C++ version.\r\n\r\nSecondly, S2's straight lines are geodesics (great circles), whereas GeoJSON specifies that straight lines are straight in latitude-longitude space (i.e. in the equirectangular projection) so they will disagree on things like point-in-polygon queries if implemented in the \"obvious\" fashion. Geodesics make a bunch of sense for a variety of reasons, but I think we should strive to follow the spec here, and that sounds troublesome to achieve.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/357242491","html_url":"https://github.com/elastic/elasticsearch/issues/28121#issuecomment-357242491","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28121","id":357242491,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzI0MjQ5MQ==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2018-01-12T13:47:40Z","updated_at":"2018-01-12T13:47:40Z","author_association":"CONTRIBUTOR","body":"TIL that you can draw geodesics in Google maps, so here's an example of the difference it makes. These points form a perfectly fine polygon in GeoJSON:\r\n\r\n<img width=\"600\" alt=\"screen shot 2018-01-12 at 13 40 52\" src=\"https://user-images.githubusercontent.com/5058284/34877560-771adcee-f79e-11e7-878b-e3501ed1ca99.png\">\r\n\r\nIn S2 they don't define a valid polygon since it self-intersects:\r\n\r\n<img width=\"766\" alt=\"screen shot 2018-01-12 at 13 39 28\" src=\"https://user-images.githubusercontent.com/5058284/34877614-9daaa5ce-f79e-11e7-9db5-01d8cf6e4bd8.png\">\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/357262614","html_url":"https://github.com/elastic/elasticsearch/issues/28121#issuecomment-357262614","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28121","id":357262614,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzI2MjYxNA==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2018-01-12T15:07:55Z","updated_at":"2018-01-12T15:07:55Z","author_association":"CONTRIBUTOR","body":"Discussed in FixitFriday: this would have very deep implications on how we index geo shapes. Coincidentally, an issue was open recently about using it to index geo shapes, so I'm going to close this issue and recommend following https://issues.apache.org/jira/browse/LUCENE-8126.\r\n\r\n@nknize I'd be curious to have your opinion, does it have a potential impact for the upcoming BKD-based geo-shape support?","performed_via_github_app":null}]