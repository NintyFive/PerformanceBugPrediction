[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/496162077","html_url":"https://github.com/elastic/elasticsearch/issues/42583#issuecomment-496162077","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42583","id":496162077,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NjE2MjA3Nw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-05-27T10:16:38Z","updated_at":"2019-05-27T10:16:38Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/496175406","html_url":"https://github.com/elastic/elasticsearch/issues/42583#issuecomment-496175406","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42583","id":496175406,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NjE3NTQwNg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-05-27T11:08:48Z","updated_at":"2019-05-27T11:08:48Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/496175459","html_url":"https://github.com/elastic/elasticsearch/issues/42583#issuecomment-496175459","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42583","id":496175459,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NjE3NTQ1OQ==","user":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"created_at":"2019-05-27T11:09:01Z","updated_at":"2019-05-27T11:09:01Z","author_association":"CONTRIBUTOR","body":"This sounds more like an infrastructure problem.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/499950316","html_url":"https://github.com/elastic/elasticsearch/issues/42583#issuecomment-499950316","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42583","id":499950316,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTk1MDMxNg==","user":{"login":"jakelandis","id":976291,"node_id":"MDQ6VXNlcjk3NjI5MQ==","avatar_url":"https://avatars2.githubusercontent.com/u/976291?v=4","gravatar_id":"","url":"https://api.github.com/users/jakelandis","html_url":"https://github.com/jakelandis","followers_url":"https://api.github.com/users/jakelandis/followers","following_url":"https://api.github.com/users/jakelandis/following{/other_user}","gists_url":"https://api.github.com/users/jakelandis/gists{/gist_id}","starred_url":"https://api.github.com/users/jakelandis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakelandis/subscriptions","organizations_url":"https://api.github.com/users/jakelandis/orgs","repos_url":"https://api.github.com/users/jakelandis/repos","events_url":"https://api.github.com/users/jakelandis/events{/privacy}","received_events_url":"https://api.github.com/users/jakelandis/received_events","type":"User","site_admin":false},"created_at":"2019-06-07T16:24:46Z","updated_at":"2019-06-07T16:24:46Z","author_association":"CONTRIBUTOR","body":"Looks like this happened two more times this week:\r\nJune 7: https://scans.gradle.com/s/llv7in7mn3yik/failure?openFailures=WzBd&openStackTraces=WzFd#top=0\r\nJune 5: https://scans.gradle.com/s/vyb24zgqbeulg/failure?openFailures=WzBd&openStackTraces=WzFd#top=0","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/500308951","html_url":"https://github.com/elastic/elasticsearch/issues/42583#issuecomment-500308951","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42583","id":500308951,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDMwODk1MQ==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2019-06-10T06:39:19Z","updated_at":"2019-06-10T06:39:19Z","author_association":"CONTRIBUTOR","body":"I looked at the amazon workers but did not see any red flags. No leaked processes,  resource usage looks normal, couldn't see anything that would explain these failures. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/500309821","html_url":"https://github.com/elastic/elasticsearch/issues/42583#issuecomment-500309821","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42583","id":500309821,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDMwOTgyMQ==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2019-06-10T06:43:23Z","updated_at":"2019-06-10T06:43:23Z","author_association":"CONTRIBUTOR","body":"The failures from above are on `7.2` which doesn't have 5e0a162ed66 to convert the tests to use testclsuters. Master doesn't get as far due to #4274. Hopefully testclusters will offer a bit more logging if this continues to fail. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/501201040","html_url":"https://github.com/elastic/elasticsearch/issues/42583#issuecomment-501201040","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42583","id":501201040,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTIwMTA0MA==","user":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"created_at":"2019-06-12T09:47:31Z","updated_at":"2019-06-12T09:47:31Z","author_association":"CONTRIBUTOR","body":"More 7.2 failures here:\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.2+multijob-unix-compatibility/os=amazon/31/consoleText\r\n\r\n```\r\n What went wrong:\r\nExecution failed for task ':x-pack:qa:rolling-upgrade-multi-cluster:v6.8.1#follower#upgradedClusterTestCluster#wait'.\r\n> Failed to locate seed node transport file [/var/lib/jenkins/workspace/elastic+elasticsearch+7.2+multijob-unix-compatibility/os/amazon/x-pack/qa/rolling-upgrade-multi-cluster/build/cluster/v6.8.1#follower#upgradedClusterTestCluster node0/elasticsearch-7.2.0-SNAPSHOT/logs/transport.ports]: timed out waiting for it to be created after 40 seconds\r\n```\r\n\r\nThe node in question is only getting as far as \r\n\r\n```\r\n[2019-06-12T09:25:12,493][INFO ][o.e.e.NodeEnvironment    ] [upgraded-node-follower-2] using [1] data paths, mounts [[/ (/dev/xvda1)]], net usable_space [1.1tb], net total_space [1.8tb], types [xfs]\r\n[2019-06-12T09:25:12,495][INFO ][o.e.e.NodeEnvironment    ] [upgraded-node-follower-2] heap size [494.9mb], compressed ordinary object pointers [true]\r\n[2019-06-12T09:25:12,578][INFO ][o.e.n.Node               ] [upgraded-node-follower-2] node name [upgraded-node-follower-2], node ID [wbJ0RW9iSTyxAMZIBn4pQg], cluster name [follower]\r\n...\r\n[2019-06-12T09:25:14,207][INFO ][o.e.p.PluginsService     ] [upgraded-node-follower-2] loaded module [x-pack-sql]\r\n[2019-06-12T09:25:14,208][INFO ][o.e.p.PluginsService     ] [upgraded-node-follower-2] loaded module [x-pack-watcher]\r\n[2019-06-12T09:25:14,208][INFO ][o.e.p.PluginsService     ] [upgraded-node-follower-2] no plugins loaded\r\n```\r\n\r\nThe CI timestamps show the following:\r\n\r\n```\r\n11:24:36 > Task :x-pack:qa:rolling-upgrade-multi-cluster:v6.8.1#follower#upgradedClusterTestCluster#start\r\n11:25:06 > Task :x-pack:qa:rolling-upgrade-multi-cluster:v6.8.1#follower#upgradedClusterTestCluster#wait\r\n11:25:16 > Task :x-pack:qa:rolling-upgrade-multi-cluster:v6.8.1#follower#upgradedClusterTestCluster#wait FAILED\r\n```\r\n\r\nJust looking at the minute of the hour timestamp, this makes it look like the 40 second wait count is starting way before the ES process is even starting up.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/501253069","html_url":"https://github.com/elastic/elasticsearch/issues/42583#issuecomment-501253069","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42583","id":501253069,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTI1MzA2OQ==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2019-06-12T12:35:04Z","updated_at":"2019-06-12T12:35:04Z","author_association":"CONTRIBUTOR","body":"There was a failure yesterday that I didn't log an issue for as I thought it was a one-off, but which also falls under the heading of \"Amazon Linux is shockingly slow at starting up a cluster\": https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.2+multijob-unix-compatibility/os=amazon/28/console\r\n\r\nThe failing task in that build was `:x-pack:plugin:ml:qa:native-multi-node-tests:integTestCluster` and the problem was that the 3 nodes were started so slowly that they didn’t discover each other within the 40 second timeout:\r\n\r\n```\r\nbash-3.2$ head -1 ./integTestCluster_node0/elasticsearch-7.2.0-SNAPSHOT/logs/x-pack_plugin_ml_qa_native-multi-node-tests_integTestCluster.log\r\n[2019-06-11T14:23:35,176][INFO ][o.e.e.NodeEnvironment    ] [node-0] using [1] data paths, mounts [[/ (/dev/xvda1)]], net usable_space [1tb], net total_space [1.8tb], types [xfs]\r\nbash-3.2$ head -1 ./integTestCluster_node1/elasticsearch-7.2.0-SNAPSHOT/logs/x-pack_plugin_ml_qa_native-multi-node-tests_integTestCluster.log\r\n[2019-06-11T14:24:08,835][INFO ][o.e.e.NodeEnvironment    ] [node-1] using [1] data paths, mounts [[/ (/dev/xvda1)]], net usable_space [1tb], net total_space [1.8tb], types [xfs]\r\nbash-3.2$ head -1 ./integTestCluster_node2/elasticsearch-7.2.0-SNAPSHOT/logs/x-pack_plugin_ml_qa_native-multi-node-tests_integTestCluster.log\r\n[2019-06-11T14:25:03,986][INFO ][o.e.e.NodeEnvironment    ] [node-2] using [1] data paths, mounts [[/ (/dev/xvda1)]], net usable_space [1tb], net total_space [1.8tb], types [xfs]\r\n```\r\n\r\nI logged into the worker but did not see anything that would explain the slowness at the time it occurred.  The only strange thing that occurred _outside_ of the time this test was running were messages in the syslog about auditing being unable to keep up.  For example:\r\n\r\n```\r\nJun 12 12:28:30 worker-0a6e90987585e28ff kernel: audit: audit_lost=253016522 audit_rate_limit=500 audit_backlog_limit=8192\r\nJun 12 12:28:31 worker-0a6e90987585e28ff kernel: audit: audit_lost=253017091 audit_rate_limit=500 audit_backlog_limit=8192\r\nJun 12 12:28:32 worker-0a6e90987585e28ff kernel: audit: audit_lost=253017362 audit_rate_limit=500 audit_backlog_limit=8192\r\nJun 12 12:28:33 worker-0a6e90987585e28ff kernel: audit: audit_lost=253017918 audit_rate_limit=500 audit_backlog_limit=8192\r\nJun 12 12:28:34 worker-0a6e90987585e28ff kernel: audit: audit_lost=253018444 audit_rate_limit=500 audit_backlog_limit=8192\r\nJun 12 12:28:35 worker-0a6e90987585e28ff kernel: audit: audit_lost=253019165 audit_rate_limit=500 audit_backlog_limit=8192\r\nJun 12 12:28:38 worker-0a6e90987585e28ff kernel: audit: audit_lost=253019198 audit_rate_limit=500 audit_backlog_limit=8192\r\nJun 12 12:28:39 worker-0a6e90987585e28ff kernel: audit: audit_lost=253019552 audit_rate_limit=500 audit_backlog_limit=8192\r\nJun 12 12:28:40 worker-0a6e90987585e28ff kernel: audit: audit_lost=253019738 audit_rate_limit=500 audit_backlog_limit=8192\r\nJun 12 12:28:44 worker-0a6e90987585e28ff kernel: audit: audit_lost=253019814 audit_rate_limit=500 audit_backlog_limit=8192\r\nJun 12 12:28:45 worker-0a6e90987585e28ff kernel: audit: audit_lost=253020587 audit_rate_limit=500 audit_backlog_limit=8192\r\nJun 12 12:28:46 worker-0a6e90987585e28ff kernel: audit: audit_lost=253020845 audit_rate_limit=500 audit_backlog_limit=8192\r\nJun 12 12:28:47 worker-0a6e90987585e28ff kernel: audit: audit_lost=253021796 audit_rate_limit=500 audit_backlog_limit=8192\r\nJun 12 12:28:48 worker-0a6e90987585e28ff kernel: audit: audit_lost=253022792 audit_rate_limit=500 audit_backlog_limit=8192\r\nJun 12 12:28:49 worker-0a6e90987585e28ff kernel: audit: audit_lost=253023894 audit_rate_limit=500 audit_backlog_limit=8192\r\nJun 12 12:28:50 worker-0a6e90987585e28ff kernel: audit: audit_lost=253024179 audit_rate_limit=500 audit_backlog_limit=8192\r\nJun 12 12:28:51 worker-0a6e90987585e28ff kernel: audit: audit_lost=253024198 audit_rate_limit=500 audit_backlog_limit=8192\r\n```\r\n\r\n`top` output ordered by total CPU time used shows:\r\n\r\n```\r\n    PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND                                                                                                                             \r\n  56571 root      20   0 1763952  37064      0 S   0.3  0.1 876:45.87 packetbeat                                                                                                                          \r\n   4240 root      20   0   13144    196      0 S   0.3  0.0 730:01.42 rngd                                                                                                                                \r\n   4202 root      16  -4   57788    504      0 S   0.0  0.0 704:42.60 auditd                                                                                                                              \r\n   2815 root      20   0       0      0      0 S   0.0  0.0 560:17.98 xfsaild/xvda1                                                                                                                       \r\n  41889 root      20   0 1798856   9088      0 S   0.0  0.0 390:36.62 topbeat                                                                                                                             \r\n   1047 root      20   0       0      0      0 S   0.0  0.0 341:48.80 kauditd                                                                                                                             \r\n    299 root      39  19       0      0      0 S   0.0  0.0 317:44.43 khugepaged                                                                                                                          \r\n  59890 root      20   0 3345056  31280      0 S   0.0  0.1 312:40.78 metricbeat                                                                                                                          \r\n      8 root      20   0       0      0      0 I   0.0  0.0 225:35.45 rcu_sched                                                                                                                           \r\n3742197 jenkins   20   0   16.7g   5.1g      0 S   0.7 17.4  96:28.11 java                                                                                                                                \r\n  41771 root      39  19   20700   6896      0 S   0.0  0.0  76:47.47 factbeat                                                                                                                            \r\n```\r\n\r\nMaybe there's a clue there.\r\n\r\n(I got into that worker using `ssh -F ./ssh_config droberts195@10.34.148.204`.)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/501259882","html_url":"https://github.com/elastic/elasticsearch/issues/42583#issuecomment-501259882","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42583","id":501259882,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTI1OTg4Mg==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2019-06-12T12:54:43Z","updated_at":"2019-06-12T12:54:43Z","author_association":"CONTRIBUTOR","body":"We did have similar issues with timeouts ( even trough those affected internal clusters tests not rest tests ) due to audit, that's why we added `audit_rate_limit=500 ` and why we have all those messages. I tested the change on all platforms on the GCP CI workers and it was fine. I did not test on amazon.\r\n\r\n/cc @abs @Crazybus ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/501263309","html_url":"https://github.com/elastic/elasticsearch/issues/42583#issuecomment-501263309","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42583","id":501263309,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTI2MzMwOQ==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2019-06-12T13:03:51Z","updated_at":"2019-06-12T13:03:51Z","author_association":"CONTRIBUTOR","body":"What's the infra view on [disabling transparent huge pages](https://blog.nelhage.com/post/transparent-hugepages/)?  The `khugepaged` daemon has used 317 minutes of CPU time in the `top` output.  _If_ that occurs during cluster startup then it might explain the horrific slowness.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/501298168","html_url":"https://github.com/elastic/elasticsearch/issues/42583#issuecomment-501298168","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42583","id":501298168,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTI5ODE2OA==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2019-06-12T14:26:06Z","updated_at":"2019-06-12T14:26:06Z","author_association":"CONTRIBUTOR","body":"We could do that to save on some CPU time, but not sure it will help with this issue, some of our other platforms also have it enabled and we are not seeing this problem there:\r\n```\r\n[alpar@alpar-ci-centos-7-0612-1709 ~]$ cat /sys/kernel/mm/transparent_hugepage/enabled\r\n[always] madvise never\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/501300527","html_url":"https://github.com/elastic/elasticsearch/issues/42583#issuecomment-501300527","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42583","id":501300527,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTMwMDUyNw==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2019-06-12T14:31:32Z","updated_at":"2019-06-12T14:31:32Z","author_association":"CONTRIBUTOR","body":"#26551 has some additional info on THP","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503939274","html_url":"https://github.com/elastic/elasticsearch/issues/42583#issuecomment-503939274","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42583","id":503939274,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzkzOTI3NA==","user":{"login":"astefan","id":893749,"node_id":"MDQ6VXNlcjg5Mzc0OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/893749?v=4","gravatar_id":"","url":"https://api.github.com/users/astefan","html_url":"https://github.com/astefan","followers_url":"https://api.github.com/users/astefan/followers","following_url":"https://api.github.com/users/astefan/following{/other_user}","gists_url":"https://api.github.com/users/astefan/gists{/gist_id}","starred_url":"https://api.github.com/users/astefan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astefan/subscriptions","organizations_url":"https://api.github.com/users/astefan/orgs","repos_url":"https://api.github.com/users/astefan/repos","events_url":"https://api.github.com/users/astefan/events{/privacy}","received_events_url":"https://api.github.com/users/astefan/received_events","type":"User","site_admin":false},"created_at":"2019-06-20T08:50:56Z","updated_at":"2019-06-20T09:11:16Z","author_association":"CONTRIBUTOR","body":"This is one issue I rarely, also, struggle with locally when running all the tests.\r\n\r\nAnother one of these:\r\n\r\n```\r\n* What went wrong:\r\nExecution failed for task ':x-pack:qa:kerberos-tests:integTestCluster#wait'.\r\n> Failed to locate seed node transport file [/var/lib/jenkins/workspace/elastic+elasticsearch+7.2+multijob-unix-compatibility/os/oraclelinux-7/x-pack/qa/kerberos-tests/build/cluster/integTestCluster node0/elasticsearch-7.2.0-SNAPSHOT/logs/transport.ports]: timed out waiting for it to be created after 40 seconds\r\n```\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.2+multijob-unix-compatibility/os=oraclelinux-7/61/console\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.2+multijob-unix-compatibility/os=centos-6/61/console","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/508760379","html_url":"https://github.com/elastic/elasticsearch/issues/42583#issuecomment-508760379","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42583","id":508760379,"node_id":"MDEyOklzc3VlQ29tbWVudDUwODc2MDM3OQ==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2019-07-05T13:33:16Z","updated_at":"2019-07-05T13:33:16Z","author_association":"CONTRIBUTOR","body":"Amazon tests seem to be passing now, and the failing project was converted to test clsuters. \r\nPlease reopen if this fails again. ","performed_via_github_app":null}]