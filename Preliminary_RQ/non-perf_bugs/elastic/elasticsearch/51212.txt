{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/51212","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51212/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51212/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51212/events","html_url":"https://github.com/elastic/elasticsearch/issues/51212","id":552161637,"node_id":"MDU6SXNzdWU1NTIxNjE2Mzc=","number":51212,"title":"Ingest pipeline is parsing date wrong","user":{"login":"Jens-H-Eriksen","id":26311915,"node_id":"MDQ6VXNlcjI2MzExOTE1","avatar_url":"https://avatars0.githubusercontent.com/u/26311915?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-H-Eriksen","html_url":"https://github.com/Jens-H-Eriksen","followers_url":"https://api.github.com/users/Jens-H-Eriksen/followers","following_url":"https://api.github.com/users/Jens-H-Eriksen/following{/other_user}","gists_url":"https://api.github.com/users/Jens-H-Eriksen/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-H-Eriksen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-H-Eriksen/subscriptions","organizations_url":"https://api.github.com/users/Jens-H-Eriksen/orgs","repos_url":"https://api.github.com/users/Jens-H-Eriksen/repos","events_url":"https://api.github.com/users/Jens-H-Eriksen/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-H-Eriksen/received_events","type":"User","site_admin":false},"labels":[{"id":144797810,"node_id":"MDU6TGFiZWwxNDQ3OTc4MTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Core","name":":Core/Infra/Core","color":"0e8a16","default":false,"description":"Core issues without another label"}],"state":"closed","locked":false,"assignee":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"assignees":[{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false}],"milestone":null,"comments":11,"created_at":"2020-01-20T09:03:39Z","updated_at":"2020-04-29T09:01:45Z","closed_at":"2020-04-29T09:01:25Z","author_association":"NONE","active_lock_reason":null,"body":"### Bug report \r\n**Description of the problem including expected versus actual behavior**:\r\n\r\nWhen ingesting logs with filebeats using an elasticsearch pipeline, the year in the loglines timestamp is being parsed as the _actual year_, instead of the year in the logged line. \r\nThis is a major bug as logs are ending up at a wrong date.\r\n\r\n![2020-01-20_09h51_34](https://user-images.githubusercontent.com/26311915/72712088-acce6100-3b6a-11ea-9ad2-b6aceb95b121.png)\r\n\r\n**Steps to reproduce**:\r\n\r\n 1. Add the pipepline I've attached \r\n 2. Simulate the Pipelinebehaivor by POST'ing the attached logline example\r\n 3. Notice the @timestamp will end up as the same datetime, but with the year 2020 not 2018 as it should be.\r\n\r\n[pipeline.txt](https://github.com/elastic/elasticsearch/files/4085282/pipeline.txt)\r\n[logline.txt](https://github.com/elastic/elasticsearch/files/4085283/logline.txt)\r\n\r\n**Elasticsearch version** \r\n    \"number\" : \"7.4.1\",\r\n    \"build_flavor\" : \"unknown\",\r\n    \"build_type\" : \"unknown\",\r\n    \"build_hash\" : \"fc0eeb6e2c25915d63d871d344e3d0b45ea0ea1e\",\r\n    \"build_date\" : \"2019-10-22T17:16:35.176724Z\",\r\n    \"build_snapshot\" : false,\r\n    \"lucene_version\" : \"8.2.0\",\r\n    \"minimum_wire_compatibility_version\" : \"6.8.0\",\r\n    \"minimum_index_compatibility_version\" : \"6.0.0-beta1\"\r\n\r\n**Plugins installed**: \r\nnone\r\n\r\n**JVM version** \r\njava version \"1.8.0_231\"\r\nJava(TM) SE Runtime Environment (build 1.8.0_231-b11)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.231-b11, mixed mode)\r\n\r\n**OS version** \r\nOS Name:                   Microsoft Windows Server 2012 R2 Standard\r\nOS Version:                6.3.9600 N/A Build 9600\r\nOS Manufacturer:           Microsoft Corporation\r\nOS Configuration:          Member Server\r\nOS Build Type:             Multiprocessor Free\r\nBIOS Version:              Phoenix Technologies LTD 6.00, 19-09-2018\r\n\r\n","closed_by":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"performed_via_github_app":null}