{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/23001","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23001/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23001/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23001/events","html_url":"https://github.com/elastic/elasticsearch/issues/23001","id":205665168,"node_id":"MDU6SXNzdWUyMDU2NjUxNjg=","number":23001,"title":"Update curl references in docs to set Content-Type","user":{"login":"jordansissel","id":131818,"node_id":"MDQ6VXNlcjEzMTgxOA==","avatar_url":"https://avatars1.githubusercontent.com/u/131818?v=4","gravatar_id":"","url":"https://api.github.com/users/jordansissel","html_url":"https://github.com/jordansissel","followers_url":"https://api.github.com/users/jordansissel/followers","following_url":"https://api.github.com/users/jordansissel/following{/other_user}","gists_url":"https://api.github.com/users/jordansissel/gists{/gist_id}","starred_url":"https://api.github.com/users/jordansissel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jordansissel/subscriptions","organizations_url":"https://api.github.com/users/jordansissel/orgs","repos_url":"https://api.github.com/users/jordansissel/repos","events_url":"https://api.github.com/users/jordansissel/events{/privacy}","received_events_url":"https://api.github.com/users/jordansissel/received_events","type":"User","site_admin":false},"labels":[{"id":23715,"node_id":"MDU6TGFiZWwyMzcxNQ==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Edocs","name":">docs","color":"db755e","default":false,"description":"General docs changes"},{"id":92913658,"node_id":"MDU6TGFiZWw5MjkxMzY1OA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/blocker","name":"blocker","color":"e11d21","default":false,"description":null},{"id":511906923,"node_id":"MDU6TGFiZWw1MTE5MDY5MjM=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v5.3.0","name":"v5.3.0","color":"DDDDDD","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2017-02-06T18:11:54Z","updated_at":"2017-02-23T10:48:46Z","closed_at":"2017-02-22T15:06:02Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Context: https://github.com/elastic/elasticsearch/pull/22691\r\n\r\nWe should probably update all our docs to set Content-Type header in curl. Grepping I found 65 curl calls that use `-d` and dont' set a content type:\r\n\r\n```\r\n% ack curl docs | grep -- '-d'\r\ndocs/reference/analysis/tokenfilters/pattern-capture-tokenfilter.asciidoc:49:curl -XPUT localhost:9200/test/  -d '\r\ndocs/reference/analysis/tokenfilters/pattern-capture-tokenfilter.asciidoc:90:curl -XPUT localhost:9200/test/  -d '\r\ndocs/reference/cat/recovery.asciidoc:36:> curl -XPUT 'localhost:9200/wiki/_settings' -d'{\"number_of_replicas\":1}'\r\ndocs/reference/cat/shards.asciidoc:60:% curl -XPUT 192.168.56.20:9200/_settings -d'{\"number_of_replicas\":1}'\r\ndocs/reference/cat/shards.asciidoc:77:% curl -XPUT 192.168.56.20:9200/_settings -d'{\"number_of_replicas\":3}'\r\ndocs/reference/cluster/reroute.asciidoc:14:curl -XPOST 'localhost:9200/_cluster/reroute' -d '{\r\ndocs/reference/cluster/update-settings.asciidoc:10:curl -XPUT localhost:9200/_cluster/settings -d '{\r\ndocs/reference/cluster/update-settings.asciidoc:21:curl -XPUT localhost:9200/_cluster/settings -d '{\r\ndocs/reference/cluster/update-settings.asciidoc:49:curl -XPUT localhost:9200/_cluster/settings -d '{\r\ndocs/reference/cluster/update-settings.asciidoc:72:curl -XPUT localhost:9200/_cluster/settings -d '{\r\ndocs/reference/cluster/allocation-explain.asciidoc:19:$ curl -XGET 'http://localhost:9200/_cluster/allocation/explain' -d '{\r\ndocs/reference/cluster/allocation-explain.asciidoc:37:$ curl -XGET 'http://localhost:9200/_cluster/allocation/explain' -d '{\r\ndocs/reference/docs/multi-get.asciidoc:12:curl 'localhost:9200/_mget' -d '{\r\ndocs/reference/docs/multi-get.asciidoc:33:curl 'localhost:9200/test/_mget' -d '{\r\ndocs/reference/docs/multi-get.asciidoc:51:curl 'localhost:9200/test/type/_mget' -d '{\r\ndocs/reference/docs/multi-get.asciidoc:68:curl 'localhost:9200/test/type/_mget' -d '{\r\ndocs/reference/docs/multi-get.asciidoc:88:curl 'localhost:9200/test/_mget' -d '{\r\ndocs/reference/docs/multi-get.asciidoc:126:curl 'localhost:9200/_mget' -d '{\r\ndocs/reference/docs/multi-get.asciidoc:163:curl 'localhost:9200/_mget' -d '{\r\ndocs/reference/docs/multi-get.asciidoc:186:curl 'localhost:9200/test/type/_mget?stored_fields=field1,field2' -d '{\r\ndocs/reference/docs/multi-get.asciidoc:214:curl 'localhost:9200/_mget?routing=key1' -d '{\r\ndocs/reference/docs/termvectors.asciidoc:127:curl -s -XPUT 'http://localhost:9200/twitter/' -d '{\r\ndocs/reference/docs/termvectors.asciidoc:170:curl -XPUT 'http://localhost:9200/twitter/tweet/1?pretty=true' -d '{\r\ndocs/reference/docs/termvectors.asciidoc:175:curl -XPUT 'http://localhost:9200/twitter/tweet/2?pretty=true' -d '{\r\ndocs/reference/docs/termvectors.asciidoc:187:curl -XGET 'http://localhost:9200/twitter/tweet/1/_termvectors?pretty=true' -d '{\r\ndocs/reference/docs/termvectors.asciidoc:271:curl -XGET 'http://localhost:9200/twitter/tweet/1/_termvectors?pretty=true' -d '{\r\ndocs/reference/docs/termvectors.asciidoc:296:curl -XGET 'http://localhost:9200/twitter/tweet/_termvectors' -d '{\r\ndocs/reference/docs/termvectors.asciidoc:317:curl -XGET 'http://localhost:9200/twitter/tweet/_termvectors' -d '{\r\ndocs/reference/docs/bulk.asciidoc:59:$ curl -s -XPOST localhost:9200/_bulk --data-binary \"@requests\"; echo\r\ndocs/reference/docs/multi-termvectors.asciidoc:15:curl 'localhost:9200/_mtermvectors' -d '{\r\ndocs/reference/docs/multi-termvectors.asciidoc:42:curl 'localhost:9200/testidx/_mtermvectors' -d '{\r\ndocs/reference/docs/multi-termvectors.asciidoc:64:curl 'localhost:9200/testidx/test/_mtermvectors' -d '{\r\ndocs/reference/docs/multi-termvectors.asciidoc:84:curl 'localhost:9200/testidx/test/_mtermvectors' -d '{\r\ndocs/reference/docs/multi-termvectors.asciidoc:102:curl 'localhost:9200/_mtermvectors' -d '{\r\ndocs/reference/indices/update-settings.asciidoc:24:curl -XPUT 'localhost:9200/my_index/_settings' -d '\r\ndocs/reference/indices/update-settings.asciidoc:46:curl -XPUT localhost:9200/test/_settings -d '{\r\ndocs/reference/indices/update-settings.asciidoc:60:curl -XPUT localhost:9200/test/_settings -d '{\r\ndocs/reference/indices/update-settings.asciidoc:88:curl -XPUT 'localhost:9200/myindex/_settings' -d '{\r\ndocs/reference/indices/shadow-replicas.asciidoc:47:curl -XPUT 'localhost:9200/my_index' -d '\r\ndocs/reference/indices/analyze.asciidoc:12:curl -XGET 'localhost:9200/_analyze' -d '\r\ndocs/reference/indices/analyze.asciidoc:23:curl -XGET 'localhost:9200/_analyze' -d '\r\ndocs/reference/indices/analyze.asciidoc:36:curl -XGET 'localhost:9200/_analyze' -d '\r\ndocs/reference/indices/analyze.asciidoc:43:curl -XGET 'localhost:9200/_analyze' -d '\r\ndocs/reference/indices/analyze.asciidoc:58:curl -XGET 'localhost:9200/_analyze' -d '\r\ndocs/reference/indices/analyze.asciidoc:70:curl -XGET 'localhost:9200/test/_analyze' -d '\r\ndocs/reference/indices/analyze.asciidoc:82:curl -XGET 'localhost:9200/test/_analyze' -d '\r\ndocs/reference/indices/analyze.asciidoc:93:curl -XGET 'localhost:9200/test/_analyze' -d '\r\ndocs/reference/modules/scripting/native.asciidoc:61:curl -XPOST localhost:9200/_search -d '{\r\ndocs/reference/modules/snapshots.asciidoc:112:$ curl -XPUT 'http://localhost:9200/_snapshot/my_backup' -d '{\r\ndocs/reference/modules/snapshots.asciidoc:126:$ curl -XPUT 'http://localhost:9200/_snapshot/my_backup' -d '{\r\ndocs/reference/modules/transport.asciidoc:91:curl -XPUT localhost:9200/_cluster/settings -d '{\r\ndocs/reference/modules/transport.asciidoc:103:curl -XPUT localhost:9200/_cluster/settings -d '{\r\ndocs/reference/query-dsl/query-string-syntax.asciidoc:133:curly brackets `{min TO max}`.\r\ndocs/reference/query-dsl/terms-query.asciidoc:100:curl -XPUT localhost:9200/users/user/2 -d '{\r\ndocs/reference/search/request/rescore.asciidoc:44:curl -s -XPOST 'localhost:9200/_search' -d '{\r\ndocs/reference/search/request/rescore.asciidoc:91:curl -s -XPOST 'localhost:9200/_search' -d '{\r\ndocs/reference/search/multi-search.asciidoc:38:$ curl -XGET localhost:9200/_msearch --data-binary \"@requests\"; echo\r\ndocs/reference/search/multi-search.asciidoc:64:$ curl -XGET localhost:9200/test/_msearch --data-binary @requests; echo\r\ndocs/reference/search/multi-search.asciidoc:99:$ curl -XGET localhost:9200/_msearch/template --data-binary @requests; echo\r\ndocs/reference/search/multi-search.asciidoc:112:$ curl -XGET localhost:9200/_msearch/template --data-binary @requests; echo\r\ndocs/reference/search/search-template.asciidoc:560:$ curl -XGET localhost:9200/_msearch/template --data-binary \"@requests\"; echo\r\ndocs/reference/search/field-stats.asciidoc:41:curl -XPOST \"http://localhost:9200/_field_stats?level=indices\" -d '{\r\ndocs/reference/search/field-stats.asciidoc:310:curl -XPOST \"http://localhost:9200/_field_stats?level=indices\" -d '{\r\ndocs/reference/search/field-stats.asciidoc:344:curl -XPOST \"http://localhost:9200/_field_stats?level=indices\" -d '{\r\ndocs/reference/getting-started.asciidoc:590:curl -XPOST 'localhost:9200/bank/account/_bulk?pretty&refresh' --data-binary \"@accounts.json\"\r\n```\r\n\r\n(The above may not have caught all cases of curl needing a content-type)","closed_by":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"performed_via_github_app":null}