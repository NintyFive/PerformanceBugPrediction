[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/66607387","html_url":"https://github.com/elastic/elasticsearch/issues/8895#issuecomment-66607387","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8895","id":66607387,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjA3Mzg3","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2014-12-11T11:39:20Z","updated_at":"2014-12-11T11:39:20Z","author_association":"MEMBER","body":"It automatically disappear or after removing the index, you still send a _snapshot operation (daily backups)?  \n\nCould you describe a bit more what you are doing? \"curl recreation\" for example?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/66608637","html_url":"https://github.com/elastic/elasticsearch/issues/8895#issuecomment-66608637","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8895","id":66608637,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjA4NjM3","user":{"login":"tchyzh","id":7264511,"node_id":"MDQ6VXNlcjcyNjQ1MTE=","avatar_url":"https://avatars3.githubusercontent.com/u/7264511?v=4","gravatar_id":"","url":"https://api.github.com/users/tchyzh","html_url":"https://github.com/tchyzh","followers_url":"https://api.github.com/users/tchyzh/followers","following_url":"https://api.github.com/users/tchyzh/following{/other_user}","gists_url":"https://api.github.com/users/tchyzh/gists{/gist_id}","starred_url":"https://api.github.com/users/tchyzh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tchyzh/subscriptions","organizations_url":"https://api.github.com/users/tchyzh/orgs","repos_url":"https://api.github.com/users/tchyzh/repos","events_url":"https://api.github.com/users/tchyzh/events{/privacy}","received_events_url":"https://api.github.com/users/tchyzh/received_events","type":"User","site_admin":false},"created_at":"2014-12-11T11:51:29Z","updated_at":"2014-12-11T12:21:21Z","author_association":"NONE","body":"Thanks for reacting so fast! I have 1 node.\nDoing curl backup using little script\n\n``` sh\n#!/bin/bash\nnow=\"$(date +'%d.%m.%Y')\"\ncurl -XPUT \"localhost:9200/_snapshot/es-to-s3/$now?wait_for_completion=true\"\n```\n\nThen i delete index using: \n\n``` sh\ncurl -XDELETE 'http://localhost:9200/logstash-11.12.2014/' \n```\n\nit's acknowledged. but when i delete the index it's automatically removed from all snapshots.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/66612749","html_url":"https://github.com/elastic/elasticsearch/issues/8895#issuecomment-66612749","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8895","id":66612749,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjEyNzQ5","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2014-12-11T12:34:02Z","updated_at":"2014-12-11T12:34:02Z","author_association":"MEMBER","body":"Just double checking. How do you check that snapshot has been removed?\n\nI can't reproduce it using `fs` snapshot. I'll check later about `s3` but I'm pretty sure S3 snapshot code is not called when you delete an index.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/66627356","html_url":"https://github.com/elastic/elasticsearch/issues/8895#issuecomment-66627356","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8895","id":66627356,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjI3MzU2","user":{"login":"tchyzh","id":7264511,"node_id":"MDQ6VXNlcjcyNjQ1MTE=","avatar_url":"https://avatars3.githubusercontent.com/u/7264511?v=4","gravatar_id":"","url":"https://api.github.com/users/tchyzh","html_url":"https://github.com/tchyzh","followers_url":"https://api.github.com/users/tchyzh/followers","following_url":"https://api.github.com/users/tchyzh/following{/other_user}","gists_url":"https://api.github.com/users/tchyzh/gists{/gist_id}","starred_url":"https://api.github.com/users/tchyzh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tchyzh/subscriptions","organizations_url":"https://api.github.com/users/tchyzh/orgs","repos_url":"https://api.github.com/users/tchyzh/repos","events_url":"https://api.github.com/users/tchyzh/events{/privacy}","received_events_url":"https://api.github.com/users/tchyzh/received_events","type":"User","site_admin":false},"created_at":"2014-12-11T14:39:24Z","updated_at":"2014-12-11T14:39:24Z","author_association":"NONE","body":"I'm trying to restore that deleted index from snapshot and it's missing there! Checking snapshot with Kopf shows the same. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/66634843","html_url":"https://github.com/elastic/elasticsearch/issues/8895#issuecomment-66634843","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8895","id":66634843,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjM0ODQz","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2014-12-11T15:27:16Z","updated_at":"2014-12-11T15:27:16Z","author_association":"MEMBER","body":"Could you write which exact command you run to restore and then check that everything is back?\n\nI'd like to reproduce your case. Thanks!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/66642805","html_url":"https://github.com/elastic/elasticsearch/issues/8895#issuecomment-66642805","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8895","id":66642805,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NjQyODA1","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2014-12-11T16:14:36Z","updated_at":"2014-12-11T16:14:36Z","author_association":"MEMBER","body":"Ok. I tried to reproduce with elasticsearch 1.3.6 and cloud aws plugin 2.3.0:\n\n```\n# Remove data\nDELETE index\n\n# Create new doc\nPUT index/type/1\n{\n  \"foo\": \"bar\"\n}\n\n# Create S3 repo\nPUT /_snapshot/s3\n{\n    \"type\" : \"s3\",\n    \"settings\" : {\n      \"bucket\": \"XXXXXXX\",\n      \"base_path\": \"dadoonet_backup\",\n      \"access_key\": \"XXXXXXX\",\n      \"secret_key\": \"XXXXXXX\"\n    }\n}\n\n# Snapshot data\nPUT /_snapshot/s3/snap1?wait_for_completion=true\n\n# Check snapshot is here\nGET /_snapshot/s3/_all\n\n# Remove index\nDELETE index\n\n# This one fails\nGET index/_search\n\n# Check snapshot is here\nGET /_snapshot/s3/_all\n\n# Restore data\nPOST /_snapshot/s3/snap1/_restore?wait_for_completion=true\n\n# This one gives results\nGET index/_search\n```\n\nEverything is fine.\n\nClosing for now but feel free to reopen if you come with all details and a reproduction of your issue.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/66765590","html_url":"https://github.com/elastic/elasticsearch/issues/8895#issuecomment-66765590","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8895","id":66765590,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzY1NTkw","user":{"login":"tchyzh","id":7264511,"node_id":"MDQ6VXNlcjcyNjQ1MTE=","avatar_url":"https://avatars3.githubusercontent.com/u/7264511?v=4","gravatar_id":"","url":"https://api.github.com/users/tchyzh","html_url":"https://github.com/tchyzh","followers_url":"https://api.github.com/users/tchyzh/followers","following_url":"https://api.github.com/users/tchyzh/following{/other_user}","gists_url":"https://api.github.com/users/tchyzh/gists{/gist_id}","starred_url":"https://api.github.com/users/tchyzh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tchyzh/subscriptions","organizations_url":"https://api.github.com/users/tchyzh/orgs","repos_url":"https://api.github.com/users/tchyzh/repos","events_url":"https://api.github.com/users/tchyzh/events{/privacy}","received_events_url":"https://api.github.com/users/tchyzh/received_events","type":"User","site_admin":false},"created_at":"2014-12-12T12:15:45Z","updated_at":"2014-12-12T12:15:45Z","author_association":"NONE","body":"Thanks the problem is resolved!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/66766492","html_url":"https://github.com/elastic/elasticsearch/issues/8895#issuecomment-66766492","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8895","id":66766492,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NzY2NDky","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2014-12-12T12:26:50Z","updated_at":"2014-12-12T12:26:50Z","author_association":"MEMBER","body":"What was it for my information?\n","performed_via_github_app":null}]