{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/49821","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49821/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49821/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49821/events","html_url":"https://github.com/elastic/elasticsearch/issues/49821","id":532561254,"node_id":"MDU6SXNzdWU1MzI1NjEyNTQ=","number":49821,"title":"IntervalQueryBuilderTests.testCacheability","user":{"login":"pugnascotia","id":8696382,"node_id":"MDQ6VXNlcjg2OTYzODI=","avatar_url":"https://avatars1.githubusercontent.com/u/8696382?v=4","gravatar_id":"","url":"https://api.github.com/users/pugnascotia","html_url":"https://github.com/pugnascotia","followers_url":"https://api.github.com/users/pugnascotia/followers","following_url":"https://api.github.com/users/pugnascotia/following{/other_user}","gists_url":"https://api.github.com/users/pugnascotia/gists{/gist_id}","starred_url":"https://api.github.com/users/pugnascotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pugnascotia/subscriptions","organizations_url":"https://api.github.com/users/pugnascotia/orgs","repos_url":"https://api.github.com/users/pugnascotia/repos","events_url":"https://api.github.com/users/pugnascotia/events{/privacy}","received_events_url":"https://api.github.com/users/pugnascotia/received_events","type":"User","site_admin":false},"labels":[{"id":146832564,"node_id":"MDU6TGFiZWwxNDY4MzI1NjQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Search","name":":Search/Search","color":"0e8a16","default":false,"description":"Search-related issues that do not fall into other categories"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"},{"id":1619315113,"node_id":"MDU6TGFiZWwxNjE5MzE1MTEz","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v7.6.0","name":"v7.6.0","color":"DDDDDD","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"romseygeek","id":1347065,"node_id":"MDQ6VXNlcjEzNDcwNjU=","avatar_url":"https://avatars0.githubusercontent.com/u/1347065?v=4","gravatar_id":"","url":"https://api.github.com/users/romseygeek","html_url":"https://github.com/romseygeek","followers_url":"https://api.github.com/users/romseygeek/followers","following_url":"https://api.github.com/users/romseygeek/following{/other_user}","gists_url":"https://api.github.com/users/romseygeek/gists{/gist_id}","starred_url":"https://api.github.com/users/romseygeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/romseygeek/subscriptions","organizations_url":"https://api.github.com/users/romseygeek/orgs","repos_url":"https://api.github.com/users/romseygeek/repos","events_url":"https://api.github.com/users/romseygeek/events{/privacy}","received_events_url":"https://api.github.com/users/romseygeek/received_events","type":"User","site_admin":false},"assignees":[{"login":"romseygeek","id":1347065,"node_id":"MDQ6VXNlcjEzNDcwNjU=","avatar_url":"https://avatars0.githubusercontent.com/u/1347065?v=4","gravatar_id":"","url":"https://api.github.com/users/romseygeek","html_url":"https://github.com/romseygeek","followers_url":"https://api.github.com/users/romseygeek/followers","following_url":"https://api.github.com/users/romseygeek/following{/other_user}","gists_url":"https://api.github.com/users/romseygeek/gists{/gist_id}","starred_url":"https://api.github.com/users/romseygeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/romseygeek/subscriptions","organizations_url":"https://api.github.com/users/romseygeek/orgs","repos_url":"https://api.github.com/users/romseygeek/repos","events_url":"https://api.github.com/users/romseygeek/events{/privacy}","received_events_url":"https://api.github.com/users/romseygeek/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2019-12-04T09:39:43Z","updated_at":"2019-12-04T12:16:37Z","closed_at":"2019-12-04T12:16:37Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Test failed with:\r\n\r\n```\r\njava.lang.AssertionError: query should be cacheable: {\r\n      \"intervals\" : {\r\n        \"mapped_string\" : {\r\n          \"match\" : {\r\n            \"query\" : \"ߌߙ߂߇ߵߚߕߢߊߖߛ߷ߓ߿ߊߐ߬ߋߠa \\uD841\\uDDDC\\uD848\\uDC72a\",\r\n            \"max_gaps\" : 1,\r\n            \"ordered\" : true,\r\n            \"analyzer\" : \"keyword\",\r\n            \"filter\" : {\r\n              \"script\" : {\r\n                \"source\" : \"1\",\r\n                \"lang\" : \"mockscript\"\r\n              }\r\n            }\r\n          },\r\n          \"boost\" : 1.0\r\n        }\r\n      }\r\n    }\r\n```\r\n\r\nReproducible on `7.x` with:\r\n\r\n```\r\n./gradlew ':server:test' --tests \\\r\n    \"org.elasticsearch.index.query.IntervalQueryBuilderTests.testCacheability\" \\\r\n    -Dtests.seed=F17366F2B487C861 -Dtests.security.manager=true \\\r\n    -Dtests.locale=ar-QA -Dtests.timezone=SystemV/YST9YDT -Dcompiler.java=12 \\\r\n    -Druntime.java=8\r\n```\r\n\r\nDidn't reproduce on `master` (with the runtime set to 11).\r\n\r\n[Build scan](https://gradle-enterprise.elastic.co/s/gjl7krasuddvs/console-log?task=:server:test)","closed_by":{"login":"romseygeek","id":1347065,"node_id":"MDQ6VXNlcjEzNDcwNjU=","avatar_url":"https://avatars0.githubusercontent.com/u/1347065?v=4","gravatar_id":"","url":"https://api.github.com/users/romseygeek","html_url":"https://github.com/romseygeek","followers_url":"https://api.github.com/users/romseygeek/followers","following_url":"https://api.github.com/users/romseygeek/following{/other_user}","gists_url":"https://api.github.com/users/romseygeek/gists{/gist_id}","starred_url":"https://api.github.com/users/romseygeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/romseygeek/subscriptions","organizations_url":"https://api.github.com/users/romseygeek/orgs","repos_url":"https://api.github.com/users/romseygeek/repos","events_url":"https://api.github.com/users/romseygeek/events{/privacy}","received_events_url":"https://api.github.com/users/romseygeek/received_events","type":"User","site_admin":false},"performed_via_github_app":null}