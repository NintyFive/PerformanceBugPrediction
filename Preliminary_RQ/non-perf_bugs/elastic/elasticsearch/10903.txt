{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/10903","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10903/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10903/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10903/events","html_url":"https://github.com/elastic/elasticsearch/issues/10903","id":72137117,"node_id":"MDU6SXNzdWU3MjEzNzExNw==","number":10903,"title":"Replica shard corrupted","user":{"login":"niv0","id":2017626,"node_id":"MDQ6VXNlcjIwMTc2MjY=","avatar_url":"https://avatars1.githubusercontent.com/u/2017626?v=4","gravatar_id":"","url":"https://api.github.com/users/niv0","html_url":"https://github.com/niv0","followers_url":"https://api.github.com/users/niv0/followers","following_url":"https://api.github.com/users/niv0/following{/other_user}","gists_url":"https://api.github.com/users/niv0/gists{/gist_id}","starred_url":"https://api.github.com/users/niv0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niv0/subscriptions","organizations_url":"https://api.github.com/users/niv0/orgs","repos_url":"https://api.github.com/users/niv0/repos","events_url":"https://api.github.com/users/niv0/events{/privacy}","received_events_url":"https://api.github.com/users/niv0/received_events","type":"User","site_admin":false},"labels":[{"id":111624690,"node_id":"MDU6TGFiZWwxMTE2MjQ2OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/feedback_needed","name":"feedback_needed","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2015-04-30T11:49:31Z","updated_at":"2015-05-22T09:43:12Z","closed_at":"2015-05-22T09:43:12Z","author_association":"NONE","active_lock_reason":null,"body":"We have an cluster with two data nodes and one non-data nodes. Our index 'location' has 5 shards and 1 replica. \n\nWhen we try to get a document\n\n``` json\nGET location/mapping/31307093\n```\n\nOnce we get an answer with a document\n\n``` json\n{\n   \"_index\": \"location.b\",\n   \"_type\": \"mapping\",\n   \"_id\": \"31307093\",\n   \"_version\": 1,\n   \"found\": true,\n   \"_source\": {\n      \"MAPPINGTYP\": \"A\",\n      \"LOKATIONSID_NEU\": \"31330483\",\n      \"LETZTEAENDERUNG\": \"2015-04-28-02.05.25.547042\"\n   }\n}\n```\n\nBut next query gives us\n\n``` json\n{\n   \"_index\": \"location.b\",\n   \"_type\": \"mapping\",\n   \"_id\": \"31307093\",\n   \"found\": false\n}\n```\n\nIt seems that replica shard is corrupted?  Is there any way to check if any other document is corrupted? I guess shutting down one node, deleting the files and starting it again would help, but this doesn't solve the real problem. Would the upgrade to elasticsearch 1.5.x bring any improvement in that area?\n\nWe use elasticsearch 1.4.4 with jdk1.8.0_40 running on Red Hat Enterprise Linux Server release 6.6 running on VMware vSphere.\n\nKind regs\nVladimir Nisevic\n","closed_by":{"login":"niv0","id":2017626,"node_id":"MDQ6VXNlcjIwMTc2MjY=","avatar_url":"https://avatars1.githubusercontent.com/u/2017626?v=4","gravatar_id":"","url":"https://api.github.com/users/niv0","html_url":"https://github.com/niv0","followers_url":"https://api.github.com/users/niv0/followers","following_url":"https://api.github.com/users/niv0/following{/other_user}","gists_url":"https://api.github.com/users/niv0/gists{/gist_id}","starred_url":"https://api.github.com/users/niv0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niv0/subscriptions","organizations_url":"https://api.github.com/users/niv0/orgs","repos_url":"https://api.github.com/users/niv0/repos","events_url":"https://api.github.com/users/niv0/events{/privacy}","received_events_url":"https://api.github.com/users/niv0/received_events","type":"User","site_admin":false},"performed_via_github_app":null}