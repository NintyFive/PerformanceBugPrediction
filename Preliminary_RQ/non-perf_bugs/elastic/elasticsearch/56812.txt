{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/56812","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/56812/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/56812/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/56812/events","html_url":"https://github.com/elastic/elasticsearch/issues/56812","id":618902462,"node_id":"MDU6SXNzdWU2MTg5MDI0NjI=","number":56812,"title":"[7.7.0] Missing breaking change: null values for minimum_should_match","user":{"login":"jayaddison","id":55152140,"node_id":"MDQ6VXNlcjU1MTUyMTQw","avatar_url":"https://avatars0.githubusercontent.com/u/55152140?v=4","gravatar_id":"","url":"https://api.github.com/users/jayaddison","html_url":"https://github.com/jayaddison","followers_url":"https://api.github.com/users/jayaddison/followers","following_url":"https://api.github.com/users/jayaddison/following{/other_user}","gists_url":"https://api.github.com/users/jayaddison/gists{/gist_id}","starred_url":"https://api.github.com/users/jayaddison/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jayaddison/subscriptions","organizations_url":"https://api.github.com/users/jayaddison/orgs","repos_url":"https://api.github.com/users/jayaddison/repos","events_url":"https://api.github.com/users/jayaddison/events{/privacy}","received_events_url":"https://api.github.com/users/jayaddison/received_events","type":"User","site_admin":false},"labels":[{"id":146832564,"node_id":"MDU6TGFiZWwxNDY4MzI1NjQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Search","name":":Search/Search","color":"0e8a16","default":false,"description":"Search-related issues that do not fall into other categories"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"assignees":[{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false}],"milestone":null,"comments":6,"created_at":"2020-05-15T11:34:12Z","updated_at":"2020-09-07T09:38:37Z","closed_at":"2020-05-26T14:23:03Z","author_association":"NONE","active_lock_reason":null,"body":"**Elasticsearch version** (`bin/elasticsearch --version`): `7.7.0`\r\n\r\n**Plugins installed**: []\r\n\r\n**JVM version** (`java -version`): `openjdk 14 2020-03-17`\r\n\r\n**OS version** (`uname -a` if on a Unix-like system): `Linux basecamp 5.4.0-29-generic #33-Ubuntu SMP Wed Apr 29 14:32:27 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux`\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\nDuring execution of a `bool` query with `minimum_should_match` value set to `null`, an `x_content_parse_exception` was raised:\r\n\r\n```\r\n[bool] failed to parse field [minimum_should_match]\r\n```\r\n\r\n**Steps to reproduce**:\r\n\r\n 1. Perform a bool query against an ES 7.7.0 cluster:\r\n```sh\r\ncurl -H 'Content-Type: application/json' localhost:9200/_search --data '{\"query\": {\"bool\": {\"minimum_should_match\": null}}}'\r\n```\r\n 2. Encounter the error response:\r\n```\r\n{\"error\":{\"root_cause\":[{\"type\":\"x_content_parse_exception\",\"reason\":\"[1:45] [bool] failed to parse field [minimum_should_match]\"}],\"type\":\"x_content_parse_exception\",\"reason\":\"[1:45] [bool] failed to parse field [minimum_should_match]\",\"caused_by\":{\"type\":\"illegal_state_exception\",\"reason\":\"Can't get text on a VALUE_NULL at 1:45\"}},\"status\":400}\r\n```\r\n\r\n**Expected behaviour**:\r\nThis query was valid in ES 7.6.2, and doesn't appear in the 'breaking changes' for 7.7.0 ([ref](https://www.elastic.co/guide/en/elasticsearch/reference/7.7/release-notes-7.7.0.html#breaking-7.7.0)), so this failure was unexpected.\r\n\r\n 1. Perform a bool query against an ES 7.6.2 cluster:\r\n```sh\r\ncurl -H 'Content-Type: application/json' localhost:9200/_search --data '{\"query\": {\"bool\": {\"minimum_should_match\": null}}}'\r\n```\r\n2. Encounter a valid search response:\r\n```\r\n{\"took\":0,\"timed_out\":false,\"_shards\":{\"total\":0,\"successful\":0,\"skipped\":0,\"failed\":0},\"hits\":{\"total\":{\"value\":0,\"relation\":\"eq\"},\"max_score\":0.0,\"hits\":[]}}\r\n```","closed_by":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"performed_via_github_app":null}