[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/311906485","html_url":"https://github.com/elastic/elasticsearch/issues/25450#issuecomment-311906485","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25450","id":311906485,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTkwNjQ4NQ==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2017-06-29T09:00:50Z","updated_at":"2017-06-29T09:00:50Z","author_association":"MEMBER","body":"Today's failures:\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+java9-periodic/3059/console\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+5.5+java9-periodic/266/\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+java9-periodic/3058\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+java9-periodic/3058/\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+java9-periodic/3055\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+5.5+java9-periodic/265\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+5.x+java9-periodic/3037/console\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+5.5+java9-periodic/264/console","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/311920394","html_url":"https://github.com/elastic/elasticsearch/issues/25450#issuecomment-311920394","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25450","id":311920394,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTkyMDM5NA==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2017-06-29T09:58:27Z","updated_at":"2017-06-29T10:00:14Z","author_association":"MEMBER","body":"Similar failure in smoke test plugins qa module:\r\n\r\n```\r\nplugins/build/cluster/integTestCluster node0/elasticsearch-5.5.0-SNAPSHOT]\r\n|    [2017-06-29T00:49:49,300][WARN ][o.e.n.Node               ] version [5.5.0-SNAPSHOT] is a pre-release version of Elasticsearch and is not suitable for production\r\n|    [2017-06-29T00:49:52,621][ERROR][o.e.b.ElasticsearchUncaughtExceptionHandler] [] fatal error in thread [main], exiting\r\n:x-pack-elasticsearch:qa:smoke-test-plugins:integTestCluster#wait FAILED\r\n:x-pack-elasticsearch:qa:smoke-test-plugins:integTestCluster#wait (Thread[Daemon worker,5,main]) completed. Took 4.544 secs.\r\n|    java.lang.ExceptionInInitializerError: null\r\n|    \tat org.apache.hadoop.util.StringUtils.<clinit>(StringUtils.java:80) ~[?:?]\r\n|    \tat java.lang.Class.forName0(Native Method) ~[?:?]\r\n:x-pack-elasticsearch:qa:smoke-test-plugins:integTestCluster#stop (Thread[Daemon worker,5,main]) started.\r\n|    \tat java.lang.Class.forName(Class.java:292) ~[?:?]\r\n|    \tat org.elasticsearch.repositories.hdfs.HdfsPlugin.evilHadoopInit(HdfsPlugin.java:65) ~[?:?]\r\n|    \tat java.security.AccessController.doPrivileged(Native Method) ~[?:?]\r\n|    \tat org.elasticsearch.repositories.hdfs.HdfsPlugin.<clinit>(HdfsPlugin.java:48) ~[?:?]\r\n|    \tat jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[?:?]\r\n|    \tat jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[?:?]\r\n|    \tat jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[?:?]\r\n|    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:488) ~[?:?]\r\n|    \tat org.elasticsearch.plugins.PluginsService.loadPlugin(PluginsService.java:426) ~[elasticsearch-5.5.0-SNAPSHOT.jar:5.5.0-SNAPSHOT]\r\n|    \tat org.elasticsearch.plugins.PluginsService.loadBundles(PluginsService.java:387) ~[elasticsearch-5.5.0-SNAPSHOT.jar:5.5.0-SNAPSHOT]\r\n|    \tat org.elasticsearch.plugins.PluginsService.<init>(PluginsService.java:140) ~[elasticsearch-5.5.0-SNAPSHOT.jar:5.5.0-SNAPSHOT]\r\n|    \tat org.elasticsearch.node.Node.<init>(Node.java:312) ~[elasticsearch-5.5.0-SNAPSHOT.jar:5.5.0-SNAPSHOT]\r\n:x-pack-elasticsearch:qa:smoke-test-plugins:integTestCluster#stop\r\nPutting task artifact state for task ':x-pack-elasticsearch:qa:smoke-test-plugins:integTestCluster#stop' into context took 0.0 secs.\r\nExecuting task ':x-pack-elasticsearch:qa:smoke-test-plugins:integTestCluster#stop' (up-to-date check took 0.0 secs) due to:\r\n|    \tat org.elasticsearch.node.Node.<init>(Node.java:244) ~[elasticsearch-5.5.0-SNAPSHOT.jar:5.5.0-SNAPSHOT]\r\n|    \tat org.elasticsearch.bootstrap.Bootstrap$5.<init>(Bootstrap.java:232) ~[elasticsearch-5.5.0-SNAPSHOT.jar:5.5.0-SNAPSHOT]\r\n  Task has not declared any outputs.\r\n|    \tat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:232) ~[elasticsearch-5.5.0-SNAPSHOT.jar:5.5.0-SNAPSHOT]\r\nShutting down external node with pid 13495\r\n|    \tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:351) ~[elasticsearch-5.5.0-SNAPSHOT.jar:5.5.0-SNAPSHOT]\r\nStarting process 'command 'kill''. Working directory: /var/lib/jenkins/workspace/elastic+x-pack-elasticsearch+5.5+java9-periodic/elasticsearch-extra/x-pack-elasticsearch/qa/smoke-test-plugins Command: kill -9 13495\r\n|    \tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:123) ~[elasticsearch-5.5.0-SNAPSHOT.jar:5.5.0-SNAPSHOT]\r\n|    \tat org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:114) ~[elasticsearch-5.5.0-SNAPSHOT.jar:5.5.0-SNAPSHOT]\r\n|    \tat org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:67) ~[elasticsearch-5.5.0-SNAPSHOT.jar:5.5.0-SNAPSHOT]\r\n|    \tat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:122) ~[elasticsearch-5.5.0-SNAPSHOT.jar:5.5.0-SNAPSHOT]\r\n|    \tat org.elasticsearch.cli.Command.main(Command.java:88) ~[elasticsearch-5.5.0-SNAPSHOT.jar:5.5.0-SNAPSHOT]\r\n|    \tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:91) ~[elasticsearch-5.5.0-SNAPSHOT.jar:5.5.0-SNAPSHOT]\r\nSuccessfully started process 'command 'kill''\r\n|    \tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:84) ~[elasticsearch-5.5.0-SNAPSHOT.jar:5.5.0-SNAPSHOT]\r\n|    Caused by: java.lang.StringIndexOutOfBoundsException: begin 0, end 3, length 1\r\n|    \tat java.lang.String.checkBoundsBeginEnd(String.java:3116) ~[?:?]\r\n|    \tat java.lang.String.substring(String.java:1885) ~[?:?]\r\n|    \tat org.apache.hadoop.util.Shell.<clinit>(Shell.java:51) ~[?:?]\r\n|    \t... 25 more\r\n```\r\n\r\nBuild url: https://internal-ci.elastic.co/job/elastic+x-pack-elasticsearch+5.5+java9-periodic/90/console\r\n\r\nanother instance: https://internal-ci.elastic.co/job/elastic+x-pack-elasticsearch+5.x+java9-periodic/475/console","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/311974397","html_url":"https://github.com/elastic/elasticsearch/issues/25450#issuecomment-311974397","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25450","id":311974397,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTk3NDM5Nw==","user":{"login":"jbaiera","id":875779,"node_id":"MDQ6VXNlcjg3NTc3OQ==","avatar_url":"https://avatars1.githubusercontent.com/u/875779?v=4","gravatar_id":"","url":"https://api.github.com/users/jbaiera","html_url":"https://github.com/jbaiera","followers_url":"https://api.github.com/users/jbaiera/followers","following_url":"https://api.github.com/users/jbaiera/following{/other_user}","gists_url":"https://api.github.com/users/jbaiera/gists{/gist_id}","starred_url":"https://api.github.com/users/jbaiera/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbaiera/subscriptions","organizations_url":"https://api.github.com/users/jbaiera/orgs","repos_url":"https://api.github.com/users/jbaiera/repos","events_url":"https://api.github.com/users/jbaiera/events{/privacy}","received_events_url":"https://api.github.com/users/jbaiera/received_events","type":"User","site_admin":false},"created_at":"2017-06-29T13:57:14Z","updated_at":"2017-06-29T13:57:14Z","author_association":"CONTRIBUTOR","body":"We can look into bringing the Hadoop version up to 2.8.x to fix this, as I believe that this problem is fixed in that release line. It's frustrating that 2.7 may simply not allow java 9 compatibility at all. I'm not a fan of the hack approach since it may have unintended side effects down the road on code that is prepared for the version change.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/312054679","html_url":"https://github.com/elastic/elasticsearch/issues/25450#issuecomment-312054679","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25450","id":312054679,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjA1NDY3OQ==","user":{"login":"jbaiera","id":875779,"node_id":"MDQ6VXNlcjg3NTc3OQ==","avatar_url":"https://avatars1.githubusercontent.com/u/875779?v=4","gravatar_id":"","url":"https://api.github.com/users/jbaiera","html_url":"https://github.com/jbaiera","followers_url":"https://api.github.com/users/jbaiera/followers","following_url":"https://api.github.com/users/jbaiera/following{/other_user}","gists_url":"https://api.github.com/users/jbaiera/gists{/gist_id}","starred_url":"https://api.github.com/users/jbaiera/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbaiera/subscriptions","organizations_url":"https://api.github.com/users/jbaiera/orgs","repos_url":"https://api.github.com/users/jbaiera/repos","events_url":"https://api.github.com/users/jbaiera/events{/privacy}","received_events_url":"https://api.github.com/users/jbaiera/received_events","type":"User","site_admin":false},"created_at":"2017-06-29T18:27:52Z","updated_at":"2017-06-29T21:06:19Z","author_association":"CONTRIBUTOR","body":"I've got the plugin upgraded locally, but I'm running into a problem with 2.8.0 in that there is a thread started in the HDFS client that leaks and completely ignores thread interrupts. Seems like it's been reported but the fix isn't targeted for release until 2.9.0: https://issues.apache.org/jira/browse/HADOOP-12829\r\n\r\nEdit: Got a work around figured out for our testing environment. PR will land soon.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/312223672","html_url":"https://github.com/elastic/elasticsearch/issues/25450#issuecomment-312223672","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25450","id":312223672,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjIyMzY3Mg==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2017-06-30T09:40:09Z","updated_at":"2017-06-30T16:48:46Z","author_association":"CONTRIBUTOR","body":"There have been 23 failures so far today.  If the PR cannot be merged today then I think it would be worth disabling the test to avoid the noise over the weekend.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/312231831","html_url":"https://github.com/elastic/elasticsearch/issues/25450#issuecomment-312231831","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25450","id":312231831,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjIzMTgzMQ==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2017-06-30T10:20:01Z","updated_at":"2017-06-30T16:47:20Z","author_association":"CONTRIBUTOR","body":"Also another 10 cases of the smoke test failure detailed in https://github.com/elastic/elasticsearch/issues/25450#issuecomment-311920394","performed_via_github_app":null}]