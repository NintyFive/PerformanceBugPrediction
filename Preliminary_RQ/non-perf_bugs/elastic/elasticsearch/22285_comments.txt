[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/268588102","html_url":"https://github.com/elastic/elasticsearch/issues/22285#issuecomment-268588102","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22285","id":268588102,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODU4ODEwMg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-12-21T17:38:04Z","updated_at":"2016-12-21T17:38:04Z","author_association":"MEMBER","body":"This is possibly related to having indices from 2.x in the cluster.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/268655559","html_url":"https://github.com/elastic/elasticsearch/issues/22285#issuecomment-268655559","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22285","id":268655559,"node_id":"MDEyOklzc3VlQ29tbWVudDI2ODY1NTU1OQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-12-21T22:10:50Z","updated_at":"2016-12-21T22:10:50Z","author_association":"MEMBER","body":"> This is possibly related to having indices from 2.x in the cluster.\r\n\r\nThis was a red herring, it was far more sinister.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/276512947","html_url":"https://github.com/elastic/elasticsearch/issues/22285#issuecomment-276512947","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22285","id":276512947,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjUxMjk0Nw==","user":{"login":"OmarDarwish","id":3641984,"node_id":"MDQ6VXNlcjM2NDE5ODQ=","avatar_url":"https://avatars1.githubusercontent.com/u/3641984?v=4","gravatar_id":"","url":"https://api.github.com/users/OmarDarwish","html_url":"https://github.com/OmarDarwish","followers_url":"https://api.github.com/users/OmarDarwish/followers","following_url":"https://api.github.com/users/OmarDarwish/following{/other_user}","gists_url":"https://api.github.com/users/OmarDarwish/gists{/gist_id}","starred_url":"https://api.github.com/users/OmarDarwish/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OmarDarwish/subscriptions","organizations_url":"https://api.github.com/users/OmarDarwish/orgs","repos_url":"https://api.github.com/users/OmarDarwish/repos","events_url":"https://api.github.com/users/OmarDarwish/events{/privacy}","received_events_url":"https://api.github.com/users/OmarDarwish/received_events","type":"User","site_admin":false},"created_at":"2017-01-31T22:24:32Z","updated_at":"2017-02-01T00:57:51Z","author_association":"NONE","body":"So what was the solution? We are seeing a simliar error message that is removing our data nodes from our cluster:\r\n\r\n```\r\n[WARN ][o.e.t.n.Netty4Transport  ] [...] exception caught on transport layer [[id: 0x2ece9a4b, L:/..:49172 - R:../...:9300]], closing connection\r\njava.lang.IllegalStateException: Message not fully read (response) for requestId [2336886], handler [org.elasticsearch.transport.TransportService$ContextRestoreResponseHandler/org.elasticsearch.action.support.broadcast.node.TransportBroadcastByNodeAction$AsyncAction$1@5d3a1f72], error [false]; resetting\r\n        at org.elasticsearch.transport.TcpTransport.messageReceived(TcpTransport.java:1257) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n        at org.elasticsearch.transport.netty4.Netty4MessageChannelHandler.channelRead(Netty4MessageChannelHandler.java:74) ~[transport-netty4-5.1.1.jar:5.1.1]\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:373) [netty-transport-4.1.6.Final.jar:4.1.6.Final]\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359) [netty-transport-4.1.6.Final.jar:4.1.6.Final]\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:351) [netty-transport-4.1.6.Final.jar:4.1.6.Final]\r\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:293) [netty-codec-4.1.6.Final.jar:4.1.6.Final]\r\n        at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:280) [netty-codec-4.1.6.Final.jar:4.1.6.Final]\r\n        at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:396) [netty-codec-4.1.6.Final.jar:4.1.6.Final]\r\n        at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:248) [netty-codec-4.1.6.Final.jar:4.1.6.Final]\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:373) [netty-transport-4.1.6.Final.jar:4.1.6.Final]\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359) [netty-transport-4.1.6.Final.jar:4.1.6.Final]\r\n        at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:351) [netty-transport-4.1.6.Final.jar:4.1.6.Final]\r\n        at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1334) [netty-transport-4.1.6.Final.jar:4.1.6.Final]\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:373) [netty-transport-4.1.6.Final.jar:4.1.6.Final]\r\n        at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:359) [netty-transport-4.1.6.Final.jar:4.1.6.Final]\r\n        at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:926) [netty-transport-4.1.6.Final.jar:4.1.6.Final]\r\n        at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:129) [netty-transport-4.1.6.Final.jar:4.1.6.Final]\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:651) [netty-transport-4.1.6.Final.jar:4.1.6.Final]\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:536) [netty-transport-4.1.6.Final.jar:4.1.6.Final]\r\n        at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:490) [netty-transport-4.1.6.Final.jar:4.1.6.Final]\r\n        at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:450) [netty-transport-4.1.6.Final.jar:4.1.6.Final]\r\n        at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:873) [netty-common-4.1.6.Final.jar:4.1.6.Final]\r\n        at java.lang.Thread.run(Thread.java:745) [?:1.8.0_111-internal]\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/276518074","html_url":"https://github.com/elastic/elasticsearch/issues/22285#issuecomment-276518074","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22285","id":276518074,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjUxODA3NA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2017-01-31T22:45:54Z","updated_at":"2017-01-31T22:45:54Z","author_association":"CONTRIBUTOR","body":"Upgrade to [5.1.2](https://www.elastic.co/downloads/past-releases/elasticsearch-5-1-2) or [5.2.0](https://www.elastic.co/downloads/past-releases/elasticsearch-5-2-0) which both have the fix.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/281613433","html_url":"https://github.com/elastic/elasticsearch/issues/22285#issuecomment-281613433","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22285","id":281613433,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTYxMzQzMw==","user":{"login":"mostolog","id":19854319,"node_id":"MDQ6VXNlcjE5ODU0MzE5","avatar_url":"https://avatars2.githubusercontent.com/u/19854319?v=4","gravatar_id":"","url":"https://api.github.com/users/mostolog","html_url":"https://github.com/mostolog","followers_url":"https://api.github.com/users/mostolog/followers","following_url":"https://api.github.com/users/mostolog/following{/other_user}","gists_url":"https://api.github.com/users/mostolog/gists{/gist_id}","starred_url":"https://api.github.com/users/mostolog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mostolog/subscriptions","organizations_url":"https://api.github.com/users/mostolog/orgs","repos_url":"https://api.github.com/users/mostolog/repos","events_url":"https://api.github.com/users/mostolog/events{/privacy}","received_events_url":"https://api.github.com/users/mostolog/received_events","type":"User","site_admin":false},"created_at":"2017-02-22T09:19:44Z","updated_at":"2017-02-22T09:19:44Z","author_association":"NONE","body":"Using 5.2.1 it seems I'm still having this issue:\r\n\r\n```\r\nFeb 22 10:14:43 pc elasticsearch[10964]: [2017-02-22T10:14:43,374][INFO ][o.e.n.Node               ] [elasticsearch-data] initializing ...\r\nFeb 22 10:14:43 pc elasticsearch[10964]: [2017-02-22T10:14:43,508][INFO ][o.e.e.NodeEnvironment    ] [elasticsearch-data] using [1] data paths, mounts [[/usr/share/elasticsearch/data (datapool/app/data)]], net usable_space [13.5gb], net total_space [14gb], spins? [possibly], types [zfs]\r\nFeb 22 10:14:43 pc elasticsearch[10964]: [2017-02-22T10:14:43,508][INFO ][o.e.e.NodeEnvironment    ] [elasticsearch-data] heap size [1.9gb], compressed ordinary object pointers [true]\r\nFeb 22 10:14:43 pc elasticsearch[10964]: [2017-02-22T10:14:43,587][INFO ][o.e.n.Node               ] [elasticsearch-data] node name [elasticsearch-data], node ID [yXgT_M87STebU13T98U4Dw]\r\nFeb 22 10:14:43 pc elasticsearch[10964]: [2017-02-22T10:14:43,591][INFO ][o.e.n.Node               ] [elasticsearch-data] version[5.2.1], pid[1], build[db0d481/2017-02-09T22:05:32.386Z], OS[Linux/4.4.0-21-generic/amd64], JVM[Oracle Corporation/OpenJDK 64-Bit Server VM/1.8.0_121/25.121-b13]\r\nFeb 22 10:14:47 pc elasticsearch[10964]: [2017-02-22T10:14:47,413][INFO ][o.e.p.PluginsService     ] [elasticsearch-data] loaded module [aggs-matrix-stats]\r\nFeb 22 10:14:47 pc elasticsearch[10964]: [2017-02-22T10:14:47,414][INFO ][o.e.p.PluginsService     ] [elasticsearch-data] loaded module [ingest-common]\r\nFeb 22 10:14:47 pc elasticsearch[10964]: [2017-02-22T10:14:47,414][INFO ][o.e.p.PluginsService     ] [elasticsearch-data] loaded module [lang-expression]\r\nFeb 22 10:14:47 pc elasticsearch[10964]: [2017-02-22T10:14:47,414][INFO ][o.e.p.PluginsService     ] [elasticsearch-data] loaded module [lang-groovy]\r\nFeb 22 10:14:47 pc elasticsearch[10964]: [2017-02-22T10:14:47,414][INFO ][o.e.p.PluginsService     ] [elasticsearch-data] loaded module [lang-mustache]\r\nFeb 22 10:14:47 pc elasticsearch[10964]: [2017-02-22T10:14:47,414][INFO ][o.e.p.PluginsService     ] [elasticsearch-data] loaded module [lang-painless]\r\nFeb 22 10:14:47 pc elasticsearch[10964]: [2017-02-22T10:14:47,414][INFO ][o.e.p.PluginsService     ] [elasticsearch-data] loaded module [percolator]\r\nFeb 22 10:14:47 pc elasticsearch[10964]: [2017-02-22T10:14:47,415][INFO ][o.e.p.PluginsService     ] [elasticsearch-data] loaded module [reindex]\r\nFeb 22 10:14:47 pc elasticsearch[10964]: [2017-02-22T10:14:47,415][INFO ][o.e.p.PluginsService     ] [elasticsearch-data] loaded module [transport-netty3]\r\nFeb 22 10:14:47 pc elasticsearch[10964]: [2017-02-22T10:14:47,415][INFO ][o.e.p.PluginsService     ] [elasticsearch-data] loaded module [transport-netty4]\r\nFeb 22 10:14:47 pc elasticsearch[10964]: [2017-02-22T10:14:47,418][INFO ][o.e.p.PluginsService     ] [elasticsearch-data] no plugins loaded\r\nFeb 22 10:14:47 pc elasticsearch[10964]: [2017-02-22T10:14:47,958][WARN ][o.e.d.s.g.GroovyScriptEngineService] [groovy] scripts are deprecated, use [painless] scripts instead\r\nFeb 22 10:14:52 pc elasticsearch[10964]: [2017-02-22T10:14:52,711][INFO ][o.e.n.Node               ] [elasticsearch-data] initialized\r\nFeb 22 10:14:52 pc elasticsearch[10964]: [2017-02-22T10:14:52,713][INFO ][o.e.n.Node               ] [elasticsearch-data] starting ...\r\nFeb 22 10:14:52 pc elasticsearch[10964]: [2017-02-22T10:14:52,901][WARN ][i.n.u.i.MacAddressUtil   ] Failed to find a usable hardware address from the network interfaces; using random bytes: f3:36:48:59:c3:a6:a0:f5\r\nFeb 22 10:14:53 pc elasticsearch[10964]: [2017-02-22T10:14:53,267][INFO ][o.e.t.TransportService   ] [elasticsearch-data] publish_address {10.0.0.3:9300}, bound_addresses {10.0.0.3:9300}, {172.18.0.4:9300}\r\nFeb 22 10:14:53 pc elasticsearch[10964]: [2017-02-22T10:14:53,284][INFO ][o.e.b.BootstrapChecks    ] [elasticsearch-data] bound or publishing to a non-loopback or non-link-local address, enforcing bootstrap checks\r\nFeb 22 10:14:56 pc elasticsearch[10964]: [2017-02-22T10:14:56,906][INFO ][o.e.c.s.ClusterService   ] [elasticsearch] added {{elasticsearch-data}{yXgT_M87STebU13T98U4Dw}{iVrGLxOWQAmAEmBSvW4WJQ}{10.0.0.3}{10.0.0.3:9300},}, reason: zen-disco-node-join[{elasticsearch-data}{yXgT_M87STebU13T98U4Dw}{iVrGLxOWQAmAEmBSvW4WJQ}{10.0.0.3}{10.0.0.3:9300}]\r\nFeb 22 10:14:57 pc elasticsearch[10964]: [2017-02-22T10:14:57,327][INFO ][o.e.c.s.ClusterService   ] [elasticsearch-data] detected_master {elasticsearch}{pFof7ItCR3Weurx60K77Dw}{pciKrHiiTxuxXsXoy28loQ}{10.0.0.2}{10.0.0.2:9300}, added {{elasticsearch}{pFof7ItCR3Weurx60K77Dw}{pciKrHiiTxuxXsXoy28loQ}{10.0.0.2}{10.0.0.2:9300},}, reason: zen-disco-receive(from master [master {elasticsearch}{pFof7ItCR3Weurx60K77Dw}{pciKrHiiTxuxXsXoy28loQ}{10.0.0.2}{10.0.0.2:9300} committed version [160]])\r\nFeb 22 10:14:58 pc elasticsearch[10964]: [2017-02-22T10:14:58,089][INFO ][o.e.h.HttpServer         ] [elasticsearch-data] publish_address {10.0.0.3:9200}, bound_addresses {10.0.0.3:9200}, {172.18.0.4:9200}\r\nFeb 22 10:14:58 pc elasticsearch[10964]: [2017-02-22T10:14:58,089][INFO ][o.e.n.Node               ] [elasticsearch-data] started\r\nFeb 22 10:14:59 pc elasticsearch[10964]: [2017-02-22T10:14:59,194][DEBUG][o.e.a.a.i.s.TransportIndicesStatsAction] [elasticsearch] failed to execute [indices:monitor/stats] on node [yXgT_M87STebU13T98U4Dw]\r\nFeb 22 10:14:59 pc elasticsearch[10964]: org.elasticsearch.transport.NodeDisconnectedException: [elasticsearch-data][10.0.0.3:9300][indices:monitor/stats[n]] disconnected\r\nFeb 22 10:14:59 pc elasticsearch[10964]: [2017-02-22T10:14:59,199][DEBUG][o.e.a.a.c.n.s.TransportNodesStatsAction] [elasticsearch] failed to execute on node [yXgT_M87STebU13T98U4Dw]\r\nFeb 22 10:14:59 pc elasticsearch[10964]: org.elasticsearch.transport.NodeDisconnectedException: [elasticsearch-data][10.0.0.3:9300][cluster:monitor/nodes/stats[n]] disconnected\r\nFeb 22 10:14:59 pc elasticsearch[10964]: [2017-02-22T10:14:59,201][INFO ][o.e.c.s.ClusterService   ] [elasticsearch] removed {{elasticsearch-data}{yXgT_M87STebU13T98U4Dw}{iVrGLxOWQAmAEmBSvW4WJQ}{10.0.0.3}{10.0.0.3:9300},}, reason: zen-disco-node-failed({elasticsearch-data}{yXgT_M87STebU13T98U4Dw}{iVrGLxOWQAmAEmBSvW4WJQ}{10.0.0.3}{10.0.0.3:9300}), reason(transport disconnected)[{elasticsearch-data}{yXgT_M87STebU13T98U4Dw}{iVrGLxOWQAmAEmBSvW4WJQ}{10.0.0.3}{10.0.0.3:9300} transport disconnected]\r\nFeb 22 10:14:59 pc elasticsearch[10964]: [2017-02-22T10:14:59,200][WARN ][o.e.a.a.c.n.s.TransportNodesStatsAction] [elasticsearch] not accumulating exceptions, excluding exception from response\r\nFeb 22 10:14:59 pc elasticsearch[10964]: org.elasticsearch.action.FailedNodeException: Failed node [yXgT_M87STebU13T98U4Dw]\r\nFeb 22 10:14:59 pc elasticsearch[10964]: #011at org.elasticsearch.action.support.nodes.TransportNodesAction$AsyncAction.onFailure(TransportNodesAction.java:247) ~[elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:14:59 pc elasticsearch[10964]: #011at org.elasticsearch.action.support.nodes.TransportNodesAction$AsyncAction.access$300(TransportNodesAction.java:160) ~[elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:14:59 pc elasticsearch[10964]: #011at org.elasticsearch.action.support.nodes.TransportNodesAction$AsyncAction$1.handleException(TransportNodesAction.java:219) ~[elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:14:59 pc elasticsearch[10964]: #011at org.elasticsearch.transport.TransportService$ContextRestoreResponseHandler.handleException(TransportService.java:1024) ~[elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:14:59 pc elasticsearch[10964]: #011at org.elasticsearch.transport.TransportService$Adapter.lambda$onNodeDisconnected$6(TransportService.java:851) ~[elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:14:59 pc elasticsearch[10964]: #011at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:527) [elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:14:59 pc elasticsearch[10964]: #011at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_121]\r\nFeb 22 10:14:59 pc elasticsearch[10964]: #011at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_121]\r\nFeb 22 10:14:59 pc elasticsearch[10964]: #011at java.lang.Thread.run(Thread.java:745) [?:1.8.0_121]\r\nFeb 22 10:14:59 pc elasticsearch[10964]: Caused by: org.elasticsearch.transport.NodeDisconnectedException: [elasticsearch-data][10.0.0.3:9300][cluster:monitor/nodes/stats[n]] disconnected\r\nFeb 22 10:14:59 pc elasticsearch[10964]: [2017-02-22T10:14:59,202][INFO ][o.e.c.r.DelayedAllocationService] [elasticsearch] scheduling reroute for delayed shards in [59.9s] (4 delayed shards)\r\n```\r\n\r\nIs there anything I can do?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/281617985","html_url":"https://github.com/elastic/elasticsearch/issues/22285#issuecomment-281617985","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22285","id":281617985,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTYxNzk4NQ==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2017-02-22T09:38:33Z","updated_at":"2017-02-22T09:38:33Z","author_association":"CONTRIBUTOR","body":"@mostolog are you running an older version of ES in your cluster anywhere?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/281619057","html_url":"https://github.com/elastic/elasticsearch/issues/22285#issuecomment-281619057","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22285","id":281619057,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTYxOTA1Nw==","user":{"login":"mostolog","id":19854319,"node_id":"MDQ6VXNlcjE5ODU0MzE5","avatar_url":"https://avatars2.githubusercontent.com/u/19854319?v=4","gravatar_id":"","url":"https://api.github.com/users/mostolog","html_url":"https://github.com/mostolog","followers_url":"https://api.github.com/users/mostolog/followers","following_url":"https://api.github.com/users/mostolog/following{/other_user}","gists_url":"https://api.github.com/users/mostolog/gists{/gist_id}","starred_url":"https://api.github.com/users/mostolog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mostolog/subscriptions","organizations_url":"https://api.github.com/users/mostolog/orgs","repos_url":"https://api.github.com/users/mostolog/repos","events_url":"https://api.github.com/users/mostolog/events{/privacy}","received_events_url":"https://api.github.com/users/mostolog/received_events","type":"User","site_admin":false},"created_at":"2017-02-22T09:42:52Z","updated_at":"2017-02-22T09:42:52Z","author_association":"NONE","body":"I would say not, but after so many tests I don't know what I tried and what I didn't.\r\nI don't know it could be related, but cerebro was running each time it happened. (I'm trying to get a replication use case)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/281619880","html_url":"https://github.com/elastic/elasticsearch/issues/22285#issuecomment-281619880","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22285","id":281619880,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTYxOTg4MA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2017-02-22T09:46:27Z","updated_at":"2017-02-22T09:46:27Z","author_association":"CONTRIBUTOR","body":"@mostolog this request will tell you what versions are running:\r\n\r\n    curl -XGET \"http://localhost:9200/_nodes?pretty&filter_path=nodes.*.version\"\r\n\r\n(btw, cerebro is the kopf rewrite https://github.com/lmenezes/cerebro so stats related)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/281620357","html_url":"https://github.com/elastic/elasticsearch/issues/22285#issuecomment-281620357","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22285","id":281620357,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTYyMDM1Nw==","user":{"login":"mostolog","id":19854319,"node_id":"MDQ6VXNlcjE5ODU0MzE5","avatar_url":"https://avatars2.githubusercontent.com/u/19854319?v=4","gravatar_id":"","url":"https://api.github.com/users/mostolog","html_url":"https://github.com/mostolog","followers_url":"https://api.github.com/users/mostolog/followers","following_url":"https://api.github.com/users/mostolog/following{/other_user}","gists_url":"https://api.github.com/users/mostolog/gists{/gist_id}","starred_url":"https://api.github.com/users/mostolog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mostolog/subscriptions","organizations_url":"https://api.github.com/users/mostolog/orgs","repos_url":"https://api.github.com/users/mostolog/repos","events_url":"https://api.github.com/users/mostolog/events{/privacy}","received_events_url":"https://api.github.com/users/mostolog/received_events","type":"User","site_admin":false},"created_at":"2017-02-22T09:48:27Z","updated_at":"2017-02-22T09:48:27Z","author_association":"NONE","body":"```\r\n{\r\n  \"nodes\" : {\r\n    \"G2cl2gwLTQaQUY4Oca5bHg\" : {\r\n      \"version\" : \"5.2.1\"\r\n    },\r\n    \"9L57Rh05QvqXvC9LqsUvSg\" : {\r\n      \"version\" : \"5.2.1\"\r\n    }\r\n  }\r\n}\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/281621150","html_url":"https://github.com/elastic/elasticsearch/issues/22285#issuecomment-281621150","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22285","id":281621150,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTYyMTE1MA==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2017-02-22T09:51:42Z","updated_at":"2017-02-22T09:51:42Z","author_association":"CONTRIBUTOR","body":"@mostolog how can you tell that this is related to stats serialization? I can't see a stacktrace in your case","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/281621774","html_url":"https://github.com/elastic/elasticsearch/issues/22285#issuecomment-281621774","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22285","id":281621774,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTYyMTc3NA==","user":{"login":"mostolog","id":19854319,"node_id":"MDQ6VXNlcjE5ODU0MzE5","avatar_url":"https://avatars2.githubusercontent.com/u/19854319?v=4","gravatar_id":"","url":"https://api.github.com/users/mostolog","html_url":"https://github.com/mostolog","followers_url":"https://api.github.com/users/mostolog/followers","following_url":"https://api.github.com/users/mostolog/following{/other_user}","gists_url":"https://api.github.com/users/mostolog/gists{/gist_id}","starred_url":"https://api.github.com/users/mostolog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mostolog/subscriptions","organizations_url":"https://api.github.com/users/mostolog/orgs","repos_url":"https://api.github.com/users/mostolog/repos","events_url":"https://api.github.com/users/mostolog/events{/privacy}","received_events_url":"https://api.github.com/users/mostolog/received_events","type":"User","site_admin":false},"created_at":"2017-02-22T09:54:28Z","updated_at":"2017-02-22T09:54:28Z","author_association":"NONE","body":"Just reproduced a similar error without cerebro or any references to stats, so'll probably have to look elsewhere:\r\n```\r\nFeb 22 10:49:27 pc elasticsearch[10964]: [2017-02-22T10:49:27,708][INFO ][o.e.c.m.MetaDataCreateIndexService] [elasticsearch] [group:app1@2017-02-22-10] creating index, cause [auto(bulk api)], templates [], shards [5]/[1], mappings []\r\nFeb 22 10:49:31 pc elasticsearch[10964]: [2017-02-22T10:49:30,984][WARN ][o.e.m.j.JvmGcMonitorService] [elasticsearch] [gc][young][356][2] duration [2.7s], collections [1]/[3.1s], total [2.7s]/[2.9s], memory [568.9mb]->[298.8mb]/[1.9gb], all_pools {[young] [521.6mb]->[7.4mb]/[532.5mb]}{[survivor] [47.2mb]->[66.4mb]/[66.5mb]}{[old] [0b]->[228.3mb]/[1.3gb]}\r\nFeb 22 10:49:31 pc elasticsearch[10964]: [2017-02-22T10:49:31,021][WARN ][o.e.m.j.JvmGcMonitorService] [elasticsearch] [gc][356] overhead, spent [2.7s] collecting in the last [3.1s]\r\nFeb 22 10:49:31 pc elasticsearch[10964]: [2017-02-22T10:49:31,079][INFO ][o.e.c.m.MetaDataMappingService] [elasticsearch] [group:app1@2017-02-22-10/NpYVbZxHQuG0far9dfcHsQ] create_mapping [logs]\r\nFeb 22 10:49:31 pc elasticsearch[10964]: [2017-02-22T10:49:31,102][INFO ][o.e.c.m.MetaDataMappingService] [elasticsearch] [group:app1@2017-02-22-10/NpYVbZxHQuG0far9dfcHsQ] update_mapping [logs]\r\nFeb 22 10:49:31 pc elasticsearch[10964]: [2017-02-22T10:49:31,152][INFO ][o.e.c.m.MetaDataMappingService] [elasticsearch] [group:app1@2017-02-22-10/NpYVbZxHQuG0far9dfcHsQ] update_mapping [logs]\r\nFeb 22 10:49:31 pc elasticsearch[10964]: [2017-02-22T10:49:31,755][INFO ][o.e.c.m.MetaDataMappingService] [elasticsearch] [group:app1@2017-02-22-10/NpYVbZxHQuG0far9dfcHsQ] update_mapping [logs]\r\nFeb 22 10:49:32 pc elasticsearch[10964]: [2017-02-22T10:49:32,381][DEBUG][o.e.a.a.i.m.p.TransportPutMappingAction] [elasticsearch-data] connection exception while trying to forward request with action name [indices:admin/mapping/put] to master node [{elasticsearch}{G2cl2gwLTQaQUY4Oca5bHg}{5GA7XQjcTKWJuGAb1wwILg}{10.0.0.2}{10.0.0.2:9300}], scheduling a retry. Error: [org.elasticsearch.transport.NodeDisconnectedException: [elasticsearch][10.0.0.2:9300][indices:admin/mapping/put] disconnected]\r\nFeb 22 10:49:32 pc elasticsearch[10964]: [2017-02-22T10:49:32,381][DEBUG][o.e.a.a.i.m.p.TransportPutMappingAction] [elasticsearch-data] connection exception while trying to forward request with action name [indices:admin/mapping/put] to master node [{elasticsearch}{G2cl2gwLTQaQUY4Oca5bHg}{5GA7XQjcTKWJuGAb1wwILg}{10.0.0.2}{10.0.0.2:9300}], scheduling a retry. Error: [org.elasticsearch.transport.NodeDisconnectedException: [elasticsearch][10.0.0.2:9300][indices:admin/mapping/put] disconnected]\r\nFeb 22 10:49:32 pc elasticsearch[10964]: [2017-02-22T10:49:32,432][DEBUG][o.e.a.a.i.m.p.TransportPutMappingAction] [elasticsearch-data] connection exception while trying to forward request with action name [indices:admin/mapping/put] to master node [{elasticsearch}{G2cl2gwLTQaQUY4Oca5bHg}{5GA7XQjcTKWJuGAb1wwILg}{10.0.0.2}{10.0.0.2:9300}], scheduling a retry. Error: [org.elasticsearch.transport.NodeNotConnectedException: [elasticsearch][10.0.0.2:9300] Node not connected]\r\nFeb 22 10:49:32 pc elasticsearch[10964]: [2017-02-22T10:49:32,432][DEBUG][o.e.a.a.i.m.p.TransportPutMappingAction] [elasticsearch-data] connection exception while trying to forward request with action name [indices:admin/mapping/put] to master node [{elasticsearch}{G2cl2gwLTQaQUY4Oca5bHg}{5GA7XQjcTKWJuGAb1wwILg}{10.0.0.2}{10.0.0.2:9300}], scheduling a retry. Error: [org.elasticsearch.transport.NodeNotConnectedException: [elasticsearch][10.0.0.2:9300] Node not connected]\r\nFeb 22 10:49:32 pc elasticsearch[10964]: [2017-02-22T10:49:32,435][DEBUG][o.e.a.a.i.m.p.TransportPutMappingAction] [elasticsearch-data] connection exception while trying to forward request with action name [indices:admin/mapping/put] to master node [{elasticsearch}{G2cl2gwLTQaQUY4Oca5bHg}{5GA7XQjcTKWJuGAb1wwILg}{10.0.0.2}{10.0.0.2:9300}], scheduling a retry. Error: [org.elasticsearch.transport.NodeNotConnectedException: [elasticsearch][10.0.0.2:9300] Node not connected]\r\nFeb 22 10:49:32 pc elasticsearch[10964]: [2017-02-22T10:49:32,454][INFO ][o.e.d.z.ZenDiscovery     ] [elasticsearch-data] master_left [{elasticsearch}{G2cl2gwLTQaQUY4Oca5bHg}{5GA7XQjcTKWJuGAb1wwILg}{10.0.0.2}{10.0.0.2:9300}], reason [transport disconnected]\r\nFeb 22 10:49:32 pc elasticsearch[10964]: [2017-02-22T10:49:32,456][WARN ][o.e.d.z.ZenDiscovery     ] [elasticsearch-data] master left (reason = transport disconnected), current nodes: nodes:\r\nFeb 22 10:49:32 pc elasticsearch[10964]:    {elasticsearch}{G2cl2gwLTQaQUY4Oca5bHg}{5GA7XQjcTKWJuGAb1wwILg}{10.0.0.2}{10.0.0.2:9300}, master\r\nFeb 22 10:49:32 pc elasticsearch[10964]:    {elasticsearch-data}{9L57Rh05QvqXvC9LqsUvSg}{-WGBky5yQt2VC1ngcoy89g}{10.0.0.3}{10.0.0.3:9300}, local\r\nFeb 22 10:49:32 pc elasticsearch[10964]: \r\nFeb 22 10:49:35 pc elasticsearch[10964]: [2017-02-22T10:49:35,625][WARN ][o.e.m.j.JvmGcMonitorService] [elasticsearch-data] [gc][young][336][2] duration [3.1s], collections [1]/[3.5s], total [3.1s]/[3.2s], memory [558.4mb]->[312.1mb]/[1.9gb], all_pools {[young] [511.1mb]->[4.7mb]/[532.5mb]}{[survivor] [47.2mb]->[66.5mb]/[66.5mb]}{[old] [0b]->[244.3mb]/[1.3gb]}\r\nFeb 22 10:49:35 pc elasticsearch[10964]: [2017-02-22T10:49:35,632][WARN ][o.e.m.j.JvmGcMonitorService] [elasticsearch-data] [gc][336] overhead, spent [3.1s] collecting in the last [3.5s]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: [2017-02-22T10:49:35,658][WARN ][o.e.c.NodeConnectionsService] [elasticsearch-data] failed to connect to node {elasticsearch}{G2cl2gwLTQaQUY4Oca5bHg}{5GA7XQjcTKWJuGAb1wwILg}{10.0.0.2}{10.0.0.2:9300} (tried [1] times)\r\nFeb 22 10:49:35 pc elasticsearch[10964]: org.elasticsearch.transport.ConnectTransportException: [elasticsearch][10.0.0.2:9300] connect_timeout[30s]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at org.elasticsearch.transport.netty4.Netty4Transport.connectToChannels(Netty4Transport.java:370) ~[?:?]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at org.elasticsearch.transport.TcpTransport.openConnection(TcpTransport.java:495) ~[elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at org.elasticsearch.transport.TcpTransport.connectToNode(TcpTransport.java:460) ~[elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at org.elasticsearch.transport.TransportService.connectToNode(TransportService.java:318) ~[elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at org.elasticsearch.transport.TransportService.connectToNode(TransportService.java:305) ~[elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at org.elasticsearch.cluster.NodeConnectionsService.validateNodeConnected(NodeConnectionsService.java:121) [elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at org.elasticsearch.cluster.NodeConnectionsService.connectToNodes(NodeConnectionsService.java:87) [elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at org.elasticsearch.cluster.service.ClusterService.publishAndApplyChanges(ClusterService.java:775) [elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at org.elasticsearch.cluster.service.ClusterService.runTasks(ClusterService.java:628) [elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at org.elasticsearch.cluster.service.ClusterService$UpdateTask.run(ClusterService.java:1112) [elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:527) [elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.runAndClean(PrioritizedEsThreadPoolExecutor.java:238) [elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.run(PrioritizedEsThreadPoolExecutor.java:201) [elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_121]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_121]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at java.lang.Thread.run(Thread.java:745) [?:1.8.0_121]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: 10.0.0.2/10.0.0.2:9300\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method) ~[?:?]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717) ~[?:?]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:346) ~[?:?]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:340) ~[?:?]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:630) ~[?:?]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:527) ~[?:?]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:481) ~[?:?]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:441) ~[?:?]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:858) ~[?:?]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011... 1 more\r\nFeb 22 10:49:38 pc elasticsearch[10964]: [2017-02-22T10:49:38,149][INFO ][o.e.n.Node               ] [elasticsearch] initializing ...\r\nFeb 22 10:49:38 pc elasticsearch[10964]: [2017-02-22T10:49:38,258][INFO ][o.e.e.NodeEnvironment    ] [elasticsearch] using [1] data paths, mounts [[/usr/share/elasticsearch/data (/dev/mapper/Disk1-root)]], net usable_space [2.4gb], net total_space [8.3gb], spins? [possibly], types [ext4]\r\nFeb 22 10:49:38 pc elasticsearch[10964]: [2017-02-22T10:49:38,259][INFO ][o.e.e.NodeEnvironment    ] [elasticsearch] heap size [1.9gb], compressed ordinary object pointers [true]\r\nFeb 22 10:49:38 pc elasticsearch[10964]: [2017-02-22T10:49:38,269][INFO ][o.e.n.Node               ] [elasticsearch] node name [elasticsearch], node ID [G2cl2gwLTQaQUY4Oca5bHg]\r\nFeb 22 10:49:38 pc elasticsearch[10964]: [2017-02-22T10:49:38,271][INFO ][o.e.n.Node               ] [elasticsearch] version[5.2.1], pid[1], build[db0d481/2017-02-09T22:05:32.386Z], OS[Linux/4.4.0-21-generic/amd64], JVM[Oracle Corporation/OpenJDK 64-Bit Server VM/1.8.0_121/25.121-b13]\r\n...\r\nFeb 22 10:49:27 pc elasticsearch[10964]: [2017-02-22T10:49:27,708][INFO ][o.e.c.m.MetaDataCreateIndexService] [elasticsearch] [group:app1@2017-02-22-10] creating index, cause [auto(bulk api)], templates [], shards [5]/[1], mappings []\r\nFeb 22 10:49:31 pc elasticsearch[10964]: [2017-02-22T10:49:30,984][WARN ][o.e.m.j.JvmGcMonitorService] [elasticsearch] [gc][young][356][2] duration [2.7s], collections [1]/[3.1s], total [2.7s]/[2.9s], memory [568.9mb]->[298.8mb]/[1.9gb], all_pools {[young] [521.6mb]->[7.4mb]/[532.5mb]}{[survivor] [47.2mb]->[66.4mb]/[66.5mb]}{[old] [0b]->[228.3mb]/[1.3gb]}\r\nFeb 22 10:49:31 pc elasticsearch[10964]: [2017-02-22T10:49:31,021][WARN ][o.e.m.j.JvmGcMonitorService] [elasticsearch] [gc][356] overhead, spent [2.7s] collecting in the last [3.1s]\r\nFeb 22 10:49:31 pc elasticsearch[10964]: [2017-02-22T10:49:31,079][INFO ][o.e.c.m.MetaDataMappingService] [elasticsearch] [group:app1@2017-02-22-10/NpYVbZxHQuG0far9dfcHsQ] create_mapping [logs]\r\nFeb 22 10:49:31 pc elasticsearch[10964]: [2017-02-22T10:49:31,102][INFO ][o.e.c.m.MetaDataMappingService] [elasticsearch] [group:app1@2017-02-22-10/NpYVbZxHQuG0far9dfcHsQ] update_mapping [logs]\r\nFeb 22 10:49:31 pc elasticsearch[10964]: [2017-02-22T10:49:31,152][INFO ][o.e.c.m.MetaDataMappingService] [elasticsearch] [group:app1@2017-02-22-10/NpYVbZxHQuG0far9dfcHsQ] update_mapping [logs]\r\nFeb 22 10:49:31 pc elasticsearch[10964]: [2017-02-22T10:49:31,755][INFO ][o.e.c.m.MetaDataMappingService] [elasticsearch] [group:app1@2017-02-22-10/NpYVbZxHQuG0far9dfcHsQ] update_mapping [logs]\r\nFeb 22 10:49:32 pc elasticsearch[10964]: [2017-02-22T10:49:32,381][DEBUG][o.e.a.a.i.m.p.TransportPutMappingAction] [elasticsearch-data] connection exception while trying to forward request with action name [indices:admin/mapping/put] to master node [{elasticsearch}{G2cl2gwLTQaQUY4Oca5bHg}{5GA7XQjcTKWJuGAb1wwILg}{10.0.0.2}{10.0.0.2:9300}], scheduling a retry. Error: [org.elasticsearch.transport.NodeDisconnectedException: [elasticsearch][10.0.0.2:9300][indices:admin/mapping/put] disconnected]\r\nFeb 22 10:49:32 pc elasticsearch[10964]: [2017-02-22T10:49:32,381][DEBUG][o.e.a.a.i.m.p.TransportPutMappingAction] [elasticsearch-data] connection exception while trying to forward request with action name [indices:admin/mapping/put] to master node [{elasticsearch}{G2cl2gwLTQaQUY4Oca5bHg}{5GA7XQjcTKWJuGAb1wwILg}{10.0.0.2}{10.0.0.2:9300}], scheduling a retry. Error: [org.elasticsearch.transport.NodeDisconnectedException: [elasticsearch][10.0.0.2:9300][indices:admin/mapping/put] disconnected]\r\nFeb 22 10:49:32 pc elasticsearch[10964]: [2017-02-22T10:49:32,432][DEBUG][o.e.a.a.i.m.p.TransportPutMappingAction] [elasticsearch-data] connection exception while trying to forward request with action name [indices:admin/mapping/put] to master node [{elasticsearch}{G2cl2gwLTQaQUY4Oca5bHg}{5GA7XQjcTKWJuGAb1wwILg}{10.0.0.2}{10.0.0.2:9300}], scheduling a retry. Error: [org.elasticsearch.transport.NodeNotConnectedException: [elasticsearch][10.0.0.2:9300] Node not connected]\r\nFeb 22 10:49:32 pc elasticsearch[10964]: [2017-02-22T10:49:32,432][DEBUG][o.e.a.a.i.m.p.TransportPutMappingAction] [elasticsearch-data] connection exception while trying to forward request with action name [indices:admin/mapping/put] to master node [{elasticsearch}{G2cl2gwLTQaQUY4Oca5bHg}{5GA7XQjcTKWJuGAb1wwILg}{10.0.0.2}{10.0.0.2:9300}], scheduling a retry. Error: [org.elasticsearch.transport.NodeNotConnectedException: [elasticsearch][10.0.0.2:9300] Node not connected]\r\nFeb 22 10:49:32 pc elasticsearch[10964]: [2017-02-22T10:49:32,435][DEBUG][o.e.a.a.i.m.p.TransportPutMappingAction] [elasticsearch-data] connection exception while trying to forward request with action name [indices:admin/mapping/put] to master node [{elasticsearch}{G2cl2gwLTQaQUY4Oca5bHg}{5GA7XQjcTKWJuGAb1wwILg}{10.0.0.2}{10.0.0.2:9300}], scheduling a retry. Error: [org.elasticsearch.transport.NodeNotConnectedException: [elasticsearch][10.0.0.2:9300] Node not connected]\r\nFeb 22 10:49:32 pc elasticsearch[10964]: [2017-02-22T10:49:32,454][INFO ][o.e.d.z.ZenDiscovery     ] [elasticsearch-data] master_left [{elasticsearch}{G2cl2gwLTQaQUY4Oca5bHg}{5GA7XQjcTKWJuGAb1wwILg}{10.0.0.2}{10.0.0.2:9300}], reason [transport disconnected]\r\nFeb 22 10:49:32 pc elasticsearch[10964]: [2017-02-22T10:49:32,456][WARN ][o.e.d.z.ZenDiscovery     ] [elasticsearch-data] master left (reason = transport disconnected), current nodes: nodes:\r\nFeb 22 10:49:32 pc elasticsearch[10964]:    {elasticsearch}{G2cl2gwLTQaQUY4Oca5bHg}{5GA7XQjcTKWJuGAb1wwILg}{10.0.0.2}{10.0.0.2:9300}, master\r\nFeb 22 10:49:32 pc elasticsearch[10964]:    {elasticsearch-data}{9L57Rh05QvqXvC9LqsUvSg}{-WGBky5yQt2VC1ngcoy89g}{10.0.0.3}{10.0.0.3:9300}, local\r\nFeb 22 10:49:32 pc elasticsearch[10964]: \r\nFeb 22 10:49:35 pc elasticsearch[10964]: [2017-02-22T10:49:35,625][WARN ][o.e.m.j.JvmGcMonitorService] [elasticsearch-data] [gc][young][336][2] duration [3.1s], collections [1]/[3.5s], total [3.1s]/[3.2s], memory [558.4mb]->[312.1mb]/[1.9gb], all_pools {[young] [511.1mb]->[4.7mb]/[532.5mb]}{[survivor] [47.2mb]->[66.5mb]/[66.5mb]}{[old] [0b]->[244.3mb]/[1.3gb]}\r\nFeb 22 10:49:35 pc elasticsearch[10964]: [2017-02-22T10:49:35,632][WARN ][o.e.m.j.JvmGcMonitorService] [elasticsearch-data] [gc][336] overhead, spent [3.1s] collecting in the last [3.5s]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: [2017-02-22T10:49:35,658][WARN ][o.e.c.NodeConnectionsService] [elasticsearch-data] failed to connect to node {elasticsearch}{G2cl2gwLTQaQUY4Oca5bHg}{5GA7XQjcTKWJuGAb1wwILg}{10.0.0.2}{10.0.0.2:9300} (tried [1] times)\r\nFeb 22 10:49:35 pc elasticsearch[10964]: org.elasticsearch.transport.ConnectTransportException: [elasticsearch][10.0.0.2:9300] connect_timeout[30s]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at org.elasticsearch.transport.netty4.Netty4Transport.connectToChannels(Netty4Transport.java:370) ~[?:?]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at org.elasticsearch.transport.TcpTransport.openConnection(TcpTransport.java:495) ~[elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at org.elasticsearch.transport.TcpTransport.connectToNode(TcpTransport.java:460) ~[elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at org.elasticsearch.transport.TransportService.connectToNode(TransportService.java:318) ~[elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at org.elasticsearch.transport.TransportService.connectToNode(TransportService.java:305) ~[elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at org.elasticsearch.cluster.NodeConnectionsService.validateNodeConnected(NodeConnectionsService.java:121) [elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at org.elasticsearch.cluster.NodeConnectionsService.connectToNodes(NodeConnectionsService.java:87) [elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at org.elasticsearch.cluster.service.ClusterService.publishAndApplyChanges(ClusterService.java:775) [elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at org.elasticsearch.cluster.service.ClusterService.runTasks(ClusterService.java:628) [elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at org.elasticsearch.cluster.service.ClusterService$UpdateTask.run(ClusterService.java:1112) [elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:527) [elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.runAndClean(PrioritizedEsThreadPoolExecutor.java:238) [elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.run(PrioritizedEsThreadPoolExecutor.java:201) [elasticsearch-5.2.1.jar:5.2.1]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_121]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_121]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at java.lang.Thread.run(Thread.java:745) [?:1.8.0_121]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: 10.0.0.2/10.0.0.2:9300\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at sun.nio.ch.SocketChannelImpl.checkConnect(Native Method) ~[?:?]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717) ~[?:?]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:346) ~[?:?]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:340) ~[?:?]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:630) ~[?:?]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:527) ~[?:?]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:481) ~[?:?]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:441) ~[?:?]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:858) ~[?:?]\r\nFeb 22 10:49:35 pc elasticsearch[10964]: #011... 1 more\r\nFeb 22 10:49:38 pc elasticsearch[10964]: [2017-02-22T10:49:38,149][INFO ][o.e.n.Node               ] [elasticsearch] initializing ...\r\nFeb 22 10:49:38 pc elasticsearch[10964]: [2017-02-22T10:49:38,258][INFO ][o.e.e.NodeEnvironment    ] [elasticsearch] using [1] data paths, mounts [[/usr/share/elasticsearch/data (/dev/mapper/Disk1-root)]], net usable_space [2.4gb], net total_space [8.3gb], spins? [possibly], types [ext4]\r\nFeb 22 10:49:38 pc elasticsearch[10964]: [2017-02-22T10:49:38,259][INFO ][o.e.e.NodeEnvironment    ] [elasticsearch] heap size [1.9gb], compressed ordinary object pointers [true]\r\nFeb 22 10:49:38 pc elasticsearch[10964]: [2017-02-22T10:49:38,269][INFO ][o.e.n.Node               ] [elasticsearch] node name [elasticsearch], node ID [G2cl2gwLTQaQUY4Oca5bHg]\r\nFeb 22 10:49:38 pc elasticsearch[10964]: [2017-02-22T10:49:38,271][INFO ][o.e.n.Node               ] [elasticsearch] version[5.2.1], pid[1], build[db0d481/2017-02-09T22:05:32.386Z], OS[Linux/4.4.0-21-generic/amd64], JVM[Oracle Corporation/OpenJDK 64-Bit Server VM/1.8.0_121/25.121-b13]\r\n```\r\n\r\ndoes it sound familiar to you?\r\n\r\n@s1monw among other things, the first to complain was cerebro.\r\n\r\nThanks and sorry for rebumping","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/281775629","html_url":"https://github.com/elastic/elasticsearch/issues/22285#issuecomment-281775629","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22285","id":281775629,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTc3NTYyOQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-02-22T19:29:45Z","updated_at":"2017-02-22T19:29:45Z","author_association":"MEMBER","body":"@mostolog I think that your node is GCing and that's leading to disconnects and timeouts:\r\n\r\n```\r\nFeb 22 10:49:31 pc elasticsearch[10964]: [2017-02-22T10:49:30,984][WARN ][o.e.m.j.JvmGcMonitorService] [elasticsearch] [gc][young][356][2] duration [2.7s], collections [1]/[3.1s], total [2.7s]/[2.9s], memory [568.9mb]->[298.8mb]/[1.9gb], all_pools {[young] [521.6mb]->[7.4mb]/[532.5mb]}{[survivor] [47.2mb]->[66.4mb]/[66.5mb]}{[old] [0b]->[228.3mb]/[1.3gb]}\r\nFeb 22 10:49:31 pc elasticsearch[10964]: [2017-02-22T10:49:31,021][WARN ][o.e.m.j.JvmGcMonitorService] [elasticsearch] [gc][356] overhead, spent [2.7s] collecting in the last [3.1s]\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/281935818","html_url":"https://github.com/elastic/elasticsearch/issues/22285#issuecomment-281935818","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22285","id":281935818,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTkzNTgxOA==","user":{"login":"mostolog","id":19854319,"node_id":"MDQ6VXNlcjE5ODU0MzE5","avatar_url":"https://avatars2.githubusercontent.com/u/19854319?v=4","gravatar_id":"","url":"https://api.github.com/users/mostolog","html_url":"https://github.com/mostolog","followers_url":"https://api.github.com/users/mostolog/followers","following_url":"https://api.github.com/users/mostolog/following{/other_user}","gists_url":"https://api.github.com/users/mostolog/gists{/gist_id}","starred_url":"https://api.github.com/users/mostolog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mostolog/subscriptions","organizations_url":"https://api.github.com/users/mostolog/orgs","repos_url":"https://api.github.com/users/mostolog/repos","events_url":"https://api.github.com/users/mostolog/events{/privacy}","received_events_url":"https://api.github.com/users/mostolog/received_events","type":"User","site_admin":false},"created_at":"2017-02-23T09:08:19Z","updated_at":"2017-02-23T09:08:19Z","author_association":"NONE","body":"@jasontedor Any way to avoid GC having such an effect on my node?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/281937445","html_url":"https://github.com/elastic/elasticsearch/issues/22285#issuecomment-281937445","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22285","id":281937445,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MTkzNzQ0NQ==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2017-02-23T09:15:18Z","updated_at":"2017-02-23T09:15:18Z","author_association":"CONTRIBUTOR","body":"@mostolog please use the [forum](https://discuss.elastic.co) for questions like this. Your issue is unrelated to this.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/292854973","html_url":"https://github.com/elastic/elasticsearch/issues/22285#issuecomment-292854973","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22285","id":292854973,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mjg1NDk3Mw==","user":{"login":"astefan","id":893749,"node_id":"MDQ6VXNlcjg5Mzc0OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/893749?v=4","gravatar_id":"","url":"https://api.github.com/users/astefan","html_url":"https://github.com/astefan","followers_url":"https://api.github.com/users/astefan/followers","following_url":"https://api.github.com/users/astefan/following{/other_user}","gists_url":"https://api.github.com/users/astefan/gists{/gist_id}","starred_url":"https://api.github.com/users/astefan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astefan/subscriptions","organizations_url":"https://api.github.com/users/astefan/orgs","repos_url":"https://api.github.com/users/astefan/repos","events_url":"https://api.github.com/users/astefan/events{/privacy}","received_events_url":"https://api.github.com/users/astefan/received_events","type":"User","site_admin":false},"created_at":"2017-04-10T05:44:59Z","updated_at":"2017-04-10T05:44:59Z","author_association":"CONTRIBUTOR","body":"Shouldn't this bug NOT have tag 5.1.1?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/292907841","html_url":"https://github.com/elastic/elasticsearch/issues/22285#issuecomment-292907841","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22285","id":292907841,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjkwNzg0MQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-04-10T10:14:07Z","updated_at":"2017-04-10T10:14:07Z","author_association":"MEMBER","body":"> Shouldn't this bug NOT have tag 5.1.1?\r\n\r\nWhy do you say that @astefan? If you're looking for the versions that the issue is fixed in, you have to look at the labels on the corresponding PR: #22317.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/292908269","html_url":"https://github.com/elastic/elasticsearch/issues/22285#issuecomment-292908269","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22285","id":292908269,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjkwODI2OQ==","user":{"login":"astefan","id":893749,"node_id":"MDQ6VXNlcjg5Mzc0OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/893749?v=4","gravatar_id":"","url":"https://api.github.com/users/astefan","html_url":"https://github.com/astefan","followers_url":"https://api.github.com/users/astefan/followers","following_url":"https://api.github.com/users/astefan/following{/other_user}","gists_url":"https://api.github.com/users/astefan/gists{/gist_id}","starred_url":"https://api.github.com/users/astefan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astefan/subscriptions","organizations_url":"https://api.github.com/users/astefan/orgs","repos_url":"https://api.github.com/users/astefan/repos","events_url":"https://api.github.com/users/astefan/events{/privacy}","received_events_url":"https://api.github.com/users/astefan/received_events","type":"User","site_admin":false},"created_at":"2017-04-10T10:16:07Z","updated_at":"2017-04-10T10:16:07Z","author_association":"CONTRIBUTOR","body":"I thought the labels on the GH issue show the fixed versions, not the affected ones?... I may be though remembering wrong :-).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/292912618","html_url":"https://github.com/elastic/elasticsearch/issues/22285#issuecomment-292912618","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22285","id":292912618,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjkxMjYxOA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-04-10T10:35:17Z","updated_at":"2017-04-10T10:35:17Z","author_association":"MEMBER","body":"> I thought the labels on the GH issue show the fixed versions, not the affected ones?... I may be though remembering wrong :-).\r\n\r\nThe version labels on corresponding PRs mean that.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/346757285","html_url":"https://github.com/elastic/elasticsearch/issues/22285#issuecomment-346757285","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22285","id":346757285,"node_id":"MDEyOklzc3VlQ29tbWVudDM0Njc1NzI4NQ==","user":{"login":"hjxhjh","id":1811544,"node_id":"MDQ6VXNlcjE4MTE1NDQ=","avatar_url":"https://avatars3.githubusercontent.com/u/1811544?v=4","gravatar_id":"","url":"https://api.github.com/users/hjxhjh","html_url":"https://github.com/hjxhjh","followers_url":"https://api.github.com/users/hjxhjh/followers","following_url":"https://api.github.com/users/hjxhjh/following{/other_user}","gists_url":"https://api.github.com/users/hjxhjh/gists{/gist_id}","starred_url":"https://api.github.com/users/hjxhjh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hjxhjh/subscriptions","organizations_url":"https://api.github.com/users/hjxhjh/orgs","repos_url":"https://api.github.com/users/hjxhjh/repos","events_url":"https://api.github.com/users/hjxhjh/events{/privacy}","received_events_url":"https://api.github.com/users/hjxhjh/received_events","type":"User","site_admin":false},"created_at":"2017-11-24T07:09:30Z","updated_at":"2017-11-24T07:35:23Z","author_association":"NONE","body":"do you have the plan to fix this problem in version 2.4.5 @jasontedor @nik9000 \r\nwe see this bug in our es cluster with version 2.4.5。\r\n\r\n \r\n![image](https://user-images.githubusercontent.com/1811544/33199834-0ba2c89c-d12d-11e7-9782-1b221a852200.png)\r\n\r\n![image](https://user-images.githubusercontent.com/1811544/33199264-8a2bb5e6-d12a-11e7-934c-9b75fbd68d94.png)\r\n\r\n![image](https://user-images.githubusercontent.com/1811544/33199150-043e888c-d12a-11e7-845f-0b17f7ef2d92.png)\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/346824073","html_url":"https://github.com/elastic/elasticsearch/issues/22285#issuecomment-346824073","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22285","id":346824073,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NjgyNDA3Mw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-11-24T13:02:04Z","updated_at":"2017-11-24T13:02:04Z","author_association":"MEMBER","body":"@hjxhjh As I explained [yesterday](https://github.com/elastic/elasticsearch/pull/22317#issuecomment-346644676), this bug is not present in 2.x and the 2.x series is no longer under maintenance.\r\n\r\nWhat you are seeing in your cluster has the same symptoms as the bug here, but I assure you that the cause is not the same, it's a different bug. In the same way that you can be vomiting (the symptom) because of the flu (a bug), or because of something you ate (another bug), seeing the same symptoms does not mean the cause is the same.\r\n\r\nHowever, we will not be putting any time into investigating this bug, nor will be releasing a fix for this bug: the 2.x series is no longer under maintenance.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/346989917","html_url":"https://github.com/elastic/elasticsearch/issues/22285#issuecomment-346989917","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22285","id":346989917,"node_id":"MDEyOklzc3VlQ29tbWVudDM0Njk4OTkxNw==","user":{"login":"hjxhjh","id":1811544,"node_id":"MDQ6VXNlcjE4MTE1NDQ=","avatar_url":"https://avatars3.githubusercontent.com/u/1811544?v=4","gravatar_id":"","url":"https://api.github.com/users/hjxhjh","html_url":"https://github.com/hjxhjh","followers_url":"https://api.github.com/users/hjxhjh/followers","following_url":"https://api.github.com/users/hjxhjh/following{/other_user}","gists_url":"https://api.github.com/users/hjxhjh/gists{/gist_id}","starred_url":"https://api.github.com/users/hjxhjh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hjxhjh/subscriptions","organizations_url":"https://api.github.com/users/hjxhjh/orgs","repos_url":"https://api.github.com/users/hjxhjh/repos","events_url":"https://api.github.com/users/hjxhjh/events{/privacy}","received_events_url":"https://api.github.com/users/hjxhjh/received_events","type":"User","site_admin":false},"created_at":"2017-11-26T07:26:59Z","updated_at":"2017-11-26T07:27:09Z","author_association":"NONE","body":"got it. thank you @jasontedor .","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/419104048","html_url":"https://github.com/elastic/elasticsearch/issues/22285#issuecomment-419104048","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22285","id":419104048,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTEwNDA0OA==","user":{"login":"msurta","id":12232219,"node_id":"MDQ6VXNlcjEyMjMyMjE5","avatar_url":"https://avatars2.githubusercontent.com/u/12232219?v=4","gravatar_id":"","url":"https://api.github.com/users/msurta","html_url":"https://github.com/msurta","followers_url":"https://api.github.com/users/msurta/followers","following_url":"https://api.github.com/users/msurta/following{/other_user}","gists_url":"https://api.github.com/users/msurta/gists{/gist_id}","starred_url":"https://api.github.com/users/msurta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/msurta/subscriptions","organizations_url":"https://api.github.com/users/msurta/orgs","repos_url":"https://api.github.com/users/msurta/repos","events_url":"https://api.github.com/users/msurta/events{/privacy}","received_events_url":"https://api.github.com/users/msurta/received_events","type":"User","site_admin":false},"created_at":"2018-09-06T14:00:08Z","updated_at":"2018-09-06T14:54:31Z","author_association":"NONE","body":"See pretty the same stacktrace in ElasticSearch v6.1.2, could you look into it the same issue or not?\r\n\r\n```[2018-09-02T16:11:59,836][WARN ][o.e.t.n.Netty4Transport  ] [*******] exception caught on transport layer [org.elasticsearch.transport.netty4.NettyTcpChannel@1a394567], closing connection\r\njava.lang.IllegalStateException: Message not fully read (response) for requestId [1096618678], handler [org.elasticsearch.transport.TransportService$ContextRestoreResponseHandler/org.elasticsearch.action.support.nodes.TransportNodesAction$AsyncAction$1@1d96eb45], error [false]; resetting\r\n\tat org.elasticsearch.transport.TcpTransport.messageReceived(TcpTransport.java:1405) ~[elasticsearch-6.1.2.jar:6.1.2]\r\n\tat org.elasticsearch.transport.netty4.Netty4MessageChannelHandler.channelRead(Netty4MessageChannelHandler.java:64) ~[transport-netty4-6.1.2.jar:6.1.2]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [netty-transport-4.1.13.Final.jar:4.1.13.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [netty-transport-4.1.13.Final.jar:4.1.13.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) [netty-transport-4.1.13.Final.jar:4.1.13.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:310) [netty-codec-4.1.13.Final.jar:4.1.13.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:297) [netty-codec-4.1.13.Final.jar:4.1.13.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:413) [netty-codec-4.1.13.Final.jar:4.1.13.Final]\r\n\tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:265) [netty-codec-4.1.13.Final.jar:4.1.13.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [netty-transport-4.1.13.Final.jar:4.1.13.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [netty-transport-4.1.13.Final.jar:4.1.13.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) [netty-transport-4.1.13.Final.jar:4.1.13.Final]\r\n\tat io.netty.handler.logging.LoggingHandler.channelRead(LoggingHandler.java:241) [netty-handler-4.1.13.Final.jar:4.1.13.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [netty-transport-4.1.13.Final.jar:4.1.13.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [netty-transport-4.1.13.Final.jar:4.1.13.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) [netty-transport-4.1.13.Final.jar:4.1.13.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1334) [netty-transport-4.1.13.Final.jar:4.1.13.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [netty-transport-4.1.13.Final.jar:4.1.13.Final]\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [netty-transport-4.1.13.Final.jar:4.1.13.Final]\r\n\tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:926) [netty-transport-4.1.13.Final.jar:4.1.13.Final]\r\n\tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:134) [netty-transport-4.1.13.Final.jar:4.1.13.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:644) [netty-transport-4.1.13.Final.jar:4.1.13.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:544) [netty-transport-4.1.13.Final.jar:4.1.13.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:498) [netty-transport-4.1.13.Final.jar:4.1.13.Final]\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:458) [netty-transport-4.1.13.Final.jar:4.1.13.Final]\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:858) [netty-common-4.1.13.Final.jar:4.1.13.Final]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_161]```","performed_via_github_app":null}]