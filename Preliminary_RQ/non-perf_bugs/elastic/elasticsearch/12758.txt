{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/12758","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12758/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12758/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12758/events","html_url":"https://github.com/elastic/elasticsearch/issues/12758","id":99995732,"node_id":"MDU6SXNzdWU5OTk5NTczMg==","number":12758,"title":"Startup CLI Parsing needs defined order of arguments","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"labels":[{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null},{"id":76184120,"node_id":"MDU6TGFiZWw3NjE4NDEyMA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v2.0.0-beta1","name":"v2.0.0-beta1","color":"dddddd","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-08-10T07:42:04Z","updated_at":"2015-08-10T09:34:09Z","closed_at":"2015-08-10T09:34:09Z","author_association":"MEMBER","active_lock_reason":null,"body":"Due to the limited feature set of the CLI parser the following does not work and will return an error message\n\n```\n/bin/elasticsearch --http.cors.enabled=true --http.cors.allow-origin='*' -d -p /tmp/foo\n```\n\nThe reason for this is, that the current implementation of the CLI parser will literally stop parsing as soon as it hits a dynamic parameter and add all the other parameters to the list of parameters that should be parsed dynamically with a special logic. So `-d` and `-p` will never be parsed regularly and added to the specific CLI parser options\n\n**Workaround 1**: Document that \"dynamic\" arguments must come last in the list of arguments.\n\n**Workaround 2**: Two a second parsing logic check for all the arguments, when doing the dynamic parsing for all the `--foo.bar` parameters...\n\n**Long term workaround 1**: Treat configuration file settings as configuration file settings and add some specific switches for settings that should be changed via commandline (like node name, interface, cluster name), but make the parsing strict.\n\n**Long term workaround 2**: Use a more powerful parsing library, which supports all of our needed features natively - which is also needed for subcommands, like `bin/elasticsearch plugin install`. [argparse4j](http://argparse4j.sourceforge.net/) comes into mind.\n","closed_by":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"performed_via_github_app":null}