[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/404011167","html_url":"https://github.com/elastic/elasticsearch/issues/31946#issuecomment-404011167","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31946","id":404011167,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDAxMTE2Nw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-07-11T00:57:13Z","updated_at":"2018-07-11T00:57:13Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/406065979","html_url":"https://github.com/elastic/elasticsearch/issues/31946#issuecomment-406065979","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31946","id":406065979,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjA2NTk3OQ==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2018-07-18T20:37:02Z","updated_at":"2018-07-18T20:38:53Z","author_association":"MEMBER","body":"I've finally figured out what's happening here, and I think the fix is straightforward, but I want to double check with others on my assumptions.\r\n\r\nPreviously we built a jar named \"x-pack-api\". There were a couple reasons for this, both to allow for a reduced set of classes in the future that xpack plugins would have access to, as well as to differentiate the pom file name for this jar from that which PluginBuildPlugin builds for the zip. It is the latter reason here that has caused the breakage, because x-pack-core is a \"plugin\", even though it is not really a plugin (it is a module, we just use the normal plugin build and the distribution build unzips the plugin zip).\r\n\r\nI see 3 possible solutions:\r\n\r\n1. Remove pom generation from PluginBuildPlugin altogether (for the zip file at least). This is left over from replicating what we did in 1.x/2.x for plugins, in that the zip files were published to maven central. However, the plugin installer now downloads these from the elastic download service, and the pom is unused as far as I can tell. Note there is the \"client jar\" case, but we already name this differently, so the pom for that would not be affected.\r\n\r\n2. Build modules differently so they do not generate a pom. This would be a smaller step towards 1, but probably more work as it would mean carefully changing the pom generation configuration to not be added when the plugin is a module (we already have some hardcoded logic to determine that condition).\r\n\r\n3. Add back the \"x-pack-api\" jar. This was pretty hacky to do, and just added bloat and hard to read configuration in the gradle build file, so IMO it is a last resort.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/406067786","html_url":"https://github.com/elastic/elasticsearch/issues/31946#issuecomment-406067786","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31946","id":406067786,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjA2Nzc4Ng==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2018-07-18T20:43:14Z","updated_at":"2018-07-18T20:43:14Z","author_association":"CONTRIBUTOR","body":"I like the idea of removing the pom from the plugins. As much as I like having the zips available in maven central that seems like the simplest change to be honest.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/449358580","html_url":"https://github.com/elastic/elasticsearch/issues/31946#issuecomment-449358580","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31946","id":449358580,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTM1ODU4MA==","user":{"login":"silvia19941025","id":41318158,"node_id":"MDQ6VXNlcjQxMzE4MTU4","avatar_url":"https://avatars0.githubusercontent.com/u/41318158?v=4","gravatar_id":"","url":"https://api.github.com/users/silvia19941025","html_url":"https://github.com/silvia19941025","followers_url":"https://api.github.com/users/silvia19941025/followers","following_url":"https://api.github.com/users/silvia19941025/following{/other_user}","gists_url":"https://api.github.com/users/silvia19941025/gists{/gist_id}","starred_url":"https://api.github.com/users/silvia19941025/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/silvia19941025/subscriptions","organizations_url":"https://api.github.com/users/silvia19941025/orgs","repos_url":"https://api.github.com/users/silvia19941025/repos","events_url":"https://api.github.com/users/silvia19941025/events{/privacy}","received_events_url":"https://api.github.com/users/silvia19941025/received_events","type":"User","site_admin":false},"created_at":"2018-12-21T11:01:16Z","updated_at":"2018-12-21T11:01:16Z","author_association":"NONE","body":"How about Maven project? Does anyone know what to do using x-pack-transport 6.3.0 client in a maven project????\r\nsorry about my poor expression , but here is the only place I found the same problem I have ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/469293174","html_url":"https://github.com/elastic/elasticsearch/issues/31946#issuecomment-469293174","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31946","id":469293174,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTI5MzE3NA==","user":{"login":"ZQbd","id":43110242,"node_id":"MDQ6VXNlcjQzMTEwMjQy","avatar_url":"https://avatars0.githubusercontent.com/u/43110242?v=4","gravatar_id":"","url":"https://api.github.com/users/ZQbd","html_url":"https://github.com/ZQbd","followers_url":"https://api.github.com/users/ZQbd/followers","following_url":"https://api.github.com/users/ZQbd/following{/other_user}","gists_url":"https://api.github.com/users/ZQbd/gists{/gist_id}","starred_url":"https://api.github.com/users/ZQbd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ZQbd/subscriptions","organizations_url":"https://api.github.com/users/ZQbd/orgs","repos_url":"https://api.github.com/users/ZQbd/repos","events_url":"https://api.github.com/users/ZQbd/events{/privacy}","received_events_url":"https://api.github.com/users/ZQbd/received_events","type":"User","site_admin":false},"created_at":"2019-03-04T15:26:09Z","updated_at":"2019-03-04T15:26:09Z","author_association":"NONE","body":"@rjernst \r\n> 3. Add back the \"x-pack-api\" jar. This was pretty hacky to do, and just added bloat and hard to read configuration in the gradle build file, so IMO it is a last resort.\r\n\r\nI used maven，how to Add back the \"x-pack-api\" jar。 Please talk in detail。","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/469503814","html_url":"https://github.com/elastic/elasticsearch/issues/31946#issuecomment-469503814","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31946","id":469503814,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTUwMzgxNA==","user":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"created_at":"2019-03-05T01:59:02Z","updated_at":"2019-03-05T01:59:02Z","author_association":"CONTRIBUTOR","body":"@ZQbd This is an issue for tracking how we fixed the problem in an updated release, it is not intended to explain how to set up your own builds.\r\nIf you need assistance, please ask on our [forums](https://discuss.elastic.co/). ","performed_via_github_app":null}]