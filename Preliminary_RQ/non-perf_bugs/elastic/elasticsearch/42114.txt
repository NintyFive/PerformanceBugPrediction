{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/42114","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42114/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42114/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42114/events","html_url":"https://github.com/elastic/elasticsearch/issues/42114","id":443421500,"node_id":"MDU6SXNzdWU0NDM0MjE1MDA=","number":42114,"title":"Support duration datatype","user":{"login":"dagguh","id":1194704,"node_id":"MDQ6VXNlcjExOTQ3MDQ=","avatar_url":"https://avatars2.githubusercontent.com/u/1194704?v=4","gravatar_id":"","url":"https://api.github.com/users/dagguh","html_url":"https://github.com/dagguh","followers_url":"https://api.github.com/users/dagguh/followers","following_url":"https://api.github.com/users/dagguh/following{/other_user}","gists_url":"https://api.github.com/users/dagguh/gists{/gist_id}","starred_url":"https://api.github.com/users/dagguh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagguh/subscriptions","organizations_url":"https://api.github.com/users/dagguh/orgs","repos_url":"https://api.github.com/users/dagguh/repos","events_url":"https://api.github.com/users/dagguh/events{/privacy}","received_events_url":"https://api.github.com/users/dagguh/received_events","type":"User","site_admin":false},"labels":[{"id":141145460,"node_id":"MDU6TGFiZWwxNDExNDU0NjA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Mapping","name":":Search/Mapping","color":"0e8a16","default":false,"description":"How fields should be indexed"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-05-13T14:11:31Z","updated_at":"2019-05-15T04:34:18Z","closed_at":"2019-05-15T04:34:18Z","author_association":"NONE","active_lock_reason":null,"body":"Support [ISO 8601 duration](https://en.wikipedia.org/wiki/ISO_8601#Durations) datatype.\r\n\r\n### Use cases\r\n\r\n#### Visualize\r\nVisualize duration data (e.g. response times) as duration rather than ambiguous numbers.\r\nRemove the need to specify the time unit on chart axes and other visualizations.\r\nRemove the need for transporting the time unit in field names. \r\nMake it easier to interpret duration of various scale, e.g. reading [` \"event.duration\": 124000000`](https://github.com/elastic/beats/blob/d9668d356af2d25416453a4a78cb6f02cb11bd24/filebeat/module/elasticsearch/slowlog/test/test.log-expected.json#L68) from a chart is hard to interpret and internalize, even if you do know the time unit.\r\n\r\n#### Ingest\r\nIngest ISO-standard-format data, [example](https://github.com/atlassian/report/blob/master/src/test/resources/com/atlassian/performance/tools/report/api/result/real-results/JIRA-JPT-9107/virtual-users/virtual-user-node-1/test-results/000adb0a-ffaf-47a9-b947-863fbbbe5290/action-metrics.jpt).\r\nIt's very difficult to parse it via Logstash or Beats. They don't support it out of the box. I cannot find a way to fix it via a Logstash codec or a Beats processor.\r\n\r\n#### Query\r\nFilter by duration. Avoid the need for time unit conventions in indexes by accepting standard duration notation in the criteria. Enable a more intuitive duration query GUI, e.g. a dedicated duration picker.\r\n\r\n### Notes\r\nIt was [raised before](https://discuss.elastic.co/t/iso8601-durations/920).\r\nUnder the hood, ISO 8601 durations are perfectly representable as integers. E.g. `java.time.Duration` holds it as a pair of fields: `long seconds` and `int nanos`. It also offers rich behavior like parsing, stringifying, arithmetic, comparison, various tests and conversions.","closed_by":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"performed_via_github_app":null}