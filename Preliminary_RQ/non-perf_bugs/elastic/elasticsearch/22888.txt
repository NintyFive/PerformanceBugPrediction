{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/22888","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22888/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22888/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22888/events","html_url":"https://github.com/elastic/elasticsearch/issues/22888","id":204344979,"node_id":"MDU6SXNzdWUyMDQzNDQ5Nzk=","number":22888,"title":"Windows 10 Insider build blocks on boot","user":{"login":"Mpdreamz","id":245275,"node_id":"MDQ6VXNlcjI0NTI3NQ==","avatar_url":"https://avatars3.githubusercontent.com/u/245275?v=4","gravatar_id":"","url":"https://api.github.com/users/Mpdreamz","html_url":"https://github.com/Mpdreamz","followers_url":"https://api.github.com/users/Mpdreamz/followers","following_url":"https://api.github.com/users/Mpdreamz/following{/other_user}","gists_url":"https://api.github.com/users/Mpdreamz/gists{/gist_id}","starred_url":"https://api.github.com/users/Mpdreamz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Mpdreamz/subscriptions","organizations_url":"https://api.github.com/users/Mpdreamz/orgs","repos_url":"https://api.github.com/users/Mpdreamz/repos","events_url":"https://api.github.com/users/Mpdreamz/events{/privacy}","received_events_url":"https://api.github.com/users/Mpdreamz/received_events","type":"User","site_admin":false},"labels":[{"id":146836529,"node_id":"MDU6TGFiZWwxNDY4MzY1Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Stats","name":":Core/Features/Stats","color":"0e8a16","default":false,"description":"Statistics tracking and retrieval APIs"},{"id":113234020,"node_id":"MDU6TGFiZWwxMTMyMzQwMjA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/stalled","name":"stalled","color":"fef2c0","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2017-01-31T16:15:53Z","updated_at":"2017-02-02T16:06:05Z","closed_at":"2017-02-02T14:21:00Z","author_association":"MEMBER","active_lock_reason":null,"body":"**NOTE** this is on the latest Windows 10 Insider build (1607 build 1519.1000) and JDK:\r\n\r\n```\r\njava version \"1.8.0_121\"\r\nJava(TM) SE Runtime Environment (build 1.8.0_121-b13)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.121-b13, mixed mode)\r\n```\r\n\r\nThe latest Windows 10 stable version is **NOT AFFECTED** so no blocker for release. \r\n\r\nStarting elasticsearch gets blocked on calling:\r\n\r\n`getLoadAndScaleToPercent:29, Probes (org.elasticsearch.monitor)`\r\n\r\nAnd more specifically invoking the `getSystemCpuLoad` method. This thread never completes.\r\n\r\nThis affects all `2.x` and `5.x`\r\n\r\n\r\nFull thread state:\r\n\r\n>\"main@2\" prio=5 tid=0x1 nid=NA runnable\r\n  java.lang.Thread.State: RUNNABLE\r\n\t  at sun.management.OperatingSystemImpl.getSystemCpuLoad(OperatingSystemImpl.java:-1)\r\n\t  at sun.reflect.NativeMethodAccessorImpl.invoke0(NativeMethodAccessorImpl.java:-1)\r\n\t  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t  at java.lang.reflect.Method.invoke(Method.java:498)\r\n\t  at org.elasticsearch.monitor.Probes.getLoadAndScaleToPercent(Probes.java:29)\r\n\t  at org.elasticsearch.monitor.os.OsProbe.getSystemCpuPercent(OsProbe.java:174)\r\n\t  at org.elasticsearch.monitor.os.OsProbe.osStats(OsProbe.java:463)\r\n\t  at org.elasticsearch.monitor.os.OsService.<init>(OsService.java:45)\r\n\t  at org.elasticsearch.monitor.MonitorService.<init>(MonitorService.java:45)\r\n\t  at org.elasticsearch.node.Node.<init>(Node.java:345)\r\n\t  at org.elasticsearch.node.Node.<init>(Node.java:232)\r\n\t  at org.elasticsearch.bootstrap.Bootstrap$6.<init>(Bootstrap.java:241)\r\n\t  at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:241)\r\n\t  at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:333)\r\n\t  at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:121)\r\n\t  at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:112)\r\n\t  at org.elasticsearch.cli.SettingCommand.execute(SettingCommand.java:54)\r\n\t  at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:122)\r\n\t  at org.elasticsearch.cli.Command.main(Command.java:88)\r\n\t  at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:89)\r\n\t  at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:82)\r\n\r\n> \"elasticsearch[pmTaQcI][[timer]]@2681\" daemon prio=5 tid=0x15 nid=NA sleeping\r\n  java.lang.Thread.State: TIMED_WAITING\r\n\t  at java.lang.Thread.sleep(Thread.java:-1)\r\n\t  at org.elasticsearch.threadpool.ThreadPool$EstimatedTimeThread.run(ThreadPool.java:498)\r\n\r\n> \"Finalizer@3789\" daemon prio=8 tid=0x3 nid=NA waiting\r\n  java.lang.Thread.State: WAITING\r\n\t  at java.lang.Object.wait(Object.java:-1)\r\n\t  at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:143)\r\n\t  at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:164)\r\n\t  at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:209)\r\n\r\n> \"Reference Handler@3790\" daemon prio=10 tid=0x2 nid=NA waiting\r\n  java.lang.Thread.State: WAITING\r\n\t  at java.lang.Object.wait(Object.java:-1)\r\n\t  at java.lang.Object.wait(Object.java:502)\r\n\t  at java.lang.ref.Reference.tryHandlePending(Reference.java:191)\r\n\t  at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:153)\r\n\r\n> \"Attach Listener@3787\" daemon prio=5 tid=0x5 nid=NA runnable\r\n  java.lang.Thread.State: RUNNABLE\r\n\r\n> \"Signal Dispatcher@3788\" daemon prio=9 tid=0x4 nid=NA runnable\r\n  java.lang.Thread.State: RUNNABLE\r\n\r\n\r\nSomething to keep an eye on going forward.\r\n","closed_by":{"login":"Mpdreamz","id":245275,"node_id":"MDQ6VXNlcjI0NTI3NQ==","avatar_url":"https://avatars3.githubusercontent.com/u/245275?v=4","gravatar_id":"","url":"https://api.github.com/users/Mpdreamz","html_url":"https://github.com/Mpdreamz","followers_url":"https://api.github.com/users/Mpdreamz/followers","following_url":"https://api.github.com/users/Mpdreamz/following{/other_user}","gists_url":"https://api.github.com/users/Mpdreamz/gists{/gist_id}","starred_url":"https://api.github.com/users/Mpdreamz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Mpdreamz/subscriptions","organizations_url":"https://api.github.com/users/Mpdreamz/orgs","repos_url":"https://api.github.com/users/Mpdreamz/repos","events_url":"https://api.github.com/users/Mpdreamz/events{/privacy}","received_events_url":"https://api.github.com/users/Mpdreamz/received_events","type":"User","site_admin":false},"performed_via_github_app":null}