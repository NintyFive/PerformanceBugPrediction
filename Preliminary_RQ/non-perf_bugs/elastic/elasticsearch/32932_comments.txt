[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/413792646","html_url":"https://github.com/elastic/elasticsearch/issues/32932#issuecomment-413792646","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32932","id":413792646,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMzc5MjY0Ng==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-08-17T08:15:24Z","updated_at":"2018-08-17T08:15:24Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search-aggs","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/413797777","html_url":"https://github.com/elastic/elasticsearch/issues/32932#issuecomment-413797777","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32932","id":413797777,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMzc5Nzc3Nw==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2018-08-17T08:37:11Z","updated_at":"2018-08-17T08:37:11Z","author_association":"MEMBER","body":"@javanna would you mind taking a look into this?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/413846469","html_url":"https://github.com/elastic/elasticsearch/issues/32932#issuecomment-413846469","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32932","id":413846469,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMzg0NjQ2OQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2018-08-17T12:13:18Z","updated_at":"2018-08-17T12:13:18Z","author_association":"MEMBER","body":"hi @ikonst are you also sending ordinary search requests to multiple clusters without any issues? And scroll for you always gives problems? The error seems to indicate that some of the nodes are not available, have you checked that this is not the case and that your cluster is healthy?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/413943002","html_url":"https://github.com/elastic/elasticsearch/issues/32932#issuecomment-413943002","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32932","id":413943002,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMzk0MzAwMg==","user":{"login":"ikonst","id":1186084,"node_id":"MDQ6VXNlcjExODYwODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/1186084?v=4","gravatar_id":"","url":"https://api.github.com/users/ikonst","html_url":"https://github.com/ikonst","followers_url":"https://api.github.com/users/ikonst/followers","following_url":"https://api.github.com/users/ikonst/following{/other_user}","gists_url":"https://api.github.com/users/ikonst/gists{/gist_id}","starred_url":"https://api.github.com/users/ikonst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ikonst/subscriptions","organizations_url":"https://api.github.com/users/ikonst/orgs","repos_url":"https://api.github.com/users/ikonst/repos","events_url":"https://api.github.com/users/ikonst/events{/privacy}","received_events_url":"https://api.github.com/users/ikonst/received_events","type":"User","site_admin":false},"created_at":"2018-08-17T17:57:23Z","updated_at":"2018-08-17T17:57:23Z","author_association":"NONE","body":"@javanna the cluster is otherwise healthy - it's used extensively for ELK in my organization (in a federated fashion).\r\n\r\nWhen I reproduce this issue, the pattern is always:\r\n1. First search request succeeds, returning N results and `scroll_id`.\r\n2. Second attempt (using `scroll_id`) fails entirely, with a long array of \"missing\" nodes. Those nodes' IDs always belong to the clusters I federate to, and within those clusters those nodes are perfectly healthy.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/415006582","html_url":"https://github.com/elastic/elasticsearch/issues/32932#issuecomment-415006582","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32932","id":415006582,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNTAwNjU4Mg==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2018-08-22T11:54:46Z","updated_at":"2018-08-22T11:55:08Z","author_association":"MEMBER","body":"hi @ikonst are all your nodes on the same version? It seems to me that the node that you are using as coordinating node for your scroll search is on 5.6 or later, while the remote nodes are on a previous version, probably 5.5 which is the version you mentioned in the description of this issue. Scroll searches are supported when using cross-cluster search only from 5.6 on, see #25094. I think that this is the problem here, can you please confirm?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/415106376","html_url":"https://github.com/elastic/elasticsearch/issues/32932#issuecomment-415106376","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32932","id":415106376,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNTEwNjM3Ng==","user":{"login":"ikonst","id":1186084,"node_id":"MDQ6VXNlcjExODYwODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/1186084?v=4","gravatar_id":"","url":"https://api.github.com/users/ikonst","html_url":"https://github.com/ikonst","followers_url":"https://api.github.com/users/ikonst/followers","following_url":"https://api.github.com/users/ikonst/following{/other_user}","gists_url":"https://api.github.com/users/ikonst/gists{/gist_id}","starred_url":"https://api.github.com/users/ikonst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ikonst/subscriptions","organizations_url":"https://api.github.com/users/ikonst/orgs","repos_url":"https://api.github.com/users/ikonst/repos","events_url":"https://api.github.com/users/ikonst/events{/privacy}","received_events_url":"https://api.github.com/users/ikonst/received_events","type":"User","site_admin":false},"created_at":"2018-08-22T17:08:09Z","updated_at":"2018-08-22T17:08:09Z","author_association":"NONE","body":"Confirming, our remote nodes are on 5.5. This will be taken care of as part of our update to 6.x. Thanks for looking into this!","performed_via_github_app":null}]