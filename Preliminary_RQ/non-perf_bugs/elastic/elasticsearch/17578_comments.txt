[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/206792132","html_url":"https://github.com/elastic/elasticsearch/issues/17578#issuecomment-206792132","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17578","id":206792132,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNjc5MjEzMg==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-04-07T09:57:04Z","updated_at":"2016-04-07T09:57:04Z","author_association":"CONTRIBUTOR","body":"@nknize please could you take a look?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/216598389","html_url":"https://github.com/elastic/elasticsearch/issues/17578#issuecomment-216598389","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17578","id":216598389,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjU5ODM4OQ==","user":{"login":"jweber","id":61980,"node_id":"MDQ6VXNlcjYxOTgw","avatar_url":"https://avatars0.githubusercontent.com/u/61980?v=4","gravatar_id":"","url":"https://api.github.com/users/jweber","html_url":"https://github.com/jweber","followers_url":"https://api.github.com/users/jweber/followers","following_url":"https://api.github.com/users/jweber/following{/other_user}","gists_url":"https://api.github.com/users/jweber/gists{/gist_id}","starred_url":"https://api.github.com/users/jweber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jweber/subscriptions","organizations_url":"https://api.github.com/users/jweber/orgs","repos_url":"https://api.github.com/users/jweber/repos","events_url":"https://api.github.com/users/jweber/events{/privacy}","received_events_url":"https://api.github.com/users/jweber/received_events","type":"User","site_admin":false},"created_at":"2016-05-03T17:10:00Z","updated_at":"2016-05-03T17:10:00Z","author_association":"NONE","body":"I just tried this out in 5.0.0-alpha2 and it's still showing the same behavior.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/216866894","html_url":"https://github.com/elastic/elasticsearch/issues/17578#issuecomment-216866894","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17578","id":216866894,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjg2Njg5NA==","user":{"login":"nknize","id":830187,"node_id":"MDQ6VXNlcjgzMDE4Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/830187?v=4","gravatar_id":"","url":"https://api.github.com/users/nknize","html_url":"https://github.com/nknize","followers_url":"https://api.github.com/users/nknize/followers","following_url":"https://api.github.com/users/nknize/following{/other_user}","gists_url":"https://api.github.com/users/nknize/gists{/gist_id}","starred_url":"https://api.github.com/users/nknize/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nknize/subscriptions","organizations_url":"https://api.github.com/users/nknize/orgs","repos_url":"https://api.github.com/users/nknize/repos","events_url":"https://api.github.com/users/nknize/events{/privacy}","received_events_url":"https://api.github.com/users/nknize/received_events","type":"User","site_admin":false},"created_at":"2016-05-04T13:36:03Z","updated_at":"2016-05-04T13:36:03Z","author_association":"CONTRIBUTOR","body":"> it appears that somewhere around a 6,000mi distance, the bounding box generated by the GeoPointDistanceQueryImpl query maxes out\n\nhmmm... This sounds like could be a units issue with `maxRadialDistance`?  I'll try to reproduce and see what's going on.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/216891474","html_url":"https://github.com/elastic/elasticsearch/issues/17578#issuecomment-216891474","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17578","id":216891474,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjg5MTQ3NA==","user":{"login":"jweber","id":61980,"node_id":"MDQ6VXNlcjYxOTgw","avatar_url":"https://avatars0.githubusercontent.com/u/61980?v=4","gravatar_id":"","url":"https://api.github.com/users/jweber","html_url":"https://github.com/jweber","followers_url":"https://api.github.com/users/jweber/followers","following_url":"https://api.github.com/users/jweber/following{/other_user}","gists_url":"https://api.github.com/users/jweber/gists{/gist_id}","starred_url":"https://api.github.com/users/jweber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jweber/subscriptions","organizations_url":"https://api.github.com/users/jweber/orgs","repos_url":"https://api.github.com/users/jweber/repos","events_url":"https://api.github.com/users/jweber/events{/privacy}","received_events_url":"https://api.github.com/users/jweber/received_events","type":"User","site_admin":false},"created_at":"2016-05-04T14:57:24Z","updated_at":"2016-05-04T14:57:24Z","author_association":"NONE","body":"If I shift the query origin further north then the max distance become less before the bounding box stops growing. For example, when using location _71.284992,-156.9219567_ (Barrow, AK) the bounding box stops changing at a query distance of around 2,600 miles.\n\nI'm also assuming that the _Lower Left: [x,y], Upper Right: [x,y]_ being reported by the GeoPointDistanceQueryImpl lucene query when running the query profiler is the bounding box. Hopefully I'm not wrong on that!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/216903254","html_url":"https://github.com/elastic/elasticsearch/issues/17578#issuecomment-216903254","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17578","id":216903254,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjkwMzI1NA==","user":{"login":"nknize","id":830187,"node_id":"MDQ6VXNlcjgzMDE4Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/830187?v=4","gravatar_id":"","url":"https://api.github.com/users/nknize","html_url":"https://github.com/nknize","followers_url":"https://api.github.com/users/nknize/followers","following_url":"https://api.github.com/users/nknize/following{/other_user}","gists_url":"https://api.github.com/users/nknize/gists{/gist_id}","starred_url":"https://api.github.com/users/nknize/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nknize/subscriptions","organizations_url":"https://api.github.com/users/nknize/orgs","repos_url":"https://api.github.com/users/nknize/repos","events_url":"https://api.github.com/users/nknize/events{/privacy}","received_events_url":"https://api.github.com/users/nknize/received_events","type":"User","site_admin":false},"created_at":"2016-05-04T15:32:11Z","updated_at":"2016-05-04T15:32:11Z","author_association":"CONTRIBUTOR","body":"Ah. This was a radius restriction bug that was fixed in https://issues.apache.org/jira/browse/LUCENE-7137.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/216931091","html_url":"https://github.com/elastic/elasticsearch/issues/17578#issuecomment-216931091","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17578","id":216931091,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjkzMTA5MQ==","user":{"login":"jweber","id":61980,"node_id":"MDQ6VXNlcjYxOTgw","avatar_url":"https://avatars0.githubusercontent.com/u/61980?v=4","gravatar_id":"","url":"https://api.github.com/users/jweber","html_url":"https://github.com/jweber","followers_url":"https://api.github.com/users/jweber/followers","following_url":"https://api.github.com/users/jweber/following{/other_user}","gists_url":"https://api.github.com/users/jweber/gists{/gist_id}","starred_url":"https://api.github.com/users/jweber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jweber/subscriptions","organizations_url":"https://api.github.com/users/jweber/orgs","repos_url":"https://api.github.com/users/jweber/repos","events_url":"https://api.github.com/users/jweber/events{/privacy}","received_events_url":"https://api.github.com/users/jweber/received_events","type":"User","site_admin":false},"created_at":"2016-05-04T16:57:05Z","updated_at":"2016-05-04T16:57:05Z","author_association":"NONE","body":"@nknize: Any chance of that fix getting applied to a 2.3.x release?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/217016001","html_url":"https://github.com/elastic/elasticsearch/issues/17578#issuecomment-217016001","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17578","id":217016001,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzAxNjAwMQ==","user":{"login":"nknize","id":830187,"node_id":"MDQ6VXNlcjgzMDE4Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/830187?v=4","gravatar_id":"","url":"https://api.github.com/users/nknize","html_url":"https://github.com/nknize","followers_url":"https://api.github.com/users/nknize/followers","following_url":"https://api.github.com/users/nknize/following{/other_user}","gists_url":"https://api.github.com/users/nknize/gists{/gist_id}","starred_url":"https://api.github.com/users/nknize/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nknize/subscriptions","organizations_url":"https://api.github.com/users/nknize/orgs","repos_url":"https://api.github.com/users/nknize/repos","events_url":"https://api.github.com/users/nknize/events{/privacy}","received_events_url":"https://api.github.com/users/nknize/received_events","type":"User","site_admin":false},"created_at":"2016-05-04T21:56:59Z","updated_at":"2016-05-04T21:56:59Z","author_association":"CONTRIBUTOR","body":"Possibly 2.3.x, that might be a stretch. At minimum it should really make 5.0 but as it stands right now the fix isn't available until Lucene 6.1 which means 5.x. I'll dig and keep this issue updated.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/230507198","html_url":"https://github.com/elastic/elasticsearch/issues/17578#issuecomment-230507198","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17578","id":230507198,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMDUwNzE5OA==","user":{"login":"jweber","id":61980,"node_id":"MDQ6VXNlcjYxOTgw","avatar_url":"https://avatars0.githubusercontent.com/u/61980?v=4","gravatar_id":"","url":"https://api.github.com/users/jweber","html_url":"https://github.com/jweber","followers_url":"https://api.github.com/users/jweber/followers","following_url":"https://api.github.com/users/jweber/following{/other_user}","gists_url":"https://api.github.com/users/jweber/gists{/gist_id}","starred_url":"https://api.github.com/users/jweber/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jweber/subscriptions","organizations_url":"https://api.github.com/users/jweber/orgs","repos_url":"https://api.github.com/users/jweber/repos","events_url":"https://api.github.com/users/jweber/events{/privacy}","received_events_url":"https://api.github.com/users/jweber/received_events","type":"User","site_admin":false},"created_at":"2016-07-05T15:10:13Z","updated_at":"2016-07-05T15:10:13Z","author_association":"NONE","body":"@nknize I noticed that alpha4 is using Lucene 6.1 so I re-ran this test. It's still exhibiting the same unexpected behavior.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/231418073","html_url":"https://github.com/elastic/elasticsearch/issues/17578#issuecomment-231418073","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17578","id":231418073,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMTQxODA3Mw==","user":{"login":"nknize","id":830187,"node_id":"MDQ6VXNlcjgzMDE4Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/830187?v=4","gravatar_id":"","url":"https://api.github.com/users/nknize","html_url":"https://github.com/nknize","followers_url":"https://api.github.com/users/nknize/followers","following_url":"https://api.github.com/users/nknize/following{/other_user}","gists_url":"https://api.github.com/users/nknize/gists{/gist_id}","starred_url":"https://api.github.com/users/nknize/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nknize/subscriptions","organizations_url":"https://api.github.com/users/nknize/orgs","repos_url":"https://api.github.com/users/nknize/repos","events_url":"https://api.github.com/users/nknize/events{/privacy}","received_events_url":"https://api.github.com/users/nknize/received_events","type":"User","site_admin":false},"created_at":"2016-07-08T17:15:22Z","updated_at":"2016-07-08T17:15:22Z","author_association":"CONTRIBUTOR","body":"@jweber I still had the radial restriction in ES. I just pushed a fix that will be in the next release.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/241232317","html_url":"https://github.com/elastic/elasticsearch/issues/17578#issuecomment-241232317","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17578","id":241232317,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MTIzMjMxNw==","user":{"login":"bubchi89","id":1217648,"node_id":"MDQ6VXNlcjEyMTc2NDg=","avatar_url":"https://avatars1.githubusercontent.com/u/1217648?v=4","gravatar_id":"","url":"https://api.github.com/users/bubchi89","html_url":"https://github.com/bubchi89","followers_url":"https://api.github.com/users/bubchi89/followers","following_url":"https://api.github.com/users/bubchi89/following{/other_user}","gists_url":"https://api.github.com/users/bubchi89/gists{/gist_id}","starred_url":"https://api.github.com/users/bubchi89/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bubchi89/subscriptions","organizations_url":"https://api.github.com/users/bubchi89/orgs","repos_url":"https://api.github.com/users/bubchi89/repos","events_url":"https://api.github.com/users/bubchi89/events{/privacy}","received_events_url":"https://api.github.com/users/bubchi89/received_events","type":"User","site_admin":false},"created_at":"2016-08-21T00:48:52Z","updated_at":"2016-08-21T00:48:52Z","author_association":"NONE","body":"Do you guys have any suggestions for a workaround for this in 2.3.x? Or is the best we can do is validate the user's query before passing it along to ES? Does it sound reasonable to validate that GeoUtils.maxRadialDistance() doesn't shrink the input distance?\n","performed_via_github_app":null}]