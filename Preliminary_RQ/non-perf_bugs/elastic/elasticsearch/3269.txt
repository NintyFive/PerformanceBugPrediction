{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/3269","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3269/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3269/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3269/events","html_url":"https://github.com/elastic/elasticsearch/issues/3269","id":16191194,"node_id":"MDU6SXNzdWUxNjE5MTE5NA==","number":3269,"title":"Improve camelCase/underscore_case handling","user":{"login":"Paikan","id":822586,"node_id":"MDQ6VXNlcjgyMjU4Ng==","avatar_url":"https://avatars2.githubusercontent.com/u/822586?v=4","gravatar_id":"","url":"https://api.github.com/users/Paikan","html_url":"https://github.com/Paikan","followers_url":"https://api.github.com/users/Paikan/followers","following_url":"https://api.github.com/users/Paikan/following{/other_user}","gists_url":"https://api.github.com/users/Paikan/gists{/gist_id}","starred_url":"https://api.github.com/users/Paikan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Paikan/subscriptions","organizations_url":"https://api.github.com/users/Paikan/orgs","repos_url":"https://api.github.com/users/Paikan/repos","events_url":"https://api.github.com/users/Paikan/events{/privacy}","received_events_url":"https://api.github.com/users/Paikan/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2013-06-30T18:19:34Z","updated_at":"2013-07-02T08:43:13Z","closed_at":"2013-07-02T00:08:20Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"This code frequently occurs in the ES source:\n\n``` java\nif (\"foo_bar\".equals(fieldName) || \"fooBar\".equals(fieldName) {\n...\n}\n```\n\nIt is certainly nice to handle both camelCase and underscore_case but the camelCase related test can be easily forgotten which leads to sometimes inconsistent behavior.\n\nWhat about adding some method in common Strings to handle this:\n\n``` java\nboolean equalsUnderscoreOrCamelCase(String s1, String s2) {\n  // \"foo_bar\", \"foo_bar\" => true\n  // \"foo_bar\", \"fooBar\" => true\n  // \"fooBar\", \"fooBar\" => true\n  // \"fooBar\", \"foo_bar\" => true\n // otherwise => false\n}\n```\n\nOr maybe to avoid adding too much overhead underscore_case can be used everywhere in the code and this method can be added to common Strings:\n\n``` java\nboolean equalsOrCamelCaseEquals(String s1, String s2) {\n...   \n}\n```\n\nThe code would become:\n\n``` java\nif (Strings.equalsOrCamelCaseEquals(fieldName, \"foo_bar\")) {\n...\n}\n```\n\nThis would just add the overhead of applying toCamelCase() to s2 if s1 and s2 are different.\n\nIf you think it is a good idea I'm willing to work on it and change it in the code where it is relevant.\n","closed_by":{"login":"uboness","id":211019,"node_id":"MDQ6VXNlcjIxMTAxOQ==","avatar_url":"https://avatars3.githubusercontent.com/u/211019?v=4","gravatar_id":"","url":"https://api.github.com/users/uboness","html_url":"https://github.com/uboness","followers_url":"https://api.github.com/users/uboness/followers","following_url":"https://api.github.com/users/uboness/following{/other_user}","gists_url":"https://api.github.com/users/uboness/gists{/gist_id}","starred_url":"https://api.github.com/users/uboness/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uboness/subscriptions","organizations_url":"https://api.github.com/users/uboness/orgs","repos_url":"https://api.github.com/users/uboness/repos","events_url":"https://api.github.com/users/uboness/events{/privacy}","received_events_url":"https://api.github.com/users/uboness/received_events","type":"User","site_admin":false},"performed_via_github_app":null}