[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/328300521","html_url":"https://github.com/elastic/elasticsearch/issues/26559#issuecomment-328300521","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26559","id":328300521,"node_id":"MDEyOklzc3VlQ29tbWVudDMyODMwMDUyMQ==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2017-09-09T20:06:00Z","updated_at":"2017-09-09T20:07:09Z","author_association":"MEMBER","body":"Hi,\r\n\r\nthis works as expected in 5.3.3:\r\n\r\n```\r\nPUT /test\r\n{\r\n  \"mappings\": {\r\n    \"t\": {\r\n      \"properties\": {\r\n        \"a\": {\r\n          \"type\": \"double\",\r\n          \"index\": false\r\n        },\r\n        \"b\": {\r\n          \"type\": \"double\",\r\n          \"index\": false\r\n        },\r\n        \"c\": {\r\n          \"type\": \"double\",\r\n          \"index\": false\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\nPUT /test/t/1\r\n{\r\n  \"a\" : null,\r\n  \"b\" : \"\",\r\n  \"c\": 1.5\r\n}\r\n\r\nGET /test/t/_search\r\n{\r\n  \"query\": {\"ids\": {\"values\": [1]}} ,\r\n  \"docvalue_fields\": [\"a\", \"b\", \"c\"]\r\n}\r\n\r\n-->\r\n\r\n{\r\n  \"took\": 2,\r\n  \"timed_out\": false,\r\n  \"_shards\": {\r\n    \"total\": 5,\r\n    \"successful\": 5,\r\n    \"failed\": 0\r\n  },\r\n  \"hits\": {\r\n    \"total\": 1,\r\n    \"max_score\": 1,\r\n    \"hits\": [\r\n      {\r\n        \"_index\": \"test\",\r\n        \"_type\": \"t\",\r\n        \"_id\": \"1\",\r\n        \"_score\": 1,\r\n        \"_source\": {\r\n          \"a\": null,\r\n          \"b\": \"\",\r\n          \"c\": 1.5\r\n        },\r\n        \"fields\": {\r\n          \"c\": [\r\n            1.5\r\n          ]\r\n        }\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nPlease provide a concrete ES version together with a full recreation of the problem if you continue having this problem. I will close this for now, if you still have trouble you can try the [Discourse forum](https://discuss.elastic.co) and [IRC channels](https://www.elastic.co/community), or reopen if you can provide a way to reproduce the problem.","performed_via_github_app":null}]