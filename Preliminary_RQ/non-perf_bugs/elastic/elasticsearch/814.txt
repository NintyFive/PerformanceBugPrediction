{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/814","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/814/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/814/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/814/events","html_url":"https://github.com/elastic/elasticsearch/issues/814","id":717369,"node_id":"MDU6SXNzdWU3MTczNjk=","number":814,"title":"Shard Allocation: Add a setting to control when rebalancing will happen based on the cluster wide active shards state","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"labels":[{"id":23172,"node_id":"MDU6TGFiZWwyMzE3Mg==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Efeature","name":">feature","color":"006b75","default":false,"description":null},{"id":76649,"node_id":"MDU6TGFiZWw3NjY0OQ==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v0.16.0","name":"v0.16.0","color":"ededed","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/elastic/elasticsearch/milestones/5","html_url":"https://github.com/elastic/elasticsearch/milestone/5","labels_url":"https://api.github.com/repos/elastic/elasticsearch/milestones/5/labels","id":360,"node_id":"MDk6TWlsZXN0b25lMzYw","number":5,"title":"Ignore","description":"","creator":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":25,"state":"closed","created_at":"2011-04-10T07:10:28Z","updated_at":"2013-02-14T23:17:32Z","due_on":null,"closed_at":"2011-04-08T15:49:51Z"},"comments":1,"created_at":"2011-03-30T10:44:23Z","updated_at":"2011-04-10T07:12:06Z","closed_at":"2011-03-30T10:57:08Z","author_association":"MEMBER","active_lock_reason":null,"body":"Currently, rebalancing can start once a shard replication group (a primary and its replicas) are active for those shards. This can become taxing on a cluster with many indices that are slowly being initialized during full cluster restart.\n\nAllow to control when rebalancing will happen based on the total state of all the indices shards in the cluster. The setting is: `cluster.routing.allocation.allow_rebalance` and has the following values:\n- `always`: Same behavior as today. Rebalancing will be allowed once a shard replication group is active.\n- `indices_primaries_active`: Rebalancing will be allowed only once all primary shards on all indices are active.\n- `indices_all_active`: Rebalancing will be allowed only once all shards on all indices are active.\n\nThe default value is `indices_all_active`. This does mean that if the cluster is in yellow state (for example, not enough nodes were brought on and it could not find a shard to recover), then no rebalancing will happen until it is resolved.\n","closed_by":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"performed_via_github_app":null}