[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/446594683","html_url":"https://github.com/elastic/elasticsearch/issues/36546#issuecomment-446594683","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36546","id":446594683,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NjU5NDY4Mw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-12-12T13:52:19Z","updated_at":"2018-12-12T13:52:19Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-features","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/447352560","html_url":"https://github.com/elastic/elasticsearch/issues/36546#issuecomment-447352560","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36546","id":447352560,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzM1MjU2MA==","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2018-12-14T15:07:42Z","updated_at":"2018-12-14T15:07:42Z","author_association":"MEMBER","body":"relevant snippet from the logs. I do not have an idea yet, how the mock web server can bind to a port, but apparently is not reachable within 10 seconds.\r\n\r\n```\r\n  2> REPRODUCE WITH: ./gradlew :x-pack:plugin:watcher:test -Dtests.seed=6D5B520AF528F071 -Dtests.class=org.elasticsearch.xpack.watcher.common.http.HttpClientTests -Dtests.method=\"testThatGetRedirectIsFollowed\" -Dtests.security.manager=true -Dtests.local\r\ne=lv-LV -Dtests.timezone=America/Campo_Grande -Dcompiler.java=11 -Druntime.java=8\r\n\r\n\r\n  1> [2018-12-12T05:01:20,156][INFO ][o.e.x.w.c.h.HttpClientTests] [testThatGetRedirectIsFollowed] before test\r\n  1> [2018-12-12T05:01:20,157][INFO ][o.e.t.h.MockWebServer    ] [testThatGetRedirectIsFollowed] bound HTTP mock server to [127.0.0.1:36632]\r\n  1> [2018-12-12T05:01:30,171][INFO ][o.e.x.w.c.h.HttpClientTests] [testThatGetRedirectIsFollowed] after test\r\nERROR   10.0s J1 | HttpClientTests.testThatGetRedirectIsFollowed <<< FAILURES!\r\n   > Throwable #1: java.net.SocketTimeoutException: Read timed out\r\n   >    at __randomizedtesting.SeedInfo.seed([6D5B520AF528F071:1217D9506799D023]:0)\r\n   >    at java.net.SocketInputStream.socketRead0(Native Method)\r\n   >    at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\r\n   >    at java.net.SocketInputStream.read(SocketInputStream.java:171)\r\n   >    at java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n   >    at org.apache.http.impl.io.SessionInputBufferImpl.streamRead(SessionInputBufferImpl.java:137)\r\n   >    at org.apache.http.impl.io.SessionInputBufferImpl.fillBuffer(SessionInputBufferImpl.java:153)\r\n   >    at org.apache.http.impl.io.SessionInputBufferImpl.readLine(SessionInputBufferImpl.java:282)\r\n   >    at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:140)\r\n   >    at org.apache.http.impl.conn.DefaultHttpResponseParser.parseHead(DefaultHttpResponseParser.java:57)\r\n   >    at org.apache.http.impl.io.AbstractMessageParser.parse(AbstractMessageParser.java:259)\r\n   >    at org.apache.http.impl.DefaultBHttpClientConnection.receiveResponseHeader(DefaultBHttpClientConnection.java:163)\r\n   >    at org.apache.http.impl.conn.CPoolProxy.receiveResponseHeader(CPoolProxy.java:167)\r\n   >    at org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse(HttpRequestExecutor.java:273)\r\n   >    at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125)\r\n   >    at org.apache.http.impl.execchain.MainClientExec.execute(MainClientExec.java:271)\r\n   >    at org.apache.http.impl.execchain.ProtocolExec.execute(ProtocolExec.java:184)\r\n   >    at org.apache.http.impl.execchain.RetryExec.execute(RetryExec.java:88)\r\n   >    at org.apache.http.impl.execchain.RedirectExec.execute(RedirectExec.java:110)\r\n   >    at org.apache.http.impl.client.InternalHttpClient.doExecute(InternalHttpClient.java:184)\r\n   >    at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:82)\r\n   >    at org.elasticsearch.xpack.watcher.common.http.HttpClient.lambda$execute$0(HttpClient.java:172)\r\n   >    at java.security.AccessController.doPrivileged(Native Method)\r\n   >    at org.elasticsearch.xpack.core.common.socket.SocketAccess.doPrivileged(SocketAccess.java:32)\r\n   >    at org.elasticsearch.xpack.watcher.common.http.HttpClient.execute(HttpClient.java:172)\r\n   >    at org.elasticsearch.xpack.watcher.common.http.HttpClientTests.testThatGetRedirectIsFollowed(HttpClientTests.java:571)\r\n   >    at java.lang.Thread.run(Thread.java:748)\r\nIGNOR/A 0.00s J1 | HttpClientTests.testHttpsWithoutTruststore\r\n\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/459815968","html_url":"https://github.com/elastic/elasticsearch/issues/36546#issuecomment-459815968","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36546","id":459815968,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1OTgxNTk2OA==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2019-02-01T18:14:01Z","updated_at":"2019-02-01T18:14:01Z","author_association":"MEMBER","body":"I ran these tests over 10,000 times without reproducing this timeout, at this point I don't think we can do anything about this since it would require wrapping all the calls in a retry (which would be very ugly). I'm going to close this for now and if it happens again we can revisit.","performed_via_github_app":null}]