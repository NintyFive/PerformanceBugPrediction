[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/271839117","html_url":"https://github.com/elastic/elasticsearch/issues/22551#issuecomment-271839117","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22551","id":271839117,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MTgzOTExNw==","user":{"login":"fulax","id":469047,"node_id":"MDQ6VXNlcjQ2OTA0Nw==","avatar_url":"https://avatars2.githubusercontent.com/u/469047?v=4","gravatar_id":"","url":"https://api.github.com/users/fulax","html_url":"https://github.com/fulax","followers_url":"https://api.github.com/users/fulax/followers","following_url":"https://api.github.com/users/fulax/following{/other_user}","gists_url":"https://api.github.com/users/fulax/gists{/gist_id}","starred_url":"https://api.github.com/users/fulax/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fulax/subscriptions","organizations_url":"https://api.github.com/users/fulax/orgs","repos_url":"https://api.github.com/users/fulax/repos","events_url":"https://api.github.com/users/fulax/events{/privacy}","received_events_url":"https://api.github.com/users/fulax/received_events","type":"User","site_admin":false},"created_at":"2017-01-11T10:55:35Z","updated_at":"2017-01-11T10:56:57Z","author_association":"NONE","body":"To complement this issue, our problem is not that one node gets disconnected, but the recovery process stalling with shard lock exceptions, and the cluster never gets back to green state.\r\nHere is one stack trace of the shard lock issue:\r\n\r\n```\r\n[2017-01-11T11:39:12,031][WARN ][o.e.c.a.s.ShardStateAction] [phelps-esmaster] [crawlout-seed][7] received shard failed for shard id [[crawlout-seed][7]], allocation id [R3_mJzBoQrKVA854jM5uPA], primary term [0], message [failed to create shard], failure [IOException[failed to obtain in-memory shard lock]; nested: ShardLockObtainFailedException[[crawlout-seed][7]: obtaining shard lock timed out after 5000ms]; ]\r\njava.io.IOException: failed to obtain in-memory shard lock\r\n\tat org.elasticsearch.index.IndexService.createShard(IndexService.java:362) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.indices.IndicesService.createShard(IndicesService.java:484) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.indices.IndicesService.createShard(IndicesService.java:148) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.indices.cluster.IndicesClusterStateService.createShard(IndicesClusterStateService.java:532) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.indices.cluster.IndicesClusterStateService.createOrUpdateShards(IndicesClusterStateService.java:509) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.indices.cluster.IndicesClusterStateService.clusterChanged(IndicesClusterStateService.java:198) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.cluster.service.ClusterService.runTasksForExecutor(ClusterService.java:736) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.cluster.service.ClusterService$UpdateTask.run(ClusterService.java:920) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:458) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.runAndClean(PrioritizedEsThreadPoolExecutor.java:238) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.run(PrioritizedEsThreadPoolExecutor.java:201) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_65]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_65]\r\n\tat java.lang.Thread.run(Thread.java:745) [?:1.8.0_65]\r\nCaused by: org.elasticsearch.env.ShardLockObtainFailedException: [crawlout-seed][7]: obtaining shard lock timed out after 5000ms\r\n\tat org.elasticsearch.env.NodeEnvironment$InternalShardLock.acquire(NodeEnvironment.java:711) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.env.NodeEnvironment.shardLock(NodeEnvironment.java:630) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.index.IndexService.createShard(IndexService.java:292) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\t... 13 more\r\n[2017-01-11T11:39:17,046][WARN ][o.e.c.a.s.ShardStateAction] [phelps-esmaster] [crawlout-seed][6] received shard failed for shard id [[crawlout-seed][6]], allocation id [t_hwmHYvSFeM481N-bpd5w], primary term [0], message [failed to create shard], failure [IOException[failed to obtain in-memory shard lock]; nested: ShardLockObtainFailedException[[crawlout-seed][6]: obtaining shard lock timed out after 5000ms]; ]\r\njava.io.IOException: failed to obtain in-memory shard lock\r\n\tat org.elasticsearch.index.IndexService.createShard(IndexService.java:362) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.indices.IndicesService.createShard(IndicesService.java:484) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.indices.IndicesService.createShard(IndicesService.java:148) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.indices.cluster.IndicesClusterStateService.createShard(IndicesClusterStateService.java:532) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.indices.cluster.IndicesClusterStateService.createOrUpdateShards(IndicesClusterStateService.java:509) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.indices.cluster.IndicesClusterStateService.clusterChanged(IndicesClusterStateService.java:198) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.cluster.service.ClusterService.runTasksForExecutor(ClusterService.java:736) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.cluster.service.ClusterService$UpdateTask.run(ClusterService.java:920) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:458) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.runAndClean(PrioritizedEsThreadPoolExecutor.java:238) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.run(PrioritizedEsThreadPoolExecutor.java:201) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [?:1.8.0_65]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [?:1.8.0_65]\r\n\tat java.lang.Thread.run(Thread.java:745) [?:1.8.0_65]\r\nCaused by: org.elasticsearch.env.ShardLockObtainFailedException: [crawlout-seed][6]: obtaining shard lock timed out after 5000ms\r\n\tat org.elasticsearch.env.NodeEnvironment$InternalShardLock.acquire(NodeEnvironment.java:711) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.env.NodeEnvironment.shardLock(NodeEnvironment.java:630) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\tat org.elasticsearch.index.IndexService.createShard(IndexService.java:292) ~[elasticsearch-5.1.1.jar:5.1.1]\r\n\t... 13 more\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/271842476","html_url":"https://github.com/elastic/elasticsearch/issues/22551#issuecomment-271842476","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22551","id":271842476,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MTg0MjQ3Ng==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-01-11T11:12:33Z","updated_at":"2017-01-11T11:12:33Z","author_association":"MEMBER","body":"Duplicates  #22285, closed by #22317. This will be fixed in the next patch release. The only workaround for now is to disable stats collection while indexing. Also, Netty 4 is not the problem here, the bug was a concurrency issue between stats collection and indexing.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/271862930","html_url":"https://github.com/elastic/elasticsearch/issues/22551#issuecomment-271862930","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22551","id":271862930,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MTg2MjkzMA==","user":{"login":"fulax","id":469047,"node_id":"MDQ6VXNlcjQ2OTA0Nw==","avatar_url":"https://avatars2.githubusercontent.com/u/469047?v=4","gravatar_id":"","url":"https://api.github.com/users/fulax","html_url":"https://github.com/fulax","followers_url":"https://api.github.com/users/fulax/followers","following_url":"https://api.github.com/users/fulax/following{/other_user}","gists_url":"https://api.github.com/users/fulax/gists{/gist_id}","starred_url":"https://api.github.com/users/fulax/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fulax/subscriptions","organizations_url":"https://api.github.com/users/fulax/orgs","repos_url":"https://api.github.com/users/fulax/repos","events_url":"https://api.github.com/users/fulax/events{/privacy}","received_events_url":"https://api.github.com/users/fulax/received_events","type":"User","site_admin":false},"created_at":"2017-01-11T13:03:00Z","updated_at":"2017-01-11T13:03:00Z","author_association":"NONE","body":"Thanks @jasontedor for the info, I failed to find that issue using de NodeStats message I saw. I guess disabling stats collection mean disabling X-Pack's Monitoring capability as well as our monitoring probes.\r\n\r\nDo you have an idea about the next release date? This issue is quite severe.  Thanks.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/271864946","html_url":"https://github.com/elastic/elasticsearch/issues/22551#issuecomment-271864946","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22551","id":271864946,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MTg2NDk0Ng==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-01-11T13:12:46Z","updated_at":"2017-01-11T13:12:46Z","author_association":"MEMBER","body":"> I guess disabling stats collection mean disabling X-Pack's Monitoring capability as well as our monitoring probes.\r\n\r\nYes. \r\n\r\n> Do you have an idea about the next release date? This issue is quite severe. Thanks.\r\n\r\nI agree the issue is severe. We do not provide release dates, the best that I can tell you is that it will probably be soon.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/280252695","html_url":"https://github.com/elastic/elasticsearch/issues/22551#issuecomment-280252695","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22551","id":280252695,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDI1MjY5NQ==","user":{"login":"speedplane","id":671052,"node_id":"MDQ6VXNlcjY3MTA1Mg==","avatar_url":"https://avatars0.githubusercontent.com/u/671052?v=4","gravatar_id":"","url":"https://api.github.com/users/speedplane","html_url":"https://github.com/speedplane","followers_url":"https://api.github.com/users/speedplane/followers","following_url":"https://api.github.com/users/speedplane/following{/other_user}","gists_url":"https://api.github.com/users/speedplane/gists{/gist_id}","starred_url":"https://api.github.com/users/speedplane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/speedplane/subscriptions","organizations_url":"https://api.github.com/users/speedplane/orgs","repos_url":"https://api.github.com/users/speedplane/repos","events_url":"https://api.github.com/users/speedplane/events{/privacy}","received_events_url":"https://api.github.com/users/speedplane/received_events","type":"User","site_admin":false},"created_at":"2017-02-16T07:24:36Z","updated_at":"2017-02-16T07:24:36Z","author_association":"CONTRIBUTOR","body":"I'm not sure if this is related, but I just reported a similar looking error in #23199. I am using ES 5.2.0 though.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/292080455","html_url":"https://github.com/elastic/elasticsearch/issues/22551#issuecomment-292080455","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22551","id":292080455,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjA4MDQ1NQ==","user":{"login":"sikelong123","id":19286508,"node_id":"MDQ6VXNlcjE5Mjg2NTA4","avatar_url":"https://avatars2.githubusercontent.com/u/19286508?v=4","gravatar_id":"","url":"https://api.github.com/users/sikelong123","html_url":"https://github.com/sikelong123","followers_url":"https://api.github.com/users/sikelong123/followers","following_url":"https://api.github.com/users/sikelong123/following{/other_user}","gists_url":"https://api.github.com/users/sikelong123/gists{/gist_id}","starred_url":"https://api.github.com/users/sikelong123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sikelong123/subscriptions","organizations_url":"https://api.github.com/users/sikelong123/orgs","repos_url":"https://api.github.com/users/sikelong123/repos","events_url":"https://api.github.com/users/sikelong123/events{/privacy}","received_events_url":"https://api.github.com/users/sikelong123/received_events","type":"User","site_admin":false},"created_at":"2017-04-06T06:24:43Z","updated_at":"2017-04-06T06:24:43Z","author_association":"NONE","body":"I'm not sure if this is related, but I just reported a similar looking error in #23199. I am using ES 5.0.0 though.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/294170910","html_url":"https://github.com/elastic/elasticsearch/issues/22551#issuecomment-294170910","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22551","id":294170910,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDE3MDkxMA==","user":{"login":"HenleyChiu","id":788695,"node_id":"MDQ6VXNlcjc4ODY5NQ==","avatar_url":"https://avatars1.githubusercontent.com/u/788695?v=4","gravatar_id":"","url":"https://api.github.com/users/HenleyChiu","html_url":"https://github.com/HenleyChiu","followers_url":"https://api.github.com/users/HenleyChiu/followers","following_url":"https://api.github.com/users/HenleyChiu/following{/other_user}","gists_url":"https://api.github.com/users/HenleyChiu/gists{/gist_id}","starred_url":"https://api.github.com/users/HenleyChiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HenleyChiu/subscriptions","organizations_url":"https://api.github.com/users/HenleyChiu/orgs","repos_url":"https://api.github.com/users/HenleyChiu/repos","events_url":"https://api.github.com/users/HenleyChiu/events{/privacy}","received_events_url":"https://api.github.com/users/HenleyChiu/received_events","type":"User","site_admin":false},"created_at":"2017-04-14T15:11:08Z","updated_at":"2017-04-14T15:11:08Z","author_association":"NONE","body":"Could running Kibana cause index stats collection to run, and if so would disabling Kibana \"fix\" this issue?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/294171348","html_url":"https://github.com/elastic/elasticsearch/issues/22551#issuecomment-294171348","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22551","id":294171348,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDE3MTM0OA==","user":{"login":"HenleyChiu","id":788695,"node_id":"MDQ6VXNlcjc4ODY5NQ==","avatar_url":"https://avatars1.githubusercontent.com/u/788695?v=4","gravatar_id":"","url":"https://api.github.com/users/HenleyChiu","html_url":"https://github.com/HenleyChiu","followers_url":"https://api.github.com/users/HenleyChiu/followers","following_url":"https://api.github.com/users/HenleyChiu/following{/other_user}","gists_url":"https://api.github.com/users/HenleyChiu/gists{/gist_id}","starred_url":"https://api.github.com/users/HenleyChiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HenleyChiu/subscriptions","organizations_url":"https://api.github.com/users/HenleyChiu/orgs","repos_url":"https://api.github.com/users/HenleyChiu/repos","events_url":"https://api.github.com/users/HenleyChiu/events{/privacy}","received_events_url":"https://api.github.com/users/HenleyChiu/received_events","type":"User","site_admin":false},"created_at":"2017-04-14T15:13:26Z","updated_at":"2017-04-14T15:13:35Z","author_association":"NONE","body":"@jasontedor  By \"disabling stats collection\" you mean set this config value to false: xpack.monitoring.enabled ? ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/294187515","html_url":"https://github.com/elastic/elasticsearch/issues/22551#issuecomment-294187515","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22551","id":294187515,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDE4NzUxNQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-04-14T16:39:39Z","updated_at":"2017-04-14T16:39:39Z","author_association":"MEMBER","body":"@HenleyChiu Yes, if you're using X-Pack monitoring, it will collect stats and that's how you would disable it to stop this issue (or you can upgrade to 5.1.2 where we have fixed this).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/351291894","html_url":"https://github.com/elastic/elasticsearch/issues/22551#issuecomment-351291894","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22551","id":351291894,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTI5MTg5NA==","user":{"login":"LukaszChrzanowski","id":34500544,"node_id":"MDQ6VXNlcjM0NTAwNTQ0","avatar_url":"https://avatars3.githubusercontent.com/u/34500544?v=4","gravatar_id":"","url":"https://api.github.com/users/LukaszChrzanowski","html_url":"https://github.com/LukaszChrzanowski","followers_url":"https://api.github.com/users/LukaszChrzanowski/followers","following_url":"https://api.github.com/users/LukaszChrzanowski/following{/other_user}","gists_url":"https://api.github.com/users/LukaszChrzanowski/gists{/gist_id}","starred_url":"https://api.github.com/users/LukaszChrzanowski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LukaszChrzanowski/subscriptions","organizations_url":"https://api.github.com/users/LukaszChrzanowski/orgs","repos_url":"https://api.github.com/users/LukaszChrzanowski/repos","events_url":"https://api.github.com/users/LukaszChrzanowski/events{/privacy}","received_events_url":"https://api.github.com/users/LukaszChrzanowski/received_events","type":"User","site_admin":false},"created_at":"2017-12-13T06:00:41Z","updated_at":"2017-12-13T06:00:41Z","author_association":"NONE","body":"I have similar problem with version 6.0.1\r\n\r\nElasticsearch version: 6.0.1, from Elastic Artifacts repositories\r\n\r\nPlugins installed: [x-pack]\r\n\r\nJVM version: java version \"1.8.0_152\"\r\nJava(TM) SE Runtime Environment (build 1.8.0_152-b16)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.152-b16, mixed mode)\r\n\r\nOS version: Solaris 11\r\n\r\nDescription of the problem including expected versus actual behavior: First error in slave (attached below), then error on master (attached more below). Finally both server stopped working.\r\n\r\nSteps to reproduce:\r\n\r\nOne master and one slave instance. Installed freshly. There is no rule when this occurs. Sometinmes works for 3-4 hours, sometimes fot 2-3...\r\n\r\n\r\nProvide logs (if relevant):\r\nSlave instance:\r\n`[2017-12-12T23:50:33,492][WARN ][o.e.m.j.JvmGcMonitorService] [tib-nonprod-data] [gc][8091] overhead, spent [565ms] collecting in the last [1s]\r\n[2017-12-12T23:58:14,384][INFO ][o.e.n.Node               ] [tib-nonprod-data] stopping ...\r\n[2017-12-12T23:58:15,153][DEBUG][o.e.a.a.c.n.s.TransportNodesStatsAction] [tib-nonprod-data] failed to execute on node [COqPNpNHTkCtVjdnGKMQNg]\r\norg.elasticsearch.transport.TransportException: transport stopped, action: cluster:monitor/nodes/stats[n]\r\n        at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:270) [elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:638) [elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) [elasticsearch-6.0.1.jar:6.0.1]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_152]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_152]\r\n        at java.lang.Thread.run(Thread.java:748) [?:1.8.0_152]\r\n[2017-12-12T23:58:15,194][ERROR][o.e.x.m.c.n.NodeStatsCollector] [tib-nonprod-data] collector [node_stats] failed to collect data\r\norg.elasticsearch.action.FailedNodeException: Failed node [COqPNpNHTkCtVjdnGKMQNg]\r\n        at org.elasticsearch.action.support.nodes.TransportNodesAction$AsyncAction.onFailure(TransportNodesAction.java:239) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.action.support.nodes.TransportNodesAction$AsyncAction.access$200(TransportNodesAction.java:153) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.action.support.nodes.TransportNodesAction$AsyncAction$1.handleException(TransportNodesAction.java:211) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.transport.TransportService$ContextRestoreResponseHandler.handleException(TransportService.java:1069) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:271) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:638) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_152]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_152]\r\n        at java.lang.Thread.run(Thread.java:748) [?:1.8.0_152]\r\nCaused by: org.elasticsearch.transport.TransportException: transport stopped, action: cluster:monitor/nodes/stats[n]\r\n        at org.elasticsearch.transport.TransportService$4.doRun(TransportService.java:270) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        ... 5 more\r\n[2017-12-12T23:58:15,327][WARN ][o.e.t.TransportService   ] [tib-nonprod-data] Transport response handler not found of id [332176]\r\n[2017-12-12T23:58:16,260][INFO ][o.e.n.Node               ] [tib-nonprod-data] stopped\r\n[2017-12-12T23:58:16,261][INFO ][o.e.n.Node               ] [tib-nonprod-data] closing ...\r\n[2017-12-12T23:58:26,307][WARN ][o.e.x.m.MonitoringService] [tib-nonprod-data] monitoring execution did not complete after waiting for 10s\r\n[2017-12-12T23:58:26,384][INFO ][o.e.n.Node               ] [tib-nonprod-data] closed\r\n`\r\nMaster instance:\r\n`[2017-12-12T23:58:15,122][INFO ][o.e.c.r.DelayedAllocationService] [tib-nonprod-master] scheduling reroute for delayed shards in [59.2s] (46 delayed shards)\r\n[2017-12-12T23:58:15,728][INFO ][o.e.i.s.GlobalCheckpointSyncAction] [tib-nonprod-master] [bw-mem-2017.12.12][1] global checkpoint sync failed\r\norg.elasticsearch.transport.SendRequestTransportException: [tib-nonprod-master][127.0.0.1:19300][indices:admin/seq_no/global_checkpoint_sync[p]]\r\n        at org.elasticsearch.transport.TransportService.sendRequestInternal(TransportService.java:611) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.xpack.security.transport.SecurityServerTransportInterceptor.sendWithUser(SecurityServerTransportInterceptor.java:162) ~[?:?]\r\n        at org.elasticsearch.xpack.security.transport.SecurityServerTransportInterceptor.access$400(SecurityServerTransportInterceptor.java:64) ~[?:?]\r\n        at org.elasticsearch.xpack.security.transport.SecurityServerTransportInterceptor$1.sendRequest(SecurityServerTransportInterceptor.java:141) ~[?:?]\r\n        at org.elasticsearch.transport.TransportService.sendRequest(TransportService.java:521) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.transport.TransportService.sendRequest(TransportService.java:509) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.action.support.replication.TransportReplicationAction$ReroutePhase.performAction(TransportReplicationAction.java:832) ~[elasticse\r\narch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.action.support.replication.TransportReplicationAction$ReroutePhase.performLocalAction(TransportReplicationAction.java:750) ~[elas\r\nticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.action.support.replication.TransportReplicationAction$ReroutePhase.doRun(TransportReplicationAction.java:738) ~[elasticsearch-6.0\r\n.1.jar:6.0.1]\r\n        at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) [elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.action.support.replication.TransportReplicationAction.doExecute(TransportReplicationAction.java:169) ~[elasticsearch-6.0.1.jar:6.\r\n0.1]\r\n        at org.elasticsearch.action.support.replication.TransportReplicationAction.doExecute(TransportReplicationAction.java:97) ~[elasticsearch-6.0.1.jar:6.0\r\n.1]\r\n        at org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:167) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.lambda$apply$0(SecurityActionFilter.java:104) ~[?:?]\r\n        at org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:59) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.lambda$authorizeRequest$3(SecurityActionFilter.java:178) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authz.AuthorizationUtils$AsyncAuthorizer.maybeRun(AuthorizationUtils.java:124) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authz.AuthorizationUtils$AsyncAuthorizer.setRunAsRoles(AuthorizationUtils.java:118) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authz.AuthorizationUtils$AsyncAuthorizer.authorize(AuthorizationUtils.java:100) ~[?:?]\r\n        at org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.authorizeRequest(SecurityActionFilter.java:180) ~[?:?]\r\n        at org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.lambda$applyInternal$2(SecurityActionFilter.java:157) ~[?:?]\r\n        at org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:59) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.lambda$authenticateAsync$2(AuthenticationService.java:195) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.lambda$lookForExistingAuthentication$4(AuthenticationService.java:228) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.lookForExistingAuthentication(AuthenticationService.java:239) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.authenticateAsync(AuthenticationService.java:193) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.access$000(AuthenticationService.java:147) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authc.AuthenticationService.authenticate(AuthenticationService.java:116) ~[?:?]\r\n        at org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.applyInternal(SecurityActionFilter.java:156) ~[?:?]\r\n`\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/351591522","html_url":"https://github.com/elastic/elasticsearch/issues/22551#issuecomment-351591522","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22551","id":351591522,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTU5MTUyMg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-12-14T02:41:13Z","updated_at":"2017-12-14T02:41:13Z","author_association":"MEMBER","body":"Do you have the rest of the log for this exception:\r\n\r\n```\r\n[tib-nonprod-master] [bw-mem-2017.12.12][1] global checkpoint sync failed org.elasticsearch.transport.SendRequestTransportException: [tib-nonprod-master][127.0.0.1:19300][indices:admin/seq_no/global_checkpoint_sync[p]] at org.elasticsearch.transport.TransportService.sendRequestInternal(TransportService.java:611) \r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/351624727","html_url":"https://github.com/elastic/elasticsearch/issues/22551#issuecomment-351624727","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22551","id":351624727,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTYyNDcyNw==","user":{"login":"LukaszChrzanowski","id":34500544,"node_id":"MDQ6VXNlcjM0NTAwNTQ0","avatar_url":"https://avatars3.githubusercontent.com/u/34500544?v=4","gravatar_id":"","url":"https://api.github.com/users/LukaszChrzanowski","html_url":"https://github.com/LukaszChrzanowski","followers_url":"https://api.github.com/users/LukaszChrzanowski/followers","following_url":"https://api.github.com/users/LukaszChrzanowski/following{/other_user}","gists_url":"https://api.github.com/users/LukaszChrzanowski/gists{/gist_id}","starred_url":"https://api.github.com/users/LukaszChrzanowski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LukaszChrzanowski/subscriptions","organizations_url":"https://api.github.com/users/LukaszChrzanowski/orgs","repos_url":"https://api.github.com/users/LukaszChrzanowski/repos","events_url":"https://api.github.com/users/LukaszChrzanowski/events{/privacy}","received_events_url":"https://api.github.com/users/LukaszChrzanowski/received_events","type":"User","site_admin":false},"created_at":"2017-12-14T06:54:15Z","updated_at":"2017-12-14T06:54:15Z","author_association":"NONE","body":"`[2017-12-12T23:58:15,728][INFO ][o.e.i.s.GlobalCheckpointSyncAction] [tib-nonprod-master] [bw-mem-2017.12.12][1] global checkpoint sync failed\r\norg.elasticsearch.transport.SendRequestTransportException: [tib-nonprod-master][127.0.0.1:19300][indices:admin/seq_no/global_checkpoint_sync[p]]\r\n        at org.elasticsearch.transport.TransportService.sendRequestInternal(TransportService.java:611) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.xpack.security.transport.SecurityServerTransportInterceptor.sendWithUser(SecurityServerTransportInterceptor.java:162) ~[?:?]\r\n        at org.elasticsearch.xpack.security.transport.SecurityServerTransportInterceptor.access$400(SecurityServerTransportInterceptor.java:64) ~[?:?]\r\n        at org.elasticsearch.xpack.security.transport.SecurityServerTransportInterceptor$1.sendRequest(SecurityServerTransportInterceptor.java:141) ~[?:?]\r\n        at org.elasticsearch.transport.TransportService.sendRequest(TransportService.java:521) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.transport.TransportService.sendRequest(TransportService.java:509) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.action.support.replication.TransportReplicationAction$ReroutePhase.performAction(TransportReplicationAction.java:832) ~[elasticsearch-6.\r\n0.1.jar:6.0.1]\r\n        at org.elasticsearch.action.support.replication.TransportReplicationAction$ReroutePhase.performLocalAction(TransportReplicationAction.java:750) ~[elasticsear\r\nch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.action.support.replication.TransportReplicationAction$ReroutePhase.doRun(TransportReplicationAction.java:738) ~[elasticsearch-6.0.1.jar:\r\n6.0.1]\r\n        at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) [elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.action.support.replication.TransportReplicationAction.doExecute(TransportReplicationAction.java:169) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.action.support.replication.TransportReplicationAction.doExecute(TransportReplicationAction.java:97) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:167) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.lambda$apply$0(SecurityActionFilter.java:104) ~[?:?]\r\n        at org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:59) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.lambda$authorizeRequest$3(SecurityActionFilter.java:178) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authz.AuthorizationUtils$AsyncAuthorizer.maybeRun(AuthorizationUtils.java:124) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authz.AuthorizationUtils$AsyncAuthorizer.setRunAsRoles(AuthorizationUtils.java:118) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authz.AuthorizationUtils$AsyncAuthorizer.authorize(AuthorizationUtils.java:100) ~[?:?]\r\n        at org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.authorizeRequest(SecurityActionFilter.java:180) ~[?:?]\r\n        at org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.lambda$applyInternal$2(SecurityActionFilter.java:157) ~[?:?]\r\n        at org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:59) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.lambda$authenticateAsync$2(AuthenticationService.java:195) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.lambda$lookForExistingAuthentication$4(AuthenticationService.java:228) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.lookForExistingAuthentication(AuthenticationService.java:239) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.authenticateAsync(AuthenticationService.java:193) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.access$000(AuthenticationService.java:147) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authc.AuthenticationService.authenticate(AuthenticationService.java:116) ~[?:?]\r\n        at org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.applyInternal(SecurityActionFilter.java:156) ~[?:?]\r\n        at org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.lambda$apply$1(SecurityActionFilter.java:109) ~[?:?]\r\n        at org.elasticsearch.xpack.security.SecurityContext.executeAsUser(SecurityContext.java:105) ~[?:?]\r\n        at org.elasticsearch.xpack.security.action.filter.SecurityActionFilter.apply(SecurityActionFilter.java:107) ~[?:?]\r\n        at org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:165) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:139) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:81) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.index.seqno.GlobalCheckpointSyncAction.updateGlobalCheckpointForShard(GlobalCheckpointSyncAction.java:87) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.index.IndexService.lambda$createShard$5(IndexService.java:382) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.index.shard.IndexShard.maybeSyncGlobalCheckpoint(IndexShard.java:1835) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.index.IndexService.lambda$maybeSyncGlobalCheckpoints$10(IndexService.java:745) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:59) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.index.shard.IndexShardOperationPermits.acquire(IndexShardOperationPermits.java:238) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.index.shard.IndexShard.acquirePrimaryOperationPermit(IndexShard.java:2217) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.index.IndexService.maybeSyncGlobalCheckpoints(IndexService.java:741) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.index.IndexService.access$600(IndexService.java:97) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.index.IndexService$AsyncGlobalCheckpointTask.runInternal(IndexService.java:957) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.index.IndexService$BaseAsyncTask.run(IndexService.java:809) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:569) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_152]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_152]\r\n        at java.lang.Thread.run(Thread.java:748) [?:1.8.0_152]\r\nCaused by: org.elasticsearch.transport.TransportException: TransportService is closed stopped can't send request\r\n        at org.elasticsearch.transport.TransportService.sendRequestInternal(TransportService.java:595) ~[elasticsearch-6.0.1.jar:6.0.1]\r\n        ... 49 more\r\n[2017-12-12T23:58:16,747][INFO ][o.e.n.Node               ] [tib-nonprod-master] stopped\r\n[2017-12-12T23:58:16,747][INFO ][o.e.n.Node               ] [tib-nonprod-master] closing ...\r\n[2017-12-12T23:58:16,930][INFO ][o.e.n.Node               ] [tib-nonprod-master] closed\r\n`","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/351656799","html_url":"https://github.com/elastic/elasticsearch/issues/22551#issuecomment-351656799","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22551","id":351656799,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTY1Njc5OQ==","user":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"created_at":"2017-12-14T09:32:20Z","updated_at":"2017-12-14T09:32:20Z","author_association":"CONTRIBUTOR","body":"These exceptions look to occur after the nodes are being shut down (see `[2017-12-12T23:58:14,384][INFO ][o.e.n.Node ] [tib-nonprod-data] stopping ...` or `2017-12-12T23:58:16,747][INFO ][o.e.n.Node ] [tib-nonprod-master] stopped`). While these exceptions look bad, they can just be ignored as they are triggered by the node being shut down. The nodes \"not working\" is because they are shut down.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/351662939","html_url":"https://github.com/elastic/elasticsearch/issues/22551#issuecomment-351662939","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22551","id":351662939,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MTY2MjkzOQ==","user":{"login":"LukaszChrzanowski","id":34500544,"node_id":"MDQ6VXNlcjM0NTAwNTQ0","avatar_url":"https://avatars3.githubusercontent.com/u/34500544?v=4","gravatar_id":"","url":"https://api.github.com/users/LukaszChrzanowski","html_url":"https://github.com/LukaszChrzanowski","followers_url":"https://api.github.com/users/LukaszChrzanowski/followers","following_url":"https://api.github.com/users/LukaszChrzanowski/following{/other_user}","gists_url":"https://api.github.com/users/LukaszChrzanowski/gists{/gist_id}","starred_url":"https://api.github.com/users/LukaszChrzanowski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LukaszChrzanowski/subscriptions","organizations_url":"https://api.github.com/users/LukaszChrzanowski/orgs","repos_url":"https://api.github.com/users/LukaszChrzanowski/repos","events_url":"https://api.github.com/users/LukaszChrzanowski/events{/privacy}","received_events_url":"https://api.github.com/users/LukaszChrzanowski/received_events","type":"User","site_admin":false},"created_at":"2017-12-14T09:56:04Z","updated_at":"2017-12-14T09:56:04Z","author_association":"NONE","body":"Great - but I don't do anything to shut them down... they do It by themselves!","performed_via_github_app":null}]