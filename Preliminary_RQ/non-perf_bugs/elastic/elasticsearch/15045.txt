{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/15045","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15045/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15045/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15045/events","html_url":"https://github.com/elastic/elasticsearch/issues/15045","id":119035168,"node_id":"MDU6SXNzdWUxMTkwMzUxNjg=","number":15045,"title":"Shards mapping inconsistency ","user":{"login":"segalziv","id":9026326,"node_id":"MDQ6VXNlcjkwMjYzMjY=","avatar_url":"https://avatars1.githubusercontent.com/u/9026326?v=4","gravatar_id":"","url":"https://api.github.com/users/segalziv","html_url":"https://github.com/segalziv","followers_url":"https://api.github.com/users/segalziv/followers","following_url":"https://api.github.com/users/segalziv/following{/other_user}","gists_url":"https://api.github.com/users/segalziv/gists{/gist_id}","starred_url":"https://api.github.com/users/segalziv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/segalziv/subscriptions","organizations_url":"https://api.github.com/users/segalziv/orgs","repos_url":"https://api.github.com/users/segalziv/repos","events_url":"https://api.github.com/users/segalziv/events{/privacy}","received_events_url":"https://api.github.com/users/segalziv/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2015-11-26T12:24:06Z","updated_at":"2015-11-26T16:41:48Z","closed_at":"2015-11-26T16:16:27Z","author_association":"NONE","active_lock_reason":null,"body":"Hi guys, \n\nI'm using elasticsearch 1.7.3 and encountered a strange case where 2 data nodes return a different result set for the exact same query. The queried index have 1 primary shard and 1 replica shard.\n\nDebugging it I see that the mapping of that same index is different in the 2 relevant nodes. one of the nodes have more fields in the mapping, although both have the same doc count.\n\nCan you please help? How can this happen? is there any indexing config I can apply to prevent these sort of thing? I've scanned the issues here and couldn't find a relevant issue.\n- Not sure it is related, but the elasticsearch cluster I'm using have many indices/shards, but this is the first time it happens.\n\nThanks!\n","closed_by":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"performed_via_github_app":null}