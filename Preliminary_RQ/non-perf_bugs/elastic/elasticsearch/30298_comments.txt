[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/385645602","html_url":"https://github.com/elastic/elasticsearch/issues/30298#issuecomment-385645602","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30298","id":385645602,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTY0NTYwMg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-05-01T10:51:53Z","updated_at":"2018-05-01T10:51:53Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/388134896","html_url":"https://github.com/elastic/elasticsearch/issues/30298#issuecomment-388134896","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30298","id":388134896,"node_id":"MDEyOklzc3VlQ29tbWVudDM4ODEzNDg5Ng==","user":{"login":"jtibshirani","id":7461306,"node_id":"MDQ6VXNlcjc0NjEzMDY=","avatar_url":"https://avatars3.githubusercontent.com/u/7461306?v=4","gravatar_id":"","url":"https://api.github.com/users/jtibshirani","html_url":"https://github.com/jtibshirani","followers_url":"https://api.github.com/users/jtibshirani/followers","following_url":"https://api.github.com/users/jtibshirani/following{/other_user}","gists_url":"https://api.github.com/users/jtibshirani/gists{/gist_id}","starred_url":"https://api.github.com/users/jtibshirani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtibshirani/subscriptions","organizations_url":"https://api.github.com/users/jtibshirani/orgs","repos_url":"https://api.github.com/users/jtibshirani/repos","events_url":"https://api.github.com/users/jtibshirani/events{/privacy}","received_events_url":"https://api.github.com/users/jtibshirani/received_events","type":"User","site_admin":false},"created_at":"2018-05-10T18:02:35Z","updated_at":"2018-05-10T19:28:09Z","author_association":"MEMBER","body":"The other test in the file `10_basic` also failed recently with the same stacktrace. I've included the information below for both builds on which it failed.\r\n\r\nI'm going to mute both tests in this file, as they've each failed 8 times over the last 30 days. It looks like this suite may have a timing issue around start-up, and that these two tests in particular are especially prone to fail. Note that the test failures don't reproduce for me locally.\r\n\r\nCI link: https://internal-ci.elastic.co/job/elastic+x-pack-elasticsearch+6.2+release-tests/327/console\r\nCommand to reproduce:\r\n```\r\n./gradlew :x-pack-elasticsearch:qa:smoke-test-watcher-with-security:integTestRunner \\\r\n  -Dtests.seed=7645BC3A0254B47 \\\r\n  -Dtests.class=org.elasticsearch.smoketest.SmokeTestWatcherWithSecurityClientYamlTestSuiteIT \\\r\n  -Dtests.method=\"test {yaml=watcher/stats/10_basic/Test watcher stats output}\" \\\r\n  -Dtests.security.manager=true \\\r\n  -Dbuild.snapshot=false \\\r\n  -Dtests.jvm.argline=\"-Dbuild.snapshot=false\" \\\r\n  -Dtests.locale=he \\\r\n  -Dtests.timezone=America/Argentina/Salta\r\n```\r\n\r\nCI link: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.3+periodic/92/console\r\nCommand to reproduce:\r\n```\r\n./gradlew :x-pack:qa:smoke-test-watcher-with-security:integTestRunner \\\r\n  -Dtests.seed=E7F5BE23B7D49736 \\\r\n  -Dtests.class=org.elasticsearch.smoketest.SmokeTestWatcherWithSecurityClientYamlTestSuiteIT \\\r\n  -Dtests.method=\"test {yaml=watcher/stats/10_basic/Test watcher stats output}\" \\\r\n  -Dtests.security.manager=true \\\r\n  -Dtests.locale=el \\\r\n  -Dtests.timezone=Africa/Asmera\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/388288935","html_url":"https://github.com/elastic/elasticsearch/issues/30298#issuecomment-388288935","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30298","id":388288935,"node_id":"MDEyOklzc3VlQ29tbWVudDM4ODI4ODkzNQ==","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2018-05-11T07:49:23Z","updated_at":"2018-05-11T07:49:23Z","author_association":"MEMBER","body":"indeed they do have a timing issue. This is fixed in #30403/#30118 for master and 6.x branches, which reduces the amount of code executed in an executor when watcher is starting up","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/392033134","html_url":"https://github.com/elastic/elasticsearch/issues/30298#issuecomment-392033134","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30298","id":392033134,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjAzMzEzNA==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2018-05-25T12:07:41Z","updated_at":"2018-05-25T12:07:41Z","author_association":"CONTRIBUTOR","body":"Same problem again in 6.2: https://internal-ci.elastic.co/job/elastic+x-pack-elasticsearch+6.2+multijob-unix-compatibility/933/consoleFull\r\n\r\nREPRO command is:\r\n\r\n```\r\n./gradlew :x-pack-elasticsearch:qa:smoke-test-watcher-with-security:integTestRunner \\\r\n  -Dtests.seed=3D3CF5F5CB2E3807 \\\r\n  -Dtests.class=org.elasticsearch.smoketest.SmokeTestWatcherWithSecurityClientYamlTestSuiteIT \\\r\n  -Dtests.method=\"test {yaml=watcher/stats/10_basic/Test watcher stats supports emit_stacktraces parameter}\" \\\r\n  -Dtests.security.manager=true \\\r\n  -Dtests.locale=sq \\\r\n  -Dtests.timezone=Australia/Canberra\r\n```\r\n\r\nI will cherry pick the muting commit back to 6.2.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/392035145","html_url":"https://github.com/elastic/elasticsearch/issues/30298#issuecomment-392035145","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30298","id":392035145,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjAzNTE0NQ==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2018-05-25T12:13:22Z","updated_at":"2018-05-25T12:13:22Z","author_association":"CONTRIBUTOR","body":"Doh, couldn't cherry pick the mute commit as it needs to go in a different repo for 6.2.  But I manually copied it over.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/392037314","html_url":"https://github.com/elastic/elasticsearch/issues/30298#issuecomment-392037314","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30298","id":392037314,"node_id":"MDEyOklzc3VlQ29tbWVudDM5MjAzNzMxNA==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2018-05-25T12:18:33Z","updated_at":"2018-05-25T12:18:44Z","author_association":"CONTRIBUTOR","body":"> indeed they do have a timing issue. This is fixed in #30403/#30118 for master and 6.x branches\r\n\r\n@spinscale are you aware these tests are still muted in master and 6.x?  So your fixes for these branches are not currently being tested.","performed_via_github_app":null}]