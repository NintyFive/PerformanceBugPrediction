{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/45594","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45594/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45594/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45594/events","html_url":"https://github.com/elastic/elasticsearch/issues/45594","id":480989314,"node_id":"MDU6SXNzdWU0ODA5ODkzMTQ=","number":45594,"title":"Executing a SLM policy that is already taking a snapshot times out (504 error code)","user":{"login":"jen-huang","id":1965714,"node_id":"MDQ6VXNlcjE5NjU3MTQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1965714?v=4","gravatar_id":"","url":"https://api.github.com/users/jen-huang","html_url":"https://github.com/jen-huang","followers_url":"https://api.github.com/users/jen-huang/followers","following_url":"https://api.github.com/users/jen-huang/following{/other_user}","gists_url":"https://api.github.com/users/jen-huang/gists{/gist_id}","starred_url":"https://api.github.com/users/jen-huang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jen-huang/subscriptions","organizations_url":"https://api.github.com/users/jen-huang/orgs","repos_url":"https://api.github.com/users/jen-huang/repos","events_url":"https://api.github.com/users/jen-huang/events{/privacy}","received_events_url":"https://api.github.com/users/jen-huang/received_events","type":"User","site_admin":false},"labels":[{"id":912828538,"node_id":"MDU6TGFiZWw5MTI4Mjg1Mzg=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/ILM+SLM","name":":Core/Features/ILM+SLM","color":"0e8a16","default":false,"description":"Index and Snapshot lifecycle management"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2019-08-15T04:30:05Z","updated_at":"2019-08-20T15:42:47Z","closed_at":"2019-08-20T15:42:47Z","author_association":"NONE","active_lock_reason":null,"body":"**Steps**\r\n\r\n1. Create a repository with a slow write rate, like 1kb\r\n2. Create policy that uses the slow repo\r\n3. Execute that policy, observe that a snapshot is in progress, and the policy information includes in progress information\r\n4. Execute the policy again while the snapshot hasn't finished, observe that the request hangs and eventually times out with a 504 response code","closed_by":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"performed_via_github_app":null}