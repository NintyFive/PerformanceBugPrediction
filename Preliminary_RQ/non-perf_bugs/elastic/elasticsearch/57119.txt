{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/57119","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57119/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57119/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57119/events","html_url":"https://github.com/elastic/elasticsearch/issues/57119","id":624312634,"node_id":"MDU6SXNzdWU2MjQzMTI2MzQ=","number":57119,"title":"MixedClusterClientYamlTestSuiteIT \"Test cat indices with invalid health parameter\" failing","user":{"login":"przemekwitek","id":19312454,"node_id":"MDQ6VXNlcjE5MzEyNDU0","avatar_url":"https://avatars3.githubusercontent.com/u/19312454?v=4","gravatar_id":"","url":"https://api.github.com/users/przemekwitek","html_url":"https://github.com/przemekwitek","followers_url":"https://api.github.com/users/przemekwitek/followers","following_url":"https://api.github.com/users/przemekwitek/following{/other_user}","gists_url":"https://api.github.com/users/przemekwitek/gists{/gist_id}","starred_url":"https://api.github.com/users/przemekwitek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/przemekwitek/subscriptions","organizations_url":"https://api.github.com/users/przemekwitek/orgs","repos_url":"https://api.github.com/users/przemekwitek/repos","events_url":"https://api.github.com/users/przemekwitek/events{/privacy}","received_events_url":"https://api.github.com/users/przemekwitek/received_events","type":"User","site_admin":false},"labels":[{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":{"login":"danhermann","id":22777892,"node_id":"MDQ6VXNlcjIyNzc3ODky","avatar_url":"https://avatars0.githubusercontent.com/u/22777892?v=4","gravatar_id":"","url":"https://api.github.com/users/danhermann","html_url":"https://github.com/danhermann","followers_url":"https://api.github.com/users/danhermann/followers","following_url":"https://api.github.com/users/danhermann/following{/other_user}","gists_url":"https://api.github.com/users/danhermann/gists{/gist_id}","starred_url":"https://api.github.com/users/danhermann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danhermann/subscriptions","organizations_url":"https://api.github.com/users/danhermann/orgs","repos_url":"https://api.github.com/users/danhermann/repos","events_url":"https://api.github.com/users/danhermann/events{/privacy}","received_events_url":"https://api.github.com/users/danhermann/received_events","type":"User","site_admin":false},"assignees":[{"login":"danhermann","id":22777892,"node_id":"MDQ6VXNlcjIyNzc3ODky","avatar_url":"https://avatars0.githubusercontent.com/u/22777892?v=4","gravatar_id":"","url":"https://api.github.com/users/danhermann","html_url":"https://github.com/danhermann","followers_url":"https://api.github.com/users/danhermann/followers","following_url":"https://api.github.com/users/danhermann/following{/other_user}","gists_url":"https://api.github.com/users/danhermann/gists{/gist_id}","starred_url":"https://api.github.com/users/danhermann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danhermann/subscriptions","organizations_url":"https://api.github.com/users/danhermann/orgs","repos_url":"https://api.github.com/users/danhermann/repos","events_url":"https://api.github.com/users/danhermann/events{/privacy}","received_events_url":"https://api.github.com/users/danhermann/received_events","type":"User","site_admin":false}],"milestone":null,"comments":6,"created_at":"2020-05-25T13:49:10Z","updated_at":"2020-05-27T21:06:34Z","closed_at":"2020-05-27T21:06:34Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Build scan**:\r\n\r\nBuild | 20200525054934-C910E98C\r\nLog | https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+multijob-unix-compatibility/os=fedora-29&&immutable/775/console\r\n\r\nBuild Scans\r\n[7.7.1] https://gradle-enterprise.elastic.co/s/h5kjsvvdjosue\r\n[7.9.0] https://gradle-enterprise.elastic.co/s/cxgh45dkzkqjo\r\n[7.8.0] https://gradle-enterprise.elastic.co/s/bouk5updx6j26\r\n[7.7.1] https://gradle-enterprise.elastic.co/s/rb3kfwbsan37y\r\n[7.8.0] https://gradle-enterprise.elastic.co/s/7jw3by7bhpkei\r\n[7.9.0] https://gradle-enterprise.elastic.co/s/nbl55ifh324so\r\nhttps://gradle-enterprise.elastic.co/s/vbqd3m7kkghsq\r\n\r\n\r\n\r\n**Repro line**:\r\n\r\n```\r\nREPRODUCE WITH: ./gradlew ':qa:mixed-cluster:v7.9.0#mixedClusterTest' --tests \"org.elasticsearch.backwards.MixedClusterClientYamlTestSuiteIT\" \\\r\n  -Dtests.method=\"test {p0=cat.indices/10_basic/Test cat indices with invalid health parameter}\" \\\r\n  -Dtests.seed=6207F8AE9DD97C04 \\\r\n  -Dtests.security.manager=true \\\r\n  -Dtests.locale=fr-BE \\\r\n  -Dtests.timezone=Australia/Currie \\\r\n  -Dcompiler.java=14 \\\r\n  -Druntime.java=11\r\n\r\nREPRODUCE WITH: ./gradlew ':qa:mixed-cluster:v7.9.0#mixedClusterTest' --tests \"org.elasticsearch.backwards.MixedClusterClientYamlTestSuiteIT\" \\\r\n  -Dtests.method=\"test {p0=cat.indices/10_basic/Test cat indices with invalid health parameter}\" \\\r\n  -Dtests.seed=6207F8AE9DD97C04 \\\r\n  -Dtests.security.manager=true \\\r\n  -Dtests.locale=fr-BE \\\r\n  -Dtests.timezone=Australia/Currie \\\r\n  -Dcompiler.java=14 \\\r\n  -Druntime.java=11\r\n```\r\n\r\n**Reproduces locally?**:\r\n\r\nNo\r\n\r\n**Applicable branches**:\r\n\r\nmaster\r\n\r\n**Failure history**:\r\n\r\nhttps://build-stats.elastic.co/app/kibana#/dashboard/02b9d310-9513-11e8-a9c0-db5f285c257f?_g=(refreshInterval:(pause:!f,value:10000),time:(from:now-14d%2Fd,mode:relative,to:now-0d%2Fd))&_a=(description:'',filters:!(),fullScreenMode:!f,options:(darkTheme:!f,hidePanelTitles:!f,useMargins:!t),panels:!((embeddableConfig:(vis:(legendOpen:!t)),gridData:(h:15,i:'1',w:48,x:0,y:0),id:d471ae10-9512-11e8-a9c0-db5f285c257f,panelIndex:'1',type:visualization,version:'6.3.1'),(embeddableConfig:(spy:!n,vis:(legendOpen:!f)),gridData:(h:13,i:'4',w:7,x:21,y:28),id:'38f6aff0-977c-11e8-a9c0-db5f285c257f',panelIndex:'4',type:visualization,version:'6.3.1'),(embeddableConfig:(vis:(colors:('process.status:FAILURE':%23890F02,'process.status:SUCCESS':%23629E51),legendOpen:!f)),gridData:(h:13,i:'6',w:24,x:0,y:15),id:'65d72d70-f1b7-11e8-ba96-eb5c43ee553c',panelIndex:'6',type:visualization,version:'6.3.2'),(embeddableConfig:(vis:(colors:(FAILURE:%23890F02,SUCCESS:%23508642,'process.status:FAILURE':%23890F02,'process.status:SUCCESS':%23629E51),legendOpen:!f)),gridData:(h:13,i:'7',w:21,x:0,y:28),id:'2373fab0-f27c-11e8-ba96-eb5c43ee553c',panelIndex:'7',type:visualization,version:'6.3.2'),(embeddableConfig:(),gridData:(h:13,i:'8',w:24,x:24,y:15),id:a9ae1c00-83e9-11ea-a0b8-098e8b2ee137,panelIndex:'8',type:visualization,version:'6.8.3'),(embeddableConfig:(),gridData:(h:22,i:'9',w:20,x:28,y:28),id:'966886c0-83ea-11ea-a0b8-098e8b2ee137',panelIndex:'9',type:visualization,version:'6.8.3'),(embeddableConfig:(),gridData:(h:50,i:'10',w:28,x:0,y:41),id:f64870f0-83ea-11ea-a0b8-098e8b2ee137,panelIndex:'10',type:search,version:'6.8.3')),query:(language:lucene,query:MixedClusterClientYamlTestSuiteIT),timeRestore:!t,title:'%5Bkbn%5D%20Failing%20Tests',viewMode:view)\r\n\r\n**Failure excerpt**:\r\n\r\n```\r\n09:15:43 org.elasticsearch.backwards.MixedClusterClientYamlTestSuiteIT > test {p0=cat.indices/10_basic/Test cat indices with invalid health parameter} FAILED\r\n09:15:43     java.lang.RuntimeException: Failure at [cat.indices/10_basic:288]: 60.000 milliseconds timeout on connection http-outgoing-28 [ACTIVE]\r\n09:15:43         at __randomizedtesting.SeedInfo.seed([6207F8AE9DD97C04:EA53C774332511FC]:0)\r\n09:15:43         at org.elasticsearch.test.rest.yaml.ESClientYamlSuiteTestCase.executeSection(ESClientYamlSuiteTestCase.java:407)\r\n09:15:43         at org.elasticsearch.test.rest.yaml.ESClientYamlSuiteTestCase.test(ESClientYamlSuiteTestCase.java:382)\r\n09:15:43         at jdk.internal.reflect.GeneratedMethodAccessor17.invoke(Unknown Source)\r\n09:15:43         at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n09:15:43         at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n09:15:43         at com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1758)\r\n09:15:43         at com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:946)\r\n09:15:43         at com.carrotsearch.randomizedtesting.RandomizedRunner$9.evaluate(RandomizedRunner.java:982)\r\n09:15:43         at com.carrotsearch.randomizedtesting.RandomizedRunner$10.evaluate(RandomizedRunner.java:996)\r\n09:15:43         at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n09:15:43         at org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:49)\r\n09:15:43         at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\r\n09:15:43         at org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:48)\r\n09:15:43         at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)\r\n09:15:43         at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)\r\n09:15:43         at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n09:15:43         at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:375)\r\n09:15:43         at com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:824)\r\n09:15:43         at com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:475)\r\n09:15:43         at com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:955)\r\n09:15:43         at com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:840)\r\n09:15:43         at com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:891)\r\n09:15:43         at com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:902)\r\n09:15:43         at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\r\n09:15:43         at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n09:15:43         at org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:41)\r\n09:15:43         at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)\r\n09:15:43         at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)\r\n09:15:43         at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n09:15:43         at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n09:15:43         at org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:53)\r\n09:15:43         at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)\r\n09:15:43         at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)\r\n09:15:43         at org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:54)\r\n09:15:43         at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n09:15:43         at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:375)\r\n09:15:43         at com.carrotsearch.randomizedtesting.ThreadLeakControl.lambda$forkTimeoutingTask$0(ThreadLeakControl.java:831)\r\n09:15:43         at java.base/java.lang.Thread.run(Thread.java:834)\r\n09:15:43 \r\n09:15:43         Caused by:\r\n09:15:43         java.net.SocketTimeoutException: 60.000 milliseconds timeout on connection http-outgoing-28 [ACTIVE]\r\n09:15:43             at org.elasticsearch.client.RestClient.extractAndWrapCause(RestClient.java:818)\r\n09:15:43             at org.elasticsearch.client.RestClient.performRequest(RestClient.java:250)\r\n09:15:43             at org.elasticsearch.client.RestClient.performRequest(RestClient.java:237)\r\n09:15:43             at org.elasticsearch.test.rest.yaml.ClientYamlTestClient.callApi(ClientYamlTestClient.java:186)\r\n09:15:43             at org.elasticsearch.test.rest.yaml.ClientYamlTestExecutionContext.callApiInternal(ClientYamlTestExecutionContext.java:169)\r\n09:15:43             at org.elasticsearch.test.rest.yaml.ClientYamlTestExecutionContext.callApi(ClientYamlTestExecutionContext.java:101)\r\n09:15:43             at org.elasticsearch.test.rest.yaml.section.DoSection.execute(DoSection.java:280)\r\n09:15:43             at org.elasticsearch.test.rest.yaml.ESClientYamlSuiteTestCase.executeSection(ESClientYamlSuiteTestCase.java:398)\r\n09:15:43             ... 37 more\r\n09:15:43 \r\n09:15:43             Caused by:\r\n09:15:43             java.net.SocketTimeoutException: 60.000 milliseconds timeout on connection http-outgoing-28 [ACTIVE]\r\n09:15:43                 at org.apache.http.nio.protocol.HttpAsyncRequestExecutor.timeout(HttpAsyncRequestExecutor.java:387)\r\n09:15:43                 at org.apache.http.impl.nio.client.InternalIODispatch.onTimeout(InternalIODispatch.java:92)\r\n09:15:43                 at org.apache.http.impl.nio.client.InternalIODispatch.onTimeout(InternalIODispatch.java:39)\r\n09:15:43                 at org.apache.http.impl.nio.reactor.AbstractIODispatch.timeout(AbstractIODispatch.java:175)\r\n09:15:43                 at org.apache.http.impl.nio.reactor.BaseIOReactor.sessionTimedOut(BaseIOReactor.java:261)\r\n09:15:43                 at org.apache.http.impl.nio.reactor.AbstractIOReactor.timeoutCheck(AbstractIOReactor.java:502)\r\n09:15:43                 at org.apache.http.impl.nio.reactor.BaseIOReactor.validate(BaseIOReactor.java:211)\r\n09:15:43                 at org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:280)\r\n09:15:43                 at org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104)\r\n09:15:43                 at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:591)\r\n09:15:43                 ... 1 more\r\n```\r\n\r\n","closed_by":{"login":"danhermann","id":22777892,"node_id":"MDQ6VXNlcjIyNzc3ODky","avatar_url":"https://avatars0.githubusercontent.com/u/22777892?v=4","gravatar_id":"","url":"https://api.github.com/users/danhermann","html_url":"https://github.com/danhermann","followers_url":"https://api.github.com/users/danhermann/followers","following_url":"https://api.github.com/users/danhermann/following{/other_user}","gists_url":"https://api.github.com/users/danhermann/gists{/gist_id}","starred_url":"https://api.github.com/users/danhermann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danhermann/subscriptions","organizations_url":"https://api.github.com/users/danhermann/orgs","repos_url":"https://api.github.com/users/danhermann/repos","events_url":"https://api.github.com/users/danhermann/events{/privacy}","received_events_url":"https://api.github.com/users/danhermann/received_events","type":"User","site_admin":false},"performed_via_github_app":null}