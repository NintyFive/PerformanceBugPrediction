[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/120455330","html_url":"https://github.com/elastic/elasticsearch/issues/12169#issuecomment-120455330","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12169","id":120455330,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMDQ1NTMzMA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-07-10T16:42:04Z","updated_at":"2015-07-10T16:42:04Z","author_association":"CONTRIBUTOR","body":"Hi @rob-tice \n\nThere are no plans to support this.  Why do you need this feature? What's the problem with `description.value.text` instead of `description.value_text`?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/120459486","html_url":"https://github.com/elastic/elasticsearch/issues/12169#issuecomment-120459486","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12169","id":120459486,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMDQ1OTQ4Ng==","user":{"login":"rob-tice","id":3337876,"node_id":"MDQ6VXNlcjMzMzc4NzY=","avatar_url":"https://avatars2.githubusercontent.com/u/3337876?v=4","gravatar_id":"","url":"https://api.github.com/users/rob-tice","html_url":"https://github.com/rob-tice","followers_url":"https://api.github.com/users/rob-tice/followers","following_url":"https://api.github.com/users/rob-tice/following{/other_user}","gists_url":"https://api.github.com/users/rob-tice/gists{/gist_id}","starred_url":"https://api.github.com/users/rob-tice/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rob-tice/subscriptions","organizations_url":"https://api.github.com/users/rob-tice/orgs","repos_url":"https://api.github.com/users/rob-tice/repos","events_url":"https://api.github.com/users/rob-tice/events{/privacy}","received_events_url":"https://api.github.com/users/rob-tice/received_events","type":"User","site_admin":false},"created_at":"2015-07-10T16:56:41Z","updated_at":"2015-07-10T16:56:41Z","author_association":"NONE","body":"I need it because otherwise I need to structure my indexes as though every possible string value has another level of hierarchy just in case I want to index it twice in the future. I already have an index structure which is highly nested and this makes it more  unwieldy and seems like a hack : ) . It just seemed  a logical extension to me… with behaviour like copy-to.\n\nCheers\n\nR\n\nFrom: Clinton Gormley [mailto:notifications@github.com] \nSent: 10 July 2015 17:43\nTo: elastic/elasticsearch\nCc: rob-tice\nSubject: Re: [elasticsearch] Dynamic templates (#12169)\n\nHi @rob-tice https://github.com/rob-tice  \n\nThere are no plans to support this. Why do you need this feature? What's the problem with description.value.text instead of description.value_text?\n\n—\nReply to this email directly or view it on GitHub https://github.com/elastic/elasticsearch/issues/12169#issuecomment-120455330 .  https://github.com/notifications/beacon/ADLulBE-GSxRgJCqm-HM5KGBl-rZLDueks5ob-2UgaJpZM4FVhXP.gif \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/120474709","html_url":"https://github.com/elastic/elasticsearch/issues/12169#issuecomment-120474709","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12169","id":120474709,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMDQ3NDcwOQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-07-10T17:41:01Z","updated_at":"2015-07-10T17:41:01Z","author_association":"CONTRIBUTOR","body":"I don't really understand what you mean by the index structuring comment or breaking searches by adding future fields.  However, I think we should support the `{path}` parameter, which would work like the `{name}` parameter. Then you can do:\n\n```\nPUT t\n{\n  \"mappings\": {\n    \"t\": {\n      \"dynamic_templates\": [\n        {\n          \"foo\": {\n            \"match\": \"foo*\",\n            \"mapping\": {\n              \"type\": \"string\",\n              \"copy_to\": [\n                \"{path}.bar-{name}\"\n              ]\n            }\n          }\n        },\n        {\n          \"bar\": {\n            \"match\": \"bar*\",\n            \"mapping\": {\n              \"type\": \"string\",\n              \"index\": \"not_analyzed\"\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\nPUT t/t/1\n{\n  \"stuff\": {\n    \"foo\": \"bar\"\n  }\n}\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/120600172","html_url":"https://github.com/elastic/elasticsearch/issues/12169#issuecomment-120600172","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12169","id":120600172,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMDYwMDE3Mg==","user":{"login":"rob-tice","id":3337876,"node_id":"MDQ6VXNlcjMzMzc4NzY=","avatar_url":"https://avatars2.githubusercontent.com/u/3337876?v=4","gravatar_id":"","url":"https://api.github.com/users/rob-tice","html_url":"https://github.com/rob-tice","followers_url":"https://api.github.com/users/rob-tice/followers","following_url":"https://api.github.com/users/rob-tice/following{/other_user}","gists_url":"https://api.github.com/users/rob-tice/gists{/gist_id}","starred_url":"https://api.github.com/users/rob-tice/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rob-tice/subscriptions","organizations_url":"https://api.github.com/users/rob-tice/orgs","repos_url":"https://api.github.com/users/rob-tice/repos","events_url":"https://api.github.com/users/rob-tice/events{/privacy}","received_events_url":"https://api.github.com/users/rob-tice/received_events","type":"User","site_admin":false},"created_at":"2015-07-11T09:50:41Z","updated_at":"2015-07-11T09:50:41Z","author_association":"NONE","body":"Hi Clinton\n\nThat was what I was hoping you would say : ). It would also fix my existing issues with the unwieldy existing copy-to.\n\nFrom my perspective if the path was the path minus the actual field name then it would work for my use case and yours.\n\ne.g.\n\n“match”:”foo*”\n\nSo in that case I could choose to use:\n\ncopy-to:{path}.name_text\n\nor  for your example it would be\n\ncopy-to:{path}.{name}.bar\n\nas a concrete example:\n\na.b.c.foo=”test”\n\n```\n      \"foo\": {\n        \"match\": \"foo*\",\n        \"mapping\": {\n          \"type\": \"string\",\n          \"copy_to\": [\n            \"{path}.{name}-bar\"\n          ]\n        }\n      }\n```\n\nThis would result in the content appearing in\n\na.b.c.foo=”test”\na.b.c.foo-bar=”test”\n\nwhereas\n\n\"foo\": {\n            \"match\": \"foo*\",\n            \"mapping\": {\n              \"type\": \"string\",\n              \"copy_to\": [\n                \"{path}.{name}.original\",\"{path}.{name}.bar\",\n              ]\n            }\n          }\n\nThis would result in the content appearing in\n\na.b.c.foo.original=”test”\na.b.c.foo.bar=”test”\n\nDoes that make sense : )\n\nCheers\n\nRob\n\nFrom: Clinton Gormley [mailto:notifications@github.com] \nSent: 10 July 2015 18:42\nTo: elastic/elasticsearch\nCc: rob-tice\nSubject: Re: [elasticsearch] Dynamic templates (#12169)\n\nI don't really understand what you mean by the index structuring comment or breaking searches by adding future fields. However, I think we should support the {path} parameter, which would work like the {name} parameter. Then you can do:\n\nPUT t\n{\n  \"mappings\": {\n    \"t\": {\n      \"dynamic_templates\": [\n        {\n          \"foo\": {\n            \"match\": \"foo_\",\n            \"mapping\": {\n              \"type\": \"string\",\n              \"copy_to\": [\n                \"{path}.bar-{name}\"\n              ]\n            }\n          }\n        },\n        {\n          \"bar\": {\n            \"match\": \"bar_\",\n            \"mapping\": {\n              \"type\": \"string\",\n              \"index\": \"not_analyzed\"\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n\nPUT t/t/1\n{\n  \"stuff\": {\n    \"foo\": \"bar\"\n  }\n}\n\n—\nReply to this email directly or view it on GitHub https://github.com/elastic/elasticsearch/issues/12169#issuecomment-120474709 .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/166943797","html_url":"https://github.com/elastic/elasticsearch/issues/12169#issuecomment-166943797","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12169","id":166943797,"node_id":"MDEyOklzc3VlQ29tbWVudDE2Njk0Mzc5Nw==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2015-12-23T16:55:51Z","updated_at":"2015-12-23T16:55:51Z","author_association":"CONTRIBUTOR","body":"The example confuses me a bit: it seems that we are trying to use `copy_to` for a `fields` use-case?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/167000496","html_url":"https://github.com/elastic/elasticsearch/issues/12169#issuecomment-167000496","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12169","id":167000496,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NzAwMDQ5Ng==","user":{"login":"rob-tice","id":3337876,"node_id":"MDQ6VXNlcjMzMzc4NzY=","avatar_url":"https://avatars2.githubusercontent.com/u/3337876?v=4","gravatar_id":"","url":"https://api.github.com/users/rob-tice","html_url":"https://github.com/rob-tice","followers_url":"https://api.github.com/users/rob-tice/followers","following_url":"https://api.github.com/users/rob-tice/following{/other_user}","gists_url":"https://api.github.com/users/rob-tice/gists{/gist_id}","starred_url":"https://api.github.com/users/rob-tice/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rob-tice/subscriptions","organizations_url":"https://api.github.com/users/rob-tice/orgs","repos_url":"https://api.github.com/users/rob-tice/repos","events_url":"https://api.github.com/users/rob-tice/events{/privacy}","received_events_url":"https://api.github.com/users/rob-tice/received_events","type":"User","site_admin":false},"created_at":"2015-12-23T22:12:42Z","updated_at":"2015-12-23T22:24:30Z","author_association":"NONE","body":"For clarification:\n\nI wish to be able to say the following (for example - pseudo mapping):\n\nwherever the json object 'note' appears\n\napply the following template\n\n\"note\":\n        {\n            \"properties\": \n            {\n                \"type\":{\"type\":\"string\",\"index\":\"not_analyzed\",\"include_in_all\" : false},\n                \"value\":{\"type\":\"string\",\"index\":\"analyzed\",\"analyzer\":\"standard\": \"copy_to\":\"value_text\"},\n                                \"value_text\":{\"type\":\"string\",\"index\":\"analyzed\",\"analyzer\":\"autocomplete\"},\n\n```\n        }\n    }\n```\n\nI wish the 'copy to' to use the appropriate path so it copies to the sibling of value. Hence access to the path element so you could say copy_to: {$path}.value_text\n\nI have not upgraded to 2.1 yet so I don;t know if this is already available\n\nCheers\nRob\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/212196256","html_url":"https://github.com/elastic/elasticsearch/issues/12169#issuecomment-212196256","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12169","id":212196256,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMjE5NjI1Ng==","user":{"login":"pk-picturepark","id":7312481,"node_id":"MDQ6VXNlcjczMTI0ODE=","avatar_url":"https://avatars3.githubusercontent.com/u/7312481?v=4","gravatar_id":"","url":"https://api.github.com/users/pk-picturepark","html_url":"https://github.com/pk-picturepark","followers_url":"https://api.github.com/users/pk-picturepark/followers","following_url":"https://api.github.com/users/pk-picturepark/following{/other_user}","gists_url":"https://api.github.com/users/pk-picturepark/gists{/gist_id}","starred_url":"https://api.github.com/users/pk-picturepark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pk-picturepark/subscriptions","organizations_url":"https://api.github.com/users/pk-picturepark/orgs","repos_url":"https://api.github.com/users/pk-picturepark/repos","events_url":"https://api.github.com/users/pk-picturepark/events{/privacy}","received_events_url":"https://api.github.com/users/pk-picturepark/received_events","type":"User","site_admin":false},"created_at":"2016-04-20T01:23:05Z","updated_at":"2016-04-20T01:23:51Z","author_association":"NONE","body":"+1 \n\nIt would be nice to use a {path} variable within copy_to just to avoid the necessity to provide full field paths. \n\nIt would even be nicer to configure a relative path. See sample below. So in order to copy the values from Person.Name to Person.Names I won't have to provide the full path _Person.Names_ in the copy_to field, but can use a relative syntax, e.g _/Names_.\n\n`PUT /my_index\n{\n  \"mappings\": {\n    \"my_type\": {\n      \"properties\": {\n        \"Person\": {\n            \"properties\": {\n                \"Name\": {\n                  \"type\": \"string\",\n                  \"copy_to\": \"/Names\"\n                },\n                \"Names\": {\n                  \"type\": \"string\"\n                }\n              }\n            }\n          }\n        }\n    }\n}`\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/280656210","html_url":"https://github.com/elastic/elasticsearch/issues/12169#issuecomment-280656210","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12169","id":280656210,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MDY1NjIxMA==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2017-02-17T13:58:12Z","updated_at":"2017-02-17T13:58:12Z","author_association":"CONTRIBUTOR","body":"We discussed it in FixitFriday. While we understand how it could help some use-cases, it also makes it too easy to generate unnecessarily complex mappings, which is something we do not want to encourage. Moreoven, dynamic mappings already have some complexity that we would rather not increase.","performed_via_github_app":null}]