{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/31194","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31194/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31194/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31194/events","html_url":"https://github.com/elastic/elasticsearch/issues/31194","id":330586421,"node_id":"MDU6SXNzdWUzMzA1ODY0MjE=","number":31194,"title":"[CI] : SslIntegrationTests.testThatUnconfiguredCiphersAreRejected java.lang.IllegalStateException: failed to load plugin class [org.elasticsearch.xpack.security.LocalStateSecurity]","user":{"login":"dliappis","id":1754575,"node_id":"MDQ6VXNlcjE3NTQ1NzU=","avatar_url":"https://avatars0.githubusercontent.com/u/1754575?v=4","gravatar_id":"","url":"https://api.github.com/users/dliappis","html_url":"https://github.com/dliappis","followers_url":"https://api.github.com/users/dliappis/followers","following_url":"https://api.github.com/users/dliappis/following{/other_user}","gists_url":"https://api.github.com/users/dliappis/gists{/gist_id}","starred_url":"https://api.github.com/users/dliappis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dliappis/subscriptions","organizations_url":"https://api.github.com/users/dliappis/orgs","repos_url":"https://api.github.com/users/dliappis/repos","events_url":"https://api.github.com/users/dliappis/events{/privacy}","received_events_url":"https://api.github.com/users/dliappis/received_events","type":"User","site_admin":false},"labels":[{"id":912838879,"node_id":"MDU6TGFiZWw5MTI4Mzg4Nzk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Security/Security","name":":Security/Security","color":"0e8a16","default":false,"description":"Security issues without another label"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":{"login":"jaymode","id":4339958,"node_id":"MDQ6VXNlcjQzMzk5NTg=","avatar_url":"https://avatars1.githubusercontent.com/u/4339958?v=4","gravatar_id":"","url":"https://api.github.com/users/jaymode","html_url":"https://github.com/jaymode","followers_url":"https://api.github.com/users/jaymode/followers","following_url":"https://api.github.com/users/jaymode/following{/other_user}","gists_url":"https://api.github.com/users/jaymode/gists{/gist_id}","starred_url":"https://api.github.com/users/jaymode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaymode/subscriptions","organizations_url":"https://api.github.com/users/jaymode/orgs","repos_url":"https://api.github.com/users/jaymode/repos","events_url":"https://api.github.com/users/jaymode/events{/privacy}","received_events_url":"https://api.github.com/users/jaymode/received_events","type":"User","site_admin":false},"assignees":[{"login":"jaymode","id":4339958,"node_id":"MDQ6VXNlcjQzMzk5NTg=","avatar_url":"https://avatars1.githubusercontent.com/u/4339958?v=4","gravatar_id":"","url":"https://api.github.com/users/jaymode","html_url":"https://github.com/jaymode","followers_url":"https://api.github.com/users/jaymode/followers","following_url":"https://api.github.com/users/jaymode/following{/other_user}","gists_url":"https://api.github.com/users/jaymode/gists{/gist_id}","starred_url":"https://api.github.com/users/jaymode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaymode/subscriptions","organizations_url":"https://api.github.com/users/jaymode/orgs","repos_url":"https://api.github.com/users/jaymode/repos","events_url":"https://api.github.com/users/jaymode/events{/privacy}","received_events_url":"https://api.github.com/users/jaymode/received_events","type":"User","site_admin":false}],"milestone":null,"comments":5,"created_at":"2018-06-08T09:31:10Z","updated_at":"2018-06-08T17:48:18Z","closed_at":"2018-06-08T17:48:18Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Observed in https://internal-ci.elastic.co/job/elastic+x-pack-elasticsearch+6.2+release-tests/413/console,\r\n`SslIntegrationTests.testThatUnconfiguredCiphersAreRejected` failed.\r\n\r\nI was able to reproduce it locally, using the reproduction line:\r\n\r\n```\r\n./gradlew :x-pack-elasticsearch:plugin:security:test -Dtests.seed=47212714AD905A9D -Dtests.class=org.elasticsearch.xpack.security.transport.ssl.SslIntegrationTests -Dtests.method=\"testThatUnconfiguredCiphersAreRejected\" -Dtests.security.manager=true -Dbuild.snapshot=false -Dtests.jvm.argline=\"-Dbuild.snapshot=false\" -Dtests.locale=is -Dtests.timezone=Africa/Bissau\r\n```\r\n\r\non a Fedora 28 workstation, using `OpenJDK Runtime Environment (build 1.8.0_171-b10)` for `$RUNTIME_JAVA_HOME` and `OpenJDK Runtime Environment 18.3 (build 10+46)` for `$JAVA_HOME`.\r\n\r\n<details>\r\n<summary>Console log excerpt</summary>\r\n01:29:05   1> [2018-06-07T22:29:02,231][INFO ][o.e.c.m.TemplateUpgradeService] [node_s2] Starting template upgrade to version 6.2.5, 1 templates will be updated and 0 will be removed\r\n01:29:05   1> [2018-06-07T22:29:02,245][INFO ][o.e.c.m.TemplateUpgradeService] [node_s2] Finished upgrading templates to version 6.2.5\r\n01:29:05   1> [2018-06-07T22:29:02,258][INFO ][o.e.x.s.t.s.SslIntegrationTests] [SslIntegrationTests#testThatUnconfiguredCiphersAreRejected]: all set up test\r\n01:29:05   1> [2018-06-07T22:29:02,258][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [127.0.0.1] [transport] [access_granted]\torigin_type=[local_node], origin_address=[127.0.0.1], principal=[test_user], roles=[user], action=[cluster:monitor/nodes/info], request=[NodesInfoRequest]\r\n01:29:05   1> [2018-06-07T22:29:02,259][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [127.0.0.1] [transport] [access_granted]\torigin_type=[local_node], origin_address=[127.0.0.1], principal=[test_user], roles=[user], action=[cluster:monitor/nodes/info[n]], request=[NodeInfoRequest]\r\n01:29:05   1> [2018-06-07T22:29:02,275][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[transport], origin_address=[127.0.0.1], principal=[test_user], roles=[user], action=[cluster:monitor/nodes/info[n]], request=[NodeInfoRequest]\r\n01:29:05   1> [2018-06-07T22:29:02,295][INFO ][o.e.x.s.t.s.SslIntegrationTests] [SslIntegrationTests#testThatUnconfiguredCiphersAreRejected]: cleaning up after test\r\n01:29:05   1> [2018-06-07T22:29:02,307][INFO ][o.e.p.PluginsService     ] [transport_client_node_sc3] no modules loaded\r\n01:29:05   1> [2018-06-07T22:29:02,307][INFO ][o.e.p.PluginsService     ] [transport_client_node_sc3] loaded plugin [org.elasticsearch.analysis.common.CommonAnalysisPlugin]\r\n01:29:05   1> [2018-06-07T22:29:02,307][INFO ][o.e.p.PluginsService     ] [transport_client_node_sc3] loaded plugin [org.elasticsearch.index.reindex.ReindexPlugin]\r\n01:29:05   1> [2018-06-07T22:29:02,307][INFO ][o.e.p.PluginsService     ] [transport_client_node_sc3] loaded plugin [org.elasticsearch.transport.Netty4Plugin]\r\n01:29:05   1> [2018-06-07T22:29:02,307][INFO ][o.e.p.PluginsService     ] [transport_client_node_sc3] loaded plugin [org.elasticsearch.transport.nio.NioTransportPlugin]\r\n01:29:05   1> [2018-06-07T22:29:02,307][INFO ][o.e.p.PluginsService     ] [transport_client_node_sc3] loaded plugin [org.elasticsearch.xpack.core.XPackClientPlugin]\r\n01:29:05   1> [2018-06-07T22:29:02,569][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [127.0.0.1] [transport] [access_granted]\torigin_type=[local_node], origin_address=[127.0.0.1], principal=[test_user], roles=[user], action=[cluster:monitor/health], request=[ClusterHealthRequest]\r\n01:29:05   1> [2018-06-07T22:29:02,570][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[local_node], origin_address=[127.0.0.1], principal=[test_user], roles=[user], action=[cluster:monitor/state], request=[ClusterStateRequest]\r\n01:29:05   1> [2018-06-07T22:29:02,572][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [127.0.0.1] [transport] [access_granted]\torigin_type=[local_node], origin_address=[127.0.0.1], principal=[test_user], roles=[user], action=[cluster:monitor/state], request=[ClusterStateRequest]\r\n01:29:05   1> [2018-06-07T22:29:02,575][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[transport], origin_address=[127.0.0.1], principal=[test_trans_client_user], roles=[transport_client,user], action=[cluster:monitor/state], request=[ClusterStateRequest]\r\n01:29:05   1> [2018-06-07T22:29:02,575][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[transport], origin_address=[127.0.0.1], principal=[test_trans_client_user], roles=[transport_client,user], action=[cluster:monitor/state], request=[ClusterStateRequest]\r\n01:29:05   1> [2018-06-07T22:29:02,579][INFO ][o.e.p.PluginsService     ] [transport_client_node_s2] no modules loaded\r\n01:29:05   1> [2018-06-07T22:29:02,579][INFO ][o.e.p.PluginsService     ] [transport_client_node_s2] loaded plugin [org.elasticsearch.analysis.common.CommonAnalysisPlugin]\r\n01:29:05   1> [2018-06-07T22:29:02,579][INFO ][o.e.p.PluginsService     ] [transport_client_node_s2] loaded plugin [org.elasticsearch.index.reindex.ReindexPlugin]\r\n01:29:05   1> [2018-06-07T22:29:02,579][INFO ][o.e.p.PluginsService     ] [transport_client_node_s2] loaded plugin [org.elasticsearch.transport.Netty4Plugin]\r\n01:29:05   1> [2018-06-07T22:29:02,579][INFO ][o.e.p.PluginsService     ] [transport_client_node_s2] loaded plugin [org.elasticsearch.transport.nio.NioTransportPlugin]\r\n01:29:05   1> [2018-06-07T22:29:02,579][INFO ][o.e.p.PluginsService     ] [transport_client_node_s2] loaded plugin [org.elasticsearch.xpack.core.XPackClientPlugin]\r\n01:29:05   1> [2018-06-07T22:29:02,682][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[transport], origin_address=[127.0.0.1], principal=[test_trans_client_user], roles=[transport_client,user], action=[cluster:monitor/nodes/liveness], request=[LivenessRequest]\r\n01:29:05   1> [2018-06-07T22:29:02,833][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[local_node], origin_address=[127.0.0.1], principal=[test_user], roles=[user], action=[indices:admin/template/get], request=[GetIndexTemplatesRequest]\r\n01:29:05   1> [2018-06-07T22:29:02,852][INFO ][o.e.c.m.TemplateUpgradeService] [node_s2] Starting template upgrade to version 6.2.5, 1 templates will be updated and 0 will be removed\r\n01:29:05   1> [2018-06-07T22:29:02,910][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[transport], origin_address=[127.0.0.1], principal=[test_trans_client_user], roles=[transport_client,user], action=[indices:admin/template/delete], request=[DeleteIndexTemplateRequest]\r\n01:29:05   1> [2018-06-07T22:29:02,910][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[transport], origin_address=[127.0.0.1], principal=[test_trans_client_user], roles=[transport_client,user], action=[indices:admin/template/delete], request=[DeleteIndexTemplateRequest]\r\n01:29:05   1> [2018-06-07T22:29:02,938][INFO ][o.e.c.m.TemplateUpgradeService] [node_s2] Finished upgrading templates to version 6.2.5\r\n01:29:05   1> [2018-06-07T22:29:02,965][INFO ][o.e.c.m.TemplateUpgradeService] [node_s2] Starting template upgrade to version 6.2.5, 1 templates will be updated and 0 will be removed\r\n01:29:05   1> [2018-06-07T22:29:02,997][INFO ][o.e.c.m.TemplateUpgradeService] [node_s2] Finished upgrading templates to version 6.2.5\r\n01:29:05   1> [2018-06-07T22:29:03,001][INFO ][o.e.x.s.t.s.SslIntegrationTests] [SslIntegrationTests#testThatUnconfiguredCiphersAreRejected]: cleaned up after test\r\n01:29:05   1> [2018-06-07T22:29:03,001][INFO ][o.e.x.s.t.s.SslIntegrationTests] [testThatUnconfiguredCiphersAreRejected]: after test\r\n01:29:05 ERROR   2.25s J1 | SslIntegrationTests.testThatUnconfiguredCiphersAreRejected <<< FAILURES!\r\n01:29:05    > Throwable #1: java.lang.IllegalStateException: failed to load plugin class [org.elasticsearch.xpack.security.LocalStateSecurity]\r\n01:29:05    > \tat __randomizedtesting.SeedInfo.seed([47212714AD905A9D:E1496730909DFCFA]:0)\r\n01:29:05    > \tat org.elasticsearch.plugins.PluginsService.loadPlugin(PluginsService.java:563)\r\n01:29:05    > \tat org.elasticsearch.plugins.PluginsService.<init>(PluginsService.java:104)\r\n01:29:05    > \tat org.elasticsearch.client.transport.TransportClient.newPluginService(TransportClient.java:105)\r\n01:29:05    > \tat org.elasticsearch.client.transport.TransportClient.buildTemplate(TransportClient.java:130)\r\n01:29:05    > \tat org.elasticsearch.client.transport.TransportClient.<init>(TransportClient.java:273)\r\n01:29:05    > \tat org.elasticsearch.xpack.core.TestXPackTransportClient.<init>(TestXPackTransportClient.java:40)\r\n01:29:05    > \tat org.elasticsearch.xpack.core.TestXPackTransportClient.<init>(TestXPackTransportClient.java:36)\r\n01:29:05    > \tat org.elasticsearch.xpack.security.transport.ssl.SslIntegrationTests.testThatUnconfiguredCiphersAreRejected(SslIntegrationTests.java:81)\r\n01:29:05    > \tat java.lang.Thread.run(Thread.java:748)\r\n01:29:05    > Caused by: java.lang.reflect.InvocationTargetException\r\n01:29:05    > \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n01:29:05    > \tat org.elasticsearch.plugins.PluginsService.loadPlugin(PluginsService.java:554)\r\n01:29:05    > \t... 45 more\r\n01:29:05    > Caused by: java.lang.IllegalArgumentException: none of the ciphers [TLS_ECDH_anon_WITH_RC4_128_SHA, SSL_RSA_WITH_3DES_EDE_CBC_SHA] are supported by this JVM\r\n01:29:05    > \tat org.elasticsearch.xpack.core.ssl.SSLService.supportedCiphers(SSLService.java:396)\r\n01:29:05    > \tat org.elasticsearch.xpack.core.ssl.SSLService.createSslContext(SSLService.java:440)\r\n01:29:05    > \tat org.elasticsearch.xpack.core.ssl.SSLService.createSslContext(SSLService.java:422)\r\n01:29:05    > \tat org.elasticsearch.xpack.core.ssl.SSLService.loadSSLConfigurations(SSLService.java:455)\r\n01:29:05    > \tat org.elasticsearch.xpack.core.ssl.SSLService.<init>(SSLService.java:91)\r\n01:29:05    > \tat org.elasticsearch.xpack.core.XPackPlugin.<init>(XPackPlugin.java:127)\r\n01:29:05    > \tat org.elasticsearch.xpack.core.LocalStateCompositeXPackPlugin.<init>(LocalStateCompositeXPackPlugin.java:98)\r\n01:29:05    > \tat org.elasticsearch.xpack.security.LocalStateSecurity.<init>(LocalStateSecurity.java:32)\r\n01:29:05    > \t... 49 more\r\n01:29:05   1> [2018-06-07T22:29:03,178][INFO ][o.e.x.s.t.s.SslIntegrationTests] [testThatHttpUsingSSLv3IsRejected]: before test\r\n01:29:05   1> [2018-06-07T22:29:03,178][INFO ][o.e.x.s.t.s.SslIntegrationTests] [SslIntegrationTests#testThatHttpUsingSSLv3IsRejected]: setting up test\r\n01:29:05   1> [2018-06-07T22:29:03,189][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [127.0.0.1] [transport] [access_granted]\torigin_type=[transport], origin_address=[127.0.0.1], principal=[test_trans_client_user], roles=[transport_client,user], action=[cluster:monitor/nodes/liveness], request=[LivenessRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,199][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[local_node], origin_address=[127.0.0.1], principal=[test_user], roles=[user], action=[indices:admin/template/get], request=[GetIndexTemplatesRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,202][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[local_node], origin_address=[127.0.0.1], principal=[test_user], roles=[user], action=[indices:admin/template/delete], request=[DeleteIndexTemplateRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,213][INFO ][o.e.c.m.TemplateUpgradeService] [node_s2] Starting template upgrade to version 6.2.5, 1 templates will be updated and 0 will be removed\r\n01:29:05   1> [2018-06-07T22:29:03,227][INFO ][o.e.c.m.TemplateUpgradeService] [node_s2] Finished upgrading templates to version 6.2.5\r\n01:29:05   1> [2018-06-07T22:29:03,238][INFO ][o.e.c.m.TemplateUpgradeService] [node_s2] Starting template upgrade to version 6.2.5, 1 templates will be updated and 0 will be removed\r\n01:29:05   1> [2018-06-07T22:29:03,239][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [127.0.0.1] [transport] [access_granted]\torigin_type=[local_node], origin_address=[127.0.0.1], principal=[test_user], roles=[user], action=[cluster:admin/repository/delete], request=[DeleteRepositoryRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,240][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[transport], origin_address=[127.0.0.1], principal=[test_trans_client_user], roles=[transport_client,user], action=[indices:admin/template/put], indices=[*], request=[PutIndexTemplateRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,241][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[transport], origin_address=[127.0.0.1], principal=[test_trans_client_user], roles=[transport_client,user], action=[indices:admin/template/put], indices=[*], request=[PutIndexTemplateRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,264][INFO ][o.e.c.m.TemplateUpgradeService] [node_s2] Finished upgrading templates to version 6.2.5\r\n01:29:05   1> [2018-06-07T22:29:03,277][INFO ][o.e.x.s.t.s.SslIntegrationTests] [SslIntegrationTests#testThatHttpUsingSSLv3IsRejected]: all set up test\r\n01:29:05   1> [2018-06-07T22:29:03,277][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [127.0.0.1] [transport] [access_granted]\torigin_type=[local_node], origin_address=[127.0.0.1], principal=[test_user], roles=[user], action=[cluster:monitor/nodes/info], request=[NodesInfoRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,277][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [127.0.0.1] [transport] [access_granted]\torigin_type=[local_node], origin_address=[127.0.0.1], principal=[test_user], roles=[user], action=[cluster:monitor/nodes/info[n]], request=[NodeInfoRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,278][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[transport], origin_address=[127.0.0.1], principal=[test_user], roles=[user], action=[cluster:monitor/nodes/info[n]], request=[NodeInfoRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,307][INFO ][o.e.x.s.t.s.SslIntegrationTests] [SslIntegrationTests#testThatHttpUsingSSLv3IsRejected]: cleaning up after test\r\n01:29:05   1> [2018-06-07T22:29:03,309][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[local_node], origin_address=[127.0.0.1], principal=[test_user], roles=[user], action=[cluster:monitor/state], request=[ClusterStateRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,316][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [127.0.0.1] [transport] [access_granted]\torigin_type=[local_node], origin_address=[127.0.0.1], principal=[test_user], roles=[user], action=[cluster:monitor/state], request=[ClusterStateRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,318][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[local_node], origin_address=[127.0.0.1], principal=[test_user], roles=[user], action=[cluster:monitor/state], request=[ClusterStateRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,322][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[local_node], origin_address=[127.0.0.1], principal=[test_user], roles=[user], action=[indices:admin/delete], indices=[*,-*], request=[DeleteIndexRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,328][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [127.0.0.1] [transport] [access_granted]\torigin_type=[local_node], origin_address=[127.0.0.1], principal=[test_user], roles=[user], action=[indices:admin/template/delete], request=[DeleteIndexTemplateRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,337][WARN ][o.e.x.s.t.n.SecurityNetty4HttpServerTransport] [node_sc3] caught exception while handling client http traffic, closing connection [id: 0x9ded715b, L:0.0.0.0/0.0.0.0:44674 ! R:/0:0:0:0:0:0:0:1:35644]\r\n01:29:05   1> io.netty.handler.codec.DecoderException: javax.net.ssl.SSLException: Received fatal alert: handshake_failure\r\n01:29:05   1> \tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:459) ~[netty-codec-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:265) ~[netty-codec-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:340) [netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1359) [netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:362) [netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:348) [netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:935) [netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:134) [netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:645) [netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:545) [netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:499) [netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:459) [netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:858) [netty-common-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_172]\r\n01:29:05   1> Caused by: javax.net.ssl.SSLException: Received fatal alert: handshake_failure\r\n01:29:05   1> \tat sun.security.ssl.Alerts.getSSLException(Alerts.java:208) ~[?:?]\r\n01:29:05   1> \tat sun.security.ssl.SSLEngineImpl.fatal(SSLEngineImpl.java:1666) ~[?:?]\r\n01:29:05   1> \tat sun.security.ssl.SSLEngineImpl.fatal(SSLEngineImpl.java:1634) ~[?:?]\r\n01:29:05   1> \tat sun.security.ssl.SSLEngineImpl.recvAlert(SSLEngineImpl.java:1800) ~[?:?]\r\n01:29:05   1> \tat sun.security.ssl.SSLEngineImpl.readRecord(SSLEngineImpl.java:1083) ~[?:?]\r\n01:29:05   1> \tat sun.security.ssl.SSLEngineImpl.readNetRecord(SSLEngineImpl.java:907) ~[?:?]\r\n01:29:05   1> \tat sun.security.ssl.SSLEngineImpl.unwrap(SSLEngineImpl.java:781) ~[?:?]\r\n01:29:05   1> \tat javax.net.ssl.SSLEngine.unwrap(SSLEngine.java:624) ~[?:1.8.0_172]\r\n01:29:05   1> \tat io.netty.handler.ssl.SslHandler$SslEngineType$3.unwrap(SslHandler.java:281) ~[netty-handler-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1215) ~[netty-handler-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1127) ~[netty-handler-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1162) ~[netty-handler-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:489) ~[netty-codec-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:428) ~[netty-codec-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \t... 15 more\r\n01:29:05   1> [2018-06-07T22:29:03,343][INFO ][o.e.c.m.TemplateUpgradeService] [node_s2] Starting template upgrade to version 6.2.5, 1 templates will be updated and 0 will be removed\r\n01:29:05   1> [2018-06-07T22:29:03,373][INFO ][o.e.c.m.TemplateUpgradeService] [node_s2] Finished upgrading templates to version 6.2.5\r\n01:29:05   1> [2018-06-07T22:29:03,381][INFO ][o.e.c.m.TemplateUpgradeService] [node_s2] Starting template upgrade to version 6.2.5, 1 templates will be updated and 0 will be removed\r\n01:29:05   1> [2018-06-07T22:29:03,390][INFO ][o.e.c.m.TemplateUpgradeService] [node_s2] Finished upgrading templates to version 6.2.5\r\n01:29:05   1> [2018-06-07T22:29:03,391][INFO ][o.e.x.s.t.s.SslIntegrationTests] [SslIntegrationTests#testThatHttpUsingSSLv3IsRejected]: cleaned up after test\r\n01:29:05   1> [2018-06-07T22:29:03,391][INFO ][o.e.x.s.t.s.SslIntegrationTests] [testThatHttpUsingSSLv3IsRejected]: after test\r\n01:29:05   2> NOTE: leaving temporary files on disk at: /var/lib/jenkins/workspace/elastic+x-pack-elasticsearch+6.2+release-tests/elasticsearch-extra/x-pack-elasticsearch/plugin/security/build/testrun/test/J1/temp/org.elasticsearch.xpack.security.transport.ssl.SslIntegrationTests_47212714AD905A9D-001\r\n01:29:05   2> Jun 07, 2018 10:29:04 PM com.carrotsearch.randomizedtesting.ThreadLeakControl checkThreadLeaks\r\n01:29:05   2> WARNING: Will linger awaiting termination of 2 leaked thread(s).\r\n01:29:05   2> NOTE: test params are: codec=Lucene70, sim=RandomSimilarity(queryNorm=false): {}, locale=is, timezone=Africa/Bissau\r\n01:29:05   2> NOTE: Linux 3.10.0-693.el7.x86_64 amd64/Oracle Corporation 1.8.0_172 (64-bit)/cpus=4,threads=1,free=248460512,total=487587840\r\n01:29:05   1> [2018-06-07T22:29:03,445][INFO ][o.e.x.s.t.s.SslIntegrationTests] [testThatTransportClientUsingSSLv3ProtocolIsRejected]: before test\r\n01:29:05   2> NOTE: All tests run in this JVM: [TokenPassphraseBootstrapCheckTests, ClearRealmsCacheTests, SessionFactoryLoadBalancingTests, PermissionTests, ExpressionRoleMappingTests, RestAuthenticateActionTests, LDAPServersTests, LicenseServiceSingleNodeSecurityTests, TransportAuthenticateActionTests, SamlAuthnRequestBuilderTests, ReservedRealmTests, CancellableLdapRunnableTests, TransportGetRoleMappingsActionTests, IndexAuditTrailTests, SamlMetadataCommandTests, IPHostnameVerificationTests, AuthorizedIndicesTests, SamlSpMetadataBuilderTests, RealmSettingsTests, IndexPrivilegeTests, AuditUtilTests, ActiveDirectoryGroupsResolverTests, SecurityFeatureSetTests, TransportGetUsersActionTests, UserTests, HasPrivilegesRestResponseTests, AnonymousUserIntegTests, TokenAuthIntegTests, TransportGetRolesActionTests, FieldExtractorTests, SecurityNetty4ServerTransportTests, SecuritySettingsTests, SecurityServerTransportInterceptorTests, BCryptTests, HasPrivilegesRequestBuilderTests, OptOutQueryCacheTests, FileUserPasswdStoreTests, SslIntegrationTests]\r\n01:29:05   1> [2018-06-07T22:29:03,445][INFO ][o.e.x.s.t.s.SslIntegrationTests] [SslIntegrationTests#testThatTransportClientUsingSSLv3ProtocolIsRejected]: setting up test\r\n01:29:05   1> [2018-06-07T22:29:03,445][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[local_node], origin_address=[127.0.0.1], principal=[test_user], roles=[user], action=[cluster:admin/settings/update], request=[ClusterUpdateSettingsRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,452][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[transport], origin_address=[127.0.0.1], principal=[test_trans_client_user], roles=[transport_client,user], action=[indices:admin/template/get], request=[GetIndexTemplatesRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,452][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[transport], origin_address=[127.0.0.1], principal=[test_trans_client_user], roles=[transport_client,user], action=[indices:admin/template/get], request=[GetIndexTemplatesRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,454][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[local_node], origin_address=[127.0.0.1], principal=[test_user], roles=[user], action=[indices:admin/template/delete], request=[DeleteIndexTemplateRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,462][INFO ][o.e.c.m.TemplateUpgradeService] [node_s2] Starting template upgrade to version 6.2.5, 1 templates will be updated and 0 will be removed\r\n01:29:05   1> [2018-06-07T22:29:03,469][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[transport], origin_address=[127.0.0.1], principal=[test_trans_client_user], roles=[transport_client,user], action=[indices:admin/template/delete], request=[DeleteIndexTemplateRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,470][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[transport], origin_address=[127.0.0.1], principal=[test_trans_client_user], roles=[transport_client,user], action=[indices:admin/template/delete], request=[DeleteIndexTemplateRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,479][INFO ][o.e.c.m.TemplateUpgradeService] [node_s2] Finished upgrading templates to version 6.2.5\r\n01:29:05   1> [2018-06-07T22:29:03,489][INFO ][o.e.c.m.TemplateUpgradeService] [node_s2] Starting template upgrade to version 6.2.5, 1 templates will be updated and 0 will be removed\r\n01:29:05   1> [2018-06-07T22:29:03,495][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[local_node], origin_address=[127.0.0.1], principal=[test_user], roles=[user], action=[cluster:admin/repository/delete], request=[DeleteRepositoryRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,509][INFO ][o.e.c.m.TemplateUpgradeService] [node_s2] Finished upgrading templates to version 6.2.5\r\n01:29:05   1> [2018-06-07T22:29:03,510][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[local_node], origin_address=[127.0.0.1], principal=[test_user], roles=[user], action=[indices:admin/template/put], indices=[*], request=[PutIndexTemplateRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,532][INFO ][o.e.x.s.t.s.SslIntegrationTests] [SslIntegrationTests#testThatTransportClientUsingSSLv3ProtocolIsRejected]: all set up test\r\n01:29:05   1> [2018-06-07T22:29:03,532][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[local_node], origin_address=[127.0.0.1], principal=[test_user], roles=[user], action=[cluster:monitor/nodes/info], request=[NodesInfoRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,533][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[local_node], origin_address=[127.0.0.1], principal=[test_user], roles=[user], action=[cluster:monitor/nodes/info[n]], request=[NodeInfoRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,534][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [127.0.0.1] [transport] [access_granted]\torigin_type=[transport], origin_address=[127.0.0.1], principal=[test_user], roles=[user], action=[cluster:monitor/nodes/info[n]], request=[NodeInfoRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,547][INFO ][o.e.p.PluginsService     ] [programmatic_transport_client] no modules loaded\r\n01:29:05   1> [2018-06-07T22:29:03,547][INFO ][o.e.p.PluginsService     ] [programmatic_transport_client] loaded plugin [org.elasticsearch.transport.nio.NioTransportPlugin]\r\n01:29:05   1> [2018-06-07T22:29:03,547][INFO ][o.e.p.PluginsService     ] [programmatic_transport_client] loaded plugin [org.elasticsearch.xpack.security.LocalStateSecurity]\r\n01:29:05   1> [2018-06-07T22:29:03,739][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[transport], origin_address=[127.0.0.1], principal=[test_trans_client_user], roles=[transport_client,user], action=[cluster:monitor/nodes/liveness], request=[LivenessRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,758][INFO ][o.e.x.s.t.s.SslIntegrationTests] [SslIntegrationTests#testThatTransportClientUsingSSLv3ProtocolIsRejected]: cleaning up after test\r\n01:29:05   1> [2018-06-07T22:29:03,789][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [127.0.0.1] [transport] [access_granted]\torigin_type=[local_node], origin_address=[127.0.0.1], principal=[test_user], roles=[user], action=[cluster:monitor/state], request=[ClusterStateRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,801][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[transport], origin_address=[127.0.0.1], principal=[test_trans_client_user], roles=[transport_client,user], action=[cluster:monitor/state], request=[ClusterStateRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,801][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[transport], origin_address=[127.0.0.1], principal=[test_trans_client_user], roles=[transport_client,user], action=[cluster:monitor/state], request=[ClusterStateRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,840][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [transport] [access_granted]\torigin_type=[local_node], origin_address=[127.0.0.1], principal=[test_user], roles=[user], action=[indices:admin/template/get], request=[GetIndexTemplatesRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,849][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [127.0.0.1] [transport] [access_granted]\torigin_type=[transport], origin_address=[127.0.0.1], principal=[test_trans_client_user], roles=[transport_client,user], action=[indices:admin/template/delete], request=[DeleteIndexTemplateRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,850][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [127.0.0.1] [transport] [access_granted]\torigin_type=[transport], origin_address=[127.0.0.1], principal=[test_trans_client_user], roles=[transport_client,user], action=[indices:admin/template/delete], request=[DeleteIndexTemplateRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,877][INFO ][o.e.c.m.TemplateUpgradeService] [node_s2] Starting template upgrade to version 6.2.5, 1 templates will be updated and 0 will be removed\r\n01:29:05   1> [2018-06-07T22:29:03,915][INFO ][o.e.c.m.TemplateUpgradeService] [node_s2] Finished upgrading templates to version 6.2.5\r\n01:29:05   1> [2018-06-07T22:29:03,971][INFO ][o.e.c.m.TemplateUpgradeService] [node_s2] Starting template upgrade to version 6.2.5, 1 templates will be updated and 0 will be removed\r\n01:29:05   1> [2018-06-07T22:29:03,992][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [127.0.0.1] [transport] [access_granted]\torigin_type=[transport], origin_address=[127.0.0.1], principal=[test_trans_client_user], roles=[transport_client,user], action=[cluster:admin/repository/delete], request=[DeleteRepositoryRequest]\r\n01:29:05   1> [2018-06-07T22:29:03,993][INFO ][o.e.x.s.a.l.LoggingAuditTrail] [127.0.0.1] [transport] [access_granted]\torigin_type=[transport], origin_address=[127.0.0.1], principal=[test_trans_client_user], roles=[transport_client,user], action=[cluster:admin/repository/delete], request=[DeleteRepositoryRequest]\r\n01:29:05   1> [2018-06-07T22:29:04,019][INFO ][o.e.c.m.TemplateUpgradeService] [node_s2] Finished upgrading templates to version 6.2.5\r\n01:29:05   1> [2018-06-07T22:29:04,024][INFO ][o.e.x.s.t.s.SslIntegrationTests] [SslIntegrationTests#testThatTransportClientUsingSSLv3ProtocolIsRejected]: cleaned up after test\r\n01:29:05   1> [2018-06-07T22:29:04,025][INFO ][o.e.x.s.t.s.SslIntegrationTests] [testThatTransportClientUsingSSLv3ProtocolIsRejected]: after test\r\n01:29:05   1> [2018-06-07T22:29:04,106][INFO ][o.e.n.Node               ] [node_s0] stopping ...\r\n01:29:05   1> [2018-06-07T22:29:04,138][INFO ][o.e.c.s.MasterService    ] [node_s2] zen-disco-node-left({node_s0}{Lbk-LoFAScSEICLjDr8jPg}{_qQhAfsXS3C5cyYdNCRXtw}{127.0.0.1}{127.0.0.1:30208}), reason(left)[{node_s0}{Lbk-LoFAScSEICLjDr8jPg}{_qQhAfsXS3C5cyYdNCRXtw}{127.0.0.1}{127.0.0.1:30208} left], reason: removed {{node_s0}{Lbk-LoFAScSEICLjDr8jPg}{_qQhAfsXS3C5cyYdNCRXtw}{127.0.0.1}{127.0.0.1:30208},}\r\n01:29:05   1> [2018-06-07T22:29:04,139][INFO ][o.e.c.s.ClusterApplierService] [node_s1] removed {{node_s0}{Lbk-LoFAScSEICLjDr8jPg}{_qQhAfsXS3C5cyYdNCRXtw}{127.0.0.1}{127.0.0.1:30208},}, reason: apply cluster state (from master [master {node_s2}{3e0zecgPTa2HHhb4oey8IA}{P8IH9S-0TwuORNIni9Gxeg}{127.0.0.1}{127.0.0.1:30210} committed version [48]])\r\n01:29:05   1> [2018-06-07T22:29:04,147][INFO ][o.e.c.s.ClusterApplierService] [node_sc3] removed {{node_s0}{Lbk-LoFAScSEICLjDr8jPg}{_qQhAfsXS3C5cyYdNCRXtw}{127.0.0.1}{127.0.0.1:30208},}, reason: apply cluster state (from master [master {node_s2}{3e0zecgPTa2HHhb4oey8IA}{P8IH9S-0TwuORNIni9Gxeg}{127.0.0.1}{127.0.0.1:30210} committed version [48]])\r\n01:29:05   1> [2018-06-07T22:29:04,149][INFO ][o.e.c.s.ClusterApplierService] [node_s2] removed {{node_s0}{Lbk-LoFAScSEICLjDr8jPg}{_qQhAfsXS3C5cyYdNCRXtw}{127.0.0.1}{127.0.0.1:30208},}, reason: apply cluster state (from master [master {node_s2}{3e0zecgPTa2HHhb4oey8IA}{P8IH9S-0TwuORNIni9Gxeg}{127.0.0.1}{127.0.0.1:30210} committed version [48] source [zen-disco-node-left({node_s0}{Lbk-LoFAScSEICLjDr8jPg}{_qQhAfsXS3C5cyYdNCRXtw}{127.0.0.1}{127.0.0.1:30208}), reason(left)[{node_s0}{Lbk-LoFAScSEICLjDr8jPg}{_qQhAfsXS3C5cyYdNCRXtw}{127.0.0.1}{127.0.0.1:30208} left]]])\r\n01:29:05   1> [2018-06-07T22:29:04,205][INFO ][o.e.n.Node               ] [node_s0] stopped\r\n01:29:05   1> [2018-06-07T22:29:04,205][INFO ][o.e.n.Node               ] [node_s0] closing ...\r\n01:29:05   1> [2018-06-07T22:29:04,208][INFO ][o.e.n.Node               ] [node_s0] closed\r\n01:29:05   1> [2018-06-07T22:29:04,215][INFO ][o.e.n.Node               ] [node_s1] stopping ...\r\n01:29:05   1> [2018-06-07T22:29:04,217][WARN ][o.e.t.d.TestZenDiscovery ] [node_s2] not enough master nodes (has [1], but needed [2]), current nodes: nodes: \r\n01:29:05   1>    {node_s2}{3e0zecgPTa2HHhb4oey8IA}{P8IH9S-0TwuORNIni9Gxeg}{127.0.0.1}{127.0.0.1:30210}, local, master\r\n01:29:05   1>    {node_sc3}{4A2rgLVSQTqhV9sxLPQUww}{f_D1sM1hRlm4enM0eT_TjA}{127.0.0.1}{127.0.0.1:30211}\r\n01:29:05   1>    {node_s1}{q61VqXF8TAiQLImySXYN_Q}{FB2qSAYrTdO3_OKkrHAX3w}{127.0.0.1}{127.0.0.1:30209}\r\n01:29:05   1> [2018-06-07T22:29:04,217][INFO ][o.e.t.d.MockZenPing      ] [node_s2] pinging using mock zen ping\r\n01:29:05   1> [2018-06-07T22:29:04,227][INFO ][o.e.n.Node               ] [node_s1] stopped\r\n01:29:05   1> [2018-06-07T22:29:04,227][INFO ][o.e.n.Node               ] [node_s1] closing ...\r\n01:29:05   1> [2018-06-07T22:29:04,229][INFO ][o.e.n.Node               ] [node_s1] closed\r\n01:29:05   1> [2018-06-07T22:29:04,236][INFO ][o.e.n.Node               ] [node_s2] stopping ...\r\n01:29:05   1> [2018-06-07T22:29:04,246][WARN ][o.e.t.d.TestZenDiscovery ] [node_s2] not enough master nodes discovered during pinging (found [[Candidate{node={node_s2}{3e0zecgPTa2HHhb4oey8IA}{P8IH9S-0TwuORNIni9Gxeg}{127.0.0.1}{127.0.0.1:30210}, clusterStateVersion=48}]], but needed [2]), pinging again\r\n01:29:05   1> [2018-06-07T22:29:04,248][INFO ][o.e.t.d.TestZenDiscovery ] [node_sc3] master_left [{node_s2}{3e0zecgPTa2HHhb4oey8IA}{P8IH9S-0TwuORNIni9Gxeg}{127.0.0.1}{127.0.0.1:30210}], reason [transport disconnected]\r\n01:29:05   1> [2018-06-07T22:29:04,248][WARN ][o.e.t.d.TestZenDiscovery ] [node_sc3] master left (reason = transport disconnected), current nodes: nodes: \r\n01:29:05   1>    {node_s2}{3e0zecgPTa2HHhb4oey8IA}{P8IH9S-0TwuORNIni9Gxeg}{127.0.0.1}{127.0.0.1:30210}, master\r\n01:29:05   1>    {node_sc3}{4A2rgLVSQTqhV9sxLPQUww}{f_D1sM1hRlm4enM0eT_TjA}{127.0.0.1}{127.0.0.1:30211}, local\r\n01:29:05   1>    {node_s1}{q61VqXF8TAiQLImySXYN_Q}{FB2qSAYrTdO3_OKkrHAX3w}{127.0.0.1}{127.0.0.1:30209}\r\n01:29:05   1> [2018-06-07T22:29:04,261][INFO ][o.e.t.d.MockZenPing      ] [node_sc3] pinging using mock zen ping\r\n01:29:05   1> [2018-06-07T22:29:04,251][WARN ][o.e.c.NodeConnectionsService] [node_sc3] failed to connect to node {node_s2}{3e0zecgPTa2HHhb4oey8IA}{P8IH9S-0TwuORNIni9Gxeg}{127.0.0.1}{127.0.0.1:30210} (tried [1] times)\r\n01:29:05   1> org.elasticsearch.transport.ConnectTransportException: [node_s2][127.0.0.1:30210] connect_exception\r\n01:29:05   1> \tat org.elasticsearch.transport.TcpChannel.awaitConnected(TcpChannel.java:165) ~[elasticsearch-6.2.5.jar:6.2.5]\r\n01:29:05   1> \tat org.elasticsearch.transport.TcpTransport.openConnection(TcpTransport.java:616) ~[elasticsearch-6.2.5.jar:6.2.5]\r\n01:29:05   1> \tat org.elasticsearch.transport.TcpTransport.connectToNode(TcpTransport.java:513) ~[elasticsearch-6.2.5.jar:6.2.5]\r\n01:29:05   1> \tat org.elasticsearch.transport.TransportService.connectToNode(TransportService.java:331) ~[elasticsearch-6.2.5.jar:6.2.5]\r\n01:29:05   1> \tat org.elasticsearch.transport.TransportService.connectToNode(TransportService.java:318) ~[elasticsearch-6.2.5.jar:6.2.5]\r\n01:29:05   1> \tat org.elasticsearch.cluster.NodeConnectionsService.validateAndConnectIfNeeded(NodeConnectionsService.java:154) [elasticsearch-6.2.5.jar:6.2.5]\r\n01:29:05   1> \tat org.elasticsearch.cluster.NodeConnectionsService$1.doRun(NodeConnectionsService.java:107) [elasticsearch-6.2.5.jar:6.2.5]\r\n01:29:05   1> \tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:672) [elasticsearch-6.2.5.jar:6.2.5]\r\n01:29:05   1> \tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) [elasticsearch-6.2.5.jar:6.2.5]\r\n01:29:05   1> \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_172]\r\n01:29:05   1> \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_172]\r\n01:29:05   1> \tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_172]\r\n01:29:05   1> Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: 127.0.0.1/127.0.0.1:30210\r\n01:29:05   1> \tat sun.nio.ch.SocketChannelImpl.checkConnect(Native Method) ~[?:?]\r\n01:29:05   1> \tat sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717) ~[?:?]\r\n01:29:05   1> \tat io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:323) ~[netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:340) ~[netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:633) ~[netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:545) ~[netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:499) ~[netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:459) ~[netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:858) ~[netty-common-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \t... 1 more\r\n01:29:05   1> Caused by: java.net.ConnectException: Connection refused\r\n01:29:05   1> \tat sun.nio.ch.SocketChannelImpl.checkConnect(Native Method) ~[?:?]\r\n01:29:05   1> \tat sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717) ~[?:?]\r\n01:29:05   1> \tat io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:323) ~[netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:340) ~[netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:633) ~[netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:545) ~[netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:499) ~[netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:459) ~[netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:858) ~[netty-common-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \t... 1 more\r\n01:29:05   1> [2018-06-07T22:29:04,254][WARN ][o.e.c.NodeConnectionsService] [node_sc3] failed to connect to node {node_s1}{q61VqXF8TAiQLImySXYN_Q}{FB2qSAYrTdO3_OKkrHAX3w}{127.0.0.1}{127.0.0.1:30209} (tried [1] times)\r\n01:29:05   1> org.elasticsearch.transport.ConnectTransportException: [node_s1][127.0.0.1:30209] connect_exception\r\n01:29:05   1> \tat org.elasticsearch.transport.TcpChannel.awaitConnected(TcpChannel.java:165) ~[elasticsearch-6.2.5.jar:6.2.5]\r\n01:29:05   1> \tat org.elasticsearch.transport.TcpTransport.openConnection(TcpTransport.java:616) ~[elasticsearch-6.2.5.jar:6.2.5]\r\n01:29:05   1> \tat org.elasticsearch.transport.TcpTransport.connectToNode(TcpTransport.java:513) ~[elasticsearch-6.2.5.jar:6.2.5]\r\n01:29:05   1> \tat org.elasticsearch.transport.TransportService.connectToNode(TransportService.java:331) ~[elasticsearch-6.2.5.jar:6.2.5]\r\n01:29:05   1> \tat org.elasticsearch.transport.TransportService.connectToNode(TransportService.java:318) ~[elasticsearch-6.2.5.jar:6.2.5]\r\n01:29:05   1> \tat org.elasticsearch.cluster.NodeConnectionsService.validateAndConnectIfNeeded(NodeConnectionsService.java:154) [elasticsearch-6.2.5.jar:6.2.5]\r\n01:29:05   1> \tat org.elasticsearch.cluster.NodeConnectionsService$1.doRun(NodeConnectionsService.java:107) [elasticsearch-6.2.5.jar:6.2.5]\r\n01:29:05   1> \tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:672) [elasticsearch-6.2.5.jar:6.2.5]\r\n01:29:05   1> \tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) [elasticsearch-6.2.5.jar:6.2.5]\r\n01:29:05   1> \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_172]\r\n01:29:05   1> \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_172]\r\n01:29:05   1> \tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_172]\r\n01:29:05   1> Caused by: io.netty.channel.AbstractChannel$AnnotatedConnectException: Connection refused: 127.0.0.1/127.0.0.1:30209\r\n01:29:05   1> \tat sun.nio.ch.SocketChannelImpl.checkConnect(Native Method) ~[?:?]\r\n01:29:05   1> \tat sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717) ~[?:?]\r\n01:29:05   1> \tat io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:323) ~[netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:340) ~[netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:633) ~[netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:545) ~[netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:499) ~[netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:459) ~[netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:858) ~[netty-common-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \t... 1 more\r\n01:29:05   1> Caused by: java.net.ConnectException: Connection refused\r\n01:29:05   1> \tat sun.nio.ch.SocketChannelImpl.checkConnect(Native Method) ~[?:?]\r\n01:29:05   1> \tat sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717) ~[?:?]\r\n01:29:05   1> \tat io.netty.channel.socket.nio.NioSocketChannel.doFinishConnect(NioSocketChannel.java:323) ~[netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe.finishConnect(AbstractNioChannel.java:340) ~[netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:633) ~[netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:545) ~[netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:499) ~[netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:459) ~[netty-transport-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \tat io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:858) ~[netty-common-4.1.16.Final.jar:4.1.16.Final]\r\n01:29:05   1> \t... 1 more\r\n01:29:05   1> [2018-06-07T22:29:04,299][INFO ][o.e.n.Node               ] [node_s2] stopped\r\n01:29:05   1> [2018-06-07T22:29:04,299][INFO ][o.e.n.Node               ] [node_s2] closing ...\r\n01:29:05   1> [2018-06-07T22:29:04,310][INFO ][o.e.n.Node               ] [node_s2] closed\r\n01:29:05   1> [2018-06-07T22:29:04,331][INFO ][o.e.n.Node               ] [node_sc3] stopping ...\r\n01:29:05   1> [2018-06-07T22:29:04,335][INFO ][o.e.n.Node               ] [node_sc3] stopped\r\n01:29:05   1> [2018-06-07T22:29:04,335][INFO ][o.e.n.Node               ] [node_sc3] closing ...\r\n01:29:05   1> [2018-06-07T22:29:04,339][WARN ][o.e.t.d.TestZenDiscovery ] [node_sc3] not enough master nodes discovered during pinging (found [[]], but needed [2]), pinging again\r\n01:29:05   1> [2018-06-07T22:29:04,339][INFO ][o.e.n.Node               ] [node_sc3] closed\r\n</details>\r\n","closed_by":{"login":"jaymode","id":4339958,"node_id":"MDQ6VXNlcjQzMzk5NTg=","avatar_url":"https://avatars1.githubusercontent.com/u/4339958?v=4","gravatar_id":"","url":"https://api.github.com/users/jaymode","html_url":"https://github.com/jaymode","followers_url":"https://api.github.com/users/jaymode/followers","following_url":"https://api.github.com/users/jaymode/following{/other_user}","gists_url":"https://api.github.com/users/jaymode/gists{/gist_id}","starred_url":"https://api.github.com/users/jaymode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaymode/subscriptions","organizations_url":"https://api.github.com/users/jaymode/orgs","repos_url":"https://api.github.com/users/jaymode/repos","events_url":"https://api.github.com/users/jaymode/events{/privacy}","received_events_url":"https://api.github.com/users/jaymode/received_events","type":"User","site_admin":false},"performed_via_github_app":null}