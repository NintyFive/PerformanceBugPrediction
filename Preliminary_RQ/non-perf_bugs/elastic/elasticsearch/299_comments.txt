[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/345304","html_url":"https://github.com/elastic/elasticsearch/issues/299#issuecomment-345304","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/299","id":345304,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTMwNA==","user":{"login":"cwensel","id":24684,"node_id":"MDQ6VXNlcjI0Njg0","avatar_url":"https://avatars1.githubusercontent.com/u/24684?v=4","gravatar_id":"","url":"https://api.github.com/users/cwensel","html_url":"https://github.com/cwensel","followers_url":"https://api.github.com/users/cwensel/followers","following_url":"https://api.github.com/users/cwensel/following{/other_user}","gists_url":"https://api.github.com/users/cwensel/gists{/gist_id}","starred_url":"https://api.github.com/users/cwensel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cwensel/subscriptions","organizations_url":"https://api.github.com/users/cwensel/orgs","repos_url":"https://api.github.com/users/cwensel/repos","events_url":"https://api.github.com/users/cwensel/events{/privacy}","received_events_url":"https://api.github.com/users/cwensel/received_events","type":"User","site_admin":false},"created_at":"2010-08-07T17:55:20Z","updated_at":"2010-08-07T17:55:20Z","author_association":"NONE","body":"what seems to be a fix for this symptom is to forward through null tokens\n\nat line 319 in XContentObjectMapper:\n\n```\n    while(token==null){\n        token = parser.nextToken(); \n    }\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/345423","html_url":"https://github.com/elastic/elasticsearch/issues/299#issuecomment-345423","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/299","id":345423,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NTQyMw==","user":{"login":"cwensel","id":24684,"node_id":"MDQ6VXNlcjI0Njg0","avatar_url":"https://avatars1.githubusercontent.com/u/24684?v=4","gravatar_id":"","url":"https://api.github.com/users/cwensel","html_url":"https://github.com/cwensel","followers_url":"https://api.github.com/users/cwensel/followers","following_url":"https://api.github.com/users/cwensel/following{/other_user}","gists_url":"https://api.github.com/users/cwensel/gists{/gist_id}","starred_url":"https://api.github.com/users/cwensel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cwensel/subscriptions","organizations_url":"https://api.github.com/users/cwensel/orgs","repos_url":"https://api.github.com/users/cwensel/repos","events_url":"https://api.github.com/users/cwensel/events{/privacy}","received_events_url":"https://api.github.com/users/cwensel/received_events","type":"User","site_admin":false},"created_at":"2010-08-07T20:14:55Z","updated_at":"2010-08-07T20:14:55Z","author_association":"NONE","body":"ok, a bad idea. seems to create an infinite loop. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/346812","html_url":"https://github.com/elastic/elasticsearch/issues/299#issuecomment-346812","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/299","id":346812,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NjgxMg==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2010-08-09T09:43:40Z","updated_at":"2010-08-09T09:43:40Z","author_association":"MEMBER","body":"Not sure, had a look at the code, seems like the parsing got mixed up. It might be a valid exception (i.e. sending a json structure that does not conform to the previous one for the same type) and just needs a better exception. Or it might be a bug ;). It would really help if you manage to recreate this, though I am sure its probably not simple...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/347424","html_url":"https://github.com/elastic/elasticsearch/issues/299#issuecomment-347424","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/299","id":347424,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NzQyNA==","user":{"login":"cwensel","id":24684,"node_id":"MDQ6VXNlcjI0Njg0","avatar_url":"https://avatars1.githubusercontent.com/u/24684?v=4","gravatar_id":"","url":"https://api.github.com/users/cwensel","html_url":"https://github.com/cwensel","followers_url":"https://api.github.com/users/cwensel/followers","following_url":"https://api.github.com/users/cwensel/following{/other_user}","gists_url":"https://api.github.com/users/cwensel/gists{/gist_id}","starred_url":"https://api.github.com/users/cwensel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cwensel/subscriptions","organizations_url":"https://api.github.com/users/cwensel/orgs","repos_url":"https://api.github.com/users/cwensel/repos","events_url":"https://api.github.com/users/cwensel/events{/privacy}","received_events_url":"https://api.github.com/users/cwensel/received_events","type":"User","site_admin":false},"created_at":"2010-08-09T17:20:41Z","updated_at":"2010-08-09T17:20:41Z","author_association":"NONE","body":"unfortunately the failure is random. \n\nsending the exact same stream of values to a stand-alone instance does not reproduce the problem every time or the same way when it does fail. even if i rm -rf work before each server start and load.\n\nit also shows up on mac osx and ubuntu with open-jdk.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/347445","html_url":"https://github.com/elastic/elasticsearch/issues/299#issuecomment-347445","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/299","id":347445,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NzQ0NQ==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2010-08-09T17:35:20Z","updated_at":"2010-08-09T17:35:20Z","author_association":"MEMBER","body":"can you maybe provide the complete test or indexing code that causes it? I don't mind running it several times till it happens.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/347726","html_url":"https://github.com/elastic/elasticsearch/issues/299#issuecomment-347726","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/299","id":347726,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NzcyNg==","user":{"login":"cwensel","id":24684,"node_id":"MDQ6VXNlcjI0Njg0","avatar_url":"https://avatars1.githubusercontent.com/u/24684?v=4","gravatar_id":"","url":"https://api.github.com/users/cwensel","html_url":"https://github.com/cwensel","followers_url":"https://api.github.com/users/cwensel/followers","following_url":"https://api.github.com/users/cwensel/following{/other_user}","gists_url":"https://api.github.com/users/cwensel/gists{/gist_id}","starred_url":"https://api.github.com/users/cwensel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cwensel/subscriptions","organizations_url":"https://api.github.com/users/cwensel/orgs","repos_url":"https://api.github.com/users/cwensel/repos","events_url":"https://api.github.com/users/cwensel/events{/privacy}","received_events_url":"https://api.github.com/users/cwensel/received_events","type":"User","site_admin":false},"created_at":"2010-08-09T20:55:30Z","updated_at":"2010-08-09T20:55:30Z","author_association":"NONE","body":"threw together a Node client (not a transport one) for bulk loading and am still seeing the same random NPE. was hoping this was a side-effect of using the memcached transport (and cient api). seems not.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/347783","html_url":"https://github.com/elastic/elasticsearch/issues/299#issuecomment-347783","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/299","id":347783,"node_id":"MDEyOklzc3VlQ29tbWVudDM0Nzc4Mw==","user":{"login":"cwensel","id":24684,"node_id":"MDQ6VXNlcjI0Njg0","avatar_url":"https://avatars1.githubusercontent.com/u/24684?v=4","gravatar_id":"","url":"https://api.github.com/users/cwensel","html_url":"https://github.com/cwensel","followers_url":"https://api.github.com/users/cwensel/followers","following_url":"https://api.github.com/users/cwensel/following{/other_user}","gists_url":"https://api.github.com/users/cwensel/gists{/gist_id}","starred_url":"https://api.github.com/users/cwensel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cwensel/subscriptions","organizations_url":"https://api.github.com/users/cwensel/orgs","repos_url":"https://api.github.com/users/cwensel/repos","events_url":"https://api.github.com/users/cwensel/events{/privacy}","received_events_url":"https://api.github.com/users/cwensel/received_events","type":"User","site_admin":false},"created_at":"2010-08-09T21:47:57Z","updated_at":"2010-08-09T21:47:57Z","author_association":"NONE","body":"fyi, looks like this line should have a return?\n                synchronized (mutex) {\n                    objectMapper = mappers.get(currentFieldName);\n                    if (objectMapper != null) {\n                        objectMapper.parse(context);\n                        // add a return here?!\n                    }\n\notherwise there is a risk the context is parsed twice, leading to the npe?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/347787","html_url":"https://github.com/elastic/elasticsearch/issues/299#issuecomment-347787","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/299","id":347787,"node_id":"MDEyOklzc3VlQ29tbWVudDM0Nzc4Nw==","user":{"login":"cwensel","id":24684,"node_id":"MDQ6VXNlcjI0Njg0","avatar_url":"https://avatars1.githubusercontent.com/u/24684?v=4","gravatar_id":"","url":"https://api.github.com/users/cwensel","html_url":"https://github.com/cwensel","followers_url":"https://api.github.com/users/cwensel/followers","following_url":"https://api.github.com/users/cwensel/following{/other_user}","gists_url":"https://api.github.com/users/cwensel/gists{/gist_id}","starred_url":"https://api.github.com/users/cwensel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cwensel/subscriptions","organizations_url":"https://api.github.com/users/cwensel/orgs","repos_url":"https://api.github.com/users/cwensel/repos","events_url":"https://api.github.com/users/cwensel/events{/privacy}","received_events_url":"https://api.github.com/users/cwensel/received_events","type":"User","site_admin":false},"created_at":"2010-08-09T21:49:53Z","updated_at":"2010-08-09T21:49:53Z","author_association":"NONE","body":"sorry, that's line 365 in XContentObjectMapper\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/347852","html_url":"https://github.com/elastic/elasticsearch/issues/299#issuecomment-347852","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/299","id":347852,"node_id":"MDEyOklzc3VlQ29tbWVudDM0Nzg1Mg==","user":{"login":"cwensel","id":24684,"node_id":"MDQ6VXNlcjI0Njg0","avatar_url":"https://avatars1.githubusercontent.com/u/24684?v=4","gravatar_id":"","url":"https://api.github.com/users/cwensel","html_url":"https://github.com/cwensel","followers_url":"https://api.github.com/users/cwensel/followers","following_url":"https://api.github.com/users/cwensel/following{/other_user}","gists_url":"https://api.github.com/users/cwensel/gists{/gist_id}","starred_url":"https://api.github.com/users/cwensel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cwensel/subscriptions","organizations_url":"https://api.github.com/users/cwensel/orgs","repos_url":"https://api.github.com/users/cwensel/repos","events_url":"https://api.github.com/users/cwensel/events{/privacy}","received_events_url":"https://api.github.com/users/cwensel/received_events","type":"User","site_admin":false},"created_at":"2010-08-09T22:20:30Z","updated_at":"2010-08-09T22:20:30Z","author_association":"NONE","body":"here is a strawman fix\nhttp://github.com/cwensel/elasticsearch/commit/ab08a36d0695e353500fa2fbd916ed9059f64281\n\nwill let you know if the npe returns.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/348216","html_url":"https://github.com/elastic/elasticsearch/issues/299#issuecomment-348216","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/299","id":348216,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODIxNg==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2010-08-10T06:19:41Z","updated_at":"2010-08-10T06:19:41Z","author_association":"MEMBER","body":"nice catch!. Pushed fix to master. Not sure if it relates to the NPE you get.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/355963","html_url":"https://github.com/elastic/elasticsearch/issues/299#issuecomment-355963","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/299","id":355963,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTk2Mw==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2010-08-15T19:19:17Z","updated_at":"2010-08-15T19:19:17Z","author_association":"MEMBER","body":"hey, do you still get this after the commit? if not, can we close this?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/355964","html_url":"https://github.com/elastic/elasticsearch/issues/299#issuecomment-355964","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/299","id":355964,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTk2NA==","user":{"login":"cwensel","id":24684,"node_id":"MDQ6VXNlcjI0Njg0","avatar_url":"https://avatars1.githubusercontent.com/u/24684?v=4","gravatar_id":"","url":"https://api.github.com/users/cwensel","html_url":"https://github.com/cwensel","followers_url":"https://api.github.com/users/cwensel/followers","following_url":"https://api.github.com/users/cwensel/following{/other_user}","gists_url":"https://api.github.com/users/cwensel/gists{/gist_id}","starred_url":"https://api.github.com/users/cwensel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cwensel/subscriptions","organizations_url":"https://api.github.com/users/cwensel/orgs","repos_url":"https://api.github.com/users/cwensel/repos","events_url":"https://api.github.com/users/cwensel/events{/privacy}","received_events_url":"https://api.github.com/users/cwensel/received_events","type":"User","site_admin":false},"created_at":"2010-08-15T19:20:12Z","updated_at":"2010-08-15T19:20:12Z","author_association":"NONE","body":"I haven't seen it since the change. go ahead and close and i'll open a new issue if it pops back up.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/355993","html_url":"https://github.com/elastic/elasticsearch/issues/299#issuecomment-355993","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/299","id":355993,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTk5Mw==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2010-08-15T19:41:23Z","updated_at":"2010-08-15T19:41:23Z","author_association":"MEMBER","body":"cool, I said it before, but I tend to repeat myself ;), nice catch!\n","performed_via_github_app":null}]