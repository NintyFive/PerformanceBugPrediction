{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/44628","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44628/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44628/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44628/events","html_url":"https://github.com/elastic/elasticsearch/issues/44628","id":470345490,"node_id":"MDU6SXNzdWU0NzAzNDU0OTA=","number":44628,"title":"elasticsearch-shard can not parse an index that has been rolled over","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"labels":[{"id":836504707,"node_id":"MDU6TGFiZWw4MzY1MDQ3MDc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Distributed","name":":Distributed/Distributed","color":"0e8a16","default":false,"description":"A catch all label for anything in the Distributed Area. If you aren't sure, use this one."},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"andrershov","id":600624,"node_id":"MDQ6VXNlcjYwMDYyNA==","avatar_url":"https://avatars1.githubusercontent.com/u/600624?v=4","gravatar_id":"","url":"https://api.github.com/users/andrershov","html_url":"https://github.com/andrershov","followers_url":"https://api.github.com/users/andrershov/followers","following_url":"https://api.github.com/users/andrershov/following{/other_user}","gists_url":"https://api.github.com/users/andrershov/gists{/gist_id}","starred_url":"https://api.github.com/users/andrershov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrershov/subscriptions","organizations_url":"https://api.github.com/users/andrershov/orgs","repos_url":"https://api.github.com/users/andrershov/repos","events_url":"https://api.github.com/users/andrershov/events{/privacy}","received_events_url":"https://api.github.com/users/andrershov/received_events","type":"User","site_admin":false},"assignees":[{"login":"andrershov","id":600624,"node_id":"MDQ6VXNlcjYwMDYyNA==","avatar_url":"https://avatars1.githubusercontent.com/u/600624?v=4","gravatar_id":"","url":"https://api.github.com/users/andrershov","html_url":"https://github.com/andrershov","followers_url":"https://api.github.com/users/andrershov/followers","following_url":"https://api.github.com/users/andrershov/following{/other_user}","gists_url":"https://api.github.com/users/andrershov/gists{/gist_id}","starred_url":"https://api.github.com/users/andrershov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrershov/subscriptions","organizations_url":"https://api.github.com/users/andrershov/orgs","repos_url":"https://api.github.com/users/andrershov/repos","events_url":"https://api.github.com/users/andrershov/events{/privacy}","received_events_url":"https://api.github.com/users/andrershov/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2019-07-19T14:08:45Z","updated_at":"2019-08-01T13:40:52Z","closed_at":"2019-08-01T13:40:52Z","author_association":"MEMBER","active_lock_reason":null,"body":"This is because it is not loading named writeables and therefore can not parse the condition that led to the rollover:\r\n\r\n```\r\nCaused by: java.io.IOException: failed to read /home/jason/.rally/benchmarks/races/2019-07-19-06-20-40/rally-node-0/install/elasticsearch-8.0.0-SNAPSHOT/data/indices/DnVmdtIuTVuJPIt0rUblFA/_state/state-7.st\r\n        at org.elasticsearch.gateway.MetaDataStateFormat.loadGeneration(MetaDataStateFormat.java:408)\r\n        ... 10 more\r\nCaused by: org.elasticsearch.common.xcontent.XContentParseException: [-1:1028] [rollover_info] failed to parse field [met_conditions]\r\n        at org.elasticsearch.common.xcontent.ObjectParser.parseValue(ObjectParser.java:386)\r\n        at org.elasticsearch.common.xcontent.ObjectParser.parseSub(ObjectParser.java:396)\r\n        at org.elasticsearch.common.xcontent.ObjectParser.parse(ObjectParser.java:238)\r\n        at org.elasticsearch.common.xcontent.ConstructingObjectParser.parse(ConstructingObjectParser.java:169)\r\n        at org.elasticsearch.common.xcontent.ConstructingObjectParser.apply(ConstructingObjectParser.java:161)\r\n        at org.elasticsearch.action.admin.indices.rollover.RolloverInfo.parse(RolloverInfo.java:72)\r\n        at org.elasticsearch.cluster.metadata.IndexMetaData$Builder.fromXContent(IndexMetaData.java:1346)\r\n        at org.elasticsearch.cluster.metadata.IndexMetaData$2.fromXContent(IndexMetaData.java:1462)\r\n        at org.elasticsearch.cluster.metadata.IndexMetaData$2.fromXContent(IndexMetaData.java:1451)\r\n        at org.elasticsearch.gateway.MetaDataStateFormat.read(MetaDataStateFormat.java:302)\r\n        at org.elasticsearch.gateway.MetaDataStateFormat.loadGeneration(MetaDataStateFormat.java:404)\r\n        ... 10 more\r\nCaused by: org.elasticsearch.common.xcontent.XContentParseException: [-1:1028] [met_conditions] failed to parse field [max_docs]\r\n        at org.elasticsearch.common.xcontent.ObjectParser.lambda$declareNamedObjects$6(ObjectParser.java:314)\r\n        at org.elasticsearch.common.xcontent.ObjectParser.lambda$declareNamedObjects$7(ObjectParser.java:326)\r\n        at org.elasticsearch.common.xcontent.ObjectParser.parseValue(ObjectParser.java:384)\r\n        ... 20 more\r\nCaused by: org.elasticsearch.common.xcontent.NamedObjectNotFoundException: unknown named object category [org.elasticsearch.action.admin.indices.rollover.Condition]\r\n        at org.elasticsearch.common.xcontent.NamedXContentRegistry.parseNamedObject(NamedXContentRegistry.java:128)\r\n        at org.elasticsearch.common.xcontent.support.AbstractXContentParser.namedObject(AbstractXContentParser.java:385)\r\n        at org.elasticsearch.action.admin.indices.rollover.RolloverInfo.lambda$static$1(RolloverInfo.java:51)\r\n        at org.elasticsearch.common.xcontent.ObjectParser.lambda$declareNamedObjects$6(ObjectParser.java:312)\r\n        ... 22 more\r\n```","closed_by":{"login":"andrershov","id":600624,"node_id":"MDQ6VXNlcjYwMDYyNA==","avatar_url":"https://avatars1.githubusercontent.com/u/600624?v=4","gravatar_id":"","url":"https://api.github.com/users/andrershov","html_url":"https://github.com/andrershov","followers_url":"https://api.github.com/users/andrershov/followers","following_url":"https://api.github.com/users/andrershov/following{/other_user}","gists_url":"https://api.github.com/users/andrershov/gists{/gist_id}","starred_url":"https://api.github.com/users/andrershov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrershov/subscriptions","organizations_url":"https://api.github.com/users/andrershov/orgs","repos_url":"https://api.github.com/users/andrershov/repos","events_url":"https://api.github.com/users/andrershov/events{/privacy}","received_events_url":"https://api.github.com/users/andrershov/received_events","type":"User","site_admin":false},"performed_via_github_app":null}