[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/166431217","html_url":"https://github.com/elastic/elasticsearch/issues/15582#issuecomment-166431217","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15582","id":166431217,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NjQzMTIxNw==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2015-12-21T21:36:11Z","updated_at":"2015-12-21T21:36:11Z","author_association":"CONTRIBUTOR","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/166436095","html_url":"https://github.com/elastic/elasticsearch/issues/15582#issuecomment-166436095","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15582","id":166436095,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NjQzNjA5NQ==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2015-12-21T22:02:10Z","updated_at":"2015-12-21T22:02:10Z","author_association":"CONTRIBUTOR","body":"I guess that's a good limit to have\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/166544482","html_url":"https://github.com/elastic/elasticsearch/issues/15582#issuecomment-166544482","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15582","id":166544482,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NjU0NDQ4Mg==","user":{"login":"makeyang","id":13898618,"node_id":"MDQ6VXNlcjEzODk4NjE4","avatar_url":"https://avatars2.githubusercontent.com/u/13898618?v=4","gravatar_id":"","url":"https://api.github.com/users/makeyang","html_url":"https://github.com/makeyang","followers_url":"https://api.github.com/users/makeyang/followers","following_url":"https://api.github.com/users/makeyang/following{/other_user}","gists_url":"https://api.github.com/users/makeyang/gists{/gist_id}","starred_url":"https://api.github.com/users/makeyang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/makeyang/subscriptions","organizations_url":"https://api.github.com/users/makeyang/orgs","repos_url":"https://api.github.com/users/makeyang/repos","events_url":"https://api.github.com/users/makeyang/events{/privacy}","received_events_url":"https://api.github.com/users/makeyang/received_events","type":"User","site_admin":false},"created_at":"2015-12-22T07:49:01Z","updated_at":"2015-12-22T07:49:01Z","author_association":"CONTRIBUTOR","body":"then how to deal with high concurrency indexing situation?\nI \"tuned\" up the number of threads just in order to handle it although I know well its side effort.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/166565178","html_url":"https://github.com/elastic/elasticsearch/issues/15582#issuecomment-166565178","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15582","id":166565178,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NjU2NTE3OA==","user":{"login":"mikemccand","id":796508,"node_id":"MDQ6VXNlcjc5NjUwOA==","avatar_url":"https://avatars0.githubusercontent.com/u/796508?v=4","gravatar_id":"","url":"https://api.github.com/users/mikemccand","html_url":"https://github.com/mikemccand","followers_url":"https://api.github.com/users/mikemccand/followers","following_url":"https://api.github.com/users/mikemccand/following{/other_user}","gists_url":"https://api.github.com/users/mikemccand/gists{/gist_id}","starred_url":"https://api.github.com/users/mikemccand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikemccand/subscriptions","organizations_url":"https://api.github.com/users/mikemccand/orgs","repos_url":"https://api.github.com/users/mikemccand/repos","events_url":"https://api.github.com/users/mikemccand/events{/privacy}","received_events_url":"https://api.github.com/users/mikemccand/received_events","type":"User","site_admin":false},"created_at":"2015-12-22T09:26:40Z","updated_at":"2015-12-22T09:26:40Z","author_association":"CONTRIBUTOR","body":"@makeyang increasing the bulk and index thread pool sizes beyond the number of cores your hardware does not help indexing throughput ... it will hurt it, as you're seeing in #15538.  See https://www.elastic.co/blog/performance-indexing-2-0 for ways to optimize for indexing.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/166567922","html_url":"https://github.com/elastic/elasticsearch/issues/15582#issuecomment-166567922","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15582","id":166567922,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NjU2NzkyMg==","user":{"login":"makeyang","id":13898618,"node_id":"MDQ6VXNlcjEzODk4NjE4","avatar_url":"https://avatars2.githubusercontent.com/u/13898618?v=4","gravatar_id":"","url":"https://api.github.com/users/makeyang","html_url":"https://github.com/makeyang","followers_url":"https://api.github.com/users/makeyang/followers","following_url":"https://api.github.com/users/makeyang/following{/other_user}","gists_url":"https://api.github.com/users/makeyang/gists{/gist_id}","starred_url":"https://api.github.com/users/makeyang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/makeyang/subscriptions","organizations_url":"https://api.github.com/users/makeyang/orgs","repos_url":"https://api.github.com/users/makeyang/repos","events_url":"https://api.github.com/users/makeyang/events{/privacy}","received_events_url":"https://api.github.com/users/makeyang/received_events","type":"User","site_admin":false},"created_at":"2015-12-22T09:40:26Z","updated_at":"2015-12-22T09:40:26Z","author_association":"CONTRIBUTOR","body":"@mikemccand \nit's not about indexing performance. \nmy situation is here: I have a ES cluster and many other teams will write their data into this cluster, the data is very samll though the clients are many, so sometime when all bulk/index thread is occupied, the client will get rejecte exception. the write is not heavy at all. cpu/memory is all used little. but reject exception happened, how to deal with this situation? \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/166568280","html_url":"https://github.com/elastic/elasticsearch/issues/15582#issuecomment-166568280","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15582","id":166568280,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NjU2ODI4MA==","user":{"login":"mikemccand","id":796508,"node_id":"MDQ6VXNlcjc5NjUwOA==","avatar_url":"https://avatars0.githubusercontent.com/u/796508?v=4","gravatar_id":"","url":"https://api.github.com/users/mikemccand","html_url":"https://github.com/mikemccand","followers_url":"https://api.github.com/users/mikemccand/followers","following_url":"https://api.github.com/users/mikemccand/following{/other_user}","gists_url":"https://api.github.com/users/mikemccand/gists{/gist_id}","starred_url":"https://api.github.com/users/mikemccand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikemccand/subscriptions","organizations_url":"https://api.github.com/users/mikemccand/orgs","repos_url":"https://api.github.com/users/mikemccand/repos","events_url":"https://api.github.com/users/mikemccand/events{/privacy}","received_events_url":"https://api.github.com/users/mikemccand/received_events","type":"User","site_admin":false},"created_at":"2015-12-22T09:42:45Z","updated_at":"2015-12-22T09:42:45Z","author_association":"CONTRIBUTOR","body":"@makeyang in that case you should increase your bulk `queue_size`, not the `size`.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/166569113","html_url":"https://github.com/elastic/elasticsearch/issues/15582#issuecomment-166569113","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15582","id":166569113,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NjU2OTExMw==","user":{"login":"makeyang","id":13898618,"node_id":"MDQ6VXNlcjEzODk4NjE4","avatar_url":"https://avatars2.githubusercontent.com/u/13898618?v=4","gravatar_id":"","url":"https://api.github.com/users/makeyang","html_url":"https://github.com/makeyang","followers_url":"https://api.github.com/users/makeyang/followers","following_url":"https://api.github.com/users/makeyang/following{/other_user}","gists_url":"https://api.github.com/users/makeyang/gists{/gist_id}","starred_url":"https://api.github.com/users/makeyang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/makeyang/subscriptions","organizations_url":"https://api.github.com/users/makeyang/orgs","repos_url":"https://api.github.com/users/makeyang/repos","events_url":"https://api.github.com/users/makeyang/events{/privacy}","received_events_url":"https://api.github.com/users/makeyang/received_events","type":"User","site_admin":false},"created_at":"2015-12-22T09:48:01Z","updated_at":"2015-12-22T09:49:25Z","author_association":"CONTRIBUTOR","body":"@mikemccand  got it, thanks.\nI have another question to ask: I have done load test(especially for indexing performance) and found out that single node can handle 40000 docs/second, over this, ES will throw reject exception to client. but at the max throughput, the node's resouce is not completely occupied, \ncpu usage is 80%\niops is 170(spin disk, I have done iops test with other tools, iops can reacheve 500).\nso my question is why it can't write more while resouce is not fully occupied?\nwhat is bottleneck and how to identify it?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/166578873","html_url":"https://github.com/elastic/elasticsearch/issues/15582#issuecomment-166578873","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15582","id":166578873,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NjU3ODg3Mw==","user":{"login":"makeyang","id":13898618,"node_id":"MDQ6VXNlcjEzODk4NjE4","avatar_url":"https://avatars2.githubusercontent.com/u/13898618?v=4","gravatar_id":"","url":"https://api.github.com/users/makeyang","html_url":"https://github.com/makeyang","followers_url":"https://api.github.com/users/makeyang/followers","following_url":"https://api.github.com/users/makeyang/following{/other_user}","gists_url":"https://api.github.com/users/makeyang/gists{/gist_id}","starred_url":"https://api.github.com/users/makeyang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/makeyang/subscriptions","organizations_url":"https://api.github.com/users/makeyang/orgs","repos_url":"https://api.github.com/users/makeyang/repos","events_url":"https://api.github.com/users/makeyang/events{/privacy}","received_events_url":"https://api.github.com/users/makeyang/received_events","type":"User","site_admin":false},"created_at":"2015-12-22T10:44:35Z","updated_at":"2015-12-22T10:44:35Z","author_association":"CONTRIBUTOR","body":"@mikemccand please help to share any thoughts, insights, anything\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/166581917","html_url":"https://github.com/elastic/elasticsearch/issues/15582#issuecomment-166581917","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15582","id":166581917,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NjU4MTkxNw==","user":{"login":"mikemccand","id":796508,"node_id":"MDQ6VXNlcjc5NjUwOA==","avatar_url":"https://avatars0.githubusercontent.com/u/796508?v=4","gravatar_id":"","url":"https://api.github.com/users/mikemccand","html_url":"https://github.com/mikemccand","followers_url":"https://api.github.com/users/mikemccand/followers","following_url":"https://api.github.com/users/mikemccand/following{/other_user}","gists_url":"https://api.github.com/users/mikemccand/gists{/gist_id}","starred_url":"https://api.github.com/users/mikemccand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikemccand/subscriptions","organizations_url":"https://api.github.com/users/mikemccand/orgs","repos_url":"https://api.github.com/users/mikemccand/repos","events_url":"https://api.github.com/users/mikemccand/events{/privacy}","received_events_url":"https://api.github.com/users/mikemccand/received_events","type":"User","site_admin":false},"created_at":"2015-12-22T11:03:20Z","updated_at":"2015-12-22T11:03:20Z","author_association":"CONTRIBUTOR","body":"@makeyang did you try the suggestions from the above blog post?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/166774425","html_url":"https://github.com/elastic/elasticsearch/issues/15582#issuecomment-166774425","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15582","id":166774425,"node_id":"MDEyOklzc3VlQ29tbWVudDE2Njc3NDQyNQ==","user":{"login":"makeyang","id":13898618,"node_id":"MDQ6VXNlcjEzODk4NjE4","avatar_url":"https://avatars2.githubusercontent.com/u/13898618?v=4","gravatar_id":"","url":"https://api.github.com/users/makeyang","html_url":"https://github.com/makeyang","followers_url":"https://api.github.com/users/makeyang/followers","following_url":"https://api.github.com/users/makeyang/following{/other_user}","gists_url":"https://api.github.com/users/makeyang/gists{/gist_id}","starred_url":"https://api.github.com/users/makeyang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/makeyang/subscriptions","organizations_url":"https://api.github.com/users/makeyang/orgs","repos_url":"https://api.github.com/users/makeyang/repos","events_url":"https://api.github.com/users/makeyang/events{/privacy}","received_events_url":"https://api.github.com/users/makeyang/received_events","type":"User","site_admin":false},"created_at":"2015-12-23T01:38:59Z","updated_at":"2015-12-23T01:38:59Z","author_association":"CONTRIBUTOR","body":"yeah. try all of them.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/448467516","html_url":"https://github.com/elastic/elasticsearch/issues/15582#issuecomment-448467516","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15582","id":448467516,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0ODQ2NzUxNg==","user":{"login":"poige","id":600779,"node_id":"MDQ6VXNlcjYwMDc3OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/600779?v=4","gravatar_id":"","url":"https://api.github.com/users/poige","html_url":"https://github.com/poige","followers_url":"https://api.github.com/users/poige/followers","following_url":"https://api.github.com/users/poige/following{/other_user}","gists_url":"https://api.github.com/users/poige/gists{/gist_id}","starred_url":"https://api.github.com/users/poige/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/poige/subscriptions","organizations_url":"https://api.github.com/users/poige/orgs","repos_url":"https://api.github.com/users/poige/repos","events_url":"https://api.github.com/users/poige/events{/privacy}","received_events_url":"https://api.github.com/users/poige/received_events","type":"User","site_admin":false},"created_at":"2018-12-19T04:41:39Z","updated_at":"2018-12-19T04:41:39Z","author_association":"NONE","body":"@mikemccand do you drive car? How about wearing helmet while driving? You know I've seen a couple of cases recently where wearing helmets while driving cars could have saved lives.\r\n\r\nWhen you people would realise that all your \"couple cases\" stuff is absolute nonsense. Haven't heard about [survivorship bias](https://en.wikipedia.org/wiki/Survivorship_bias)? There're bicycles for kids and adults, they are somewhat different in (and by) design — manufacturers realise that different groups won't be satisfied with single approach. And I don't see \"Elasticsearch for Juniors\" label on.","performed_via_github_app":null}]