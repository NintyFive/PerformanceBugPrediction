[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/843370","html_url":"https://github.com/elastic/elasticsearch/issues/753#issuecomment-843370","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/753","id":843370,"node_id":"MDEyOklzc3VlQ29tbWVudDg0MzM3MA==","user":{"login":"rboulton","id":73564,"node_id":"MDQ6VXNlcjczNTY0","avatar_url":"https://avatars2.githubusercontent.com/u/73564?v=4","gravatar_id":"","url":"https://api.github.com/users/rboulton","html_url":"https://github.com/rboulton","followers_url":"https://api.github.com/users/rboulton/followers","following_url":"https://api.github.com/users/rboulton/following{/other_user}","gists_url":"https://api.github.com/users/rboulton/gists{/gist_id}","starred_url":"https://api.github.com/users/rboulton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rboulton/subscriptions","organizations_url":"https://api.github.com/users/rboulton/orgs","repos_url":"https://api.github.com/users/rboulton/repos","events_url":"https://api.github.com/users/rboulton/events{/privacy}","received_events_url":"https://api.github.com/users/rboulton/received_events","type":"User","site_admin":false},"created_at":"2011-03-07T16:35:01Z","updated_at":"2011-03-07T16:35:01Z","author_association":"CONTRIBUTOR","body":"(http://hostname.amazonaws.com above is a replacement for a real hostname, obviously.)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/846159","html_url":"https://github.com/elastic/elasticsearch/issues/753#issuecomment-846159","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/753","id":846159,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NjE1OQ==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2011-03-08T06:51:18Z","updated_at":"2011-03-08T06:51:18Z","author_association":"MEMBER","body":"Strange, GET should not affect the results of search. I know its hard, but is there a chance for a recreation? Something that index sample data (using curl) and then exhibit this?\n\nBy the way, it is recommended not to use `.` in type names. I have just pushed a warning when its done.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/856877","html_url":"https://github.com/elastic/elasticsearch/issues/753#issuecomment-856877","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/753","id":856877,"node_id":"MDEyOklzc3VlQ29tbWVudDg1Njg3Nw==","user":{"login":"rboulton","id":73564,"node_id":"MDQ6VXNlcjczNTY0","avatar_url":"https://avatars2.githubusercontent.com/u/73564?v=4","gravatar_id":"","url":"https://api.github.com/users/rboulton","html_url":"https://github.com/rboulton","followers_url":"https://api.github.com/users/rboulton/followers","following_url":"https://api.github.com/users/rboulton/following{/other_user}","gists_url":"https://api.github.com/users/rboulton/gists{/gist_id}","starred_url":"https://api.github.com/users/rboulton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rboulton/subscriptions","organizations_url":"https://api.github.com/users/rboulton/orgs","repos_url":"https://api.github.com/users/rboulton/repos","events_url":"https://api.github.com/users/rboulton/events{/privacy}","received_events_url":"https://api.github.com/users/rboulton/received_events","type":"User","site_admin":false},"created_at":"2011-03-10T17:56:19Z","updated_at":"2011-03-10T17:56:19Z","author_association":"CONTRIBUTOR","body":"Could the '.' be related in any way to the problem we're seeing here, do you think?\n\nI can't find an easy way to recreate this; it's only happening on the production servers, not on any test system I've found, even with the same data.  Any suggested approaches gratefully received, but it's one of those horrible bugs...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/860381","html_url":"https://github.com/elastic/elasticsearch/issues/753#issuecomment-860381","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/753","id":860381,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MDM4MQ==","user":{"login":"rboulton","id":73564,"node_id":"MDQ6VXNlcjczNTY0","avatar_url":"https://avatars2.githubusercontent.com/u/73564?v=4","gravatar_id":"","url":"https://api.github.com/users/rboulton","html_url":"https://github.com/rboulton","followers_url":"https://api.github.com/users/rboulton/followers","following_url":"https://api.github.com/users/rboulton/following{/other_user}","gists_url":"https://api.github.com/users/rboulton/gists{/gist_id}","starred_url":"https://api.github.com/users/rboulton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rboulton/subscriptions","organizations_url":"https://api.github.com/users/rboulton/orgs","repos_url":"https://api.github.com/users/rboulton/repos","events_url":"https://api.github.com/users/rboulton/events{/privacy}","received_events_url":"https://api.github.com/users/rboulton/received_events","type":"User","site_admin":false},"created_at":"2011-03-11T12:42:03Z","updated_at":"2011-03-11T12:42:03Z","author_association":"CONTRIBUTOR","body":"It's looking like the problem is a confused node, caused by running out of file handles on the node.  We've restarted one of the two nodes in the cluster to update its file handle limit, but it's now being unable to synchronise to the remaining problematic node.  We're building a new cluster from scratch, and reindexing to it.\n\nWe thought we'd set the file handle limit to somewhere in excess of 100000, but starting elasticsearch from upstart had failed to respect the settings in limits.conf (because upstart doesn't hit any of the useful PAM hooks such as common-session).  It would be lovely if elasticsearch could report in the logs the number of file handles available on startup.\n\nSo, the bug(s) in elasticsearch seem to be:\n- cluster appears healthy even when running out of file handles.\n- and unreported out of file handles results in inconsistent cluster.\n\nNot sure if you want to open additional tickets to track these, and close this one?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/860405","html_url":"https://github.com/elastic/elasticsearch/issues/753#issuecomment-860405","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/753","id":860405,"node_id":"MDEyOklzc3VlQ29tbWVudDg2MDQwNQ==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2011-03-11T12:54:44Z","updated_at":"2011-03-11T12:54:44Z","author_association":"MEMBER","body":"elasticsearch can report the number of open file handles it has, but only if you specify a flag to it (there is no way in Java to tell, so the hackish way I do it is to simply create files until it fails). It is explained here (the flag): http://www.elasticsearch.org/guide/reference/setup/installation.html.\n\nGetting file handles failures is a tricky one, since it can basically happen anywhere in the system (at least in Java its really tricky). Same applies to OutOfMemory failures.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/1215796","html_url":"https://github.com/elastic/elasticsearch/issues/753#issuecomment-1215796","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/753","id":1215796,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTU3OTY=","user":{"login":"karussell","id":129644,"node_id":"MDQ6VXNlcjEyOTY0NA==","avatar_url":"https://avatars0.githubusercontent.com/u/129644?v=4","gravatar_id":"","url":"https://api.github.com/users/karussell","html_url":"https://github.com/karussell","followers_url":"https://api.github.com/users/karussell/followers","following_url":"https://api.github.com/users/karussell/following{/other_user}","gists_url":"https://api.github.com/users/karussell/gists{/gist_id}","starred_url":"https://api.github.com/users/karussell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karussell/subscriptions","organizations_url":"https://api.github.com/users/karussell/orgs","repos_url":"https://api.github.com/users/karussell/repos","events_url":"https://api.github.com/users/karussell/events{/privacy}","received_events_url":"https://api.github.com/users/karussell/received_events","type":"User","site_admin":false},"created_at":"2011-05-21T22:42:00Z","updated_at":"2011-05-21T22:42:00Z","author_association":"CONTRIBUTOR","body":"Just stumbled over this issue.\n\nA nice explanation is here: http://www.elasticsearch.org/tutorials/2011/04/06/too-many-open-files.html\n","performed_via_github_app":null}]