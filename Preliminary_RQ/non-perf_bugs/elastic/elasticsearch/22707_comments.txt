[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/274000004","html_url":"https://github.com/elastic/elasticsearch/issues/22707#issuecomment-274000004","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22707","id":274000004,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDAwMDAwNA==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2017-01-20T07:50:41Z","updated_at":"2017-01-20T07:50:41Z","author_association":"MEMBER","body":"@trejkaz The fact is that there has never been a clear separation between elasticsearch the server and the client. All are coming from the same JAR.\r\nSo basically a contract has never been defined with java users about what is part of the client or what is not or what is shared by both of them.\r\n\r\nI'm sure that all the efforts the team is doing ATM to write a [High Level REST client](https://github.com/elastic/elasticsearch/tree/master/client/rest-high-level) will allow hopefully such `@Deprecated` annotation usage and have smoother transitions. But this is still a WIP.\r\n\r\nAlthough it's not part of the source code, we tried to document as much as we can the changes including in the Java API like here for example: https://www.elastic.co/guide/en/elasticsearch/reference/current/breaking_50_java_api_changes.html but we might have missed some few things.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/274002319","html_url":"https://github.com/elastic/elasticsearch/issues/22707#issuecomment-274002319","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22707","id":274002319,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDAwMjMxOQ==","user":{"login":"trejkaz","id":43236,"node_id":"MDQ6VXNlcjQzMjM2","avatar_url":"https://avatars2.githubusercontent.com/u/43236?v=4","gravatar_id":"","url":"https://api.github.com/users/trejkaz","html_url":"https://github.com/trejkaz","followers_url":"https://api.github.com/users/trejkaz/followers","following_url":"https://api.github.com/users/trejkaz/following{/other_user}","gists_url":"https://api.github.com/users/trejkaz/gists{/gist_id}","starred_url":"https://api.github.com/users/trejkaz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trejkaz/subscriptions","organizations_url":"https://api.github.com/users/trejkaz/orgs","repos_url":"https://api.github.com/users/trejkaz/repos","events_url":"https://api.github.com/users/trejkaz/events{/privacy}","received_events_url":"https://api.github.com/users/trejkaz/received_events","type":"User","site_admin":false},"created_at":"2017-01-20T08:01:19Z","updated_at":"2017-01-20T08:01:19Z","author_association":"NONE","body":"A REST client would resolve the other main beef I have with the API, which is that all I really wanted to do is update Lucene to v6... but then the dependency clashed, so I had to upgrade Elasticsearch... and now I'm in a mess.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/274003756","html_url":"https://github.com/elastic/elasticsearch/issues/22707#issuecomment-274003756","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22707","id":274003756,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDAwMzc1Ng==","user":{"login":"trejkaz","id":43236,"node_id":"MDQ6VXNlcjQzMjM2","avatar_url":"https://avatars2.githubusercontent.com/u/43236?v=4","gravatar_id":"","url":"https://api.github.com/users/trejkaz","html_url":"https://github.com/trejkaz","followers_url":"https://api.github.com/users/trejkaz/followers","following_url":"https://api.github.com/users/trejkaz/following{/other_user}","gists_url":"https://api.github.com/users/trejkaz/gists{/gist_id}","starred_url":"https://api.github.com/users/trejkaz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trejkaz/subscriptions","organizations_url":"https://api.github.com/users/trejkaz/orgs","repos_url":"https://api.github.com/users/trejkaz/repos","events_url":"https://api.github.com/users/trejkaz/events{/privacy}","received_events_url":"https://api.github.com/users/trejkaz/received_events","type":"User","site_admin":false},"created_at":"2017-01-20T08:08:34Z","updated_at":"2017-01-20T08:08:34Z","author_association":"NONE","body":"Actually, I should probably say, we have some amount of plugin code as well, and I have been seeing similar things going on over there. Randomly a class or a field will disappear... and I'll read the breaking changes and there won't be any mention of it. I think that 90% of the changes I've had to do, I found the thing to do by digging up the commit from the git history of elasticsearch to find other usages of it and then following their example. But some of these things that elasticsearch itself wasn't even using have been a real challenge.\r\n\r\nLucene has a pattern of marking experimental and internal APIs with Javadoc tags, which usually alerts to the APIs you should probably stay away from. (That said, in the Lucene 6 release, even they completely removed methods in non-internal APIs, so...)\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/274006369","html_url":"https://github.com/elastic/elasticsearch/issues/22707#issuecomment-274006369","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22707","id":274006369,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDAwNjM2OQ==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2017-01-20T08:20:43Z","updated_at":"2017-01-20T08:20:43Z","author_association":"MEMBER","body":"The main difference IMO is that Elasticsearch is not a library but a server. You are considering it here as a framework or a library.\r\nNot the case.\r\n\r\nPlugins needs to have a better contract probably as for now you can use whatever class you want from elasticsearch (the server). Like String utils class...\r\nThat's why you have this feeling I think.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/274082184","html_url":"https://github.com/elastic/elasticsearch/issues/22707#issuecomment-274082184","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22707","id":274082184,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDA4MjE4NA==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-01-20T14:17:59Z","updated_at":"2017-01-20T14:17:59Z","author_association":"MEMBER","body":"> Plugins needs to have a better contract probably as for now you can use whatever class you want from elasticsearch (the server).\r\n\r\nWe have been working on clarifying the plugins api, as opposed to allowing plugins to extend pretty much anything. That has already improved a lot and allows us to break much less stuff for plugins. We also introduced the `breaking-java` label to highlight breaking changes for plugins.\r\n\r\nAs for the java api problems, we do have a low level REST client that doesn't depend on elasticsearch, but you need to write requests and read responses yourself, which is a bit too low level. We are working on a high level REST client that supports the same requests and responses that the java API supports, but that unfortunately means that it will still depend on the whole elasticsearch at least in the beginning, although it will send REST requests. See https://www.elastic.co/blog/state-of-the-official-elasticsearch-java-clients to know more.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/274163711","html_url":"https://github.com/elastic/elasticsearch/issues/22707#issuecomment-274163711","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22707","id":274163711,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NDE2MzcxMQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-01-20T19:51:22Z","updated_at":"2017-01-20T20:35:25Z","author_association":"MEMBER","body":"In decreasing order of stability:\r\n - the REST API\r\n - the transport client API\r\n - the plugins API\r\n\r\nThe REST API is sacred, we are careful about deprecating, providing warning headers and logging, and removing only when appropriate.\r\n\r\nThe transport client API is fairly stable these days, but we do reserve the right to break it in minor releases (this happens rarely). This API will eventually be deprecated and completely removed. Related to this, APIs that support the transport client API are more likely to be stable than not, but change can happen here too and we try to document them.\r\n\r\nWe are working towards a stable plugins API, but we have a long way to go there. When this API is stable, we will provide a reasonable deprecation policy.\r\n\r\nBeyond this, we reserve the right to break any accessible method on any public class at any time. Elasticsearch is not a general library, the above APIs are intended to the ones for public consumption, everything else is internal implementation details.\r\n\r\nSomeday we will be able to provide clear delineation between the above APIs and the APIs that we intend to be internal only. Until then, the above guidance is what we have to offer.\r\n\r\n","performed_via_github_app":null}]