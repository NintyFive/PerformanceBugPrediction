{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/2666","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2666/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2666/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2666/events","html_url":"https://github.com/elastic/elasticsearch/issues/2666","id":11157620,"node_id":"MDU6SXNzdWUxMTE1NzYyMA==","number":2666,"title":"Index templates in conf directory are not parsed properly","user":{"login":"jbrook","id":861705,"node_id":"MDQ6VXNlcjg2MTcwNQ==","avatar_url":"https://avatars1.githubusercontent.com/u/861705?v=4","gravatar_id":"","url":"https://api.github.com/users/jbrook","html_url":"https://github.com/jbrook","followers_url":"https://api.github.com/users/jbrook/followers","following_url":"https://api.github.com/users/jbrook/following{/other_user}","gists_url":"https://api.github.com/users/jbrook/gists{/gist_id}","starred_url":"https://api.github.com/users/jbrook/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbrook/subscriptions","organizations_url":"https://api.github.com/users/jbrook/orgs","repos_url":"https://api.github.com/users/jbrook/repos","events_url":"https://api.github.com/users/jbrook/events{/privacy}","received_events_url":"https://api.github.com/users/jbrook/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2013-02-19T15:30:35Z","updated_at":"2013-02-25T19:24:39Z","closed_at":"2013-02-25T19:24:39Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"I am trying to get index templates working properly but I want to include them in my configuration. I have added lots of logging to the code and I see the following:\n1. When I index something that should match a template I see ES go looking for matching templates. However none ever match.\n2. All template objects return null when calling the template method.\n\nThe cause of the problem seems to be the parsing in the \"fromXContent()\" method in \"IndexTemplateMetadata.Builder\". The field it starts with is the template name but it proceeds to the next token without storing it in the template object that is being built.\n\nDuplicating the \"template\" field makes it work:\n\n```\n{\n    \"template\" : \"my_template\",\n    \"order\" : 2,\n    \"template\" : \"my_template\",\n    \"settings\" : {\n    ...\n```\n","closed_by":{"login":"jbrook","id":861705,"node_id":"MDQ6VXNlcjg2MTcwNQ==","avatar_url":"https://avatars1.githubusercontent.com/u/861705?v=4","gravatar_id":"","url":"https://api.github.com/users/jbrook","html_url":"https://github.com/jbrook","followers_url":"https://api.github.com/users/jbrook/followers","following_url":"https://api.github.com/users/jbrook/following{/other_user}","gists_url":"https://api.github.com/users/jbrook/gists{/gist_id}","starred_url":"https://api.github.com/users/jbrook/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbrook/subscriptions","organizations_url":"https://api.github.com/users/jbrook/orgs","repos_url":"https://api.github.com/users/jbrook/repos","events_url":"https://api.github.com/users/jbrook/events{/privacy}","received_events_url":"https://api.github.com/users/jbrook/received_events","type":"User","site_admin":false},"performed_via_github_app":null}