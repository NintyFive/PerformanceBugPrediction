{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/28363","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28363/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28363/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28363/events","html_url":"https://github.com/elastic/elasticsearch/issues/28363","id":291292834,"node_id":"MDU6SXNzdWUyOTEyOTI4MzQ=","number":28363,"title":"Documentation of section \"Limiting the number of nested fields\" is not understandable and it is an important topic","user":{"login":"alexmorosmarco","id":6208352,"node_id":"MDQ6VXNlcjYyMDgzNTI=","avatar_url":"https://avatars2.githubusercontent.com/u/6208352?v=4","gravatar_id":"","url":"https://api.github.com/users/alexmorosmarco","html_url":"https://github.com/alexmorosmarco","followers_url":"https://api.github.com/users/alexmorosmarco/followers","following_url":"https://api.github.com/users/alexmorosmarco/following{/other_user}","gists_url":"https://api.github.com/users/alexmorosmarco/gists{/gist_id}","starred_url":"https://api.github.com/users/alexmorosmarco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexmorosmarco/subscriptions","organizations_url":"https://api.github.com/users/alexmorosmarco/orgs","repos_url":"https://api.github.com/users/alexmorosmarco/repos","events_url":"https://api.github.com/users/alexmorosmarco/events{/privacy}","received_events_url":"https://api.github.com/users/alexmorosmarco/received_events","type":"User","site_admin":false},"labels":[{"id":141145460,"node_id":"MDU6TGFiZWwxNDExNDU0NjA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Mapping","name":":Search/Mapping","color":"0e8a16","default":false,"description":"How fields should be indexed"},{"id":23715,"node_id":"MDU6TGFiZWwyMzcxNQ==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Edocs","name":">docs","color":"db755e","default":false,"description":"General docs changes"}],"state":"closed","locked":false,"assignee":{"login":"jtibshirani","id":7461306,"node_id":"MDQ6VXNlcjc0NjEzMDY=","avatar_url":"https://avatars3.githubusercontent.com/u/7461306?v=4","gravatar_id":"","url":"https://api.github.com/users/jtibshirani","html_url":"https://github.com/jtibshirani","followers_url":"https://api.github.com/users/jtibshirani/followers","following_url":"https://api.github.com/users/jtibshirani/following{/other_user}","gists_url":"https://api.github.com/users/jtibshirani/gists{/gist_id}","starred_url":"https://api.github.com/users/jtibshirani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtibshirani/subscriptions","organizations_url":"https://api.github.com/users/jtibshirani/orgs","repos_url":"https://api.github.com/users/jtibshirani/repos","events_url":"https://api.github.com/users/jtibshirani/events{/privacy}","received_events_url":"https://api.github.com/users/jtibshirani/received_events","type":"User","site_admin":false},"assignees":[{"login":"jtibshirani","id":7461306,"node_id":"MDQ6VXNlcjc0NjEzMDY=","avatar_url":"https://avatars3.githubusercontent.com/u/7461306?v=4","gravatar_id":"","url":"https://api.github.com/users/jtibshirani","html_url":"https://github.com/jtibshirani","followers_url":"https://api.github.com/users/jtibshirani/followers","following_url":"https://api.github.com/users/jtibshirani/following{/other_user}","gists_url":"https://api.github.com/users/jtibshirani/gists{/gist_id}","starred_url":"https://api.github.com/users/jtibshirani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtibshirani/subscriptions","organizations_url":"https://api.github.com/users/jtibshirani/orgs","repos_url":"https://api.github.com/users/jtibshirani/repos","events_url":"https://api.github.com/users/jtibshirani/events{/privacy}","received_events_url":"https://api.github.com/users/jtibshirani/received_events","type":"User","site_admin":false}],"milestone":null,"comments":4,"created_at":"2018-01-24T17:23:32Z","updated_at":"2019-05-30T18:02:40Z","closed_at":"2019-05-30T18:02:39Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"\r\n<!-- Bug report -->\r\n\r\n**Elasticsearch version** (`bin/elasticsearch --version`): 2.4 and all the following ones\r\n\r\n**Plugins installed**: []\r\n\r\n**JVM version** (`java -version`):\r\n\r\n**OS version** (`uname -a` if on a Unix-like system):\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\nHi, I write because i think there is an important part of the documentation that I see really weak because I think the explanation is not good enough to understand it and it is an important topic.\r\nI am talking about the section \"Limiting the number of nested fields\" of the documentation (https://www.elastic.co/guide/en/elasticsearch/reference/6.1/nested.html#_limiting_the_number_of_literal_nested_literal_fields).\r\nLet's take into account the given example having an array named `user`, defined with `nested` datatype, that can have user **objects** inside.\r\n\r\nIt mentions that **Indexing a document with 100 nested fields actually indexes 101 documents as each nested document is indexed as a separate document.**.\r\nWhat does that sentence mean with \"100 nested fields\"?\r\n* is it talking about a case where we would have 100 **arrays** like `user`, `car` and any other arrays?\r\n* or is it talking about having 100 user **objects** inside the array `user`?\r\n\r\nIt also mentions **To safeguard against ill-defined mappings the number of nested fields that can be defined per index has been limited to 50**.\r\nWhat does that sentence mean?\r\n* is it talking about that we can only define 50 arrays as `nested` datatype in a document?\r\n* or about that inside an array defined as `nested` we can only have 50 **objects**?\r\n* In addition, taking into account that this is the documentation of the `nested` datatype, I think it should explain that the 50 default value is stored in the property `index.mapping.nested_fields.limit`.\r\n\r\nPlease could you answer my question and also explain better this topic in the documentation? Maybe solving those doubts and also writing some examples would be fine.\r\nI see the same problem in the documentation of ElasticSearch 2.4, could you also improve it?\r\n\r\nAs an extra, in the documentation of ElasticSearch 2.4 I do not see any reference in the Mappings documentation that explains about the `index.mapping.nested_fields.limit` parameter.\r\nCouldn't be described somewhere? I first searched for it in the \"Index Modules\" docu and then in the \"Mappings\" docu but without luck.\r\n\r\nThanks a lot!\r\n","closed_by":{"login":"jtibshirani","id":7461306,"node_id":"MDQ6VXNlcjc0NjEzMDY=","avatar_url":"https://avatars3.githubusercontent.com/u/7461306?v=4","gravatar_id":"","url":"https://api.github.com/users/jtibshirani","html_url":"https://github.com/jtibshirani","followers_url":"https://api.github.com/users/jtibshirani/followers","following_url":"https://api.github.com/users/jtibshirani/following{/other_user}","gists_url":"https://api.github.com/users/jtibshirani/gists{/gist_id}","starred_url":"https://api.github.com/users/jtibshirani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtibshirani/subscriptions","organizations_url":"https://api.github.com/users/jtibshirani/orgs","repos_url":"https://api.github.com/users/jtibshirani/repos","events_url":"https://api.github.com/users/jtibshirani/events{/privacy}","received_events_url":"https://api.github.com/users/jtibshirani/received_events","type":"User","site_admin":false},"performed_via_github_app":null}