{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/3119","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3119/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3119/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3119/events","html_url":"https://github.com/elastic/elasticsearch/issues/3119","id":14943640,"node_id":"MDU6SXNzdWUxNDk0MzY0MA==","number":3119,"title":"Percolation of big documents fails in 0.90.0","user":{"login":"fxh","id":1321090,"node_id":"MDQ6VXNlcjEzMjEwOTA=","avatar_url":"https://avatars0.githubusercontent.com/u/1321090?v=4","gravatar_id":"","url":"https://api.github.com/users/fxh","html_url":"https://github.com/fxh","followers_url":"https://api.github.com/users/fxh/followers","following_url":"https://api.github.com/users/fxh/following{/other_user}","gists_url":"https://api.github.com/users/fxh/gists{/gist_id}","starred_url":"https://api.github.com/users/fxh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fxh/subscriptions","organizations_url":"https://api.github.com/users/fxh/orgs","repos_url":"https://api.github.com/users/fxh/repos","events_url":"https://api.github.com/users/fxh/events{/privacy}","received_events_url":"https://api.github.com/users/fxh/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2013-05-30T14:40:09Z","updated_at":"2013-07-15T23:45:45Z","closed_at":"2013-05-30T15:04:41Z","author_association":"NONE","active_lock_reason":null,"body":"Percolation of documents larger than 32766 bytes fails in ES 0.90.0 with the following Exception. While doing the same with ES 0.20.5 still worked.\n\n```\n2013-05-30 00:04:37,275][DEBUG][action.percolate         ] [auto] failed to execute [org.elasticsearch.action.percolate.PercolateRequest@1c3fcd07]\njava.lang.RuntimeException: org.apache.lucene.util.BytesRefHash$MaxBytesLengthExceededException: bytes can be at most 32766 in length; got 39747\n        at org.apache.lucene.index.memory.MemoryIndex.addField(MemoryIndex.java:466)\n        at org.apache.lucene.index.memory.MemoryIndex.addField(MemoryIndex.java:372)\n        at org.elasticsearch.index.percolator.PercolatorExecutor.percolate(PercolatorExecutor.java:450)\n        at org.elasticsearch.index.percolator.PercolatorExecutor.percolate(PercolatorExecutor.java:422)\n        at org.elasticsearch.index.percolator.PercolatorService.percolate(PercolatorService.java:111)\n        at org.elasticsearch.action.percolate.TransportPercolateAction.shardOperation(TransportPercolateAction.java:93)\n        at org.elasticsearch.action.percolate.TransportPercolateAction.shardOperation(TransportPercolateAction.java:41)\n        at org.elasticsearch.action.support.single.custom.TransportSingleCustomOperationAction$AsyncSingleAction$2.run(TransportSingleCustomOperationAction.java:175)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n        at java.lang.Thread.run(Thread.java:722)\nCaused by: org.apache.lucene.util.BytesRefHash$MaxBytesLengthExceededException: bytes can be at most 32766 in length; got 39747\n        at org.apache.lucene.util.BytesRefHash.add(BytesRefHash.java:323)\n        at org.apache.lucene.util.BytesRefHash.add(BytesRefHash.java:271)\n        at org.apache.lucene.index.memory.MemoryIndex.addField(MemoryIndex.java:440)\n        ... 10 more\n```\n","closed_by":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"performed_via_github_app":null}