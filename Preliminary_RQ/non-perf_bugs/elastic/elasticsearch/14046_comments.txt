[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/147544418","html_url":"https://github.com/elastic/elasticsearch/issues/14046#issuecomment-147544418","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14046","id":147544418,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NzU0NDQxOA==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2015-10-12T23:01:55Z","updated_at":"2015-10-12T23:01:55Z","author_association":"MEMBER","body":"When I discussed this with @jpountz we talked about potentially adding this to the constructor of `AggregatorBase` to increment when it is created (since we can get the breaker from the aggregation context) and decrement it in the `close` method, which I think is a neat idea to try.\n\nPart of this would be determining the \"weight\" of a single `AggregatorBase`, then we could have a separate `BucketBreaker` where the `overhead` could be tuned for specific use cases (as a mulitplier of the class size).\n\nThoughts and heap dumps welcome :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/151979423","html_url":"https://github.com/elastic/elasticsearch/issues/14046#issuecomment-151979423","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14046","id":151979423,"node_id":"MDEyOklzc3VlQ29tbWVudDE1MTk3OTQyMw==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2015-10-28T20:25:10Z","updated_at":"2015-10-28T20:25:10Z","author_association":"MEMBER","body":"If anyone is curious about this, I'm working on a branch with it here: https://github.com/elastic/elasticsearch/compare/master...dakrone:bucket-circuit-breaker\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/235066887","html_url":"https://github.com/elastic/elasticsearch/issues/14046#issuecomment-235066887","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14046","id":235066887,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTA2Njg4Nw==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2016-07-25T20:01:25Z","updated_at":"2016-07-25T20:01:25Z","author_association":"MEMBER","body":"Closed by https://github.com/elastic/elasticsearch/pull/19394\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/243341863","html_url":"https://github.com/elastic/elasticsearch/issues/14046#issuecomment-243341863","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14046","id":243341863,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MzM0MTg2Mw==","user":{"login":"haizaar","id":58201,"node_id":"MDQ6VXNlcjU4MjAx","avatar_url":"https://avatars1.githubusercontent.com/u/58201?v=4","gravatar_id":"","url":"https://api.github.com/users/haizaar","html_url":"https://github.com/haizaar","followers_url":"https://api.github.com/users/haizaar/followers","following_url":"https://api.github.com/users/haizaar/following{/other_user}","gists_url":"https://api.github.com/users/haizaar/gists{/gist_id}","starred_url":"https://api.github.com/users/haizaar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haizaar/subscriptions","organizations_url":"https://api.github.com/users/haizaar/orgs","repos_url":"https://api.github.com/users/haizaar/repos","events_url":"https://api.github.com/users/haizaar/events{/privacy}","received_events_url":"https://api.github.com/users/haizaar/received_events","type":"User","site_admin":false},"created_at":"2016-08-30T06:06:24Z","updated_at":"2016-08-30T06:06:24Z","author_association":"NONE","body":"Will this circuit breaker prevent me from running aggregation that returns zillion buckets? Like generating histogram on file size metrics with step of 5, which can easily result in trillion buckets.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/243493219","html_url":"https://github.com/elastic/elasticsearch/issues/14046#issuecomment-243493219","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14046","id":243493219,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MzQ5MzIxOQ==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2016-08-30T16:12:48Z","updated_at":"2016-08-30T16:12:48Z","author_association":"MEMBER","body":"@haizaar that's the intention, yes\n","performed_via_github_app":null}]