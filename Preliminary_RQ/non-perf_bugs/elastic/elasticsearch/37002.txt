{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/37002","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37002/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37002/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37002/events","html_url":"https://github.com/elastic/elasticsearch/issues/37002","id":394373796,"node_id":"MDU6SXNzdWUzOTQzNzM3OTY=","number":37002,"title":"Docs PR builds fail on old branches","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"labels":[{"id":106454670,"node_id":"MDU6TGFiZWwxMDY0NTQ2NzA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Build","name":":Delivery/Build","color":"0e8a16","default":false,"description":"Build or test infrastructure"},{"id":937298316,"node_id":"MDU6TGFiZWw5MzcyOTgzMTY=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Docs","name":":Docs","color":"0e8a16","default":false,"description":"Docs infrastructure (not general docs changes)"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2018-12-27T11:45:14Z","updated_at":"2020-11-11T21:49:58Z","closed_at":"2019-02-01T10:41:06Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"In #36999 I tried to open a docs PR against the 6.3 branch, but this failed the `oss-distro-docs` check for various reasons like the following:\r\n\r\n```\r\n  1> [2018-12-27T08:07:24,619][INFO ][o.e.s.DocsClientYamlTestSuiteIT] [test {yaml=reference/licensing/get-trial-status/line_40}]: before test\r\n  1> [2018-12-27T08:07:24,624][INFO ][o.e.s.DocsClientYamlTestSuiteIT] Stash dump on test failure [{\r\n  1>   \"stash\" : {\r\n  1>     \"body\" : {\r\n  1>       \"error\" : {\r\n  1>         \"root_cause\" : [\r\n  1>           {\r\n  1>             \"type\" : \"index_not_found_exception\",\r\n  1>             \"reason\" : \"no such index\",\r\n  1>             \"resource.type\" : \"index_expression\",\r\n  1>             \"resource.id\" : \"_xpack\",\r\n  1>             \"index_uuid\" : \"_na_\",\r\n  1>             \"index\" : \"_xpack\",\r\n  1>             \"stack_trace\" : \"[_xpack] IndexNotFoundException[no such index]\r\n  1> \tat org.elasticsearch.cluster.metadata.IndexNameExpressionResolver.concreteIndices(IndexNameExpressionResolver.java:182)\r\n  1> \tat org.elasticsearch.cluster.metadata.IndexNameExpressionResolver.concreteIndices(IndexNameExpressionResolver.java:121)\r\n  1> \tat org.elasticsearch.cluster.metadata.IndexNameExpressionResolver.concreteSingleIndex(IndexNameExpressionResolver.java:251)\r\n  1> \tat org.elasticsearch.action.support.single.shard.TransportSingleShardAction$AsyncSingleAction.<init>(TransportSingleShardAction.java:146)\r\n  1> \tat org.elasticsearch.action.support.single.shard.TransportSingleShardAction$AsyncSingleAction.<init>(TransportSingleShardAction.java:123)\r\n  1> \tat org.elasticsearch.action.support.single.shard.TransportSingleShardAction.doExecute(TransportSingleShardAction.java:95)\r\n  1> \tat org.elasticsearch.action.support.single.shard.TransportSingleShardAction.doExecute(TransportSingleShardAction.java:59)\r\n  1> \tat org.elasticsearch.action.support.TransportAction.doExecute(TransportAction.java:143)\r\n  1> \tat org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:167)\r\n  1> \tat org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:139)\r\n  1> \tat org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:81)\r\n  1> \tat org.elasticsearch.client.node.NodeClient.executeLocally(NodeClient.java:87)\r\n  1> \tat org.elasticsearch.client.node.NodeClient.doExecute(NodeClient.java:76)\r\n  1> \tat org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:405)\r\n  1> \tat org.elasticsearch.client.support.AbstractClient.get(AbstractClient.java:497)\r\n  1> \tat org.elasticsearch.rest.action.document.RestGetAction.lambda$prepareRequest$0(RestGetAction.java:81)\r\n  1> \tat org.elasticsearch.rest.BaseRestHandler.handleRequest(BaseRestHandler.java:97)\r\n  1> \tat org.elasticsearch.rest.RestController.dispatchRequest(RestController.java:239)\r\n  1> \tat org.elasticsearch.rest.RestController.tryAllHandlers(RestController.java:335)\r\n  1> \tat org.elasticsearch.rest.RestController.dispatchRequest(RestController.java:173)\r\n  1> \tat org.elasticsearch.http.netty4.Netty4HttpServerTransport.dispatchRequest(Netty4HttpServerTransport.java:503)\r\n  2> REPRODUCE WITH: ./gradlew :docs:integTestRunner -Dtests.seed=D7B0CE006562FFB6 -Dtests.class=org.elasticsearch.smoketest.DocsClientYamlTestSuiteIT -Dtests.method=\"test {yaml=reference/licensing/get-trial-status/line_40}\" -Dtests.security.manager=true -Dtests.locale=mk -Dtests.timezone=America/Argentina/Ushuaia -Dtests.distribution=oss-zip\r\n```\r\n\r\nNot sure if this is to be expected or not, and if it is expected I'm also not sure how (or even whether) we should make changes to old docs like this.","closed_by":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"performed_via_github_app":null}