[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/276325172","html_url":"https://github.com/elastic/elasticsearch/issues/22860#issuecomment-276325172","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22860","id":276325172,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjMyNTE3Mg==","user":{"login":"martinscholz83","id":19551763,"node_id":"MDQ6VXNlcjE5NTUxNzYz","avatar_url":"https://avatars0.githubusercontent.com/u/19551763?v=4","gravatar_id":"","url":"https://api.github.com/users/martinscholz83","html_url":"https://github.com/martinscholz83","followers_url":"https://api.github.com/users/martinscholz83/followers","following_url":"https://api.github.com/users/martinscholz83/following{/other_user}","gists_url":"https://api.github.com/users/martinscholz83/gists{/gist_id}","starred_url":"https://api.github.com/users/martinscholz83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinscholz83/subscriptions","organizations_url":"https://api.github.com/users/martinscholz83/orgs","repos_url":"https://api.github.com/users/martinscholz83/repos","events_url":"https://api.github.com/users/martinscholz83/events{/privacy}","received_events_url":"https://api.github.com/users/martinscholz83/received_events","type":"User","site_admin":false},"created_at":"2017-01-31T10:16:28Z","updated_at":"2017-01-31T10:16:28Z","author_association":"CONTRIBUTOR","body":"Something like `node/cluster.whitelist` which is initialized at startup?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/276340317","html_url":"https://github.com/elastic/elasticsearch/issues/22860#issuecomment-276340317","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22860","id":276340317,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjM0MDMxNw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2017-01-31T11:31:02Z","updated_at":"2017-01-31T11:31:02Z","author_association":"CONTRIBUTOR","body":"It'd be settings in the conf.yaml (like the whitelists today)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/276342198","html_url":"https://github.com/elastic/elasticsearch/issues/22860#issuecomment-276342198","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22860","id":276342198,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjM0MjE5OA==","user":{"login":"martinscholz83","id":19551763,"node_id":"MDQ6VXNlcjE5NTUxNzYz","avatar_url":"https://avatars0.githubusercontent.com/u/19551763?v=4","gravatar_id":"","url":"https://api.github.com/users/martinscholz83","html_url":"https://github.com/martinscholz83","followers_url":"https://api.github.com/users/martinscholz83/followers","following_url":"https://api.github.com/users/martinscholz83/following{/other_user}","gists_url":"https://api.github.com/users/martinscholz83/gists{/gist_id}","starred_url":"https://api.github.com/users/martinscholz83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinscholz83/subscriptions","organizations_url":"https://api.github.com/users/martinscholz83/orgs","repos_url":"https://api.github.com/users/martinscholz83/repos","events_url":"https://api.github.com/users/martinscholz83/events{/privacy}","received_events_url":"https://api.github.com/users/martinscholz83/received_events","type":"User","site_admin":false},"created_at":"2017-01-31T11:41:20Z","updated_at":"2017-01-31T11:41:20Z","author_association":"CONTRIBUTOR","body":"So there should be 3 tasks\r\n\r\n1. Create this Setting\r\n\r\n1. Change existing services to use this  setting\r\n\r\n1. Make it available for Plugins (S3, Azure, ...)\r\n\r\nWhat about the naming of this setting `node[or]cluster.whitelist`?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/276361909","html_url":"https://github.com/elastic/elasticsearch/issues/22860#issuecomment-276361909","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22860","id":276361909,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjM2MTkwOQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2017-01-31T13:25:09Z","updated_at":"2017-01-31T13:25:09Z","author_association":"CONTRIBUTOR","body":"I'm not sure about the name. One other task is to pull the whitelist\nchecking code to a common spot. I think we want the checking in reindex\napplied to all the places where you can configure a URL over the API.\n\nOn Tue, Jan 31, 2017, 6:41 AM Martin Scholz <notifications@github.com>\nwrote:\n\n> So there should be 3 tasks\n>\n>    1.\n>\n>    Create this Setting\n>    2.\n>\n>    Change existing services to use this setting\n>    3.\n>\n>    Make it available for Plugins (S3, Azure, ...)\n>\n> What about the naming of this setting node[or]cluster.whitelist?\n>\n> â€”\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/elastic/elasticsearch/issues/22860#issuecomment-276342198>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AANLoolEEk4jNDb_1WCyRJuJGs7VSA4Cks5rXx3jgaJpZM4LxYtB>\n> .\n>\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/276368457","html_url":"https://github.com/elastic/elasticsearch/issues/22860#issuecomment-276368457","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22860","id":276368457,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjM2ODQ1Nw==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2017-01-31T13:54:20Z","updated_at":"2017-01-31T13:55:15Z","author_association":"MEMBER","body":"I'm unsure about whitelisting in a global place for all the plugins TBH.\r\n\r\nLet say I need to access:\r\n\r\n* `http://foo.com` URL repo\r\n* `/path/to` Shared FS\r\n* `foo.bar` S3 bucket\r\n* `foo.bar/container` Azure container\r\n* `/hdfsservice/foo/bar` HDFS repo\r\n\r\nWhat would the whitelist look like? Something like:\r\n\r\n```yml\r\ncluster.whitelist: [ \"http://foo.com\", \"/path/to\", \"foo.bar\", \"foo.bar/container\", \"/hdfsservice/foo/bar\" ]\r\n```\r\n\r\nI'm afraid we can mix settings which does not express the same kind of \"url\". \r\nLike what will happen to Shared FS repo if someone tries to create a repository under a `/hdfsservice/foo/bar` dir name?\r\n\r\nCan we think of something like:\r\n\r\n```yml\r\ncluster.whitelist: \r\n  url: [ \"http://foo.com\" ]\r\n  fs: [ \"/path/to\" ]\r\n  s3: [ \"foo.bar\" ]\r\n  azure: [ \"foo.bar/container\" ]\r\n  hdfs: [ \"/hdfsservice/foo/bar\" ]\r\n```\r\n\r\nWhere each plugin (or core repo) declares or not the settings if it needs to support it?\r\n\r\nOr we need to prefix each setting with its implementation name like `http:`, `s3:`, `azure:`...\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/276379047","html_url":"https://github.com/elastic/elasticsearch/issues/22860#issuecomment-276379047","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22860","id":276379047,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjM3OTA0Nw==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2017-01-31T14:35:03Z","updated_at":"2017-01-31T14:35:03Z","author_association":"CONTRIBUTOR","body":"I was thinking just URL whitelisting. I think we have enough URLs around to make that a thing.\r\n\r\nAre the other settings all things we configure over the API? I guess they are.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/276600678","html_url":"https://github.com/elastic/elasticsearch/issues/22860#issuecomment-276600678","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22860","id":276600678,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NjYwMDY3OA==","user":{"login":"martinscholz83","id":19551763,"node_id":"MDQ6VXNlcjE5NTUxNzYz","avatar_url":"https://avatars0.githubusercontent.com/u/19551763?v=4","gravatar_id":"","url":"https://api.github.com/users/martinscholz83","html_url":"https://github.com/martinscholz83","followers_url":"https://api.github.com/users/martinscholz83/followers","following_url":"https://api.github.com/users/martinscholz83/following{/other_user}","gists_url":"https://api.github.com/users/martinscholz83/gists{/gist_id}","starred_url":"https://api.github.com/users/martinscholz83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinscholz83/subscriptions","organizations_url":"https://api.github.com/users/martinscholz83/orgs","repos_url":"https://api.github.com/users/martinscholz83/repos","events_url":"https://api.github.com/users/martinscholz83/events{/privacy}","received_events_url":"https://api.github.com/users/martinscholz83/received_events","type":"User","site_admin":false},"created_at":"2017-02-01T08:33:48Z","updated_at":"2017-02-01T08:33:48Z","author_association":"CONTRIBUTOR","body":"I found that idea from @dadoonet nice to prefix each setting. This makes it a lot easier to separate and filter them. Is it ok to put this all into one PR?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/277254508","html_url":"https://github.com/elastic/elasticsearch/issues/22860#issuecomment-277254508","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22860","id":277254508,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NzI1NDUwOA==","user":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"created_at":"2017-02-03T14:08:02Z","updated_at":"2017-02-03T14:08:02Z","author_association":"CONTRIBUTOR","body":"We discussed this on Fixit Friday and had a concern: Having a centralised whitelist would provide less control over what each plugin can do. For example, you might want to allow reindexing from a remote address (i.e. only receive data from that remote address), but might not like to send your data there as part of a snapshot.","performed_via_github_app":null}]