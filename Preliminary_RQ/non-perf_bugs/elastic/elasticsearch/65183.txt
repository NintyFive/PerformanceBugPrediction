{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/65183","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/65183/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/65183/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/65183/events","html_url":"https://github.com/elastic/elasticsearch/issues/65183","id":745516354,"node_id":"MDU6SXNzdWU3NDU1MTYzNTQ=","number":65183,"title":"[CI] BasicWatcherTests testIndexWatchRegisterWatchBeforeTargetIndex failure","user":{"login":"davidkyle","id":2353640,"node_id":"MDQ6VXNlcjIzNTM2NDA=","avatar_url":"https://avatars1.githubusercontent.com/u/2353640?v=4","gravatar_id":"","url":"https://api.github.com/users/davidkyle","html_url":"https://github.com/davidkyle","followers_url":"https://api.github.com/users/davidkyle/followers","following_url":"https://api.github.com/users/davidkyle/following{/other_user}","gists_url":"https://api.github.com/users/davidkyle/gists{/gist_id}","starred_url":"https://api.github.com/users/davidkyle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidkyle/subscriptions","organizations_url":"https://api.github.com/users/davidkyle/orgs","repos_url":"https://api.github.com/users/davidkyle/repos","events_url":"https://api.github.com/users/davidkyle/events{/privacy}","received_events_url":"https://api.github.com/users/davidkyle/received_events","type":"User","site_admin":false},"labels":[{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2020-11-18T10:05:40Z","updated_at":"2020-11-18T11:09:49Z","closed_at":"2020-11-18T11:09:49Z","author_association":"MEMBER","active_lock_reason":null,"body":"**Build scan**:\r\nhttps://gradle-enterprise.elastic.co/s/6jeri5ly52ake/console-log?task=:x-pack:plugin:watcher:internalClusterTest\r\n\r\n**Repro line**:\r\n```\r\n./gradlew ':x-pack:plugin:watcher:internalClusterTest' --tests \"org.elasticsearch.xpack.watcher.test.integration.BasicWatcherTests.testIndexWatchRegisterWatchBeforeTargetIndex\" \\\r\n  -Dtests.seed=405C7519967AF784 \\\r\n  -Dtests.security.manager=true \\\r\n  -Dtests.locale=es-MX \\\r\n  -Dtests.timezone=GMT \\\r\n  -Druntime.java=11\r\n```\r\n\r\n**Reproduces locally?**:\r\nNo\r\n\r\n**Applicable branches**:\r\nmaster\r\n\r\n**Failure history**:\r\nFailed intake build\r\n\r\n**Failure excerpt**:\r\n```\r\njava.lang.AssertionError: watch was triggered on [0] schedulers, expected [1]\r\nExpected: a value equal to or greater than <1L>\r\n     but: <0L> was less than <1L>\r\n\tat __randomizedtesting.SeedInfo.seed([405C7519967AF784:DB5980AB7F1F64EA]:0)\r\n\tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:18)\r\n\tat org.junit.Assert.assertThat(Assert.java:956)\r\n\tat org.elasticsearch.xpack.watcher.test.AbstractWatcherIntegrationTestCase$TimeWarp.trigger(AbstractWatcherIntegrationTestCase.java:606)\r\n\tat org.elasticsearch.xpack.watcher.test.AbstractWatcherIntegrationTestCase$TimeWarp.trigger(AbstractWatcherIntegrationTestCase.java:591)\r\n\tat org.elasticsearch.xpack.watcher.test.integration.BasicWatcherTests.testIndexWatchRegisterWatchBeforeTargetIndex(BasicWatcherTests.java:97)\r\n```\r\n\r\n","closed_by":{"login":"probakowski","id":3896475,"node_id":"MDQ6VXNlcjM4OTY0NzU=","avatar_url":"https://avatars1.githubusercontent.com/u/3896475?v=4","gravatar_id":"","url":"https://api.github.com/users/probakowski","html_url":"https://github.com/probakowski","followers_url":"https://api.github.com/users/probakowski/followers","following_url":"https://api.github.com/users/probakowski/following{/other_user}","gists_url":"https://api.github.com/users/probakowski/gists{/gist_id}","starred_url":"https://api.github.com/users/probakowski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/probakowski/subscriptions","organizations_url":"https://api.github.com/users/probakowski/orgs","repos_url":"https://api.github.com/users/probakowski/repos","events_url":"https://api.github.com/users/probakowski/events{/privacy}","received_events_url":"https://api.github.com/users/probakowski/received_events","type":"User","site_admin":false},"performed_via_github_app":null}