{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/14412","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14412/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14412/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14412/events","html_url":"https://github.com/elastic/elasticsearch/issues/14412","id":114394870,"node_id":"MDU6SXNzdWUxMTQzOTQ4NzA=","number":14412,"title":"`mvn clean package -DskipTests` fails due to forbidden-apis check on elasticsearch master branch.","user":{"login":"girirajsharma","id":3286152,"node_id":"MDQ6VXNlcjMyODYxNTI=","avatar_url":"https://avatars3.githubusercontent.com/u/3286152?v=4","gravatar_id":"","url":"https://api.github.com/users/girirajsharma","html_url":"https://github.com/girirajsharma","followers_url":"https://api.github.com/users/girirajsharma/followers","following_url":"https://api.github.com/users/girirajsharma/following{/other_user}","gists_url":"https://api.github.com/users/girirajsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/girirajsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/girirajsharma/subscriptions","organizations_url":"https://api.github.com/users/girirajsharma/orgs","repos_url":"https://api.github.com/users/girirajsharma/repos","events_url":"https://api.github.com/users/girirajsharma/events{/privacy}","received_events_url":"https://api.github.com/users/girirajsharma/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-10-31T07:37:43Z","updated_at":"2015-10-31T07:44:15Z","closed_at":"2015-10-31T07:44:15Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Following stacktrace is logged:\n\n```\n[INFO] --- forbiddenapis:2.0:check (check-forbidden-apis) @ elasticsearch ---\n[INFO] Scanning for classes to check...\n[INFO] Reading bundled API signatures: jdk-unsafe-1.8\n[INFO] Reading bundled API signatures: jdk-deprecated-1.8\n[INFO] Reading bundled API signatures: jdk-system-out\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary:\n[INFO] \n[INFO] Build Tools and Resources ......................... SUCCESS [  0.894 s]\n[INFO] Rest API Specification ............................ SUCCESS [  0.219 s]\n[INFO] Elasticsearch: Parent POM ......................... SUCCESS [  3.978 s]\n[INFO] Elasticsearch: Core ............................... FAILURE [ 38.082 s]\n[INFO] Distribution: Parent POM .......................... SKIPPED\n[INFO] Distribution: TAR ................................. SKIPPED\n       ***[content trimmed]***\n[INFO] QA: Smoke Test Client ............................. SKIPPED\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 44.293 s\n[INFO] Finished at: 2015-10-31T12:37:22+05:30\n[INFO] Final Memory: 43M/708M\n[INFO] ------------------------------------------------------------------------\n```\n\n```\n[ERROR] Failed to execute goal de.thetaphi:forbiddenapis:2.0:check (check-forbidden-apis) on project elasticsearch: IO problem while reading files with API signatures. /home/giriraj/elastic/elasticsearch/core/target/dev-tools/forbidden/core-signatures.txt (No such file or directory) \n```\n\nIt seems that the check `[forbidden-apis] Reading API signatures` is failing,\n\n```\nâžœ ~ sudo update-alternatives --config java\n[sudo] password for giriraj: \nThere are 2 choices for the alternative java (providing /usr/bin/java).\n  Selection    Path                                            Priority           Status\n---------------------------------------------------------------------------------------\n  0            /usr/lib/jvm/java-8-oracle/jre/bin/java   2         auto mode\n* 1            /usr/lib/jvm/java-7-oracle/jre/bin/java   1         manual mode\n  2            /usr/lib/jvm/java-8-oracle/jre/bin/java   2         manual mode\n```\n\nforbidden-apis check fails in case of both java-8-oracle as well as java-7-oracle.\n","closed_by":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"performed_via_github_app":null}