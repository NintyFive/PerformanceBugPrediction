{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/24302","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24302/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24302/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24302/events","html_url":"https://github.com/elastic/elasticsearch/issues/24302","id":224020275,"node_id":"MDU6SXNzdWUyMjQwMjAyNzU=","number":24302,"title":"[feature request] Is it necessary to add a quick recovery configuration item like \"indices.recovery.fast\"","user":{"login":"johnyannj","id":8110450,"node_id":"MDQ6VXNlcjgxMTA0NTA=","avatar_url":"https://avatars3.githubusercontent.com/u/8110450?v=4","gravatar_id":"","url":"https://api.github.com/users/johnyannj","html_url":"https://github.com/johnyannj","followers_url":"https://api.github.com/users/johnyannj/followers","following_url":"https://api.github.com/users/johnyannj/following{/other_user}","gists_url":"https://api.github.com/users/johnyannj/gists{/gist_id}","starred_url":"https://api.github.com/users/johnyannj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnyannj/subscriptions","organizations_url":"https://api.github.com/users/johnyannj/orgs","repos_url":"https://api.github.com/users/johnyannj/repos","events_url":"https://api.github.com/users/johnyannj/events{/privacy}","received_events_url":"https://api.github.com/users/johnyannj/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2017-04-25T04:48:32Z","updated_at":"2017-04-27T11:34:35Z","closed_at":"2017-04-25T07:39:41Z","author_association":"NONE","active_lock_reason":null,"body":"when shard become very large,   restart one cluster will waste too much time, \r\n\r\nI know the primary shard become started is very fast.\r\n\r\nbut the cluster become green from yellow is very slow, become  replica shard need recovery：\r\n\r\nEspecially the first phase of recovery.\r\n\r\nSometimes we need fast recovery services, not too concerned about data consistency。\r\n\r\nI recommend adding a configuration item: “indices.recovery.fast”， which can be dynamically modified。\r\n\r\nThen we can skip first phase of recovery~~\r\n\r\n\r\norg.elasticsearch.indices.recovery.RecoverySourceHandler\r\n```\r\npublic void phase1(final SnapshotIndexCommit snapshot) throws ElasticsearchException{\r\n......\r\n//add one fast recovery  branch\r\n if (recoverySettings.fast() && !request.markAsRelocated()) {\r\n                \r\n......\r\n                \r\n            } else if (recoverWithSyncId) {\r\n             \r\n......\r\n            } else {\r\n......\r\n}\r\n```\r\n \r\n\r\n\r\n\r\n\r\n\r\n","closed_by":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"performed_via_github_app":null}