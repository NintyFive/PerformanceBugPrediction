{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/1865","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1865/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1865/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1865/events","html_url":"https://github.com/elastic/elasticsearch/issues/1865","id":4148647,"node_id":"MDU6SXNzdWU0MTQ4NjQ3","number":1865,"title":"NullPointerException in geo_distance_range without to","user":{"login":"phoet","id":48745,"node_id":"MDQ6VXNlcjQ4NzQ1","avatar_url":"https://avatars3.githubusercontent.com/u/48745?v=4","gravatar_id":"","url":"https://api.github.com/users/phoet","html_url":"https://github.com/phoet","followers_url":"https://api.github.com/users/phoet/followers","following_url":"https://api.github.com/users/phoet/following{/other_user}","gists_url":"https://api.github.com/users/phoet/gists{/gist_id}","starred_url":"https://api.github.com/users/phoet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phoet/subscriptions","organizations_url":"https://api.github.com/users/phoet/orgs","repos_url":"https://api.github.com/users/phoet/repos","events_url":"https://api.github.com/users/phoet/events{/privacy}","received_events_url":"https://api.github.com/users/phoet/received_events","type":"User","site_admin":false},"labels":[{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":2681337,"node_id":"MDU6TGFiZWwyNjgxMzM3","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v0.19.3","name":"v0.19.3","color":"DDDDDD","default":false,"description":null},{"id":232920,"node_id":"MDU6TGFiZWwyMzI5MjA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v0.20.0.RC1","name":"v0.20.0.RC1","color":"DDDDDD","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2012-04-17T08:01:48Z","updated_at":"2012-04-17T12:51:56Z","closed_at":"2012-04-17T12:51:56Z","author_association":"NONE","active_lock_reason":null,"body":"i was trying to use the `gt` options for the geo_distance_range filter like:\n\n``` json\n{\n  \"geo_distance_range\": {\n    \"gt\": \"50km\",\n    \"location\": {\n      \"lat\": \"51.16104233\",\n      \"lon\": \"7.42149815\"\n    }\n}\n```\n\nbut it seems that the `GeoDistanceRangeFilterParser` depends on a `to` being available:\n\n```\nCaused by: java.lang.NullPointerException\n  at org.elasticsearch.common.unit.DistanceUnit.parse(DistanceUnit.java:93)\n  at org.elasticsearch.index.query.GeoDistanceRangeFilterParser.parse(GeoDistanceRangeFilterParser.java:224)\n  at org.elasticsearch.index.query.QueryParseContext.parseInnerFilter(QueryParseContext.java:224)\n  at org.elasticsearch.index.query.AndFilterParser.parse(AndFilterParser.java:63)\n  at org.elasticsearch.index.query.QueryParseContext.parseInnerFilter(QueryParseContext.java:224)\n  at org.elasticsearch.index.query.ConstantScoreQueryParser.parse(ConstantScoreQueryParser.java:66)\n  at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:192)\n  at org.elasticsearch.index.query.BoolQueryParser.parse(BoolQueryParser.java:89)\n  at org.elasticsearch.index.query.QueryParseContext.parseInnerQuery(QueryParseContext.java:192)\n  at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:243)\n  at org.elasticsearch.index.query.IndexQueryParserService.parse(IndexQueryParserService.java:223)\n  at org.elasticsearch.search.query.QueryParseElement.parse(QueryParseElement.java:33)\n  at org.elasticsearch.search.SearchService.parseSource(SearchService.java:545)\n```\n","closed_by":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"performed_via_github_app":null}