[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/271354567","html_url":"https://github.com/elastic/elasticsearch/issues/22472#issuecomment-271354567","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22472","id":271354567,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MTM1NDU2Nw==","user":{"login":"scottsom","id":23276852,"node_id":"MDQ6VXNlcjIzMjc2ODUy","avatar_url":"https://avatars1.githubusercontent.com/u/23276852?v=4","gravatar_id":"","url":"https://api.github.com/users/scottsom","html_url":"https://github.com/scottsom","followers_url":"https://api.github.com/users/scottsom/followers","following_url":"https://api.github.com/users/scottsom/following{/other_user}","gists_url":"https://api.github.com/users/scottsom/gists{/gist_id}","starred_url":"https://api.github.com/users/scottsom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scottsom/subscriptions","organizations_url":"https://api.github.com/users/scottsom/orgs","repos_url":"https://api.github.com/users/scottsom/repos","events_url":"https://api.github.com/users/scottsom/events{/privacy}","received_events_url":"https://api.github.com/users/scottsom/received_events","type":"User","site_admin":false},"created_at":"2017-01-09T17:52:12Z","updated_at":"2017-01-09T17:52:12Z","author_association":"CONTRIBUTOR","body":"Any thoughts/concerns with this? @jpountz or @s1monw \r\n\r\nAlternatively, the API could just accept an actual template to make it more flexible:\r\n\r\n```json\r\n# POST /_aliases\r\n{\r\n  \"default_alias\" : {\r\n    \"index\": \"shared_v1\",\r\n    \"routing\": \"{{alias}}\",\r\n    \"filter\": {\r\n      \"term\": {\r\n        \"user_id\": \"{{alias}}\"\r\n      }\r\n    }\r\n  }\r\n}\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/272882911","html_url":"https://github.com/elastic/elasticsearch/issues/22472#issuecomment-272882911","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22472","id":272882911,"node_id":"MDEyOklzc3VlQ29tbWVudDI3Mjg4MjkxMQ==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2017-01-16T14:53:57Z","updated_at":"2017-01-16T14:53:57Z","author_association":"CONTRIBUTOR","body":"@clintongormley didn't we discuss this last friday, do you wanna comment?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/273126620","html_url":"https://github.com/elastic/elasticsearch/issues/22472#issuecomment-273126620","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22472","id":273126620,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MzEyNjYyMA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2017-01-17T12:31:18Z","updated_at":"2017-01-17T12:31:18Z","author_association":"CONTRIBUTOR","body":"HI @scottsom \r\n\r\nWe had a long discussion about this in our FixItFriday session.  First thing to note is that any application can add filtering and custom routing on top of Elasticsearch today, so there isn't a requirement for this to be implemented in Elasticsearch.\r\n\r\nSecond, we weren't crazy about the idea of a default alias, as most people use an Elasticsearch cluster for more than one purpose.  We thought about adding pattern matching for index names (eg `user_*` but that suddenly gets complicated (eg multiple matching patterns). \r\n\r\nWe also thought about the possibility of doing (eg): \r\n\r\n    PUT my_user|my_dynamic_alias/my_type/1\r\n\r\nIf the `my_user` index exists, then it'd be used, otherwise it'd fall back to plugging `my_user` into the `my_dynamic_alias` (along the lines of what you've suggested).\r\n\r\nThis of course complicates what gets logged etc\r\n\r\nAnother possibility was to have something like an ingest processor which could look up the destination for each request from an index.\r\n\r\nAll in all, we decided that this was a complicated feature, with a limited audience, with many knobs that users would want to twiddle in different ways, and which can be implemented application side.  As such, we're not going to go down this road.\r\n\r\nthanks anyway for the idea","performed_via_github_app":null}]