[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/294175335","html_url":"https://github.com/elastic/elasticsearch/issues/24104#issuecomment-294175335","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24104","id":294175335,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDE3NTMzNQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-04-14T15:34:44Z","updated_at":"2017-04-14T15:34:44Z","author_association":"MEMBER","body":"thanks for raising this @olcbean ! Indeed the Delete api is a no-op in case the index expression doesn't match any index. I think this is the intended behaviour, but it is odd that the default is lenient, as we throw an exception against a non existing concrete index, but we don't if an index expression doesn't match anything. That is because ignore_unavailable is set to `false` by default, while `allow_no_indices` is set to `true` by default. I think we should change that in 6.0.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/294175910","html_url":"https://github.com/elastic/elasticsearch/issues/24104#issuecomment-294175910","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24104","id":294175910,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDE3NTkxMA==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-04-14T15:37:52Z","updated_at":"2017-04-14T15:37:52Z","author_association":"MEMBER","body":"Feel free to send a PR @olcbean and ping me for review.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/294189770","html_url":"https://github.com/elastic/elasticsearch/issues/24104#issuecomment-294189770","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24104","id":294189770,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDE4OTc3MA==","user":{"login":"olcbean","id":26058559,"node_id":"MDQ6VXNlcjI2MDU4NTU5","avatar_url":"https://avatars3.githubusercontent.com/u/26058559?v=4","gravatar_id":"","url":"https://api.github.com/users/olcbean","html_url":"https://github.com/olcbean","followers_url":"https://api.github.com/users/olcbean/followers","following_url":"https://api.github.com/users/olcbean/following{/other_user}","gists_url":"https://api.github.com/users/olcbean/gists{/gist_id}","starred_url":"https://api.github.com/users/olcbean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/olcbean/subscriptions","organizations_url":"https://api.github.com/users/olcbean/orgs","repos_url":"https://api.github.com/users/olcbean/repos","events_url":"https://api.github.com/users/olcbean/events{/privacy}","received_events_url":"https://api.github.com/users/olcbean/received_events","type":"User","site_admin":false},"created_at":"2017-04-14T16:52:09Z","updated_at":"2017-04-14T16:52:09Z","author_association":"CONTRIBUTOR","body":"@javanna thanks :) \r\nI will change the delete to a no-op in both cases.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/294295476","html_url":"https://github.com/elastic/elasticsearch/issues/24104#issuecomment-294295476","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24104","id":294295476,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDI5NTQ3Ng==","user":{"login":"olcbean","id":26058559,"node_id":"MDQ6VXNlcjI2MDU4NTU5","avatar_url":"https://avatars3.githubusercontent.com/u/26058559?v=4","gravatar_id":"","url":"https://api.github.com/users/olcbean","html_url":"https://github.com/olcbean","followers_url":"https://api.github.com/users/olcbean/followers","following_url":"https://api.github.com/users/olcbean/following{/other_user}","gists_url":"https://api.github.com/users/olcbean/gists{/gist_id}","starred_url":"https://api.github.com/users/olcbean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/olcbean/subscriptions","organizations_url":"https://api.github.com/users/olcbean/orgs","repos_url":"https://api.github.com/users/olcbean/repos","events_url":"https://api.github.com/users/olcbean/events{/privacy}","received_events_url":"https://api.github.com/users/olcbean/received_events","type":"User","site_admin":false},"created_at":"2017-04-15T14:07:18Z","updated_at":"2017-04-15T14:07:18Z","author_association":"CONTRIBUTOR","body":"> I will change the delete to a no-op in both cases.\r\n\r\nErrr I meant to write exactly the opposite :)\r\n\r\nI will proceed to change the default for `allow_no_indices` to a `false` in 6.0, and also adjust `delete` not matching an index to\r\n - throw when `allow_no_indices` is false\r\n - become a no-op when `allow_no_indices` is true","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/294300935","html_url":"https://github.com/elastic/elasticsearch/issues/24104#issuecomment-294300935","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24104","id":294300935,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDMwMDkzNQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-04-15T15:42:21Z","updated_at":"2017-04-15T15:42:21Z","author_association":"MEMBER","body":"hey @olcbean the second part was about open/close rather than delete right?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/294311270","html_url":"https://github.com/elastic/elasticsearch/issues/24104#issuecomment-294311270","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24104","id":294311270,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDMxMTI3MA==","user":{"login":"olcbean","id":26058559,"node_id":"MDQ6VXNlcjI2MDU4NTU5","avatar_url":"https://avatars3.githubusercontent.com/u/26058559?v=4","gravatar_id":"","url":"https://api.github.com/users/olcbean","html_url":"https://github.com/olcbean","followers_url":"https://api.github.com/users/olcbean/followers","following_url":"https://api.github.com/users/olcbean/following{/other_user}","gists_url":"https://api.github.com/users/olcbean/gists{/gist_id}","starred_url":"https://api.github.com/users/olcbean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/olcbean/subscriptions","organizations_url":"https://api.github.com/users/olcbean/orgs","repos_url":"https://api.github.com/users/olcbean/repos","events_url":"https://api.github.com/users/olcbean/events{/privacy}","received_events_url":"https://api.github.com/users/olcbean/received_events","type":"User","site_admin":false},"created_at":"2017-04-15T18:48:32Z","updated_at":"2017-04-15T19:12:54Z","author_association":"CONTRIBUTOR","body":" Well, I thought for both:) Maybe I misunderstood you, @javanna. Let me elaborate a little bit.\r\n \r\nIf I just change the default for `allow_no_indices=false` then both `DELETE test` and `DELETE test*` will throw (ok) but\r\n`DELETE test?allow_no_indices=true` throws as\r\n`DELETE test*?allow_no_indices=true` will succeed.\r\n\r\n<s>So the change will simply push the inconsistency to appear only when the `allow_no_indices=true` is explicitly set.\r\n\r\nAm I missing something?</s>\r\n\r\nAs `allow_no_indices` is applied only if a wildcard is used, this is exactly the desired behavior! (The name of the param misled me)\r\nAnd as it is already a no-op for `delete`, no change is needed.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/294748178","html_url":"https://github.com/elastic/elasticsearch/issues/24104#issuecomment-294748178","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24104","id":294748178,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDc0ODE3OA==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-04-18T09:36:42Z","updated_at":"2017-04-18T09:36:42Z","author_association":"MEMBER","body":"sounds good @olcbean you got it :)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/298029425","html_url":"https://github.com/elastic/elasticsearch/issues/24104#issuecomment-298029425","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24104","id":298029425,"node_id":"MDEyOklzc3VlQ29tbWVudDI5ODAyOTQyNQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-04-28T15:28:31Z","updated_at":"2017-04-28T15:28:31Z","author_association":"MEMBER","body":"heya @olcbean as I said in the PR, while I was reviewing it I realized that it was going to break existing code and maybe we should rather adapt open/close to this behaviour. This also resulted from a discussion with @clintongormley . For this reason I closed the PR and I am going to close this as a won't fix. Once again, sorry about changing my mind and thanks for your help on this and other issues!","performed_via_github_app":null}]