[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/301668453","html_url":"https://github.com/elastic/elasticsearch/issues/24695#issuecomment-301668453","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24695","id":301668453,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMTY2ODQ1Mw==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2017-05-16T03:54:25Z","updated_at":"2017-05-16T03:54:25Z","author_association":"MEMBER","body":"There are two problems here. First, accessing a field within a doc must use the full field path. Ie, doc is not a map of maps, so if you have a doc containing `{ \"a\": { \"b\": \"value\"} }` you must use `doc['a.b'].value`. Second, nested fields are not supported within scripts (these are different documents in lucene, so cannot be accessed by the parent document).\r\n\r\nrelates #23719","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/301669746","html_url":"https://github.com/elastic/elasticsearch/issues/24695#issuecomment-301669746","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24695","id":301669746,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMTY2OTc0Ng==","user":{"login":"biggiesmallsAG","id":17421028,"node_id":"MDQ6VXNlcjE3NDIxMDI4","avatar_url":"https://avatars0.githubusercontent.com/u/17421028?v=4","gravatar_id":"","url":"https://api.github.com/users/biggiesmallsAG","html_url":"https://github.com/biggiesmallsAG","followers_url":"https://api.github.com/users/biggiesmallsAG/followers","following_url":"https://api.github.com/users/biggiesmallsAG/following{/other_user}","gists_url":"https://api.github.com/users/biggiesmallsAG/gists{/gist_id}","starred_url":"https://api.github.com/users/biggiesmallsAG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/biggiesmallsAG/subscriptions","organizations_url":"https://api.github.com/users/biggiesmallsAG/orgs","repos_url":"https://api.github.com/users/biggiesmallsAG/repos","events_url":"https://api.github.com/users/biggiesmallsAG/events{/privacy}","received_events_url":"https://api.github.com/users/biggiesmallsAG/received_events","type":"User","site_admin":false},"created_at":"2017-05-16T04:05:26Z","updated_at":"2017-05-16T04:10:17Z","author_association":"NONE","body":"Hi,\r\nOk, for my usecase, how do i iterate an object via a script to update the doc without overriding (or doing it manually in my python backend? My indicators_list array will always be nested (full of indicators).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/301676337","html_url":"https://github.com/elastic/elasticsearch/issues/24695#issuecomment-301676337","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24695","id":301676337,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMTY3NjMzNw==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2017-05-16T05:04:16Z","updated_at":"2017-05-16T05:04:16Z","author_association":"MEMBER","body":"@biggiesmallsAG Github is reserved for feature requests and confirmed bug reports. Please ask questions on [our forum](https://discuss.elastic.co).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/301797232","html_url":"https://github.com/elastic/elasticsearch/issues/24695#issuecomment-301797232","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24695","id":301797232,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMTc5NzIzMg==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2017-05-16T14:19:37Z","updated_at":"2017-05-16T14:19:37Z","author_association":"CONTRIBUTOR","body":"I think this is actually a bug:\r\n```\r\n      \"script_stack\": [],\r\n```\r\n\r\nIf there is an error we need to point you to where the error is.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/301933718","html_url":"https://github.com/elastic/elasticsearch/issues/24695#issuecomment-301933718","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24695","id":301933718,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMTkzMzcxOA==","user":{"login":"biggiesmallsAG","id":17421028,"node_id":"MDQ6VXNlcjE3NDIxMDI4","avatar_url":"https://avatars0.githubusercontent.com/u/17421028?v=4","gravatar_id":"","url":"https://api.github.com/users/biggiesmallsAG","html_url":"https://github.com/biggiesmallsAG","followers_url":"https://api.github.com/users/biggiesmallsAG/followers","following_url":"https://api.github.com/users/biggiesmallsAG/following{/other_user}","gists_url":"https://api.github.com/users/biggiesmallsAG/gists{/gist_id}","starred_url":"https://api.github.com/users/biggiesmallsAG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/biggiesmallsAG/subscriptions","organizations_url":"https://api.github.com/users/biggiesmallsAG/orgs","repos_url":"https://api.github.com/users/biggiesmallsAG/repos","events_url":"https://api.github.com/users/biggiesmallsAG/events{/privacy}","received_events_url":"https://api.github.com/users/biggiesmallsAG/received_events","type":"User","site_admin":false},"created_at":"2017-05-16T22:28:23Z","updated_at":"2017-05-16T22:28:23Z","author_association":"NONE","body":"agreed, at least a stack trace would be able to point to @rjernst explanation of nested fields not being supported. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/533902282","html_url":"https://github.com/elastic/elasticsearch/issues/24695#issuecomment-533902282","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24695","id":533902282,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzkwMjI4Mg==","user":{"login":"madguy02","id":8217234,"node_id":"MDQ6VXNlcjgyMTcyMzQ=","avatar_url":"https://avatars2.githubusercontent.com/u/8217234?v=4","gravatar_id":"","url":"https://api.github.com/users/madguy02","html_url":"https://github.com/madguy02","followers_url":"https://api.github.com/users/madguy02/followers","following_url":"https://api.github.com/users/madguy02/following{/other_user}","gists_url":"https://api.github.com/users/madguy02/gists{/gist_id}","starred_url":"https://api.github.com/users/madguy02/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/madguy02/subscriptions","organizations_url":"https://api.github.com/users/madguy02/orgs","repos_url":"https://api.github.com/users/madguy02/repos","events_url":"https://api.github.com/users/madguy02/events{/privacy}","received_events_url":"https://api.github.com/users/madguy02/received_events","type":"User","site_admin":false},"created_at":"2019-09-22T17:46:34Z","updated_at":"2019-09-22T17:47:54Z","author_association":"NONE","body":"@rjernst  sorry to mention you directly in the thread , but i am still wondering why does iterating a nested array of objects using\r\n```\r\nfor (int i=0;i<ctx._source.files.length;i++) {\r\n Debug.explain(ctx._source.files[i])\r\n}\r\n```\r\nthrows null pointer exception\r\nDoes elastic support this yet or i am going wrong somewhere\r\n\r\nNote :\r\n\r\nThis is on ES 6.7. Here `files` field is a nested field with multiple properties","performed_via_github_app":null}]