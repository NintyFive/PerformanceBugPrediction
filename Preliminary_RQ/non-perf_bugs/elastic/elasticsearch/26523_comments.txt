[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/327697733","html_url":"https://github.com/elastic/elasticsearch/issues/26523#issuecomment-327697733","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26523","id":327697733,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzY5NzczMw==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2017-09-07T06:13:54Z","updated_at":"2017-09-07T06:13:54Z","author_association":"MEMBER","body":"@isonil I suspect that the unexpected scores in this case is caused by the fact that these documents are spread across different shards, which makes ES unaware of the existing of some or all docs in the case when computing the score. Can you try with a single shard index or use the dfs_query_then_fetch search type? (https://www.elastic.co/guide/en/elasticsearch/reference/5.5/search-request-search-type.html#dfs-query-then-fetch)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/327948942","html_url":"https://github.com/elastic/elasticsearch/issues/26523#issuecomment-327948942","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26523","id":327948942,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNzk0ODk0Mg==","user":{"login":"isonil","id":8492408,"node_id":"MDQ6VXNlcjg0OTI0MDg=","avatar_url":"https://avatars0.githubusercontent.com/u/8492408?v=4","gravatar_id":"","url":"https://api.github.com/users/isonil","html_url":"https://github.com/isonil","followers_url":"https://api.github.com/users/isonil/followers","following_url":"https://api.github.com/users/isonil/following{/other_user}","gists_url":"https://api.github.com/users/isonil/gists{/gist_id}","starred_url":"https://api.github.com/users/isonil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/isonil/subscriptions","organizations_url":"https://api.github.com/users/isonil/orgs","repos_url":"https://api.github.com/users/isonil/repos","events_url":"https://api.github.com/users/isonil/events{/privacy}","received_events_url":"https://api.github.com/users/isonil/received_events","type":"User","site_admin":false},"created_at":"2017-09-07T22:53:47Z","updated_at":"2017-09-07T22:53:47Z","author_association":"NONE","body":"@martijnvg dfs_query_then_fetch solved the problem. Thank you very much.","performed_via_github_app":null}]