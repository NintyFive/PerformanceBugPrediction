[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/248043805","html_url":"https://github.com/elastic/elasticsearch/issues/20559#issuecomment-248043805","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20559","id":248043805,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODA0MzgwNQ==","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2016-09-19T16:29:05Z","updated_at":"2016-09-19T16:29:13Z","author_association":"MEMBER","body":"What I have in my local gradle cache after running the command:\n\nThe `com.maxmind.db:maxmind-db:1.2.1` pom file references `<jackson-databind.version>[2.7.0,)</jackson-databind.version>` which is resolved to the \"latest\" available version of jackson-databind on Maven Central.\n\nThe latest version is `2.9.0-SNAPSHOT` which declares `jackson-core` version `2.8.3-SNAPSHOT` as a dependency. This one does not exist anymore since jackson has been released in 2.8.3 few days ago.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/248045309","html_url":"https://github.com/elastic/elasticsearch/issues/20559#issuecomment-248045309","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20559","id":248045309,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODA0NTMwOQ==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-09-19T16:34:11Z","updated_at":"2016-09-19T16:34:29Z","author_association":"MEMBER","body":"> which is resolved to the \"latest\" available version of jackson-databind on Maven Central.\n\nDoes it mean the latest **released** version? If so, which I'm expecting, it should not try to resolve to 2.9.0-SNAPSHOT but to 2.8.3.\nI don't get it.\n\nAre you able to reproduce the same issue as I'm getting?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/248047125","html_url":"https://github.com/elastic/elasticsearch/issues/20559#issuecomment-248047125","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20559","id":248047125,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODA0NzEyNQ==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-09-19T16:40:13Z","updated_at":"2016-09-19T16:40:13Z","author_association":"MEMBER","body":"Another strange thing is that my IDE seems to resolve everything correctly.\n\n<img width=\"665\" alt=\"finder finder aujourd hui at 18 39 06\" src=\"https://cloud.githubusercontent.com/assets/274222/18640421/6165d74e-7e98-11e6-99e1-3ccffb74768f.png\">\n\nMight be a problem with the command line...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/248049166","html_url":"https://github.com/elastic/elasticsearch/issues/20559#issuecomment-248049166","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20559","id":248049166,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODA0OTE2Ng==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-09-19T16:47:06Z","updated_at":"2016-09-19T16:47:06Z","author_association":"MEMBER","body":"Note that as we are not using transitive dependencies, it can happen that we forget to update our deps.\n\nFor example in our `build.gradle` we defined:\n\n```\n  compile('com.fasterxml.jackson.core:jackson-annotations:2.7.1')\n  compile('com.fasterxml.jackson.core:jackson-databind:2.7.1')\n```\n\nBut [Geoip 2.7.0 is expecting a 2.7.3](https://repo1.maven.org/maven2/com/maxmind/geoip2/geoip2/2.7.0/geoip2-2.7.0.pom):\n\n``` xml\n<dependency>\n  <groupId>com.fasterxml.jackson.core</groupId>\n  <artifactId>jackson-databind</artifactId>\n  <version>2.7.3</version>\n</dependency>\n<dependency>\n  <groupId>com.fasterxml.jackson.jr</groupId>\n  <artifactId>jackson-jr-objects</artifactId>\n  <version>2.7.3</version>\n  <scope>test</scope>\n</dependency>\n```\n\nNot sure if this is the problem here but I'm going to try to update and see where it goes.\n\nBTW, I saw that geoip2 2.8.0 has been released recently. https://repo1.maven.org/maven2/com/maxmind/geoip2/geoip2/2.8.0/geoip2-2.8.0.pom\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/248054261","html_url":"https://github.com/elastic/elasticsearch/issues/20559#issuecomment-248054261","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20559","id":248054261,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODA1NDI2MQ==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-09-19T17:04:17Z","updated_at":"2016-09-19T17:04:17Z","author_association":"MEMBER","body":"I think I'm starting to understand. We did not mark the OSS Sonatype SNAPSHOT repo as a \"snapshot\" repo:\n\n```\n    maven {\n      name 'sonatype-snapshots'\n      url \"https://oss.sonatype.org/content/repositories/snapshots/\"\n    }\n```\n\nSo Gradle thinks it's a RELEASE repo and tries to download the latest artifact from here. And Jackson has bumped to 2.9.0-SNAPSHOT.\n\nGoing to try a fix...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/248063785","html_url":"https://github.com/elastic/elasticsearch/issues/20559#issuecomment-248063785","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20559","id":248063785,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODA2Mzc4NQ==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-09-19T17:37:19Z","updated_at":"2016-09-19T17:37:19Z","author_association":"MEMBER","body":"Marking a repository as a SNAPSHOT one is not something expected by Gradle team apparently. See https://discuss.gradle.org/t/maven-publish-specify-a-repo-as-being-a-snapshot-repo/374\n\nBut I ran a small test. I just commented the addition of the SNAPSHOT repo in `buildSrc/build.gradle` and `buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy` and it now compiles really well.\n\nNot sure what we can do to fix that though. May be @rjernst or @jasontedor have idea?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/248074037","html_url":"https://github.com/elastic/elasticsearch/issues/20559#issuecomment-248074037","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20559","id":248074037,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODA3NDAzNw==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2016-09-19T18:11:27Z","updated_at":"2016-09-19T18:11:27Z","author_association":"MEMBER","body":"I think is rendered moot by #20403.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/248080718","html_url":"https://github.com/elastic/elasticsearch/issues/20559#issuecomment-248080718","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20559","id":248080718,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODA4MDcxOA==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-09-19T18:33:13Z","updated_at":"2016-09-19T18:33:13Z","author_association":"MEMBER","body":"I don't see how #20403 would affect in a positive way the issue I described. I think I'm missing something.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/248083840","html_url":"https://github.com/elastic/elasticsearch/issues/20559#issuecomment-248083840","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20559","id":248083840,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODA4Mzg0MA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2016-09-19T18:43:35Z","updated_at":"2016-09-19T18:43:35Z","author_association":"MEMBER","body":"The issue you have has to do with publishing. With that PR, there is no more specifying snapshot repos or anything. We will only have \"publishing\" set up for local maven.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/248084744","html_url":"https://github.com/elastic/elasticsearch/issues/20559#issuecomment-248084744","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20559","id":248084744,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODA4NDc0NA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2016-09-19T18:46:24Z","updated_at":"2016-09-19T18:46:24Z","author_association":"MEMBER","body":"I also think we should generally just remove the snapshot repo from BuildPlugin.groovy. We should only add it when necessary,a nd never build a release depending on it.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/248084946","html_url":"https://github.com/elastic/elasticsearch/issues/20559#issuecomment-248084946","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20559","id":248084946,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODA4NDk0Ng==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-09-19T18:47:03Z","updated_at":"2016-09-19T18:47:03Z","author_association":"MEMBER","body":"But in your PR you did not remove this:\n\n```\nmaven {\n      name 'sonatype-snapshots'\n      url \"https://oss.sonatype.org/content/repositories/snapshots/\"\n}\n```\n\nRight?\n\nSo `com.maxmind.db:maxmind-db:1.2.1` will still try to get the newest version for `<jackson-databind.version>[2.7.0,)</jackson-databind.version>`. Which will be still the `2.9.0-SNAPSHOT`.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/248085074","html_url":"https://github.com/elastic/elasticsearch/issues/20559#issuecomment-248085074","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20559","id":248085074,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODA4NTA3NA==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-09-19T18:47:23Z","updated_at":"2016-09-19T18:47:23Z","author_association":"MEMBER","body":"> I also think we should generally just remove the snapshot repo from BuildPlugin.groovy.\n\n++\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/248143717","html_url":"https://github.com/elastic/elasticsearch/issues/20559#issuecomment-248143717","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20559","id":248143717,"node_id":"MDEyOklzc3VlQ29tbWVudDI0ODE0MzcxNw==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2016-09-19T22:12:55Z","updated_at":"2016-09-19T22:12:55Z","author_association":"MEMBER","body":"Done in #20567\n","performed_via_github_app":null}]