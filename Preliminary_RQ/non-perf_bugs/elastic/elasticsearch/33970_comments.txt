[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/423889153","html_url":"https://github.com/elastic/elasticsearch/issues/33970#issuecomment-423889153","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33970","id":423889153,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMzg4OTE1Mw==","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"created_at":"2018-09-24T06:54:34Z","updated_at":"2018-09-24T06:54:34Z","author_association":"MEMBER","body":"Thanks very much for your interest in Elasticsearch.\r\n\r\nElasticsearch is running on top of the Java virtual machine (JVM) and this time delay is caused by the startup routine of the JVM itself and on which Elasticsearch has no influence. Hence we can not log anything because at that point Elastisearch has not even started yet. \r\n\r\nDue to `-XX:+AlwaysPretouch` the JVM will ensure that all memory pages are actually reserved by the operating system and the fact that you mention that one CPU was begged during this period of time is another hint (pretouching happens single-threaded in the JVM). This can be slow for example when memory is fragmented and the operating system needs to free up chunks of memory (see e.g. https://github.com/elastic/elasticsearch/issues/28650#issuecomment-365629315 for hints how you diagnose this yourself). \r\n\r\nHowever, I advise against removing this flag as this can negatively impact runtime behavior because the operating system might need to do this costly operation not on Elasticsearch startup but rather while the system is running.","performed_via_github_app":null}]