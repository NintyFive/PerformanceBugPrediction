{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/27213","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27213/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27213/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27213/events","html_url":"https://github.com/elastic/elasticsearch/issues/27213","id":270442107,"node_id":"MDU6SXNzdWUyNzA0NDIxMDc=","number":27213,"title":"FullClusterRestartIT.testSnapshotRestore fails on 6.x","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"labels":[{"id":143077482,"node_id":"MDU6TGFiZWwxNDMwNzc0ODI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Snapshot/Restore","name":":Distributed/Snapshot/Restore","color":"0e8a16","default":false,"description":"Anything directly related to the `_snapshot/*` APIs"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"assignees":[{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2017-11-01T20:30:49Z","updated_at":"2017-11-03T21:38:19Z","closed_at":"2017-11-03T21:38:19Z","author_association":"MEMBER","active_lock_reason":null,"body":"```\r\nFAILURE 13.1s | FullClusterRestartIT.testSnapshotRestore <<< FAILURES!\r\n   > Throwable #1: java.lang.AssertionError: template doesn't match:\r\n   >                  test_template: \r\n   >                          aliases: \r\n   >                             alias1: same [empty map]\r\n   >                             alias2: \r\n   >                               filter: \r\n   >                                   term: \r\n   >                                  version: same [6.0.0]\r\n   >                         mappings: \r\n   >                                doc: \r\n   >                              _source: \r\n   >                                enabled: same [true]\r\n   >                            order: same [0]\r\n   >                         settings: \r\n   >                              index: \r\n   >                     number_of_shards: same [1]\r\n   >                         template: expected [evil_*] but not found\r\n   >                   index_patterns: unexpected but found [[evil_*]]\r\n   > \tat __randomizedtesting.SeedInfo.seed([B9588B59D97307DD:863D61A013CE00A2]:0)\r\n   > \tat org.elasticsearch.upgrades.FullClusterRestartIT.checkSnapshot(FullClusterRestartIT.java:876)\r\n   > \tat org.elasticsearch.upgrades.FullClusterRestartIT.testSnapshotRestore(FullClusterRestartIT.java:760)\r\n   > \tat java.lang.Thread.run(Thread.java:745)\r\n```\r\n\r\nReproduces with:\r\n\r\n```\r\ngradle :qa:full-cluster-restart:v6.0.0-SNAPSHOT#oldClusterTestRunner -Dtests.seed=B9588B59D97307DD -Dtests.class=org.elasticsearch.upgrades.FullClusterRestartIT -Dtests.method=\"testSnapshotRestore\" -Dtests.security.manager=true -Dtests.locale=ar-QA -Dtests.timezone=America/Anguilla\r\n```\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+intake/571/consoleFull","closed_by":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"performed_via_github_app":null}