[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/493242022","html_url":"https://github.com/elastic/elasticsearch/issues/42187#issuecomment-493242022","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42187","id":493242022,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzI0MjAyMg==","user":{"login":"HanguChoi","id":12369225,"node_id":"MDQ6VXNlcjEyMzY5MjI1","avatar_url":"https://avatars2.githubusercontent.com/u/12369225?v=4","gravatar_id":"","url":"https://api.github.com/users/HanguChoi","html_url":"https://github.com/HanguChoi","followers_url":"https://api.github.com/users/HanguChoi/followers","following_url":"https://api.github.com/users/HanguChoi/following{/other_user}","gists_url":"https://api.github.com/users/HanguChoi/gists{/gist_id}","starred_url":"https://api.github.com/users/HanguChoi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HanguChoi/subscriptions","organizations_url":"https://api.github.com/users/HanguChoi/orgs","repos_url":"https://api.github.com/users/HanguChoi/repos","events_url":"https://api.github.com/users/HanguChoi/events{/privacy}","received_events_url":"https://api.github.com/users/HanguChoi/received_events","type":"User","site_admin":false},"created_at":"2019-05-16T21:42:16Z","updated_at":"2019-05-17T02:32:41Z","author_association":"NONE","body":"I found various conditions for this error. \r\n## settings\r\n- if I setting with `\"number_of_shards\": 2,` instead of `5`, then no error (oh?? shard 3,4 also error )\r\n\r\n## what is valid doc?\r\n### no error\r\n- if I set value `a` for first user's `introduction.text` instead of `''`, then no error\r\n- if I set value `1` , then no error\r\n- if I set value `한글` , then no error\r\n- **if I set value `&nbsp;` , then no error <== best workaround option until now I found.**\r\n\r\n### error\r\n- if I set value `.` , then **error**\r\n- if I set value `-` , then **error**\r\n- if I set value `_` , then **error**\r\n- if I set value `...` , then **error**\r\n- if I set value `'  '`(spaced string) , then **error**\r\n- if I set value `null` , then **error**\r\n\r\n## search \r\n- if I use multi_match field `introduction.text.raw` instead of `introduction.text`  then no error\r\n- if I use multi_match field `skills.name.raw` instead of `skills.name`  then no error\r\n- if I query with `hangu` instead of `rails` then no error (valid doc matched only I thought)\r\n\r\nI'll add others if I find more.\r\n\r\nThank you.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/493247791","html_url":"https://github.com/elastic/elasticsearch/issues/42187#issuecomment-493247791","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42187","id":493247791,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzI0Nzc5MQ==","user":{"login":"HanguChoi","id":12369225,"node_id":"MDQ6VXNlcjEyMzY5MjI1","avatar_url":"https://avatars2.githubusercontent.com/u/12369225?v=4","gravatar_id":"","url":"https://api.github.com/users/HanguChoi","html_url":"https://github.com/HanguChoi","followers_url":"https://api.github.com/users/HanguChoi/followers","following_url":"https://api.github.com/users/HanguChoi/following{/other_user}","gists_url":"https://api.github.com/users/HanguChoi/gists{/gist_id}","starred_url":"https://api.github.com/users/HanguChoi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HanguChoi/subscriptions","organizations_url":"https://api.github.com/users/HanguChoi/orgs","repos_url":"https://api.github.com/users/HanguChoi/repos","events_url":"https://api.github.com/users/HanguChoi/events{/privacy}","received_events_url":"https://api.github.com/users/HanguChoi/received_events","type":"User","site_admin":false},"created_at":"2019-05-16T22:04:33Z","updated_at":"2019-05-16T22:05:14Z","author_association":"NONE","body":"## omit properties\r\n- if I add doc like below, also error. (no skills properties for second user)\r\n```\r\ncurl -X PUT \"localhost:9700/some_index/_doc/1\" -H \"Content-Type: application/json\" -d'\r\n{\r\n  \"user_id\": 1,\r\n  \"introduction\": {\r\n    \"text\": \"some\"\r\n  },\r\n  \"skills\": [\r\n    {\r\n      \"id\": 1,\r\n      \"name\": \"rails\"\r\n    }\r\n  ]\r\n}\r\n'\r\n\r\ncurl -X PUT \"localhost:9700/some_index/_doc/2\" -H \"Content-Type: application/json\" -d'\r\n{\r\n  \"user_id\": 2,\r\n  \"introduction\": {\r\n    \"text\": \"my name is hangu rails developer\"\r\n  }\r\n}\r\n'\r\n\r\n```\r\n- `skills: []` => error\r\n- `skills: [{ }]` => error","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/493292760","html_url":"https://github.com/elastic/elasticsearch/issues/42187#issuecomment-493292760","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42187","id":493292760,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzI5Mjc2MA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-05-17T02:10:03Z","updated_at":"2019-05-17T02:10:03Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/493656671","html_url":"https://github.com/elastic/elasticsearch/issues/42187#issuecomment-493656671","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42187","id":493656671,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzY1NjY3MQ==","user":{"login":"codebird","id":327589,"node_id":"MDQ6VXNlcjMyNzU4OQ==","avatar_url":"https://avatars0.githubusercontent.com/u/327589?v=4","gravatar_id":"","url":"https://api.github.com/users/codebird","html_url":"https://github.com/codebird","followers_url":"https://api.github.com/users/codebird/followers","following_url":"https://api.github.com/users/codebird/following{/other_user}","gists_url":"https://api.github.com/users/codebird/gists{/gist_id}","starred_url":"https://api.github.com/users/codebird/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codebird/subscriptions","organizations_url":"https://api.github.com/users/codebird/orgs","repos_url":"https://api.github.com/users/codebird/repos","events_url":"https://api.github.com/users/codebird/events{/privacy}","received_events_url":"https://api.github.com/users/codebird/received_events","type":"User","site_admin":false},"created_at":"2019-05-18T07:42:52Z","updated_at":"2019-05-19T06:55:40Z","author_association":"CONTRIBUTOR","body":"this is a duplicate of #41118 and fixed by this #41125","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/493870862","html_url":"https://github.com/elastic/elasticsearch/issues/42187#issuecomment-493870862","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42187","id":493870862,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Mzg3MDg2Mg==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2019-05-20T07:33:25Z","updated_at":"2019-05-20T07:33:25Z","author_association":"MEMBER","body":"Thanks for spotting @codebird , however the fix introduced a new [bug](https://github.com/elastic/elasticsearch/issues/41934) in 7.0.1 which is resolved in the coming release (`7.1.0`).","performed_via_github_app":null}]