[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/426583817","html_url":"https://github.com/elastic/elasticsearch/issues/34261#issuecomment-426583817","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34261","id":426583817,"node_id":"MDEyOklzc3VlQ29tbWVudDQyNjU4MzgxNw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-10-03T10:18:55Z","updated_at":"2018-10-03T10:18:55Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-security","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/435218824","html_url":"https://github.com/elastic/elasticsearch/issues/34261#issuecomment-435218824","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34261","id":435218824,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTIxODgyNA==","user":{"login":"andyb-elastic","id":29205940,"node_id":"MDQ6VXNlcjI5MjA1OTQw","avatar_url":"https://avatars2.githubusercontent.com/u/29205940?v=4","gravatar_id":"","url":"https://api.github.com/users/andyb-elastic","html_url":"https://github.com/andyb-elastic","followers_url":"https://api.github.com/users/andyb-elastic/followers","following_url":"https://api.github.com/users/andyb-elastic/following{/other_user}","gists_url":"https://api.github.com/users/andyb-elastic/gists{/gist_id}","starred_url":"https://api.github.com/users/andyb-elastic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andyb-elastic/subscriptions","organizations_url":"https://api.github.com/users/andyb-elastic/orgs","repos_url":"https://api.github.com/users/andyb-elastic/repos","events_url":"https://api.github.com/users/andyb-elastic/events{/privacy}","received_events_url":"https://api.github.com/users/andyb-elastic/received_events","type":"User","site_admin":false},"created_at":"2018-11-01T23:18:48Z","updated_at":"2018-11-01T23:18:48Z","author_association":"CONTRIBUTOR","body":"I think this is another instance of this issue in `SimpleKdcLdapServerTests.testPrincipalCreationAndSearchOnLdap` - at least it looks like the KDC server failed to start in the same way. I'm not sure if that's really the root cause because the logs are really garbled below where this appears\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.4+matrix-java-periodic/ES_BUILD_JAVA=java10,ES_RUNTIME_JAVA=java8fips,nodes=virtual&&linux/32/console\r\n\r\n[build-64-32.txt.zip](https://github.com/elastic/elasticsearch/files/2540439/build-64-32.txt.zip)\r\n\r\n```\r\nERROR   0.04s J2 | SimpleKdcLdapServerTests.testPrincipalCreationAndSearchOnLdap <<< FAILURES!\r\n   > Throwable #1: java.security.PrivilegedActionException: org.apache.kerby.kerberos.kerb.KrbException: Failed to start KDC-Server\r\n   >    at __randomizedtesting.SeedInfo.seed([5225DED06218B08D:15320F9392FA82F8]:0)\r\n   >    at java.security.AccessController.doPrivileged(Native Method)\r\n   >    at org.elasticsearch.xpack.security.authc.kerberos.SimpleKdcLdapServer.<init>(SimpleKdcLdapServer.java:86)\r\n   >    at org.elasticsearch.xpack.security.authc.kerberos.KerberosTestCase.startSimpleKdcLdapServer(KerberosTestCase.java:110)\r\n   >    at java.lang.Thread.run(Thread.java:748)\r\n   > Caused by: org.apache.kerby.kerberos.kerb.KrbException: Failed to start KDC-Server\r\n   >    at org.apache.kerby.kerberos.kerb.server.impl.AbstractInternalKdcServer.start(AbstractInternalKdcServer.java:73)\r\n   >    at org.apache.kerby.kerberos.kerb.server.KdcServer.start(KdcServer.java:268)\r\n   >    at org.apache.kerby.kerberos.kerb.server.SimpleKdcServer.start(SimpleKdcServer.java:174)\r\n   >    at org.elasticsearch.xpack.security.authc.kerberos.SimpleKdcLdapServer.prepareKdcServerAndStart(SimpleKdcLdapServer.java:151)\r\n   >    at org.elasticsearch.xpack.security.authc.kerberos.SimpleKdcLdapServer.init(SimpleKdcLdapServer.java:104)\r\n   >    at org.elasticsearch.xpack.security.authc.kerberos.SimpleKdcLdapServer.access$000(SimpleKdcLdapServer.java:39)\r\n   >    at org.elasticsearch.xpack.security.authc.kerberos.SimpleKdcLdapServer$2.run(SimpleKdcLdapServer.java:89)\r\n   >    at org.elasticsearch.xpack.security.authc.kerberos.SimpleKdcLdapServer$2.run(SimpleKdcLdapServer.java:86)\r\n   >    ... 39 more\r\n   > Caused by: java.net.BindException: Address already in use\r\n   >    at sun.nio.ch.Net.bind0(Native Method)\r\n   >    at sun.nio.ch.Net.bind(Net.java:433)\r\n   >    at sun.nio.ch.DatagramChannelImpl.bind(DatagramChannelImpl.java:691)\r\n   >    at org.apache.kerby.kerberos.kerb.transport.KdcNetwork.listen(KdcNetwork.java:70)\r\n   >    at org.apache.kerby.kerberos.kerb.server.impl.DefaultInternalKdcServerImpl.doStart(DefaultInternalKdcServerImpl.java:67)\r\n   >    at org.apache.kerby.kerberos.kerb.server.impl.AbstractInternalKdcServer.start(AbstractInternalKdcServer.java:71)\r\n   >    ... 46 more\r\n```\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/443862932","html_url":"https://github.com/elastic/elasticsearch/issues/34261#issuecomment-443862932","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34261","id":443862932,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0Mzg2MjkzMg==","user":{"login":"andyb-elastic","id":29205940,"node_id":"MDQ6VXNlcjI5MjA1OTQw","avatar_url":"https://avatars2.githubusercontent.com/u/29205940?v=4","gravatar_id":"","url":"https://api.github.com/users/andyb-elastic","html_url":"https://github.com/andyb-elastic","followers_url":"https://api.github.com/users/andyb-elastic/followers","following_url":"https://api.github.com/users/andyb-elastic/following{/other_user}","gists_url":"https://api.github.com/users/andyb-elastic/gists{/gist_id}","starred_url":"https://api.github.com/users/andyb-elastic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andyb-elastic/subscriptions","organizations_url":"https://api.github.com/users/andyb-elastic/orgs","repos_url":"https://api.github.com/users/andyb-elastic/repos","events_url":"https://api.github.com/users/andyb-elastic/events{/privacy}","received_events_url":"https://api.github.com/users/andyb-elastic/received_events","type":"User","site_admin":false},"created_at":"2018-12-03T20:43:15Z","updated_at":"2018-12-03T20:43:15Z","author_association":"CONTRIBUTOR","body":"Another one in `KerberosTicketValidatorTests.testValidKebrerosTicket`\r\n\r\n```\r\nERROR   0.02s J1 | KerberosTicketValidatorTests.testValidKebrerosTicket <<< FAILURES!\r\n   > Throwable #1: java.security.PrivilegedActionException: org.apache.kerby.kerberos.kerb.KrbException: Failed to start KDC-Server\r\n   >    at __randomizedtesting.SeedInfo.seed([FE44AA7E6093930C:70F30192B5DCCA21]:0)\r\n   >    at java.security.AccessController.doPrivileged(Native Method)\r\n   >    at org.elasticsearch.xpack.security.authc.kerberos.SimpleKdcLdapServer.<init>(SimpleKdcLdapServer.java:86)\r\n   >    at org.elasticsearch.xpack.security.authc.kerberos.KerberosTestCase.startSimpleKdcLdapServer(KerberosTestCase.java:111)\r\n   >    at java.lang.Thread.run(Thread.java:748)\r\n   > Caused by: org.apache.kerby.kerberos.kerb.KrbException: Failed to start KDC-Server\r\n   >    at org.apache.kerby.kerberos.kerb.server.impl.AbstractInternalKdcServer.start(AbstractInternalKdcServer.java:73)\r\n   >    at org.apache.kerby.kerberos.kerb.server.KdcServer.start(KdcServer.java:268)\r\n   >    at org.apache.kerby.kerberos.kerb.server.SimpleKdcServer.start(SimpleKdcServer.java:174)\r\n   >    at org.elasticsearch.xpack.security.authc.kerberos.SimpleKdcLdapServer.prepareKdcServerAndStart(SimpleKdcLdapServer.java:151)\r\n   >    at org.elasticsearch.xpack.security.authc.kerberos.SimpleKdcLdapServer.init(SimpleKdcLdapServer.java:104)\r\n   >    at org.elasticsearch.xpack.security.authc.kerberos.SimpleKdcLdapServer.access$000(SimpleKdcLdapServer.java:39)\r\n   >    at org.elasticsearch.xpack.security.authc.kerberos.SimpleKdcLdapServer$2.run(SimpleKdcLdapServer.java:89)\r\n   >    at org.elasticsearch.xpack.security.authc.kerberos.SimpleKdcLdapServer$2.run(SimpleKdcLdapServer.java:86)\r\n   >    ... 39 more\r\n   > Caused by: java.net.BindException: Address already in use\r\n   >    at sun.nio.ch.Net.bind0(Native Method)\r\n   >    at sun.nio.ch.Net.bind(Net.java:433)\r\n   >    at sun.nio.ch.DatagramChannelImpl.bind(DatagramChannelImpl.java:691)\r\n   >    at org.apache.kerby.kerberos.kerb.transport.KdcNetwork.listen(KdcNetwork.java:70)\r\n   >    at org.apache.kerby.kerberos.kerb.server.impl.DefaultInternalKdcServerImpl.doStart(DefaultInternalKdcServerImpl.java:67)\r\n   >    at org.apache.kerby.kerberos.kerb.server.impl.AbstractInternalKdcServer.start(AbstractInternalKdcServer.java:71)\r\n   >    ... 46 more\r\n```\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+intake/430/console\r\n\r\n[build-430.txt.zip](https://github.com/elastic/elasticsearch/files/2641209/build-430.txt.zip)\r\n\r\n","performed_via_github_app":null}]