[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/7785690","html_url":"https://github.com/elastic/elasticsearch/issues/2178#issuecomment-7785690","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2178","id":7785690,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODU2OTA=","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2012-08-16T13:45:43Z","updated_at":"2012-08-16T13:45:43Z","author_association":"CONTRIBUTOR","body":"I simply added a condition in the AllFieldMapper that returns a TermQuery instead of the all query - I think this is a fair game here in terms of BWcompat etc. Anyway I think this field should never ever use spans. This might be a \"this is awesome for the beginners\" feature but really this is not scalable and damn slow. I'd vote for dropping the AllQuery entirely. But this is a different discussion.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/7786128","html_url":"https://github.com/elastic/elasticsearch/issues/2178#issuecomment-7786128","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2178","id":7786128,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODYxMjg=","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2012-08-16T14:00:40Z","updated_at":"2012-08-16T14:00:40Z","author_association":"MEMBER","body":"I wonder why the _all field needs per term boosting. This is what seems to happen in the AllTokenStream class.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/7786296","html_url":"https://github.com/elastic/elasticsearch/issues/2178#issuecomment-7786296","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2178","id":7786296,"node_id":"MDEyOklzc3VlQ29tbWVudDc3ODYyOTY=","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2012-08-16T14:05:49Z","updated_at":"2012-08-16T14:05:49Z","author_association":"MEMBER","body":"I guess this happens to preserve the boost from the original field. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/7792954","html_url":"https://github.com/elastic/elasticsearch/issues/2178#issuecomment-7792954","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2178","id":7792954,"node_id":"MDEyOklzc3VlQ29tbWVudDc3OTI5NTQ=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2012-08-16T17:39:00Z","updated_at":"2012-08-16T17:39:00Z","author_association":"MEMBER","body":"The pull request makes sense, I think that we can also introduce a flag that controls if we even do a special thing when it comes to storing boost values related to specific fields in the _all field. The `_all` field is really useful for many cases, obviously it comes with an overhead, but note, you can completely disable it as well. I'll merge this pull request.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/7793140","html_url":"https://github.com/elastic/elasticsearch/issues/2178#issuecomment-7793140","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2178","id":7793140,"node_id":"MDEyOklzc3VlQ29tbWVudDc3OTMxNDA=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2012-08-16T17:45:17Z","updated_at":"2012-08-16T17:45:17Z","author_association":"MEMBER","body":"Pushed the pull request, but I think to complete that (and also have something can potentially backport to 0.19), is to have a flag on the _all field called `field_boost` (defaults to `true`), that will control if specific boost values are going to be stored as payloads, and which type of term query is going to be generated. I am open to the fact that this flag default value can be `true` in master/0.20.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/7794713","html_url":"https://github.com/elastic/elasticsearch/issues/2178#issuecomment-7794713","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2178","id":7794713,"node_id":"MDEyOklzc3VlQ29tbWVudDc3OTQ3MTM=","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2012-08-16T18:39:33Z","updated_at":"2012-08-16T18:39:33Z","author_association":"CONTRIBUTOR","body":"First, thanks for pulling this so quickly. I totally agree a _all field is handy and can simplify a lot of things. I also agree that we should make this \"field-boosting\" optional and I strongly recommend to make \"field_boost\" default to _false_. A SpanQuery is ~ an order of magnitude slower compared to a straight term query. I'd also argue some other defaults like proximity infos. We should really think about this though - I mean the overhead of prox pointers in the posting list is significant and I doubt that lots of users benefit from it ie. use positional queries. In any case I'd like to add a _big fat_ warning to the documentation that not omitting positions can lead to significant performance impact and make a big portion of the index size. I will backport that change to 0.19 and add the \"field_boost\" in another issue. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/7796564","html_url":"https://github.com/elastic/elasticsearch/issues/2178#issuecomment-7796564","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2178","id":7796564,"node_id":"MDEyOklzc3VlQ29tbWVudDc3OTY1NjQ=","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2012-08-16T19:33:01Z","updated_at":"2012-08-16T19:33:01Z","author_association":"CONTRIBUTOR","body":"I'd be interested to know how many power users of ES use the `_all` field. My guess would be: few.  In other words the people who are likely to use it are beginners, so its functionality should probably be geared at them (ie easy start to using ES), rather than at the power user.\n\nI'm not arguing for or against any of the above changes, because i'm not entirely sure what difference they will make.  Just saying that the changes should probably be guided by the targeted user.\n","performed_via_github_app":null}]