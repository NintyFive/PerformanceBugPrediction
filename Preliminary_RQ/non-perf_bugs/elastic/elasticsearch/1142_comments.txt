[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/1622365","html_url":"https://github.com/elastic/elasticsearch/issues/1142#issuecomment-1622365","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1142","id":1622365,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjIzNjU=","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2011-07-21T09:23:51Z","updated_at":"2011-07-21T09:23:51Z","author_association":"CONTRIBUTOR","body":"Hiya - is this the best way to do this?  I can see issues arising when people reuse the _cache_key incorrectly.  Wouldn't it be better just to make a SHA1 of the filter, and use that as a unique ID?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/1625209","html_url":"https://github.com/elastic/elasticsearch/issues/1142#issuecomment-1625209","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1142","id":1625209,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjUyMDk=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2011-07-21T17:24:24Z","updated_at":"2011-07-21T17:24:24Z","author_association":"MEMBER","body":"@clintongormley People will always make mistakes..., it does not mean we should not expose features because of that. The downside of using SHA1 / MD5 on the data is the cost that comes with calculating it. Not saying that we shouldn't do it, possibly even trying to guess the size vs. cost automatically, but there should be an option for people to provide the cache key.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/1625334","html_url":"https://github.com/elastic/elasticsearch/issues/1142#issuecomment-1625334","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1142","id":1625334,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjUzMzQ=","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2011-07-21T17:41:50Z","updated_at":"2011-07-21T17:41:50Z","author_association":"CONTRIBUTOR","body":"@kimchy My question is: what functional purpose exists for exposing this in the API?  \n\nAll people care about is whether a filter is cached or not, they shouldn't care what name you use to cache the filter internally. \n\nRe cost, you could just say: if length $cache_id > $max, then $cache_id = sha1($cache_id), so you'll be hashing the minority of cached filters\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/1625519","html_url":"https://github.com/elastic/elasticsearch/issues/1142#issuecomment-1625519","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1142","id":1625519,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjU1MTk=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2011-07-21T18:06:29Z","updated_at":"2011-07-21T18:06:29Z","author_association":"MEMBER","body":"> All people care about is whether a filter is cached or not, they shouldn't care what name you use to cache the filter internally.\n\nNow :), there are more things that will happen down the road where this makes sense. Just a simple sample is invalidating specific filters based on cache key patterns. Other as well, though, its too early to really (nothing baked) to write about...\n\n> Re cost, you could just say: if length $cache_id > $max, then $cache_id = sha1($cache_id), so you'll be hashing the minority of cached filters\n\nAgreed, thats what I meant by doing size vs. cost. As to the fact that its a minority or not, it really depends on the app..., so you want to allow them to control it. This size vs. cost thingy can actually be the default for something like terms filter (the obvious heavy one), maybe open an issue for it?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/1625638","html_url":"https://github.com/elastic/elasticsearch/issues/1142#issuecomment-1625638","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1142","id":1625638,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MjU2Mzg=","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2011-07-21T18:21:05Z","updated_at":"2011-07-21T18:21:05Z","author_association":"CONTRIBUTOR","body":"Opened: https://github.com/elasticsearch/elasticsearch/issues/1146\n","performed_via_github_app":null}]