[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/323309814","html_url":"https://github.com/elastic/elasticsearch/issues/26273#issuecomment-323309814","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26273","id":323309814,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzMwOTgxNA==","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2017-08-18T09:44:25Z","updated_at":"2017-08-18T09:44:25Z","author_association":"MEMBER","body":"> Just a wild guess,I think the reason was template .monitoring-es conflicts with my template\r\n\r\nThat's a good guess but it's a bit different: the custom template is not restrictive enough and conflicts with the X-Pack Monitoring template.\r\n\r\nX-Pack exports document in indices that starts with the prefix `.monitoring-es-6-`. So Elasticsearch looks up for template that can be applied to such indices and finds `\".monitoring-es\"` and `\"t1\"`. Then it merges the template to build the final mappings, and a conflict error occurs because the same field `timestamp` is defined for the same document type `doc` (yes, X-Pack uses `doc` as document type too).\r\n\r\nThe best solution, I think, would be to change the `t1` template so that it is applied only to _your_ indices.\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/323319150","html_url":"https://github.com/elastic/elasticsearch/issues/26273#issuecomment-323319150","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26273","id":323319150,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzMxOTE1MA==","user":{"login":"mars00772","id":987990,"node_id":"MDQ6VXNlcjk4Nzk5MA==","avatar_url":"https://avatars3.githubusercontent.com/u/987990?v=4","gravatar_id":"","url":"https://api.github.com/users/mars00772","html_url":"https://github.com/mars00772","followers_url":"https://api.github.com/users/mars00772/followers","following_url":"https://api.github.com/users/mars00772/following{/other_user}","gists_url":"https://api.github.com/users/mars00772/gists{/gist_id}","starred_url":"https://api.github.com/users/mars00772/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mars00772/subscriptions","organizations_url":"https://api.github.com/users/mars00772/orgs","repos_url":"https://api.github.com/users/mars00772/repos","events_url":"https://api.github.com/users/mars00772/events{/privacy}","received_events_url":"https://api.github.com/users/mars00772/received_events","type":"User","site_admin":false},"created_at":"2017-08-18T10:29:20Z","updated_at":"2017-08-18T10:29:20Z","author_association":"NONE","body":"@tlrx why the high order template`fix_monitor` didn't work for `.monitoring-es`, and bad news for me, there are too many indices, which didn't have the common   ##patten ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/323357883","html_url":"https://github.com/elastic/elasticsearch/issues/26273#issuecomment-323357883","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26273","id":323357883,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMzM1Nzg4Mw==","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2017-08-18T13:45:39Z","updated_at":"2017-08-18T13:45:39Z","author_association":"MEMBER","body":"It didn't work because fields with same name but different type must have the same settings (see #11812), in order to avoid all kind of inconsistencies when querying the field. In your case, the custom template is applied to the monitoring indices too (but it should not) and it causes the conflict.","performed_via_github_app":null}]