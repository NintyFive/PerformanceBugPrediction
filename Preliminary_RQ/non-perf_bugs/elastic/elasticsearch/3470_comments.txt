[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/22377893","html_url":"https://github.com/elastic/elasticsearch/issues/3470#issuecomment-22377893","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3470","id":22377893,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMzc3ODkz","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-08-09T06:45:30Z","updated_at":"2013-08-09T06:45:30Z","author_association":"CONTRIBUTOR","body":"Thanks for opening this! This is in-fact a bug that is triggered depending on how sparse your data in that field is. I will come up with a patch very soon and I try to increase the test coverage for this to make sure we are not running into this again.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/22391676","html_url":"https://github.com/elastic/elasticsearch/issues/3470#issuecomment-22391676","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3470","id":22391676,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMzkxNjc2","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-08-09T12:43:51Z","updated_at":"2013-08-09T12:43:51Z","author_association":"CONTRIBUTOR","body":"thanks for reporting this so quickly!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/22392448","html_url":"https://github.com/elastic/elasticsearch/issues/3470#issuecomment-22392448","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3470","id":22392448,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMzkyNDQ4","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars3.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","site_admin":false},"created_at":"2013-08-09T13:01:11Z","updated_at":"2013-08-09T13:01:11Z","author_association":"NONE","body":"Hey, thank YOU for fixing it so quickly!\n\nES is an amazing project, I'm just glad I can help.\n\n--- Original Message ---\n\nFrom: \"Simon Willnauer\" notifications@github.com\nSent: August 9, 2013 9:44 AM\nTo: \"elasticsearch/elasticsearch\" elasticsearch@noreply.github.com\nCc: \"dngdevelopment\" kayowas@hotmail.com\nSubject: Re: [elasticsearch] NPE in BytesRefOrdValComparator (#3470)\n\nthanks for reporting this so quickly!\n\n---\n\nReply to this email directly or view it on GitHub:\nhttps://github.com/elasticsearch/elasticsearch/issues/3470#issuecomment-22391676\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/22551375","html_url":"https://github.com/elastic/elasticsearch/issues/3470#issuecomment-22551375","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3470","id":22551375,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTUxMzc1","user":{"login":"elasticjava","id":5220219,"node_id":"MDQ6VXNlcjUyMjAyMTk=","avatar_url":"https://avatars3.githubusercontent.com/u/5220219?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticjava","html_url":"https://github.com/elasticjava","followers_url":"https://api.github.com/users/elasticjava/followers","following_url":"https://api.github.com/users/elasticjava/following{/other_user}","gists_url":"https://api.github.com/users/elasticjava/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticjava/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticjava/subscriptions","organizations_url":"https://api.github.com/users/elasticjava/orgs","repos_url":"https://api.github.com/users/elasticjava/repos","events_url":"https://api.github.com/users/elasticjava/events{/privacy}","received_events_url":"https://api.github.com/users/elasticjava/received_events","type":"User","site_admin":false},"created_at":"2013-08-13T08:56:07Z","updated_at":"2013-08-13T08:56:07Z","author_association":"CONTRIBUTOR","body":"Many thanks Simon! that error filled our log!! +1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/23671704","html_url":"https://github.com/elastic/elasticsearch/issues/3470#issuecomment-23671704","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3470","id":23671704,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNjcxNzA0","user":{"login":"tarunjangra","id":153673,"node_id":"MDQ6VXNlcjE1MzY3Mw==","avatar_url":"https://avatars3.githubusercontent.com/u/153673?v=4","gravatar_id":"","url":"https://api.github.com/users/tarunjangra","html_url":"https://github.com/tarunjangra","followers_url":"https://api.github.com/users/tarunjangra/followers","following_url":"https://api.github.com/users/tarunjangra/following{/other_user}","gists_url":"https://api.github.com/users/tarunjangra/gists{/gist_id}","starred_url":"https://api.github.com/users/tarunjangra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tarunjangra/subscriptions","organizations_url":"https://api.github.com/users/tarunjangra/orgs","repos_url":"https://api.github.com/users/tarunjangra/repos","events_url":"https://api.github.com/users/tarunjangra/events{/privacy}","received_events_url":"https://api.github.com/users/tarunjangra/received_events","type":"User","site_admin":false},"created_at":"2013-09-02T17:32:11Z","updated_at":"2013-09-02T17:32:11Z","author_association":"NONE","body":"Great guys, when you would be able to release this bug. We are using this very heavily. +1 \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/23674711","html_url":"https://github.com/elastic/elasticsearch/issues/3470#issuecomment-23674711","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3470","id":23674711,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNjc0NzEx","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-09-02T19:05:57Z","updated_at":"2013-09-02T19:05:57Z","author_association":"CONTRIBUTOR","body":"@tarunjangra it's coming very soon I hope we can move towards a release next week or so.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/23699595","html_url":"https://github.com/elastic/elasticsearch/issues/3470#issuecomment-23699595","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3470","id":23699595,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNjk5NTk1","user":{"login":"chrisamccoy","id":387332,"node_id":"MDQ6VXNlcjM4NzMzMg==","avatar_url":"https://avatars2.githubusercontent.com/u/387332?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisamccoy","html_url":"https://github.com/chrisamccoy","followers_url":"https://api.github.com/users/chrisamccoy/followers","following_url":"https://api.github.com/users/chrisamccoy/following{/other_user}","gists_url":"https://api.github.com/users/chrisamccoy/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisamccoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisamccoy/subscriptions","organizations_url":"https://api.github.com/users/chrisamccoy/orgs","repos_url":"https://api.github.com/users/chrisamccoy/repos","events_url":"https://api.github.com/users/chrisamccoy/events{/privacy}","received_events_url":"https://api.github.com/users/chrisamccoy/received_events","type":"User","site_admin":false},"created_at":"2013-09-03T09:23:04Z","updated_at":"2013-09-03T09:23:04Z","author_association":"NONE","body":"@s1monw Yes, we'd love a fix for this bug. We're using it heavily at Yoursports.com http://techcrunch.com/2012/10/11/sports-section-2-0-yoursports-launches-its-ambitious-project-to-build-the-facebook-of-sports/\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/23737075","html_url":"https://github.com/elastic/elasticsearch/issues/3470#issuecomment-23737075","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3470","id":23737075,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzM3MDc1","user":{"login":"tarunjangra","id":153673,"node_id":"MDQ6VXNlcjE1MzY3Mw==","avatar_url":"https://avatars3.githubusercontent.com/u/153673?v=4","gravatar_id":"","url":"https://api.github.com/users/tarunjangra","html_url":"https://github.com/tarunjangra","followers_url":"https://api.github.com/users/tarunjangra/followers","following_url":"https://api.github.com/users/tarunjangra/following{/other_user}","gists_url":"https://api.github.com/users/tarunjangra/gists{/gist_id}","starred_url":"https://api.github.com/users/tarunjangra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tarunjangra/subscriptions","organizations_url":"https://api.github.com/users/tarunjangra/orgs","repos_url":"https://api.github.com/users/tarunjangra/repos","events_url":"https://api.github.com/users/tarunjangra/events{/privacy}","received_events_url":"https://api.github.com/users/tarunjangra/received_events","type":"User","site_admin":false},"created_at":"2013-09-03T18:47:17Z","updated_at":"2013-09-04T02:04:32Z","author_association":"NONE","body":"@s1monw i would like to share this behaviour. Query i am doing:\n{\"query\":{\"match_all\":{}},\"sort\":{\"title.untouched\":{\"order\":\"desc\"}}}\n\nAnd result i am getting:\n\nQueryPhaseExecutionException[[es_index][11]: query[ConstantScore(cache(org.elasticsearch.index.search.nested.NonNestedDocsFilter@953b6c6c))],from[0],size[10],sort[<custom:\"title.untouched\": org.elasticsearch.index.fielddata.fieldcomparator.BytesRefFieldComparatorSource@1ca8b405>!]: Query Failed [Failed to execute main query]]; nested: NullPointerException;\n\nSome thing interesting i just noticed. I am also getting some stats about Shards.\n\ntotal: 15\nsuccessful: 10\nfailed: 5\n\nBut yesterday i was getting \n\ntotal: 15\nsuccessful: 6\nfailed: 9\n\nthe question is, why these stats are changing? Is that some how usual ?\n\nThank you.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/23741416","html_url":"https://github.com/elastic/elasticsearch/issues/3470#issuecomment-23741416","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3470","id":23741416,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzQxNDE2","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-09-03T19:49:15Z","updated_at":"2013-09-03T19:49:15Z","author_association":"CONTRIBUTOR","body":"@tarunjangra this issue depends on a lot of things if your field data implementation uses the \"non-broken\" code paths due to segment merges you won't see the failure on all shards so this can change over time.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/23750050","html_url":"https://github.com/elastic/elasticsearch/issues/3470#issuecomment-23750050","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3470","id":23750050,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzUwMDUw","user":{"login":"pbellora","id":2474379,"node_id":"MDQ6VXNlcjI0NzQzNzk=","avatar_url":"https://avatars3.githubusercontent.com/u/2474379?v=4","gravatar_id":"","url":"https://api.github.com/users/pbellora","html_url":"https://github.com/pbellora","followers_url":"https://api.github.com/users/pbellora/followers","following_url":"https://api.github.com/users/pbellora/following{/other_user}","gists_url":"https://api.github.com/users/pbellora/gists{/gist_id}","starred_url":"https://api.github.com/users/pbellora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pbellora/subscriptions","organizations_url":"https://api.github.com/users/pbellora/orgs","repos_url":"https://api.github.com/users/pbellora/repos","events_url":"https://api.github.com/users/pbellora/events{/privacy}","received_events_url":"https://api.github.com/users/pbellora/received_events","type":"User","site_admin":false},"created_at":"2013-09-03T21:52:57Z","updated_at":"2013-09-03T21:52:57Z","author_association":"NONE","body":"Is there a known workaround in the meantime? I was also using not_analyzed for sorting, and that's breaking with an NPE in BytesRefFieldComparatorSource (I'm assuming it's the same issue). I tried using keyword analysis instead but got the same failures.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/23761709","html_url":"https://github.com/elastic/elasticsearch/issues/3470#issuecomment-23761709","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3470","id":23761709,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNzYxNzA5","user":{"login":"tarunjangra","id":153673,"node_id":"MDQ6VXNlcjE1MzY3Mw==","avatar_url":"https://avatars3.githubusercontent.com/u/153673?v=4","gravatar_id":"","url":"https://api.github.com/users/tarunjangra","html_url":"https://github.com/tarunjangra","followers_url":"https://api.github.com/users/tarunjangra/followers","following_url":"https://api.github.com/users/tarunjangra/following{/other_user}","gists_url":"https://api.github.com/users/tarunjangra/gists{/gist_id}","starred_url":"https://api.github.com/users/tarunjangra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tarunjangra/subscriptions","organizations_url":"https://api.github.com/users/tarunjangra/orgs","repos_url":"https://api.github.com/users/tarunjangra/repos","events_url":"https://api.github.com/users/tarunjangra/events{/privacy}","received_events_url":"https://api.github.com/users/tarunjangra/received_events","type":"User","site_admin":false},"created_at":"2013-09-04T02:18:57Z","updated_at":"2013-09-04T02:18:57Z","author_association":"NONE","body":"@s1monw Yep: It make sense. We are waiting for next elasticsearch release. Would like to recognise all elasticsearch team for such a great community efforts.\n\nThank you.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/31201920","html_url":"https://github.com/elastic/elasticsearch/issues/3470#issuecomment-31201920","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3470","id":31201920,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjAxOTIw","user":{"login":"mjebrini","id":490842,"node_id":"MDQ6VXNlcjQ5MDg0Mg==","avatar_url":"https://avatars3.githubusercontent.com/u/490842?v=4","gravatar_id":"","url":"https://api.github.com/users/mjebrini","html_url":"https://github.com/mjebrini","followers_url":"https://api.github.com/users/mjebrini/followers","following_url":"https://api.github.com/users/mjebrini/following{/other_user}","gists_url":"https://api.github.com/users/mjebrini/gists{/gist_id}","starred_url":"https://api.github.com/users/mjebrini/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjebrini/subscriptions","organizations_url":"https://api.github.com/users/mjebrini/orgs","repos_url":"https://api.github.com/users/mjebrini/repos","events_url":"https://api.github.com/users/mjebrini/events{/privacy}","received_events_url":"https://api.github.com/users/mjebrini/received_events","type":"User","site_admin":false},"created_at":"2013-12-25T16:45:23Z","updated_at":"2013-12-25T16:45:23Z","author_association":"NONE","body":"Hi I am searching with following query:\n\n{\n  \"query\": {\n    \"filtered\": {\n      \"query\": {\n        \"match_all\": []\n      },\n      \"filter\": {\n        \"and\": [\n          {\n            \"query\": {\n              \"match\": {\n                \"status\": \"published\"\n              }\n            }\n          },\n          {\n            \"numeric_range\": {\n              \"rate\": {\n                \"gte\": 0,\n                \"lte\": 5\n              }\n            }\n          }\n        ]\n      }\n    }\n  },\n  \"from\": 1,\n  \"size\": 5,\n  \"sort\": [\n    {\n      \"activity_id\": \"desc\"\n    }\n  ],\n  \"fields\": [\n    \"activity_id\"\n  ]\n}\n\nAfter all I get into this exception:\n\nQueryPhaseExecutionException[[activity][0]: query[ConstantScore(+QueryWrapperFilter(status:published) +rate:[0 TO 5])],from[1],size[5],sort[<custom:\\\"activity_id\\\": org.elasticsearch.index.fielddata.fieldcomparator.LongValuesComparatorSource@bda96b>!]: Query Failed [Failed to execute main query]]; nested: ElasticSearchException[java.lang.NumberFormatException: Invalid shift value in prefixCoded bytes (is encoded value really an INT?)]; nested: UncheckedExecutionException[java.lang.NumberFormatException: Invalid shift value in prefixCoded bytes (is encoded value really an INT?)]; nested: NumberFormatException[Invalid shift value in prefixCoded bytes (is encoded value really an INT?)];\n\nActually this is weird, i was facing the problem at 0.90.5 .. then I upgraded my elastic search binary to 0.90.9 and I still face the same error. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/31202109","html_url":"https://github.com/elastic/elasticsearch/issues/3470#issuecomment-31202109","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3470","id":31202109,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjAyMTA5","user":{"login":"mjebrini","id":490842,"node_id":"MDQ6VXNlcjQ5MDg0Mg==","avatar_url":"https://avatars3.githubusercontent.com/u/490842?v=4","gravatar_id":"","url":"https://api.github.com/users/mjebrini","html_url":"https://github.com/mjebrini","followers_url":"https://api.github.com/users/mjebrini/followers","following_url":"https://api.github.com/users/mjebrini/following{/other_user}","gists_url":"https://api.github.com/users/mjebrini/gists{/gist_id}","starred_url":"https://api.github.com/users/mjebrini/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjebrini/subscriptions","organizations_url":"https://api.github.com/users/mjebrini/orgs","repos_url":"https://api.github.com/users/mjebrini/repos","events_url":"https://api.github.com/users/mjebrini/events{/privacy}","received_events_url":"https://api.github.com/users/mjebrini/received_events","type":"User","site_admin":false},"created_at":"2013-12-25T16:59:30Z","updated_at":"2013-12-25T16:59:30Z","author_association":"NONE","body":"I think the sorting term is the cause of the problem!\n","performed_via_github_app":null}]