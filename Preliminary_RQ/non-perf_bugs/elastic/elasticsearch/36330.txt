{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/36330","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36330/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36330/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36330/events","html_url":"https://github.com/elastic/elasticsearch/issues/36330","id":388365827,"node_id":"MDU6SXNzdWUzODgzNjU4Mjc=","number":36330,"title":"[CI] SourceOnlySnapshotIT testSnapshotAndRestore fails reproducibly","user":{"login":"jdconrad","id":2126764,"node_id":"MDQ6VXNlcjIxMjY3NjQ=","avatar_url":"https://avatars2.githubusercontent.com/u/2126764?v=4","gravatar_id":"","url":"https://api.github.com/users/jdconrad","html_url":"https://github.com/jdconrad","followers_url":"https://api.github.com/users/jdconrad/followers","following_url":"https://api.github.com/users/jdconrad/following{/other_user}","gists_url":"https://api.github.com/users/jdconrad/gists{/gist_id}","starred_url":"https://api.github.com/users/jdconrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdconrad/subscriptions","organizations_url":"https://api.github.com/users/jdconrad/orgs","repos_url":"https://api.github.com/users/jdconrad/repos","events_url":"https://api.github.com/users/jdconrad/events{/privacy}","received_events_url":"https://api.github.com/users/jdconrad/received_events","type":"User","site_admin":false},"labels":[{"id":143077482,"node_id":"MDU6TGFiZWwxNDMwNzc0ODI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Snapshot/Restore","name":":Distributed/Snapshot/Restore","color":"0e8a16","default":false,"description":"Anything directly related to the `_snapshot/*` APIs"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2018-12-06T19:37:15Z","updated_at":"2019-01-15T14:03:09Z","closed_at":"2019-01-15T14:03:09Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"I was able to reproduce this locally.  Looks like a node wasn't able to start.\r\n\r\nREPRODUCE WITH: \r\n```\r\n./gradlew :x-pack:plugin:core:internalClusterTest \\\r\n  -Dtests.seed=3F6F96908F439A68 \\\r\n  -Dtests.class=org.elasticsearch.snapshots.SourceOnlySnapshotIT \\\r\n  -Dtests.method=\"testSnapshotAndRestore\" \\\r\n  -Dtests.security.manager=true \\\r\n  -Dtests.locale=fi \\\r\n  -Dtests.timezone=Africa/Lome \\\r\n  -Dcompiler.java=11 \\\r\n  -Druntime.java=8\r\n```\r\n\r\nCONSOLE:\r\n```https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+intake/564/console```\r\n\r\nSTACK TRACE:\r\n```\r\nFAILURE 38.2s | SourceOnlySnapshotIT.testSnapshotAndRestore <<< FAILURES!\r\n11:07:27    > Throwable #1: java.lang.AssertionError: timed out waiting for green state\r\n11:07:27    > \tat __randomizedtesting.SeedInfo.seed([3F6F96908F439A68:FF08F5E3528C675F]:0)\r\n11:07:27    > \tat org.elasticsearch.test.ESIntegTestCase.ensureColor(ESIntegTestCase.java:970)\r\n11:07:27    > \tat org.elasticsearch.test.ESIntegTestCase.ensureGreen(ESIntegTestCase.java:926)\r\n11:07:27    > \tat org.elasticsearch.test.ESIntegTestCase.ensureGreen(ESIntegTestCase.java:915)\r\n11:07:27    > \tat org.elasticsearch.snapshots.SourceOnlySnapshotIT.testSnapshotAndRestore(SourceOnlySnapshotIT.java:121)\r\n11:07:27    > \tat java.lang.Thread.run(Thread.java:748)\r\n11:07:27   1> [2018-12-06T19:07:27,659][INFO ][o.e.n.Node               ] [suite] stopping ...\r\n11:07:27   1> [2018-12-06T19:07:27,662][INFO ][o.e.c.s.ClusterApplierService] [node_sm2] master node changed {previous [{node_s0}{7y2b9LZYSOqyP_0ClCkBZw}{OdTbtFHyReuXaQwZ6a8Idg}{127.0.0.1}{127.0.0.1:44305}], current []}, reason: becoming candidate: onLeaderFailure\r\n11:07:27   1> [2018-12-06T19:07:27,666][INFO ][o.e.c.s.ClusterApplierService] [node_sd4] master node changed {previous [{node_s0}{7y2b9LZYSOqyP_0ClCkBZw}{OdTbtFHyReuXaQwZ6a8Idg}{127.0.0.1}{127.0.0.1:44305}], current []}, reason: becoming candidate: onLeaderFailure\r\n11:07:27   1> [2018-12-06T19:07:27,662][INFO ][o.e.c.s.ClusterApplierService] [node_sc1] master node changed {previous [{node_s0}{7y2b9LZYSOqyP_0ClCkBZw}{OdTbtFHyReuXaQwZ6a8Idg}{127.0.0.1}{127.0.0.1:44305}], current []}, reason: becoming candidate: onLeaderFailure\r\n11:07:27   1> [2018-12-06T19:07:27,665][INFO ][o.e.n.Node               ] [suite] stopped\r\n11:07:27   1> [2018-12-06T19:07:27,668][INFO ][o.e.n.Node               ] [suite] closing ...\r\n11:07:27   1> [2018-12-06T19:07:27,675][WARN ][o.e.c.NodeConnectionsService] [node_sm2] failed to connect to node {node_s0}{7y2b9LZYSOqyP_0ClCkBZw}{OdTbtFHyReuXaQwZ6a8Idg}{127.0.0.1}{127.0.0.1:44305} (tried [1] times)\r\n11:07:27   1> org.elasticsearch.transport.ConnectTransportException: [node_s0][127.0.0.1:44305] connect_exception\r\n11:07:27   1> \tat org.elasticsearch.transport.TcpTransport$ChannelsConnectedListener.onFailure(TcpTransport.java:1628) ~[elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.action.ActionListener.lambda$toBiConsumer$2(ActionListener.java:98) ~[elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.common.concurrent.CompletableContext.lambda$addListener$0(CompletableContext.java:42) ~[elasticsearch-core-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:760) ~[?:1.8.0_192]\r\n11:07:27   1> \tat java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:778) ~[?:1.8.0_192]\r\n11:07:27   1> \tat java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2140) ~[?:1.8.0_192]\r\n11:07:27   1> \tat org.elasticsearch.common.concurrent.CompletableContext.addListener(CompletableContext.java:45) ~[elasticsearch-core-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.nio.SocketChannelContext.addConnectListener(SocketChannelContext.java:82) ~[elasticsearch-nio-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.nio.NioSocketChannel.addConnectListener(NioSocketChannel.java:77) ~[elasticsearch-nio-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.transport.nio.MockNioTransport$MockSocketChannel.addConnectListener(MockNioTransport.java:302) ~[framework-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.transport.TcpTransport.initiateConnection(TcpTransport.java:394) ~[elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.transport.TcpTransport.openConnection(TcpTransport.java:361) ~[elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.transport.ConnectionManager.internalOpenConnection(ConnectionManager.java:223) ~[elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.transport.ConnectionManager.connectToNode(ConnectionManager.java:109) ~[elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.transport.TransportService.connectToNode(TransportService.java:372) ~[elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.transport.TransportService.connectToNode(TransportService.java:359) ~[elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.cluster.NodeConnectionsService.validateAndConnectIfNeeded(NodeConnectionsService.java:156) [elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.cluster.NodeConnectionsService$1.doRun(NodeConnectionsService.java:109) [elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:759) [elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) [elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_192]\r\n11:07:27   1> \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_192]\r\n11:07:27   1> \tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_192]\r\n11:07:27   1> Caused by: java.net.ConnectException: Connection refused\r\n11:07:27   1> \tat sun.nio.ch.SocketChannelImpl.checkConnect(Native Method) ~[?:?]\r\n11:07:27   1> \tat sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717) ~[?:?]\r\n11:07:27   1> \tat org.elasticsearch.nio.SocketChannelContext.connect(SocketChannelContext.java:116) ~[elasticsearch-nio-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.nio.EventHandler.handleConnect(EventHandler.java:97) ~[elasticsearch-nio-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.transport.nio.TestingSocketEventHandler.handleConnect(TestingSocketEventHandler.java:43) ~[framework-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.nio.NioSelector.attemptConnect(NioSelector.java:363) ~[elasticsearch-nio-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.nio.NioSelector.setUpNewChannels(NioSelector.java:380) ~[elasticsearch-nio-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.nio.NioSelector.preSelect(NioSelector.java:230) ~[elasticsearch-nio-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.nio.NioSelector.singleLoop(NioSelector.java:133) ~[elasticsearch-nio-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.nio.NioSelector.runLoop(NioSelector.java:109) ~[elasticsearch-nio-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \t... 1 more\r\n11:07:27   1> [2018-12-06T19:07:27,676][WARN ][o.e.c.NodeConnectionsService] [node_sc1] failed to connect to node {node_s0}{7y2b9LZYSOqyP_0ClCkBZw}{OdTbtFHyReuXaQwZ6a8Idg}{127.0.0.1}{127.0.0.1:44305} (tried [1] times)\r\n11:07:27   1> org.elasticsearch.transport.ConnectTransportException: [node_s0][127.0.0.1:44305] connect_exception\r\n11:07:27   1> \tat org.elasticsearch.transport.TcpTransport$ChannelsConnectedListener.onFailure(TcpTransport.java:1628) ~[elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.action.ActionListener.lambda$toBiConsumer$2(ActionListener.java:98) ~[elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.common.concurrent.CompletableContext.lambda$addListener$0(CompletableContext.java:42) ~[elasticsearch-core-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:760) ~[?:1.8.0_192]\r\n11:07:27   1> \tat java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:778) ~[?:1.8.0_192]\r\n11:07:27   1> \tat java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2140) ~[?:1.8.0_192]\r\n11:07:27   1> \tat org.elasticsearch.common.concurrent.CompletableContext.addListener(CompletableContext.java:45) ~[elasticsearch-core-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.nio.SocketChannelContext.addConnectListener(SocketChannelContext.java:82) ~[elasticsearch-nio-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.nio.NioSocketChannel.addConnectListener(NioSocketChannel.java:77) ~[elasticsearch-nio-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.transport.nio.MockNioTransport$MockSocketChannel.addConnectListener(MockNioTransport.java:302) ~[framework-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.transport.TcpTransport.initiateConnection(TcpTransport.java:394) ~[elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.transport.TcpTransport.openConnection(TcpTransport.java:361) ~[elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.transport.ConnectionManager.internalOpenConnection(ConnectionManager.java:223) ~[elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.transport.ConnectionManager.connectToNode(ConnectionManager.java:109) ~[elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.transport.TransportService.connectToNode(TransportService.java:372) ~[elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.transport.TransportService.connectToNode(TransportService.java:359) ~[elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.cluster.NodeConnectionsService.validateAndConnectIfNeeded(NodeConnectionsService.java:156) [elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.cluster.NodeConnectionsService$1.doRun(NodeConnectionsService.java:109) [elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:759) [elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) [elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_192]\r\n11:07:27   1> \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_192]\r\n11:07:27   1> \tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_192]\r\n11:07:27   1> Caused by: java.net.ConnectException: Connection refused\r\n11:07:27   1> \tat sun.nio.ch.SocketChannelImpl.checkConnect(Native Method) ~[?:?]\r\n11:07:27   1> \tat sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717) ~[?:?]\r\n11:07:27   1> \tat org.elasticsearch.nio.SocketChannelContext.connect(SocketChannelContext.java:116) ~[elasticsearch-nio-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.nio.EventHandler.handleConnect(EventHandler.java:97) ~[elasticsearch-nio-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.transport.nio.TestingSocketEventHandler.handleConnect(TestingSocketEventHandler.java:43) ~[framework-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.nio.NioSelector.attemptConnect(NioSelector.java:363) ~[elasticsearch-nio-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.nio.NioSelector.setUpNewChannels(NioSelector.java:380) ~[elasticsearch-nio-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.nio.NioSelector.preSelect(NioSelector.java:230) ~[elasticsearch-nio-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.nio.NioSelector.singleLoop(NioSelector.java:133) ~[elasticsearch-nio-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.nio.NioSelector.runLoop(NioSelector.java:109) ~[elasticsearch-nio-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \t... 1 more\r\n11:07:27   1> [2018-12-06T19:07:27,678][WARN ][o.e.c.NodeConnectionsService] [node_sd4] failed to connect to node {node_s0}{7y2b9LZYSOqyP_0ClCkBZw}{OdTbtFHyReuXaQwZ6a8Idg}{127.0.0.1}{127.0.0.1:44305} (tried [1] times)\r\n11:07:27   1> org.elasticsearch.transport.ConnectTransportException: [node_s0][127.0.0.1:44305] connect_exception\r\n11:07:27   1> \tat org.elasticsearch.transport.TcpTransport$ChannelsConnectedListener.onFailure(TcpTransport.java:1628) ~[elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.action.ActionListener.lambda$toBiConsumer$2(ActionListener.java:98) ~[elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.common.concurrent.CompletableContext.lambda$addListener$0(CompletableContext.java:42) ~[elasticsearch-core-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:760) ~[?:1.8.0_192]\r\n11:07:27   1> \tat java.util.concurrent.CompletableFuture.uniWhenCompleteStage(CompletableFuture.java:778) ~[?:1.8.0_192]\r\n11:07:27   1> \tat java.util.concurrent.CompletableFuture.whenComplete(CompletableFuture.java:2140) ~[?:1.8.0_192]\r\n11:07:27   1> \tat org.elasticsearch.common.concurrent.CompletableContext.addListener(CompletableContext.java:45) ~[elasticsearch-core-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.nio.SocketChannelContext.addConnectListener(SocketChannelContext.java:82) ~[elasticsearch-nio-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.nio.NioSocketChannel.addConnectListener(NioSocketChannel.java:77) ~[elasticsearch-nio-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.transport.nio.MockNioTransport$MockSocketChannel.addConnectListener(MockNioTransport.java:302) ~[framework-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.transport.TcpTransport.initiateConnection(TcpTransport.java:394) ~[elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.transport.TcpTransport.openConnection(TcpTransport.java:361) ~[elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.transport.ConnectionManager.internalOpenConnection(ConnectionManager.java:223) ~[elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.transport.ConnectionManager.connectToNode(ConnectionManager.java:109) ~[elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.transport.TransportService.connectToNode(TransportService.java:372) ~[elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.transport.TransportService.connectToNode(TransportService.java:359) ~[elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.cluster.NodeConnectionsService.validateAndConnectIfNeeded(NodeConnectionsService.java:156) [elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.cluster.NodeConnectionsService$1.doRun(NodeConnectionsService.java:109) [elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:759) [elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) [elasticsearch-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_192]\r\n11:07:27   1> \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_192]\r\n11:07:27   1> \tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_192]\r\n11:07:27   1> Caused by: java.net.ConnectException: Connection refused\r\n11:07:27   1> \tat sun.nio.ch.SocketChannelImpl.checkConnect(Native Method) ~[?:?]\r\n11:07:27   1> \tat sun.nio.ch.SocketChannelImpl.finishConnect(SocketChannelImpl.java:717) ~[?:?]\r\n11:07:27   1> \tat org.elasticsearch.nio.SocketChannelContext.connect(SocketChannelContext.java:116) ~[elasticsearch-nio-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.nio.EventHandler.handleConnect(EventHandler.java:97) ~[elasticsearch-nio-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.transport.nio.TestingSocketEventHandler.handleConnect(TestingSocketEventHandler.java:43) ~[framework-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.nio.NioSelector.attemptConnect(NioSelector.java:363) ~[elasticsearch-nio-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.nio.NioSelector.setUpNewChannels(NioSelector.java:380) ~[elasticsearch-nio-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.nio.NioSelector.preSelect(NioSelector.java:230) ~[elasticsearch-nio-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.nio.NioSelector.singleLoop(NioSelector.java:133) ~[elasticsearch-nio-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \tat org.elasticsearch.nio.NioSelector.runLoop(NioSelector.java:109) ~[elasticsearch-nio-7.0.0-SNAPSHOT.jar:7.0.0-SNAPSHOT]\r\n11:07:27   1> \t... 1 more```","closed_by":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"performed_via_github_app":null}