{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/40099","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40099/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40099/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40099/events","html_url":"https://github.com/elastic/elasticsearch/issues/40099","id":421556280,"node_id":"MDU6SXNzdWU0MjE1NTYyODA=","number":40099,"title":"[CI] Packaging test93ElasticsearchNodeCustomDataPathAndNotEsHomeWorkDir failure","user":{"login":"davidkyle","id":2353640,"node_id":"MDQ6VXNlcjIzNTM2NDA=","avatar_url":"https://avatars1.githubusercontent.com/u/2353640?v=4","gravatar_id":"","url":"https://api.github.com/users/davidkyle","html_url":"https://github.com/davidkyle","followers_url":"https://api.github.com/users/davidkyle/followers","following_url":"https://api.github.com/users/davidkyle/following{/other_user}","gists_url":"https://api.github.com/users/davidkyle/gists{/gist_id}","starred_url":"https://api.github.com/users/davidkyle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidkyle/subscriptions","organizations_url":"https://api.github.com/users/davidkyle/orgs","repos_url":"https://api.github.com/users/davidkyle/repos","events_url":"https://api.github.com/users/davidkyle/events{/privacy}","received_events_url":"https://api.github.com/users/davidkyle/received_events","type":"User","site_admin":false},"labels":[{"id":114977275,"node_id":"MDU6TGFiZWwxMTQ5NzcyNzU=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Packaging","name":":Delivery/Packaging","color":"0e8a16","default":false,"description":"RPM and deb packaging, tar and zip archives, shell and batch scripts"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"},{"id":1194435738,"node_id":"MDU6TGFiZWwxMTk0NDM1NzM4","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v8.0.0","name":"v8.0.0","color":"dddddd","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-03-15T14:49:12Z","updated_at":"2020-11-11T21:55:55Z","closed_at":"2019-03-16T02:50:27Z","author_association":"MEMBER","active_lock_reason":null,"body":"https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+packaging-tests/564/console and https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+packaging-tests/563/console\r\n\r\n```\r\n./gradlew \":qa:vagrant:vagrantCentos6#javaPackagingTest\" \\\r\n  -Dtests.seed=309F2A0C5F7D5BF2 \r\n```\r\n\r\nThe Error:\r\n\r\n```\r\nThere were 2 failures:\r\n1) test93ElasticsearchNodeCustomDataPathAndNotEsHomeWorkDir(org.elasticsearch.packaging.test.DefaultNoJdkLinuxTarTests)\r\njava.lang.RuntimeException: Command was not successful: [bash -c sudo -E -u elasticsearch /tmp/elasticsearch/bin/elasticsearch -d -p /tmp/elasticsearch/elasticsearch.pid] result: <org.elasticsearch.packaging.util.Shell$Result exitCode = [1] stdout = [] stderr = [could not find java in JAVA_HOME or bundled at /tmp/elasticsearch/jdk/bin/java\r\n]>\r\n\tat __randomizedtesting.SeedInfo.seed([EB06EA8356E8CB41:E5FBE4F0B0490495]:0)\r\n\tat org.elasticsearch.packaging.util.Shell.runScript(Shell.java:89)\r\n\tat org.elasticsearch.packaging.util.Shell.run(Shell.java:60)\r\n\tat org.elasticsearch.packaging.util.Archives.lambda$runElasticsearch$12(Archives.java:274)\r\n\tat org.elasticsearch.packaging.util.Platforms.onLinux(Platforms.java:76)\r\n\tat org.elasticsearch.packaging.util.Archives.runElasticsearch(Archives.java:267)\r\n\tat org.elasticsearch.packaging.util.Archives.runElasticsearch(Archives.java:259)\r\n\tat org.elasticsearch.packaging.test.ArchiveTestCase.test93ElasticsearchNodeCustomDataPathAndNotEsHomeWorkDir(ArchiveTestCase.java:372)\r\n...\r\n\r\n2) test93ElasticsearchNodeCustomDataPathAndNotEsHomeWorkDir(org.elasticsearch.packaging.test.OssNoJdkLinuxTarTests)\r\njava.lang.RuntimeException: Command was not successful: [bash -c sudo -E -u elasticsearch /tmp/elasticsearch/bin/elasticsearch -d -p /tmp/elasticsearch/elasticsearch.pid] result: <org.elasticsearch.packaging.util.Shell$Result exitCode = [1] stdout = [] stderr = [could not find java in JAVA_HOME or bundled at /tmp/elasticsearch/jdk/bin/java\r\n]>\r\n\tat __randomizedtesting.SeedInfo.seed([286125A95D302B24:269C2BDABB91E4F0]:0)\r\n\tat org.elasticsearch.packaging.util.Shell.runScript(Shell.java:89)\r\n\tat org.elasticsearch.packaging.util.Shell.run(Shell.java:60)\r\n\tat org.elasticsearch.packaging.util.Archives.lambda$runElasticsearch$12(Archives.java:274)\r\n\tat org.elasticsearch.packaging.util.Platforms.onLinux(Platforms.java:76)\r\n\tat org.elasticsearch.packaging.util.Archives.runElasticsearch(Archives.java:267)\r\n\tat org.elasticsearch.packaging.util.Archives.runElasticsearch(Archives.java:259)\r\n\tat org.elasticsearch.packaging.test.ArchiveTestCase.test93ElasticsearchNodeCustomDataPathAndNotEsHomeWorkDir(ArchiveTestCase.java:372)\r\n...\r\n```\r\n\r\n\r\n\r\n\r\n","closed_by":{"login":"andyb-elastic","id":29205940,"node_id":"MDQ6VXNlcjI5MjA1OTQw","avatar_url":"https://avatars2.githubusercontent.com/u/29205940?v=4","gravatar_id":"","url":"https://api.github.com/users/andyb-elastic","html_url":"https://github.com/andyb-elastic","followers_url":"https://api.github.com/users/andyb-elastic/followers","following_url":"https://api.github.com/users/andyb-elastic/following{/other_user}","gists_url":"https://api.github.com/users/andyb-elastic/gists{/gist_id}","starred_url":"https://api.github.com/users/andyb-elastic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andyb-elastic/subscriptions","organizations_url":"https://api.github.com/users/andyb-elastic/orgs","repos_url":"https://api.github.com/users/andyb-elastic/repos","events_url":"https://api.github.com/users/andyb-elastic/events{/privacy}","received_events_url":"https://api.github.com/users/andyb-elastic/received_events","type":"User","site_admin":false},"performed_via_github_app":null}