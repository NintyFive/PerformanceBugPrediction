{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/23960","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23960/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23960/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23960/events","html_url":"https://github.com/elastic/elasticsearch/issues/23960","id":220097550,"node_id":"MDU6SXNzdWUyMjAwOTc1NTA=","number":23960,"title":"Wrong behaviour deleting alias.","user":{"login":"myrfy001","id":11474381,"node_id":"MDQ6VXNlcjExNDc0Mzgx","avatar_url":"https://avatars2.githubusercontent.com/u/11474381?v=4","gravatar_id":"","url":"https://api.github.com/users/myrfy001","html_url":"https://github.com/myrfy001","followers_url":"https://api.github.com/users/myrfy001/followers","following_url":"https://api.github.com/users/myrfy001/following{/other_user}","gists_url":"https://api.github.com/users/myrfy001/gists{/gist_id}","starred_url":"https://api.github.com/users/myrfy001/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/myrfy001/subscriptions","organizations_url":"https://api.github.com/users/myrfy001/orgs","repos_url":"https://api.github.com/users/myrfy001/repos","events_url":"https://api.github.com/users/myrfy001/events{/privacy}","received_events_url":"https://api.github.com/users/myrfy001/received_events","type":"User","site_admin":false},"labels":[{"id":163824881,"node_id":"MDU6TGFiZWwxNjM4MjQ4ODE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Indices%20APIs","name":":Core/Features/Indices APIs","color":"0e8a16","default":false,"description":"APIs to create and manage indices"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":92913858,"node_id":"MDU6TGFiZWw5MjkxMzg1OA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/good%20first%20issue","name":"good first issue","color":"07569b","default":true,"description":"low hanging fruit"}],"state":"closed","locked":false,"assignee":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"assignees":[{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false}],"milestone":null,"comments":5,"created_at":"2017-04-07T03:19:24Z","updated_at":"2018-02-13T20:37:23Z","closed_at":"2017-06-06T09:02:18Z","author_association":"NONE","active_lock_reason":null,"body":"\r\n<!--\r\nIf you are filing a bug report, please remove the below feature\r\nrequest block and provide responses for all of the below items.\r\n-->\r\n\r\n**Elasticsearch version**:\r\n5.2.2\r\n**Plugins installed**: []\r\nhead\r\n**JVM version**:\r\njava version \"1.8.0_121\"\r\nJava(TM) SE Runtime Environment (build 1.8.0_121-b13)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.121-b13, mixed mode)\r\n**OS version**:\r\nLinux 3.10.0-229.el7.x86_64\r\n**Description of the problem including expected versus actual behavior**:\r\n\r\nWith two index named `foo_foo` and `bar_bar` with the same alias `foo` like below:\r\n\r\n|  index  | alias |\r\n| ------- | -------|\r\n| foo_foo  |  foo |\r\n| bar_bar | foo |\r\n \r\nIf use the following to remove the alias, only the alias of 'foo_foo' is removed, that's fine.\r\n```\r\nPOST /_aliases \r\n{\r\n  \"actions\": [\r\n    {\r\n      \"remove\": {\r\n        \"index\": \"foo_*\",\r\n        \"alias\": \"foo\"\r\n      }\r\n    }\r\n  ]\r\n}\r\n```\r\nBUT, if use the following to remove, both the alias of `foo_foo` and `bar_bar` will be removed, while I think only the `foo_foo` 's alias should be removed\r\n\r\n```\r\nPOST /_aliases \r\n{\r\n  \"actions\": [\r\n    {\r\n      \"remove\": {\r\n        \"index\": \"foo*\",\r\n        \"alias\": \"foo\"\r\n      }\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n**Steps to reproduce**:\r\n 1. Create Two Index using the following:\r\n```\r\nPUT /foo_foo\r\nPUT /bar_bar\r\n```\r\n 2. Add Alias for them using:\r\n```\r\nPOST /_aliases\r\n{\r\n    \"actions\" : [\r\n        { \"add\" : { \"index\" : \"foo_foo\", \"alias\" : \"foo\" } },\r\n        { \"add\" : { \"index\" : \"bar_bar\", \"alias\" : \"foo\" } }\r\n    ]\r\n}\r\n```\r\n 3. delete alias using:\r\n```\r\nPOST /_aliases \r\n{\r\n  \"actions\": [\r\n    {\r\n      \"remove\": {\r\n        \"index\": \"foo_*\",\r\n        \"alias\": \"foo\"\r\n      }\r\n    }\r\n  ]\r\n}\r\n```\r\n","closed_by":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"performed_via_github_app":null}