{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/900","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/900/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/900/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/900/events","html_url":"https://github.com/elastic/elasticsearch/issues/900","id":843812,"node_id":"MDU6SXNzdWU4NDM4MTI=","number":900,"title":"Analysis: Synonym Token Filter","user":{"login":"abtris","id":100356,"node_id":"MDQ6VXNlcjEwMDM1Ng==","avatar_url":"https://avatars3.githubusercontent.com/u/100356?v=4","gravatar_id":"","url":"https://api.github.com/users/abtris","html_url":"https://github.com/abtris","followers_url":"https://api.github.com/users/abtris/followers","following_url":"https://api.github.com/users/abtris/following{/other_user}","gists_url":"https://api.github.com/users/abtris/gists{/gist_id}","starred_url":"https://api.github.com/users/abtris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abtris/subscriptions","organizations_url":"https://api.github.com/users/abtris/orgs","repos_url":"https://api.github.com/users/abtris/repos","events_url":"https://api.github.com/users/abtris/events{/privacy}","received_events_url":"https://api.github.com/users/abtris/received_events","type":"User","site_admin":false},"labels":[{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":97022,"node_id":"MDU6TGFiZWw5NzAyMg==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v0.16.1","name":"v0.16.1","color":"DDDDDD","default":false,"description":null},{"id":97023,"node_id":"MDU6TGFiZWw5NzAyMw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v0.17.0","name":"v0.17.0","color":"DDDDDD","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/elastic/elasticsearch/milestones/6","html_url":"https://github.com/elastic/elasticsearch/milestone/6","labels_url":"https://api.github.com/repos/elastic/elasticsearch/milestones/6/labels","id":5405,"node_id":"MDk6TWlsZXN0b25lNTQwNQ==","number":6,"title":"0.16.1","description":"","creator":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"open_issues":0,"closed_issues":23,"state":"closed","created_at":"2011-04-25T14:28:07Z","updated_at":"2014-01-29T09:34:58Z","due_on":null,"closed_at":"2011-05-12T18:04:05Z"},"comments":2,"created_at":"2011-05-03T14:56:01Z","updated_at":"2011-05-12T18:09:04Z","closed_at":"2011-05-10T19:37:50Z","author_association":"NONE","active_lock_reason":null,"body":"Add a synonym token filter. The synonym token filter can be configured in the following manner:\n\n```\n{\n    \"index\" : {\n        \"analysis\" : {\n            \"analyzer\" : {\n                \"synonym\" : {\n                    \"tokenizer\" : \"whitespace\",\n                    \"filter\" : [\"synonym\"]\n                }\n            },\n            \"filter\" : {\n                \"synonym\" : {\n                    \"type\" : \"synonym\",\n                    \"synonym_path\" : \"analysis/synonym.txt\"\n                }\n            }\n        }\n    }\n}\n```\n\nThe above configured a `synonym` filter, with a path of `analysis/synonym.txt` (based from the `config` location). The `synonym` analyzer is then configured with the filter. Additional settings are: `ignore_case` (defaults to `false`), and `expand` (defaults to `true`).\n\nHere is a sample format of the file (uses the same solr file format):\n\n```\n# blank lines and lines starting with pound are comments.\n\n#Explicit mappings match any token sequence on the LHS of \"=>\"\n#and replace with all alternatives on the RHS.  These types of mappings\n#ignore the expand parameter in the schema.\n#Examples:\ni-pod, i pod => ipod,\nsea biscuit, sea biscit => seabiscuit\n\n#Equivalent synonyms may be separated with commas and give\n#no explicit mapping.  In this case the mapping behavior will\n#be taken from the expand parameter in the schema.  This allows\n#the same synonym file to be used in different synonym handling strategies.\n#Examples:\nipod, i-pod, i pod\nfoozball , foosball\nuniverse , cosmos\n\n# If expand==true, \"ipod, i-pod, i pod\" is equivalent to the explicit mapping:\nipod, i-pod, i pod => ipod, i-pod, i pod\n# If expand==false, \"ipod, i-pod, i pod\" is equivalent to the explicit mapping:\nipod, i-pod, i pod => ipod\n\n#multiple synonym mapping entries are merged.\nfoo => foo bar\nfoo => baz\n#is equivalent to\nfoo => foo bar, baz\n```\n## Original Request\n\nI'd like to see Synonym analyzer added into ElasticSearch. The Solr equivalent is the [SynonymFilterFactory](http://wiki.apache.org/solr/AnalyzersTokenizersTokenFilters#solr.SynonymFilterFactory).\n\nMy example use case is searching for jobs:\n\nWhen I search for \"ruby developer\", I'd like also documents matching \"ruby programmer\", \"ruby engineer\", \"ruby coder\" returned.\n\nWhen I search for \"ZF developer\", I'd like also documents matching \"Zend Framework programmer\", \"ZF programmer\" returned.\n\nThe synonym list could be passed similarly to the [StopAnalyzer](http://www.elasticsearch.org/guide/reference/index-modules/analysis/stop-analyzer.html).\n\nIs something like this possible to do with a [custom analyzer](http://www.elasticsearch.org/guide/reference/index-modules/analysis/custom-analyzer.html) in ES curently?\n","closed_by":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"performed_via_github_app":null}