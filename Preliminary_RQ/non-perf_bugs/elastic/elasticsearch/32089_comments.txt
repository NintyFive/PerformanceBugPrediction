[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/405231334","html_url":"https://github.com/elastic/elasticsearch/issues/32089#issuecomment-405231334","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32089","id":405231334,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTIzMTMzNA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-07-16T12:28:44Z","updated_at":"2018-07-16T12:28:44Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/405231861","html_url":"https://github.com/elastic/elasticsearch/issues/32089#issuecomment-405231861","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32089","id":405231861,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTIzMTg2MQ==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2018-07-16T12:30:49Z","updated_at":"2018-07-16T12:30:49Z","author_association":"MEMBER","body":"@dnhatn do you mind taking a look?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/408832265","html_url":"https://github.com/elastic/elasticsearch/issues/32089#issuecomment-408832265","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32089","id":408832265,"node_id":"MDEyOklzc3VlQ29tbWVudDQwODgzMjI2NQ==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2018-07-30T11:28:45Z","updated_at":"2018-07-30T11:28:45Z","author_association":"CONTRIBUTOR","body":"The same error occurred today in a 6.3 build: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.3+multijob-unix-compatibility/os=oraclelinux/213/console\r\n\r\n```\r\nFAILURE 10.3s J2 | RecoveryTests.testRetentionPolicyChangeDuringRecovery <<< FAILURES!\r\n   > Throwable #1: java.lang.AssertionError: \r\n   > Expected: <0>\r\n   >      but: was <20>\r\n   > \tat __randomizedtesting.SeedInfo.seed([709FE84094F79193:EAA4166573FF31D7]:0)\r\n   > \tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n   > \tat org.elasticsearch.indices.recovery.RecoveryTests.lambda$testRetentionPolicyChangeDuringRecovery$1(RecoveryTests.java:102)\r\n   > \tat org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:767)\r\n   > \tat org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:741)\r\n   > \tat org.elasticsearch.indices.recovery.RecoveryTests.testRetentionPolicyChangeDuringRecovery(RecoveryTests.java:102)\r\n   > \tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nIt didn't reproduce when I ran this against the 6.3 branch:\r\n\r\n```\r\n./gradlew :server:test \\\r\n  -Dtests.seed=709FE84094F79193 \\\r\n  -Dtests.class=org.elasticsearch.indices.recovery.RecoveryTests \\\r\n  -Dtests.method=\"testRetentionPolicyChangeDuringRecovery\" \\\r\n  -Dtests.security.manager=true \\\r\n  -Dtests.locale=ko \\\r\n  -Dtests.timezone=Asia/Irkutsk\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/410666516","html_url":"https://github.com/elastic/elasticsearch/issues/32089#issuecomment-410666516","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32089","id":410666516,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMDY2NjUxNg==","user":{"login":"davidkyle","id":2353640,"node_id":"MDQ6VXNlcjIzNTM2NDA=","avatar_url":"https://avatars1.githubusercontent.com/u/2353640?v=4","gravatar_id":"","url":"https://api.github.com/users/davidkyle","html_url":"https://github.com/davidkyle","followers_url":"https://api.github.com/users/davidkyle/followers","following_url":"https://api.github.com/users/davidkyle/following{/other_user}","gists_url":"https://api.github.com/users/davidkyle/gists{/gist_id}","starred_url":"https://api.github.com/users/davidkyle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidkyle/subscriptions","organizations_url":"https://api.github.com/users/davidkyle/orgs","repos_url":"https://api.github.com/users/davidkyle/repos","events_url":"https://api.github.com/users/davidkyle/events{/privacy}","received_events_url":"https://api.github.com/users/davidkyle/received_events","type":"User","site_admin":false},"created_at":"2018-08-06T10:40:18Z","updated_at":"2018-08-06T10:40:18Z","author_association":"MEMBER","body":"Another instance that did not reproduce\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+release-tests/926/console\r\n\r\n```\r\nExpected: <0>\r\n     but: was <20>\r\n\tat __randomizedtesting.SeedInfo.seed([A5DAAA599AC39A8A:3FE1547C7DCB3ACE]:0)\r\n\tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n\tat org.junit.Assert.assertThat(Assert.java:956)\r\n\tat org.junit.Assert.assertThat(Assert.java:923)\r\n\tat org.elasticsearch.indices.recovery.RecoveryTests.lambda$testRetentionPolicyChangeDuringRecovery$1(RecoveryTests.java:102)\r\n```\r\n\r\nThe failure actually came from a release build so I had to strip out `  -Dbuild.snapshot=false \\\r\n  -Dtests.jvm.argline=\"-Dbuild.snapshot=false\" ` from the reproduce line to get it to build. Still does not reproduce\r\n\r\n```\r\n./gradlew :server:test \\\r\n  -Dtests.seed=A5DAAA599AC39A8A \\\r\n  -Dtests.class=org.elasticsearch.indices.recovery.RecoveryTests \\\r\n  -Dtests.method=\"testRetentionPolicyChangeDuringRecovery\" \\\r\n  -Dtests.security.manager=true \\\r\n  -Dtests.locale=be \\\r\n  -Dtests.timezone=Indian/Mahe\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/413915382","html_url":"https://github.com/elastic/elasticsearch/issues/32089#issuecomment-413915382","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32089","id":413915382,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMzkxNTM4Mg==","user":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"created_at":"2018-08-17T16:14:53Z","updated_at":"2018-08-17T16:14:53Z","author_association":"CONTRIBUTOR","body":"This also failed today in 6.x https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+intake/2276/console\r\n\r\n```\r\nREPRODUCE WITH: ./gradlew :server:test \\\r\n  -Dtests.seed=5D41AD8C90C233F3 \\\r\n  -Dtests.class=org.elasticsearch.indices.recovery.RecoveryTests \\\r\n  -Dtests.method=\"testRetentionPolicyChangeDuringRecovery\" \\\r\n  -Dtests.security.manager=true \\\r\n  -Dtests.locale=et-EE \\\r\n  -Dtests.timezone=Etc/GMT+0 \\\r\n  -Dcompiler.java=10 \\\r\n  -Druntime.java=8\r\n```\r\n\r\n```\r\n07:14:01    > Expected: <0>\r\n07:14:01    >      but: was <20>\r\n07:14:01    > \t\tat org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\r\n07:14:01    > \t\tat org.elasticsearch.indices.recovery.RecoveryTests.lambda$testRetentionPolicyChangeDuringRecovery$1(RecoveryTests.java:106)\r\n07:14:01    > \t\tat org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:835)\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/413947860","html_url":"https://github.com/elastic/elasticsearch/issues/32089#issuecomment-413947860","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32089","id":413947860,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMzk0Nzg2MA==","user":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"created_at":"2018-08-17T18:15:13Z","updated_at":"2018-08-17T18:15:13Z","author_association":"MEMBER","body":"I've muted this test as we should have enough information with the latest failure.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/413991586","html_url":"https://github.com/elastic/elasticsearch/issues/32089#issuecomment-413991586","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/32089","id":413991586,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMzk5MTU4Ng==","user":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"created_at":"2018-08-17T21:21:27Z","updated_at":"2018-08-17T21:21:27Z","author_association":"MEMBER","body":"I opened https://github.com/elastic/elasticsearch/pull/32967.","performed_via_github_app":null}]