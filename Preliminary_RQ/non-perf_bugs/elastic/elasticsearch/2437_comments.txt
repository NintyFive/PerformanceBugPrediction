[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/10668000","html_url":"https://github.com/elastic/elasticsearch/issues/2437#issuecomment-10668000","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2437","id":10668000,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNjY4MDAw","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2012-11-23T19:30:13Z","updated_at":"2012-11-23T19:30:13Z","author_association":"MEMBER","body":"Can you possibly gist your ifconfig options? Or execute elasticsearch with `monitor.network` set to `DEBUG` in teh logging and gist its output (it prints what Java sees as part of the configuration). Want to full understand your config before we suggest a solution.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/10669323","html_url":"https://github.com/elastic/elasticsearch/issues/2437#issuecomment-10669323","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2437","id":10669323,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNjY5MzIz","user":{"login":"hazzadous","id":128561,"node_id":"MDQ6VXNlcjEyODU2MQ==","avatar_url":"https://avatars0.githubusercontent.com/u/128561?v=4","gravatar_id":"","url":"https://api.github.com/users/hazzadous","html_url":"https://github.com/hazzadous","followers_url":"https://api.github.com/users/hazzadous/followers","following_url":"https://api.github.com/users/hazzadous/following{/other_user}","gists_url":"https://api.github.com/users/hazzadous/gists{/gist_id}","starred_url":"https://api.github.com/users/hazzadous/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hazzadous/subscriptions","organizations_url":"https://api.github.com/users/hazzadous/orgs","repos_url":"https://api.github.com/users/hazzadous/repos","events_url":"https://api.github.com/users/hazzadous/events{/privacy}","received_events_url":"https://api.github.com/users/hazzadous/received_events","type":"User","site_admin":false},"created_at":"2012-11-23T20:45:09Z","updated_at":"2012-11-23T20:45:09Z","author_association":"NONE","body":"Sure: I have eth0 and eth0:failover setup.  The logging I get is: https://gist.github.com/4137185\n\nGet addresses returns all addresses from all subinterfaces, in this case it happens to be the subinterface address that gets used.  This is with:\n\njava version \"1.6.0_24\"\nOpenJDK Runtime Environment (IcedTea6 1.11.5) (6b24-1.11.5-0ubuntu1~12.04.1)\nOpenJDK 64-Bit Server VM (build 20.0-b12, mixed mode)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/10677475","html_url":"https://github.com/elastic/elasticsearch/issues/2437#issuecomment-10677475","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2437","id":10677475,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNjc3NDc1","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2012-11-24T13:05:39Z","updated_at":"2012-11-24T13:05:39Z","author_association":"MEMBER","body":"And what is the configuration you specify on `network.host`? \n(also, by the way, the java version you are using is very old).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/10677993","html_url":"https://github.com/elastic/elasticsearch/issues/2437#issuecomment-10677993","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2437","id":10677993,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNjc3OTkz","user":{"login":"hazzadous","id":128561,"node_id":"MDQ6VXNlcjEyODU2MQ==","avatar_url":"https://avatars0.githubusercontent.com/u/128561?v=4","gravatar_id":"","url":"https://api.github.com/users/hazzadous","html_url":"https://github.com/hazzadous","followers_url":"https://api.github.com/users/hazzadous/followers","following_url":"https://api.github.com/users/hazzadous/following{/other_user}","gists_url":"https://api.github.com/users/hazzadous/gists{/gist_id}","starred_url":"https://api.github.com/users/hazzadous/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hazzadous/subscriptions","organizations_url":"https://api.github.com/users/hazzadous/orgs","repos_url":"https://api.github.com/users/hazzadous/repos","events_url":"https://api.github.com/users/hazzadous/events{/privacy}","received_events_url":"https://api.github.com/users/hazzadous/received_events","type":"User","site_admin":false},"created_at":"2012-11-24T14:10:02Z","updated_at":"2012-11-24T14:47:54Z","author_association":"NONE","body":"network.bind_host: 0.0.0.0\nnetwork.publish_host: _eth0:ipv4_\n\nI've also updated to openjdk 1.7 with the same result.  I'll gist over a complete example, probably better/safer than drip feeding you parts of our config.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/10678443","html_url":"https://github.com/elastic/elasticsearch/issues/2437#issuecomment-10678443","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2437","id":10678443,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNjc4NDQz","user":{"login":"hazzadous","id":128561,"node_id":"MDQ6VXNlcjEyODU2MQ==","avatar_url":"https://avatars0.githubusercontent.com/u/128561?v=4","gravatar_id":"","url":"https://api.github.com/users/hazzadous","html_url":"https://github.com/hazzadous","followers_url":"https://api.github.com/users/hazzadous/followers","following_url":"https://api.github.com/users/hazzadous/following{/other_user}","gists_url":"https://api.github.com/users/hazzadous/gists{/gist_id}","starred_url":"https://api.github.com/users/hazzadous/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hazzadous/subscriptions","organizations_url":"https://api.github.com/users/hazzadous/orgs","repos_url":"https://api.github.com/users/hazzadous/repos","events_url":"https://api.github.com/users/hazzadous/events{/privacy}","received_events_url":"https://api.github.com/users/hazzadous/received_events","type":"User","site_admin":false},"created_at":"2012-11-24T14:59:21Z","updated_at":"2012-11-24T14:59:31Z","author_association":"NONE","body":"This is probably easier to follow: https://gist.github.com/4139970\n\neth0 reports multiple addresses, the subinterface being the first ipv4 address listed and hence used for the bind.  I'd expect specifying _eth0:ipv4_ to use the non-virtual address, or at least having some way to make this explicit.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/10682809","html_url":"https://github.com/elastic/elasticsearch/issues/2437#issuecomment-10682809","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2437","id":10682809,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNjgyODA5","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2012-11-24T19:40:44Z","updated_at":"2012-11-24T19:40:44Z","author_association":"MEMBER","body":"Its strange, since based on the name, the correct one, the `eth0` should be selected. But then, I wonder what ends up happening in the logic of `NetworkUtils.getFirstNonLoopbackAddress(ni, stackType)` in terms of which addresses it returns, and if it ends up returning null. Or listing all the inet addresses ends up listing the ones for the sub interfaces as well. Hard to tell cause I can't repro it easily.\n\nCan create a custom version with much more verbose logging? Will you be able to give it a try?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/10683441","html_url":"https://github.com/elastic/elasticsearch/issues/2437#issuecomment-10683441","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2437","id":10683441,"node_id":"MDEyOklzc3VlQ29tbWVudDEwNjgzNDQx","user":{"login":"hazzadous","id":128561,"node_id":"MDQ6VXNlcjEyODU2MQ==","avatar_url":"https://avatars0.githubusercontent.com/u/128561?v=4","gravatar_id":"","url":"https://api.github.com/users/hazzadous","html_url":"https://github.com/hazzadous","followers_url":"https://api.github.com/users/hazzadous/followers","following_url":"https://api.github.com/users/hazzadous/following{/other_user}","gists_url":"https://api.github.com/users/hazzadous/gists{/gist_id}","starred_url":"https://api.github.com/users/hazzadous/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hazzadous/subscriptions","organizations_url":"https://api.github.com/users/hazzadous/orgs","repos_url":"https://api.github.com/users/hazzadous/repos","events_url":"https://api.github.com/users/hazzadous/events{/privacy}","received_events_url":"https://api.github.com/users/hazzadous/received_events","type":"User","site_admin":false},"created_at":"2012-11-24T20:39:18Z","updated_at":"2012-11-24T20:39:18Z","author_association":"NONE","body":"Just working through the code it appears that the correct interface is found, then passed to getFirstNonLoopbackAddress.  Unfortunately NetworkInterface.getInetAddresses returns all addresses including those attached to the interfaces subinterfaces.  Difficult to reproduce as its unclear what the ordering is on the returned list so sometimes the correct address is used.\n\nI'll have a stab at fixing it, failing that I'll send over some more logging.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/10870515","html_url":"https://github.com/elastic/elasticsearch/issues/2437#issuecomment-10870515","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2437","id":10870515,"node_id":"MDEyOklzc3VlQ29tbWVudDEwODcwNTE1","user":{"login":"hazzadous","id":128561,"node_id":"MDQ6VXNlcjEyODU2MQ==","avatar_url":"https://avatars0.githubusercontent.com/u/128561?v=4","gravatar_id":"","url":"https://api.github.com/users/hazzadous","html_url":"https://github.com/hazzadous","followers_url":"https://api.github.com/users/hazzadous/followers","following_url":"https://api.github.com/users/hazzadous/following{/other_user}","gists_url":"https://api.github.com/users/hazzadous/gists{/gist_id}","starred_url":"https://api.github.com/users/hazzadous/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hazzadous/subscriptions","organizations_url":"https://api.github.com/users/hazzadous/orgs","repos_url":"https://api.github.com/users/hazzadous/repos","events_url":"https://api.github.com/users/hazzadous/events{/privacy}","received_events_url":"https://api.github.com/users/hazzadous/received_events","type":"User","site_admin":false},"created_at":"2012-11-29T22:57:34Z","updated_at":"2012-11-29T22:57:34Z","author_association":"NONE","body":"I'm not proud of this solution but couldn't see anything more elegant.  Do you know if theres a better way?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/12664250","html_url":"https://github.com/elastic/elasticsearch/issues/2437#issuecomment-12664250","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2437","id":12664250,"node_id":"MDEyOklzc3VlQ29tbWVudDEyNjY0MjUw","user":{"login":"hazzadous","id":128561,"node_id":"MDQ6VXNlcjEyODU2MQ==","avatar_url":"https://avatars0.githubusercontent.com/u/128561?v=4","gravatar_id":"","url":"https://api.github.com/users/hazzadous","html_url":"https://github.com/hazzadous","followers_url":"https://api.github.com/users/hazzadous/followers","following_url":"https://api.github.com/users/hazzadous/following{/other_user}","gists_url":"https://api.github.com/users/hazzadous/gists{/gist_id}","starred_url":"https://api.github.com/users/hazzadous/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hazzadous/subscriptions","organizations_url":"https://api.github.com/users/hazzadous/orgs","repos_url":"https://api.github.com/users/hazzadous/repos","events_url":"https://api.github.com/users/hazzadous/events{/privacy}","received_events_url":"https://api.github.com/users/hazzadous/received_events","type":"User","site_admin":false},"created_at":"2013-01-24T18:01:41Z","updated_at":"2013-01-24T18:01:41Z","author_association":"NONE","body":"Is there anything more I can do on this, or is it a matter of waiting for review?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/20091213","html_url":"https://github.com/elastic/elasticsearch/issues/2437#issuecomment-20091213","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2437","id":20091213,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMDkxMjEz","user":{"login":"hazzadous","id":128561,"node_id":"MDQ6VXNlcjEyODU2MQ==","avatar_url":"https://avatars0.githubusercontent.com/u/128561?v=4","gravatar_id":"","url":"https://api.github.com/users/hazzadous","html_url":"https://github.com/hazzadous","followers_url":"https://api.github.com/users/hazzadous/followers","following_url":"https://api.github.com/users/hazzadous/following{/other_user}","gists_url":"https://api.github.com/users/hazzadous/gists{/gist_id}","starred_url":"https://api.github.com/users/hazzadous/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hazzadous/subscriptions","organizations_url":"https://api.github.com/users/hazzadous/orgs","repos_url":"https://api.github.com/users/hazzadous/repos","events_url":"https://api.github.com/users/hazzadous/events{/privacy}","received_events_url":"https://api.github.com/users/hazzadous/received_events","type":"User","site_admin":false},"created_at":"2013-06-27T01:08:12Z","updated_at":"2013-06-27T01:09:21Z","author_association":"NONE","body":"Sorry to bring this one up again, but it would be nice to not have to maintain this in our own fork.  For our specific use case we have a failover ip which is a subinterface of eth0 that we point to in dns.  Thus we have eth0 listening on both its own ip and also this failover.  With the current code, specifying **eth0** as the bind address results on whatever is returned from getInetAddresses returns first.  For internode comm. thats obviously not great, and it ends up trying to bind to the failover occasionally.  With the pull request we look for the non-subinterface address.  Can we either close this or merge?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/58640267","html_url":"https://github.com/elastic/elasticsearch/issues/2437#issuecomment-58640267","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2437","id":58640267,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjQwMjY3","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-10-10T10:51:01Z","updated_at":"2014-10-10T10:51:01Z","author_association":"CONTRIBUTOR","body":"Hi @hazzadous \n\nApologies for the slow response here.  The problem with making progress on this is the difficulty in testing it.  In your PR, you comment that you weren't sure how to test it, and we're facing the same issue.  If you have subsequently had any inspiration about how to do that, we'd love to take this forward.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/58640653","html_url":"https://github.com/elastic/elasticsearch/issues/2437#issuecomment-58640653","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2437","id":58640653,"node_id":"MDEyOklzc3VlQ29tbWVudDU4NjQwNjUz","user":{"login":"hazzadous","id":128561,"node_id":"MDQ6VXNlcjEyODU2MQ==","avatar_url":"https://avatars0.githubusercontent.com/u/128561?v=4","gravatar_id":"","url":"https://api.github.com/users/hazzadous","html_url":"https://github.com/hazzadous","followers_url":"https://api.github.com/users/hazzadous/followers","following_url":"https://api.github.com/users/hazzadous/following{/other_user}","gists_url":"https://api.github.com/users/hazzadous/gists{/gist_id}","starred_url":"https://api.github.com/users/hazzadous/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hazzadous/subscriptions","organizations_url":"https://api.github.com/users/hazzadous/orgs","repos_url":"https://api.github.com/users/hazzadous/repos","events_url":"https://api.github.com/users/hazzadous/events{/privacy}","received_events_url":"https://api.github.com/users/hazzadous/received_events","type":"User","site_admin":false},"created_at":"2014-10-10T10:55:07Z","updated_at":"2014-10-10T10:55:07Z","author_association":"NONE","body":"Yeah to be honest if no one else is interested then perhaps we should just leave this.  We have a different config now anyhow so...  I'll just close this.\n","performed_via_github_app":null}]