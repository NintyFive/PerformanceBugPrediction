[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/211841034","html_url":"https://github.com/elastic/elasticsearch/issues/17842#issuecomment-211841034","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17842","id":211841034,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMTg0MTAzNA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-04-19T10:10:07Z","updated_at":"2016-04-19T10:10:07Z","author_association":"CONTRIBUTOR","body":"The `took` time measures how long the request took.  The index time measures how much time was spent in indexing threads. Threads can execute in parallel, so two threads in parallel which take 10ms each would result in 20ms of indexing time.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/218975122","html_url":"https://github.com/elastic/elasticsearch/issues/17842#issuecomment-218975122","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17842","id":218975122,"node_id":"MDEyOklzc3VlQ29tbWVudDIxODk3NTEyMg==","user":{"login":"SKumarMN","id":2056311,"node_id":"MDQ6VXNlcjIwNTYzMTE=","avatar_url":"https://avatars2.githubusercontent.com/u/2056311?v=4","gravatar_id":"","url":"https://api.github.com/users/SKumarMN","html_url":"https://github.com/SKumarMN","followers_url":"https://api.github.com/users/SKumarMN/followers","following_url":"https://api.github.com/users/SKumarMN/following{/other_user}","gists_url":"https://api.github.com/users/SKumarMN/gists{/gist_id}","starred_url":"https://api.github.com/users/SKumarMN/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SKumarMN/subscriptions","organizations_url":"https://api.github.com/users/SKumarMN/orgs","repos_url":"https://api.github.com/users/SKumarMN/repos","events_url":"https://api.github.com/users/SKumarMN/events{/privacy}","received_events_url":"https://api.github.com/users/SKumarMN/received_events","type":"User","site_admin":false},"created_at":"2016-05-13T07:51:14Z","updated_at":"2016-05-13T07:51:14Z","author_association":"NONE","body":"@clintongormley  Thanks. How to find out the exact time of indexing activity. We are interested in finding the exact time taken for indexing millions of documents we have. Based on this we want to see how we can fine tune any indexing params\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/218979490","html_url":"https://github.com/elastic/elasticsearch/issues/17842#issuecomment-218979490","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17842","id":218979490,"node_id":"MDEyOklzc3VlQ29tbWVudDIxODk3OTQ5MA==","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"created_at":"2016-05-13T08:13:57Z","updated_at":"2016-05-13T08:13:57Z","author_association":"MEMBER","body":"@SKumarMN I am not sure what you mean by \"exact time\". There are two possibilities:\n- You want to know how many documents / second you can index, meaning you are interested in throughput. Then you should look at \"took\" (although this is only the time spent in request processing in ES. It does not and cannot include the time for the whole roundtrip. For that you have to measure on the client).\n- You want to know how much time Elasticsearch spends during indexing in total (this is _not_ Wall clock time but a sum of the time spend in all indexing threads as explained by @clintongormley earlier). Then you need to look at `index_time_in_millis`\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/219946069","html_url":"https://github.com/elastic/elasticsearch/issues/17842#issuecomment-219946069","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17842","id":219946069,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTk0NjA2OQ==","user":{"login":"SKumarMN","id":2056311,"node_id":"MDQ6VXNlcjIwNTYzMTE=","avatar_url":"https://avatars2.githubusercontent.com/u/2056311?v=4","gravatar_id":"","url":"https://api.github.com/users/SKumarMN","html_url":"https://github.com/SKumarMN","followers_url":"https://api.github.com/users/SKumarMN/followers","following_url":"https://api.github.com/users/SKumarMN/following{/other_user}","gists_url":"https://api.github.com/users/SKumarMN/gists{/gist_id}","starred_url":"https://api.github.com/users/SKumarMN/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SKumarMN/subscriptions","organizations_url":"https://api.github.com/users/SKumarMN/orgs","repos_url":"https://api.github.com/users/SKumarMN/repos","events_url":"https://api.github.com/users/SKumarMN/events{/privacy}","received_events_url":"https://api.github.com/users/SKumarMN/received_events","type":"User","site_admin":false},"created_at":"2016-05-18T07:20:08Z","updated_at":"2016-05-18T07:20:08Z","author_association":"NONE","body":"@danielmitterdorfer thanks for your response. If I want to find out the wall clock time then I need to consider \"took\" + \"round trip\" at client side right ? Using stats API is there a way to get it after certain time period? . Also how do we measure if the indexing is optimal in our cluster . Do I need to concentrate on index rate number of docs/index_time_in_millis ?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/219966647","html_url":"https://github.com/elastic/elasticsearch/issues/17842#issuecomment-219966647","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17842","id":219966647,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTk2NjY0Nw==","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"created_at":"2016-05-18T08:58:45Z","updated_at":"2016-05-18T08:59:04Z","author_association":"MEMBER","body":"@SKumarMN The \"+\" sign is implying that you want to sum up these values. Don't. \"took\" is the time it took Elasticsearch to process your request. The round trip time is something you have to measure yourself (Elasticsearch cannot know this time). You basically need to start a timer, when you issue the request and stop it when you get the response. The difference is the round trip time.\n\nThe stats API just tells you the total indexing time but not Wall clock time AFAIK.\n\nThe [Indexing Performance Tips](https://www.elastic.co/guide/en/elasticsearch/guide/current/indexing-performance.html) section of the Elasticsearch Definitive Guide should get you started on measuring. You should concentrate on the documents / second that you can add to the index. I think that [Rally](https://github.com/elastic/rally) could also help you if you don't have the necessary test infrastructure yet. But keep the following caveats in mind:\n- You need a Unix machine for Rally (I see you mention Windows 7 in the ticket). It's ok to benchmark a Windows machine though\n- You need to add your own benchmark data to Rally. It's doable but I work on simplifying this over the coming weeks.\n- You want to vary the bulk request size. That is also doable but also not well supported currently.\n","performed_via_github_app":null}]