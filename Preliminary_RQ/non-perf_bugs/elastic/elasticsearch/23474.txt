{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/23474","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23474/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23474/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23474/events","html_url":"https://github.com/elastic/elasticsearch/issues/23474","id":211587623,"node_id":"MDU6SXNzdWUyMTE1ODc2MjM=","number":23474,"title":"Get different results when using term with the same args","user":{"login":"feiTian","id":5461765,"node_id":"MDQ6VXNlcjU0NjE3NjU=","avatar_url":"https://avatars0.githubusercontent.com/u/5461765?v=4","gravatar_id":"","url":"https://api.github.com/users/feiTian","html_url":"https://github.com/feiTian","followers_url":"https://api.github.com/users/feiTian/followers","following_url":"https://api.github.com/users/feiTian/following{/other_user}","gists_url":"https://api.github.com/users/feiTian/gists{/gist_id}","starred_url":"https://api.github.com/users/feiTian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feiTian/subscriptions","organizations_url":"https://api.github.com/users/feiTian/orgs","repos_url":"https://api.github.com/users/feiTian/repos","events_url":"https://api.github.com/users/feiTian/events{/privacy}","received_events_url":"https://api.github.com/users/feiTian/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2017-03-03T03:43:13Z","updated_at":"2017-03-03T13:15:26Z","closed_at":"2017-03-03T13:15:26Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\r\nI am trying to find out a way do multi-value exact search. But I met a very wired issue. It returns different results if the sequence of args is different.\r\nI am using term to filter:\r\n* {\"filter\":  {\"term\": {\"ContentMap.gls\": [79,194,121]}}}\"\r\n* result:\r\n`{\"jsonResponse\": \"{\"took\":2,\"timed_out\":false,\"_shards\":{\"total\":1,\"successful\":1,\"failed\":0},\"hits\":{\"total\":4,\"max_score\":1.0,\"hits\":[{\"_index\":\"discover\",\"_type\":\"type_id\",\"_id\":\"BRAND:8a5974f4-8b50-4790-b02d-dd0e347c476b\",\"_score\":1.0,\"_source\":{\"ContentMap\":{\"gls\":[121]}}},{\"_index\":\"discover\",\"_type\":\"type_id\",\"_id\":\"BRAND:42150c34-8eb8-49cf-836d-b2713305d6f8\",\"_score\":1.0,\"_source\":{\"ContentMap\":{\"gls\":[121]}}},{\"_index\":\"discover\",\"_type\":\"type_id\",\"_id\":\"BRAND:19373b45-b1cf-4988-adb3-3928a3a2d34c\",\"_score\":1.0,\"_source\":{\"ContentMap\":{\"gls\":[194,121,79]}}},{\"_index\":\"discover\",\"_type\":\"type_id\",\"_id\":\"BRAND:cf523ca2-0182-4f19-97ac-03fe6541b17d\",\"_score\":1.0,\"_source\":{\"ContentMap\":{\"gls\":[121]}}}]}}\"}`\r\n\r\n* {\"filter\":  {\"term\": {\"ContentMap.gls\": [79,121,194]}}}\"\r\n* `{\"jsonResponse\": \"{\"took\":4,\"timed_out\":false,\"_shards\":{\"total\":1,\"successful\":1,\"failed\":0},\"hits\":{\"total\":10,\"max_score\":1.0,\"hits\":[{\"_index\":\"discover\",\"_type\":\"type_id\",\"_id\":\"BRAND:0607cbbf-27ed-4671-a9f1-e459a1f0fa0a\",\"_score\":1.0,\"_source\":{\"ContentMap\":{\"gls\":[194]}}},{\"_index\":\"discover\",\"_type\":\"type_id\",\"_id\":\"BRAND:c2fa70e0-b2b0-4bde-97af-57b18c3c4876\",\"_score\":1.0,\"_source\":{\"ContentMap\":{\"gls\":[194]}}},{\"_index\":\"discover\",\"_type\":\"type_id\",\"_id\":\"BRAND:19373b45-b1cf-4988-adb3-3928a3a2d34c\",\"_score\":1.0,\"_source\":{\"ContentMap\":{\"gls\":[194,121,79]}}},{\"_index\":\"discover\",\"_type\":\"type_id\",\"_id\":\"BRAND:2809c901-107d-477c-86cf-993abfda0bb7\",\"_score\":1.0,\"_source\":{\"ContentMap\":{\"gls\":[194]}}},{\"_index\":\"discover\",\"_type\":\"type_id\",\"_id\":\"BRAND:7d4e30d2-0cb8-4d9a-a1e6-a7f34bfb7bdf\",\"_score\":1.0,\"_source\":{\"ContentMap\":{\"gls\":[194]}}},{\"_index\":\"discover\",\"_type\":\"type_id\",\"_id\":\"HASHTAG:65d69173-4ac7-487c-9fab-bace3421a9bb\",\"_score\":1.0,\"_source\":{\"ContentMap\":{\"gls\":[194]}}},{\"_index\":\"discover\",\"_type\":\"type_id\",\"_id\":\"HASHTAG:de940006-9693-4713-bc74-d77e575b3e09\",\"_score\":1.0,\"_source\":{\"ContentMap\":{\"gls\":[309,193,79,23,194,241]}}},{\"_index\":\"discover\",\"_type\":\"type_id\",\"_id\":\"BRAND:89633bd7-2959-45b4-8725-12f9e097e62c\",\"_score\":1.0,\"_source\":{\"ContentMap\":{\"gls\":[194]}}},{\"_index\":\"discover\",\"_type\":\"type_id\",\"_id\":\"KOL:fb452313-86b7-4d52-bd3e-3eab0729285f\",\"_score\":1.0,\"_source\":{\"ContentMap\":{\"gls\":[194]}}},{\"_index\":\"discover\",\"_type\":\"type_id\",\"_id\":\"D#HASHTAG:f567a298-3930-4d11-a8ad-1f1829c0eb9b\",\"_score\":1.0,\"_source\":{\"ContentMap\":{\"gls\":[197,229,421,201,21,241,309,193,200,194]}}}]}}\"}\r\n`\r\n\r\nI am using the latest version of ElasticSearch.\r\nAny help will be apprecated.","closed_by":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"performed_via_github_app":null}