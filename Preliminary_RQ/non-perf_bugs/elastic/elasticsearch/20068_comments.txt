[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/240877328","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-240877328","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":240877328,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MDg3NzMyOA==","user":{"login":"jdconrad","id":2126764,"node_id":"MDQ6VXNlcjIxMjY3NjQ=","avatar_url":"https://avatars2.githubusercontent.com/u/2126764?v=4","gravatar_id":"","url":"https://api.github.com/users/jdconrad","html_url":"https://github.com/jdconrad","followers_url":"https://api.github.com/users/jdconrad/followers","following_url":"https://api.github.com/users/jdconrad/following{/other_user}","gists_url":"https://api.github.com/users/jdconrad/gists{/gist_id}","starred_url":"https://api.github.com/users/jdconrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdconrad/subscriptions","organizations_url":"https://api.github.com/users/jdconrad/orgs","repos_url":"https://api.github.com/users/jdconrad/repos","events_url":"https://api.github.com/users/jdconrad/events{/privacy}","received_events_url":"https://api.github.com/users/jdconrad/received_events","type":"User","site_admin":false},"created_at":"2016-08-18T22:33:36Z","updated_at":"2016-08-18T22:33:36Z","author_association":"CONTRIBUTOR","body":"_source is definitely a controversial issue, but as of right now, _source is only supported in update scripts within Painless.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/240878600","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-240878600","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":240878600,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MDg3ODYwMA==","user":{"login":"Bargs","id":6239176,"node_id":"MDQ6VXNlcjYyMzkxNzY=","avatar_url":"https://avatars3.githubusercontent.com/u/6239176?v=4","gravatar_id":"","url":"https://api.github.com/users/Bargs","html_url":"https://github.com/Bargs","followers_url":"https://api.github.com/users/Bargs/followers","following_url":"https://api.github.com/users/Bargs/following{/other_user}","gists_url":"https://api.github.com/users/Bargs/gists{/gist_id}","starred_url":"https://api.github.com/users/Bargs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Bargs/subscriptions","organizations_url":"https://api.github.com/users/Bargs/orgs","repos_url":"https://api.github.com/users/Bargs/repos","events_url":"https://api.github.com/users/Bargs/events{/privacy}","received_events_url":"https://api.github.com/users/Bargs/received_events","type":"User","site_admin":false},"created_at":"2016-08-18T22:39:53Z","updated_at":"2016-08-18T22:39:53Z","author_association":"NONE","body":"Sounds like the script fields docs should be updated to at least note that then. Right now they're a bit misleading because the `doc` example is in Painless and the `_source` example doesn't mention the script lang explicitly. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/240880267","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-240880267","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":240880267,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MDg4MDI2Nw==","user":{"login":"jdconrad","id":2126764,"node_id":"MDQ6VXNlcjIxMjY3NjQ=","avatar_url":"https://avatars2.githubusercontent.com/u/2126764?v=4","gravatar_id":"","url":"https://api.github.com/users/jdconrad","html_url":"https://github.com/jdconrad","followers_url":"https://api.github.com/users/jdconrad/followers","following_url":"https://api.github.com/users/jdconrad/following{/other_user}","gists_url":"https://api.github.com/users/jdconrad/gists{/gist_id}","starred_url":"https://api.github.com/users/jdconrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdconrad/subscriptions","organizations_url":"https://api.github.com/users/jdconrad/orgs","repos_url":"https://api.github.com/users/jdconrad/repos","events_url":"https://api.github.com/users/jdconrad/events{/privacy}","received_events_url":"https://api.github.com/users/jdconrad/received_events","type":"User","site_admin":false},"created_at":"2016-08-18T22:49:02Z","updated_at":"2016-08-18T22:49:02Z","author_association":"CONTRIBUTOR","body":"Yeah, I agree completely that the documentation needs to be improved.  I will be investing some significant effort into this (at least for the Painless side) over the next few weeks.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/240882095","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-240882095","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":240882095,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MDg4MjA5NQ==","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2016-08-18T22:59:10Z","updated_at":"2016-08-18T22:59:10Z","author_association":"CONTRIBUTOR","body":"I dont think it needs to be controversial for script fields? I think the fix is to move them to the `ExecutableScript` api, so they have `_source` and other stuff.\n\nThe problem is, they are using the `SearchScript` api today, which should be for the millions-of-documents case\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/240996939","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-240996939","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":240996939,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MDk5NjkzOQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-08-19T11:42:36Z","updated_at":"2016-08-19T11:42:36Z","author_association":"CONTRIBUTOR","body":"> I think the fix is to move them to the ExecutableScript api, so they have _source and other stuff.\n\n+1  It'll be a breaking change for existing scripts which currently access `_source.` and will need to change to `ctx._source.`, but I think it's the right move.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/240998493","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-240998493","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":240998493,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MDk5ODQ5Mw==","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2016-08-19T11:51:46Z","updated_at":"2016-08-19T11:51:46Z","author_association":"CONTRIBUTOR","body":"Right, \"breaking change\" is one way to look at it. \"broken now\" is another :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/244334469","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-244334469","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":244334469,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NDMzNDQ2OQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-09-02T09:57:47Z","updated_at":"2016-09-02T09:57:47Z","author_association":"CONTRIBUTOR","body":"@Bargs @epixa Could you give us some examples of how people use script fields? Do people use them to extract values from the source, or from doc values?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/244392158","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-244392158","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":244392158,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NDM5MjE1OA==","user":{"login":"Bargs","id":6239176,"node_id":"MDQ6VXNlcjYyMzkxNzY=","avatar_url":"https://avatars3.githubusercontent.com/u/6239176?v=4","gravatar_id":"","url":"https://api.github.com/users/Bargs","html_url":"https://github.com/Bargs","followers_url":"https://api.github.com/users/Bargs/followers","following_url":"https://api.github.com/users/Bargs/following{/other_user}","gists_url":"https://api.github.com/users/Bargs/gists{/gist_id}","starred_url":"https://api.github.com/users/Bargs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Bargs/subscriptions","organizations_url":"https://api.github.com/users/Bargs/orgs","repos_url":"https://api.github.com/users/Bargs/repos","events_url":"https://api.github.com/users/Bargs/events{/privacy}","received_events_url":"https://api.github.com/users/Bargs/received_events","type":"User","site_admin":false},"created_at":"2016-09-02T14:34:25Z","updated_at":"2016-09-02T14:34:25Z","author_association":"NONE","body":"@clintongormley definitely doc values up until now. Since Lucene expressions only support numerical data I don't think there was ever much point in accessing source. In fact, it looks like Kibana throws an error if you try to access _source in an expression script. With painless there might be more reason to use source, but it's hard to say how users will leverage it.\n\nAn additional (possible) complication is that Kibana scripted fields are made available on the Visualize tab as well, so the scripts can be used in aggregations. Is it possible to access source in scripts on aggregations?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/244395366","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-244395366","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":244395366,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NDM5NTM2Ng==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-09-02T14:45:32Z","updated_at":"2016-09-02T14:45:32Z","author_association":"CONTRIBUTOR","body":"> Is it possible to access source in scripts on aggregations?\n\nIn scripts it is possible. Groovy supports it now and painless doesn't. It is always much, much, much slower than using doc_values. It is a speed vs flexibility tradeoff vs education thing.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/244399363","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-244399363","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":244399363,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NDM5OTM2Mw==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-09-02T14:59:34Z","updated_at":"2016-09-02T14:59:34Z","author_association":"CONTRIBUTOR","body":"I am personally convinced we should never access _source in an aggregation. I think the majority of the users do NOT understand what that means ie.  decompressing the ENTIRE document to access a single field. I don't really think kibana should expose it that way sorry. I am -1 on accessing _source in aggs via painless\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/244417684","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-244417684","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":244417684,"node_id":"MDEyOklzc3VlQ29tbWVudDI0NDQxNzY4NA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-09-02T16:06:27Z","updated_at":"2016-09-02T16:06:27Z","author_association":"CONTRIBUTOR","body":"> I am -1 on accessing _source in aggs via painless\n\nAgreed.  Question is whether script fields should be able to access source?  I believe executable scripts don't expose doc values today, while search scripts don't expose source.  Script fields are in no-man's land between the two:  it should have access to both.  \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/251478024","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-251478024","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":251478024,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MTQ3ODAyNA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2016-10-04T18:49:28Z","updated_at":"2016-10-04T18:49:28Z","author_association":"MEMBER","body":"Give 5.0 is almost ready, there is an existing workaround I think we can \"promote\" for now, but know that it will break in the future. In painless, _source is currently available via `params._source`. This is due to a side effect of the existing scripts infrastructure, and was never intended to be used. The long term path forward is to make `_source` be a local variable available depending on the context used (for example, it would not be available in aggs or search scripts, but would be there for script fields, see #20621).\n\nGiven this workaround, I'm removing the breaking label from here. For 5.x, when backporting script context work, we can add deprecation warnings if using `params._source`.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/259985665","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-259985665","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":259985665,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTk4NTY2NQ==","user":{"login":"seschulz","id":1595747,"node_id":"MDQ6VXNlcjE1OTU3NDc=","avatar_url":"https://avatars0.githubusercontent.com/u/1595747?v=4","gravatar_id":"","url":"https://api.github.com/users/seschulz","html_url":"https://github.com/seschulz","followers_url":"https://api.github.com/users/seschulz/followers","following_url":"https://api.github.com/users/seschulz/following{/other_user}","gists_url":"https://api.github.com/users/seschulz/gists{/gist_id}","starred_url":"https://api.github.com/users/seschulz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seschulz/subscriptions","organizations_url":"https://api.github.com/users/seschulz/orgs","repos_url":"https://api.github.com/users/seschulz/repos","events_url":"https://api.github.com/users/seschulz/events{/privacy}","received_events_url":"https://api.github.com/users/seschulz/received_events","type":"User","site_admin":false},"created_at":"2016-11-11T15:45:38Z","updated_at":"2016-11-11T15:45:38Z","author_association":"NONE","body":"I would like to add that the script parameter for significant terms aggregation can not be accessed directly by painless scripts as well (like _subset_freq or _superset_freq).\n\nThe example given in the documentation is therefore incorrect.\nhttps://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-bucket-significantterms-aggregation.html#_scripted\n\nThe mentioned workaround with the \"params.\" prefix still works for me.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/260277736","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-260277736","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":260277736,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDI3NzczNg==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-11-14T08:40:59Z","updated_at":"2016-11-14T08:40:59Z","author_association":"CONTRIBUTOR","body":"@seschulz that's not  a workaround, but the correct way to access those params.  I've updated the example in the docs accordingly.  thanks for pointing it out\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/278817775","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-278817775","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":278817775,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODgxNzc3NQ==","user":{"login":"dbason","id":8053452,"node_id":"MDQ6VXNlcjgwNTM0NTI=","avatar_url":"https://avatars2.githubusercontent.com/u/8053452?v=4","gravatar_id":"","url":"https://api.github.com/users/dbason","html_url":"https://github.com/dbason","followers_url":"https://api.github.com/users/dbason/followers","following_url":"https://api.github.com/users/dbason/following{/other_user}","gists_url":"https://api.github.com/users/dbason/gists{/gist_id}","starred_url":"https://api.github.com/users/dbason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dbason/subscriptions","organizations_url":"https://api.github.com/users/dbason/orgs","repos_url":"https://api.github.com/users/dbason/repos","events_url":"https://api.github.com/users/dbason/events{/privacy}","received_events_url":"https://api.github.com/users/dbason/received_events","type":"User","site_admin":false},"created_at":"2017-02-10T00:07:38Z","updated_at":"2017-02-10T00:07:38Z","author_association":"NONE","body":"FWIW our use case for accessing source is to use the message field from Logstash indices with a regex to create an extra field.  We do this in Kibana with scripted fields and also use it in aggregations (via groovy scripts) for use with Watcher.\r\n\r\nAdmittedly this is just a stop gap until we get the field added in to Logstash correctly, but a useful one none the less.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/286763446","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-286763446","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":286763446,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Njc2MzQ0Ng==","user":{"login":"nezda","id":179091,"node_id":"MDQ6VXNlcjE3OTA5MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/179091?v=4","gravatar_id":"","url":"https://api.github.com/users/nezda","html_url":"https://github.com/nezda","followers_url":"https://api.github.com/users/nezda/followers","following_url":"https://api.github.com/users/nezda/following{/other_user}","gists_url":"https://api.github.com/users/nezda/gists{/gist_id}","starred_url":"https://api.github.com/users/nezda/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nezda/subscriptions","organizations_url":"https://api.github.com/users/nezda/orgs","repos_url":"https://api.github.com/users/nezda/repos","events_url":"https://api.github.com/users/nezda/events{/privacy}","received_events_url":"https://api.github.com/users/nezda/received_events","type":"User","site_admin":false},"created_at":"2017-03-15T14:43:50Z","updated_at":"2017-03-15T14:43:50Z","author_association":"NONE","body":"`script_fields` docs are currently wrong for this too https://www.elastic.co/guide/en/elasticsearch/reference/5.2/search-request-script-fields.html gives example:\r\n\r\n```json\r\n{\r\n        \"query\" : {\r\n            \"match_all\": {}\r\n        },\r\n        \"script_fields\" : {\r\n            \"test1\" : {\r\n                \"script\" : \"_source.obj1.obj2\"\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nwhich doesn't work - should be \r\n```\r\n{\r\n        \"query\" : {\r\n            \"match_all\": {}\r\n        },\r\n        \"script_fields\" : {\r\n            \"test1\" : {\r\n                \"script\" : \"params._source.obj1.obj2\"\r\n            }\r\n        }\r\n    }\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/286920688","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-286920688","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":286920688,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjkyMDY4OA==","user":{"login":"jdconrad","id":2126764,"node_id":"MDQ6VXNlcjIxMjY3NjQ=","avatar_url":"https://avatars2.githubusercontent.com/u/2126764?v=4","gravatar_id":"","url":"https://api.github.com/users/jdconrad","html_url":"https://github.com/jdconrad","followers_url":"https://api.github.com/users/jdconrad/followers","following_url":"https://api.github.com/users/jdconrad/following{/other_user}","gists_url":"https://api.github.com/users/jdconrad/gists{/gist_id}","starred_url":"https://api.github.com/users/jdconrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdconrad/subscriptions","organizations_url":"https://api.github.com/users/jdconrad/orgs","repos_url":"https://api.github.com/users/jdconrad/repos","events_url":"https://api.github.com/users/jdconrad/events{/privacy}","received_events_url":"https://api.github.com/users/jdconrad/received_events","type":"User","site_admin":false},"created_at":"2017-03-16T00:20:32Z","updated_at":"2017-03-16T00:20:32Z","author_association":"CONTRIBUTOR","body":"@nezda Thanks for pointing this out.  This should be fixed with #21322.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/315248484","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-315248484","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":315248484,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNTI0ODQ4NA==","user":{"login":"jeacott1","id":16600100,"node_id":"MDQ6VXNlcjE2NjAwMTAw","avatar_url":"https://avatars3.githubusercontent.com/u/16600100?v=4","gravatar_id":"","url":"https://api.github.com/users/jeacott1","html_url":"https://github.com/jeacott1","followers_url":"https://api.github.com/users/jeacott1/followers","following_url":"https://api.github.com/users/jeacott1/following{/other_user}","gists_url":"https://api.github.com/users/jeacott1/gists{/gist_id}","starred_url":"https://api.github.com/users/jeacott1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeacott1/subscriptions","organizations_url":"https://api.github.com/users/jeacott1/orgs","repos_url":"https://api.github.com/users/jeacott1/repos","events_url":"https://api.github.com/users/jeacott1/events{/privacy}","received_events_url":"https://api.github.com/users/jeacott1/received_events","type":"User","site_admin":false},"created_at":"2017-07-14T01:57:38Z","updated_at":"2017-07-14T03:06:26Z","author_association":"NONE","body":"I'm trying to sum across fields in an aggregation and am currently doing something like this: \r\n      \"aggs\": {\r\n        \"1\": {\r\n          \"sum\": {\r\n            \"script\": \"doc['my.field1'].value + doc['my.field2'].value\"\r\n          }\r\n        }\r\n      }\r\n\r\nis there a better way?\r\n\r\nunfortunately not all docs contain my.field2. \r\nI wanted to simply include an if(exists('my.field2'...\r\nand the only way I've been able to even vaguely manage this is by checking if it exists in the _source. \r\nits far from ideal, and it doesn't work in any form I can find inside an aggregation. \r\nI wanted something like this (prefer something that doesnt touch source but idk what that is).\r\nctx._source.containsKey('my.field2')?doc['my.field2'].value:0\r\n\r\n\r\nI thought this worked for a moment, but it doesnt. the \"field\":\"my.field2\" just filters instead of injecting 0 for the missing value.\r\n          \"sum\": {\r\n             \"field\" : \"my.field2\",\r\n                \"script\" : {\r\n                    \"inline\": \"_value +  doc['my.field1'].value\"\r\n                },\r\n            \"missing\": 0\r\n          }\r\n\r\nbut I really want is support for the general case.\r\nand better would be for sum/max etc to support multiple fields directly.\r\n\r\nso to the question of usecases here's one.  any hints as to how this can be achieved?\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/315318066","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-315318066","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":315318066,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNTMxODA2Ng==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2017-07-14T09:42:31Z","updated_at":"2017-07-14T09:42:31Z","author_association":"CONTRIBUTOR","body":"@jeacott1 this works just fine:\r\n\r\n```\r\nPUT t/t/1\r\n{\r\n  \"foo\": 1\r\n}\r\n\r\nPUT t/t/2\r\n{\r\n  \"foo\": 3,\r\n  \"bar\": 5\r\n}\r\n\r\nGET t/_search?size=0\r\n{\r\n  \"aggs\": {\r\n    \"sum_two_fields\": {\r\n      \"sum\": {\r\n        \"script\": {\r\n          \"inline\": \"doc['foo'].value + doc['bar'].value\"\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nreturns\r\n\r\n```\r\n{\r\n  \"took\": 4,\r\n  \"timed_out\": false,\r\n  \"_shards\": {\r\n    \"total\": 5,\r\n    \"successful\": 5,\r\n    \"failed\": 0\r\n  },\r\n  \"hits\": {\r\n    \"total\": 2,\r\n    \"max_score\": 0,\r\n    \"hits\": []\r\n  },\r\n  \"aggregations\": {\r\n    \"sum_two_fields\": {\r\n      \"value\": 9\r\n    }\r\n  }\r\n}\r\n```\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/315654678","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-315654678","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":315654678,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNTY1NDY3OA==","user":{"login":"jeacott1","id":16600100,"node_id":"MDQ6VXNlcjE2NjAwMTAw","avatar_url":"https://avatars3.githubusercontent.com/u/16600100?v=4","gravatar_id":"","url":"https://api.github.com/users/jeacott1","html_url":"https://github.com/jeacott1","followers_url":"https://api.github.com/users/jeacott1/followers","following_url":"https://api.github.com/users/jeacott1/following{/other_user}","gists_url":"https://api.github.com/users/jeacott1/gists{/gist_id}","starred_url":"https://api.github.com/users/jeacott1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeacott1/subscriptions","organizations_url":"https://api.github.com/users/jeacott1/orgs","repos_url":"https://api.github.com/users/jeacott1/repos","events_url":"https://api.github.com/users/jeacott1/events{/privacy}","received_events_url":"https://api.github.com/users/jeacott1/received_events","type":"User","site_admin":false},"created_at":"2017-07-17T01:53:57Z","updated_at":"2017-07-17T01:53:57Z","author_association":"NONE","body":"@clintongormley thanks for responding, I'm searching across 2 indexes, once contains the metric and one doesn't.\r\nI think I know whats going on. I only get results for the index containing both fields, so I get an exception, plus results for the other index. So I'm missing half the results.\r\n\r\nI have a dynamic template setting types like this\r\n```\r\n \"dynamic_templates\": [\r\n          {\r\n            \"device\": {\r\n              \"path_match\": \"dev.int.*\",\r\n              \"match_mapping_type\": \"long\",\r\n              \"mapping\": {\r\n                \"dynamic\": \"true\",\r\n                \"type\": \"integer\"\r\n              }\r\n```\r\nafter query:\r\n```\r\n   \"failures\": [\r\n      {\r\n        \"shard\": 0,\r\n        \"index\": \"test\",\r\n        \"node\": \"qaGJ4qfTTSSDFVLLcJ42eg\",\r\n        \"reason\": {\r\n          \"type\": \"script_exception\",\r\n          \"reason\": \"runtime error\",\r\n          \"script_stack\": [\r\n            \"org.elasticsearch.search.lookup.LeafDocLookup.get(LeafDocLookup.java:77)\",\r\n            \"org.elasticsearch.search.lookup.LeafDocLookup.get(LeafDocLookup.java:36)\",\r\n            \"doc['dev.int.temp2'].value +  doc['dev.int.temp1'].value\",\r\n            \"    ^---- HERE\"\r\n          ],\r\n          \"script\": \"doc['dev.int.temp2'].value +  doc['dev.int.temp1'].value\",\r\n          \"lang\": \"painless\",\r\n          \"caused_by\": {\r\n            \"type\": \"illegal_argument_exception\",\r\n            \"reason\": \"No field found for [dev.int.temp2] in mapping with types []\"\r\n          }\r\n        }\r\n      }\r\n    ]\r\n ```\r\n\r\nI don't want to explicitly define my field mappings here (thats what dynamic templates are for).\r\n\r\nif I explicitly add a mapping on the index for temp2 it works fine. \r\n```\r\n{\r\n  \"properties\": {\r\n    \"dev.int.temp2\": {\r\n          \"type\": \"integer\"\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nfor unknown types in situations like this should not ES refer to the dynamic template definition for guidance?\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/315738283","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-315738283","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":315738283,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNTczODI4Mw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2017-07-17T12:11:19Z","updated_at":"2017-07-17T12:11:19Z","author_association":"CONTRIBUTOR","body":"@jdconrad any ideas?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/315784665","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-315784665","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":315784665,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNTc4NDY2NQ==","user":{"login":"jdconrad","id":2126764,"node_id":"MDQ6VXNlcjIxMjY3NjQ=","avatar_url":"https://avatars2.githubusercontent.com/u/2126764?v=4","gravatar_id":"","url":"https://api.github.com/users/jdconrad","html_url":"https://github.com/jdconrad","followers_url":"https://api.github.com/users/jdconrad/followers","following_url":"https://api.github.com/users/jdconrad/following{/other_user}","gists_url":"https://api.github.com/users/jdconrad/gists{/gist_id}","starred_url":"https://api.github.com/users/jdconrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdconrad/subscriptions","organizations_url":"https://api.github.com/users/jdconrad/orgs","repos_url":"https://api.github.com/users/jdconrad/repos","events_url":"https://api.github.com/users/jdconrad/events{/privacy}","received_events_url":"https://api.github.com/users/jdconrad/received_events","type":"User","site_admin":false},"created_at":"2017-07-17T15:11:58Z","updated_at":"2017-07-17T15:11:58Z","author_association":"CONTRIBUTOR","body":"@jeacott1 \r\n\r\nLooking through the code, doc in Painless should just be a Map with the method containsKey.  So I believe you can do something like the following:\r\n\r\n```\"(doc.containsKey('dev.int.temp2') ? doc['dev.int.temp2'].value : 0) +  (doc.containsKey('dev.int.temp1') ? doc['dev.int.temp1'].value : 0)```\r\n\r\nIf that still gives you problems, please let me know and I'll investigate further.\r\n\r\nOn the dynamic templates, I'm not completely sure how a dynamic template should cause a non-existent field to behave.  It's probably correct the way it is now as a template shouldn't cause a field to exist if it wasn't previously defined.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/315923572","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-315923572","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":315923572,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNTkyMzU3Mg==","user":{"login":"jeacott1","id":16600100,"node_id":"MDQ6VXNlcjE2NjAwMTAw","avatar_url":"https://avatars3.githubusercontent.com/u/16600100?v=4","gravatar_id":"","url":"https://api.github.com/users/jeacott1","html_url":"https://github.com/jeacott1","followers_url":"https://api.github.com/users/jeacott1/followers","following_url":"https://api.github.com/users/jeacott1/following{/other_user}","gists_url":"https://api.github.com/users/jeacott1/gists{/gist_id}","starred_url":"https://api.github.com/users/jeacott1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeacott1/subscriptions","organizations_url":"https://api.github.com/users/jeacott1/orgs","repos_url":"https://api.github.com/users/jeacott1/repos","events_url":"https://api.github.com/users/jeacott1/events{/privacy}","received_events_url":"https://api.github.com/users/jeacott1/received_events","type":"User","site_admin":false},"created_at":"2017-07-18T00:32:06Z","updated_at":"2017-07-18T00:32:06Z","author_association":"NONE","body":"thanks jdconrad, I tried ctx._source, I cant believe I never tried doc.containsKey, it works!\r\n\r\nas for templates creating fields that dont exist, sure that seems like the correct solution, but for a query/aggregatoin involving multiple indexes where the field may/may not exist there is enough info in the system to be able to derive what a missing field type is and accommodate, even if its just by rewriting the query with doc.containsKey where appropriate. just a suggestion.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/315928276","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-315928276","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":315928276,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNTkyODI3Ng==","user":{"login":"jdconrad","id":2126764,"node_id":"MDQ6VXNlcjIxMjY3NjQ=","avatar_url":"https://avatars2.githubusercontent.com/u/2126764?v=4","gravatar_id":"","url":"https://api.github.com/users/jdconrad","html_url":"https://github.com/jdconrad","followers_url":"https://api.github.com/users/jdconrad/followers","following_url":"https://api.github.com/users/jdconrad/following{/other_user}","gists_url":"https://api.github.com/users/jdconrad/gists{/gist_id}","starred_url":"https://api.github.com/users/jdconrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdconrad/subscriptions","organizations_url":"https://api.github.com/users/jdconrad/orgs","repos_url":"https://api.github.com/users/jdconrad/repos","events_url":"https://api.github.com/users/jdconrad/events{/privacy}","received_events_url":"https://api.github.com/users/jdconrad/received_events","type":"User","site_admin":false},"created_at":"2017-07-18T01:05:21Z","updated_at":"2017-07-18T01:05:21Z","author_association":"CONTRIBUTOR","body":"@jeacott1 It is an interesting thought to have that section of the code re-written for dynamic templates, though given our current architecture this isn't possible.  Maybe something cool for the future!","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/346233640","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-346233640","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":346233640,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NjIzMzY0MA==","user":{"login":"shijiebei2009","id":4994697,"node_id":"MDQ6VXNlcjQ5OTQ2OTc=","avatar_url":"https://avatars0.githubusercontent.com/u/4994697?v=4","gravatar_id":"","url":"https://api.github.com/users/shijiebei2009","html_url":"https://github.com/shijiebei2009","followers_url":"https://api.github.com/users/shijiebei2009/followers","following_url":"https://api.github.com/users/shijiebei2009/following{/other_user}","gists_url":"https://api.github.com/users/shijiebei2009/gists{/gist_id}","starred_url":"https://api.github.com/users/shijiebei2009/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shijiebei2009/subscriptions","organizations_url":"https://api.github.com/users/shijiebei2009/orgs","repos_url":"https://api.github.com/users/shijiebei2009/repos","events_url":"https://api.github.com/users/shijiebei2009/events{/privacy}","received_events_url":"https://api.github.com/users/shijiebei2009/received_events","type":"User","site_admin":false},"created_at":"2017-11-22T03:35:13Z","updated_at":"2017-11-22T03:35:13Z","author_association":"NONE","body":"this works for me \r\n```\r\nGET actionLog/_search?from=0&size=1\r\n{\r\n  \"script_fields\": {\r\n    \"newCBID\": {\r\n      \"script\": \"params._source.CBID-10000000\"\r\n    }\r\n  },\r\n  \"query\": {\r\n    \"match_all\": {}\r\n  }\r\n}\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/346258510","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-346258510","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":346258510,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NjI1ODUxMA==","user":{"login":"shijiebei2009","id":4994697,"node_id":"MDQ6VXNlcjQ5OTQ2OTc=","avatar_url":"https://avatars0.githubusercontent.com/u/4994697?v=4","gravatar_id":"","url":"https://api.github.com/users/shijiebei2009","html_url":"https://github.com/shijiebei2009","followers_url":"https://api.github.com/users/shijiebei2009/followers","following_url":"https://api.github.com/users/shijiebei2009/following{/other_user}","gists_url":"https://api.github.com/users/shijiebei2009/gists{/gist_id}","starred_url":"https://api.github.com/users/shijiebei2009/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shijiebei2009/subscriptions","organizations_url":"https://api.github.com/users/shijiebei2009/orgs","repos_url":"https://api.github.com/users/shijiebei2009/repos","events_url":"https://api.github.com/users/shijiebei2009/events{/privacy}","received_events_url":"https://api.github.com/users/shijiebei2009/received_events","type":"User","site_admin":false},"created_at":"2017-11-22T06:46:16Z","updated_at":"2017-11-22T06:46:16Z","author_association":"NONE","body":"@rjernst \r\nwhen using script in elasticsearch, why must we use params._source to access _source in GET query, but use ctx._source to access _source in POST query, es v5.5.0","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/347907067","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-347907067","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":347907067,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NzkwNzA2Nw==","user":{"login":"jdconrad","id":2126764,"node_id":"MDQ6VXNlcjIxMjY3NjQ=","avatar_url":"https://avatars2.githubusercontent.com/u/2126764?v=4","gravatar_id":"","url":"https://api.github.com/users/jdconrad","html_url":"https://github.com/jdconrad","followers_url":"https://api.github.com/users/jdconrad/followers","following_url":"https://api.github.com/users/jdconrad/following{/other_user}","gists_url":"https://api.github.com/users/jdconrad/gists{/gist_id}","starred_url":"https://api.github.com/users/jdconrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdconrad/subscriptions","organizations_url":"https://api.github.com/users/jdconrad/orgs","repos_url":"https://api.github.com/users/jdconrad/repos","events_url":"https://api.github.com/users/jdconrad/events{/privacy}","received_events_url":"https://api.github.com/users/jdconrad/received_events","type":"User","site_admin":false},"created_at":"2017-11-29T16:02:22Z","updated_at":"2017-11-29T16:02:22Z","author_association":"CONTRIBUTOR","body":"@shijiebei2009 This has to do with what's available in different script contexts.  The documentation is being worked on to explain the discrepancies, but isn't available yet.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/372783904","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-372783904","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":372783904,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Mjc4MzkwNA==","user":{"login":"jdconrad","id":2126764,"node_id":"MDQ6VXNlcjIxMjY3NjQ=","avatar_url":"https://avatars2.githubusercontent.com/u/2126764?v=4","gravatar_id":"","url":"https://api.github.com/users/jdconrad","html_url":"https://github.com/jdconrad","followers_url":"https://api.github.com/users/jdconrad/followers","following_url":"https://api.github.com/users/jdconrad/following{/other_user}","gists_url":"https://api.github.com/users/jdconrad/gists{/gist_id}","starred_url":"https://api.github.com/users/jdconrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdconrad/subscriptions","organizations_url":"https://api.github.com/users/jdconrad/orgs","repos_url":"https://api.github.com/users/jdconrad/repos","events_url":"https://api.github.com/users/jdconrad/events{/privacy}","received_events_url":"https://api.github.com/users/jdconrad/received_events","type":"User","site_admin":false},"created_at":"2018-03-13T19:09:25Z","updated_at":"2018-03-13T19:09:25Z","author_association":"CONTRIBUTOR","body":"Closing this as there is a plan to document specific contexts which will determine where _source is available.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/542134871","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-542134871","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":542134871,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MjEzNDg3MQ==","user":{"login":"azasypkin","id":1713708,"node_id":"MDQ6VXNlcjE3MTM3MDg=","avatar_url":"https://avatars1.githubusercontent.com/u/1713708?v=4","gravatar_id":"","url":"https://api.github.com/users/azasypkin","html_url":"https://github.com/azasypkin","followers_url":"https://api.github.com/users/azasypkin/followers","following_url":"https://api.github.com/users/azasypkin/following{/other_user}","gists_url":"https://api.github.com/users/azasypkin/gists{/gist_id}","starred_url":"https://api.github.com/users/azasypkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/azasypkin/subscriptions","organizations_url":"https://api.github.com/users/azasypkin/orgs","repos_url":"https://api.github.com/users/azasypkin/repos","events_url":"https://api.github.com/users/azasypkin/events{/privacy}","received_events_url":"https://api.github.com/users/azasypkin/received_events","type":"User","site_admin":false},"created_at":"2019-10-15T09:55:18Z","updated_at":"2019-10-15T09:55:18Z","author_association":"MEMBER","body":"@jdconrad was it finally documented somewhere?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/542242685","html_url":"https://github.com/elastic/elasticsearch/issues/20068#issuecomment-542242685","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20068","id":542242685,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MjI0MjY4NQ==","user":{"login":"jdconrad","id":2126764,"node_id":"MDQ6VXNlcjIxMjY3NjQ=","avatar_url":"https://avatars2.githubusercontent.com/u/2126764?v=4","gravatar_id":"","url":"https://api.github.com/users/jdconrad","html_url":"https://github.com/jdconrad","followers_url":"https://api.github.com/users/jdconrad/followers","following_url":"https://api.github.com/users/jdconrad/following{/other_user}","gists_url":"https://api.github.com/users/jdconrad/gists{/gist_id}","starred_url":"https://api.github.com/users/jdconrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdconrad/subscriptions","organizations_url":"https://api.github.com/users/jdconrad/orgs","repos_url":"https://api.github.com/users/jdconrad/repos","events_url":"https://api.github.com/users/jdconrad/events{/privacy}","received_events_url":"https://api.github.com/users/jdconrad/received_events","type":"User","site_admin":false},"created_at":"2019-10-15T14:32:07Z","updated_at":"2019-10-15T14:32:07Z","author_association":"CONTRIBUTOR","body":"@azasypkin https://www.elastic.co/guide/en/elasticsearch/painless/master/painless-contexts.html","performed_via_github_app":null}]