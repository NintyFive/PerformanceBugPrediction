{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/19519","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19519/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19519/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19519/events","html_url":"https://github.com/elastic/elasticsearch/issues/19519","id":166585912,"node_id":"MDU6SXNzdWUxNjY1ODU5MTI=","number":19519,"title":"Elasticsearch unassigned shards causing ES and Kibana to break.","user":{"login":"mez-0","id":17616005,"node_id":"MDQ6VXNlcjE3NjE2MDA1","avatar_url":"https://avatars3.githubusercontent.com/u/17616005?v=4","gravatar_id":"","url":"https://api.github.com/users/mez-0","html_url":"https://github.com/mez-0","followers_url":"https://api.github.com/users/mez-0/followers","following_url":"https://api.github.com/users/mez-0/following{/other_user}","gists_url":"https://api.github.com/users/mez-0/gists{/gist_id}","starred_url":"https://api.github.com/users/mez-0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mez-0/subscriptions","organizations_url":"https://api.github.com/users/mez-0/orgs","repos_url":"https://api.github.com/users/mez-0/repos","events_url":"https://api.github.com/users/mez-0/events{/privacy}","received_events_url":"https://api.github.com/users/mez-0/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-07-20T13:49:39Z","updated_at":"2016-07-20T13:56:26Z","closed_at":"2016-07-20T13:54:45Z","author_association":"NONE","active_lock_reason":null,"body":"I have set up ES and Kibana to monitor some servers. We have roughly 150 servers that need to be monitored using Winlogbeat. I set it up and tested it with 2 fairly active servers, it was working fine so we decided to throw an extra 10 servers into ES using winlogbeat. At this point, ES and Kibana died and is displaying Status Red as seen here: http://pastebin.com/0DDqi0fQ\n\nThe output of curl -XGET \"http://192.168.60.90:9200/_cluster/health/?level=indices\" is: http://www.pastebin.com/y0jLHDkP\n\nI tried using curl -XGET 192.168.60.90:9200/_cat/recovery?v to see what was going on. There are thousands of entries and they are all yellow except for a few reds. Here is the output: http://pastebin.com/TC3b0A9X\n\nOne final command I found online and seems useful but I'm unsure is curl -XGET \"http://192.168.60.90:9200/_cluster/state/routing_table,routing_node\". \nI got the following: http://www.pastebin.com/LQXh747y\nThis is just a snippet of that output but as you can see there are several unassigned.\n\nSo, from what I can understand is that some instances of winlogbeat have not been assigned shards. Whats the fix here? Thanks.\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}