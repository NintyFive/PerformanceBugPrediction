[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/49871605","html_url":"https://github.com/elastic/elasticsearch/issues/2805#issuecomment-49871605","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2805","id":49871605,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODcxNjA1","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-07-23T13:17:09Z","updated_at":"2014-07-23T13:17:09Z","author_association":"CONTRIBUTOR","body":"I don't think this is really feasible.  Some queries accept a large number of options (eg `query_string`).  These days we don't just accept bad query syntax like we did before, so at least the user gets an error about which part of the query is bad.\n\nThat said I think it could still be improved,  eg in a deeply nested query, it may not be obvious which clause is being referred to. Perhaps we could have the equivalent of a query \"stack trace\" here.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/49884541","html_url":"https://github.com/elastic/elasticsearch/issues/2805#issuecomment-49884541","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2805","id":49884541,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODg0NTQx","user":{"login":"gibrown","id":820871,"node_id":"MDQ6VXNlcjgyMDg3MQ==","avatar_url":"https://avatars2.githubusercontent.com/u/820871?v=4","gravatar_id":"","url":"https://api.github.com/users/gibrown","html_url":"https://github.com/gibrown","followers_url":"https://api.github.com/users/gibrown/followers","following_url":"https://api.github.com/users/gibrown/following{/other_user}","gists_url":"https://api.github.com/users/gibrown/gists{/gist_id}","starred_url":"https://api.github.com/users/gibrown/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gibrown/subscriptions","organizations_url":"https://api.github.com/users/gibrown/orgs","repos_url":"https://api.github.com/users/gibrown/repos","events_url":"https://api.github.com/users/gibrown/events{/privacy}","received_events_url":"https://api.github.com/users/gibrown/received_events","type":"User","site_admin":false},"created_at":"2014-07-23T14:52:17Z","updated_at":"2014-07-23T14:52:17Z","author_association":"CONTRIBUTOR","body":"Thanks for taking a look at this. \n\nA query stack trace would help a lot I think.\n\nThere are a few other things that make the output very tough to grok.\n\nFor instance, here is a bad query I just ran across our 8 indices:\n\n```\n{\n   \"query\": {\n      \"filtered\": {\n            \"match_all\": {}\n      }\n   }\n}\n```\n\nEven for this simple mistake, the error output is a bad user experience: https://cloudup.com/cuHH-WJ9Uaf\n\nThis output:\n- Repeats the same error multiple times which means that the user doesn't read any of it.\n- The query is not pretty printed so it is hard to parse.\n- Just tells the user what is illegal rather than saying what was expected. (Not clear to me if the expected output was the part of my original suggestion that was not feasible vs the suggestion of returning a JSON structure).\n\nIf the fix is to reformat the output, then it would be nice to address these points as well.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/64953191","html_url":"https://github.com/elastic/elasticsearch/issues/2805#issuecomment-64953191","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2805","id":64953191,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTUzMTkx","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-11-29T14:17:31Z","updated_at":"2014-11-29T14:17:31Z","author_association":"CONTRIBUTOR","body":"Closing as duplicate of #3303\n","performed_via_github_app":null}]