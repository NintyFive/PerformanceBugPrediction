{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/31579","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31579/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31579/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31579/events","html_url":"https://github.com/elastic/elasticsearch/issues/31579","id":335816455,"node_id":"MDU6SXNzdWUzMzU4MTY0NTU=","number":31579,"title":"Should the getKey() method from GeoHashGrid return a String instead of GeoPoint","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"labels":[{"id":141141324,"node_id":"MDU6TGFiZWwxNDExNDEzMjQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Analytics/Aggregations","name":":Analytics/Aggregations","color":"0e8a16","default":false,"description":"Aggregations"},{"id":189346177,"node_id":"MDU6TGFiZWwxODkzNDYxNzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Edeprecation","name":">deprecation","color":"ce18a7","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2018-06-26T13:20:54Z","updated_at":"2018-08-06T20:07:33Z","closed_at":"2018-08-06T20:07:33Z","author_association":"MEMBER","active_lock_reason":null,"body":"The `GeoHashGrid` class is used as the interface for the `geohash_grid` aggregation. It currently has a `getKey()` method which returns a `GeoPoint` and a `getKeyAsString()` method that returns the String of the geohash for that bucket. The REST API only returns the String geohash and this is in the `key` field of the bucket.\r\n\r\nI think it would be better for the `getKey()` method to return the string representation of the geohash and to get rid of the `getKeyAsString()` method. Having the ability to get a GeoPoint from a bucket that represents a geohash cell is misleading because the cell does not represent a point but an area. Having it return a bounding box will also not suffice given that with the addition of https://github.com/elastic/elasticsearch/pull/30320 the cells may not be rectangular. Therefore I think we should remove the ability to get a `GeoPoint` from this aggregation and give the client the decision on how to represent the bucket key in their application. \r\n\r\nThis will also help implementing the high level rest client aspects of https://github.com/elastic/elasticsearch/pull/30320 as the client will not need to know about the GeoHashType being used and will only care that there is some string key for the buckets.","closed_by":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"performed_via_github_app":null}