{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/10490","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10490/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10490/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10490/events","html_url":"https://github.com/elastic/elasticsearch/issues/10490","id":67165012,"node_id":"MDU6SXNzdWU2NzE2NTAxMg==","number":10490,"title":"URI search not returning results when &fields used","user":{"login":"tnesavich","id":8219450,"node_id":"MDQ6VXNlcjgyMTk0NTA=","avatar_url":"https://avatars3.githubusercontent.com/u/8219450?v=4","gravatar_id":"","url":"https://api.github.com/users/tnesavich","html_url":"https://github.com/tnesavich","followers_url":"https://api.github.com/users/tnesavich/followers","following_url":"https://api.github.com/users/tnesavich/following{/other_user}","gists_url":"https://api.github.com/users/tnesavich/gists{/gist_id}","starred_url":"https://api.github.com/users/tnesavich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tnesavich/subscriptions","organizations_url":"https://api.github.com/users/tnesavich/orgs","repos_url":"https://api.github.com/users/tnesavich/repos","events_url":"https://api.github.com/users/tnesavich/events{/privacy}","received_events_url":"https://api.github.com/users/tnesavich/received_events","type":"User","site_admin":false},"labels":[{"id":141079527,"node_id":"MDU6TGFiZWwxNDEwNzk1Mjc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Analytics/Geo","name":":Analytics/Geo","color":"0e8a16","default":false,"description":"Indexing, search aggregations of geo points and shapes"},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-04-08T16:14:33Z","updated_at":"2016-01-17T16:33:47Z","closed_at":"2016-01-17T16:33:47Z","author_association":"NONE","active_lock_reason":null,"body":"Running into an issue with URI searches not returning expected results after upgrading from 0.90.9 to 1.4.1\n\nThe issue is that subfields are not returned when specified with \"&fields\".  I have confirmed that the data is there by doing the same search without the &fields specifications and get the Meter.geometry.coordinates.  I am not seeing anything in the release notes for 1.4.1 that indicate any change in URI search functionality.\n\nHoping someone has run into this already and can tell me how to specify subfields for results sets other than the &fields method or how to get the &fields method to work again in 1.4.1+\n\nThanks in advance.\n\n0.90.9 URI Search:\nhttps://contoso.com/customer/v1/tapsandmeters?q=Meter.servicePointId:0865540026&fields=Meter.geometry.coordinates\n\n0.90.9 URI Search Results:\n{\ntook: 2,\ntimed_out: false,\n_shards: \n{\ntotal: 3,\nsuccessful: 3,\nfailed: 0\n},\nhits: \n{\ntotal: 1,\nmax_score: 11.723421,\nhits: \n[\n{\n_index: \"customer12345\",\n_type: \"TapAndMeter\",\n_id: \"086554009008655400270865540026\",\n_score: 11.723421,\nfields: \n{\nMeter.geometry.coordinates: \n{\nlon: -104.959796299,\nlat: 39.7702803882\n}\n}\n}\n]\n}\n}\n\n1.4.1 URI Search:\nhttps://newercontoso.comcustomer/v1/tapsandmeters?q=Meter.servicePointId:0865540026&fields=Meter.geometry.coordinates\n\n1.4.1 URI Search Results:\n{\ntook: 5,\ntimed_out: false,\n_shards: \n{\ntotal: 3,\nsuccessful: 3,\nfailed: 0\n},\nhits: \n{\ntotal: 1,\nmax_score: 11.856463,\nhits: \n[\n{\n_index: \"customer12345\",\n_type: \"TapAndMeter\",\n_id: \"086554009008655400270865540026\",\n_score: 11.856463\n}\n]\n}\n}\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}