[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/73032175","html_url":"https://github.com/elastic/elasticsearch/issues/9528#issuecomment-73032175","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9528","id":73032175,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDMyMTc1","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-02-05T11:29:51Z","updated_at":"2015-02-05T11:29:51Z","author_association":"CONTRIBUTOR","body":"Hi @bakura10 \n\nNo, you can't directly get the `from` and `to`, but the `key` is the `from` value, and the next `key` is the `to` value (`to` is exclusive, while `from` is inclusive).  So you're only missing the last `to` value really (which you could calculate from the `interval`).\n\nIs this a common requirement?  (Leaving this open for others to chime in)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/73034323","html_url":"https://github.com/elastic/elasticsearch/issues/9528#issuecomment-73034323","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9528","id":73034323,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDM0MzIz","user":{"login":"bakura10","id":1198915,"node_id":"MDQ6VXNlcjExOTg5MTU=","avatar_url":"https://avatars1.githubusercontent.com/u/1198915?v=4","gravatar_id":"","url":"https://api.github.com/users/bakura10","html_url":"https://github.com/bakura10","followers_url":"https://api.github.com/users/bakura10/followers","following_url":"https://api.github.com/users/bakura10/following{/other_user}","gists_url":"https://api.github.com/users/bakura10/gists{/gist_id}","starred_url":"https://api.github.com/users/bakura10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bakura10/subscriptions","organizations_url":"https://api.github.com/users/bakura10/orgs","repos_url":"https://api.github.com/users/bakura10/repos","events_url":"https://api.github.com/users/bakura10/events{/privacy}","received_events_url":"https://api.github.com/users/bakura10/received_events","type":"User","site_admin":false},"created_at":"2015-02-05T11:49:19Z","updated_at":"2015-02-05T11:49:19Z","author_association":"NONE","body":"Obviously I could compute it myself from the interval or get the next value but this is extra work to do on the server.  I actually need to explicitly show the various ranges in my charts, so having the from and to is quite a necessity.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/73213683","html_url":"https://github.com/elastic/elasticsearch/issues/9528#issuecomment-73213683","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9528","id":73213683,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjEzNjgz","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2015-02-06T10:01:54Z","updated_at":"2015-02-06T10:01:54Z","author_association":"MEMBER","body":"we discussed this a bit and we found it hard to find a way to expose the to in the bucket in a way that's useful, meaningful, and consistent in all the related aggs (histogram, date histogram and ranges). On the other hand, I think this problem and potentially many others will be solved if we allow for scripted key formatting. In this way you can construct any description that useful for your use case. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/73213762","html_url":"https://github.com/elastic/elasticsearch/issues/9528#issuecomment-73213762","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9528","id":73213762,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjEzNzYy","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2015-02-06T10:02:32Z","updated_at":"2015-02-06T10:02:32Z","author_association":"MEMBER","body":"@bakura10 would that be useful to you?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/73216417","html_url":"https://github.com/elastic/elasticsearch/issues/9528#issuecomment-73216417","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9528","id":73216417,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjE2NDE3","user":{"login":"bakura10","id":1198915,"node_id":"MDQ6VXNlcjExOTg5MTU=","avatar_url":"https://avatars1.githubusercontent.com/u/1198915?v=4","gravatar_id":"","url":"https://api.github.com/users/bakura10","html_url":"https://github.com/bakura10","followers_url":"https://api.github.com/users/bakura10/followers","following_url":"https://api.github.com/users/bakura10/following{/other_user}","gists_url":"https://api.github.com/users/bakura10/gists{/gist_id}","starred_url":"https://api.github.com/users/bakura10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bakura10/subscriptions","organizations_url":"https://api.github.com/users/bakura10/orgs","repos_url":"https://api.github.com/users/bakura10/repos","events_url":"https://api.github.com/users/bakura10/events{/privacy}","received_events_url":"https://api.github.com/users/bakura10/received_events","type":"User","site_admin":false},"created_at":"2015-02-06T10:25:42Z","updated_at":"2015-02-06T10:25:42Z","author_association":"NONE","body":"Hhhmm I'm not sure that would be useful in my specific case, because what I need is only the from and to, and this is known by the histogram only.\n\nI don't know the technical reasons, but actually having the start and end value of histogram would be quite coherent with how date range aggregation work. Actually, histogram is nothing more than a range aggregation but with automatically computed ranges. And I was quite surprised to see the format was radically different to ranges aggregations. Ideally, we should have the key_as_string, to, to_as_string, from, from_as_string, and the ability to have keyed key (like in ranges).\n\nNow, if this is not possible, I don't think I would benefit the scripted key formatting (at least in my use case).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/73220670","html_url":"https://github.com/elastic/elasticsearch/issues/9528#issuecomment-73220670","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9528","id":73220670,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjIwNjcw","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2015-02-06T11:03:04Z","updated_at":"2015-02-06T11:03:04Z","author_association":"MEMBER","body":"@bakura10 the problem with the to key in the date case is the you probably don't want it to be exclusive. Think of buckets by week. When display the chart, you will say \"1 jan to 6 jan\" on one bar and \"7 jan to 13 jan\" on the second. This is not the case when doing histograms on price ranges (doubles) and also not in the ranges where the end is specified to be exclusive. We felt that a script would allow you to construct the key_as_string as is the best for your case.  \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/73221314","html_url":"https://github.com/elastic/elasticsearch/issues/9528#issuecomment-73221314","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9528","id":73221314,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjIxMzE0","user":{"login":"bakura10","id":1198915,"node_id":"MDQ6VXNlcjExOTg5MTU=","avatar_url":"https://avatars1.githubusercontent.com/u/1198915?v=4","gravatar_id":"","url":"https://api.github.com/users/bakura10","html_url":"https://github.com/bakura10","followers_url":"https://api.github.com/users/bakura10/followers","following_url":"https://api.github.com/users/bakura10/following{/other_user}","gists_url":"https://api.github.com/users/bakura10/gists{/gist_id}","starred_url":"https://api.github.com/users/bakura10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bakura10/subscriptions","organizations_url":"https://api.github.com/users/bakura10/orgs","repos_url":"https://api.github.com/users/bakura10/repos","events_url":"https://api.github.com/users/bakura10/events{/privacy}","received_events_url":"https://api.github.com/users/bakura10/received_events","type":"User","site_admin":false},"created_at":"2015-02-06T11:09:15Z","updated_at":"2015-02-06T11:09:44Z","author_association":"NONE","body":"Hi,\n\nThe example of week is very good. Actually, in my use case, I allow people to select both start date and end date AND an interval. For instance, if people select \"2nd february to 4th february\" with \"week\" interval, Elasticsearch will actually create a bucket for a full week (so 2nd February inclusive to 9th exclusive), which is EXACTLY what I want from a calculation point of view.\n\nIn my chart, I will therefore have a data point at \"2nd february\" that contains aggregations from 2nd february to 9th february exclusive. The problem is that because user has explicitly selected 2nd february to 4th february\", it may not be obvious what is included in the data point and what is not.\n\nTherefore, I'd like to have a tooltip over each data point, to explicitly write in plain English what is covered (for instance: \"From 2nd February to 9th February exclusive\"). But for knowing that, I need the \"from\" and \"to\" that Elasticsearch has found for me based on the interval.\n\nThat's why I do not know how script for key could help, because ultimately, the bounds are calculated by Elasticsearch histogram.\n\nDoes it make sense?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/73493361","html_url":"https://github.com/elastic/elasticsearch/issues/9528#issuecomment-73493361","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9528","id":73493361,"node_id":"MDEyOklzc3VlQ29tbWVudDczNDkzMzYx","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2015-02-09T11:20:56Z","updated_at":"2015-02-09T11:20:56Z","author_association":"MEMBER","body":"> From 2nd February to 9th February exclusive\n\nI think scripted formatting (with access to the right data) will allow you to format that message exactly as you need it , right? \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/73494116","html_url":"https://github.com/elastic/elasticsearch/issues/9528#issuecomment-73494116","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9528","id":73494116,"node_id":"MDEyOklzc3VlQ29tbWVudDczNDk0MTE2","user":{"login":"bakura10","id":1198915,"node_id":"MDQ6VXNlcjExOTg5MTU=","avatar_url":"https://avatars1.githubusercontent.com/u/1198915?v=4","gravatar_id":"","url":"https://api.github.com/users/bakura10","html_url":"https://github.com/bakura10","followers_url":"https://api.github.com/users/bakura10/followers","following_url":"https://api.github.com/users/bakura10/following{/other_user}","gists_url":"https://api.github.com/users/bakura10/gists{/gist_id}","starred_url":"https://api.github.com/users/bakura10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bakura10/subscriptions","organizations_url":"https://api.github.com/users/bakura10/orgs","repos_url":"https://api.github.com/users/bakura10/repos","events_url":"https://api.github.com/users/bakura10/events{/privacy}","received_events_url":"https://api.github.com/users/bakura10/received_events","type":"User","site_admin":false},"created_at":"2015-02-09T11:27:54Z","updated_at":"2015-02-09T11:27:54Z","author_association":"NONE","body":"The qustion is \"how access the right data\"? If elasticcsearch provides context value (the from and to), and that is available to the scripted through a \"ctx\" array, yes that would be indeed possilbe :).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/373790891","html_url":"https://github.com/elastic/elasticsearch/issues/9528#issuecomment-373790891","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9528","id":373790891,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Mzc5MDg5MQ==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2018-03-16T17:41:46Z","updated_at":"2018-03-16T17:41:46Z","author_association":"CONTRIBUTOR","body":"Related: https://github.com/elastic/elasticsearch/issues/28479 where we agreed to add from and to for each bucket.\r\n\r\ncc @elastic/es-search-aggs","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/393886206","html_url":"https://github.com/elastic/elasticsearch/issues/9528#issuecomment-393886206","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9528","id":393886206,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Mzg4NjIwNg==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2018-06-01T13:48:50Z","updated_at":"2018-06-01T13:48:50Z","author_association":"MEMBER","body":"Closing in favour of https://github.com/elastic/elasticsearch/issues/28479","performed_via_github_app":null}]