{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/3733","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3733/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3733/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3733/events","html_url":"https://github.com/elastic/elasticsearch/issues/3733","id":19720668,"node_id":"MDU6SXNzdWUxOTcyMDY2OA==","number":3733,"title":"ElasticSearch returns an empty reply when using http compression and a large size value","user":{"login":"thomasj02","id":2532431,"node_id":"MDQ6VXNlcjI1MzI0MzE=","avatar_url":"https://avatars3.githubusercontent.com/u/2532431?v=4","gravatar_id":"","url":"https://api.github.com/users/thomasj02","html_url":"https://github.com/thomasj02","followers_url":"https://api.github.com/users/thomasj02/followers","following_url":"https://api.github.com/users/thomasj02/following{/other_user}","gists_url":"https://api.github.com/users/thomasj02/gists{/gist_id}","starred_url":"https://api.github.com/users/thomasj02/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomasj02/subscriptions","organizations_url":"https://api.github.com/users/thomasj02/orgs","repos_url":"https://api.github.com/users/thomasj02/repos","events_url":"https://api.github.com/users/thomasj02/events{/privacy}","received_events_url":"https://api.github.com/users/thomasj02/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2013-09-19T00:17:58Z","updated_at":"2014-08-08T17:13:49Z","closed_at":"2014-08-08T17:13:49Z","author_association":"NONE","active_lock_reason":null,"body":"This query returns an empty reply:\n\ncurl -v --compressed -XGET \"http://pvp-01:9200/_search\" -d '{\"sort\": [{\"microtime\": {\"order\": \"asc\"}}], \"query\": {\"bool\": {\"must\": [{\"field\": {\"application\": {\"query\": \"\\\"OLSPrice 74e019ea-1f52-11e3-b935-c86000ccc28a\\\"\"}}}, {\"field\": {\"message_name\": {\"query\": \"\\\"OLSFitResultsLogMessage\\\"\"}}}, {\"range\": {\"microtime\": {\"to\": 2351890000080132, \"from\": 0}}}]}}, \"from\": 0, \"size\": 390000}'\n- About to connect() to pvp-01 port 9200 (#0)\n-   Trying 192.168.1.60... connected\n  > GET /_search HTTP/1.1\n  > User-Agent: curl/7.22.0 (x86_64-pc-linux-gnu) libcurl/7.22.0 OpenSSL/1.0.1 zlib/1.2.3.4 libidn/1.23 librtmp/2.3\n  > Host: pvp-01:9200\n  > Accept: _/_\n  > Accept-Encoding: deflate, gzip\n  > Content-Length: 327\n  > Content-Type: application/x-www-form-urlencoded\n  > \n- upload completely sent off: 327out of 327 bytes\n- Empty reply from server\n- Connection #0 to host pvp-01 left intact\n  curl: (52) Empty reply from server\n- Closing connection #0\n\nHowever, the same query without --compressed, or with \"size\": 100000 works fine.\nIf it matters, there are ~480000 matching documents to retrieve.\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}