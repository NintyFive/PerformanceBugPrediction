{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/56202","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/56202/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/56202/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/56202/events","html_url":"https://github.com/elastic/elasticsearch/issues/56202","id":612610602,"node_id":"MDU6SXNzdWU2MTI2MTA2MDI=","number":56202,"title":"Elasticsearch queries with scroll stopped working","user":{"login":"crspl","id":1543827,"node_id":"MDQ6VXNlcjE1NDM4Mjc=","avatar_url":"https://avatars0.githubusercontent.com/u/1543827?v=4","gravatar_id":"","url":"https://api.github.com/users/crspl","html_url":"https://github.com/crspl","followers_url":"https://api.github.com/users/crspl/followers","following_url":"https://api.github.com/users/crspl/following{/other_user}","gists_url":"https://api.github.com/users/crspl/gists{/gist_id}","starred_url":"https://api.github.com/users/crspl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/crspl/subscriptions","organizations_url":"https://api.github.com/users/crspl/orgs","repos_url":"https://api.github.com/users/crspl/repos","events_url":"https://api.github.com/users/crspl/events{/privacy}","received_events_url":"https://api.github.com/users/crspl/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-05-05T13:39:24Z","updated_at":"2020-10-29T06:12:27Z","closed_at":"2020-05-05T16:18:31Z","author_association":"NONE","active_lock_reason":null,"body":"Elasticsearch version: 7.6.2\r\nPlugins installed: -\r\nJVM version: shipped with ES (openjdk version \"13.0.2\" 2020-01-14)\r\nOS: Centos 7 (kernel 3.10.0-862.14.4.el7.x86_64)\r\n\r\nBug description:\r\n   Queries with 'scroll' feature stopped working even on very small indices and with v.high value for search.max_open_scroll_context (5000000). Getting error 500 'Trying to create too many scroll contexts' even if node stats doesn't show any open contexts or \"scroll current\".\r\n\r\nSteps to reproduce:\r\n   No idea unfortunately. But it started when several heavy searches using scroll were running at the end of month. Initially it worked well but then it stopped and doesn't work anymore for any index/query. \r\n\r\n[ES_BUG_DEBUG.txt](https://github.com/elastic/elasticsearch/files/4581044/ES_BUG_DEBUG.txt)\r\n\r\n","closed_by":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"performed_via_github_app":null}