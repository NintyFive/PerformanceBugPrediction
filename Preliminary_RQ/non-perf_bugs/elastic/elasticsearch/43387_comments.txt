[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503665384","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-503665384","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":503665384,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzY2NTM4NA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-06-19T17:56:10Z","updated_at":"2019-06-19T17:56:10Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503681310","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-503681310","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":503681310,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzY4MTMxMA==","user":{"login":"henningandersen","id":33268011,"node_id":"MDQ6VXNlcjMzMjY4MDEx","avatar_url":"https://avatars2.githubusercontent.com/u/33268011?v=4","gravatar_id":"","url":"https://api.github.com/users/henningandersen","html_url":"https://github.com/henningandersen","followers_url":"https://api.github.com/users/henningandersen/followers","following_url":"https://api.github.com/users/henningandersen/following{/other_user}","gists_url":"https://api.github.com/users/henningandersen/gists{/gist_id}","starred_url":"https://api.github.com/users/henningandersen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/henningandersen/subscriptions","organizations_url":"https://api.github.com/users/henningandersen/orgs","repos_url":"https://api.github.com/users/henningandersen/repos","events_url":"https://api.github.com/users/henningandersen/events{/privacy}","received_events_url":"https://api.github.com/users/henningandersen/received_events","type":"User","site_admin":false},"created_at":"2019-06-19T18:41:18Z","updated_at":"2019-06-19T18:41:18Z","author_association":"CONTRIBUTOR","body":"I am not sure, but this might be related to: #37543, where we also had threads hanging inside accept for no apparent reason. #39031 tried to improve this, but there were still issues after that.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503711277","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-503711277","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":503711277,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzcxMTI3Nw==","user":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"created_at":"2019-06-19T19:19:11Z","updated_at":"2019-06-19T19:19:11Z","author_association":"MEMBER","body":"@henningandersen it seems the linked issue only affects `6.x` though right? This happened on `7.x` where we have a different network implementation based on non-blocking IO. \r\n\r\nThat said, I'm wondering if our `close` logic that potentially closes channels outside the transport thread cloud be at fault here again ... it seems it is possible for us to close the selector on a non-transport thread, which may lock when simultaneously accepting a connection ... what is very weird about this though is it happening across multiple threads :D If this was just one thread that might be a thing ... but all transport threads locking up simultaneously is hard to explain that way?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503716609","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-503716609","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":503716609,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzcxNjYwOQ==","user":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"created_at":"2019-06-19T19:35:04Z","updated_at":"2019-06-19T19:35:19Z","author_association":"MEMBER","body":"One interesting find regarding the `close` behavior I came across now is that if I block for like 10s in `org.elasticsearch.common.concurrent.CompletableContext#addListener` (inside the listener) then my  selector loop goes into a stat where it can't even be interrupted it seems:\r\n\r\n\r\n```\r\nJun 19, 2019 9:29:22 PM com.carrotsearch.randomizedtesting.ThreadLeakControl checkThreadLeaks\r\nWARNING: Will linger awaiting termination of 1 leaked thread(s).\r\nJun 19, 2019 9:29:27 PM com.carrotsearch.randomizedtesting.ThreadLeakControl checkThreadLeaks\r\nSEVERE: 1 thread leaked from SUITE scope at org.elasticsearch.action.admin.HotThreadsIT: \r\n   1) Thread[id=36, name=elasticsearch[node_sc3][transport_worker][T#2], state=RUNNABLE, group=TGRP-HotThreadsIT]\r\n        at java.base@12/sun.nio.ch.KQueue.poll(Native Method)\r\n        at java.base@12/sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:122)\r\n        at java.base@12/sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:124)\r\n        at java.base@12/sun.nio.ch.SelectorImpl.select(SelectorImpl.java:136)\r\n        at app//org.elasticsearch.nio.NioSelector.singleLoop(NioSelector.java:162)\r\n        at app//org.elasticsearch.nio.NioSelector.runLoop(NioSelector.java:129)\r\n        at app//org.elasticsearch.nio.NioSelectorGroup$$Lambda$1602/0x00000008016cd840.run(Unknown Source)\r\n        at java.base@12/java.lang.Thread.run(Thread.java:835)\r\nJun 19, 2019 9:29:27 PM com.carrotsearch.randomizedtesting.ThreadLeakControl tryToInterruptAll\r\nINFO: Starting to interrupt leaked threads:\r\n   1) Thread[id=36, name=elasticsearch[node_sc3][transport_worker][T#2], state=RUNNABLE, group=TGRP-HotThreadsIT]\r\nJun 19, 2019 9:29:30 PM com.carrotsearch.randomizedtesting.ThreadLeakControl tryToInterruptAll\r\nSEVERE: There are still zombie threads that couldn't be terminated:\r\n   1) Thread[id=36, name=elasticsearch[node_sc3][transport_worker][T#2], state=RUNNABLE, group=TGRP-HotThreadsIT]\r\n        at java.base@12/sun.nio.ch.IOUtil.drain(Native Method)\r\n        at java.base@12/sun.nio.ch.KQueueSelectorImpl.clearInterrupt(KQueueSelectorImpl.java:298)\r\n        at java.base@12/sun.nio.ch.KQueueSelectorImpl.processEvents(KQueueSelectorImpl.java:231)\r\n        at java.base@12/sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:139)\r\n        at java.base@12/sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:124)\r\n        at java.base@12/sun.nio.ch.SelectorImpl.select(SelectorImpl.java:136)\r\n        at app//org.elasticsearch.nio.NioSelector.singleLoop(NioSelector.java:162)\r\n        at app//org.elasticsearch.nio.NioSelector.runLoop(NioSelector.java:129)\r\n        at app//org.elasticsearch.nio.NioSelectorGroup$$Lambda$1602/0x00000008016cd840.run(Unknown Source)\r\n        at java.base@12/java.lang.Thread.run(Thread.java:835)\r\n\r\ncom.carrotsearch.randomizedtesting.ThreadLeakError: 1 thread leaked from SUITE scope at org.elasticsearch.action.admin.HotThreadsIT: \r\n   1) Thread[id=36, name=elasticsearch[node_sc3][transport_worker][T#2], state=RUNNABLE, group=TGRP-HotThreadsIT]\r\n        at java.base@12/sun.nio.ch.KQueue.poll(Native Method)\r\n        at java.base@12/sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:122)\r\n        at java.base@12/sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:124)\r\n        at java.base@12/sun.nio.ch.SelectorImpl.select(SelectorImpl.java:136)\r\n        at app//org.elasticsearch.nio.NioSelector.singleLoop(NioSelector.java:162)\r\n        at app//org.elasticsearch.nio.NioSelector.runLoop(NioSelector.java:129)\r\n        at app//org.elasticsearch.nio.NioSelectorGroup$$Lambda$1602/0x00000008016cd840.run(Unknown Source)\r\n        at java.base@12/java.lang.Thread.run(Thread.java:835)\r\n\r\n\tat __randomizedtesting.SeedInfo.seed([A17BF834B35181F4]:0)\r\n\r\nREPRODUCE WITH: ./gradlew null --tests \"org.elasticsearch.action.admin.HotThreadsIT\" -Dtests.seed=A17BF834B35181F4 -Dtests.locale=en-DE -Dtests.timezone=Europe/Berlin\r\n\r\ncom.carrotsearch.randomizedtesting.ThreadLeakError: There are still zombie threads that couldn't be terminated:\r\n   1) Thread[id=36, name=elasticsearch[node_sc3][transport_worker][T#2], state=RUNNABLE, group=TGRP-HotThreadsIT]\r\n        at java.base@12/sun.nio.ch.IOUtil.drain(Native Method)\r\n        at java.base@12/sun.nio.ch.KQueueSelectorImpl.clearInterrupt(KQueueSelectorImpl.java:298)\r\n        at java.base@12/sun.nio.ch.KQueueSelectorImpl.processEvents(KQueueSelectorImpl.java:231)\r\n        at java.base@12/sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:139)\r\n        at java.base@12/sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:124)\r\n        at java.base@12/sun.nio.ch.SelectorImpl.select(SelectorImpl.java:136)\r\n        at app//org.elasticsearch.nio.NioSelector.singleLoop(NioSelector.java:162)\r\n        at app//org.elasticsearch.nio.NioSelector.runLoop(NioSelector.java:129)\r\n        at app//org.elasticsearch.nio.NioSelectorGroup$$Lambda$1602/0x00000008016cd840.run(Unknown Source)\r\n        at java.base@12/java.lang.Thread.run(Thread.java:835)\r\n\r\n\tat __randomizedtesting.SeedInfo.seed([A17BF834B35181F4]:0)\r\n```\r\n\r\n(note that this is OSX though and KQueue might show different behavior here than EPoll). I'll have to look into this some more, though a short pause causing this isn't so great either since we can always have those on CI ... still this might not be related","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503717076","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-503717076","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":503717076,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzcxNzA3Ng==","user":{"login":"henningandersen","id":33268011,"node_id":"MDQ6VXNlcjMzMjY4MDEx","avatar_url":"https://avatars2.githubusercontent.com/u/33268011?v=4","gravatar_id":"","url":"https://api.github.com/users/henningandersen","html_url":"https://github.com/henningandersen","followers_url":"https://api.github.com/users/henningandersen/followers","following_url":"https://api.github.com/users/henningandersen/following{/other_user}","gists_url":"https://api.github.com/users/henningandersen/gists{/gist_id}","starred_url":"https://api.github.com/users/henningandersen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/henningandersen/subscriptions","organizations_url":"https://api.github.com/users/henningandersen/orgs","repos_url":"https://api.github.com/users/henningandersen/repos","events_url":"https://api.github.com/users/henningandersen/events{/privacy}","received_events_url":"https://api.github.com/users/henningandersen/received_events","type":"User","site_admin":false},"created_at":"2019-06-19T19:36:31Z","updated_at":"2019-06-19T19:36:31Z","author_association":"CONTRIBUTOR","body":"Yeah, I am also in doubt, but find multiple overlapping symptoms:\r\n\r\n- Happened to multiple threads in the JVM.\r\n- Accept involved\r\n- Close maybe involved here too.\r\n\r\nBut clearly there are many differences (network implementation, blocking vs non-blocking and more). I am not saying it is related, but wanted to bring this up in case it brings about new ideas of where the problem lies.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/503718281","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-503718281","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":503718281,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzcxODI4MQ==","user":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"created_at":"2019-06-19T19:40:30Z","updated_at":"2019-06-19T19:40:30Z","author_association":"MEMBER","body":"> Happened to multiple threads in the JVM.\r\n\r\nThis is by far the weirdest and most suspicious part. Those threads each come with their own selector and I don't see those transport threads sharing any monitor either ever ... but I also don't know of any system/kernel/... issue that would cause this behavior.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/504054931","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-504054931","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":504054931,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDA1NDkzMQ==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2019-06-20T14:46:26Z","updated_at":"2019-06-20T14:46:26Z","author_association":"CONTRIBUTOR","body":"Other instances:\r\n\r\nhttps://scans.gradle.com/s/xvdtt4bhikeye\r\nhttps://scans.gradle.com/s/uqz54z4tqv6pa","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/504056063","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-504056063","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":504056063,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDA1NjA2Mw==","user":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"created_at":"2019-06-20T14:49:15Z","updated_at":"2019-06-20T14:49:15Z","author_association":"MEMBER","body":"https://github.com/elastic/elasticsearch/pull/43424 should help track this down quickly I hope :)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/504137803","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-504137803","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":504137803,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDEzNzgwMw==","user":{"login":"henningandersen","id":33268011,"node_id":"MDQ6VXNlcjMzMjY4MDEx","avatar_url":"https://avatars2.githubusercontent.com/u/33268011?v=4","gravatar_id":"","url":"https://api.github.com/users/henningandersen","html_url":"https://github.com/henningandersen","followers_url":"https://api.github.com/users/henningandersen/followers","following_url":"https://api.github.com/users/henningandersen/following{/other_user}","gists_url":"https://api.github.com/users/henningandersen/gists{/gist_id}","starred_url":"https://api.github.com/users/henningandersen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/henningandersen/subscriptions","organizations_url":"https://api.github.com/users/henningandersen/orgs","repos_url":"https://api.github.com/users/henningandersen/repos","events_url":"https://api.github.com/users/henningandersen/events{/privacy}","received_events_url":"https://api.github.com/users/henningandersen/received_events","type":"User","site_admin":false},"created_at":"2019-06-20T18:41:41Z","updated_at":"2019-06-20T18:41:41Z","author_association":"CONTRIBUTOR","body":"The two new and the original failure are all on debian 8, just like the similar failures in #24457.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/504139108","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-504139108","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":504139108,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDEzOTEwOA==","user":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"created_at":"2019-06-20T18:45:28Z","updated_at":"2019-06-20T18:53:47Z","author_association":"MEMBER","body":"@atorok @mark-vieira do you know if anything changed about our Debian 8 environment lately that would explain this issue now coming up? (change in Kernel version or generally the environment coming back).\r\n\r\nEDIT: I guess this is also a function of the CPUs used ... probably impossible to track down in a Cloud env ... sorry for the noise","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/504143733","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-504143733","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":504143733,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDE0MzczMw==","user":{"login":"henningandersen","id":33268011,"node_id":"MDQ6VXNlcjMzMjY4MDEx","avatar_url":"https://avatars2.githubusercontent.com/u/33268011?v=4","gravatar_id":"","url":"https://api.github.com/users/henningandersen","html_url":"https://github.com/henningandersen","followers_url":"https://api.github.com/users/henningandersen/followers","following_url":"https://api.github.com/users/henningandersen/following{/other_user}","gists_url":"https://api.github.com/users/henningandersen/gists{/gist_id}","starred_url":"https://api.github.com/users/henningandersen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/henningandersen/subscriptions","organizations_url":"https://api.github.com/users/henningandersen/orgs","repos_url":"https://api.github.com/users/henningandersen/repos","events_url":"https://api.github.com/users/henningandersen/events{/privacy}","received_events_url":"https://api.github.com/users/henningandersen/received_events","type":"User","site_admin":false},"created_at":"2019-06-20T18:59:43Z","updated_at":"2019-06-20T18:59:43Z","author_association":"CONTRIBUTOR","body":"Debian 8 had a new 3.16.0-9 kernel on 2019-06-17. I think this matches when we first saw this?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/504144600","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-504144600","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":504144600,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDE0NDYwMA==","user":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"created_at":"2019-06-20T19:02:22Z","updated_at":"2019-06-20T19:02:22Z","author_association":"MEMBER","body":"@henningandersen yea at least possibly, first observed case was on the 19th (yesterday) as far as I can see.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/504144981","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-504144981","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":504144981,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDE0NDk4MQ==","user":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"created_at":"2019-06-20T19:03:27Z","updated_at":"2019-06-20T19:03:27Z","author_association":"MEMBER","body":"Maybe we should take Debian 8 out of rotation?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/504145851","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-504145851","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":504145851,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDE0NTg1MQ==","user":{"login":"henningandersen","id":33268011,"node_id":"MDQ6VXNlcjMzMjY4MDEx","avatar_url":"https://avatars2.githubusercontent.com/u/33268011?v=4","gravatar_id":"","url":"https://api.github.com/users/henningandersen","html_url":"https://github.com/henningandersen","followers_url":"https://api.github.com/users/henningandersen/followers","following_url":"https://api.github.com/users/henningandersen/following{/other_user}","gists_url":"https://api.github.com/users/henningandersen/gists{/gist_id}","starred_url":"https://api.github.com/users/henningandersen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/henningandersen/subscriptions","organizations_url":"https://api.github.com/users/henningandersen/orgs","repos_url":"https://api.github.com/users/henningandersen/repos","events_url":"https://api.github.com/users/henningandersen/events{/privacy}","received_events_url":"https://api.github.com/users/henningandersen/received_events","type":"User","site_admin":false},"created_at":"2019-06-20T19:06:12Z","updated_at":"2019-06-20T19:06:12Z","author_association":"CONTRIBUTOR","body":"#24457 has failures from June 14th, so not too conclusive on that part.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/504146492","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-504146492","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":504146492,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDE0NjQ5Mg==","user":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"created_at":"2019-06-20T19:08:31Z","updated_at":"2019-06-20T19:08:31Z","author_association":"MEMBER","body":"Still, the fact that it's Debian  8 only makes me not want to dig into the codebase too much here. With the rate of failures we're seeing that is hardly a coincidence IMO.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/504232273","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-504232273","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":504232273,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDIzMjI3Mw==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2019-06-20T23:17:35Z","updated_at":"2019-06-20T23:17:35Z","author_association":"CONTRIBUTOR","body":"> @atorok @mark-vieira do you know if anything changed about our Debian 8 environment lately that would explain this issue now coming up?\r\n\r\nNot that I'm aware of. Perhaps on the infra side but certainly not in the Elasticsearch-specific CI images.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/504441118","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-504441118","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":504441118,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDQ0MTExOA==","user":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"created_at":"2019-06-21T14:13:27Z","updated_at":"2019-06-21T14:13:27Z","author_association":"MEMBER","body":"@henningandersen the stuck threads are `RUNNABLE` (just in case you haven't seen that one yet :)):\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.2+multijob-unix-compatibility/os=debian-8/67/consoleText","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/504449908","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-504449908","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":504449908,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDQ0OTkwOA==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2019-06-21T14:38:38Z","updated_at":"2019-06-21T14:38:38Z","author_association":"CONTRIBUTOR","body":"We can remove the `stable` label from Debian  so we at least don't use it for PR and intake builds to reduce the noise.\r\nIf our tests are the reflection of what we support, does that mean that we should amend it on the support matrix too ?  Removing it from rotation temporarily is fine, but we should have a better understanding of if/how this would affect production use-cases and if there's some kernel version we can't work with document that, and make sure CI has one that works. \r\n\r\nOur  CI workers did pick up the kernel upgrade:\r\n```\r\n3.16.0-9-amd64 #1 SMP Debian 3.16.68-2 (2019-06-17) x86_64 GNU/Linux\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/504452661","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-504452661","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":504452661,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDQ1MjY2MQ==","user":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"created_at":"2019-06-21T14:46:16Z","updated_at":"2019-06-21T14:46:16Z","author_association":"MEMBER","body":"@atorok it seems we have this issue pre and post that kernel upgrade, unfortunately.\r\n\r\nThe production code shouldn't be affected since we run a different networking implementation in tests (prod. uses Netty, tests our own NIO implementation). This is assuming there isn't an issue here that in principle breaks `accept0`. So far I have literally not found a single report of `accept0` hanging in Netty or Java NIO that looks like it's the same problem we're running into so I'm a little less worried that there is a production issue here.\r\n\r\nI'll try to see if failing REST tests on Debian 8 reveal anything (let's see if we may have a lot of timeouts on network messages there).\r\n\r\nWhether or not to take it out of intake builds I don't know. It fails like twice a day, and the issue should be easily traceable to this one? Not sure how bad the bit of noise is.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/504497132","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-504497132","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":504497132,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDQ5NzEzMg==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2019-06-21T16:58:23Z","updated_at":"2019-06-21T16:58:23Z","author_association":"CONTRIBUTOR","body":"Here's another instance of this happening today.\r\n\r\nhttps://scans.gradle.com/s/fdfntjfsxnwb4/","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/505338784","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-505338784","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":505338784,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTMzODc4NA==","user":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"created_at":"2019-06-25T08:16:18Z","updated_at":"2019-06-25T08:16:18Z","author_association":"MEMBER","body":"This hasn't come up again after we added some more assertions around it and only affected Debian 8. Closing this for now until it reappears, since it was super system specific and went as quick as it came.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/505369608","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-505369608","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":505369608,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTM2OTYwOA==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2019-06-25T09:42:26Z","updated_at":"2019-06-25T09:42:26Z","author_association":"CONTRIBUTOR","body":"https://scans.gradle.com/s/efrt7aoyp7y3i looks to be another instance, on Debian 9 (7.2 intake build).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/505377549","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-505377549","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":505377549,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTM3NzU0OQ==","user":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"created_at":"2019-06-25T10:05:04Z","updated_at":"2019-06-25T10:05:04Z","author_association":"MEMBER","body":"thanks @DaveCTurner !\r\n\r\n@atorok @mark-vieira question: do you think we could come up with a way of dumping the output of `netstat -s` on test failures? That might help us get to the bottom of this. I suspect we might be running into full tcp queues here due to the default settings used on Debian but it would be better to have that log output than just start experimenting with the limit settings I think :)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/505508280","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-505508280","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":505508280,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTUwODI4MA==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2019-06-25T15:56:14Z","updated_at":"2019-06-25T15:56:14Z","author_association":"CONTRIBUTOR","body":"@original-brownbear  should we add debian 8 back to the rotation now ? \r\nWe could probably add something in Gradle or Jenkins, but we could also experiment with the limit on the Debian images.  \r\nWhat I typically do when dealing with these system specific failures is create an instance from the CI image in GCP ( it's real quick, I can share the command line ) and then just run the failing bits in a loop in there.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/505524890","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-505524890","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":505524890,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTUyNDg5MA==","user":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"created_at":"2019-06-25T16:39:19Z","updated_at":"2019-06-25T16:39:19Z","author_association":"MEMBER","body":"@atorok if you could provide me with a way to reproduce the environment exactly via a GCP setup command I think that would be the absolutely preferable option :) Thanks!","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/505893034","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-505893034","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":505893034,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNTg5MzAzNA==","user":{"login":"davidkyle","id":2353640,"node_id":"MDQ6VXNlcjIzNTM2NDA=","avatar_url":"https://avatars1.githubusercontent.com/u/2353640?v=4","gravatar_id":"","url":"https://api.github.com/users/davidkyle","html_url":"https://github.com/davidkyle","followers_url":"https://api.github.com/users/davidkyle/followers","following_url":"https://api.github.com/users/davidkyle/following{/other_user}","gists_url":"https://api.github.com/users/davidkyle/gists{/gist_id}","starred_url":"https://api.github.com/users/davidkyle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidkyle/subscriptions","organizations_url":"https://api.github.com/users/davidkyle/orgs","repos_url":"https://api.github.com/users/davidkyle/repos","events_url":"https://api.github.com/users/davidkyle/events{/privacy}","received_events_url":"https://api.github.com/users/davidkyle/received_events","type":"User","site_admin":false},"created_at":"2019-06-26T14:11:38Z","updated_at":"2019-06-26T14:11:38Z","author_association":"MEMBER","body":"Another instance on Debian 9\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.x+release-tests/69/console\r\nhttps://gradle.com/s/4bi2vnvujy4t6","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/506273915","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-506273915","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":506273915,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNjI3MzkxNQ==","user":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"created_at":"2019-06-27T09:39:51Z","updated_at":"2019-06-27T09:39:51Z","author_association":"MEMBER","body":"Just one update here ... @atorok provided me with a way of reproducing the CI environment:\r\n\r\nI ran hundreds of iterations of the failing test goals on Debian 8 for `master` and `7.x` but was not able to reproduce this. I'll change my reproduce strategy a little and try some iterations of creating the virtual machine fresh repeatedly (on the off chance that this is related to the specific worker it happens on ... which may not be so \"off\" given that we had builds where multiple unrelated tests failed with this error in the same run while the majority of runs doesn't fail).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/506366063","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-506366063","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":506366063,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNjM2NjA2Mw==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2019-06-27T14:18:50Z","updated_at":"2019-06-27T14:18:50Z","author_association":"MEMBER","body":"Possibly also related: RecoveryFromGatewayIT that reports “ThreadLeakError”  https://scans.gradle.com/s/fcwvctoouoaq4/tests/kyv2y2z3r4v7m-ywg6h5slyhn64","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/506378846","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-506378846","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":506378846,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNjM3ODg0Ng==","user":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"created_at":"2019-06-27T14:50:07Z","updated_at":"2019-06-27T14:50:07Z","author_association":"MEMBER","body":"Just a note here: The above one is the first one I'm seeing on runtime JDK 12. So we're seeing this on Debian 8 & 9 with all possible JDK versions (8,11,12).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/506410072","html_url":"https://github.com/elastic/elasticsearch/issues/43387#issuecomment-506410072","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43387","id":506410072,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNjQxMDA3Mg==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2019-06-27T16:06:27Z","updated_at":"2019-06-27T16:06:27Z","author_association":"CONTRIBUTOR","body":"@atorok should we be involving infra here? Perhaps they might have some better insight?","performed_via_github_app":null}]