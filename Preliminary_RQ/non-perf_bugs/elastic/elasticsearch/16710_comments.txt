[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/189952646","html_url":"https://github.com/elastic/elasticsearch/issues/16710#issuecomment-189952646","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16710","id":189952646,"node_id":"MDEyOklzc3VlQ29tbWVudDE4OTk1MjY0Ng==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-02-28T21:58:05Z","updated_at":"2016-02-28T21:58:05Z","author_association":"CONTRIBUTOR","body":"Please provide your tribe node config\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/190323185","html_url":"https://github.com/elastic/elasticsearch/issues/16710#issuecomment-190323185","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16710","id":190323185,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MDMyMzE4NQ==","user":{"login":"jpcarey","id":5118470,"node_id":"MDQ6VXNlcjUxMTg0NzA=","avatar_url":"https://avatars2.githubusercontent.com/u/5118470?v=4","gravatar_id":"","url":"https://api.github.com/users/jpcarey","html_url":"https://github.com/jpcarey","followers_url":"https://api.github.com/users/jpcarey/followers","following_url":"https://api.github.com/users/jpcarey/following{/other_user}","gists_url":"https://api.github.com/users/jpcarey/gists{/gist_id}","starred_url":"https://api.github.com/users/jpcarey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpcarey/subscriptions","organizations_url":"https://api.github.com/users/jpcarey/orgs","repos_url":"https://api.github.com/users/jpcarey/repos","events_url":"https://api.github.com/users/jpcarey/events{/privacy}","received_events_url":"https://api.github.com/users/jpcarey/received_events","type":"User","site_admin":false},"created_at":"2016-02-29T18:31:51Z","updated_at":"2016-02-29T18:32:30Z","author_association":"MEMBER","body":"@clintongormley here is a quick test config for repo:\n\nCluster 1\n\n```\nbin/elasticsearch -Des.node.data=false -Des.node.name=t1_master\nbin/elasticsearch -Des.node.data=true -Des.node.master=false -Des.node.name=t1_data\nbin/elasticsearch -Des.node.data=false -Des.node.master=false -Des.node.name=t1_client\n```\n\nCluster 2\n\n```\nbin/elasticsearch -Des.cluster.name=nothing\nbin/elasticsearch -Des.cluster.name=nothing -Des.node.data=false -Des.node.master=false\n```\n\nTribe\n\n```\nbin/elasticsearch -Des.config=/path.../elasticsearch.yml\n```\n\nTribe config, adjust ports as needed. Tribe node will not join if using a client node for discovery.\n\n```\ntribe:\n  t1:\n    cluster.name: elasticsearch\n    discovery.zen.ping.multicast.enabled: false\n    discovery.zen.ping.unicast.hosts: [\"127.0.0.1:9300\"]\n  t2:\n    cluster.name: nothing\n    discovery.zen.ping.multicast.enabled: false\n    discovery.zen.ping.unicast.hosts: [\"127.0.0.1:9303\"]\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/205869591","html_url":"https://github.com/elastic/elasticsearch/issues/16710#issuecomment-205869591","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16710","id":205869591,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNTg2OTU5MQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2016-04-05T15:58:54Z","updated_at":"2016-04-05T15:58:54Z","author_association":"MEMBER","body":"I looked into this. It isn't a tribe node problem specifically. Client nodes cannot be used as unicast seeds for discovery in general, as they are filtered out by default, unless the `discovery.zen.master_election.filter_client` is set to `false` (but it defaults to `true`). This has been changed though as part of a recent PR in master: #17329 , along with the removal of the `node.client` setting meaning that from 5.0 on it will be possible to use coordinating only nodes for unicast discovery, and filter out non master nodes from the ping process if needed (all nodes will be pinged by default). I do not think we can/want to backport this change to 2.x.\n","performed_via_github_app":null}]