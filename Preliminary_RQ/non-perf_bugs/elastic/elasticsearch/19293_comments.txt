[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/231008551","html_url":"https://github.com/elastic/elasticsearch/issues/19293#issuecomment-231008551","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19293","id":231008551,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMTAwODU1MQ==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-07-07T07:54:40Z","updated_at":"2016-07-07T07:54:40Z","author_association":"MEMBER","body":"Please use discuss.elastic.co for questions.\n\nIn mapper-attachments plugin we reduced the dependencies Tika is using for that. Have a look at the pom.xml in 2.3 branch. Might help you.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/231031030","html_url":"https://github.com/elastic/elasticsearch/issues/19293#issuecomment-231031030","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19293","id":231031030,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMTAzMTAzMA==","user":{"login":"chindhuhari","id":15011828,"node_id":"MDQ6VXNlcjE1MDExODI4","avatar_url":"https://avatars1.githubusercontent.com/u/15011828?v=4","gravatar_id":"","url":"https://api.github.com/users/chindhuhari","html_url":"https://github.com/chindhuhari","followers_url":"https://api.github.com/users/chindhuhari/followers","following_url":"https://api.github.com/users/chindhuhari/following{/other_user}","gists_url":"https://api.github.com/users/chindhuhari/gists{/gist_id}","starred_url":"https://api.github.com/users/chindhuhari/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chindhuhari/subscriptions","organizations_url":"https://api.github.com/users/chindhuhari/orgs","repos_url":"https://api.github.com/users/chindhuhari/repos","events_url":"https://api.github.com/users/chindhuhari/events{/privacy}","received_events_url":"https://api.github.com/users/chindhuhari/received_events","type":"User","site_admin":false},"created_at":"2016-07-07T09:38:03Z","updated_at":"2016-07-07T09:38:03Z","author_association":"NONE","body":"Hi @dadoonet !\nSorry, I'll post it on the discuss page from now on. I thought it might be an issue that has to be fixed.\nThe problem is, the Tika jar here is being used by my custom crawl plugin. There is a jna jar in the elasticsearch's lib/ which is causing conflicts, which in turn is throwing a jar hell. **What do we do when the libraries we want to use has conflicts with elasticsearch's libraries.** \nI've pasted the trace, please do take a look.\nThanks!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/231033007","html_url":"https://github.com/elastic/elasticsearch/issues/19293#issuecomment-231033007","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19293","id":231033007,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMTAzMzAwNw==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-07-07T09:46:56Z","updated_at":"2016-07-07T09:46:56Z","author_association":"MEMBER","body":"You basically have to fix JAR conflicts on your side. So remove any jar which might conflict with elasticsearch.\nThink about Jar Hell detector as a safe guard. It protects you from running unexpected code.\n\nBTW, having a crawler as an elasticsearch plugin does not sound like a good idea to me.\n\nDisclaimer: I wrote [FSCrawler](https://github.com/dadoonet/fscrawler) which was a river plugin but is now a standalone application.\nAs you can imagine I have no conflict anymore with elasticsearch librairies as I don't run my code embedded in elasticsearch :p .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/231034749","html_url":"https://github.com/elastic/elasticsearch/issues/19293#issuecomment-231034749","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19293","id":231034749,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMTAzNDc0OQ==","user":{"login":"chindhuhari","id":15011828,"node_id":"MDQ6VXNlcjE1MDExODI4","avatar_url":"https://avatars1.githubusercontent.com/u/15011828?v=4","gravatar_id":"","url":"https://api.github.com/users/chindhuhari","html_url":"https://github.com/chindhuhari","followers_url":"https://api.github.com/users/chindhuhari/followers","following_url":"https://api.github.com/users/chindhuhari/following{/other_user}","gists_url":"https://api.github.com/users/chindhuhari/gists{/gist_id}","starred_url":"https://api.github.com/users/chindhuhari/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chindhuhari/subscriptions","organizations_url":"https://api.github.com/users/chindhuhari/orgs","repos_url":"https://api.github.com/users/chindhuhari/repos","events_url":"https://api.github.com/users/chindhuhari/events{/privacy}","received_events_url":"https://api.github.com/users/chindhuhari/received_events","type":"User","site_admin":false},"created_at":"2016-07-07T09:54:41Z","updated_at":"2016-07-07T09:54:41Z","author_association":"NONE","body":"Hi again ! Thanks for your immediate reply.\nThe problem is, the Tika jar(used by my plugin) by itself has a conflict with the jna jar used by elasticsearch. As in, tika-app-1.8.jar structure :\n                     **tika-app-1.8.jar\\com\\sun\\jna\\     <- This package and obviously the classes inside that is matching with the jna jar in ES_HOME/lib/\nSo, there is no scope of removing the jna out of the tika jar (repackaging the tika jar), as we are not allowed to that here :(**\n\nI totally agree with you and have already seen the FSCrawler plugin :) months ago, just that it's something that might not be allowed at the place I work :|\n\nThanks much !\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/231035426","html_url":"https://github.com/elastic/elasticsearch/issues/19293#issuecomment-231035426","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19293","id":231035426,"node_id":"MDEyOklzc3VlQ29tbWVudDIzMTAzNTQyNg==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-07-07T09:57:59Z","updated_at":"2016-07-07T09:57:59Z","author_association":"MEMBER","body":"As I said, if you do the [exact same thing we are doing](https://github.com/elastic/elasticsearch/blob/2.3/plugins/mapper-attachments/pom.xml#L38-L402), I believe you won't have a conflict.\n","performed_via_github_app":null}]