[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/399071218","html_url":"https://github.com/elastic/elasticsearch/issues/31488#issuecomment-399071218","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31488","id":399071218,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTA3MTIxOA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-06-21T11:27:16Z","updated_at":"2018-06-21T11:27:16Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-security","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/399072484","html_url":"https://github.com/elastic/elasticsearch/issues/31488#issuecomment-399072484","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31488","id":399072484,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTA3MjQ4NA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-06-21T11:33:00Z","updated_at":"2018-06-21T11:33:00Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/399086766","html_url":"https://github.com/elastic/elasticsearch/issues/31488#issuecomment-399086766","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31488","id":399086766,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTA4Njc2Ng==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2018-06-21T12:30:01Z","updated_at":"2018-06-21T12:30:01Z","author_association":"MEMBER","body":"@jkakavas @rjernst seems logical to me?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/399133984","html_url":"https://github.com/elastic/elasticsearch/issues/31488#issuecomment-399133984","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31488","id":399133984,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTEzMzk4NA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2018-06-21T14:58:07Z","updated_at":"2018-06-21T14:58:07Z","author_association":"MEMBER","body":"Why is running the command again not sufficient? Entering the keystore password is not like entering an account password, where the hash is compared. It is used to decrypt the keystore immediately, and the decryption not throwing an error is the only indication we have of success. So prompting again would mean wrapping the decryption in a try/catch and repeating. But there could be the reasons the decryption fails (for example, the file is truncated). We could potentially change the format so we can detect if the password identify if the password is correct \"early\" (eg checking some header info quickly to identify if decryption is succeeding). But the Java `keytool` does not do this, so I am unsure if we really need to.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/399149187","html_url":"https://github.com/elastic/elasticsearch/issues/31488#issuecomment-399149187","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31488","id":399149187,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTE0OTE4Nw==","user":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"created_at":"2018-06-21T15:42:36Z","updated_at":"2018-06-21T15:42:36Z","author_association":"CONTRIBUTOR","body":"I think what @ppf2 had in mind was not about the keystore password, but the value that is being added in the keystore (which is presumably more often than not, a password/key). \r\n\r\nAs in \r\n\r\n```\r\n$ bin/elasticsearch-keystore add the.setting.name.to.set\r\nEnter value for the.setting.name.to.set: \r\nConfirm value for the.setting.name.to.set: \r\n```\r\n\r\nfor example. \r\nThis would be the logical equivalent of typing your password twice during an account registration form.  \r\n\r\nI don't think it's a bad idea, but I can imagine it might be considered as cumbersome by some users too.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/399220008","html_url":"https://github.com/elastic/elasticsearch/issues/31488#issuecomment-399220008","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31488","id":399220008,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTIyMDAwOA==","user":{"login":"ppf2","id":7216393,"node_id":"MDQ6VXNlcjcyMTYzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/7216393?v=4","gravatar_id":"","url":"https://api.github.com/users/ppf2","html_url":"https://github.com/ppf2","followers_url":"https://api.github.com/users/ppf2/followers","following_url":"https://api.github.com/users/ppf2/following{/other_user}","gists_url":"https://api.github.com/users/ppf2/gists{/gist_id}","starred_url":"https://api.github.com/users/ppf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppf2/subscriptions","organizations_url":"https://api.github.com/users/ppf2/orgs","repos_url":"https://api.github.com/users/ppf2/repos","events_url":"https://api.github.com/users/ppf2/events{/privacy}","received_events_url":"https://api.github.com/users/ppf2/received_events","type":"User","site_admin":false},"created_at":"2018-06-21T19:42:20Z","updated_at":"2018-06-21T19:42:20Z","author_association":"MEMBER","body":"It can certainly be cumbersome to prompt for every setting.  But it can be really helpful to prompt for these important ones for if the admin mistakenly type in something wrong (without noticing), they will find out later (in a painful way) that things will simply not work in Elasticsearch.\r\n\r\n```\r\nbin/elasticsearch-keystore add \"bootstrap.password\"\r\nbin/elasticsearch-keystore add xpack.security.transport.ssl.keystore.secure_password\r\nbin/elasticsearch-keystore add xpack.security.transport.ssl.truststore.secure_password\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/526314554","html_url":"https://github.com/elastic/elasticsearch/issues/31488#issuecomment-526314554","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31488","id":526314554,"node_id":"MDEyOklzc3VlQ29tbWVudDUyNjMxNDU1NA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2019-08-29T18:50:09Z","updated_at":"2019-08-29T18:50:09Z","author_association":"MEMBER","body":"I don't know of any storage systems that require setting values twice. We also haven't really heard many asks for this. Semi related, I created https://github.com/elastic/elasticsearch/issues/46148 as a general issue for keystore validation, which could also be used for validation of things like certifcate passphrases if we were to check the passphrase can actually decrypt the configured cert. Additionally, it is still possible we will add the ability to place certs directly into the keystore. Given all of that, I will close this issue.","performed_via_github_app":null}]