[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/396890417","html_url":"https://github.com/elastic/elasticsearch/issues/31291#issuecomment-396890417","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31291","id":396890417,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Njg5MDQxNw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-06-13T10:25:59Z","updated_at":"2018-06-13T10:25:59Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/396891725","html_url":"https://github.com/elastic/elasticsearch/issues/31291#issuecomment-396891725","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31291","id":396891725,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Njg5MTcyNQ==","user":{"login":"dimitris-athanasiou","id":9351617,"node_id":"MDQ6VXNlcjkzNTE2MTc=","avatar_url":"https://avatars3.githubusercontent.com/u/9351617?v=4","gravatar_id":"","url":"https://api.github.com/users/dimitris-athanasiou","html_url":"https://github.com/dimitris-athanasiou","followers_url":"https://api.github.com/users/dimitris-athanasiou/followers","following_url":"https://api.github.com/users/dimitris-athanasiou/following{/other_user}","gists_url":"https://api.github.com/users/dimitris-athanasiou/gists{/gist_id}","starred_url":"https://api.github.com/users/dimitris-athanasiou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimitris-athanasiou/subscriptions","organizations_url":"https://api.github.com/users/dimitris-athanasiou/orgs","repos_url":"https://api.github.com/users/dimitris-athanasiou/repos","events_url":"https://api.github.com/users/dimitris-athanasiou/events{/privacy}","received_events_url":"https://api.github.com/users/dimitris-athanasiou/received_events","type":"User","site_admin":false},"created_at":"2018-06-13T10:31:27Z","updated_at":"2018-06-13T10:31:27Z","author_association":"CONTRIBUTOR","body":"I've muted this test on `6.x`.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/399391655","html_url":"https://github.com/elastic/elasticsearch/issues/31291#issuecomment-399391655","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31291","id":399391655,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTM5MTY1NQ==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2018-06-22T10:02:03Z","updated_at":"2018-06-22T10:02:03Z","author_association":"MEMBER","body":"@dnhatn ping..","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/399519794","html_url":"https://github.com/elastic/elasticsearch/issues/31291#issuecomment-399519794","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31291","id":399519794,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTUxOTc5NA==","user":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"created_at":"2018-06-22T17:31:24Z","updated_at":"2018-06-22T17:31:24Z","author_association":"MEMBER","body":"@bleskes Looking...","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/399711378","html_url":"https://github.com/elastic/elasticsearch/issues/31291#issuecomment-399711378","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31291","id":399711378,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTcxMTM3OA==","user":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"created_at":"2018-06-23T21:21:03Z","updated_at":"2018-06-23T21:21:03Z","author_association":"MEMBER","body":"I opened #31542 ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/399788293","html_url":"https://github.com/elastic/elasticsearch/issues/31291#issuecomment-399788293","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31291","id":399788293,"node_id":"MDEyOklzc3VlQ29tbWVudDM5OTc4ODI5Mw==","user":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"created_at":"2018-06-24T21:16:53Z","updated_at":"2018-06-24T21:16:53Z","author_association":"MEMBER","body":"I've enabled debug log and unmuted this test. I will surely keep an eye on it.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/403866727","html_url":"https://github.com/elastic/elasticsearch/issues/31291#issuecomment-403866727","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31291","id":403866727,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzg2NjcyNw==","user":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"created_at":"2018-07-10T15:33:54Z","updated_at":"2018-07-10T15:33:54Z","author_association":"MEMBER","body":"Another instance https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+default-distro-bwc-tests/141/console. CI log:  [history_uuid.txt](https://github.com/elastic/elasticsearch/files/2181031/history_uuid.txt).\r\n\r\nSince this test does not fail too often, I won't mute it. I am looking at this.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/403968387","html_url":"https://github.com/elastic/elasticsearch/issues/31291#issuecomment-403968387","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31291","id":403968387,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMzk2ODM4Nw==","user":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"created_at":"2018-07-10T21:15:29Z","updated_at":"2018-07-10T21:15:29Z","author_association":"MEMBER","body":"I looked at this. Sadly, we still don't have enough information. I [increased the logging level](https://github.com/elastic/elasticsearch/commit/f17691da210a2920240eb290ef0c27ebc4fb30cb) and wait for another failure.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/404783915","html_url":"https://github.com/elastic/elasticsearch/issues/31291#issuecomment-404783915","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31291","id":404783915,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDc4MzkxNQ==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2018-07-13T09:46:00Z","updated_at":"2018-07-13T09:46:00Z","author_association":"MEMBER","body":"@dnhatn another instance today. \r\nMaybe this time the increased logging helps: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.3+default-distro/150/console\r\n\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/404829254","html_url":"https://github.com/elastic/elasticsearch/issues/31291#issuecomment-404829254","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31291","id":404829254,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNDgyOTI1NA==","user":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"created_at":"2018-07-13T13:11:34Z","updated_at":"2018-07-13T13:11:34Z","author_association":"MEMBER","body":"This failed on 6.3. but I did not increase the logging level 6.3. I have also [increased logging](https://github.com/elastic/elasticsearch/commit/c69172844467b976132ac1333e60c26916d97425) for 6.3 and will wait for another failure again. Thanks for pinging @cbuescher!","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/406628537","html_url":"https://github.com/elastic/elasticsearch/issues/31291#issuecomment-406628537","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31291","id":406628537,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjYyODUzNw==","user":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"created_at":"2018-07-20T15:04:15Z","updated_at":"2018-07-20T15:04:15Z","author_association":"MEMBER","body":"This time is on 6.x https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+default-distro-bwc-tests/171/console.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/406913348","html_url":"https://github.com/elastic/elasticsearch/issues/31291#issuecomment-406913348","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31291","id":406913348,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjkxMzM0OA==","user":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"created_at":"2018-07-23T01:19:39Z","updated_at":"2018-07-23T18:29:18Z","author_association":"MEMBER","body":"We have two different history_uuids in this test because the index[`index_history_uuid`] was relocated from a 5.x node to a 6.x node. The test happened as follows:\r\n\r\n1. The primary (allocation_id `z0Ph-alJRWWJr6LWONJv2Q`) was allocated on node-0 (5.x)\r\n\r\n```\r\n[2018-07-20T14:54:15,945][DEBUG][o.e.i.IndexService       ] [node-0] [index_history_uuid] creating shard_id [index_history_uuid][0]\r\n[2018-07-20T14:54:15,954][DEBUG][o.e.i.s.IndexShard       ] [node-0] [index_history_uuid][0] starting recovery from store ...\r\n\r\n[2018-07-20T14:54:15,965][DEBUG][o.e.c.a.s.ShardStateAction] [node-0] [index_history_uuid][0] sending [internal:cluster/shard/started] to [65oBw7POR8GDa4P4qeXKbg] \r\nfor shard entry [shard id [[index_history_uuid][0]], allocation id [z0Ph-alJRWWJr6LWONJv2Q], primary term [0], message [after new shard recovery]]\r\n```\r\n\r\n2. The replica (allocation id `XouyzbFCRI6gZXsQvwMEow`) was allocated on node-2 (5.x) and recovered from node-0 (5.x)\r\n\r\n```\r\n[2018-07-20T14:54:15,988][DEBUG][o.e.i.s.IndexShard       ] [node-2] [index_history_uuid][0] state: [CREATED]->[RECOVERING], \r\nreason [from {node-0}{h95bxFeJRXmPIkTfmYqqWw}{p038wDwtTE-wig470uAJzQ}{127.0.0.1}{127.0.0.1:43341}{testattr=test, gen=old}]\r\n\r\n[2018-07-20T14:54:16,039][DEBUG][o.e.c.a.s.ShardStateAction] [node-2] [index_history_uuid][0] sending [internal:cluster/shard/started] to [65oBw7POR8GDa4P4qeXKbg] \r\nfor shard entry [shard id [[index_history_uuid][0]], allocation id [XouyzbFCRI6gZXsQvwMEow], primary term [0], message [after peer recovery]]\r\n```\r\n\r\n3. node-0 was shutdown to upgrade to 6.x\r\n```\r\n[2018-07-20T14:54:23,955][INFO ][o.e.n.Node               ] [upgraded-node-0] node name [upgraded-node-0], node ID [h95bxFeJRXmPIkTfmYqqWw]\r\n```\r\n\r\n4. The replica (`XouyzbFCRI6gZXsQvwMEow`) on node-2 was promoted\r\n\r\n5. The master allocated a new replica (allocation id `53gPTAmpR9W3BGA3bblDIQ`) on the node-1 and recovered from node-2\r\n\r\n```\r\n[2018-07-20T14:54:36,036][DEBUG][o.e.i.s.IndexShard       ] [node-1] [index_history_uuid][0] state: [CREATED]->[RECOVERING], \r\nreason [from {node-2}{65oBw7POR8GDa4P4qeXKbg}{2wI684M0T7eH2HDnvQbrew}{127.0.0.1}{127.0.0.1:44748}{testattr=test, gen=old}]\r\n\r\n[2018-07-20T14:54:36,571][DEBUG][o.e.c.a.s.ShardStateAction] [node-1] [index_history_uuid][0] sending [internal:cluster/shard/started] to [65oBw7POR8GDa4P4qeXKbg] \r\nfor shard entry [shard id [[index_history_uuid][0]], allocation id [53gPTAmpR9W3BGA3bblDIQ], primary term [0], message [after peer recovery]]\r\n```\r\n\r\n6. node-1 was shutdown to upgrade to 6.x\r\n```\r\n[2018-07-20T14:54:43,427][INFO ][o.e.n.Node               ] [upgraded-node-1] node name [upgraded-node-1], node ID [hr0M7tSkQj20Bz0cxGp1gg]\r\n```\r\n\r\n7. The allocation was delayed (because of node_left) and re-allocated a new replica on node-1 (6.x). The new replica on node-1 bootstrapped a new history_uuid (`_iuqpOaISOC6lU4pO4YLKw`).\r\n\r\n```\r\n[2018-07-20T14:54:57,364][DEBUG][o.e.i.s.IndexShard       ] [upgraded-node-1] [index_history_uuid][0] state: [CREATED]->[RECOVERING], \r\nreason [from {node-2}{65oBw7POR8GDa4P4qeXKbg}{2wI684M0T7eH2HDnvQbrew}{127.0.0.1}{127.0.0.1:44748}{testattr=test, gen=old}]\r\n\r\n[2018-07-20T14:54:57,896][DEBUG][o.e.i.s.Store            ] [upgraded-node-1] [index_history_uuid][0] bootstrap 6.x commit tags [{local_checkpoint=-1, history_uuid=_iuqpOaISOC6lU4pO4YLKw, max_seq_no=-1}], \r\nuser_data [{max_unsafe_auto_id_timestamp=-1, translog_uuid=caEJxALmThuJDK-gYShYoA, translog_generation=1}]\r\n```\r\n\r\n8. The rebalance decided to relocate the primary from node-2 (5.x) to node-0 (6.x)\r\n\r\n```\r\n[2018-07-20T14:54:58,110][DEBUG][o.e.c.r.a.a.BalancedShardsAllocator] [node-2] Relocate shard [[index_history_uuid][0], node[65oBw7POR8GDa4P4qeXKbg], [P], s[STARTED], a[id=XouyzbFCRI6gZXsQvwMEow]] \r\nfrom node [65oBw7POR8GDa4P4qeXKbg] to node [h95bxFeJRXmPIkTfmYqqWw]\r\n```\r\n\r\n9. The relocating shard recovered from node-2, and bootstrapped a new history_uuid `RQ6qJbquSCaTJlRUXXWcUA`\r\n\r\n```\r\n[2018-07-20T14:54:58,126][DEBUG][o.e.i.s.IndexShard       ] [upgraded-node-0] [index_history_uuid][0] state: [CREATED]->[RECOVERING], \r\nreason [from {node-2}{65oBw7POR8GDa4P4qeXKbg}{2wI684M0T7eH2HDnvQbrew}{127.0.0.1}{127.0.0.1:44748}{testattr=test, gen=old}]\r\n\r\n[2018-07-20T14:54:58,661][DEBUG][o.e.i.s.Store            ] [upgraded-node-0] [index_history_uuid][0] bootstrap 6.x commit tags [{local_checkpoint=-1, history_uuid=RQ6qJbquSCaTJlRUXXWcUA, max_seq_no=-1}],\r\nuser_data [{max_unsafe_auto_id_timestamp=-1, translog_uuid=wsKtwrYERWmf_kwd5tLigw, translog_generation=1}]\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/406914051","html_url":"https://github.com/elastic/elasticsearch/issues/31291#issuecomment-406914051","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31291","id":406914051,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjkxNDA1MQ==","user":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"created_at":"2018-07-23T01:26:54Z","updated_at":"2018-07-23T01:26:54Z","author_association":"MEMBER","body":"I opened #32270","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/467944058","html_url":"https://github.com/elastic/elasticsearch/issues/31291#issuecomment-467944058","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31291","id":467944058,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2Nzk0NDA1OA==","user":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"created_at":"2019-02-27T17:00:34Z","updated_at":"2019-02-27T17:00:34Z","author_association":"MEMBER","body":"Fixed in https://github.com/elastic/elasticsearch/pull/32270.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/469261613","html_url":"https://github.com/elastic/elasticsearch/issues/31291#issuecomment-469261613","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31291","id":469261613,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTI2MTYxMw==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2019-03-04T13:57:32Z","updated_at":"2019-03-04T13:57:32Z","author_association":"CONTRIBUTOR","body":"@dnhatn this test is still muted in `master`, `7.x` and `7.0`. Should it be unmuted there?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/469263246","html_url":"https://github.com/elastic/elasticsearch/issues/31291#issuecomment-469263246","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31291","id":469263246,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTI2MzI0Ng==","user":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"created_at":"2019-03-04T14:02:35Z","updated_at":"2019-03-04T14:02:35Z","author_association":"MEMBER","body":"@DaveCTurner Yes, we should unmute it. I'll do it. Thanks for the ping.","performed_via_github_app":null}]