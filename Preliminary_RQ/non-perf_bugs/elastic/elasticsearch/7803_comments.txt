[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/88930668","html_url":"https://github.com/elastic/elasticsearch/issues/7803#issuecomment-88930668","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7803","id":88930668,"node_id":"MDEyOklzc3VlQ29tbWVudDg4OTMwNjY4","user":{"login":"wkoot","id":3715211,"node_id":"MDQ6VXNlcjM3MTUyMTE=","avatar_url":"https://avatars0.githubusercontent.com/u/3715211?v=4","gravatar_id":"","url":"https://api.github.com/users/wkoot","html_url":"https://github.com/wkoot","followers_url":"https://api.github.com/users/wkoot/followers","following_url":"https://api.github.com/users/wkoot/following{/other_user}","gists_url":"https://api.github.com/users/wkoot/gists{/gist_id}","starred_url":"https://api.github.com/users/wkoot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wkoot/subscriptions","organizations_url":"https://api.github.com/users/wkoot/orgs","repos_url":"https://api.github.com/users/wkoot/repos","events_url":"https://api.github.com/users/wkoot/events{/privacy}","received_events_url":"https://api.github.com/users/wkoot/received_events","type":"User","site_admin":false},"created_at":"2015-04-02T14:35:35Z","updated_at":"2015-04-02T14:48:01Z","author_association":"NONE","body":"Experiencing a similar mismatch in v1.4.5, it seems like the _cat/recovery is displaying old info instead of latest:\n\n```\n[root@server6 es_backup]# curl localhost:9200/_cat/recovery?v\nindex               shard time    type    stage source_host             target_host             repository snapshot files files_percent bytes       bytes_percent\nlogstash-2015.04.02 0     483354  replica done  server9 server8 n/a        n/a      264   100.0%        12464831362 100.0%\nlogstash-2015.04.02 0     234888  replica done  server6 server9 n/a        n/a      344   96.2%         12132788120 56.1%\nlogstash-2015.03.30 0     11508   replica done  server7 server9 n/a        n/a      297   0.0%          25026154544 0.0%\nlogstash-2015.03.30 0     1899    replica done  server9 server7 n/a        n/a      297   0.3%          25026154544 0.0%\nlogstash-2015.03.31 0     2536    replica done  server6 server8 n/a        n/a      261   0.0%          24031903745 0.0%\nlogstash-2015.03.31 0     1065129 replica done  server8 server6 n/a        n/a      261   100.0%        24031903745 100.0%\nlogstash-2015.04.01 0     757     replica done  server6 server8 n/a        n/a      357   0.0%          24812247622 0.0%\nlogstash-2015.04.01 0     1461104 replica done  server8 server6 n/a        n/a      357   100.0%        24812247622 100.0%\nkibana-int          0     249     replica done  server7 server9 n/a        n/a      10    10.0%         24745       0.9%\nkibana-int          0     558     replica done  server9 server7 n/a        n/a      10    0.0%          24745       0.0%\nlogstash-2015.03.28 0     2247    gateway done  server6 server6 n/a        n/a      390   100.0%        24113948752 100.0%\nlogstash-2015.03.28 0     767     replica done  server6 server7 n/a        n/a      389   0.3%          24113948752 0.0%\nlogstash-2015.03.27 0     12602   replica done  server7 server9 n/a        n/a      320   0.0%          23894985390 0.0%\nlogstash-2015.03.27 0     3307    replica done  server9 server7 n/a        n/a      320   0.0%          23894985390 0.0%\nlogstash-2015.03.29 0     2839    replica done  server9 server8 n/a        n/a      377   0.0%          22019045112 0.0%\nlogstash-2015.03.29 0     8148    replica done  server8 server9 n/a        n/a      377   0.0%          22019045112 0.0%\n```\n\nEven though all primary and replica shards are started ok:\n\n```\n[root@server6 es_backup]# curl localhost:9200/_cat/shards?v\nindex               shard prirep state       docs  store host    node\nlogstash-2015.04.02 0     r      STARTED 44426778 13.2gb server8 Eric Williams\nlogstash-2015.04.02 0     p      STARTED 44424546 13.5gb server9 Kingo Sunen\nlogstash-2015.03.30 0     r      STARTED 76295131 23.3gb server9 Kingo Sunen\nlogstash-2015.03.30 0     p      STARTED 76295131 23.3gb server7 Black Panther\nlogstash-2015.03.31 0     p      STARTED 75755714 22.3gb server8 Eric Williams\nlogstash-2015.03.31 0     r      STARTED 75755714 22.3gb server6 Kehl of Tauran\nlogstash-2015.04.01 0     p      STARTED 77378857 23.1gb server8 Eric Williams\nlogstash-2015.04.01 0     r      STARTED 77378857 23.1gb server6 Kehl of Tauran\nkibana-int          0     r      STARTED        3 24.2kb server9 Kingo Sunen\nkibana-int          0     p      STARTED        3 24.2kb server7 Black Panther\nlogstash-2015.03.28 0     p      STARTED 74580676 22.4gb server6 Kehl of Tauran\nlogstash-2015.03.28 0     r      STARTED 74580676 22.4gb server7 Black Panther\nlogstash-2015.03.27 0     r      STARTED 74898627 22.2gb server9 Kingo Sunen\nlogstash-2015.03.27 0     p      STARTED 74898627 22.2gb server7 Black Panther\nlogstash-2015.03.29 0     p      STARTED 68759201 20.5gb server8 Eric Williams\nlogstash-2015.03.29 0     r      STARTED 68759201 20.5gb server9 Kingo Sunen\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/89814947","html_url":"https://github.com/elastic/elasticsearch/issues/7803#issuecomment-89814947","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7803","id":89814947,"node_id":"MDEyOklzc3VlQ29tbWVudDg5ODE0OTQ3","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-04-05T17:26:21Z","updated_at":"2015-04-05T17:26:21Z","author_association":"CONTRIBUTOR","body":"@bleskes any ideas about this?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/90606211","html_url":"https://github.com/elastic/elasticsearch/issues/7803#issuecomment-90606211","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7803","id":90606211,"node_id":"MDEyOklzc3VlQ29tbWVudDkwNjA2MjEx","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2015-04-07T15:17:50Z","updated_at":"2015-04-07T15:17:50Z","author_association":"MEMBER","body":"with 1.3.2 the file % shows of recovered bytes of the total shard size. That means it will bellow 100% if files are re-used. It's confusing and we changed in #9811 to make 100% to mean all bytes that needs to be recovered (instead of total bytes).\n\nI think we can close this, as the class is now refactored and cleaned up.  If you still feel there are issues with it (or I missed something), please feel free to reopen.\n","performed_via_github_app":null}]