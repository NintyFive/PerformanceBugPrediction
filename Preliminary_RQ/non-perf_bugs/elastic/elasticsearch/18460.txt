{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/18460","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18460/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18460/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18460/events","html_url":"https://github.com/elastic/elasticsearch/issues/18460","id":155710377,"node_id":"MDU6SXNzdWUxNTU3MTAzNzc=","number":18460,"title":"Unable to start elasticsearch 2.3.2 as a service in Windows","user":{"login":"sureshkm","id":2654494,"node_id":"MDQ6VXNlcjI2NTQ0OTQ=","avatar_url":"https://avatars3.githubusercontent.com/u/2654494?v=4","gravatar_id":"","url":"https://api.github.com/users/sureshkm","html_url":"https://github.com/sureshkm","followers_url":"https://api.github.com/users/sureshkm/followers","following_url":"https://api.github.com/users/sureshkm/following{/other_user}","gists_url":"https://api.github.com/users/sureshkm/gists{/gist_id}","starred_url":"https://api.github.com/users/sureshkm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sureshkm/subscriptions","organizations_url":"https://api.github.com/users/sureshkm/orgs","repos_url":"https://api.github.com/users/sureshkm/repos","events_url":"https://api.github.com/users/sureshkm/events{/privacy}","received_events_url":"https://api.github.com/users/sureshkm/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-05-19T11:04:06Z","updated_at":"2016-05-19T12:03:03Z","closed_at":"2016-05-19T12:02:49Z","author_association":"NONE","active_lock_reason":null,"body":"**Elasticsearch version**: 2.3.2 and 2.3.3\n\n**JVM version**: 1.7.0_55\n\n**OS version**: Linux Mint 15 MATE 64-bit\n\n**Description of the problem including expected versus actual behavior**:\nUnable to start elasticsearch as a service. In service.bat file, the jvm parameter to executable is configured with %%JAVA_HOME%% which does not resolve the path properly. As a result, the service gets registered with invalid JAVA_HOME and fails to start elasticsearch.\n\n\"%EXECUTABLE%\" //IS//%SERVICE_ID% --Startup %ES_START_TYPE% --StopTimeout %ES_STOP_TIMEOUT% --StartClass org.elasticsearch.bootstrap.Elasticsearch --StopClass org.elasticsearch.bootstrap.Elasticsearch --StartMethod main --StopMethod close --Classpath \"%ES_CLASSPATH%\" --JvmMs %JVM_MS% --JvmMx %JVM_MX% --JvmSs %JVM_SS% --JvmOptions %ES_JAVA_OPTS% ++JvmOptions %ES_PARAMS% %LOG_OPTS% --PidFile \"%SERVICE_ID%.pid\" --DisplayName \"%SERVICE_DISPLAY_NAME%\" --Description \"%SERVICE_DESCRIPTION%\" --Jvm \"%%JAVA_HOME%%%JVM_DLL%\" --StartMode jvm --StopMode jvm --StartPath \"%ES_HOME%\" %SERVICE_PARAMS%\n\n**Steps to reproduce**:\n1. Install elasticsearch. >service.bat install\n2. Open service manager. >service.bat manager\n3. Goto JAVA tab and check the value under \"Java Virtual Machine\" field. The path to jvm.dll is not correct.\n\n**Provide logs (if relevant)**:\n[error] [11372] Failed creating java %JAVA_HOME%\\jre\\bin\\server\\jvm.dll\n[error] [11372] The system cannot find the path specified.\n[error] [11372] ServiceStart returned 1\n[error] [11372] The system cannot find the path specified.\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}