{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/34303","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34303/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34303/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34303/events","html_url":"https://github.com/elastic/elasticsearch/issues/34303","id":366775947,"node_id":"MDU6SXNzdWUzNjY3NzU5NDc=","number":34303,"title":"Version 6.4.2 does not start (java.lang.NoSuchFieldError: LOG_DEFAULT_LEVEL_SETTING)","user":{"login":"najamansari","id":7305605,"node_id":"MDQ6VXNlcjczMDU2MDU=","avatar_url":"https://avatars1.githubusercontent.com/u/7305605?v=4","gravatar_id":"","url":"https://api.github.com/users/najamansari","html_url":"https://github.com/najamansari","followers_url":"https://api.github.com/users/najamansari/followers","following_url":"https://api.github.com/users/najamansari/following{/other_user}","gists_url":"https://api.github.com/users/najamansari/gists{/gist_id}","starred_url":"https://api.github.com/users/najamansari/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/najamansari/subscriptions","organizations_url":"https://api.github.com/users/najamansari/orgs","repos_url":"https://api.github.com/users/najamansari/repos","events_url":"https://api.github.com/users/najamansari/events{/privacy}","received_events_url":"https://api.github.com/users/najamansari/received_events","type":"User","site_admin":false},"labels":[{"id":114977275,"node_id":"MDU6TGFiZWwxMTQ5NzcyNzU=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Packaging","name":":Delivery/Packaging","color":"0e8a16","default":false,"description":"RPM and deb packaging, tar and zip archives, shell and batch scripts"},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-10-04T12:54:58Z","updated_at":"2020-11-11T21:56:17Z","closed_at":"2018-10-04T22:27:29Z","author_association":"NONE","active_lock_reason":null,"body":"<!--\r\n\r\n** Please read the guidelines below. **\r\n\r\nIssues that do not follow these guidelines are likely to be closed.\r\n\r\n1.  GitHub is reserved for bug reports and feature requests. The best place to\r\n    ask a general question is at the Elastic [forums](https://discuss.elastic.co).\r\n    GitHub is not the place for general questions.\r\n\r\n2.  Is this bug report or feature request for a supported OS? If not, it\r\n    is likely to be closed.  See https://www.elastic.co/support/matrix#show_os\r\n\r\n3.  Please fill out EITHER the feature request block or the bug report block\r\n    below, and delete the other block.\r\n\r\n-->\r\n\r\n<!-- Bug report -->\r\n\r\n**Elasticsearch version**: 6.4.2\r\n\r\n**Plugins installed**: None\r\n\r\n**JVM version**: openjdk version \"10.0.2\" 2018-07-17\r\n\r\n**OS version**: Fedora 28 (4.18.9-200.fc28.x86_64 #1 SMP Thu Sep 20 02:43:23 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux)\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\nI upgraded from ElasticSearch version 6.2.0 to 6.4.2 using the RPM package. After the installation, when I tried restarting ES, it didn't work. Checking the system logs (via `journalctl`), I found the following exception:\r\n\r\n```\r\nException in thread \"main\" java.lang.NoSuchFieldError: LOG_DEFAULT_LEVEL_SETTING\r\n        at org.elasticsearch.common.logging.LogConfigurator.configureLoggerLevels(LogConfigurator.java:180)\r\n        at org.elasticsearch.common.logging.LogConfigurator.configure(LogConfigurator.java:165)\r\n        at org.elasticsearch.common.logging.LogConfigurator.configure(LogConfigurator.java:119)\r\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:294)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:136)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:127)\r\n        at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86)\r\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124)\r\n        at org.elasticsearch.cli.Command.main(Command.java:90)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:93)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:86)\r\n```\r\n\r\nI've tried this with both the \"OSS\" and \"basic\" versions. The error also occurs if I attempt a clean installation.\r\n\r\n**Steps to reproduce**:\r\n\r\n 1. Download ElasticSearch 6.4.2 RPM (https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-6.4.2.rpm)\r\n 2. Install the RPM: `sudo dnf install elasticsearch-6.4.2.rpm`\r\n 3. Watch system logs (`journalctl -f`) while starting ES (`sudo systemctl start elasticsearch`), the stack trace given above is generated\r\n\r\nRelevant section of logs given above.\r\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}