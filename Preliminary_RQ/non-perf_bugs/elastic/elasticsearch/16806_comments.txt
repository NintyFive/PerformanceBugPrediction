[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/188777734","html_url":"https://github.com/elastic/elasticsearch/issues/16806#issuecomment-188777734","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16806","id":188777734,"node_id":"MDEyOklzc3VlQ29tbWVudDE4ODc3NzczNA==","user":{"login":"ervivekmehta","id":5938907,"node_id":"MDQ6VXNlcjU5Mzg5MDc=","avatar_url":"https://avatars0.githubusercontent.com/u/5938907?v=4","gravatar_id":"","url":"https://api.github.com/users/ervivekmehta","html_url":"https://github.com/ervivekmehta","followers_url":"https://api.github.com/users/ervivekmehta/followers","following_url":"https://api.github.com/users/ervivekmehta/following{/other_user}","gists_url":"https://api.github.com/users/ervivekmehta/gists{/gist_id}","starred_url":"https://api.github.com/users/ervivekmehta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ervivekmehta/subscriptions","organizations_url":"https://api.github.com/users/ervivekmehta/orgs","repos_url":"https://api.github.com/users/ervivekmehta/repos","events_url":"https://api.github.com/users/ervivekmehta/events{/privacy}","received_events_url":"https://api.github.com/users/ervivekmehta/received_events","type":"User","site_admin":false},"created_at":"2016-02-25T13:02:44Z","updated_at":"2016-02-25T13:02:44Z","author_association":"NONE","body":"yes we have already extended Plugin class.\n\nHere is the code overview:\n\npublic class TraceOrgCustomScriptFactory extends Plugin implements NativeScriptFactory\n{\n\npublic ExecutableScript newScript(@Nullable Map<String, Object> params)\n{\n    return new CustomScript(params);\n}\n\npublic boolean needsScores() {\n    return true;\n}\n\n@Override\npublic String name() {\n    return \"es-plugin\";\n}\n\n@Override\npublic String description() {\n    return \"es-plugin description\";\n}\n\n}\n\npublic class CustomScript extends AbstractSearchScript\n{\npublic static final short SCRIPT_UPPER_CASE =0;\n\npublic static final short SCRIPT_LOWER_CASE =1;\n\npublic static final short SCRIPT_REPLACE =2;\n\npublic static final short SCRIPT_SUBSTRING =3;\n\npublic static final short SCRIPT_FORMAT_DATE =4;\n\npublic static final short SCRIPT_ROUND_VALUE =5;\n\nprivate final Map<String,Object> m_params;\n\npublic CustomScript(@Nullable Map<String,Object> params)\n{\n    m_params =params;\n}\n\npublic Object run()\n{\n    Object result =null;\n\n```\nshort scriptType = Short.parseShort(m_params.get(\"type\").toString());\n\nString field = m_params.get(\"field\").toString();\n\nScriptDocValues<Object> value = (ScriptDocValues<Object>) doc().get(field);\n\nif (value != null && !value.isEmpty())\n{\n\n    switch (scriptType)\n    {\n        case SCRIPT_UPPER_CASE:\n\n            result =value.get(0).toString().toUpperCase();\n\n            break;\n\n\n    }\n}\n\nreturn  result;\n```\n\n}\n\n}\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/188777975","html_url":"https://github.com/elastic/elasticsearch/issues/16806#issuecomment-188777975","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16806","id":188777975,"node_id":"MDEyOklzc3VlQ29tbWVudDE4ODc3Nzk3NQ==","user":{"login":"ervivekmehta","id":5938907,"node_id":"MDQ6VXNlcjU5Mzg5MDc=","avatar_url":"https://avatars0.githubusercontent.com/u/5938907?v=4","gravatar_id":"","url":"https://api.github.com/users/ervivekmehta","html_url":"https://github.com/ervivekmehta","followers_url":"https://api.github.com/users/ervivekmehta/followers","following_url":"https://api.github.com/users/ervivekmehta/following{/other_user}","gists_url":"https://api.github.com/users/ervivekmehta/gists{/gist_id}","starred_url":"https://api.github.com/users/ervivekmehta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ervivekmehta/subscriptions","organizations_url":"https://api.github.com/users/ervivekmehta/orgs","repos_url":"https://api.github.com/users/ervivekmehta/repos","events_url":"https://api.github.com/users/ervivekmehta/events{/privacy}","received_events_url":"https://api.github.com/users/ervivekmehta/received_events","type":"User","site_admin":false},"created_at":"2016-02-25T13:04:00Z","updated_at":"2016-02-25T13:04:00Z","author_association":"NONE","body":"please guide me. do not close issue directly. it was working with ES1.7 but not working with ES2.2.0\n\ngive at least a proper reply and guide us.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/188790262","html_url":"https://github.com/elastic/elasticsearch/issues/16806#issuecomment-188790262","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16806","id":188790262,"node_id":"MDEyOklzc3VlQ29tbWVudDE4ODc5MDI2Mg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-02-25T13:48:21Z","updated_at":"2016-02-25T13:48:21Z","author_association":"MEMBER","body":"Duplicates #16803 \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/188791050","html_url":"https://github.com/elastic/elasticsearch/issues/16806#issuecomment-188791050","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16806","id":188791050,"node_id":"MDEyOklzc3VlQ29tbWVudDE4ODc5MTA1MA==","user":{"login":"ervivekmehta","id":5938907,"node_id":"MDQ6VXNlcjU5Mzg5MDc=","avatar_url":"https://avatars0.githubusercontent.com/u/5938907?v=4","gravatar_id":"","url":"https://api.github.com/users/ervivekmehta","html_url":"https://github.com/ervivekmehta","followers_url":"https://api.github.com/users/ervivekmehta/followers","following_url":"https://api.github.com/users/ervivekmehta/following{/other_user}","gists_url":"https://api.github.com/users/ervivekmehta/gists{/gist_id}","starred_url":"https://api.github.com/users/ervivekmehta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ervivekmehta/subscriptions","organizations_url":"https://api.github.com/users/ervivekmehta/orgs","repos_url":"https://api.github.com/users/ervivekmehta/repos","events_url":"https://api.github.com/users/ervivekmehta/events{/privacy}","received_events_url":"https://api.github.com/users/ervivekmehta/received_events","type":"User","site_admin":false},"created_at":"2016-02-25T13:51:28Z","updated_at":"2016-02-25T13:52:13Z","author_association":"NONE","body":"it's duplicate because you closed old one without any proper comment.\n\nplease provide a proper comment otherwise I have to create another same issue.\n","performed_via_github_app":null}]