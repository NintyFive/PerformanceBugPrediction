{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/43196","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43196/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43196/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43196/events","html_url":"https://github.com/elastic/elasticsearch/issues/43196","id":455693481,"node_id":"MDU6SXNzdWU0NTU2OTM0ODE=","number":43196,"title":"[CI] \"Can't create extra config file\" in Graph QA test","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"labels":[{"id":106454670,"node_id":"MDU6TGFiZWwxMDY0NTQ2NzA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Build","name":":Delivery/Build","color":"0e8a16","default":false,"description":"Build or test infrastructure"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"},{"id":1352927464,"node_id":"MDU6TGFiZWwxMzUyOTI3NDY0","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v7.3.0","name":"v7.3.0","color":"dddddd","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"assignees":[{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2019-06-13T11:45:23Z","updated_at":"2020-11-11T21:48:46Z","closed_at":"2019-06-13T16:18:31Z","author_association":"MEMBER","active_lock_reason":null,"body":"We see the following failure in CI when running the Graph QA tests:\r\n\r\n```\r\nCan't create extra config file for /var/lib/jenkins/workspace/elastic+elasticsearch+7.x+intake/x-pack/plugin/graph/qa/with-security/build/testclusters/integTest-0/config/roles.yml\r\n\r\norg.gradle.api.tasks.TaskExecutionException:  Execution failed for task ':x-pack:plugin:graph:qa:with-security:integTestRunner'.\r\n\r\nCaused by: \r\njava.io.UncheckedIOException:  Can't create extra config file for\r\nCaused by: \r\njava.nio.file.FileAlreadyExistsException: /var/lib/jenkins/workspace/elastic+elasticsearch+7.x+intake/x-pack/plugin/graph/qa/with-security/build/testclusters/integTest-0/config/roles.yml\r\nat org.elasticsearch.gradle.testclusters.ElasticsearchNode.lambda$copyExtraConfigFiles$9(ElasticsearchNode.java:352)\r\nat org.elasticsearch.gradle.testclusters.ElasticsearchNode.copyExtraConfigFiles(ElasticsearchNode.java:345)\r\nat org.elasticsearch.gradle.testclusters.ElasticsearchNode.start(ElasticsearchNode.java:323)\r\nat org.elasticsearch.gradle.testclusters.ElasticsearchCluster.start(ElasticsearchCluster.java:215)\r\nat org.elasticsearch.gradle.testclusters.TestClustersPlugin$2.lambda$beforeActions$1(TestClustersPlugin.java:200)\r\nat org.elasticsearch.gradle.testclusters.TestClustersPlugin$2.beforeActions(TestClustersPlugin.java:199)\r\nat jdk.internal.reflect.GeneratedMethodAccessor940.invoke(Unknown Source)\r\nat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\nat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\nat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\nat org.gradle.internal.event.DefaultListenerManager$ListenerDetails.dispatch(DefaultListenerManager.java:376)\r\nat org.gradle.internal.event.DefaultListenerManager$ListenerDetails.dispatch(DefaultListenerManager.java:358)\r\nat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:58)\r\nat org.gradle.internal.event.DefaultListenerManager$EventBroadcast$ListenerDispatch.dispatch(DefaultListenerManager.java:346)\r\nat org.gradle.internal.event.DefaultListenerManager$EventBroadcast.dispatch(DefaultListenerManager.java:157)\r\nat org.gradle.internal.event.DefaultListenerManager$EventBroadcast.dispatch(DefaultListenerManager.java:131)\r\nat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\r\nat com.sun.proxy.$Proxy52.beforeActions(Unknown Source)\r\nat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$TaskExecution.execute(ExecuteActionsTaskExecuter.java:212)\r\nat org.gradle.internal.execution.steps.ExecuteStep.lambda$execute$1(ExecuteStep.java:33)\r\nat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:33)\r\nat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:26)\r\nat org.gradle.internal.execution.steps.CleanupOutputsStep.execute(CleanupOutputsStep.java:58)\r\nat org.gradle.internal.execution.steps.CleanupOutputsStep.execute(CleanupOutputsStep.java:35)\r\n[...]\r\n```\r\n\r\n* Reproduction line: `./gradlew :x-pack:plugin:graph:qa:with-security:integTest`\r\n\r\n* [CI link](https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.x+intake/140/console)\r\n* [Build scan link](https://scans.gradle.com/s/7ece5veus4wpa/failure?openFailures=WzBd&openStackTraces=WzJd#top=0)\r\n* Failure frequency: This started on June 13 2019 and this specific error message (\"Can't create extra config file\") has occured 7 times since then.\r\n\r\nThis might be related to https://github.com/elastic/elasticsearch/pull/43033.","closed_by":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"performed_via_github_app":null}