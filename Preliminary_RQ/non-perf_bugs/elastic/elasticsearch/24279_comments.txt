[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/296580633","html_url":"https://github.com/elastic/elasticsearch/issues/24279#issuecomment-296580633","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24279","id":296580633,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjU4MDYzMw==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2017-04-24T08:45:35Z","updated_at":"2017-04-24T08:45:35Z","author_association":"CONTRIBUTOR","body":"Thanks for the suggestion.\r\n\r\n>can we add max/min/ave doc size in search response?\r\n\r\nThis requirement makes sense to me (but see below for concerns/workarounds)\r\n\r\n>can we add max/min/ave doc size in index request?\r\n\r\nI'm not sure what the purpose is of providing this as part of an index request?  The client provides an average of what? \r\n\r\nAs for providing max/min/ave lengths in the search response, many elasticsearch users have very large numbers of small, same-sized machine-generated documents. For them this length information would be uninteresting in search results and unnecessary overhead on storing each doc. For this reason it would have to be \"opt-in\" rather than a standard feature.\r\n\r\nYou can potentially \"opt-in\" by adding your own custom field to the JSON docs that includes a `length` integer and then use something like the [stats aggregation](https://www.elastic.co/guide/en/elasticsearch/reference/5.3/search-aggregations-metrics-stats-aggregation.html) on this length field.\r\nYou could potentially use an [ingest pipeline](https://www.elastic.co/guide/en/elasticsearch/reference/master/pipeline.html) to derive this field in elasticsearch for you just prior to indexing.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/297000949","html_url":"https://github.com/elastic/elasticsearch/issues/24279#issuecomment-297000949","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24279","id":297000949,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NzAwMDk0OQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2017-04-25T11:29:25Z","updated_at":"2017-04-25T11:29:25Z","author_association":"CONTRIBUTOR","body":"You can use the [mapper-size plugin](https://www.elastic.co/guide/en/elasticsearch/plugins/current/mapper-size.html) for this","performed_via_github_app":null}]