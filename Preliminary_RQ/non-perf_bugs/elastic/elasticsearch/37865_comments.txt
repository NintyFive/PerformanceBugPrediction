[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/458463686","html_url":"https://github.com/elastic/elasticsearch/issues/37865#issuecomment-458463686","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37865","id":458463686,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1ODQ2MzY4Ng==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-01-29T09:13:08Z","updated_at":"2019-01-29T09:13:08Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/458463692","html_url":"https://github.com/elastic/elasticsearch/issues/37865#issuecomment-458463692","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37865","id":458463692,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1ODQ2MzY5Mg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-01-29T09:13:09Z","updated_at":"2019-01-29T09:13:09Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/458564663","html_url":"https://github.com/elastic/elasticsearch/issues/37865#issuecomment-458564663","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37865","id":458564663,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1ODU2NDY2Mw==","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"created_at":"2019-01-29T14:42:21Z","updated_at":"2019-01-29T14:42:21Z","author_association":"MEMBER","body":"This is expected as you are accessing the `_source` field which is stored *as is* (i.e. how you provided it in your original request) without any coercion. You can prevent that such documents get added to the index by specifying `\"coerce\": false` in your mapping:\r\n\r\n```\r\nPUT /xd/\r\n{\r\n    \"mappings\" : {\r\n        \"_doc\" : {\r\n            \"properties\" : {\r\n                \"field\" : { \r\n                     \"type\" : \"long\",\r\n                    \"coerce\": false\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIf you then issue:\r\n\r\n```\r\n\r\nPOST /xd/_doc/string\r\n{\r\n    \"field\": \"1234567890123\"\r\n}\r\n```\r\n\r\nyou'll get an error immediately:\r\n\r\n```\r\n{\r\n  \"error\" : {\r\n    \"root_cause\" : [\r\n      {\r\n        \"type\" : \"mapper_parsing_exception\",\r\n        \"reason\" : \"failed to parse field [field] of type [long]\"\r\n      }\r\n    ],\r\n    \"type\" : \"mapper_parsing_exception\",\r\n    \"reason\" : \"failed to parse field [field] of type [long]\",\r\n    \"caused_by\" : {\r\n      \"type\" : \"illegal_argument_exception\",\r\n      \"reason\" : \"Long value passed as String\"\r\n    }\r\n  },\r\n  \"status\" : 400\r\n}\r\n```\r\n\r\nIf you have any other questions, we'd like to direct these kinds of things to the [forums](https://discuss.elastic.co/). If you can stop by there, we'd appreciate it. This allows us to use GitHub for verified bug reports, feature requests, and pull requests. Thank you!","performed_via_github_app":null}]