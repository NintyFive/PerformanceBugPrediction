[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/479158737","html_url":"https://github.com/elastic/elasticsearch/issues/40749#issuecomment-479158737","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40749","id":479158737,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTE1ODczNw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2019-04-02T19:23:53Z","updated_at":"2019-04-02T19:23:53Z","author_association":"MEMBER","body":"Do you have some evidence to support this being a bottleneck? I would not expect this to be where the bulk (pun!) of the time is spent, as instead actually executing the indexing requests would be where the bulk of the time is spent. Further, if the bandwidth is truly a problem here, have you tried gzip compression on the HTTP payload?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/479588007","html_url":"https://github.com/elastic/elasticsearch/issues/40749#issuecomment-479588007","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40749","id":479588007,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTU4ODAwNw==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars3.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","site_admin":false},"created_at":"2019-04-03T17:38:44Z","updated_at":"2019-04-03T17:38:44Z","author_association":"NONE","body":"I don`t have a rig set up I can test such a change easily on!\r\n \r\nSending 3 000 000 entries the extra padding added 132MB to the payload and 132MB of string concatenation in the programming processing my data.\r\n\r\nIt is probably trivial ( but may not be ? ) but I am sure skipping a few million if statements does add to the time spent processing on the index.\r\n\r\nIt would be a nice feature and would make ES slightly faster and more efficient for a lot of people sending a lot of preloaded data that's been processed locally.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/479719883","html_url":"https://github.com/elastic/elasticsearch/issues/40749#issuecomment-479719883","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40749","id":479719883,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTcxOTg4Mw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2019-04-04T01:54:02Z","updated_at":"2019-04-04T01:54:02Z","author_association":"MEMBER","body":"> I don`t have a rig set up I can test such a change easily on!\r\n\r\nI am not looking for a test of the change so much as I am looking for evidence of this being a bottleneck.\r\n\r\nWe tend to minimize the complexity and surface area of our APIs, as it only leads to more room for user-confusion, code for us to maintain, and bugs on our end. Absent a compelling reason, our bias would be not introduce a change like this.\r\n\r\n> Sending 3 000 000 entries the extra padding added 132MB to the payload and 132MB of string concatenation in the programming processing my data.\r\n\r\nThis does not sound like much overhead to me, only 46 bytes per entry. It would be interesting to know how much more time this causes in processing on the client side, and whether or not that can be optimized away. The tradeoff here is you have to do extra processing client side to prepare the format that you propose, so it might be a wash anyway.\r\n\r\n> It is probably trivial ( but may not be ? ) but I am sure skipping a few million if statements does add to the time spent processing on the index.\r\n\r\nSure, it probably adds time, but in proportion to the time that would be spent indexing, it's almost surely negligible (this is my gut, I don't have any data to back it up).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/479784903","html_url":"https://github.com/elastic/elasticsearch/issues/40749#issuecomment-479784903","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40749","id":479784903,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTc4NDkwMw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-04-04T07:34:12Z","updated_at":"2019-04-04T07:34:12Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/482558393","html_url":"https://github.com/elastic/elasticsearch/issues/40749#issuecomment-482558393","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40749","id":482558393,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjU1ODM5Mw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2019-04-12T12:36:55Z","updated_at":"2019-04-12T12:36:55Z","author_association":"MEMBER","body":"Thanks for your interest and feature proposal. Absent a compelling reason to make this change, I don't think we'll be making any changes along the lines suggested here. We are happy to reconsider this based on more feedback, so don't take me closing this issue as a sign that the conversation is done, only as an indication that for now we won't be implementing this.","performed_via_github_app":null}]