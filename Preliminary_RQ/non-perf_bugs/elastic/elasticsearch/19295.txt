{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/19295","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19295/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19295/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19295/events","html_url":"https://github.com/elastic/elasticsearch/issues/19295","id":164248920,"node_id":"MDU6SXNzdWUxNjQyNDg5MjA=","number":19295,"title":"Highlights not found during search with snowball analyzer in Elastic Search","user":{"login":"vdvc9","id":15106655,"node_id":"MDQ6VXNlcjE1MTA2NjU1","avatar_url":"https://avatars1.githubusercontent.com/u/15106655?v=4","gravatar_id":"","url":"https://api.github.com/users/vdvc9","html_url":"https://github.com/vdvc9","followers_url":"https://api.github.com/users/vdvc9/followers","following_url":"https://api.github.com/users/vdvc9/following{/other_user}","gists_url":"https://api.github.com/users/vdvc9/gists{/gist_id}","starred_url":"https://api.github.com/users/vdvc9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vdvc9/subscriptions","organizations_url":"https://api.github.com/users/vdvc9/orgs","repos_url":"https://api.github.com/users/vdvc9/repos","events_url":"https://api.github.com/users/vdvc9/events{/privacy}","received_events_url":"https://api.github.com/users/vdvc9/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-07-07T07:46:22Z","updated_at":"2016-07-07T07:59:32Z","closed_at":"2016-07-07T07:59:32Z","author_association":"NONE","active_lock_reason":null,"body":"I have created index for documents by setting the \"snowball\" analyzer for \"content\" filed in mapping.\n\nPlease check the following mapping for \"content\" filed of document.\n\n\"content\": {\n              \"type\": \"attachment\",\n              \"path\": \"full\",\n              \"fields\": {\n                 \"content\": {\n                    \"type\": \"string\",\n                    \"store\": true,\n                    \"term_vector\": \"with_positions_offsets\",\n                    \"analyzer\": \"snowball\"\n                 },\n                 \"author\": {\n                    \"type\": \"string\"\n                 },\n                 \"title\": {\n                    \"type\": \"string\",\n                    \"store\": true\n                 },\n                 \"name\": {\n                    \"type\": \"string\"\n                 },\n                 \"date\": {\n                    \"type\": \"date\",\n                    \"format\": \"dateOptionalTime\"\n                 },\n                 \"keywords\": {\n                    \"type\": \"string\"\n                 },\n                 \"content_type\": {\n                    \"type\": \"string\"\n                 },\n                 \"content_length\": {\n                    \"type\": \"integer\"\n                 },\n                 \"language\": {\n                    \"type\": \"string\"\n                 }\n              }\n           }\nWhile searching for document, we are also fetching the matching snippets using the following search query.\n\nGET  _search\n{\n  \"query\" : {\n    \"bool\" : {\n      \"must\" : {\n        \"bool\" : {\n          \"should\" : [ {\n            \"match\" : {\n              \"content\" : {\n                \"query\" : \"\\\"book to bill ratio\\\"\",\n                \"type\" : \"phrase\"\n              }\n            }\n          } ],\n          \"minimum_should_match\" : \"1\"\n        }\n      }\n    }\n  },\n  \"highlight\" : {\n    \"fields\" : {\n      \"content\" : { }  \n    }\n  }\n}\nWe have noticed an issue in searching for phrases, whenever stop words (such as \"to\", \"and\", \"is\" etc) present in search phrase, above query is able to find the matching document. But, it failed to find the matching snippets inside the document.\n\nWe are using the Elastic search version: 1.7.3\n\nAppreciate your help.\n","closed_by":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"performed_via_github_app":null}