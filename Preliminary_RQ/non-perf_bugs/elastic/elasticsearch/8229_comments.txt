[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/60509981","html_url":"https://github.com/elastic/elasticsearch/issues/8229#issuecomment-60509981","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8229","id":60509981,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNTA5OTgx","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2014-10-26T08:22:59Z","updated_at":"2014-10-26T08:22:59Z","author_association":"CONTRIBUTOR","body":"@imotov can you take a look please\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/60518445","html_url":"https://github.com/elastic/elasticsearch/issues/8229#issuecomment-60518445","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8229","id":60518445,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNTE4NDQ1","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2014-10-26T14:07:18Z","updated_at":"2014-10-26T14:07:18Z","author_association":"MEMBER","body":"@vichargrave thank you for the report. I have a few questions that would help me to understand your issue better. Do you have a single node in your cluster? Did you wait for snapshot for finish in the step 3? If not can you try recreating the issue if you add `?wait_for_completion=true` to the URL on the step 2? On the step 4 the command that you posted `curl -XGET 'http://localhost:9200/_snapshot/A/B'` doesn't delete snapshot, it returns the information about the snapshot back to you. Is it typo in the issue or you indeed executed this statement instead of deleting the snapshot? Did you verify that files are indeed gone after running `rm -rf /media/snaps0/*`\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/60523185","html_url":"https://github.com/elastic/elasticsearch/issues/8229#issuecomment-60523185","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8229","id":60523185,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNTIzMTg1","user":{"login":"vichargrave","id":260028,"node_id":"MDQ6VXNlcjI2MDAyOA==","avatar_url":"https://avatars2.githubusercontent.com/u/260028?v=4","gravatar_id":"","url":"https://api.github.com/users/vichargrave","html_url":"https://github.com/vichargrave","followers_url":"https://api.github.com/users/vichargrave/followers","following_url":"https://api.github.com/users/vichargrave/following{/other_user}","gists_url":"https://api.github.com/users/vichargrave/gists{/gist_id}","starred_url":"https://api.github.com/users/vichargrave/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vichargrave/subscriptions","organizations_url":"https://api.github.com/users/vichargrave/orgs","repos_url":"https://api.github.com/users/vichargrave/repos","events_url":"https://api.github.com/users/vichargrave/events{/privacy}","received_events_url":"https://api.github.com/users/vichargrave/received_events","type":"User","site_admin":false},"created_at":"2014-10-26T16:41:04Z","updated_at":"2014-10-26T16:42:26Z","author_association":"NONE","body":"@imotov Here are the answers to your questions:\n1. I have 4 nodes in my cluster.\n2. I waited for the completion of the snapshot operations and verified by checking the stats.  \n3. Step 4 was a typo.  I've corrected the comment.  Sorry about the confusion on that one. \n4. The  'rm -rf /media/snaps0/*' does indeed remove all the files.\n\nThis series of steps is repeatable.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/60523412","html_url":"https://github.com/elastic/elasticsearch/issues/8229#issuecomment-60523412","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8229","id":60523412,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNTIzNDEy","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2014-10-26T16:48:22Z","updated_at":"2014-10-26T16:48:22Z","author_association":"MEMBER","body":"@vichargrave is /media/snaps0/ directory shared between nodes? If it is what file system are you using and can you give more information about your operating system and shared storage?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/60523710","html_url":"https://github.com/elastic/elasticsearch/issues/8229#issuecomment-60523710","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8229","id":60523710,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNTIzNzEw","user":{"login":"vichargrave","id":260028,"node_id":"MDQ6VXNlcjI2MDAyOA==","avatar_url":"https://avatars2.githubusercontent.com/u/260028?v=4","gravatar_id":"","url":"https://api.github.com/users/vichargrave","html_url":"https://github.com/vichargrave","followers_url":"https://api.github.com/users/vichargrave/followers","following_url":"https://api.github.com/users/vichargrave/following{/other_user}","gists_url":"https://api.github.com/users/vichargrave/gists{/gist_id}","starred_url":"https://api.github.com/users/vichargrave/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vichargrave/subscriptions","organizations_url":"https://api.github.com/users/vichargrave/orgs","repos_url":"https://api.github.com/users/vichargrave/repos","events_url":"https://api.github.com/users/vichargrave/events{/privacy}","received_events_url":"https://api.github.com/users/vichargrave/received_events","type":"User","site_admin":false},"created_at":"2014-10-26T16:57:48Z","updated_at":"2014-10-26T16:57:48Z","author_association":"NONE","body":"@imotov I'm using CentoOS 6.5 with ext4 file system.  The /media/snaps0 are mount points available on each node, which is required.  They map to an SMB shared drive on another CentoOS 6.5 system.  Please note, that the snapshot and associated files were successfully created the first time around.  It was only after everything was deleted and the procedure repeated that the snapshots were not created.  When the procedure was repeated, the Elasticsearch status API call revealed that the operation was successful, but that 0 shards were copied.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/60523863","html_url":"https://github.com/elastic/elasticsearch/issues/8229#issuecomment-60523863","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8229","id":60523863,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNTIzODYz","user":{"login":"vichargrave","id":260028,"node_id":"MDQ6VXNlcjI2MDAyOA==","avatar_url":"https://avatars2.githubusercontent.com/u/260028?v=4","gravatar_id":"","url":"https://api.github.com/users/vichargrave","html_url":"https://github.com/vichargrave","followers_url":"https://api.github.com/users/vichargrave/followers","following_url":"https://api.github.com/users/vichargrave/following{/other_user}","gists_url":"https://api.github.com/users/vichargrave/gists{/gist_id}","starred_url":"https://api.github.com/users/vichargrave/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vichargrave/subscriptions","organizations_url":"https://api.github.com/users/vichargrave/orgs","repos_url":"https://api.github.com/users/vichargrave/repos","events_url":"https://api.github.com/users/vichargrave/events{/privacy}","received_events_url":"https://api.github.com/users/vichargrave/received_events","type":"User","site_admin":false},"created_at":"2014-10-26T17:02:02Z","updated_at":"2014-10-26T17:02:02Z","author_association":"NONE","body":"@imotov There is another thing I should point out.  My cluster is not in a Green state.  All the primary shards are available, but most replicas are unassigned.  I'm trying to backup several indices so I can wipe the cluster clean and restore the backed up indices.  The cluster uses 5 primay shards per index and 1 replica.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/60523951","html_url":"https://github.com/elastic/elasticsearch/issues/8229#issuecomment-60523951","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8229","id":60523951,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNTIzOTUx","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2014-10-26T17:05:01Z","updated_at":"2014-10-26T17:05:01Z","author_association":"MEMBER","body":"@vichargrave which error message are you getting when you are trying to create a snapshot? Do you see any snapshot-related errors in the log file?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/60524204","html_url":"https://github.com/elastic/elasticsearch/issues/8229#issuecomment-60524204","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8229","id":60524204,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNTI0MjA0","user":{"login":"vichargrave","id":260028,"node_id":"MDQ6VXNlcjI2MDAyOA==","avatar_url":"https://avatars2.githubusercontent.com/u/260028?v=4","gravatar_id":"","url":"https://api.github.com/users/vichargrave","html_url":"https://github.com/vichargrave","followers_url":"https://api.github.com/users/vichargrave/followers","following_url":"https://api.github.com/users/vichargrave/following{/other_user}","gists_url":"https://api.github.com/users/vichargrave/gists{/gist_id}","starred_url":"https://api.github.com/users/vichargrave/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vichargrave/subscriptions","organizations_url":"https://api.github.com/users/vichargrave/orgs","repos_url":"https://api.github.com/users/vichargrave/repos","events_url":"https://api.github.com/users/vichargrave/events{/privacy}","received_events_url":"https://api.github.com/users/vichargrave/received_events","type":"User","site_admin":false},"created_at":"2014-10-26T17:13:30Z","updated_at":"2014-10-26T17:14:27Z","author_association":"NONE","body":"@imotov I don't get errors, just success codes.  The first time around the message indicates how many shards were copied.  The second time around, the status is still success, just 0 shards copied.  I suggest you try this out on your test environment to see the precise behavior.  \n\nI should note that I can use the snapshot mechanism to backup and restore indices.  Again it only works the first time around.  I'm confident I can get and restore snapshots of the indices I need to keep.  So I will proceed to do that so I can get my cluster to a Green state.  When I do I'll repeat the steps I outlined to see if I get the same results with a Green cluster.  I'll keep you posted.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/60524937","html_url":"https://github.com/elastic/elasticsearch/issues/8229#issuecomment-60524937","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8229","id":60524937,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNTI0OTM3","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2014-10-26T17:35:44Z","updated_at":"2014-10-26T17:35:44Z","author_association":"MEMBER","body":"@vichargrave what you are describing is pretty much how we test the snapshot/restore feature. In other words we repeat these steps hundreds of times a day on several CI server and they work. But just to be on the safe side I wrote a [script](https://gist.github.com/imotov/20da3c505792f487ebae) that follows the steps that you described and I couldn't reproduce the issue. I am sorry, but I think there is still something important missing in your description. So, I would need your help to figure out this part. It could be the current state of your cluster, so I would need more information on how it got into this state in order to reproduce the issue. Are nodes running out of memory or disk space? Did you disable allocation by any chance? What happened with the cluster before it got there? Could you also show exact syntax and output of the second snapshot command?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/60525701","html_url":"https://github.com/elastic/elasticsearch/issues/8229#issuecomment-60525701","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8229","id":60525701,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNTI1NzAx","user":{"login":"vichargrave","id":260028,"node_id":"MDQ6VXNlcjI2MDAyOA==","avatar_url":"https://avatars2.githubusercontent.com/u/260028?v=4","gravatar_id":"","url":"https://api.github.com/users/vichargrave","html_url":"https://github.com/vichargrave","followers_url":"https://api.github.com/users/vichargrave/followers","following_url":"https://api.github.com/users/vichargrave/following{/other_user}","gists_url":"https://api.github.com/users/vichargrave/gists{/gist_id}","starred_url":"https://api.github.com/users/vichargrave/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vichargrave/subscriptions","organizations_url":"https://api.github.com/users/vichargrave/orgs","repos_url":"https://api.github.com/users/vichargrave/repos","events_url":"https://api.github.com/users/vichargrave/events{/privacy}","received_events_url":"https://api.github.com/users/vichargrave/received_events","type":"User","site_admin":false},"created_at":"2014-10-26T17:58:28Z","updated_at":"2014-10-26T17:58:28Z","author_association":"NONE","body":"@imotov. You raise good points.  I have disabled shard allocation while I try to backup the indices.  However I believe that is what the recommended procedure is, to disable shard allocation first then do a snapshot.  \n\nMy situation must have something to do with my cluster status.  I will go ahead and backup my indices then clear out the cluster.  After I add back the necessary indices, I'll repeat this test to see if I get the same results.\n\nThanks.\n\n-- vic\n\nSent from my iPhone\n\n> On Oct 26, 2014, at 10:36 AM, Igor Motov notifications@github.com wrote:\n> \n> @vichargrave what you are describing is pretty much how we test the snapshot/restore feature. In other words we repeat these steps hundreds of times a day on several CI server and they work. But just to be on the safe side I wrote a script that follows the steps that you described and I couldn't reproduce the issue. I am sorry, but I think there is still something important missing in your description. So, I would need your help to figure out this part. It could be the current state of your cluster, so I would need more information on how it got into this state in order to reproduce the issue. Are nodes running out of memory or disk space? Did you disable allocation by any chance? What happened with the cluster before it got there? Could you also show exact syntax and output of the second snapshot command?\n> \n> —\n> Reply to this email directly or view it on GitHub.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/60526126","html_url":"https://github.com/elastic/elasticsearch/issues/8229#issuecomment-60526126","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8229","id":60526126,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNTI2MTI2","user":{"login":"vichargrave","id":260028,"node_id":"MDQ6VXNlcjI2MDAyOA==","avatar_url":"https://avatars2.githubusercontent.com/u/260028?v=4","gravatar_id":"","url":"https://api.github.com/users/vichargrave","html_url":"https://github.com/vichargrave","followers_url":"https://api.github.com/users/vichargrave/followers","following_url":"https://api.github.com/users/vichargrave/following{/other_user}","gists_url":"https://api.github.com/users/vichargrave/gists{/gist_id}","starred_url":"https://api.github.com/users/vichargrave/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vichargrave/subscriptions","organizations_url":"https://api.github.com/users/vichargrave/orgs","repos_url":"https://api.github.com/users/vichargrave/repos","events_url":"https://api.github.com/users/vichargrave/events{/privacy}","received_events_url":"https://api.github.com/users/vichargrave/received_events","type":"User","site_admin":false},"created_at":"2014-10-26T18:10:08Z","updated_at":"2014-10-26T18:10:08Z","author_association":"NONE","body":"@imotov.  Thanks for the script.  One more thought.  Your test setup looks like it involves only one node.  Have you tried this on a multinode cluster?  I don't doubt the state of my cluster is contributing to the problem, but your script should work on a multinode cluster in the GREEN state.  Just food for thought.\n\nThanks again.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/60526335","html_url":"https://github.com/elastic/elasticsearch/issues/8229#issuecomment-60526335","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8229","id":60526335,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNTI2MzM1","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2014-10-26T18:14:50Z","updated_at":"2014-10-26T18:14:50Z","author_association":"MEMBER","body":"@vichargrave I tested it with two nodes running on the same machine. So, unless something went seriously wrong with the shared file system it should be equivalent.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/61680487","html_url":"https://github.com/elastic/elasticsearch/issues/8229#issuecomment-61680487","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8229","id":61680487,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjgwNDg3","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2014-11-04T17:32:39Z","updated_at":"2014-11-04T17:32:39Z","author_association":"MEMBER","body":"@vichargrave have you figured out what was going wrong? Any updates?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/61681876","html_url":"https://github.com/elastic/elasticsearch/issues/8229#issuecomment-61681876","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8229","id":61681876,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjgxODc2","user":{"login":"vichargrave","id":260028,"node_id":"MDQ6VXNlcjI2MDAyOA==","avatar_url":"https://avatars2.githubusercontent.com/u/260028?v=4","gravatar_id":"","url":"https://api.github.com/users/vichargrave","html_url":"https://github.com/vichargrave","followers_url":"https://api.github.com/users/vichargrave/followers","following_url":"https://api.github.com/users/vichargrave/following{/other_user}","gists_url":"https://api.github.com/users/vichargrave/gists{/gist_id}","starred_url":"https://api.github.com/users/vichargrave/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vichargrave/subscriptions","organizations_url":"https://api.github.com/users/vichargrave/orgs","repos_url":"https://api.github.com/users/vichargrave/repos","events_url":"https://api.github.com/users/vichargrave/events{/privacy}","received_events_url":"https://api.github.com/users/vichargrave/received_events","type":"User","site_admin":false},"created_at":"2014-11-04T17:41:45Z","updated_at":"2014-11-04T17:41:45Z","author_association":"NONE","body":"Hi Igor.\n\nNo I haven't, but I suspect the\" problem\" was related to the state my\ncluster was in - lot's of unassigned shards and reallocation turned off.  I\nhave since done many snapshots - after snapshoting my indices, removing\nthem from the cluster and resuming reallocation - so the facility seems to\nbe working well.\n\nOne thing to note, I had to cancel a snapshot in the middle of the\noperation - it's a long story, don't ask.  I noticed when I did that not\nonly the snapshot in Elasticseach was deleted, but also the files that had\nbeen written to my shared backup drive up to that point.  That is great,\nbut when I reported my \"problem\" I was deleting the files manually.  I\nwonder if that fowled things up as well, although I'm not sure how it would.\n\nAt any rate, I convinced that the \"problem\" was on my end and not related\nto any Elasticsearch deficiency.  Sorry to send you on a wild goose chase.\n\nThanks for everything.\n\n-- vic\n\nOn Tue, Nov 4, 2014 at 9:33 AM, Igor Motov notifications@github.com wrote:\n\n> @vichargrave https://github.com/vichargrave have you figured out what\n> was going wrong? Any updates?\n> \n> —\n> Reply to this email directly or view it on GitHub\n> https://github.com/elasticsearch/elasticsearch/issues/8229#issuecomment-61680487\n> .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/61683526","html_url":"https://github.com/elastic/elasticsearch/issues/8229#issuecomment-61683526","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8229","id":61683526,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNjgzNTI2","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2014-11-04T17:52:21Z","updated_at":"2014-11-04T17:52:21Z","author_association":"MEMBER","body":"@vichargrave thanks! I will close it for now then. Please, feel free to reopen if you will find any evidence that snapshot process might be the culprit. \n","performed_via_github_app":null}]