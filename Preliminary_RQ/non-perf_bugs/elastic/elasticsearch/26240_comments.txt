[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/361968360","html_url":"https://github.com/elastic/elasticsearch/issues/26240#issuecomment-361968360","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26240","id":361968360,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MTk2ODM2MA==","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2018-01-31T15:32:14Z","updated_at":"2018-01-31T15:32:14Z","author_association":"MEMBER","body":"I'm working on a fix.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/363652853","html_url":"https://github.com/elastic/elasticsearch/issues/26240#issuecomment-363652853","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26240","id":363652853,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MzY1Mjg1Mw==","user":{"login":"Delostik","id":4453234,"node_id":"MDQ6VXNlcjQ0NTMyMzQ=","avatar_url":"https://avatars0.githubusercontent.com/u/4453234?v=4","gravatar_id":"","url":"https://api.github.com/users/Delostik","html_url":"https://github.com/Delostik","followers_url":"https://api.github.com/users/Delostik/followers","following_url":"https://api.github.com/users/Delostik/following{/other_user}","gists_url":"https://api.github.com/users/Delostik/gists{/gist_id}","starred_url":"https://api.github.com/users/Delostik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Delostik/subscriptions","organizations_url":"https://api.github.com/users/Delostik/orgs","repos_url":"https://api.github.com/users/Delostik/repos","events_url":"https://api.github.com/users/Delostik/events{/privacy}","received_events_url":"https://api.github.com/users/Delostik/received_events","type":"User","site_admin":false},"created_at":"2018-02-07T04:20:22Z","updated_at":"2018-02-07T04:20:22Z","author_association":"NONE","body":"this also happens on v6.1.3 \r\nI think it's a common failure on many versions.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/367221484","html_url":"https://github.com/elastic/elasticsearch/issues/26240#issuecomment-367221484","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26240","id":367221484,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NzIyMTQ4NA==","user":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"created_at":"2018-02-21T05:52:55Z","updated_at":"2018-02-21T05:52:55Z","author_association":"CONTRIBUTOR","body":"This just happened for HDFS repository as well, and I guess the underlying cause is not repo specific\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.2+multijob-unix-compatibility/os=centos/125/console\r\n```\r\n05:20:49 ERROR   30.8s | RepositoryHdfsClientYamlTestSuiteIT.test {yaml=secure_hdfs_repository/30_snapshot/take snapshot} <<< FAILURES!\r\n05:20:49    > Throwable #1: java.lang.RuntimeException: Failure at [secure_hdfs_repository/30_snapshot:8]: listener timeout after waiting for [30000] ms\r\n```\r\n\r\nI checked the node's log, it has nothing related to this request. It ends with:\r\n```\r\n[2018-02-21T06:20:48,859][INFO ][o.e.r.RepositoriesService] [node-0] put repository [test_repo_hdfs_1]\r\n[2018-02-21T06:20:48,948][INFO ][o.e.r.RepositoriesService] [node-0] delete repository [test_repo_hdfs_1]\r\n[2018-02-21T06:20:49,021][WARN ][o.e.r.h.HdfsRepository   ] Hadoop authentication method is set to [SIMPLE], but a Kerberos principal is specified. Continuing with [KERBEROS] authentication.\r\n[2018-02-21T06:20:49,032][INFO ][o.e.r.RepositoriesService] [node-0] put repository [test_repo_hdfs_1]\r\n[2018-02-21T06:20:49,122][INFO ][o.e.r.RepositoriesService] [node-0] delete repository [test_repo_hdfs_1]\r\n```\r\nThe \"test_repo_hdfs_1\" repo is referenced exclusively in `20_repository_delete.yml`\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/367236810","html_url":"https://github.com/elastic/elasticsearch/issues/26240#issuecomment-367236810","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26240","id":367236810,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NzIzNjgxMA==","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2018-02-21T07:29:27Z","updated_at":"2018-02-21T07:29:27Z","author_association":"MEMBER","body":"Thanks @tvernum. The underlying cause - at least for s3 and other cloud based plugins - is that a repository creation with a `verify` flag to false is still executing some remote accesses like verifying the bucket existence. If the network is not available or the remote host not reachable the test times out.\r\n\r\nI plan to change the repository verification action so that it does *actually* nothing if the `verify` flag is set to false and so that it always does something if the flag is set to true (because today, read only URL repository are not verified for reads) but I had to hold on this work recently because of CI failures.\r\n\r\nAlso, before doing this change I'd like to have integration tests based on fixtures.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/386872694","html_url":"https://github.com/elastic/elasticsearch/issues/26240#issuecomment-386872694","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26240","id":386872694,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Njg3MjY5NA==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2018-05-06T11:31:22Z","updated_at":"2018-05-06T11:31:22Z","author_association":"MEMBER","body":"@tlrx is this test failure issue the only place we track this or can we close this one in favour of something that better describes the problem?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/414930384","html_url":"https://github.com/elastic/elasticsearch/issues/26240#issuecomment-414930384","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26240","id":414930384,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNDkzMDM4NA==","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2018-08-22T06:52:51Z","updated_at":"2018-08-22T06:52:51Z","author_association":"MEMBER","body":"This has been fixed by the recent work on the lazy repository initialization in #31606","performed_via_github_app":null}]