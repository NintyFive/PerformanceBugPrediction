{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/54204","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54204/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54204/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54204/events","html_url":"https://github.com/elastic/elasticsearch/issues/54204","id":587820389,"node_id":"MDU6SXNzdWU1ODc4MjAzODk=","number":54204,"title":"[CI] IndexFollowingIT.testUpdateAnalysisLeaderIndexSettings fails","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"labels":[{"id":912824565,"node_id":"MDU6TGFiZWw5MTI4MjQ1NjU=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/CCR","name":":Distributed/CCR","color":"0e8a16","default":false,"description":"Issues around the Cross Cluster State Replication features"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2020-03-25T16:21:45Z","updated_at":"2020-03-27T12:41:32Z","closed_at":"2020-03-27T12:41:32Z","author_association":"MEMBER","active_lock_reason":null,"body":"The test `IndexFollowingIT.testUpdateAnalysisLeaderIndexSettings` failed on CI today.\r\n\r\nThe error is:\r\n```\r\norg.elasticsearch.xpack.ccr.IndexFollowingIT > testUpdateAnalysisLeaderIndexSettings FAILED\r\n    java.lang.AssertionError: \r\n    Expected: <86L>\r\n         but: was <61L>\r\n        at __randomizedtesting.SeedInfo.seed([29FFCDBD78040107:222B0C9F5FE8E60F]:0)\r\n        at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:18)\r\n        at org.junit.Assert.assertThat(Assert.java:956)\r\n        at org.junit.Assert.assertThat(Assert.java:923)\r\n        at org.elasticsearch.xpack.ccr.IndexFollowingIT.lambda$testUpdateAnalysisLeaderIndexSettings$41(IndexFollowingIT.java:1057)\r\n        at org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:892)\r\n        at org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:865)\r\n        at org.elasticsearch.xpack.ccr.IndexFollowingIT.testUpdateAnalysisLeaderIndexSettings(IndexFollowingIT.java:1038)\r\n```\r\n\r\nand it does not reproduce with:\r\n\r\n```\r\n./gradlew ':x-pack:plugin:ccr:internalClusterTest' --tests \"org.elasticsearch.xpack.ccr.IndexFollowingIT.testUpdateAnalysisLeaderIndexSettings\" \\\r\n  -Dtests.seed=29FFCDBD78040107 \\\r\n  -Dtests.security.manager=true \\\r\n  -Dtests.jvm.argline=\"-XX:-UseConcMarkSweepGC -XX:-UseSerialGC -XX:+UseG1GC\" \\\r\n  -Dtests.locale=es-PY \\\r\n  -Dtests.timezone=Africa/El_Aaiun \\\r\n  -Dcompiler.java=13\r\n```\r\n\r\nBuild scan: https://gradle-enterprise.elastic.co/s/5attlyvmraoym\r\n\r\nLooking at [the build stats](https://build-stats.elastic.co/app/kibana#/discover?_g=(refreshInterval:(pause:!t,value:0),time:(from:now-60d,mode:quick,to:now))&_a=(columns:!(branch,test),index:e58bf320-7efd-11e8-bf69-63c8ef516157,interval:auto,query:(language:kuery,query:'class:%22org.elasticsearch.xpack.ccr.IndexFollowingIT%22%20AND%20(branch:master%20OR%20branch:%227.x%22)%20AND%20test:%22testUpdateAnalysisLeaderIndexSettings%22'),sort:!(time,desc))) this test failed 2 more times in the last 30 days:\r\n- https://gradle-enterprise.elastic.co/s/7geb27ljchqmg\r\n- https://gradle-enterprise.elastic.co/s/fy4277ivvlr4a\r\n","closed_by":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"performed_via_github_app":null}