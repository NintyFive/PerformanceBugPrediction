[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/514525298","html_url":"https://github.com/elastic/elasticsearch/issues/44786#issuecomment-514525298","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44786","id":514525298,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDUyNTI5OA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-07-24T08:02:45Z","updated_at":"2019-07-24T08:02:45Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/515063553","html_url":"https://github.com/elastic/elasticsearch/issues/44786#issuecomment-515063553","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44786","id":515063553,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTA2MzU1Mw==","user":{"login":"vengadanathan-s","id":53253420,"node_id":"MDQ6VXNlcjUzMjUzNDIw","avatar_url":"https://avatars0.githubusercontent.com/u/53253420?v=4","gravatar_id":"","url":"https://api.github.com/users/vengadanathan-s","html_url":"https://github.com/vengadanathan-s","followers_url":"https://api.github.com/users/vengadanathan-s/followers","following_url":"https://api.github.com/users/vengadanathan-s/following{/other_user}","gists_url":"https://api.github.com/users/vengadanathan-s/gists{/gist_id}","starred_url":"https://api.github.com/users/vengadanathan-s/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vengadanathan-s/subscriptions","organizations_url":"https://api.github.com/users/vengadanathan-s/orgs","repos_url":"https://api.github.com/users/vengadanathan-s/repos","events_url":"https://api.github.com/users/vengadanathan-s/events{/privacy}","received_events_url":"https://api.github.com/users/vengadanathan-s/received_events","type":"User","site_admin":false},"created_at":"2019-07-25T14:21:14Z","updated_at":"2019-07-25T14:21:14Z","author_association":"NONE","body":"Adding more detail:\r\n\r\nI was referring to this section, https://github.com/elastic/elasticsearch/blob/905ad4e28a0a0969e410d86c2bf2ee61455f1f6c/server/src/main/java/org/elasticsearch/transport/RemoteClusterConnection.java#L574-L587 where we pick only first 3 nodes (i.e configurable value) returned by cluster state as gateway nodes , ideally we should randomize and pick 3 nodes to provide efficient distribution of gateway nodes else all source cluster nodes will point to same set of 3 gateway nodes.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/520478852","html_url":"https://github.com/elastic/elasticsearch/issues/44786#issuecomment-520478852","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44786","id":520478852,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDQ3ODg1Mg==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2019-08-12T15:41:36Z","updated_at":"2019-08-12T15:41:36Z","author_association":"MEMBER","body":"hi @vengadanathan-s , \r\nnote that the cluster state call performed to retrieve the list of nodes provides the `local` flag set to `true`, hence the list of nodes is not retrieved from the same node, but rather locally from the node hit by the request, which is determined by what `getAnyConnectedNode()` returns on each node. There is no guarantee that the list of nodes will be sorted equally, as nodes are stored in an unsorted map and retrieved from different nodes.\r\n\r\nI am curious though, did you experience problems with the selection of gateway nodes and balancing of CCS requests? Would increasing the maximum number of nodes also be a solution?\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/535517405","html_url":"https://github.com/elastic/elasticsearch/issues/44786#issuecomment-535517405","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44786","id":535517405,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTUxNzQwNQ==","user":{"login":"ebadyano","id":26631211,"node_id":"MDQ6VXNlcjI2NjMxMjEx","avatar_url":"https://avatars0.githubusercontent.com/u/26631211?v=4","gravatar_id":"","url":"https://api.github.com/users/ebadyano","html_url":"https://github.com/ebadyano","followers_url":"https://api.github.com/users/ebadyano/followers","following_url":"https://api.github.com/users/ebadyano/following{/other_user}","gists_url":"https://api.github.com/users/ebadyano/gists{/gist_id}","starred_url":"https://api.github.com/users/ebadyano/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ebadyano/subscriptions","organizations_url":"https://api.github.com/users/ebadyano/orgs","repos_url":"https://api.github.com/users/ebadyano/repos","events_url":"https://api.github.com/users/ebadyano/events{/privacy}","received_events_url":"https://api.github.com/users/ebadyano/received_events","type":"User","site_admin":false},"created_at":"2019-09-26T14:04:23Z","updated_at":"2019-09-26T14:04:23Z","author_association":"CONTRIBUTOR","body":"No further feedback received. @vengadanathan-s  if you have the requested \r\ninformation please add it in a comment and we can look at re-opening \r\nthis issue.","performed_via_github_app":null}]