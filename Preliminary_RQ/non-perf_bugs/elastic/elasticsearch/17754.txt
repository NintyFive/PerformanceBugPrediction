{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/17754","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17754/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17754/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17754/events","html_url":"https://github.com/elastic/elasticsearch/issues/17754","id":148385966,"node_id":"MDU6SXNzdWUxNDgzODU5NjY=","number":17754,"title":"Mapper.TypeParser instances can't deal with @Inject","user":{"login":"cadu-goncalves","id":5223675,"node_id":"MDQ6VXNlcjUyMjM2NzU=","avatar_url":"https://avatars3.githubusercontent.com/u/5223675?v=4","gravatar_id":"","url":"https://api.github.com/users/cadu-goncalves","html_url":"https://github.com/cadu-goncalves","followers_url":"https://api.github.com/users/cadu-goncalves/followers","following_url":"https://api.github.com/users/cadu-goncalves/following{/other_user}","gists_url":"https://api.github.com/users/cadu-goncalves/gists{/gist_id}","starred_url":"https://api.github.com/users/cadu-goncalves/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cadu-goncalves/subscriptions","organizations_url":"https://api.github.com/users/cadu-goncalves/orgs","repos_url":"https://api.github.com/users/cadu-goncalves/repos","events_url":"https://api.github.com/users/cadu-goncalves/events{/privacy}","received_events_url":"https://api.github.com/users/cadu-goncalves/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-04-14T14:48:47Z","updated_at":"2016-04-14T15:07:50Z","closed_at":"2016-04-14T15:07:50Z","author_association":"NONE","active_lock_reason":null,"body":"<!--\nGitHub is reserved for bug reports and feature requests. The best place\nto ask a general question is at the Elastic Discourse forums at\nhttps://discuss.elastic.co. If you are in fact posting a bug report or\na feature request, please include one and only one of the below blocks\nin your new issue.\n-->\n\n<!--\nIf you are filing a bug report, please remove the below feature\nrequest block and provide responses for all of the below items.\n-->\n\n**Elasticsearch version**:  >= 2.2.0\n\n**JVM version**: 1.8\n\n**OS version**: Windows 7\n\n**Description of the problem including expected versus actual behavior**:\nThe current way to register custom type mappers is from _org.elasticsearch.indices.IndicesModule#registerMapper_, which receives instances of   _org.elasticsearch.index.mapper.Mapper.TypeParser_. \n\nThe spot to handle Guice binding context for DI (register implementations, bindings, etc..) is inside _org.elasticsearch.common.inject.Module#config_.\n\nThe plugin bootstrap sequence first register the mappers calling onModule method related with IndicesModule, and them builds the DI context calling the module config method. \n\nHow instances passed to _registerMapper_ will be able to solve @Inject bindings, if they can only be constructed by hand and can't be bound to the DI context as Singletons for example?\n\n**Steps to reproduce**:\nDoes not apply.\n\n**Provide logs (if relevant)**:\n\n<!--\nIf you are filing a feature request, please remove the above bug\nreport block and provide responses for all of the below items.\n-->\n\n**Describe the feature**:\n","closed_by":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"performed_via_github_app":null}