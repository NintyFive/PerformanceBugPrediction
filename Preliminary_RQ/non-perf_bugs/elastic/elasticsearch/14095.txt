{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/14095","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14095/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14095/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14095/events","html_url":"https://github.com/elastic/elasticsearch/issues/14095","id":111240923,"node_id":"MDU6SXNzdWUxMTEyNDA5MjM=","number":14095,"title":"add instrumentation for sparse index detection","user":{"login":"djschny","id":129643,"node_id":"MDQ6VXNlcjEyOTY0Mw==","avatar_url":"https://avatars0.githubusercontent.com/u/129643?v=4","gravatar_id":"","url":"https://api.github.com/users/djschny","html_url":"https://github.com/djschny","followers_url":"https://api.github.com/users/djschny/followers","following_url":"https://api.github.com/users/djschny/following{/other_user}","gists_url":"https://api.github.com/users/djschny/gists{/gist_id}","starred_url":"https://api.github.com/users/djschny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/djschny/subscriptions","organizations_url":"https://api.github.com/users/djschny/orgs","repos_url":"https://api.github.com/users/djschny/repos","events_url":"https://api.github.com/users/djschny/events{/privacy}","received_events_url":"https://api.github.com/users/djschny/received_events","type":"User","site_admin":false},"labels":[{"id":146836529,"node_id":"MDU6TGFiZWwxNDY4MzY1Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Stats","name":":Core/Features/Stats","color":"0e8a16","default":false,"description":"Statistics tracking and retrieval APIs"},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-10-13T18:31:58Z","updated_at":"2016-01-29T13:58:22Z","closed_at":"2016-01-29T13:58:22Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"One current item to watch out for with doc values is the notion of \"sparse indices\". This is the situation where there is a disproportionate ratio of documents that have a value for a field versus those that do. For example if you have 1 million docs but only 1,000 have a particular field actually present in them, the amount of disk consumed will still be large.\n\nIn order to help detect this and other such situations, enhancing the instrumentation APIs to help report this on a field by field basis is probably helpful. Similar to what was done for fielddata on a field by field breakdown.\n\nAs requested after discussing with @jpountz yesterday while talking about this, suggested adding an issue here to discuss/track. Please any information I may have missed.\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}