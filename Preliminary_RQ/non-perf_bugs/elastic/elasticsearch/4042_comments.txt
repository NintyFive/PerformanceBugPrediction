[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27567012","html_url":"https://github.com/elastic/elasticsearch/issues/4042#issuecomment-27567012","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4042","id":27567012,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTY3MDEy","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2013-11-01T13:57:50Z","updated_at":"2013-11-01T13:57:50Z","author_association":"MEMBER","body":"Thanks for reporting this, we'll see what we can do about it. \nThe documentation already states \"Note that the postings highlighter is meant to perform simple query terms highlighting\" but maybe that sentence needs to be made even clearer.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27567762","html_url":"https://github.com/elastic/elasticsearch/issues/4042#issuecomment-27567762","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4042","id":27567762,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTY3NzYy","user":{"login":"roytmana","id":2524911,"node_id":"MDQ6VXNlcjI1MjQ5MTE=","avatar_url":"https://avatars0.githubusercontent.com/u/2524911?v=4","gravatar_id":"","url":"https://api.github.com/users/roytmana","html_url":"https://github.com/roytmana","followers_url":"https://api.github.com/users/roytmana/followers","following_url":"https://api.github.com/users/roytmana/following{/other_user}","gists_url":"https://api.github.com/users/roytmana/gists{/gist_id}","starred_url":"https://api.github.com/users/roytmana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roytmana/subscriptions","organizations_url":"https://api.github.com/users/roytmana/orgs","repos_url":"https://api.github.com/users/roytmana/repos","events_url":"https://api.github.com/users/roytmana/events{/privacy}","received_events_url":"https://api.github.com/users/roytmana/received_events","type":"User","site_admin":false},"created_at":"2013-11-01T14:08:28Z","updated_at":"2013-11-01T14:08:28Z","author_association":"NONE","body":"I read it as if it does not account for any boolean logic and phrases given the emphasis on that in the doc and missed wildcard aspect till i hit the issue.\n\nHopefully trailing wildcards/prefixes  will be easy :-)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27700822","html_url":"https://github.com/elastic/elasticsearch/issues/4042#issuecomment-27700822","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4042","id":27700822,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NzAwODIy","user":{"login":"roytmana","id":2524911,"node_id":"MDQ6VXNlcjI1MjQ5MTE=","avatar_url":"https://avatars0.githubusercontent.com/u/2524911?v=4","gravatar_id":"","url":"https://api.github.com/users/roytmana","html_url":"https://github.com/roytmana","followers_url":"https://api.github.com/users/roytmana/followers","following_url":"https://api.github.com/users/roytmana/following{/other_user}","gists_url":"https://api.github.com/users/roytmana/gists{/gist_id}","starred_url":"https://api.github.com/users/roytmana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roytmana/subscriptions","organizations_url":"https://api.github.com/users/roytmana/orgs","repos_url":"https://api.github.com/users/roytmana/repos","events_url":"https://api.github.com/users/roytmana/events{/privacy}","received_events_url":"https://api.github.com/users/roytmana/received_events","type":"User","site_admin":false},"created_at":"2013-11-04T16:47:07Z","updated_at":"2013-11-04T16:47:07Z","author_association":"NONE","body":"Hi Luca,\n\nAre trailing wildcard supposed to work? I built 0.9.7-SNAPSHOT as of an hour ago and it does not seem to work. Actually even regular terms seem to not highlight randomly I can't quite pin when it highlight and when not. Something seems to be broken?\n\nAlex\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27702859","html_url":"https://github.com/elastic/elasticsearch/issues/4042#issuecomment-27702859","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4042","id":27702859,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NzAyODU5","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2013-11-04T17:10:28Z","updated_at":"2013-11-04T17:10:28Z","author_association":"MEMBER","body":"This is in the just released 0.90.6, no need to build from a snapshot. Just tested with 0.90.6 and saw trailing wildcard matches highlighted, as well as ordinary queries (e.g. match query).\nI'd love to help if you saw issues but I'm going to need a curl recreation. Maybe you can open a new issue and describe what happens?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27703207","html_url":"https://github.com/elastic/elasticsearch/issues/4042#issuecomment-27703207","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4042","id":27703207,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NzAzMjA3","user":{"login":"roytmana","id":2524911,"node_id":"MDQ6VXNlcjI1MjQ5MTE=","avatar_url":"https://avatars0.githubusercontent.com/u/2524911?v=4","gravatar_id":"","url":"https://api.github.com/users/roytmana","html_url":"https://github.com/roytmana","followers_url":"https://api.github.com/users/roytmana/followers","following_url":"https://api.github.com/users/roytmana/following{/other_user}","gists_url":"https://api.github.com/users/roytmana/gists{/gist_id}","starred_url":"https://api.github.com/users/roytmana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roytmana/subscriptions","organizations_url":"https://api.github.com/users/roytmana/orgs","repos_url":"https://api.github.com/users/roytmana/repos","events_url":"https://api.github.com/users/roytmana/events{/privacy}","received_events_url":"https://api.github.com/users/roytmana/received_events","type":"User","site_admin":false},"created_at":"2013-11-04T17:14:16Z","updated_at":"2013-11-04T17:14:16Z","author_association":"NONE","body":"Luka,\n\nLet me test 0.9.6 (it was not in maven couple oh hours ago yet) and if it\nfails I will try to prepare the recreation late tonight.\nJust wanted too check if it is supposed to work before trying to extract a\nrecreation\n\nthanks,\nAlex\n\nOn Mon, Nov 4, 2013 at 12:11 PM, Luca Cavanna notifications@github.comwrote:\n\n> This is in the just released 0.90.6, no need to build from a snapshot.\n> Just tested with 0.90.6 and saw trailing wildcard matches highlighted, as\n> well as ordinary queries (e.g. match query).\n> I'd love to help if you saw issues but I'm going to need a curl\n> recreation. Maybe you can open a new issue and describe what happens?\n> \n> â€”\n> Reply to this email directly or view it on GitHubhttps://github.com/elasticsearch/elasticsearch/issues/4042#issuecomment-27702859\n> .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27798731","html_url":"https://github.com/elastic/elasticsearch/issues/4042#issuecomment-27798731","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4042","id":27798731,"node_id":"MDEyOklzc3VlQ29tbWVudDI3Nzk4NzMx","user":{"login":"roytmana","id":2524911,"node_id":"MDQ6VXNlcjI1MjQ5MTE=","avatar_url":"https://avatars0.githubusercontent.com/u/2524911?v=4","gravatar_id":"","url":"https://api.github.com/users/roytmana","html_url":"https://github.com/roytmana","followers_url":"https://api.github.com/users/roytmana/followers","following_url":"https://api.github.com/users/roytmana/following{/other_user}","gists_url":"https://api.github.com/users/roytmana/gists{/gist_id}","starred_url":"https://api.github.com/users/roytmana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/roytmana/subscriptions","organizations_url":"https://api.github.com/users/roytmana/orgs","repos_url":"https://api.github.com/users/roytmana/repos","events_url":"https://api.github.com/users/roytmana/events{/privacy}","received_events_url":"https://api.github.com/users/roytmana/received_events","type":"User","site_admin":false},"created_at":"2013-11-05T18:27:03Z","updated_at":"2013-11-05T18:28:43Z","author_association":"NONE","body":"Luka,\n\nIt does not work with 0.90.6 either. Just a very simple example (not exactly my problem of not highlighting at all but highlighting incorrectly):\n\n```\ncurl  -XDELETE http://localhost:9200/test\ncurl  -XPOST http://localhost:9200/test -d'{\n  \"settings\": {\n    \"number_of_shards\": 1,\n    \"number_of_replicas\": 0\n  },\n  \"mappings\": {\n    \"ht\": {\n      \"properties\": {\n        \"name\": {\n          \"type\": \"string\",\n          \"index_options\": \"offsets\"\n        }\n      }\n    }\n  }\n}'\n\ncurl -XPOST \"http://localhost:9200/test/_search\" -d'\n{\n   \"query\": {\n      \"query_string\": {\n         \"query\": \"name:photo*\"\n      }\n   },\n   \"highlight\": {\n      \"fields\": {\n         \"name\": {\n            \"type\": \"postings\"\n         }\n      }\n   }\n}'\n\nresult:\n\n\n{\n   \"took\": 2,\n   \"timed_out\": false,\n   \"_shards\": {\n      \"total\": 1,\n      \"successful\": 1,\n      \"failed\": 0\n   },\n   \"hits\": {\n      \"total\": 2,\n      \"max_score\": 1,\n      \"hits\": [\n         {\n            \"_index\": \"test\",\n            \"_type\": \"ht\",\n            \"_id\": \"JxpSkfEwTJyJ5tiKDk951Q\",\n            \"_score\": 1,\n            \"_source\": {\n               \"name\": \"photography\"\n            },\n            \"highlight\": {\n               \"name\": [\n                  \"<em>photography</em>\"\n               ]\n            }\n         },\n         {\n            \"_index\": \"test\",\n            \"_type\": \"ht\",\n            \"_id\": \"O-KeBwKpTxeXQdfvfc84mg\",\n            \"_score\": 1,\n            \"_source\": {\n               \"name\": \"photo equipment\"\n            },\n            \"highlight\": {\n               \"name\": [\n                  \"<em>photo equip</em>ment\"\n               ]\n            }\n         }\n      ]\n   }\n}\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27800298","html_url":"https://github.com/elastic/elasticsearch/issues/4042#issuecomment-27800298","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4042","id":27800298,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODAwMjk4","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2013-11-05T18:45:09Z","updated_at":"2013-11-05T18:45:09Z","author_association":"CONTRIBUTOR","body":"Yeah, I'm seeing weird stuff happening here too, eg:\n\n```\nPOST /test/ht/_search\n{\n   \"query\": {\n      \"match\": {\n         \"name\": \"equipment little\"\n      }\n   },\n   \"highlight\": {\n      \"fields\": {\n         \"name\": {\n            \"type\": \"postings\"\n         }\n      }\n   }\n}\n\n\n  \"hits\": [\n     {\n        \"_index\": \"test\",\n        \"_type\": \"ht\",\n        \"_id\": \"2\",\n        \"_score\": 0.061554804,\n        \"_source\": {\n           \"name\": \"photo equipment\"\n        },\n        \"highlight\": {\n           \"name\": [\n              \"photo <em>equipment</em>\"\n           ]\n        }\n     },\n     {\n        \"_index\": \"test\",\n        \"_type\": \"ht\",\n        \"_id\": \"1\",\n        \"_score\": 0.049243845,\n        \"_source\": {\n           \"name\": \"littlexxxxxxx photograph equipment\"\n        },\n        \"highlight\": {\n           \"name\": [\n              \"little<em>xxxxxxx p</em>hotograph equipment\"\n           ]\n        }\n     }\n  ]\n```\n\nIt's like the offsets are set on the first document, then not reset for subsequent documents.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27809148","html_url":"https://github.com/elastic/elasticsearch/issues/4042#issuecomment-27809148","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4042","id":27809148,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODA5MTQ4","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2013-11-05T20:26:16Z","updated_at":"2013-11-05T20:26:16Z","author_association":"MEMBER","body":"Indeed, this is odd. I'm looking into it and I'll open another issue later on as the problem is not only with wildcards.\n","performed_via_github_app":null}]