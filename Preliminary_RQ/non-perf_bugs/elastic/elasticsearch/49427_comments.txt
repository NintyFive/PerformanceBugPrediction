[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/557162891","html_url":"https://github.com/elastic/elasticsearch/issues/49427#issuecomment-557162891","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49427","id":557162891,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzE2Mjg5MQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2019-11-21T16:27:00Z","updated_at":"2019-11-21T16:27:00Z","author_association":"MEMBER","body":"I'm not sure that I understand the request. Are you requesting a feature such that a user could disable the logging of stacktraces?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/557424492","html_url":"https://github.com/elastic/elasticsearch/issues/49427#issuecomment-557424492","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49427","id":557424492,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzQyNDQ5Mg==","user":{"login":"maierru","id":19530964,"node_id":"MDQ6VXNlcjE5NTMwOTY0","avatar_url":"https://avatars1.githubusercontent.com/u/19530964?v=4","gravatar_id":"","url":"https://api.github.com/users/maierru","html_url":"https://github.com/maierru","followers_url":"https://api.github.com/users/maierru/followers","following_url":"https://api.github.com/users/maierru/following{/other_user}","gists_url":"https://api.github.com/users/maierru/gists{/gist_id}","starred_url":"https://api.github.com/users/maierru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maierru/subscriptions","organizations_url":"https://api.github.com/users/maierru/orgs","repos_url":"https://api.github.com/users/maierru/repos","events_url":"https://api.github.com/users/maierru/events{/privacy}","received_events_url":"https://api.github.com/users/maierru/received_events","type":"User","site_admin":false},"created_at":"2019-11-22T07:32:52Z","updated_at":"2019-11-22T07:42:40Z","author_association":"NONE","body":"I mean, is there any reason to turn on trace logging for production usage?\r\nit works for bulk insert in this way:\r\n\r\nfirst console\r\n`$ docker run -t --rm -e \"discovery.type=single-node\" elasticsearch:7.4.1`\r\n\r\nsecond console\r\n`$ cat request1.txt`\r\n``` \r\n{ \"index\" : { \"_index\" : \"test\" } }\r\n{ \"user_id\" : 1111 }\r\n```\r\n`$ curl -s -H \"Content-Type: application/x-ndjson\" -XPOST localhost:9200/_bulk --data-binary \"@request1.txt\"; echo`\r\n\r\n`$ cat request2.txt`\r\n``` \r\n{ \"index\" : { \"_index\" : \"test\" } }\r\n{ \"user_id\" : \"sdd\" }\r\n```\r\n`$ curl -s -H \"Content-Type: application/x-ndjson\" -XPOST localhost:9200/_bulk --data-binary \"@request2.txt\"; echo`\r\nresponse really cool with explanation\r\n```\r\n{\"took\":15,\"errors\":true,\"items\":[{\"index\":{\"_index\":\"test\",\"_type\":\"_doc\",\"_id\":\"QQ8Akm4BNK3DsdKq9CeP\",\"status\":400,\"error\":{\"type\":\"mapper_parsing_exception\",\"reason\":\"failed to parse field [user_id] of type [long] in document with id 'QQ8Akm4BNK3DsdKq9CeP'. Preview of field's value: 'sdd'\",\"caused_by\":{\"type\":\"illegal_argument_exception\",\"reason\":\"For input string: \\\"sdd\\\"\"}}}}]}\r\n```\r\n\r\nbut in console1 we can see long message with stacktrace:\r\n```\r\n{\"type\": \"server\", \"timestamp\": \"2019-11-22T07:26:06,484Z\", \"level\": \"DEBUG\", \"component\": \"o.e.a.b.TransportShardBulkAction\", \"cluster.name\": \"docker-cluster\", \"node.name\": \"27e22f06ea10\", \"message\": \"[test][0] failed to execute bulk item (index) index {[test][_doc][QQ8Akm4BNK3DsdKq9CeP], source[{ \\\"user_id\\\" : \\\"sdd\\\" }]}\", \"cluster.uuid\": \"qZMyH0gSRQSRlAa0vAzkkA\", \"node.id\": \"GmCHMW46QQqb6oIJ-I9jjw\" , \r\n\"stacktrace\": [\"org.elasticsearch.index.mapper.MapperParsingException: failed to parse field [user_id] of type [long] in document with id ...\r\n....long long stacktrace here...\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/557425422","html_url":"https://github.com/elastic/elasticsearch/issues/49427#issuecomment-557425422","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49427","id":557425422,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzQyNTQyMg==","user":{"login":"maierru","id":19530964,"node_id":"MDQ6VXNlcjE5NTMwOTY0","avatar_url":"https://avatars1.githubusercontent.com/u/19530964?v=4","gravatar_id":"","url":"https://api.github.com/users/maierru","html_url":"https://github.com/maierru","followers_url":"https://api.github.com/users/maierru/followers","following_url":"https://api.github.com/users/maierru/following{/other_user}","gists_url":"https://api.github.com/users/maierru/gists{/gist_id}","starred_url":"https://api.github.com/users/maierru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maierru/subscriptions","organizations_url":"https://api.github.com/users/maierru/orgs","repos_url":"https://api.github.com/users/maierru/repos","events_url":"https://api.github.com/users/maierru/events{/privacy}","received_events_url":"https://api.github.com/users/maierru/received_events","type":"User","site_admin":false},"created_at":"2019-11-22T07:36:47Z","updated_at":"2019-11-22T07:36:47Z","author_association":"NONE","body":"It would be nice if stacktrace info was disabled by default (in production)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/557721430","html_url":"https://github.com/elastic/elasticsearch/issues/49427#issuecomment-557721430","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49427","id":557721430,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NzcyMTQzMA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2019-11-22T22:42:27Z","updated_at":"2019-11-22T22:42:27Z","author_association":"MEMBER","body":"I see. We have no intention of disabling stacktraces by default. Stacktraces are incredibly valuable to us when chasing bugs, and helping users diagnose issues. Not having them by default would be a massive hinderance to our ability to do this.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/558068200","html_url":"https://github.com/elastic/elasticsearch/issues/49427#issuecomment-558068200","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49427","id":558068200,"node_id":"MDEyOklzc3VlQ29tbWVudDU1ODA2ODIwMA==","user":{"login":"maierru","id":19530964,"node_id":"MDQ6VXNlcjE5NTMwOTY0","avatar_url":"https://avatars1.githubusercontent.com/u/19530964?v=4","gravatar_id":"","url":"https://api.github.com/users/maierru","html_url":"https://github.com/maierru","followers_url":"https://api.github.com/users/maierru/followers","following_url":"https://api.github.com/users/maierru/following{/other_user}","gists_url":"https://api.github.com/users/maierru/gists{/gist_id}","starred_url":"https://api.github.com/users/maierru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maierru/subscriptions","organizations_url":"https://api.github.com/users/maierru/orgs","repos_url":"https://api.github.com/users/maierru/repos","events_url":"https://api.github.com/users/maierru/events{/privacy}","received_events_url":"https://api.github.com/users/maierru/received_events","type":"User","site_admin":false},"created_at":"2019-11-25T09:29:58Z","updated_at":"2019-11-25T09:29:58Z","author_association":"NONE","body":"hope someday elasticsearch will have more users than errors :(","performed_via_github_app":null}]