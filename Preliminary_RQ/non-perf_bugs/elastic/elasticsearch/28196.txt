{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/28196","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28196/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28196/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28196/events","html_url":"https://github.com/elastic/elasticsearch/issues/28196","id":288092037,"node_id":"MDU6SXNzdWUyODgwOTIwMzc=","number":28196,"title":"Configuration variable substitution broken in 6.x for array entries","user":{"login":"bra-fsn","id":820331,"node_id":"MDQ6VXNlcjgyMDMzMQ==","avatar_url":"https://avatars2.githubusercontent.com/u/820331?v=4","gravatar_id":"","url":"https://api.github.com/users/bra-fsn","html_url":"https://github.com/bra-fsn","followers_url":"https://api.github.com/users/bra-fsn/followers","following_url":"https://api.github.com/users/bra-fsn/following{/other_user}","gists_url":"https://api.github.com/users/bra-fsn/gists{/gist_id}","starred_url":"https://api.github.com/users/bra-fsn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bra-fsn/subscriptions","organizations_url":"https://api.github.com/users/bra-fsn/orgs","repos_url":"https://api.github.com/users/bra-fsn/repos","events_url":"https://api.github.com/users/bra-fsn/events{/privacy}","received_events_url":"https://api.github.com/users/bra-fsn/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-01-12T11:37:38Z","updated_at":"2018-01-12T11:41:15Z","closed_at":"2018-01-12T11:41:15Z","author_association":"NONE","active_lock_reason":null,"body":"**Elasticsearch version** (`bin/elasticsearch --version`):\r\nVersion: 6.1.1, Build: bd92e7f/2017-12-17T20:23:25.338Z, JVM: 1.8.0_152\r\n\r\n**Plugins installed**: analysis-icu\r\n\r\n**JVM version** (`java -version`): \r\nopenjdk version \"1.8.0_152\"\r\nOpenJDK Runtime Environment (build 1.8.0_152-b16)\r\nOpenJDK 64-Bit Server VM (build 25.152-b16, mixed mode)\r\n\r\n**OS version** (`uname -a` if on a Unix-like system):\r\nFreeBSD japan 11.1-STABLE FreeBSD 11.1-STABLE #0 r324684: Tue Oct 17 15:07:45 CEST 2017     root@japan:/usr/obj/usr/src/sys/GENERIC  amd64\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\nOlder (up to 5.6.4 at least) elasticsearch could work with the following in its config (elasticsearch.yml):\r\ndiscovery.zen.ping.unicast.hosts: [\"${ES_MASTER1}:${ES_MASTER_PORT}\",\"${ES_MASTER2}:${ES_MASTER_PORT}\",\"${ES_MASTER3}:${ES_MASTER_PORT}\"]\r\nnetwork.bind_host: [\"${ES_HOST}\",\"127.0.0.1\"]\r\nNewer ones (6.1.1 tested, not sure about previous versions) don't.\r\nIt doesn't expand the variable, so it fails for example with:\r\nCaused by: java.net.UnknownHostException: ${ES_HOST}: hostname nor servname provided, or not known\r\n\r\nVariables in normal (not list) config lines seem to work.\r\n\r\n**Steps to reproduce**:\r\nUse a variable substitution in an array configuration setting.\r\n\r\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}