[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/169029611","html_url":"https://github.com/elastic/elasticsearch/issues/15730#issuecomment-169029611","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15730","id":169029611,"node_id":"MDEyOklzc3VlQ29tbWVudDE2OTAyOTYxMQ==","user":{"login":"allthedrones","id":2430029,"node_id":"MDQ6VXNlcjI0MzAwMjk=","avatar_url":"https://avatars3.githubusercontent.com/u/2430029?v=4","gravatar_id":"","url":"https://api.github.com/users/allthedrones","html_url":"https://github.com/allthedrones","followers_url":"https://api.github.com/users/allthedrones/followers","following_url":"https://api.github.com/users/allthedrones/following{/other_user}","gists_url":"https://api.github.com/users/allthedrones/gists{/gist_id}","starred_url":"https://api.github.com/users/allthedrones/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/allthedrones/subscriptions","organizations_url":"https://api.github.com/users/allthedrones/orgs","repos_url":"https://api.github.com/users/allthedrones/repos","events_url":"https://api.github.com/users/allthedrones/events{/privacy}","received_events_url":"https://api.github.com/users/allthedrones/received_events","type":"User","site_admin":false},"created_at":"2016-01-05T15:11:20Z","updated_at":"2016-01-05T15:11:20Z","author_association":"NONE","body":"Given the prevalence of advice to use aliases as an abstraction to prevent client applications from being tightly coupled to indexing strategy, I would advocate for at least having the _option_ for a low-drag experience in which closed members of an alias are automatically bypassed. I agree with feedback that it would be incorrect to transparently remove indices from an alias upon close unless they were guaranteed to be transparently restored when re-opened. In every other sense, closing an index seems to represent a state of suspended animation, and the strongly established expectation is that it will be returned to its previous state upon open.\n\nIf [optionally] silently bypassing closed indices within an alias is not feasible, it would be nice if the close (and open) API allowed the specification of options to condense the operations: specifying the removal of aliases at close, and re-enrollment into aliases at open. I can see this being useful for a few other settings as well (for instance, I often `open` an index and immediately change the replica count ... would be really slick to specify that as part of the open call). \n\nStill, as a matter of first preference, if a new user takes the common advice to point their client app(s) at aliases, which are billed as a transcendent/aggregate layer above indices, I think it's potentially confusing & frustrating if changing a single component index results in an outage for the entire alias.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/170345039","html_url":"https://github.com/elastic/elasticsearch/issues/15730#issuecomment-170345039","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15730","id":170345039,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MDM0NTAzOQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-01-10T13:40:13Z","updated_at":"2016-01-10T13:40:13Z","author_association":"CONTRIBUTOR","body":"@javanna makes me wonder if we should have an `expand_aliases` option https://www.elastic.co/guide/en/elasticsearch/reference/2.1/multi-index.html\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/171234808","html_url":"https://github.com/elastic/elasticsearch/issues/15730#issuecomment-171234808","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15730","id":171234808,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MTIzNDgwOA==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2016-01-13T09:49:38Z","updated_at":"2016-01-13T09:49:38Z","author_association":"MEMBER","body":"@clintongormley if I read correctly #13278 and the corresponding fix (#15882), we are now checking the state of the indexes after alias resolution and honouring the current indices options, which were not previously applied to aliases. expland_wildcards is now used to expand aliases too. It seems like there is no need for a new option but maybe we need to rename the option as it's getting applied to aliases too. Relates to #9438 at this point. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/171242111","html_url":"https://github.com/elastic/elasticsearch/issues/15730#issuecomment-171242111","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15730","id":171242111,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MTI0MjExMQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2016-01-13T10:16:05Z","updated_at":"2016-01-13T10:16:05Z","author_association":"MEMBER","body":"> we are now checking the state of the indexes after alias resolution and honouring the current indices options\n\nI take this back, I had misunderstood, we check the index state if the alias matches a wildcard expression, not when the alias is explicitly specified. I find this confusing, digging a bit more to find out what we can do about it.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/171243705","html_url":"https://github.com/elastic/elasticsearch/issues/15730#issuecomment-171243705","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15730","id":171243705,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MTI0MzcwNQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2016-01-13T10:21:01Z","updated_at":"2016-01-13T10:21:01Z","author_association":"MEMBER","body":"`GET /alia*/_search` will match the alias \"alias\" and resolve by default to the open indices only. It honours `expand_wildcards`.\n\n`GET /alias/_search` will resolve to open and closed indices by default and return an exception, but ignore_unavailable allows to control whether unavailable (closed too) indices should be ignored.\n\n`GET /alias/_search?ignore_unavailable=true` resolves to the open indices only.\n\nThis behaviour doesn't seem that bad to me. Maybe the default for search should be to ignore unavailable? That would be a breaking change though.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/171260579","html_url":"https://github.com/elastic/elasticsearch/issues/15730#issuecomment-171260579","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15730","id":171260579,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MTI2MDU3OQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-01-13T11:29:27Z","updated_at":"2016-01-13T11:29:27Z","author_association":"CONTRIBUTOR","body":"Thanks @javanna . I'd forgotten about `ignore_unavailable`.  I don't think this should be the default though.  If a user searches against an alias with closed indices, they should be made aware of it, rather than the situation being silently ignored.\n\nI think the workaround is already in place, and there is nothing more to do here.  Closing\n","performed_via_github_app":null}]