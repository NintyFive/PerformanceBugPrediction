{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/2614","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2614/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2614/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2614/events","html_url":"https://github.com/elastic/elasticsearch/issues/2614","id":10623479,"node_id":"MDU6SXNzdWUxMDYyMzQ3OQ==","number":2614,"title":"20.4 returns no results for empty filter in filtered query but worked in 19","user":{"login":"awick","id":427321,"node_id":"MDQ6VXNlcjQyNzMyMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/427321?v=4","gravatar_id":"","url":"https://api.github.com/users/awick","html_url":"https://github.com/awick","followers_url":"https://api.github.com/users/awick/followers","following_url":"https://api.github.com/users/awick/following{/other_user}","gists_url":"https://api.github.com/users/awick/gists{/gist_id}","starred_url":"https://api.github.com/users/awick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/awick/subscriptions","organizations_url":"https://api.github.com/users/awick/orgs","repos_url":"https://api.github.com/users/awick/repos","events_url":"https://api.github.com/users/awick/events{/privacy}","received_events_url":"https://api.github.com/users/awick/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2013-02-04T20:10:00Z","updated_at":"2013-06-13T14:11:18Z","closed_at":"2013-06-13T14:11:18Z","author_association":"NONE","active_lock_reason":null,"body":"Easy to work around, but a breaking change for me from 19 to 20.  (My filter is generated and is sometimes empty)\n\ncurl http://localhost:9200/foo/bar/a -d '{test:1}'\n\n19.11\ncurl http://localhost:9200/foo/bar/_search -d '{\"query\":{\"filtered\":{\"query\":{\"match_all\":{}},\"filter\":{}}}}'\n\n{\"took\":1,\"timed_out\":false,\"_shards\":{\"total\":5,\"successful\":5,\"failed\":0},\"hits\":{\"total\":1,\"max_score\":1.0,\"hits\":[{\"_index\":\"foo\",\"_type\":\"bar\",\"_id\":\"a\",\"_score\":1.0, \"_source\" : {test:1}}]}}\n\n20.4\ncurl http://localhost:9200/foo/bar/_search -d '{\"query\":{\"filtered\":{\"query\":{\"match_all\":{}},\"filter\":{}}}}'\n\n{\"took\":0,\"timed_out\":false,\"_shards\":{\"total\":5,\"successful\":5,\"failed\":0},\"hits\":{\"total\":0,\"max_score\":null,\"hits\":[]}}\n","closed_by":{"login":"awick","id":427321,"node_id":"MDQ6VXNlcjQyNzMyMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/427321?v=4","gravatar_id":"","url":"https://api.github.com/users/awick","html_url":"https://github.com/awick","followers_url":"https://api.github.com/users/awick/followers","following_url":"https://api.github.com/users/awick/following{/other_user}","gists_url":"https://api.github.com/users/awick/gists{/gist_id}","starred_url":"https://api.github.com/users/awick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/awick/subscriptions","organizations_url":"https://api.github.com/users/awick/orgs","repos_url":"https://api.github.com/users/awick/repos","events_url":"https://api.github.com/users/awick/events{/privacy}","received_events_url":"https://api.github.com/users/awick/received_events","type":"User","site_admin":false},"performed_via_github_app":null}