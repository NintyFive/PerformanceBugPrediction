[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/289080105","html_url":"https://github.com/elastic/elasticsearch/issues/23740#issuecomment-289080105","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23740","id":289080105,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTA4MDEwNQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-03-24T16:55:43Z","updated_at":"2017-03-24T16:55:43Z","author_association":"MEMBER","body":"This is not a bug. The important bit is that every document belongs to one and only one partition. With low number of terms, it is possible that a partition is empty, or that partitions don't hold exactly the same number of values. The terms partitioning is very similar to the way we shard documents. We get a hash of the field value and perform a modulo N where N is the total number of partitions. With high enough cardinality, partitions will be evenly distributed. If you play around with the field values you will see documents moving from one partition to another etc.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/289081818","html_url":"https://github.com/elastic/elasticsearch/issues/23740#issuecomment-289081818","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23740","id":289081818,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTA4MTgxOA==","user":{"login":"gmoskovicz","id":1675411,"node_id":"MDQ6VXNlcjE2NzU0MTE=","avatar_url":"https://avatars3.githubusercontent.com/u/1675411?v=4","gravatar_id":"","url":"https://api.github.com/users/gmoskovicz","html_url":"https://github.com/gmoskovicz","followers_url":"https://api.github.com/users/gmoskovicz/followers","following_url":"https://api.github.com/users/gmoskovicz/following{/other_user}","gists_url":"https://api.github.com/users/gmoskovicz/gists{/gist_id}","starred_url":"https://api.github.com/users/gmoskovicz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmoskovicz/subscriptions","organizations_url":"https://api.github.com/users/gmoskovicz/orgs","repos_url":"https://api.github.com/users/gmoskovicz/repos","events_url":"https://api.github.com/users/gmoskovicz/events{/privacy}","received_events_url":"https://api.github.com/users/gmoskovicz/received_events","type":"User","site_admin":false},"created_at":"2017-03-24T17:01:50Z","updated_at":"2017-03-24T17:01:50Z","author_association":"CONTRIBUTOR","body":"@javanna so we can say the partitions are not reliable? Same thing with sorting, if we cannot ensure that partitions don't contain the same amount of documents, then we cannot ensure that the correct sorting is being applied, correct?\r\n\r\nAlso, if this is the case, should we mention in the documentation that this is not a correct way of paginating, but just a way of retrieving certain values? I don't see this being reliable in terms of results. Looks similar than the cardinality aggregation, where we have an error %. Maybe this is the same case.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/289082013","html_url":"https://github.com/elastic/elasticsearch/issues/23740#issuecomment-289082013","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23740","id":289082013,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTA4MjAxMw==","user":{"login":"gmoskovicz","id":1675411,"node_id":"MDQ6VXNlcjE2NzU0MTE=","avatar_url":"https://avatars3.githubusercontent.com/u/1675411?v=4","gravatar_id":"","url":"https://api.github.com/users/gmoskovicz","html_url":"https://github.com/gmoskovicz","followers_url":"https://api.github.com/users/gmoskovicz/followers","following_url":"https://api.github.com/users/gmoskovicz/following{/other_user}","gists_url":"https://api.github.com/users/gmoskovicz/gists{/gist_id}","starred_url":"https://api.github.com/users/gmoskovicz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmoskovicz/subscriptions","organizations_url":"https://api.github.com/users/gmoskovicz/orgs","repos_url":"https://api.github.com/users/gmoskovicz/repos","events_url":"https://api.github.com/users/gmoskovicz/events{/privacy}","received_events_url":"https://api.github.com/users/gmoskovicz/received_events","type":"User","site_admin":false},"created_at":"2017-03-24T17:02:27Z","updated_at":"2017-03-24T17:02:27Z","author_association":"CONTRIBUTOR","body":"BTW: i added 3/4/5/6 partitions and i randomly get results in different partitions with no specific logic.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/289083614","html_url":"https://github.com/elastic/elasticsearch/issues/23740#issuecomment-289083614","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23740","id":289083614,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTA4MzYxNA==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2017-03-24T17:08:36Z","updated_at":"2017-03-24T17:08:48Z","author_association":"CONTRIBUTOR","body":"The behaviour you are seeing is with only 3 docs.\r\nThe hashing gives a random distribution.\r\nImagine you roll a dice only 6 times. You don't necessarily expect to end up with the values 1,2,3,4,5 and 6. You wouldn't raise a bug for that. However if you roll the dice a billion times you'd expect to get roughly even counts for all those numbers - and if you don't, then we'd have an issue.\r\n\r\nIn this agg each unique term is a roll of the dice where you get to pick how many numbers are on the dice and which one you want to filter on. The only difference with the dice analogy is that for the same term you will always get the same result which is why different shards can both be guaranteed to examine the same set of terms given the choice of partition number.\r\n\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/289088471","html_url":"https://github.com/elastic/elasticsearch/issues/23740#issuecomment-289088471","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23740","id":289088471,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTA4ODQ3MQ==","user":{"login":"gmoskovicz","id":1675411,"node_id":"MDQ6VXNlcjE2NzU0MTE=","avatar_url":"https://avatars3.githubusercontent.com/u/1675411?v=4","gravatar_id":"","url":"https://api.github.com/users/gmoskovicz","html_url":"https://github.com/gmoskovicz","followers_url":"https://api.github.com/users/gmoskovicz/followers","following_url":"https://api.github.com/users/gmoskovicz/following{/other_user}","gists_url":"https://api.github.com/users/gmoskovicz/gists{/gist_id}","starred_url":"https://api.github.com/users/gmoskovicz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmoskovicz/subscriptions","organizations_url":"https://api.github.com/users/gmoskovicz/orgs","repos_url":"https://api.github.com/users/gmoskovicz/repos","events_url":"https://api.github.com/users/gmoskovicz/events{/privacy}","received_events_url":"https://api.github.com/users/gmoskovicz/received_events","type":"User","site_admin":false},"created_at":"2017-03-24T17:25:47Z","updated_at":"2017-03-24T17:25:47Z","author_association":"CONTRIBUTOR","body":"@markharwood @javanna thank you very much for the explanation! ðŸ˜ƒ \r\n\r\nAny reason why we don't choose the right configuration by default then, so we have everything evenly distributed across partitions?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/289097062","html_url":"https://github.com/elastic/elasticsearch/issues/23740#issuecomment-289097062","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23740","id":289097062,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTA5NzA2Mg==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2017-03-24T17:52:34Z","updated_at":"2017-03-24T17:52:34Z","author_association":"CONTRIBUTOR","body":"Unlike shards-for-docs the partitions-for-terms are not fixed at index time. Terms are partitioned into a number of partitions chosen at search-time. On an index with a million docs you might need only 3 partitions but later on if you have a billion docs you may decide you need to query using 10 partitions.  It's not a fixed choice. It's this sort of filtering logic:\r\n\r\n\r\n\r\n\tint numRequestedPartitionsByUser = 6;\r\n\tint usersChosenPartition = 3;\r\n\r\n\tfor all terms on shard:\r\n\t\tif term.hashCode() % numRequestedPartitionsByUser == usersChosenPartition\r\n\t\t\t// 1 in 6 terms will land in this bucket..\r\n\t\t\taccept term\r\n\t\telse\r\n\t\t\treject term","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/289097850","html_url":"https://github.com/elastic/elasticsearch/issues/23740#issuecomment-289097850","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23740","id":289097850,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTA5Nzg1MA==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-03-24T17:54:37Z","updated_at":"2017-03-24T17:54:37Z","author_association":"MEMBER","body":"As for the pagination comparison, partitioning is a good alternative that addresses the same problem (many terms that can't be returned in one go, and pagination is not supported), but it's a trade-off, it is not exactly the same as pagination. I read up our docs on this and I don't see it comparing partitioning with pagination. We may want to add a note about partitions not necessarily being evenly distributed with low cardinality fields.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/289098732","html_url":"https://github.com/elastic/elasticsearch/issues/23740#issuecomment-289098732","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23740","id":289098732,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTA5ODczMg==","user":{"login":"gmoskovicz","id":1675411,"node_id":"MDQ6VXNlcjE2NzU0MTE=","avatar_url":"https://avatars3.githubusercontent.com/u/1675411?v=4","gravatar_id":"","url":"https://api.github.com/users/gmoskovicz","html_url":"https://github.com/gmoskovicz","followers_url":"https://api.github.com/users/gmoskovicz/followers","following_url":"https://api.github.com/users/gmoskovicz/following{/other_user}","gists_url":"https://api.github.com/users/gmoskovicz/gists{/gist_id}","starred_url":"https://api.github.com/users/gmoskovicz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmoskovicz/subscriptions","organizations_url":"https://api.github.com/users/gmoskovicz/orgs","repos_url":"https://api.github.com/users/gmoskovicz/repos","events_url":"https://api.github.com/users/gmoskovicz/events{/privacy}","received_events_url":"https://api.github.com/users/gmoskovicz/received_events","type":"User","site_admin":false},"created_at":"2017-03-24T17:57:02Z","updated_at":"2017-03-24T17:57:02Z","author_association":"CONTRIBUTOR","body":"@javanna agree that we don't mention this, but given the context where this was created, and the issue that closed (the one about pagination). I believe that it's a good thing to add a warning saying that it's an alternative to get fewer results, but it's not \"Paginating\" aggregations?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/289107570","html_url":"https://github.com/elastic/elasticsearch/issues/23740#issuecomment-289107570","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23740","id":289107570,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTEwNzU3MA==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2017-03-24T18:29:00Z","updated_at":"2017-03-24T18:29:00Z","author_association":"CONTRIBUTOR","body":">it's not \"Paginating\" aggregations?\r\n\r\nWhere are we making this claim? The only documentation that I'm aware of is [here](https://www.elastic.co/guide/en/elasticsearch/reference/5.2/search-aggregations-bucket-terms-aggregation.html#_filtering_values_with_partitions) and that does not make the claim.\r\n\r\n\r\n>but given the context where this was created, and the issue that closed (the one about pagination)\r\n\r\nIf you mean issue 4915 I don't think we need to worry about managing expectations following its closure - it was was closed for a [lack of focus](https://github.com/elastic/elasticsearch/issues/4915#issuecomment-262552645) and we spawned new targeted issues which delivered [partitioned aggs](https://github.com/elastic/elasticsearch/issues/21487) and [field collapsing of search results](https://github.com/elastic/elasticsearch/issues/21833).  \r\n\r\nI realise we left some of 4915's wishes behind as impractical along the way. Even putting aside the performance concerns, if you just think about how paging would be expected to work from an end-user perspective when what we have is a tree with many branches rather than a simple list then you appreciate \"paging aggregations\" was a vague notion rather than a realistic goal.\r\n\r\n\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/289109975","html_url":"https://github.com/elastic/elasticsearch/issues/23740#issuecomment-289109975","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23740","id":289109975,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTEwOTk3NQ==","user":{"login":"gmoskovicz","id":1675411,"node_id":"MDQ6VXNlcjE2NzU0MTE=","avatar_url":"https://avatars3.githubusercontent.com/u/1675411?v=4","gravatar_id":"","url":"https://api.github.com/users/gmoskovicz","html_url":"https://github.com/gmoskovicz","followers_url":"https://api.github.com/users/gmoskovicz/followers","following_url":"https://api.github.com/users/gmoskovicz/following{/other_user}","gists_url":"https://api.github.com/users/gmoskovicz/gists{/gist_id}","starred_url":"https://api.github.com/users/gmoskovicz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gmoskovicz/subscriptions","organizations_url":"https://api.github.com/users/gmoskovicz/orgs","repos_url":"https://api.github.com/users/gmoskovicz/repos","events_url":"https://api.github.com/users/gmoskovicz/events{/privacy}","received_events_url":"https://api.github.com/users/gmoskovicz/received_events","type":"User","site_admin":false},"created_at":"2017-03-24T18:38:35Z","updated_at":"2017-03-24T18:38:35Z","author_association":"CONTRIBUTOR","body":"@markharwood \r\n\r\nSorry if i wasn't clear, what i meant is just to clarify this. From the history many people will look at this as a way to partitioning data to do some sort of pagination, or return different result per run. But there is some clear difference around this.\r\n\r\n> I believe that it's a good thing to add a warning saying that it's an alternative to get fewer results, but it's not \"Paginating\" aggregations?\r\n\r\nI am just saying that we could add something to the docs, better explanation on how this works, similar on what we have around how terms aggregations work. Not claiming that this should be pagination, or that this meant to be it.\r\n\r\nStill, IMO it could be very nice to have clear documentation around how this should be expected to work, the tradeoffs, and why not to expect this to be pagination.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/289374588","html_url":"https://github.com/elastic/elasticsearch/issues/23740#issuecomment-289374588","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23740","id":289374588,"node_id":"MDEyOklzc3VlQ29tbWVudDI4OTM3NDU4OA==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2017-03-27T07:27:24Z","updated_at":"2017-03-27T07:27:24Z","author_association":"CONTRIBUTOR","body":">Still, IMO it could be very nice to have clear documentation around how this should be expected to work, the tradeoffs, and why not to expect this to be pagination.\r\n\r\nAgreed. That sounds like it could be a section in a revision of \"the definitive guide...\" rather than the API reference docs.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/293887981","html_url":"https://github.com/elastic/elasticsearch/issues/23740#issuecomment-293887981","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23740","id":293887981,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mzg4Nzk4MQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-04-13T12:58:49Z","updated_at":"2017-04-13T12:58:49Z","author_association":"MEMBER","body":"I am reopening this as we could improve our docs and add some more explanation about how partitioning works.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/312032698","html_url":"https://github.com/elastic/elasticsearch/issues/23740#issuecomment-312032698","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23740","id":312032698,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjAzMjY5OA==","user":{"login":"vadim82","id":1355112,"node_id":"MDQ6VXNlcjEzNTUxMTI=","avatar_url":"https://avatars2.githubusercontent.com/u/1355112?v=4","gravatar_id":"","url":"https://api.github.com/users/vadim82","html_url":"https://github.com/vadim82","followers_url":"https://api.github.com/users/vadim82/followers","following_url":"https://api.github.com/users/vadim82/following{/other_user}","gists_url":"https://api.github.com/users/vadim82/gists{/gist_id}","starred_url":"https://api.github.com/users/vadim82/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vadim82/subscriptions","organizations_url":"https://api.github.com/users/vadim82/orgs","repos_url":"https://api.github.com/users/vadim82/repos","events_url":"https://api.github.com/users/vadim82/events{/privacy}","received_events_url":"https://api.github.com/users/vadim82/received_events","type":"User","site_admin":false},"created_at":"2017-06-29T17:14:28Z","updated_at":"2017-06-29T17:14:28Z","author_association":"NONE","body":"So given that partitioning is not the right approach to paging aggregated data... is there any solution out there that can be used to do this? We have situations where we need to do a term aggregation and we need to show the user sorted paged results. Are there any issues in the pipeline to address this concern? I imagine it must be a common scenario that people want to do with ElasticSearch. \r\n\r\nThe comment about documentation was right on, because after reading about partitioning, that is exactly what we tried to use it for. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/312223807","html_url":"https://github.com/elastic/elasticsearch/issues/23740#issuecomment-312223807","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23740","id":312223807,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjIyMzgwNw==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2017-06-30T09:40:46Z","updated_at":"2017-06-30T09:40:46Z","author_association":"CONTRIBUTOR","body":">Are there any issues in the pipeline to address this concern? \r\n\r\nNo. You may find [field collapsing](https://www.elastic.co/guide/en/elasticsearch/reference/5.x/search-request-collapse.html) provides a solution to some of your problems but lets not hijack this github issue on partitioning with discussion of your paging use case - that would be best tackled on [discuss forums](https://discuss.elastic.co/c/elasticsearch)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/331824865","html_url":"https://github.com/elastic/elasticsearch/issues/23740#issuecomment-331824865","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23740","id":331824865,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTgyNDg2NQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-09-25T09:19:25Z","updated_at":"2017-09-25T09:19:25Z","author_association":"MEMBER","body":"I looked again at our docs but honestly I didn't find a way to improve them as for explaining partitioning of terms aggs. I am closing this issue then. Feel free to open a PR if you have ideas on how to clarify this docs section.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/350620937","html_url":"https://github.com/elastic/elasticsearch/issues/23740#issuecomment-350620937","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23740","id":350620937,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDYyMDkzNw==","user":{"login":"repakaravikanth","id":6721702,"node_id":"MDQ6VXNlcjY3MjE3MDI=","avatar_url":"https://avatars3.githubusercontent.com/u/6721702?v=4","gravatar_id":"","url":"https://api.github.com/users/repakaravikanth","html_url":"https://github.com/repakaravikanth","followers_url":"https://api.github.com/users/repakaravikanth/followers","following_url":"https://api.github.com/users/repakaravikanth/following{/other_user}","gists_url":"https://api.github.com/users/repakaravikanth/gists{/gist_id}","starred_url":"https://api.github.com/users/repakaravikanth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/repakaravikanth/subscriptions","organizations_url":"https://api.github.com/users/repakaravikanth/orgs","repos_url":"https://api.github.com/users/repakaravikanth/repos","events_url":"https://api.github.com/users/repakaravikanth/events{/privacy}","received_events_url":"https://api.github.com/users/repakaravikanth/received_events","type":"User","site_admin":false},"created_at":"2017-12-11T04:40:48Z","updated_at":"2017-12-11T04:40:48Z","author_association":"NONE","body":"Hi,\r\n\r\nI am trying to use partitions for my pagination support. As I mentioned previously here, the terms can be in any partition depend on filed hash value. But, if we traverse all partitions can we get all terms without duplicates? What happens if there is a client side delay(few secs to mins) in between retrieving partitions results? Is it guaranteed to get the next partition results are unique and non-duplicate to previous partition result assuming there is no change in requested partitions count?\r\n\r\nThanks.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/350683789","html_url":"https://github.com/elastic/elasticsearch/issues/23740#issuecomment-350683789","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23740","id":350683789,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MDY4Mzc4OQ==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2017-12-11T10:28:48Z","updated_at":"2017-12-11T10:28:48Z","author_association":"CONTRIBUTOR","body":">I am trying to use partitions for my pagination support.\r\n\r\nProbably the wrong place to ask for help. This is intended as a place for reporting issues, not a discussion forum. I have responded to the [identical question](https://discuss.elastic.co/t/is-aggregation-partitions-results-are-unique/111004) you raised in the discuss forum.","performed_via_github_app":null}]