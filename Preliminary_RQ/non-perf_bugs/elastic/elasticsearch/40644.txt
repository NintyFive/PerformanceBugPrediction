{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/40644","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40644/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40644/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40644/events","html_url":"https://github.com/elastic/elasticsearch/issues/40644","id":427085427,"node_id":"MDU6SXNzdWU0MjcwODU0Mjc=","number":40644,"title":"Add up-to-date docs for near-realtime search","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"labels":[{"id":145572580,"node_id":"MDU6TGFiZWwxNDU1NzI1ODA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/CRUD","name":":Distributed/CRUD","color":"0e8a16","default":false,"description":"A catch all label for issues around indexing, updating and getting a doc by id. Not search."},{"id":23715,"node_id":"MDU6TGFiZWwyMzcxNQ==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Edocs","name":">docs","color":"db755e","default":false,"description":"General docs changes"},{"id":1967496670,"node_id":"MDU6TGFiZWwxOTY3NDk2Njcw","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Distributed","name":"Team:Distributed","color":"fef2c0","default":false,"description":"Meta label for distributed team"},{"id":1967497573,"node_id":"MDU6TGFiZWwxOTY3NDk3NTcz","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Docs","name":"Team:Docs","color":"fef2c0","default":false,"description":"Meta label for docs team"},{"id":110815527,"node_id":"MDU6TGFiZWwxMTA4MTU1Mjc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/help%20wanted","name":"help wanted","color":"207de5","default":true,"description":"adoptme"}],"state":"closed","locked":false,"assignee":{"login":"lockewritesdocs","id":25848033,"node_id":"MDQ6VXNlcjI1ODQ4MDMz","avatar_url":"https://avatars2.githubusercontent.com/u/25848033?v=4","gravatar_id":"","url":"https://api.github.com/users/lockewritesdocs","html_url":"https://github.com/lockewritesdocs","followers_url":"https://api.github.com/users/lockewritesdocs/followers","following_url":"https://api.github.com/users/lockewritesdocs/following{/other_user}","gists_url":"https://api.github.com/users/lockewritesdocs/gists{/gist_id}","starred_url":"https://api.github.com/users/lockewritesdocs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lockewritesdocs/subscriptions","organizations_url":"https://api.github.com/users/lockewritesdocs/orgs","repos_url":"https://api.github.com/users/lockewritesdocs/repos","events_url":"https://api.github.com/users/lockewritesdocs/events{/privacy}","received_events_url":"https://api.github.com/users/lockewritesdocs/received_events","type":"User","site_admin":false},"assignees":[{"login":"lockewritesdocs","id":25848033,"node_id":"MDQ6VXNlcjI1ODQ4MDMz","avatar_url":"https://avatars2.githubusercontent.com/u/25848033?v=4","gravatar_id":"","url":"https://api.github.com/users/lockewritesdocs","html_url":"https://github.com/lockewritesdocs","followers_url":"https://api.github.com/users/lockewritesdocs/followers","following_url":"https://api.github.com/users/lockewritesdocs/following{/other_user}","gists_url":"https://api.github.com/users/lockewritesdocs/gists{/gist_id}","starred_url":"https://api.github.com/users/lockewritesdocs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lockewritesdocs/subscriptions","organizations_url":"https://api.github.com/users/lockewritesdocs/orgs","repos_url":"https://api.github.com/users/lockewritesdocs/repos","events_url":"https://api.github.com/users/lockewritesdocs/events{/privacy}","received_events_url":"https://api.github.com/users/lockewritesdocs/received_events","type":"User","site_admin":false}],"milestone":null,"comments":4,"created_at":"2019-03-29T17:00:11Z","updated_at":"2020-06-15T18:49:34Z","closed_at":"2020-06-15T18:49:34Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"The very first [basic concept](https://www.elastic.co/guide/en/elasticsearch/reference/current/getting-started-concepts.html) is that Elasticsearch is a near-realtime NRT search platform, but this is not defined in more depth in the reference manual. We receive questions (with low but nonzero frequency) of the form \"I wrote a document and got an ack and then tried to search for it and it wasnâ€™t there\" and it'd be good if there was somewhere in the docs that answers this question so we could just share a link.\r\n\r\nToday our options are:\r\n\r\n- the [relevant page of the definitive guide](https://www.elastic.co/guide/en/elasticsearch/guide/current/near-real-time.html) - this page contains good information, but the definitive guide as a whole is not up to date so it's risky to link new users there.\r\n\r\n- the [docs for the `?refresh` option](https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-refresh.html) covers, or at least mentions, most of the ideas, except for...\r\n\r\n- the [`POST _refresh` API](https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-refresh.html), but by default this is usually unnecessary because...\r\n\r\n- [`index.refresh_interval`](https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html#dynamic-index-settings) defaults to `1s`.\r\n\r\nI think it'd be great if we could rework this into a single place in the reference docs that describes what NRT means as a concept, and how refreshes happen in Elasticsearch. Although it isn't really anything to do with replication, the [replication overview](https://www.elastic.co/guide/en/elasticsearch/reference/6.7/docs-replication.html) is really more about the read and write models and I think that documenting the visibility semantics could fit here.\r\n\r\nAdditionally, it's not very clear that update-by-query and delete-by-query rely on searches, and therefore depend on which documents have been refreshed.\r\n\r\n/cc @elastic/docs","closed_by":{"login":"lockewritesdocs","id":25848033,"node_id":"MDQ6VXNlcjI1ODQ4MDMz","avatar_url":"https://avatars2.githubusercontent.com/u/25848033?v=4","gravatar_id":"","url":"https://api.github.com/users/lockewritesdocs","html_url":"https://github.com/lockewritesdocs","followers_url":"https://api.github.com/users/lockewritesdocs/followers","following_url":"https://api.github.com/users/lockewritesdocs/following{/other_user}","gists_url":"https://api.github.com/users/lockewritesdocs/gists{/gist_id}","starred_url":"https://api.github.com/users/lockewritesdocs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lockewritesdocs/subscriptions","organizations_url":"https://api.github.com/users/lockewritesdocs/orgs","repos_url":"https://api.github.com/users/lockewritesdocs/repos","events_url":"https://api.github.com/users/lockewritesdocs/events{/privacy}","received_events_url":"https://api.github.com/users/lockewritesdocs/received_events","type":"User","site_admin":false},"performed_via_github_app":null}