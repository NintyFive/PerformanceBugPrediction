[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/9002619","html_url":"https://github.com/elastic/elasticsearch/issues/2298#issuecomment-9002619","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2298","id":9002619,"node_id":"MDEyOklzc3VlQ29tbWVudDkwMDI2MTk=","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2012-09-29T10:10:00Z","updated_at":"2012-09-29T10:10:00Z","author_association":"CONTRIBUTOR","body":"Multi-word synonyms can mess around with the token positions in your\nstrings, which can give poor results combined with phrase queries.\nHowever, with the information that you provided, my test queries still work.\n\nPlease can you gist a full curl recreation so that we can see exactly what\nyou are doing.\n\nClint\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/9083268","html_url":"https://github.com/elastic/elasticsearch/issues/2298#issuecomment-9083268","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2298","id":9083268,"node_id":"MDEyOklzc3VlQ29tbWVudDkwODMyNjg=","user":{"login":"mikeyoon","id":985431,"node_id":"MDQ6VXNlcjk4NTQzMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/985431?v=4","gravatar_id":"","url":"https://api.github.com/users/mikeyoon","html_url":"https://github.com/mikeyoon","followers_url":"https://api.github.com/users/mikeyoon/followers","following_url":"https://api.github.com/users/mikeyoon/following{/other_user}","gists_url":"https://api.github.com/users/mikeyoon/gists{/gist_id}","starred_url":"https://api.github.com/users/mikeyoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikeyoon/subscriptions","organizations_url":"https://api.github.com/users/mikeyoon/orgs","repos_url":"https://api.github.com/users/mikeyoon/repos","events_url":"https://api.github.com/users/mikeyoon/events{/privacy}","received_events_url":"https://api.github.com/users/mikeyoon/received_events","type":"User","site_admin":false},"created_at":"2012-10-02T19:19:16Z","updated_at":"2012-10-02T19:19:16Z","author_association":"NONE","body":"Here's a gist of a full reproduction. It includes an analyze and 3 queries, 1 for the synonym, and 1 each for the two terms it should be looking for.\n\nhttps://gist.github.com/3822664\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/48369748","html_url":"https://github.com/elastic/elasticsearch/issues/2298#issuecomment-48369748","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2298","id":48369748,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzY5NzQ4","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-07-08T17:11:00Z","updated_at":"2014-07-08T17:11:00Z","author_association":"CONTRIBUTOR","body":"Hi @mikeyoon \n\nSorry it's taken \"a while\" to look at this again :)  Essentially, phrase queries with synonyms of differing length are problematic, and there's nothing to do about it currently.  Have a read of this blog about why it is problematic: http://blog.mikemccandless.com/2012/04/lucenes-tokenstreams-are-actually.html\n\nIf you want synonyms of mixed length, then you need to do it at index time and replace them with the shorter alias, eg:\n\n```\n\"New England Patriots,Washington Nationals => foo\"\n```\n\nThat would replace either of those sequences with `foo`, which could then be used in a phrase query.  Of course, you wouldn't be able to search for just `New England` then.  Messy but all we have right now.\n","performed_via_github_app":null}]