{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/30197","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30197/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30197/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30197/events","html_url":"https://github.com/elastic/elasticsearch/issues/30197","id":318248355,"node_id":"MDU6SXNzdWUzMTgyNDgzNTU=","number":30197,"title":"Logging dashcam functionality","user":{"login":"geekpete","id":2070843,"node_id":"MDQ6VXNlcjIwNzA4NDM=","avatar_url":"https://avatars2.githubusercontent.com/u/2070843?v=4","gravatar_id":"","url":"https://api.github.com/users/geekpete","html_url":"https://github.com/geekpete","followers_url":"https://api.github.com/users/geekpete/followers","following_url":"https://api.github.com/users/geekpete/following{/other_user}","gists_url":"https://api.github.com/users/geekpete/gists{/gist_id}","starred_url":"https://api.github.com/users/geekpete/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geekpete/subscriptions","organizations_url":"https://api.github.com/users/geekpete/orgs","repos_url":"https://api.github.com/users/geekpete/repos","events_url":"https://api.github.com/users/geekpete/events{/privacy}","received_events_url":"https://api.github.com/users/geekpete/received_events","type":"User","site_admin":false},"labels":[{"id":151561891,"node_id":"MDU6TGFiZWwxNTE1NjE4OTE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Logging","name":":Core/Infra/Logging","color":"0e8a16","default":false,"description":"Log management and logging utilities"},{"id":912837734,"node_id":"MDU6TGFiZWw5MTI4Mzc3MzQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Security/Audit","name":":Security/Audit","color":"0e8a16","default":false,"description":"X-Pack Audit logging"},{"id":23172,"node_id":"MDU6TGFiZWwyMzE3Mg==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Efeature","name":">feature","color":"006b75","default":false,"description":null},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-04-27T01:29:34Z","updated_at":"2018-08-30T21:38:46Z","closed_at":"2018-08-30T21:38:46Z","author_association":"MEMBER","active_lock_reason":null,"body":"It would be great to have the ability to flip verbose logging on but then have a way to trigger retaining logs x seconds before and after an interesting event timestamp and have a very short retention of logging events otherwise.\r\n\r\nSo much like the way a car dashcam works, it has a very short retention (eg a 5 or 10 minute recording loop) but then also has the ability for the user to hit a button to store the last period of footage in the event they have an accident, sometimes the retention of footage is also automatically activated by a crash detector that measures gforce,etc.\r\n\r\nSomething similar in Elasticsearch would allow users to enable verbose logging (whatever type of logging, audit or slowlogs,etc), have logs be stored on a very tight retention to avoid consuming too many resources then have a way to trigger keeping logs surrounding a particular event, so retaining some measure of logs before and after the target event time.\r\n\r\nAn API to trigger the retention would be handy and could be fed parameters of what and how much to retain.\r\n\r\nSuch a functionality might also tie into X-Pack Machine Learning perhaps, so that interesting events or anomalies could be automatically detected and trigger log retention around those events.\r\n\r\nEven if verbose logging is expensive, it might be turned on temporarily to catch some interesting events then turned off, using a feature like this.\r\nFiltering might also be applied when a range of logs are triggered to be kept.\r\n\r\nThe triggered retention might also be tiered somehow, so that surrounding logs of interesting events  from the initial logging stream are retained for a longer period, but if some other pattern of events occur the the second level retention events could be retained permanently or for a longer retention.\r\nKeep logs in proximitiy of an x event.\r\nKeep retained x event logs in proximity to a y event.\r\n\r\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}