[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/50730934","html_url":"https://github.com/elastic/elasticsearch/issues/7102#issuecomment-50730934","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7102","id":50730934,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNzMwOTM0","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-07-31T08:24:26Z","updated_at":"2014-07-31T08:24:26Z","author_association":"CONTRIBUTOR","body":"Hi @zouxc \n\nYou're getting an OOM error because you are trying to load the value of two fields into memory in order to sort on them, and you don't have enough memory.\n\nWhat version of Elasticsearch are you using? In recent versions, this should have been caught by the fielddata circuit breaker, which would just have aborted your request instead of running out of memory.\n\nYour choices are:\n1. increase your heap size (although you don't want to use more than 32gb or more than 50% of your RAM)\n2. Change the fields you want to sort on to use doc values instead of being loaded into memory (just set `doc_values` to `true` in the field mappings\n3. Don't sort or aggregate on those fields :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/53155649","html_url":"https://github.com/elastic/elasticsearch/issues/7102#issuecomment-53155649","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7102","id":53155649,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMTU1NjQ5","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-08-23T15:16:34Z","updated_at":"2014-08-23T15:16:34Z","author_association":"CONTRIBUTOR","body":"No further feedback. Closing\n","performed_via_github_app":null}]