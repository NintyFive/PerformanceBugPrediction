{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/22707","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22707/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22707/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22707/events","html_url":"https://github.com/elastic/elasticsearch/issues/22707","id":201996862,"node_id":"MDU6SXNzdWUyMDE5OTY4NjI=","number":22707,"title":"Introduce a better deprecation policy","user":{"login":"trejkaz","id":43236,"node_id":"MDQ6VXNlcjQzMjM2","avatar_url":"https://avatars2.githubusercontent.com/u/43236?v=4","gravatar_id":"","url":"https://api.github.com/users/trejkaz","html_url":"https://github.com/trejkaz","followers_url":"https://api.github.com/users/trejkaz/followers","following_url":"https://api.github.com/users/trejkaz/following{/other_user}","gists_url":"https://api.github.com/users/trejkaz/gists{/gist_id}","starred_url":"https://api.github.com/users/trejkaz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trejkaz/subscriptions","organizations_url":"https://api.github.com/users/trejkaz/orgs","repos_url":"https://api.github.com/users/trejkaz/repos","events_url":"https://api.github.com/users/trejkaz/events{/privacy}","received_events_url":"https://api.github.com/users/trejkaz/received_events","type":"User","site_admin":false},"labels":[{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2017-01-19T22:40:12Z","updated_at":"2017-01-20T20:35:25Z","closed_at":"2017-01-20T19:51:22Z","author_association":"NONE","active_lock_reason":null,"body":"From Elasticsearch 2 to Elasticsearch 5 (which really is only one major version up), many methods and classes were removed without warning.\r\n\r\nAs someone who is currently updating existing Elasticsearch 2 code to Elasticsearch 5, I am finding the current lack of a policy to be extremely difficult to work with.\r\n\r\nThe [documentation we did get](https://www.elastic.co/guide/en/elasticsearch/reference/current/breaking_50_java_api_changes.html) has several places where it says something was removed without describing the replacement. In some cases, it has documented a class (InnerHitsBuilder) being enhanced, when as far as I can tell, it has been removed, and there is absolutely no mention of its removal, and certainly no mention of its replacement.\r\n\r\nHow I think it should be:\r\n* For minor releases, nothing gets removed, only deprecated.\r\n* For major releases, only already-deprecated things get removed.\r\n* For anything which is deprecated, the `@deprecated` tag in the Javadoc properly documents the replacement.\r\n\r\nIt is of course acceptable to do this the Lucene way - on releasing 6.0, release a 5.99 with all the additional `@deprecated` markers for things which 6.0 has removed.\r\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}