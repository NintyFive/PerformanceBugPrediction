{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/35581","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35581/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35581/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35581/events","html_url":"https://github.com/elastic/elasticsearch/issues/35581","id":381118198,"node_id":"MDU6SXNzdWUzODExMTgxOTg=","number":35581,"title":"testUseClusterByUpToDateTask expected UP_TO_DATE but was SUCCESS","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"labels":[{"id":106454670,"node_id":"MDU6TGFiZWwxMDY0NTQ2NzA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Build","name":":Delivery/Build","color":"0e8a16","default":false,"description":"Build or test infrastructure"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"},{"id":1102494662,"node_id":"MDU6TGFiZWwxMTAyNDk0NjYy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v6.6.0","name":"v6.6.0","color":"dddddd","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"assignees":[{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2018-11-15T11:27:18Z","updated_at":"2020-11-11T21:50:09Z","closed_at":"2018-11-15T13:35:56Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"The following build failed:\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+intake/185/console\r\n\r\nThe relevant part of the log looks to be the following:\r\n\r\n```\r\norg.elasticsearch.gradle.testclusters.TestClustersPluginIT > testUseClusterByUpToDateTask FAILED\r\n    java.lang.AssertionError: Expected task to be up to date but it was: SUCCESS\r\n\r\n    Output is:\r\n    The client will now receive all logging from the daemon (pid: 21443). The daemon log file: /tmp/.gradle-test-kit-jenkins/test-kit-daemon/4.10/daemon-21443.out.log\r\n    Starting 2nd build in daemon [uptime: 3.657 secs, performance: 99%, no major garbage collections]\r\n    Closing daemon's stdin at end of input.\r\n    The daemon will no longer process any standard input.\r\n    Using 16 worker leases.\r\n    Starting Build\r\n    Settings evaluated using settings file '/var/lib/jenkins/workspace/elastic+elasticsearch+6.x+intake/buildSrc/src/testKit/testclusters/settings.gradle'.\r\n    Projects loaded. Root project using build file '/var/lib/jenkins/workspace/elastic+elasticsearch+6.x+intake/buildSrc/src/testKit/testclusters/build.gradle'.\r\n    Included projects: [root project 'testclusters']\r\n\r\n    > Configure project :\r\n    Evaluating root project 'testclusters' using build file '/var/lib/jenkins/workspace/elastic+elasticsearch+6.x+intake/buildSrc/src/testKit/testclusters/build.gradle'.\r\n    Cluster myTestCluster depends on org.elasticsearch.distribution.zip:elasticsearch:6.6.0-SNAPSHOT@zip\r\n    All projects evaluated.\r\n    Selected primary task 'upToDate1' from project :\r\n    Selected primary task 'upToDate2' from project :\r\n    Tasks to be executed: [task ':syncTestClustersArtifacts', task ':upToDate1', task ':upToDate2']\r\n    Locking configuration of `ElasticsearchNode{name='myTestCluster'}`\r\n    Locking configuration of `ElasticsearchNode{name='myTestCluster'}`\r\n    :syncTestClustersArtifacts (Thread[Task worker for ':',5,main]) started.\r\n\r\n    > Task :syncTestClustersArtifacts\r\n    Task ':syncTestClustersArtifacts' is not up-to-date because:\r\n      No history is available.\r\n    :syncTestClustersArtifacts (Thread[Task worker for ':',5,main]) completed. Took 3.57 secs.\r\n    :upToDate1 (Thread[Task worker for ':',5,main]) started.\r\n\r\n    > Task :upToDate1\r\n    Skipping task ':upToDate1' as it has no actions.\r\n    :upToDate1 (Thread[Task worker for ':',5,main]) completed. Took 0.001 secs.\r\n    :upToDate2 (Thread[Task worker for ':',5,main]) started.\r\n\r\n    > Task :upToDate2\r\n    Skipping task ':upToDate2' as it has no actions.\r\n    :upToDate2 (Thread[Task worker for ':',5,main]) completed. Took 0.0 secs.\r\n\r\n    BUILD SUCCESSFUL in 3s\r\n    1 actionable task: 1 executed\r\n     expected:<UP_TO_DATE> but was:<SUCCESS>\r\n        at __randomizedtesting.SeedInfo.seed([F8C5716618E2C25E:4D4188AFC49A8B30]:0)\r\n        at org.junit.Assert.fail(Assert.java:88)\r\n        at org.junit.Assert.failNotEquals(Assert.java:834)\r\n        at org.junit.Assert.assertEquals(Assert.java:118)\r\n        at org.elasticsearch.gradle.test.GradleIntegrationTestCase.assertTaskUpToDate(GradleIntegrationTestCase.java:113)\r\n        at org.elasticsearch.gradle.testclusters.TestClustersPluginIT.testUseClusterByUpToDateTask(TestClustersPluginIT.java:59)\r\n```\r\n\r\nLooking at build-stats there seems to have been a flurry of such failures in PR builds at around the same time, but otherwise only very occasional mentions of this test in the last year. Not muting it.","closed_by":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"performed_via_github_app":null}