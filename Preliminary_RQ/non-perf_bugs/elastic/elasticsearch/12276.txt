{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/12276","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12276/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12276/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12276/events","html_url":"https://github.com/elastic/elasticsearch/issues/12276","id":95281019,"node_id":"MDU6SXNzdWU5NTI4MTAxOQ==","number":12276,"title":"Elasticsearch, Logstash and AWS","user":{"login":"AGirin","id":5177657,"node_id":"MDQ6VXNlcjUxNzc2NTc=","avatar_url":"https://avatars2.githubusercontent.com/u/5177657?v=4","gravatar_id":"","url":"https://api.github.com/users/AGirin","html_url":"https://github.com/AGirin","followers_url":"https://api.github.com/users/AGirin/followers","following_url":"https://api.github.com/users/AGirin/following{/other_user}","gists_url":"https://api.github.com/users/AGirin/gists{/gist_id}","starred_url":"https://api.github.com/users/AGirin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AGirin/subscriptions","organizations_url":"https://api.github.com/users/AGirin/orgs","repos_url":"https://api.github.com/users/AGirin/repos","events_url":"https://api.github.com/users/AGirin/events{/privacy}","received_events_url":"https://api.github.com/users/AGirin/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-07-15T20:19:20Z","updated_at":"2015-07-17T17:04:31Z","closed_at":"2015-07-17T13:26:50Z","author_association":"NONE","active_lock_reason":null,"body":"We are having interesting issues with ES, Logstash on AWS. \n\nWhen we stop Logstash instances and they disconnect from ES, ES cluster goes into a weird state where it reports that it is healthy but HEAD or Bigdesk plugins cannot connect to it. We are getting a lot of this messages in the logs:\n\n[2015-07-15 15:01:04,010][DEBUG][action.admin.cluster.node.info] [NODE001] failed to execute on node [r9kifgqTQN2bufj3JMGRSA]\norg.elasticsearch.transport.NodeDisconnectedException: [logstash-NODE012-1377-4420][inet[/xxx.xxx.xxx.xxx:9306]][cluster/nodes/info/n] disconnected\n[2015-07-15 15:01:04,014][DEBUG][action.admin.cluster.node.info] [NODE001] failed to execute on node [r9kifgqTQN2bufj3JMGRSA]\norg.elasticsearch.transport.NodeDisconnectedException: [logstash-NODE012-1377-4420][inet[/xxx.xxx.xxx.xxx:9306]][cluster/nodes/info/n] disconnected\n[2015-07-15 15:01:04,014][DEBUG][action.admin.cluster.node.stats] [NODE001] failed to execute on node [r9kifgqTQN2bufj3JMGRSA]\norg.elasticsearch.transport.NodeDisconnectedException: [logstash-NODE012-1377-4420][inet[/xxx.xxx.xxx.xxx:9306]][cluster/nodes/stats/n] disconnected\n[2015-07-15 15:01:04,013][DEBUG][action.admin.cluster.node.info] [NODE001] failed to execute on node [r9kifgqTQN2bufj3JMGRSA]\norg.elasticsearch.transport.NodeDisconnectedException: [logstash-NODE012-1377-4420][inet[/xxx.xxx.xxx.xxx:9306]][cluster/nodes/info/n] disconnected\n\nKibana also stops working since it cannot connect to Elasticsearch cluster. \n\nIt takes about 10 minutes for everything to go back to normal without any intervention on our part. Does anybody have any ideas why would this be happening?\n\nThanks!\n\nAndrew\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}