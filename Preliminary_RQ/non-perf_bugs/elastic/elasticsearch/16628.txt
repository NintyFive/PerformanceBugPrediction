{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/16628","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16628/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16628/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16628/events","html_url":"https://github.com/elastic/elasticsearch/issues/16628","id":133193991,"node_id":"MDU6SXNzdWUxMzMxOTM5OTE=","number":16628,"title":"Indexing failure when using bulk API","user":{"login":"fadi-assaad","id":11717380,"node_id":"MDQ6VXNlcjExNzE3Mzgw","avatar_url":"https://avatars0.githubusercontent.com/u/11717380?v=4","gravatar_id":"","url":"https://api.github.com/users/fadi-assaad","html_url":"https://github.com/fadi-assaad","followers_url":"https://api.github.com/users/fadi-assaad/followers","following_url":"https://api.github.com/users/fadi-assaad/following{/other_user}","gists_url":"https://api.github.com/users/fadi-assaad/gists{/gist_id}","starred_url":"https://api.github.com/users/fadi-assaad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fadi-assaad/subscriptions","organizations_url":"https://api.github.com/users/fadi-assaad/orgs","repos_url":"https://api.github.com/users/fadi-assaad/repos","events_url":"https://api.github.com/users/fadi-assaad/events{/privacy}","received_events_url":"https://api.github.com/users/fadi-assaad/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-02-12T09:30:02Z","updated_at":"2016-02-13T13:45:07Z","closed_at":"2016-02-13T13:45:07Z","author_association":"NONE","active_lock_reason":null,"body":"Experienced an error while indexing content from drupal to elasticsearch installed on same VM. Noticed two things from elasticsearch logs below:\n- failed to parse, document is empty.\n- 'defaiya_articles_alias' alias which i think it was created automatically on first bulk operation occured.\n\nAm using Elasticsearch 1.7.4 along drupal module elasticsearch_connector-7.x-1.0-alpha9\n\nThis happens when posting with Bulk endpoint\nlocalhost:9200/defaiya_articles/defaiya_articles/_bulk?refresh=1\n\nI have no clue about whats happening but i know am missing some configuration on elasticsearch. That because drupal module was working fine with a trial service from found.elasic.co.\n### Elasticsearch log\n\n`[2016-02-12 09:05:37,968][DEBUG][action.index             ] [Lucifer] [defaiya_articles][0], node[jDATrKcOQc2i0x7FmkSRNA], [P], s[STARTED]: Failed to execute [index {[defaiya_articles_alias][defaiya_articles][AVLUTKGwN3desrFRGnhC], source[_na_]}]\norg.elasticsearch.index.mapper.MapperParsingException: failed to parse, document is empty\n        at org.elasticsearch.index.mapper.DocumentMapper.parse(DocumentMapper.java:562)\n        at org.elasticsearch.index.mapper.DocumentMapper.parse(DocumentMapper.java:493)\n        at org.elasticsearch.index.shard.IndexShard.prepareCreate(IndexShard.java:465)\n        at org.elasticsearch.action.index.TransportIndexAction.shardOperationOnPrimary(TransportIndexAction.java:201)\n        at org.elasticsearch.action.support.replication.TransportShardReplicationOperationAction$PrimaryPhase.performOnPrimary(TransportShardReplicationOperationAction.java:574)\n        at org.elasticsearch.action.support.replication.TransportShardReplicationOperationAction$PrimaryPhase$1.doRun(TransportShardReplicationOperationAction.java:440)\n        at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:36)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n        at java.lang.Thread.run(Thread.java:745)\n`\n### Index information\n\n`{\n  \"defaiya_articles\" : {\n    \"aliases\" : {\n      \"defaiya_articles_alias\" : { }\n    },\n    \"mappings\" : {\n      \"defaiya_articles\" : {\n        \"properties\" : {\n          \"articledate\" : {\n            \"type\" : \"date\",\n            \"format\" : \"yyyy-MM-dd HH:mm:ss\"\n          },\n          \"body:value\" : {\n            \"type\" : \"string\"\n          },\n          \"id\" : {\n            \"type\" : \"integer\",\n            \"include_in_all\" : false\n          },\n          \"search_api_language\" : {\n            \"type\" : \"string\",\n            \"index\" : \"not_analyzed\"\n          },\n          \"title\" : {\n            \"type\" : \"string\"\n          }\n        }\n      }\n    },\n    \"settings\" : {\n      \"index\" : {\n        \"creation_date\" : \"1454879612879\",\n        \"uuid\" : \"b5ljdnseQc2ZFDGLliYTLA\",\n        \"number_of_replicas\" : \"1\",\n        \"number_of_shards\" : \"1\",\n        \"version\" : {\n          \"created\" : \"1070499\"\n        }\n      }\n    },\n    \"warmers\" : { }\n  }\n}\n`\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}