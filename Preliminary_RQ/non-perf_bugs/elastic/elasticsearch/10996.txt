{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/10996","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10996/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10996/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10996/events","html_url":"https://github.com/elastic/elasticsearch/issues/10996","id":73454403,"node_id":"MDU6SXNzdWU3MzQ1NDQwMw==","number":10996,"title":"copy_to does not work with multi fields","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"labels":[{"id":73544,"node_id":"MDU6TGFiZWw3MzU0NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Enon-issue","name":">non-issue","color":"cfcfcf","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2015-05-05T22:43:57Z","updated_at":"2019-06-14T14:52:37Z","closed_at":"2015-05-08T07:36:13Z","author_association":"MEMBER","active_lock_reason":null,"body":"This previously worked, but was broken with document parser refactoring in #10802. We could fix this in a simple way, by handling multi fields in the doc parsing as well (so the multi field can be checked for a copyTo). \n\nHowever, the mapper attachment plugin currently relies on the ability to generate the values for multifields separately (not just copying the original value). My current thought is the mapper attachment should basically attach these values to the parser context, so that when multi fields are handled in the doc parser, it finds the value there for whatever subfields are present.\n","closed_by":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"performed_via_github_app":null}