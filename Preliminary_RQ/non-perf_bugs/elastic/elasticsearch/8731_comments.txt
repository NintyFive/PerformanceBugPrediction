[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/65111399","html_url":"https://github.com/elastic/elasticsearch/issues/8731#issuecomment-65111399","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8731","id":65111399,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTExMzk5","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-12-01T18:31:44Z","updated_at":"2014-12-01T18:31:44Z","author_association":"CONTRIBUTOR","body":"Hi @rphadake \n\nCreating new empty primary shards means certain data loss. Elasticsearch is not going to do that for you automatically.  Instead you can use the cluster reroute API to force Elasticsearch to assign new primary shards.  See http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/cluster-reroute.html\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/65182572","html_url":"https://github.com/elastic/elasticsearch/issues/8731#issuecomment-65182572","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8731","id":65182572,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTgyNTcy","user":{"login":"rphadake","id":2480250,"node_id":"MDQ6VXNlcjI0ODAyNTA=","avatar_url":"https://avatars2.githubusercontent.com/u/2480250?v=4","gravatar_id":"","url":"https://api.github.com/users/rphadake","html_url":"https://github.com/rphadake","followers_url":"https://api.github.com/users/rphadake/followers","following_url":"https://api.github.com/users/rphadake/following{/other_user}","gists_url":"https://api.github.com/users/rphadake/gists{/gist_id}","starred_url":"https://api.github.com/users/rphadake/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rphadake/subscriptions","organizations_url":"https://api.github.com/users/rphadake/orgs","repos_url":"https://api.github.com/users/rphadake/repos","events_url":"https://api.github.com/users/rphadake/events{/privacy}","received_events_url":"https://api.github.com/users/rphadake/received_events","type":"User","site_admin":false},"created_at":"2014-12-02T04:40:09Z","updated_at":"2014-12-02T04:42:11Z","author_association":"CONTRIBUTOR","body":"Actually if API is available to do this forcefully can we enable this via some setting to  \"index.recovery.initial_shards\" to do this automatically. Meaning by default ES won't have that behavior but if someone wants it then he has to enable this way using some setting.\n\nReason for asking for this behavior is in situations where we don't want to maintain replicas but still want to continue with indexing in case of data loss. e.g. say in a 3 node cluster (w/o replica)  if one node goes down I still want to continue indexing and not lose new data. Another reason is due to permanent UnavailableShardsException errors in such cases & with bulk request wait time, effectively this may reduce data incoming rate by large extent.\n\n> Creating new empty primary shards means certain data loss\n\nNot clear @ this. Actually with new shard creation via reroute (or say automatic) it will be assigned to another node & later previous node comes back do the merges happen or there is data loss & latest shard version is retained. Please comment.\n\nThanks,\nRam\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/65211189","html_url":"https://github.com/elastic/elasticsearch/issues/8731#issuecomment-65211189","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8731","id":65211189,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjExMTg5","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-12-02T10:35:44Z","updated_at":"2014-12-02T10:35:44Z","author_association":"CONTRIBUTOR","body":"Hi @rphadake \n\n> > Creating new empty primary shards means certain data loss\n> > Not clear @ this. Actually with new shard creation via reroute (or say automatic) it will be assigned to another node & later previous node comes back do the merges happen or there is data loss & latest shard version is retained. Please comment.\n\nNo. Once you assign a new primary shard, the old primary shard will never be reincorporated.  The data is lost forever.\n\nRunning Elasticsearch without replicas is putting you at risk of losing data. It is not a recommended setup, and we are not going to add a setting which helps you to lose data automatically.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/65225050","html_url":"https://github.com/elastic/elasticsearch/issues/8731#issuecomment-65225050","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8731","id":65225050,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MjI1MDUw","user":{"login":"rphadake","id":2480250,"node_id":"MDQ6VXNlcjI0ODAyNTA=","avatar_url":"https://avatars2.githubusercontent.com/u/2480250?v=4","gravatar_id":"","url":"https://api.github.com/users/rphadake","html_url":"https://github.com/rphadake","followers_url":"https://api.github.com/users/rphadake/followers","following_url":"https://api.github.com/users/rphadake/following{/other_user}","gists_url":"https://api.github.com/users/rphadake/gists{/gist_id}","starred_url":"https://api.github.com/users/rphadake/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rphadake/subscriptions","organizations_url":"https://api.github.com/users/rphadake/orgs","repos_url":"https://api.github.com/users/rphadake/repos","events_url":"https://api.github.com/users/rphadake/events{/privacy}","received_events_url":"https://api.github.com/users/rphadake/received_events","type":"User","site_admin":false},"created_at":"2014-12-02T12:40:23Z","updated_at":"2014-12-02T12:56:25Z","author_association":"CONTRIBUTOR","body":"Thanks Clinton. I was under the impression that we can potentially do shard merge between 2 shard versions. If you can give some pointers on whether shard merge is possible I can invest time on fixing this & contribute. This looks complicated.   \n","performed_via_github_app":null}]