{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/13625","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13625/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13625/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13625/events","html_url":"https://github.com/elastic/elasticsearch/issues/13625","id":106862705,"node_id":"MDU6SXNzdWUxMDY4NjI3MDU=","number":13625,"title":"Add Fixed-Point Numeric data type","user":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"labels":[{"id":23172,"node_id":"MDU6TGFiZWwyMzE3Mg==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Efeature","name":">feature","color":"006b75","default":false,"description":null},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":12,"created_at":"2015-09-16T20:58:41Z","updated_at":"2016-09-27T16:30:19Z","closed_at":"2016-09-27T16:30:19Z","author_association":"MEMBER","active_lock_reason":null,"body":"Fixed-point numerics allow the user to specific the number of significant digits they are interested in.  E.g. a user may only care about two sig-figs (`5.01`, `123.19`, etc). instead of the full 6-9 sig-figs in 32bit floats.\n\nFixed-point numerics can be \"layered\" on top of our existing support for Longs without too much hassle.  Additional information would need to be saved, such as the number of bits for the fractional component, and the base/sign if it is configurable.  Input/output formatting would also need to know how to convert into the appropriate representation.\n\nBut most of the \"guts\" should work seamlessly.  Ranges are unaffected, aggregations convert everything to Double anyway, etc\n\nFixed-point has two notable advantages:\n- Most important to me, since fixed-points are basically Longs in disguise, they can leverage the compression tricks used in doc values to drastically decrease their on-disk footprint.  In contrast, floats/doubles are stored at their full size since there is no way to encode fp in a random-access format without introducing error\n  \n  Many \"pure metrics\" will only care about a few sig-figs (do you really care if your CPU usage is 53.0000001% vs 53.00%) but the space savings will definitely be appreciated\n- As a more expert-level feature, if the user knows their dynamic range, they can obtain better precision for their use-case.  E.g. if your range is 0-1 exclusive, a fixed-point can be more precise than floating because you can dedicate all 32 bits to the fractional component instead of only 24bits in the float\n","closed_by":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"performed_via_github_app":null}