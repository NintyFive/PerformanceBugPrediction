{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/41847","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41847/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41847/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41847/events","html_url":"https://github.com/elastic/elasticsearch/issues/41847","id":440658370,"node_id":"MDU6SXNzdWU0NDA2NTgzNzA=","number":41847,"title":"[CI] MultiMatchQueryBuilderTests#testToQuery fails","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"labels":[{"id":146832564,"node_id":"MDU6TGFiZWwxNDY4MzI1NjQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Search","name":":Search/Search","color":"0e8a16","default":false,"description":"Search-related issues that do not fall into other categories"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"},{"id":1343732839,"node_id":"MDU6TGFiZWwxMzQzNzMyODM5","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v6.8.0","name":"v6.8.0","color":"DDDDDD","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-05-06T11:42:00Z","updated_at":"2019-05-06T16:45:35Z","closed_at":"2019-05-06T16:45:35Z","author_association":"MEMBER","active_lock_reason":null,"body":"_Note: There is an already closed issue for the same test (#36598) but as this one fails for a different reason I'm raising a new issue instead_\r\n\r\n* Test failure link: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.8+periodic/28/console\r\n* Test failure output:\r\n\r\n```\r\n   > Throwable #1: java.lang.AssertionError: query was marked as not cacheable in the context but this test indicates it should be cacheable: {\r\n   >   \"multi_match\" : {\r\n   >     \"query\" : \"NOwGPnuTXe\",\r\n   >     \"fields\" : [ ],\r\n   >     \"type\" : \"best_fields\",\r\n   >     \"operator\" : \"AND\",\r\n   >     \"analyzer\" : \"standard\",\r\n   >     \"slop\" : 0,\r\n   >     \"prefix_length\" : 0,\r\n   >     \"max_expansions\" : 5,\r\n   >     \"lenient\" : true,\r\n   >     \"cutoff_frequency\" : 0.24390244,\r\n   >     \"zero_terms_query\" : \"NONE\",\r\n   >     \"auto_generate_synonyms_phrase_query\" : true,\r\n   >     \"fuzzy_transpositions\" : true,\r\n   >     \"boost\" : 0.1\r\n   >   }\r\n   > }\r\n```\r\n\r\n* Reproduction line:\r\n\r\n```\r\n./gradlew :server:unitTest \\\r\n  -Dtests.seed=D5624C9FE68BCB38 \\\r\n  -Dtests.class=org.elasticsearch.index.query.MultiMatchQueryBuilderTests \\\r\n  -Dtests.method=\"testToQuery\" \\\r\n  -Dtests.security.manager=true \\\r\n  -Dtests.locale=ms \\\r\n  -Dtests.timezone=Asia/Tehran \\\r\n  -Dcompiler.java=12 \\\r\n  -Druntime.java=8\r\n```\r\n\r\nThis reproduction line reliably reproduces locally as well.","closed_by":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"performed_via_github_app":null}