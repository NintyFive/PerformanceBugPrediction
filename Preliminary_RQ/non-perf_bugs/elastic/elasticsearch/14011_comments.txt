[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/146539434","html_url":"https://github.com/elastic/elasticsearch/issues/14011#issuecomment-146539434","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14011","id":146539434,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjUzOTQzNA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-10-08T13:11:16Z","updated_at":"2015-10-08T13:11:16Z","author_association":"CONTRIBUTOR","body":"Also see #14010\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/161053092","html_url":"https://github.com/elastic/elasticsearch/issues/14011#issuecomment-161053092","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14011","id":161053092,"node_id":"MDEyOklzc3VlQ29tbWVudDE2MTA1MzA5Mg==","user":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"created_at":"2015-12-01T18:19:15Z","updated_at":"2015-12-01T18:19:15Z","author_association":"CONTRIBUTOR","body":"The issue here is that the AwarenessAllocationDecider uses the total number of shards (which is 1 primary + 2 replicas = 3) as basis to calculate balancedness in faultDomain. However, one of the replicas cannot be allocated due to forced awareness in updateDomain. But this unassigned replica is still used as basis to calculate balancedness in faultDomain.\n\nI'm not sure what we could change here. Any thoughts @bleskes @dakrone?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/164559202","html_url":"https://github.com/elastic/elasticsearch/issues/14011#issuecomment-164559202","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14011","id":164559202,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NDU1OTIwMg==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2015-12-14T21:04:25Z","updated_at":"2015-12-14T21:04:25Z","author_association":"MEMBER","body":"agreed this will be hard to solve. Basically we need to capture the idea that the third copy can not be assigned under the current setup and this shouldn't be taken into account when balancing on the allocation awareness attribute. My only idea here is to separate allocation deciders into \"hard\" and \"soft\" group. The hard one should be run first and should mark any shard copy that is \"not assignable\" as such. The soft group can the ignore those shards when making decisions. It will require more thoughts and review of current deciders to see how they fit. \n\nNote: #8178 is another example the result of mixing allocation awareness with a hard rule.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/374539384","html_url":"https://github.com/elastic/elasticsearch/issues/14011#issuecomment-374539384","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14011","id":374539384,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDUzOTM4NA==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2018-03-20T09:59:42Z","updated_at":"2018-03-20T09:59:42Z","author_association":"CONTRIBUTOR","body":"This is an interesting idea, but since its opening we have not seen enough feedback that it is something we should work on. We prefer to close this issue as a clear indication that we are not going to work on this at this time. We are always open to reconsidering this in the future based on compelling feedback; despite this issue being closed please feel free to leave feedback (including +1s).","performed_via_github_app":null}]