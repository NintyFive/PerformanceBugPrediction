[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/372948068","html_url":"https://github.com/elastic/elasticsearch/issues/29047#issuecomment-372948068","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29047","id":372948068,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Mjk0ODA2OA==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2018-03-14T08:56:25Z","updated_at":"2018-03-14T08:56:25Z","author_association":"MEMBER","body":"Your query is missing a closing brace for the `terms` object, I think this is going to be what is causing the serialisation error","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/372953101","html_url":"https://github.com/elastic/elasticsearch/issues/29047#issuecomment-372953101","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29047","id":372953101,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Mjk1MzEwMQ==","user":{"login":"jaisharma639","id":8330173,"node_id":"MDQ6VXNlcjgzMzAxNzM=","avatar_url":"https://avatars0.githubusercontent.com/u/8330173?v=4","gravatar_id":"","url":"https://api.github.com/users/jaisharma639","html_url":"https://github.com/jaisharma639","followers_url":"https://api.github.com/users/jaisharma639/followers","following_url":"https://api.github.com/users/jaisharma639/following{/other_user}","gists_url":"https://api.github.com/users/jaisharma639/gists{/gist_id}","starred_url":"https://api.github.com/users/jaisharma639/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaisharma639/subscriptions","organizations_url":"https://api.github.com/users/jaisharma639/orgs","repos_url":"https://api.github.com/users/jaisharma639/repos","events_url":"https://api.github.com/users/jaisharma639/events{/privacy}","received_events_url":"https://api.github.com/users/jaisharma639/received_events","type":"User","site_admin":false},"created_at":"2018-03-14T09:15:33Z","updated_at":"2018-03-14T09:15:33Z","author_association":"NONE","body":"I've updated my query, the brace must have gone off while formatting my question. This is not a syntax error, i've tried this in kibana and python client both. @colings86 ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/372954387","html_url":"https://github.com/elastic/elasticsearch/issues/29047#issuecomment-372954387","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29047","id":372954387,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Mjk1NDM4Nw==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2018-03-14T09:19:55Z","updated_at":"2018-03-14T09:19:55Z","author_association":"MEMBER","body":"Another issue I can see with your query is that this is not valid JSON:\r\n```\r\n\"OpID\": {\"0064000000pJH10\"}\r\n```\r\nJSON requires that objects are key-value pairs and does not have the concept of a set, an object that just contains a key is not valid. You need to use an array to specify the list of terms you want to match in your terms query.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/372955830","html_url":"https://github.com/elastic/elasticsearch/issues/29047#issuecomment-372955830","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29047","id":372955830,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Mjk1NTgzMA==","user":{"login":"jaisharma639","id":8330173,"node_id":"MDQ6VXNlcjgzMzAxNzM=","avatar_url":"https://avatars0.githubusercontent.com/u/8330173?v=4","gravatar_id":"","url":"https://api.github.com/users/jaisharma639","html_url":"https://github.com/jaisharma639","followers_url":"https://api.github.com/users/jaisharma639/followers","following_url":"https://api.github.com/users/jaisharma639/following{/other_user}","gists_url":"https://api.github.com/users/jaisharma639/gists{/gist_id}","starred_url":"https://api.github.com/users/jaisharma639/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaisharma639/subscriptions","organizations_url":"https://api.github.com/users/jaisharma639/orgs","repos_url":"https://api.github.com/users/jaisharma639/repos","events_url":"https://api.github.com/users/jaisharma639/events{/privacy}","received_events_url":"https://api.github.com/users/jaisharma639/received_events","type":"User","site_admin":false},"created_at":"2018-03-14T09:25:19Z","updated_at":"2018-03-14T09:25:19Z","author_association":"NONE","body":"I understand that set is not json serializable,but that's my exact point. Why would someone like to store the variants of a field in a list instead of set (on client side)? While doing a terms query, i do not obviously care about the order of elements, neither i want to have redundant elements. So why is elasticsearch imposing a restriction of using lists wherever arrays are required? Is this a technical challenge which i'm not understanding?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/372958574","html_url":"https://github.com/elastic/elasticsearch/issues/29047#issuecomment-372958574","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29047","id":372958574,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Mjk1ODU3NA==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2018-03-14T09:34:31Z","updated_at":"2018-03-14T09:34:31Z","author_association":"MEMBER","body":"Elasticsearch exposes a JSON API, therefore we support the data types that are set out in the JSON spec. If we add a set type to the API it would no longer be a JSON API and clients would not be able to use JSON parsing libraries like jackson to serialise and de-serialise requests and responses which would be bad for users. Additionally we would not be able to use the jackson library to serialise and deserialise requests and responses on the server which would significantly increase the complexity of our code.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/372959695","html_url":"https://github.com/elastic/elasticsearch/issues/29047#issuecomment-372959695","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29047","id":372959695,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Mjk1OTY5NQ==","user":{"login":"jaisharma639","id":8330173,"node_id":"MDQ6VXNlcjgzMzAxNzM=","avatar_url":"https://avatars0.githubusercontent.com/u/8330173?v=4","gravatar_id":"","url":"https://api.github.com/users/jaisharma639","html_url":"https://github.com/jaisharma639","followers_url":"https://api.github.com/users/jaisharma639/followers","following_url":"https://api.github.com/users/jaisharma639/following{/other_user}","gists_url":"https://api.github.com/users/jaisharma639/gists{/gist_id}","starred_url":"https://api.github.com/users/jaisharma639/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaisharma639/subscriptions","organizations_url":"https://api.github.com/users/jaisharma639/orgs","repos_url":"https://api.github.com/users/jaisharma639/repos","events_url":"https://api.github.com/users/jaisharma639/events{/privacy}","received_events_url":"https://api.github.com/users/jaisharma639/received_events","type":"User","site_admin":false},"created_at":"2018-03-14T09:38:26Z","updated_at":"2018-03-14T09:38:26Z","author_association":"NONE","body":"How about type casting such objects to json serializable objects before sending them to json parser? Each request and response goes through this layer on ES side before being parsed to json.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/372963538","html_url":"https://github.com/elastic/elasticsearch/issues/29047#issuecomment-372963538","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29047","id":372963538,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Mjk2MzUzOA==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2018-03-14T09:51:33Z","updated_at":"2018-03-14T09:51:33Z","author_association":"MEMBER","body":"If you mean doing this casting/conversion in the python client then this might be doable but you would need to raise an issue on the [elasticsearch-py repository](https://github.com/elastic/elasticsearch-py/issues)\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/372966743","html_url":"https://github.com/elastic/elasticsearch/issues/29047#issuecomment-372966743","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29047","id":372966743,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Mjk2Njc0Mw==","user":{"login":"jaisharma639","id":8330173,"node_id":"MDQ6VXNlcjgzMzAxNzM=","avatar_url":"https://avatars0.githubusercontent.com/u/8330173?v=4","gravatar_id":"","url":"https://api.github.com/users/jaisharma639","html_url":"https://github.com/jaisharma639","followers_url":"https://api.github.com/users/jaisharma639/followers","following_url":"https://api.github.com/users/jaisharma639/following{/other_user}","gists_url":"https://api.github.com/users/jaisharma639/gists{/gist_id}","starred_url":"https://api.github.com/users/jaisharma639/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaisharma639/subscriptions","organizations_url":"https://api.github.com/users/jaisharma639/orgs","repos_url":"https://api.github.com/users/jaisharma639/repos","events_url":"https://api.github.com/users/jaisharma639/events{/privacy}","received_events_url":"https://api.github.com/users/jaisharma639/received_events","type":"User","site_admin":false},"created_at":"2018-03-14T10:02:56Z","updated_at":"2018-03-14T10:02:56Z","author_association":"NONE","body":"Thanks @colings86 , i'll follow up in elasticsearch-py issues","performed_via_github_app":null}]