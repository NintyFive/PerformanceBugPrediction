{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/29964","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29964/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29964/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29964/events","html_url":"https://github.com/elastic/elasticsearch/issues/29964","id":317450056,"node_id":"MDU6SXNzdWUzMTc0NTAwNTY=","number":29964,"title":"[DOCS] ssl keystore bootstrap check could cause confusion to unsuspecting users","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"labels":[{"id":912838879,"node_id":"MDU6TGFiZWw5MTI4Mzg4Nzk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Security/Security","name":":Security/Security","color":"0e8a16","default":false,"description":"Security issues without another label"},{"id":23715,"node_id":"MDU6TGFiZWwyMzcxNQ==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Edocs","name":">docs","color":"db755e","default":false,"description":"General docs changes"}],"state":"closed","locked":false,"assignee":{"login":"lcawl","id":26471269,"node_id":"MDQ6VXNlcjI2NDcxMjY5","avatar_url":"https://avatars0.githubusercontent.com/u/26471269?v=4","gravatar_id":"","url":"https://api.github.com/users/lcawl","html_url":"https://github.com/lcawl","followers_url":"https://api.github.com/users/lcawl/followers","following_url":"https://api.github.com/users/lcawl/following{/other_user}","gists_url":"https://api.github.com/users/lcawl/gists{/gist_id}","starred_url":"https://api.github.com/users/lcawl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lcawl/subscriptions","organizations_url":"https://api.github.com/users/lcawl/orgs","repos_url":"https://api.github.com/users/lcawl/repos","events_url":"https://api.github.com/users/lcawl/events{/privacy}","received_events_url":"https://api.github.com/users/lcawl/received_events","type":"User","site_admin":false},"assignees":[{"login":"lcawl","id":26471269,"node_id":"MDQ6VXNlcjI2NDcxMjY5","avatar_url":"https://avatars0.githubusercontent.com/u/26471269?v=4","gravatar_id":"","url":"https://api.github.com/users/lcawl","html_url":"https://github.com/lcawl","followers_url":"https://api.github.com/users/lcawl/followers","following_url":"https://api.github.com/users/lcawl/following{/other_user}","gists_url":"https://api.github.com/users/lcawl/gists{/gist_id}","starred_url":"https://api.github.com/users/lcawl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lcawl/subscriptions","organizations_url":"https://api.github.com/users/lcawl/orgs","repos_url":"https://api.github.com/users/lcawl/repos","events_url":"https://api.github.com/users/lcawl/events{/privacy}","received_events_url":"https://api.github.com/users/lcawl/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2017-11-14T18:16:53Z","updated_at":"2019-10-11T23:35:22Z","closed_at":"2019-10-11T23:35:22Z","author_association":"COLLABORATOR","active_lock_reason":null,"body":"*Original comment by @inqueue:*\n\n<!--\r\nPlease do not submit any issues related to security vulnerabilities that\r\ncould be exploited by an attacker. Instead, send an email to\r\nEMAIL REDACTED If you have any doubts, send an email to\r\nEMAIL REDACTED\r\n-->\r\n6.0 added a bootstrap check to fail service start if `ssl.keystore.path` does not contain a private key. For example,\r\n```\r\n[2017-11-14T10:11:42,020][ERROR][o.e.b.Bootstrap          ] Exception\r\njava.lang.IllegalStateException: failed to load plugin class [org.elasticsearch.xpack.XPackPlugin]\r\n...\r\nCaused by: java.lang.IllegalArgumentException: the keystore [/u01/elasticsearch-6.0.0-rc2/config/x-pack/ldap.jks] does not contain a private key entry\r\n```\r\nWhile it is documented the file in this configuration _must_ contain a private key, there are users running pre-6.0 versions unsuspectingly setting themselves up for failure. This particular report originated from having a keystore file in `ssl.keystore.path` configured for establishing trust for TLS in an LDAP realm. The user has been directed to use `ssl.truststore.path` instead.\r\n\r\n@jaymode ","closed_by":{"login":"debadair","id":362578,"node_id":"MDQ6VXNlcjM2MjU3OA==","avatar_url":"https://avatars1.githubusercontent.com/u/362578?v=4","gravatar_id":"","url":"https://api.github.com/users/debadair","html_url":"https://github.com/debadair","followers_url":"https://api.github.com/users/debadair/followers","following_url":"https://api.github.com/users/debadair/following{/other_user}","gists_url":"https://api.github.com/users/debadair/gists{/gist_id}","starred_url":"https://api.github.com/users/debadair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/debadair/subscriptions","organizations_url":"https://api.github.com/users/debadair/orgs","repos_url":"https://api.github.com/users/debadair/repos","events_url":"https://api.github.com/users/debadair/events{/privacy}","received_events_url":"https://api.github.com/users/debadair/received_events","type":"User","site_admin":false},"performed_via_github_app":null}