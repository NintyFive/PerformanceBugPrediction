[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/135762917","html_url":"https://github.com/elastic/elasticsearch/issues/13168#issuecomment-135762917","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13168","id":135762917,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNTc2MjkxNw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-08-28T12:29:35Z","updated_at":"2015-08-28T12:29:35Z","author_association":"CONTRIBUTOR","body":"Hi @pablocastro \n\nThe translog has changed dramatically in 2.0.  It is now fsynced after every request, and has checkpoints which are written and fsynced after the translog fsync.  The checkpoint file is designed to fit into a single block and so writing it should be atomic.  \n\nSee https://github.com/elastic/elasticsearch/pull/11143 and specifically https://github.com/elastic/elasticsearch/pull/11143/files#diff-775d4fc503b78c9a0ef6fd7d1a50f7a8R76 for more details.\n\nIn our testing (where we randomly kill the power to servers) we are no longer seeing translog corruptions.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/135921235","html_url":"https://github.com/elastic/elasticsearch/issues/13168#issuecomment-135921235","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13168","id":135921235,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNTkyMTIzNQ==","user":{"login":"pablocastro","id":3433341,"node_id":"MDQ6VXNlcjM0MzMzNDE=","avatar_url":"https://avatars1.githubusercontent.com/u/3433341?v=4","gravatar_id":"","url":"https://api.github.com/users/pablocastro","html_url":"https://github.com/pablocastro","followers_url":"https://api.github.com/users/pablocastro/followers","following_url":"https://api.github.com/users/pablocastro/following{/other_user}","gists_url":"https://api.github.com/users/pablocastro/gists{/gist_id}","starred_url":"https://api.github.com/users/pablocastro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pablocastro/subscriptions","organizations_url":"https://api.github.com/users/pablocastro/orgs","repos_url":"https://api.github.com/users/pablocastro/repos","events_url":"https://api.github.com/users/pablocastro/events{/privacy}","received_events_url":"https://api.github.com/users/pablocastro/received_events","type":"User","site_admin":false},"created_at":"2015-08-29T00:32:15Z","updated_at":"2015-08-29T00:32:15Z","author_association":"NONE","body":"Thanks for looking at this. \n\nFor 1.7, given that most production users are still on it, would you consider a fix that's specific to this codebase? I would be happy to send a pull request if that helps. \n\nFor 2.0, let me catch up on all the changes you guys did first so I can comment with appropriate context. \n\nIn the meanwhile I'd love to see if we can make a 1.7 fix happen.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/136174761","html_url":"https://github.com/elastic/elasticsearch/issues/13168#issuecomment-136174761","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13168","id":136174761,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNjE3NDc2MQ==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2015-08-30T18:52:03Z","updated_at":"2015-08-30T18:52:03Z","author_association":"CONTRIBUTOR","body":"> In the meanwhile I'd love to see if we can make a 1.7 fix happen.\n\nthe 2.0 code is pretty much a rewrite I don't think we should backport this and for a bugfix release such a change is too big anyway. We closed 1.x dev branches so not much is going to happen there. We have to move on and make sure folks move to 2.0 asap to get all the other goodies too. I don't think we should spend much time on fixing 1.7 but rather invest and test 2.0 instead.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/173533626","html_url":"https://github.com/elastic/elasticsearch/issues/13168#issuecomment-173533626","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13168","id":173533626,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MzUzMzYyNg==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2016-01-21T10:42:49Z","updated_at":"2016-01-21T10:42:49Z","author_association":"CONTRIBUTOR","body":"@pablocastro 2.0 has been well out there I am closing this\n","performed_via_github_app":null}]