[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/429779122","html_url":"https://github.com/elastic/elasticsearch/issues/34445#issuecomment-429779122","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34445","id":429779122,"node_id":"MDEyOklzc3VlQ29tbWVudDQyOTc3OTEyMg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-10-15T09:48:47Z","updated_at":"2018-10-15T09:48:47Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/429779161","html_url":"https://github.com/elastic/elasticsearch/issues/34445#issuecomment-429779161","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34445","id":429779161,"node_id":"MDEyOklzc3VlQ29tbWVudDQyOTc3OTE2MQ==","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2018-10-15T09:48:52Z","updated_at":"2018-10-15T09:48:52Z","author_association":"MEMBER","body":"I can reproduce this under Linux (not under osx though) using 6.4.2. \r\n\r\nThis should indeed be cleaned up.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/429922486","html_url":"https://github.com/elastic/elasticsearch/issues/34445#issuecomment-429922486","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34445","id":429922486,"node_id":"MDEyOklzc3VlQ29tbWVudDQyOTkyMjQ4Ng==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2018-10-15T16:28:42Z","updated_at":"2018-10-15T16:28:42Z","author_association":"MEMBER","body":"This happens because `elasticsearch-env` (which is called by all of our scripts, including `bin/elasticsearch`) calls `mktemp`. We might want to only to set the temp dir like this when running elasticsearch? /cc @jasontedor ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/429924040","html_url":"https://github.com/elastic/elasticsearch/issues/34445#issuecomment-429924040","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34445","id":429924040,"node_id":"MDEyOklzc3VlQ29tbWVudDQyOTkyNDA0MA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-10-15T16:33:30Z","updated_at":"2018-10-15T16:33:30Z","author_association":"MEMBER","body":"We can look into improving this. However, what is the concrete user-facing problem here? Knowing this will help us prioritize the effort. Modern systemd-based systems will clean /tmp periodically, and it will clean itself on reboot.  ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/430217905","html_url":"https://github.com/elastic/elasticsearch/issues/34445#issuecomment-430217905","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34445","id":430217905,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMDIxNzkwNQ==","user":{"login":"PereBal","id":8029176,"node_id":"MDQ6VXNlcjgwMjkxNzY=","avatar_url":"https://avatars3.githubusercontent.com/u/8029176?v=4","gravatar_id":"","url":"https://api.github.com/users/PereBal","html_url":"https://github.com/PereBal","followers_url":"https://api.github.com/users/PereBal/followers","following_url":"https://api.github.com/users/PereBal/following{/other_user}","gists_url":"https://api.github.com/users/PereBal/gists{/gist_id}","starred_url":"https://api.github.com/users/PereBal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PereBal/subscriptions","organizations_url":"https://api.github.com/users/PereBal/orgs","repos_url":"https://api.github.com/users/PereBal/repos","events_url":"https://api.github.com/users/PereBal/events{/privacy}","received_events_url":"https://api.github.com/users/PereBal/received_events","type":"User","site_admin":false},"created_at":"2018-10-16T12:28:15Z","updated_at":"2018-10-16T12:28:33Z","author_association":"NONE","body":"@jasontedor we have a very heterogeneous cluster topology and use `elasticsearch-plugin list` to decide what is the connection method for our health checks (mostly `if xpack is installed then https else http`) .\r\n\r\nAs you can guess, even if the Os might rotate _/tmp_ and it should be mounted as tmpfs, a new dir  every execution and frequent executions have caused us inode starvation issues.\r\n\r\nI can imagine your thoughts for not prioritizing this, but in that case, what would be a good alternative for us?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/430265232","html_url":"https://github.com/elastic/elasticsearch/issues/34445#issuecomment-430265232","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34445","id":430265232,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMDI2NTIzMg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-10-16T14:43:34Z","updated_at":"2018-10-16T14:43:34Z","author_association":"MEMBER","body":"@PereBal Thanks for clarifying.\r\n\r\nAs a workaround, for now you can set `ES_TMPDIR` explicitly to a specific temporary directory and each invocation of `elasticsearch-plugin` will reuse that temporary directory.","performed_via_github_app":null}]