{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/14123","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14123/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14123/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14123/events","html_url":"https://github.com/elastic/elasticsearch/issues/14123","id":111497505,"node_id":"MDU6SXNzdWUxMTE0OTc1MDU=","number":14123,"title":"List primary copy of each shard first in output of routing table","user":{"login":"ppf2","id":7216393,"node_id":"MDQ6VXNlcjcyMTYzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/7216393?v=4","gravatar_id":"","url":"https://api.github.com/users/ppf2","html_url":"https://github.com/ppf2","followers_url":"https://api.github.com/users/ppf2/followers","following_url":"https://api.github.com/users/ppf2/following{/other_user}","gists_url":"https://api.github.com/users/ppf2/gists{/gist_id}","starred_url":"https://api.github.com/users/ppf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppf2/subscriptions","organizations_url":"https://api.github.com/users/ppf2/orgs","repos_url":"https://api.github.com/users/ppf2/repos","events_url":"https://api.github.com/users/ppf2/events{/privacy}","received_events_url":"https://api.github.com/users/ppf2/received_events","type":"User","site_admin":false},"labels":[{"id":146836529,"node_id":"MDU6TGFiZWwxNDY4MzY1Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Stats","name":":Core/Features/Stats","color":"0e8a16","default":false,"description":"Statistics tracking and retrieval APIs"},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2015-10-14T21:28:59Z","updated_at":"2015-10-16T09:12:57Z","closed_at":"2015-10-16T09:12:57Z","author_association":"MEMBER","active_lock_reason":null,"body":"The routing table returned from our apis (like _status) seem to list the copies of a single shard sorted by the node_id.  So the primary copy can appear anywhere in the list, sometimes as the first copy in the list, sometimes as the last copy in the list.  This causes some issues in monitoring scripts I have seen out there where they are expecting the first copy of the shard listed to be the primary copy.  While it is an easy fix in the monitoring script, it may actually be nice if we consistently present the primary copy as the first item in the list of copies.\n\nExample of a shard that has 3 copies (2 replicas):\n\n```\n\"1\" : [ {\n          \"routing\" : {\n            \"state\" : \"STARTED\",\n            \"primary\" : false,\n            \"node\" : \"CUWZHwwjREGElE9zu_PNIg\",\n            \"relocating_node\" : null,\n            \"shard\" : 1,\n            \"index\" : \"awareness\"\n          }\n        }, {\n          \"routing\" : {\n            \"state\" : \"STARTED\",\n            \"primary\" : false,\n            \"node\" : \"lzBXmSxyScyit_BOMaH4yw\",\n            \"relocating_node\" : null,\n            \"shard\" : 1,\n            \"index\" : \"awareness\"\n          }        }, {\n          \"routing\" : {\n            \"state\" : \"STARTED\",\n            \"primary\" : true,\n            \"node\" : \"TFxkZt-lSz-hs-tqGCcdkg\",\n            \"relocating_node\" : null,\n            \"shard\" : 1,\n            \"index\" : \"awareness\"\n          }\n        } ],\n```\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}