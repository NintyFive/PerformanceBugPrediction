[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/579257998","html_url":"https://github.com/elastic/elasticsearch/issues/51533#issuecomment-579257998","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51533","id":579257998,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTI1Nzk5OA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-01-28T13:58:33Z","updated_at":"2020-01-28T13:58:33Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-features (:Core/Features/ILM+SLM)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/579287957","html_url":"https://github.com/elastic/elasticsearch/issues/51533#issuecomment-579287957","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51533","id":579287957,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTI4Nzk1Nw==","user":{"login":"andreidan","id":1217601,"node_id":"MDQ6VXNlcjEyMTc2MDE=","avatar_url":"https://avatars2.githubusercontent.com/u/1217601?v=4","gravatar_id":"","url":"https://api.github.com/users/andreidan","html_url":"https://github.com/andreidan","followers_url":"https://api.github.com/users/andreidan/followers","following_url":"https://api.github.com/users/andreidan/following{/other_user}","gists_url":"https://api.github.com/users/andreidan/gists{/gist_id}","starred_url":"https://api.github.com/users/andreidan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andreidan/subscriptions","organizations_url":"https://api.github.com/users/andreidan/orgs","repos_url":"https://api.github.com/users/andreidan/repos","events_url":"https://api.github.com/users/andreidan/events{/privacy}","received_events_url":"https://api.github.com/users/andreidan/received_events","type":"User","site_admin":false},"created_at":"2020-01-28T15:03:21Z","updated_at":"2020-01-28T15:03:21Z","author_association":"CONTRIBUTOR","body":"@JohannesMahne this is currently possible using the [`origination date`](https://www.elastic.co/guide/en/elasticsearch/reference/current/ilm-settings.html) which, if configured for an index, all the phase timings will be calculated based on it (for more details we wrote a [blog post](https://www.elastic.co/blog/control-ilm-phase-transition-timings-using-origination-date?blade=tw&hulk=social) with more details about how it works) \r\n\r\nIn your case, given a policy as follows:\r\n```\r\nPUT /_ilm/policy/30gbs_30days\r\n{ \r\n  \"policy\": { \r\n    \"phases\": { \r\n      \"hot\": { \r\n        \"actions\": { \r\n          \"rollover\": {\r\n            \"max_age\":   \"30d\",\r\n            \"max_size\":  \"30gb\" \r\n          } \r\n        } \r\n      }, \r\n      \"delete\": { \r\n        \"min_age\": \"30d\", \r\n        \"actions\": { \r\n          \"delete\": {} \r\n        } \r\n      } \r\n    } \r\n  } \r\n}\r\n```\r\n(note `max_age` on the rollover action makes sure the index is rolled and moved into the delete phase even if the `max_size` condition was not triggered)\r\nyou could apply it to an index and set the origination date to the _current date_ (the creation date). eg.\r\n```\r\nPUT /events-2020.01.28 \r\n{ \r\n  \"settings\" : { \r\n    \"index\" : { \r\n      \"lifecycle.name\": \"30gbs_30days\", \r\n      \"lifecycle.parse_origination_date\": true\r\n    } \r\n  } \r\n}\r\n```\r\nor if the date is something you don't want to incorporate in your index name you can manually set the origination date: \r\n```\r\nPUT /events \r\n{ \r\n  \"settings\" : { \r\n    \"index\" : { \r\n      \"lifecycle.name\": \"30gbs_30days\", \r\n      \"lifecycle.origination_date\": 1580169600000\r\n    } \r\n  } \r\n}\r\n```\r\n\r\nDoes this cover your use case?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/580237108","html_url":"https://github.com/elastic/elasticsearch/issues/51533#issuecomment-580237108","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51533","id":580237108,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MDIzNzEwOA==","user":{"login":"Scha7ten","id":60462812,"node_id":"MDQ6VXNlcjYwNDYyODEy","avatar_url":"https://avatars3.githubusercontent.com/u/60462812?v=4","gravatar_id":"","url":"https://api.github.com/users/Scha7ten","html_url":"https://github.com/Scha7ten","followers_url":"https://api.github.com/users/Scha7ten/followers","following_url":"https://api.github.com/users/Scha7ten/following{/other_user}","gists_url":"https://api.github.com/users/Scha7ten/gists{/gist_id}","starred_url":"https://api.github.com/users/Scha7ten/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Scha7ten/subscriptions","organizations_url":"https://api.github.com/users/Scha7ten/orgs","repos_url":"https://api.github.com/users/Scha7ten/repos","events_url":"https://api.github.com/users/Scha7ten/events{/privacy}","received_events_url":"https://api.github.com/users/Scha7ten/received_events","type":"User","site_admin":false},"created_at":"2020-01-30T12:48:21Z","updated_at":"2020-01-30T12:50:06Z","author_association":"NONE","body":"Is it possible to manually change the size of an index that is set to \"is_write_index: false\" for testing? Say I have an index of the size of 1 GB and for testing a new policy I want to make it have 30 GB","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/581842465","html_url":"https://github.com/elastic/elasticsearch/issues/51533#issuecomment-581842465","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51533","id":581842465,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MTg0MjQ2NQ==","user":{"login":"JohannesMahne","id":4738843,"node_id":"MDQ6VXNlcjQ3Mzg4NDM=","avatar_url":"https://avatars1.githubusercontent.com/u/4738843?v=4","gravatar_id":"","url":"https://api.github.com/users/JohannesMahne","html_url":"https://github.com/JohannesMahne","followers_url":"https://api.github.com/users/JohannesMahne/followers","following_url":"https://api.github.com/users/JohannesMahne/following{/other_user}","gists_url":"https://api.github.com/users/JohannesMahne/gists{/gist_id}","starred_url":"https://api.github.com/users/JohannesMahne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JohannesMahne/subscriptions","organizations_url":"https://api.github.com/users/JohannesMahne/orgs","repos_url":"https://api.github.com/users/JohannesMahne/repos","events_url":"https://api.github.com/users/JohannesMahne/events{/privacy}","received_events_url":"https://api.github.com/users/JohannesMahne/received_events","type":"User","site_admin":false},"created_at":"2020-02-04T10:29:01Z","updated_at":"2020-02-04T10:29:01Z","author_association":"CONTRIBUTOR","body":"Thanks, @andreidan it does cover it. Thanks for the detail.","performed_via_github_app":null}]