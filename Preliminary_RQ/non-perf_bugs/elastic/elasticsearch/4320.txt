{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/4320","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4320/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4320/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4320/events","html_url":"https://github.com/elastic/elasticsearch/issues/4320","id":23622080,"node_id":"MDU6SXNzdWUyMzYyMjA4MA==","number":4320,"title":"Inconsistent query behavior with multi_field and string value","user":{"login":"azell","id":489196,"node_id":"MDQ6VXNlcjQ4OTE5Ng==","avatar_url":"https://avatars2.githubusercontent.com/u/489196?v=4","gravatar_id":"","url":"https://api.github.com/users/azell","html_url":"https://github.com/azell","followers_url":"https://api.github.com/users/azell/followers","following_url":"https://api.github.com/users/azell/following{/other_user}","gists_url":"https://api.github.com/users/azell/gists{/gist_id}","starred_url":"https://api.github.com/users/azell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/azell/subscriptions","organizations_url":"https://api.github.com/users/azell/orgs","repos_url":"https://api.github.com/users/azell/repos","events_url":"https://api.github.com/users/azell/events{/privacy}","received_events_url":"https://api.github.com/users/azell/received_events","type":"User","site_admin":false},"labels":[{"id":141145460,"node_id":"MDU6TGFiZWwxNDExNDU0NjA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Mapping","name":":Search/Mapping","color":"0e8a16","default":false,"description":"How fields should be indexed"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null},{"id":92913858,"node_id":"MDU6TGFiZWw5MjkxMzg1OA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/good%20first%20issue","name":"good first issue","color":"07569b","default":true,"description":"low hanging fruit"},{"id":110815527,"node_id":"MDU6TGFiZWwxMTA4MTU1Mjc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/help%20wanted","name":"help wanted","color":"207de5","default":true,"description":"adoptme"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2013-12-03T05:25:59Z","updated_at":"2015-12-15T11:36:02Z","closed_at":"2015-12-15T11:36:02Z","author_association":"NONE","active_lock_reason":null,"body":"I am seeing inconsistent behavior in ES 0.90.7 when storing a string directly in a multi_field, versus as a hash of attributes.  Relevant gists:\n\nhttps://gist.github.com/azell/7746233\nhttps://gist.github.com/azell/7746253\n\nThe only difference in the above two gists is the JSON document published to ES.  In the former, the string is directly associated with its value:\n  \"name\" : \"test me\"\n\nIn the latter, the string is associated with a hash which contains its value:\n    \"name\" : { \"value\" : \"test me\" }\n\nPerforming a search against the multi_field field without the default name (\"name.untouched\") returns 1 result in the former, but 0 in the latter.  Is this intended?  Ref http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/mapping-core-types.html#string :\n\nThe string type also support custom indexing parameters associated with the indexed value. For example:\n\n{\n    \"message\" : {\n        \"_value\":  \"boosted value\",\n        \"_boost\":  2.0\n    }\n}\n\nThe mapping is required to disambiguate the meaning of the document. Otherwise, the structure would interpret \"message\" as a value of type \"object\". The key _value (or value) in the inner document specifies the real string content that should eventually be indexed. The _boost (or boost) key specifies the per field document boost (here 2.0).\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}