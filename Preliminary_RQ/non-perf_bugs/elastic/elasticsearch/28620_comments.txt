[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/365018392","html_url":"https://github.com/elastic/elasticsearch/issues/28620#issuecomment-365018392","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28620","id":365018392,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTAxODM5Mg==","user":{"login":"jbaiera","id":875779,"node_id":"MDQ6VXNlcjg3NTc3OQ==","avatar_url":"https://avatars1.githubusercontent.com/u/875779?v=4","gravatar_id":"","url":"https://api.github.com/users/jbaiera","html_url":"https://github.com/jbaiera","followers_url":"https://api.github.com/users/jbaiera/followers","following_url":"https://api.github.com/users/jbaiera/following{/other_user}","gists_url":"https://api.github.com/users/jbaiera/gists{/gist_id}","starred_url":"https://api.github.com/users/jbaiera/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbaiera/subscriptions","organizations_url":"https://api.github.com/users/jbaiera/orgs","repos_url":"https://api.github.com/users/jbaiera/repos","events_url":"https://api.github.com/users/jbaiera/events{/privacy}","received_events_url":"https://api.github.com/users/jbaiera/received_events","type":"User","site_admin":false},"created_at":"2018-02-12T18:34:55Z","updated_at":"2018-02-12T18:34:55Z","author_association":"CONTRIBUTOR","body":"Thanks for including the stack trace on this issue, but could you elaborate further on how you are reaching this error?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/368360594","html_url":"https://github.com/elastic/elasticsearch/issues/28620#issuecomment-368360594","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28620","id":368360594,"node_id":"MDEyOklzc3VlQ29tbWVudDM2ODM2MDU5NA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2018-02-26T00:37:18Z","updated_at":"2018-02-26T00:37:18Z","author_association":"MEMBER","body":"@dzyangxi  Can you please add more detailed instructions on how to reproduce this?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/381092833","html_url":"https://github.com/elastic/elasticsearch/issues/28620#issuecomment-381092833","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28620","id":381092833,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MTA5MjgzMw==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2018-04-13T10:20:28Z","updated_at":"2018-04-13T10:20:28Z","author_association":"MEMBER","body":"No further feedback. @dzyangxi if you have details on how we might be able to reproduce this error please comment with as many details as possible and we can look into reopening this","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/451661284","html_url":"https://github.com/elastic/elasticsearch/issues/28620#issuecomment-451661284","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28620","id":451661284,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MTY2MTI4NA==","user":{"login":"jmngpt","id":3842007,"node_id":"MDQ6VXNlcjM4NDIwMDc=","avatar_url":"https://avatars3.githubusercontent.com/u/3842007?v=4","gravatar_id":"","url":"https://api.github.com/users/jmngpt","html_url":"https://github.com/jmngpt","followers_url":"https://api.github.com/users/jmngpt/followers","following_url":"https://api.github.com/users/jmngpt/following{/other_user}","gists_url":"https://api.github.com/users/jmngpt/gists{/gist_id}","starred_url":"https://api.github.com/users/jmngpt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmngpt/subscriptions","organizations_url":"https://api.github.com/users/jmngpt/orgs","repos_url":"https://api.github.com/users/jmngpt/repos","events_url":"https://api.github.com/users/jmngpt/events{/privacy}","received_events_url":"https://api.github.com/users/jmngpt/received_events","type":"User","site_admin":false},"created_at":"2019-01-05T14:42:25Z","updated_at":"2019-01-05T14:43:05Z","author_association":"NONE","body":"Seeing that this issue didn't come to a resolution, I'm posting my experience with the same problem. \r\n\r\nSystem: single node running ES 5.6 on ubuntu server 16.04.5, multiple data paths, 4 vCPU 16GB RAM 8GB heap. \r\n\r\nI came across the same error message after I manually emptied the node's data directories. I can't recall if the elasticsearch service was running, but I think not; also, I had tried to delete the index via http, but the service didn't respond. After starting the elasticsearch service, `service elasticsearch status` reports \"loaded / active\" , but a GET to `/_nodes/stats` outputs the following message:\r\n\r\n ```\r\n\"_nodes\" : {\r\n    \"total\" : 1,\r\n    \"successful\" : 0,\r\n    \"failed\" : 1,\r\n    \"failures\" : [\r\n      {\r\n        \"type\" : \"failed_node_exception\",\r\n        \"reason\" : \"Failed node [QuC1Bb85Tl-UMIVvPLTPEw]\",\r\n        \"caused_by\" : {\r\n          \"type\" : \"illegal_state_exception\",\r\n          \"reason\" : \"environment is not locked\",\r\n          \"caused_by\" : {\r\n            \"type\" : \"no_such_file_exception\",\r\n            \"reason\" : \"/mnt/esdata01/nodes/0/node.lock\"\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  }\r\n```\r\n\r\nIn the end, `service elasticsearch restart` made this (understandable) issue disappear. \r\n\r\nI'm guessing that between trying to delete the index and then just deleting the index's files while the cluster wasn't on green status (because the http api was not responding to `curl -XDELETE /server/index` ), ES' internal state/metadata got \"messed up\".","performed_via_github_app":null}]