[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46571870","html_url":"https://github.com/elastic/elasticsearch/issues/6564#issuecomment-46571870","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6564","id":46571870,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NTcxODcw","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-06-19T15:02:07Z","updated_at":"2014-06-19T15:02:07Z","author_association":"CONTRIBUTOR","body":"@shadow000fire what's the use case for this?\n\nEither way, I think the numbered shards idea won't fly. And with routing, I'm not sure how much you gain here as the filters will be cached anyway. If a term doesn't exist on one shard, the cached filter will tell it to skip all segments and no further work will be done.\n\nThis feels like overcomplicating matters, but maybe I'm missing something?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/46585124","html_url":"https://github.com/elastic/elasticsearch/issues/6564#issuecomment-46585124","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6564","id":46585124,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NTg1MTI0","user":{"login":"shadow000fire","id":1693492,"node_id":"MDQ6VXNlcjE2OTM0OTI=","avatar_url":"https://avatars3.githubusercontent.com/u/1693492?v=4","gravatar_id":"","url":"https://api.github.com/users/shadow000fire","html_url":"https://github.com/shadow000fire","followers_url":"https://api.github.com/users/shadow000fire/followers","following_url":"https://api.github.com/users/shadow000fire/following{/other_user}","gists_url":"https://api.github.com/users/shadow000fire/gists{/gist_id}","starred_url":"https://api.github.com/users/shadow000fire/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shadow000fire/subscriptions","organizations_url":"https://api.github.com/users/shadow000fire/orgs","repos_url":"https://api.github.com/users/shadow000fire/repos","events_url":"https://api.github.com/users/shadow000fire/events{/privacy}","received_events_url":"https://api.github.com/users/shadow000fire/received_events","type":"User","site_admin":false},"created_at":"2014-06-19T16:40:22Z","updated_at":"2014-06-19T16:40:22Z","author_association":"CONTRIBUTOR","body":"So here's our case, but maybe I'm getting something wrong.  We use a terms filter with the terms lookup mechanism that has around 50,000 terms. The execution mode is left to plain as fielddata had worse performance.  It seems that performance is directly related to the number of terms in that filter.  So i thought if i could break that big list into say 10 pieces (10 shards) ahead of time, and the execute 10 different filters, each only on the shard it applies to.  \n\nCurrently our index is 20 shards, but will likely go higher, so I'm trying to avoid hitting every shard for every request.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/158650316","html_url":"https://github.com/elastic/elasticsearch/issues/6564#issuecomment-158650316","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/6564","id":158650316,"node_id":"MDEyOklzc3VlQ29tbWVudDE1ODY1MDMxNg==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-11-21T15:07:35Z","updated_at":"2015-11-21T15:07:35Z","author_association":"CONTRIBUTOR","body":"Revisiting this discussion, I see it hasn't garnered any interest in the previous year and a half.  Given that search execution has changed dramatically in 2.x, I'm going to close this issue for now.  \n","performed_via_github_app":null}]