[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/51389820","html_url":"https://github.com/elastic/elasticsearch/issues/7179#issuecomment-51389820","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7179","id":51389820,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzg5ODIw","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2014-08-06T20:09:21Z","updated_at":"2014-08-06T20:09:21Z","author_association":"MEMBER","body":"We can probably help you on the mailing list. I don't think it's an issue here.\n\nWhen posting on the mailing list, could you also copy the exact curl command which works as expected?\n\nA first look at your case, it sounds like that in one case you are searching in index `securegate` and with curl you search in all indices.\nNote that `.prepareSearch(\"securegate\", \"securegate\")` will search in index `securegate` not with type `securegate`.\n\nFeel free to reopen if you think it's an issue.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/51392035","html_url":"https://github.com/elastic/elasticsearch/issues/7179#issuecomment-51392035","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7179","id":51392035,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzkyMDM1","user":{"login":"skippi1","id":8377834,"node_id":"MDQ6VXNlcjgzNzc4MzQ=","avatar_url":"https://avatars0.githubusercontent.com/u/8377834?v=4","gravatar_id":"","url":"https://api.github.com/users/skippi1","html_url":"https://github.com/skippi1","followers_url":"https://api.github.com/users/skippi1/followers","following_url":"https://api.github.com/users/skippi1/following{/other_user}","gists_url":"https://api.github.com/users/skippi1/gists{/gist_id}","starred_url":"https://api.github.com/users/skippi1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/skippi1/subscriptions","organizations_url":"https://api.github.com/users/skippi1/orgs","repos_url":"https://api.github.com/users/skippi1/repos","events_url":"https://api.github.com/users/skippi1/events{/privacy}","received_events_url":"https://api.github.com/users/skippi1/received_events","type":"User","site_admin":false},"created_at":"2014-08-06T20:26:04Z","updated_at":"2014-08-06T20:26:04Z","author_association":"NONE","body":"Hi,\n\nI discussed this issue on irc and I am sure, it is an issue:\n\n1.) Both examples return the correct number of documents. That indicates the correct index was used.\n2.) The json query in second example produces correct result on REST api, but not in java client.\n3.) Both examples do not return the correct aggregation results.\n\nFor 2.) I used the kopf plugin. With curl it should like curl -XPOST http://localhost:9200/_search ...\n\nProbably it's an issue regarding the documentation. Some examples are not compatible with 1.3.1 of ES java api, e.g. client.prepareSearch() without parameters is not available in latest release.\n\nsee http://www.elasticsearch.org/guide/en/elasticsearch/client/java-api/current/search.html\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/51403237","html_url":"https://github.com/elastic/elasticsearch/issues/7179#issuecomment-51403237","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7179","id":51403237,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDAzMjM3","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2014-08-06T21:56:48Z","updated_at":"2014-08-06T21:56:48Z","author_association":"MEMBER","body":"If I understand you correctly, you run two queries using Java which don't work as expected, but running the following works fine:\n\n``` sh\ncurl -XPOST http://localhost:9200/_search -d '{\n    \"aggs\": {\n        \"articles_over_time\": {\n            \"date_histogram\": {\n                \"field\": \"@timestamp\",\n                \"interval\": \"1d\"\n            }\n        }\n    },\n    \"size\": 0\n}'\n```\n\nIs my understanding correct?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/51434452","html_url":"https://github.com/elastic/elasticsearch/issues/7179#issuecomment-51434452","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7179","id":51434452,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDM0NDUy","user":{"login":"skippi1","id":8377834,"node_id":"MDQ6VXNlcjgzNzc4MzQ=","avatar_url":"https://avatars0.githubusercontent.com/u/8377834?v=4","gravatar_id":"","url":"https://api.github.com/users/skippi1","html_url":"https://github.com/skippi1","followers_url":"https://api.github.com/users/skippi1/followers","following_url":"https://api.github.com/users/skippi1/following{/other_user}","gists_url":"https://api.github.com/users/skippi1/gists{/gist_id}","starred_url":"https://api.github.com/users/skippi1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/skippi1/subscriptions","organizations_url":"https://api.github.com/users/skippi1/orgs","repos_url":"https://api.github.com/users/skippi1/repos","events_url":"https://api.github.com/users/skippi1/events{/privacy}","received_events_url":"https://api.github.com/users/skippi1/received_events","type":"User","site_admin":false},"created_at":"2014-08-07T06:03:22Z","updated_at":"2014-08-07T06:03:22Z","author_association":"NONE","body":"Hi David,\n\n \n\nthat is correct. This query returns an result:\n\ncurl -XPOST http://localhost:9200/_search -d '{\n    \"aggs\": {\n        \"articles_over_time\": {\n            \"date_histogram\": {\n                \"field\": \"@timestamp\",\n                \"interval\": \"1d\"\n            }\n        }\n    },\n    \"size\": 0\n}'\n\nBut by now, when rethinking this request there's a question to myself: how does this query select an index/type? I changed the curl query to\n\n \n\ncurl -XPOST http://localhost:9200/<my-index>/<my-type>/_search ....\n\nThis looks very similar to the java api result:\n\n \n\n{\n   \"took\" : 2,\n   \"timed_out\" : false,\n   \"_shards\" : {\n      \"total\" : 5,\n      \"successful\" : 5,\n      \"failed\" : 0\n   },\n   \"hits\" : {\n      \"total\" : 26,\n      \"max_score\" : 0,\n      \"hits\" : [\n      ]\n   },\n   \"aggregations\" : {\n      \"articles_over_time\" : {\n         \"buckets\" : [\n         ]\n      }\n   }\n}\n\n \n\nI am misunderstanding the api? But in java api an index (and type) is supplied ...\n\n \n\nregards,\n\nmarkus\n\n \n \n\n \n\n \n\nGesendet: Mittwoch, 06. August 2014 um 23:57 UhrVon: \"David Pilato\" notifications@github.comAn: elasticsearch/elasticsearch elasticsearch@noreply.github.comCc: skippi1 skippi1@gmx.deBetreff: Re: [elasticsearch] ES java client issues (#7179)\n\nIf I understand you correctly, you run two queries using Java which don't work as expected, but running the following works fine:\n\ncurl -XPOST http://localhost:9200/_search -d '{\n    \"aggs\": {\n        \"articles_over_time\": {\n            \"date_histogram\": {\n                \"field\": \"@timestamp\",\n                \"interval\": \"1d\"\n            }\n        }\n    },\n    \"size\": 0\n}'\n\nIs my understanding correct?\n\n—\nReply to this email directly or view it on GitHub.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/51465661","html_url":"https://github.com/elastic/elasticsearch/issues/7179#issuecomment-51465661","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7179","id":51465661,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNDY1NjYx","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-08-07T12:39:15Z","updated_at":"2014-08-07T12:39:15Z","author_association":"CONTRIBUTOR","body":"@skippi1 your REST request without index/type searches across all indices and all types.  Those documents are coming from a different index (or type).\n","performed_via_github_app":null}]