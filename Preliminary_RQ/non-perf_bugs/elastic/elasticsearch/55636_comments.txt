[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/618098935","html_url":"https://github.com/elastic/elasticsearch/issues/55636#issuecomment-618098935","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55636","id":618098935,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODA5ODkzNQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-04-22T23:57:42Z","updated_at":"2020-04-22T23:57:42Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-docs (>docs)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/618476663","html_url":"https://github.com/elastic/elasticsearch/issues/55636#issuecomment-618476663","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55636","id":618476663,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODQ3NjY2Mw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-04-23T15:47:35Z","updated_at":"2020-04-23T15:47:35Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search (:Search/Search)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/618998741","html_url":"https://github.com/elastic/elasticsearch/issues/55636#issuecomment-618998741","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55636","id":618998741,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODk5ODc0MQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2020-04-24T13:10:04Z","updated_at":"2020-04-24T13:10:04Z","author_association":"MEMBER","body":"To clarify, `keep_alive` has little to do with this behaviour. If the request is completed within the wait for completion timeout, you will get back the final response directly, hence the response will not be stored in the cluster and no id will be returned regardless of the `keep_alive` parameter. There is an undocumented parameter called `keep_on_completion` that allows to request that every response is stored in the cluster, which is useful for testing but we do not expect users to need to change the default behaviour. I will clarify the docs on this.\r\n\r\nAs a side note, I still find this potentially confusing, as the keep_alive gets ignored in the described scenario. We did some thinking around these parameters, their meaning and naming, which is summarized in #54069. What we have now is the outcome of that discussion.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/619648310","html_url":"https://github.com/elastic/elasticsearch/issues/55636#issuecomment-619648310","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55636","id":619648310,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTY0ODMxMA==","user":{"login":"russcam","id":208231,"node_id":"MDQ6VXNlcjIwODIzMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/208231?v=4","gravatar_id":"","url":"https://api.github.com/users/russcam","html_url":"https://github.com/russcam","followers_url":"https://api.github.com/users/russcam/followers","following_url":"https://api.github.com/users/russcam/following{/other_user}","gists_url":"https://api.github.com/users/russcam/gists{/gist_id}","starred_url":"https://api.github.com/users/russcam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/russcam/subscriptions","organizations_url":"https://api.github.com/users/russcam/orgs","repos_url":"https://api.github.com/users/russcam/repos","events_url":"https://api.github.com/users/russcam/events{/privacy}","received_events_url":"https://api.github.com/users/russcam/received_events","type":"User","site_admin":false},"created_at":"2020-04-27T00:19:53Z","updated_at":"2020-04-27T00:20:02Z","author_association":"CONTRIBUTOR","body":"Sorry, I meant `keep_on_completion`, not `keep_alive`. This is what we're using for integration tests for the C# client: https://github.com/elastic/elasticsearch-net/pull/4637/commits/ea847aa0eefe6a458fefb1a04a1c5c086b6af435\r\n\r\nThe reason for raising this issue though is that the documentation does not mention any happy path scenario where an ID is not returned, which I think it should, along with document how `keep_on_completion` works in conjunction to `keep_alive`.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/619960775","html_url":"https://github.com/elastic/elasticsearch/issues/55636#issuecomment-619960775","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/55636","id":619960775,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTk2MDc3NQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2020-04-27T12:41:00Z","updated_at":"2020-04-27T12:41:00Z","author_association":"MEMBER","body":"We should mention what happens when the response completed within the\ncompletion timeout, agreed. I am reluctant on documenting\nkeep_on_completion because it's only used in tests and we are still looking\nfor alternatives as we would love to remove it soon.\n\nOn Mon, Apr 27, 2020, 02:20 Russ Cam <notifications@github.com> wrote:\n\n> Sorry, I meant keep_on_completion, not keep_alive. This is what we're\n> using for integration tests for the C# client: elastic/elasticsearch-net@\n> ea847aa\n> <https://github.com/elastic/elasticsearch-net/commit/ea847aa0eefe6a458fefb1a04a1c5c086b6af435>\n>\n> The reason for raising this issue though is that the documentation does\n> not mention any happy path scenario where an ID is not returned, which I\n> think it should, along with document how keep_on_completion works in\n> conjunction to keep_alive.\n>\n> â€”\n> You are receiving this because you were assigned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/elastic/elasticsearch/issues/55636#issuecomment-619648310>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAGLHTA2ITWB6XVYBH67ZJTROTFTNANCNFSM4MOTGFLA>\n> .\n>\n","performed_via_github_app":null}]