{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/52125","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52125/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52125/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52125/events","html_url":"https://github.com/elastic/elasticsearch/issues/52125","id":562329101,"node_id":"MDU6SXNzdWU1NjIzMjkxMDE=","number":52125,"title":"[CI] S3BlobStoreRepositoryTests testSnapshotAndRestore failure","user":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"labels":[{"id":143077482,"node_id":"MDU6TGFiZWwxNDMwNzc0ODI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Snapshot/Restore","name":":Distributed/Snapshot/Restore","color":"0e8a16","default":false,"description":"Anything directly related to the `_snapshot/*` APIs"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"assignees":[{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false}],"milestone":null,"comments":4,"created_at":"2020-02-10T05:12:45Z","updated_at":"2020-04-02T19:02:40Z","closed_at":"2020-02-10T06:48:25Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"- https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+matrix-java-periodic/ES_RUNTIME_JAVA=openjdk14,nodes=general-purpose/502/console\r\n- https://gradle-enterprise.elastic.co/s/4heosa3z7bspy\r\n\r\n```\r\norg.elasticsearch.repositories.s3.S3BlobStoreRepositoryTests > testSnapshotAndRestore FAILED\t\r\n    java.lang.AssertionError: timed out waiting for green state\t\r\n        at org.junit.Assert.fail(Assert.java:88)\t\r\n        at org.elasticsearch.test.ESIntegTestCase.ensureColor(ESIntegTestCase.java:883)\t\r\n        at org.elasticsearch.test.ESIntegTestCase.ensureGreen(ESIntegTestCase.java:836)\t\r\n        at org.elasticsearch.test.ESIntegTestCase.ensureGreen(ESIntegTestCase.java:825)\t\r\n        at org.elasticsearch.repositories.blobstore.ESBlobStoreRepositoryIntegTestCase.testSnapshotAndRestore(ESBlobStoreRepositoryIntegTestCase.java:324)\t\r\n ```\r\n\r\n```\r\n 1> [2020-02-10T09:19:50,112][INFO ][o.e.t.s.M.Listener       ] [node_sd2] [vwwokq][3] end check index\t\r\n  1> [2020-02-10T09:19:55,880][INFO ][o.e.c.r.a.AllocationService] [node_sm0] Cluster health status changed from [RED] to [YELLOW] (reason: [shards started [[p][0]]]).\t\r\n  1> [2020-02-10T09:19:56,153][INFO ][o.e.r.s.S3BlobStoreRepositoryTests] [testSnapshotAndRestore] --> restore all indices from the snapshot\t\r\n  1> [2020-02-10T09:19:57,760][INFO ][o.e.t.s.M.Listener       ] [node_sd1] [vwwokq][6] start check index\t\r\n  1> [2020-02-10T09:19:57,772][INFO ][o.e.t.s.M.Listener       ] [node_sd2] [vwwokq][7] start check index\t\r\n  1> [2020-02-10T09:19:57,889][INFO ][o.e.t.s.M.Listener       ] [node_sd1] [vwwokq][6] end check index\r\n...\r\n1> [2020-02-10T09:19:59,242][INFO ][o.e.t.s.M.Listener       ] [node_sd1] [p][4] start check index\t\r\n  1> [2020-02-10T09:19:59,299][INFO ][o.e.t.s.M.Listener       ] [node_sd1] [p][4] end check index\t\r\n  1> [2020-02-10T09:20:19,251][WARN ][o.e.c.r.a.AllocationService] [node_sm0] [p][0] marking unavailable shards as stale: [0AEdY9NsS0GtNU-WDiRqlw]\t\r\n  1> [2020-02-10T09:20:27,549][WARN ][o.e.c.r.a.AllocationService] [node_sm0] [p][7] marking unavailable shards as stale: [lB1-y8RBQ_-_95ZE8rKUmA]\t\r\n  1> [2020-02-10T09:20:41,014][WARN ][o.e.c.r.a.AllocationService] [node_sm0] [p][4] marking unavailable shards as stale: [IneAgQOJTVGmQYVAAZyAKA]\t\r\n  1> [2020-02-10T09:20:41,527][WARN ][o.e.c.r.a.AllocationService] [node_sm0] [p][5] marking unavailable shards as stale: [080jm4sER3CKFMTOWjOb6A]\t\r\n  1> [2020-02-10T09:20:44,484][WARN ][o.e.c.r.a.AllocationService] [node_sm0] [vwwokq][0] marking unavailable shards as stale: [x1tCQJqsSuONqS3OEfrIqw]\t\r\n  1> [2020-02-10T09:20:47,387][WARN ][o.e.c.r.a.AllocationService] [node_sm0] [vwwokq][2] marking unavailable shards as stale: [Q7wchP7OSYa04Iom8JomXA]\t\r\n  1> [2020-02-10T09:20:48,989][WARN ][o.e.c.r.a.AllocationService] [node_sm0] [vwwokq][3] marking unavailable shards as stale: [_rkzSMjHQDiiGNxbEAyfAw]\t\r\n  1> [2020-02-10T09:20:48,990][WARN ][o.e.c.r.a.AllocationService] [node_sm0] [vwwokq][1] marking unavailable shards as stale: [6h1uNCewTuyiczQHYc6V_Q]\t\r\n  1> [2020-02-10T09:20:49,939][WARN ][o.e.c.r.a.AllocationService] [node_sm0] [vwwokq][4] marking unavailable shards as stale: [ZgDfuuTGT4W9eRLfZdGRFg]\t\r\n  1> [2020-02-10T09:20:50,198][WARN ][o.e.c.r.a.AllocationService] [node_sm0] [vwwokq][5] marking unavailable shards as stale: [-mA8LzsrRUGJR1Wq3Ukq9A]\t\r\n  1> [2020-02-10T09:20:53,410][WARN ][o.e.c.r.a.AllocationService] [node_sm0] [vwwokq][6] marking unavailable shards as stale: [3NI3i0igT6WxoeFHfBUrJA]\t\r\n  1> [2020-02-10T09:20:57,016][WARN ][o.e.c.r.a.AllocationService] [node_sm0] [vwwokq][8] marking unavailable shards as stale: [wGRPrm8YRjaRGqrp7t2nYQ]\t\r\n  1> [2020-02-10T09:20:57,822][WARN ][o.e.c.r.a.AllocationService] [node_sm0] [vwwokq][7] marking unavailable shards as stale: [fkdCveOORTiYJLSn-8ZuOQ]\t\r\n  1> [2020-02-10T09:21:16,496][WARN ][o.e.c.r.a.AllocationService] [node_sm0] [p][1] marking unavailable shards as stale: [cqM4WD1-T5mXoTTji0d62g]\t\r\n  1> [2020-02-10T09:21:18,494][INFO ][o.e.r.s.S3BlobStoreRepositoryTests] [testSnapshotAndRestore] ensureGreen timed out, cluster state:\t\r\n  1> cluster uuid: 4Nzhw1AhSRSX2eAPpUI2kA [committed: true]\r\n```\r\n\r\n","closed_by":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"performed_via_github_app":null}