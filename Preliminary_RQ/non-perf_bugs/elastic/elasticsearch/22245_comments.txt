[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/267756741","html_url":"https://github.com/elastic/elasticsearch/issues/22245#issuecomment-267756741","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22245","id":267756741,"node_id":"MDEyOklzc3VlQ29tbWVudDI2Nzc1Njc0MQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-12-17T11:02:57Z","updated_at":"2016-12-17T11:02:57Z","author_association":"MEMBER","body":"Some OpenJDK package maintainers (the RedHat line for sure) decided to start shipping their OpenJDK packages with `-XX:+AssumeMP` enabled by default. Frankly I think that this is a mistake, but that is what leads to the message that you're seeing here. You can disable this by starting the JVM with `-XX:-AssumeMP` (either add it to `ES_JAVA_OPTS`, or add it to `jvm.options` if you're on Elasticsearch 5.x (please include the version in future issues)).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/357616360","html_url":"https://github.com/elastic/elasticsearch/issues/22245#issuecomment-357616360","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22245","id":357616360,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzYxNjM2MA==","user":{"login":"antboll","id":35406888,"node_id":"MDQ6VXNlcjM1NDA2ODg4","avatar_url":"https://avatars0.githubusercontent.com/u/35406888?v=4","gravatar_id":"","url":"https://api.github.com/users/antboll","html_url":"https://github.com/antboll","followers_url":"https://api.github.com/users/antboll/followers","following_url":"https://api.github.com/users/antboll/following{/other_user}","gists_url":"https://api.github.com/users/antboll/gists{/gist_id}","starred_url":"https://api.github.com/users/antboll/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/antboll/subscriptions","organizations_url":"https://api.github.com/users/antboll/orgs","repos_url":"https://api.github.com/users/antboll/repos","events_url":"https://api.github.com/users/antboll/events{/privacy}","received_events_url":"https://api.github.com/users/antboll/received_events","type":"User","site_admin":false},"created_at":"2018-01-15T08:42:57Z","updated_at":"2018-01-15T08:42:57Z","author_association":"NONE","body":"Hi,\r\nI got the same Problem with Elasticsearch 5.x and centOS. Unfortunately I`m not very familiar to Linux. Which Command do I have to add into jvm.options to get the Service startet?\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/357618727","html_url":"https://github.com/elastic/elasticsearch/issues/22245#issuecomment-357618727","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22245","id":357618727,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzYxODcyNw==","user":{"login":"KeithTt","id":15189954,"node_id":"MDQ6VXNlcjE1MTg5OTU0","avatar_url":"https://avatars0.githubusercontent.com/u/15189954?v=4","gravatar_id":"","url":"https://api.github.com/users/KeithTt","html_url":"https://github.com/KeithTt","followers_url":"https://api.github.com/users/KeithTt/followers","following_url":"https://api.github.com/users/KeithTt/following{/other_user}","gists_url":"https://api.github.com/users/KeithTt/gists{/gist_id}","starred_url":"https://api.github.com/users/KeithTt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KeithTt/subscriptions","organizations_url":"https://api.github.com/users/KeithTt/orgs","repos_url":"https://api.github.com/users/KeithTt/repos","events_url":"https://api.github.com/users/KeithTt/events{/privacy}","received_events_url":"https://api.github.com/users/KeithTt/received_events","type":"User","site_admin":false},"created_at":"2018-01-15T08:53:09Z","updated_at":"2018-01-15T08:53:09Z","author_association":"NONE","body":"There is a file named jvm.options at `/etc/elasticsearch/jvm.options`, just add `-XX:+AssumeMP` to  this file.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/413153605","html_url":"https://github.com/elastic/elasticsearch/issues/22245#issuecomment-413153605","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22245","id":413153605,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMzE1MzYwNQ==","user":{"login":"flyinghawker","id":13193798,"node_id":"MDQ6VXNlcjEzMTkzNzk4","avatar_url":"https://avatars3.githubusercontent.com/u/13193798?v=4","gravatar_id":"","url":"https://api.github.com/users/flyinghawker","html_url":"https://github.com/flyinghawker","followers_url":"https://api.github.com/users/flyinghawker/followers","following_url":"https://api.github.com/users/flyinghawker/following{/other_user}","gists_url":"https://api.github.com/users/flyinghawker/gists{/gist_id}","starred_url":"https://api.github.com/users/flyinghawker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyinghawker/subscriptions","organizations_url":"https://api.github.com/users/flyinghawker/orgs","repos_url":"https://api.github.com/users/flyinghawker/repos","events_url":"https://api.github.com/users/flyinghawker/events{/privacy}","received_events_url":"https://api.github.com/users/flyinghawker/received_events","type":"User","site_admin":false},"created_at":"2018-08-15T10:11:39Z","updated_at":"2018-08-15T10:11:39Z","author_association":"NONE","body":"I encounter same issue again and try to follow the idea @KeithTt \r\nbut not `/etc/elasticsearch/jvm.options`, `elasticsearch-6.3.2/config/jvm.options` instead,\r\nadding `-XX:+AssumeMP`. Error still exsits.\r\n\r\ncentos_7_04_64_20G\r\n\r\nopenjdk version \"1.8.0_181\"\r\nOpenJDK Runtime Environment (build 1.8.0_181-b13)\r\nOpenJDK 64-Bit Server VM (build 25.181-b13, mixed mode)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/413159258","html_url":"https://github.com/elastic/elasticsearch/issues/22245#issuecomment-413159258","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22245","id":413159258,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMzE1OTI1OA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-08-15T10:35:41Z","updated_at":"2018-08-15T10:35:41Z","author_association":"MEMBER","body":"@flyinghawker You want `-XX:-AssumeMP`, not `-XX:+AssumeMP`. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/413164899","html_url":"https://github.com/elastic/elasticsearch/issues/22245#issuecomment-413164899","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22245","id":413164899,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMzE2NDg5OQ==","user":{"login":"flyinghawker","id":13193798,"node_id":"MDQ6VXNlcjEzMTkzNzk4","avatar_url":"https://avatars3.githubusercontent.com/u/13193798?v=4","gravatar_id":"","url":"https://api.github.com/users/flyinghawker","html_url":"https://github.com/flyinghawker","followers_url":"https://api.github.com/users/flyinghawker/followers","following_url":"https://api.github.com/users/flyinghawker/following{/other_user}","gists_url":"https://api.github.com/users/flyinghawker/gists{/gist_id}","starred_url":"https://api.github.com/users/flyinghawker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyinghawker/subscriptions","organizations_url":"https://api.github.com/users/flyinghawker/orgs","repos_url":"https://api.github.com/users/flyinghawker/repos","events_url":"https://api.github.com/users/flyinghawker/events{/privacy}","received_events_url":"https://api.github.com/users/flyinghawker/received_events","type":"User","site_admin":false},"created_at":"2018-08-15T11:03:20Z","updated_at":"2018-08-15T11:03:20Z","author_association":"NONE","body":"@jasontedor Thanks for the tricky detail notice. And setting -Xms?? and -Xmx?? also matters for me because my testing server RAM is only 1G, have to reduce to be lower than the free part of it. Thanks.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/439699911","html_url":"https://github.com/elastic/elasticsearch/issues/22245#issuecomment-439699911","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22245","id":439699911,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTY5OTkxMQ==","user":{"login":"SaiDesabathina","id":38962898,"node_id":"MDQ6VXNlcjM4OTYyODk4","avatar_url":"https://avatars2.githubusercontent.com/u/38962898?v=4","gravatar_id":"","url":"https://api.github.com/users/SaiDesabathina","html_url":"https://github.com/SaiDesabathina","followers_url":"https://api.github.com/users/SaiDesabathina/followers","following_url":"https://api.github.com/users/SaiDesabathina/following{/other_user}","gists_url":"https://api.github.com/users/SaiDesabathina/gists{/gist_id}","starred_url":"https://api.github.com/users/SaiDesabathina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SaiDesabathina/subscriptions","organizations_url":"https://api.github.com/users/SaiDesabathina/orgs","repos_url":"https://api.github.com/users/SaiDesabathina/repos","events_url":"https://api.github.com/users/SaiDesabathina/events{/privacy}","received_events_url":"https://api.github.com/users/SaiDesabathina/received_events","type":"User","site_admin":false},"created_at":"2018-11-18T15:10:21Z","updated_at":"2018-11-18T15:10:21Z","author_association":"NONE","body":"How do I add -XX:+AssumeMP if I am using a Docker.  Where should I search for files","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/439702320","html_url":"https://github.com/elastic/elasticsearch/issues/22245#issuecomment-439702320","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22245","id":439702320,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTcwMjMyMA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-11-18T15:44:50Z","updated_at":"2018-11-18T15:44:50Z","author_association":"MEMBER","body":"@SaiDesabathina I am happy to try to help but first I have some questions:\r\n - Are you using the official Elastic Docker container?\r\n - If so, which version of the container are you using?\r\n - What leads you to believe that you need this flag in your Docker container?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/439711287","html_url":"https://github.com/elastic/elasticsearch/issues/22245#issuecomment-439711287","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22245","id":439711287,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTcxMTI4Nw==","user":{"login":"SaiDesabathina","id":38962898,"node_id":"MDQ6VXNlcjM4OTYyODk4","avatar_url":"https://avatars2.githubusercontent.com/u/38962898?v=4","gravatar_id":"","url":"https://api.github.com/users/SaiDesabathina","html_url":"https://github.com/SaiDesabathina","followers_url":"https://api.github.com/users/SaiDesabathina/followers","following_url":"https://api.github.com/users/SaiDesabathina/following{/other_user}","gists_url":"https://api.github.com/users/SaiDesabathina/gists{/gist_id}","starred_url":"https://api.github.com/users/SaiDesabathina/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SaiDesabathina/subscriptions","organizations_url":"https://api.github.com/users/SaiDesabathina/orgs","repos_url":"https://api.github.com/users/SaiDesabathina/repos","events_url":"https://api.github.com/users/SaiDesabathina/events{/privacy}","received_events_url":"https://api.github.com/users/SaiDesabathina/received_events","type":"User","site_admin":false},"created_at":"2018-11-18T17:44:03Z","updated_at":"2018-11-18T17:44:03Z","author_association":"NONE","body":"@jasontedor  Thanks for coming forward to help. I will explain my problem clearly. It should answer your questions. I downloaded elastic search (6.5.0), kibana (6.5.0) and logstash (6.5.0) images from Elastic website. I was successful in launching elastic search and kibana containers and following this I was trying to link logstash with elastic search. I am doing by following a youtube tutorial. To link logstash and elastic search I ran the following command: \r\n\r\ndocker run -h logstash --name logstash_a --link elasticsearch_1:elasticsearch -it\r\n--rm -v \"SPwD\":/config-dir logstash:6.5.0 -f /config-dir/logstash.config\r\n\r\nThis came up with the following error: \r\n\r\nOpenJDK 64-Bit Server VM warning: If the number of processors is expected to increase from one, then you should configure the number of parallel GC threads appropriately using -XX:ParallelGCThreads=N\r\nOpenJDK 64-Bit Server VM warning: INFO: os::commit_memory(0x00000000c5330000, 986513408, 0) failed; error='Cannot allocate memory' (errno=12)\r\n#\r\n# There is insufficient memory for the Java Runtime Environment to continue.\r\n# Native memory allocation (mmap) failed to map 986513408 bytes for committing reserved memory.\r\n# An error report file with more information is saved as:\r\n# /usr/share/logstash/hs_err_pid1.log\r\n\r\nCould you please help me in launching logstash container and linking it with elastic search. Do you have any tutorial that I can use to learn. \r\n\r\nRegards\r\nSai\r\n\r\n\r\n\r\n\r\n ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/439716303","html_url":"https://github.com/elastic/elasticsearch/issues/22245#issuecomment-439716303","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22245","id":439716303,"node_id":"MDEyOklzc3VlQ29tbWVudDQzOTcxNjMwMw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-11-18T18:56:09Z","updated_at":"2018-11-18T19:07:09Z","author_association":"MEMBER","body":"I still can not tell if you’re using the official Elastic Docker images or not. It appears not, but I would prefer to not assume. Ultimately your problem is not related to `-XX:-AssumeMP`. Your problem is that you have insufficient memory. The JVM is trying to reserve 1 GB of heap and you do not have that available, that is what the log message is telling you. We have [elastic/stack-docker](\r\nhttps://github.com/elastic/stack-docker) for help orchestrating a full Elastic Stack via Docker containers. After you have addressed the fact that you have insufficient memory to start the containers that you’re trying to start, I suggest that you look there for ideas on orchestrating a full Elastic Stack via Docker. Finally, we have gotten off track from what this issue is about: `-XX:-AssumeMP`. I would ask that if you have further questions that you please use the [forums](https://discuss.elastic.co). We reserve GitHub for verified bug reports and feature requests.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/506217266","html_url":"https://github.com/elastic/elasticsearch/issues/22245#issuecomment-506217266","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22245","id":506217266,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNjIxNzI2Ng==","user":{"login":"WilburXu","id":22336121,"node_id":"MDQ6VXNlcjIyMzM2MTIx","avatar_url":"https://avatars0.githubusercontent.com/u/22336121?v=4","gravatar_id":"","url":"https://api.github.com/users/WilburXu","html_url":"https://github.com/WilburXu","followers_url":"https://api.github.com/users/WilburXu/followers","following_url":"https://api.github.com/users/WilburXu/following{/other_user}","gists_url":"https://api.github.com/users/WilburXu/gists{/gist_id}","starred_url":"https://api.github.com/users/WilburXu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WilburXu/subscriptions","organizations_url":"https://api.github.com/users/WilburXu/orgs","repos_url":"https://api.github.com/users/WilburXu/repos","events_url":"https://api.github.com/users/WilburXu/events{/privacy}","received_events_url":"https://api.github.com/users/WilburXu/received_events","type":"User","site_admin":false},"created_at":"2019-06-27T06:53:07Z","updated_at":"2019-06-27T06:53:07Z","author_association":"NONE","body":"> I encounter same issue again and try to follow the idea @KeithTt\r\n> but not `/etc/elasticsearch/jvm.options`, `elasticsearch-6.3.2/config/jvm.options` instead,\r\n> adding `-XX:+AssumeMP`. Error still exsits.\r\n> \r\n> centos_7_04_64_20G\r\n> \r\n> openjdk version \"1.8.0_181\"\r\n> OpenJDK Runtime Environment (build 1.8.0_181-b13)\r\n> OpenJDK 64-Bit Server VM (build 25.181-b13, mixed mode)\r\n\r\nthanks!","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/506218776","html_url":"https://github.com/elastic/elasticsearch/issues/22245#issuecomment-506218776","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22245","id":506218776,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNjIxODc3Ng==","user":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"created_at":"2019-06-27T06:58:40Z","updated_at":"2019-06-27T06:58:40Z","author_association":"CONTRIBUTOR","body":"@WilburXu  You want `-XX:-AssumeMP` which turns off this option, (not `+AssumeMP` which turns it on).","performed_via_github_app":null}]