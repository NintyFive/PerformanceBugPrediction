{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/13686","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13686/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13686/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13686/events","html_url":"https://github.com/elastic/elasticsearch/issues/13686","id":107559073,"node_id":"MDU6SXNzdWUxMDc1NTkwNzM=","number":13686,"title":"RepositoryS3RestIT fails when no network is available","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"labels":[{"id":143077482,"node_id":"MDU6TGFiZWwxNDMwNzc0ODI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Snapshot/Restore","name":":Distributed/Snapshot/Restore","color":"0e8a16","default":false,"description":"Anything directly related to the `_snapshot/*` APIs"},{"id":60445228,"node_id":"MDU6TGFiZWw2MDQ0NTIyOA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest","name":">test","color":"5319e7","default":false,"description":"Issues or PRs that are addressing/adding tests"},{"id":110815527,"node_id":"MDU6TGFiZWwxMTA4MTU1Mjc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/help%20wanted","name":"help wanted","color":"207de5","default":true,"description":"adoptme"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-09-21T17:24:16Z","updated_at":"2018-02-14T13:57:18Z","closed_at":"2017-07-26T10:04:04Z","author_association":"MEMBER","active_lock_reason":null,"body":"```\nSuite: org.elasticsearch.repositories.s3.RepositoryS3RestIT\n  2> REPRODUCE WITH: mvn verify -Pdev -Dskip.unit.tests -pl org.elasticsearch.plugin:repository-s3 -Dtests.seed=1368C600E5FF263C -Dtests.class=org.elasticsearch.repositories.s3.RepositoryS3RestIT -Dtests.method=\"test {yaml=repository_s3/20_repository/S3 repository can be registereed}\" -Des.logger.level=ERROR -Dtests.cluster=localhost:9500 -Dtests.assertion.disabled=false -Dtests.security.manager=true -Dtests.heap.size=512m -Dtests.locale=mt_MT -Dtests.timezone=Australia/Eucla -Dtests.rest.suite=repository_s3\nFAILURE 11.4s | RepositoryS3RestIT.test {yaml=repository_s3/20_repository/S3 repository can be registereed} <<<\n   > Throwable #1: java.lang.AssertionError: expected [2xx] status code but api [snapshot.create_repository] returned [500 Internal Server Error] [{\"error\":{\"root_cause\":[{\"type\":\"repository_exception\",\"reason\":\"[test_repo_s3_1] failed to create repository\"}],\"type\":\"repository_exception\",\"reason\":\"[test_repo_s3_1] failed to create repository\",\"caused_by\":{\"type\":\"creation_exception\",\"reason\":\"Guice creation errors:\\n\\n1) Error injecting constructor, com.amazonaws.AmazonClientException: Unable to execute HTTP request: s3.amazonaws.com\\n  at org.elasticsearch.repositories.s3.S3Repository.<init>(Unknown Source)\\n  while locating org.elasticsearch.repositories.s3.S3Repository\\n  while locating org.elasticsearch.repositories.Repository\\n\\n1 error\",\"caused_by\":{\"type\":\"amazon_client_exception\",\"reason\":\"Unable to execute HTTP request: s3.amazonaws.com\",\"caused_by\":{\"type\":\"unknown_host_exception\",\"reason\":\"s3.amazonaws.com\"}}}},\"status\":500}]\n```\n\nCaused by `{\"type\":\"unknown_host_exception\",\"reason\":\"s3.amazonaws.com\"}`\n","closed_by":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"performed_via_github_app":null}