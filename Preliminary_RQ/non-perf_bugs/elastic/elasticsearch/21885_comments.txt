[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/263887538","html_url":"https://github.com/elastic/elasticsearch/issues/21885#issuecomment-263887538","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21885","id":263887538,"node_id":"MDEyOklzc3VlQ29tbWVudDI2Mzg4NzUzOA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-11-30T14:32:11Z","updated_at":"2016-11-30T14:32:11Z","author_association":"CONTRIBUTOR","body":"@Thermi could you make it simpler for us please, and provide:\r\n\r\n1. a curl command to create the index with the correct mappings\r\n2. a curl command to index the document that you are seeing returned\r\n3. a curl command to run the search that is incorrectly matching this document\r\n\r\nthat way we can see exactly what is going on.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/263933139","html_url":"https://github.com/elastic/elasticsearch/issues/21885#issuecomment-263933139","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21885","id":263933139,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MzkzMzEzOQ==","user":{"login":"Thermi","id":3606849,"node_id":"MDQ6VXNlcjM2MDY4NDk=","avatar_url":"https://avatars2.githubusercontent.com/u/3606849?v=4","gravatar_id":"","url":"https://api.github.com/users/Thermi","html_url":"https://github.com/Thermi","followers_url":"https://api.github.com/users/Thermi/followers","following_url":"https://api.github.com/users/Thermi/following{/other_user}","gists_url":"https://api.github.com/users/Thermi/gists{/gist_id}","starred_url":"https://api.github.com/users/Thermi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Thermi/subscriptions","organizations_url":"https://api.github.com/users/Thermi/orgs","repos_url":"https://api.github.com/users/Thermi/repos","events_url":"https://api.github.com/users/Thermi/events{/privacy}","received_events_url":"https://api.github.com/users/Thermi/received_events","type":"User","site_admin":false},"created_at":"2016-11-30T17:11:22Z","updated_at":"2016-11-30T17:11:22Z","author_association":"NONE","body":"That specific document is gone. We delete old data and indices from this cluster regularly.\r\nAnother document, that should not be matched, is attached.\r\n[search.txt](https://github.com/elastic/elasticsearch/files/622468/search.txt)\r\n[index.txt](https://github.com/elastic/elasticsearch/files/622469/index.txt)\r\n[document.txt](https://github.com/elastic/elasticsearch/files/622472/document.txt)\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/264112264","html_url":"https://github.com/elastic/elasticsearch/issues/21885#issuecomment-264112264","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21885","id":264112264,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NDExMjI2NA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-12-01T08:40:46Z","updated_at":"2016-12-01T08:40:46Z","author_association":"CONTRIBUTOR","body":"Your `Metrics.cpu/node_utilization.value` field is mapped as a `long`:\r\n\r\n            \"cpu/node_utilization\": {\r\n              \"properties\": {\r\n                \"value\": {\r\n                  \"type\": \"long\"\r\n                }\r\n              }\r\n            },\r\n\r\nSo your range query:\r\n\r\n                \"range\": {\r\n                    \"Metrics.cpu/node_utilization.value\": {\r\n                      \"gte\": 0.8,\r\n                      \"lte\": 1\r\n                    }\r\n                  }\r\n\r\nIs being interpreted as a range of 0..1\r\n\r\nYou want to use a float or double for that field","performed_via_github_app":null}]