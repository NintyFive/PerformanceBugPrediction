[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/68045113","html_url":"https://github.com/elastic/elasticsearch/issues/9052#issuecomment-68045113","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9052","id":68045113,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDQ1MTEz","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-12-24T11:02:16Z","updated_at":"2014-12-24T11:02:16Z","author_association":"CONTRIBUTOR","body":"Hi @janmejay \n\nThe problem is that existing fields are mixed up with all the other fields in each segment, so the only way to change the mapping for a field is to reindex the whole index, using the approach described in http://www.elasticsearch.org/blog/changing-mapping-with-zero-downtime/\n\nWhat we'd like to do is to make that process simpler by providing the functionality directly in Elasticsearch (see #492).  \n\n@mikemccand is there anything that could be done with ParallelReader here?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/68047517","html_url":"https://github.com/elastic/elasticsearch/issues/9052#issuecomment-68047517","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9052","id":68047517,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDQ3NTE3","user":{"login":"mikemccand","id":796508,"node_id":"MDQ6VXNlcjc5NjUwOA==","avatar_url":"https://avatars0.githubusercontent.com/u/796508?v=4","gravatar_id":"","url":"https://api.github.com/users/mikemccand","html_url":"https://github.com/mikemccand","followers_url":"https://api.github.com/users/mikemccand/followers","following_url":"https://api.github.com/users/mikemccand/following{/other_user}","gists_url":"https://api.github.com/users/mikemccand/gists{/gist_id}","starred_url":"https://api.github.com/users/mikemccand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikemccand/subscriptions","organizations_url":"https://api.github.com/users/mikemccand/orgs","repos_url":"https://api.github.com/users/mikemccand/repos","events_url":"https://api.github.com/users/mikemccand/events{/privacy}","received_events_url":"https://api.github.com/users/mikemccand/received_events","type":"User","site_admin":false},"created_at":"2014-12-24T11:49:43Z","updated_at":"2014-12-24T11:49:43Z","author_association":"CONTRIBUTOR","body":"While ParallelLeaf/CompositeReader in Lucene can do this, and the newish TestDemoParallelLeafReader shows a fun approach for \"near-real-time reindexing\" letting you add new fields derived from _source or index new values into an existing field or completely change the mapping for an existing field, integrating that into ES would be somewhat challenging, e.g. it'd mean more than one underlying Lucene Directory per shard.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/141685843","html_url":"https://github.com/elastic/elasticsearch/issues/9052#issuecomment-141685843","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9052","id":141685843,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MTY4NTg0Mw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-09-19T16:34:37Z","updated_at":"2015-09-19T16:34:37Z","author_association":"CONTRIBUTOR","body":"We talked through this at length and decided against going down this route.  It gets very complex indeed, especially when dealing with replication.\n\nThe way to do this in elasticsearch is to reindex, which will be made easier once we have the reindex API. https://github.com/elastic/elasticsearch/issues/492\n\nClosing\n","performed_via_github_app":null}]