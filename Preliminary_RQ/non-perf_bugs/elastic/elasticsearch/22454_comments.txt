[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/270751359","html_url":"https://github.com/elastic/elasticsearch/issues/22454#issuecomment-270751359","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22454","id":270751359,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDc1MTM1OQ==","user":{"login":"abeyad","id":1631297,"node_id":"MDQ6VXNlcjE2MzEyOTc=","avatar_url":"https://avatars2.githubusercontent.com/u/1631297?v=4","gravatar_id":"","url":"https://api.github.com/users/abeyad","html_url":"https://github.com/abeyad","followers_url":"https://api.github.com/users/abeyad/followers","following_url":"https://api.github.com/users/abeyad/following{/other_user}","gists_url":"https://api.github.com/users/abeyad/gists{/gist_id}","starred_url":"https://api.github.com/users/abeyad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abeyad/subscriptions","organizations_url":"https://api.github.com/users/abeyad/orgs","repos_url":"https://api.github.com/users/abeyad/repos","events_url":"https://api.github.com/users/abeyad/events{/privacy}","received_events_url":"https://api.github.com/users/abeyad/received_events","type":"User","site_admin":false},"created_at":"2017-01-05T20:40:24Z","updated_at":"2017-01-05T20:40:24Z","author_association":"CONTRIBUTOR","body":"It should be straightforward, the relevant code is in `InternalAwsS3Service` (and the corresponding EC2 plugin code in `AwsEc2ServiceImpl`).  @animageofmine Is this something you might be interested in contributing a pull request to?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/270753270","html_url":"https://github.com/elastic/elasticsearch/issues/22454#issuecomment-270753270","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22454","id":270753270,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDc1MzI3MA==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2017-01-05T20:48:36Z","updated_at":"2017-01-05T20:48:36Z","author_association":"MEMBER","body":"You can as a work around define `cloud.aws.ec2.endpoint` or `cloud.aws.s3.endpoint` to `ec2.ca-central-1.amazonaws.com` and `s3.ca-central-1.amazonaws.com` in the meantime.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/270753688","html_url":"https://github.com/elastic/elasticsearch/issues/22454#issuecomment-270753688","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22454","id":270753688,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDc1MzY4OA==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2017-01-05T20:50:29Z","updated_at":"2017-01-05T20:50:29Z","author_association":"MEMBER","body":"@animageofmine In case you'd like so send a PR, here is a similar one for another region: https://github.com/elastic/elasticsearch/pull/22308\r\n\r\nIf you don't I'll add it in the next days.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/270762344","html_url":"https://github.com/elastic/elasticsearch/issues/22454#issuecomment-270762344","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22454","id":270762344,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDc2MjM0NA==","user":{"login":"animageofmine","id":6426633,"node_id":"MDQ6VXNlcjY0MjY2MzM=","avatar_url":"https://avatars3.githubusercontent.com/u/6426633?v=4","gravatar_id":"","url":"https://api.github.com/users/animageofmine","html_url":"https://github.com/animageofmine","followers_url":"https://api.github.com/users/animageofmine/followers","following_url":"https://api.github.com/users/animageofmine/following{/other_user}","gists_url":"https://api.github.com/users/animageofmine/gists{/gist_id}","starred_url":"https://api.github.com/users/animageofmine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/animageofmine/subscriptions","organizations_url":"https://api.github.com/users/animageofmine/orgs","repos_url":"https://api.github.com/users/animageofmine/repos","events_url":"https://api.github.com/users/animageofmine/events{/privacy}","received_events_url":"https://api.github.com/users/animageofmine/received_events","type":"User","site_admin":false},"created_at":"2017-01-05T21:26:53Z","updated_at":"2017-01-05T21:29:08Z","author_association":"CONTRIBUTOR","body":"@abeyad @dadoonet I can send a PR. I haven't contributed or sent a PR before, let me know if there is a guideline or documentation for the same. \r\n\r\nI am following this documentation for now: http://hisham.hm/2016/01/01/how-to-make-a-pull-request-on-github-a-quick-tutorial/","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/270764102","html_url":"https://github.com/elastic/elasticsearch/issues/22454#issuecomment-270764102","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22454","id":270764102,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDc2NDEwMg==","user":{"login":"abeyad","id":1631297,"node_id":"MDQ6VXNlcjE2MzEyOTc=","avatar_url":"https://avatars2.githubusercontent.com/u/1631297?v=4","gravatar_id":"","url":"https://api.github.com/users/abeyad","html_url":"https://github.com/abeyad","followers_url":"https://api.github.com/users/abeyad/followers","following_url":"https://api.github.com/users/abeyad/following{/other_user}","gists_url":"https://api.github.com/users/abeyad/gists{/gist_id}","starred_url":"https://api.github.com/users/abeyad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abeyad/subscriptions","organizations_url":"https://api.github.com/users/abeyad/orgs","repos_url":"https://api.github.com/users/abeyad/repos","events_url":"https://api.github.com/users/abeyad/events{/privacy}","received_events_url":"https://api.github.com/users/abeyad/received_events","type":"User","site_admin":false},"created_at":"2017-01-05T21:34:25Z","updated_at":"2017-01-05T21:34:25Z","author_association":"CONTRIBUTOR","body":"@animageofmine we'll be happy to help, that looks like a good guide.  Once you have issued the PR, you will need to sign the contributor's agreement, which is straightforward.  Thanks for contributing!","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/270781234","html_url":"https://github.com/elastic/elasticsearch/issues/22454#issuecomment-270781234","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22454","id":270781234,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDc4MTIzNA==","user":{"login":"nsaiisasidhar","id":22509968,"node_id":"MDQ6VXNlcjIyNTA5OTY4","avatar_url":"https://avatars2.githubusercontent.com/u/22509968?v=4","gravatar_id":"","url":"https://api.github.com/users/nsaiisasidhar","html_url":"https://github.com/nsaiisasidhar","followers_url":"https://api.github.com/users/nsaiisasidhar/followers","following_url":"https://api.github.com/users/nsaiisasidhar/following{/other_user}","gists_url":"https://api.github.com/users/nsaiisasidhar/gists{/gist_id}","starred_url":"https://api.github.com/users/nsaiisasidhar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsaiisasidhar/subscriptions","organizations_url":"https://api.github.com/users/nsaiisasidhar/orgs","repos_url":"https://api.github.com/users/nsaiisasidhar/repos","events_url":"https://api.github.com/users/nsaiisasidhar/events{/privacy}","received_events_url":"https://api.github.com/users/nsaiisasidhar/received_events","type":"User","site_admin":false},"created_at":"2017-01-05T22:51:58Z","updated_at":"2017-01-05T22:51:58Z","author_association":"NONE","body":"Hi, I am new contributor to this project, made PR for the issue above. Please review it. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/270790669","html_url":"https://github.com/elastic/elasticsearch/issues/22454#issuecomment-270790669","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22454","id":270790669,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDc5MDY2OQ==","user":{"login":"animageofmine","id":6426633,"node_id":"MDQ6VXNlcjY0MjY2MzM=","avatar_url":"https://avatars3.githubusercontent.com/u/6426633?v=4","gravatar_id":"","url":"https://api.github.com/users/animageofmine","html_url":"https://github.com/animageofmine","followers_url":"https://api.github.com/users/animageofmine/followers","following_url":"https://api.github.com/users/animageofmine/following{/other_user}","gists_url":"https://api.github.com/users/animageofmine/gists{/gist_id}","starred_url":"https://api.github.com/users/animageofmine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/animageofmine/subscriptions","organizations_url":"https://api.github.com/users/animageofmine/orgs","repos_url":"https://api.github.com/users/animageofmine/repos","events_url":"https://api.github.com/users/animageofmine/events{/privacy}","received_events_url":"https://api.github.com/users/animageofmine/received_events","type":"User","site_admin":false},"created_at":"2017-01-05T23:41:51Z","updated_at":"2017-01-05T23:41:51Z","author_association":"CONTRIBUTOR","body":"@abeyad Thank you. I have the change ready and waiting for approval from management. Should be out in a bit. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/270800478","html_url":"https://github.com/elastic/elasticsearch/issues/22454#issuecomment-270800478","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22454","id":270800478,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDgwMDQ3OA==","user":{"login":"animageofmine","id":6426633,"node_id":"MDQ6VXNlcjY0MjY2MzM=","avatar_url":"https://avatars3.githubusercontent.com/u/6426633?v=4","gravatar_id":"","url":"https://api.github.com/users/animageofmine","html_url":"https://github.com/animageofmine","followers_url":"https://api.github.com/users/animageofmine/followers","following_url":"https://api.github.com/users/animageofmine/following{/other_user}","gists_url":"https://api.github.com/users/animageofmine/gists{/gist_id}","starred_url":"https://api.github.com/users/animageofmine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/animageofmine/subscriptions","organizations_url":"https://api.github.com/users/animageofmine/orgs","repos_url":"https://api.github.com/users/animageofmine/repos","events_url":"https://api.github.com/users/animageofmine/events{/privacy}","received_events_url":"https://api.github.com/users/animageofmine/received_events","type":"User","site_admin":false},"created_at":"2017-01-06T00:43:34Z","updated_at":"2017-01-06T00:43:34Z","author_association":"CONTRIBUTOR","body":"@abeyad Quick question. I didn't find any tests related to this particular class. I was wondering if there is a way to test this plugin from local box. Also, let me know if this does not require explicit testing on local box. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/270850678","html_url":"https://github.com/elastic/elasticsearch/issues/22454#issuecomment-270850678","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22454","id":270850678,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDg1MDY3OA==","user":{"login":"animageofmine","id":6426633,"node_id":"MDQ6VXNlcjY0MjY2MzM=","avatar_url":"https://avatars3.githubusercontent.com/u/6426633?v=4","gravatar_id":"","url":"https://api.github.com/users/animageofmine","html_url":"https://github.com/animageofmine","followers_url":"https://api.github.com/users/animageofmine/followers","following_url":"https://api.github.com/users/animageofmine/following{/other_user}","gists_url":"https://api.github.com/users/animageofmine/gists{/gist_id}","starred_url":"https://api.github.com/users/animageofmine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/animageofmine/subscriptions","organizations_url":"https://api.github.com/users/animageofmine/orgs","repos_url":"https://api.github.com/users/animageofmine/repos","events_url":"https://api.github.com/users/animageofmine/events{/privacy}","received_events_url":"https://api.github.com/users/animageofmine/received_events","type":"User","site_admin":false},"created_at":"2017-01-06T07:52:34Z","updated_at":"2017-01-06T07:52:34Z","author_association":"CONTRIBUTOR","body":"@dadoonet \r\n\r\nStupid question for the workaround.\r\n\r\n> You can as a work around define cloud.aws.ec2.endpoint or cloud.aws.s3.endpoint to ec2.ca-central-1.amazonaws.com and s3.ca-central-1.amazonaws.com in the meantime.\r\n\r\nHow can you define cloud.aws.s3.endpoint to s3.ca-central-1.amazonaws.com? Is there a configuration somewhere? Would something like this work?\r\n\r\n```\r\nPUT _snapshot/my_s3_repository\r\n{\r\n  \"type\": \"s3\",\r\n  \"settings\": {\r\n    \"access_key\" : \"my_access_key\",\r\n    \"secret_key\" : \"my_secret_key\",\r\n    \"bucket\": \"my_bucket_name\",\r\n    \"region\": \"ca-central-1\",\r\n    \"base_path\": \"my_base_path\",\r\n    \"endpoint\": \"s3.ca-central-1.amazonaws.com\"\r\n  }\r\n}\r\n```\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/270850888","html_url":"https://github.com/elastic/elasticsearch/issues/22454#issuecomment-270850888","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22454","id":270850888,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDg1MDg4OA==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2017-01-06T07:54:20Z","updated_at":"2017-01-06T07:54:20Z","author_association":"MEMBER","body":"Just remove region.\r\n\r\n```\r\nPUT _snapshot/my_s3_repository\r\n{\r\n  \"type\": \"s3\",\r\n  \"settings\": {\r\n    \"access_key\" : \"my_access_key\",\r\n    \"secret_key\" : \"my_secret_key\",\r\n    \"bucket\": \"my_bucket_name\",\r\n    \"base_path\": \"my_base_path\",\r\n    \"endpoint\": \"s3.ca-central-1.amazonaws.com\"\r\n  }\r\n}\r\n```\r\n\r\nOr you can set in `elasticsearch.yml`:\r\n\r\n```yml\r\ncloud.aws.s3.endpoint: s3.ca-central-1.amazonaws.com\r\n```\r\n\r\nAnd then:\r\n\r\n```\r\nPUT _snapshot/my_s3_repository\r\n{\r\n  \"type\": \"s3\",\r\n  \"settings\": {\r\n    \"access_key\" : \"my_access_key\",\r\n    \"secret_key\" : \"my_secret_key\",\r\n    \"bucket\": \"my_bucket_name\",\r\n    \"base_path\": \"my_base_path\"\r\n  }\r\n}\r\n```\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/270851514","html_url":"https://github.com/elastic/elasticsearch/issues/22454#issuecomment-270851514","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22454","id":270851514,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDg1MTUxNA==","user":{"login":"animageofmine","id":6426633,"node_id":"MDQ6VXNlcjY0MjY2MzM=","avatar_url":"https://avatars3.githubusercontent.com/u/6426633?v=4","gravatar_id":"","url":"https://api.github.com/users/animageofmine","html_url":"https://github.com/animageofmine","followers_url":"https://api.github.com/users/animageofmine/followers","following_url":"https://api.github.com/users/animageofmine/following{/other_user}","gists_url":"https://api.github.com/users/animageofmine/gists{/gist_id}","starred_url":"https://api.github.com/users/animageofmine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/animageofmine/subscriptions","organizations_url":"https://api.github.com/users/animageofmine/orgs","repos_url":"https://api.github.com/users/animageofmine/repos","events_url":"https://api.github.com/users/animageofmine/events{/privacy}","received_events_url":"https://api.github.com/users/animageofmine/received_events","type":"User","site_admin":false},"created_at":"2017-01-06T07:59:00Z","updated_at":"2017-01-06T08:35:15Z","author_association":"CONTRIBUTOR","body":"got it! I prefer 1st approach since we have multiple dockerized clusters in different regions using the same .yml\r\n\r\nThanks so much, really appreciate your quick response and help!\r\n\r\nUPDATE: Confirmed, that the workaround works as expected. ","performed_via_github_app":null}]