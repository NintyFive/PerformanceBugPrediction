{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/31138","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31138/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31138/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31138/events","html_url":"https://github.com/elastic/elasticsearch/issues/31138","id":329859225,"node_id":"MDU6SXNzdWUzMjk4NTkyMjU=","number":31138,"title":"Rest Client: ElasticsearchHostsSniffer not only remains data nodes as TransportClient","user":{"login":"zhaojianyong","id":5056449,"node_id":"MDQ6VXNlcjUwNTY0NDk=","avatar_url":"https://avatars1.githubusercontent.com/u/5056449?v=4","gravatar_id":"","url":"https://api.github.com/users/zhaojianyong","html_url":"https://github.com/zhaojianyong","followers_url":"https://api.github.com/users/zhaojianyong/followers","following_url":"https://api.github.com/users/zhaojianyong/following{/other_user}","gists_url":"https://api.github.com/users/zhaojianyong/gists{/gist_id}","starred_url":"https://api.github.com/users/zhaojianyong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhaojianyong/subscriptions","organizations_url":"https://api.github.com/users/zhaojianyong/orgs","repos_url":"https://api.github.com/users/zhaojianyong/repos","events_url":"https://api.github.com/users/zhaojianyong/events{/privacy}","received_events_url":"https://api.github.com/users/zhaojianyong/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-06-06T13:06:16Z","updated_at":"2018-06-06T13:16:01Z","closed_at":"2018-06-06T13:16:01Z","author_association":"NONE","active_lock_reason":null,"body":"https://www.elastic.co/guide/en/elasticsearch/client/java-api/current/transport-client.html\r\nKeep in mind that the list might possibly not include the original node it connected to if that node is not a data node. If, for instance, you initially connect to a master node, after sniffing, no further requests will go to that master node, but rather to any data nodes instead. The reason the transport client excludes non-data nodes is to avoid sending search traffic to master only nodes.\r\n\r\nBut it seems that ElasticsearchHostsSniffer of Rest Client does no filter and returns all nodes. \r\nWhy is the action of sniffer in Rest Client different from Transport Client?\r\n","closed_by":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"performed_via_github_app":null}