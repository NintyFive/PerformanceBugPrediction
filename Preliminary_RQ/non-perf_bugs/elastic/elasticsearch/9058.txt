{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/9058","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9058/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9058/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9058/events","html_url":"https://github.com/elastic/elasticsearch/issues/9058","id":52814141,"node_id":"MDU6SXNzdWU1MjgxNDE0MQ==","number":9058,"title":"Deprecate the `path` option in the `_timestamp` field","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"assignees":[{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2014-12-24T11:37:30Z","updated_at":"2015-06-23T18:21:39Z","closed_at":"2015-06-23T18:21:39Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"This was suggested in https://github.com/elasticsearch/elasticsearch/issues/6730#issuecomment-68040526 but it feels like a separate discussion, so I've opened this issue.\n\nRemoving the `path` parameter from `_routing` and `_id` has real benefits: we don't have to parse the body of the document on the coordinating node just to figure out which node should handle an indexing request.  However, the `_timestamp` field doesn't have the same issue.\n\nCurrently the `_timestamp` field has two uses:\n- its value can be auto-generated\n- it is used with the `_ttl` functionality\n\nIf you're not using `_ttl` then it makes no sense extracting the `_timestamp` from a field in your document.  Just query the field directly instead of making a redundant copy of it.\n\nFor auto-generated timestamps, I think you probably always want them to be auto-generated, or you always want to provide them yourself.  So having logic to extract the timestamp from a field, and auto-generate a value if one isn't provided feels pretty much redundant.\n\nThe options are:\n1. Remove the `path` option from `_timestamp`\n\nThe `_timestamp` field will primarily be used with auto-generated timestamps.  If the user wants to use the `_ttl` feature with a predefined timestamp, then they should specify that value manually at index/update time, with `?timestamp=...`\n1. Add a `path` option to the `_ttl`\n\nThe `_ttl` will use the auto-generated `_timestamp` field by default, but can access a field within the document body instead (and fall back to an auto-generated value if none is specified).  This option rather complicates things: what if the user uses the `_timestamp` field AND a `_ttl.path`?\n1. Leave things as they are\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}