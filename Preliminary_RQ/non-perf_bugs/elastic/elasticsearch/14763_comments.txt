[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/156721550","html_url":"https://github.com/elastic/elasticsearch/issues/14763#issuecomment-156721550","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14763","id":156721550,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NjcyMTU1MA==","user":{"login":"johnarnold","id":1329084,"node_id":"MDQ6VXNlcjEzMjkwODQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1329084?v=4","gravatar_id":"","url":"https://api.github.com/users/johnarnold","html_url":"https://github.com/johnarnold","followers_url":"https://api.github.com/users/johnarnold/followers","following_url":"https://api.github.com/users/johnarnold/following{/other_user}","gists_url":"https://api.github.com/users/johnarnold/gists{/gist_id}","starred_url":"https://api.github.com/users/johnarnold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnarnold/subscriptions","organizations_url":"https://api.github.com/users/johnarnold/orgs","repos_url":"https://api.github.com/users/johnarnold/repos","events_url":"https://api.github.com/users/johnarnold/events{/privacy}","received_events_url":"https://api.github.com/users/johnarnold/received_events","type":"User","site_admin":false},"created_at":"2015-11-14T17:23:45Z","updated_at":"2015-11-14T17:23:45Z","author_association":"NONE","body":"I found root cause -- the CONF_FILE references were in /usr/lib/systemd/system/elasticsearch.service  (and thus why they didn't show up when searching /etc)\n\nWhen upgrading from beta2 to GA, the elasticsearch.service file did not get overwritten, instead a secondary file was created:   elasticsearch.service.dpkg-dist\n\ncopying this over elasticsearch.service file allows the service to start.\n\nI used ansible apt module to install 2.0 package -- is there an apt option to force the files to the right places?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/156723834","html_url":"https://github.com/elastic/elasticsearch/issues/14763#issuecomment-156723834","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14763","id":156723834,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NjcyMzgzNA==","user":{"login":"johnarnold","id":1329084,"node_id":"MDQ6VXNlcjEzMjkwODQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1329084?v=4","gravatar_id":"","url":"https://api.github.com/users/johnarnold","html_url":"https://github.com/johnarnold","followers_url":"https://api.github.com/users/johnarnold/followers","following_url":"https://api.github.com/users/johnarnold/following{/other_user}","gists_url":"https://api.github.com/users/johnarnold/gists{/gist_id}","starred_url":"https://api.github.com/users/johnarnold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnarnold/subscriptions","organizations_url":"https://api.github.com/users/johnarnold/orgs","repos_url":"https://api.github.com/users/johnarnold/repos","events_url":"https://api.github.com/users/johnarnold/events{/privacy}","received_events_url":"https://api.github.com/users/johnarnold/received_events","type":"User","site_admin":false},"created_at":"2015-11-14T17:41:43Z","updated_at":"2015-11-14T17:41:43Z","author_association":"NONE","body":"Also, confirmed that removing the -old- /usr/lib/system/system/elasticsearch.service and leaving the new elasticsearch.service.dpkg-dist in place works too.  So probably the pre-inst script for the debian packaging should remove the old elasticsearch.service file if it exists.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/157132804","html_url":"https://github.com/elastic/elasticsearch/issues/14763#issuecomment-157132804","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14763","id":157132804,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NzEzMjgwNA==","user":{"login":"johnarnold","id":1329084,"node_id":"MDQ6VXNlcjEzMjkwODQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1329084?v=4","gravatar_id":"","url":"https://api.github.com/users/johnarnold","html_url":"https://github.com/johnarnold","followers_url":"https://api.github.com/users/johnarnold/followers","following_url":"https://api.github.com/users/johnarnold/following{/other_user}","gists_url":"https://api.github.com/users/johnarnold/gists{/gist_id}","starred_url":"https://api.github.com/users/johnarnold/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnarnold/subscriptions","organizations_url":"https://api.github.com/users/johnarnold/orgs","repos_url":"https://api.github.com/users/johnarnold/repos","events_url":"https://api.github.com/users/johnarnold/events{/privacy}","received_events_url":"https://api.github.com/users/johnarnold/received_events","type":"User","site_admin":false},"created_at":"2015-11-16T18:47:34Z","updated_at":"2015-11-16T18:47:34Z","author_association":"NONE","body":"I also discovered that with \"interactive\" install, apt package manager prompts to overwrite the .service file -- it's just on non-interactive that it defaults to creating a new one which is not used.  E.g. via Ansible apt module.  I think defaulting to overwrite the .service file may be a better option for most users.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/183923858","html_url":"https://github.com/elastic/elasticsearch/issues/14763#issuecomment-183923858","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14763","id":183923858,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MzkyMzg1OA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-02-14T16:59:05Z","updated_at":"2016-02-14T16:59:05Z","author_association":"CONTRIBUTOR","body":"I don't think we should overwrite a file that has been edited, but the real problem is that, today, we require you to edit the `elasticsearch.service` file to uncomment `LimitMEMLOCK`.  Instead we should change the docs to recommend using a custom config file as suggested here: https://github.com/elastic/elasticsearch/issues/9357#issuecomment-172880212\n\nClosing in favour of #9357\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/267691873","html_url":"https://github.com/elastic/elasticsearch/issues/14763#issuecomment-267691873","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14763","id":267691873,"node_id":"MDEyOklzc3VlQ29tbWVudDI2NzY5MTg3Mw==","user":{"login":"PhaedrusTheGreek","id":4387023,"node_id":"MDQ6VXNlcjQzODcwMjM=","avatar_url":"https://avatars0.githubusercontent.com/u/4387023?v=4","gravatar_id":"","url":"https://api.github.com/users/PhaedrusTheGreek","html_url":"https://github.com/PhaedrusTheGreek","followers_url":"https://api.github.com/users/PhaedrusTheGreek/followers","following_url":"https://api.github.com/users/PhaedrusTheGreek/following{/other_user}","gists_url":"https://api.github.com/users/PhaedrusTheGreek/gists{/gist_id}","starred_url":"https://api.github.com/users/PhaedrusTheGreek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PhaedrusTheGreek/subscriptions","organizations_url":"https://api.github.com/users/PhaedrusTheGreek/orgs","repos_url":"https://api.github.com/users/PhaedrusTheGreek/repos","events_url":"https://api.github.com/users/PhaedrusTheGreek/events{/privacy}","received_events_url":"https://api.github.com/users/PhaedrusTheGreek/received_events","type":"User","site_admin":false},"created_at":"2016-12-16T20:46:06Z","updated_at":"2016-12-16T20:46:06Z","author_association":"CONTRIBUTOR","body":"As redundant as it might be to say - It's worth noting that it's the ` --default.config` flag that causes this on the CLI.  e.g.:\r\n\r\n```\r\n$ bin/elasticsearch --default.config=/etc/elasticsearch.yml\r\n[2016-12-16 15:42:37,143][INFO ][bootstrap                ] es.default.config is no longer supported. elasticsearch.yml must be placed in the config directory and cannot be renamed.\r\n```","performed_via_github_app":null}]