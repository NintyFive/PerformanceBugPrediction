[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/225503404","html_url":"https://github.com/elastic/elasticsearch/issues/18829#issuecomment-225503404","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18829","id":225503404,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTUwMzQwNA==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-06-13T07:04:37Z","updated_at":"2016-06-13T07:04:37Z","author_association":"CONTRIBUTOR","body":"+1 on adding a soft limit to discourage having too many terms in terms queries. However I don't think we should let the query execute with a partial list of terms in that case, we should fail the entire request.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/225588745","html_url":"https://github.com/elastic/elasticsearch/issues/18829#issuecomment-225588745","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18829","id":225588745,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTU4ODc0NQ==","user":{"login":"jonaf","id":456794,"node_id":"MDQ6VXNlcjQ1Njc5NA==","avatar_url":"https://avatars3.githubusercontent.com/u/456794?v=4","gravatar_id":"","url":"https://api.github.com/users/jonaf","html_url":"https://github.com/jonaf","followers_url":"https://api.github.com/users/jonaf/followers","following_url":"https://api.github.com/users/jonaf/following{/other_user}","gists_url":"https://api.github.com/users/jonaf/gists{/gist_id}","starred_url":"https://api.github.com/users/jonaf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonaf/subscriptions","organizations_url":"https://api.github.com/users/jonaf/orgs","repos_url":"https://api.github.com/users/jonaf/repos","events_url":"https://api.github.com/users/jonaf/events{/privacy}","received_events_url":"https://api.github.com/users/jonaf/received_events","type":"User","site_admin":false},"created_at":"2016-06-13T13:58:46Z","updated_at":"2016-06-13T13:58:46Z","author_association":"NONE","body":"Sorry, by \"short-circuiting,\" I meant abandoning the entire query, not truncating the list of terms.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/225595314","html_url":"https://github.com/elastic/elasticsearch/issues/18829#issuecomment-225595314","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18829","id":225595314,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTU5NTMxNA==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-06-13T14:20:49Z","updated_at":"2016-06-13T14:20:49Z","author_association":"CONTRIBUTOR","body":"Cool, thanks for clarifying. +1 then!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/225595752","html_url":"https://github.com/elastic/elasticsearch/issues/18829#issuecomment-225595752","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18829","id":225595752,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTU5NTc1Mg==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-06-13T14:22:26Z","updated_at":"2016-06-13T14:22:26Z","author_association":"CONTRIBUTOR","body":"@jonaf In case you would like to work on a PR that fixes this issue, feel free to ping me for review.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/225682833","html_url":"https://github.com/elastic/elasticsearch/issues/18829#issuecomment-225682833","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18829","id":225682833,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNTY4MjgzMw==","user":{"login":"hluu","id":533460,"node_id":"MDQ6VXNlcjUzMzQ2MA==","avatar_url":"https://avatars3.githubusercontent.com/u/533460?v=4","gravatar_id":"","url":"https://api.github.com/users/hluu","html_url":"https://github.com/hluu","followers_url":"https://api.github.com/users/hluu/followers","following_url":"https://api.github.com/users/hluu/following{/other_user}","gists_url":"https://api.github.com/users/hluu/gists{/gist_id}","starred_url":"https://api.github.com/users/hluu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hluu/subscriptions","organizations_url":"https://api.github.com/users/hluu/orgs","repos_url":"https://api.github.com/users/hluu/repos","events_url":"https://api.github.com/users/hluu/events{/privacy}","received_events_url":"https://api.github.com/users/hluu/received_events","type":"User","site_admin":false},"created_at":"2016-06-13T19:28:14Z","updated_at":"2016-06-13T19:28:14Z","author_association":"NONE","body":"+1\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/226262511","html_url":"https://github.com/elastic/elasticsearch/issues/18829#issuecomment-226262511","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18829","id":226262511,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNjI2MjUxMQ==","user":{"login":"jonaf","id":456794,"node_id":"MDQ6VXNlcjQ1Njc5NA==","avatar_url":"https://avatars3.githubusercontent.com/u/456794?v=4","gravatar_id":"","url":"https://api.github.com/users/jonaf","html_url":"https://github.com/jonaf","followers_url":"https://api.github.com/users/jonaf/followers","following_url":"https://api.github.com/users/jonaf/following{/other_user}","gists_url":"https://api.github.com/users/jonaf/gists{/gist_id}","starred_url":"https://api.github.com/users/jonaf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonaf/subscriptions","organizations_url":"https://api.github.com/users/jonaf/orgs","repos_url":"https://api.github.com/users/jonaf/repos","events_url":"https://api.github.com/users/jonaf/events{/privacy}","received_events_url":"https://api.github.com/users/jonaf/received_events","type":"User","site_admin":false},"created_at":"2016-06-15T17:38:40Z","updated_at":"2016-06-15T17:39:10Z","author_association":"NONE","body":"@jpountz Happy to. I just had to get authorization to sign the CLA. Should this contribution be destined for master only, or 2.x as well? (Based on reading contribution guidelines, it looks like I need to open a separate PR for each branch and reference this issue from the PR's?)\n\nEdit: just noticed the #11511 is tagged for v5, so I'll just make these changes from master.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/226327321","html_url":"https://github.com/elastic/elasticsearch/issues/18829#issuecomment-226327321","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18829","id":226327321,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNjMyNzMyMQ==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-06-15T21:35:17Z","updated_at":"2016-06-15T21:35:17Z","author_association":"CONTRIBUTOR","body":"@jonaf Awesome! In general we build PRs for master first and only consider backporting when the change is ready for master.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/286031293","html_url":"https://github.com/elastic/elasticsearch/issues/18829#issuecomment-286031293","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18829","id":286031293,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NjAzMTI5Mw==","user":{"login":"toniov","id":2839810,"node_id":"MDQ6VXNlcjI4Mzk4MTA=","avatar_url":"https://avatars2.githubusercontent.com/u/2839810?v=4","gravatar_id":"","url":"https://api.github.com/users/toniov","html_url":"https://github.com/toniov","followers_url":"https://api.github.com/users/toniov/followers","following_url":"https://api.github.com/users/toniov/following{/other_user}","gists_url":"https://api.github.com/users/toniov/gists{/gist_id}","starred_url":"https://api.github.com/users/toniov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/toniov/subscriptions","organizations_url":"https://api.github.com/users/toniov/orgs","repos_url":"https://api.github.com/users/toniov/repos","events_url":"https://api.github.com/users/toniov/events{/privacy}","received_events_url":"https://api.github.com/users/toniov/received_events","type":"User","site_admin":false},"created_at":"2017-03-13T07:16:06Z","updated_at":"2017-03-13T07:16:06Z","author_association":"NONE","body":">  In general, TermsQuery performance degrades quickly as more terms are added, and once you get into hundreds (or thousands), you can pretty much forget it.\r\n\r\nWould this be applied in case of a Terms Query using the [lookup](https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-terms-query.html#query-dsl-terms-lookup) mechanism as well?\r\n\r\nIn the above link it says:\r\n> When it’s needed to specify a terms filter with a lot of terms it can be beneficial to fetch those term values from a document in an index.\r\n\r\nBut not sure how much is that `a lot`.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/354432216","html_url":"https://github.com/elastic/elasticsearch/issues/18829#issuecomment-354432216","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18829","id":354432216,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDQzMjIxNg==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2017-12-29T11:07:48Z","updated_at":"2017-12-29T11:07:48Z","author_association":"CONTRIBUTOR","body":"> Would this be applied in case of a Terms Query using the lookup mechanism as well?\r\n\r\nYes, the `terms` lookup mechanism even adds an additional phase since the terms need to be fetched from the index while in the regular case they are provided in the query.\r\n\r\n> But not sure how much is that a lot.\r\n\r\nThe terms lookup mechanism allows you to make your requests smaller at the expense of more processing on the server side. So the trade-off will depend on how many terms you have vs. how slow the connection is between your client and the Elasticsearch cluster that you are querying. I suspect the terms lookup rarely buys much.","performed_via_github_app":null}]