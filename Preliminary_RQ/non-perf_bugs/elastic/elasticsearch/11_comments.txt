[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/135273","html_url":"https://github.com/elastic/elasticsearch/issues/11#issuecomment-135273","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11","id":135273,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNTI3Mw==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2010-02-15T08:15:38Z","updated_at":"2010-02-15T08:15:38Z","author_association":"MEMBER","body":"There is a bug in the docs (which I just fixed), the url for it should be http://localhost:9200/twitter/tweet/_mapping. Here is the example:\n\n```\ncurl -XPUT http://localhost:9200/twitter/tweet/_mapping -d '\n{\n    tweet : {\n        properties : {\n            message : {type : \"string\", store : \"yes\"}\n        }\n    }\n}\n'\n```\n\n> I tried creating the index first, but same thing.\n\nYou first need to create the index explicitly to add mappings. I will add another issue so the index will be created automatically in this case.\n\n> Also, the JSON format for specifying the mapping type to use when indexing a document is ambiguous\n\nNot sure that I understand why its ambiguous? The indexable content can have the type as the first level JSON field, but its optional (since the type already exists in the url and I can derive it from that).\n\n> And one thing i'm not sure about? Is a mapping the same thing as a type? So you would never have type 'foo' and mapping 'bar'?\n\nMappings are basically meta data on how to map the indexable JSON content of a type into the search engine. You can have more than one type, and each type can optionally have mapping defined for it.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/135277","html_url":"https://github.com/elastic/elasticsearch/issues/11#issuecomment-135277","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11","id":135277,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNTI3Nw==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2010-02-15T08:24:40Z","updated_at":"2010-02-15T08:24:40Z","author_association":"MEMBER","body":"Create mapping now will automatically create the indices by default, see #12.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/135326","html_url":"https://github.com/elastic/elasticsearch/issues/11#issuecomment-135326","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11","id":135326,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNTMyNg==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2010-02-15T10:26:02Z","updated_at":"2010-02-15T10:26:02Z","author_association":"CONTRIBUTOR","body":"OK, so there is one mapping per index+type.  Gotcha.\n\nThe reason that including the mapping name in the JSON is ambiguous is because of object type mappings.  Without a predefined mapping, you don't know if the top level 'tweet' key is a mapping name, or the first key in the object being stored.\n\nSo either you have to always specify the mapping, so the second case would look like:\n\n```\ncurl -XPUT http://localhost:9200/twitter/tweet/1 -d \\\n'\n{\n    tweet : {\n        tweet : {\n            user : \"kimchy\",\n            postDate : \"2009-11-15T14:12:12\",\n            message : \"trying out Elastic Search\"\n        }\n    }\n}\n'\n```\n\nor never specify the mapping in the JSON, and just use the 'type' from the URL as the mapping name (which would be my preference)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/135349","html_url":"https://github.com/elastic/elasticsearch/issues/11#issuecomment-135349","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11","id":135349,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNTM0OQ==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2010-02-15T11:30:10Z","updated_at":"2010-02-15T11:30:10Z","author_association":"MEMBER","body":"Yes, you are correct about the possible problem there. The reason I added the support for that is to simplify working json converters in different languages, which usually add the \"type\" as the outermost JSON object. Do you think it was a mistake?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/135351","html_url":"https://github.com/elastic/elasticsearch/issues/11#issuecomment-135351","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11","id":135351,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNTM1MQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2010-02-15T11:36:04Z","updated_at":"2010-02-15T11:36:04Z","author_association":"CONTRIBUTOR","body":"I think that having it as either-or is a mistake, yes.  \n\nNot sure which is the better interface though. My feeling (having just written a Perl interface to ElasticSearch) is that you have to generate the URL and the JSON anyway, and it looks more consistent to me to specify the type in the URL, and the data in the JSON.\n\nBut as I say, it makes little difference to me which version you settle on.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/135354","html_url":"https://github.com/elastic/elasticsearch/issues/11#issuecomment-135354","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11","id":135354,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNTM1NA==","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2010-02-15T11:41:58Z","updated_at":"2010-02-15T11:41:58Z","author_association":"MEMBER","body":"Let me think about it a bit more. The only case where it will break is if the case you noted,  (JSON object with the type name, and another JSON _object_ with the same type name) and I am not sure if people will ever generate a JSON like that. I like the ability to try and support both...\n","performed_via_github_app":null}]