[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/460613351","html_url":"https://github.com/elastic/elasticsearch/issues/38406#issuecomment-460613351","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38406","id":460613351,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MDYxMzM1MQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-02-05T12:02:39Z","updated_at":"2019-02-05T12:02:39Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/460720418","html_url":"https://github.com/elastic/elasticsearch/issues/38406#issuecomment-460720418","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38406","id":460720418,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MDcyMDQxOA==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2019-02-05T17:08:18Z","updated_at":"2019-02-05T17:09:42Z","author_association":"CONTRIBUTOR","body":"This is a general problem with this kind of `AffixSetting` which only allows characters matching `[-\\w]` in the key, and that doesn't include colons.\r\n\r\nhttps://github.com/elastic/elasticsearch/blob/9602d794c62ea526ef2ab5f610e746763d78bdd1/server/src/main/java/org/elasticsearch/common/settings/Setting.java#L1573\r\n\r\nFor instance, this setting also doesn't work:\r\n\r\n    node.attr.has:colon: foo\r\n\r\nFixing this doesn't look too hard, but given that colons are meaningful in many places perhaps it would be better to keep this as-is. Marking this for further discussion.\r\n\r\nEdit: if we do decide to keep it as-is then we should document this restriction.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/460720491","html_url":"https://github.com/elastic/elasticsearch/issues/38406#issuecomment-460720491","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38406","id":460720491,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MDcyMDQ5MQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-02-05T17:08:30Z","updated_at":"2019-02-05T17:08:30Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/461068646","html_url":"https://github.com/elastic/elasticsearch/issues/38406#issuecomment-461068646","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38406","id":461068646,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MTA2ODY0Ng==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2019-02-06T15:38:23Z","updated_at":"2019-02-06T15:38:23Z","author_association":"CONTRIBUTOR","body":"We discussed this as a team and decided that supporting colons in setting names would be trappy so we'd rather not make this change. We'll document this restriction.\r\n\r\nWe discussed ideas for supporting colons in the tags used in EC2 discovery without adding too much extra overhead for today's colon-free tags. One possibility might be to tie the tag name and value together with an \"internal identifier\" like this:\r\n\r\n```\r\ndiscovery.ec2.tag.foobar: baz \r\ndiscovery.ec2.tag_name.foobar: quux:gruly\r\n```\r\n\r\nHere we are matching a tag `quux:gruly` with value `baz` using the \"internal identifier\" `foobar`. The `discovery.ec2.tag_name.*` setting would be optional and we would fall back to today's behaviour if it were missing. The consensus was that this would add too much administrative overhead, and we think it's simpler to define a custom tag that is compatible with Elasticsearch's naming rules. We additionally noted that you should only tag the master-eligible nodes in the cluster for discovery purposes, whereas a tag like `opsworks:stack` looks like the sort of thing that would be applied to every node in the cluster.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/487296182","html_url":"https://github.com/elastic/elasticsearch/issues/38406#issuecomment-487296182","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38406","id":487296182,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NzI5NjE4Mg==","user":{"login":"Backgammon-","id":1441788,"node_id":"MDQ6VXNlcjE0NDE3ODg=","avatar_url":"https://avatars1.githubusercontent.com/u/1441788?v=4","gravatar_id":"","url":"https://api.github.com/users/Backgammon-","html_url":"https://github.com/Backgammon-","followers_url":"https://api.github.com/users/Backgammon-/followers","following_url":"https://api.github.com/users/Backgammon-/following{/other_user}","gists_url":"https://api.github.com/users/Backgammon-/gists{/gist_id}","starred_url":"https://api.github.com/users/Backgammon-/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Backgammon-/subscriptions","organizations_url":"https://api.github.com/users/Backgammon-/orgs","repos_url":"https://api.github.com/users/Backgammon-/repos","events_url":"https://api.github.com/users/Backgammon-/events{/privacy}","received_events_url":"https://api.github.com/users/Backgammon-/received_events","type":"User","site_admin":false},"created_at":"2019-04-27T15:41:04Z","updated_at":"2019-04-27T15:41:18Z","author_association":"NONE","body":"While I understand your reasoning regarding the unwieldiness of the possible solutions, I hope you'll also consider that many useful AWS-generated tags (e.g. https://docs.aws.amazon.com/autoscaling/ec2/userguide/autoscaling-tagging.html#tag-lifecycle) use colons as separators, and that it is also common practice to use a similar format for user-defined tags. In my case, it is not a big deal to add a user-defined tag outside the usual format, but I was hoping to be able to build the configuration using AWS-generated ASG group tags in the template to identify the cluster.","performed_via_github_app":null}]