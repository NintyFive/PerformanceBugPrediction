{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/11260","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11260/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11260/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11260/events","html_url":"https://github.com/elastic/elasticsearch/issues/11260","id":78571142,"node_id":"MDU6SXNzdWU3ODU3MTE0Mg==","number":11260,"title":"dynamic_date_formats ignore 'basicDateTimeNoMillis' date format","user":{"login":"PolinaMash","id":12531316,"node_id":"MDQ6VXNlcjEyNTMxMzE2","avatar_url":"https://avatars1.githubusercontent.com/u/12531316?v=4","gravatar_id":"","url":"https://api.github.com/users/PolinaMash","html_url":"https://github.com/PolinaMash","followers_url":"https://api.github.com/users/PolinaMash/followers","following_url":"https://api.github.com/users/PolinaMash/following{/other_user}","gists_url":"https://api.github.com/users/PolinaMash/gists{/gist_id}","starred_url":"https://api.github.com/users/PolinaMash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PolinaMash/subscriptions","organizations_url":"https://api.github.com/users/PolinaMash/orgs","repos_url":"https://api.github.com/users/PolinaMash/repos","events_url":"https://api.github.com/users/PolinaMash/events{/privacy}","received_events_url":"https://api.github.com/users/PolinaMash/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-05-20T15:31:35Z","updated_at":"2015-05-25T14:08:49Z","closed_at":"2015-05-25T14:08:48Z","author_association":"NONE","active_lock_reason":null,"body":"In my app I strongly use dynamic nature of ElasticSearch, but for dates it looks like not working properly. In my app all dates are stored in yyyyMMddâ€™T'HHmmssZ format, so I simply want dynamic date detection to use basicDateTimeNoMillis format. But neither dynamic_date_formats nor dynamic template for dates doesn't work. Dates are simply ignored and detected as strings. Here is part of mapping for _default_ type:\n\n``` json\n       \"_default_\" : {\n            \"dynamic_date_formats\":\"basicDateTimeNoMillis\",     \n            \"properties\" : {\n                \"uri\" : {\n                    \"type\" : \"string\"\n                },\n                \"sn\" : {\n                    \"type\" : \"string\"\n                },\n                \"acl\" : {\n                    \"type\" : \"object\"\n                }               \n            },\n            \"dynamic_templates\": [\n                { \"date\": {\n                    \"path_match\": \"*\",\n                    \"match_mapping_type\": \"date\",\n                    \"mapping\": {\n                    \"type\": \"date\",\n                    \"format\": \"basicDateTimeNoMillis\"\n                }\n                }}\n            ]\n        }\n```\n\nIt doesn't work for basicDate also, but works as expected for simple UTC formats like yyyy/MM/dd. Also it works fine if I put date fields description directly to  type mapping, like this:\n\n``` json\n      \"DirectoryRepository_Contact\" : {\n            \"properties\" : {\n                \"properties\" : {\n                    \"type\" : \"object\",\n                    \"properties\" : {\n                        \"bday\": {\n                            \"type\": \"date\",\n                            \"format\": \"basicDateTimeNoMillis\"\n                        }\n                    }\n                }\n            }\n        }\n```\n\nSo looks like ISO formats are ignored in dynamic_date_formats setting.\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}