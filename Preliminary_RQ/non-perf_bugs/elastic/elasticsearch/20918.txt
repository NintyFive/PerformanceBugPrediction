{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/20918","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20918/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20918/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20918/events","html_url":"https://github.com/elastic/elasticsearch/issues/20918","id":182839735,"node_id":"MDU6SXNzdWUxODI4Mzk3MzU=","number":20918,"title":"Replace URL unfriendly character in index date math ","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"labels":[{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2016-10-13T16:37:03Z","updated_at":"2016-10-14T10:03:20Z","closed_at":"2016-10-14T10:03:20Z","author_association":"MEMBER","active_lock_reason":null,"body":"We have the notion of [date math in index names](https://www.elastic.co/guide/en/elasticsearch/reference/2.4/date-math-index-names.html) we expose this date math as part of the URL. This means, we have an index name like `<logstash-{now/d-2d}>`. There are chars the require encoding like `< > { }` and there is the slash that requires encoding as well (but only this single one slash in the middle, not the others and this is where the fun for clients begin). However you cannot just pick the whole URL and encode, but only the index name if you want to do it right.\n\nMy idea to solve this (and thus only need to url encode the path once without any special handling) is to also support another char in addition to the slash for date math, that has no special meaning for paths (or not use the URL path to address this, but this sounds more tricky).\n\nMaybe there are completely different ideas that I am not aware of, that would make handling date based indices in the path easier. Everything is welcome, that prevents this kind of encoding complexity IMO. I'd like to discuss and brainstorm some ideas.\n","closed_by":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"performed_via_github_app":null}