[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/31547858","html_url":"https://github.com/elastic/elasticsearch/issues/4035#issuecomment-31547858","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4035","id":31547858,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNTQ3ODU4","user":{"login":"aleph-zero","id":452273,"node_id":"MDQ6VXNlcjQ1MjI3Mw==","avatar_url":"https://avatars2.githubusercontent.com/u/452273?v=4","gravatar_id":"","url":"https://api.github.com/users/aleph-zero","html_url":"https://github.com/aleph-zero","followers_url":"https://api.github.com/users/aleph-zero/followers","following_url":"https://api.github.com/users/aleph-zero/following{/other_user}","gists_url":"https://api.github.com/users/aleph-zero/gists{/gist_id}","starred_url":"https://api.github.com/users/aleph-zero/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aleph-zero/subscriptions","organizations_url":"https://api.github.com/users/aleph-zero/orgs","repos_url":"https://api.github.com/users/aleph-zero/repos","events_url":"https://api.github.com/users/aleph-zero/events{/privacy}","received_events_url":"https://api.github.com/users/aleph-zero/received_events","type":"User","site_admin":false},"created_at":"2014-01-03T19:42:20Z","updated_at":"2014-01-03T19:42:20Z","author_association":"CONTRIBUTOR","body":"Taking a look per @s1monw 's request.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/31556318","html_url":"https://github.com/elastic/elasticsearch/issues/4035#issuecomment-31556318","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4035","id":31556318,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNTU2MzE4","user":{"login":"aleph-zero","id":452273,"node_id":"MDQ6VXNlcjQ1MjI3Mw==","avatar_url":"https://avatars2.githubusercontent.com/u/452273?v=4","gravatar_id":"","url":"https://api.github.com/users/aleph-zero","html_url":"https://github.com/aleph-zero","followers_url":"https://api.github.com/users/aleph-zero/followers","following_url":"https://api.github.com/users/aleph-zero/following{/other_user}","gists_url":"https://api.github.com/users/aleph-zero/gists{/gist_id}","starred_url":"https://api.github.com/users/aleph-zero/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aleph-zero/subscriptions","organizations_url":"https://api.github.com/users/aleph-zero/orgs","repos_url":"https://api.github.com/users/aleph-zero/repos","events_url":"https://api.github.com/users/aleph-zero/events{/privacy}","received_events_url":"https://api.github.com/users/aleph-zero/received_events","type":"User","site_admin":false},"created_at":"2014-01-03T21:45:58Z","updated_at":"2014-01-03T21:45:58Z","author_association":"CONTRIBUTOR","body":"This is my understanding of what needs to be done.\n\nCurrently, the <b>'status'</b> API (http://localhost:9200/_status or http://localhost:9200/{index}/_status) can report on the recovery status of shards if one passes the 'recovery=true' flag. This information is reported per-shard in a stanza such as:\n\n```\n  \"shards\" : {\n    \"1\" : [ {\n        ....\n      \"gateway_recovery\" : {\n        \"stage\" : \"DONE\",\n        \"start_time_in_millis\" : 1388781755266,\n        \"time_in_millis\" : 178,\n        \"index\" : {\n          \"progress\" : 100,\n          \"size_in_bytes\" : 1238348243,\n          \"reused_size_in_bytes\" : 1238348243,\n          \"expected_recovered_size_in_bytes\" : 0,\n          \"recovered_size_in_bytes\" : 0\n        },\n        \"translog\" : {\n          \"recovered\" : 0\n        }\n      }\n    } ]\n  }\n```\n\nAs I understand @kimchy 's request, we would like to include this information in the <b>'stats'</b> API ((http://localhost:9200/_stats or http://localhost:9200/{index}/_stats).\n\nTo keep this API change simple and as consistent as possible with the existing functionality in the <b>'status'</b> API, I propose we add <b>recovery</b> as a parameter, but only make it active when 'level=shards' is set. \n\nAn example request would be: curl -XGET 'localhost:9200/{index}/_stats/indexing?recovery=true&level=shards'. The format of the information would be the same as the sample payload above.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/31562541","html_url":"https://github.com/elastic/elasticsearch/issues/4035#issuecomment-31562541","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4035","id":31562541,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNTYyNTQx","user":{"login":"aleph-zero","id":452273,"node_id":"MDQ6VXNlcjQ1MjI3Mw==","avatar_url":"https://avatars2.githubusercontent.com/u/452273?v=4","gravatar_id":"","url":"https://api.github.com/users/aleph-zero","html_url":"https://github.com/aleph-zero","followers_url":"https://api.github.com/users/aleph-zero/followers","following_url":"https://api.github.com/users/aleph-zero/following{/other_user}","gists_url":"https://api.github.com/users/aleph-zero/gists{/gist_id}","starred_url":"https://api.github.com/users/aleph-zero/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aleph-zero/subscriptions","organizations_url":"https://api.github.com/users/aleph-zero/orgs","repos_url":"https://api.github.com/users/aleph-zero/repos","events_url":"https://api.github.com/users/aleph-zero/events{/privacy}","received_events_url":"https://api.github.com/users/aleph-zero/received_events","type":"User","site_admin":false},"created_at":"2014-01-03T23:23:50Z","updated_at":"2014-01-03T23:23:50Z","author_association":"CONTRIBUTOR","body":"Had a brief discussion with @kimchy. He'd like to know if we can bring in recovery information from the snapshot/restore feature. Will reach out to @imotov and @kimchy over voice. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/31949677","html_url":"https://github.com/elastic/elasticsearch/issues/4035#issuecomment-31949677","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4035","id":31949677,"node_id":"MDEyOklzc3VlQ29tbWVudDMxOTQ5Njc3","user":{"login":"aleph-zero","id":452273,"node_id":"MDQ6VXNlcjQ1MjI3Mw==","avatar_url":"https://avatars2.githubusercontent.com/u/452273?v=4","gravatar_id":"","url":"https://api.github.com/users/aleph-zero","html_url":"https://github.com/aleph-zero","followers_url":"https://api.github.com/users/aleph-zero/followers","following_url":"https://api.github.com/users/aleph-zero/following{/other_user}","gists_url":"https://api.github.com/users/aleph-zero/gists{/gist_id}","starred_url":"https://api.github.com/users/aleph-zero/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aleph-zero/subscriptions","organizations_url":"https://api.github.com/users/aleph-zero/orgs","repos_url":"https://api.github.com/users/aleph-zero/repos","events_url":"https://api.github.com/users/aleph-zero/events{/privacy}","received_events_url":"https://api.github.com/users/aleph-zero/received_events","type":"User","site_admin":false},"created_at":"2014-01-09T16:31:22Z","updated_at":"2014-01-09T16:31:22Z","author_association":"CONTRIBUTOR","body":"Closing issue in favor of https://github.com/elasticsearch/elasticsearch/issues/4637. This issue gives a more comprehensive treatment of cluster wide recovery status.\n","performed_via_github_app":null}]