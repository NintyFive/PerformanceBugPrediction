{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/21886","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21886/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21886/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21886/events","html_url":"https://github.com/elastic/elasticsearch/issues/21886","id":192582109,"node_id":"MDU6SXNzdWUxOTI1ODIxMDk=","number":21886,"title":"Add _terms_stats API","user":{"login":"shaie","id":3469932,"node_id":"MDQ6VXNlcjM0Njk5MzI=","avatar_url":"https://avatars0.githubusercontent.com/u/3469932?v=4","gravatar_id":"","url":"https://api.github.com/users/shaie","html_url":"https://github.com/shaie","followers_url":"https://api.github.com/users/shaie/followers","following_url":"https://api.github.com/users/shaie/following{/other_user}","gists_url":"https://api.github.com/users/shaie/gists{/gist_id}","starred_url":"https://api.github.com/users/shaie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shaie/subscriptions","organizations_url":"https://api.github.com/users/shaie/orgs","repos_url":"https://api.github.com/users/shaie/repos","events_url":"https://api.github.com/users/shaie/events{/privacy}","received_events_url":"https://api.github.com/users/shaie/received_events","type":"User","site_admin":false},"labels":[{"id":146832564,"node_id":"MDU6TGFiZWwxNDY4MzI1NjQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Search","name":":Search/Search","color":"0e8a16","default":false,"description":"Search-related issues that do not fall into other categories"},{"id":23172,"node_id":"MDU6TGFiZWwyMzE3Mg==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Efeature","name":">feature","color":"006b75","default":false,"description":null},{"id":113234020,"node_id":"MDU6TGFiZWwxMTMyMzQwMjA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/stalled","name":"stalled","color":"fef2c0","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":19,"created_at":"2016-11-30T14:39:32Z","updated_at":"2018-03-26T03:21:02Z","closed_at":"2018-03-26T03:21:02Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Would be nice if ES exposed an API similar to `_field_stats`, to get individual term statistics.\r\n\r\nOne approach/workaround that I described [here](https://discuss.elastic.co/t/terms-stats-api/67508) is to use the `_termvectors` API with an artificial document and request `term_statistics`. This however returns the statistics from one random shard, so you'd need to fire that to each of the index shards, using `?preference=_shards:{num}`.\r\n\r\nA `_term_stats` API would essentially do that, only without the need to use an artificial document, termvectors etc. and would probably be much more efficient. The entire information is available in Lucene's TermsEnum already, so I hope this isn't a very complicated feature request.","closed_by":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"performed_via_github_app":null}