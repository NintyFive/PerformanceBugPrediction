[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/603180624","html_url":"https://github.com/elastic/elasticsearch/issues/54069#issuecomment-603180624","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54069","id":603180624,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzE4MDYyNA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-03-24T11:18:21Z","updated_at":"2020-03-24T11:18:21Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search (:Search/Search)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/603215894","html_url":"https://github.com/elastic/elasticsearch/issues/54069#issuecomment-603215894","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54069","id":603215894,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzIxNTg5NA==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2020-03-24T12:42:01Z","updated_at":"2020-03-24T12:42:01Z","author_association":"MEMBER","body":"cc @elastic/es-clients ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/603219688","html_url":"https://github.com/elastic/elasticsearch/issues/54069#issuecomment-603219688","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54069","id":603219688,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzIxOTY4OA==","user":{"login":"karmi","id":4790,"node_id":"MDQ6VXNlcjQ3OTA=","avatar_url":"https://avatars1.githubusercontent.com/u/4790?v=4","gravatar_id":"","url":"https://api.github.com/users/karmi","html_url":"https://github.com/karmi","followers_url":"https://api.github.com/users/karmi/followers","following_url":"https://api.github.com/users/karmi/following{/other_user}","gists_url":"https://api.github.com/users/karmi/gists{/gist_id}","starred_url":"https://api.github.com/users/karmi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karmi/subscriptions","organizations_url":"https://api.github.com/users/karmi/orgs","repos_url":"https://api.github.com/users/karmi/repos","events_url":"https://api.github.com/users/karmi/events{/privacy}","received_events_url":"https://api.github.com/users/karmi/received_events","type":"User","site_admin":false},"created_at":"2020-03-24T12:50:39Z","updated_at":"2020-03-24T12:50:39Z","author_association":"CONTRIBUTOR","body":"Thanks for opening the issue, @javanna! To amend the explanation, here's how the corresponding JSON would look like:\r\n\r\n```json\r\n\"wait_for_results_timeout\":{\r\n  \"type\":\"time\",\r\n  \"description\":\"...\",\r\n  \"default\": \"1s\"\r\n},\r\n\r\n\"keep_results\":{\r\n  \"type\":\"enum\",\r\n  \"options\":[\r\n    \"auto\",\r\n    \"always\",\r\n  ],\r\n  \"description\":\"...\"\r\n},\r\n\r\n\"keep_results_timeout\": {\r\n  \"type\": \"time\",\r\n  \"description\": \"...\"\r\n},\r\n```\r\n\r\nI would also stress that it would be nice to have this fixed and merged before we release it in a regular, stable release, because renaming parameters after that will constitute breaking changes in language clients.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/603235951","html_url":"https://github.com/elastic/elasticsearch/issues/54069#issuecomment-603235951","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54069","id":603235951,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzIzNTk1MQ==","user":{"login":"Mpdreamz","id":245275,"node_id":"MDQ6VXNlcjI0NTI3NQ==","avatar_url":"https://avatars3.githubusercontent.com/u/245275?v=4","gravatar_id":"","url":"https://api.github.com/users/Mpdreamz","html_url":"https://github.com/Mpdreamz","followers_url":"https://api.github.com/users/Mpdreamz/followers","following_url":"https://api.github.com/users/Mpdreamz/following{/other_user}","gists_url":"https://api.github.com/users/Mpdreamz/gists{/gist_id}","starred_url":"https://api.github.com/users/Mpdreamz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Mpdreamz/subscriptions","organizations_url":"https://api.github.com/users/Mpdreamz/orgs","repos_url":"https://api.github.com/users/Mpdreamz/repos","events_url":"https://api.github.com/users/Mpdreamz/events{/privacy}","received_events_url":"https://api.github.com/users/Mpdreamz/received_events","type":"User","site_admin":false},"created_at":"2020-03-24T13:23:31Z","updated_at":"2020-03-24T13:23:31Z","author_association":"MEMBER","body":"Thanks for raising this @javanna \r\n\r\n`keep_results_timeout` is an improvement but `timeout` seems to indicate an abort action, `keep_results_duration` conveys more that it influences what happens on a successful attempt to store of the results.\r\n\r\nðŸ‘ on all the other name changes much clearer!","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/603244920","html_url":"https://github.com/elastic/elasticsearch/issues/54069#issuecomment-603244920","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54069","id":603244920,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzI0NDkyMA==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2020-03-24T13:40:31Z","updated_at":"2020-03-24T13:40:31Z","author_association":"MEMBER","body":"> keep_results_duration conveys more that it influences what happens on a successful attempt to store of the results\r\n\r\nI see, this makes sense to me. As I said in the description I am not yet convinced on this rename, because the parameter now mentions results while it also affects how long the async search runs. It's more about how long the async search will be valid overall, no matter if it's running or completed, if that makes sense.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/603258037","html_url":"https://github.com/elastic/elasticsearch/issues/54069#issuecomment-603258037","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54069","id":603258037,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzI1ODAzNw==","user":{"login":"Mpdreamz","id":245275,"node_id":"MDQ6VXNlcjI0NTI3NQ==","avatar_url":"https://avatars3.githubusercontent.com/u/245275?v=4","gravatar_id":"","url":"https://api.github.com/users/Mpdreamz","html_url":"https://github.com/Mpdreamz","followers_url":"https://api.github.com/users/Mpdreamz/followers","following_url":"https://api.github.com/users/Mpdreamz/following{/other_user}","gists_url":"https://api.github.com/users/Mpdreamz/gists{/gist_id}","starred_url":"https://api.github.com/users/Mpdreamz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Mpdreamz/subscriptions","organizations_url":"https://api.github.com/users/Mpdreamz/orgs","repos_url":"https://api.github.com/users/Mpdreamz/repos","events_url":"https://api.github.com/users/Mpdreamz/events{/privacy}","received_events_url":"https://api.github.com/users/Mpdreamz/received_events","type":"User","site_admin":false},"created_at":"2020-03-24T14:04:32Z","updated_at":"2020-03-24T14:04:32Z","author_association":"MEMBER","body":"It does, maybe `max_duration` ? Last suggestion on my end before deferring to those who built async search :smile:","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/603260921","html_url":"https://github.com/elastic/elasticsearch/issues/54069#issuecomment-603260921","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54069","id":603260921,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzI2MDkyMQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2020-03-24T14:09:38Z","updated_at":"2020-03-24T14:09:38Z","author_association":"MEMBER","body":"FYI @lukasolson , please comment if you have suggestions ;)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/603292251","html_url":"https://github.com/elastic/elasticsearch/issues/54069#issuecomment-603292251","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54069","id":603292251,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzI5MjI1MQ==","user":{"login":"karmi","id":4790,"node_id":"MDQ6VXNlcjQ3OTA=","avatar_url":"https://avatars1.githubusercontent.com/u/4790?v=4","gravatar_id":"","url":"https://api.github.com/users/karmi","html_url":"https://github.com/karmi","followers_url":"https://api.github.com/users/karmi/followers","following_url":"https://api.github.com/users/karmi/following{/other_user}","gists_url":"https://api.github.com/users/karmi/gists{/gist_id}","starred_url":"https://api.github.com/users/karmi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karmi/subscriptions","organizations_url":"https://api.github.com/users/karmi/orgs","repos_url":"https://api.github.com/users/karmi/repos","events_url":"https://api.github.com/users/karmi/events{/privacy}","received_events_url":"https://api.github.com/users/karmi/received_events","type":"User","site_admin":false},"created_at":"2020-03-24T15:04:40Z","updated_at":"2020-03-24T15:04:40Z","author_association":"CONTRIBUTOR","body":"> (...) timeout seems to indicate an abort action (...)\r\n\r\nThe timeout _is_, in fact, an abort operation, see this description from the original issue:\r\n\r\n>> when such timeout expires, the search will be stopped if still running or its results will be purged if it has already completed.\r\n\r\nIn other words, it is not a timeout for the current request, but for the operation happening in background â€” but still _a_ timeout.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/603488220","html_url":"https://github.com/elastic/elasticsearch/issues/54069#issuecomment-603488220","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54069","id":603488220,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzQ4ODIyMA==","user":{"login":"karmi","id":4790,"node_id":"MDQ6VXNlcjQ3OTA=","avatar_url":"https://avatars1.githubusercontent.com/u/4790?v=4","gravatar_id":"","url":"https://api.github.com/users/karmi","html_url":"https://github.com/karmi","followers_url":"https://api.github.com/users/karmi/followers","following_url":"https://api.github.com/users/karmi/following{/other_user}","gists_url":"https://api.github.com/users/karmi/gists{/gist_id}","starred_url":"https://api.github.com/users/karmi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karmi/subscriptions","organizations_url":"https://api.github.com/users/karmi/orgs","repos_url":"https://api.github.com/users/karmi/repos","events_url":"https://api.github.com/users/karmi/events{/privacy}","received_events_url":"https://api.github.com/users/karmi/received_events","type":"User","site_admin":false},"created_at":"2020-03-24T20:29:43Z","updated_at":"2020-03-24T20:29:43Z","author_association":"CONTRIBUTOR","body":"Is there any argument against the naming change? We're really close to feature freeze, and I consider the current parameter names really confusing to users.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/603494343","html_url":"https://github.com/elastic/elasticsearch/issues/54069#issuecomment-603494343","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54069","id":603494343,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzQ5NDM0Mw==","user":{"login":"lukasolson","id":1178348,"node_id":"MDQ6VXNlcjExNzgzNDg=","avatar_url":"https://avatars3.githubusercontent.com/u/1178348?v=4","gravatar_id":"","url":"https://api.github.com/users/lukasolson","html_url":"https://github.com/lukasolson","followers_url":"https://api.github.com/users/lukasolson/followers","following_url":"https://api.github.com/users/lukasolson/following{/other_user}","gists_url":"https://api.github.com/users/lukasolson/gists{/gist_id}","starred_url":"https://api.github.com/users/lukasolson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukasolson/subscriptions","organizations_url":"https://api.github.com/users/lukasolson/orgs","repos_url":"https://api.github.com/users/lukasolson/repos","events_url":"https://api.github.com/users/lukasolson/events{/privacy}","received_events_url":"https://api.github.com/users/lukasolson/received_events","type":"User","site_admin":false},"created_at":"2020-03-24T20:42:53Z","updated_at":"2020-03-24T20:42:53Z","author_association":"MEMBER","body":"No issues from my side with renaming.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/603508725","html_url":"https://github.com/elastic/elasticsearch/issues/54069#issuecomment-603508725","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54069","id":603508725,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzUwODcyNQ==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2020-03-24T21:15:21Z","updated_at":"2020-03-24T21:15:21Z","author_association":"MEMBER","body":"I like `wait_for_completion`, it's consistent with other APIs that provides similar feature (reindex, force_merge, ..) and I don't see why `wait_for_results_timeout` would be a better name.\r\nI don't have strong opinions on `clean_on_completion`,  it's mainly use in tests so I was hoping to remove at some point but it remained. \r\n`keep_alive` can be confusing but it's also inlined with the behavior which is to keep the async search id around for a certain period. \r\nAll in one I would prefer that we ensure that documentation reflects the options accurately rather than naming which sounds subjective to me.\r\n ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/603668617","html_url":"https://github.com/elastic/elasticsearch/issues/54069#issuecomment-603668617","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54069","id":603668617,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzY2ODYxNw==","user":{"login":"karmi","id":4790,"node_id":"MDQ6VXNlcjQ3OTA=","avatar_url":"https://avatars1.githubusercontent.com/u/4790?v=4","gravatar_id":"","url":"https://api.github.com/users/karmi","html_url":"https://github.com/karmi","followers_url":"https://api.github.com/users/karmi/followers","following_url":"https://api.github.com/users/karmi/following{/other_user}","gists_url":"https://api.github.com/users/karmi/gists{/gist_id}","starred_url":"https://api.github.com/users/karmi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karmi/subscriptions","organizations_url":"https://api.github.com/users/karmi/orgs","repos_url":"https://api.github.com/users/karmi/repos","events_url":"https://api.github.com/users/karmi/events{/privacy}","received_events_url":"https://api.github.com/users/karmi/received_events","type":"User","site_admin":false},"created_at":"2020-03-25T06:40:34Z","updated_at":"2020-03-25T06:40:34Z","author_association":"CONTRIBUTOR","body":"> I like `wait_for_completion`, it's consistent with other APIs that provides similar feature (reindex, force_merge, ..) and I don't see why `wait_for_results_timeout` would be a better name.\r\n\r\nThe trouble with `wait_for_completion` is that in _every_ other API, it's a \"boolean\" type. My concern is that it's confusing to suddenly change the type to \"timeout\" in this particular API. Therefore, it's not only inconsistent â€” due to the different value type â€”, but potentially confusing.\r\n\r\nAnother concern is that \"completion\" is not technically and semantically right here â€” there's no \"completion\" happening here, as eg. with \"Delete By Query\" API (and similar APIs).\r\n\r\n> `clean_on_completion`, it's mainly use in tests so I was hoping to remove at some point but it remained.\r\n\r\nFrom my conversation with @javanna, I understand that it's mostly useful for tests at this point. But as soon as we expose it in the public API, it becomes a part of it, with all the guarantees on backwards compatibility (especially in ecosystems such as .NET and Go, which are averse to changing the public API).\r\n\r\nThe reason we have changed it to `keep_results` is that it keeps the \"this is about results\" theme in the naming, and also, since it's an `enum`, we might find other use cases for this particular parameter/feature. A boolean type is very limited in this sense, and this particular parameter looks suspiciously prone to get additional semantics later.\r\n\r\n> `keep_alive` can be confusing but it's also inlined with the behavior which is to keep the async search id around for a certain period.\r\n\r\nAs @javanna said in the original proposal, it seems like the \"leaking\" of a particular HTTP semantic into this parameter is confusing. For one, it's technically incorrect: this is not about \"keep alive\" in the HTTP sense, ie. keeping persisstent connections between client and server. It's more similar to something like a web session (keeping state on the server). That \"state\" are the results: see the `keep_results` parameter. And, contrary to what @Mpdreamz said above, it _is_ controlling an abort operation. Therefore, we wanted to a) include the reference to \"result\" in the name, and b) to include the \"timeout\" in the name.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/603713993","html_url":"https://github.com/elastic/elasticsearch/issues/54069#issuecomment-603713993","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54069","id":603713993,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzcxMzk5Mw==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2020-03-25T08:41:40Z","updated_at":"2020-03-25T08:41:40Z","author_association":"MEMBER","body":"> The trouble with wait_for_completion is that in every other API, it's a \"boolean\" type. My concern is that it's confusing to suddenly change the type to \"timeout\" in this particular API. Therefore, it's not only inconsistent â€” due to the different value type â€”, but potentially confusing.\r\n\r\nThanks for explaining, although I find `wait_for_results_timeout` equally confusing since this API returns partial results too.\r\n\r\n> Another concern is that \"completion\" is not technically and semantically right here â€” there's no \"completion\" happening here, as eg. with \"Delete By Query\" API (and similar APIs).\r\n\r\nWhat about the completion of the request ? Returning the final results of the request is the completion that this parameter refers to.\r\n\r\nI'd vote for `wait_for_completion_timeout` since you're concerned by the fact that `wait_for_completion` is normally used as a boolean. What do you think ?\r\n\r\n> The reason we have changed it to keep_results is that it keeps the \"this is about results\" theme in the naming, and also, since it's an enum, we might find other use cases for this particular parameter/feature. A boolean type is very limited in this sense, and this particular parameter looks suspiciously prone to get additional semantics later.\r\n\r\nWell \"results\" can be confusing too, the thing I worry about here is that we're saying that this parameter is used for tests and we don't see a real use case for it but we want an enum so that we can add more. I don't have strong feelings but I feel like it will be easier to remove if we keep a simple boolean no matter how it is named.\r\n\r\n>  seems like the \"leaking\" of a particular HTTP semantic into this parameter is confusing. For one, it's technically incorrect: this is not about \"keep alive\" in the HTTP sense, ie. keeping persisstent connections between client and server. It's more similar to something like a web session (keeping state on the server). That \"state\" are the results: see the keep_results parameter. And, contrary to what @Mpdreamz said above, it is controlling an abort operation. Therefore, we wanted to a) include the reference to \"result\" in the name, and b) to include the \"timeout\" in the name.\r\n\r\nI agree with @Mpdreamz , this is not a timeout but a duration. I  am not sure about the HTTP semantic either, the idea is borrowed but we still have a state that we want to keep alive for a certain period. Again no strong feelings here but I do think that documentation is the key no matter what naming we choose at the end.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/603719698","html_url":"https://github.com/elastic/elasticsearch/issues/54069#issuecomment-603719698","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54069","id":603719698,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzcxOTY5OA==","user":{"login":"karmi","id":4790,"node_id":"MDQ6VXNlcjQ3OTA=","avatar_url":"https://avatars1.githubusercontent.com/u/4790?v=4","gravatar_id":"","url":"https://api.github.com/users/karmi","html_url":"https://github.com/karmi","followers_url":"https://api.github.com/users/karmi/followers","following_url":"https://api.github.com/users/karmi/following{/other_user}","gists_url":"https://api.github.com/users/karmi/gists{/gist_id}","starred_url":"https://api.github.com/users/karmi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karmi/subscriptions","organizations_url":"https://api.github.com/users/karmi/orgs","repos_url":"https://api.github.com/users/karmi/repos","events_url":"https://api.github.com/users/karmi/events{/privacy}","received_events_url":"https://api.github.com/users/karmi/received_events","type":"User","site_admin":false},"created_at":"2020-03-25T08:53:21Z","updated_at":"2020-03-25T08:53:21Z","author_association":"CONTRIBUTOR","body":"> I'd vote for `wait_for_completion_timeout` since you're concerned by the fact that `wait_for_completion` is normally used as a boolean. What do you think ?\r\n\r\nYes, that's an option we have evaluated with @javanna when we talked about it, but given the concerns about the semantics of \"completion\", we went with the \"results\"-related naming, as it seemed more descriptive. \r\n\r\nBut of course, `wait_for_completion_timeout` is better than `wait_for_completion` for the reason you mention.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/603812619","html_url":"https://github.com/elastic/elasticsearch/issues/54069#issuecomment-603812619","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54069","id":603812619,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzgxMjYxOQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2020-03-25T12:30:19Z","updated_at":"2020-03-25T12:30:19Z","author_association":"MEMBER","body":"Ok I can see how `results` does not tell whether they are partial or final, while `completion` implies `final` more clearly. Let's go with the following: \r\n\r\n- rename `wait_for_completion` to `wait_for_completion_timeout`\r\n- rename `clean_on_completion` to `keep_on_completion` to address the double negation. It is likely that we will turn the default behaviour to always keep results, in which case the flag could be removed as it would no longer be needed for testing either. I wish that we could mark this parameter experimental,  but I don't think we can do that in the REST spec today. \r\n- leave `keep_alive` unchanged\r\n\r\nLet me know if you have concerns about this.\r\n\r\n","performed_via_github_app":null}]