[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/71578456","html_url":"https://github.com/elastic/elasticsearch/issues/9431#issuecomment-71578456","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9431","id":71578456,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNTc4NDU2","user":{"login":"yangou","id":1667326,"node_id":"MDQ6VXNlcjE2NjczMjY=","avatar_url":"https://avatars1.githubusercontent.com/u/1667326?v=4","gravatar_id":"","url":"https://api.github.com/users/yangou","html_url":"https://github.com/yangou","followers_url":"https://api.github.com/users/yangou/followers","following_url":"https://api.github.com/users/yangou/following{/other_user}","gists_url":"https://api.github.com/users/yangou/gists{/gist_id}","starred_url":"https://api.github.com/users/yangou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yangou/subscriptions","organizations_url":"https://api.github.com/users/yangou/orgs","repos_url":"https://api.github.com/users/yangou/repos","events_url":"https://api.github.com/users/yangou/events{/privacy}","received_events_url":"https://api.github.com/users/yangou/received_events","type":"User","site_admin":false},"created_at":"2015-01-27T02:13:49Z","updated_at":"2015-01-27T02:13:49Z","author_association":"NONE","body":"Eventually, it killed one of my node. And when I bring it back to cluster, all the shards on that node were unassigned.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/71580576","html_url":"https://github.com/elastic/elasticsearch/issues/9431#issuecomment-71580576","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9431","id":71580576,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNTgwNTc2","user":{"login":"yangou","id":1667326,"node_id":"MDQ6VXNlcjE2NjczMjY=","avatar_url":"https://avatars1.githubusercontent.com/u/1667326?v=4","gravatar_id":"","url":"https://api.github.com/users/yangou","html_url":"https://github.com/yangou","followers_url":"https://api.github.com/users/yangou/followers","following_url":"https://api.github.com/users/yangou/following{/other_user}","gists_url":"https://api.github.com/users/yangou/gists{/gist_id}","starred_url":"https://api.github.com/users/yangou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yangou/subscriptions","organizations_url":"https://api.github.com/users/yangou/orgs","repos_url":"https://api.github.com/users/yangou/repos","events_url":"https://api.github.com/users/yangou/events{/privacy}","received_events_url":"https://api.github.com/users/yangou/received_events","type":"User","site_admin":false},"created_at":"2015-01-27T02:39:16Z","updated_at":"2015-01-27T02:39:16Z","author_association":"NONE","body":"Any way to stop the upgrade process? \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/71582827","html_url":"https://github.com/elastic/elasticsearch/issues/9431#issuecomment-71582827","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9431","id":71582827,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNTgyODI3","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2015-01-27T03:08:12Z","updated_at":"2015-01-27T03:08:12Z","author_association":"MEMBER","body":"@yangou No way to kill an upgrade in progress, except to restart the cluster.\n\nRegarding the sizing you see in the upgrade status, are you indexing documents while this upgrade is running? That would explain size increasing.  Also, do you have anything like an optimize going on simultaneously? \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/71583247","html_url":"https://github.com/elastic/elasticsearch/issues/9431#issuecomment-71583247","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9431","id":71583247,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNTgzMjQ3","user":{"login":"yangou","id":1667326,"node_id":"MDQ6VXNlcjE2NjczMjY=","avatar_url":"https://avatars1.githubusercontent.com/u/1667326?v=4","gravatar_id":"","url":"https://api.github.com/users/yangou","html_url":"https://github.com/yangou","followers_url":"https://api.github.com/users/yangou/followers","following_url":"https://api.github.com/users/yangou/following{/other_user}","gists_url":"https://api.github.com/users/yangou/gists{/gist_id}","starred_url":"https://api.github.com/users/yangou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yangou/subscriptions","organizations_url":"https://api.github.com/users/yangou/orgs","repos_url":"https://api.github.com/users/yangou/repos","events_url":"https://api.github.com/users/yangou/events{/privacy}","received_events_url":"https://api.github.com/users/yangou/received_events","type":"User","site_admin":false},"created_at":"2015-01-27T03:14:05Z","updated_at":"2015-01-27T06:53:02Z","author_association":"NONE","body":"@rjernst Thanks for the quick response.  I don't have optimize going and I queued up all the incomming traffic for that index. So there shouldn't be any more data in.\n\nGood news is that, after a disaster recovery,  I found maybe one of the shards finished upgrading and the size of that shard dropped from 180GB to 80GB. Is this also expected? \n\nAnd one guess on the upgrade process monitoring, is it true that the number of remaining bytes to upgrade will change only after a shard finishes the upgrade? \n\n##### After kill&restart the dead node, will the upgrade progress continue on that node?\n\nThanks to my replicas, so far no data lose. I have 4shards remaining to upgrade. Hope everything will be fine. Our traffic spike will actually come in 3 hours.   Finger crossed.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/71588868","html_url":"https://github.com/elastic/elasticsearch/issues/9431#issuecomment-71588868","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9431","id":71588868,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNTg4ODY4","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2015-01-27T04:40:17Z","updated_at":"2015-01-27T04:40:17Z","author_association":"MEMBER","body":"> After kill&restart the dead node, will the upgrade progress continue on that node?\n\nNo, restarting a node will result in cancelling the either running or scheduled merge.  You would need to run the upgrade request again (which will result in a no-op for indexes already upgraded).\n\nI would like to eventually make upgrading a \"true\" long running task once we have the task management api (see #6914).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/71597939","html_url":"https://github.com/elastic/elasticsearch/issues/9431#issuecomment-71597939","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9431","id":71597939,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNTk3OTM5","user":{"login":"yangou","id":1667326,"node_id":"MDQ6VXNlcjE2NjczMjY=","avatar_url":"https://avatars1.githubusercontent.com/u/1667326?v=4","gravatar_id":"","url":"https://api.github.com/users/yangou","html_url":"https://github.com/yangou","followers_url":"https://api.github.com/users/yangou/followers","following_url":"https://api.github.com/users/yangou/following{/other_user}","gists_url":"https://api.github.com/users/yangou/gists{/gist_id}","starred_url":"https://api.github.com/users/yangou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yangou/subscriptions","organizations_url":"https://api.github.com/users/yangou/orgs","repos_url":"https://api.github.com/users/yangou/repos","events_url":"https://api.github.com/users/yangou/events{/privacy}","received_events_url":"https://api.github.com/users/yangou/received_events","type":"User","site_admin":false},"created_at":"2015-01-27T06:53:18Z","updated_at":"2015-01-27T06:53:18Z","author_association":"NONE","body":"Upgrade was successful, but I think I'm doing it in an incorrect way which I mixed version 1.4.2, and 1.4.1 in the same cluster (I had no choice.) Due to that, it errors out and killed one of my node. \n\nI think I can close this issue, since it doesn't seem to be a bug.\nPlease help close this issue.  Thanks\n","performed_via_github_app":null}]