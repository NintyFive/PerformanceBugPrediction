[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/214664185","html_url":"https://github.com/elastic/elasticsearch/issues/17974#issuecomment-214664185","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17974","id":214664185,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDY2NDE4NQ==","user":{"login":"naisanza","id":1614425,"node_id":"MDQ6VXNlcjE2MTQ0MjU=","avatar_url":"https://avatars1.githubusercontent.com/u/1614425?v=4","gravatar_id":"","url":"https://api.github.com/users/naisanza","html_url":"https://github.com/naisanza","followers_url":"https://api.github.com/users/naisanza/followers","following_url":"https://api.github.com/users/naisanza/following{/other_user}","gists_url":"https://api.github.com/users/naisanza/gists{/gist_id}","starred_url":"https://api.github.com/users/naisanza/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naisanza/subscriptions","organizations_url":"https://api.github.com/users/naisanza/orgs","repos_url":"https://api.github.com/users/naisanza/repos","events_url":"https://api.github.com/users/naisanza/events{/privacy}","received_events_url":"https://api.github.com/users/naisanza/received_events","type":"User","site_admin":false},"created_at":"2016-04-26T08:16:58Z","updated_at":"2016-04-26T08:17:08Z","author_association":"NONE","body":"https://github.com/elastic/elasticsearch/issues/15340 gave me the idea to use a quoted array/list, which is how I got it to work\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/214693883","html_url":"https://github.com/elastic/elasticsearch/issues/17974#issuecomment-214693883","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17974","id":214693883,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDY5Mzg4Mw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-04-26T10:17:00Z","updated_at":"2016-04-26T10:17:00Z","author_association":"MEMBER","body":"I'm sorry that you experienced pain here. However, you do not have to set `network.host` to an array, setting it as a single value is accepted. Note the error message that you're getting is about a failing bootstrap check. These are checks that are being added in Elasticsearch 5.0.0 to increase the resiliency of production configurations of Elasticsearch. A production configuration is an instance of Elasticsearch that binds to or publishes to a non-loopback network interface. Since the non-array `network.host` setting was correctly applied, the bootstrap checks are executed and that's why you're seeing the error message:\n\n```\njava.lang.RuntimeException: max file descriptors [4096] for elasticsearch process likely too low, increase to at least [65536]\n```\n\nIt's telling you exactly what the problem is: you need to increase the number of available file descriptors to 65536.\n\nCan you explain what led you to believe that the problem was not having the `network.host` setting set as an array? On my system I can do the following:\n\n```\n$ cat ./config/elasticsearch.yml | grep network.host\nnetwork.host: [\"192.168.1.105\", \"127.0.0.1\"]\n$ ./bin/elasticsearch | grep bound_addresses\n[2016-04-26 06:14:33,592][INFO ][transport                ] [Bloodhawk] publish_address {192.168.1.105:9300}, bound_addresses {192.168.1.105:9300}, {127.0.0.1:9300}\n[2016-04-26 06:14:36,679][INFO ][http                     ] [Bloodhawk] publish_address {192.168.1.105:9200}, bound_addresses {192.168.1.105:9200}, {127.0.0.1:9200}\n^C\n```\n\n```\n$ cat ./config/elasticsearch.yml | grep network.host\nnetwork.host: 192.168.1.105\n$ ./bin/elasticsearch | grep bound_addresses\n[2016-04-26 06:15:32,977][INFO ][transport                ] [Senator Robert Kelly] publish_address {192.168.1.105:9300}, bound_addresses {192.168.1.105:9300}\n[2016-04-26 06:15:36,028][INFO ][http                     ] [Senator Robert Kelly] publish_address {192.168.1.105:9200}, bound_addresses {192.168.1.105:9200}\n^C\n```\n\nand in either case Elasticsearch starts up just fine.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/214705091","html_url":"https://github.com/elastic/elasticsearch/issues/17974#issuecomment-214705091","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17974","id":214705091,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDcwNTA5MQ==","user":{"login":"naisanza","id":1614425,"node_id":"MDQ6VXNlcjE2MTQ0MjU=","avatar_url":"https://avatars1.githubusercontent.com/u/1614425?v=4","gravatar_id":"","url":"https://api.github.com/users/naisanza","html_url":"https://github.com/naisanza","followers_url":"https://api.github.com/users/naisanza/followers","following_url":"https://api.github.com/users/naisanza/following{/other_user}","gists_url":"https://api.github.com/users/naisanza/gists{/gist_id}","starred_url":"https://api.github.com/users/naisanza/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naisanza/subscriptions","organizations_url":"https://api.github.com/users/naisanza/orgs","repos_url":"https://api.github.com/users/naisanza/repos","events_url":"https://api.github.com/users/naisanza/events{/privacy}","received_events_url":"https://api.github.com/users/naisanza/received_events","type":"User","site_admin":false},"created_at":"2016-04-26T11:10:35Z","updated_at":"2016-04-26T11:10:35Z","author_association":"NONE","body":"Hi! Even with `max file descriptors` aside elasticsearch won't start after that java error.\n\nFor example:\n\n`network.host: _site_`:\n\n```\nroot@elasticsearch_running:~# netstat -ant\nActive Internet connections (servers and established)\nProto Recv-Q Send-Q Local Address           Foreign Address         State\ntcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN\ntcp6       0      0 :::22                   :::*                    LISTEN\n```\n\n`network.host: \"_site_\"`:\n\n```\nroot@elasticsearch_running:~# netstat -ant\nActive Internet connections (servers and established)\nProto Recv-Q Send-Q Local Address           Foreign Address         State\ntcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN\ntcp6       0      0 :::22                   :::*                    LISTEN\n```\n\n`network.host: [\"_site_\"]`:\n\n```\nroot@elasticsearch_running:~# netstat -ant\nActive Internet connections (servers and established)\nProto Recv-Q Send-Q Local Address           Foreign Address         State\ntcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN\ntcp6       0      0 10.0.3.85:9200          :::*                    LISTEN\ntcp6       0      0 10.0.3.85:9300          :::*                    LISTEN\n```\n\n`network.bind_host: 10.0.3.85`:\n\n```\nroot@elasticsearch_running:~# netstat -ant\nActive Internet connections (servers and established)\nProto Recv-Q Send-Q Local Address           Foreign Address         State\ntcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN\ntcp6       0      0 :::22                   :::*                    LISTEN\n```\n\n`network.bind_host: [\"10.0.3.85\"]`:\n\n```\nroot@elasticsearch_running:~# netstat -ant\nActive Internet connections (servers and established)\nProto Recv-Q Send-Q Local Address           Foreign Address         State\ntcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN\ntcp6       0      0 10.0.3.85:9200          :::*                    LISTEN\ntcp6       0      0 10.0.3.85:9300          :::*                    LISTEN\ntcp6       0      0 :::22                   :::*                    LISTEN\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/214710961","html_url":"https://github.com/elastic/elasticsearch/issues/17974#issuecomment-214710961","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17974","id":214710961,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDcxMDk2MQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-04-26T11:29:25Z","updated_at":"2016-04-26T11:29:25Z","author_association":"MEMBER","body":"> Hi! Even with max file descriptors aside elasticsearch won't start after that java error.\n\nCan you please share the log messages from Elasticsearch failing to start?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/214859428","html_url":"https://github.com/elastic/elasticsearch/issues/17974#issuecomment-214859428","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17974","id":214859428,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDg1OTQyOA==","user":{"login":"naisanza","id":1614425,"node_id":"MDQ6VXNlcjE2MTQ0MjU=","avatar_url":"https://avatars1.githubusercontent.com/u/1614425?v=4","gravatar_id":"","url":"https://api.github.com/users/naisanza","html_url":"https://github.com/naisanza","followers_url":"https://api.github.com/users/naisanza/followers","following_url":"https://api.github.com/users/naisanza/following{/other_user}","gists_url":"https://api.github.com/users/naisanza/gists{/gist_id}","starred_url":"https://api.github.com/users/naisanza/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naisanza/subscriptions","organizations_url":"https://api.github.com/users/naisanza/orgs","repos_url":"https://api.github.com/users/naisanza/repos","events_url":"https://api.github.com/users/naisanza/events{/privacy}","received_events_url":"https://api.github.com/users/naisanza/received_events","type":"User","site_admin":false},"created_at":"2016-04-26T19:28:33Z","updated_at":"2016-04-26T19:28:33Z","author_association":"NONE","body":"@jasontedor sure! I've attached all the logs from `$ES_HOME/logs/`\n\nOnly elasticsearch.log contained anything:\n\n```\n[2016-04-26 19:22:26,605][ERROR][bootstrap                ] Exception\njava.lang.RuntimeException: max file descriptors [4096] for elasticsearch process likely too low, increase to at least [65536]\n    at org.elasticsearch.bootstrap.BootstrapCheck.check(BootstrapCheck.java:79)\n    at org.elasticsearch.bootstrap.BootstrapCheck.check(BootstrapCheck.java:60)\n    at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:187)\n    at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:263)\n    at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:111)\n    at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:106)\n    at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:88)\n    at org.elasticsearch.cli.Command.main(Command.java:53)\n    at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:74)\n    at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:67)\n```\n\n```\nroot@elasticsearch_running:~# du -sh /opt/elasticsearch/elasticsearch-5.0.0-alpha1/logs/*\n0       /opt/elasticsearch/elasticsearch-5.0.0-alpha1/logs/elasticsearch_deprecation.log\n0       /opt/elasticsearch/elasticsearch-5.0.0-alpha1/logs/elasticsearch_index_indexing_slowlog.log\n0       /opt/elasticsearch/elasticsearch-5.0.0-alpha1/logs/elasticsearch_index_search_slowlog.log\n4.0K    /opt/elasticsearch/elasticsearch-5.0.0-alpha1/logs/elasticsearch.log\n```\n\nAttached log files:\n[elasticsearch.zip](https://github.com/elastic/elasticsearch/files/237303/elasticsearch.zip)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/214860501","html_url":"https://github.com/elastic/elasticsearch/issues/17974#issuecomment-214860501","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17974","id":214860501,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDg2MDUwMQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-04-26T19:32:35Z","updated_at":"2016-04-26T19:32:35Z","author_association":"MEMBER","body":"@naisanza Sorry, I don't understand what those logs are showing me since you didn't share the configuration nor the command-line parameters used to start Elasticsearch. Would it be possible for you to show from the command-line and configuration that is giving you trouble and the log messages that Elasticsearch displays on the console when it fails to start? \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/214862086","html_url":"https://github.com/elastic/elasticsearch/issues/17974#issuecomment-214862086","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17974","id":214862086,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDg2MjA4Ng==","user":{"login":"naisanza","id":1614425,"node_id":"MDQ6VXNlcjE2MTQ0MjU=","avatar_url":"https://avatars1.githubusercontent.com/u/1614425?v=4","gravatar_id":"","url":"https://api.github.com/users/naisanza","html_url":"https://github.com/naisanza","followers_url":"https://api.github.com/users/naisanza/followers","following_url":"https://api.github.com/users/naisanza/following{/other_user}","gists_url":"https://api.github.com/users/naisanza/gists{/gist_id}","starred_url":"https://api.github.com/users/naisanza/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naisanza/subscriptions","organizations_url":"https://api.github.com/users/naisanza/orgs","repos_url":"https://api.github.com/users/naisanza/repos","events_url":"https://api.github.com/users/naisanza/events{/privacy}","received_events_url":"https://api.github.com/users/naisanza/received_events","type":"User","site_admin":false},"created_at":"2016-04-26T19:38:24Z","updated_at":"2016-04-26T19:39:45Z","author_association":"NONE","body":"@jasontedor sorry about that. A very minimal setup\n\nrc.local:\n\n```\nroot@elasticsearch_running:~# cat /etc/rc.local\n#!/bin/sh -e\n#\n# rc.local\n#\n# This script is executed at the end of each multiuser runlevel.\n# Make sure that the script will \"exit 0\" on success or any other\n# value on error.\n#\n# In order to enable or disable this script just change the execution\n# bits.\n#\n# By default this script does nothing.\n\nsu - eric -c \"elasticsearch & disown %\"\n\nexit 0\n```\n\nelasticsearch.yml:\n\n```\nroot@elasticsearch_running:~# grep -v \"^#\" /opt/elasticsearch/elasticsearch-5.0.0-alpha1/config/elasticsearch.yml\nnetwork.host: _site_\n```\n\nfrom the shell:\n\n```\neric@elasticsearch_running:~$ elasticsearch\nException in thread \"main\" java.lang.RuntimeException: max file descriptors [4096] for elasticsearch process likely too low, increase to at least [65536]\n        at org.elasticsearch.bootstrap.BootstrapCheck.check(BootstrapCheck.java:79)\n        at org.elasticsearch.bootstrap.BootstrapCheck.check(BootstrapCheck.java:60)\n        at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:187)\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:263)\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:111)\n        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:106)\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:88)\n        at org.elasticsearch.cli.Command.main(Command.java:53)\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:74)\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:67)\nRefer to the log for complete error details.\neric@elasticsearch_running:~$\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/214864851","html_url":"https://github.com/elastic/elasticsearch/issues/17974#issuecomment-214864851","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17974","id":214864851,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDg2NDg1MQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-04-26T19:48:59Z","updated_at":"2016-04-26T19:49:10Z","author_association":"MEMBER","body":"But `network.host: _site_` means that you're binding to a non-loopback interface (site-local) and that subjects the instance to the bootstrap checks that we discussed [previously](https://github.com/elastic/elasticsearch/issues/17974#issuecomment-214693883). The error message tells you that you're still running into the file descriptor issue. This has nothing to do with `network.host` being an array versus not being an array.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/214867237","html_url":"https://github.com/elastic/elasticsearch/issues/17974#issuecomment-214867237","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17974","id":214867237,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDg2NzIzNw==","user":{"login":"naisanza","id":1614425,"node_id":"MDQ6VXNlcjE2MTQ0MjU=","avatar_url":"https://avatars1.githubusercontent.com/u/1614425?v=4","gravatar_id":"","url":"https://api.github.com/users/naisanza","html_url":"https://github.com/naisanza","followers_url":"https://api.github.com/users/naisanza/followers","following_url":"https://api.github.com/users/naisanza/following{/other_user}","gists_url":"https://api.github.com/users/naisanza/gists{/gist_id}","starred_url":"https://api.github.com/users/naisanza/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naisanza/subscriptions","organizations_url":"https://api.github.com/users/naisanza/orgs","repos_url":"https://api.github.com/users/naisanza/repos","events_url":"https://api.github.com/users/naisanza/events{/privacy}","received_events_url":"https://api.github.com/users/naisanza/received_events","type":"User","site_admin":false},"created_at":"2016-04-26T19:56:00Z","updated_at":"2016-04-26T19:56:28Z","author_association":"NONE","body":"@jasontedor when it's set to `[\"_site_\"]` it starts\n\nelasticsearch.yml:\n\n```\neric@elasticsearch_running:~$ grep -v \"^#\" /opt/elasticsearch/elasticsearch-5.0.0-alpha1/config/elasticsearch.yml\nnetwork.host: [\"_site_\"]\n```\n\nelasticsearch starts:\n\n```\neric@elasticsearch_running:~$ elasticsearch\n[2016-04-26 19:55:25,643][WARN ][bootstrap                ] max file descriptors [4096] for elasticsearch process likely too low, increase to at least [65536]\n[2016-04-26 19:55:25,644][WARN ][bootstrap                ] please set [discovery.zen.minimum_master_nodes] to a majority of the number of master eligible nodes in your cluster.\n[2016-04-26 19:55:25,668][INFO ][node                     ] [Trevor Fitzroy] version[5.0.0-alpha1], pid[693], build[7d4ed5b/2016-04-04T10:39:25.841Z]\n[2016-04-26 19:55:25,669][INFO ][node                     ] [Trevor Fitzroy] initializing ...\n[2016-04-26 19:55:26,294][INFO ][plugins                  ] [Trevor Fitzroy] modules [lang-mustache, lang-painless, ingest-grok, reindex, lang-expression, lang-groovy], plugins []\n[2016-04-26 19:55:26,334][INFO ][env                      ] [Trevor Fitzroy] using [1] data paths, mounts [[/ (/home/eric/.local/share/lxc/base-ubuntu/rootfs)]], net usable_space [57.4gb], net total_space [78.6gb], spins? [possibly], types [overlayfs]\n[2016-04-26 19:55:26,335][INFO ][env                      ] [Trevor Fitzroy] heap size [990.7mb], compressed ordinary object pointers [true]\n[2016-04-26 19:55:29,636][INFO ][node                     ] [Trevor Fitzroy] initialized\n[2016-04-26 19:55:29,637][INFO ][node                     ] [Trevor Fitzroy] starting ...\n[2016-04-26 19:55:29,765][INFO ][transport                ] [Trevor Fitzroy] publish_address {10.0.3.85:9300}, bound_addresses {10.0.3.85:9300}\n[2016-04-26 19:55:32,879][INFO ][cluster.service          ] [Trevor Fitzroy] new_master {Trevor Fitzroy}{MprWNSUcQB2GhSTwXp1h7A}{10.0.3.85}{10.0.3.85:9300}, reason: zen-disco-join(elected_as_master, [0] joins received)\n[2016-04-26 19:55:32,994][INFO ][http                     ] [Trevor Fitzroy] publish_address {10.0.3.85:9200}, bound_addresses {10.0.3.85:9200}\n[2016-04-26 19:55:32,995][INFO ][node                     ] [Trevor Fitzroy] started\n[2016-04-26 19:55:33,033][INFO ][gateway                  ] [Trevor Fitzroy] recovered [0] indices into cluster_state\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/214872473","html_url":"https://github.com/elastic/elasticsearch/issues/17974#issuecomment-214872473","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17974","id":214872473,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDg3MjQ3Mw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-04-26T20:15:34Z","updated_at":"2016-04-26T20:20:20Z","author_association":"MEMBER","body":"Okay, thank you for that! I attempted to reproduce this on master and I was not able to. That put me down the path of thinking about what has changed in the bootstrap checks between alpha1 and master. A key change is how these bootstrap checks detect whether or not you're bound to a non-loopback interface. In particular, in alpha1 we merely checked to see if the `network.host` setting is set or not. When you set `network.host: _site_` then that setting is clearly set. However, when you set `network.host: [\"_site_\"]` that doesn't actually set `network.host`. Instead, it sets `network.host.0`, `network.host.1`, ..., `network.host.n` up to `n`, the number of the elements in the array minus one. In alpha1 we were not checking for any `network.host.k` settings, just `network.host`. This is why you're encountering this issue. In master since #17595 we do this very differently. Instead, we bind to the configured network interfaces and then check whether or not any of those bindings are to non-loopback interfaces. This indirectly eliminated this painful issue.\n\nTo be clear, network settings are fine not as an array, or as an array. The issue here is a bug that was causing the bootstrap checks to be skipped when the network settings were configured as an array.\n\nI'm _truly_ sorry that you ran into this pain and appreciate your repeated feedback as we worked through this one.\n\n@naisanza I'll mark you as being eligible for the [pioneer program](https://www.elastic.co/blog/elastic-pioneer-program). Thanks again for the report!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/214882388","html_url":"https://github.com/elastic/elasticsearch/issues/17974#issuecomment-214882388","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17974","id":214882388,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDg4MjM4OA==","user":{"login":"naisanza","id":1614425,"node_id":"MDQ6VXNlcjE2MTQ0MjU=","avatar_url":"https://avatars1.githubusercontent.com/u/1614425?v=4","gravatar_id":"","url":"https://api.github.com/users/naisanza","html_url":"https://github.com/naisanza","followers_url":"https://api.github.com/users/naisanza/followers","following_url":"https://api.github.com/users/naisanza/following{/other_user}","gists_url":"https://api.github.com/users/naisanza/gists{/gist_id}","starred_url":"https://api.github.com/users/naisanza/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/naisanza/subscriptions","organizations_url":"https://api.github.com/users/naisanza/orgs","repos_url":"https://api.github.com/users/naisanza/repos","events_url":"https://api.github.com/users/naisanza/events{/privacy}","received_events_url":"https://api.github.com/users/naisanza/received_events","type":"User","site_admin":false},"created_at":"2016-04-26T20:52:28Z","updated_at":"2016-04-26T20:52:28Z","author_association":"NONE","body":"@jasontedor no problem! Pioneer Program sounds awesome\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/215348704","html_url":"https://github.com/elastic/elasticsearch/issues/17974#issuecomment-215348704","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17974","id":215348704,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNTM0ODcwNA==","user":{"login":"alexanderkjeldaas","id":339369,"node_id":"MDQ6VXNlcjMzOTM2OQ==","avatar_url":"https://avatars3.githubusercontent.com/u/339369?v=4","gravatar_id":"","url":"https://api.github.com/users/alexanderkjeldaas","html_url":"https://github.com/alexanderkjeldaas","followers_url":"https://api.github.com/users/alexanderkjeldaas/followers","following_url":"https://api.github.com/users/alexanderkjeldaas/following{/other_user}","gists_url":"https://api.github.com/users/alexanderkjeldaas/gists{/gist_id}","starred_url":"https://api.github.com/users/alexanderkjeldaas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexanderkjeldaas/subscriptions","organizations_url":"https://api.github.com/users/alexanderkjeldaas/orgs","repos_url":"https://api.github.com/users/alexanderkjeldaas/repos","events_url":"https://api.github.com/users/alexanderkjeldaas/events{/privacy}","received_events_url":"https://api.github.com/users/alexanderkjeldaas/received_events","type":"User","site_admin":false},"created_at":"2016-04-28T08:21:46Z","updated_at":"2016-04-28T08:21:46Z","author_association":"NONE","body":"This exception happens on the official docker hub elasticsearch:5 image.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/215375864","html_url":"https://github.com/elastic/elasticsearch/issues/17974#issuecomment-215375864","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17974","id":215375864,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNTM3NTg2NA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-04-28T10:06:37Z","updated_at":"2016-04-28T10:06:37Z","author_association":"MEMBER","body":"There is not an official Docker image that is affiliated with Elastic. To be clear, the \"official\" Docker image on Docker Hub is not affiliated with Elastic.\n","performed_via_github_app":null}]