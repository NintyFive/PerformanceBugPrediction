[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/577778039","html_url":"https://github.com/elastic/elasticsearch/issues/51361#issuecomment-577778039","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51361","id":577778039,"node_id":"MDEyOklzc3VlQ29tbWVudDU3Nzc3ODAzOQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-01-23T17:10:54Z","updated_at":"2020-01-23T17:10:54Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra (:Core/Infra/Build)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/577779084","html_url":"https://github.com/elastic/elasticsearch/issues/51361#issuecomment-577779084","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51361","id":577779084,"node_id":"MDEyOklzc3VlQ29tbWVudDU3Nzc3OTA4NA==","user":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"created_at":"2020-01-23T17:13:20Z","updated_at":"2020-01-23T17:13:20Z","author_association":"MEMBER","body":"Probably related to: https://github.com/elastic/elasticsearch/pull/51335 :)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/577813007","html_url":"https://github.com/elastic/elasticsearch/issues/51361#issuecomment-577813007","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51361","id":577813007,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NzgxMzAwNw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2020-01-23T18:31:40Z","updated_at":"2020-01-23T18:31:40Z","author_association":"MEMBER","body":"This is because:\r\n - JDK 15 removed support for the CMS-related flags\r\n - this is a build with a JDK 15 runtime Java\r\n - we are trying to start the 7.5 BWC cluster using the same runtime Java (JDK 15)\r\n - not using CMS-related flags (#49123) was not backported to 7.5 since there was no expectation of supporting JDK 14 nor JDK 15 on 7.5\r\n\r\nWe use to have it in the build that when we started the BWC cluster, we would use a version of the JDK that the version that we were starting was known to be compatible with. I think that when starting older clusters, we should use the bundled JDK overriding the runtime JDK. That's what we need here, and in general, so that we are only starting clusters against versions of the JDK that the version being started supports. Can you investigate making this change @mark-vieira?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/578336025","html_url":"https://github.com/elastic/elasticsearch/issues/51361#issuecomment-578336025","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51361","id":578336025,"node_id":"MDEyOklzc3VlQ29tbWVudDU3ODMzNjAyNQ==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2020-01-24T23:02:58Z","updated_at":"2020-01-24T23:07:21Z","author_association":"CONTRIBUTOR","body":"> I think that when starting older clusters, we should use the bundled JDK overriding the runtime JDK.\r\n\r\nAgreed. In fact we have [an open issue](https://github.com/elastic/elasticsearch/issues/40531) to use the configured bundled JDK version for all integration testing (except Java matrix tests).\r\n\r\n> That's what we need here, and in general, so that we are only starting clusters against versions of the JDK that the version being started supports.\r\n\r\nWe don't have a notion of _maximum_ runtime Java version defined in an easily consumable way that I'm aware of. In any case, when we fetch BWC versions from a archive distribution we don't have any kind of metadata here either. I suppose we can hardcode this, which is probably fine given we only have to go back 1 major version and moving forward we always rely on using the bundled JDK. I'll work up a solution here.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/578364477","html_url":"https://github.com/elastic/elasticsearch/issues/51361#issuecomment-578364477","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51361","id":578364477,"node_id":"MDEyOklzc3VlQ29tbWVudDU3ODM2NDQ3Nw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2020-01-25T01:49:48Z","updated_at":"2020-01-25T01:49:48Z","author_association":"MEMBER","body":"That brings us to #43071 so it’s only that we never implemented this for testclusters.\r\n\r\n> We don't have a notion of maximum runtime Java version defined in an easily consumable way that I'm aware of.\r\n\r\nWe use to have this, but hard coded into the build as you suggest. It was never pretty to maintain. At some point we moved to using some content out of `.ci` (since we know the versions we test against there) but I’m having trouble tracking that down on mobile.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/578365867","html_url":"https://github.com/elastic/elasticsearch/issues/51361#issuecomment-578365867","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51361","id":578365867,"node_id":"MDEyOklzc3VlQ29tbWVudDU3ODM2NTg2Nw==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2020-01-25T02:02:46Z","updated_at":"2020-01-25T02:02:46Z","author_association":"CONTRIBUTOR","body":"Yeah, that PR you mentioned got blown away with the migration to test clusters and it seems we reintroduced the \"just use whatever runtime java is\" logic. I'm working up a PR for this. I'm not too worried about maintenance. We only have to consider all current active BWC versions < 7.2, which we know to work on Java 13. I don't suspect we'll ever have to change this as going forward we won't introduce any new versions that don't also include a bundled JDK.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/579293651","html_url":"https://github.com/elastic/elasticsearch/issues/51361#issuecomment-579293651","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51361","id":579293651,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTI5MzY1MQ==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2020-01-28T15:14:55Z","updated_at":"2020-01-28T15:14:55Z","author_association":"CONTRIBUTOR","body":"As well as the problem of 7.x being BWC tested against older versions that don't support Java 15, there is also the problem that we appear to be using Java 15 in CI builds for branches older than 7.x.  For example, https://gradle-enterprise.elastic.co/s/mp33jqizng4l2 is a 7.5 branch build that tried to use Java 15 and failed because `UseConcMarkSweepGC` wasn't recognised.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/579419187","html_url":"https://github.com/elastic/elasticsearch/issues/51361#issuecomment-579419187","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51361","id":579419187,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTQxOTE4Nw==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2020-01-28T19:39:44Z","updated_at":"2020-01-28T19:39:44Z","author_association":"CONTRIBUTOR","body":"Good catch. Yes, as per Jason's comment we should not be testing `7.5` on Java 14 or 15. I've removed that with 24f026793bd236556dd8cefb0ab795c81e49ff09.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/579771858","html_url":"https://github.com/elastic/elasticsearch/issues/51361#issuecomment-579771858","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51361","id":579771858,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTc3MTg1OA==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2020-01-29T14:09:37Z","updated_at":"2020-01-29T14:09:37Z","author_association":"MEMBER","body":"@mark-vieira not sure, but this failure from today on 7.6 might be related still https://gradle-enterprise.elastic.co/s/asqniuub2yzlm\r\nhttps://gradle-enterprise.elastic.co/s/asqniuub2yzlm/console-log#L6326\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/579818472","html_url":"https://github.com/elastic/elasticsearch/issues/51361#issuecomment-579818472","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51361","id":579818472,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTgxODQ3Mg==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2020-01-29T15:42:43Z","updated_at":"2020-01-29T15:42:43Z","author_association":"MEMBER","body":"This is also from this morning on 7.6, maybe related https://gradle-enterprise.elastic.co/s/3g43ngv3tvm2w/console-log?task=:qa:verify-version-constants:v7.5.3%23integTest","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/579824499","html_url":"https://github.com/elastic/elasticsearch/issues/51361#issuecomment-579824499","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51361","id":579824499,"node_id":"MDEyOklzc3VlQ29tbWVudDU3OTgyNDQ5OQ==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2020-01-29T15:54:50Z","updated_at":"2020-01-29T15:54:50Z","author_association":"CONTRIBUTOR","body":"This has not been backported to `7.x` or `7.6`. This issue was mistakenly closed when the `master` PR got merged.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/580497511","html_url":"https://github.com/elastic/elasticsearch/issues/51361#issuecomment-580497511","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51361","id":580497511,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MDQ5NzUxMQ==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2020-01-30T22:45:11Z","updated_at":"2020-01-30T22:45:11Z","author_association":"CONTRIBUTOR","body":"This should be sorted out now that https://github.com/elastic/elasticsearch/pull/51505 has been backported.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/699144176","html_url":"https://github.com/elastic/elasticsearch/issues/51361#issuecomment-699144176","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51361","id":699144176,"node_id":"MDEyOklzc3VlQ29tbWVudDY5OTE0NDE3Ng==","user":{"login":"hgshoggins","id":10128113,"node_id":"MDQ6VXNlcjEwMTI4MTEz","avatar_url":"https://avatars3.githubusercontent.com/u/10128113?v=4","gravatar_id":"","url":"https://api.github.com/users/hgshoggins","html_url":"https://github.com/hgshoggins","followers_url":"https://api.github.com/users/hgshoggins/followers","following_url":"https://api.github.com/users/hgshoggins/following{/other_user}","gists_url":"https://api.github.com/users/hgshoggins/gists{/gist_id}","starred_url":"https://api.github.com/users/hgshoggins/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hgshoggins/subscriptions","organizations_url":"https://api.github.com/users/hgshoggins/orgs","repos_url":"https://api.github.com/users/hgshoggins/repos","events_url":"https://api.github.com/users/hgshoggins/events{/privacy}","received_events_url":"https://api.github.com/users/hgshoggins/received_events","type":"User","site_admin":false},"created_at":"2020-09-25T20:39:24Z","updated_at":"2020-09-25T20:39:24Z","author_association":"NONE","body":"Just updated two instances of ES on different machines (with exact same system and OpenJDK versions though). One on 7.9.1, working fine, one on 7.9.2, having this exact issue reporting the unrecognized VM option.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/699367935","html_url":"https://github.com/elastic/elasticsearch/issues/51361#issuecomment-699367935","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51361","id":699367935,"node_id":"MDEyOklzc3VlQ29tbWVudDY5OTM2NzkzNQ==","user":{"login":"geerlingguy","id":481677,"node_id":"MDQ6VXNlcjQ4MTY3Nw==","avatar_url":"https://avatars1.githubusercontent.com/u/481677?v=4","gravatar_id":"","url":"https://api.github.com/users/geerlingguy","html_url":"https://github.com/geerlingguy","followers_url":"https://api.github.com/users/geerlingguy/followers","following_url":"https://api.github.com/users/geerlingguy/following{/other_user}","gists_url":"https://api.github.com/users/geerlingguy/gists{/gist_id}","starred_url":"https://api.github.com/users/geerlingguy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/geerlingguy/subscriptions","organizations_url":"https://api.github.com/users/geerlingguy/orgs","repos_url":"https://api.github.com/users/geerlingguy/repos","events_url":"https://api.github.com/users/geerlingguy/events{/privacy}","received_events_url":"https://api.github.com/users/geerlingguy/received_events","type":"User","site_admin":false},"created_at":"2020-09-26T04:16:57Z","updated_at":"2020-09-26T04:19:56Z","author_association":"NONE","body":"FYI I'm hitting this on OpenJDK 11 now:\r\n\r\n```\r\nSep 26 04:10:48 instance systemd[1]: Starting Elasticsearch...\r\nSep 26 04:10:49 instance systemd-entrypoint[4660]: Exception in thread \"main\" java.lang.RuntimeException: starting java failed with [1]\r\nSep 26 04:10:49 instance systemd-entrypoint[4660]: output:\r\nSep 26 04:10:49 instance systemd-entrypoint[4660]: error:\r\nSep 26 04:10:49 instance systemd-entrypoint[4660]: Unrecognized VM option 'UseConcMarkSweepGC'\r\nSep 26 04:10:49 instance systemd-entrypoint[4660]: Error: Could not create the Java Virtual Machine.\r\nSep 26 04:10:49 instance systemd-entrypoint[4660]: Error: A fatal exception has occurred. Program will exit.\r\nSep 26 04:10:49 instance systemd-entrypoint[4660]:         at org.elasticsearch.tools.launchers.JvmErgonomics.flagsFinal(JvmErgonomics.java:126)\r\nSep 26 04:10:49 instance systemd-entrypoint[4660]:         at org.elasticsearch.tools.launchers.JvmErgonomics.finalJvmOptions(JvmErgonomics.java:88)\r\nSep 26 04:10:49 instance systemd-entrypoint[4660]:         at org.elasticsearch.tools.launchers.JvmErgonomics.choose(JvmErgonomics.java:59)\r\nSep 26 04:10:49 instance systemd-entrypoint[4660]:         at org.elasticsearch.tools.launchers.JvmOptionsParser.jvmOptions(JvmOptionsParser.java:137)\r\nSep 26 04:10:49 instance systemd-entrypoint[4660]:         at org.elasticsearch.tools.launchers.JvmOptionsParser.main(JvmOptionsParser.java:95)\r\nSep 26 04:10:49 instance systemd[1]: elasticsearch.service: Main process exited, code=exited, status=1/FAILURE\r\nSep 26 04:10:49 instance systemd[1]: elasticsearch.service: Failed with result 'exit-code'.\r\n```\r\n\r\nEverything was working fine on new builds (executed weekly) until yesterday.\r\n\r\nRelated: https://github.com/elastic/elasticsearch/issues/62716","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/699655387","html_url":"https://github.com/elastic/elasticsearch/issues/51361#issuecomment-699655387","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51361","id":699655387,"node_id":"MDEyOklzc3VlQ29tbWVudDY5OTY1NTM4Nw==","user":{"login":"ahantoiu","id":58740067,"node_id":"MDQ6VXNlcjU4NzQwMDY3","avatar_url":"https://avatars1.githubusercontent.com/u/58740067?v=4","gravatar_id":"","url":"https://api.github.com/users/ahantoiu","html_url":"https://github.com/ahantoiu","followers_url":"https://api.github.com/users/ahantoiu/followers","following_url":"https://api.github.com/users/ahantoiu/following{/other_user}","gists_url":"https://api.github.com/users/ahantoiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ahantoiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahantoiu/subscriptions","organizations_url":"https://api.github.com/users/ahantoiu/orgs","repos_url":"https://api.github.com/users/ahantoiu/repos","events_url":"https://api.github.com/users/ahantoiu/events{/privacy}","received_events_url":"https://api.github.com/users/ahantoiu/received_events","type":"User","site_admin":false},"created_at":"2020-09-27T16:17:50Z","updated_at":"2020-09-27T16:17:50Z","author_association":"NONE","body":"I commented this GC configuration directives in \"/etc/elasticsearch/jvm.options\" and it works for me but I am not sure if this is the right thing to do.\r\n\r\n## GC configuration\r\n#-XX:+UseConcMarkSweepGC\r\n#-XX:CMSInitiatingOccupancyFraction=75\r\n#-XX:+UseCMSInitiatingOccupancyOnly\r\n\r\n\r\nES version:\r\n\r\n{\r\n  \"name\" : \"*****\",\r\n  \"cluster_name\" : \"*****\",\r\n  \"cluster_uuid\" : \"*****\",\r\n  \"version\" : {\r\n    \"number\" : \"7.9.2\",\r\n    \"build_flavor\" : \"default\",\r\n    \"build_type\" : \"rpm\",\r\n    \"build_hash\" : \"d34da0ea4a966c4e49417f2da2f244e3e97b4e6e\",\r\n    \"build_date\" : \"2020-09-23T00:45:33.626720Z\",\r\n    \"build_snapshot\" : false,\r\n    \"lucene_version\" : \"8.6.2\",\r\n    \"minimum_wire_compatibility_version\" : \"6.8.0\",\r\n    \"minimum_index_compatibility_version\" : \"6.0.0-beta1\"\r\n  },\r\n  \"tagline\" : \"You Know, for Search\"\r\n}\r\n\r\n\r\nJava version:\r\n\r\nopenjdk 11.0.8 2020-07-14 LTS\r\nOpenJDK Runtime Environment 18.9 (build 11.0.8+10-LTS)\r\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.8+10-LTS, mixed mode, sharing)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/699857404","html_url":"https://github.com/elastic/elasticsearch/issues/51361#issuecomment-699857404","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51361","id":699857404,"node_id":"MDEyOklzc3VlQ29tbWVudDY5OTg1NzQwNA==","user":{"login":"glmrenard","id":1943276,"node_id":"MDQ6VXNlcjE5NDMyNzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1943276?v=4","gravatar_id":"","url":"https://api.github.com/users/glmrenard","html_url":"https://github.com/glmrenard","followers_url":"https://api.github.com/users/glmrenard/followers","following_url":"https://api.github.com/users/glmrenard/following{/other_user}","gists_url":"https://api.github.com/users/glmrenard/gists{/gist_id}","starred_url":"https://api.github.com/users/glmrenard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glmrenard/subscriptions","organizations_url":"https://api.github.com/users/glmrenard/orgs","repos_url":"https://api.github.com/users/glmrenard/repos","events_url":"https://api.github.com/users/glmrenard/events{/privacy}","received_events_url":"https://api.github.com/users/glmrenard/received_events","type":"User","site_admin":false},"created_at":"2020-09-28T08:19:55Z","updated_at":"2020-09-28T08:19:55Z","author_association":"NONE","body":"Did the same it works, but I'm not that confident. Here my java version\r\n```\r\nopenjdk version \"1.8.0_242\"\r\nOpenJDK Runtime Environment (build 1.8.0_242-b08)\r\nOpenJDK 64-Bit Server VM (build 25.242-b08, mixed mode)\r\n\r\n```\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/703087979","html_url":"https://github.com/elastic/elasticsearch/issues/51361#issuecomment-703087979","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51361","id":703087979,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzA4Nzk3OQ==","user":{"login":"MrMontesa","id":600125,"node_id":"MDQ6VXNlcjYwMDEyNQ==","avatar_url":"https://avatars3.githubusercontent.com/u/600125?v=4","gravatar_id":"","url":"https://api.github.com/users/MrMontesa","html_url":"https://github.com/MrMontesa","followers_url":"https://api.github.com/users/MrMontesa/followers","following_url":"https://api.github.com/users/MrMontesa/following{/other_user}","gists_url":"https://api.github.com/users/MrMontesa/gists{/gist_id}","starred_url":"https://api.github.com/users/MrMontesa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MrMontesa/subscriptions","organizations_url":"https://api.github.com/users/MrMontesa/orgs","repos_url":"https://api.github.com/users/MrMontesa/repos","events_url":"https://api.github.com/users/MrMontesa/events{/privacy}","received_events_url":"https://api.github.com/users/MrMontesa/received_events","type":"User","site_admin":false},"created_at":"2020-10-03T11:22:15Z","updated_at":"2020-10-03T11:22:15Z","author_association":"NONE","body":"Same here. Updated my CentOS 7 server today and ran into the same issue. Tip from @ahantoiu worked for me as well.\r\nMy system:\r\n```\r\n[root@host elasticsearch]# rpm -qa |grep -E \"openjdk|elastic\"\r\njava-1.8.0-openjdk-1.8.0.262.b10-0.el7_8.x86_64\r\nelasticsearch-7.9.2-1.x86_64\r\njava-1.8.0-openjdk-headless-1.8.0.262.b10-0.el7_8.x86_64\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/704208369","html_url":"https://github.com/elastic/elasticsearch/issues/51361#issuecomment-704208369","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51361","id":704208369,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDIwODM2OQ==","user":{"login":"abcqwertz","id":68959039,"node_id":"MDQ6VXNlcjY4OTU5MDM5","avatar_url":"https://avatars0.githubusercontent.com/u/68959039?v=4","gravatar_id":"","url":"https://api.github.com/users/abcqwertz","html_url":"https://github.com/abcqwertz","followers_url":"https://api.github.com/users/abcqwertz/followers","following_url":"https://api.github.com/users/abcqwertz/following{/other_user}","gists_url":"https://api.github.com/users/abcqwertz/gists{/gist_id}","starred_url":"https://api.github.com/users/abcqwertz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abcqwertz/subscriptions","organizations_url":"https://api.github.com/users/abcqwertz/orgs","repos_url":"https://api.github.com/users/abcqwertz/repos","events_url":"https://api.github.com/users/abcqwertz/events{/privacy}","received_events_url":"https://api.github.com/users/abcqwertz/received_events","type":"User","site_admin":false},"created_at":"2020-10-06T11:33:40Z","updated_at":"2020-10-06T11:34:02Z","author_association":"NONE","body":"I encountered the same problem (CentOS 7, elasticsearch 7.9.2). I made some research and found this [elastic-disscusion](https://discuss.elastic.co/t/elasticsearch-wont-start-after-7-9-1-to-7-9-2-upgrade/249878).\r\nI replaced:\r\n```\r\n-XX:+UseConcMarkSweepGC\r\n-XX:CMSInitiatingOccupancyFraction=75\r\n-XX:+UseCMSInitiatingOccupancyOnly\r\n```\r\nwith\r\n```\r\n8-13:-XX:+UseConcMarkSweepGC\r\n8-13:-XX:CMSInitiatingOccupancyFraction=75\r\n8-13:-XX:+UseCMSInitiatingOccupancyOnly\r\n```\r\nin my jvm.options file. After that, elastic-service ist starting without problems. In Elastic 7.9.2 the bundled JDK was upgraded to version 15. You can see this in the [Pull-Request](https://github.com/elastic/elasticsearch/pull/62580/files) linked to the discussion link. Hope this helps.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/705799605","html_url":"https://github.com/elastic/elasticsearch/issues/51361#issuecomment-705799605","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51361","id":705799605,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTc5OTYwNQ==","user":{"login":"ksaylor11","id":2019974,"node_id":"MDQ6VXNlcjIwMTk5NzQ=","avatar_url":"https://avatars1.githubusercontent.com/u/2019974?v=4","gravatar_id":"","url":"https://api.github.com/users/ksaylor11","html_url":"https://github.com/ksaylor11","followers_url":"https://api.github.com/users/ksaylor11/followers","following_url":"https://api.github.com/users/ksaylor11/following{/other_user}","gists_url":"https://api.github.com/users/ksaylor11/gists{/gist_id}","starred_url":"https://api.github.com/users/ksaylor11/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ksaylor11/subscriptions","organizations_url":"https://api.github.com/users/ksaylor11/orgs","repos_url":"https://api.github.com/users/ksaylor11/repos","events_url":"https://api.github.com/users/ksaylor11/events{/privacy}","received_events_url":"https://api.github.com/users/ksaylor11/received_events","type":"User","site_admin":false},"created_at":"2020-10-08T20:16:30Z","updated_at":"2020-10-08T20:16:30Z","author_association":"NONE","body":"> \r\n> \r\n> I commented this GC configuration directives in \"/etc/elasticsearch/jvm.options\" and it works for me but I am not sure if this is the right thing to do.\r\n> ## GC configuration\r\n> \r\n> #-XX:+UseConcMarkSweepGC\r\n> #-XX:CMSInitiatingOccupancyFraction=75\r\n> #-XX:+UseCMSInitiatingOccupancyOnly\r\n> \r\n> ES version:\r\n> \r\n> {\r\n> \"name\" : \"_****\", \"cluster_name\" : \"****_\",\r\n> \"cluster_uuid\" : \"*****\",\r\n> \"version\" : {\r\n> \"number\" : \"7.9.2\",\r\n> \"build_flavor\" : \"default\",\r\n> \"build_type\" : \"rpm\",\r\n> \"build_hash\" : \"d34da0ea4a966c4e49417f2da2f244e3e97b4e6e\",\r\n> \"build_date\" : \"2020-09-23T00:45:33.626720Z\",\r\n> \"build_snapshot\" : false,\r\n> \"lucene_version\" : \"8.6.2\",\r\n> \"minimum_wire_compatibility_version\" : \"6.8.0\",\r\n> \"minimum_index_compatibility_version\" : \"6.0.0-beta1\"\r\n> },\r\n> \"tagline\" : \"You Know, for Search\"\r\n> }\r\n> \r\n> Java version:\r\n> \r\n> openjdk 11.0.8 2020-07-14 LTS\r\n> OpenJDK Runtime Environment 18.9 (build 11.0.8+10-LTS)\r\n> OpenJDK 64-Bit Server VM 18.9 (build 11.0.8+10-LTS, mixed mode, sharing)\r\n\r\nJust had to do the same, has anyone run into problems yet?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/706176549","html_url":"https://github.com/elastic/elasticsearch/issues/51361#issuecomment-706176549","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51361","id":706176549,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjE3NjU0OQ==","user":{"login":"Atreiide","id":62542295,"node_id":"MDQ6VXNlcjYyNTQyMjk1","avatar_url":"https://avatars1.githubusercontent.com/u/62542295?v=4","gravatar_id":"","url":"https://api.github.com/users/Atreiide","html_url":"https://github.com/Atreiide","followers_url":"https://api.github.com/users/Atreiide/followers","following_url":"https://api.github.com/users/Atreiide/following{/other_user}","gists_url":"https://api.github.com/users/Atreiide/gists{/gist_id}","starred_url":"https://api.github.com/users/Atreiide/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Atreiide/subscriptions","organizations_url":"https://api.github.com/users/Atreiide/orgs","repos_url":"https://api.github.com/users/Atreiide/repos","events_url":"https://api.github.com/users/Atreiide/events{/privacy}","received_events_url":"https://api.github.com/users/Atreiide/received_events","type":"User","site_admin":false},"created_at":"2020-10-09T13:20:20Z","updated_at":"2020-10-09T13:20:20Z","author_association":"NONE","body":"Same issue. \r\n\r\nCentOS 7\r\n\r\n/usr/share/elasticsearch/jdk/bin/java -version : \r\n\r\nopenjdk version \"14.0.1\" 2020-04-14\r\nOpenJDK Runtime Environment AdoptOpenJDK (build 14.0.1+7)\r\nOpenJDK 64-Bit Server VM AdoptOpenJDK (build 14.0.1+7, mixed mode, sharing)\r\n\r\nI downgraded to 7.9.1 to solve the issue.\r\n\r\nWhy issue has been closed ? ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/707366906","html_url":"https://github.com/elastic/elasticsearch/issues/51361#issuecomment-707366906","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51361","id":707366906,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNzM2NjkwNg==","user":{"login":"CodeNameTheOnlyOne","id":599362,"node_id":"MDQ6VXNlcjU5OTM2Mg==","avatar_url":"https://avatars3.githubusercontent.com/u/599362?v=4","gravatar_id":"","url":"https://api.github.com/users/CodeNameTheOnlyOne","html_url":"https://github.com/CodeNameTheOnlyOne","followers_url":"https://api.github.com/users/CodeNameTheOnlyOne/followers","following_url":"https://api.github.com/users/CodeNameTheOnlyOne/following{/other_user}","gists_url":"https://api.github.com/users/CodeNameTheOnlyOne/gists{/gist_id}","starred_url":"https://api.github.com/users/CodeNameTheOnlyOne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CodeNameTheOnlyOne/subscriptions","organizations_url":"https://api.github.com/users/CodeNameTheOnlyOne/orgs","repos_url":"https://api.github.com/users/CodeNameTheOnlyOne/repos","events_url":"https://api.github.com/users/CodeNameTheOnlyOne/events{/privacy}","received_events_url":"https://api.github.com/users/CodeNameTheOnlyOne/received_events","type":"User","site_admin":false},"created_at":"2020-10-12T21:59:27Z","updated_at":"2020-10-12T21:59:27Z","author_association":"NONE","body":"also having this issue after doing a yum update\r\nopenjdk version \"15\" 2020-09-15\r\nOpenJDK Runtime Environment AdoptOpenJDK (build 15+36)\r\nOpenJDK 64-Bit Server VM AdoptOpenJDK (build 15+36, mixed mode, sharing)\r\n\r\ncommented the lines  in /etc/elasticsearch/jvm.options out and it starts now.\r\nnot sure why this issue is closed\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/707423698","html_url":"https://github.com/elastic/elasticsearch/issues/51361#issuecomment-707423698","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51361","id":707423698,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNzQyMzY5OA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2020-10-13T01:09:09Z","updated_at":"2020-10-13T01:09:09Z","author_association":"MEMBER","body":"Elasticsearch ships a JVM options file. We might update this between releases. If you bring along your old one and don't merge it properly with the new one we ship, then you might have options in there from an older version of the JVM that are no longer supported on newer versions of the JVM. We haven't shipped with this flag in our default options file since 7.7.0, and it's not in the packages we are shipping now. If it's in your options file, you need to remove it, we can't do it for you. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/726177271","html_url":"https://github.com/elastic/elasticsearch/issues/51361#issuecomment-726177271","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/51361","id":726177271,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNjE3NzI3MQ==","user":{"login":"davama","id":5359152,"node_id":"MDQ6VXNlcjUzNTkxNTI=","avatar_url":"https://avatars1.githubusercontent.com/u/5359152?v=4","gravatar_id":"","url":"https://api.github.com/users/davama","html_url":"https://github.com/davama","followers_url":"https://api.github.com/users/davama/followers","following_url":"https://api.github.com/users/davama/following{/other_user}","gists_url":"https://api.github.com/users/davama/gists{/gist_id}","starred_url":"https://api.github.com/users/davama/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davama/subscriptions","organizations_url":"https://api.github.com/users/davama/orgs","repos_url":"https://api.github.com/users/davama/repos","events_url":"https://api.github.com/users/davama/events{/privacy}","received_events_url":"https://api.github.com/users/davama/received_events","type":"User","site_admin":false},"created_at":"2020-11-12T16:12:40Z","updated_at":"2020-11-12T16:12:40Z","author_association":"NONE","body":"> I encountered the same problem (CentOS 7, elasticsearch 7.9.2). I made some research and found this [elastic-disscusion](https://discuss.elastic.co/t/elasticsearch-wont-start-after-7-9-1-to-7-9-2-upgrade/249878).\r\n> I replaced:\r\n> \r\n> ```\r\n> -XX:+UseConcMarkSweepGC\r\n> -XX:CMSInitiatingOccupancyFraction=75\r\n> -XX:+UseCMSInitiatingOccupancyOnly\r\n> ```\r\n> \r\n> with\r\n> \r\n> ```\r\n> 8-13:-XX:+UseConcMarkSweepGC\r\n> 8-13:-XX:CMSInitiatingOccupancyFraction=75\r\n> 8-13:-XX:+UseCMSInitiatingOccupancyOnly\r\n> ```\r\n> \r\n> in my jvm.options file. After that, elastic-service ist starting without problems. In Elastic 7.9.2 the bundled JDK was upgraded to version 15. You can see this in the [Pull-Request](https://github.com/elastic/elasticsearch/pull/62580/files) linked to the discussion link. Hope this helps.\r\n\r\n@abcqwertz \r\nThis worked for me!\r\nThank you!\r\n\r\nmy environment:\r\n```\r\njava-1.8.0-openjdk-headless-1.8.0.272.b10-1.el7_9.x86_64\r\njava-1.8.0-openjdk-1.8.0.272.b10-1.el7_9.x86_64\r\nelasticsearch-7.10.0-1.x86_64\r\n\r\n```","performed_via_github_app":null}]