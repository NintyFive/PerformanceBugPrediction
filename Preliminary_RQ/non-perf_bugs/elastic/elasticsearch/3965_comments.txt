[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/26993355","html_url":"https://github.com/elastic/elasticsearch/issues/3965#issuecomment-26993355","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3965","id":26993355,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTkzMzU1","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2013-10-24T13:48:22Z","updated_at":"2013-10-24T13:48:22Z","author_association":"CONTRIBUTOR","body":"Could this be because of the stop word `no`?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/26996547","html_url":"https://github.com/elastic/elasticsearch/issues/3965#issuecomment-26996547","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3965","id":26996547,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTk2NTQ3","user":{"login":"ajhalani","id":1163503,"node_id":"MDQ6VXNlcjExNjM1MDM=","avatar_url":"https://avatars3.githubusercontent.com/u/1163503?v=4","gravatar_id":"","url":"https://api.github.com/users/ajhalani","html_url":"https://github.com/ajhalani","followers_url":"https://api.github.com/users/ajhalani/followers","following_url":"https://api.github.com/users/ajhalani/following{/other_user}","gists_url":"https://api.github.com/users/ajhalani/gists{/gist_id}","starred_url":"https://api.github.com/users/ajhalani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajhalani/subscriptions","organizations_url":"https://api.github.com/users/ajhalani/orgs","repos_url":"https://api.github.com/users/ajhalani/repos","events_url":"https://api.github.com/users/ajhalani/events{/privacy}","received_events_url":"https://api.github.com/users/ajhalani/received_events","type":"User","site_admin":false},"created_at":"2013-10-24T14:26:30Z","updated_at":"2013-10-24T14:26:30Z","author_association":"NONE","body":"I am able to replicate with another query without `no`. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/26996709","html_url":"https://github.com/elastic/elasticsearch/issues/3965#issuecomment-26996709","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3965","id":26996709,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTk2NzA5","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2013-10-24T14:28:13Z","updated_at":"2013-10-24T14:28:13Z","author_association":"CONTRIBUTOR","body":"Do all of your child docs have the field `set_aside_descriptions`?\n\nDo your child docs exist on all shards? or do you just have child docs at the moment?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/26998474","html_url":"https://github.com/elastic/elasticsearch/issues/3965#issuecomment-26998474","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3965","id":26998474,"node_id":"MDEyOklzc3VlQ29tbWVudDI2OTk4NDc0","user":{"login":"ajhalani","id":1163503,"node_id":"MDQ6VXNlcjExNjM1MDM=","avatar_url":"https://avatars3.githubusercontent.com/u/1163503?v=4","gravatar_id":"","url":"https://api.github.com/users/ajhalani","html_url":"https://github.com/ajhalani","followers_url":"https://api.github.com/users/ajhalani/followers","following_url":"https://api.github.com/users/ajhalani/following{/other_user}","gists_url":"https://api.github.com/users/ajhalani/gists{/gist_id}","starred_url":"https://api.github.com/users/ajhalani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajhalani/subscriptions","organizations_url":"https://api.github.com/users/ajhalani/orgs","repos_url":"https://api.github.com/users/ajhalani/repos","events_url":"https://api.github.com/users/ajhalani/events{/privacy}","received_events_url":"https://api.github.com/users/ajhalani/received_events","type":"User","site_admin":false},"created_at":"2013-10-24T14:47:29Z","updated_at":"2013-10-24T14:47:53Z","author_association":"NONE","body":"yes set_aside_descriptions field is populated for all child documents. \nYes child docs exist on all shards. \n\nI notice that this issue is only happening for filter which result in a large number of child docs. For e.g. \nfor field `set_aside_descriptions`, the 2 top match values(matching 1450731 and 249870 child docs)  are failing but not for the rest(46123 and below). \nSimilarly for another field `socioeconomic_indicators_names` where the issue is happening, it fails for top 3 match values (matching 1373706, 876751 and 804976 child docs) but not for the rest (350865 and below)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27003897","html_url":"https://github.com/elastic/elasticsearch/issues/3965#issuecomment-27003897","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3965","id":27003897,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDAzODk3","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-10-24T15:47:07Z","updated_at":"2013-10-24T15:48:13Z","author_association":"CONTRIBUTOR","body":"I don't think 0.90.6 is vulnerable to this since we pull the iterator forcefully during weight creation\n\n```\nDocIdSet docIdSet = new ParentDocSet(context.reader(), parentsBits, collectedUids.v(), idReaderTypeCache);\n return ConstantScorer.create(docIdSet, this, queryWeight); // <=== pulls the docIdSet.iterator()\n```\n\nI'd still be curious if we can reproduce this somehow. FYI we literally rewrote `ParentChild` internally to have proper queries etc.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27004589","html_url":"https://github.com/elastic/elasticsearch/issues/3965#issuecomment-27004589","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3965","id":27004589,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDA0NTg5","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2013-10-24T15:54:40Z","updated_at":"2013-10-24T15:54:40Z","author_association":"CONTRIBUTOR","body":"@ajhalani any chance you could try distilling this failure down to something we can replicate? That way we can make sure that it is fixed in 0.90.6, which is due out soon.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27004957","html_url":"https://github.com/elastic/elasticsearch/issues/3965#issuecomment-27004957","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3965","id":27004957,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDA0OTU3","user":{"login":"ajhalani","id":1163503,"node_id":"MDQ6VXNlcjExNjM1MDM=","avatar_url":"https://avatars3.githubusercontent.com/u/1163503?v=4","gravatar_id":"","url":"https://api.github.com/users/ajhalani","html_url":"https://github.com/ajhalani","followers_url":"https://api.github.com/users/ajhalani/followers","following_url":"https://api.github.com/users/ajhalani/following{/other_user}","gists_url":"https://api.github.com/users/ajhalani/gists{/gist_id}","starred_url":"https://api.github.com/users/ajhalani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajhalani/subscriptions","organizations_url":"https://api.github.com/users/ajhalani/orgs","repos_url":"https://api.github.com/users/ajhalani/repos","events_url":"https://api.github.com/users/ajhalani/events{/privacy}","received_events_url":"https://api.github.com/users/ajhalani/received_events","type":"User","site_admin":false},"created_at":"2013-10-24T15:58:34Z","updated_at":"2013-10-24T15:58:34Z","author_association":"NONE","body":"it will be little tough to provide replicable steps since the issue seems to be data specific. I will try to write a script which populates millions of small child docs to and see if it still happens. If not, I can build the v0.90 master branch and test it against our data.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27005046","html_url":"https://github.com/elastic/elasticsearch/issues/3965#issuecomment-27005046","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3965","id":27005046,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDA1MDQ2","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2013-10-24T15:59:38Z","updated_at":"2013-10-24T15:59:38Z","author_association":"CONTRIBUTOR","body":"even if it is long, it would be useful.\n\ni'd prefer to have an actual test case that we can add to our test suite, rather than just making sure that it is fixed for now :)\n\nthanks\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27015799","html_url":"https://github.com/elastic/elasticsearch/issues/3965#issuecomment-27015799","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3965","id":27015799,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDE1Nzk5","user":{"login":"ajhalani","id":1163503,"node_id":"MDQ6VXNlcjExNjM1MDM=","avatar_url":"https://avatars3.githubusercontent.com/u/1163503?v=4","gravatar_id":"","url":"https://api.github.com/users/ajhalani","html_url":"https://github.com/ajhalani","followers_url":"https://api.github.com/users/ajhalani/followers","following_url":"https://api.github.com/users/ajhalani/following{/other_user}","gists_url":"https://api.github.com/users/ajhalani/gists{/gist_id}","starred_url":"https://api.github.com/users/ajhalani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajhalani/subscriptions","organizations_url":"https://api.github.com/users/ajhalani/orgs","repos_url":"https://api.github.com/users/ajhalani/repos","events_url":"https://api.github.com/users/ajhalani/events{/privacy}","received_events_url":"https://api.github.com/users/ajhalani/received_events","type":"User","site_admin":false},"created_at":"2013-10-24T18:08:50Z","updated_at":"2013-10-24T18:08:50Z","author_association":"NONE","body":"I understand replicable test will be very useful but I am unable to share the original index data. I tried replicating it in a new index with dummy data but cannot replicate the issue. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27018670","html_url":"https://github.com/elastic/elasticsearch/issues/3965#issuecomment-27018670","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3965","id":27018670,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDE4Njcw","user":{"login":"ajhalani","id":1163503,"node_id":"MDQ6VXNlcjExNjM1MDM=","avatar_url":"https://avatars3.githubusercontent.com/u/1163503?v=4","gravatar_id":"","url":"https://api.github.com/users/ajhalani","html_url":"https://github.com/ajhalani","followers_url":"https://api.github.com/users/ajhalani/followers","following_url":"https://api.github.com/users/ajhalani/following{/other_user}","gists_url":"https://api.github.com/users/ajhalani/gists{/gist_id}","starred_url":"https://api.github.com/users/ajhalani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajhalani/subscriptions","organizations_url":"https://api.github.com/users/ajhalani/orgs","repos_url":"https://api.github.com/users/ajhalani/repos","events_url":"https://api.github.com/users/ajhalani/events{/privacy}","received_events_url":"https://api.github.com/users/ajhalani/received_events","type":"User","site_admin":false},"created_at":"2013-10-24T18:41:23Z","updated_at":"2013-10-24T18:41:23Z","author_association":"NONE","body":"I updated one of the 3 nodes in cluster to v0.90 master and errors stopped happening. I don't understand why upgrading just one of the the 3 nodes stopped failures on other nodes as well. \n\nReverting back to v0.90.5 they happen again :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27020542","html_url":"https://github.com/elastic/elasticsearch/issues/3965#issuecomment-27020542","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3965","id":27020542,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDIwNTQy","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-10-24T19:03:26Z","updated_at":"2013-10-24T19:03:26Z","author_association":"CONTRIBUTOR","body":"good stuff so I will close this for now! Thanks so much for verifying this is very much appreciated!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27021226","html_url":"https://github.com/elastic/elasticsearch/issues/3965#issuecomment-27021226","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3965","id":27021226,"node_id":"MDEyOklzc3VlQ29tbWVudDI3MDIxMjI2","user":{"login":"ajhalani","id":1163503,"node_id":"MDQ6VXNlcjExNjM1MDM=","avatar_url":"https://avatars3.githubusercontent.com/u/1163503?v=4","gravatar_id":"","url":"https://api.github.com/users/ajhalani","html_url":"https://github.com/ajhalani","followers_url":"https://api.github.com/users/ajhalani/followers","following_url":"https://api.github.com/users/ajhalani/following{/other_user}","gists_url":"https://api.github.com/users/ajhalani/gists{/gist_id}","starred_url":"https://api.github.com/users/ajhalani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajhalani/subscriptions","organizations_url":"https://api.github.com/users/ajhalani/orgs","repos_url":"https://api.github.com/users/ajhalani/repos","events_url":"https://api.github.com/users/ajhalani/events{/privacy}","received_events_url":"https://api.github.com/users/ajhalani/received_events","type":"User","site_admin":false},"created_at":"2013-10-24T19:12:14Z","updated_at":"2013-10-24T19:12:14Z","author_association":"NONE","body":"thanks for all the help, looking forward to next release :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27561662","html_url":"https://github.com/elastic/elasticsearch/issues/3965#issuecomment-27561662","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3965","id":27561662,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTYxNjYy","user":{"login":"joelabrahamsson","id":218986,"node_id":"MDQ6VXNlcjIxODk4Ng==","avatar_url":"https://avatars2.githubusercontent.com/u/218986?v=4","gravatar_id":"","url":"https://api.github.com/users/joelabrahamsson","html_url":"https://github.com/joelabrahamsson","followers_url":"https://api.github.com/users/joelabrahamsson/followers","following_url":"https://api.github.com/users/joelabrahamsson/following{/other_user}","gists_url":"https://api.github.com/users/joelabrahamsson/gists{/gist_id}","starred_url":"https://api.github.com/users/joelabrahamsson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joelabrahamsson/subscriptions","organizations_url":"https://api.github.com/users/joelabrahamsson/orgs","repos_url":"https://api.github.com/users/joelabrahamsson/repos","events_url":"https://api.github.com/users/joelabrahamsson/events{/privacy}","received_events_url":"https://api.github.com/users/joelabrahamsson/received_events","type":"User","site_admin":false},"created_at":"2013-11-01T12:13:39Z","updated_at":"2013-11-01T12:13:39Z","author_association":"NONE","body":"We had the same issue with 0.90.5 and can confirm that when using a built version of the master branch instead the issue is resolved.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27578811","html_url":"https://github.com/elastic/elasticsearch/issues/3965#issuecomment-27578811","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3965","id":27578811,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NTc4ODEx","user":{"login":"ajhalani","id":1163503,"node_id":"MDQ6VXNlcjExNjM1MDM=","avatar_url":"https://avatars3.githubusercontent.com/u/1163503?v=4","gravatar_id":"","url":"https://api.github.com/users/ajhalani","html_url":"https://github.com/ajhalani","followers_url":"https://api.github.com/users/ajhalani/followers","following_url":"https://api.github.com/users/ajhalani/following{/other_user}","gists_url":"https://api.github.com/users/ajhalani/gists{/gist_id}","starred_url":"https://api.github.com/users/ajhalani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajhalani/subscriptions","organizations_url":"https://api.github.com/users/ajhalani/orgs","repos_url":"https://api.github.com/users/ajhalani/repos","events_url":"https://api.github.com/users/ajhalani/events{/privacy}","received_events_url":"https://api.github.com/users/ajhalani/received_events","type":"User","site_admin":false},"created_at":"2013-11-01T16:30:59Z","updated_at":"2013-11-01T16:30:59Z","author_association":"NONE","body":"Would it be possible to provide an ETA when the next ES version release is planned for? It will help to determine if we should put effort in a temporary workaround. \n","performed_via_github_app":null}]