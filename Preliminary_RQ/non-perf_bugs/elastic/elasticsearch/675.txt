{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/675","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/675/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/675/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/675/events","html_url":"https://github.com/elastic/elasticsearch/issues/675","id":582000,"node_id":"MDU6SXNzdWU1ODIwMDA=","number":675,"title":"geo_point explicit mapping does not work","user":{"login":"plexorama","id":605167,"node_id":"MDQ6VXNlcjYwNTE2Nw==","avatar_url":"https://avatars1.githubusercontent.com/u/605167?v=4","gravatar_id":"","url":"https://api.github.com/users/plexorama","html_url":"https://github.com/plexorama","followers_url":"https://api.github.com/users/plexorama/followers","following_url":"https://api.github.com/users/plexorama/following{/other_user}","gists_url":"https://api.github.com/users/plexorama/gists{/gist_id}","starred_url":"https://api.github.com/users/plexorama/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/plexorama/subscriptions","organizations_url":"https://api.github.com/users/plexorama/orgs","repos_url":"https://api.github.com/users/plexorama/repos","events_url":"https://api.github.com/users/plexorama/events{/privacy}","received_events_url":"https://api.github.com/users/plexorama/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2011-02-07T23:39:29Z","updated_at":"2011-02-07T23:43:16Z","closed_at":"2011-02-07T23:43:16Z","author_association":"NONE","active_lock_reason":null,"body":"#### having spent 2 days trying to figure out how to use geo_point explicit mapping\n\ngave me NO SUCCESS. the dynamic mapping seems to be active by default, ignoring any explicit mappings I set, as follows:\n## \n#### 1. create the index...\n\n$ curl -XPUT 'localhost:9200/geo/'\n{\n  \"ok\" : true,\n  \"acknowledged\" : true\n}\n## \n#### 2. set explicit mapping\n\n$ curl -XPUT 'localhost:9200/geo/places/_mapping?pretty=true' -d '{ \"properties\": { \"location\": { \"type\" :\"geo_point\" }}}'\n{\n  \"ok\" : true,\n  \"acknowledged\" : true\n}\n\nabove it gives me an _ok_ and _acknowledged_, but I guess it doesn't really mean anything\n## \n#### 3. requesting the _mapping returns the following\n\ncurl -XGET 'localhost:9200/geo/places/_mapping?pretty=true'\n{\n  \"geo\" : {\n    \"places\" : {\n      \"properties\" : {\n      }\n    }\n  }\n}\n## \n#### 4. adding a new document\n\ncurl -XPUT  'localhost:9200/geo/places/1?pretty=true' -d '{ location: \"1.0,1.0\" }'\n{\n  \"ok\" : true,\n  \"_index\" : \"geo\",\n  \"_type\" : \"places\",\n  \"_id\" : \"1\"\n}\n## \n#### 5. requesting the _mapping after adding the first document,\n\n$ curl -XGET 'localhost:9200/geo/places/_mapping?pretty=true'\n{\n  \"geo\" : {\n    \"places\" : {\n      \"properties\" : {\n        \"location\" : {\n          \"type\" : \"string\"\n        }\n      }\n    } \n  }\n}\n## \n#### I've repeated these steps several times with different types for \"location\" (ie.: array, string) WITHOUT any success.\n\nalso, trying to _search using a \"filtered\"-query, as described in the docs, I had no success!\n## \n#### resume\n\na) explicit mappings don't work\n\nb) geo_point-type seems not to be ready\n\nc) I understand that adopting new technologies can be very cumbersome and time consuming, but having a project documentation that is leading literally nowhere, really does frustrate.\n\nd) I hope there'll be an updated documentation on the _mapping and geo_point issue and how to use explicit mappings properly before I throw in the towel\n","closed_by":null,"performed_via_github_app":null}