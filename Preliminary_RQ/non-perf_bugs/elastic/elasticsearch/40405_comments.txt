[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/476192682","html_url":"https://github.com/elastic/elasticsearch/issues/40405#issuecomment-476192682","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40405","id":476192682,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NjE5MjY4Mg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-03-25T13:19:33Z","updated_at":"2019-03-25T13:19:33Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/476568301","html_url":"https://github.com/elastic/elasticsearch/issues/40405#issuecomment-476568301","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40405","id":476568301,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NjU2ODMwMQ==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2019-03-26T10:40:22Z","updated_at":"2019-03-26T10:40:22Z","author_association":"MEMBER","body":"I confirmed that is a bug, the `name` parameter is not copied when the query is rewritten:\r\nhttps://github.com/elastic/elasticsearch/blob/62f0895424f44742f59bab87ee645b3f46159e1b/modules/percolator/src/main/java/org/elasticsearch/percolator/PercolateQueryBuilder.java#L558\r\n@tlinhart would you be interested in providing a pull request to fix this ? This would be a great starter issue for someone who wanted to contribute.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/477013200","html_url":"https://github.com/elastic/elasticsearch/issues/40405#issuecomment-477013200","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40405","id":477013200,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzAxMzIwMA==","user":{"login":"tlinhart","id":12714153,"node_id":"MDQ6VXNlcjEyNzE0MTUz","avatar_url":"https://avatars1.githubusercontent.com/u/12714153?v=4","gravatar_id":"","url":"https://api.github.com/users/tlinhart","html_url":"https://github.com/tlinhart","followers_url":"https://api.github.com/users/tlinhart/followers","following_url":"https://api.github.com/users/tlinhart/following{/other_user}","gists_url":"https://api.github.com/users/tlinhart/gists{/gist_id}","starred_url":"https://api.github.com/users/tlinhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlinhart/subscriptions","organizations_url":"https://api.github.com/users/tlinhart/orgs","repos_url":"https://api.github.com/users/tlinhart/repos","events_url":"https://api.github.com/users/tlinhart/events{/privacy}","received_events_url":"https://api.github.com/users/tlinhart/received_events","type":"User","site_admin":false},"created_at":"2019-03-27T07:25:24Z","updated_at":"2019-03-27T07:25:24Z","author_association":"NONE","body":"Hi @jimczi, yeah, I may give it a try. It just might take some time to setup the environment etc. I guess [CONTRIBUTING.md](https://github.com/elastic/elasticsearch/blob/master/CONTRIBUTING.md) is the starting point, right?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/477022156","html_url":"https://github.com/elastic/elasticsearch/issues/40405#issuecomment-477022156","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40405","id":477022156,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzAyMjE1Ng==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2019-03-27T07:53:30Z","updated_at":"2019-03-27T07:53:30Z","author_association":"MEMBER","body":"Thanks @tlinhart ,\r\n\r\n> I guess CONTRIBUTING.md is the starting point, right?\r\n\r\nIt is yes. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/479030618","html_url":"https://github.com/elastic/elasticsearch/issues/40405#issuecomment-479030618","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40405","id":479030618,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTAzMDYxOA==","user":{"login":"gurkankaymak","id":7164005,"node_id":"MDQ6VXNlcjcxNjQwMDU=","avatar_url":"https://avatars2.githubusercontent.com/u/7164005?v=4","gravatar_id":"","url":"https://api.github.com/users/gurkankaymak","html_url":"https://github.com/gurkankaymak","followers_url":"https://api.github.com/users/gurkankaymak/followers","following_url":"https://api.github.com/users/gurkankaymak/following{/other_user}","gists_url":"https://api.github.com/users/gurkankaymak/gists{/gist_id}","starred_url":"https://api.github.com/users/gurkankaymak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gurkankaymak/subscriptions","organizations_url":"https://api.github.com/users/gurkankaymak/orgs","repos_url":"https://api.github.com/users/gurkankaymak/repos","events_url":"https://api.github.com/users/gurkankaymak/events{/privacy}","received_events_url":"https://api.github.com/users/gurkankaymak/received_events","type":"User","site_admin":false},"created_at":"2019-04-02T14:45:00Z","updated_at":"2019-04-02T14:45:00Z","author_association":"CONTRIBUTOR","body":"Hi @jimczi, are you sure this is a bug?\r\n\r\nI've tried with both version 6.5.4 and master, and both of them worked as stated in the documentation, the result contains the name as suffix `_percolator_document_slot_query1`\r\n\r\nif you could help me to reproduce the error case, i would be happy to provide a pull request to fix","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/479041687","html_url":"https://github.com/elastic/elasticsearch/issues/40405#issuecomment-479041687","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40405","id":479041687,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTA0MTY4Nw==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2019-04-02T15:09:10Z","updated_at":"2019-04-02T15:09:10Z","author_association":"MEMBER","body":"@gurkankaymak the docs example works because it uses \"fake\" documents in the query. The bug described here is triggered only when documents are retrieved from an already stored document:\r\n````\r\n{\r\n          \"percolate\": {\r\n            \"field\": \"watcher.query\",\r\n            \"index\": \"my_index\",\r\n            \"type\": \"_doc\",\r\n            \"id\": \"5bdaf10f67c85d283c174ad9\",\r\n            \"name\": \"name2\"\r\n}\r\n````","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/479880853","html_url":"https://github.com/elastic/elasticsearch/issues/40405#issuecomment-479880853","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40405","id":479880853,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTg4MDg1Mw==","user":{"login":"gurkankaymak","id":7164005,"node_id":"MDQ6VXNlcjcxNjQwMDU=","avatar_url":"https://avatars2.githubusercontent.com/u/7164005?v=4","gravatar_id":"","url":"https://api.github.com/users/gurkankaymak","html_url":"https://github.com/gurkankaymak","followers_url":"https://api.github.com/users/gurkankaymak/followers","following_url":"https://api.github.com/users/gurkankaymak/following{/other_user}","gists_url":"https://api.github.com/users/gurkankaymak/gists{/gist_id}","starred_url":"https://api.github.com/users/gurkankaymak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gurkankaymak/subscriptions","organizations_url":"https://api.github.com/users/gurkankaymak/orgs","repos_url":"https://api.github.com/users/gurkankaymak/repos","events_url":"https://api.github.com/users/gurkankaymak/events{/privacy}","received_events_url":"https://api.github.com/users/gurkankaymak/received_events","type":"User","site_admin":false},"created_at":"2019-04-04T12:41:59Z","updated_at":"2019-04-04T12:41:59Z","author_association":"CONTRIBUTOR","body":"thanks @jimczi, I opened a pull request #40843","performed_via_github_app":null}]