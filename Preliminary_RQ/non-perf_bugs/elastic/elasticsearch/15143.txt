{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/15143","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15143/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15143/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15143/events","html_url":"https://github.com/elastic/elasticsearch/issues/15143","id":119696534,"node_id":"MDU6SXNzdWUxMTk2OTY1MzQ=","number":15143,"title":"java.net.SocketException: Protocol family unavailable","user":{"login":"shashidharrao","id":14035749,"node_id":"MDQ6VXNlcjE0MDM1NzQ5","avatar_url":"https://avatars1.githubusercontent.com/u/14035749?v=4","gravatar_id":"","url":"https://api.github.com/users/shashidharrao","html_url":"https://github.com/shashidharrao","followers_url":"https://api.github.com/users/shashidharrao/followers","following_url":"https://api.github.com/users/shashidharrao/following{/other_user}","gists_url":"https://api.github.com/users/shashidharrao/gists{/gist_id}","starred_url":"https://api.github.com/users/shashidharrao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shashidharrao/subscriptions","organizations_url":"https://api.github.com/users/shashidharrao/orgs","repos_url":"https://api.github.com/users/shashidharrao/repos","events_url":"https://api.github.com/users/shashidharrao/events{/privacy}","received_events_url":"https://api.github.com/users/shashidharrao/received_events","type":"User","site_admin":false},"labels":[{"id":146854632,"node_id":"MDU6TGFiZWwxNDY4NTQ2MzI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Network","name":":Distributed/Network","color":"0e8a16","default":false,"description":"Http and internode communication implementations"},{"id":111624690,"node_id":"MDU6TGFiZWwxMTE2MjQ2OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/feedback_needed","name":"feedback_needed","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2015-12-01T11:22:24Z","updated_at":"2019-05-30T09:06:25Z","closed_at":"2015-12-01T20:32:22Z","author_association":"NONE","active_lock_reason":null,"body":"I am trying to upgrade elastic search 1.x to 2.1 , getting below error.\n\ni tried all these settings but it's still failing.\n\nTo bind to all IPv6/IPv4 addresses, you can use\n\nnetwork.bind_host: \"0\"\nnetwork.bind_host: \"::\"\n\nTo bind to IPv4 loopback (localhost) only\n\nnetwork.bind_host: \"0.0.0.0\"\ntogether with JAVA_OPTS=\"$JAVA_OPTS -Djava.net.preferIPv4Stack=true -Djava.net.preferIPv4Addresses\"\n\nERROR :\n\n[2015-11-29 11:55:55,866][WARN ][transport.netty ] [Node1] exception caught on transport layer [[id: 0xfa429912]], closing connection\njava.net.SocketException: Protocol family unavailable\nat sun.nio.ch.Net.connect0(Native Method)\nat sun.nio.ch.Net.connect(Net.java:435)\nat sun.nio.ch.Net.connect(Net.java:427)\nat sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:643)\nat org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.connect(NioClientSocketPipelineSink.java:108)\nat org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.eventSunk(NioClientSocketPipelineSink.java:70)\nat org.jboss.netty.channel.DefaultChannelPipeline.sendDownstream(DefaultChannelPipeline.java:574)\nat org.jboss.netty.channel.Channels.connect(Channels.java:634)\nat org.jboss.netty.channel.AbstractChannel.connect(AbstractChannel.java:216)\nat org.jboss.netty.bootstrap.ClientBootstrap.connect(ClientBootstrap.java:229)\nat org.jboss.netty.bootstrap.ClientBootstrap.connect(ClientBootstrap.java:182)\nat org.elasticsearch.transport.netty.NettyTransport.connectToChannelsLight(NettyTransport.java:913)\nat org.elasticsearch.transport.netty.NettyTransport.connectToNode(NettyTransport.java:880)\nat org.elasticsearch.transport.netty.NettyTransport.connectToNodeLight(NettyTransport.java:852)\nat org.elasticsearch.transport.TransportService.connectToNodeLight(TransportService.java:250)\nat org.elasticsearch.discovery.zen.ping.unicast.UnicastZenPing$3.run(UnicastZenPing.java:395)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat java.lang.Thread.run(Thread.java:745)\n[2015-11-29 11:55:57,361][WARN ][transport.netty ] [Node1] exception caught on transport layer [[id: 0xe44a1084]], closing connection\njava.net.SocketException: Protocol family unavailable\nat sun.nio.ch.Net.connect0(Native Method)\nat sun.nio.ch.Net.connect(Net.java:435)\nat sun.nio.ch.Net.connect(Net.java:427)\nat sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:643)\nat org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.connect(NioClientSocketPipelineSink.java:108)\nat org.jboss.netty.channel.socket.nio.NioClientSocketPipelineSink.eventSunk(NioClientSocketPipelineSink.java:70)\nat org.jboss.netty.channel.DefaultChannelPipeline.sendDownstream(DefaultChannelPipeline.java:574)\nat org.jboss.netty.channel.Channels.connect(Channels.java:634)\nat org.jboss.netty.channel.AbstractChannel.connect(AbstractChannel.java:216)\nat org.jboss.netty.bootstrap.ClientBootstrap.connect(ClientBootstrap.java:229)\nat org.jboss.netty.bootstrap.ClientBootstrap.connect(ClientBootstrap.java:182)\nat org.elasticsearch.transport.netty.NettyTransport.connectToChannelsLight(NettyTransport.java:913)\nat org.elasticsearch.transport.netty.NettyTransport.connectToNode(NettyTransport.java:880)\nat org.elasticsearch.transport.netty.NettyTransport.connectToNodeLight(NettyTransport.java:852)\nat org.elasticsearch.transport.TransportService.connectToNodeLight(TransportService.java:250)\nat org.elasticsearch.discovery.zen.ping.unicast.UnicastZenPing$3.run(UnicastZenPing.java:395)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat java.lang.Thread.run(Thread.java:745)\n[2015-11-29 11:55:57,836][INFO ][node ] [Node1] stopping ...\n[2015-11-29 11:55:57,857][INFO ][node ] [Node1] stopped\n[2015-11-29 11:55:57,857][INFO ][node ] [Node1] closing ...\n[2015-11-29 11:55:57,861][INFO ][node ] [Node1] closed\n","closed_by":{"login":"shashidharrao","id":14035749,"node_id":"MDQ6VXNlcjE0MDM1NzQ5","avatar_url":"https://avatars1.githubusercontent.com/u/14035749?v=4","gravatar_id":"","url":"https://api.github.com/users/shashidharrao","html_url":"https://github.com/shashidharrao","followers_url":"https://api.github.com/users/shashidharrao/followers","following_url":"https://api.github.com/users/shashidharrao/following{/other_user}","gists_url":"https://api.github.com/users/shashidharrao/gists{/gist_id}","starred_url":"https://api.github.com/users/shashidharrao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shashidharrao/subscriptions","organizations_url":"https://api.github.com/users/shashidharrao/orgs","repos_url":"https://api.github.com/users/shashidharrao/repos","events_url":"https://api.github.com/users/shashidharrao/events{/privacy}","received_events_url":"https://api.github.com/users/shashidharrao/received_events","type":"User","site_admin":false},"performed_via_github_app":null}