[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/457419194","html_url":"https://github.com/elastic/elasticsearch/issues/37844#issuecomment-457419194","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37844","id":457419194,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NzQxOTE5NA==","user":{"login":"LeeDr","id":13542669,"node_id":"MDQ6VXNlcjEzNTQyNjY5","avatar_url":"https://avatars1.githubusercontent.com/u/13542669?v=4","gravatar_id":"","url":"https://api.github.com/users/LeeDr","html_url":"https://github.com/LeeDr","followers_url":"https://api.github.com/users/LeeDr/followers","following_url":"https://api.github.com/users/LeeDr/following{/other_user}","gists_url":"https://api.github.com/users/LeeDr/gists{/gist_id}","starred_url":"https://api.github.com/users/LeeDr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LeeDr/subscriptions","organizations_url":"https://api.github.com/users/LeeDr/orgs","repos_url":"https://api.github.com/users/LeeDr/repos","events_url":"https://api.github.com/users/LeeDr/events{/privacy}","received_events_url":"https://api.github.com/users/LeeDr/received_events","type":"User","site_admin":false},"created_at":"2019-01-25T01:13:52Z","updated_at":"2019-01-25T01:13:52Z","author_association":"CONTRIBUTOR","body":"This might be relevant too;\r\n```\r\nvagrant@packer-virtualbox-iso-1543153694:~$ echo $LANG\r\nen_US.UTF-8\r\nvagrant@packer-virtualbox-iso-1543153694:~$ locale\r\nLANG=en_US.UTF-8\r\nLANGUAGE=en_US:\r\nLC_CTYPE=\"en_US.UTF-8\"\r\nLC_NUMERIC=\"en_US.UTF-8\"\r\nLC_TIME=\"en_US.UTF-8\"\r\nLC_COLLATE=\"en_US.UTF-8\"\r\nLC_MONETARY=\"en_US.UTF-8\"\r\nLC_MESSAGES=\"en_US.UTF-8\"\r\nLC_PAPER=\"en_US.UTF-8\"\r\nLC_NAME=\"en_US.UTF-8\"\r\nLC_ADDRESS=\"en_US.UTF-8\"\r\nLC_TELEPHONE=\"en_US.UTF-8\"\r\nLC_MEASUREMENT=\"en_US.UTF-8\"\r\nLC_IDENTIFICATION=\"en_US.UTF-8\"\r\nLC_ALL=en_US.UTF-8\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/457508647","html_url":"https://github.com/elastic/elasticsearch/issues/37844#issuecomment-457508647","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37844","id":457508647,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NzUwODY0Nw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-01-25T09:21:35Z","updated_at":"2019-01-25T09:21:35Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-features","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/457573837","html_url":"https://github.com/elastic/elasticsearch/issues/37844#issuecomment-457573837","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37844","id":457573837,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NzU3MzgzNw==","user":{"login":"LeeDr","id":13542669,"node_id":"MDQ6VXNlcjEzNTQyNjY5","avatar_url":"https://avatars1.githubusercontent.com/u/13542669?v=4","gravatar_id":"","url":"https://api.github.com/users/LeeDr","html_url":"https://github.com/LeeDr","followers_url":"https://api.github.com/users/LeeDr/followers","following_url":"https://api.github.com/users/LeeDr/following{/other_user}","gists_url":"https://api.github.com/users/LeeDr/gists{/gist_id}","starred_url":"https://api.github.com/users/LeeDr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LeeDr/subscriptions","organizations_url":"https://api.github.com/users/LeeDr/orgs","repos_url":"https://api.github.com/users/LeeDr/repos","events_url":"https://api.github.com/users/LeeDr/events{/privacy}","received_events_url":"https://api.github.com/users/LeeDr/received_events","type":"User","site_admin":false},"created_at":"2019-01-25T13:33:11Z","updated_at":"2019-01-25T13:33:11Z","author_association":"CONTRIBUTOR","body":"(from Slack, I'll try this ASAP)\r\n\r\nDavid Turner [5 hours ago]\r\nURIs are supposed to contain only ASCII, so `http://localhost:9200/makelogs工程-0` is not ok and I think the correct behaviour is undefined here. When I try this locally I see those wide characters being encoded in UTF-8 to go out on the wire (I think this is my terminal doing so) but Elasticsearch decodes them using ISO-8859-1. The right thing to do is to encode the URI as per the IRI spec: \r\n`http://localhost:9200/makelogs%e5%b7%a5%e7%a8%8b-0`:\r\n\r\n```\r\n$ curl -XPUT http://localhost:9200/makelogs%e5%b7%a5%e7%a8%8b-0 -H 'Content-Type: application/json' -d '{\"index\":{\"number_of_shards\":1,\"number_of_replicas\":0}}'\r\n{\"acknowledged\":true,\"shards_acknowledged\":true,\"index\":\"makelogs工程-0\"}\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/457584375","html_url":"https://github.com/elastic/elasticsearch/issues/37844#issuecomment-457584375","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37844","id":457584375,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NzU4NDM3NQ==","user":{"login":"LeeDr","id":13542669,"node_id":"MDQ6VXNlcjEzNTQyNjY5","avatar_url":"https://avatars1.githubusercontent.com/u/13542669?v=4","gravatar_id":"","url":"https://api.github.com/users/LeeDr","html_url":"https://github.com/LeeDr","followers_url":"https://api.github.com/users/LeeDr/followers","following_url":"https://api.github.com/users/LeeDr/following{/other_user}","gists_url":"https://api.github.com/users/LeeDr/gists{/gist_id}","starred_url":"https://api.github.com/users/LeeDr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LeeDr/subscriptions","organizations_url":"https://api.github.com/users/LeeDr/orgs","repos_url":"https://api.github.com/users/LeeDr/repos","events_url":"https://api.github.com/users/LeeDr/events{/privacy}","received_events_url":"https://api.github.com/users/LeeDr/received_events","type":"User","site_admin":false},"created_at":"2019-01-25T14:11:22Z","updated_at":"2019-01-25T14:11:22Z","author_association":"CONTRIBUTOR","body":"This looks better;\r\n\r\n```\r\n$ curl --insecure -XPUT https://localhost:9200/encoded%e5%b7%a5%e7%a8%8b-0  -H 'Content-Type: application/json' -d '{\r\n    \"index\" : {\r\n            \"number_of_shards\" : 1,\r\n            \"number_of_replicas\" : 1,\r\n             \"soft_deletes\": {\r\n               \"enabled\" : true\r\n             }\r\n        }\r\n  }'\r\n\r\n{\"acknowledged\":true,\"shards_acknowledged\":true,\"index\":\"encoded工程-0\"}\r\n```\r\n\r\nAnd correct in _cat/indices;\r\n```\r\n$ curl -s --insecure https://elastic:changeit@localhost:9200/_cat/indices | grep makel\r\ngreen  open makelogs工程-0                BtOGOxzEQ9Gsix7pbS-WmA 1 0 14005 0  73.6mb  73.6mb\r\n```\r\n\r\nThanks for the help @DaveCTurner ","performed_via_github_app":null}]