{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/31498","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31498/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31498/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31498/events","html_url":"https://github.com/elastic/elasticsearch/issues/31498","id":334419969,"node_id":"MDU6SXNzdWUzMzQ0MTk5Njk=","number":31498,"title":"plugins/repository-hdfs tests are failing when built by JDK 11","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"labels":[{"id":106454670,"node_id":"MDU6TGFiZWwxMDY0NTQ2NzA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Build","name":":Delivery/Build","color":"0e8a16","default":false,"description":"Build or test infrastructure"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"},{"id":92913658,"node_id":"MDU6TGFiZWw5MjkxMzY1OA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/blocker","name":"blocker","color":"e11d21","default":false,"description":null},{"id":959855511,"node_id":"MDU6TGFiZWw5NTk4NTU1MTE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/jdk11","name":"jdk11","color":"e11d21","default":false,"description":""},{"id":962378555,"node_id":"MDU6TGFiZWw5NjIzNzg1NTU=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v6.5.0","name":"v6.5.0","color":"Dddddd","default":false,"description":""},{"id":1223177445,"node_id":"MDU6TGFiZWwxMjIzMTc3NDQ1","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v7.0.0-beta1","name":"v7.0.0-beta1","color":"dddddd","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"jbaiera","id":875779,"node_id":"MDQ6VXNlcjg3NTc3OQ==","avatar_url":"https://avatars1.githubusercontent.com/u/875779?v=4","gravatar_id":"","url":"https://api.github.com/users/jbaiera","html_url":"https://github.com/jbaiera","followers_url":"https://api.github.com/users/jbaiera/followers","following_url":"https://api.github.com/users/jbaiera/following{/other_user}","gists_url":"https://api.github.com/users/jbaiera/gists{/gist_id}","starred_url":"https://api.github.com/users/jbaiera/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbaiera/subscriptions","organizations_url":"https://api.github.com/users/jbaiera/orgs","repos_url":"https://api.github.com/users/jbaiera/repos","events_url":"https://api.github.com/users/jbaiera/events{/privacy}","received_events_url":"https://api.github.com/users/jbaiera/received_events","type":"User","site_admin":false},"assignees":[{"login":"jbaiera","id":875779,"node_id":"MDQ6VXNlcjg3NTc3OQ==","avatar_url":"https://avatars1.githubusercontent.com/u/875779?v=4","gravatar_id":"","url":"https://api.github.com/users/jbaiera","html_url":"https://github.com/jbaiera","followers_url":"https://api.github.com/users/jbaiera/followers","following_url":"https://api.github.com/users/jbaiera/following{/other_user}","gists_url":"https://api.github.com/users/jbaiera/gists{/gist_id}","starred_url":"https://api.github.com/users/jbaiera/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbaiera/subscriptions","organizations_url":"https://api.github.com/users/jbaiera/orgs","repos_url":"https://api.github.com/users/jbaiera/repos","events_url":"https://api.github.com/users/jbaiera/events{/privacy}","received_events_url":"https://api.github.com/users/jbaiera/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2018-06-21T09:53:09Z","updated_at":"2020-11-11T21:50:48Z","closed_at":"2018-07-23T19:11:42Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Feature branch: `feature/31230_gradle48_jdk11`\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+31230_gradle48_jdk11+matrix-java-feature-branch/5/ES_BUILD_JAVA=java11,ES_RUNTIME_JAVA=java8,nodes=virtual&&linux/#showFailuresLink\r\n\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+31230_gradle48_jdk11+matrix-java-feature-branch/5/ES_BUILD_JAVA=java11,ES_RUNTIME_JAVA=java10,nodes=virtual&&linux/#showFailuresLink\r\n\r\n```\r\nstack_trace\" : \"RepositoryException[[test_snapshot_repository_ro] failed to create repository]; nested: UncheckedIOException[Could not retrieve the current user information]; nested: IOException[failure to login: javax.security.auth.login.LoginException: Security Exception]; nested: LoginException[Security Exception]; nested: SecurityException;\r\n\tat org.elasticsearch.repositories.RepositoriesService.createRepository(RepositoriesService.java:389)\r\n\tat org.elasticsearch.repositories.RepositoriesService.registerRepository(RepositoriesService.java:357)\r\n\tat org.elasticsearch.repositories.RepositoriesService.access$100(RepositoriesService.java:55)\r\n\tat org.elasticsearch.repositories.RepositoriesService$1.execute(RepositoriesService.java:108)\r\n\tat org.elasticsearch.cluster.ClusterStateUpdateTask.execute(ClusterStateUpdateTask.java:45)\r\n\tat org.elasticsearch.cluster.service.MasterService.executeTasks(MasterService.java:634)\r\n\tat org.elasticsearch.cluster.service.MasterService.calculateTaskOutputs(MasterService.java:266)\r\n\tat org.elasticsearch.cluster.service.MasterService.runTasks(MasterService.java:196)\r\n\tat org.elasticsearch.cluster.service.MasterService$Batcher.run(MasterService.java:131)\r\n\tat org.elasticsearch.cluster.service.TaskBatcher.runIfNotProcessed(TaskBatcher.java:150)\r\n\tat org.elasticsearch.cluster.service.TaskBatcher$BatchedTask.run(TaskBatcher.java:188)\r\n\tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:623)\r\n\tat org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.runAndClean(PrioritizedEsThreadPoolExecutor.java:244)\r\n\tat org.elasticsearch.common.util.concurrent.PrioritizedEsThreadPoolExecutor$TieBreakingPrioritizedRunnable.run(PrioritizedEsThreadPoolExecutor.java:207)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:832)\r\nCaused by: java.io.UncheckedIOException: Could not retrieve the current user information\r\n\tat org.elasticsearch.repositories.hdfs.HdfsRepository.login(HdfsRepository.java:194)\r\n\tat org.elasticsearch.repositories.hdfs.HdfsRepository.createBlobstore(HdfsRepository.java:123)\r\n\tat org.elasticsearch.repositories.hdfs.HdfsRepository.lambda$doStart$0(HdfsRepository.java:104)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat org.elasticsearch.repositories.hdfs.HdfsRepository.doStart(HdfsRepository.java:104)\r\n\tat org.elasticsearch.common.component.AbstractLifecycleComponent.start(AbstractLifecycleComponent.java:66)\r\n\tat org.elasticsearch.repositories.RepositoriesService.createRepository(RepositoriesService.java:385)\r\n\t... 16 more\r\nCaused by: java.io.IOException: failure to login: javax.security.auth.login.LoginException: Security Exception\r\n\tat org.apache.hadoop.security.UserGroupInformation.loginUserFromSubject(UserGroupInformation.java:877)\r\n\tat org.apache.hadoop.security.UserGroupInformation.getLoginUser(UserGroupInformation.java:802)\r\n\tat org.apache.hadoop.security.UserGroupInformation.getCurrentUser(UserGroupInformation.java:675)\r\n\tat org.elasticsearch.repositories.hdfs.HdfsRepository.login(HdfsRepository.java:192)\r\n\t... 22 more\r\nCaused by: javax.security.auth.login.LoginException: Security Exception\r\n\tat java.base/javax.security.auth.login.LoginContext.invoke(LoginContext.java:805)\r\n\tat java.base/javax.security.auth.login.LoginContext.access$000(LoginContext.java:194)\r\n\tat java.base/javax.security.auth.login.LoginContext$4.run(LoginContext.java:665)\r\n\tat java.base/javax.security.auth.login.LoginContext$4.run(LoginContext.java:663)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.base/javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:663)\r\n\tat java.base/javax.security.auth.login.LoginContext.login(LoginContext.java:574)\r\n\tat org.apache.hadoop.security.UserGroupInformation.loginUserFromSubject(UserGroupInformation.java:840)\r\n\t... 25 more\r\nCaused by: java.lang.SecurityException\r\n\tat java.base/javax.security.auth.login.LoginContext.invoke(LoginContext.java:806)\r\n\t... 32 more\r\n```","closed_by":{"login":"jbaiera","id":875779,"node_id":"MDQ6VXNlcjg3NTc3OQ==","avatar_url":"https://avatars1.githubusercontent.com/u/875779?v=4","gravatar_id":"","url":"https://api.github.com/users/jbaiera","html_url":"https://github.com/jbaiera","followers_url":"https://api.github.com/users/jbaiera/followers","following_url":"https://api.github.com/users/jbaiera/following{/other_user}","gists_url":"https://api.github.com/users/jbaiera/gists{/gist_id}","starred_url":"https://api.github.com/users/jbaiera/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbaiera/subscriptions","organizations_url":"https://api.github.com/users/jbaiera/orgs","repos_url":"https://api.github.com/users/jbaiera/repos","events_url":"https://api.github.com/users/jbaiera/events{/privacy}","received_events_url":"https://api.github.com/users/jbaiera/received_events","type":"User","site_admin":false},"performed_via_github_app":null}