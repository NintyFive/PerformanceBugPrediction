[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/33284589","html_url":"https://github.com/elastic/elasticsearch/issues/4831#issuecomment-33284589","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4831","id":33284589,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjg0NTg5","user":{"login":"bitonp","id":2499269,"node_id":"MDQ6VXNlcjI0OTkyNjk=","avatar_url":"https://avatars1.githubusercontent.com/u/2499269?v=4","gravatar_id":"","url":"https://api.github.com/users/bitonp","html_url":"https://github.com/bitonp","followers_url":"https://api.github.com/users/bitonp/followers","following_url":"https://api.github.com/users/bitonp/following{/other_user}","gists_url":"https://api.github.com/users/bitonp/gists{/gist_id}","starred_url":"https://api.github.com/users/bitonp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bitonp/subscriptions","organizations_url":"https://api.github.com/users/bitonp/orgs","repos_url":"https://api.github.com/users/bitonp/repos","events_url":"https://api.github.com/users/bitonp/events{/privacy}","received_events_url":"https://api.github.com/users/bitonp/received_events","type":"User","site_admin":false},"created_at":"2014-01-25T09:03:45Z","updated_at":"2014-01-25T09:03:45Z","author_association":"NONE","body":"Two issues there... I have found a similar thing, but it was down to me..\n1. Are all nodes exactly the same version of ES? I found that if a node was 0.90.5 and the rest were 0.90.9 then I got this issue.\n1. Server times... are your servers set at the same time, or within the time allowed in your config? We have installed NTP to ensure that all servers in our cluster(s) are within 30s of each other. Times on machines do change, and need to be synched.\n\nhth \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/33285333","html_url":"https://github.com/elastic/elasticsearch/issues/4831#issuecomment-33285333","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4831","id":33285333,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjg1MzMz","user":{"login":"vincentvanderwalt","id":1444491,"node_id":"MDQ6VXNlcjE0NDQ0OTE=","avatar_url":"https://avatars0.githubusercontent.com/u/1444491?v=4","gravatar_id":"","url":"https://api.github.com/users/vincentvanderwalt","html_url":"https://github.com/vincentvanderwalt","followers_url":"https://api.github.com/users/vincentvanderwalt/followers","following_url":"https://api.github.com/users/vincentvanderwalt/following{/other_user}","gists_url":"https://api.github.com/users/vincentvanderwalt/gists{/gist_id}","starred_url":"https://api.github.com/users/vincentvanderwalt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vincentvanderwalt/subscriptions","organizations_url":"https://api.github.com/users/vincentvanderwalt/orgs","repos_url":"https://api.github.com/users/vincentvanderwalt/repos","events_url":"https://api.github.com/users/vincentvanderwalt/events{/privacy}","received_events_url":"https://api.github.com/users/vincentvanderwalt/received_events","type":"User","site_admin":false},"created_at":"2014-01-25T09:53:08Z","updated_at":"2014-01-25T09:53:08Z","author_association":"NONE","body":"Thanks Peter.\n\nThe versions are the same. I will however check the server times.\n\nThanks \n\nVinny\n\n-----Original Message-----\nFrom: \"Peter Colclough\" notifications@github.com\nSent: ‎25/‎01/‎2014 09:04\nTo: \"elasticsearch/elasticsearch\" elasticsearch@noreply.github.com\nCc: \"vinnytheviking\" vincent.vanderwalt@gmail.com\nSubject: Re: [elasticsearch] Nodes don't reattach to cluster (#4831)\n\nTwo issues there... I have found a similar thing, but it was down to me..\n1. Are all nodes exactly the same version of ES? I found that if a node was 0.90.5 and the rest were 0.90.9 then I got this issue.\nServer times... are your servers set at the same time, or within the time allowed in your config? We have installed NTP to ensure that all servers in our cluster(s) are within 30s of each other. Times on machines do change, and need to be synched. \nhth \n—\nReply to this email directly or view it on GitHub.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/33287383","html_url":"https://github.com/elastic/elasticsearch/issues/4831#issuecomment-33287383","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4831","id":33287383,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjg3Mzgz","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-01-25T12:01:13Z","updated_at":"2014-02-21T14:59:18Z","author_association":"CONTRIBUTOR","body":"Hi vinny\n\nYou are suffering a \"split brain\". The nodes lose communication and each\none assumes that the other has died, which is why they both become master\nand don't rejoin.\n\nYou can prevent this behaviour by setting the `minimum_master_nodes`\nparameter to a quorum (majority) of the nodes that you have, which in your\ncase would be 2.  This setting says \"how many master eligible nodes must\neach node be able to see in order to be sure that it is part of the bigger\nhalf of the cluster\"\n\nA setup with two nodes is problematic, because a quorum is... two nodes.\n So if either of the goes down, the other node won't be able to see enough\nmasters and will stop functioning as well. If you had three nodes, a quorum\nwould still be 2, but you could afford to lose one node and the other two\nwould continue functioning normally\n\nclint\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/35737614","html_url":"https://github.com/elastic/elasticsearch/issues/4831#issuecomment-35737614","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4831","id":35737614,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NzM3NjE0","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2014-02-21T15:02:14Z","updated_at":"2014-02-21T15:02:14Z","author_association":"MEMBER","body":"I think we could close this issue. Was a `split-brain` issue.\n\nBTW, you could now try [elasticsearch-cloud-azure plugin](https://github.com/elasticsearch/elasticsearch-cloud-azure). It won't solve your split brain issue unless you follow clint's advices but it could help to manage discovery.\n\nFeel free to reopen the issue if I was wrong closing it.\n","performed_via_github_app":null}]