[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/426282289","html_url":"https://github.com/elastic/elasticsearch/issues/34229#issuecomment-426282289","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34229","id":426282289,"node_id":"MDEyOklzc3VlQ29tbWVudDQyNjI4MjI4OQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-10-02T13:53:42Z","updated_at":"2018-10-02T13:53:42Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/444595808","html_url":"https://github.com/elastic/elasticsearch/issues/34229#issuecomment-444595808","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34229","id":444595808,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NDU5NTgwOA==","user":{"login":"jakelandis","id":976291,"node_id":"MDQ6VXNlcjk3NjI5MQ==","avatar_url":"https://avatars2.githubusercontent.com/u/976291?v=4","gravatar_id":"","url":"https://api.github.com/users/jakelandis","html_url":"https://github.com/jakelandis","followers_url":"https://api.github.com/users/jakelandis/followers","following_url":"https://api.github.com/users/jakelandis/following{/other_user}","gists_url":"https://api.github.com/users/jakelandis/gists{/gist_id}","starred_url":"https://api.github.com/users/jakelandis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakelandis/subscriptions","organizations_url":"https://api.github.com/users/jakelandis/orgs","repos_url":"https://api.github.com/users/jakelandis/repos","events_url":"https://api.github.com/users/jakelandis/events{/privacy}","received_events_url":"https://api.github.com/users/jakelandis/received_events","type":"User","site_admin":false},"created_at":"2018-12-05T18:41:45Z","updated_at":"2018-12-05T18:41:45Z","author_association":"CONTRIBUTOR","body":"A few additional points:\r\n* Only impacts inflight search requests, and client's re-trying will likely work (fairly short window of impact)\r\n* ILM shrink operation is different then normal shrink operations in that ILM also deletes the original index \r\n* A potential (but still problematic) fix could be to implement a grace period for the original index delete (can't have index and alias with same name)\r\n* Only impacts searches going to concrete index. Searches through the alias or index pattern are not impacted by this.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/445355185","html_url":"https://github.com/elastic/elasticsearch/issues/34229#issuecomment-445355185","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34229","id":445355185,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NTM1NTE4NQ==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2018-12-07T20:25:34Z","updated_at":"2018-12-07T20:25:34Z","author_association":"CONTRIBUTOR","body":"after giving this another look, I'd like to connect another discussion that mentions this issue in the context of reindexing:\r\n\r\nhttps://github.com/elastic/elasticsearch/issues/20064\r\n\r\n>2. There is no time where a search for the index name comes back with no results. There would be, unfortunately, some time where the results can be a bit confused because index names aren't resolved to a permanent ID on the coordinating node. A procedure like this will minimize that time though.\r\n\r\nSo, although this is minimized, it can still be a problem","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/452487823","html_url":"https://github.com/elastic/elasticsearch/issues/34229#issuecomment-452487823","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34229","id":452487823,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MjQ4NzgyMw==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2019-01-08T23:21:01Z","updated_at":"2019-01-08T23:21:01Z","author_association":"MEMBER","body":"Talked a bit with Tal about this. I think we would need something similar to\r\nwhat we have for shard indexing operation permits, but for search. This would\r\nallow us to wait for all ongoing queries to finish, blocking new ones until the\r\nindex was deleted and the alias created, then allowing the queued queries to be\r\nexecuted.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/453205483","html_url":"https://github.com/elastic/elasticsearch/issues/34229#issuecomment-453205483","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/34229","id":453205483,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzIwNTQ4Mw==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2019-01-10T18:37:41Z","updated_at":"2019-01-10T18:37:41Z","author_association":"MEMBER","body":"After discussing this, we determined it is actually something to be solved at a higher level than ILM (meaning in ES itself), I've opened #37323 to that effect.","performed_via_github_app":null}]