{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/23942","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23942/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23942/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23942/events","html_url":"https://github.com/elastic/elasticsearch/issues/23942","id":219880612,"node_id":"MDU6SXNzdWUyMTk4ODA2MTI=","number":23942,"title":"SimpleLocalTransportTests#testConcurrentSendRespondAndDisconnect failure","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"labels":[{"id":146854632,"node_id":"MDU6TGFiZWwxNDY4NTQ2MzI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Network","name":":Distributed/Network","color":"0e8a16","default":false,"description":"Http and internode communication implementations"},{"id":60445228,"node_id":"MDU6TGFiZWw2MDQ0NTIyOA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest","name":">test","color":"5319e7","default":false,"description":"Issues or PRs that are addressing/adding tests"}],"state":"closed","locked":false,"assignee":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"assignees":[{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2017-04-06T12:21:07Z","updated_at":"2017-05-19T07:21:44Z","closed_at":"2017-05-19T07:21:44Z","author_association":"MEMBER","active_lock_reason":null,"body":"Fails because of a suite timeout and doesn't reproduce.\r\n\r\nBuild url: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+5.3+multijob-unix-compatibility/os=fedora/104\r\n\r\n```\r\n> Assumption #1: only tcp transport has a handshake method\r\n  2> WARNING: Suite execution timed out: org.elasticsearch.transport.local.SimpleLocalTransportTests\r\n  2> ==== jstack at approximately timeout time ====\r\n  1> [2017-04-06T13:59:06,671][INFO ][o.e.t.l.SimpleLocalTransportTests] [testNotifyOnShutdown]: before test\r\n  2> \"elasticsearch[TS_B_9][local_transport][T#1]\" ID=1084 WAITING on java.util.concurrent.LinkedTransferQueue@4aaecf9d\r\n  2> \tat sun.misc.Unsafe.park(Native Method)\r\n  2> \t- waiting on java.util.concurrent.LinkedTransferQueue@4aaecf9d\r\n  1> [2017-04-06T13:59:06,680][INFO ][o.e.t.t.MockTransportService] [TS_A] publish_address {local[71]}, bound_addresses {local[71]}\r\n  2> \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n  1> [2017-04-06T13:59:06,681][INFO ][o.e.t.t.MockTransportService] [TS_B] publish_address {local[72]}, bound_addresses {local[72]}\r\n  2> \tat java.util.concurrent.LinkedTransferQueue.awaitMatch(LinkedTransferQueue.java:737)\r\n  2> \tat java.util.concurrent.LinkedTransferQueue.xfer(LinkedTransferQueue.java:647)\r\n  2> \tat java.util.concurrent.LinkedTransferQueue.take(LinkedTransferQueue.java:1269)\r\n  2> \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\r\n  1> [2017-04-06T13:59:06,683][INFO ][o.e.t.l.SimpleLocalTransportTests] Stop ServiceB now\r\n  1> [2017-04-06T13:59:06,685][INFO ][o.e.t.l.SimpleLocalTransportTests] [testNotifyOnShutdown]: after test\r\n  1> [2017-04-06T13:59:06,686][INFO ][o.e.t.l.SimpleLocalTransportTests] [testResponseHeadersArePreserved]: before test\r\n  1> [2017-04-06T13:59:06,698][INFO ][o.e.t.t.MockTransportService] [TS_A] publish_address {local[73]}, bound_addresses {local[73]}\r\n  1> [2017-04-06T13:59:06,700][INFO ][o.e.t.t.MockTransportService] [TS_B] publish_address {local[74]}, bound_addresses {local[74]}\r\n  1> [2017-04-06T13:59:06,724][INFO ][o.e.t.l.SimpleLocalTransportTests] [testResponseHeadersArePreserved]: after test\r\n  2> \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\r\n  2> \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n  2> \tat java.lang.Thread.run(Thread.java:745)\r\n  1> [2017-04-06T13:59:06,726][INFO ][o.e.t.l.SimpleLocalTransportTests] [testSendRandomRequests]: before test\r\n  2> \"elasticsearch[org.elasticsearch.transport.local.SimpleLocalTransportTests][generic][T#13]\" ID=1083 WAITING on org.elasticsearch.common.util.concurrent.EsExecutors$ExecutorScalingQueue@6e85027f\r\n  2> \tat sun.misc.Unsafe.park(Native Method)\r\n  2> \t- waiting on org.elasticsearch.common.util.concurrent.EsExecutors$ExecutorScalingQueue@6e85027f\r\n  2> \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n  2> \tat java.util.concurrent.LinkedTransferQueue.awaitMatch(LinkedTransferQueue.java:737)\r\n  2> \tat java.util.concurrent.LinkedTransferQueue.xfer(LinkedTransferQueue.java:647)\r\n  2> \tat java.util.concurrent.LinkedTransferQueue.take(LinkedTransferQueue.java:1269)\r\n  2> \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\r\n  2> \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\r\n  2> \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n  2> \tat java.lang.Thread.run(Thread.java:745)\r\n  2> \"elasticsearch[org.elasticsearch.transport.local.SimpleLocalTransportTests][generic][T#12]\" ID=1080 WAITING on org.elasticsearch.common.util.concurrent.EsExecutors$ExecutorScalingQueue@6e85027f\r\n  2> \tat sun.misc.Unsafe.park(Native Method)\r\n  2> \t- waiting on org.elasticsearch.common.util.concurrent.EsExecutors$ExecutorScalingQueue@6e85027f\r\n  2> \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n  2> \tat java.util.concurrent.LinkedTransferQueue.awaitMatch(LinkedTransferQueue.java:737)\r\n  2> \tat java.util.concurrent.LinkedTransferQueue.xfer(LinkedTransferQueue.java:647)\r\n  2> \tat java.util.concurrent.LinkedTransferQueue.take(LinkedTransferQueue.java:1269)\r\n  2> \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\r\n  2> \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\r\n  2> \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n  2> \tat java.lang.Thread.run(Thread.java:745)\r\n  2> \"elasticsearch[TS_A][local_transport][T#4]\" ID=1079 WAITING on java.util.concurrent.LinkedTransferQueue@7bae44fc\r\n  2> \tat sun.misc.Unsafe.park(Native Method)\r\n  2> \t- waiting on java.util.concurrent.LinkedTransferQueue@7bae44fc\r\n  2> \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n  2> \tat java.util.concurrent.LinkedTransferQueue.awaitMatch(LinkedTransferQueue.java:737)\r\n  2> \tat java.util.concurrent.LinkedTransferQueue.xfer(LinkedTransferQueue.java:647)\r\n  2> \tat java.util.concurrent.LinkedTransferQueue.take(LinkedTransferQueue.java:1269)\r\n  2> \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\r\n  2> \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\r\n  2> \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n  2> \tat java.lang.Thread.run(Thread.java:745)\r\n  2> \"elasticsearch[TS_A][local_transport][T#3]\" ID=1076 WAITING on java.util.concurrent.LinkedTransferQueue@7bae44fc\r\n  2> \tat sun.misc.Unsafe.park(Native Method)\r\n  2> \t- waiting on java.util.concurrent.LinkedTransferQueue@7bae44fc\r\n  1> [2017-04-06T13:59:06,729][INFO ][o.e.t.t.MockTransportService] [TS_A] publish_address {local[75]}, bound_addresses {local[75]}\r\n  1> [2017-04-06T13:59:06,730][INFO ][o.e.t.t.MockTransportService] [TS_B] publish_address {local[76]}, bound_addresses {local[76]}\r\n  1> [2017-04-06T13:59:06,731][INFO ][o.e.t.t.MockTransportService] publish_address {local[77]}, bound_addresses {local[77]}\r\n  1> [2017-04-06T13:59:07,040][INFO ][o.e.t.l.SimpleLocalTransportTests] [testSendRandomRequests]: after test\r\n  1> [2017-04-06T13:59:07,042][INFO ][o.e.t.l.SimpleLocalTransportTests] [testTimeoutSendExceptionWithDelayedResponse]: before test\r\n  1> [2017-04-06T13:59:07,044][INFO ][o.e.t.t.MockTransportService] [TS_A] publish_address {local[78]}, bound_addresses {local[78]}\r\n  1> [2017-04-06T13:59:07,045][INFO ][o.e.t.t.MockTransportService] [TS_B] publish_address {local[79]}, bound_addresses {local[79]}\r\n  2> \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n  1> [2017-04-06T13:59:07,161][WARN ][o.e.t.t.MockTransportService] [TS_B] Received response for a request that has timed out, sent [113ms] ago, timed out [13ms] ago, action [sayHelloTimeoutDelayedResponse], node [{TS_A}{TS_A}{1NyEEx-aT3qaawS4qVn9dg}{local}{local[78]}], id [1]\r\n  1> [2017-04-06T13:59:07,162][INFO ][o.e.t.l.SimpleLocalTransportTests] [testTimeoutSendExceptionWithDelayedResponse]: after test\r\n  1> [2017-04-06T13:59:07,163][INFO ][o.e.t.l.SimpleLocalTransportTests] [testVersionFrom0to0]: before test\r\n  1> [2017-04-06T13:59:07,165][INFO ][o.e.t.t.MockTransportService] [TS_A] publish_address {local[80]}, bound_addresses {local[80]}\r\n  1> [2017-04-06T13:59:07,166][INFO ][o.e.t.t.MockTransportService] [TS_B] publish_address {local[81]}, bound_addresses {local[81]}\r\n  1> [2017-04-06T13:59:07,167][INFO ][o.e.t.l.SimpleLocalTransportTests] [testVersionFrom0to0]: after test\r\n  1> [2017-04-06T13:59:07,168][INFO ][o.e.t.l.SimpleLocalTransportTests] [testBlockingIncomingRequests]: before test\r\n  1> [2017-04-06T13:59:07,170][INFO ][o.e.t.t.MockTransportService] [TS_A] publish_address {local[82]}, bound_addresses {local[82]}\r\n  1> [2017-04-06T13:59:07,171][INFO ][o.e.t.t.MockTransportService] [TS_B] publish_address {local[83]}, bound_addresses {local[83]}\r\n  1> [2017-04-06T13:59:07,172][INFO ][o.e.t.t.MockTransportService] [TS_TEST] publish_address {local[84]}, bound_addresses {local[84]}\r\n  1> [2017-04-06T13:59:07,173][INFO ][o.e.t.t.MockTransportService] [TS_A] publish_address {local[85]}, bound_addresses {local[85]}\r\n  1> [2017-04-06T13:59:07,175][INFO ][o.e.t.l.SimpleLocalTransportTests] [testBlockingIncomingRequests]: after test\r\n  1> [2017-04-06T13:59:07,176][INFO ][o.e.t.l.SimpleLocalTransportTests] [testErrorMessage]: before test\r\n  1> [2017-04-06T13:59:07,177][INFO ][o.e.t.t.MockTransportService] [TS_A] publish_address {local[86]}, bound_addresses {local[86]}\r\n  1> [2017-04-06T13:59:07,178][INFO ][o.e.t.t.MockTransportService] [TS_B] publish_address {local[87]}, bound_addresses {local[87]}\r\n  1> [2017-04-06T13:59:07,182][INFO ][o.e.t.l.SimpleLocalTransportTests] [testErrorMessage]: after test\r\n  1> [2017-04-06T13:59:07,183][INFO ][o.e.t.l.SimpleLocalTransportTests] [testTracerLog]: before test\r\n  1> [2017-04-06T13:59:07,184][INFO ][o.e.t.t.MockTransportService] [TS_A] publish_address {local[88]}, bound_addresses {local[88]}\r\n  1> [2017-04-06T13:59:07,185][INFO ][o.e.t.t.MockTransportService] [TS_B] publish_address {local[89]}, bound_addresses {local[89]}\r\n  2> \tat java.util.concurrent.LinkedTransferQueue.awaitMatch(LinkedTransferQueue.java:737)\r\n  2> \tat java.util.concurrent.LinkedTransferQueue.xfer(LinkedTransferQueue.java:647)\r\n  2> \tat java.util.concurrent.LinkedTransferQueue.take(LinkedTransferQueue.java:1269)\r\n  2> \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\r\n  2> \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\r\n  2> \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n  2> \tat java.lang.Thread.run(Thread.java:745)\r\n  2> \"elasticsearch[TS_A][local_transport][T#2]\" ID=1075 WAITING on java.util.concurrent.LinkedTransferQueue@7bae44fc\r\n  2> \tat sun.misc.Unsafe.park(Native Method)\r\n  2> \t- waiting on java.util.concurrent.LinkedTransferQueue@7bae44fc\r\n  2> \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n  2> \tat java.util.concurrent.LinkedTransferQueue.awaitMatch(LinkedTransferQueue.java:737)\r\n  2> \tat java.util.concurrent.LinkedTransferQueue.xfer(LinkedTransferQueue.java:647)\r\n  2> \tat java.util.concurrent.LinkedTransferQueue.take(LinkedTransferQueue.java:1269)\r\n  2> \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\r\n  2> \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\r\n  2> \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n  2> \tat java.lang.Thread.run(Thread.java:745)\r\n  2> \"elasticsearch[TS_A][local_transport][T#1]\" ID=1073 WAITING on java.util.concurrent.LinkedTransferQueue@7bae44fc\r\n  2> \tat sun.misc.Unsafe.park(Native Method)\r\n  2> \t- waiting on java.util.concurrent.LinkedTransferQueue@7bae44fc\r\n  2> \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n  2> \tat java.util.concurrent.LinkedTransferQueue.awaitMatch(LinkedTransferQueue.java:737)\r\n  2> \tat java.util.concurrent.LinkedTransferQueue.xfer(LinkedTransferQueue.java:647)\r\n  1> [2017-04-06T13:59:07,192][INFO ][o.e.c.s.ClusterSettings  ] updating [transport.tracer.include] from [[]] to [[\"test\"]]\r\n  2> \tat java.util.concurrent.LinkedTransferQueue.take(LinkedTransferQueue.java:1269)\r\n  2> \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\r\n  2> \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\r\n  1> [2017-04-06T13:59:07,192][INFO ][o.e.c.s.ClusterSettings  ] updating [transport.tracer.exclude] from [[\"internal:discovery/zen/fd*\",\"cluster:monitor/nodes/liveness\"]] to [[\"DOESN'T_MATCH\"]]\r\n  2> \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n  2> \tat java.lang.Thread.run(Thread.java:745)\r\n  2> \"elasticsearch[org.elasticsearch.transport.local.SimpleLocalTransportTests][generic][T#9]\" ID=1070 WAITING on org.elasticsearch.common.util.concurrent.BaseFuture$Sync@166fd7a5\r\n  2> \tat sun.misc.Unsafe.park(Native Method)\r\n  2> \t- waiting on org.elasticsearch.common.util.concurrent.BaseFuture$Sync@166fd7a5\r\n  2> \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n  2> \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)\r\n  2> \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:997)\r\n  2> \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1304)\r\n  2> \tat org.elasticsearch.common.util.concurrent.BaseFuture$Sync.get(BaseFuture.java:248)\r\n  2> \tat org.elasticsearch.common.util.concurrent.BaseFuture.get(BaseFuture.java:91)\r\n  2> \tat org.elasticsearch.action.support.AdapterActionFuture.actionGet(AdapterActionFuture.java:42)\r\n  2> \tat org.elasticsearch.transport.AbstractSimpleTransportTestCase$13.doRun(AbstractSimpleTransportTestCase.java:596)\r\n  2> \tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:638)\r\n  2> \tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)\r\n  2> \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n  2> \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n  2> \tat java.lang.Thread.run(Thread.java:745)\r\n  2> \tLocked synchronizers:\r\n  2> \t- java.util.concurrent.ThreadPoolExecutor$Worker@3f16dced\r\n  2> \"elasticsearch[org.elasticsearch.transport.local.SimpleLocalTransportTests][generic][T#4]\" ID=1065 WAITING on org.elasticsearch.common.util.concurrent.EsExecutors$ExecutorScalingQueue@6e85027f\r\n  2> \tat sun.misc.Unsafe.park(Native Method)\r\n  2> \t- waiting on org.elasticsearch.common.util.concurrent.EsExecutors$ExecutorScalingQueue@6e85027f\r\n  2> \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n  2> \tat java.util.concurrent.LinkedTransferQueue.awaitMatch(LinkedTransferQueue.java:737)\r\n  2> \tat java.util.concurrent.LinkedTransferQueue.xfer(LinkedTransferQueue.java:647)\r\n  2> \tat java.util.concurrent.LinkedTransferQueue.take(LinkedTransferQueue.java:1269)\r\n  2> \tat java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\r\n  2> \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\r\n  2> \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n  2> \tat java.lang.Thread.run(Thread.java:745)\r\n  2> \"elasticsearch[org.elasticsearch.transport.local.SimpleLocalTransportTests][[timer]]\" ID=1061 TIMED_WAITING\r\n  2> \tat java.lang.Thread.sleep(Native Method)\r\n  2> \tat org.elasticsearch.threadpool.ThreadPool$CachedTimeThread.run(ThreadPool.java:536)\r\n  2> \"TEST-SimpleLocalTransportTests.testConcurrentSendRespondAndDisconnect-seed#[290BC1B07436B39B]\" ID=858 WAITING on java.util.concurrent.CountDownLatch$Sync@2a8130d2\r\n  2> \tat sun.misc.Unsafe.park(Native Method)\r\n  2> \t- waiting on java.util.concurrent.CountDownLatch$Sync@2a8130d2\r\n  2> \tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n  2> \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)\r\n  2> \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:997)\r\n  2> \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1304)\r\n  2> \tat java.util.concurrent.CountDownLatch.await(CountDownLatch.java:231)\r\n  2> \tat org.elasticsearch.transport.AbstractSimpleTransportTestCase.testConcurrentSendRespondAndDisconnect(AbstractSimpleTransportTestCase.java:635)\r\n  2> \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n  2> \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n  2> \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n  2> \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n  2> \tat com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1713)\r\n  2> \tat com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:907)\r\n  2> \tat com.carrotsearch.randomizedtesting.RandomizedRunner$9.evaluate(RandomizedRunner.java:943)\r\n  1> [2017-04-06T13:59:07,196][INFO ][o.e.t.l.SimpleLocalTransportTests] [testTracerLog]: after test\r\n  1> [2017-04-06T13:59:07,198][INFO ][o.e.t.l.SimpleLocalTransportTests] [testTcpHandshakeTimeout]: before test\r\n  1> [2017-04-06T13:59:07,199][INFO ][o.e.t.t.MockTransportService] [TS_A] publish_address {local[90]}, bound_addresses {local[90]}\r\n  1> [2017-04-06T13:59:07,200][INFO ][o.e.t.t.MockTransportService] [TS_B] publish_address {local[91]}, bound_addresses {local[91]}\r\n  1> [2017-04-06T13:59:07,202][INFO ][o.e.t.l.SimpleLocalTransportTests] [testTcpHandshakeTimeout]: after test\r\n  2> \tat com.carrotsearch.randomizedtesting.RandomizedRunner$10.evaluate(RandomizedRunner.java:957)\r\n  2> \tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n  2> \tat org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:49)\r\n  2> \tat org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\r\n  2> \tat org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:48)\r\n  2> \tat org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)\r\n  2> \tat org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)\r\n  2> \tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n  2> \tat com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:367)\r\n  2> \tat com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:811)\r\nIGNOR/A 0.01s J1 | SimpleLocalTransportTests.testTcpHandshakeTimeout\r\n  2> \tat com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:462)\r\n  2> \tat com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:916)\r\n   > Assumption #1: only tcp transport does a handshake\r\n  1> [2017-04-06T13:59:07,204][INFO ][o.e.t.l.SimpleLocalTransportTests] [testThreadContext]: before test\r\n  2> \tat com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:802)\r\n  2> \tat com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:852)\r\n  2> \tat com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:863)\r\n  2> \tat org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\r\n  2> \tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n  2> \tat org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:41)\r\n  2> \tat com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)\r\n  2> \tat com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)\r\n  2> \tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n  2> \tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n  2> \tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n  2> \tat org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:53)\r\n  2> \tat org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)\r\n  2> \tat org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)\r\n  2> \tat org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:54)\r\n  2> \tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n  2> \tat com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:367)\r\n  2> \tat java.lang.Thread.run(Thread.java:745)\r\n  2> \"SUITE-SimpleLocalTransportTests-seed#[290BC1B07436B39B]\" ID=857 RUNNABLE\r\n  2> \tat sun.management.ThreadImpl.dumpThreads0(Native Method)\r\n  2> \tat sun.management.ThreadImpl.dumpAllThreads(ThreadImpl.java:454)\r\n  2> \tat com.carrotsearch.randomizedtesting.ThreadLeakControl.formatThreadStacksFull(ThreadLeakControl.java:675)\r\n  2> \tat com.carrotsearch.randomizedtesting.ThreadLeakControl.access$1000(ThreadLeakControl.java:64)\r\n  2> \tat com.carrotsearch.randomizedtesting.ThreadLeakControl$2.evaluate(ThreadLeakControl.java:415)\r\n  2> \t- locked java.lang.Object@6c514907\r\n  2> \tat com.carrotsearch.randomizedtesting.RandomizedRunner.runSuite(RandomizedRunner.java:678)\r\n  2> \tat com.carrotsearch.randomizedtesting.RandomizedRunner.access$200(RandomizedRunner.java:140)\r\n  2> \tat com.carrotsearch.randomizedtesting.RandomizedRunner$2.run(RandomizedRunner.java:598)\r\n  2> \"JUnit4-serializer-daemon\" ID=9 TIMED_WAITING\r\n  2> \tat java.lang.Thread.sleep(Native Method)\r\n  2> \tat com.carrotsearch.ant.tasks.junit4.events.Serializer$1.run(Serializer.java:50)\r\n  2> \"Signal Dispatcher\" ID=4 RUNNABLE\r\n  2> \"Finalizer\" ID=3 WAITING on java.lang.ref.ReferenceQueue$Lock@655179d5\r\n  2> \tat java.lang.Object.wait(Native Method)\r\n  2> \t- waiting on java.lang.ref.ReferenceQueue$Lock@655179d5\r\n  2> \tat java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:143)\r\n  2> \tat java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:164)\r\n  2> \tat java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:209)\r\n  2> \"Reference Handler\" ID=2 WAITING on java.lang.ref.Reference$Lock@d6b5825\r\n  2> \tat java.lang.Object.wait(Native Method)\r\n  2> \t- waiting on java.lang.ref.Reference$Lock@d6b5825\r\n  2> \tat java.lang.Object.wait(Object.java:502)\r\n  2> \tat java.lang.ref.Reference.tryHandlePending(Reference.java:191)\r\n  2> \tat java.lang.ref.Reference$ReferenceHandler.run(Reference.java:153)\r\n  2> \"main\" ID=1 WAITING on com.carrotsearch.randomizedtesting.RandomizedRunner$2@b93c5a6\r\n  2> \tat java.lang.Object.wait(Native Method)\r\n  2> \t- waiting on com.carrotsearch.randomizedtesting.RandomizedRunner$2@b93c5a6\r\n  2> \tat java.lang.Thread.join(Thread.java:1249)\r\n  2> \tat java.lang.Thread.join(Thread.java:1323)\r\n  2> \tat com.carrotsearch.randomizedtesting.RandomizedRunner.runSuite(RandomizedRunner.java:608)\r\n  2> \tat com.carrotsearch.randomizedtesting.RandomizedRunner.run(RandomizedRunner.java:457)\r\n  2> \tat com.carrotsearch.ant.tasks.junit4.slave.SlaveMain.execute(SlaveMain.java:243)\r\n  2> \tat com.carrotsearch.ant.tasks.junit4.slave.SlaveMain.main(SlaveMain.java:354)\r\n  1> [2017-04-06T13:59:07,207][INFO ][o.e.t.t.MockTransportService] [TS_A] publish_address {local[92]}, bound_addresses {local[92]}\r\n  2> \tat com.carrotsearch.ant.tasks.junit4.slave.SlaveMainSafe.main(SlaveMainSafe.java:10)\r\n  1> [2017-04-06T13:59:07,207][INFO ][o.e.t.t.MockTransportService] [TS_B] publish_address {local[93]}, bound_addresses {local[93]}\r\n  1> [2017-04-06T13:59:07,215][INFO ][o.e.t.l.SimpleLocalTransportTests] [testThreadContext]: after test\r\n  1> [2017-04-06T13:59:07,217][INFO ][o.e.t.l.SimpleLocalTransportTests] [testConcurrentSendRespondAndDisconnect]: before test\r\n  1> [2017-04-06T13:59:07,219][INFO ][o.e.t.t.MockTransportService] [TS_A] publish_address {local[94]}, bound_addresses {local[94]}\r\n  2> ^^==============================================\r\n  1> [2017-04-06T13:59:07,219][INFO ][o.e.t.t.MockTransportService] [TS_B] publish_address {local[95]}, bound_addresses {local[95]}\r\n  1> [2017-04-06T13:59:07,230][INFO ][o.e.t.t.MockTransportService] [TS_B_0] publish_address {local[96]}, bound_addresses {local[96]}\r\n  1> [2017-04-06T13:59:07,231][INFO ][o.e.t.t.MockTransportService] [TS_B_3] publish_address {local[97]}, bound_addresses {local[97]}\r\n  1> [2017-04-06T13:59:07,231][INFO ][o.e.t.t.MockTransportService] [TS_B_6] publish_address {local[98]}, bound_addresses {local[98]}\r\n  1> [2017-04-06T13:59:07,232][INFO ][o.e.t.t.MockTransportService] [TS_B_9] publish_address {local[99]}, bound_addresses {local[99]}\r\n  2> REPRODUCE WITH: gradle :core:test -Dtests.seed=290BC1B07436B39B -Dtests.class=org.elasticsearch.transport.local.SimpleLocalTransportTests -Dtests.method=\"testConcurrentSendRespondAndDisconnect\" -Dtests.security.manager=true -Dtests.locale=zh-SG -Dtests.timezone=Asia/Aqtau\r\nERROR   1199s J1 | SimpleLocalTransportTests.testConcurrentSendRespondAndDisconnect <<< FAILURES!\r\n   > Throwable #1: java.lang.Exception: Test abandoned because suite timeout was reached.\r\n   > \tat __randomizedtesting.SeedInfo.seed([290BC1B07436B39B]:0)\r\n  2> 四月 06, 2017 2:19:06 下午 com.carrotsearch.randomizedtesting.ThreadLeakControl checkThreadLeaks\r\n  2> WARNING: Will linger awaiting termination of 11 leaked thread(s).\r\n  2> 四月 06, 2017 2:19:11 下午 com.carrotsearch.randomizedtesting.ThreadLeakControl checkThreadLeaks\r\n  2> SEVERE: 11 threads leaked from SUITE scope at org.elasticsearch.transport.local.SimpleLocalTransportTests: \r\n  2>    1) Thread[id=858, name=TEST-SimpleLocalTransportTests.testConcurrentSendRespondAndDisconnect-seed#[290BC1B07436B39B], state=WAITING, group=TGRP-SimpleLocalTransportTests]\r\n  2>         at sun.misc.Unsafe.park(Native Method)\r\n  2>         at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n  2>         at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)\r\n  1> [2017-04-06T14:19:11,129][ERROR][o.e.t.l.SimpleLocalTransportTests] caught exception while sending to node {TS_B}{TS_B}{GbRouU_HT0GtKrANTCtUyA}{local}{local[95]}\r\n  1> java.lang.IllegalStateException: Future got interrupted\r\n  2>         at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:997)\r\n  2>         at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1304)\r\n  2>         at java.util.concurrent.CountDownLatch.await(CountDownLatch.java:231)\r\n  2>         at org.elasticsearch.transport.AbstractSimpleTransportTestCase.testConcurrentSendRespondAndDisconnect(AbstractSimpleTransportTestCase.java:635)\r\n  2>         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n  1> \tat org.elasticsearch.action.support.AdapterActionFuture.actionGet(AdapterActionFuture.java:44) ~[main/:?]\r\n  1> \tat org.elasticsearch.transport.AbstractSimpleTransportTestCase$13.doRun(AbstractSimpleTransportTestCase.java:596) ~[framework-5.3.1-SNAPSHOT.jar:?]\r\n  2>         at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n  2>         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n  2>         at java.lang.reflect.Method.invoke(Method.java:498)\r\n  2>         at com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1713)\r\n  2>         at com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:907)\r\n  2>         at com.carrotsearch.randomizedtesting.RandomizedRunner$9.evaluate(RandomizedRunner.java:943)\r\n  2>         at com.carrotsearch.randomizedtesting.RandomizedRunner$10.evaluate(RandomizedRunner.java:957)\r\n  1> \tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:638) ~[main/:?]\r\n  2>         at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n  2>         at org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:49)\r\n  2>         at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\r\n  2>         at org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:48)\r\n  2>         at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)\r\n  2>         at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)\r\n  2>         at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n  2>         at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:367)\r\n  2>         at com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:811)\r\n  1> \tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[main/:?]\r\n  1> \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[?:1.8.0_121]\r\n  1> \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) ~[?:1.8.0_121]\r\n  1> \tat java.lang.Thread.run(Thread.java:745) ~[?:1.8.0_121]\r\n  1> Caused by: java.lang.InterruptedException\r\n  1> \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:998) ~[?:1.8.0_121]\r\n  2>         at com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:462)\r\n  2>         at com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:916)\r\n  2>         at com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:802)\r\n  2>         at com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:852)\r\n  2>         at com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:863)\r\n  2>         at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\r\n  1> \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1304) ~[?:1.8.0_121]\r\n  2>         at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n  1> \tat org.elasticsearch.common.util.concurrent.BaseFuture$Sync.get(BaseFuture.java:248) ~[main/:?]\r\n  1> \tat org.elasticsearch.common.util.concurrent.BaseFuture.get(BaseFuture.java:91) ~[main/:?]\r\n  1> \tat org.elasticsearch.action.support.AdapterActionFuture.actionGet(AdapterActionFuture.java:42) ~[main/:?]\r\n  1> \t... 6 more\r\n  1> [2017-04-06T14:19:11,131][INFO ][o.e.t.l.SimpleLocalTransportTests] [testConcurrentSendRespondAndDisconnect]: after test\r\n  2>         at org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:41)\r\n  2>         at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)\r\n  2>         at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)\r\n  2>         at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n  2>         at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n  2>         at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n  2>         at org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:53)\r\n  2>         at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)\r\n  2>         at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)\r\n  2>         at org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:54)\r\n  2>         at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n  2>         at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:367)\r\n  2>         at java.lang.Thread.run(Thread.java:745)\r\n  2>    2) Thread[id=1076, name=elasticsearch[TS_A][local_transport][T#3], state=WAITING, group=TGRP-SimpleLocalTransportTests]\r\n  2>         at sun.misc.Unsafe.park(Native Method)\r\n  2>         at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n  2>         at java.util.concurrent.LinkedTransferQueue.awaitMatch(LinkedTransferQueue.java:737)\r\n  2>         at java.util.concurrent.LinkedTransferQueue.xfer(LinkedTransferQueue.java:647)\r\n  2>         at java.util.concurrent.LinkedTransferQueue.take(LinkedTransferQueue.java:1269)\r\n  2>         at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\r\n  2>         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\r\n  2>         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n  2>         at java.lang.Thread.run(Thread.java:745)\r\n  2>    3) Thread[id=1075, name=elasticsearch[TS_A][local_transport][T#2], state=WAITING, group=TGRP-SimpleLocalTransportTests]\r\n  2>         at sun.misc.Unsafe.park(Native Method)\r\n  2>         at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n  2>         at java.util.concurrent.LinkedTransferQueue.awaitMatch(LinkedTransferQueue.java:737)\r\n  2>         at java.util.concurrent.LinkedTransferQueue.xfer(LinkedTransferQueue.java:647)\r\n  2>         at java.util.concurrent.LinkedTransferQueue.take(LinkedTransferQueue.java:1269)\r\n  2>         at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\r\n  2>         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\r\n  2>         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n  2>         at java.lang.Thread.run(Thread.java:745)\r\n  2>    4) Thread[id=1080, name=elasticsearch[org.elasticsearch.transport.local.SimpleLocalTransportTests][generic][T#12], state=WAITING, group=TGRP-SimpleLocalTransportTests]\r\n  2>         at sun.misc.Unsafe.park(Native Method)\r\n  2>         at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n  2>         at java.util.concurrent.LinkedTransferQueue.awaitMatch(LinkedTransferQueue.java:737)\r\n  2>         at java.util.concurrent.LinkedTransferQueue.xfer(LinkedTransferQueue.java:647)\r\n  2>         at java.util.concurrent.LinkedTransferQueue.take(LinkedTransferQueue.java:1269)\r\n  2>         at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\r\n  2>         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\r\n  2>         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n  2>         at java.lang.Thread.run(Thread.java:745)\r\n  2>    5) Thread[id=1083, name=elasticsearch[org.elasticsearch.transport.local.SimpleLocalTransportTests][generic][T#13], state=WAITING, group=TGRP-SimpleLocalTransportTests]\r\n  2>         at sun.misc.Unsafe.park(Native Method)\r\n  2>         at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n  2>         at java.util.concurrent.LinkedTransferQueue.awaitMatch(LinkedTransferQueue.java:737)\r\n  2>         at java.util.concurrent.LinkedTransferQueue.xfer(LinkedTransferQueue.java:647)\r\n  2>         at java.util.concurrent.LinkedTransferQueue.take(LinkedTransferQueue.java:1269)\r\n  2>         at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\r\n  2>         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\r\n  2>         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n  2>         at java.lang.Thread.run(Thread.java:745)\r\n  2>    6) Thread[id=1070, name=elasticsearch[org.elasticsearch.transport.local.SimpleLocalTransportTests][generic][T#9], state=WAITING, group=TGRP-SimpleLocalTransportTests]\r\n  2>         at sun.misc.Unsafe.park(Native Method)\r\n  2>         at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n  2>         at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)\r\n  2>         at java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:997)\r\n  2>         at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1304)\r\n  2>         at org.elasticsearch.common.util.concurrent.BaseFuture$Sync.get(BaseFuture.java:248)\r\nERROR   0.00s J1 | SimpleLocalTransportTests (suite) <<< FAILURES!\r\n   > Throwable #1: java.lang.Exception: Suite timeout exceeded (>= 1200000 msec).\r\n   > \tat __randomizedtesting.SeedInfo.seed([290BC1B07436B39B]:0)\r\nCompleted [868/902] on J1 in 1205.08s, 27 tests, 2 errors, 6 skipped <<< FAILURES!\r\n\r\n  2>         at org.elasticsearch.common.util.concurrent.BaseFuture.get(BaseFuture.java:91)\r\n  2>         at org.elasticsearch.action.support.AdapterActionFuture.actionGet(AdapterActionFuture.java:42)\r\n  2>         at org.elasticsearch.transport.AbstractSimpleTransportTestCase$13.doRun(AbstractSimpleTransportTestCase.java:596)\r\n  2>         at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:638)\r\n  2>         at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37)\r\n  2>         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n  2>         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n  2>         at java.lang.Thread.run(Thread.java:745)\r\n  2>    7) Thread[id=1084, name=elasticsearch[TS_B_9][local_transport][T#1], state=WAITING, group=TGRP-SimpleLocalTransportTests]\r\n  2>         at sun.misc.Unsafe.park(Native Method)\r\n  2>         at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n  2>         at java.util.concurrent.LinkedTransferQueue.awaitMatch(LinkedTransferQueue.java:737)\r\n  2>         at java.util.concurrent.LinkedTransferQueue.xfer(LinkedTransferQueue.java:647)\r\n  2>         at java.util.concurrent.LinkedTransferQueue.take(LinkedTransferQueue.java:1269)\r\n  2>         at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\r\n  2>         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\r\n  2>         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n  2>         at java.lang.Thread.run(Thread.java:745)\r\n  2>    8) Thread[id=1079, name=elasticsearch[TS_A][local_transport][T#4], state=WAITING, group=TGRP-SimpleLocalTransportTests]\r\n  2>         at sun.misc.Unsafe.park(Native Method)\r\n  2>         at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n  2>         at java.util.concurrent.LinkedTransferQueue.awaitMatch(LinkedTransferQueue.java:737)\r\n  2>         at java.util.concurrent.LinkedTransferQueue.xfer(LinkedTransferQueue.java:647)\r\n  2>         at java.util.concurrent.LinkedTransferQueue.take(LinkedTransferQueue.java:1269)\r\n  2>         at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\r\n  2>         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\r\n  2>         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n  2>         at java.lang.Thread.run(Thread.java:745)\r\n  2>    9) Thread[id=1061, name=elasticsearch[org.elasticsearch.transport.local.SimpleLocalTransportTests][[timer]], state=TIMED_WAITING, group=TGRP-SimpleLocalTransportTests]\r\n  2>         at java.lang.Thread.sleep(Native Method)\r\n  2>         at org.elasticsearch.threadpool.ThreadPool$CachedTimeThread.run(ThreadPool.java:536)\r\n  2>   10) Thread[id=1065, name=elasticsearch[org.elasticsearch.transport.local.SimpleLocalTransportTests][generic][T#4], state=WAITING, group=TGRP-SimpleLocalTransportTests]\r\n  2>         at sun.misc.Unsafe.park(Native Method)\r\n  2>         at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n  2>         at java.util.concurrent.LinkedTransferQueue.awaitMatch(LinkedTransferQueue.java:737)\r\n  2>         at java.util.concurrent.LinkedTransferQueue.xfer(LinkedTransferQueue.java:647)\r\n  2>         at java.util.concurrent.LinkedTransferQueue.take(LinkedTransferQueue.java:1269)\r\nSuite: org.elasticsearch.cluster.routing.allocation.AllocateUnassignedDecisionTests\r\n  2>         at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\r\n  2>         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\r\n  2>         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n  2>         at java.lang.Thread.run(Thread.java:745)\r\n  2>   11) Thread[id=1073, name=elasticsearch[TS_A][local_transport][T#1], state=WAITING, group=TGRP-SimpleLocalTransportTests]\r\n  2>         at sun.misc.Unsafe.park(Native Method)\r\nCompleted [869/902] on J1 in 0.03s, 6 tests\r\n\r\n  2>         at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\r\n  2>         at java.util.concurrent.LinkedTransferQueue.awaitMatch(LinkedTransferQueue.java:737)\r\n  2>         at java.util.concurrent.LinkedTransferQueue.xfer(LinkedTransferQueue.java:647)\r\n  2>         at java.util.concurrent.LinkedTransferQueue.take(LinkedTransferQueue.java:1269)\r\n  2>         at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\r\n  2>         at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\r\n  2>         at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n  2>         at java.lang.Thread.run(Thread.java:745)\r\n  2> 四月 06, 2017 2:19:11 下午 com.carrotsearch.randomizedtesting.ThreadLeakControl tryToInterruptAll\r\n  2> INFO: Starting to interrupt leaked threads:\r\n  2>    1) Thread[id=858, name=TEST-SimpleLocalTransportTests.testConcurrentSendRespondAndDisconnect-seed#[290BC1B07436B39B], state=WAITING, group=TGRP-SimpleLocalTransportTests]\r\n  2>    2) Thread[id=1076, name=elasticsearch[TS_A][local_transport][T#3], state=WAITING, group=TGRP-SimpleLocalTransportTests]\r\n  2>    3) Thread[id=1075, name=elasticsearch[TS_A][local_transport][T#2], state=WAITING, group=TGRP-SimpleLocalTransportTests]\r\n  2>    4) Thread[id=1080, name=elasticsearch[org.elasticsearch.transport.local.SimpleLocalTransportTests][generic][T#12], state=WAITING, group=TGRP-SimpleLocalTransportTests]\r\n  2>    5) Thread[id=1083, name=elasticsearch[org.elasticsearch.transport.local.SimpleLocalTransportTests][generic][T#13], state=WAITING, group=TGRP-SimpleLocalTransportTests]\r\n  2>    6) Thread[id=1070, name=elasticsearch[org.elasticsearch.transport.local.SimpleLocalTransportTests][generic][T#9], state=WAITING, group=TGRP-SimpleLocalTransportTests]\r\n  2>    7) Thread[id=1084, name=elasticsearch[TS_B_9][local_transport][T#1], state=WAITING, group=TGRP-SimpleLocalTransportTests]\r\n  2>    8) Thread[id=1079, name=elasticsearch[TS_A][local_transport][T#4], state=WAITING, group=TGRP-SimpleLocalTransportTests]\r\n  2>    9) Thread[id=1061, name=elasticsearch[org.elasticsearch.transport.local.SimpleLocalTransportTests][[timer]], state=TIMED_WAITING, group=TGRP-SimpleLocalTransportTests]\r\n  2>   10) Thread[id=1065, name=elasticsearch[org.elasticsearch.transport.local.SimpleLocalTransportTests][generic][T#4], state=WAITING, group=TGRP-SimpleLocalTransportTests]\r\n  2>   11) Thread[id=1073, name=elasticsearch[TS_A][local_transport][T#1], state=WAITING, group=TGRP-SimpleLocalTransportTests]\r\n  2> NOTE: leaving temporary files on disk at: /var/lib/jenkins/workspace/elastic+elasticsearch+5.3+multijob-unix-compatibility/os/fedora/core/build/testrun/test/J1/temp/org.elasticsearch.transport.local.SimpleLocalTransportTests_290BC1B07436B39B-001\r\n  2> Apr 06, 2017 9:19:11 AM com.carrotsearch.randomizedtesting.ThreadLeakControl tryToInterruptAll\r\n  2> INFO: All leaked threads terminated.\r\n  2> REPRODUCE WITH: gradle :core:test -Dtests.seed=290BC1B07436B39B -Dtests.class=org.elasticsearch.transport.local.SimpleLocalTransportTests -Dtests.security.manager=true -Dtests.locale=en-US -Dtests.timezone=Etc/UTC\r\n  2> NOTE: test params are: codec=Asserting(Lucene62), sim=RandomSimilarity(queryNorm=true,coord=yes): {}, locale=zh-SG, timezone=Asia/Aqtau\r\n  2> NOTE: Linux 4.9.14-200.fc25.x86_64 amd64/Oracle Corporation 1.8.0_121 (64-bit)/cpus=4,threads=1,free=395954336,total=531628032\r\n  2> NOTE: All tests run in this JVM: [WriteableIngestDocumentTests, MatchPhrasePrefixQueryBuilderTests, HasParentQueryBuilderTests, OperationRoutingTests, \r\n```","closed_by":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"performed_via_github_app":null}