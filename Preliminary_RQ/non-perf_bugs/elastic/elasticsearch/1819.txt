{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/1819","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1819/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1819/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1819/events","html_url":"https://github.com/elastic/elasticsearch/issues/1819","id":3869774,"node_id":"MDU6SXNzdWUzODY5Nzc0","number":1819,"title":"TransportClient (sniff) fails to reconnect to nodes once removed if all nodes are removed","user":{"login":"holdenk","id":59893,"node_id":"MDQ6VXNlcjU5ODkz","avatar_url":"https://avatars1.githubusercontent.com/u/59893?v=4","gravatar_id":"","url":"https://api.github.com/users/holdenk","html_url":"https://github.com/holdenk","followers_url":"https://api.github.com/users/holdenk/followers","following_url":"https://api.github.com/users/holdenk/following{/other_user}","gists_url":"https://api.github.com/users/holdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/holdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/holdenk/subscriptions","organizations_url":"https://api.github.com/users/holdenk/orgs","repos_url":"https://api.github.com/users/holdenk/repos","events_url":"https://api.github.com/users/holdenk/events{/privacy}","received_events_url":"https://api.github.com/users/holdenk/received_events","type":"User","site_admin":false},"labels":[{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":1671193,"node_id":"MDU6TGFiZWwxNjcxMTkz","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v0.19.2","name":"v0.19.2","color":"DDDDDD","default":false,"description":null},{"id":232920,"node_id":"MDU6TGFiZWwyMzI5MjA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v0.20.0.RC1","name":"v0.20.0.RC1","color":"DDDDDD","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2012-03-29T04:04:51Z","updated_at":"2012-03-29T09:22:11Z","closed_at":"2012-03-29T09:22:11Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Reproduction steps:\n\nCreate transportclient pointed at a single node cluster. Query cluster. Shutdown cluster. Query. Bring back up node. Query.\n\nThe exception is:\n\norg.elasticsearch.client.transport.NoNodeAvailableException: No node available\n    at org.elasticsearch.client.transport.TransportClientNodesService$RetryListener.onFailure(TransportClientNodesService.java:214)\n    at org.elasticsearch.client.transport.TransportClientNodesService.execute(TransportClientNodesService.java:182)\n    at org.elasticsearch.client.transport.support.InternalTransportClient.execute(InternalTransportClient.java:97)\n    at org.elasticsearch.client.support.AbstractClient.search(AbstractClient.java:206)\n    at org.elasticsearch.client.transport.TransportClient.search(TransportClient.java:345)\n    at org.elasticsearch.action.search.SearchRequestBuilder.doExecute(SearchRequestBuilder.java:743)\n    at org.elasticsearch.action.support.BaseRequestBuilder.execute(BaseRequestBuilder.java:53)\n    at org.elasticsearch.action.support.BaseRequestBuilder.execute(BaseRequestBuilder.java:47)\n    at com.foursquare.slashem.ElasticSchema$$anonfun$18.apply(Schema.scala:506)\n    at com.foursquare.slashem.ElasticSchema$$anonfun$18.apply(Schema.scala:470)\n    at com.twitter.util.Try$.apply(Try.scala:13)\n    at com.twitter.util.ExecutorServiceFuturePool$$anon$2.run(FuturePool.scala:65)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:471)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:166)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)\n    at java.lang.Thread.run(Thread.java:679)\n","closed_by":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"performed_via_github_app":null}