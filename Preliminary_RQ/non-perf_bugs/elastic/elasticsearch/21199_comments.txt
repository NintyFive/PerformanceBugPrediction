[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/257292217","html_url":"https://github.com/elastic/elasticsearch/issues/21199#issuecomment-257292217","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21199","id":257292217,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NzI5MjIxNw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-10-31T13:23:47Z","updated_at":"2016-10-31T13:23:47Z","author_association":"MEMBER","body":"This is due to the fact that month isn't a fixed unit of measure (months have 28, 29, 30, or 31 days (and let's ignore the fact that day isn't a fixed unit of measure either)), combined with how JodaTime handles this oddity and how the date math parser does not simplify expressions (i.e., it does not reduce `now+M-M` to `now` before evaluating it). From the [JodaTime docs](http://www.joda.org/joda-time/apidocs/) for `DateTime#plusMonths`:\n\n> The calculation will do its best to only change the month field retaining the same day of month. However, in certain circumstances, it may be necessary to alter smaller fields. For example, 2007-03-31 plus one month cannot result in 2007-04-31, so the day of month is adjusted to 2007-04-30.\n\nIn particular, adding a month to 2016-10-31 will take you to 2016-11-30 (ignoring time, but note that  there is a DST transition there depending on the timezone), and then subtracting a month will take you back to 2016-10-30. This explains the issue that you're seeing.\n","performed_via_github_app":null}]