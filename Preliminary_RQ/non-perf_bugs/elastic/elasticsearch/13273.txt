{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/13273","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13273/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13273/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13273/events","html_url":"https://github.com/elastic/elasticsearch/issues/13273","id":104515099,"node_id":"MDU6SXNzdWUxMDQ1MTUwOTk=","number":13273,"title":"How will Java clients survive the 1.x -> 2.x upgrade?","user":{"login":"udoprog","id":111092,"node_id":"MDQ6VXNlcjExMTA5Mg==","avatar_url":"https://avatars0.githubusercontent.com/u/111092?v=4","gravatar_id":"","url":"https://api.github.com/users/udoprog","html_url":"https://github.com/udoprog","followers_url":"https://api.github.com/users/udoprog/followers","following_url":"https://api.github.com/users/udoprog/following{/other_user}","gists_url":"https://api.github.com/users/udoprog/gists{/gist_id}","starred_url":"https://api.github.com/users/udoprog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/udoprog/subscriptions","organizations_url":"https://api.github.com/users/udoprog/orgs","repos_url":"https://api.github.com/users/udoprog/repos","events_url":"https://api.github.com/users/udoprog/events{/privacy}","received_events_url":"https://api.github.com/users/udoprog/received_events","type":"User","site_admin":false},"labels":[{"id":146829143,"node_id":"MDU6TGFiZWwxNDY4MjkxNDM=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Transport%20API","name":":Core/Infra/Transport API","color":"0e8a16","default":false,"description":"Transport client API"},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":14,"created_at":"2015-09-02T16:00:12Z","updated_at":"2016-07-08T16:16:32Z","closed_at":"2016-07-08T16:16:32Z","author_association":"NONE","active_lock_reason":null,"body":"I'm raising this out of concern for the up and coming 2.0 release.\n\nCurrently, java clients communicating with an elasticsearch cluster use the following dependency.\n\n``` xml\n<dependency>\n  <groupId>org.elasticsearch</groupId>\n  <artifactId>elasticsearch</artifactId>\n  <version>1.x.y or 2.x.y</version>\n</dependency>\n```\n\nThis is a _very large_ package, essentially containing all the code necessary to operate an elasticsearch node. What clients typically are interested in is the TransportClient code.\n\nA major version bump is allowed to carry incompatible changes, and I will be encountering several scenarios where I will have to write java clients that communicate with both `1.x` and `2.x` clusters.\n\nTraditionally you have been very good at maintaining backwards compatibility, I have 1.4 clients communicating with 1.7 clusters. So Minor versions have not been that much of an issue as long as you control the feature set you use for each cluster version.\n\nThe canonical way of solving this would be to extract the public API into a separate artifact, and under a different package name (e.g. `org.elasticsearch2`) to allow the two different client versions to co-exist both in maven, and in the classpath.\n\nConsidering the **important** comment on [your java-api client documentation](https://www.elastic.co/guide/en/elasticsearch/client/java-api/current/client.html) this seems to ramp up towards becoming a major hassle for me.\n\nWill there be some way of combating this?\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}