[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/707050288","html_url":"https://github.com/elastic/elasticsearch/issues/63504#issuecomment-707050288","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/63504","id":707050288,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNzA1MDI4OA==","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"created_at":"2020-10-12T11:02:34Z","updated_at":"2020-10-12T11:02:34Z","author_association":"MEMBER","body":"@cjmcgraw thanks for opening the issue, this is working as intended but you might need an additional decoding step for the \"_id\" field.\r\nWe internally seem to encode the raw id value again using the `Uid` helper class in https://github.com/elastic/elasticsearch/blob/7.9/server/src/main/java/org/elasticsearch/index/mapper/IdFieldMapper.java#L289. That means when getting back the binary value from the IndexableField you need to decode it back using something similar to https://github.com/elastic/elasticsearch/blob/7.9/server/src/main/java/org/elasticsearch/index/mapper/IdFieldMapper.java#L255. I think the exact code might differ since you get a BytesRef with `binaryValue()` but that should contain the original bytes array, offset and length. I didn't try this out yet but hope this helps. \r\nI'm going to close this issue as it is more a usage question than an enhancement request or bug report. Please consider using our support forums over at https://discuss.elastic.co in the future since we prefer to use Github issues only for bug reports and feature requests. Let me know if you have more questions and we should continue the discussion there.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/710709020","html_url":"https://github.com/elastic/elasticsearch/issues/63504#issuecomment-710709020","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/63504","id":710709020,"node_id":"MDEyOklzc3VlQ29tbWVudDcxMDcwOTAyMA==","user":{"login":"cjmcgraw","id":4107771,"node_id":"MDQ6VXNlcjQxMDc3NzE=","avatar_url":"https://avatars0.githubusercontent.com/u/4107771?v=4","gravatar_id":"","url":"https://api.github.com/users/cjmcgraw","html_url":"https://github.com/cjmcgraw","followers_url":"https://api.github.com/users/cjmcgraw/followers","following_url":"https://api.github.com/users/cjmcgraw/following{/other_user}","gists_url":"https://api.github.com/users/cjmcgraw/gists{/gist_id}","starred_url":"https://api.github.com/users/cjmcgraw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cjmcgraw/subscriptions","organizations_url":"https://api.github.com/users/cjmcgraw/orgs","repos_url":"https://api.github.com/users/cjmcgraw/repos","events_url":"https://api.github.com/users/cjmcgraw/events{/privacy}","received_events_url":"https://api.github.com/users/cjmcgraw/received_events","type":"User","site_admin":false},"created_at":"2020-10-17T00:30:03Z","updated_at":"2020-10-17T00:30:03Z","author_association":"NONE","body":"@cbuescher I will investigate this and get back to you. I was imagining it was more operator error than anything. Thanks for the information!","performed_via_github_app":null}]