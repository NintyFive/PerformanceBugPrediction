{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/13382","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13382/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13382/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13382/events","html_url":"https://github.com/elastic/elasticsearch/issues/13382","id":105278218,"node_id":"MDU6SXNzdWUxMDUyNzgyMTg=","number":13382,"title":"Mapped Boolean field saving string values","user":{"login":"saurajeet","id":1396733,"node_id":"MDQ6VXNlcjEzOTY3MzM=","avatar_url":"https://avatars0.githubusercontent.com/u/1396733?v=4","gravatar_id":"","url":"https://api.github.com/users/saurajeet","html_url":"https://github.com/saurajeet","followers_url":"https://api.github.com/users/saurajeet/followers","following_url":"https://api.github.com/users/saurajeet/following{/other_user}","gists_url":"https://api.github.com/users/saurajeet/gists{/gist_id}","starred_url":"https://api.github.com/users/saurajeet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saurajeet/subscriptions","organizations_url":"https://api.github.com/users/saurajeet/orgs","repos_url":"https://api.github.com/users/saurajeet/repos","events_url":"https://api.github.com/users/saurajeet/events{/privacy}","received_events_url":"https://api.github.com/users/saurajeet/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2015-09-08T00:05:07Z","updated_at":"2015-09-08T21:33:10Z","closed_at":"2015-09-08T21:33:10Z","author_association":"NONE","active_lock_reason":null,"body":"```\nPUT /test_boolean\n{   \"mappings\": {\n        \"shops\": {\n            \"properties\": {\n                \"shop_type\": {\n                    \"type\": \"object\",\n                    \"dynamic\": \"strict\",\n                    \"properties\": {\n                        \"dealer\": {\"type\": \"boolean\"},\n                        \"seller\": {\"type\": \"boolean\"}\n                    }\n                }\n            }\n        }\n    }\n}\n\n# THIS DOC SHOULD GET INDEXED\nPUT test_boolean/shops/1\n{\n    \"shop_type\": [  \n        {   \"dealer\": true, \n            \"seller\": false\n        }\n    ]\n}\n\n\n#THIS DOC SHOULDNOT GET INDEXED. MAPPER EXCEPTION EXPECTED\nPUT test_boolean/shops/2\n{\n    \"shop_type\": [  \n        {   \"dealer\": true, \n            \"seller\": \"No this not a seller\"\n        }\n    ]\n}\n```\n\nTried on latest: 1.7.1\n\nAccording to my usecase the second document should fail by Mapper Exception telling cannot match string \"No this not a seller\" to boolean type.\n\nI read though this https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-core-types.html#boolean \nThe doc says any string is finally treated as True. But i can see the final persisted doc contains the string as well. \n\nGET test_boolean/shops/2\n\n```\n{\n   \"_index\": \"test_boolean\",\n   \"_type\": \"shops\",\n   \"_id\": \"2\",\n   \"_version\": 1,\n   \"found\": true,\n   \"_source\": {\n      \"shop_type\": [\n         {\n            \"dealer\": true,\n            \"seller\": \"No this not a seller\"\n         }\n      ]\n   }\n}\n```\n\nIs this a bug or a feature. If a feature, how can i circumvent this problem to enforce my usecase. \n","closed_by":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"performed_via_github_app":null}