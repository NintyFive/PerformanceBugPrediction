{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/8224","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8224/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8224/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8224/events","html_url":"https://github.com/elastic/elasticsearch/issues/8224","id":46759035,"node_id":"MDU6SXNzdWU0Njc1OTAzNQ==","number":8224,"title":"Unassigned shards after restore","user":{"login":"abaxanean","id":1536989,"node_id":"MDQ6VXNlcjE1MzY5ODk=","avatar_url":"https://avatars2.githubusercontent.com/u/1536989?v=4","gravatar_id":"","url":"https://api.github.com/users/abaxanean","html_url":"https://github.com/abaxanean","followers_url":"https://api.github.com/users/abaxanean/followers","following_url":"https://api.github.com/users/abaxanean/following{/other_user}","gists_url":"https://api.github.com/users/abaxanean/gists{/gist_id}","starred_url":"https://api.github.com/users/abaxanean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abaxanean/subscriptions","organizations_url":"https://api.github.com/users/abaxanean/orgs","repos_url":"https://api.github.com/users/abaxanean/repos","events_url":"https://api.github.com/users/abaxanean/events{/privacy}","received_events_url":"https://api.github.com/users/abaxanean/received_events","type":"User","site_admin":false},"labels":[{"id":143077482,"node_id":"MDU6TGFiZWwxNDMwNzc0ODI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Snapshot/Restore","name":":Distributed/Snapshot/Restore","color":"0e8a16","default":false,"description":"Anything directly related to the `_snapshot/*` APIs"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"assignees":[{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2014-10-24T16:50:47Z","updated_at":"2014-11-18T00:38:29Z","closed_at":"2014-11-18T00:38:29Z","author_association":"NONE","active_lock_reason":null,"body":"ES 1.3.3\n1. Have two nodes that form a cluster (one shard per index, no replicas).\n2. Insert some documents (multiple indices).\n3. Put repository, backup the cluster (global state = true, partial = false ).\n4. Stop both nodes.\n5. Delete the data folder of one of the nodes (path.data).\n6. Start the two nodes (the cluster has red status).\n7. Close all indices\n7. Put repository, restore (global state = true, partial = false).\n\nObserved : Half of the shards remain unassigned.\n\nNote : If deleting data folders of both nodes (on step 5), after restore everything is ok.\n","closed_by":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"performed_via_github_app":null}