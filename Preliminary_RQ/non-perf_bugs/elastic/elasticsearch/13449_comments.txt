[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/140001010","html_url":"https://github.com/elastic/elasticsearch/issues/13449#issuecomment-140001010","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13449","id":140001010,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MDAwMTAxMA==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2015-09-14T08:36:09Z","updated_at":"2015-09-14T08:36:09Z","author_association":"MEMBER","body":"@masaruh correct, this has fixed by the great mapping refactoring, because it is a mapping issue that manifest here because has_child and has_parent queries operate between types, but the search api scoped the mapping view down to a single type. This makes this query fail. Without the mapping refactoring this issue can't fixed properly, so two things can be done. Upgrade to 2.0 once it is released or don't use types in the url when using the has_child query.  Filtering by type can also be done in the query dsl instead.\n\nThere was another similar issue open for this too, but I can't find it at the moment, but also that one has been fixed by the mapping refactoring. I'm closing this issue and because it has been fixed in 2.0 and it can't really be fixed in 1.x.\n","performed_via_github_app":null}]