{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/7914","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7914/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7914/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7914/events","html_url":"https://github.com/elastic/elasticsearch/issues/7914","id":44310329,"node_id":"MDU6SXNzdWU0NDMxMDMyOQ==","number":7914,"title":"Disable dynamic mapping with template","user":{"login":"Quentin01","id":1022683,"node_id":"MDQ6VXNlcjEwMjI2ODM=","avatar_url":"https://avatars3.githubusercontent.com/u/1022683?v=4","gravatar_id":"","url":"https://api.github.com/users/Quentin01","html_url":"https://github.com/Quentin01","followers_url":"https://api.github.com/users/Quentin01/followers","following_url":"https://api.github.com/users/Quentin01/following{/other_user}","gists_url":"https://api.github.com/users/Quentin01/gists{/gist_id}","starred_url":"https://api.github.com/users/Quentin01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Quentin01/subscriptions","organizations_url":"https://api.github.com/users/Quentin01/orgs","repos_url":"https://api.github.com/users/Quentin01/repos","events_url":"https://api.github.com/users/Quentin01/events{/privacy}","received_events_url":"https://api.github.com/users/Quentin01/received_events","type":"User","site_admin":false},"labels":[{"id":111624690,"node_id":"MDU6TGFiZWwxMTE2MjQ2OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/feedback_needed","name":"feedback_needed","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"assignees":[{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false}],"milestone":null,"comments":5,"created_at":"2014-09-29T15:59:58Z","updated_at":"2014-10-21T11:31:20Z","closed_at":"2014-10-21T11:31:20Z","author_association":"NONE","active_lock_reason":null,"body":"Hi !\n\nIt seems that disable \"dynamic\" with a template doesn't work ? Here is my template which I can get with this query : `curl \"http://localhost:9200/_template/default_mapping?pretty=1\"`\n\n``` js\n{\n  \"default_mapping\" : {\n    \"order\" : 0,\n    \"template\" : \"company_*\",\n    \"settings\" : {\n      // ...\n    },\n    \"mappings\" : {\n      \"_default_\" : {\n        \"dynamic\" : false,\n        \"properties\" : {\n          // ...\n        },\n        \"dynamic_date_formats\" : [ \"yyyy-MM-dd\", \"dd-MM-yyyy\", \"dateOptionalTime\", \"yyyy/MM/dd HH:mm:ss Z\", \"yyyy/MM/dd Z\", \"date\" ]\n      },\n      \"5252ce4ce4cfcd16f55cfa3d\" : {\n        \"properties\" : {\n          // ...\n        }\n      },\n      \"656d61696c2d746872656164\" : {\n        \"properties\" : {\n          // ...\n        }\n      },\n      \"5252ce4ce4cfcd16f55cfa3a\" : {\n        \"properties\" : {\n          // ...\n        }\n      },\n      \"5252ce4ce4cfcd16f55cfa41\" : {\n        \"properties\" : {\n          // ...\n        }\n      },\n      \"5252ce4ce4cfcd16f55cfa3c\" : {\n        \"properties\" : {\n          // ...\n        }\n      },\n      \"5252ce4ce4cfcd16f55cfa3b\" : {\n        \"properties\" : {\n          // ...\n        }\n      },\n      \"5252ce4ce4cfcd16f55cfa40\" : {\n        \"properties\" : {\n          // ...\n        }\n      },\n      \"5252ce4ce4cfcd16f55cfa3f\" : {\n        \"properties\" : {\n          // ...\n        }\n      }\n    },\n    \"aliases\" : { }\n  }\n}\n```\n\nNormally, ES won't update the mapping when an unknown property is set. But in fact ... Here is the log of ES with this template : \n\n```\n[2014-09-29 18:17:23,757][INFO ][cluster.metadata         ] [Ogre] [company_54298612814192d3227e86b6] creating index, cause [auto(index api)], shards [5]/[0], mappings [5252ce4ce4cfcd16f55cfa41, _default_, 5252ce4ce4cfcd16f55cfa3d, 5252ce4ce4cfcd16f55cfa3f, 5252ce4ce4cfcd16f55cfa40, 5252ce4ce4cfcd16f55cfa3a, 656d61696c2d746872656164, 5252ce4ce4cfcd16f55cfa3c, 5252ce4ce4cfcd16f55cfa3b]\n[2014-09-29 18:17:25,581][INFO ][cluster.metadata         ] [Ogre] [company_54298612814192d3227e86b6] update_mapping [5252ce4ce4cfcd16f55cfa40] (dynamic)\n[2014-09-29 18:17:26,681][INFO ][cluster.metadata         ] [Ogre] [company_54298612814192d3227e86b6] update_mapping [5252ce4ce4cfcd16f55cfa3f] (dynamic)\n[2014-09-29 18:17:27,421][INFO ][cluster.metadata         ] [Ogre] [company_54298612814192d3227e86b6] deleting index\n```\n\nIt's seems than disable dynamic mapping works, but why this two lines of log with \"update_mapping (dynamic)\" ?\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}