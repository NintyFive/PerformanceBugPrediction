[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/553085415","html_url":"https://github.com/elastic/elasticsearch/issues/49005#issuecomment-553085415","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49005","id":553085415,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzA4NTQxNQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-11-12T19:50:32Z","updated_at":"2019-11-12T19:50:32Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-analytics-geo (:Analytics/Aggregations)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/626896604","html_url":"https://github.com/elastic/elasticsearch/issues/49005#issuecomment-626896604","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49005","id":626896604,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNjg5NjYwNA==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2020-05-11T19:04:17Z","updated_at":"2020-05-11T19:04:17Z","author_association":"MEMBER","body":"@wylieconlon I am trying to figure out how it would look like and how it will help. So, if we use the example below:\r\n\r\n```\r\n    \"comp1\": {\r\n      \"composite\": {\r\n        \"sources\": [\r\n          {\r\n            \"hist1\": {\r\n              \"auto_date_histogram\": {\r\n                \"field\": \"date\",\r\n                \"buckets\": 100000\r\n              }\r\n            }\r\n          }\r\n        ],\r\n        \"size\": 10000\r\n      }\r\n```\r\n\r\nWe will automatically split the date histogram into 100,000 buckets but return only first 10,000? If this is the case, I am not sure how having this in composite agg will help us since the way auto_date_histogram is working is it will have to keep these 100,000 bucket through the entire execution in case we will end up with an outlier that will cause us to shrink all these buckets into under 10,000. Since it doesn't look like we can save a memory footprint here. It doesn't seem to make much sense to implement it as a composite agg. Not sure if I missed something.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/651158290","html_url":"https://github.com/elastic/elasticsearch/issues/49005#issuecomment-651158290","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49005","id":651158290,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTE1ODI5MA==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2020-06-29T14:28:26Z","updated_at":"2020-06-29T14:28:26Z","author_association":"MEMBER","body":"No feedback is provided. Closing.","performed_via_github_app":null}]