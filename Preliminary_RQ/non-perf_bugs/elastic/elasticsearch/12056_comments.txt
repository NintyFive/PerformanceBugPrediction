[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/119620336","html_url":"https://github.com/elastic/elasticsearch/issues/12056#issuecomment-119620336","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12056","id":119620336,"node_id":"MDEyOklzc3VlQ29tbWVudDExOTYyMDMzNg==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2015-07-08T15:14:02Z","updated_at":"2015-07-08T15:14:02Z","author_association":"MEMBER","body":"For `geo_point`:\nBinaryDocValues only supports a single value. Multiple values must be encoded within the binary value returned. This works when changing to eg `long` because then the field is using SortedNumericDocValues, which supports multiple values. However, `geo_point` has code (which at a glance looks correct to me) which handles multiple values when encoding. So this seems like a bug. Maybe @nknize has ideas here on what could be going wrong.\n\nFor `geo_shape`:\nAs mentioned in the referenced comment, the way the custom token producer for shapes works only allows a single pass, but `include_in_parent` works by simply copying the reference to the token producer, and the second iteration (for the parent) silently fails. I agree we should simply disallow this with an error message until it can be fixed. I'll put up a PR. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/119624286","html_url":"https://github.com/elastic/elasticsearch/issues/12056#issuecomment-119624286","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12056","id":119624286,"node_id":"MDEyOklzc3VlQ29tbWVudDExOTYyNDI4Ng==","user":{"login":"pickypg","id":1501235,"node_id":"MDQ6VXNlcjE1MDEyMzU=","avatar_url":"https://avatars2.githubusercontent.com/u/1501235?v=4","gravatar_id":"","url":"https://api.github.com/users/pickypg","html_url":"https://github.com/pickypg","followers_url":"https://api.github.com/users/pickypg/followers","following_url":"https://api.github.com/users/pickypg/following{/other_user}","gists_url":"https://api.github.com/users/pickypg/gists{/gist_id}","starred_url":"https://api.github.com/users/pickypg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pickypg/subscriptions","organizations_url":"https://api.github.com/users/pickypg/orgs","repos_url":"https://api.github.com/users/pickypg/repos","events_url":"https://api.github.com/users/pickypg/events{/privacy}","received_events_url":"https://api.github.com/users/pickypg/received_events","type":"User","site_admin":false},"created_at":"2015-07-08T15:24:50Z","updated_at":"2015-07-08T15:24:50Z","author_association":"MEMBER","body":"Just to add for @nknize, it does work with multiple values _without_ `include_in_parent`.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/138645694","html_url":"https://github.com/elastic/elasticsearch/issues/12056#issuecomment-138645694","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12056","id":138645694,"node_id":"MDEyOklzc3VlQ29tbWVudDEzODY0NTY5NA==","user":{"login":"nknize","id":830187,"node_id":"MDQ6VXNlcjgzMDE4Nw==","avatar_url":"https://avatars3.githubusercontent.com/u/830187?v=4","gravatar_id":"","url":"https://api.github.com/users/nknize","html_url":"https://github.com/nknize","followers_url":"https://api.github.com/users/nknize/followers","following_url":"https://api.github.com/users/nknize/following{/other_user}","gists_url":"https://api.github.com/users/nknize/gists{/gist_id}","starred_url":"https://api.github.com/users/nknize/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nknize/subscriptions","organizations_url":"https://api.github.com/users/nknize/orgs","repos_url":"https://api.github.com/users/nknize/repos","events_url":"https://api.github.com/users/nknize/events{/privacy}","received_events_url":"https://api.github.com/users/nknize/received_events","type":"User","site_admin":false},"created_at":"2015-09-08T17:44:23Z","updated_at":"2015-09-08T17:44:23Z","author_association":"CONTRIBUTOR","body":"This worked for me in 2.x. @pickypg can you confirm? @clintongormley Would you like me to diff with 1.7.x and backport a patch?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/138648907","html_url":"https://github.com/elastic/elasticsearch/issues/12056#issuecomment-138648907","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12056","id":138648907,"node_id":"MDEyOklzc3VlQ29tbWVudDEzODY0ODkwNw==","user":{"login":"pickypg","id":1501235,"node_id":"MDQ6VXNlcjE1MDEyMzU=","avatar_url":"https://avatars2.githubusercontent.com/u/1501235?v=4","gravatar_id":"","url":"https://api.github.com/users/pickypg","html_url":"https://github.com/pickypg","followers_url":"https://api.github.com/users/pickypg/followers","following_url":"https://api.github.com/users/pickypg/following{/other_user}","gists_url":"https://api.github.com/users/pickypg/gists{/gist_id}","starred_url":"https://api.github.com/users/pickypg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pickypg/subscriptions","organizations_url":"https://api.github.com/users/pickypg/orgs","repos_url":"https://api.github.com/users/pickypg/repos","events_url":"https://api.github.com/users/pickypg/events{/privacy}","received_events_url":"https://api.github.com/users/pickypg/received_events","type":"User","site_admin":false},"created_at":"2015-09-08T17:57:57Z","updated_at":"2015-09-08T17:57:57Z","author_association":"MEMBER","body":"@nknize Confirmed that this appears to work in 2.0.0-beta1.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/141667971","html_url":"https://github.com/elastic/elasticsearch/issues/12056#issuecomment-141667971","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12056","id":141667971,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MTY2Nzk3MQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-09-19T13:26:07Z","updated_at":"2015-09-19T13:26:07Z","author_association":"CONTRIBUTOR","body":"@nknize Thanks, but I think we're good with 2.0.  Closing\n","performed_via_github_app":null}]