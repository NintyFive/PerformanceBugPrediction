{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/26073","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26073/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26073/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26073/events","html_url":"https://github.com/elastic/elasticsearch/issues/26073","id":248275461,"node_id":"MDU6SXNzdWUyNDgyNzU0NjE=","number":26073,"title":"packetbeat.sh won't work if the filename contains spaces","user":{"login":"gavinspearhead","id":5463588,"node_id":"MDQ6VXNlcjU0NjM1ODg=","avatar_url":"https://avatars1.githubusercontent.com/u/5463588?v=4","gravatar_id":"","url":"https://api.github.com/users/gavinspearhead","html_url":"https://github.com/gavinspearhead","followers_url":"https://api.github.com/users/gavinspearhead/followers","following_url":"https://api.github.com/users/gavinspearhead/following{/other_user}","gists_url":"https://api.github.com/users/gavinspearhead/gists{/gist_id}","starred_url":"https://api.github.com/users/gavinspearhead/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gavinspearhead/subscriptions","organizations_url":"https://api.github.com/users/gavinspearhead/orgs","repos_url":"https://api.github.com/users/gavinspearhead/repos","events_url":"https://api.github.com/users/gavinspearhead/events{/privacy}","received_events_url":"https://api.github.com/users/gavinspearhead/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-08-06T22:11:33Z","updated_at":"2017-08-07T01:20:53Z","closed_at":"2017-08-07T01:20:53Z","author_association":"NONE","active_lock_reason":null,"body":"<!-- Bug report -->\r\n\r\n\r\n**Elasticsearch version** (`bin/elasticsearch --version`):\r\npacketbeat version 5.5.1 (amd64), libbeat 5.5.1\r\n\r\n**Plugins installed**: []\r\n\r\n**JVM version** (`java -version`):\r\nopenjdk version \"1.8.0_131\"\r\nOpenJDK Runtime Environment (build 1.8.0_131-8u131-b11-2ubuntu1.17.04.3-b11)\r\nOpenJDK 64-Bit Server VM (build 25.131-b11, mixed mode)\r\n\r\n**OS version** (`uname -a` if on a Unix-like system):\r\nLinux urd 4.10.0-30-generic #34-Ubuntu SMP Mon Jul 31 19:38:17 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\n\r\npacketbeat.sh won't work if the filename contains spaces. This is due to the $@ in the bash script. Quoting does not help.\r\n\r\n**Steps to reproduce**:\r\nsudo packetbeat.sh -e -c /etc/packetbeat/packetbeat.yml -t -I DNS01\\ -\\ C3-.pcap -d \"publish\"\r\n\r\n2017/08/06 22:07:56.836114 beat.go:285: INFO Home path: [/usr/share/packetbeat] Config path: [/etc/packetbeat] Data path: [/var/lib/packetbeat] Logs path: [/var/log/packetbeat]\r\n2017/08/06 22:07:56.836462 beat.go:186: INFO Setup Beat: packetbeat; Version: 5.5.1\r\n2017/08/06 22:07:56.836821 output.go:258: INFO Loading template enabled. Reading template file: /etc/packetbeat/packetbeat.template.json\r\n2017/08/06 22:07:56.840314 output.go:269: INFO Loading template enabled for Elasticsearch 2.x. Reading template file: /etc/packetbeat/packetbeat.template-es2x.json\r\n2017/08/06 22:07:56.841979 output.go:281: INFO Loading template enabled for Elasticsearch 6.x. Reading template file: /etc/packetbeat/packetbeat.template-es6x.json\r\n2017/08/06 22:07:56.843492 client.go:128: INFO Elasticsearch url: http://localhost:9200\r\n2017/08/06 22:07:56.843762 outputs.go:108: INFO Activated elasticsearch as output plugin.\r\n2017/08/06 22:07:56.844013 publish.go:295: INFO Publisher name: urd\r\n2017/08/06 22:07:56.860287 metrics.go:23: INFO Metrics logging every 30s\r\n2017/08/06 22:07:56.884196 async.go:63: INFO Flush Interval set to: 1s\r\n2017/08/06 22:07:56.884449 async.go:64: INFO Max Bulk Size set to: 50\r\n2017/08/06 22:07:56.884864 procs.go:79: INFO Process matching disabled\r\n2017/08/06 22:07:56.885229 protos.go:89: INFO registered protocol plugin: memcache\r\n2017/08/06 22:07:56.886038 protos.go:89: INFO registered protocol plugin: mongodb\r\n2017/08/06 22:07:56.886211 protos.go:89: INFO registered protocol plugin: pgsql\r\n2017/08/06 22:07:56.886365 protos.go:89: INFO registered protocol plugin: thrift\r\n2017/08/06 22:07:56.888078 protos.go:89: INFO registered protocol plugin: amqp\r\n2017/08/06 22:07:56.888274 protos.go:89: INFO registered protocol plugin: dns\r\n2017/08/06 22:07:56.888432 protos.go:89: INFO registered protocol plugin: mysql\r\n2017/08/06 22:07:56.888595 protos.go:89: INFO registered protocol plugin: nfs\r\n2017/08/06 22:07:56.888749 protos.go:89: INFO registered protocol plugin: redis\r\n2017/08/06 22:07:56.888915 protos.go:89: INFO registered protocol plugin: cassandra\r\n2017/08/06 22:07:56.889083 protos.go:89: INFO registered protocol plugin: http\r\n2017/08/06 22:07:56.891885 beat.go:339: CRIT Exiting: Initializing sniffer failed: Error creating sniffer: DNS01: No such file or directory\r\nExiting: Initializing sniffer failed: Error creating sniffer: DNS01: No such file or directory\r\n\r\n**Provide logs (if relevant)**:\r\n\r\n","closed_by":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"performed_via_github_app":null}