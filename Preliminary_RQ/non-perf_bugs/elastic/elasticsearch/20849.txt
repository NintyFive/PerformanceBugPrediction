{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/20849","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20849/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20849/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20849/events","html_url":"https://github.com/elastic/elasticsearch/issues/20849","id":182132442,"node_id":"MDU6SXNzdWUxODIxMzI0NDI=","number":20849,"title":"Multiple template matching no longer works in Elasticsearch 2.4.1","user":{"login":"seallison","id":5862103,"node_id":"MDQ6VXNlcjU4NjIxMDM=","avatar_url":"https://avatars2.githubusercontent.com/u/5862103?v=4","gravatar_id":"","url":"https://api.github.com/users/seallison","html_url":"https://github.com/seallison","followers_url":"https://api.github.com/users/seallison/followers","following_url":"https://api.github.com/users/seallison/following{/other_user}","gists_url":"https://api.github.com/users/seallison/gists{/gist_id}","starred_url":"https://api.github.com/users/seallison/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/seallison/subscriptions","organizations_url":"https://api.github.com/users/seallison/orgs","repos_url":"https://api.github.com/users/seallison/repos","events_url":"https://api.github.com/users/seallison/events{/privacy}","received_events_url":"https://api.github.com/users/seallison/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-10-10T22:40:26Z","updated_at":"2016-10-10T22:43:15Z","closed_at":"2016-10-10T22:43:15Z","author_association":"NONE","active_lock_reason":null,"body":"**Elasticsearch version**: 2.4.1\n\n**Plugins installed**: []\n\n**JVM version**: 1.8.0_91\n\n**OS version**: OS X 10.11.6 and Amazon Linux 2016.03\n\n**Description of the problem including expected versus actual behavior**: In 1.7.5, [multiple template matching](https://www.elastic.co/guide/en/elasticsearch/reference/1.7/indices-templates.html#multiple-templates) worked as documented. In 2.4.1, [multiple template matching](https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-templates.html#multiple-templates) does not work if the template refers to an analyzer defined in a previous template.\n\n**Steps to reproduce**:\n1. Create a template that defines a custom analyzer. This template matches all indices (\"template\": \"*\") and is ordered first (\"order\": 0).\n2. Create a template that defines a mapping and uses the custom analyzer from the first template.\n3. The second template cannot be created with Elasticsearch 2.4.1, but this has worked in all prior 1.x releases of Elasticsearch.\n\nA gist of the recreate steps is here: https://gist.github.com/seallison/a4b916a1606c8f8ecc1450a021996509\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}