{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/12432","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12432/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12432/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12432/events","html_url":"https://github.com/elastic/elasticsearch/issues/12432","id":96932411,"node_id":"MDU6SXNzdWU5NjkzMjQxMQ==","number":12432,"title":"Cannot instantiate SPI class: org.apache.lucene.codecs.lucene40.Lucene40Codec","user":{"login":"devoncrouse","id":1114734,"node_id":"MDQ6VXNlcjExMTQ3MzQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1114734?v=4","gravatar_id":"","url":"https://api.github.com/users/devoncrouse","html_url":"https://github.com/devoncrouse","followers_url":"https://api.github.com/users/devoncrouse/followers","following_url":"https://api.github.com/users/devoncrouse/following{/other_user}","gists_url":"https://api.github.com/users/devoncrouse/gists{/gist_id}","starred_url":"https://api.github.com/users/devoncrouse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devoncrouse/subscriptions","organizations_url":"https://api.github.com/users/devoncrouse/orgs","repos_url":"https://api.github.com/users/devoncrouse/repos","events_url":"https://api.github.com/users/devoncrouse/events{/privacy}","received_events_url":"https://api.github.com/users/devoncrouse/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-07-24T00:20:08Z","updated_at":"2015-09-24T21:05:22Z","closed_at":"2015-07-24T17:27:02Z","author_association":"NONE","active_lock_reason":null,"body":"Both JDK 7 & 8:\n\n```\njava version \"1.8.0_51\"\nJava(TM) SE Runtime Environment (build 1.8.0_51-b16)\nJava HotSpot(TM) 64-Bit Server VM (build 25.51-b03, mixed mode)\n```\n\n```\njava version \"1.7.0_79\"\nJava(TM) SE Runtime Environment (build 1.7.0_79-b15)\nJava HotSpot(TM) 64-Bit Server VM (build 24.79-b02, mixed mode)\n```\n\nWhen calling `NodeBuilder.nodeBuilder().node();`, I get the following exception. I've tried adding `lucene-codec:4.10.4` as a dependency, since I didn't see it in `elasticsearch-1.7.0.pom`, but no luck... Am I doing it wrong? I've successfully used previous versions of the library.\n\n```\nINFO  [2015-07-24 00:10:45,431] org.elasticsearch.node: [Shooting Star] version[1.7.0], pid[45231], build[929b973/2015-07-16T14:31:07Z]\nINFO  [2015-07-24 00:10:45,431] org.elasticsearch.node: [Shooting Star] initializing ...\nException in thread \"main\" java.util.ServiceConfigurationError: Cannot instantiate SPI class: org.apache.lucene.codecs.lucene40.Lucene40Codec\n    at org.apache.lucene.util.NamedSPILoader.reload(NamedSPILoader.java:77)\n    at org.apache.lucene.util.NamedSPILoader.<init>(NamedSPILoader.java:47)\n    at org.apache.lucene.util.NamedSPILoader.<init>(NamedSPILoader.java:37)\n    at org.apache.lucene.codecs.Codec.<clinit>(Codec.java:41)\n    at org.elasticsearch.node.internal.InternalNode.<init>(InternalNode.java:155)\n    at org.elasticsearch.node.NodeBuilder.build(NodeBuilder.java:159)\n    at org.elasticsearch.node.NodeBuilder.node(NodeBuilder.java:166)\n...\nCaused by: java.lang.IllegalArgumentException: An SPI class of type org.apache.lucene.codecs.PostingsFormat with name 'Lucene40' does not exist.  You need to add the corresponding JAR file supporting this SPI to your classpath.  The current classpath supports the following names: [IDVersion]\n    at org.apache.lucene.util.NamedSPILoader.lookup(NamedSPILoader.java:109)\n    at org.apache.lucene.codecs.PostingsFormat.forName(PostingsFormat.java:100)\n    at org.apache.lucene.codecs.lucene40.Lucene40Codec.<init>(Lucene40Codec.java:117)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:422)\n    at java.lang.Class.newInstance(Class.java:442)\n    at org.apache.lucene.util.NamedSPILoader.reload(NamedSPILoader.java:67)\n    ... 13 more\n```\n","closed_by":{"login":"devoncrouse","id":1114734,"node_id":"MDQ6VXNlcjExMTQ3MzQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1114734?v=4","gravatar_id":"","url":"https://api.github.com/users/devoncrouse","html_url":"https://github.com/devoncrouse","followers_url":"https://api.github.com/users/devoncrouse/followers","following_url":"https://api.github.com/users/devoncrouse/following{/other_user}","gists_url":"https://api.github.com/users/devoncrouse/gists{/gist_id}","starred_url":"https://api.github.com/users/devoncrouse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devoncrouse/subscriptions","organizations_url":"https://api.github.com/users/devoncrouse/orgs","repos_url":"https://api.github.com/users/devoncrouse/repos","events_url":"https://api.github.com/users/devoncrouse/events{/privacy}","received_events_url":"https://api.github.com/users/devoncrouse/received_events","type":"User","site_admin":false},"performed_via_github_app":null}