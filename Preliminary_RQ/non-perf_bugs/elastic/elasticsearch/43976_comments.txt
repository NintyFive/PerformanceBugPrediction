[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/508489211","html_url":"https://github.com/elastic/elasticsearch/issues/43976#issuecomment-508489211","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43976","id":508489211,"node_id":"MDEyOklzc3VlQ29tbWVudDUwODQ4OTIxMQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-07-04T13:49:11Z","updated_at":"2019-07-04T13:49:11Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/509150404","html_url":"https://github.com/elastic/elasticsearch/issues/43976#issuecomment-509150404","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43976","id":509150404,"node_id":"MDEyOklzc3VlQ29tbWVudDUwOTE1MDQwNA==","user":{"login":"romseygeek","id":1347065,"node_id":"MDQ6VXNlcjEzNDcwNjU=","avatar_url":"https://avatars0.githubusercontent.com/u/1347065?v=4","gravatar_id":"","url":"https://api.github.com/users/romseygeek","html_url":"https://github.com/romseygeek","followers_url":"https://api.github.com/users/romseygeek/followers","following_url":"https://api.github.com/users/romseygeek/following{/other_user}","gists_url":"https://api.github.com/users/romseygeek/gists{/gist_id}","starred_url":"https://api.github.com/users/romseygeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/romseygeek/subscriptions","organizations_url":"https://api.github.com/users/romseygeek/orgs","repos_url":"https://api.github.com/users/romseygeek/repos","events_url":"https://api.github.com/users/romseygeek/events{/privacy}","received_events_url":"https://api.github.com/users/romseygeek/received_events","type":"User","site_admin":false},"created_at":"2019-07-08T09:25:12Z","updated_at":"2019-07-08T09:25:12Z","author_association":"CONTRIBUTOR","body":"Hi @slumx , I think part of your comment got chopped off here?  Can you include the analyzer definition and the specific query that you're running here?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/510817316","html_url":"https://github.com/elastic/elasticsearch/issues/43976#issuecomment-510817316","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43976","id":510817316,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDgxNzMxNg==","user":{"login":"pbvahlst","id":1569911,"node_id":"MDQ6VXNlcjE1Njk5MTE=","avatar_url":"https://avatars0.githubusercontent.com/u/1569911?v=4","gravatar_id":"","url":"https://api.github.com/users/pbvahlst","html_url":"https://github.com/pbvahlst","followers_url":"https://api.github.com/users/pbvahlst/followers","following_url":"https://api.github.com/users/pbvahlst/following{/other_user}","gists_url":"https://api.github.com/users/pbvahlst/gists{/gist_id}","starred_url":"https://api.github.com/users/pbvahlst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pbvahlst/subscriptions","organizations_url":"https://api.github.com/users/pbvahlst/orgs","repos_url":"https://api.github.com/users/pbvahlst/repos","events_url":"https://api.github.com/users/pbvahlst/events{/privacy}","received_events_url":"https://api.github.com/users/pbvahlst/received_events","type":"User","site_admin":false},"created_at":"2019-07-12T09:22:49Z","updated_at":"2019-07-12T09:22:49Z","author_association":"NONE","body":"Whoops, yeah that looks incomplete.\r\n\r\n1. create a text field with index_phrases = true\r\n2. create a custom search analyzer with the synonym_graph filter\r\n3. Index something and do a query with the analyzer created above\r\n\r\n(I'm currently on holiday away from my workstation, but the above should result in the error) \r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/510895917","html_url":"https://github.com/elastic/elasticsearch/issues/43976#issuecomment-510895917","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43976","id":510895917,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDg5NTkxNw==","user":{"login":"romseygeek","id":1347065,"node_id":"MDQ6VXNlcjEzNDcwNjU=","avatar_url":"https://avatars0.githubusercontent.com/u/1347065?v=4","gravatar_id":"","url":"https://api.github.com/users/romseygeek","html_url":"https://github.com/romseygeek","followers_url":"https://api.github.com/users/romseygeek/followers","following_url":"https://api.github.com/users/romseygeek/following{/other_user}","gists_url":"https://api.github.com/users/romseygeek/gists{/gist_id}","starred_url":"https://api.github.com/users/romseygeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/romseygeek/subscriptions","organizations_url":"https://api.github.com/users/romseygeek/orgs","repos_url":"https://api.github.com/users/romseygeek/repos","events_url":"https://api.github.com/users/romseygeek/events{/privacy}","received_events_url":"https://api.github.com/users/romseygeek/received_events","type":"User","site_admin":false},"created_at":"2019-07-12T13:56:18Z","updated_at":"2019-07-12T13:56:18Z","author_association":"CONTRIBUTOR","body":"We're creating a PhraseQuery with a null term somewhere.  This should really be caught by the lucene PhraseQuery builder, so I'll open a separate issue in lucene to fix that as well.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/510898420","html_url":"https://github.com/elastic/elasticsearch/issues/43976#issuecomment-510898420","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43976","id":510898420,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMDg5ODQyMA==","user":{"login":"pbvahlst","id":1569911,"node_id":"MDQ6VXNlcjE1Njk5MTE=","avatar_url":"https://avatars0.githubusercontent.com/u/1569911?v=4","gravatar_id":"","url":"https://api.github.com/users/pbvahlst","html_url":"https://github.com/pbvahlst","followers_url":"https://api.github.com/users/pbvahlst/followers","following_url":"https://api.github.com/users/pbvahlst/following{/other_user}","gists_url":"https://api.github.com/users/pbvahlst/gists{/gist_id}","starred_url":"https://api.github.com/users/pbvahlst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pbvahlst/subscriptions","organizations_url":"https://api.github.com/users/pbvahlst/orgs","repos_url":"https://api.github.com/users/pbvahlst/repos","events_url":"https://api.github.com/users/pbvahlst/events{/privacy}","received_events_url":"https://api.github.com/users/pbvahlst/received_events","type":"User","site_admin":false},"created_at":"2019-07-12T14:03:19Z","updated_at":"2019-07-12T14:03:19Z","author_association":"NONE","body":"Sounds great, thanks for quick response ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/511326725","html_url":"https://github.com/elastic/elasticsearch/issues/43976#issuecomment-511326725","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43976","id":511326725,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTMyNjcyNQ==","user":{"login":"romseygeek","id":1347065,"node_id":"MDQ6VXNlcjEzNDcwNjU=","avatar_url":"https://avatars0.githubusercontent.com/u/1347065?v=4","gravatar_id":"","url":"https://api.github.com/users/romseygeek","html_url":"https://github.com/romseygeek","followers_url":"https://api.github.com/users/romseygeek/followers","following_url":"https://api.github.com/users/romseygeek/following{/other_user}","gists_url":"https://api.github.com/users/romseygeek/gists{/gist_id}","starred_url":"https://api.github.com/users/romseygeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/romseygeek/subscriptions","organizations_url":"https://api.github.com/users/romseygeek/orgs","repos_url":"https://api.github.com/users/romseygeek/repos","events_url":"https://api.github.com/users/romseygeek/events{/privacy}","received_events_url":"https://api.github.com/users/romseygeek/received_events","type":"User","site_admin":false},"created_at":"2019-07-15T09:08:01Z","updated_at":"2019-07-15T09:08:01Z","author_association":"CONTRIBUTOR","body":"This is a problem at the lucene level, with a bad interaction between `FixedShingleFilter` and `GraphTokenStreamFiniteStrings.FiniteStringsTokenStream`, where the former is expecting to get term data via a `CharTermAttribute` but the latter is setting it via a `BytesTermAttribute`, and we end up with two separate attribute implementations that don't communicate with each other","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/511334692","html_url":"https://github.com/elastic/elasticsearch/issues/43976#issuecomment-511334692","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43976","id":511334692,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMTMzNDY5Mg==","user":{"login":"romseygeek","id":1347065,"node_id":"MDQ6VXNlcjEzNDcwNjU=","avatar_url":"https://avatars0.githubusercontent.com/u/1347065?v=4","gravatar_id":"","url":"https://api.github.com/users/romseygeek","html_url":"https://github.com/romseygeek","followers_url":"https://api.github.com/users/romseygeek/followers","following_url":"https://api.github.com/users/romseygeek/following{/other_user}","gists_url":"https://api.github.com/users/romseygeek/gists{/gist_id}","starred_url":"https://api.github.com/users/romseygeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/romseygeek/subscriptions","organizations_url":"https://api.github.com/users/romseygeek/orgs","repos_url":"https://api.github.com/users/romseygeek/repos","events_url":"https://api.github.com/users/romseygeek/events{/privacy}","received_events_url":"https://api.github.com/users/romseygeek/received_events","type":"User","site_admin":false},"created_at":"2019-07-15T09:34:21Z","updated_at":"2019-07-15T09:34:21Z","author_association":"CONTRIBUTOR","body":"I created https://issues.apache.org/jira/browse/LUCENE-8916 to explore the best way of fixing this in Lucene.  Meanwhile, I think we can avoid the problem in elasticsearch in the medium term by not using the index_phrases short cut for graph queries.","performed_via_github_app":null}]