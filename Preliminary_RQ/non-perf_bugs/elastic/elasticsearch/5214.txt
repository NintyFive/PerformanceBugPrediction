{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/5214","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5214/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5214/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5214/events","html_url":"https://github.com/elastic/elasticsearch/issues/5214","id":28023505,"node_id":"MDU6SXNzdWUyODAyMzUwNQ==","number":5214,"title":"Recycler: better lifecycle control for pooled instances","user":{"login":"hhoffstaette","id":499973,"node_id":"MDQ6VXNlcjQ5OTk3Mw==","avatar_url":"https://avatars2.githubusercontent.com/u/499973?v=4","gravatar_id":"","url":"https://api.github.com/users/hhoffstaette","html_url":"https://github.com/hhoffstaette","followers_url":"https://api.github.com/users/hhoffstaette/followers","following_url":"https://api.github.com/users/hhoffstaette/following{/other_user}","gists_url":"https://api.github.com/users/hhoffstaette/gists{/gist_id}","starred_url":"https://api.github.com/users/hhoffstaette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hhoffstaette/subscriptions","organizations_url":"https://api.github.com/users/hhoffstaette/orgs","repos_url":"https://api.github.com/users/hhoffstaette/repos","events_url":"https://api.github.com/users/hhoffstaette/events{/privacy}","received_events_url":"https://api.github.com/users/hhoffstaette/received_events","type":"User","site_admin":false},"labels":[{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":75962075,"node_id":"MDU6TGFiZWw3NTk2MjA3NQ==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v1.1.0","name":"v1.1.0","color":"DDDDDD","default":false,"description":null},{"id":76184120,"node_id":"MDU6TGFiZWw3NjE4NDEyMA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v2.0.0-beta1","name":"v2.0.0-beta1","color":"dddddd","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2014-02-21T07:30:40Z","updated_at":"2015-06-07T15:20:34Z","closed_at":"2014-02-25T07:59:18Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"The default DequeueRecycler.close() currently simply clears its internal queue and drops all instances on the floor for GC. During work for issue #5159 I found that this can be improved:\n- closing a recycler should properly dispose of the pooled instances via the factory\n- the factory currently conflates the functionality of per-instance \"clean up & return to pool\" and \"destroy instance\" behind the (according to Adrien badly named) cleanup() callback method.\n\nSo I suggest that we:\n- rename Recycler.C.clear(T) to recycle(T)\n- add a Recycler.C.destroy(T) to indicate that this particular instance needs to die\n- destroy() can then also be used when the recycler wants to kill off excess instances (on return).\n\nWhile we're renaming things I'd also like to vote to rename the Recycler.C and Recycler.V interfaces to something more descriptive. :)\n","closed_by":{"login":"hhoffstaette","id":499973,"node_id":"MDQ6VXNlcjQ5OTk3Mw==","avatar_url":"https://avatars2.githubusercontent.com/u/499973?v=4","gravatar_id":"","url":"https://api.github.com/users/hhoffstaette","html_url":"https://github.com/hhoffstaette","followers_url":"https://api.github.com/users/hhoffstaette/followers","following_url":"https://api.github.com/users/hhoffstaette/following{/other_user}","gists_url":"https://api.github.com/users/hhoffstaette/gists{/gist_id}","starred_url":"https://api.github.com/users/hhoffstaette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hhoffstaette/subscriptions","organizations_url":"https://api.github.com/users/hhoffstaette/orgs","repos_url":"https://api.github.com/users/hhoffstaette/repos","events_url":"https://api.github.com/users/hhoffstaette/events{/privacy}","received_events_url":"https://api.github.com/users/hhoffstaette/received_events","type":"User","site_admin":false},"performed_via_github_app":null}