[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/472692660","html_url":"https://github.com/elastic/elasticsearch/issues/40025#issuecomment-472692660","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40025","id":472692660,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MjY5MjY2MA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-03-14T03:40:41Z","updated_at":"2019-03-14T03:40:41Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-security","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/472719310","html_url":"https://github.com/elastic/elasticsearch/issues/40025#issuecomment-472719310","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40025","id":472719310,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MjcxOTMxMA==","user":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"created_at":"2019-03-14T06:20:55Z","updated_at":"2019-03-14T06:20:55Z","author_association":"CONTRIBUTOR","body":"> @jkakavas do you think #39948 might have caused this intermittent failure?\r\n\r\nYes probably, I'll look into it","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/472722899","html_url":"https://github.com/elastic/elasticsearch/issues/40025#issuecomment-472722899","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40025","id":472722899,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MjcyMjg5OQ==","user":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"created_at":"2019-03-14T06:38:14Z","updated_at":"2019-03-15T15:27:22Z","author_association":"CONTRIBUTOR","body":"The error means that the browser got a `200` when submitting the form instead of a `302` to the consent page. \r\n\r\nThis can happen in a few cases : \r\n\r\n- The SAML Response would contain no attributes so consent is not required \r\n- There was a previous request with the same client and the consent is stored in the browsers local storage ( not possible with HttpClient I guess ) \r\n  ( For both the above that page returned with `200` would contain Javascript to make the browser `POST` the `SAMLResponse` back to the mock - SP. )\r\n- There was an error in the IDP and we got redirected to the error page. \r\n\r\nNot sure what happened here and this doesn't reproduce locally so I'll push a commit to print the HttpEntity that is returned with that 200 to get more insights","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/472741516","html_url":"https://github.com/elastic/elasticsearch/issues/40025#issuecomment-472741516","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40025","id":472741516,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Mjc0MTUxNg==","user":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"created_at":"2019-03-14T07:55:41Z","updated_at":"2019-03-14T07:55:41Z","author_association":"CONTRIBUTOR","body":"I added a log entry in https://github.com/elastic/elasticsearch/commit/18d6499432b0975a5163149476ee5202625c1da3, next time this happens we can see what the issue is and resolve it","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/473332781","html_url":"https://github.com/elastic/elasticsearch/issues/40025#issuecomment-473332781","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40025","id":473332781,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MzMzMjc4MQ==","user":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"created_at":"2019-03-15T15:33:33Z","updated_at":"2019-03-15T15:33:33Z","author_association":"CONTRIBUTOR","body":"This failed in a PR : https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+pull-request-2/10043/console and it looks like the reason is \r\n\r\n> The SAML Response would contain no attributes so consent is not required\r\n\r\nThe reason is that the following two values are supposed to be set in milliseconds (not seconds :/ ) and the attribute resolving phase was timing out while the authentication was successful. \r\n\r\n```\r\nidp.attribute.resolver.LDAP.connectTimeout = 5\r\nidp.attribute.resolver.LDAP.responseTimeout = 5\r\n```\r\n","performed_via_github_app":null}]