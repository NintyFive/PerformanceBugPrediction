{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/64203","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/64203/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/64203/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/64203/events","html_url":"https://github.com/elastic/elasticsearch/issues/64203","id":730356079,"node_id":"MDU6SXNzdWU3MzAzNTYwNzk=","number":64203,"title":"Adding a GeoIP2 database in $ES_CONFIG/ingest-geoip results in node not starting if using default filename","user":{"login":"jakommo","id":6436143,"node_id":"MDQ6VXNlcjY0MzYxNDM=","avatar_url":"https://avatars2.githubusercontent.com/u/6436143?v=4","gravatar_id":"","url":"https://api.github.com/users/jakommo","html_url":"https://github.com/jakommo","followers_url":"https://api.github.com/users/jakommo/followers","following_url":"https://api.github.com/users/jakommo/following{/other_user}","gists_url":"https://api.github.com/users/jakommo/gists{/gist_id}","starred_url":"https://api.github.com/users/jakommo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jakommo/subscriptions","organizations_url":"https://api.github.com/users/jakommo/orgs","repos_url":"https://api.github.com/users/jakommo/repos","events_url":"https://api.github.com/users/jakommo/events{/privacy}","received_events_url":"https://api.github.com/users/jakommo/received_events","type":"User","site_admin":false},"labels":[{"id":268963484,"node_id":"MDU6TGFiZWwyNjg5NjM0ODQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Ingest","name":":Core/Features/Ingest","color":"0e8a16","default":false,"description":"Execution or management of Ingest Pipelines"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":1967496097,"node_id":"MDU6TGFiZWwxOTY3NDk2MDk3","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Core/Features","name":"Team:Core/Features","color":"fef2c0","default":false,"description":"Meta label for core/features team"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-10-27T11:18:20Z","updated_at":"2020-10-29T17:27:18Z","closed_at":"2020-10-29T17:27:18Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Elasticsearch version** (`bin/elasticsearch --version`): Version: 7.9.3, Build: default/tar/c4138e51121ef06a6404866cddc601906fe5c868/2020-10-16T10:36:16.141335Z, JVM: 15\r\n\r\n\r\n**Plugins installed**: []\r\n\r\n**JVM version** (`java -version`): Bundled \r\n\r\n**OS version** (`uname -a` if on a Unix-like system):  Linux es-jre2 5.9.1-arch1-1 #1 SMP PREEMPT Sat, 17 Oct 2020 13:30:37 +0000 x86_64 GNU/Linux\r\n\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\n\r\nWhen adding a GeoIP DB file with the same name as the ones that are shipped by default, startup fails with:\r\n```\r\n[2020-10-27T11:45:52,157][ERROR][o.e.b.ElasticsearchUncaughtExceptionHandler] [es-jre2] uncaught exception in thread [main]\r\norg.elasticsearch.bootstrap.StartupException: java.lang.RuntimeException: java.io.IOException: expected database [GeoLite2-City.mmdb] to not exist in [/home/jakob/ELASTIC/elasticsearch-7.9.3/config/ingest-geoip]\r\n```\r\nAccording to [the docs](https://www.elastic.co/guide/en/elasticsearch/reference/7.9/geoip-processor.html#using-ingest-geoip), the custom GeoIP DB should be placed in `$ES_CONFIG/ingest-geoip`, but there is no mention that they can not have the same name as the default files (which are also the default names if one download updated files from maxmind). \r\n\r\nI think this is related to the breaking change discussed in https://github.com/elastic/elasticsearch/issues/39495.\r\n\r\nNot sure what the correct approach to this is. Either we should update the docs to reflect that it can not have the same file name or we should disable the check.  \r\n\r\n**Steps to reproduce**:\r\n\r\n```\r\njakob@es-jre2  ~/ELASTIC/elasticsearch-7.9.3  mkdir config/ingest-geoip                 \r\n\r\n jakob@es-jre2  ~/ELASTIC/elasticsearch-7.9.3  cp ./modules/ingest-geoip/GeoLite2-City.mmdb config/ingest-geoip\r\n\r\n jakob@es-jre2  ~/ELASTIC/elasticsearch-7.9.3  ES\r\n[2020-10-27T11:45:48,403][INFO ][o.e.n.Node               ] [es-jre2] version[7.9.3], pid[314972], build[default/tar/c4138e51121ef06a6404866cddc601906fe5c868/2020-10-16T10:36:16.141335Z], OS[Linux/5.9.1-arch1-1/amd64], JVM[Oracle Corporation/OpenJDK 64-Bit Server VM/15/15+36-1562]\r\n[2020-10-27T11:45:48,406][INFO ][o.e.n.Node               ] [es-jre2] JVM home [/home/jakob/ELASTIC/elasticsearch-7.9.3/jdk]\r\n[2020-10-27T11:45:48,407][INFO ][o.e.n.Node               ] [es-jre2] JVM arguments [-Xshare:auto, -Des.networkaddress.cache.ttl=60, -Des.networkaddress.cache.negative.ttl=10, -XX:+AlwaysPreTouch, -Xss1m, -Djava.awt.headless=true, -Dfile.encoding=UTF-8, -Djna.nosys=true, -XX:-OmitStackTraceInFastThrow, -XX:+ShowCodeDetailsInExceptionMessages, -Dio.netty.noUnsafe=true, -Dio.netty.noKeySetOptimization=true, -Dio.netty.recycler.maxCapacityPerThread=0, -Dio.netty.allocator.numDirectArenas=0, -Dlog4j.shutdownHookEnabled=false, -Dlog4j2.disable.jmx=true, -Djava.locale.providers=SPI,COMPAT, -Xms1g, -Xmx1g, -XX:+UseG1GC, -XX:G1ReservePercent=25, -XX:InitiatingHeapOccupancyPercent=30, -Djava.io.tmpdir=/tmp/elasticsearch-17741669071348173933, -XX:+HeapDumpOnOutOfMemoryError, -XX:HeapDumpPath=data, -XX:ErrorFile=logs/hs_err_pid%p.log, -Xlog:gc*,gc+age=trace,safepoint:file=logs/gc.log:utctime,pid,tags:filecount=32,filesize=64m, -XX:MaxDirectMemorySize=536870912, -Des.path.home=/home/jakob/ELASTIC/elasticsearch-7.9.3, -Des.path.conf=/home/jakob/ELASTIC/elasticsearch-7.9.3/config, -Des.distribution.flavor=default, -Des.distribution.type=tar, -Des.bundled_jdk=true]\r\n[2020-10-27T11:45:50,161][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [aggs-matrix-stats]\r\n[2020-10-27T11:45:50,161][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [analysis-common]\r\n[2020-10-27T11:45:50,162][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [constant-keyword]\r\n[2020-10-27T11:45:50,162][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [flattened]\r\n[2020-10-27T11:45:50,162][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [frozen-indices]\r\n[2020-10-27T11:45:50,163][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [ingest-common]\r\n[2020-10-27T11:45:50,163][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [ingest-geoip]\r\n[2020-10-27T11:45:50,163][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [ingest-user-agent]\r\n[2020-10-27T11:45:50,163][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [kibana]\r\n[2020-10-27T11:45:50,164][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [lang-expression]\r\n[2020-10-27T11:45:50,164][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [lang-mustache]\r\n[2020-10-27T11:45:50,164][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [lang-painless]\r\n[2020-10-27T11:45:50,165][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [mapper-extras]\r\n[2020-10-27T11:45:50,165][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [parent-join]\r\n[2020-10-27T11:45:50,165][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [percolator]\r\n[2020-10-27T11:45:50,165][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [rank-eval]\r\n[2020-10-27T11:45:50,166][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [reindex]\r\n[2020-10-27T11:45:50,166][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [repository-url]\r\n[2020-10-27T11:45:50,166][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [search-business-rules]\r\n[2020-10-27T11:45:50,167][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [searchable-snapshots]\r\n[2020-10-27T11:45:50,167][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [spatial]\r\n[2020-10-27T11:45:50,167][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [tasks]\r\n[2020-10-27T11:45:50,167][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [transform]\r\n[2020-10-27T11:45:50,168][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [transport-netty4]\r\n[2020-10-27T11:45:50,168][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [vectors]\r\n[2020-10-27T11:45:50,168][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [wildcard]\r\n[2020-10-27T11:45:50,169][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-analytics]\r\n[2020-10-27T11:45:50,169][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-async]\r\n[2020-10-27T11:45:50,169][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-async-search]\r\n[2020-10-27T11:45:50,170][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-autoscaling]\r\n[2020-10-27T11:45:50,170][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-ccr]\r\n[2020-10-27T11:45:50,170][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-core]\r\n[2020-10-27T11:45:50,170][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-data-streams]\r\n[2020-10-27T11:45:50,171][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-deprecation]\r\n[2020-10-27T11:45:50,171][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-enrich]\r\n[2020-10-27T11:45:50,171][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-eql]\r\n[2020-10-27T11:45:50,171][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-graph]\r\n[2020-10-27T11:45:50,171][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-identity-provider]\r\n[2020-10-27T11:45:50,172][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-ilm]\r\n[2020-10-27T11:45:50,172][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-logstash]\r\n[2020-10-27T11:45:50,172][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-ml]\r\n[2020-10-27T11:45:50,172][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-monitoring]\r\n[2020-10-27T11:45:50,172][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-ql]\r\n[2020-10-27T11:45:50,173][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-rollup]\r\n[2020-10-27T11:45:50,173][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-security]\r\n[2020-10-27T11:45:50,173][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-sql]\r\n[2020-10-27T11:45:50,173][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-stack]\r\n[2020-10-27T11:45:50,173][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-voting-only-node]\r\n[2020-10-27T11:45:50,174][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-watcher]\r\n[2020-10-27T11:45:50,174][INFO ][o.e.p.PluginsService     ] [es-jre2] no plugins loaded\r\n[2020-10-27T11:45:50,210][INFO ][o.e.e.NodeEnvironment    ] [es-jre2] using [1] data paths, mounts [[/home (/dev/mapper/vg0-home)]], net usable_space [256.8gb], net total_space [829.3gb], types [ext4]\r\n[2020-10-27T11:45:50,211][INFO ][o.e.e.NodeEnvironment    ] [es-jre2] heap size [1gb], compressed ordinary object pointers [true]\r\n[2020-10-27T11:45:50,238][INFO ][o.e.n.Node               ] [es-jre2] node name [es-jre2], node ID [JvPMhAMTS3Wlh_RMaOGRvQ], cluster name [elasticsearch]\r\nuncaught exception in thread [main]\r\n[2020-10-27T11:45:52,157][ERROR][o.e.b.ElasticsearchUncaughtExceptionHandler] [es-jre2] uncaught exception in thread [main]\r\norg.elasticsearch.bootstrap.StartupException: java.lang.RuntimeException: java.io.IOException: expected database [GeoLite2-City.mmdb] to not exist in [/home/jakob/ELASTIC/elasticsearch-7.9.3/config/ingest-geoip]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:174) ~[elasticsearch-7.9.3.jar:7.9.3]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:161) ~[elasticsearch-7.9.3.jar:7.9.3]\r\n\tat org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) ~[elasticsearch-7.9.3.jar:7.9.3]\r\n\tat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:127) ~[elasticsearch-cli-7.9.3.jar:7.9.3]\r\n\tat org.elasticsearch.cli.Command.main(Command.java:90) ~[elasticsearch-cli-7.9.3.jar:7.9.3]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:126) ~[elasticsearch-7.9.3.jar:7.9.3]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:92) ~[elasticsearch-7.9.3.jar:7.9.3]\r\nCaused by: java.lang.RuntimeException: java.io.IOException: expected database [GeoLite2-City.mmdb] to not exist in [/home/jakob/ELASTIC/elasticsearch-7.9.3/config/ingest-geoip]\r\n\tat org.elasticsearch.ingest.geoip.IngestGeoIpPlugin.getProcessors(IngestGeoIpPlugin.java:78) ~[?:?]\r\n\tat org.elasticsearch.ingest.IngestService.processorFactories(IngestService.java:127) ~[elasticsearch-7.9.3.jar:7.9.3]\r\n\tat org.elasticsearch.ingest.IngestService.<init>(IngestService.java:109) ~[elasticsearch-7.9.3.jar:7.9.3]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:400) ~[elasticsearch-7.9.3.jar:7.9.3]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:277) ~[elasticsearch-7.9.3.jar:7.9.3]\r\n\tat org.elasticsearch.bootstrap.Bootstrap$5.<init>(Bootstrap.java:227) ~[elasticsearch-7.9.3.jar:7.9.3]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:227) ~[elasticsearch-7.9.3.jar:7.9.3]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:393) ~[elasticsearch-7.9.3.jar:7.9.3]\r\njava.lang.RuntimeException: java.io.IOException: expected database [GeoLite2-City.mmdb] to not exist in [/home/jakob/ELASTIC/elasticsearch-7.9.3/config/ingest-geoip]\r\nLikely root cause: java.io.IOException: expected database [GeoLite2-City.mmdb] to not exist in [/home/jakob/ELASTIC/elasticsearch-7.9.3/config/ingest-geoip]\r\n\tat org.elasticsearch.ingest.geoip.IngestGeoIpPlugin.assertDatabaseExistence(IngestGeoIpPlugin.java:150)\r\n\tat org.elasticsearch.ingest.geoip.IngestGeoIpPlugin.loadDatabaseReaders(IngestGeoIpPlugin.java:102)\r\n\tat org.elasticsearch.ingest.geoip.IngestGeoIpPlugin.getProcessors(IngestGeoIpPlugin.java:76)\r\n\tat org.elasticsearch.ingest.IngestService.processorFactories(IngestService.java:127)\r\n\tat org.elasticsearch.ingest.IngestService.<init>(IngestService.java:109)\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:400)\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:277)\r\n\tat org.elasticsearch.bootstrap.Bootstrap$5.<init>(Bootstrap.java:227)\r\n\tat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:227)\r\n\tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:393)\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:170)\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:161)\r\n\tat org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86)\r\n\tat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:127)\r\n\tat org.elasticsearch.cli.Command.main(Command.java:90)\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:126)\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:92)\r\nFor complete error details, refer to the log at /home/jakob/ELASTIC/elasticsearch-7.9.3/logs/elasticsearch.log\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:170) ~[elasticsearch-7.9.3.jar:7.9.3]\r\n\t... 6 more\r\nCaused by: java.io.IOException: expected database [GeoLite2-City.mmdb] to not exist in [/home/jakob/ELASTIC/elasticsearch-7.9.3/config/ingest-geoip]\r\n\tat org.elasticsearch.ingest.geoip.IngestGeoIpPlugin.assertDatabaseExistence(IngestGeoIpPlugin.java:150) ~[?:?]\r\n\tat org.elasticsearch.ingest.geoip.IngestGeoIpPlugin.loadDatabaseReaders(IngestGeoIpPlugin.java:102) ~[?:?]\r\n\tat org.elasticsearch.ingest.geoip.IngestGeoIpPlugin.getProcessors(IngestGeoIpPlugin.java:76) ~[?:?]\r\n\tat org.elasticsearch.ingest.IngestService.processorFactories(IngestService.java:127) ~[elasticsearch-7.9.3.jar:7.9.3]\r\n\tat org.elasticsearch.ingest.IngestService.<init>(IngestService.java:109) ~[elasticsearch-7.9.3.jar:7.9.3]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:400) ~[elasticsearch-7.9.3.jar:7.9.3]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:277) ~[elasticsearch-7.9.3.jar:7.9.3]\r\n\tat org.elasticsearch.bootstrap.Bootstrap$5.<init>(Bootstrap.java:227) ~[elasticsearch-7.9.3.jar:7.9.3]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:227) ~[elasticsearch-7.9.3.jar:7.9.3]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:393) ~[elasticsearch-7.9.3.jar:7.9.3]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:170) ~[elasticsearch-7.9.3.jar:7.9.3]\r\n\t... 6 more\r\n\r\n jakob@es-jre2  ~/ELASTIC/elasticsearch-7.9.3  mv config/ingest-geoip/GeoLite2-City.mmdb config/ingest-geoip/MyGeoLite2-City.mmdb\r\n\r\n jakob@es-jre2  ~/ELASTIC/elasticsearch-7.9.3  ES\r\n[2020-10-27T11:46:13,637][INFO ][o.e.n.Node               ] [es-jre2] version[7.9.3], pid[315295], build[default/tar/c4138e51121ef06a6404866cddc601906fe5c868/2020-10-16T10:36:16.141335Z], OS[Linux/5.9.1-arch1-1/amd64], JVM[Oracle Corporation/OpenJDK 64-Bit Server VM/15/15+36-1562]\r\n[2020-10-27T11:46:13,641][INFO ][o.e.n.Node               ] [es-jre2] JVM home [/home/jakob/ELASTIC/elasticsearch-7.9.3/jdk]\r\n[2020-10-27T11:46:13,641][INFO ][o.e.n.Node               ] [es-jre2] JVM arguments [-Xshare:auto, -Des.networkaddress.cache.ttl=60, -Des.networkaddress.cache.negative.ttl=10, -XX:+AlwaysPreTouch, -Xss1m, -Djava.awt.headless=true, -Dfile.encoding=UTF-8, -Djna.nosys=true, -XX:-OmitStackTraceInFastThrow, -XX:+ShowCodeDetailsInExceptionMessages, -Dio.netty.noUnsafe=true, -Dio.netty.noKeySetOptimization=true, -Dio.netty.recycler.maxCapacityPerThread=0, -Dio.netty.allocator.numDirectArenas=0, -Dlog4j.shutdownHookEnabled=false, -Dlog4j2.disable.jmx=true, -Djava.locale.providers=SPI,COMPAT, -Xms1g, -Xmx1g, -XX:+UseG1GC, -XX:G1ReservePercent=25, -XX:InitiatingHeapOccupancyPercent=30, -Djava.io.tmpdir=/tmp/elasticsearch-4118470711344022869, -XX:+HeapDumpOnOutOfMemoryError, -XX:HeapDumpPath=data, -XX:ErrorFile=logs/hs_err_pid%p.log, -Xlog:gc*,gc+age=trace,safepoint:file=logs/gc.log:utctime,pid,tags:filecount=32,filesize=64m, -XX:MaxDirectMemorySize=536870912, -Des.path.home=/home/jakob/ELASTIC/elasticsearch-7.9.3, -Des.path.conf=/home/jakob/ELASTIC/elasticsearch-7.9.3/config, -Des.distribution.flavor=default, -Des.distribution.type=tar, -Des.bundled_jdk=true]\r\n[2020-10-27T11:46:15,324][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [aggs-matrix-stats]\r\n[2020-10-27T11:46:15,324][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [analysis-common]\r\n[2020-10-27T11:46:15,324][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [constant-keyword]\r\n[2020-10-27T11:46:15,325][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [flattened]\r\n[2020-10-27T11:46:15,325][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [frozen-indices]\r\n[2020-10-27T11:46:15,326][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [ingest-common]\r\n[2020-10-27T11:46:15,326][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [ingest-geoip]\r\n[2020-10-27T11:46:15,326][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [ingest-user-agent]\r\n[2020-10-27T11:46:15,327][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [kibana]\r\n[2020-10-27T11:46:15,327][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [lang-expression]\r\n[2020-10-27T11:46:15,327][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [lang-mustache]\r\n[2020-10-27T11:46:15,327][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [lang-painless]\r\n[2020-10-27T11:46:15,328][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [mapper-extras]\r\n[2020-10-27T11:46:15,328][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [parent-join]\r\n[2020-10-27T11:46:15,328][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [percolator]\r\n[2020-10-27T11:46:15,329][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [rank-eval]\r\n[2020-10-27T11:46:15,329][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [reindex]\r\n[2020-10-27T11:46:15,329][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [repository-url]\r\n[2020-10-27T11:46:15,330][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [search-business-rules]\r\n[2020-10-27T11:46:15,330][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [searchable-snapshots]\r\n[2020-10-27T11:46:15,330][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [spatial]\r\n[2020-10-27T11:46:15,330][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [tasks]\r\n[2020-10-27T11:46:15,330][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [transform]\r\n[2020-10-27T11:46:15,331][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [transport-netty4]\r\n[2020-10-27T11:46:15,331][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [vectors]\r\n[2020-10-27T11:46:15,331][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [wildcard]\r\n[2020-10-27T11:46:15,331][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-analytics]\r\n[2020-10-27T11:46:15,331][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-async]\r\n[2020-10-27T11:46:15,332][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-async-search]\r\n[2020-10-27T11:46:15,332][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-autoscaling]\r\n[2020-10-27T11:46:15,332][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-ccr]\r\n[2020-10-27T11:46:15,332][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-core]\r\n[2020-10-27T11:46:15,333][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-data-streams]\r\n[2020-10-27T11:46:15,333][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-deprecation]\r\n[2020-10-27T11:46:15,333][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-enrich]\r\n[2020-10-27T11:46:15,333][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-eql]\r\n[2020-10-27T11:46:15,334][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-graph]\r\n[2020-10-27T11:46:15,334][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-identity-provider]\r\n[2020-10-27T11:46:15,334][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-ilm]\r\n[2020-10-27T11:46:15,334][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-logstash]\r\n[2020-10-27T11:46:15,335][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-ml]\r\n[2020-10-27T11:46:15,335][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-monitoring]\r\n[2020-10-27T11:46:15,335][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-ql]\r\n[2020-10-27T11:46:15,335][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-rollup]\r\n[2020-10-27T11:46:15,336][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-security]\r\n[2020-10-27T11:46:15,336][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-sql]\r\n[2020-10-27T11:46:15,336][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-stack]\r\n[2020-10-27T11:46:15,336][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-voting-only-node]\r\n[2020-10-27T11:46:15,336][INFO ][o.e.p.PluginsService     ] [es-jre2] loaded module [x-pack-watcher]\r\n[2020-10-27T11:46:15,337][INFO ][o.e.p.PluginsService     ] [es-jre2] no plugins loaded\r\n[2020-10-27T11:46:15,375][INFO ][o.e.e.NodeEnvironment    ] [es-jre2] using [1] data paths, mounts [[/home (/dev/mapper/vg0-home)]], net usable_space [256.8gb], net total_space [829.3gb], types [ext4]\r\n[2020-10-27T11:46:15,375][INFO ][o.e.e.NodeEnvironment    ] [es-jre2] heap size [1gb], compressed ordinary object pointers [true]\r\n[2020-10-27T11:46:15,407][INFO ][o.e.n.Node               ] [es-jre2] node name [es-jre2], node ID [MkfqQQ9_TMGhdORwIcyhsw], cluster name [elasticsearch]\r\n[2020-10-27T11:46:18,065][INFO ][o.e.x.m.p.l.CppLogMessageHandler] [es-jre2] [controller/315525] [Main.cc@114] controller (64 bit): Version 7.9.3 (Build 6c27059cb8397a) Copyright (c) 2020 Elasticsearch BV\r\n[2020-10-27T11:46:18,625][INFO ][o.e.x.s.a.s.FileRolesStore] [es-jre2] parsed [0] roles from file [/home/jakob/ELASTIC/elasticsearch-7.9.3/config/roles.yml]\r\n[2020-10-27T11:46:19,436][INFO ][o.e.t.NettyAllocator     ] [es-jre2] creating NettyAllocator with the following configs: [name=unpooled, factors={es.unsafe.use_unpooled_allocator=false, g1gc_enabled=true, g1gc_region_size=1mb, heap_size=1gb}]\r\n[2020-10-27T11:46:19,490][INFO ][o.e.d.DiscoveryModule    ] [es-jre2] using discovery type [zen] and seed hosts providers [settings]\r\n[2020-10-27T11:46:19,835][WARN ][o.e.g.DanglingIndicesState] [es-jre2] gateway.auto_import_dangling_indices is disabled, dangling indices will not be automatically detected or imported and must be managed manually\r\n[2020-10-27T11:46:20,159][INFO ][o.e.n.Node               ] [es-jre2] initialized\r\n[2020-10-27T11:46:20,159][INFO ][o.e.n.Node               ] [es-jre2] starting ...\r\n[2020-10-27T11:46:20,288][INFO ][o.e.t.TransportService   ] [es-jre2] publish_address {127.0.0.1:9300}, bound_addresses {[::1]:9300}, {127.0.0.1:9300}\r\n[2020-10-27T11:46:20,429][WARN ][o.e.b.BootstrapChecks    ] [es-jre2] the default discovery settings are unsuitable for production use; at least one of [discovery.seed_hosts, discovery.seed_providers, cluster.initial_master_nodes] must be configured\r\n[2020-10-27T11:46:20,436][INFO ][o.e.c.c.ClusterBootstrapService] [es-jre2] no discovery configuration found, will perform best-effort cluster bootstrapping after [3s] unless existing master is discovered\r\n[2020-10-27T11:46:23,443][INFO ][o.e.c.c.Coordinator      ] [es-jre2] setting initial configuration to VotingConfiguration{MkfqQQ9_TMGhdORwIcyhsw}\r\n[2020-10-27T11:46:23,580][INFO ][o.e.c.s.MasterService    ] [es-jre2] elected-as-master ([1] nodes joined)[{es-jre2}{MkfqQQ9_TMGhdORwIcyhsw}{NmgLb04NT7y5z4mt7q70YQ}{127.0.0.1}{127.0.0.1:9300}{dilmrt}{ml.machine_memory=33294389248, xpack.installed=true, transform.node=true, ml.max_open_jobs=20} elect leader, _BECOME_MASTER_TASK_, _FINISH_ELECTION_], term: 1, version: 1, delta: master node changed {previous [], current [{es-jre2}{MkfqQQ9_TMGhdORwIcyhsw}{NmgLb04NT7y5z4mt7q70YQ}{127.0.0.1}{127.0.0.1:9300}{dilmrt}{ml.machine_memory=33294389248, xpack.installed=true, transform.node=true, ml.max_open_jobs=20}]}\r\n[2020-10-27T11:46:23,618][INFO ][o.e.c.c.CoordinationState] [es-jre2] cluster UUID set to [7Vs1zHUaQQ-AocUQYJVRRA]\r\n[2020-10-27T11:46:23,646][INFO ][o.e.c.s.ClusterApplierService] [es-jre2] master node changed {previous [], current [{es-jre2}{MkfqQQ9_TMGhdORwIcyhsw}{NmgLb04NT7y5z4mt7q70YQ}{127.0.0.1}{127.0.0.1:9300}{dilmrt}{ml.machine_memory=33294389248, xpack.installed=true, transform.node=true, ml.max_open_jobs=20}]}, term: 1, version: 1, reason: Publication{term=1, version=1}\r\n[2020-10-27T11:46:23,676][INFO ][o.e.h.AbstractHttpServerTransport] [es-jre2] publish_address {127.0.0.1:9200}, bound_addresses {[::1]:9200}, {127.0.0.1:9200}\r\n[2020-10-27T11:46:23,676][INFO ][o.e.n.Node               ] [es-jre2] started\r\n\r\n```\r\nAfter renaming the file it starts up fine and I can also referance the new file in a pipeline.\r\nNote: I used the file from the module here to simplify the repro, but also tried with a downloaded GeoIP db file.\r\n\r\n**Provide logs (if relevant)**:\r\n\r\n\r\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}