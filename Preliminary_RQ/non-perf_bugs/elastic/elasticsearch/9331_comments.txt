[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/70236990","html_url":"https://github.com/elastic/elasticsearch/issues/9331#issuecomment-70236990","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9331","id":70236990,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjM2OTkw","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2015-01-16T10:46:22Z","updated_at":"2015-01-16T10:46:22Z","author_association":"CONTRIBUTOR","body":"+1 It would be nice to remove query warmers and and track usage stats about queries in order to automatically warm up the right things.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/70252275","html_url":"https://github.com/elastic/elasticsearch/issues/9331#issuecomment-70252275","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9331","id":70252275,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjUyMjc1","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2015-01-16T13:20:44Z","updated_at":"2015-01-16T13:20:44Z","author_association":"CONTRIBUTOR","body":"Honestly, i don't think we should have a separate eager_loading option.\n\nOne of these days, we are gonna flip the switch and remove this laziness in lucene for things like norms, the complexity drives me crazy every time I think about it.\n\nSo better now, than later, to start making things actually scale instead of trying to play tricks with lazy loading.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/72183927","html_url":"https://github.com/elastic/elasticsearch/issues/9331#issuecomment-72183927","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9331","id":72183927,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMTgzOTI3","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-01-30T10:48:22Z","updated_at":"2015-01-30T10:48:22Z","author_association":"CONTRIBUTOR","body":"The problem of removing lazy loading is that lots of our users have old indices which are essentially archives, which fits well with lazy loading. Especially if we move to doc values by default, eager loading could use a lot of resources unnecessarily. \n\nI'm in favour of removing the warmers API and using the eager/lazy options explicitly instead.  Possibly we could add output to the explain API which provides the user info about which fields could benefit from eager loading.\n\nAs a second step, I love the idea of Elasticsearch managing eager loading automatically by tracking field usage.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/72184409","html_url":"https://github.com/elastic/elasticsearch/issues/9331#issuecomment-72184409","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9331","id":72184409,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMTg0NDA5","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2015-01-30T10:53:05Z","updated_at":"2015-01-30T10:53:05Z","author_association":"CONTRIBUTOR","body":"> The problem of removing lazy loading is that lots of our users have old indices which are essentially archives, which fits well with lazy loading. Especially if we move to doc values by default, eager loading could use a lot of resources unnecessarily.\n\nHow so? Most docvalues don't use any heap memory. The laziness is mostly stupid and obselete... all warming does is ensure the first queries don't have to suffer from initialization of pointers and such. There is some small in-ram component, e.g. string fields load a small \"index\" to the terms, but thats just like the terms dictionary, which is already not lazy at all.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/72458165","html_url":"https://github.com/elastic/elasticsearch/issues/9331#issuecomment-72458165","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9331","id":72458165,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDU4MTY1","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-02-02T13:33:29Z","updated_at":"2015-02-02T13:33:29Z","author_association":"CONTRIBUTOR","body":"@rmuir made the good point that, eg if a user has lots of indices, most of which are seldom used (eg old logs) and so don't have norms, etc loaded eagerly, a single query could force loading of norms across all indices and use up all the memory.  So relying on lazy loading can be a ticking time bomb.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/72459411","html_url":"https://github.com/elastic/elasticsearch/issues/9331#issuecomment-72459411","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9331","id":72459411,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDU5NDEx","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2015-02-02T13:43:10Z","updated_at":"2015-02-02T13:43:10Z","author_association":"CONTRIBUTOR","body":"I hate lazy loading too (I really do), but I think the point of lazy loading is more about lots of seldomly used fields than indices. And this is unfortunately common due to the fact that our dynamic mappings generate analyzed string fields that have enabled norms by default.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/214508534","html_url":"https://github.com/elastic/elasticsearch/issues/9331#issuecomment-214508534","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9331","id":214508534,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDUwODUzNA==","user":{"login":"ppf2","id":7216393,"node_id":"MDQ6VXNlcjcyMTYzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/7216393?v=4","gravatar_id":"","url":"https://api.github.com/users/ppf2","html_url":"https://github.com/ppf2","followers_url":"https://api.github.com/users/ppf2/followers","following_url":"https://api.github.com/users/ppf2/following{/other_user}","gists_url":"https://api.github.com/users/ppf2/gists{/gist_id}","starred_url":"https://api.github.com/users/ppf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppf2/subscriptions","organizations_url":"https://api.github.com/users/ppf2/orgs","repos_url":"https://api.github.com/users/ppf2/repos","events_url":"https://api.github.com/users/ppf2/events{/privacy}","received_events_url":"https://api.github.com/users/ppf2/received_events","type":"User","site_admin":false},"created_at":"2016-04-25T20:21:15Z","updated_at":"2016-04-25T20:21:15Z","author_association":"MEMBER","body":"Discussed with @martijnvg previously on this.  There is a use case to fire warmers to load up a custom/internal cache when new data is indexed.  It can be useful to some users if we can make index warmers pluggable.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/214759969","html_url":"https://github.com/elastic/elasticsearch/issues/9331#issuecomment-214759969","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9331","id":214759969,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDc1OTk2OQ==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-04-26T14:17:11Z","updated_at":"2016-04-26T14:17:11Z","author_association":"CONTRIBUTOR","body":"I don't think we should make warmers pluggable, this is too internal to elasticsearch. Moreover, we have been recently working on making warmup less and less needed so that it does not hurt the near-realtimeness of elasticsearch: for instance we replaced fielddata with doc values and put norms on disk. Exposing warmers to plugins would go in the opposite direction.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/214841932","html_url":"https://github.com/elastic/elasticsearch/issues/9331#issuecomment-214841932","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9331","id":214841932,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNDg0MTkzMg==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-04-26T18:32:45Z","updated_at":"2016-04-26T18:32:45Z","author_association":"CONTRIBUTOR","body":"The warmers API has been removed in https://github.com/elastic/elasticsearch/pull/15614. Closing\n","performed_via_github_app":null}]