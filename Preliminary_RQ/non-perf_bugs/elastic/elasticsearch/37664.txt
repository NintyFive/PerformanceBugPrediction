{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/37664","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37664/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37664/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37664/events","html_url":"https://github.com/elastic/elasticsearch/issues/37664","id":401393471,"node_id":"MDU6SXNzdWU0MDEzOTM0NzE=","number":37664,"title":"Enhancement Request: Amend Circuit Breakers Discussion To Include A Discussion of Maximum Cluster Operating Limits","user":{"login":"MorrieAtElastic","id":28967808,"node_id":"MDQ6VXNlcjI4OTY3ODA4","avatar_url":"https://avatars1.githubusercontent.com/u/28967808?v=4","gravatar_id":"","url":"https://api.github.com/users/MorrieAtElastic","html_url":"https://github.com/MorrieAtElastic","followers_url":"https://api.github.com/users/MorrieAtElastic/followers","following_url":"https://api.github.com/users/MorrieAtElastic/following{/other_user}","gists_url":"https://api.github.com/users/MorrieAtElastic/gists{/gist_id}","starred_url":"https://api.github.com/users/MorrieAtElastic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MorrieAtElastic/subscriptions","organizations_url":"https://api.github.com/users/MorrieAtElastic/orgs","repos_url":"https://api.github.com/users/MorrieAtElastic/repos","events_url":"https://api.github.com/users/MorrieAtElastic/events{/privacy}","received_events_url":"https://api.github.com/users/MorrieAtElastic/received_events","type":"User","site_admin":false},"labels":[{"id":166507771,"node_id":"MDU6TGFiZWwxNjY1MDc3NzE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Circuit%20Breakers","name":":Core/Infra/Circuit Breakers","color":"0e8a16","default":false,"description":"Track estimates of memory consumption to prevent overload"},{"id":23715,"node_id":"MDU6TGFiZWwyMzcxNQ==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Edocs","name":">docs","color":"db755e","default":false,"description":"General docs changes"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2019-01-21T15:07:18Z","updated_at":"2019-12-11T16:53:55Z","closed_at":"2019-12-11T16:53:55Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"It is possible for an Elasticsearch cluster to grow too big. When a cluster grows too big it effectively stops functioning because every single operation returns a circuit breaker failure. Users whose production clusters have been functioning perfectly well can suddenly find themselves dead in the water with little or no warning.\r\n\r\nIt turns out that the fact that a cluster can grow to be too big is not documented clearly anywhere that I can find, and I certainly don't recall any discussion of this in any of the Training classes which I have taken or taught. This is an especially serious concern as users increasingly operate large clusters which are potentially susceptible to operating limit failures.\r\n\r\nI suggest the documentation should include the following points:\r\n\r\n- that every cluster has a maximum operating limit in terms of the amount of indexed data it can support. That when this limit is reached all operations will fail with circuit breaker exceptions and that the cluster will effectively be down.\r\n\r\n- that the exact limit is difficult to determine and depends on the size of node JVMs, the amount of data being indexed, the nature of the index keys, the amount of field data associated with each index and other factors. The documentation should emphasize that the maximum operating limit is in terabytes of indexed data per node.\r\n\r\n- what can be done proactively to anticipate reaching a cluster's maximum operating limit, specifically by checking various entries in node statistics\r\n\r\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}