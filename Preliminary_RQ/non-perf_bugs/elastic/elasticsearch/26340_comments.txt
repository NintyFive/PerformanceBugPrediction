[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/324594128","html_url":"https://github.com/elastic/elasticsearch/issues/26340#issuecomment-324594128","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26340","id":324594128,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDU5NDEyOA==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-08-24T10:12:58Z","updated_at":"2017-08-24T10:12:58Z","author_association":"MEMBER","body":"hi @lupo112 could you please show me an example where this change would help?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/324852986","html_url":"https://github.com/elastic/elasticsearch/issues/26340#issuecomment-324852986","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26340","id":324852986,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDg1Mjk4Ng==","user":{"login":"lupo112","id":1206903,"node_id":"MDQ6VXNlcjEyMDY5MDM=","avatar_url":"https://avatars2.githubusercontent.com/u/1206903?v=4","gravatar_id":"","url":"https://api.github.com/users/lupo112","html_url":"https://github.com/lupo112","followers_url":"https://api.github.com/users/lupo112/followers","following_url":"https://api.github.com/users/lupo112/following{/other_user}","gists_url":"https://api.github.com/users/lupo112/gists{/gist_id}","starred_url":"https://api.github.com/users/lupo112/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lupo112/subscriptions","organizations_url":"https://api.github.com/users/lupo112/orgs","repos_url":"https://api.github.com/users/lupo112/repos","events_url":"https://api.github.com/users/lupo112/events{/privacy}","received_events_url":"https://api.github.com/users/lupo112/received_events","type":"User","site_admin":false},"created_at":"2017-08-25T08:11:26Z","updated_at":"2017-08-25T08:11:26Z","author_association":"NONE","body":"```java\r\nsearchResponse\r\n\t.flatMap(this::extractAggs)\r\n\t.cast(SingleBucketAggregation.class)\r\n\t.flatMap(this::extractAggs)\r\n\t.toMap(Aggregation::getName)\r\n\t...\r\n```\r\n\r\nIn this case, I have to define two methods with different input arguments:\r\n```java\r\nprivate Observable<Aggregation> extractAggs(SearchResponse bucket) {\r\n\treturn Observable.fromIterable(bucket.getAggregations())\r\n\t\t.filter(agg -> !IGNORED_AGGS.contains(agg.getName()));\r\n}\r\n\r\nprivate Observable<Aggregation> extractAggs(HasAggregations bucket) {\r\n\treturn Observable.fromIterable(bucket.getAggregations())\r\n\t\t.filter(agg -> !IGNORED_AGGS.contains(agg.getName()));\r\n}\r\n```\r\n\r\nWhile `SearchResponse` contains method `getAggregations` which is the same as defined in the interface `HasAggregations`.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/324916100","html_url":"https://github.com/elastic/elasticsearch/issues/26340#issuecomment-324916100","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26340","id":324916100,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNDkxNjEwMA==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2017-08-25T13:13:25Z","updated_at":"2017-08-25T13:13:25Z","author_association":"CONTRIBUTOR","body":"Thank you for explaining, we get your point now.\r\n\r\nWe discussed it in FixitFriday and agreed to not do it. This interface was added as a way to mark aggregations that have sub aggregations, so we felt like putting it on SearchResponse would be wrong.","performed_via_github_app":null}]