[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/156502457","html_url":"https://github.com/elastic/elasticsearch/issues/14747#issuecomment-156502457","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14747","id":156502457,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NjUwMjQ1Nw==","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2015-11-13T18:01:31Z","updated_at":"2015-11-13T18:01:31Z","author_association":"CONTRIBUTOR","body":"I agree this would be nice, I'm on my fourth run of `mvn verify`, and each time restarting because of a straggler here or there in a plugin or QA test.\n\nAt the same time, we shouldn't do it unless it can be done safely.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/156503362","html_url":"https://github.com/elastic/elasticsearch/issues/14747#issuecomment-156503362","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14747","id":156503362,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NjUwMzM2Mg==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2015-11-13T18:05:58Z","updated_at":"2015-11-13T18:05:58Z","author_association":"MEMBER","body":"> At the same time, we shouldn't do it unless it can be done safely.\n\nI completely agree. Even if a buildid is passed in, and eg the core tests passed for that build id, we should still run core tests if core code changed, otherwise we are potentially hiding issues, where you could pass tests and think everything was ok. This is super important, otherwise there could be huge confusion on \"my tests passed\" but the code is totally broken.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/183913045","html_url":"https://github.com/elastic/elasticsearch/issues/14747#issuecomment-183913045","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14747","id":183913045,"node_id":"MDEyOklzc3VlQ29tbWVudDE4MzkxMzA0NQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-02-14T16:21:56Z","updated_at":"2016-02-14T16:21:56Z","author_association":"CONTRIBUTOR","body":"@rjernst has this been implemented yet?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/372471401","html_url":"https://github.com/elastic/elasticsearch/issues/14747#issuecomment-372471401","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14747","id":372471401,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MjQ3MTQwMQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-03-12T21:38:00Z","updated_at":"2018-03-12T21:38:00Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/463201992","html_url":"https://github.com/elastic/elasticsearch/issues/14747#issuecomment-463201992","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14747","id":463201992,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MzIwMTk5Mg==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2019-02-13T13:38:11Z","updated_at":"2019-02-13T13:38:11Z","author_association":"CONTRIBUTOR","body":"Much has changed since the initial issue, but the fact that most of the up-to-date checks are thrown off by the testing seed is still relevant. \r\n\r\nI think we could cache the testing seed by default and have a `cleanSeed` task that `clean` would depend on to be able to blow it away. we could then simply rely on up-to-date functionality to have the build pick up from where it left off. The seed will then be an input for the testing task. The meta info we add to jars might also play a role here because of hashes and timestamps that we add ad the generated jars serve as input for others tasks  and we will likely have to do something about those as well. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/471368300","html_url":"https://github.com/elastic/elasticsearch/issues/14747#issuecomment-471368300","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14747","id":471368300,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MTM2ODMwMA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2019-03-11T00:08:16Z","updated_at":"2019-03-11T00:08:16Z","author_association":"MEMBER","body":"@atorok Instead of storing the seed in a file, I think it can just be set as a property on TaskInputs? Then there is no need tohave a `cleanSeed` task, it would still be passed as a sysprop.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/471927083","html_url":"https://github.com/elastic/elasticsearch/issues/14747#issuecomment-471927083","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14747","id":471927083,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MTkyNzA4Mw==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2019-03-12T09:42:28Z","updated_at":"2019-03-12T09:42:28Z","author_association":"CONTRIBUTOR","body":"Yes, I think that would work and make sense. \r\nIt will hover require deliberate action so one will have to explicitly pass in a seed, but it's a good start for experimentation. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/528340966","html_url":"https://github.com/elastic/elasticsearch/issues/14747#issuecomment-528340966","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14747","id":528340966,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODM0MDk2Ng==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2019-09-05T12:31:01Z","updated_at":"2019-09-05T12:31:01Z","author_association":"CONTRIBUTOR","body":"We now implemented what @rjernst suggested, and have build caching enabled, so as long as one passes in the same seed and has build cache enabled, the build will skip everything that didn't change ( pull it from the cache).\r\nIt took close to 4 years but we are there :) \r\nPlease feel free to re-open if you disagree. \r\n","performed_via_github_app":null}]