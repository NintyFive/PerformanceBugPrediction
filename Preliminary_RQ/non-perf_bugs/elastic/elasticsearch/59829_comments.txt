[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/662333413","html_url":"https://github.com/elastic/elasticsearch/issues/59829#issuecomment-662333413","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/59829","id":662333413,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MjMzMzQxMw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-07-22T08:58:23Z","updated_at":"2020-07-22T08:58:23Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search (:Search/Search)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/682251759","html_url":"https://github.com/elastic/elasticsearch/issues/59829#issuecomment-682251759","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/59829","id":682251759,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjI1MTc1OQ==","user":{"login":"jtibshirani","id":7461306,"node_id":"MDQ6VXNlcjc0NjEzMDY=","avatar_url":"https://avatars3.githubusercontent.com/u/7461306?v=4","gravatar_id":"","url":"https://api.github.com/users/jtibshirani","html_url":"https://github.com/jtibshirani","followers_url":"https://api.github.com/users/jtibshirani/followers","following_url":"https://api.github.com/users/jtibshirani/following{/other_user}","gists_url":"https://api.github.com/users/jtibshirani/gists{/gist_id}","starred_url":"https://api.github.com/users/jtibshirani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtibshirani/subscriptions","organizations_url":"https://api.github.com/users/jtibshirani/orgs","repos_url":"https://api.github.com/users/jtibshirani/repos","events_url":"https://api.github.com/users/jtibshirani/events{/privacy}","received_events_url":"https://api.github.com/users/jtibshirani/received_events","type":"User","site_admin":false},"created_at":"2020-08-28T00:06:49Z","updated_at":"2020-08-28T00:06:49Z","author_association":"MEMBER","body":"> So, I suppose `indices.fielddata.cache.size` should be less than `indices.breaker.fielddata.limit` by default and better to add some tips on both settings.\r\n\r\nThis makes sense to me, and would help avoid situations where the cache must be cleared manually. I'll discuss with the team to confirm we want to make a change.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/720742868","html_url":"https://github.com/elastic/elasticsearch/issues/59829#issuecomment-720742868","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/59829","id":720742868,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMDc0Mjg2OA==","user":{"login":"jtibshirani","id":7461306,"node_id":"MDQ6VXNlcjc0NjEzMDY=","avatar_url":"https://avatars3.githubusercontent.com/u/7461306?v=4","gravatar_id":"","url":"https://api.github.com/users/jtibshirani","html_url":"https://github.com/jtibshirani","followers_url":"https://api.github.com/users/jtibshirani/followers","following_url":"https://api.github.com/users/jtibshirani/following{/other_user}","gists_url":"https://api.github.com/users/jtibshirani/gists{/gist_id}","starred_url":"https://api.github.com/users/jtibshirani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtibshirani/subscriptions","organizations_url":"https://api.github.com/users/jtibshirani/orgs","repos_url":"https://api.github.com/users/jtibshirani/repos","events_url":"https://api.github.com/users/jtibshirani/events{/privacy}","received_events_url":"https://api.github.com/users/jtibshirani/received_events","type":"User","site_admin":false},"created_at":"2020-11-02T21:47:00Z","updated_at":"2020-11-04T21:15:07Z","author_association":"MEMBER","body":"We discussed as a team and decided to not adjust the default setting or recommendation for `indices.fielddata.cache.size`. The reasoning is that field data is very expensive to build -- a set-up where it's continuously being evicted and rebuilt would result in unacceptably slow searches. So in the default case, we'd rather alert users to the problem instead of performing LRU eviction.\r\n\r\nHowever we have some changes planned to improve the situation:\r\n* Explore time-based eviction for field data, specifically targeting the time-series use case. (#59852)\r\n* Reduce and eventually remove the need for field data entirely, including removing support for sorting + aggregating on `_id`. (#64612)\r\n\r\nThanks @boicehuang for filing this issue, it revived an important discussion around simplifying fielddata cache management.","performed_via_github_app":null}]