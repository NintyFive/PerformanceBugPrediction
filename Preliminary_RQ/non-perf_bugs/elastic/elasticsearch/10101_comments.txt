[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/81370344","html_url":"https://github.com/elastic/elasticsearch/issues/10101#issuecomment-81370344","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10101","id":81370344,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzcwMzQ0","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2015-03-16T03:13:02Z","updated_at":"2015-03-16T03:13:02Z","author_association":"MEMBER","body":"@Yashin-s thanks for reporting.\n\nI think there are few problems here. The first one is that the logging system hasn't been initialized so we can't really know why the elasticsearch node has been stopped.\n\nThe second one is that you start elasticsearch with the root user while executing a `sudo` command. If possible, I recommand to remove completely elasticsearch and reinstall it, then starting it with the `elasticsearch` user. Also, you can check that the `elasticsearch` user has the correct privileges on  the log directory (see /var/log/elasticsearch)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/81644632","html_url":"https://github.com/elastic/elasticsearch/issues/10101#issuecomment-81644632","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10101","id":81644632,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjQ0NjMy","user":{"login":"Yashin-s","id":6310334,"node_id":"MDQ6VXNlcjYzMTAzMzQ=","avatar_url":"https://avatars3.githubusercontent.com/u/6310334?v=4","gravatar_id":"","url":"https://api.github.com/users/Yashin-s","html_url":"https://github.com/Yashin-s","followers_url":"https://api.github.com/users/Yashin-s/followers","following_url":"https://api.github.com/users/Yashin-s/following{/other_user}","gists_url":"https://api.github.com/users/Yashin-s/gists{/gist_id}","starred_url":"https://api.github.com/users/Yashin-s/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Yashin-s/subscriptions","organizations_url":"https://api.github.com/users/Yashin-s/orgs","repos_url":"https://api.github.com/users/Yashin-s/repos","events_url":"https://api.github.com/users/Yashin-s/events{/privacy}","received_events_url":"https://api.github.com/users/Yashin-s/received_events","type":"User","site_admin":false},"created_at":"2015-03-16T12:59:28Z","updated_at":"2015-03-16T12:59:28Z","author_association":"NONE","body":"I've uninstalled elasticsearch completly. I previously installed it through yum. I've now followed the instructions on http://tecadmin.net/install-elasticsearch-on-linux/ to install the 1.4.4 package. But I am still getting the same error on start. Below is the output. Also, how do I log as elasticsearch user ? I am accessing the VPS via putty.\n\nroot@vps15042 [/usr/share/elasticsearch/elasticsearch-1.4.4]# log4j:WARN No appenders could be found for logger (common).\nlog4j:WARN Please initialize the log4j system properly.\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\n[2015-03-16 07:14:05,484][INFO ][node                     ] [Ape] version[1.4.4], pid[7785], build[c88f77f/2015-02-19T13:05:36Z]\n[2015-03-16 07:14:05,485][INFO ][node                     ] [Ape] initializing ...\n[2015-03-16 07:14:05,490][INFO ][plugins                  ] [Ape] loaded [], sites [head]\n[2015-03-16 07:14:07,900][INFO ][node                     ] [Ape] initialized\n[2015-03-16 07:14:07,900][INFO ][node                     ] [Ape] starting ...\n[2015-03-16 07:14:08,030][INFO ][transport                ] [Ape] bound_address {inet[/0:0:0:0:0:0:0:0:9300]}, publish_address {inet[/23.235.207.40:9300]}\n[2015-03-16 07:14:08,048][INFO ][discovery                ] [Ape] elasticsearch/IeHVdHdZSVqvR2U84cvK-g\n[2015-03-16 07:14:08,056][WARN ][discovery.zen.ping.multicast] [Ape] failed to send multicast ping request: IOException[Operation not permitted]\n[2015-03-16 07:14:09,557][WARN ][discovery.zen.ping.multicast] [Ape] failed to send multicast ping request: IOException[Operation not permitted]\n[2015-03-16 07:14:11,060][WARN ][discovery.zen.ping.multicast] [Ape] failed to send multicast ping request: IOException[Operation not permitted]\n[2015-03-16 07:14:11,818][INFO ][cluster.service          ] [Ape] new_master [Ape][IeHVdHdZSVqvR2U84cvK-g][vps15042.inmotionhosting.com][inet[/23.235.207.40:9300]], reason: zen-disco-join \n\n(elected_as_master)\n[2015-03-16 07:14:11,845][INFO ][gateway                  ] [Ape] recovered [0] indices into cluster_state\n[2015-03-16 07:14:11,845][INFO ][http                     ] [Ape] bound_address {inet[/0:0:0:0:0:0:0:0:9200]}, publish_address {inet[/23.235.207.40:9200]}\n[2015-03-16 07:14:11,846][INFO ][node                     ] [Ape] started\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/81815009","html_url":"https://github.com/elastic/elasticsearch/issues/10101#issuecomment-81815009","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10101","id":81815009,"node_id":"MDEyOklzc3VlQ29tbWVudDgxODE1MDA5","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2015-03-16T17:13:21Z","updated_at":"2015-03-16T17:13:21Z","author_association":"MEMBER","body":"Here is how I usually proceed:\n- uninstall everything is needed\n- check if java is correctly installed\n- install elasticsearch with YUM\n- check if the `elasticsearch` user has been created\n- check if /var/log/elasticsearch, /var/lib/elasticsearch, /etc/elasticsearch directories are created\n- check if elasticsearch user has read/write privileges on these directories\n- start elasticsearch as a service\n\nI also recommend you to follow the documentation, these pages http://www.elastic.co/guide/en/elasticsearch/reference/current/setup-repositories.html#yum and http://www.elastic.co/guide/en/elasticsearch/reference/current/setup-service.html should help you.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/82977350","html_url":"https://github.com/elastic/elasticsearch/issues/10101#issuecomment-82977350","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10101","id":82977350,"node_id":"MDEyOklzc3VlQ29tbWVudDgyOTc3MzUw","user":{"login":"Yashin-s","id":6310334,"node_id":"MDQ6VXNlcjYzMTAzMzQ=","avatar_url":"https://avatars3.githubusercontent.com/u/6310334?v=4","gravatar_id":"","url":"https://api.github.com/users/Yashin-s","html_url":"https://github.com/Yashin-s","followers_url":"https://api.github.com/users/Yashin-s/followers","following_url":"https://api.github.com/users/Yashin-s/following{/other_user}","gists_url":"https://api.github.com/users/Yashin-s/gists{/gist_id}","starred_url":"https://api.github.com/users/Yashin-s/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Yashin-s/subscriptions","organizations_url":"https://api.github.com/users/Yashin-s/orgs","repos_url":"https://api.github.com/users/Yashin-s/repos","events_url":"https://api.github.com/users/Yashin-s/events{/privacy}","received_events_url":"https://api.github.com/users/Yashin-s/received_events","type":"User","site_admin":false},"created_at":"2015-03-18T13:43:11Z","updated_at":"2015-03-18T13:43:11Z","author_association":"NONE","body":"Thanks for the instructions, I've already uninstall and re-install the plugin several times but I keep getting the same issue. I think that it has something to do with virtual memory setting. My vm.max_map_count is only 65,530 compared to the 262,144 that es is trying to assign. It may be that it is resulting in OOM exceptions. I cannot change vm.max_map_count either to test it, since I do not have the permission on the VPS server. What can I do to detect if there are indeed out of memory exceptions and what can I do to solve the issue?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/83958868","html_url":"https://github.com/elastic/elasticsearch/issues/10101#issuecomment-83958868","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10101","id":83958868,"node_id":"MDEyOklzc3VlQ29tbWVudDgzOTU4ODY4","user":{"login":"tlrx","id":642733,"node_id":"MDQ6VXNlcjY0MjczMw==","avatar_url":"https://avatars1.githubusercontent.com/u/642733?v=4","gravatar_id":"","url":"https://api.github.com/users/tlrx","html_url":"https://github.com/tlrx","followers_url":"https://api.github.com/users/tlrx/followers","following_url":"https://api.github.com/users/tlrx/following{/other_user}","gists_url":"https://api.github.com/users/tlrx/gists{/gist_id}","starred_url":"https://api.github.com/users/tlrx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tlrx/subscriptions","organizations_url":"https://api.github.com/users/tlrx/orgs","repos_url":"https://api.github.com/users/tlrx/repos","events_url":"https://api.github.com/users/tlrx/events{/privacy}","received_events_url":"https://api.github.com/users/tlrx/received_events","type":"User","site_admin":false},"created_at":"2015-03-20T08:55:19Z","updated_at":"2015-03-20T08:55:19Z","author_association":"MEMBER","body":"Hi @Yashin-s,\n\nI close this issue because it seems to be more a configuration problem than a bug. Could you please post your question on the mailing list https://groups.google.com/group/elasticsearch/? It will be easier and there are more people there to help you.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/96299760","html_url":"https://github.com/elastic/elasticsearch/issues/10101#issuecomment-96299760","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10101","id":96299760,"node_id":"MDEyOklzc3VlQ29tbWVudDk2Mjk5NzYw","user":{"login":"Ziink","id":625548,"node_id":"MDQ6VXNlcjYyNTU0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/625548?v=4","gravatar_id":"","url":"https://api.github.com/users/Ziink","html_url":"https://github.com/Ziink","followers_url":"https://api.github.com/users/Ziink/followers","following_url":"https://api.github.com/users/Ziink/following{/other_user}","gists_url":"https://api.github.com/users/Ziink/gists{/gist_id}","starred_url":"https://api.github.com/users/Ziink/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ziink/subscriptions","organizations_url":"https://api.github.com/users/Ziink/orgs","repos_url":"https://api.github.com/users/Ziink/repos","events_url":"https://api.github.com/users/Ziink/events{/privacy}","received_events_url":"https://api.github.com/users/Ziink/received_events","type":"User","site_admin":false},"created_at":"2015-04-26T01:02:03Z","updated_at":"2015-04-26T01:02:03Z","author_association":"NONE","body":"It seems like the problem is due to the kernel version of OpenVZ. At least that is the case with me.\n\nYashin-s I'm guessing your VPS is on OpenVZ. Run the command \nuname -a\n\nOn the VPS where elasticsearch keeps crashing at random times, I get an output like\n\n> Linux nyserver1 2.6.32-042stab104.1 #1 SMP Thu Jan 29 12:58:41 MSK 2015 x86_64 x86_64 x86_64 GNU/Linux\n\nOn another VPS, where elasticsearch is working fine, the output I get is\n\n> Linux zine 2.6.32-042stab103.6 #1 SMP Wed Jan 21 13:07:39 MSK 2015 x86_64 x86_64 x86_64 GNU/Linux\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/96413866","html_url":"https://github.com/elastic/elasticsearch/issues/10101#issuecomment-96413866","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10101","id":96413866,"node_id":"MDEyOklzc3VlQ29tbWVudDk2NDEzODY2","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-04-26T17:55:57Z","updated_at":"2015-04-26T17:55:57Z","author_association":"CONTRIBUTOR","body":"Possibly related to https://github.com/elastic/elasticsearch/issues/9582 ?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/112760586","html_url":"https://github.com/elastic/elasticsearch/issues/10101#issuecomment-112760586","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10101","id":112760586,"node_id":"MDEyOklzc3VlQ29tbWVudDExMjc2MDU4Ng==","user":{"login":"fundup","id":4673348,"node_id":"MDQ6VXNlcjQ2NzMzNDg=","avatar_url":"https://avatars2.githubusercontent.com/u/4673348?v=4","gravatar_id":"","url":"https://api.github.com/users/fundup","html_url":"https://github.com/fundup","followers_url":"https://api.github.com/users/fundup/followers","following_url":"https://api.github.com/users/fundup/following{/other_user}","gists_url":"https://api.github.com/users/fundup/gists{/gist_id}","starred_url":"https://api.github.com/users/fundup/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fundup/subscriptions","organizations_url":"https://api.github.com/users/fundup/orgs","repos_url":"https://api.github.com/users/fundup/repos","events_url":"https://api.github.com/users/fundup/events{/privacy}","received_events_url":"https://api.github.com/users/fundup/received_events","type":"User","site_admin":false},"created_at":"2015-06-17T11:27:23Z","updated_at":"2015-06-17T11:27:23Z","author_association":"NONE","body":"I had same problem. I did my first install using root. Then I remove and install once again using a user and sudo apt-get (https://www.elastic.co/guide/en/elasticsearch/reference/current/setup-repositories.html) . It seems to work now. Hope it will help\n","performed_via_github_app":null}]