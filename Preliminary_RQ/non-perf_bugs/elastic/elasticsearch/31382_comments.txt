[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/397965418","html_url":"https://github.com/elastic/elasticsearch/issues/31382#issuecomment-397965418","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31382","id":397965418,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Nzk2NTQxOA==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2018-06-18T07:29:17Z","updated_at":"2018-06-18T07:29:17Z","author_association":"CONTRIBUTOR","body":"It works for me on master by running `./gradlew idea`. What exact command are you running and on which branch? Is your checkout clean? Does it still reproduce if you run `git clean -xdf`?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/397965474","html_url":"https://github.com/elastic/elasticsearch/issues/31382#issuecomment-397965474","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31382","id":397965474,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Nzk2NTQ3NA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-06-18T07:29:31Z","updated_at":"2018-06-18T07:29:31Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/397969465","html_url":"https://github.com/elastic/elasticsearch/issues/31382#issuecomment-397969465","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31382","id":397969465,"node_id":"MDEyOklzc3VlQ29tbWVudDM5Nzk2OTQ2NQ==","user":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"created_at":"2018-06-18T07:47:43Z","updated_at":"2018-06-18T07:47:43Z","author_association":"CONTRIBUTOR","body":"@doubleuhy please use Gradle 4.7 for now (i.e. the one provided by the wrapper). we're working on 4.8 compatibility, see https://github.com/elastic/elasticsearch/pull/31271","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/398001436","html_url":"https://github.com/elastic/elasticsearch/issues/31382#issuecomment-398001436","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31382","id":398001436,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODAwMTQzNg==","user":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"created_at":"2018-06-18T09:49:43Z","updated_at":"2018-06-18T09:49:43Z","author_association":"CONTRIBUTOR","body":"Can you use the gradle wrapper? i.e. invoke `./gradlew idea`","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/398002792","html_url":"https://github.com/elastic/elasticsearch/issues/31382#issuecomment-398002792","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31382","id":398002792,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODAwMjc5Mg==","user":{"login":"dobbbb","id":20079674,"node_id":"MDQ6VXNlcjIwMDc5Njc0","avatar_url":"https://avatars3.githubusercontent.com/u/20079674?v=4","gravatar_id":"","url":"https://api.github.com/users/dobbbb","html_url":"https://github.com/dobbbb","followers_url":"https://api.github.com/users/dobbbb/followers","following_url":"https://api.github.com/users/dobbbb/following{/other_user}","gists_url":"https://api.github.com/users/dobbbb/gists{/gist_id}","starred_url":"https://api.github.com/users/dobbbb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dobbbb/subscriptions","organizations_url":"https://api.github.com/users/dobbbb/orgs","repos_url":"https://api.github.com/users/dobbbb/repos","events_url":"https://api.github.com/users/dobbbb/events{/privacy}","received_events_url":"https://api.github.com/users/dobbbb/received_events","type":"User","site_admin":false},"created_at":"2018-06-18T09:55:01Z","updated_at":"2018-06-18T09:55:01Z","author_association":"NONE","body":"gradle version change to 4.7, failed tooðŸ˜­\r\n* Where:\r\nBuild file '/Users/zhouwuhong/elasticsearch/benchmarks/build.gradle' line: 31\r\n\r\n* What went wrong:\r\nA problem occurred evaluating project ':benchmarks'.\r\n> Failed to apply plugin [id 'elasticsearch.build']\r\n   > JAVA_HOME must be set to build Elasticsearch\r\n\r\necho $JAVA_HOME\r\n/Library/Java/JavaVirtualMachines/jdk-10.jdk/Contents/Home","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/398006723","html_url":"https://github.com/elastic/elasticsearch/issues/31382#issuecomment-398006723","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31382","id":398006723,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODAwNjcyMw==","user":{"login":"dobbbb","id":20079674,"node_id":"MDQ6VXNlcjIwMDc5Njc0","avatar_url":"https://avatars3.githubusercontent.com/u/20079674?v=4","gravatar_id":"","url":"https://api.github.com/users/dobbbb","html_url":"https://github.com/dobbbb","followers_url":"https://api.github.com/users/dobbbb/followers","following_url":"https://api.github.com/users/dobbbb/following{/other_user}","gists_url":"https://api.github.com/users/dobbbb/gists{/gist_id}","starred_url":"https://api.github.com/users/dobbbb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dobbbb/subscriptions","organizations_url":"https://api.github.com/users/dobbbb/orgs","repos_url":"https://api.github.com/users/dobbbb/repos","events_url":"https://api.github.com/users/dobbbb/events{/privacy}","received_events_url":"https://api.github.com/users/dobbbb/received_events","type":"User","site_admin":false},"created_at":"2018-06-18T10:10:23Z","updated_at":"2018-06-18T10:10:23Z","author_association":"NONE","body":"yes, i'm use ./gradlew idea","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/398013749","html_url":"https://github.com/elastic/elasticsearch/issues/31382#issuecomment-398013749","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31382","id":398013749,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODAxMzc0OQ==","user":{"login":"dobbbb","id":20079674,"node_id":"MDQ6VXNlcjIwMDc5Njc0","avatar_url":"https://avatars3.githubusercontent.com/u/20079674?v=4","gravatar_id":"","url":"https://api.github.com/users/dobbbb","html_url":"https://github.com/dobbbb","followers_url":"https://api.github.com/users/dobbbb/followers","following_url":"https://api.github.com/users/dobbbb/following{/other_user}","gists_url":"https://api.github.com/users/dobbbb/gists{/gist_id}","starred_url":"https://api.github.com/users/dobbbb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dobbbb/subscriptions","organizations_url":"https://api.github.com/users/dobbbb/orgs","repos_url":"https://api.github.com/users/dobbbb/repos","events_url":"https://api.github.com/users/dobbbb/events{/privacy}","received_events_url":"https://api.github.com/users/dobbbb/received_events","type":"User","site_admin":false},"created_at":"2018-06-18T10:41:12Z","updated_at":"2018-06-18T10:43:20Z","author_association":"NONE","body":"thanks, i have resolve this question. it seems like groovy `System.getenv('JAVA_HOME')` don't work when java version is 10 and gradle version is 4.7\r\nsolution:\r\n--- a/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy\r\n+++ b/buildSrc/src/main/groovy/org/elasticsearch/gradle/BuildPlugin.groovy\r\n@@ -206,6 +206,7 @@ class BuildPlugin implements Plugin<Project> {\r\n     }\r\n```\r\n     private static String findCompilerJavaHome() {\r\n+        return \"/Library/Java/JavaVirtualMachines/jdk-10.jdk/Contents/Home\"\r\n         final String javaHome = System.getenv('JAVA_HOME')\r\n         if (javaHome == null) {\r\n             if (System.getProperty(\"idea.active\") != null || System.getProperty(\"eclipse.launcher\") != null) {\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/398019323","html_url":"https://github.com/elastic/elasticsearch/issues/31382#issuecomment-398019323","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31382","id":398019323,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODAxOTMyMw==","user":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"created_at":"2018-06-18T11:07:05Z","updated_at":"2018-06-18T11:07:05Z","author_association":"CONTRIBUTOR","body":"I have JDK 10 and gradle 4.7 on my machine and it works. This sounds more like something's wrong with how you've set up your JAVA_HOME.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/398030997","html_url":"https://github.com/elastic/elasticsearch/issues/31382#issuecomment-398030997","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31382","id":398030997,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODAzMDk5Nw==","user":{"login":"dobbbb","id":20079674,"node_id":"MDQ6VXNlcjIwMDc5Njc0","avatar_url":"https://avatars3.githubusercontent.com/u/20079674?v=4","gravatar_id":"","url":"https://api.github.com/users/dobbbb","html_url":"https://github.com/dobbbb","followers_url":"https://api.github.com/users/dobbbb/followers","following_url":"https://api.github.com/users/dobbbb/following{/other_user}","gists_url":"https://api.github.com/users/dobbbb/gists{/gist_id}","starred_url":"https://api.github.com/users/dobbbb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dobbbb/subscriptions","organizations_url":"https://api.github.com/users/dobbbb/orgs","repos_url":"https://api.github.com/users/dobbbb/repos","events_url":"https://api.github.com/users/dobbbb/events{/privacy}","received_events_url":"https://api.github.com/users/dobbbb/received_events","type":"User","site_admin":false},"created_at":"2018-06-18T12:01:07Z","updated_at":"2018-06-18T12:01:49Z","author_association":"NONE","body":"i'm use fish shell, in config.fish\r\n``` set JAVA_HOME (/usr/libexec/java_home)```\r\necho $JAVA_HOME is work\r\n......\r\n......\r\nand i have another problem, when i run Elasticsearch.java -Des.path.home=/Users/zhouwuhong/elasticsearch -Des.path.conf=/Users/zhouwuhong/elasticsearch/distribution/src/config -Dlog4j2.disable.jmx=true\r\n```\r\n[2018-06-18T19:46:45,235][WARN ][o.e.b.ElasticsearchUncaughtExceptionHandler] [] uncaught exception in thread [main]\r\n\r\norg.elasticsearch.bootstrap.StartupException: \r\norg.elasticsearch.bootstrap.BootstrapException:\r\n java.nio.file.NoSuchFileException: \r\n/Users/zhouwuhong/elasticsearch/modules/percolator/plugin-descriptor.properties\r\n```\r\nand **modules/percolator/plugin-descriptor.properties** is actually not exist","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/398032925","html_url":"https://github.com/elastic/elasticsearch/issues/31382#issuecomment-398032925","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31382","id":398032925,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODAzMjkyNQ==","user":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"created_at":"2018-06-18T12:09:17Z","updated_at":"2018-06-18T12:09:17Z","author_association":"CONTRIBUTOR","body":"Please use https://discuss.elastic.co for these questions.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/398682243","html_url":"https://github.com/elastic/elasticsearch/issues/31382#issuecomment-398682243","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31382","id":398682243,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODY4MjI0Mw==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2018-06-20T09:17:28Z","updated_at":"2018-06-20T09:17:28Z","author_association":"CONTRIBUTOR","body":"I think the second failure is #31399","performed_via_github_app":null}]