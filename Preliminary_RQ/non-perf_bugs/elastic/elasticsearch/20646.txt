{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/20646","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20646/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20646/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20646/events","html_url":"https://github.com/elastic/elasticsearch/issues/20646","id":178964736,"node_id":"MDU6SXNzdWUxNzg5NjQ3MzY=","number":20646,"title":"Updating X-pack License in 5.0.0-alpha5","user":{"login":"imw","id":675213,"node_id":"MDQ6VXNlcjY3NTIxMw==","avatar_url":"https://avatars1.githubusercontent.com/u/675213?v=4","gravatar_id":"","url":"https://api.github.com/users/imw","html_url":"https://github.com/imw","followers_url":"https://api.github.com/users/imw/followers","following_url":"https://api.github.com/users/imw/following{/other_user}","gists_url":"https://api.github.com/users/imw/gists{/gist_id}","starred_url":"https://api.github.com/users/imw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imw/subscriptions","organizations_url":"https://api.github.com/users/imw/orgs","repos_url":"https://api.github.com/users/imw/repos","events_url":"https://api.github.com/users/imw/events{/privacy}","received_events_url":"https://api.github.com/users/imw/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2016-09-23T20:18:17Z","updated_at":"2017-05-09T08:14:52Z","closed_at":"2016-09-23T20:19:34Z","author_association":"NONE","active_lock_reason":null,"body":"I can't seem to update the license. Not sure if I am doing something wrong, but at this point it is beginning to seem like a bug:\n`root@esdata0:/usr/share/elasticsearch/bin/x-pack# curl -u infegy esdata0:9200Enter host password for user 'infegy':\n{\n  \"name\" : \"data0\",\n  \"cluster_name\" : \"atlantis\",\n  \"version\" : {\n    \"number\" : \"5.0.0-alpha5\",\n    \"build_hash\" : \"d327dd4\",\n    \"build_date\" : \"2016-08-04T08:59:39.568Z\",\n    \"build_snapshot\" : false,\n    \"lucene_version\" : \"6.1.0\"\n  },\n  \"tagline\" : \"You Know, for Search\"\n}\n`\n\n`\nroot@esdata0:/usr/share/elasticsearch/bin/x-pack# ./users list\nadmin          : superuser\ninfegy         : superuser\n`\n\n`\nroot@esdata0:/usr/share/elasticsearch/bin/x-pack# curl -XPUT -u infegy esdata0:9200/_xpack/license -d @/root/basic_license.json\nEnter host password for user 'infegy':\ncurl: (52) Empty reply from server\n`\nwhich coincides with:\n`\n[2016-09-23 20:17:14,401][WARN ][xpack.security.transport.netty4] [data0] caught exception while handling client http traffic, closing connection [id: 0xcc27ef9c, L:/10.17.218.166:9200 - R:/10.17.218.166:37552]\njava.lang.UnsupportedOperationException: unsupported message type: DefaultFullHttpResponse (expected: ByteBuf, FileRegion)\n    at io.netty.channel.nio.AbstractNioByteChannel.filterOutboundMessage(AbstractNioByteChannel.java:260)\n    at io.netty.channel.AbstractChannel$AbstractUnsafe.write(AbstractChannel.java:799)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.write(DefaultChannelPipeline.java:1291)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeWrite0(AbstractChannelHandlerContext.java:748)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeWriteAndFlush(AbstractChannelHandlerContext.java:811)\n    at io.netty.channel.AbstractChannelHandlerContext.write(AbstractChannelHandlerContext.java:824)\n    at io.netty.channel.AbstractChannelHandlerContext.writeAndFlush(AbstractChannelHandlerContext.java:804)\n    at io.netty.channel.AbstractChannelHandlerContext.writeAndFlush(AbstractChannelHandlerContext.java:841)\n    at io.netty.handler.codec.MessageAggregator.decode(MessageAggregator.java:222)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:88)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:372)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:358)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:350)\n    at io.netty.handler.codec.MessageToMessageDecoder.channelRead(MessageToMessageDecoder.java:102)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:372)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:358)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:350)\n    at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:293)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:267)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:372)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:358)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:350)\n    at io.netty.channel.ChannelInboundHandlerAdapter.channelRead(ChannelInboundHandlerAdapter.java:86)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:372)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:358)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:350)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1334)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:372)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:358)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:926)\n    at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:129)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:571)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeysPlain(NioEventLoop.java:474)\n    at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:428)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:398)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$5.run(SingleThreadEventExecutor.java:877)\n    at java.lang.Thread.run(Thread.java:745)\n`\n\n<!--\nGitHub is reserved for bug reports and feature requests. The best place\nto ask a general question is at the Elastic Discourse forums at\nhttps://discuss.elastic.co. If you are in fact posting a bug report or\na feature request, please include one and only one of the below blocks\nin your new issue. Note that whether you're filing a bug report or a\nfeature request, ensure that your submission is for an\n[OS that we support](https://www.elastic.co/support/matrix#show_os).\nBug reports on an OS that we do not support or feature requests\nspecific to an OS that we do not support will be closed.\n-->\n\n<!--\nIf you are filing a bug report, please remove the below feature\nrequest block and provide responses for all of the below items.\n-->\n\n**Elasticsearch version**:\n\n**Plugins installed**: []\n\n**JVM version**:\n\n**OS version**:\n\n**Description of the problem including expected versus actual behavior**:\n\n**Steps to reproduce**:\n 1.\n 2.\n 3.\n\n**Provide logs (if relevant)**:\n\n<!--\nIf you are filing a feature request, please remove the above bug\nreport block and provide responses for all of the below items.\n-->\n\n**Describe the feature**:\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}