[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/299493115","html_url":"https://github.com/elastic/elasticsearch/issues/24514#issuecomment-299493115","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24514","id":299493115,"node_id":"MDEyOklzc3VlQ29tbWVudDI5OTQ5MzExNQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2017-05-05T15:17:24Z","updated_at":"2017-05-05T15:17:24Z","author_association":"CONTRIBUTOR","body":"I agree this is caused by the upgrade of JNA.\r\n\r\nSLES10 isn't in our [compatibility matrix](https://www.elastic.co/support/matrix) which means we don't test against it and we don't support it. In #23640 we reworked the change so that we could support JNA on all of our supported OSes but we didn't go back to SLES10 because we don't support it.\r\n\r\nSorry we broke you. We aren't going to rebuild JNA against SLES10 though.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/299493559","html_url":"https://github.com/elastic/elasticsearch/issues/24514#issuecomment-299493559","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24514","id":299493559,"node_id":"MDEyOklzc3VlQ29tbWVudDI5OTQ5MzU1OQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-05-05T15:18:52Z","updated_at":"2017-05-05T15:18:52Z","author_association":"MEMBER","body":"We do not support SLES 10, and this should not be causing Elasticsearch to fail to start. While this message will appear in the logs, Elasticsearch should march on. Would you please double check this?\r\n\r\nHowever, I am going to close this, we are not going to rebuild for OS that we do not support, sorry.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/299494785","html_url":"https://github.com/elastic/elasticsearch/issues/24514#issuecomment-299494785","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24514","id":299494785,"node_id":"MDEyOklzc3VlQ29tbWVudDI5OTQ5NDc4NQ==","user":{"login":"dmarkhas","id":16191105,"node_id":"MDQ6VXNlcjE2MTkxMTA1","avatar_url":"https://avatars3.githubusercontent.com/u/16191105?v=4","gravatar_id":"","url":"https://api.github.com/users/dmarkhas","html_url":"https://github.com/dmarkhas","followers_url":"https://api.github.com/users/dmarkhas/followers","following_url":"https://api.github.com/users/dmarkhas/following{/other_user}","gists_url":"https://api.github.com/users/dmarkhas/gists{/gist_id}","starred_url":"https://api.github.com/users/dmarkhas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmarkhas/subscriptions","organizations_url":"https://api.github.com/users/dmarkhas/orgs","repos_url":"https://api.github.com/users/dmarkhas/repos","events_url":"https://api.github.com/users/dmarkhas/events{/privacy}","received_events_url":"https://api.github.com/users/dmarkhas/received_events","type":"User","site_admin":false},"created_at":"2017-05-05T15:23:30Z","updated_at":"2017-05-05T15:23:30Z","author_association":"NONE","body":"Thanks for the replies guys. I understand that you can't support an infinite range of legacy operating systems, my intention was to bring attention to the fact that the JNA change could potentially be a breaking change and (IMO) should be documented as such.\r\n\r\n@jasontedor you're right that ES attempts to proceed without JNA, but then runs into another exception when trying to load x-pack 5.4.0 (which I assume is related), and finally crashes:\r\n\r\n```\r\n[2017-05-05T07:31:15,608][WARN ][o.e.b.ElasticsearchUncaughtExceptionHandler] [arm-or-011] uncaught exception in thread [main]\r\norg.elasticsearch.bootstrap.StartupException: ElasticsearchException[Failed to create native process factories for Machine Learning]; nested: FileNotFoundException[/tmp/controller_log_3984\r\n (No such file or directory)];\r\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:127) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:114) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:67) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:122) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.cli.Command.main(Command.java:88) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:91) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:84) ~[elasticsearch-5.4.0.jar:5.4.0]\r\nCaused by: org.elasticsearch.ElasticsearchException: Failed to create native process factories for Machine Learning\r\n        at org.elasticsearch.xpack.ml.MachineLearning.createComponents(MachineLearning.java:297) ~[?:?]\r\n        at org.elasticsearch.xpack.XPackPlugin.createComponents(XPackPlugin.java:288) ~[?:?]\r\n        at org.elasticsearch.node.Node.lambda$new$7(Node.java:410) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:267) ~[?:1.8.0_92]\r\n        at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1374) ~[?:1.8.0_92]\r\n        at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481) ~[?:1.8.0_92]\r\n        at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471) ~[?:1.8.0_92]\r\n        at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708) ~[?:1.8.0_92]\r\n        at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:1.8.0_92]\r\n        at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499) ~[?:1.8.0_92]\r\n        at org.elasticsearch.node.Node.<init>(Node.java:412) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.node.Node.<init>(Node.java:242) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.bootstrap.Bootstrap$6.<init>(Bootstrap.java:242) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:242) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:360) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:123) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        ... 6 more\r\n```\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/299495582","html_url":"https://github.com/elastic/elasticsearch/issues/24514#issuecomment-299495582","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24514","id":299495582,"node_id":"MDEyOklzc3VlQ29tbWVudDI5OTQ5NTU4Mg==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2017-05-05T15:26:25Z","updated_at":"2017-05-05T15:26:25Z","author_association":"CONTRIBUTOR","body":"> @jasontedor you're right that ES attempts to proceed without JNA, but then runs into another exception when trying to load x-pack 5.4.0 (which I assume is related), and finally crashes:\r\n\r\nIt is only kind of related. I expect the failure is also caused by glibc. You can [disable](https://www.elastic.co/guide/en/x-pack/current/ml-settings.html#general-ml-settings) machine learning with `xpack.ml.enabled`.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/299496451","html_url":"https://github.com/elastic/elasticsearch/issues/24514#issuecomment-299496451","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24514","id":299496451,"node_id":"MDEyOklzc3VlQ29tbWVudDI5OTQ5NjQ1MQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-05-05T15:29:44Z","updated_at":"2017-05-05T15:29:44Z","author_association":"MEMBER","body":"@dmarkhas You can try `xpack.ml.enabled=false` to get past that one.\r\n\r\n> I understand that you can't support an infinite range of legacy operating systems, my intention was to bring attention to the fact that the JNA change could potentially be a breaking change and (IMO) should be documented as such.\r\n\r\nSorry, we document breaking changes for our supported OS, we can not envision every scenario that every user is running in and outline breaking changes for them.\r\n\r\n[xkcd 1172](https://xkcd.com/1172/) is relevant here:\r\n\r\n<img width=\"278\" alt=\"workflow_2x\" src=\"https://cloud.githubusercontent.com/assets/4744941/25752391/162fe796-3186-11e7-9355-8431109b060b.png\">","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/299503491","html_url":"https://github.com/elastic/elasticsearch/issues/24514#issuecomment-299503491","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24514","id":299503491,"node_id":"MDEyOklzc3VlQ29tbWVudDI5OTUwMzQ5MQ==","user":{"login":"dmarkhas","id":16191105,"node_id":"MDQ6VXNlcjE2MTkxMTA1","avatar_url":"https://avatars3.githubusercontent.com/u/16191105?v=4","gravatar_id":"","url":"https://api.github.com/users/dmarkhas","html_url":"https://github.com/dmarkhas","followers_url":"https://api.github.com/users/dmarkhas/followers","following_url":"https://api.github.com/users/dmarkhas/following{/other_user}","gists_url":"https://api.github.com/users/dmarkhas/gists{/gist_id}","starred_url":"https://api.github.com/users/dmarkhas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmarkhas/subscriptions","organizations_url":"https://api.github.com/users/dmarkhas/orgs","repos_url":"https://api.github.com/users/dmarkhas/repos","events_url":"https://api.github.com/users/dmarkhas/events{/privacy}","received_events_url":"https://api.github.com/users/dmarkhas/received_events","type":"User","site_admin":false},"created_at":"2017-05-05T15:56:02Z","updated_at":"2017-05-05T15:56:02Z","author_association":"NONE","body":"Got it :)\r\nFor the record, setting xpack.ml.enabled:false didn't help - I had to remove x-pack entirely.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/299507021","html_url":"https://github.com/elastic/elasticsearch/issues/24514#issuecomment-299507021","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24514","id":299507021,"node_id":"MDEyOklzc3VlQ29tbWVudDI5OTUwNzAyMQ==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2017-05-05T16:09:30Z","updated_at":"2017-05-05T16:09:30Z","author_association":"CONTRIBUTOR","body":"For reference Machine Learning currently requires glibc 2.9, although that's not guaranteed forever - we only guarantee that it will work with the version of glibc used by the oldest version of Linux supported by Elastic.  I believe this is currently SLES 11 SP4, which uses glibc 2.11.\r\n\r\nIf you wanted to use the X-Pack features other than Machine Learning the solution is probably to `rm -rf $ES_HOME/plugins/x-pack/platform/linux-x86_64` _as well_ as setting `xpack.ml.enabled: false` in `elasticsearch.yml` after installing X-Pack but before starting Elasticsearch.  Obviously this is still unsupported but it might get you back to where you were with 5.3.","performed_via_github_app":null}]