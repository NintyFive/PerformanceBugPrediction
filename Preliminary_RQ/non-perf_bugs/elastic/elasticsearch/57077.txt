{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/57077","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57077/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57077/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57077/events","html_url":"https://github.com/elastic/elasticsearch/issues/57077","id":623375037,"node_id":"MDU6SXNzdWU2MjMzNzUwMzc=","number":57077,"title":"Automate delete/recreate of indices","user":{"login":"kovacsvx","id":21371249,"node_id":"MDQ6VXNlcjIxMzcxMjQ5","avatar_url":"https://avatars1.githubusercontent.com/u/21371249?v=4","gravatar_id":"","url":"https://api.github.com/users/kovacsvx","html_url":"https://github.com/kovacsvx","followers_url":"https://api.github.com/users/kovacsvx/followers","following_url":"https://api.github.com/users/kovacsvx/following{/other_user}","gists_url":"https://api.github.com/users/kovacsvx/gists{/gist_id}","starred_url":"https://api.github.com/users/kovacsvx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kovacsvx/subscriptions","organizations_url":"https://api.github.com/users/kovacsvx/orgs","repos_url":"https://api.github.com/users/kovacsvx/repos","events_url":"https://api.github.com/users/kovacsvx/events{/privacy}","received_events_url":"https://api.github.com/users/kovacsvx/received_events","type":"User","site_admin":false},"labels":[{"id":163824881,"node_id":"MDU6TGFiZWwxNjM4MjQ4ODE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Indices%20APIs","name":":Core/Features/Indices APIs","color":"0e8a16","default":false,"description":"APIs to create and manage indices"},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":1967496097,"node_id":"MDU6TGFiZWwxOTY3NDk2MDk3","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Core/Features","name":"Team:Core/Features","color":"fef2c0","default":false,"description":"Meta label for core/features team"},{"id":2042400575,"node_id":"MDU6TGFiZWwyMDQyNDAwNTc1","url":"https://api.github.com/repos/elastic/elasticsearch/labels/needs:triage","name":"needs:triage","color":"c5def5","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2020-05-22T17:28:29Z","updated_at":"2020-05-22T20:49:29Z","closed_at":"2020-05-22T20:49:22Z","author_association":"NONE","active_lock_reason":null,"body":"One feature that is continually requested and explained\r\nis that deleting and recreating an index is a better way\r\nto delete all data in an index.\r\n\r\nThe user will not like this, because it forces one to:\r\n\r\n1.  Take careful note of the index as it stands (including\r\nfield formatting that may have been created automatically,\r\nand security).  It is quite likely that something will be missed.\r\n\r\n2.  And then come up with a query that will re-create\r\nthe index with correct permissions.\r\n\r\nThis may seem simple to experienced users, but makes\r\nthe learning curve steeper than a new user would\r\nwant to see.\r\n\r\nMight I suggest:\r\n\r\nDELETE /server:port:/<index_name>/_truncatre\r\n\r\nWhich internally:\r\n\r\n1. Takes note of an index's features such as typing, security, etc.\r\n2.  Deletes the index.\r\n3.  Creates a new index with the features noted above.\r\n4.  Requires appropriate permissions.\r\n","closed_by":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"performed_via_github_app":null}