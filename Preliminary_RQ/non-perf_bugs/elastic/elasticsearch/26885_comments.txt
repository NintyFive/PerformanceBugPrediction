[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/334273190","html_url":"https://github.com/elastic/elasticsearch/issues/26885#issuecomment-334273190","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26885","id":334273190,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDI3MzE5MA==","user":{"login":"fsosa","id":758029,"node_id":"MDQ6VXNlcjc1ODAyOQ==","avatar_url":"https://avatars2.githubusercontent.com/u/758029?v=4","gravatar_id":"","url":"https://api.github.com/users/fsosa","html_url":"https://github.com/fsosa","followers_url":"https://api.github.com/users/fsosa/followers","following_url":"https://api.github.com/users/fsosa/following{/other_user}","gists_url":"https://api.github.com/users/fsosa/gists{/gist_id}","starred_url":"https://api.github.com/users/fsosa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fsosa/subscriptions","organizations_url":"https://api.github.com/users/fsosa/orgs","repos_url":"https://api.github.com/users/fsosa/repos","events_url":"https://api.github.com/users/fsosa/events{/privacy}","received_events_url":"https://api.github.com/users/fsosa/received_events","type":"User","site_admin":false},"created_at":"2017-10-04T20:04:29Z","updated_at":"2017-10-04T20:04:29Z","author_association":"NONE","body":"Great timing! We were just discussing this exact problem as we were planning out our migration from a custom Lucene engine to Elasticsearch. We originally hoped to use the high-level rest client, but the dependency on elasticsearch core, and transitively on Lucene, prevented us from doing so. It seems that our only option is to use the low-level rest client. \r\n\r\nAlthough our migration situation may not exactly be the most common, it does speak to the need to make the high-level rest client as thin as possible with regards to dependencies. Adding my support (and pitching in myself as a resource) to help.  ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/334753971","html_url":"https://github.com/elastic/elasticsearch/issues/26885#issuecomment-334753971","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26885","id":334753971,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDc1Mzk3MQ==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2017-10-06T13:26:31Z","updated_at":"2017-10-06T13:26:31Z","author_association":"CONTRIBUTOR","body":"While it's a long term goal to get rid off most of the dependencies we would need to move all the shared stuff into a higher level JAR and depend on it in the REST client and core. I don't see this happening for a long time and the high level REST client wasn't aiming to solve this problem it in-fact didn't make the situation worse since TransportClient had the exact same issue. Unless we can extract the shared classes I am against excluding anything since it might just be huge time sink testing wise. I think it might make sense to move out certain dependencies into modules like #26850 does. I don't think we should leave this open for now. We can come back to this once we have the resources to do it.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/335465990","html_url":"https://github.com/elastic/elasticsearch/issues/26885#issuecomment-335465990","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26885","id":335465990,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTQ2NTk5MA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2017-10-10T13:06:18Z","updated_at":"2017-10-10T13:06:18Z","author_association":"CONTRIBUTOR","body":"All I wanted to do in this is:\r\n\r\n\r\n> remove all of the dependencies from the client jars that aren't really needed.\r\n\r\nBy that I mean remove from the dependencies list in the high level REST client the dependencies that it doesn't need to function. I just want that list to be better curated then it is now.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/335470086","html_url":"https://github.com/elastic/elasticsearch/issues/26885#issuecomment-335470086","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26885","id":335470086,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTQ3MDA4Ng==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-10-10T13:21:01Z","updated_at":"2017-10-10T13:21:01Z","author_association":"MEMBER","body":"@nik9000 an example of what is not needed and can be removed? ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/335474330","html_url":"https://github.com/elastic/elasticsearch/issues/26885#issuecomment-335474330","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26885","id":335474330,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTQ3NDMzMA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2017-10-10T13:35:46Z","updated_at":"2017-10-10T13:35:46Z","author_association":"CONTRIBUTOR","body":"I'm not sure to be honest. I know in the case of the transport client we bring in the low level rest client because we depend on Reindex's client jars. I don't think those are needed for the transport client. At least, they shouldn't be. I'm not sure how much time we want to spend on the transport client but it is an example how this sort of things happens. If we've already done all this for the high level rest client I'm happy to close leave it closed. Or if we just don't feel now is the right time to do this then we should leave it closed.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/335792340","html_url":"https://github.com/elastic/elasticsearch/issues/26885#issuecomment-335792340","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26885","id":335792340,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNTc5MjM0MA==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-10-11T12:24:53Z","updated_at":"2017-10-11T12:24:53Z","author_association":"MEMBER","body":"I think that we want to focus on the high level REST client only at this point and leave the transport client untouched unless we find bugs there. \r\n\r\nI am afraid that users will read this issue as it happened above as \"let's remove the Elasticsearch dependency from the high level REST client\" which is a totally different story that will take a long time to accomplish. Unfortunately the Elasticsearch dependency is not unused and that would require to have a common artifact that is shared between server and client, but because of how we treated the Java api until now, that's a long shot.\r\n\r\nI didn't think that we are releasing the high level REST client with unused dependencies. If there are any, we can and should certainly remove them, but I still can't think of any :)\r\n\r\n@fsosa if the high level REST client dependency on elasticsearch/lucene concerns you, you can probably have a look at shading it (although SPI may be a problem). This issue wasn't about addressing that problem though. ","performed_via_github_app":null}]