[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41384211","html_url":"https://github.com/elastic/elasticsearch/issues/5941#issuecomment-41384211","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5941","id":41384211,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMzg0MjEx","user":{"login":"GaelTadh","id":5190064,"node_id":"MDQ6VXNlcjUxOTAwNjQ=","avatar_url":"https://avatars1.githubusercontent.com/u/5190064?v=4","gravatar_id":"","url":"https://api.github.com/users/GaelTadh","html_url":"https://github.com/GaelTadh","followers_url":"https://api.github.com/users/GaelTadh/followers","following_url":"https://api.github.com/users/GaelTadh/following{/other_user}","gists_url":"https://api.github.com/users/GaelTadh/gists{/gist_id}","starred_url":"https://api.github.com/users/GaelTadh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GaelTadh/subscriptions","organizations_url":"https://api.github.com/users/GaelTadh/orgs","repos_url":"https://api.github.com/users/GaelTadh/repos","events_url":"https://api.github.com/users/GaelTadh/events{/privacy}","received_events_url":"https://api.github.com/users/GaelTadh/received_events","type":"User","site_admin":false},"created_at":"2014-04-25T11:50:08Z","updated_at":"2014-04-25T11:50:08Z","author_association":"CONTRIBUTOR","body":"What we are proposing is since a machine may have several es instances running in parallel. We will generate a secure xor of the mac address, prefixed by a 64bit timestamp and postfixed by an atomic counter. \n\ntimestamp64bit-macAddr-counter\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41392171","html_url":"https://github.com/elastic/elasticsearch/issues/5941#issuecomment-41392171","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5941","id":41392171,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMzkyMTcx","user":{"login":"mikemccand","id":796508,"node_id":"MDQ6VXNlcjc5NjUwOA==","avatar_url":"https://avatars0.githubusercontent.com/u/796508?v=4","gravatar_id":"","url":"https://api.github.com/users/mikemccand","html_url":"https://github.com/mikemccand","followers_url":"https://api.github.com/users/mikemccand/followers","following_url":"https://api.github.com/users/mikemccand/following{/other_user}","gists_url":"https://api.github.com/users/mikemccand/gists{/gist_id}","starred_url":"https://api.github.com/users/mikemccand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikemccand/subscriptions","organizations_url":"https://api.github.com/users/mikemccand/orgs","repos_url":"https://api.github.com/users/mikemccand/repos","events_url":"https://api.github.com/users/mikemccand/events{/privacy}","received_events_url":"https://api.github.com/users/mikemccand/received_events","type":"User","site_admin":false},"created_at":"2014-04-25T13:29:27Z","updated_at":"2014-04-25T13:29:27Z","author_association":"CONTRIBUTOR","body":"+1 for prefixing the ID with timestamp, or anything \"predictable\": this is better for Lucene's term dictionary since sometimes it will be able to short-circuit a lookup and know the ID cannot reside in a given segment.  It's also important that the IDs are fixed-length, so that all terms happen in the \"leaf blocks\" of the dictionary.  Finally, something like base36 is best, since we tell the terms dict writing to put 25 - 48 terms per block (so up to base 48 should be good too). \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41395482","html_url":"https://github.com/elastic/elasticsearch/issues/5941#issuecomment-41395482","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5941","id":41395482,"node_id":"MDEyOklzc3VlQ29tbWVudDQxMzk1NDgy","user":{"login":"GaelTadh","id":5190064,"node_id":"MDQ6VXNlcjUxOTAwNjQ=","avatar_url":"https://avatars1.githubusercontent.com/u/5190064?v=4","gravatar_id":"","url":"https://api.github.com/users/GaelTadh","html_url":"https://github.com/GaelTadh","followers_url":"https://api.github.com/users/GaelTadh/followers","following_url":"https://api.github.com/users/GaelTadh/following{/other_user}","gists_url":"https://api.github.com/users/GaelTadh/gists{/gist_id}","starred_url":"https://api.github.com/users/GaelTadh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GaelTadh/subscriptions","organizations_url":"https://api.github.com/users/GaelTadh/orgs","repos_url":"https://api.github.com/users/GaelTadh/repos","events_url":"https://api.github.com/users/GaelTadh/events{/privacy}","received_events_url":"https://api.github.com/users/GaelTadh/received_events","type":"User","site_admin":false},"created_at":"2014-04-25T14:01:51Z","updated_at":"2014-04-25T14:01:51Z","author_association":"CONTRIBUTOR","body":"@mikemccand why does the encoding matter ? Or do you mean between 36 and 48 bytes long ?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41401971","html_url":"https://github.com/elastic/elasticsearch/issues/5941#issuecomment-41401971","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5941","id":41401971,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNDAxOTcx","user":{"login":"mikemccand","id":796508,"node_id":"MDQ6VXNlcjc5NjUwOA==","avatar_url":"https://avatars0.githubusercontent.com/u/796508?v=4","gravatar_id":"","url":"https://api.github.com/users/mikemccand","html_url":"https://github.com/mikemccand","followers_url":"https://api.github.com/users/mikemccand/followers","following_url":"https://api.github.com/users/mikemccand/following{/other_user}","gists_url":"https://api.github.com/users/mikemccand/gists{/gist_id}","starred_url":"https://api.github.com/users/mikemccand/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikemccand/subscriptions","organizations_url":"https://api.github.com/users/mikemccand/orgs","repos_url":"https://api.github.com/users/mikemccand/repos","events_url":"https://api.github.com/users/mikemccand/events{/privacy}","received_events_url":"https://api.github.com/users/mikemccand/received_events","type":"User","site_admin":false},"created_at":"2014-04-25T14:58:22Z","updated_at":"2014-04-25T14:58:22Z","author_association":"CONTRIBUTOR","body":"@GaelTadh what I mean is each digit should have no more than 48 values (and lower would be better: less scanning within a block).  This is because the terms dictionary assigns terms into blocks of at most 48 terms at once.\n\nHowever ... thinking about this more, I think this matters less, since the IDs won't be sequential here.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41403836","html_url":"https://github.com/elastic/elasticsearch/issues/5941#issuecomment-41403836","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5941","id":41403836,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNDAzODM2","user":{"login":"GaelTadh","id":5190064,"node_id":"MDQ6VXNlcjUxOTAwNjQ=","avatar_url":"https://avatars1.githubusercontent.com/u/5190064?v=4","gravatar_id":"","url":"https://api.github.com/users/GaelTadh","html_url":"https://github.com/GaelTadh","followers_url":"https://api.github.com/users/GaelTadh/followers","following_url":"https://api.github.com/users/GaelTadh/following{/other_user}","gists_url":"https://api.github.com/users/GaelTadh/gists{/gist_id}","starred_url":"https://api.github.com/users/GaelTadh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GaelTadh/subscriptions","organizations_url":"https://api.github.com/users/GaelTadh/orgs","repos_url":"https://api.github.com/users/GaelTadh/repos","events_url":"https://api.github.com/users/GaelTadh/events{/privacy}","received_events_url":"https://api.github.com/users/GaelTadh/received_events","type":"User","site_admin":false},"created_at":"2014-04-25T15:14:14Z","updated_at":"2014-04-25T15:14:14Z","author_association":"CONTRIBUTOR","body":"Ahh ok that makes sense. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41558262","html_url":"https://github.com/elastic/elasticsearch/issues/5941#issuecomment-41558262","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5941","id":41558262,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNTU4MjYy","user":{"login":"GaelTadh","id":5190064,"node_id":"MDQ6VXNlcjUxOTAwNjQ=","avatar_url":"https://avatars1.githubusercontent.com/u/5190064?v=4","gravatar_id":"","url":"https://api.github.com/users/GaelTadh","html_url":"https://github.com/GaelTadh","followers_url":"https://api.github.com/users/GaelTadh/followers","following_url":"https://api.github.com/users/GaelTadh/following{/other_user}","gists_url":"https://api.github.com/users/GaelTadh/gists{/gist_id}","starred_url":"https://api.github.com/users/GaelTadh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GaelTadh/subscriptions","organizations_url":"https://api.github.com/users/GaelTadh/orgs","repos_url":"https://api.github.com/users/GaelTadh/repos","events_url":"https://api.github.com/users/GaelTadh/events{/privacy}","received_events_url":"https://api.github.com/users/GaelTadh/received_events","type":"User","site_admin":false},"created_at":"2014-04-28T13:33:52Z","updated_at":"2014-04-28T13:35:09Z","author_association":"CONTRIBUTOR","body":"I used jmh (http://openjdk.java.net/projects/code-tools/jmh/) to do some micro benchmarks on the following code : \n\n,,,,\n\n```\n@GenerateMicroBenchmark\npublic void secureRandomUUID(){\n    randomBase64UUID(SecureRandomHolder.INSTANCE);\n}\n\n@GenerateMicroBenchmark\npublic void insecureRandomUUID(){\n    randomBase64UUID(new Random());\n}\n\n\n@GenerateMicroBenchmark\npublic void timestampUUID(){\n    timestampBase64UUID();\n}\n```\n\n,,,\n\nWhich gave the following output : \n\n| Benchmark | Mode | Samples | Mean | Mean error | Units |\n| --- | --- | --- | --- | --- | --- |\n| o.s.UUIDBenchmark.insecureRandomUUID | thrpt | 200 | 5155.120 | 16.137 | ops/ms |\n| o.s.UUIDBenchmark.secureRandomUUID | thrpt | 200 | 469.264 | 3.287 | ops/ms |\n| o.s.UUIDBenchmark.timestampUUID | thrpt | 200 | 5703.520 | 13.350 | ops/ms |\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41561547","html_url":"https://github.com/elastic/elasticsearch/issues/5941#issuecomment-41561547","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5941","id":41561547,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNTYxNTQ3","user":{"login":"GaelTadh","id":5190064,"node_id":"MDQ6VXNlcjUxOTAwNjQ=","avatar_url":"https://avatars1.githubusercontent.com/u/5190064?v=4","gravatar_id":"","url":"https://api.github.com/users/GaelTadh","html_url":"https://github.com/GaelTadh","followers_url":"https://api.github.com/users/GaelTadh/followers","following_url":"https://api.github.com/users/GaelTadh/following{/other_user}","gists_url":"https://api.github.com/users/GaelTadh/gists{/gist_id}","starred_url":"https://api.github.com/users/GaelTadh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GaelTadh/subscriptions","organizations_url":"https://api.github.com/users/GaelTadh/orgs","repos_url":"https://api.github.com/users/GaelTadh/repos","events_url":"https://api.github.com/users/GaelTadh/events{/privacy}","received_events_url":"https://api.github.com/users/GaelTadh/received_events","type":"User","site_admin":false},"created_at":"2014-04-28T14:04:21Z","updated_at":"2014-04-28T14:04:21Z","author_association":"CONTRIBUTOR","body":"I'm gonna run these again and remove the new call from insecureRandom.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/41565635","html_url":"https://github.com/elastic/elasticsearch/issues/5941#issuecomment-41565635","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5941","id":41565635,"node_id":"MDEyOklzc3VlQ29tbWVudDQxNTY1NjM1","user":{"login":"GaelTadh","id":5190064,"node_id":"MDQ6VXNlcjUxOTAwNjQ=","avatar_url":"https://avatars1.githubusercontent.com/u/5190064?v=4","gravatar_id":"","url":"https://api.github.com/users/GaelTadh","html_url":"https://github.com/GaelTadh","followers_url":"https://api.github.com/users/GaelTadh/followers","following_url":"https://api.github.com/users/GaelTadh/following{/other_user}","gists_url":"https://api.github.com/users/GaelTadh/gists{/gist_id}","starred_url":"https://api.github.com/users/GaelTadh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GaelTadh/subscriptions","organizations_url":"https://api.github.com/users/GaelTadh/orgs","repos_url":"https://api.github.com/users/GaelTadh/repos","events_url":"https://api.github.com/users/GaelTadh/events{/privacy}","received_events_url":"https://api.github.com/users/GaelTadh/received_events","type":"User","site_admin":false},"created_at":"2014-04-28T14:37:05Z","updated_at":"2014-04-28T14:37:05Z","author_association":"CONTRIBUTOR","body":"| Benchmark | Mode | Samples | Mean | Mean error | Units |\n| --- | --- | --- | --- | --- | --- |\n| o.s.UUIDBenchmark.insecureRandomUUID | thrpt | 200 | 7348.913 | 16.807 | ops/ms |\n| o.s.UUIDBenchmark.secureRandomUUID | thrpt | 200 | 475.986 | 1.489 | ops/ms |\n| o.s.UUIDBenchmark.timestampUUID | thrpt | 200 | 5698.841 | 23.908 | ops/ms |\n","performed_via_github_app":null}]