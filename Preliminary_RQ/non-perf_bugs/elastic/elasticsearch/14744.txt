{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/14744","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14744/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14744/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14744/events","html_url":"https://github.com/elastic/elasticsearch/issues/14744","id":116802580,"node_id":"MDU6SXNzdWUxMTY4MDI1ODA=","number":14744,"title":"Wrong netty version","user":{"login":"frank-montyne","id":9611311,"node_id":"MDQ6VXNlcjk2MTEzMTE=","avatar_url":"https://avatars0.githubusercontent.com/u/9611311?v=4","gravatar_id":"","url":"https://api.github.com/users/frank-montyne","html_url":"https://github.com/frank-montyne","followers_url":"https://api.github.com/users/frank-montyne/followers","following_url":"https://api.github.com/users/frank-montyne/following{/other_user}","gists_url":"https://api.github.com/users/frank-montyne/gists{/gist_id}","starred_url":"https://api.github.com/users/frank-montyne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/frank-montyne/subscriptions","organizations_url":"https://api.github.com/users/frank-montyne/orgs","repos_url":"https://api.github.com/users/frank-montyne/repos","events_url":"https://api.github.com/users/frank-montyne/events{/privacy}","received_events_url":"https://api.github.com/users/frank-montyne/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2015-11-13T16:31:34Z","updated_at":"2015-11-18T20:19:46Z","closed_at":"2015-11-18T13:31:23Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\n\nI get the following error when using the elasticsearch 2.0 java client libraries:\n\n**java.lang.NoClassDefFoundError: org/jboss/netty/util/internal/StackTraceSimplifier**\n\nElasticsearch 2.0 ships with the \"netty-3.10.5.Final.jar\" that should contain that class but it doesn't. Only much older versions of the netty jar like the \"netty-3.2.5.Final.jar\" contain that class.\n\nIs this a problem in the distribution? I didn't test this with earlier versions but I thinks they have a similar problem.\n\nBelow is the stacktrace: I'm running my persistence service (that connects to elasticsearch) as a linux service using JAJSW (yet another java service wrapper)\n\nINFO|3861/0|15-11-13 12:55:55|java.lang.reflect.InvocationTargetException\nINFO|3861/0|15-11-13 12:55:55|  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nINFO|3861/0|15-11-13 12:55:55|  at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nINFO|3861/0|15-11-13 12:55:55|  at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nINFO|3861/0|15-11-13 12:55:55|  at java.lang.reflect.Method.invoke(Method.java:497)\nINFO|3861/0|15-11-13 12:55:55|  at org.rzo.yajsw.app.WrapperJVMMain.executeMain(WrapperJVMMain.java:53)\nINFO|3861/0|15-11-13 12:55:55|  at org.rzo.yajsw.app.WrapperJVMMain.main(WrapperJVMMain.java:36)\n**INFO|3861/0|15-11-13 12:55:55|Caused by: java.lang.NoClassDefFoundError: org/jboss/netty/util/internal/StackTraceSimplifier**\nINFO|3861/0|15-11-13 12:55:55|  at org.jboss.netty.logging.InternalLoggerFactory.<clinit>(InternalLoggerFactory.java:49)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.common.netty.NettyUtils.<clinit>(NettyUtils.java:90)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.transport.netty.NettyTransport.<clinit>(NettyTransport.java:106)\nINFO|3861/0|15-11-13 12:55:55|  at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\nINFO|3861/0|15-11-13 12:55:55|  at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\nINFO|3861/0|15-11-13 12:55:55|  at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\nINFO|3861/0|15-11-13 12:55:55|  at java.lang.reflect.Constructor.newInstance(Constructor.java:422)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.common.inject.DefaultConstructionProxyFactory$1.newInstance(DefaultConstructionProxyFactory.java:56)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.common.inject.ConstructorInjector.construct(ConstructorInjector.java:86)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.common.inject.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:104)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.common.inject.FactoryProxy.get(FactoryProxy.java:54)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.common.inject.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:47)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.common.inject.InjectorImpl.callInContext(InjectorImpl.java:865)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.common.inject.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:43)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.common.inject.Scopes$1$1.get(Scopes.java:59)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.common.inject.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:46)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.common.inject.SingleParameterInjector.inject(SingleParameterInjector.java:42)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.common.inject.SingleParameterInjector.getAll(SingleParameterInjector.java:66)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.common.inject.ConstructorInjector.construct(ConstructorInjector.java:85)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.common.inject.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:104)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.common.inject.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:47)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.common.inject.InjectorImpl.callInContext(InjectorImpl.java:865)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.common.inject.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:43)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.common.inject.Scopes$1$1.get(Scopes.java:59)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.common.inject.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:46)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.common.inject.InjectorBuilder$1.call(InjectorBuilder.java:201)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.common.inject.InjectorBuilder$1.call(InjectorBuilder.java:193)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.common.inject.InjectorImpl.callInContext(InjectorImpl.java:858)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.common.inject.InjectorBuilder.loadEagerSingletons(InjectorBuilder.java:193)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.common.inject.InjectorBuilder.injectDynamically(InjectorBuilder.java:175)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.common.inject.InjectorBuilder.build(InjectorBuilder.java:110)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.common.inject.Guice.createInjector(Guice.java:93)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.common.inject.Guice.createInjector(Guice.java:70)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.common.inject.ModulesBuilder.createInjector(ModulesBuilder.java:47)\nINFO|3861/0|15-11-13 12:55:55|  at org.elasticsearch.client.transport.TransportClient$Builder.build(TransportClient.java:147)\nINFO|3861/0|15-11-13 12:55:55|  at com.bynubian.elasticsearch.base.ElasticSearchDB.connect(ElasticSearchDB.java:219)\nINFO|3861/0|15-11-13 12:55:55|  at com.bynubian.elasticsearch.base.ElasticSearchDB.connect(ElasticSearchDB.java:147)\nINFO|3861/0|15-11-13 12:55:55|  at com.bynubian.services.persistence.server.PersistenceServer.initialize(PersistenceServer.java:92)\nINFO|3861/0|15-11-13 12:55:55|  at be.landc.framework.service.server.shared.Server.initialize(Server.java:98)\nINFO|3861/0|15-11-13 12:55:55|  at be.landc.framework.service.ipl.Boot.initialize(Boot.java:211)\nINFO|3861/0|15-11-13 12:55:55|  at be.landc.framework.service.ipl.Boot.<init>(Boot.java:82)\nINFO|3861/0|15-11-13 12:55:55|  at be.landc.framework.service.ipl.Boot.main(Boot.java:320)\nINFO|3861/0|15-11-13 12:55:55|  ... 6 more\nINFO|3861/0|15-11-13 12:55:55|Caused by: java.lang.ClassNotFoundException: org.jboss.netty.util.internal.StackTraceSimplifier\nINFO|3861/0|15-11-13 12:55:55|  at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\nINFO|3861/0|15-11-13 12:55:55|  at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\nINFO|3861/0|15-11-13 12:55:55|  at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\nINFO|3861/0|15-11-13 12:55:55|  at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\nINFO|3861/0|15-11-13 12:55:55|  ... 48 more\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}