[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/258612015","html_url":"https://github.com/elastic/elasticsearch/issues/21354#issuecomment-258612015","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21354","id":258612015,"node_id":"MDEyOklzc3VlQ29tbWVudDI1ODYxMjAxNQ==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2016-11-05T13:36:51Z","updated_at":"2016-11-05T13:36:51Z","author_association":"MEMBER","body":"Sorry I've confirmed this as a bug but it's working as expected.\nThe comment in the code is more explicit:\n\n```\nSet to true if phrase queries will be automatically generated when the analyzer returns more than one term from whitespace delimited text.\n```\n\nI can add this line to the documentation to clarify the behavior\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/258612528","html_url":"https://github.com/elastic/elasticsearch/issues/21354#issuecomment-258612528","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21354","id":258612528,"node_id":"MDEyOklzc3VlQ29tbWVudDI1ODYxMjUyOA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-11-05T13:45:37Z","updated_at":"2016-11-05T13:45:37Z","author_association":"CONTRIBUTOR","body":"thanks @jimczi - here's an example that shows that it does work:\n\n```\nPUT t\n{\n  \"settings\": {\n    \"number_of_shards\": 1,\n    \"analysis\": {\n      \"analyzer\": {\n        \"foo\": {\n          \"tokenizer\": \"standard\",\n          \"filter\": [\n            \"syn\"\n          ]\n        }\n      },\n      \"filter\": {\n        \"syn\": {\n          \"type\": \"synonym\",\n          \"synonyms\": [\n            \"foo => one\\\\ two\"\n          ]\n        }\n      }\n    }\n  },\n  \"mappings\": {\n    \"t\": {\n      \"properties\": {\n        \"text\": {\n          \"type\": \"text\",\n          \"analyzer\": \"foo\"\n        }\n      }\n    }\n  }\n}\n\nPUT t/t/1\n{\n  \"text\": \"foo bar baz\"\n}\n\nPUT t/t/2\n{\n  \"text\": \"foo baz bar\"\n}\n\n\nGET _validate/query?explain&rewrite\n{\n  \"query\": {\n    \"query_string\": {\n      \"default_field\": \"text\",\n      \"query\": \"foo baz bar\",\n      \"auto_generate_phrase_queries\": true\n    }\n  }\n}\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/375121164","html_url":"https://github.com/elastic/elasticsearch/issues/21354#issuecomment-375121164","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21354","id":375121164,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTEyMTE2NA==","user":{"login":"andyb-elastic","id":29205940,"node_id":"MDQ6VXNlcjI5MjA1OTQw","avatar_url":"https://avatars2.githubusercontent.com/u/29205940?v=4","gravatar_id":"","url":"https://api.github.com/users/andyb-elastic","html_url":"https://github.com/andyb-elastic","followers_url":"https://api.github.com/users/andyb-elastic/followers","following_url":"https://api.github.com/users/andyb-elastic/following{/other_user}","gists_url":"https://api.github.com/users/andyb-elastic/gists{/gist_id}","starred_url":"https://api.github.com/users/andyb-elastic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andyb-elastic/subscriptions","organizations_url":"https://api.github.com/users/andyb-elastic/orgs","repos_url":"https://api.github.com/users/andyb-elastic/repos","events_url":"https://api.github.com/users/andyb-elastic/events{/privacy}","received_events_url":"https://api.github.com/users/andyb-elastic/received_events","type":"User","site_admin":false},"created_at":"2018-03-21T22:48:38Z","updated_at":"2018-03-21T22:48:38Z","author_association":"CONTRIBUTOR","body":"`auto_generate_phrase_queries` was deprecated in https://github.com/elastic/elasticsearch/commit/13da3eb53e2913daf1fa410c5342950ebea0a1fd so I'm going to close this issue","performed_via_github_app":null}]