[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/553570452","html_url":"https://github.com/elastic/elasticsearch/issues/49057#issuecomment-553570452","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49057","id":553570452,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzU3MDQ1Mg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-11-13T19:45:24Z","updated_at":"2019-11-13T19:45:24Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed (:Distributed/Distributed)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/553802857","html_url":"https://github.com/elastic/elasticsearch/issues/49057#issuecomment-553802857","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49057","id":553802857,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzgwMjg1Nw==","user":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"created_at":"2019-11-14T09:30:00Z","updated_at":"2019-11-14T09:30:00Z","author_association":"CONTRIBUTOR","body":"This looks to be an infrastructure issue with nodes not being able to establish connections between themselves and not detecting dropped connections. There have been no changes to the distributed layer in 6.8, and I suspect this is the same stuff as https://github.com/elastic/elasticsearch/issues/43387\r\n\r\n\r\n```\r\n[2019-11-12T00:27:34,278][WARN ][o.e.c.NodeConnectionsService] [node_t2] failed to connect to node {node_t1}{j-BMvpT8TYWsuL-ElRjpSA}{bmWwmfmDSpmeQM2LSV_cYA}{127.0.0.1}{127.0.0.1:49001} (tried [1] times)\r\norg.elasticsearch.transport.ConnectTransportException: [node_t1][127.0.0.1:49001] connect_timeout[30s]\r\n\tat org.elasticsearch.transport.TcpTransport$ChannelsConnectedListener.onTimeout(TcpTransport.java:1316) ~[main/:?]\r\n\tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingRunnable.run(ThreadContext.java:681) ~[main/:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_221]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_221]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_221]\r\n[2019-11-12T00:27:34,280][WARN ][o.e.c.s.ClusterApplierService] [node_t2] cluster state applier task [apply cluster state (from master [master {node_t2}{pFAtyjVNRm67_HmFVCX0Hg}{nHgCTUdkQ8i0pQj3GLrZjA}{127.0.0.1}{127.0.0.1:41481} committed version [12] source [zen-disco-elected-as-master ([0] nodes joined)]])] took [30s] above the warn threshold of 30s\r\n[2019-11-12T00:27:34,280][WARN ][o.e.c.s.MasterService    ] [node_t2] cluster state update task [zen-disco-elected-as-master ([0] nodes joined)] took [30s] above the warn threshold of 30s\r\n[2019-11-12T00:27:34,282][INFO ][o.e.c.s.MasterService    ] [node_t2] zen-disco-node-failed({node_t1}{j-BMvpT8TYWsuL-ElRjpSA}{bmWwmfmDSpmeQM2LSV_cYA}{127.0.0.1}{127.0.0.1:49001}), reason(transport disconnected)[{node_t1}{j-BMvpT8TYWsuL-ElRjpSA}{bmWwmfmDSpmeQM2LSV_cYA}{127.0.0.1}{127.0.0.1:49001} transport disconnected], reason: removed {{node_t1}{j-BMvpT8TYWsuL-ElRjpSA}{bmWwmfmDSpmeQM2LSV_cYA}{127.0.0.1}{127.0.0.1:49001},}\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/553803016","html_url":"https://github.com/elastic/elasticsearch/issues/49057#issuecomment-553803016","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49057","id":553803016,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzgwMzAxNg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-11-14T09:30:22Z","updated_at":"2019-11-14T09:30:22Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra (:Core/Infra/Build)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/555708695","html_url":"https://github.com/elastic/elasticsearch/issues/49057#issuecomment-555708695","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49057","id":555708695,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NTcwODY5NQ==","user":{"login":"jaymode","id":4339958,"node_id":"MDQ6VXNlcjQzMzk5NTg=","avatar_url":"https://avatars1.githubusercontent.com/u/4339958?v=4","gravatar_id":"","url":"https://api.github.com/users/jaymode","html_url":"https://github.com/jaymode","followers_url":"https://api.github.com/users/jaymode/followers","following_url":"https://api.github.com/users/jaymode/following{/other_user}","gists_url":"https://api.github.com/users/jaymode/gists{/gist_id}","starred_url":"https://api.github.com/users/jaymode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaymode/subscriptions","organizations_url":"https://api.github.com/users/jaymode/orgs","repos_url":"https://api.github.com/users/jaymode/repos","events_url":"https://api.github.com/users/jaymode/events{/privacy}","received_events_url":"https://api.github.com/users/jaymode/received_events","type":"User","site_admin":false},"created_at":"2019-11-19T20:53:49Z","updated_at":"2019-11-19T20:53:49Z","author_association":"MEMBER","body":"Looks like the infrastructure issues are resolved and these jobs have been passing. Closing for now.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/571637739","html_url":"https://github.com/elastic/elasticsearch/issues/49057#issuecomment-571637739","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49057","id":571637739,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MTYzNzczOQ==","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"created_at":"2020-01-07T15:33:51Z","updated_at":"2020-01-07T15:33:51Z","author_association":"CONTRIBUTOR","body":"it looks like this re-occurred again. One example https://gradle-enterprise.elastic.co/s/atangcvtavd4k\r\nbut almost all runs of this job failed this year https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.8+multijob-unix-compatibility/os=debian-8&&immutable/\r\nthe message in logs is the same as in first comment. \r\n`java.lang.IllegalStateException: cluster failed to form with expected nodes`\r\n\r\nwas there an infra issue last time ? so that we can notify the infra team about the problem reoccurring.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/572163052","html_url":"https://github.com/elastic/elasticsearch/issues/49057#issuecomment-572163052","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49057","id":572163052,"node_id":"MDEyOklzc3VlQ29tbWVudDU3MjE2MzA1Mg==","user":{"login":"jaymode","id":4339958,"node_id":"MDQ6VXNlcjQzMzk5NTg=","avatar_url":"https://avatars1.githubusercontent.com/u/4339958?v=4","gravatar_id":"","url":"https://api.github.com/users/jaymode","html_url":"https://github.com/jaymode","followers_url":"https://api.github.com/users/jaymode/followers","following_url":"https://api.github.com/users/jaymode/following{/other_user}","gists_url":"https://api.github.com/users/jaymode/gists{/gist_id}","starred_url":"https://api.github.com/users/jaymode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaymode/subscriptions","organizations_url":"https://api.github.com/users/jaymode/orgs","repos_url":"https://api.github.com/users/jaymode/repos","events_url":"https://api.github.com/users/jaymode/events{/privacy}","received_events_url":"https://api.github.com/users/jaymode/received_events","type":"User","site_admin":false},"created_at":"2020-01-08T17:03:07Z","updated_at":"2020-01-08T17:03:07Z","author_association":"MEMBER","body":"This is manifesting the same way again with connection timeouts and it looks like #43387 has also started appearing again. @original-brownbear has an open issue regarding looking into the possibility of testing this on different infrastructure due to the networking issues we see on Debian 8/9 and GCP. These failures look different than #43387, however I suspect this is due to the use of a different transport; 6.8 failures appear to be using the MockTcpTransport, which is blocking so we will not see the logging messages that are seen with the MockNioTransport in 7.x+.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/577199094","html_url":"https://github.com/elastic/elasticsearch/issues/49057#issuecomment-577199094","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49057","id":577199094,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NzE5OTA5NA==","user":{"login":"original-brownbear","id":6490959,"node_id":"MDQ6VXNlcjY0OTA5NTk=","avatar_url":"https://avatars0.githubusercontent.com/u/6490959?v=4","gravatar_id":"","url":"https://api.github.com/users/original-brownbear","html_url":"https://github.com/original-brownbear","followers_url":"https://api.github.com/users/original-brownbear/followers","following_url":"https://api.github.com/users/original-brownbear/following{/other_user}","gists_url":"https://api.github.com/users/original-brownbear/gists{/gist_id}","starred_url":"https://api.github.com/users/original-brownbear/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/original-brownbear/subscriptions","organizations_url":"https://api.github.com/users/original-brownbear/orgs","repos_url":"https://api.github.com/users/original-brownbear/repos","events_url":"https://api.github.com/users/original-brownbear/events{/privacy}","received_events_url":"https://api.github.com/users/original-brownbear/received_events","type":"User","site_admin":false},"created_at":"2020-01-22T14:11:37Z","updated_at":"2020-01-22T14:11:37Z","author_association":"MEMBER","body":"Closing this as a duplicate of https://github.com/elastic/elasticsearch/issues/43387, both have the same cause.","performed_via_github_app":null}]