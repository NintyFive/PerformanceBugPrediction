[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/283680129","html_url":"https://github.com/elastic/elasticsearch/issues/23443#issuecomment-283680129","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23443","id":283680129,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzY4MDEyOQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-03-02T15:12:39Z","updated_at":"2017-03-02T15:12:39Z","author_association":"MEMBER","body":"> Any OS that has bash not in `/bin` like FreeBSD for example.\r\n\r\nTo be clear about expectations here: we do not support FreeBSD. While that does not automatically exclude #23444 from being considered, it does mean that even if we integrate it we offer no guarantees that future changes will not break this, nor break usage on FreeBSD in general.\r\n\r\n> A solution would be to replace the shebang `#!/bin/bash` with `#!/usr/bin/env bash`. This affects several scripts.\r\n\r\nIt's a solution, but I am not sure if it's the solution that we should make. In some circles, using `#!/usr/bin/env bash` is a security concern as it picks up the first `bash` in the path instead of the system installed `bash`.\r\n\r\nAdditionally, it only pushes the portability concern back a level to assuming that `env` is in `/usr/bin`. For example, on older Red Hat systems, `env` is not in `/usr/bin/` but instead in `/bin` (they do however to provide a symlink from `/usr/bin/env` to `/bin/env`).\r\n\r\nAnd that would be my inclination here: I would suggest that you establish a symlink from `/bin/bash` to your `bash` installation in `/usr/local/bin/bash`.\r\n\r\nThis also gives us some flexibility in the future if we ever need to change the shebang to `#!/bin/bash -` to avoid interpreter spoofing (I do not see this need arising, it's only another consideration as we think through this issue); with `#!/usr/bin/env bash` this is not an option since on Linux-based systems only a single argument can be presented to the shebang interpreter.\r\n\r\nLastly, just one point for future reference: there is no need to open an issue and a pull request. As long as the pull request clearly describes the issue, it will get the attention that it deserves.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/283719833","html_url":"https://github.com/elastic/elasticsearch/issues/23443#issuecomment-283719833","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23443","id":283719833,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzcxOTgzMw==","user":{"login":"jan0sch","id":373810,"node_id":"MDQ6VXNlcjM3MzgxMA==","avatar_url":"https://avatars0.githubusercontent.com/u/373810?v=4","gravatar_id":"","url":"https://api.github.com/users/jan0sch","html_url":"https://github.com/jan0sch","followers_url":"https://api.github.com/users/jan0sch/followers","following_url":"https://api.github.com/users/jan0sch/following{/other_user}","gists_url":"https://api.github.com/users/jan0sch/gists{/gist_id}","starred_url":"https://api.github.com/users/jan0sch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jan0sch/subscriptions","organizations_url":"https://api.github.com/users/jan0sch/orgs","repos_url":"https://api.github.com/users/jan0sch/repos","events_url":"https://api.github.com/users/jan0sch/events{/privacy}","received_events_url":"https://api.github.com/users/jan0sch/received_events","type":"User","site_admin":false},"created_at":"2017-03-02T17:24:28Z","updated_at":"2017-03-02T17:24:28Z","author_association":"NONE","body":"Thanks for the detailed answer. I actually never ran into a system where `env` was not in `/usr/bin` ;-)\r\n\r\nBecause of the limitations of `env` under linux I guess that path and argument issues cannot be circumvented which is sad. However it would be great to mention the fact that `bash` is assumed to be available under `/bin` in the readme or docs. Maybe together with the reasons stated here why it cannot be changed.\r\n\r\nThis would leave the option of symlinking or patching the start scripts manually after installation to the affected users.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/283734946","html_url":"https://github.com/elastic/elasticsearch/issues/23443#issuecomment-283734946","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23443","id":283734946,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzczNDk0Ng==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-03-02T18:19:10Z","updated_at":"2017-03-02T18:19:10Z","author_association":"MEMBER","body":"> However it would be great to mention the fact that `bash` is assumed to be available under `/bin` in the readme or docs.\r\n\r\nThis is a good suggestion. I opened #23464.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/283737917","html_url":"https://github.com/elastic/elasticsearch/issues/23443#issuecomment-283737917","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23443","id":283737917,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzczNzkxNw==","user":{"login":"jan0sch","id":373810,"node_id":"MDQ6VXNlcjM3MzgxMA==","avatar_url":"https://avatars0.githubusercontent.com/u/373810?v=4","gravatar_id":"","url":"https://api.github.com/users/jan0sch","html_url":"https://github.com/jan0sch","followers_url":"https://api.github.com/users/jan0sch/followers","following_url":"https://api.github.com/users/jan0sch/following{/other_user}","gists_url":"https://api.github.com/users/jan0sch/gists{/gist_id}","starred_url":"https://api.github.com/users/jan0sch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jan0sch/subscriptions","organizations_url":"https://api.github.com/users/jan0sch/orgs","repos_url":"https://api.github.com/users/jan0sch/repos","events_url":"https://api.github.com/users/jan0sch/events{/privacy}","received_events_url":"https://api.github.com/users/jan0sch/received_events","type":"User","site_admin":false},"created_at":"2017-03-02T18:30:14Z","updated_at":"2017-03-02T18:30:14Z","author_association":"NONE","body":"Looks good. Shall I close this issue and my pull request?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/283739203","html_url":"https://github.com/elastic/elasticsearch/issues/23443#issuecomment-283739203","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23443","id":283739203,"node_id":"MDEyOklzc3VlQ29tbWVudDI4MzczOTIwMw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-03-02T18:35:00Z","updated_at":"2017-03-02T18:35:00Z","author_association":"MEMBER","body":"> Looks good. Shall I close this issue and my pull request?\r\n\r\nYes, I think so. Thank you for your understanding. :smile:","performed_via_github_app":null}]