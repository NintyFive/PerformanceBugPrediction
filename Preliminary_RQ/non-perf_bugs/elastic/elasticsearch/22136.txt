{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/22136","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22136/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22136/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22136/events","html_url":"https://github.com/elastic/elasticsearch/issues/22136","id":195223684,"node_id":"MDU6SXNzdWUxOTUyMjM2ODQ=","number":22136,"title":"Using size parameter - Terms Aggregations on 5.x","user":{"login":"felixsanz","id":6182099,"node_id":"MDQ6VXNlcjYxODIwOTk=","avatar_url":"https://avatars2.githubusercontent.com/u/6182099?v=4","gravatar_id":"","url":"https://api.github.com/users/felixsanz","html_url":"https://github.com/felixsanz","followers_url":"https://api.github.com/users/felixsanz/followers","following_url":"https://api.github.com/users/felixsanz/following{/other_user}","gists_url":"https://api.github.com/users/felixsanz/gists{/gist_id}","starred_url":"https://api.github.com/users/felixsanz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felixsanz/subscriptions","organizations_url":"https://api.github.com/users/felixsanz/orgs","repos_url":"https://api.github.com/users/felixsanz/repos","events_url":"https://api.github.com/users/felixsanz/events{/privacy}","received_events_url":"https://api.github.com/users/felixsanz/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-12-13T11:06:35Z","updated_at":"2018-01-23T10:05:32Z","closed_at":"2016-12-13T11:18:22Z","author_association":"NONE","active_lock_reason":null,"body":"On 2.x versions i used to apply `size: 0` to achieve what the docs say:\r\n\r\n> If set to 0, the size will be set to Integer.MAX_VALUE.\r\n\r\nAnd the terms aggregation gave me as many result buckets as terms i had.\r\n\r\nBut on 5.x i'm getting `size must be positive, got 0` as error. If i omit the value, i only get 10 results back. The docs says:\r\n\r\n> By default, the node coordinating the search process will request each shard to provide its own top size term buckets and once all shards respond, it will reduce the results to the final list that will then be returned to the client.\r\n\r\nSo it's not clear how to achieve the same and get not only 10 buckets but all instead.\r\n\r\nHow i do that? Thanks","closed_by":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"performed_via_github_app":null}