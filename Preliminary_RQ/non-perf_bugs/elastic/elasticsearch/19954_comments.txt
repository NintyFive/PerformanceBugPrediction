[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/239230356","html_url":"https://github.com/elastic/elasticsearch/issues/19954#issuecomment-239230356","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19954","id":239230356,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTIzMDM1Ng==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2016-08-11T17:24:49Z","updated_at":"2016-08-11T17:24:49Z","author_association":"MEMBER","body":"@chaitu0292 which version of elasticsearch is it? How many nodes do you have in this cluster? \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/239235893","html_url":"https://github.com/elastic/elasticsearch/issues/19954#issuecomment-239235893","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19954","id":239235893,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTIzNTg5Mw==","user":{"login":"chaitu0292","id":18278698,"node_id":"MDQ6VXNlcjE4Mjc4Njk4","avatar_url":"https://avatars0.githubusercontent.com/u/18278698?v=4","gravatar_id":"","url":"https://api.github.com/users/chaitu0292","html_url":"https://github.com/chaitu0292","followers_url":"https://api.github.com/users/chaitu0292/followers","following_url":"https://api.github.com/users/chaitu0292/following{/other_user}","gists_url":"https://api.github.com/users/chaitu0292/gists{/gist_id}","starred_url":"https://api.github.com/users/chaitu0292/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaitu0292/subscriptions","organizations_url":"https://api.github.com/users/chaitu0292/orgs","repos_url":"https://api.github.com/users/chaitu0292/repos","events_url":"https://api.github.com/users/chaitu0292/events{/privacy}","received_events_url":"https://api.github.com/users/chaitu0292/received_events","type":"User","site_admin":false},"created_at":"2016-08-11T17:44:32Z","updated_at":"2016-08-11T17:44:32Z","author_association":"NONE","body":"version 2.3.3 and 3 nodes \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/239237915","html_url":"https://github.com/elastic/elasticsearch/issues/19954#issuecomment-239237915","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19954","id":239237915,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTIzNzkxNQ==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2016-08-11T17:51:40Z","updated_at":"2016-08-11T17:51:40Z","author_association":"MEMBER","body":"How did you setup the repository? Is `/root/backup/` a shared directory that is accessible on all nodes?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/239242457","html_url":"https://github.com/elastic/elasticsearch/issues/19954#issuecomment-239242457","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19954","id":239242457,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTI0MjQ1Nw==","user":{"login":"chaitu0292","id":18278698,"node_id":"MDQ6VXNlcjE4Mjc4Njk4","avatar_url":"https://avatars0.githubusercontent.com/u/18278698?v=4","gravatar_id":"","url":"https://api.github.com/users/chaitu0292","html_url":"https://github.com/chaitu0292","followers_url":"https://api.github.com/users/chaitu0292/followers","following_url":"https://api.github.com/users/chaitu0292/following{/other_user}","gists_url":"https://api.github.com/users/chaitu0292/gists{/gist_id}","starred_url":"https://api.github.com/users/chaitu0292/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaitu0292/subscriptions","organizations_url":"https://api.github.com/users/chaitu0292/orgs","repos_url":"https://api.github.com/users/chaitu0292/repos","events_url":"https://api.github.com/users/chaitu0292/events{/privacy}","received_events_url":"https://api.github.com/users/chaitu0292/received_events","type":"User","site_admin":false},"created_at":"2016-08-11T18:07:31Z","updated_at":"2016-08-11T18:07:31Z","author_association":"NONE","body":"path.repo: [\"/root/backup\"] in yml\n\nfor creating repository\nPUT _snapshot/Reponame \n{\n    \"type\": \"fs\", \n    \"settings\": {\n        \"location\": \"/root/backup\" \n    }\n}\n\nfor restore\nPOST /_snapshot/Reponame/indexname/_restore?wait_for_completion=true\n\ncopied contents of backup folder from my old cluster setup to new cluster backup folder created by elasticserach\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/239248590","html_url":"https://github.com/elastic/elasticsearch/issues/19954#issuecomment-239248590","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19954","id":239248590,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTI0ODU5MA==","user":{"login":"chaitu0292","id":18278698,"node_id":"MDQ6VXNlcjE4Mjc4Njk4","avatar_url":"https://avatars0.githubusercontent.com/u/18278698?v=4","gravatar_id":"","url":"https://api.github.com/users/chaitu0292","html_url":"https://github.com/chaitu0292","followers_url":"https://api.github.com/users/chaitu0292/followers","following_url":"https://api.github.com/users/chaitu0292/following{/other_user}","gists_url":"https://api.github.com/users/chaitu0292/gists{/gist_id}","starred_url":"https://api.github.com/users/chaitu0292/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaitu0292/subscriptions","organizations_url":"https://api.github.com/users/chaitu0292/orgs","repos_url":"https://api.github.com/users/chaitu0292/repos","events_url":"https://api.github.com/users/chaitu0292/events{/privacy}","received_events_url":"https://api.github.com/users/chaitu0292/received_events","type":"User","site_admin":false},"created_at":"2016-08-11T18:28:27Z","updated_at":"2016-08-11T18:32:55Z","author_association":"NONE","body":"@imotov  yes /root/backup is directory on master node itself. we are storing the snapshot on same node. And it worked fine when we tried to restore the snapshot in our old cluster setup.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/239256178","html_url":"https://github.com/elastic/elasticsearch/issues/19954#issuecomment-239256178","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19954","id":239256178,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTI1NjE3OA==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2016-08-11T18:54:13Z","updated_at":"2016-08-11T18:54:13Z","author_association":"MEMBER","body":"It worked accidentally, because you either had a single node cluster or because all your primary shards happened to be on the current mater node, or you tried restoring in exactly the same cluster you made the snapshot. You shouldn't have been able to even register such repository unless you suppressed repository verification. It is necessary to mount the same shared filesystem to the same location on all master and data nodes for the snapshot to work as described in [shared file system repo docs](https://www.elastic.co/guide/en/elasticsearch/reference/2.3/modules-snapshots.html#_shared_file_system_repository). \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/239257770","html_url":"https://github.com/elastic/elasticsearch/issues/19954#issuecomment-239257770","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19954","id":239257770,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTI1Nzc3MA==","user":{"login":"chaitu0292","id":18278698,"node_id":"MDQ6VXNlcjE4Mjc4Njk4","avatar_url":"https://avatars0.githubusercontent.com/u/18278698?v=4","gravatar_id":"","url":"https://api.github.com/users/chaitu0292","html_url":"https://github.com/chaitu0292","followers_url":"https://api.github.com/users/chaitu0292/followers","following_url":"https://api.github.com/users/chaitu0292/following{/other_user}","gists_url":"https://api.github.com/users/chaitu0292/gists{/gist_id}","starred_url":"https://api.github.com/users/chaitu0292/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaitu0292/subscriptions","organizations_url":"https://api.github.com/users/chaitu0292/orgs","repos_url":"https://api.github.com/users/chaitu0292/repos","events_url":"https://api.github.com/users/chaitu0292/events{/privacy}","received_events_url":"https://api.github.com/users/chaitu0292/received_events","type":"User","site_admin":false},"created_at":"2016-08-11T18:59:41Z","updated_at":"2016-08-11T19:08:27Z","author_association":"NONE","body":"@imotov In my elasticsearch.yml of all the nodes path.repo is given as path.repo: [\"\\root\\backup\"].\nso I have backup folder on all the nodes. And yes there is repository verification exception and I suppressed it. So  what should I do for my use case to work. I performed restore activities on my old cluster setup for more than 50 times. And I also can see shards of my indices on my other nodes inside backup folder. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/239260064","html_url":"https://github.com/elastic/elasticsearch/issues/19954#issuecomment-239260064","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19954","id":239260064,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTI2MDA2NA==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2016-08-11T19:07:46Z","updated_at":"2016-08-11T19:07:46Z","author_association":"MEMBER","body":"As it is described in the [documentation](https://www.elastic.co/guide/en/elasticsearch/reference/2.3/modules-snapshots.html#_shared_file_system_repository), the repository directory (in your case`\\root\\backup`) should be shared across all master and data nodes. We check that everything is setup correctly during the verification process which you disabled. So, you need to mount the same directory on all machines and re-register repository without disabling verification and make sure that verification passes. Since, it doesn't seem to be a bug report, I am going to close this issue. If you have any other questions, please don't hesitate to ask them on our support forum https://discuss.elastic.co/\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/239262701","html_url":"https://github.com/elastic/elasticsearch/issues/19954#issuecomment-239262701","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19954","id":239262701,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTI2MjcwMQ==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2016-08-11T19:17:42Z","updated_at":"2016-08-11T19:17:42Z","author_association":"MEMBER","body":"Sorry, your use case is not supported until #6638 is implemented.  The verification process has to pass otherwise there are no guarantee it would work. Having this folder on all machines is not enough, it has to be the same network share. For restore to work, all these individual files currently scattered across different nodes have to be in the same directory accessible on all nodes where restore will happen. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/239305519","html_url":"https://github.com/elastic/elasticsearch/issues/19954#issuecomment-239305519","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19954","id":239305519,"node_id":"MDEyOklzc3VlQ29tbWVudDIzOTMwNTUxOQ==","user":{"login":"chaitu0292","id":18278698,"node_id":"MDQ6VXNlcjE4Mjc4Njk4","avatar_url":"https://avatars0.githubusercontent.com/u/18278698?v=4","gravatar_id":"","url":"https://api.github.com/users/chaitu0292","html_url":"https://github.com/chaitu0292","followers_url":"https://api.github.com/users/chaitu0292/followers","following_url":"https://api.github.com/users/chaitu0292/following{/other_user}","gists_url":"https://api.github.com/users/chaitu0292/gists{/gist_id}","starred_url":"https://api.github.com/users/chaitu0292/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chaitu0292/subscriptions","organizations_url":"https://api.github.com/users/chaitu0292/orgs","repos_url":"https://api.github.com/users/chaitu0292/repos","events_url":"https://api.github.com/users/chaitu0292/events{/privacy}","received_events_url":"https://api.github.com/users/chaitu0292/received_events","type":"User","site_admin":false},"created_at":"2016-08-11T21:55:51Z","updated_at":"2016-08-12T06:12:09Z","author_association":"NONE","body":"@imotov It worked after making a shared fs.\n","performed_via_github_app":null}]