{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/29557","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29557/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29557/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29557/events","html_url":"https://github.com/elastic/elasticsearch/issues/29557","id":315030795,"node_id":"MDU6SXNzdWUzMTUwMzA3OTU=","number":29557,"title":"[CI] FullClusterRestartIT.testNewReplicasWork failed for 6.x ","user":{"login":"dimitris-athanasiou","id":9351617,"node_id":"MDQ6VXNlcjkzNTE2MTc=","avatar_url":"https://avatars3.githubusercontent.com/u/9351617?v=4","gravatar_id":"","url":"https://api.github.com/users/dimitris-athanasiou","html_url":"https://github.com/dimitris-athanasiou","followers_url":"https://api.github.com/users/dimitris-athanasiou/followers","following_url":"https://api.github.com/users/dimitris-athanasiou/following{/other_user}","gists_url":"https://api.github.com/users/dimitris-athanasiou/gists{/gist_id}","starred_url":"https://api.github.com/users/dimitris-athanasiou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimitris-athanasiou/subscriptions","organizations_url":"https://api.github.com/users/dimitris-athanasiou/orgs","repos_url":"https://api.github.com/users/dimitris-athanasiou/repos","events_url":"https://api.github.com/users/dimitris-athanasiou/events{/privacy}","received_events_url":"https://api.github.com/users/dimitris-athanasiou/received_events","type":"User","site_admin":false},"labels":[{"id":152510590,"node_id":"MDU6TGFiZWwxNTI1MTA1OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Recovery","name":":Distributed/Recovery","color":"0e8a16","default":false,"description":"Anything around constructing a new shard, either from a local or a remote source."},{"id":60445228,"node_id":"MDU6TGFiZWw2MDQ0NTIyOA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest","name":">test","color":"5319e7","default":false,"description":"Issues or PRs that are addressing/adding tests"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2018-04-17T12:09:09Z","updated_at":"2018-05-03T10:52:36Z","closed_at":"2018-05-03T10:52:35Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Link to build: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+multijob-darwin-compatibility/946/console\r\n\r\nReproduce:\r\n\r\n```\r\nREPRODUCE WITH: ./gradlew :qa:full-cluster-restart:v6.2.4-SNAPSHOT#oldClusterTestRunner -Dtests.seed=81C8D63494D3BA1A -Dtests.class=org.elasticsearch.upgrades.FullClusterRestartIT -Dtests.method=\"testNewReplicasWork\" -Dtests.security.manager=true -Dtests.locale=es-UY -Dtests.timezone=US/Alaska\r\n```\r\n\r\nFailure:\r\n\r\n```\r\nERROR    696s | FullClusterRestartIT.testNewReplicasWork <<< FAILURES!\r\n10:30:10    > Throwable #1: java.lang.Exception: Test abandoned because suite timeout was reached.\r\n10:30:10   2> \tat sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\r\n10:30:10   2> \t- locked sun.nio.ch.Util$3@39c1d877\r\n10:30:10    > \tat __randomizedtesting.SeedInfo.seed([81C8D63494D3BA1A]:0)\r\n10:30:10   1> [2018-04-17T02:30:08,756][INFO ][o.e.u.FullClusterRestartIT] [testNewReplicasWork]: after test\r\n10:30:10   2> \t- locked java.util.Collections$UnmodifiableSet@45f17477\r\n10:30:10   2> \t- locked sun.nio.ch.KQueueSelectorImpl@576278e8\r\n10:30:10   1> [2018-04-17T02:30:08,771][ERROR][o.a.h.i.n.c.InternalHttpAsyncClient] I/O reactor terminated abnormally\r\n10:30:10   1> java.io.InterruptedIOException: null\r\n10:30:10   2> \tat sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\r\n10:30:10   2> \tat org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:255)\r\n10:30:10   1> \tat org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor.doShutdown(AbstractMultiworkerIOReactor.java:462) ~[httpcore-nio-4.4.5.jar:4.4.5]\r\n10:30:10   2> \tat org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104)\r\n10:30:10   2> \tat org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:588)\r\n10:30:10   2> \tat java.lang.Thread.run(Thread.java:748)\r\n10:30:10   1> \tat org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor.execute(AbstractMultiworkerIOReactor.java:374) ~[httpcore-nio-4.4.5.jar:4.4.5]\r\n10:30:10   2> \"I/O dispatcher 5\" ID=20 RUNNABLE (in native code)\r\n10:30:10   2> \tat sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\r\n10:30:10   1> \tat org.apache.http.impl.nio.conn.PoolingNHttpClientConnectionManager.execute(PoolingNHttpClientConnectionManager.java:192) ~[httpasyncclient-4.1.2.jar:4.1.2]\r\n10:30:10   1> \tat org.apache.http.impl.nio.client.CloseableHttpAsyncClientBase$1.run(CloseableHttpAsyncClientBase.java:64) [httpasyncclient-4.1.2.jar:4.1.2]\r\n10:30:10   2> \tat sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\r\n10:30:10   2> \tat sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\r\n10:30:10   2> \tat sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\r\n10:30:10   2> \t- locked sun.nio.ch.Util$3@6f634178\r\n10:30:10   1> \tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_162]\r\n10:30:10   2> \t- locked java.util.Collections$UnmodifiableSet@58d62e83\r\n10:30:10   2> \t- locked sun.nio.ch.KQueueSelectorImpl@16caab22\r\n10:30:10   2> \tat sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\r\n10:30:10   1> [2018-04-17T02:30:09,320][ERROR][o.a.h.i.n.c.InternalHttpAsyncClient] I/O reactor terminated abnormally\r\n10:30:10   1> java.io.InterruptedIOException: null\r\n```\r\n\r\nCould not reproduce locally.","closed_by":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"performed_via_github_app":null}