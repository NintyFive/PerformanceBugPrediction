{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/22605","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22605/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22605/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22605/events","html_url":"https://github.com/elastic/elasticsearch/issues/22605","id":200566203,"node_id":"MDU6SXNzdWUyMDA1NjYyMDM=","number":22605,"title":"Index Delete message to be logged as INFO instead of Debug","user":{"login":"prashanttct07","id":6836305,"node_id":"MDQ6VXNlcjY4MzYzMDU=","avatar_url":"https://avatars3.githubusercontent.com/u/6836305?v=4","gravatar_id":"","url":"https://api.github.com/users/prashanttct07","html_url":"https://github.com/prashanttct07","followers_url":"https://api.github.com/users/prashanttct07/followers","following_url":"https://api.github.com/users/prashanttct07/following{/other_user}","gists_url":"https://api.github.com/users/prashanttct07/gists{/gist_id}","starred_url":"https://api.github.com/users/prashanttct07/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashanttct07/subscriptions","organizations_url":"https://api.github.com/users/prashanttct07/orgs","repos_url":"https://api.github.com/users/prashanttct07/repos","events_url":"https://api.github.com/users/prashanttct07/events{/privacy}","received_events_url":"https://api.github.com/users/prashanttct07/received_events","type":"User","site_admin":false},"labels":[{"id":151561891,"node_id":"MDU6TGFiZWwxNTE1NjE4OTE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Logging","name":":Core/Infra/Logging","color":"0e8a16","default":false,"description":"Log management and logging utilities"},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":92913858,"node_id":"MDU6TGFiZWw5MjkxMzg1OA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/good%20first%20issue","name":"good first issue","color":"07569b","default":true,"description":"low hanging fruit"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2017-01-13T07:40:10Z","updated_at":"2017-01-15T04:13:41Z","closed_at":"2017-01-15T04:13:41Z","author_association":"NONE","active_lock_reason":null,"body":"<!--\r\nGitHub is reserved for bug reports and feature requests. The best place\r\nto ask a general question is at the Elastic Discourse forums at\r\nhttps://discuss.elastic.co. If you are in fact posting a bug report or\r\na feature request, please include one and only one of the below blocks\r\nin your new issue. Note that whether you're filing a bug report or a\r\nfeature request, ensure that your submission is for an\r\n[OS that we support](https://www.elastic.co/support/matrix#show_os).\r\nBug reports on an OS that we do not support or feature requests\r\nspecific to an OS that we do not support will be closed.\r\n-->\r\n\r\n<!--\r\nIf you are filing a bug report, please remove the below feature\r\nrequest block and provide responses for all of the below items.\r\n-->\r\n\r\n**Elasticsearch version**:\r\n5.1.0\r\n\r\n**Plugins installed**: []\r\nNA\r\n\r\n**JVM version**:\r\n1.8.111\r\n\r\n**OS version**:\r\nUbuntu : 14\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\nIndex Delete message to be logged as INFO instead of DEBUG , this to be incorporated similar to what we see for index creation.\r\n\r\nDetails: \r\n\r\nI was running an ELK cluster on prod and if someone deletes an index , I don;t see any logger in ES conf as Delete is configured as Debug level. Where as we get the Index creation message as Info.\r\n\r\nIf we talk about enabling the Debug in log4j , then it becomes too bulky to get these logs in production. So I expect debug logger level can be changed to Info from Debug in case of index deletion.\r\n\r\nCode where we can see those messages:\r\nCreation : https://github.com/elastic/elasticsearch/blob/master/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataCreateIndexService.java#L431\r\n\r\nDeletion :\r\nhttps://github.com/elastic/elasticsearch/blob/master/core/src/main/java/org/elasticsearch/cluster/metadata/MetaDataDeleteIndexService.java#L100\r\n \r\n**Steps to reproduce**:\r\nAssume we have log4j with debug level as INFO\r\n\r\nRun:\r\n1 : # delete the index\r\ncurl -XDELETE localhost:9200/test\r\n\r\nCheck elasticsearch log files at /var/log/elasticsearch/<clusterName>.log\r\nYou will see No logs is added specifying Index delete. Where as if you run:\r\n\r\n1 : # Create an index\r\ncurl -XPUT localhost:9200/test/\r\nYou will see logs is added specifying Index being created.\r\n\r\n**Provide logs (if relevant)**:\r\n\r\n<!--\r\nIf you are filing a feature request, please remove the above bug\r\nreport block and provide responses for all of the below items.\r\n-->\r\n\r\n**Describe the feature**:\r\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}