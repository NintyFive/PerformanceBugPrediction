[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/583144276","html_url":"https://github.com/elastic/elasticsearch/issues/52021#issuecomment-583144276","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52021","id":583144276,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzE0NDI3Ng==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-02-06T22:34:19Z","updated_at":"2020-02-06T22:34:19Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed (:Distributed/Reindex)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/583178134","html_url":"https://github.com/elastic/elasticsearch/issues/52021#issuecomment-583178134","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52021","id":583178134,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzE3ODEzNA==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2020-02-07T00:30:20Z","updated_at":"2020-02-07T00:30:20Z","author_association":"CONTRIBUTOR","body":"Got another one so I've gone ahead and muted this test with 16afbf91bb8aeb22933d21fe1012e2332468977c.\r\n\r\nhttps://gradle-enterprise.elastic.co/s/mdkgsffws5mly/tests/failed","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/583251369","html_url":"https://github.com/elastic/elasticsearch/issues/52021#issuecomment-583251369","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52021","id":583251369,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzI1MTM2OQ==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2020-02-07T06:19:29Z","updated_at":"2020-02-07T06:19:29Z","author_association":"CONTRIBUTOR","body":"Interestingly, I also just saw `ShardSizeTermsIT` fail with the same error:\r\n\r\nhttps://gradle-enterprise.elastic.co/s/c5ihsym47tw2y/tests/kyv2y2z3r4v7m-tvapgmw3k3fym","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/583604821","html_url":"https://github.com/elastic/elasticsearch/issues/52021#issuecomment-583604821","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52021","id":583604821,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzYwNDgyMQ==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2020-02-07T20:49:25Z","updated_at":"2020-02-07T20:49:25Z","author_association":"CONTRIBUTOR","body":"Ok, so this seems to be a more generic error that's happening in `master` and `7.x` and looks to have started on February 6th. From what I see so far this has happened in `RecoveryWhileUnderLoadIT`, `ReindexFailureTests`, `SearchRestCancellationIT`, `ShardSizeTermsIT` and `AsyncSearchActionTests`. So this is likely some more underlying issue. Here are a number of example build scans:\r\n\r\nhttps://gradle-enterprise.elastic.co/s/llocok2qap4c2/tests/kyv2y2z3r4v7m-n5sx3bdgtt26o\r\nhttps://gradle-enterprise.elastic.co/s/fbwpfift4mjsw/tests/5nfchac5yggnq-rjw76l2zc7kn2\r\nhttps://gradle-enterprise.elastic.co/s/b2cthh57ikcbi/tests/xnglhbfnjd7ae-iwi4iupewsj6m\r\nhttps://gradle-enterprise.elastic.co/s/c5ihsym47tw2y/tests/kyv2y2z3r4v7m-tvapgmw3k3fym\r\nhttps://gradle-enterprise.elastic.co/s/jsstsgsksw5je/tests/xnglhbfnjd7ae-iwi4iupewsj6m\r\n\r\nI'm assuming this falls under @elastic/es-distributed just because I see the word \"shards\" a lot, but please educate me if this is a wrong assumption.\r\n\r\nGiven this looks to be a very recent issue, and is happening with some regularity, I think we should give this some priority. Given the number of tests this seems to be cropping up in, muting isn't going to be an effective strategy here.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/583665488","html_url":"https://github.com/elastic/elasticsearch/issues/52021#issuecomment-583665488","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52021","id":583665488,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzY2NTQ4OA==","user":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"created_at":"2020-02-07T23:56:54Z","updated_at":"2020-02-07T23:56:54Z","author_association":"MEMBER","body":"These failures might relate to #46091.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/583733770","html_url":"https://github.com/elastic/elasticsearch/issues/52021#issuecomment-583733770","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52021","id":583733770,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzczMzc3MA==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2020-02-08T12:49:19Z","updated_at":"2020-02-08T12:49:19Z","author_association":"CONTRIBUTOR","body":"I suspect #51708, on the grounds that on my machine 1dcf1df0e2f788d632334d21930767b2c9df4c43 passed 140 iterations of `./gradlew :modules:reindex:test --tests org.elasticsearch.index.reindex.ReindexFailureTests.testResponseOnSearchFailure` but eb69c6fe7cf5620e1726ceecb77b35cd0f4e016d fails with `Some shards are still open` about one run in ten. I'm running `stress -c 16 -m 8 -d 2` too, not sure if that's helpful to reproduce or not.\r\n\r\n@dnhatn would you like to investigate further, or should we ask the search team to take a look?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/583752006","html_url":"https://github.com/elastic/elasticsearch/issues/52021#issuecomment-583752006","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52021","id":583752006,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzc1MjAwNg==","user":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"created_at":"2020-02-08T16:24:47Z","updated_at":"2020-02-08T16:24:47Z","author_association":"MEMBER","body":"@DaveCTurner Good find. I will take a look. Thank you for looking :).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/583758986","html_url":"https://github.com/elastic/elasticsearch/issues/52021#issuecomment-583758986","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52021","id":583758986,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzc1ODk4Ng==","user":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"created_at":"2020-02-08T17:36:48Z","updated_at":"2020-02-08T17:36:48Z","author_association":"MEMBER","body":"Yes, these failures are indeed caused by #51708. I am working on the fix.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/583759377","html_url":"https://github.com/elastic/elasticsearch/issues/52021#issuecomment-583759377","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52021","id":583759377,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzc1OTM3Nw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-02-08T17:41:16Z","updated_at":"2020-02-08T17:41:16Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search (:Search/Search)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/583778452","html_url":"https://github.com/elastic/elasticsearch/issues/52021#issuecomment-583778452","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52021","id":583778452,"node_id":"MDEyOklzc3VlQ29tbWVudDU4Mzc3ODQ1Mg==","user":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"created_at":"2020-02-08T21:26:21Z","updated_at":"2020-02-08T21:26:21Z","author_association":"MEMBER","body":"I've opened https://github.com/elastic/elasticsearch/pull/52099.","performed_via_github_app":null}]