{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/28524","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28524/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28524/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28524/events","html_url":"https://github.com/elastic/elasticsearch/issues/28524","id":294528221,"node_id":"MDU6SXNzdWUyOTQ1MjgyMjE=","number":28524,"title":"non existent setting not removeable but still in cluster","user":{"login":"scratchy","id":906544,"node_id":"MDQ6VXNlcjkwNjU0NA==","avatar_url":"https://avatars3.githubusercontent.com/u/906544?v=4","gravatar_id":"","url":"https://api.github.com/users/scratchy","html_url":"https://github.com/scratchy","followers_url":"https://api.github.com/users/scratchy/followers","following_url":"https://api.github.com/users/scratchy/following{/other_user}","gists_url":"https://api.github.com/users/scratchy/gists{/gist_id}","starred_url":"https://api.github.com/users/scratchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scratchy/subscriptions","organizations_url":"https://api.github.com/users/scratchy/orgs","repos_url":"https://api.github.com/users/scratchy/repos","events_url":"https://api.github.com/users/scratchy/events{/privacy}","received_events_url":"https://api.github.com/users/scratchy/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-02-05T20:17:01Z","updated_at":"2018-02-07T19:48:44Z","closed_at":"2018-02-07T19:48:44Z","author_association":"NONE","active_lock_reason":null,"body":"After rolling upgrade from 6.0.0 to 6.1.3 im having issues to update cluster settings\r\n\r\nfor example running this\r\n\r\n```\r\ncurl -XPUT 'localhost:9200/_cluster/settings?pretty' -H 'Content-Type: application/json' -d'\r\n{\r\n  \"transient\": {\r\n    \"cluster.routing.allocation.enable\": \"all\"\r\n  }\r\n}\r\n'\r\n```\r\n\r\nresults in:\r\n\r\n```\r\n{\r\n  \"error\" : {\r\n    \"root_cause\" : [\r\n      {\r\n        \"type\" : \"remote_transport_exception\",\r\n        \"reason\" : \"[search-8][xxx:9300][cluster:admin/settings/update]\"\r\n      }\r\n    ],\r\n    \"type\" : \"illegal_argument_exception\",\r\n    \"reason\" : \"unknown setting [indices.store.throttle.max_bytes_per_sec] did you mean [indices.recovery.max_bytes_per_sec]?\"\r\n  },\r\n  \"status\" : 400\r\n}\r\n```\r\n\r\ntried to remove (set `indices.store.throttle.max_bytes_per_sec` to null) which complains with 'its not valid since its not there anymore as well as removing the upper level with):\r\n\r\n```\r\ncurl -XPUT 'localhost:9200/_cluster/settings?pretty' -H 'Content-Type: application/json' -d'\r\n{\r\n  \"persistent\": {\r\n    \"indices.store.*\" : null\r\n  }\r\n}\r\n'\r\n```\r\n\r\nwhich gets acked:\r\n```\r\n{\r\n  \"acknowledged\" : true,\r\n  \"persistent\" : { },\r\n  \"transient\" : { }\r\n}\r\n```\r\n\r\nbut still the error from above persists. I'm unable to update any cluster settings right now (because all of them complaining with the error above)\r\n\r\nAny idears?","closed_by":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"performed_via_github_app":null}