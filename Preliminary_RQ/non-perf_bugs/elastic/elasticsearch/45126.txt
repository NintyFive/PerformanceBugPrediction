{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/45126","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45126/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45126/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45126/events","html_url":"https://github.com/elastic/elasticsearch/issues/45126","id":475975788,"node_id":"MDU6SXNzdWU0NzU5NzU3ODg=","number":45126,"title":"ClassCastException when settings set to [] during index creation","user":{"login":"thewunder","id":1265740,"node_id":"MDQ6VXNlcjEyNjU3NDA=","avatar_url":"https://avatars0.githubusercontent.com/u/1265740?v=4","gravatar_id":"","url":"https://api.github.com/users/thewunder","html_url":"https://github.com/thewunder","followers_url":"https://api.github.com/users/thewunder/followers","following_url":"https://api.github.com/users/thewunder/following{/other_user}","gists_url":"https://api.github.com/users/thewunder/gists{/gist_id}","starred_url":"https://api.github.com/users/thewunder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thewunder/subscriptions","organizations_url":"https://api.github.com/users/thewunder/orgs","repos_url":"https://api.github.com/users/thewunder/repos","events_url":"https://api.github.com/users/thewunder/events{/privacy}","received_events_url":"https://api.github.com/users/thewunder/received_events","type":"User","site_admin":false},"labels":[{"id":144457604,"node_id":"MDU6TGFiZWwxNDQ0NTc2MDQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Settings","name":":Core/Infra/Settings","color":"0e8a16","default":false,"description":"Settings infrastructure and APIs"},{"id":111624690,"node_id":"MDU6TGFiZWwxMTE2MjQ2OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/feedback_needed","name":"feedback_needed","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2019-08-02T03:11:33Z","updated_at":"2019-08-17T17:44:12Z","closed_at":"2019-08-16T18:39:04Z","author_association":"NONE","active_lock_reason":null,"body":"<!-- Bug report -->\r\n\r\n**Elasticsearch version**: 6.8.2\r\n\r\n**Plugins installed**: repository-s3\r\n\r\n**JVM version**: \r\nopenjdk version \"1.8.0_222\"\r\nOpenJDK Runtime Environment (build 1.8.0_222-8u222-b10-1ubuntu1~16.04.1-b10)\r\n\r\n**OS version**:\r\nLinux ip-172-31-37-249 4.4.0-59-generic #80-Ubuntu SMP Fri Jan 6 17:47:47 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\nPassing an a\r\n\r\n**Steps to reproduce**:\r\n\r\n ```\r\ncurl -X PUT \"localhost:9200/myindex\" -H 'Content-Type: application/json' -d'\r\n{\r\n    \"settings\" : []\r\n}                  \r\n'\r\n```\r\n\r\n**Stack Trace**:\r\n\r\n```\r\njava.lang.ClassCastException: java.util.ArrayList cannot be cast to java.util.Map\r\n        at org.elasticsearch.action.admin.indices.create.CreateIndexRequest.source(CreateIndexRequest.java:386) ~[elasticsearch-6.8.2.jar:6.8.2]\r\n        at org.elasticsearch.rest.action.admin.indices.RestCreateIndexAction.prepareRequest(RestCreateIndexAction.java:71) ~[elasticsearch-6.8.2.jar:6.8.2]\r\n        at org.elasticsearch.rest.BaseRestHandler.handleRequest(BaseRestHandler.java:91) ~[elasticsearch-6.8.2.jar:6.8.2]\r\n        at org.elasticsearch.xpack.security.rest.SecurityRestFilter.handleRequest(SecurityRestFilter.java:87) ~[?:?]\r\n        at org.elasticsearch.rest.RestController.dispatchRequest(RestController.java:240) [elasticsearch-6.8.2.jar:6.8.2]\r\n        at org.elasticsearch.rest.RestController.tryAllHandlers(RestController.java:336) [elasticsearch-6.8.2.jar:6.8.2]\r\n        at org.elasticsearch.rest.RestController.dispatchRequest(RestController.java:174) [elasticsearch-6.8.2.jar:6.8.2]\r\n        at org.elasticsearch.http.netty4.Netty4HttpServerTransport.dispatchRequest(Netty4HttpServerTransport.java:551) [transport-netty4-client-6.8.2.jar:6.8.2]\r\n\r\n","closed_by":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"performed_via_github_app":null}