[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/218159915","html_url":"https://github.com/elastic/elasticsearch/issues/18238#issuecomment-218159915","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18238","id":218159915,"node_id":"MDEyOklzc3VlQ29tbWVudDIxODE1OTkxNQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2016-05-10T13:39:47Z","updated_at":"2016-05-10T13:39:47Z","author_association":"CONTRIBUTOR","body":"Relates to https://github.com/elastic/elasticsearch/issues/17512. At least, it relates a little bit.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/294164895","html_url":"https://github.com/elastic/elasticsearch/issues/18238#issuecomment-294164895","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18238","id":294164895,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDE2NDg5NQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-04-14T14:38:18Z","updated_at":"2017-04-14T14:38:18Z","author_association":"MEMBER","body":"We now always return deprecation warnings as headers, it is up to clients to act on them e.g. log them or even throw an error. We have been testing since then deprecations from both unit tests and yaml tests: we assert by default that no deprecated functionality is used, and we declare exceptions in case we want to test the deprecations themselves, to verify that they are properly raised. \r\n\r\nI am not sure about the auto-generated clients aspect. They could skip deprecated paths if they were declared separately in the spec. But then we would force users to migrate as soon as something gets deprecated, which is one major version before Elasticsearch actually removes the endpoint.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/299464394","html_url":"https://github.com/elastic/elasticsearch/issues/18238#issuecomment-299464394","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18238","id":299464394,"node_id":"MDEyOklzc3VlQ29tbWVudDI5OTQ2NDM5NA==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-05-05T13:28:03Z","updated_at":"2017-05-05T13:29:37Z","author_association":"MEMBER","body":"The users migration point that I made applies to cases where endpoints are removed after being deprecated, where I think clients should still expose them although deprecated, but then the whole endpoint is deprecated, not just one of its paths.\r\n\r\nWhen it comes to renaming endpoints though, we usually remove from the spec the deprecated path, which becomes untested although it is still exposed in core, so there is no ambiguity and auto-generated clients know which path to pick. This would be improved by adding a `deprecated_paths` section.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/299464821","html_url":"https://github.com/elastic/elasticsearch/issues/18238#issuecomment-299464821","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18238","id":299464821,"node_id":"MDEyOklzc3VlQ29tbWVudDI5OTQ2NDgyMQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2017-05-05T13:29:59Z","updated_at":"2017-05-05T13:29:59Z","author_association":"MEMBER","body":"@elastic/es-clients what do you think?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/299484992","html_url":"https://github.com/elastic/elasticsearch/issues/18238#issuecomment-299484992","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18238","id":299484992,"node_id":"MDEyOklzc3VlQ29tbWVudDI5OTQ4NDk5Mg==","user":{"login":"Mpdreamz","id":245275,"node_id":"MDQ6VXNlcjI0NTI3NQ==","avatar_url":"https://avatars3.githubusercontent.com/u/245275?v=4","gravatar_id":"","url":"https://api.github.com/users/Mpdreamz","html_url":"https://github.com/Mpdreamz","followers_url":"https://api.github.com/users/Mpdreamz/followers","following_url":"https://api.github.com/users/Mpdreamz/following{/other_user}","gists_url":"https://api.github.com/users/Mpdreamz/gists{/gist_id}","starred_url":"https://api.github.com/users/Mpdreamz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Mpdreamz/subscriptions","organizations_url":"https://api.github.com/users/Mpdreamz/orgs","repos_url":"https://api.github.com/users/Mpdreamz/repos","events_url":"https://api.github.com/users/Mpdreamz/events{/privacy}","received_events_url":"https://api.github.com/users/Mpdreamz/received_events","type":"User","site_admin":false},"created_at":"2017-05-05T14:47:23Z","updated_at":"2017-05-05T14:47:23Z","author_association":"MEMBER","body":"++ to a deprecated_paths section, I think clients should still generate the code for them but clients could then automatically mark them as obsolete. \r\n\r\nThe .NET code generator can patch the spec where needed and with 5.4 there was one endpoint removed (exist alias) that we had to write a patch file for. \r\n\r\nIdeally it would be a map of endpoint/deprecation reason ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/373060709","html_url":"https://github.com/elastic/elasticsearch/issues/18238#issuecomment-373060709","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18238","id":373060709,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzA2MDcwOQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2018-03-14T15:22:47Z","updated_at":"2018-03-14T15:22:47Z","author_association":"CONTRIBUTOR","body":"@Mpdreamz and @javanna, it's been almost a year since the last comment. Is this still an important thing? I'm going to close this for now because we seem to have done ok without it for a while but if you think it is important please reopen it.","performed_via_github_app":null}]