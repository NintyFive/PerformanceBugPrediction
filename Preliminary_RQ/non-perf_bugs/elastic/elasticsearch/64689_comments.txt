[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/722962502","html_url":"https://github.com/elastic/elasticsearch/issues/64689#issuecomment-722962502","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/64689","id":722962502,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjk2MjUwMg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-11-06T09:00:37Z","updated_at":"2020-11-06T09:00:37Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra (:Core/Infra/REST API)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/723062532","html_url":"https://github.com/elastic/elasticsearch/issues/64689#issuecomment-723062532","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/64689","id":723062532,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzA2MjUzMg==","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"created_at":"2020-11-06T12:46:18Z","updated_at":"2020-11-06T12:46:18Z","author_association":"CONTRIBUTOR","body":"will work on it.\r\nthis also highlights a problem that we do not handle invalid headers properly. there should not be a stactrace in logs (we are incorrectly creating bad rest request atm)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/723092874","html_url":"https://github.com/elastic/elasticsearch/issues/64689#issuecomment-723092874","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/64689","id":723092874,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzA5Mjg3NA==","user":{"login":"pgomulka","id":11137008,"node_id":"MDQ6VXNlcjExMTM3MDA4","avatar_url":"https://avatars0.githubusercontent.com/u/11137008?v=4","gravatar_id":"","url":"https://api.github.com/users/pgomulka","html_url":"https://github.com/pgomulka","followers_url":"https://api.github.com/users/pgomulka/followers","following_url":"https://api.github.com/users/pgomulka/following{/other_user}","gists_url":"https://api.github.com/users/pgomulka/gists{/gist_id}","starred_url":"https://api.github.com/users/pgomulka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgomulka/subscriptions","organizations_url":"https://api.github.com/users/pgomulka/orgs","repos_url":"https://api.github.com/users/pgomulka/repos","events_url":"https://api.github.com/users/pgomulka/events{/privacy}","received_events_url":"https://api.github.com/users/pgomulka/received_events","type":"User","site_admin":false},"created_at":"2020-11-06T13:54:43Z","updated_at":"2020-11-06T14:23:18Z","author_association":"CONTRIBUTOR","body":"my understanding so far was that we do not support content negotiation. \r\nI would prefer we reject requests with these headers (the pr is linked)\r\n\r\nI am not sure we documented the usage of GET from browser, so possibly this won't be a breaking change.\r\n@jakelandis what do you think?\r\n\r\nedit: after discussing this offline with @original-brownbear , we might want to support this. We even return a favicon so that it looks nice in a browser. I would try to default to application/json (current behaviour) ","performed_via_github_app":null}]