[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/315659370","html_url":"https://github.com/elastic/elasticsearch/issues/25741#issuecomment-315659370","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25741","id":315659370,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNTY1OTM3MA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-07-17T02:55:44Z","updated_at":"2017-07-17T02:55:44Z","author_association":"MEMBER","body":"You need to set the system property `es.set.netty.runtime.available.processors` to `false`.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/315659766","html_url":"https://github.com/elastic/elasticsearch/issues/25741#issuecomment-315659766","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25741","id":315659766,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNTY1OTc2Ng==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-07-17T03:00:32Z","updated_at":"2017-07-17T03:00:32Z","author_association":"MEMBER","body":"Taking a closer look at this, I don't see why you're running into this, we already guard against it being set twice. I think that there's something that you're not telling us about your application. Let's take this up on the forum post, we reserve GitHub for verified bug reports and feature requests.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/315659909","html_url":"https://github.com/elastic/elasticsearch/issues/25741#issuecomment-315659909","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25741","id":315659909,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNTY1OTkwOQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-07-17T03:02:41Z","updated_at":"2017-07-17T03:02:41Z","author_association":"MEMBER","body":"Would you please open a topic on the [forum](https://discuss.elastic.co) and I will help you there? Also, I suspect that you are using Netty in another component of your application, would you please confirm (if you are, then my first answer is already going to be the correct guidance)?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/315662747","html_url":"https://github.com/elastic/elasticsearch/issues/25741#issuecomment-315662747","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25741","id":315662747,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNTY2Mjc0Nw==","user":{"login":"holygost","id":8679565,"node_id":"MDQ6VXNlcjg2Nzk1NjU=","avatar_url":"https://avatars1.githubusercontent.com/u/8679565?v=4","gravatar_id":"","url":"https://api.github.com/users/holygost","html_url":"https://github.com/holygost","followers_url":"https://api.github.com/users/holygost/followers","following_url":"https://api.github.com/users/holygost/following{/other_user}","gists_url":"https://api.github.com/users/holygost/gists{/gist_id}","starred_url":"https://api.github.com/users/holygost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/holygost/subscriptions","organizations_url":"https://api.github.com/users/holygost/orgs","repos_url":"https://api.github.com/users/holygost/repos","events_url":"https://api.github.com/users/holygost/events{/privacy}","received_events_url":"https://api.github.com/users/holygost/received_events","type":"User","site_admin":false},"created_at":"2017-07-17T03:41:02Z","updated_at":"2017-07-17T03:42:30Z","author_association":"NONE","body":"I will analyze how this issue happens, and then i will give you the response. Now it works when using `\r\nSystem.setProperty(\"es.set.netty.runtime.available.processors\", \"false\");\r\n`\r\n\r\nI find that there is the same topic here : https://discuss.elastic.co/t/elasticsearch-5-4-1-availableprocessors-is-already-set/88036/2","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/315670296","html_url":"https://github.com/elastic/elasticsearch/issues/25741#issuecomment-315670296","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25741","id":315670296,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNTY3MDI5Ng==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-07-17T05:22:53Z","updated_at":"2017-07-17T05:22:53Z","author_association":"MEMBER","body":"Okay, what I think is happening is this: you are using Netty elsewhere in your application. That is leading the number of processors to be initialized before you've even instantiated a transport client. When a transport client is instantiated, we try to initialize the number of processors. Since you're using Netty elsewhere, this is already initialized and Netty guards against this so this first instantiated fails with the illegal state exception that you're seeing. Also, in the course of instantiating the transport client, we flip a boolean guard so that if you instantiate another one we do not try to set the number of processors again (this violating the aforementioned Netty constraint that it is only set once). The second time that you try to instantiate the transport client, this guard is active so we do not try to set the number of processors again and instantiation succeeds.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/320643426","html_url":"https://github.com/elastic/elasticsearch/issues/25741#issuecomment-320643426","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25741","id":320643426,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMDY0MzQyNg==","user":{"login":"ItamarBenjamin","id":7209981,"node_id":"MDQ6VXNlcjcyMDk5ODE=","avatar_url":"https://avatars0.githubusercontent.com/u/7209981?v=4","gravatar_id":"","url":"https://api.github.com/users/ItamarBenjamin","html_url":"https://github.com/ItamarBenjamin","followers_url":"https://api.github.com/users/ItamarBenjamin/followers","following_url":"https://api.github.com/users/ItamarBenjamin/following{/other_user}","gists_url":"https://api.github.com/users/ItamarBenjamin/gists{/gist_id}","starred_url":"https://api.github.com/users/ItamarBenjamin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ItamarBenjamin/subscriptions","organizations_url":"https://api.github.com/users/ItamarBenjamin/orgs","repos_url":"https://api.github.com/users/ItamarBenjamin/repos","events_url":"https://api.github.com/users/ItamarBenjamin/events{/privacy}","received_events_url":"https://api.github.com/users/ItamarBenjamin/received_events","type":"User","site_admin":false},"created_at":"2017-08-07T11:52:33Z","updated_at":"2017-08-07T11:52:33Z","author_association":"CONTRIBUTOR","body":"Hi, im facing the same issue. i think it is quite reasonable to use netty in another place in the application. elastic client should check if the availableProcessors were set already by any component, not just elastic.\r\nwhat do you think?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/322327914","html_url":"https://github.com/elastic/elasticsearch/issues/25741#issuecomment-322327914","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25741","id":322327914,"node_id":"MDEyOklzc3VlQ29tbWVudDMyMjMyNzkxNA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-08-14T22:31:38Z","updated_at":"2017-08-14T22:31:38Z","author_association":"MEMBER","body":"@ItamarBenjamin The Netty API does not support this, and it would be subject to [*time of check to time of use* race conditions](https://en.wikipedia.org/wiki/Time_of_check_to_time_of_use) (check that it is not set, then if not try to set it but another thread could have already set it meanwhile). Instead, this is on application developers to know their application and either:\r\n - set the system property I indicated above\r\n - allow Elasticsearch to configure Netty first","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/360397480","html_url":"https://github.com/elastic/elasticsearch/issues/25741#issuecomment-360397480","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25741","id":360397480,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MDM5NzQ4MA==","user":{"login":"fpompermaier","id":3776037,"node_id":"MDQ6VXNlcjM3NzYwMzc=","avatar_url":"https://avatars3.githubusercontent.com/u/3776037?v=4","gravatar_id":"","url":"https://api.github.com/users/fpompermaier","html_url":"https://github.com/fpompermaier","followers_url":"https://api.github.com/users/fpompermaier/followers","following_url":"https://api.github.com/users/fpompermaier/following{/other_user}","gists_url":"https://api.github.com/users/fpompermaier/gists{/gist_id}","starred_url":"https://api.github.com/users/fpompermaier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fpompermaier/subscriptions","organizations_url":"https://api.github.com/users/fpompermaier/orgs","repos_url":"https://api.github.com/users/fpompermaier/repos","events_url":"https://api.github.com/users/fpompermaier/events{/privacy}","received_events_url":"https://api.github.com/users/fpompermaier/received_events","type":"User","site_admin":false},"created_at":"2018-01-25T08:36:28Z","updated_at":"2018-01-25T08:36:28Z","author_association":"CONTRIBUTOR","body":"Hi to all,\r\nI have the same problem in an Apache Flink job where clients are created almost simultaneously on the same machine (if the number of slots per TaskManager is > 1). \r\nThus, that variable should not be static (IMHO)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/368888269","html_url":"https://github.com/elastic/elasticsearch/issues/25741#issuecomment-368888269","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25741","id":368888269,"node_id":"MDEyOklzc3VlQ29tbWVudDM2ODg4ODI2OQ==","user":{"login":"Rorschachdb","id":1671917,"node_id":"MDQ6VXNlcjE2NzE5MTc=","avatar_url":"https://avatars1.githubusercontent.com/u/1671917?v=4","gravatar_id":"","url":"https://api.github.com/users/Rorschachdb","html_url":"https://github.com/Rorschachdb","followers_url":"https://api.github.com/users/Rorschachdb/followers","following_url":"https://api.github.com/users/Rorschachdb/following{/other_user}","gists_url":"https://api.github.com/users/Rorschachdb/gists{/gist_id}","starred_url":"https://api.github.com/users/Rorschachdb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rorschachdb/subscriptions","organizations_url":"https://api.github.com/users/Rorschachdb/orgs","repos_url":"https://api.github.com/users/Rorschachdb/repos","events_url":"https://api.github.com/users/Rorschachdb/events{/privacy}","received_events_url":"https://api.github.com/users/Rorschachdb/received_events","type":"User","site_admin":false},"created_at":"2018-02-27T14:04:55Z","updated_at":"2018-02-27T14:04:55Z","author_association":"NONE","body":"Hi all,\r\n\r\nStumbled accross this too. It arrose using spring boot latest RC2, in this context it is impossible to enforce elastic client to be bootstraped first and we're left with the system property solution.\r\n\r\nThough I understand the above reason for doing it this way, I find it weird to use a vm wide system property to avoid such multiple configuration failure, wouldn't it be possible to use the org.elasticsearch.common.settings.Settings class instead ?\r\n\r\nSee spring-projects/spring-boot#12242 for the problem I first exposed to spring-boot team and a small project to reproduce it.\r\n\r\nCheers,\r\n\r\nR","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/368988120","html_url":"https://github.com/elastic/elasticsearch/issues/25741#issuecomment-368988120","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25741","id":368988120,"node_id":"MDEyOklzc3VlQ29tbWVudDM2ODk4ODEyMA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-02-27T19:00:18Z","updated_at":"2018-02-27T19:00:18Z","author_association":"MEMBER","body":"> Though I understand the above reason for doing it this way, I find it weird to use a vm wide system property to avoid such multiple configuration failure, wouldn't it be possible to use the org.elasticsearch.common.settings.Settings class instead ?\r\n\r\nIt's worth considering, but what's the problem with the system property?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/420023734","html_url":"https://github.com/elastic/elasticsearch/issues/25741#issuecomment-420023734","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25741","id":420023734,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDAyMzczNA==","user":{"login":"StuAtGit","id":9757762,"node_id":"MDQ6VXNlcjk3NTc3NjI=","avatar_url":"https://avatars2.githubusercontent.com/u/9757762?v=4","gravatar_id":"","url":"https://api.github.com/users/StuAtGit","html_url":"https://github.com/StuAtGit","followers_url":"https://api.github.com/users/StuAtGit/followers","following_url":"https://api.github.com/users/StuAtGit/following{/other_user}","gists_url":"https://api.github.com/users/StuAtGit/gists{/gist_id}","starred_url":"https://api.github.com/users/StuAtGit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StuAtGit/subscriptions","organizations_url":"https://api.github.com/users/StuAtGit/orgs","repos_url":"https://api.github.com/users/StuAtGit/repos","events_url":"https://api.github.com/users/StuAtGit/events{/privacy}","received_events_url":"https://api.github.com/users/StuAtGit/received_events","type":"User","site_admin":false},"created_at":"2018-09-10T19:00:53Z","updated_at":"2018-09-10T19:00:53Z","author_association":"NONE","body":"@jasontedor - ran into this myself. With respect to:\r\n\r\n> .It's worth considering, but what's the problem with the system property?\r\n\r\nI can only respond with this:\r\n\r\nhttps://discuss.elastic.co/t/need-info-for-es-set-netty-runtime-available-processors/111322\r\n\r\nA thread where you explain that this setting is not documented because it shouldn't be used except for \"some special cases\".\r\n\r\nIf the options are basically:\r\n\r\n  - have a deep understanding of every dependency your application pulls in, and all the configuration values those dependencies have (including *purposefully undocumented* ones), how they might conflict, and in what order I should initialize every object in my application, in particular, with respect to the configuration values those objects load.\r\n\r\n  - or, have elastic search have some nice documentation that covers the \"some special cases\", and what to do about them.\r\n\r\nI feel like option #2 would be a more sustainable solution ;)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/420024659","html_url":"https://github.com/elastic/elasticsearch/issues/25741#issuecomment-420024659","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25741","id":420024659,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDAyNDY1OQ==","user":{"login":"StuAtGit","id":9757762,"node_id":"MDQ6VXNlcjk3NTc3NjI=","avatar_url":"https://avatars2.githubusercontent.com/u/9757762?v=4","gravatar_id":"","url":"https://api.github.com/users/StuAtGit","html_url":"https://github.com/StuAtGit","followers_url":"https://api.github.com/users/StuAtGit/followers","following_url":"https://api.github.com/users/StuAtGit/following{/other_user}","gists_url":"https://api.github.com/users/StuAtGit/gists{/gist_id}","starred_url":"https://api.github.com/users/StuAtGit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StuAtGit/subscriptions","organizations_url":"https://api.github.com/users/StuAtGit/orgs","repos_url":"https://api.github.com/users/StuAtGit/repos","events_url":"https://api.github.com/users/StuAtGit/events{/privacy}","received_events_url":"https://api.github.com/users/StuAtGit/received_events","type":"User","site_admin":false},"created_at":"2018-09-10T19:03:51Z","updated_at":"2018-09-10T19:04:30Z","author_association":"NONE","body":"An re-iterate what's been mentioned elsewhere - we see Netty used all over the place in our dependencies, it's very common.\r\n\r\nYet, I've only run into this issue in elasticsearch. It seems like, if all the libs never had a problem with this setting, there might be a workable solution for elasticsearch. True, I don't have the solution myself, but it does seem like you folks are deflecting a bit here.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/420026515","html_url":"https://github.com/elastic/elasticsearch/issues/25741#issuecomment-420026515","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25741","id":420026515,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDAyNjUxNQ==","user":{"login":"StuAtGit","id":9757762,"node_id":"MDQ6VXNlcjk3NTc3NjI=","avatar_url":"https://avatars2.githubusercontent.com/u/9757762?v=4","gravatar_id":"","url":"https://api.github.com/users/StuAtGit","html_url":"https://github.com/StuAtGit","followers_url":"https://api.github.com/users/StuAtGit/followers","following_url":"https://api.github.com/users/StuAtGit/following{/other_user}","gists_url":"https://api.github.com/users/StuAtGit/gists{/gist_id}","starred_url":"https://api.github.com/users/StuAtGit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StuAtGit/subscriptions","organizations_url":"https://api.github.com/users/StuAtGit/orgs","repos_url":"https://api.github.com/users/StuAtGit/repos","events_url":"https://api.github.com/users/StuAtGit/events{/privacy}","received_events_url":"https://api.github.com/users/StuAtGit/received_events","type":"User","site_admin":false},"created_at":"2018-09-10T19:10:44Z","updated_at":"2018-09-10T19:10:44Z","author_association":"NONE","body":"Actually, here is a solution: if you basically are recommending everyone set some undocumented property to ignore a particular code path that trips an exception in a rather common situation (again, lots of libs use netty), why not just try to set the variable, and catch the exception that indicates it's already set, print a warning, and move on? \r\n\r\nWhy crash out the whole application, just because someone set a netty variable before elasticsearch did?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/420039958","html_url":"https://github.com/elastic/elasticsearch/issues/25741#issuecomment-420039958","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25741","id":420039958,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMDAzOTk1OA==","user":{"login":"StuAtGit","id":9757762,"node_id":"MDQ6VXNlcjk3NTc3NjI=","avatar_url":"https://avatars2.githubusercontent.com/u/9757762?v=4","gravatar_id":"","url":"https://api.github.com/users/StuAtGit","html_url":"https://github.com/StuAtGit","followers_url":"https://api.github.com/users/StuAtGit/followers","following_url":"https://api.github.com/users/StuAtGit/following{/other_user}","gists_url":"https://api.github.com/users/StuAtGit/gists{/gist_id}","starred_url":"https://api.github.com/users/StuAtGit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StuAtGit/subscriptions","organizations_url":"https://api.github.com/users/StuAtGit/orgs","repos_url":"https://api.github.com/users/StuAtGit/repos","events_url":"https://api.github.com/users/StuAtGit/events{/privacy}","received_events_url":"https://api.github.com/users/StuAtGit/received_events","type":"User","site_admin":false},"created_at":"2018-09-10T19:57:14Z","updated_at":"2018-09-10T19:57:14Z","author_association":"NONE","body":"Opened a topic covering this here:\r\n\r\nhttps://discuss.elastic.co/t/contradictory-and-sometimes-poor-advice-given-for-es-set-netty-runtime-available-processors/148014","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/430043967","html_url":"https://github.com/elastic/elasticsearch/issues/25741#issuecomment-430043967","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25741","id":430043967,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMDA0Mzk2Nw==","user":{"login":"ealexhaywood","id":5815400,"node_id":"MDQ6VXNlcjU4MTU0MDA=","avatar_url":"https://avatars1.githubusercontent.com/u/5815400?v=4","gravatar_id":"","url":"https://api.github.com/users/ealexhaywood","html_url":"https://github.com/ealexhaywood","followers_url":"https://api.github.com/users/ealexhaywood/followers","following_url":"https://api.github.com/users/ealexhaywood/following{/other_user}","gists_url":"https://api.github.com/users/ealexhaywood/gists{/gist_id}","starred_url":"https://api.github.com/users/ealexhaywood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ealexhaywood/subscriptions","organizations_url":"https://api.github.com/users/ealexhaywood/orgs","repos_url":"https://api.github.com/users/ealexhaywood/repos","events_url":"https://api.github.com/users/ealexhaywood/events{/privacy}","received_events_url":"https://api.github.com/users/ealexhaywood/received_events","type":"User","site_admin":false},"created_at":"2018-10-15T23:04:44Z","updated_at":"2018-10-15T23:04:44Z","author_association":"NONE","body":"Setting a system property is a fine workaround, but it's not a solution.  I'm running into this issue using Spring Boot Webflux, which runs on Netty by default.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/430056692","html_url":"https://github.com/elastic/elasticsearch/issues/25741#issuecomment-430056692","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25741","id":430056692,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMDA1NjY5Mg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-10-16T00:11:35Z","updated_at":"2018-10-16T00:11:35Z","author_association":"MEMBER","body":"Would you clarify what in your mind is the difference that makes this a workaround but not a solution?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/430063966","html_url":"https://github.com/elastic/elasticsearch/issues/25741#issuecomment-430063966","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25741","id":430063966,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMDA2Mzk2Ng==","user":{"login":"ealexhaywood","id":5815400,"node_id":"MDQ6VXNlcjU4MTU0MDA=","avatar_url":"https://avatars1.githubusercontent.com/u/5815400?v=4","gravatar_id":"","url":"https://api.github.com/users/ealexhaywood","html_url":"https://github.com/ealexhaywood","followers_url":"https://api.github.com/users/ealexhaywood/followers","following_url":"https://api.github.com/users/ealexhaywood/following{/other_user}","gists_url":"https://api.github.com/users/ealexhaywood/gists{/gist_id}","starred_url":"https://api.github.com/users/ealexhaywood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ealexhaywood/subscriptions","organizations_url":"https://api.github.com/users/ealexhaywood/orgs","repos_url":"https://api.github.com/users/ealexhaywood/repos","events_url":"https://api.github.com/users/ealexhaywood/events{/privacy}","received_events_url":"https://api.github.com/users/ealexhaywood/received_events","type":"User","site_admin":false},"created_at":"2018-10-16T00:56:49Z","updated_at":"2018-10-16T00:56:49Z","author_association":"NONE","body":"As your question implies, whether it's good practice to use a system property here is debatable.  \r\n\r\nIt's code smelly to me because it's not for the system -- it's for elasticsearch code.  If I have to add a comment into my code with a link to an obscure github issue explaining why I'm doing it, it's probably not the best way to do it.\r\n\r\nThat said, it's really not a big deal.  It's just another _thing_ we have to be aware of now, and it's a good idea to reduce the amount of _things_ you have to keep track of.  ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/491309416","html_url":"https://github.com/elastic/elasticsearch/issues/25741#issuecomment-491309416","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25741","id":491309416,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTMwOTQxNg==","user":{"login":"jonfreedman","id":1092134,"node_id":"MDQ6VXNlcjEwOTIxMzQ=","avatar_url":"https://avatars3.githubusercontent.com/u/1092134?v=4","gravatar_id":"","url":"https://api.github.com/users/jonfreedman","html_url":"https://github.com/jonfreedman","followers_url":"https://api.github.com/users/jonfreedman/followers","following_url":"https://api.github.com/users/jonfreedman/following{/other_user}","gists_url":"https://api.github.com/users/jonfreedman/gists{/gist_id}","starred_url":"https://api.github.com/users/jonfreedman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonfreedman/subscriptions","organizations_url":"https://api.github.com/users/jonfreedman/orgs","repos_url":"https://api.github.com/users/jonfreedman/repos","events_url":"https://api.github.com/users/jonfreedman/events{/privacy}","received_events_url":"https://api.github.com/users/jonfreedman/received_events","type":"User","site_admin":false},"created_at":"2019-05-10T14:29:51Z","updated_at":"2019-05-10T14:29:51Z","author_association":"NONE","body":"It's a workaround because you have to google a stack trace and follow a chain of several github issues - if it was a solution then it would prevent the issue from occurring in the first place.\r\n\r\nI encountered this when adding elasticsearch to a spring-boot project that already uses redis (as per https://github.com/spring-projects/spring-boot/issues/12242#issuecomment-394940171).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/492228110","html_url":"https://github.com/elastic/elasticsearch/issues/25741#issuecomment-492228110","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25741","id":492228110,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjIyODExMA==","user":{"login":"jtxyz","id":20443631,"node_id":"MDQ6VXNlcjIwNDQzNjMx","avatar_url":"https://avatars2.githubusercontent.com/u/20443631?v=4","gravatar_id":"","url":"https://api.github.com/users/jtxyz","html_url":"https://github.com/jtxyz","followers_url":"https://api.github.com/users/jtxyz/followers","following_url":"https://api.github.com/users/jtxyz/following{/other_user}","gists_url":"https://api.github.com/users/jtxyz/gists{/gist_id}","starred_url":"https://api.github.com/users/jtxyz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtxyz/subscriptions","organizations_url":"https://api.github.com/users/jtxyz/orgs","repos_url":"https://api.github.com/users/jtxyz/repos","events_url":"https://api.github.com/users/jtxyz/events{/privacy}","received_events_url":"https://api.github.com/users/jtxyz/received_events","type":"User","site_admin":false},"created_at":"2019-05-14T13:03:07Z","updated_at":"2019-05-14T13:03:07Z","author_association":"NONE","body":"This caught me out when adding seemingly innocuous dependency to an application. The Azure Storage SDK also uses Netty under the hood and _safely_ calls NettyRuntime.availableProcessors() when initializing.\r\n\r\nIn some applications the order of initialisation of components is hard to control, and in some environments settings VM args can be difficult or undesirable. An alternative solution, such as the ability to configure using the Settings object instead of a system property, would be much appreciated.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/528440753","html_url":"https://github.com/elastic/elasticsearch/issues/25741#issuecomment-528440753","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25741","id":528440753,"node_id":"MDEyOklzc3VlQ29tbWVudDUyODQ0MDc1Mw==","user":{"login":"gjesse","id":1432118,"node_id":"MDQ6VXNlcjE0MzIxMTg=","avatar_url":"https://avatars1.githubusercontent.com/u/1432118?v=4","gravatar_id":"","url":"https://api.github.com/users/gjesse","html_url":"https://github.com/gjesse","followers_url":"https://api.github.com/users/gjesse/followers","following_url":"https://api.github.com/users/gjesse/following{/other_user}","gists_url":"https://api.github.com/users/gjesse/gists{/gist_id}","starred_url":"https://api.github.com/users/gjesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gjesse/subscriptions","organizations_url":"https://api.github.com/users/gjesse/orgs","repos_url":"https://api.github.com/users/gjesse/repos","events_url":"https://api.github.com/users/gjesse/events{/privacy}","received_events_url":"https://api.github.com/users/gjesse/received_events","type":"User","site_admin":false},"created_at":"2019-09-05T16:05:16Z","updated_at":"2019-09-05T16:05:16Z","author_association":"NONE","body":"hard to believe that the system property solution was deemed to be acceptable here, rather than a simple code change in the initialization.","performed_via_github_app":null}]