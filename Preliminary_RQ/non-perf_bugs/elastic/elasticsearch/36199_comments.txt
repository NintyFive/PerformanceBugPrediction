[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/444007179","html_url":"https://github.com/elastic/elasticsearch/issues/36199#issuecomment-444007179","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36199","id":444007179,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NDAwNzE3OQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-12-04T08:04:24Z","updated_at":"2018-12-04T08:04:24Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-security","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/444022336","html_url":"https://github.com/elastic/elasticsearch/issues/36199#issuecomment-444022336","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36199","id":444022336,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NDAyMjMzNg==","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"created_at":"2018-12-04T08:59:31Z","updated_at":"2018-12-04T08:59:31Z","author_association":"MEMBER","body":"A very similar failure has occured in https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+bwc-tests/112/console:\r\n\r\n```\r\n09:46:15 [2018-12-04T08:46:12,152][ERROR][o.e.b.ElasticsearchUncaughtExceptionHandler] [upgraded-node-0] fatal error in thread [elasticsearch[upgraded-node-0][management][T#1]], exiting\r\n09:46:15 java.lang.AssertionError: Attempt to authorize action [indices:monitor/stats[n]] for [_xpack] without an existing request-id\r\n09:46:15 \tat org.elasticsearch.xpack.security.authz.AuthorizationService.authorize(AuthorizationService.java:148) ~[?:?]\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/444092838","html_url":"https://github.com/elastic/elasticsearch/issues/36199#issuecomment-444092838","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36199","id":444092838,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NDA5MjgzOA==","user":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"created_at":"2018-12-04T13:05:37Z","updated_at":"2018-12-04T13:07:33Z","author_association":"CONTRIBUTOR","body":"As best I can tell, we have a situation where there is a `User` with a principal of `_xpack` which is logically the `XPackUser` but is not actually `XPackUser.INSTANCE`.\r\n\r\nThat's not supposed to happen - `InternalUserSerializationHelper` should deserialize it to that instance. I could work around it in that `assert` (and I may need to) but this points to something more significant, so I'm going to spend some time working out what's going on there.\r\n\r\nI think the fact that this is happening in 5.x BWC tests is the primary factor (and explains why this hasn't been seen on master).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/446139668","html_url":"https://github.com/elastic/elasticsearch/issues/36199#issuecomment-446139668","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36199","id":446139668,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NjEzOTY2OA==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2018-12-11T09:52:02Z","updated_at":"2018-12-11T09:52:02Z","author_association":"MEMBER","body":"Another instance of this failure happened on 6.x branch: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+bwc-tests/136/console\r\n\r\n```\r\n[2018-12-10T23:42:03,450][INFO ][o.e.x.w.WatcherService   ] [upgraded-node-0] paused watch execution, reason [pausing watcher, cluster contains old nodes not supportin\r\ng distributed watch execution], cancelled [0] queued tasks\r\n[2018-12-10T23:42:03,507][INFO ][o.e.x.w.WatcherService   ] [upgraded-node-0] paused watch execution, reason [pausing watcher, cluster contains old nodes not supportin\r\ng distributed watch execution], cancelled [0] queued tasks\r\n[2018-12-10T23:42:03,532][ERROR][o.e.b.ElasticsearchUncaughtExceptionHandler] [upgraded-node-0] fatal error in thread [elasticsearch[upgraded-node-0][refresh][T#1]], e\r\nxiting\r\njava.lang.AssertionError: Attempt to authorize action [indices:admin/refresh[s][r]] for [_xpack] without an existing request-id\r\n        at org.elasticsearch.xpack.security.authz.AuthorizationService.authorize(AuthorizationService.java:148) ~[?:?]\r\n        at org.elasticsearch.xpack.security.transport.ServerTransportFilter$NodeProfile.lambda$executeAsUser$4(ServerTransportFilter.java:184) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authz.AuthorizationUtils$AsyncAuthorizer.maybeRun(AuthorizationUtils.java:177) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authz.AuthorizationUtils$AsyncAuthorizer.setRunAsRoles(AuthorizationUtils.java:171) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authz.AuthorizationUtils$AsyncAuthorizer.authorize(AuthorizationUtils.java:159) ~[?:?]\r\n        at org.elasticsearch.xpack.security.transport.ServerTransportFilter$NodeProfile.lambda$executeAsUser$5(ServerTransportFilter.java:187) ~[?:?]\r\n        at org.elasticsearch.xpack.core.security.SecurityContext.executeAsUser(SecurityContext.java:94) ~[?:?]\r\n        at org.elasticsearch.xpack.security.transport.ServerTransportFilter$NodeProfile.executeAsUser(ServerTransportFilter.java:180) ~[?:?]\r\n        at org.elasticsearch.xpack.security.transport.ServerTransportFilter$NodeProfile.executeAsOldVersionXPackUser(ServerTransportFilter.java:175) ~[?:?]\r\n        at org.elasticsearch.xpack.security.transport.ServerTransportFilter$NodeProfile.lambda$inbound$3(ServerTransportFilter.java:149) ~[?:?]\r\n        at org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:60) ~[elasticsearch-6.6.0-SNAPSHOT.jar:6.6.0-SNAPSHOT]\r\n        at org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.lambda$authenticateAsync$2(AuthenticationService.java:177) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.lambda$lookForExistingAuthentication$4(AuthenticationService.java:210) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.lookForExistingAuthentication(AuthenticationService.java:221) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.authenticateAsync(AuthenticationService.java:175) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.access$000(AuthenticationService.java:134) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authc.AuthenticationService.authenticate(AuthenticationService.java:104) ~[?:?]\r\n        at org.elasticsearch.xpack.security.transport.ServerTransportFilter$NodeProfile.inbound(ServerTransportFilter.java:130) ~[?:?]\r\n        at org.elasticsearch.xpack.security.transport.SecurityServerTransportInterceptor$ProfileSecuredRequestHandler.messageReceived(SecurityServerTransportInterceptor.java:306) ~[?:?]\r\n        at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:66) ~[elasticsearch-6.6.0-SNAPSHOT.jar:6.6.0-SNAPSHOT]\r\n        at org.elasticsearch.transport.TcpTransport$RequestHandler.doRun(TcpTransport.java:1346) ~[elasticsearch-6.6.0-SNAPSHOT.jar:6.6.0-SNAPSHOT]\r\n        at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:759) ~[elasticsearch-6.6.0-SNAPSHOT.jar:6.6.0-SNAPSHOT]\r\n        at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[elasticsearch-6.6.0-SNAPSHOT.jar:6.6.0-SNAPSHOT]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\r\n        at java.lang.Thread.run(Thread.java:834) [?:?]\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/446182526","html_url":"https://github.com/elastic/elasticsearch/issues/36199#issuecomment-446182526","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36199","id":446182526,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NjE4MjUyNg==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2018-12-11T12:17:24Z","updated_at":"2018-12-11T12:17:24Z","author_association":"MEMBER","body":"Another instance of this test failure: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+bwc-tests/137/console\r\n\r\n```\r\n[2018-12-11T11:15:30,375][ERROR][o.e.b.ElasticsearchUncaughtExceptionHandler] [upgraded-node-0] fatal error in thread [elasticsearch[upgraded-node-0][management][T#1]], exiting\r\njava.lang.AssertionError: Attempt to authorize action [indices:monitor/stats[n]] for [_xpack] without an existing request-id\r\n        at org.elasticsearch.xpack.security.authz.AuthorizationService.authorize(AuthorizationService.java:148) ~[?:?]\r\n        at org.elasticsearch.xpack.security.transport.ServerTransportFilter$NodeProfile.lambda$executeAsUser$4(ServerTransportFilter.java:184) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authz.AuthorizationUtils$AsyncAuthorizer.maybeRun(AuthorizationUtils.java:177) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authz.AuthorizationUtils$AsyncAuthorizer.setRunAsRoles(AuthorizationUtils.java:171) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authz.AuthorizationUtils$AsyncAuthorizer.authorize(AuthorizationUtils.java:159) ~[?:?]\r\n        at org.elasticsearch.xpack.security.transport.ServerTransportFilter$NodeProfile.lambda$executeAsUser$5(ServerTransportFilter.java:187) ~[?:?]\r\n        at org.elasticsearch.xpack.core.security.SecurityContext.executeAsUser(SecurityContext.java:94) ~[?:?]\r\n        at org.elasticsearch.xpack.security.transport.ServerTransportFilter$NodeProfile.executeAsUser(ServerTransportFilter.java:180) ~[?:?]\r\n        at org.elasticsearch.xpack.security.transport.ServerTransportFilter$NodeProfile.executeAsOldVersionXPackUser(ServerTransportFilter.java:175) ~[?:?]\r\n        at org.elasticsearch.xpack.security.transport.ServerTransportFilter$NodeProfile.lambda$inbound$3(ServerTransportFilter.java:149) ~[?:?]\r\n        at org.elasticsearch.action.ActionListener$1.onResponse(ActionListener.java:60) ~[elasticsearch-6.6.0-SNAPSHOT.jar:6.6.0-SNAPSHOT]\r\n        at org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.lambda$authenticateAsync$2(AuthenticationService.java:177) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.lambda$lookForExistingAuthentication$4(AuthenticationService.java:210) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.lookForExistingAuthentication(AuthenticationService.java:221) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.authenticateAsync(AuthenticationService.java:175) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authc.AuthenticationService$Authenticator.access$000(AuthenticationService.java:134) ~[?:?]\r\n        at org.elasticsearch.xpack.security.authc.AuthenticationService.authenticate(AuthenticationService.java:104) ~[?:?]\r\n        at org.elasticsearch.xpack.security.transport.ServerTransportFilter$NodeProfile.inbound(ServerTransportFilter.java:130) ~[?:?]\r\n        at org.elasticsearch.xpack.security.transport.SecurityServerTransportInterceptor$ProfileSecuredRequestHandler.messageReceived(SecurityServerTransportInterceptor.java:306) ~[?:?]\r\n        at org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:66) ~[elasticsearch-6.6.0-SNAPSHOT.jar:6.6.0-SNAPSHOT]\r\n        at org.elasticsearch.transport.TcpTransport$RequestHandler.doRun(TcpTransport.java:1346) ~[elasticsearch-6.6.0-SNAPSHOT.jar:6.6.0-SNAPSHOT]\r\n        at org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:759) ~[elasticsearch-6.6.0-SNAPSHOT.jar:6.6.0-SNAPSHOT]\r\n        at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[elasticsearch-6.6.0-SNAPSHOT.jar:6.6.0-SNAPSHOT]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\r\n        at java.lang.Thread.run(Thread.java:834) [?:?]\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/446187979","html_url":"https://github.com/elastic/elasticsearch/issues/36199#issuecomment-446187979","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36199","id":446187979,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NjE4Nzk3OQ==","user":{"login":"jaymode","id":4339958,"node_id":"MDQ6VXNlcjQzMzk5NTg=","avatar_url":"https://avatars1.githubusercontent.com/u/4339958?v=4","gravatar_id":"","url":"https://api.github.com/users/jaymode","html_url":"https://github.com/jaymode","followers_url":"https://api.github.com/users/jaymode/followers","following_url":"https://api.github.com/users/jaymode/following{/other_user}","gists_url":"https://api.github.com/users/jaymode/gists{/gist_id}","starred_url":"https://api.github.com/users/jaymode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaymode/subscriptions","organizations_url":"https://api.github.com/users/jaymode/orgs","repos_url":"https://api.github.com/users/jaymode/repos","events_url":"https://api.github.com/users/jaymode/events{/privacy}","received_events_url":"https://api.github.com/users/jaymode/received_events","type":"User","site_admin":false},"created_at":"2018-12-11T12:38:07Z","updated_at":"2018-12-11T12:38:07Z","author_association":"MEMBER","body":"I think we are losing the requestId when we switch users and rewrite authentication in `executeAsOldVersionXPackUser`","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/446189626","html_url":"https://github.com/elastic/elasticsearch/issues/36199#issuecomment-446189626","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36199","id":446189626,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NjE4OTYyNg==","user":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"created_at":"2018-12-11T12:44:07Z","updated_at":"2018-12-11T12:44:07Z","author_association":"CONTRIBUTOR","body":"We might well be, but we should not be requiring a request-id for internal users (such as `_xpack`), so this assert shouldn't be tripped.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/446221590","html_url":"https://github.com/elastic/elasticsearch/issues/36199#issuecomment-446221590","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36199","id":446221590,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NjIyMTU5MA==","user":{"login":"jaymode","id":4339958,"node_id":"MDQ6VXNlcjQzMzk5NTg=","avatar_url":"https://avatars1.githubusercontent.com/u/4339958?v=4","gravatar_id":"","url":"https://api.github.com/users/jaymode","html_url":"https://github.com/jaymode","followers_url":"https://api.github.com/users/jaymode/followers","following_url":"https://api.github.com/users/jaymode/following{/other_user}","gists_url":"https://api.github.com/users/jaymode/gists{/gist_id}","starred_url":"https://api.github.com/users/jaymode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaymode/subscriptions","organizations_url":"https://api.github.com/users/jaymode/orgs","repos_url":"https://api.github.com/users/jaymode/repos","events_url":"https://api.github.com/users/jaymode/events{/privacy}","received_events_url":"https://api.github.com/users/jaymode/received_events","type":"User","site_admin":false},"created_at":"2018-12-11T14:29:42Z","updated_at":"2018-12-11T14:29:42Z","author_association":"MEMBER","body":"Sorry for being too brief earlier; this should be considered an internal user but the issue is that this technically won't be matched as an internal user due to the way we create the bwc user:\r\n\r\nhttps://github.com/elastic/elasticsearch/blob/a3324116facf6c6dd48b207c94f6b8463a2cfb4e/x-pack/plugin/security/src/main/java/org/elasticsearch/xpack/security/transport/ServerTransportFilter.java#L172-L176\r\n\r\nI'll open a fix.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/446581817","html_url":"https://github.com/elastic/elasticsearch/issues/36199#issuecomment-446581817","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36199","id":446581817,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NjU4MTgxNw==","user":{"login":"astefan","id":893749,"node_id":"MDQ6VXNlcjg5Mzc0OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/893749?v=4","gravatar_id":"","url":"https://api.github.com/users/astefan","html_url":"https://github.com/astefan","followers_url":"https://api.github.com/users/astefan/followers","following_url":"https://api.github.com/users/astefan/following{/other_user}","gists_url":"https://api.github.com/users/astefan/gists{/gist_id}","starred_url":"https://api.github.com/users/astefan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astefan/subscriptions","organizations_url":"https://api.github.com/users/astefan/orgs","repos_url":"https://api.github.com/users/astefan/repos","events_url":"https://api.github.com/users/astefan/events{/privacy}","received_events_url":"https://api.github.com/users/astefan/received_events","type":"User","site_admin":false},"created_at":"2018-12-12T13:07:21Z","updated_at":"2018-12-12T13:07:21Z","author_association":"CONTRIBUTOR","body":"And another one, similar but on a different action: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+bwc-tests/141/console\r\n\r\n```\r\n09:03:03  |    [2018-12-12T07:01:09,210][ERROR][o.e.b.ElasticsearchUncaughtExceptionHandler] [upgraded-node-0] fatal error in thread [elasticsearch[upgraded-node-0][management][T#1]], exiting\r\n09:03:03  |    java.lang.AssertionError: Attempt to authorize action [cluster:monitor/xpack/ml/job/stats/get[n]] for [_xpack] without an existing request-id\r\n09:03:03  |    \tat org.elasticsearch.xpack.security.authz.AuthorizationService.authorize(AuthorizationService.java:148) ~[?:?]\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/446619424","html_url":"https://github.com/elastic/elasticsearch/issues/36199#issuecomment-446619424","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36199","id":446619424,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NjYxOTQyNA==","user":{"login":"jaymode","id":4339958,"node_id":"MDQ6VXNlcjQzMzk5NTg=","avatar_url":"https://avatars1.githubusercontent.com/u/4339958?v=4","gravatar_id":"","url":"https://api.github.com/users/jaymode","html_url":"https://github.com/jaymode","followers_url":"https://api.github.com/users/jaymode/followers","following_url":"https://api.github.com/users/jaymode/following{/other_user}","gists_url":"https://api.github.com/users/jaymode/gists{/gist_id}","starred_url":"https://api.github.com/users/jaymode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaymode/subscriptions","organizations_url":"https://api.github.com/users/jaymode/orgs","repos_url":"https://api.github.com/users/jaymode/repos","events_url":"https://api.github.com/users/jaymode/events{/privacy}","received_events_url":"https://api.github.com/users/jaymode/received_events","type":"User","site_admin":false},"created_at":"2018-12-12T15:05:36Z","updated_at":"2018-12-12T15:05:36Z","author_association":"MEMBER","body":"https://github.com/elastic/elasticsearch/commit/677baf841e58bdd115274470384f5f07c1375268 should fix this","performed_via_github_app":null}]