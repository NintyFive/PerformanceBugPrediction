[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/192674951","html_url":"https://github.com/elastic/elasticsearch/issues/16969#issuecomment-192674951","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16969","id":192674951,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MjY3NDk1MQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-03-05T15:41:53Z","updated_at":"2016-03-05T15:41:53Z","author_association":"CONTRIBUTOR","body":"Hi @mesztam \n\nIt works for me in 2.2:\n\n```\nPUT t \n{\n  \"mappings\": {\n    \"parent\": {},\n    \"child\": {\n      \"_parent\": {\n        \"type\": \"parent\"\n      }\n    }\n  }\n}\n\nPUT t/parent/1\n{}\n\nPUT t/child/2?parent=1\n{}\n\nGET t/_search\n{\n  \"query\": {\n    \"terms\": {\n      \"_parent\": [\"parent#1\"]\n    }\n  }\n}\n```\n\nHowever, you shouldn't rely on this working in the future. This behaviour will be removed in 5.0.  See https://github.com/elastic/elasticsearch/issues/5399#issuecomment-156814603 for more\n\nUse a `has_parent` query instead\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/192675132","html_url":"https://github.com/elastic/elasticsearch/issues/16969#issuecomment-192675132","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16969","id":192675132,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MjY3NTEzMg==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2016-03-05T15:43:53Z","updated_at":"2016-03-05T15:43:53Z","author_association":"MEMBER","body":"@mesztam Or from 5.0 you can use the new `parent_id` query, to find child documents with a specific parent id value.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/311038266","html_url":"https://github.com/elastic/elasticsearch/issues/16969#issuecomment-311038266","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16969","id":311038266,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTAzODI2Ng==","user":{"login":"Ragazzo","id":1748844,"node_id":"MDQ6VXNlcjE3NDg4NDQ=","avatar_url":"https://avatars2.githubusercontent.com/u/1748844?v=4","gravatar_id":"","url":"https://api.github.com/users/Ragazzo","html_url":"https://github.com/Ragazzo","followers_url":"https://api.github.com/users/Ragazzo/followers","following_url":"https://api.github.com/users/Ragazzo/following{/other_user}","gists_url":"https://api.github.com/users/Ragazzo/gists{/gist_id}","starred_url":"https://api.github.com/users/Ragazzo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ragazzo/subscriptions","organizations_url":"https://api.github.com/users/Ragazzo/orgs","repos_url":"https://api.github.com/users/Ragazzo/repos","events_url":"https://api.github.com/users/Ragazzo/events{/privacy}","received_events_url":"https://api.github.com/users/Ragazzo/received_events","type":"User","site_admin":false},"created_at":"2017-06-26T11:55:14Z","updated_at":"2017-06-26T11:55:14Z","author_association":"NONE","body":"@martijnvg can you given an example of such query? would be very usefull, since docs are very unclear about it.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/311040184","html_url":"https://github.com/elastic/elasticsearch/issues/16969#issuecomment-311040184","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16969","id":311040184,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTA0MDE4NA==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2017-06-26T12:04:59Z","updated_at":"2017-06-26T12:04:59Z","author_association":"MEMBER","body":"@Ragazzo The `parent_id` query is described here: https://www.elastic.co/guide/en/elasticsearch/reference/5.4/query-dsl-parent-id-query.html","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/311042107","html_url":"https://github.com/elastic/elasticsearch/issues/16969#issuecomment-311042107","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16969","id":311042107,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTA0MjEwNw==","user":{"login":"Ragazzo","id":1748844,"node_id":"MDQ6VXNlcjE3NDg4NDQ=","avatar_url":"https://avatars2.githubusercontent.com/u/1748844?v=4","gravatar_id":"","url":"https://api.github.com/users/Ragazzo","html_url":"https://github.com/Ragazzo","followers_url":"https://api.github.com/users/Ragazzo/followers","following_url":"https://api.github.com/users/Ragazzo/following{/other_user}","gists_url":"https://api.github.com/users/Ragazzo/gists{/gist_id}","starred_url":"https://api.github.com/users/Ragazzo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ragazzo/subscriptions","organizations_url":"https://api.github.com/users/Ragazzo/orgs","repos_url":"https://api.github.com/users/Ragazzo/repos","events_url":"https://api.github.com/users/Ragazzo/events{/privacy}","received_events_url":"https://api.github.com/users/Ragazzo/received_events","type":"User","site_admin":false},"created_at":"2017-06-26T12:14:38Z","updated_at":"2017-06-26T12:14:38Z","author_association":"NONE","body":"@martijnvg I saw that, but how can I query all childs by several parents ids? I mean `parent_id IN (1,2,3,4,5)`? Docs only describe 1 to 1 match.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/311043697","html_url":"https://github.com/elastic/elasticsearch/issues/16969#issuecomment-311043697","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16969","id":311043697,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTA0MzY5Nw==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2017-06-26T12:22:22Z","updated_at":"2017-06-26T12:22:22Z","author_association":"MEMBER","body":"@Ragazzo You can wrap multple `parent_id` queries in the should clause of a `bool` query:\r\nhttps://www.elastic.co/guide/en/elasticsearch/reference/5.4/query-dsl-bool-query.html","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/311043988","html_url":"https://github.com/elastic/elasticsearch/issues/16969#issuecomment-311043988","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16969","id":311043988,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTA0Mzk4OA==","user":{"login":"Ragazzo","id":1748844,"node_id":"MDQ6VXNlcjE3NDg4NDQ=","avatar_url":"https://avatars2.githubusercontent.com/u/1748844?v=4","gravatar_id":"","url":"https://api.github.com/users/Ragazzo","html_url":"https://github.com/Ragazzo","followers_url":"https://api.github.com/users/Ragazzo/followers","following_url":"https://api.github.com/users/Ragazzo/following{/other_user}","gists_url":"https://api.github.com/users/Ragazzo/gists{/gist_id}","starred_url":"https://api.github.com/users/Ragazzo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ragazzo/subscriptions","organizations_url":"https://api.github.com/users/Ragazzo/orgs","repos_url":"https://api.github.com/users/Ragazzo/repos","events_url":"https://api.github.com/users/Ragazzo/events{/privacy}","received_events_url":"https://api.github.com/users/Ragazzo/received_events","type":"User","site_admin":false},"created_at":"2017-06-26T12:23:51Z","updated_at":"2017-06-26T12:24:18Z","author_association":"NONE","body":"@martijnvg but I am quering by parent table, all what I want to do is to get parents with childs, based on childs parent_id. Is it possible?","performed_via_github_app":null}]