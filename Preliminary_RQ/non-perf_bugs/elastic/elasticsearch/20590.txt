{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/20590","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20590/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20590/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20590/events","html_url":"https://github.com/elastic/elasticsearch/issues/20590","id":178178378,"node_id":"MDU6SXNzdWUxNzgxNzgzNzg=","number":20590,"title":"Enhance histogram aggregation - specify number of buckets instead of interval","user":{"login":"nreese","id":373691,"node_id":"MDQ6VXNlcjM3MzY5MQ==","avatar_url":"https://avatars0.githubusercontent.com/u/373691?v=4","gravatar_id":"","url":"https://api.github.com/users/nreese","html_url":"https://github.com/nreese","followers_url":"https://api.github.com/users/nreese/followers","following_url":"https://api.github.com/users/nreese/following{/other_user}","gists_url":"https://api.github.com/users/nreese/gists{/gist_id}","starred_url":"https://api.github.com/users/nreese/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nreese/subscriptions","organizations_url":"https://api.github.com/users/nreese/orgs","repos_url":"https://api.github.com/users/nreese/repos","events_url":"https://api.github.com/users/nreese/events{/privacy}","received_events_url":"https://api.github.com/users/nreese/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-09-20T20:58:02Z","updated_at":"2016-09-21T13:42:59Z","closed_at":"2016-09-21T13:42:59Z","author_association":"NONE","active_lock_reason":null,"body":"The current implementation of the histogram aggregation requires an interval field to specify the histogram bucket size. Providing an appropriate interval requires additional knowledge about the data set, usually the min and max. This additional knowledge can be obtained from Elasticsearch but requires additional HTTP traffic and adds unnecessary complexity to client implementations.\n\nI recommend adding a new parameter, **buckets**, to the histogram aggregation. Elasticsearch would use this value to automatically calculate an appropriate interval that generates the specified number of buckets taking into consideration all provided queries, filters, and aggregation filters.\n\n```\n{\n    \"aggs\" : {\n        \"prices\" : {\n            \"histogram\" : {\n                \"field\" : \"price\",\n                \"buckets\" : 25\n            }\n        }\n    }\n}\n```\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}