[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/333688122","html_url":"https://github.com/elastic/elasticsearch/issues/26859#issuecomment-333688122","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26859","id":333688122,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzY4ODEyMg==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2017-10-02T22:54:13Z","updated_at":"2017-10-02T22:54:13Z","author_association":"MEMBER","body":"/cc @jpountz @jimczi ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/333767248","html_url":"https://github.com/elastic/elasticsearch/issues/26859#issuecomment-333767248","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26859","id":333767248,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzc2NzI0OA==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2017-10-03T07:52:50Z","updated_at":"2017-10-03T07:52:50Z","author_association":"MEMBER","body":"The `span_multi` does not support numeric range query but it accepts term range query. \r\nIn es the range query builder cannot differentiate a range query over numerics or terms until the inner build of the Lucene Query. This is why a `span_multi` accepts an inner range query and only fails at build time when it discovers that the range query is not a `TermRangeQuery`:\r\nhttps://github.com/elastic/elasticsearch/blob/927111c91dac5e3cef868eead3cfe8fd4075bee5/core/src/main/java/org/elasticsearch/index/query/SpanMultiTermQueryBuilder.java#L135\r\nThe error message seems ok to me, it alerts the user that the inner query is unsupported. \r\nHow did you encounter this issue @rjernst ? \r\nWith https://github.com/elastic/elasticsearch/pull/23119 only the error message should have changed (from an anonymous class in PointRangeQuery to an IndexOrDocValuesQuery).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/333926500","html_url":"https://github.com/elastic/elasticsearch/issues/26859#issuecomment-333926500","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26859","id":333926500,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzkyNjUwMA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2017-10-03T17:56:16Z","updated_at":"2017-10-03T17:56:16Z","author_association":"MEMBER","body":"Thanks @jimczi. I was confused, nothing to see here. :)","performed_via_github_app":null}]