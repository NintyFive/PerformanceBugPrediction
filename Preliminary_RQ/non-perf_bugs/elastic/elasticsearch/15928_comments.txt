[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/170930183","html_url":"https://github.com/elastic/elasticsearch/issues/15928#issuecomment-170930183","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15928","id":170930183,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MDkzMDE4Mw==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2016-01-12T14:36:16Z","updated_at":"2016-01-12T14:36:16Z","author_association":"MEMBER","body":"how do you initialize your transport client? does it point to the tribe node or to nodes that belong to the two clusters?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/170943515","html_url":"https://github.com/elastic/elasticsearch/issues/15928#issuecomment-170943515","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15928","id":170943515,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MDk0MzUxNQ==","user":{"login":"nirajpatel","id":3387076,"node_id":"MDQ6VXNlcjMzODcwNzY=","avatar_url":"https://avatars0.githubusercontent.com/u/3387076?v=4","gravatar_id":"","url":"https://api.github.com/users/nirajpatel","html_url":"https://github.com/nirajpatel","followers_url":"https://api.github.com/users/nirajpatel/followers","following_url":"https://api.github.com/users/nirajpatel/following{/other_user}","gists_url":"https://api.github.com/users/nirajpatel/gists{/gist_id}","starred_url":"https://api.github.com/users/nirajpatel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nirajpatel/subscriptions","organizations_url":"https://api.github.com/users/nirajpatel/orgs","repos_url":"https://api.github.com/users/nirajpatel/repos","events_url":"https://api.github.com/users/nirajpatel/events{/privacy}","received_events_url":"https://api.github.com/users/nirajpatel/received_events","type":"User","site_admin":false},"created_at":"2016-01-12T15:15:50Z","updated_at":"2016-01-12T15:16:08Z","author_association":"NONE","body":"The transport client was initialized to point to the tribe node. I actually setup 3 tribe nodes so I added all 3 using the **addTransportAddress** method to my TransportClient.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/170945516","html_url":"https://github.com/elastic/elasticsearch/issues/15928#issuecomment-170945516","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15928","id":170945516,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MDk0NTUxNg==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2016-01-12T15:22:25Z","updated_at":"2016-01-12T15:22:25Z","author_association":"MEMBER","body":"how come you have three tribe nodes? not sure how that would work, I would expect you to have a single tribe node and the transport client pointing to that one. I am thinking you get different answers because of this.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/170946418","html_url":"https://github.com/elastic/elasticsearch/issues/15928#issuecomment-170946418","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15928","id":170946418,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MDk0NjQxOA==","user":{"login":"nirajpatel","id":3387076,"node_id":"MDQ6VXNlcjMzODcwNzY=","avatar_url":"https://avatars0.githubusercontent.com/u/3387076?v=4","gravatar_id":"","url":"https://api.github.com/users/nirajpatel","html_url":"https://github.com/nirajpatel","followers_url":"https://api.github.com/users/nirajpatel/followers","following_url":"https://api.github.com/users/nirajpatel/following{/other_user}","gists_url":"https://api.github.com/users/nirajpatel/gists{/gist_id}","starred_url":"https://api.github.com/users/nirajpatel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nirajpatel/subscriptions","organizations_url":"https://api.github.com/users/nirajpatel/orgs","repos_url":"https://api.github.com/users/nirajpatel/repos","events_url":"https://api.github.com/users/nirajpatel/events{/privacy}","received_events_url":"https://api.github.com/users/nirajpatel/received_events","type":"User","site_admin":false},"created_at":"2016-01-12T15:25:40Z","updated_at":"2016-01-12T15:26:27Z","author_association":"NONE","body":"Okay, let me see if that is the reason! (I have 3 in the case that one of them goes down)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/171001176","html_url":"https://github.com/elastic/elasticsearch/issues/15928#issuecomment-171001176","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15928","id":171001176,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MTAwMTE3Ng==","user":{"login":"nirajpatel","id":3387076,"node_id":"MDQ6VXNlcjMzODcwNzY=","avatar_url":"https://avatars0.githubusercontent.com/u/3387076?v=4","gravatar_id":"","url":"https://api.github.com/users/nirajpatel","html_url":"https://github.com/nirajpatel","followers_url":"https://api.github.com/users/nirajpatel/followers","following_url":"https://api.github.com/users/nirajpatel/following{/other_user}","gists_url":"https://api.github.com/users/nirajpatel/gists{/gist_id}","starred_url":"https://api.github.com/users/nirajpatel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nirajpatel/subscriptions","organizations_url":"https://api.github.com/users/nirajpatel/orgs","repos_url":"https://api.github.com/users/nirajpatel/repos","events_url":"https://api.github.com/users/nirajpatel/events{/privacy}","received_events_url":"https://api.github.com/users/nirajpatel/received_events","type":"User","site_admin":false},"created_at":"2016-01-12T18:20:20Z","updated_at":"2016-01-12T18:30:53Z","author_association":"NONE","body":"@javanna I did 100 iterations and here are the results for if the TransportClient sees that the index exists\n\nfalse\nfalse\nfalse\ntrue\ntrue\ntrue\ntrue\nfalse\nfalse\ntrue\nfalse\nfalse\nfalse\ntrue\ntrue\ntrue\ntrue\nfalse\nfalse\ntrue\nfalse\nfalse\nfalse\ntrue\ntrue\ntrue\ntrue\nfalse\n....\n\nMeanwhile the REST API is consistent.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/171009691","html_url":"https://github.com/elastic/elasticsearch/issues/15928#issuecomment-171009691","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15928","id":171009691,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MTAwOTY5MQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2016-01-12T18:46:48Z","updated_at":"2016-01-12T18:46:48Z","author_association":"MEMBER","body":"Can you please post the code that initialized your `TransportClient` ? which node do you send the request to through the REST layer?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/171027854","html_url":"https://github.com/elastic/elasticsearch/issues/15928#issuecomment-171027854","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15928","id":171027854,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MTAyNzg1NA==","user":{"login":"nirajpatel","id":3387076,"node_id":"MDQ6VXNlcjMzODcwNzY=","avatar_url":"https://avatars0.githubusercontent.com/u/3387076?v=4","gravatar_id":"","url":"https://api.github.com/users/nirajpatel","html_url":"https://github.com/nirajpatel","followers_url":"https://api.github.com/users/nirajpatel/followers","following_url":"https://api.github.com/users/nirajpatel/following{/other_user}","gists_url":"https://api.github.com/users/nirajpatel/gists{/gist_id}","starred_url":"https://api.github.com/users/nirajpatel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nirajpatel/subscriptions","organizations_url":"https://api.github.com/users/nirajpatel/orgs","repos_url":"https://api.github.com/users/nirajpatel/repos","events_url":"https://api.github.com/users/nirajpatel/events{/privacy}","received_events_url":"https://api.github.com/users/nirajpatel/received_events","type":"User","site_admin":false},"created_at":"2016-01-12T19:35:48Z","updated_at":"2016-01-12T19:36:49Z","author_association":"NONE","body":"Sure!\n\n``` java\nprivate String tribeClusterName = \"tribe-cluster-name\";\nprivate String tribeClusterHosts = \"tribe-node-a\";\nprivate int tribeClusterPort = 9300;\n\npublic TransportClient tribeTransportClient() {\n    TransportClient transportClient = new TransportClient(clientSettings(tribeClusterName, true));\n    for (String dataAddress : tribeClusterHosts.split(\",\")) {\n        TransportAddress transportAddress = new InetSocketTransportAddress(dataAddress, tribeClusterPort);\n        transportClient.addTransportAddress(transportAddress);\n    }\n    return transportClient;\n}\n\nprivate Settings clientSettings(String clusterName, boolean sniff) {\n    return ImmutableSettings.settingsBuilder()\n        .put(\"cluster.name\", clusterName)\n        .put(\"client.transport.sniff\", sniff)\n        .build();\n}\n```\n\nI send the request to tribe-node-a:9200/_cat/indices through the REST interface.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/171206983","html_url":"https://github.com/elastic/elasticsearch/issues/15928#issuecomment-171206983","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15928","id":171206983,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MTIwNjk4Mw==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2016-01-13T07:46:49Z","updated_at":"2016-01-13T07:46:49Z","author_association":"MEMBER","body":"hi @nirajpatel can you try and remove sniffing please? I am afraid that it will make the transport client point to the tribe node plus all of the different nodes in the two clusters, which would explain your mixed results.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/171337732","html_url":"https://github.com/elastic/elasticsearch/issues/15928#issuecomment-171337732","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15928","id":171337732,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MTMzNzczMg==","user":{"login":"nirajpatel","id":3387076,"node_id":"MDQ6VXNlcjMzODcwNzY=","avatar_url":"https://avatars0.githubusercontent.com/u/3387076?v=4","gravatar_id":"","url":"https://api.github.com/users/nirajpatel","html_url":"https://github.com/nirajpatel","followers_url":"https://api.github.com/users/nirajpatel/followers","following_url":"https://api.github.com/users/nirajpatel/following{/other_user}","gists_url":"https://api.github.com/users/nirajpatel/gists{/gist_id}","starred_url":"https://api.github.com/users/nirajpatel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nirajpatel/subscriptions","organizations_url":"https://api.github.com/users/nirajpatel/orgs","repos_url":"https://api.github.com/users/nirajpatel/repos","events_url":"https://api.github.com/users/nirajpatel/events{/privacy}","received_events_url":"https://api.github.com/users/nirajpatel/received_events","type":"User","site_admin":false},"created_at":"2016-01-13T15:48:15Z","updated_at":"2016-01-13T15:48:15Z","author_association":"NONE","body":"@javanna that worked!! thank you :+1: \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/171340796","html_url":"https://github.com/elastic/elasticsearch/issues/15928#issuecomment-171340796","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15928","id":171340796,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MTM0MDc5Ng==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2016-01-13T15:55:16Z","updated_at":"2016-01-13T15:55:16Z","author_association":"MEMBER","body":"thanks for getting back to us @nirajpatel !\n","performed_via_github_app":null}]