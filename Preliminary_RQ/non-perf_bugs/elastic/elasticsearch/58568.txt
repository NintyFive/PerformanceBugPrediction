{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/58568","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/58568/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/58568/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/58568/events","html_url":"https://github.com/elastic/elasticsearch/issues/58568","id":645798083,"node_id":"MDU6SXNzdWU2NDU3OTgwODM=","number":58568,"title":"Clone API is not working as expected in ES 7.1","user":{"login":"alexis-anzieu-ssense","id":44810672,"node_id":"MDQ6VXNlcjQ0ODEwNjcy","avatar_url":"https://avatars0.githubusercontent.com/u/44810672?v=4","gravatar_id":"","url":"https://api.github.com/users/alexis-anzieu-ssense","html_url":"https://github.com/alexis-anzieu-ssense","followers_url":"https://api.github.com/users/alexis-anzieu-ssense/followers","following_url":"https://api.github.com/users/alexis-anzieu-ssense/following{/other_user}","gists_url":"https://api.github.com/users/alexis-anzieu-ssense/gists{/gist_id}","starred_url":"https://api.github.com/users/alexis-anzieu-ssense/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexis-anzieu-ssense/subscriptions","organizations_url":"https://api.github.com/users/alexis-anzieu-ssense/orgs","repos_url":"https://api.github.com/users/alexis-anzieu-ssense/repos","events_url":"https://api.github.com/users/alexis-anzieu-ssense/events{/privacy}","received_events_url":"https://api.github.com/users/alexis-anzieu-ssense/received_events","type":"User","site_admin":false},"labels":[{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":2042400575,"node_id":"MDU6TGFiZWwyMDQyNDAwNTc1","url":"https://api.github.com/repos/elastic/elasticsearch/labels/needs:triage","name":"needs:triage","color":"c5def5","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-06-25T19:25:54Z","updated_at":"2020-06-25T20:09:03Z","closed_at":"2020-06-25T19:35:31Z","author_association":"NONE","active_lock_reason":null,"body":"Running on **Elasticsearch 7.1**\r\nRegarding the documentation I should be able to clone an existing index with settings: https://www.elastic.co/guide/en/elasticsearch/reference/7.x/indices-clone-index.html\r\n\r\nHowever when I do this call:\r\n```\r\nPUT index1/_clone/index2\r\n  \"settings\": {\r\n    \"index.number_of_shards\": 3,\r\n    \"index.number_of_replicas\": 0,\r\n    \"index.auto_expand_replicas\": false,\r\n    \"index.routing.allocation.require._name\": null,\r\n    \"index.blocks.read_only\": false\r\n  }\r\n}\r\n```\r\n\r\nIt sends me back\r\n```\r\n{\r\n  \"error\": {\r\n    \"root_cause\": [\r\n      {\r\n        \"type\": \"invalid_type_name_exception\",\r\n        \"reason\": \"Document mapping type name can't start with '_', found: [_clone]\"\r\n      }\r\n    ],\r\n    \"type\": \"invalid_type_name_exception\",\r\n    \"reason\": \"Document mapping type name can't start with '_', found: [_clone]\"\r\n  },\r\n  \"status\": 400\r\n}\r\n```\r\n\r\nIt seems like a new feature on ES 7 so I should maybe use reindex API instead, or it may be fixed in the newest version, just to let you know. Thank you!\r\n","closed_by":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"performed_via_github_app":null}