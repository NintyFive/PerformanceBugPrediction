[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/445207127","html_url":"https://github.com/elastic/elasticsearch/issues/36352#issuecomment-445207127","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36352","id":445207127,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NTIwNzEyNw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-12-07T11:38:53Z","updated_at":"2018-12-07T11:38:53Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-security","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/445215163","html_url":"https://github.com/elastic/elasticsearch/issues/36352#issuecomment-445215163","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36352","id":445215163,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NTIxNTE2Mw==","user":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"created_at":"2018-12-07T12:14:45Z","updated_at":"2018-12-10T22:19:33Z","author_association":"CONTRIBUTOR","body":"I don't know how I feel about this. SAML can be frustrating to configure, I agree. However, I don't know what part of this Discuss thread is ADFS specific. They (OP) had configured their IDP (ADFS) to release one SAML NameID format and their SP (Elasticsearch) to wait for another. This could have happened for any combination of SAML IdP and SAML SP. \r\n In some cases it's as simple as it's presented to be in our blog. For all other cases, @tvernum has done a great job documenting all knobs, switches, and more in the [SAML Guide](https://www.elastic.co/guide/en/elastic-stack-overview/6.5/saml-guide.html) which is supposed to be the source of truth for the  SAML realm configuration.\r\n\r\n- Were they aware of the SAML Guide ? \r\n- Had they actually ready it?\r\n- Was there a specific question they had after reading it or that wasn't covered in there?\r\n\r\n\r\nEven if this was an ADFS specific thing, we have discussed a couple of times the possibility to add IdP specific instructions for SAML and I'm still rather reluctant to do so for a couple of reasons:\r\n\r\n1. Where do we stop ? ADFS ? Auth0 and Okta ? Ping ? more ?\r\n1. This will only be helpful if it is maintained regularly. IdPs make updates also, change configurations, defaults etc. If we host outdated instructions, it will probably do more harm than good. \r\n1. I think this will give out the impression that we \"support\" this configuration and I fear that support will start getting requests to support ADFS too. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/445594636","html_url":"https://github.com/elastic/elasticsearch/issues/36352#issuecomment-445594636","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36352","id":445594636,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NTU5NDYzNg==","user":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"created_at":"2018-12-10T00:25:55Z","updated_at":"2019-01-30T09:18:58Z","author_association":"CONTRIBUTOR","body":"The other problem with attempting this is that a lot of IdP have a variety of configuration options, and I don't know how you can reasonable accommodate that in documentation.\r\n\r\nMy feeling is that a lot of people are _not reading the docs_ because they are long and contain a lot of fine details. Adding in _more docs_ with more specifics like _\"If your ADFS service is configured to require signed assertions then ... (you can see whether ADFS requires signed assertions by looking at ....)\"}_ will end up being _a lot_ of information.\r\nI don't think I'm exagerating there. If you [search through discuss](https://discuss.elastic.co/search?expanded=true&q=adfs%20saml%20after%3A2018-01-01%20order%3Alatest) there's quite a variety of different issues that people run into with ADFS - in many cases because their ADFS service has a particular configuration.\r\n\r\nWe _could_ (subject to all @jkakavas's concerns above, which I agree with) document \"Here's _a way_ to make ADFS work\", but I don't think that will be very satisfying. People aren't going to change their ADFS configuration just to accommodate our stack, and nor should they have to - we have enough knobs to turn that they should be able get things working with any sane ADFS setup.\r\n\r\nThis is true for IdPs other than ADFS as well, but ADFS tends to be a primary offender because it:\r\n1. is complex\r\n2. has a lot configuration options\r\n3. isn't primarily a \"SAML IdP\" so much as a federation service that supports SAML as an option\r\n4. is _really_ picky about what data it will process, but really lax about what data it will send out.\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/445595496","html_url":"https://github.com/elastic/elasticsearch/issues/36352#issuecomment-445595496","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36352","id":445595496,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NTU5NTQ5Ng==","user":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"created_at":"2018-12-10T00:28:42Z","updated_at":"2018-12-10T00:28:42Z","author_association":"CONTRIBUTOR","body":"I would be 100% supportive of someone writing a blog post about configuring SAML with ADFS because that overcomes most of the concerns above - it doesn't need to cover every possible ADFS setup option, it doesn't make any statement about our support for ADFS compared to any other IdP, and it's OK for it to cover a specific ADFS version and a specific Elastic Stack version.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/522175135","html_url":"https://github.com/elastic/elasticsearch/issues/36352#issuecomment-522175135","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36352","id":522175135,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjE3NTEzNQ==","user":{"login":"sscarduzio","id":1327189,"node_id":"MDQ6VXNlcjEzMjcxODk=","avatar_url":"https://avatars3.githubusercontent.com/u/1327189?v=4","gravatar_id":"","url":"https://api.github.com/users/sscarduzio","html_url":"https://github.com/sscarduzio","followers_url":"https://api.github.com/users/sscarduzio/followers","following_url":"https://api.github.com/users/sscarduzio/following{/other_user}","gists_url":"https://api.github.com/users/sscarduzio/gists{/gist_id}","starred_url":"https://api.github.com/users/sscarduzio/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sscarduzio/subscriptions","organizations_url":"https://api.github.com/users/sscarduzio/orgs","repos_url":"https://api.github.com/users/sscarduzio/repos","events_url":"https://api.github.com/users/sscarduzio/events{/privacy}","received_events_url":"https://api.github.com/users/sscarduzio/received_events","type":"User","site_admin":false},"created_at":"2019-08-16T22:55:21Z","updated_at":"2019-08-16T22:55:21Z","author_association":"CONTRIBUTOR","body":"Did anyone eventually write that blog post?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/536802616","html_url":"https://github.com/elastic/elasticsearch/issues/36352#issuecomment-536802616","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36352","id":536802616,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNjgwMjYxNg==","user":{"login":"debadair","id":362578,"node_id":"MDQ6VXNlcjM2MjU3OA==","avatar_url":"https://avatars1.githubusercontent.com/u/362578?v=4","gravatar_id":"","url":"https://api.github.com/users/debadair","html_url":"https://github.com/debadair","followers_url":"https://api.github.com/users/debadair/followers","following_url":"https://api.github.com/users/debadair/following{/other_user}","gists_url":"https://api.github.com/users/debadair/gists{/gist_id}","starred_url":"https://api.github.com/users/debadair/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/debadair/subscriptions","organizations_url":"https://api.github.com/users/debadair/orgs","repos_url":"https://api.github.com/users/debadair/repos","events_url":"https://api.github.com/users/debadair/events{/privacy}","received_events_url":"https://api.github.com/users/debadair/received_events","type":"User","site_admin":false},"created_at":"2019-10-01T00:11:15Z","updated_at":"2019-10-01T00:11:15Z","author_association":"CONTRIBUTOR","body":"Closing as fixed/won't fix in the docs. ","performed_via_github_app":null}]