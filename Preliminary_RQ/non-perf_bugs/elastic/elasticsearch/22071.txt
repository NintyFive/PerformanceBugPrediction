{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/22071","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22071/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22071/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22071/events","html_url":"https://github.com/elastic/elasticsearch/issues/22071","id":194566680,"node_id":"MDU6SXNzdWUxOTQ1NjY2ODA=","number":22071,"title":"Hashicorp Vault backend for Shield","user":{"login":"thenom","id":3070415,"node_id":"MDQ6VXNlcjMwNzA0MTU=","avatar_url":"https://avatars1.githubusercontent.com/u/3070415?v=4","gravatar_id":"","url":"https://api.github.com/users/thenom","html_url":"https://github.com/thenom","followers_url":"https://api.github.com/users/thenom/followers","following_url":"https://api.github.com/users/thenom/following{/other_user}","gists_url":"https://api.github.com/users/thenom/gists{/gist_id}","starred_url":"https://api.github.com/users/thenom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thenom/subscriptions","organizations_url":"https://api.github.com/users/thenom/orgs","repos_url":"https://api.github.com/users/thenom/repos","events_url":"https://api.github.com/users/thenom/events{/privacy}","received_events_url":"https://api.github.com/users/thenom/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-12-09T10:50:38Z","updated_at":"2017-03-21T17:51:52Z","closed_at":"2017-03-21T17:51:52Z","author_association":"NONE","active_lock_reason":null,"body":"Feature request:\r\n\r\nWe handle a lot of client data and have got quite far with regards to storing no credentials anywhere on our AWS architecture for our current solution we are working on.  The problem with ES that we are currently hitting is, if we had a 30 day index that we clean up using the _delete_by_query then we cannot use watcher or any external call for this because we would have to store auth details for the call (forced to use http input in the watch as we cannot use _api calls in the simple search input).\r\n\r\nThe side affect of implementing Vault as a shield realm is we could use the OTP feature and auditing of Vault to regulate user access to the ES cluster or even Vault user\\pass on Kibana.  Also we could utilize the aws-ec2 auth backend feature in Vault and give EC2 instances\\lambda's ect access to ES based on the IAM policy applied to an instance.","closed_by":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"performed_via_github_app":null}