[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/111520456","html_url":"https://github.com/elastic/elasticsearch/issues/11579#issuecomment-111520456","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11579","id":111520456,"node_id":"MDEyOklzc3VlQ29tbWVudDExMTUyMDQ1Ng==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-06-12T15:06:36Z","updated_at":"2015-06-12T15:06:36Z","author_association":"CONTRIBUTOR","body":"I'm afraid I don't understand what you're asking. You want to expand on your question, perhaps with JSON examples?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/112460922","html_url":"https://github.com/elastic/elasticsearch/issues/11579#issuecomment-112460922","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11579","id":112460922,"node_id":"MDEyOklzc3VlQ29tbWVudDExMjQ2MDkyMg==","user":{"login":"ilanrivers","id":7239804,"node_id":"MDQ6VXNlcjcyMzk4MDQ=","avatar_url":"https://avatars0.githubusercontent.com/u/7239804?v=4","gravatar_id":"","url":"https://api.github.com/users/ilanrivers","html_url":"https://github.com/ilanrivers","followers_url":"https://api.github.com/users/ilanrivers/followers","following_url":"https://api.github.com/users/ilanrivers/following{/other_user}","gists_url":"https://api.github.com/users/ilanrivers/gists{/gist_id}","starred_url":"https://api.github.com/users/ilanrivers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilanrivers/subscriptions","organizations_url":"https://api.github.com/users/ilanrivers/orgs","repos_url":"https://api.github.com/users/ilanrivers/repos","events_url":"https://api.github.com/users/ilanrivers/events{/privacy}","received_events_url":"https://api.github.com/users/ilanrivers/received_events","type":"User","site_admin":false},"created_at":"2015-06-16T14:55:25Z","updated_at":"2015-06-18T12:41:29Z","author_association":"NONE","body":"I will try to give a clear example:\nLets say you fill an index with 3 words:\n\n```\nPOST /test_es_suggest/type\n{\n  \"word\": \"Software\"  \n}\n\nPOST /test_es_suggest/type\n{\n  \"word\": \"Developer\"  \n}\n\nPOST /test_es_suggest/type\n{\n  \"word\": \"Programmer\"  \n}\n```\n\nNow i use the Suggest API as follows:\n\n```\nGET /test_es_suggest/_suggest\n{\n  \"Suggest\": {\n      \"term\": {\n        \"field\": \"word\",\n        \"suggest_mode\": \"popular\",\n        \"size\": 2,\n        \"prefix_len\": 1,\n        \"analyzer\": \"default\"\n      },\n      \"text\": \"Softwarer\"\n    }\n}\n```\n\nI receive the following results which is fine because software was spelled bad now it is corrected\nThe options is filled with the new word:\n\n```\n\"Suggest\": [\n      {\n         \"text\": \"softwarer\",\n         \"offset\": 0,\n         \"length\": 9,\n         \"options\": [\n            {\n               \"text\": \"software\",\n               \"score\": 0.875,\n               \"freq\": 1\n            }\n         ]\n      }\n   ]\n```\n\nNow if i search for the correct word:\n\n```\nGET /test_es_suggest/_suggest\n{\n  \"Suggest\": {\n      \"term\": {\n        \"field\": \"word\",\n        \"suggest_mode\": \"popular\",\n        \"size\": 2,\n        \"prefix_len\": 1,\n        \"analyzer\": \"default\"\n      },\n      \"text\": \"Software\"\n    }\n}\n```\n\nThe results is as follows:\n\n```\n\"Suggest\": [\n      {\n         \"text\": \"software\",\n         \"offset\": 0,\n         \"length\": 8,\n         \"options\": []\n      }\n   ]\n```\n\nOptions is empty so I assume there is nothing to be suggested OR was the word just not found?\n\nIf i search for \"softwareasdfasdf\" i get the exact same response which i know i get that response because there is no suitable word to be suggested.\n\n```\n\"Suggest\": [\n      {\n         \"text\": \"softwareasdfasdf\",\n         \"offset\": 0,\n         \"length\": 16,\n         \"options\": []\n      }\n   ]\n```\n\nIn the example with \"Software\" I would like to know that the word was correct so there is nothing to be suggested. In my opinion there is a clear difference in the reason both responses show an empty \"options\" array. One word cannot be found and the other word is already correct.\n\nSo my question is, can something be added to the response so I know the difference?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/113143403","html_url":"https://github.com/elastic/elasticsearch/issues/11579#issuecomment-113143403","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11579","id":113143403,"node_id":"MDEyOklzc3VlQ29tbWVudDExMzE0MzQwMw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-06-18T12:43:47Z","updated_at":"2015-06-18T12:43:47Z","author_association":"CONTRIBUTOR","body":"What about just setting the `suggest_mode` to `always`?\n\nSee https://www.elastic.co/guide/en/elasticsearch/reference/current/search-suggesters-term.html\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/113154587","html_url":"https://github.com/elastic/elasticsearch/issues/11579#issuecomment-113154587","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11579","id":113154587,"node_id":"MDEyOklzc3VlQ29tbWVudDExMzE1NDU4Nw==","user":{"login":"ilanrivers","id":7239804,"node_id":"MDQ6VXNlcjcyMzk4MDQ=","avatar_url":"https://avatars0.githubusercontent.com/u/7239804?v=4","gravatar_id":"","url":"https://api.github.com/users/ilanrivers","html_url":"https://github.com/ilanrivers","followers_url":"https://api.github.com/users/ilanrivers/followers","following_url":"https://api.github.com/users/ilanrivers/following{/other_user}","gists_url":"https://api.github.com/users/ilanrivers/gists{/gist_id}","starred_url":"https://api.github.com/users/ilanrivers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilanrivers/subscriptions","organizations_url":"https://api.github.com/users/ilanrivers/orgs","repos_url":"https://api.github.com/users/ilanrivers/repos","events_url":"https://api.github.com/users/ilanrivers/events{/privacy}","received_events_url":"https://api.github.com/users/ilanrivers/received_events","type":"User","site_admin":false},"created_at":"2015-06-18T13:24:33Z","updated_at":"2015-06-18T13:24:33Z","author_association":"NONE","body":"According to the documentation:\nSuggest mode Always : Suggest any matching suggestions based on terms in the suggest text. \n\nBut if I use suggest mode always I still do not know if the word was found or not and I still receive an empty options array by just changing the mode to always so it seems this does not guarantee that you receive a suggestion.\n\n```\nGET /test_es_suggest/_suggest\n{\n  \"Suggest\": {\n      \"term\": {\n        \"field\": \"word\",\n        \"suggest_mode\": \"always\",\n        \"size\": 2,\n        \"prefix_len\": 1,\n        \"analyzer\": \"default\"\n      },\n      \"text\": \"softwaredev\"\n    }\n}\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/119997793","html_url":"https://github.com/elastic/elasticsearch/issues/11579#issuecomment-119997793","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11579","id":119997793,"node_id":"MDEyOklzc3VlQ29tbWVudDExOTk5Nzc5Mw==","user":{"login":"ilanrivers","id":7239804,"node_id":"MDQ6VXNlcjcyMzk4MDQ=","avatar_url":"https://avatars0.githubusercontent.com/u/7239804?v=4","gravatar_id":"","url":"https://api.github.com/users/ilanrivers","html_url":"https://github.com/ilanrivers","followers_url":"https://api.github.com/users/ilanrivers/followers","following_url":"https://api.github.com/users/ilanrivers/following{/other_user}","gists_url":"https://api.github.com/users/ilanrivers/gists{/gist_id}","starred_url":"https://api.github.com/users/ilanrivers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilanrivers/subscriptions","organizations_url":"https://api.github.com/users/ilanrivers/orgs","repos_url":"https://api.github.com/users/ilanrivers/repos","events_url":"https://api.github.com/users/ilanrivers/events{/privacy}","received_events_url":"https://api.github.com/users/ilanrivers/received_events","type":"User","site_admin":false},"created_at":"2015-07-09T14:17:39Z","updated_at":"2015-07-09T14:17:39Z","author_association":"NONE","body":"Was this question clear now? @clintongormley \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/138583748","html_url":"https://github.com/elastic/elasticsearch/issues/11579#issuecomment-138583748","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11579","id":138583748,"node_id":"MDEyOklzc3VlQ29tbWVudDEzODU4Mzc0OA==","user":{"login":"ilanrivers","id":7239804,"node_id":"MDQ6VXNlcjcyMzk4MDQ=","avatar_url":"https://avatars0.githubusercontent.com/u/7239804?v=4","gravatar_id":"","url":"https://api.github.com/users/ilanrivers","html_url":"https://github.com/ilanrivers","followers_url":"https://api.github.com/users/ilanrivers/followers","following_url":"https://api.github.com/users/ilanrivers/following{/other_user}","gists_url":"https://api.github.com/users/ilanrivers/gists{/gist_id}","starred_url":"https://api.github.com/users/ilanrivers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilanrivers/subscriptions","organizations_url":"https://api.github.com/users/ilanrivers/orgs","repos_url":"https://api.github.com/users/ilanrivers/repos","events_url":"https://api.github.com/users/ilanrivers/events{/privacy}","received_events_url":"https://api.github.com/users/ilanrivers/received_events","type":"User","site_admin":false},"created_at":"2015-09-08T14:32:47Z","updated_at":"2015-09-08T14:32:47Z","author_association":"NONE","body":"Is this issue going to be done? It seems as if a field can be added to indicate if the search term is an exact match with an word in the index and that solves the problem.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/144054158","html_url":"https://github.com/elastic/elasticsearch/issues/11579#issuecomment-144054158","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11579","id":144054158,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NDA1NDE1OA==","user":{"login":"DaanBiesterbos","id":3858692,"node_id":"MDQ6VXNlcjM4NTg2OTI=","avatar_url":"https://avatars2.githubusercontent.com/u/3858692?v=4","gravatar_id":"","url":"https://api.github.com/users/DaanBiesterbos","html_url":"https://github.com/DaanBiesterbos","followers_url":"https://api.github.com/users/DaanBiesterbos/followers","following_url":"https://api.github.com/users/DaanBiesterbos/following{/other_user}","gists_url":"https://api.github.com/users/DaanBiesterbos/gists{/gist_id}","starred_url":"https://api.github.com/users/DaanBiesterbos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaanBiesterbos/subscriptions","organizations_url":"https://api.github.com/users/DaanBiesterbos/orgs","repos_url":"https://api.github.com/users/DaanBiesterbos/repos","events_url":"https://api.github.com/users/DaanBiesterbos/events{/privacy}","received_events_url":"https://api.github.com/users/DaanBiesterbos/received_events","type":"User","site_admin":false},"created_at":"2015-09-29T13:12:44Z","updated_at":"2015-09-29T13:12:44Z","author_association":"NONE","body":"Indeed. It would be very useful to know why no suggestion was returned exactly. :+1:  \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/146430063","html_url":"https://github.com/elastic/elasticsearch/issues/11579#issuecomment-146430063","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11579","id":146430063,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NjQzMDA2Mw==","user":{"login":"simpliste","id":2363371,"node_id":"MDQ6VXNlcjIzNjMzNzE=","avatar_url":"https://avatars1.githubusercontent.com/u/2363371?v=4","gravatar_id":"","url":"https://api.github.com/users/simpliste","html_url":"https://github.com/simpliste","followers_url":"https://api.github.com/users/simpliste/followers","following_url":"https://api.github.com/users/simpliste/following{/other_user}","gists_url":"https://api.github.com/users/simpliste/gists{/gist_id}","starred_url":"https://api.github.com/users/simpliste/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simpliste/subscriptions","organizations_url":"https://api.github.com/users/simpliste/orgs","repos_url":"https://api.github.com/users/simpliste/repos","events_url":"https://api.github.com/users/simpliste/events{/privacy}","received_events_url":"https://api.github.com/users/simpliste/received_events","type":"User","site_admin":false},"created_at":"2015-10-08T06:11:56Z","updated_at":"2015-10-08T06:11:56Z","author_association":"NONE","body":"It would be very helpful for me too, to see the difference between a term that is correctly spelled and a term where is no suggestion for!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/278299691","html_url":"https://github.com/elastic/elasticsearch/issues/11579#issuecomment-278299691","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11579","id":278299691,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODI5OTY5MQ==","user":{"login":"nkelly75","id":18514876,"node_id":"MDQ6VXNlcjE4NTE0ODc2","avatar_url":"https://avatars0.githubusercontent.com/u/18514876?v=4","gravatar_id":"","url":"https://api.github.com/users/nkelly75","html_url":"https://github.com/nkelly75","followers_url":"https://api.github.com/users/nkelly75/followers","following_url":"https://api.github.com/users/nkelly75/following{/other_user}","gists_url":"https://api.github.com/users/nkelly75/gists{/gist_id}","starred_url":"https://api.github.com/users/nkelly75/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nkelly75/subscriptions","organizations_url":"https://api.github.com/users/nkelly75/orgs","repos_url":"https://api.github.com/users/nkelly75/repos","events_url":"https://api.github.com/users/nkelly75/events{/privacy}","received_events_url":"https://api.github.com/users/nkelly75/received_events","type":"User","site_admin":false},"created_at":"2017-02-08T11:13:18Z","updated_at":"2017-02-08T11:13:18Z","author_association":"NONE","body":"Might be simplifying here but my experience is that the term suggester and phrase suggester can be valuable with little custom effort. They are good at suggesting corrections so if the data has 'virtualize' and I type 'virtualise' I'll get a useful suggestion. The suggest_mode 'always' doesn't seem to work as I'd expect so when a user types a term that is _good_ the term suggester can't offer feedback.\r\n\r\nIn the process of working around this by extracting interesting terms from main index and generating a special index for use with a completion suggester. This is going pretty well but seems strange that the term/phrase suggesters can do the harder job of helping suggest corrections but can't provide results that say yep 'virtuali' is a term that can be completed with 'virtualize'.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/375589186","html_url":"https://github.com/elastic/elasticsearch/issues/11579#issuecomment-375589186","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/11579","id":375589186,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTU4OTE4Ng==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2018-03-23T09:14:14Z","updated_at":"2018-03-23T09:14:14Z","author_association":"MEMBER","body":"The `term` and `phrase` suggester are not returning corrections based on the absence of a term, it uses the statistics of the index to choose whether a term should be corrected or not. The fact that a term appears once in a single shard is not an indication that the term is correctly spelled. There are ways to improve the precision of these suggesters, for instance the `real_word_error_likelihood` can be set to 1 in order to indicate that all terms in the dictionary are correctly spelled. I'd not advise to do that if you're indexing random pages on the web but this can be a solution if you don't want to return suggestions for terms that already appear in the dictionary. \r\nI am going to close this issue because the goal of these suggesters is not to determine if a term (or phrase) is present in the index but rather try to find a better query that would statistically be more relevant for the targeted corpus. ","performed_via_github_app":null}]