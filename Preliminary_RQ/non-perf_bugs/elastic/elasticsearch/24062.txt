{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/24062","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24062/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24062/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24062/events","html_url":"https://github.com/elastic/elasticsearch/issues/24062","id":221192582,"node_id":"MDU6SXNzdWUyMjExOTI1ODI=","number":24062,"title":"Cannot start elasticsearch because of java.security.AccessControlException","user":{"login":"grapemix","id":480406,"node_id":"MDQ6VXNlcjQ4MDQwNg==","avatar_url":"https://avatars2.githubusercontent.com/u/480406?v=4","gravatar_id":"","url":"https://api.github.com/users/grapemix","html_url":"https://github.com/grapemix","followers_url":"https://api.github.com/users/grapemix/followers","following_url":"https://api.github.com/users/grapemix/following{/other_user}","gists_url":"https://api.github.com/users/grapemix/gists{/gist_id}","starred_url":"https://api.github.com/users/grapemix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grapemix/subscriptions","organizations_url":"https://api.github.com/users/grapemix/orgs","repos_url":"https://api.github.com/users/grapemix/repos","events_url":"https://api.github.com/users/grapemix/events{/privacy}","received_events_url":"https://api.github.com/users/grapemix/received_events","type":"User","site_admin":false},"labels":[{"id":111624690,"node_id":"MDU6TGFiZWwxMTE2MjQ2OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/feedback_needed","name":"feedback_needed","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-04-12T08:47:55Z","updated_at":"2017-04-12T09:20:39Z","closed_at":"2017-04-12T09:20:38Z","author_association":"NONE","active_lock_reason":null,"body":"<!--\r\nGitHub is reserved for bug reports and feature requests. The best place\r\nto ask a general question is at the Elastic Discourse forums at\r\nhttps://discuss.elastic.co. If you are in fact posting a bug report or\r\na feature request, please include one and only one of the below blocks\r\nin your new issue. Note that whether you're filing a bug report or a\r\nfeature request, ensure that your submission is for an\r\n[OS that we support](https://www.elastic.co/support/matrix#show_os).\r\nBug reports on an OS that we do not support or feature requests\r\nspecific to an OS that we do not support will be closed.\r\n-->\r\n\r\n<!--\r\nIf you are filing a bug report, please remove the below feature\r\nrequest block and provide responses for all of the below items.\r\n-->\r\n\r\n**Elasticsearch version**:\r\n5.3.0 thru deb\r\n \r\n**JVM version**:\r\nopenjdk-9-jre-headless & openjdk-8-jre-headless\r\n\r\nI tried both, but still no luck\r\n\r\n**OS version**:\r\nUbuntu 16.04 in aws\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\nCannot even start elasticsearch. I saw a bug from https://github.com/elastic/elasticsearch/issues/18761\r\nBut installing openjdk-9-jre-headless | openjdk-8-jre-headless do not solve my problem. Any ideas?\r\n\r\n**Steps to reproduce**:\r\n 1. sudo service elasticsearch start\r\n 2. \r\n 3.\r\n\r\n**Provide logs (if relevant)**:\r\nFrom elasticsearch.log\r\n\r\n[2017-04-12 08:09:28,552][INFO ][node                     ] [Atlas] version[2.2.0], pid[28877], build[8ff36d1/2016-01-27T13:32:39Z]\r\n[2017-04-12 08:09:28,553][INFO ][node                     ] [Atlas] initializing ...\r\n[2017-04-12 08:09:29,485][INFO ][plugins                  ] [Atlas] modules [lang-expression, lang-groovy], plugins [], sites []\r\n[2017-04-12 08:09:29,534][INFO ][env                      ] [Atlas] using [1] data paths, mounts [[/ (/dev/xvda1)]], net usable_space [4.6gb], net total_space [7.7gb], spins? [no], types [ext4]\r\n[2017-04-12 08:09:29,534][INFO ][env                      ] [Atlas] heap size [1015.6mb], compressed ordinary object pointers [true]\r\n[2017-04-12 08:09:29,568][ERROR][bootstrap                ] Exception\r\njava.lang.Error: java.security.AccessControlException: access denied (\"java.lang.reflect.ReflectPermission\" \"suppressAccessChecks\")\r\n\tat com.twitter.jsr166e.Striped64.<clinit>(Striped64.java:319)\r\n\tat org.elasticsearch.common.metrics.CounterMetric.<init>(CounterMetric.java:28)\r\n\tat org.elasticsearch.common.util.concurrent.EsAbortPolicy.<init>(EsAbortPolicy.java:30)\r\n\tat org.elasticsearch.common.util.concurrent.EsExecutors.newFixed(EsExecutors.java:80)\r\n\tat org.elasticsearch.threadpool.ThreadPool.rebuild(ThreadPool.java:482)\r\n\tat org.elasticsearch.threadpool.ThreadPool.build(ThreadPool.java:400)\r\n\tat org.elasticsearch.threadpool.ThreadPool.<init>(ThreadPool.java:232)\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:158)\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:128)\r\n\tat org.elasticsearch.node.NodeBuilder.build(NodeBuilder.java:145)\r\n\tat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:178)\r\n\tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:285)\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:35)\r\nCaused by: java.security.AccessControlException: access denied (\"java.lang.reflect.ReflectPermission\" \"suppressAccessChecks\")\r\n\tat java.security.AccessControlContext.checkPermission(java.base@9-internal/AccessControlContext.java:468)\r\n\tat java.security.AccessController.checkPermission(java.base@9-internal/AccessController.java:894)\r\n\tat java.lang.SecurityManager.checkPermission(java.base@9-internal/SecurityManager.java:541)\r\n\tat java.lang.reflect.AccessibleObject.checkPermission(java.base@9-internal/AccessibleObject.java:74)\r\n\tat java.lang.reflect.Field.setAccessible(java.base@9-internal/Field.java:163)\r\n\tat com.twitter.jsr166e.Striped64$1.run(Striped64.java:340)\r\n\tat com.twitter.jsr166e.Striped64$1.run(Striped64.java:336)\r\n\tat java.security.AccessController.doPrivileged(java.base@9-internal/Native Method)\r\n\tat com.twitter.jsr166e.Striped64.getUnsafe(Striped64.java:335)\r\n\tat com.twitter.jsr166e.Striped64.<clinit>(Striped64.java:312)\r\n\t... 12 more\r\n","closed_by":{"login":"grapemix","id":480406,"node_id":"MDQ6VXNlcjQ4MDQwNg==","avatar_url":"https://avatars2.githubusercontent.com/u/480406?v=4","gravatar_id":"","url":"https://api.github.com/users/grapemix","html_url":"https://github.com/grapemix","followers_url":"https://api.github.com/users/grapemix/followers","following_url":"https://api.github.com/users/grapemix/following{/other_user}","gists_url":"https://api.github.com/users/grapemix/gists{/gist_id}","starred_url":"https://api.github.com/users/grapemix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grapemix/subscriptions","organizations_url":"https://api.github.com/users/grapemix/orgs","repos_url":"https://api.github.com/users/grapemix/repos","events_url":"https://api.github.com/users/grapemix/events{/privacy}","received_events_url":"https://api.github.com/users/grapemix/received_events","type":"User","site_admin":false},"performed_via_github_app":null}