{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/52845","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52845/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52845/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/52845/events","html_url":"https://github.com/elastic/elasticsearch/issues/52845","id":571617554,"node_id":"MDU6SXNzdWU1NzE2MTc1NTQ=","number":52845,"title":"EQL: Response format enhancements","user":{"login":"costin","id":76245,"node_id":"MDQ6VXNlcjc2MjQ1","avatar_url":"https://avatars3.githubusercontent.com/u/76245?v=4","gravatar_id":"","url":"https://api.github.com/users/costin","html_url":"https://github.com/costin","followers_url":"https://api.github.com/users/costin/followers","following_url":"https://api.github.com/users/costin/following{/other_user}","gists_url":"https://api.github.com/users/costin/gists{/gist_id}","starred_url":"https://api.github.com/users/costin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/costin/subscriptions","organizations_url":"https://api.github.com/users/costin/orgs","repos_url":"https://api.github.com/users/costin/repos","events_url":"https://api.github.com/users/costin/events{/privacy}","received_events_url":"https://api.github.com/users/costin/received_events","type":"User","site_admin":false},"labels":[{"id":1690690117,"node_id":"MDU6TGFiZWwxNjkwNjkwMTE3","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Query%20Languages/EQL","name":":Query Languages/EQL","color":"0e8a16","default":false,"description":"EQL querying"},{"id":929267538,"node_id":"MDU6TGFiZWw5MjkyNjc1Mzg=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/team-discuss","name":"team-discuss","color":"fbca04","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-02-26T19:51:01Z","updated_at":"2020-05-15T14:28:18Z","closed_at":"2020-02-27T18:24:50Z","author_association":"MEMBER","active_lock_reason":null,"body":"1. implicit sort\r\n\r\nCurrently, there's no sorting meaning the documents are returned based on their `doc_id`. Under the assumption that the docs are sorted based on @timestamp, the return order is correct however what if the index is not sorted?\r\n\r\nReturning documents always in a predefined order gives predictability and the expense of some performance in case of misconfiguration (no insert time sorting).\r\n\r\n2. Are fields ever needed in the response?\r\n\r\nEvents always return entire documents. So do sequences and joins and while matching on the field requires the engine to interpret that, response wise, do we ever need to process the returned data?\r\nIt seems always the search hits are returned verbatim - there's no way to perform projection and thus no extra processing is needed.\r\nThis is important since the engine can simply return the data as is.\r\nA separate point is whether we need to care of whether a field is in the source or not for the join-key since when we do the querying, we can just simply return the _source or, if we have to do field extraction, use doc_values for exact fields.\r\n\r\nRelated to https://github.com/elastic/elasticsearch/issues/49634\r\n\r\n3. How is pagination suppose to work?\r\n\r\nCurrently our response returns only results but not information on _resuming_.\r\nThe default page seems to be `50` items - how do we handle multiple pages?\r\nDo we want to support pagination or not? I suppose we do but that requires some kind of a cursor.\r\n\r\nAnd `search_after` parameter is inadequate for sequences and joins since information such as what is the last key we matched on, how to extract such information from the response cannot be passed around.\r\n\r\nSee: https://github.com/elastic/elasticsearch/issues/49594","closed_by":{"login":"costin","id":76245,"node_id":"MDQ6VXNlcjc2MjQ1","avatar_url":"https://avatars3.githubusercontent.com/u/76245?v=4","gravatar_id":"","url":"https://api.github.com/users/costin","html_url":"https://github.com/costin","followers_url":"https://api.github.com/users/costin/followers","following_url":"https://api.github.com/users/costin/following{/other_user}","gists_url":"https://api.github.com/users/costin/gists{/gist_id}","starred_url":"https://api.github.com/users/costin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/costin/subscriptions","organizations_url":"https://api.github.com/users/costin/orgs","repos_url":"https://api.github.com/users/costin/repos","events_url":"https://api.github.com/users/costin/events{/privacy}","received_events_url":"https://api.github.com/users/costin/received_events","type":"User","site_admin":false},"performed_via_github_app":null}