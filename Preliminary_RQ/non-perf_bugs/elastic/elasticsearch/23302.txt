{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/23302","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23302/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23302/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23302/events","html_url":"https://github.com/elastic/elasticsearch/issues/23302","id":209358656,"node_id":"MDU6SXNzdWUyMDkzNTg2NTY=","number":23302,"title":"Reg setAggregations using java client","user":{"login":"vivred","id":11588874,"node_id":"MDQ6VXNlcjExNTg4ODc0","avatar_url":"https://avatars1.githubusercontent.com/u/11588874?v=4","gravatar_id":"","url":"https://api.github.com/users/vivred","html_url":"https://github.com/vivred","followers_url":"https://api.github.com/users/vivred/followers","following_url":"https://api.github.com/users/vivred/following{/other_user}","gists_url":"https://api.github.com/users/vivred/gists{/gist_id}","starred_url":"https://api.github.com/users/vivred/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vivred/subscriptions","organizations_url":"https://api.github.com/users/vivred/orgs","repos_url":"https://api.github.com/users/vivred/repos","events_url":"https://api.github.com/users/vivred/events{/privacy}","received_events_url":"https://api.github.com/users/vivred/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-02-22T05:47:59Z","updated_at":"2017-02-22T05:53:32Z","closed_at":"2017-02-22T05:53:32Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\r\n\r\nEarlier in elasticsearch 2.4 version, we used to fetch aggregation json string from DB (agg string used to get added dynamically) and used to set aggregations using setAggregations(bytes[] string) method in java transport client. But now when we updated to 5.0 we found that setAggregations is no longer supported.\r\n\r\nCould anyone please help me how to build aggregation from json String. As those aggregation are to be picked up from DB, it is not possible to manually create one using aggregationbuilder.\r\n\r\nReg this issue we earlier posted it in elasticsearch forums but didnt get any reply, been more than a month.\r\nhttps://discuss.elastic.co/t/setaggregation-in-java-client-builder-not-available-in-5-x/68317\r\nhttps://discuss.elastic.co/t/reg-aggregations-using-java-client/75861\r\n\r\nIf any developers could help us through this issue that would be great.\r\n\r\nRegards,\r\nVivek\r\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}