{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/27644","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27644/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27644/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27644/events","html_url":"https://github.com/elastic/elasticsearch/issues/27644","id":279004760,"node_id":"MDU6SXNzdWUyNzkwMDQ3NjA=","number":27644,"title":"Multisearch Query Needed","user":{"login":"gayathrimanohar","id":34241079,"node_id":"MDQ6VXNlcjM0MjQxMDc5","avatar_url":"https://avatars0.githubusercontent.com/u/34241079?v=4","gravatar_id":"","url":"https://api.github.com/users/gayathrimanohar","html_url":"https://github.com/gayathrimanohar","followers_url":"https://api.github.com/users/gayathrimanohar/followers","following_url":"https://api.github.com/users/gayathrimanohar/following{/other_user}","gists_url":"https://api.github.com/users/gayathrimanohar/gists{/gist_id}","starred_url":"https://api.github.com/users/gayathrimanohar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gayathrimanohar/subscriptions","organizations_url":"https://api.github.com/users/gayathrimanohar/orgs","repos_url":"https://api.github.com/users/gayathrimanohar/repos","events_url":"https://api.github.com/users/gayathrimanohar/events{/privacy}","received_events_url":"https://api.github.com/users/gayathrimanohar/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-12-04T13:57:56Z","updated_at":"2017-12-04T15:24:12Z","closed_at":"2017-12-04T15:24:12Z","author_association":"NONE","active_lock_reason":null,"body":"\r\nI'm using your elasticsearch code based php mysql. It's working fine. I have to implement the multisearch (mean msearch) concept on project.I have tried more steps for developing the msearch but i could not complete.\r\n\r\nMultisearch concept:\r\n\r\nsingle query can search the data on both two index type. One type have no conditions and to listed data.another have to search the data with conditions.finally combine the results and show on page.\r\n\r\n1.common index with two types like(my_index / type1,type2)\r\n\r\n2. type1 :- To search the title data with no conditions\r\n\r\n3. type2 :- To search the title data with  conditions\r\n\r\n\r\nshows the result with pagination\r\nNote : Already i tried bool query but doesn't work \r\n My code is here\r\npublic function Msearch($query)\r\n    {\r\n        $client = $this->elasticclient;\r\n        $result = array();\r\n\r\n        $i = 0;\r\n\r\n        $params = [\r\n\t\t\r\n\t\t\t \r\n          'index' => 'cricsearch',\r\n          \r\n              'body'  => [\r\n    ['type' => 'cricnews','scroll' => '30s'],\r\n    ['query' => ['match' => ['title'=> $query]]],\r\n\r\n    ['type' => 'cricvideos','scroll' => '30s'],['size'  => 0,'query' => ['match' => ['title'=> $query]]],\r\n\t],\r\n\t];\r\n          //  print_r($event_id);\r\n\t\t  try {\r\n        $query                 = $client->msearch($params);\r\n\t\t\r\n        $hits                  = sizeof($query['hits']['hits']);\r\n\t\tprint_r($hits);\r\n        $hit                   = $query['hits']['hits'];\r\n        $result['searchfound'] = $hits;\r\n        while ($i < $hits) {\r\n\r\n            $result['result'][$i] = $query['hits']['hits'][$i]['_source'];\r\n\r\n            $i++;\r\n        }\r\n\t\r\n  \r\n\t\r\n        return  $result;\r\n\t\t  }\r\n\t\t  catch (Exception $e) {\r\n    echo $e->getMessage();\r\n}\r\n    }\r\n\t\r\n\r\n","closed_by":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"performed_via_github_app":null}