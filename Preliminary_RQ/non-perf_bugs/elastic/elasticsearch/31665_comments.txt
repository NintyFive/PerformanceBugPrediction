[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/401089251","html_url":"https://github.com/elastic/elasticsearch/issues/31665#issuecomment-401089251","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31665","id":401089251,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTA4OTI1MQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-06-28T16:11:50Z","updated_at":"2018-06-28T16:11:50Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/401264206","html_url":"https://github.com/elastic/elasticsearch/issues/31665#issuecomment-401264206","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31665","id":401264206,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTI2NDIwNg==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2018-06-29T06:48:41Z","updated_at":"2018-06-29T06:48:58Z","author_association":"CONTRIBUTOR","body":"I  believe the test was in fact picking up a problem.\r\nAfter it was ignored we got this failure:\r\n```\r\n00:14:56 > Task :qa:ccs-unavailable-clusters:namingConventions FAILED\r\n00:14:56 \r\n00:14:56 Exception in thread \"main\" java.lang.UnsupportedClassVersionError: org/elasticsearch/test/NamingConventionsCheck has been compiled by a more recent version of the Java Runtime (class file version 54.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n00:14:56 > Task :qa:ccs-unavailable-clusters:integTestCluster#stop\r\n00:14:56 \tat java.lang.ClassLoader.defineClass1(Native Method)\r\n00:14:56 \r\n00:14:56 \tat java.lang.ClassLoader.defineClass(ClassLoader.java:763)\r\n00:14:56 Deprecated Gradle features were used in this build, making it incompatible with Gradle 5.0.\r\n00:14:56 \tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n00:14:56 See https://docs.gradle.org/4.8.1/userguide/command_line_interface.html#sec:command_line_warnings\r\n00:14:56 \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:467)\r\n00:14:56 223 actionable tasks: 222 executed, 1 up-to-date\r\n00:14:56 \tat java.net.URLClassLoader.access$100(URLClassLoader.java:73)\r\n00:14:56 \tat java.net.URLClassLoader$1.run(URLClassLoader.java:368)\r\n00:14:56 \tat java.net.URLClassLoader$1.run(URLClassLoader.java:362)\r\n00:14:56 \tat java.security.AccessController.doPrivileged(Native Method)\r\n00:14:56 \tat java.net.URLClassLoader.findClass(URLClassLoader.java:361)\r\n00:14:56 \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n00:14:56 \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n00:14:56 \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n00:14:56 \tat sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:495)\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/401274742","html_url":"https://github.com/elastic/elasticsearch/issues/31665#issuecomment-401274742","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31665","id":401274742,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTI3NDc0Mg==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2018-06-29T07:39:43Z","updated_at":"2018-06-29T07:39:43Z","author_association":"CONTRIBUTOR","body":"I can reproduce this locally with `export RUNTIME_JAVA_HOME=$JAVA8_HOME`. \r\n`JAVA_HOME` is jdk 10, so compile will also use 10. \r\nThat means that we'll try to run the newer class version on the older JVM, which won't work. \r\nI know how to fix this, but I'm still struggling to understand why this broke with the change I did.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/401285741","html_url":"https://github.com/elastic/elasticsearch/issues/31665#issuecomment-401285741","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/31665","id":401285741,"node_id":"MDEyOklzc3VlQ29tbWVudDQwMTI4NTc0MQ==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2018-06-29T08:26:06Z","updated_at":"2018-06-29T08:26:06Z","author_association":"CONTRIBUTOR","body":"The root cause is that during the Java rewrite `NamingConventionsCheck.class.getProtectionDomain().getCodeSource().getLocation().getPath()` is how we find the class to execute, whereas before we used a dependency on the build tools project. \r\nThe lather does have source compatibility set via the build plugin, but the former does not.","performed_via_github_app":null}]