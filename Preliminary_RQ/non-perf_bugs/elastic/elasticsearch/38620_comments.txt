[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/461788329","html_url":"https://github.com/elastic/elasticsearch/issues/38620#issuecomment-461788329","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38620","id":461788329,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MTc4ODMyOQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-02-08T12:30:59Z","updated_at":"2019-02-08T12:30:59Z","author_association":"COLLABORATOR","body":"Pinging @elastic/ml-core","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/466588323","html_url":"https://github.com/elastic/elasticsearch/issues/38620#issuecomment-466588323","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38620","id":466588323,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NjU4ODMyMw==","user":{"login":"Mehrank64","id":23151973,"node_id":"MDQ6VXNlcjIzMTUxOTcz","avatar_url":"https://avatars2.githubusercontent.com/u/23151973?v=4","gravatar_id":"","url":"https://api.github.com/users/Mehrank64","html_url":"https://github.com/Mehrank64","followers_url":"https://api.github.com/users/Mehrank64/followers","following_url":"https://api.github.com/users/Mehrank64/following{/other_user}","gists_url":"https://api.github.com/users/Mehrank64/gists{/gist_id}","starred_url":"https://api.github.com/users/Mehrank64/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Mehrank64/subscriptions","organizations_url":"https://api.github.com/users/Mehrank64/orgs","repos_url":"https://api.github.com/users/Mehrank64/repos","events_url":"https://api.github.com/users/Mehrank64/events{/privacy}","received_events_url":"https://api.github.com/users/Mehrank64/received_events","type":"User","site_admin":false},"created_at":"2019-02-22T23:52:56Z","updated_at":"2019-02-22T23:55:28Z","author_association":"CONTRIBUTOR","body":"Hello,\r\nI started working on this issue. To be honest this is my first experience in contributing to open source projects and struggling to fully set-up the environment with all the details.\r\nI did change what you described in the ticket my changes passed all unit tests, but have a problem with Integration test.\r\n\r\nI am getting this error when trying to run `ScheduledEventsIT`\r\n\r\nlang.IllegalArgumentException: transport type setting [transport.type] must be [security4] or [security-nio] but is [mock-nio]\r\n\r\n\tat org.elasticsearch.xpack.core.security.SecuritySettings.addTransportSettings(SecuritySettings.java:23)\r\n\tat org.elasticsearch.xpack.core.XPackClientPlugin.additionalSettings(XPackClientPlugin.java:235)\r\n\tat org.elasticsearch.xpack.core.XPackClientPlugin.additionalSettings(XPackClientPlugin.java:229)\r\n\tat org.elasticsearch.plugins.PluginsService.updatedSettings(PluginsService.java:210)\r\n\tat org.elasticsearch.client.transport.TransportClient.buildTemplate(TransportClient.java:138)\r\n\tat org.elasticsearch.client.transport.TransportClient.<init>(TransportClient.java:287)\r\n\tat org.elasticsearch.transport.MockTransportClient.<init>(MockTransportClient.java:47)\r\n\tat org.elasticsearch.transport.MockTransportClient.<init>(MockTransportClient.java:43)\r\n\tat org.elasticsearch.test.InternalTestCluster$TransportClientFactory.client(InternalTestCluster.java:1101)\r\n\tat org.elasticsearch.test.InternalTestCluster$NodeAndClient.getOrBuildTransportClient(InternalTestCluster.java:945)\r\n\tat org.elasticsearch.test.InternalTestCluster$NodeAndClient.client(InternalTestCluster.java:902)\r\n\tat org.elasticsearch.test.InternalTestCluster.client(InternalTestCluster.java:754)\r\n\tat org.elasticsearch.test.TestCluster.wipeAllTemplates(TestCluster.java:167)\r\n\tat org.elasticsearch.test.TestCluster.wipe(TestCluster.java:80)\r\n\tat org.elasticsearch.test.ESIntegTestCase.lambda$beforeInternal$0(ESIntegTestCase.java:377)\r\n\tat com.carrotsearch.randomizedtesting.RandomizedContext.runWithPrivateRandomness(RandomizedContext.java:187)\r\n\tat com.carrotsearch.randomizedtesting.RandomizedContext.runWithPrivateRandomness(RandomizedContext.java:211)\r\n\tat org.elasticsearch.test.ESIntegTestCase.beforeInternal(ESIntegTestCase.java:385)\r\n\tat org.elasticsearch.test.ESIntegTestCase.setupTestCluster(ESIntegTestCase.java:2174)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1750)\r\n\tat com.carrotsearch.randomizedtesting.RandomizedRunner$9.evaluate(RandomizedRunner.java:972)\r\n\tat com.carrotsearch.randomizedtesting.RandomizedRunner$10.evaluate(RandomizedRunner.java:988)\r\n\tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n\tat org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:49)\r\n\tat org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\r\n\tat org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:48)\r\n\tat org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)\r\n\tat org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)\r\n\tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n\tat com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368)\r\n\tat com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:817)\r\n\tat com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:468)\r\n\tat com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:947)\r\n\tat com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:832)\r\n\tat com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:883)\r\n\tat com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:894)\r\n\tat org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\r\n\tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n\tat org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:41)\r\n\tat com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)\r\n\tat com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)\r\n\tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n\tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n\tat org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:53)\r\n\tat org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)\r\n\tat org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)\r\n\tat org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:54)\r\n\tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n\tat com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)  \r\n\r\nI did the required setup based on the documentation in the project but didn't find anything regarding setup for integration tests. Can you help me please?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/466936763","html_url":"https://github.com/elastic/elasticsearch/issues/38620#issuecomment-466936763","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38620","id":466936763,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NjkzNjc2Mw==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2019-02-25T09:22:02Z","updated_at":"2019-02-25T09:22:02Z","author_association":"CONTRIBUTOR","body":"Thanks for looking at this @Mehrank64.  How did you run `ScheduledEventsIT`?  Did you try to run it from your IDE?  This is not possible for integration tests that use an external cluster.\r\n\r\nTry running this from the top level of your clone of the repo:\r\n\r\n```\r\n./gradlew :x-pack:plugin:ml:qa:native-multi-node-tests:integTest -Dtests.class=org.elasticsearch.xpack.ml.integration.ScheduledEventsIT\r\n```\r\n\r\nDoes the test pass on your machine when run like that? If not, how about on a clean clone without your changes?  If it doesn't pass on a clean clone, what is the exact error you get from this `gradlew` command?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/467200177","html_url":"https://github.com/elastic/elasticsearch/issues/38620#issuecomment-467200177","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38620","id":467200177,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NzIwMDE3Nw==","user":{"login":"Mehrank64","id":23151973,"node_id":"MDQ6VXNlcjIzMTUxOTcz","avatar_url":"https://avatars2.githubusercontent.com/u/23151973?v=4","gravatar_id":"","url":"https://api.github.com/users/Mehrank64","html_url":"https://github.com/Mehrank64","followers_url":"https://api.github.com/users/Mehrank64/followers","following_url":"https://api.github.com/users/Mehrank64/following{/other_user}","gists_url":"https://api.github.com/users/Mehrank64/gists{/gist_id}","starred_url":"https://api.github.com/users/Mehrank64/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Mehrank64/subscriptions","organizations_url":"https://api.github.com/users/Mehrank64/orgs","repos_url":"https://api.github.com/users/Mehrank64/repos","events_url":"https://api.github.com/users/Mehrank64/events{/privacy}","received_events_url":"https://api.github.com/users/Mehrank64/received_events","type":"User","site_admin":false},"created_at":"2019-02-25T21:57:42Z","updated_at":"2019-02-25T21:57:42Z","author_association":"CONTRIBUTOR","body":"@droberts195 Thanks for your help. The test passes when I run it with the above command\r\n\r\nI did run the Unit test from the IDE and all should be fine now.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/467205458","html_url":"https://github.com/elastic/elasticsearch/issues/38620#issuecomment-467205458","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38620","id":467205458,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NzIwNTQ1OA==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2019-02-25T22:13:53Z","updated_at":"2019-02-25T22:13:53Z","author_association":"CONTRIBUTOR","body":"That’s great @Mehrank64. Once the change is complete please open a PR to merge from the branch in your fork to master and @ mention me in it so I get notified.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/467207275","html_url":"https://github.com/elastic/elasticsearch/issues/38620#issuecomment-467207275","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/38620","id":467207275,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2NzIwNzI3NQ==","user":{"login":"Mehrank64","id":23151973,"node_id":"MDQ6VXNlcjIzMTUxOTcz","avatar_url":"https://avatars2.githubusercontent.com/u/23151973?v=4","gravatar_id":"","url":"https://api.github.com/users/Mehrank64","html_url":"https://github.com/Mehrank64","followers_url":"https://api.github.com/users/Mehrank64/followers","following_url":"https://api.github.com/users/Mehrank64/following{/other_user}","gists_url":"https://api.github.com/users/Mehrank64/gists{/gist_id}","starred_url":"https://api.github.com/users/Mehrank64/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Mehrank64/subscriptions","organizations_url":"https://api.github.com/users/Mehrank64/orgs","repos_url":"https://api.github.com/users/Mehrank64/repos","events_url":"https://api.github.com/users/Mehrank64/events{/privacy}","received_events_url":"https://api.github.com/users/Mehrank64/received_events","type":"User","site_admin":false},"created_at":"2019-02-25T22:19:44Z","updated_at":"2019-02-25T22:19:44Z","author_association":"CONTRIBUTOR","body":"@droberts195 just did. let me know if you can't see it/any amendment is required","performed_via_github_app":null}]