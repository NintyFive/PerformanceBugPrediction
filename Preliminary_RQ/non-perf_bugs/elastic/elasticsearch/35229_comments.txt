[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/435614947","html_url":"https://github.com/elastic/elasticsearch/issues/35229#issuecomment-435614947","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35229","id":435614947,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTYxNDk0Nw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-11-03T19:35:40Z","updated_at":"2018-11-03T19:35:40Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/435692231","html_url":"https://github.com/elastic/elasticsearch/issues/35229#issuecomment-435692231","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35229","id":435692231,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTY5MjIzMQ==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2018-11-04T18:09:42Z","updated_at":"2018-11-04T18:09:42Z","author_association":"CONTRIBUTOR","body":"Thanks @clandry94, I hope we can reproduce this on a index that's smaller than 8TB :grin: Could you share the server logs from around the time of the issue? It'd be useful to see the full stack traces from those exceptions, as well as any other messages that were logged at around the time of the master re-election.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/435697724","html_url":"https://github.com/elastic/elasticsearch/issues/35229#issuecomment-435697724","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35229","id":435697724,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTY5NzcyNA==","user":{"login":"clandry94","id":5351125,"node_id":"MDQ6VXNlcjUzNTExMjU=","avatar_url":"https://avatars0.githubusercontent.com/u/5351125?v=4","gravatar_id":"","url":"https://api.github.com/users/clandry94","html_url":"https://github.com/clandry94","followers_url":"https://api.github.com/users/clandry94/followers","following_url":"https://api.github.com/users/clandry94/following{/other_user}","gists_url":"https://api.github.com/users/clandry94/gists{/gist_id}","starred_url":"https://api.github.com/users/clandry94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clandry94/subscriptions","organizations_url":"https://api.github.com/users/clandry94/orgs","repos_url":"https://api.github.com/users/clandry94/repos","events_url":"https://api.github.com/users/clandry94/events{/privacy}","received_events_url":"https://api.github.com/users/clandry94/received_events","type":"User","site_admin":false},"created_at":"2018-11-04T19:22:50Z","updated_at":"2018-11-04T19:22:50Z","author_association":"CONTRIBUTOR","body":"Yeah I will try to update with more info throughout the week ðŸ‘ ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/435882672","html_url":"https://github.com/elastic/elasticsearch/issues/35229#issuecomment-435882672","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35229","id":435882672,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTg4MjY3Mg==","user":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"created_at":"2018-11-05T13:55:50Z","updated_at":"2018-11-05T13:55:50Z","author_association":"CONTRIBUTOR","body":"A few quick observations here:\r\n- The exceptions you're seeing here are coming from the data nodes, not the master node. What makes you think that these have to do with master failovers?\r\n- The first exception `FileAlreadyExistsException[indices/Y0qyoa00TuaVx0iYLpVbXw/178/__1oc: Precondition Failed` comes from writing a data file, which already looks to exist. I wonder if this is triggered by a retry from the GCS client.\r\n- The second exception `IOException[Error writing request body to server]` is also mentioned here: https://github.com/googleapis/google-cloud-java/issues/3410 and it looks like the Google clients team have worked on a fix for that here: https://github.com/googleapis/google-cloud-java/pull/3433. We should probably update our GCS client dependency.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/437676785","html_url":"https://github.com/elastic/elasticsearch/issues/35229#issuecomment-437676785","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35229","id":437676785,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzY3Njc4NQ==","user":{"login":"clandry94","id":5351125,"node_id":"MDQ6VXNlcjUzNTExMjU=","avatar_url":"https://avatars0.githubusercontent.com/u/5351125?v=4","gravatar_id":"","url":"https://api.github.com/users/clandry94","html_url":"https://github.com/clandry94","followers_url":"https://api.github.com/users/clandry94/followers","following_url":"https://api.github.com/users/clandry94/following{/other_user}","gists_url":"https://api.github.com/users/clandry94/gists{/gist_id}","starred_url":"https://api.github.com/users/clandry94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clandry94/subscriptions","organizations_url":"https://api.github.com/users/clandry94/orgs","repos_url":"https://api.github.com/users/clandry94/repos","events_url":"https://api.github.com/users/clandry94/events{/privacy}","received_events_url":"https://api.github.com/users/clandry94/received_events","type":"User","site_admin":false},"created_at":"2018-11-11T14:55:58Z","updated_at":"2018-11-11T14:58:49Z","author_association":"CONTRIBUTOR","body":"I setup some monitoring to keep track of our cluster's master elections and determined this is related to the issues @ywelsch linked rather than master election. I'm still working on figuring out why this happened after we switched from data nodes acting as master to dedicated master nodes,I can make a PR to update the GCS client dependency in the meantime. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/437803371","html_url":"https://github.com/elastic/elasticsearch/issues/35229#issuecomment-437803371","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35229","id":437803371,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzgwMzM3MQ==","user":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"created_at":"2018-11-12T08:56:17Z","updated_at":"2018-11-12T08:56:17Z","author_association":"CONTRIBUTOR","body":"> I can make a PR to update the GCS client dependency in the meantime.\r\n\r\nplease do so. Thank you","performed_via_github_app":null}]