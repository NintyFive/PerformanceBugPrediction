[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/341709438","html_url":"https://github.com/elastic/elasticsearch/issues/27244#issuecomment-341709438","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27244","id":341709438,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MTcwOTQzOA==","user":{"login":"albertzaharovits","id":4568420,"node_id":"MDQ6VXNlcjQ1Njg0MjA=","avatar_url":"https://avatars2.githubusercontent.com/u/4568420?v=4","gravatar_id":"","url":"https://api.github.com/users/albertzaharovits","html_url":"https://github.com/albertzaharovits","followers_url":"https://api.github.com/users/albertzaharovits/followers","following_url":"https://api.github.com/users/albertzaharovits/following{/other_user}","gists_url":"https://api.github.com/users/albertzaharovits/gists{/gist_id}","starred_url":"https://api.github.com/users/albertzaharovits/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertzaharovits/subscriptions","organizations_url":"https://api.github.com/users/albertzaharovits/orgs","repos_url":"https://api.github.com/users/albertzaharovits/repos","events_url":"https://api.github.com/users/albertzaharovits/events{/privacy}","received_events_url":"https://api.github.com/users/albertzaharovits/received_events","type":"User","site_admin":false},"created_at":"2017-11-03T13:54:22Z","updated_at":"2017-11-03T13:54:22Z","author_association":"CONTRIBUTOR","body":"cmds to reproduce:\r\n```\r\ncurl -v -XPUT 'localhost:9200/my_index?pretty' -H 'Content-Type: application/json' -d'\r\n{\r\n  \"mappings\": {\r\n    \"my_type\": {\r\n      \"dynamic_templates\": [\r\n        {\r\n          \"string_fields\": {\r\n            \"mapping\": {\r\n              \"type\": \"string\",\r\n              \"norms\": \"false\",\r\n              \"include_in_all\": \"false\"\r\n            },\r\n            \"match_mapping_type\": \"string\",\r\n            \"match\": \"*\"\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  }\r\n}'\r\n\r\ncurl -v -XPOST 'http://localhost:9200/my_index/my_type?pretty' -H 'Content-Type: application/json' -d '{ \"field\\r\" : \"value\" }'\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/341976022","html_url":"https://github.com/elastic/elasticsearch/issues/27244#issuecomment-341976022","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27244","id":341976022,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MTk3NjAyMg==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-11-05T14:12:36Z","updated_at":"2017-11-05T14:12:36Z","author_association":"MEMBER","body":"I opened #27269.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/341976247","html_url":"https://github.com/elastic/elasticsearch/issues/27244#issuecomment-341976247","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27244","id":341976247,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MTk3NjI0Nw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-11-05T14:15:58Z","updated_at":"2017-11-05T14:15:58Z","author_association":"MEMBER","body":"With this change, the reproduction that @albertzaharovits gives now produces:\r\n\r\n```\r\n08:48:44 [jason:~/src/elastic/elasticsearch-5.x] 5.6+ ± curl -v -XPUT 'localhost:9200/my_index?pretty' -H 'Content-Type: application/json' -d'\r\n{\r\n  \"mappings\": {\r\n    \"my_type\": {\r\n      \"dynamic_templates\": [\r\n        {\r\n          \"string_fields\": {\r\n            \"mapping\": {\r\n              \"type\": \"string\",\r\n              \"norms\": \"false\",\r\n              \"include_in_all\": \"false\"\r\n            },\r\n            \"match_mapping_type\": \"string\",\r\n            \"match\": \"*\"\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  }\r\n}'\r\n*   Trying ::1...\r\n* TCP_NODELAY set\r\n* Connected to localhost (::1) port 9200 (#0)\r\n> PUT /my_index?pretty HTTP/1.1\r\n> Host: localhost:9200\r\n> User-Agent: curl/7.54.0\r\n> Accept: */*\r\n> Content-Type: application/json\r\n> Content-Length: 358\r\n> \r\n* upload completely sent off: 358 out of 358 bytes\r\n< HTTP/1.1 200 OK\r\n< content-type: application/json; charset=UTF-8\r\n< content-length: 84\r\n< \r\n{\r\n  \"acknowledged\" : true,\r\n  \"shards_acknowledged\" : true,\r\n  \"index\" : \"my_index\"\r\n}\r\n* Connection #0 to host localhost left intact\r\n08:54:03 [jason:~/src/elastic/elasticsearch-5.x] 5.6+ ± curl -v -XPOST 'http://localhost:9200/my_index/my_type?pretty' -H 'Content-Type: application/json' -d '{ \"field\\r\" : \"value\" }'\r\nNote: Unnecessary use of -X or --request, POST is already inferred.\r\n*   Trying ::1...\r\n* TCP_NODELAY set\r\n* Connected to localhost (::1) port 9200 (#0)\r\n> POST /my_index/my_type?pretty HTTP/1.1\r\n> Host: localhost:9200\r\n> User-Agent: curl/7.54.0\r\n> Accept: */*\r\n> Content-Type: application/json\r\n> Content-Length: 23\r\n> \r\n* upload completely sent off: 23 out of 23 bytes\r\n< HTTP/1.1 201 Created\r\n< Location: /my_index/my_type/AV-MdbJvxmftjXDqQmAN\r\n< Warning: 299 Elasticsearch-5.6.4-SNAPSHOT-Unknown \"The [string] field is deprecated, please use [text] or [keyword] instead on [field%0D]\" \"Sun, 05 Nov 2017 13:54:04 GMT\"\r\n< Warning: 299 Elasticsearch-5.6.4-SNAPSHOT-Unknown \"field [include_in_all] is deprecated, as [_all] is deprecated, and will be disallowed in 6.0, use [copy_to] instead.\" \"Sun, 05 Nov 2017 13:54:04 GMT\"\r\n< content-type: application/json; charset=UTF-8\r\n< content-length: 224\r\n< \r\n{\r\n  \"_index\" : \"my_index\",\r\n  \"_type\" : \"my_type\",\r\n  \"_id\" : \"AV-MdbJvxmftjXDqQmAN\",\r\n  \"_version\" : 1,\r\n  \"result\" : \"created\",\r\n  \"_shards\" : {\r\n    \"total\" : 2,\r\n    \"successful\" : 1,\r\n    \"failed\" : 0\r\n  },\r\n  \"created\" : true\r\n}\r\n* Connection #0 to host localhost left intact\r\n```","performed_via_github_app":null}]