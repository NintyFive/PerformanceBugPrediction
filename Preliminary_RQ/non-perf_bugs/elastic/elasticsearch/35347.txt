{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/35347","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35347/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35347/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/35347/events","html_url":"https://github.com/elastic/elasticsearch/issues/35347","id":378391899,"node_id":"MDU6SXNzdWUzNzgzOTE4OTk=","number":35347,"title":"Disabling BWC tests does not disable BWC build","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"labels":[{"id":106454670,"node_id":"MDU6TGFiZWwxMDY0NTQ2NzA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Build","name":":Delivery/Build","color":"0e8a16","default":false,"description":"Build or test infrastructure"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"}],"state":"closed","locked":false,"assignee":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"assignees":[{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2018-11-07T17:28:27Z","updated_at":"2020-11-11T21:50:12Z","closed_at":"2019-02-27T07:16:59Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"This PR build failed: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+pull-request/2024/console\r\n\r\nThis build is on the `zen2` branch, on which BWC tests are currently disabled:\r\n\r\n```\r\n========================= WARNING =========================\r\n         Backwards compatibility tests are disabled!\r\nSee https://github.com/elastic/elasticsearch/issues/32006\r\n===========================================================\r\n```\r\n\r\nNonetheless the build failed when trying to build the `next-bugfix-snapshot` version, which I think shouldn't be necessary if the BWC tests are disabled.\r\n\r\n```\r\n> Task :distribution:bwc:next-bugfix-snapshot:buildBwcVersion FAILED\r\nFAILURE: Build failed with an exception.\r\n\r\n:distribution:bwc:next-bugfix-snapshot:buildBwcVersion (Thread[Task worker for ':' Thread 10,5,main]) completed. Took 2 mins 7.955 secs.\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 5.0.\r\nUse '--warning-mode all' to show the individual deprecation warnings.\r\nSee https://docs.gradle.org/4.10/userguide/command_line_interface.html#sec:command_line_warnings\r\n3068 actionable tasks: 1617 executed, 1451 up-to-date\r\n* Where:\r\nBuild file '/var/lib/jenkins/workspace/elastic+elasticsearch+pull-request/distribution/bwc/build.gradle' line: 207\r\n\r\n* What went wrong:\r\nExecution failed for task ':distribution:bwc:next-bugfix-snapshot:buildBwcVersion'.\r\n> Building bwc version didn't generate expected files [/var/lib/jenkins/workspace/elastic+elasticsearch+pull-request/distribution/bwc/next-bugfix-snapshot/build/bwc/checkout-6.4/distribution/archives/oss-zip/build/distributions/elasticsearch-oss-6.4.3-SNAPSHOT.zip, /var/lib/jenkins/workspace/elastic+elasticsearch+pull-request/distribution/bwc/next-bugfix-snapshot/build/bwc/checkout-6.4/distribution/archives/zip/build/distributions/elasticsearch-6.4.3-SNAPSHOT.zip, /var/lib/jenkins/workspace/elastic+elasticsearch+pull-request/distribution/bwc/next-bugfix-snapshot/build/bwc/checkout-6.4/distribution/packages/oss-deb/build/distributions/elasticsearch-oss-6.4.3-SNAPSHOT.deb, /var/lib/jenkins/workspace/elastic+elasticsearch+pull-request/distribution/bwc/next-bugfix-snapshot/build/bwc/checkout-6.4/distribution/packages/deb/build/distributions/elasticsearch-6.4.3-SNAPSHOT.deb, /var/lib/jenkins/workspace/elastic+elasticsearch+pull-request/distribution/bwc/next-bugfix-snapshot/build/bwc/checkout-6.4/distribution/packages/oss-rpm/build/distributions/elasticsearch-oss-6.4.3-SNAPSHOT.rpm, /var/lib/jenkins/workspace/elastic+elasticsearch+pull-request/distribution/bwc/next-bugfix-snapshot/build/bwc/checkout-6.4/distribution/packages/rpm/build/distributions/elasticsearch-6.4.3-SNAPSHOT.rpm]\r\n```","closed_by":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"performed_via_github_app":null}