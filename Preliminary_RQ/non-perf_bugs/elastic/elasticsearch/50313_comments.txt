[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/567037532","html_url":"https://github.com/elastic/elasticsearch/issues/50313#issuecomment-567037532","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50313","id":567037532,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzAzNzUzMg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-12-18T13:45:46Z","updated_at":"2019-12-18T13:45:46Z","author_association":"COLLABORATOR","body":"Pinging @elastic/ml-core (:ml)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/595810647","html_url":"https://github.com/elastic/elasticsearch/issues/50313#issuecomment-595810647","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50313","id":595810647,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTgxMDY0Nw==","user":{"login":"mayya-sharipova","id":5738841,"node_id":"MDQ6VXNlcjU3Mzg4NDE=","avatar_url":"https://avatars1.githubusercontent.com/u/5738841?v=4","gravatar_id":"","url":"https://api.github.com/users/mayya-sharipova","html_url":"https://github.com/mayya-sharipova","followers_url":"https://api.github.com/users/mayya-sharipova/followers","following_url":"https://api.github.com/users/mayya-sharipova/following{/other_user}","gists_url":"https://api.github.com/users/mayya-sharipova/gists{/gist_id}","starred_url":"https://api.github.com/users/mayya-sharipova/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayya-sharipova/subscriptions","organizations_url":"https://api.github.com/users/mayya-sharipova/orgs","repos_url":"https://api.github.com/users/mayya-sharipova/repos","events_url":"https://api.github.com/users/mayya-sharipova/events{/privacy}","received_events_url":"https://api.github.com/users/mayya-sharipova/received_events","type":"User","site_admin":false},"created_at":"2020-03-06T15:09:33Z","updated_at":"2020-03-06T15:09:33Z","author_association":"CONTRIBUTOR","body":"This failed on 7.x today with a couple of other tests in `RegressionIT` and `ClassificationIT`.\r\n\r\nLog: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.x+release-tests/986/console\r\nBuild Scans: https://gradle-enterprise.elastic.co/s/doq7yy73r32cy\r\n\r\n```\r\norg.elasticsearch.xpack.ml.integration.RegressionIT > testWithOnlyTrainingRowsAndTrainingPercentIsFifty FAILED |  \r\n-- | --\r\n  | java.lang.AssertionError: |  \r\n  | Expected: a value greater than <0> |  \r\n  | but: <0> was equal to <0> |  \r\n  | at __randomizedtesting.SeedInfo.seed([EAEE72213F9A9746:56CB6BB10FE542B3]:0) |  \r\n  | at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:18) |  \r\n  | at org.junit.Assert.assertThat(Assert.java:956) |  \r\n  | at org.junit.Assert.assertThat(Assert.java:923)\r\n```\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/595817137","html_url":"https://github.com/elastic/elasticsearch/issues/50313#issuecomment-595817137","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50313","id":595817137,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTgxNzEzNw==","user":{"login":"benwtrent","id":4357155,"node_id":"MDQ6VXNlcjQzNTcxNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/4357155?v=4","gravatar_id":"","url":"https://api.github.com/users/benwtrent","html_url":"https://github.com/benwtrent","followers_url":"https://api.github.com/users/benwtrent/followers","following_url":"https://api.github.com/users/benwtrent/following{/other_user}","gists_url":"https://api.github.com/users/benwtrent/gists{/gist_id}","starred_url":"https://api.github.com/users/benwtrent/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/benwtrent/subscriptions","organizations_url":"https://api.github.com/users/benwtrent/orgs","repos_url":"https://api.github.com/users/benwtrent/repos","events_url":"https://api.github.com/users/benwtrent/events{/privacy}","received_events_url":"https://api.github.com/users/benwtrent/received_events","type":"User","site_admin":false},"created_at":"2020-03-06T15:23:26Z","updated_at":"2020-03-06T15:23:26Z","author_association":"MEMBER","body":"```\r\nRegressionIT#testSingleNumericFeatureAndMixedTrainingAndNonTrainingRows\r\n```\r\nFailed as well. Looking at the code:\r\nhttps://github.com/elastic/elasticsearch/blob/b84e8db7b5a3da90444afec830e210920e0c164f/x-pack/plugin/ml/qa/native-multi-node-tests/src/test/java/org/elasticsearch/xpack/ml/integration/RegressionIT.java#L89\r\n\r\n\r\nThat is exceptionally strange. The `is_training` is true, but the dest doc did not include the dependent variable. \r\n\r\n`is_training` is determined by if the dependent variable is present or not. Recent changes have modified what \"missing\" means (changing `\"\"` to `\\0`). Something might have broken there?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/595820970","html_url":"https://github.com/elastic/elasticsearch/issues/50313#issuecomment-595820970","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50313","id":595820970,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTgyMDk3MA==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2020-03-06T15:31:25Z","updated_at":"2020-03-06T15:31:25Z","author_association":"CONTRIBUTOR","body":"We're getting a lot of failures from `RegressionIT` and `ClassificationIT` probably worth a mute?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/595821314","html_url":"https://github.com/elastic/elasticsearch/issues/50313#issuecomment-595821314","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50313","id":595821314,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTgyMTMxNA==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2020-03-06T15:32:03Z","updated_at":"2020-03-06T15:32:03Z","author_association":"CONTRIBUTOR","body":"I think https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.x+release-tests/986/console failed because of a mismatch between the C++ and Java code.  Because it's a \"release-tests\" build it requires a _non_-snapshot C++ build, and I think the one that existed at the time this CI job ran was too old.\r\n\r\nLet's just monitor whether this continues to fail in the same way over the next day or two.  If it mysteriously stops failing then it was due to the _non_-snapshot C++ being out of date.  If it carries on, or is seen in a build that isn't \"release-tests\" then it's a genuine bug.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/595822651","html_url":"https://github.com/elastic/elasticsearch/issues/50313#issuecomment-595822651","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50313","id":595822651,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTgyMjY1MQ==","user":{"login":"mark-vieira","id":4106672,"node_id":"MDQ6VXNlcjQxMDY2NzI=","avatar_url":"https://avatars2.githubusercontent.com/u/4106672?v=4","gravatar_id":"","url":"https://api.github.com/users/mark-vieira","html_url":"https://github.com/mark-vieira","followers_url":"https://api.github.com/users/mark-vieira/followers","following_url":"https://api.github.com/users/mark-vieira/following{/other_user}","gists_url":"https://api.github.com/users/mark-vieira/gists{/gist_id}","starred_url":"https://api.github.com/users/mark-vieira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark-vieira/subscriptions","organizations_url":"https://api.github.com/users/mark-vieira/orgs","repos_url":"https://api.github.com/users/mark-vieira/repos","events_url":"https://api.github.com/users/mark-vieira/events{/privacy}","received_events_url":"https://api.github.com/users/mark-vieira/received_events","type":"User","site_admin":false},"created_at":"2020-03-06T15:34:59Z","updated_at":"2020-03-06T15:34:59Z","author_association":"CONTRIBUTOR","body":"I think the failures I'm referring to are #53188, the seem to be different than this issue.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/595822677","html_url":"https://github.com/elastic/elasticsearch/issues/50313#issuecomment-595822677","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50313","id":595822677,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NTgyMjY3Nw==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2020-03-06T15:35:03Z","updated_at":"2020-03-06T15:35:03Z","author_association":"CONTRIBUTOR","body":"> We're getting a lot of failures from `RegressionIT` and `ClassificationIT` probably worth a mute?\r\n\r\nDifferent tests in these suites are failing for different reasons.  #53188 is still failing on 7.x because it was only muted on master.  That one is worth muting.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/607143736","html_url":"https://github.com/elastic/elasticsearch/issues/50313#issuecomment-607143736","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50313","id":607143736,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzE0MzczNg==","user":{"login":"ywangd","id":2344308,"node_id":"MDQ6VXNlcjIzNDQzMDg=","avatar_url":"https://avatars3.githubusercontent.com/u/2344308?v=4","gravatar_id":"","url":"https://api.github.com/users/ywangd","html_url":"https://github.com/ywangd","followers_url":"https://api.github.com/users/ywangd/followers","following_url":"https://api.github.com/users/ywangd/following{/other_user}","gists_url":"https://api.github.com/users/ywangd/gists{/gist_id}","starred_url":"https://api.github.com/users/ywangd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywangd/subscriptions","organizations_url":"https://api.github.com/users/ywangd/orgs","repos_url":"https://api.github.com/users/ywangd/repos","events_url":"https://api.github.com/users/ywangd/events{/privacy}","received_events_url":"https://api.github.com/users/ywangd/received_events","type":"User","site_admin":false},"created_at":"2020-04-01T09:34:10Z","updated_at":"2020-04-01T09:34:10Z","author_association":"MEMBER","body":"Had a few more failures for `7.7` release-tests today that are related to this. In addtion to `RegressionIT`, they also failed for the following classes (50+ failed methods in total):\r\n* `ClassificationIT`\r\n* `DatafeedJobsRestIT`\r\n* `MlJobIT`\r\n* `InferenceIngestIT`\r\n\r\nThe `RegressionIT.testWithOnlyTrainingRowsAndTrainingPercentIsFifty` however failed with **timeout** error (`Test abandoned because suite timeout was reached`) which is reproducible locally with:\r\n```\r\n./gradlew ':x-pack:plugin:ml:qa:native-multi-node-tests:integTestRunner' --tests \"org.elasticsearch.xpack.ml.integration.RegressionIT.testWithOnlyTrainingRowsAndTrainingPercentIsFifty\" \\\r\n  -Dtests.seed=349DA09002B31208 \\\r\n  -Dtests.security.manager=true \\\r\n  -Dbuild.snapshot=false \\\r\n  -Dtests.jvm.argline=\"-Dbuild.snapshot=false\" \\\r\n  -Dtests.locale=ro \\\r\n  -Dtests.timezone=Antarctica/Rothera \\\r\n  -Dcompiler.java=13 -Dlicense.key=x-pack/license-tools/src/test/resources/public.key\r\n```\r\n\r\nOther errors are not reproducible. A sample error message is as the follows:\r\n```\r\n:x-pack:plugin:ml:qa:native-multi-node-tests:integTestRunner » org.elasticsearch.xpack.ml.integration.DatafeedJobsRestIT » testLookbackOnlyGivenAggregationsWithHistogramAndRollupIndex (46.127s)\r\n3 active tasks found:\r\nxpack/ml/data_frame/analytics[c]                 dubc7glwS8KCmNntTfQWRQ:14794 cluster:30                   persistent 1585728316208 08:05:16 37.9m       127.0.0.1 integTest-2 data_frame_analytics-regression_only_training_data_and_training_percent_is_50\r\ncluster:admin/xpack/ml/data_frame/analytics/stop dubc7glwS8KCmNntTfQWRQ:15363 -                            transport  1585728349153 08:05:49 37.4m       127.0.0.1 integTest-2 \r\ncluster:admin/xpack/ml/data_frame/analytics/stop b7l42R8jQO-LqXcWf37MyQ:8597  -                            transport  1585728349153 08:05:49 37.4m       127.0.0.1 integTest-0 \r\n expected:<0> but was:<3>\r\n```\r\n\r\nNote that I added `-Dlicense.key=x-pack/license-tools/src/test/resources/public.key` at the end of the reproducation line, otherwise it won't run.\r\n\r\nBuild scans:\r\n* https://gradle-enterprise.elastic.co/s/d3hukbf64r72e\r\n* https://gradle-enterprise.elastic.co/s/6dyjgcv6kyqi4\r\n* https://gradle-enterprise.elastic.co/s/q3vxfhecfogne\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/607344051","html_url":"https://github.com/elastic/elasticsearch/issues/50313#issuecomment-607344051","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/50313","id":607344051,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzM0NDA1MQ==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2020-04-01T16:11:31Z","updated_at":"2020-04-01T16:11:31Z","author_association":"CONTRIBUTOR","body":"The most recent problem in the 7.7 release tests was caused by another Java/C++ mismatch.  This is resolved now and the 7.7 release tests after the 3 that failed succeeded: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+7.7+release-tests/29/\r\n\r\nIt didn't fail in between 2 and 25 days ago, so I think all the various problems are now resolved and I will close this now.","performed_via_github_app":null}]