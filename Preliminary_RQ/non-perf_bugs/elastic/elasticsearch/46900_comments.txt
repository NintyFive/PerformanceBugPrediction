[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/533412935","html_url":"https://github.com/elastic/elasticsearch/issues/46900#issuecomment-533412935","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46900","id":533412935,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzQxMjkzNQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-09-20T05:35:45Z","updated_at":"2019-09-20T05:35:45Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/533517914","html_url":"https://github.com/elastic/elasticsearch/issues/46900#issuecomment-533517914","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46900","id":533517914,"node_id":"MDEyOklzc3VlQ29tbWVudDUzMzUxNzkxNA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2019-09-20T11:37:28Z","updated_at":"2019-09-20T11:37:28Z","author_association":"MEMBER","body":"> Or maybe we can expose `stdout` here too?\r\n\r\nRelates #17220","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/535502818","html_url":"https://github.com/elastic/elasticsearch/issues/46900#issuecomment-535502818","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46900","id":535502818,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTUwMjgxOA==","user":{"login":"pugnascotia","id":8696382,"node_id":"MDQ6VXNlcjg2OTYzODI=","avatar_url":"https://avatars1.githubusercontent.com/u/8696382?v=4","gravatar_id":"","url":"https://api.github.com/users/pugnascotia","html_url":"https://github.com/pugnascotia","followers_url":"https://api.github.com/users/pugnascotia/followers","following_url":"https://api.github.com/users/pugnascotia/following{/other_user}","gists_url":"https://api.github.com/users/pugnascotia/gists{/gist_id}","starred_url":"https://api.github.com/users/pugnascotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pugnascotia/subscriptions","organizations_url":"https://api.github.com/users/pugnascotia/orgs","repos_url":"https://api.github.com/users/pugnascotia/repos","events_url":"https://api.github.com/users/pugnascotia/events{/privacy}","received_events_url":"https://api.github.com/users/pugnascotia/received_events","type":"User","site_admin":false},"created_at":"2019-09-26T13:30:41Z","updated_at":"2019-09-26T13:30:41Z","author_association":"CONTRIBUTOR","body":"Interestingly, if I replicate the problem of setting `network.host` and thereby causing the bootstrap checks to fail, I get the following printed to STDERR (on master):\r\n\r\n```\r\n$ ./bin/elasticsearch > /dev/null\r\nJava HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\r\nERROR: [1] bootstrap checks failed\r\n[1]: the default discovery settings are unsuitable for production use; at least one of [discovery.seed_hosts, discovery.seed_providers, cluster.initial_master_nodes] must be configured\r\n```\r\n\r\nWhereas in the snippet above we only see the JVM warning line. I should point out however, that I get this from running `bin/elasticsearch` directory from a tarball, so the situation may be different when running through systemd.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/535505384","html_url":"https://github.com/elastic/elasticsearch/issues/46900#issuecomment-535505384","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46900","id":535505384,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTUwNTM4NA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2019-09-26T13:37:09Z","updated_at":"2019-09-26T13:37:09Z","author_association":"MEMBER","body":"@pugnascotia Note that in our systemd startup script we pass `--quiet` which closes the standard streams: https://github.com/elastic/elasticsearch/blob/a2ccb5204f1a5d7b65cc02ed003c28eb78d7f642/server/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java#L314-L323 and https://github.com/elastic/elasticsearch/blob/a2ccb5204f1a5d7b65cc02ed003c28eb78d7f642/server/src/main/java/org/elasticsearch/bootstrap/Bootstrap.java#L344-L346","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/535505623","html_url":"https://github.com/elastic/elasticsearch/issues/46900#issuecomment-535505623","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46900","id":535505623,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTUwNTYyMw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2019-09-26T13:37:46Z","updated_at":"2019-09-26T13:37:46Z","author_association":"MEMBER","body":"I think closing system error in any situation is a mistake. ü§∑‚Äç‚ôÄ ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/535514256","html_url":"https://github.com/elastic/elasticsearch/issues/46900#issuecomment-535514256","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46900","id":535514256,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTUxNDI1Ng==","user":{"login":"pugnascotia","id":8696382,"node_id":"MDQ6VXNlcjg2OTYzODI=","avatar_url":"https://avatars1.githubusercontent.com/u/8696382?v=4","gravatar_id":"","url":"https://api.github.com/users/pugnascotia","html_url":"https://github.com/pugnascotia","followers_url":"https://api.github.com/users/pugnascotia/followers","following_url":"https://api.github.com/users/pugnascotia/following{/other_user}","gists_url":"https://api.github.com/users/pugnascotia/gists{/gist_id}","starred_url":"https://api.github.com/users/pugnascotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pugnascotia/subscriptions","organizations_url":"https://api.github.com/users/pugnascotia/orgs","repos_url":"https://api.github.com/users/pugnascotia/repos","events_url":"https://api.github.com/users/pugnascotia/events{/privacy}","received_events_url":"https://api.github.com/users/pugnascotia/received_events","type":"User","site_admin":false},"created_at":"2019-09-26T13:57:55Z","updated_at":"2019-09-26T13:57:55Z","author_association":"CONTRIBUTOR","body":"So we could just stop closing system error, and that should let any errors through to e.g. systemd. We could also print a message about the logs dir, for completeness.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/535520997","html_url":"https://github.com/elastic/elasticsearch/issues/46900#issuecomment-535520997","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46900","id":535520997,"node_id":"MDEyOklzc3VlQ29tbWVudDUzNTUyMDk5Nw==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2019-09-26T14:11:10Z","updated_at":"2019-09-26T14:11:10Z","author_association":"MEMBER","body":"Yes, I don't think we should passthrough `stdout` to the journal, only `stderr`. ","performed_via_github_app":null}]