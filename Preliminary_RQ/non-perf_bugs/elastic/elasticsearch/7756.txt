{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/7756","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7756/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7756/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7756/events","html_url":"https://github.com/elastic/elasticsearch/issues/7756","id":42949127,"node_id":"MDU6SXNzdWU0Mjk0OTEyNw==","number":7756,"title":"NoShardAvailableActionException - Nest the original exception","user":{"login":"suyograo","id":1595958,"node_id":"MDQ6VXNlcjE1OTU5NTg=","avatar_url":"https://avatars1.githubusercontent.com/u/1595958?v=4","gravatar_id":"","url":"https://api.github.com/users/suyograo","html_url":"https://github.com/suyograo","followers_url":"https://api.github.com/users/suyograo/followers","following_url":"https://api.github.com/users/suyograo/following{/other_user}","gists_url":"https://api.github.com/users/suyograo/gists{/gist_id}","starred_url":"https://api.github.com/users/suyograo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/suyograo/subscriptions","organizations_url":"https://api.github.com/users/suyograo/orgs","repos_url":"https://api.github.com/users/suyograo/repos","events_url":"https://api.github.com/users/suyograo/events{/privacy}","received_events_url":"https://api.github.com/users/suyograo/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"suyograo","id":1595958,"node_id":"MDQ6VXNlcjE1OTU5NTg=","avatar_url":"https://avatars1.githubusercontent.com/u/1595958?v=4","gravatar_id":"","url":"https://api.github.com/users/suyograo","html_url":"https://github.com/suyograo","followers_url":"https://api.github.com/users/suyograo/followers","following_url":"https://api.github.com/users/suyograo/following{/other_user}","gists_url":"https://api.github.com/users/suyograo/gists{/gist_id}","starred_url":"https://api.github.com/users/suyograo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/suyograo/subscriptions","organizations_url":"https://api.github.com/users/suyograo/orgs","repos_url":"https://api.github.com/users/suyograo/repos","events_url":"https://api.github.com/users/suyograo/events{/privacy}","received_events_url":"https://api.github.com/users/suyograo/received_events","type":"User","site_admin":false},"assignees":[{"login":"suyograo","id":1595958,"node_id":"MDQ6VXNlcjE1OTU5NTg=","avatar_url":"https://avatars1.githubusercontent.com/u/1595958?v=4","gravatar_id":"","url":"https://api.github.com/users/suyograo","html_url":"https://github.com/suyograo","followers_url":"https://api.github.com/users/suyograo/followers","following_url":"https://api.github.com/users/suyograo/following{/other_user}","gists_url":"https://api.github.com/users/suyograo/gists{/gist_id}","starred_url":"https://api.github.com/users/suyograo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/suyograo/subscriptions","organizations_url":"https://api.github.com/users/suyograo/orgs","repos_url":"https://api.github.com/users/suyograo/repos","events_url":"https://api.github.com/users/suyograo/events{/privacy}","received_events_url":"https://api.github.com/users/suyograo/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2014-09-17T00:20:57Z","updated_at":"2014-09-29T21:24:51Z","closed_at":"2014-09-29T21:24:51Z","author_association":"MEMBER","active_lock_reason":null,"body":"In `TransportShardSingleOperationAction.AsyncSingleAction.perform` we create a new `NoShardAvailableActionException` without nesting the original exception. \n\n``` java\nif (failure == null || isShardNotAvailableException(failure)) {\n    failure = new NoShardAvailableActionException(shardIt.shardId());\n```\n\nIt would be useful to know what exactly happened when looking at stack traces like this\n\n``` java\nCaused by: org.elasticsearch.action.NoShardAvailableActionException: [.scripts][4] null \nat org.elasticsearch.action.support.single.shard.TransportShardSingleOperationAction$AsyncSingleAction.perform(TransportShardSingleOperationAction.java:144) \nat org.elasticsearch.action.support.single.shard.TransportShardSingleOperationAction$AsyncSingleAction.start(TransportShardSingleOperationAction.java:124) \nat org.elasticsearch.action.support.single.shard.TransportShardSingleOperationAction.doExecute(TransportShardSingleOperationAction.java:72) \nat org.elasticsearch.action.support.single.shard.TransportShardSingleOperationAction.doExecute(TransportShardSingleOperationAction.java:49) \nat org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:65) \nat org.elasticsearch.client.node.NodeClient.execute(NodeClient.java:92) \nat org.elasticsearch.client.support.AbstractClient.get(AbstractClient.java:189) \nat org.elasticsearch.action.get.GetRequestBuilder.doExecute(GetRequestBuilder.java:196) \nat org.elasticsearch.action.ActionRequestBuilder.execute(ActionRequestBuilder.java:91) \nat org.elasticsearch.action.ActionRequestBuilder.execute(ActionRequestBuilder.java:65) \nat org.elasticsearch.action.ActionRequestBuilder.get(ActionRequestBuilder.java:73) \nat org.elasticsearch.script.ScriptService.queryScriptIndex(ScriptService.java:385) \nat org.elasticsearch.script.ScriptService.queryScriptIndex(ScriptService.java:379) \nat org.elasticsearch.script.ScriptService.getScriptFromIndex(ScriptService.java:401) \nat org.elasticsearch.script.ScriptService.compile(ScriptService.java:309) \nat org.elasticsearch.script.ScriptService.executable(ScriptService.java:497) \nat org.elasticsearch.action.update.UpdateHelper.prepare(UpdateHelper.java:149)\n\n```\n","closed_by":{"login":"suyograo","id":1595958,"node_id":"MDQ6VXNlcjE1OTU5NTg=","avatar_url":"https://avatars1.githubusercontent.com/u/1595958?v=4","gravatar_id":"","url":"https://api.github.com/users/suyograo","html_url":"https://github.com/suyograo","followers_url":"https://api.github.com/users/suyograo/followers","following_url":"https://api.github.com/users/suyograo/following{/other_user}","gists_url":"https://api.github.com/users/suyograo/gists{/gist_id}","starred_url":"https://api.github.com/users/suyograo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/suyograo/subscriptions","organizations_url":"https://api.github.com/users/suyograo/orgs","repos_url":"https://api.github.com/users/suyograo/repos","events_url":"https://api.github.com/users/suyograo/events{/privacy}","received_events_url":"https://api.github.com/users/suyograo/received_events","type":"User","site_admin":false},"performed_via_github_app":null}