[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/170666309","html_url":"https://github.com/elastic/elasticsearch/issues/15901#issuecomment-170666309","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15901","id":170666309,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MDY2NjMwOQ==","user":{"login":"BigFunger","id":12193008,"node_id":"MDQ6VXNlcjEyMTkzMDA4","avatar_url":"https://avatars1.githubusercontent.com/u/12193008?v=4","gravatar_id":"","url":"https://api.github.com/users/BigFunger","html_url":"https://github.com/BigFunger","followers_url":"https://api.github.com/users/BigFunger/followers","following_url":"https://api.github.com/users/BigFunger/following{/other_user}","gists_url":"https://api.github.com/users/BigFunger/gists{/gist_id}","starred_url":"https://api.github.com/users/BigFunger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BigFunger/subscriptions","organizations_url":"https://api.github.com/users/BigFunger/orgs","repos_url":"https://api.github.com/users/BigFunger/repos","events_url":"https://api.github.com/users/BigFunger/events{/privacy}","received_events_url":"https://api.github.com/users/BigFunger/received_events","type":"User","site_admin":false},"created_at":"2016-01-11T19:39:11Z","updated_at":"2016-01-11T19:39:26Z","author_association":"NONE","body":"## grok scenario 1\n\n**input**\n\n```\n{\n  \"pipeline\": {\n    \"description\": \"_description\",\n    \"processors\": [\n      {\n          \"grok\" : {\n              \"field\": \"\",\n              \"pattern\" : \"\",\n              \"processor_id\" : \"processor_1\"\n          }\n      }\n    ]\n  },\n  \"docs\": [\n    {\n      \"_index\": \"index\",\n      \"_type\": \"type\",\n      \"_id\": \"id\",\n      \"_source\": {\n        \"_raw\": \"\"\n      }\n    }\n  ]\n}\n```\n\n**output**\n\n```\n{\n  \"docs\": [\n    {\n      \"processor_results\": [\n        {\n          \"processor_id\": \"processor_1\",\n          \"error\": {\n            \"root_cause\": [\n              {\n                \"type\": \"illegal_argument_exception\",\n                \"reason\": \"path cannot be null nor empty\"\n              }\n            ],\n            \"type\": \"illegal_argument_exception\",\n            \"reason\": \"path cannot be null nor empty\"\n          }\n        }\n      ]\n    }\n  ]\n}\n```\n\n**comments**\nI don't know what \"path cannot be null nor empty\" refers to.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/170666600","html_url":"https://github.com/elastic/elasticsearch/issues/15901#issuecomment-170666600","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15901","id":170666600,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MDY2NjYwMA==","user":{"login":"BigFunger","id":12193008,"node_id":"MDQ6VXNlcjEyMTkzMDA4","avatar_url":"https://avatars1.githubusercontent.com/u/12193008?v=4","gravatar_id":"","url":"https://api.github.com/users/BigFunger","html_url":"https://github.com/BigFunger","followers_url":"https://api.github.com/users/BigFunger/followers","following_url":"https://api.github.com/users/BigFunger/following{/other_user}","gists_url":"https://api.github.com/users/BigFunger/gists{/gist_id}","starred_url":"https://api.github.com/users/BigFunger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BigFunger/subscriptions","organizations_url":"https://api.github.com/users/BigFunger/orgs","repos_url":"https://api.github.com/users/BigFunger/repos","events_url":"https://api.github.com/users/BigFunger/events{/privacy}","received_events_url":"https://api.github.com/users/BigFunger/received_events","type":"User","site_admin":false},"created_at":"2016-01-11T19:40:19Z","updated_at":"2016-01-11T19:40:19Z","author_association":"NONE","body":"## grok scenario 2\n\n**input**\n\n```\n{\n  \"pipeline\": {\n    \"description\": \"_description\",\n    \"processors\": [\n      {\n          \"grok\" : {\n              \"field\": \"_raw\",\n              \"pattern\" : \"\",\n              \"processor_id\" : \"processor_1\"\n          }\n      }\n    ]\n  },\n  \"docs\": [\n    {\n      \"_index\": \"index\",\n      \"_type\": \"type\",\n      \"_id\": \"id\",\n      \"_source\": {\n        \"_raw\": \"\"\n      }\n    }\n  ]\n}\n```\n\n**output**\n\n```\n{\n  \"docs\": [\n    {\n      \"processor_results\": [\n        {\n          \"processor_id\": \"processor_1\",\n          \"error\": {\n            \"root_cause\": [\n              {\n                \"type\": \"null_pointer_exception\",\n                \"reason\": null\n              }\n            ],\n            \"type\": \"null_pointer_exception\",\n            \"reason\": null\n          }\n        }\n      ]\n    }\n  ]\n}\n```\n\n**comments**\nI expect the [reason] property to be populated\nnull_pointer_exception means nothing to me in context.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/170666787","html_url":"https://github.com/elastic/elasticsearch/issues/15901#issuecomment-170666787","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15901","id":170666787,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MDY2Njc4Nw==","user":{"login":"BigFunger","id":12193008,"node_id":"MDQ6VXNlcjEyMTkzMDA4","avatar_url":"https://avatars1.githubusercontent.com/u/12193008?v=4","gravatar_id":"","url":"https://api.github.com/users/BigFunger","html_url":"https://github.com/BigFunger","followers_url":"https://api.github.com/users/BigFunger/followers","following_url":"https://api.github.com/users/BigFunger/following{/other_user}","gists_url":"https://api.github.com/users/BigFunger/gists{/gist_id}","starred_url":"https://api.github.com/users/BigFunger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BigFunger/subscriptions","organizations_url":"https://api.github.com/users/BigFunger/orgs","repos_url":"https://api.github.com/users/BigFunger/repos","events_url":"https://api.github.com/users/BigFunger/events{/privacy}","received_events_url":"https://api.github.com/users/BigFunger/received_events","type":"User","site_admin":false},"created_at":"2016-01-11T19:40:57Z","updated_at":"2016-01-11T19:40:57Z","author_association":"NONE","body":"## grok scenario 3\n\n**input**\n\n```\n{\n  \"pipeline\": {\n    \"description\": \"_description\",\n    \"processors\": [\n      {\n          \"grok\" : {\n              \"field\": \"_raw\",\n              \"pattern\" : \"test\",\n              \"processor_id\" : \"processor_1\"\n          }\n      }\n    ]\n  },\n  \"docs\": [\n    {\n      \"_index\": \"index\",\n      \"_type\": \"type\",\n      \"_id\": \"id\",\n      \"_source\": {\n        \"_raw\": \"\"\n      }\n    }\n  ]\n}\n```\n\n**output**\n\n```\n{\n  \"docs\": [\n    {\n      \"processor_results\": [\n        {\n          \"processor_id\": \"processor_1\",\n          \"error\": {\n            \"root_cause\": [\n              {\n                \"type\": \"illegal_argument_exception\",\n                \"reason\": \"Grok expression does not match field value: []\"\n              }\n            ],\n            \"type\": \"illegal_argument_exception\",\n            \"reason\": \"Grok expression does not match field value: []\"\n          }\n        }\n      ]\n    }\n  ]\n}\n```\n\n**comments**\nDo we want a grok expression that doesn't match anything to throw an exception?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/170666936","html_url":"https://github.com/elastic/elasticsearch/issues/15901#issuecomment-170666936","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15901","id":170666936,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MDY2NjkzNg==","user":{"login":"BigFunger","id":12193008,"node_id":"MDQ6VXNlcjEyMTkzMDA4","avatar_url":"https://avatars1.githubusercontent.com/u/12193008?v=4","gravatar_id":"","url":"https://api.github.com/users/BigFunger","html_url":"https://github.com/BigFunger","followers_url":"https://api.github.com/users/BigFunger/followers","following_url":"https://api.github.com/users/BigFunger/following{/other_user}","gists_url":"https://api.github.com/users/BigFunger/gists{/gist_id}","starred_url":"https://api.github.com/users/BigFunger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BigFunger/subscriptions","organizations_url":"https://api.github.com/users/BigFunger/orgs","repos_url":"https://api.github.com/users/BigFunger/repos","events_url":"https://api.github.com/users/BigFunger/events{/privacy}","received_events_url":"https://api.github.com/users/BigFunger/received_events","type":"User","site_admin":false},"created_at":"2016-01-11T19:41:31Z","updated_at":"2016-01-11T19:41:31Z","author_association":"NONE","body":"## grok scenario 4\n\n**input**\n\n```\n{\n  \"pipeline\": {\n    \"description\": \"_description\",\n    \"processors\": [\n      {\n          \"grok\" : {\n              \"field\": \"_raw\",\n              \"pattern\" : \"test\",\n              \"processor_id\" : \"processor_1\"\n          }\n      }\n    ]\n  },\n  \"docs\": [\n    {\n      \"_index\": \"index\",\n      \"_type\": \"type\",\n      \"_id\": \"id\",\n      \"_source\": {\n        \"_raw\": \"test\"\n      }\n    }\n  ]\n}\n```\n\n**output**\n\n```\n{\n  \"docs\": [\n    {\n      \"processor_results\": [\n        {\n          \"processor_id\": \"processor_1\",\n          \"error\": {\n            \"root_cause\": [\n              {\n                \"type\": \"null_pointer_exception\",\n                \"reason\": null\n              }\n            ],\n            \"type\": \"null_pointer_exception\",\n            \"reason\": null\n          }\n        }\n      ]\n    }\n  ]\n}\n```\n\n**comments**\nI expect the [reason] property to be populated\nnull_pointer_exception means nothing to me in context.\nI also didn't anticipate this NPE at all.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/170747725","html_url":"https://github.com/elastic/elasticsearch/issues/15901#issuecomment-170747725","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15901","id":170747725,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MDc0NzcyNQ==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2016-01-12T01:06:03Z","updated_at":"2016-01-12T01:06:03Z","author_association":"CONTRIBUTOR","body":"scenario 2, 4 is a bug in Grok parsing. This occurs when there is a regex match, but no captures to iterate through in order to extract into new fields\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/170747808","html_url":"https://github.com/elastic/elasticsearch/issues/15901#issuecomment-170747808","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15901","id":170747808,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MDc0NzgwOA==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2016-01-12T01:06:36Z","updated_at":"2016-01-12T01:06:36Z","author_association":"CONTRIBUTOR","body":"scenario 3: yes, we want an exception to be thrown\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/170748726","html_url":"https://github.com/elastic/elasticsearch/issues/15901#issuecomment-170748726","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15901","id":170748726,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MDc0ODcyNg==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2016-01-12T01:11:17Z","updated_at":"2016-01-12T01:11:17Z","author_association":"CONTRIBUTOR","body":"Scenario 1: this is a slight issue with how we evaluate field names. Since the field name was empty, it blows up :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/170748845","html_url":"https://github.com/elastic/elasticsearch/issues/15901#issuecomment-170748845","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15901","id":170748845,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MDc0ODg0NQ==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2016-01-12T01:12:08Z","updated_at":"2016-01-12T01:12:08Z","author_association":"CONTRIBUTOR","body":"@BigFunger thanks for submitting these, I will clean up scenarios 1,2,4. Scenario 3 will probably remain the same\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/170757601","html_url":"https://github.com/elastic/elasticsearch/issues/15901#issuecomment-170757601","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15901","id":170757601,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MDc1NzYwMQ==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2016-01-12T01:59:09Z","updated_at":"2016-01-12T01:59:09Z","author_association":"CONTRIBUTOR","body":"actually. looks like Scenario 1 is expected. `path` is just not very helpful in this context. it means the path defined in `field`.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/205334680","html_url":"https://github.com/elastic/elasticsearch/issues/15901#issuecomment-205334680","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15901","id":205334680,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNTMzNDY4MA==","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"created_at":"2016-04-04T14:55:21Z","updated_at":"2016-04-04T14:56:06Z","author_association":"CONTRIBUTOR","body":"Closing this since the NPEs have been fixed. There is still a known issue around the lack of context when one is unable to find a field path. This is not as straightforward to resolve since knowledge of the field name for this path value is lacking.\n\nhttps://github.com/elastic/elasticsearch/blob/master/core/src/main/java/org/elasticsearch/ingest/core/IngestDocument.java#L553 \n\n``` java\nif (Strings.isEmpty(path)) {\n    throw new IllegalArgumentException(\"path cannot be null nor empty\");\n}\n```\n","performed_via_github_app":null}]