[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/636108091","html_url":"https://github.com/elastic/elasticsearch/issues/57297#issuecomment-636108091","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57297","id":636108091,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNjEwODA5MQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-05-29T18:02:08Z","updated_at":"2020-05-29T18:02:08Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search (:Search/Search)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/636108098","html_url":"https://github.com/elastic/elasticsearch/issues/57297#issuecomment-636108098","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57297","id":636108098,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNjEwODA5OA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-05-29T18:02:09Z","updated_at":"2020-05-29T18:02:09Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-features (:Core/Features/Java High Level REST Client)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/636110889","html_url":"https://github.com/elastic/elasticsearch/issues/57297#issuecomment-636110889","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57297","id":636110889,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNjExMDg4OQ==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2020-05-29T18:08:27Z","updated_at":"2020-05-29T18:08:36Z","author_association":"MEMBER","body":"heya, at first glance the response you are trying to parse cannot be parsed by the high level REST client as it requires the `typed_keys` parameter set to `true`. That way the response will contain the same suggestion, but its name will be composed of the name of the suggestion as well as its type separated by `#`. This way the parser knows which class to create for that type of suggestion.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/636158926","html_url":"https://github.com/elastic/elasticsearch/issues/57297#issuecomment-636158926","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57297","id":636158926,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNjE1ODkyNg==","user":{"login":"royteeuwen","id":4967758,"node_id":"MDQ6VXNlcjQ5Njc3NTg=","avatar_url":"https://avatars0.githubusercontent.com/u/4967758?v=4","gravatar_id":"","url":"https://api.github.com/users/royteeuwen","html_url":"https://github.com/royteeuwen","followers_url":"https://api.github.com/users/royteeuwen/followers","following_url":"https://api.github.com/users/royteeuwen/following{/other_user}","gists_url":"https://api.github.com/users/royteeuwen/gists{/gist_id}","starred_url":"https://api.github.com/users/royteeuwen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/royteeuwen/subscriptions","organizations_url":"https://api.github.com/users/royteeuwen/orgs","repos_url":"https://api.github.com/users/royteeuwen/repos","events_url":"https://api.github.com/users/royteeuwen/events{/privacy}","received_events_url":"https://api.github.com/users/royteeuwen/received_events","type":"User","site_admin":false},"created_at":"2020-05-29T19:53:44Z","updated_at":"2020-05-29T19:53:44Z","author_association":"NONE","body":"Hey @javanna , how is it possible then that I actually got that response first by using the high level client to get it? Thats how I created the mock json to test, by first using the real logic and saving the SearchResponse.toString() in a test resource file","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/636366034","html_url":"https://github.com/elastic/elasticsearch/issues/57297#issuecomment-636366034","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57297","id":636366034,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNjM2NjAzNA==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2020-05-30T18:15:38Z","updated_at":"2020-05-30T18:15:38Z","author_association":"MEMBER","body":"toString calls toXContent. You should call toXContent manually and provide\nthe typed_keys param to it. Even if you are printing a response obtained\nthrough the client, you still need to print it out the same way that the\nclient expects it or it cannot be parsed. Otherwise the client does not\nknow which class to create.\n\nOn Fri, May 29, 2020, 21:54 Roy Teeuwen <notifications@github.com> wrote:\n\n> Hey @javanna <https://github.com/javanna> , how is it possible then that\n> I actually got that response first by using the high level client to get\n> it? Thats how I created the mock json to test, by first using the real\n> logic and saving the SearchResponse.toString() in a test resource file\n>\n> â€”\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/elastic/elasticsearch/issues/57297#issuecomment-636158926>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAGLHTFMOFEEIEZ4KHCCDILRUAHFPANCNFSM4NNFPKLQ>\n> .\n>\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/637645746","html_url":"https://github.com/elastic/elasticsearch/issues/57297#issuecomment-637645746","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57297","id":637645746,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzY0NTc0Ng==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2020-06-02T15:59:04Z","updated_at":"2020-06-02T15:59:04Z","author_association":"MEMBER","body":"hi @royteeuwen I hope you don't mind if I close this issue given that it's not a bug.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/637702124","html_url":"https://github.com/elastic/elasticsearch/issues/57297#issuecomment-637702124","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57297","id":637702124,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNzcwMjEyNA==","user":{"login":"royteeuwen","id":4967758,"node_id":"MDQ6VXNlcjQ5Njc3NTg=","avatar_url":"https://avatars0.githubusercontent.com/u/4967758?v=4","gravatar_id":"","url":"https://api.github.com/users/royteeuwen","html_url":"https://github.com/royteeuwen","followers_url":"https://api.github.com/users/royteeuwen/followers","following_url":"https://api.github.com/users/royteeuwen/following{/other_user}","gists_url":"https://api.github.com/users/royteeuwen/gists{/gist_id}","starred_url":"https://api.github.com/users/royteeuwen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/royteeuwen/subscriptions","organizations_url":"https://api.github.com/users/royteeuwen/orgs","repos_url":"https://api.github.com/users/royteeuwen/repos","events_url":"https://api.github.com/users/royteeuwen/events{/privacy}","received_events_url":"https://api.github.com/users/royteeuwen/received_events","type":"User","site_admin":false},"created_at":"2020-06-02T17:40:31Z","updated_at":"2020-06-02T17:40:31Z","author_association":"NONE","body":"Hey @javanna, sorry I have two days off so couldnt test it out yet. I still dont see how to call the toxcontent manually so that its parseable afterwards. Can you provide an example?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/638066196","html_url":"https://github.com/elastic/elasticsearch/issues/57297#issuecomment-638066196","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/57297","id":638066196,"node_id":"MDEyOklzc3VlQ29tbWVudDYzODA2NjE5Ng==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2020-06-03T09:05:16Z","updated_at":"2020-06-03T09:05:16Z","author_association":"MEMBER","body":"@royteeuwen an example is here: https://github.com/elastic/elasticsearch/blob/master/server/src/test/java/org/elasticsearch/action/search/SearchResponseTests.java#L157 .","performed_via_github_app":null}]