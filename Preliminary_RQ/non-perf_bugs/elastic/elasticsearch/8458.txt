{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/8458","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8458/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8458/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8458/events","html_url":"https://github.com/elastic/elasticsearch/issues/8458","id":48546029,"node_id":"MDU6SXNzdWU0ODU0NjAyOQ==","number":8458,"title":"Multiple versions of mapping","user":{"login":"VKhazinGladiator","id":4368142,"node_id":"MDQ6VXNlcjQzNjgxNDI=","avatar_url":"https://avatars3.githubusercontent.com/u/4368142?v=4","gravatar_id":"","url":"https://api.github.com/users/VKhazinGladiator","html_url":"https://github.com/VKhazinGladiator","followers_url":"https://api.github.com/users/VKhazinGladiator/followers","following_url":"https://api.github.com/users/VKhazinGladiator/following{/other_user}","gists_url":"https://api.github.com/users/VKhazinGladiator/gists{/gist_id}","starred_url":"https://api.github.com/users/VKhazinGladiator/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/VKhazinGladiator/subscriptions","organizations_url":"https://api.github.com/users/VKhazinGladiator/orgs","repos_url":"https://api.github.com/users/VKhazinGladiator/repos","events_url":"https://api.github.com/users/VKhazinGladiator/events{/privacy}","received_events_url":"https://api.github.com/users/VKhazinGladiator/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2014-11-12T18:43:27Z","updated_at":"2014-11-12T19:48:23Z","closed_at":"2014-11-12T19:48:23Z","author_association":"NONE","active_lock_reason":null,"body":"We are facing a situation where document structure in number of types is not quite stable and keeps changing.\n\nAt first we attempted a dynamic mapping approach but it failed us with a need for more specific mapping such as in case of case-insensitive mapping, guid treated as a whole string, and phrase sorting rather than a term sorting.\n\nOur second attempt is at the static mapping and batch-like job that validates the mappings and, if needs to be, builds a new index with new mappings and then copies over the old documents. The process is long and tedious, often enough the process times out before completing the index rebuild and then starts over at the next scheduled opportunity.\n\nWe it be feasible to avoid such massive rebuild of the index by maintaining older versions of the mapping until such time that all documents (of an older version) and due to naturally attrition through document updates would have migrated away to newer versions?\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}