{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/25265","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25265/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25265/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25265/events","html_url":"https://github.com/elastic/elasticsearch/issues/25265","id":236281769,"node_id":"MDU6SXNzdWUyMzYyODE3Njk=","number":25265,"title":"'default.path.data' Access Denied Prevents Startup when another data directory is used. ","user":{"login":"Budman17r","id":8853458,"node_id":"MDQ6VXNlcjg4NTM0NTg=","avatar_url":"https://avatars3.githubusercontent.com/u/8853458?v=4","gravatar_id":"","url":"https://api.github.com/users/Budman17r","html_url":"https://github.com/Budman17r","followers_url":"https://api.github.com/users/Budman17r/followers","following_url":"https://api.github.com/users/Budman17r/following{/other_user}","gists_url":"https://api.github.com/users/Budman17r/gists{/gist_id}","starred_url":"https://api.github.com/users/Budman17r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Budman17r/subscriptions","organizations_url":"https://api.github.com/users/Budman17r/orgs","repos_url":"https://api.github.com/users/Budman17r/repos","events_url":"https://api.github.com/users/Budman17r/events{/privacy}","received_events_url":"https://api.github.com/users/Budman17r/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-06-15T18:50:44Z","updated_at":"2017-06-15T20:24:00Z","closed_at":"2017-06-15T20:24:00Z","author_association":"NONE","active_lock_reason":null,"body":"\r\n<!-- Bug report -->\r\n\r\n**Elasticsearch version**: 5.4\r\n\r\n**Plugins installed**: [ X-pack ]\r\n\r\n**JVM version** (`java -version`): Java Version \"1.8.0_121\r\n\r\n**OS version** (`uname -a` if on a Unix-like system):Linux SERVERNAME 3.10.0-327.36.2.el7.x86_64 #1 SMP Tue Sep 27 16:01:21 EDT 2016 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\n**Description of the problem including expected versus actual behavior**: When changing the Data directory in the elasticsearch.yml to something else, and attempting to delete /var/lib/elasticsearch\r\n\r\n\r\n**Steps to reproduce**: delete /var/lib/elasticsearch, and attempt to start/restart Elastic.\r\n\r\nPlease include a *minimal* but *complete* recreation of the problem, including\r\n(e.g.) index creation, mappings, settings, query etc.  The easier you make for\r\nus to reproduce it, the more likely that somebody will take the time to look at it.\r\n\r\nI guess it doesn't make sense to have the folder when its not being used. It also doesn't make sense that it prevents startup when its not there. \r\n\r\n**Provide logs (if relevant)**:\r\n\r\n[2017-06-15T13:39:36,507][WARN ][o.e.b.ElasticsearchUncaughtExceptionHandler] [servername] uncaught exception in thread [main]\r\norg.elasticsearch.bootstrap.StartupException: java.lang.IllegalStateException: Unable to access 'default.path.data' (/var/lib/elasticsearch)\r\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:127) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:114) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:67) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:122) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.cli.Command.main(Command.java:88) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:91) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:84) ~[elasticsearch-5.4.0.jar:5.4.0]\r\nCaused by: java.lang.IllegalStateException: Unable to access 'default.path.data' (/var/lib/elasticsearch)\r\n        at org.elasticsearch.bootstrap.Security.addPath(Security.java:413) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.bootstrap.Security.addFilePermissions(Security.java:292) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.bootstrap.Security.createPermissions(Security.java:224) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.bootstrap.Security.configure(Security.java:114) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:237) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:360) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:123) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        ... 6 more\r\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}