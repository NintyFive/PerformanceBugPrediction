[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/712290567","html_url":"https://github.com/elastic/elasticsearch/issues/63893#issuecomment-712290567","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/63893","id":712290567,"node_id":"MDEyOklzc3VlQ29tbWVudDcxMjI5MDU2Nw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-10-19T16:41:42Z","updated_at":"2020-10-19T16:41:42Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search (:Search/Search)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/712799540","html_url":"https://github.com/elastic/elasticsearch/issues/63893#issuecomment-712799540","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/63893","id":712799540,"node_id":"MDEyOklzc3VlQ29tbWVudDcxMjc5OTU0MA==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2020-10-20T12:00:46Z","updated_at":"2020-10-20T12:00:46Z","author_association":"CONTRIBUTOR","body":"Following up on our discussion - we agreed to keep the `case_insensitive` boolean setting but remove the error when set to false.  Proposed documentation for the setting in various queries is:\r\n\r\n    (Optional, boolean) allows case insensitive matching of the regular expression\r\n    value with the indexed field values when set to true. Default is false which means\r\n    the case sensitivity of matching depends on the underlying field's behaviour.\r\n\r\nHow does this sound?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/712802239","html_url":"https://github.com/elastic/elasticsearch/issues/63893#issuecomment-712802239","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/63893","id":712802239,"node_id":"MDEyOklzc3VlQ29tbWVudDcxMjgwMjIzOQ==","user":{"login":"swallez","id":213730,"node_id":"MDQ6VXNlcjIxMzczMA==","avatar_url":"https://avatars2.githubusercontent.com/u/213730?v=4","gravatar_id":"","url":"https://api.github.com/users/swallez","html_url":"https://github.com/swallez","followers_url":"https://api.github.com/users/swallez/followers","following_url":"https://api.github.com/users/swallez/following{/other_user}","gists_url":"https://api.github.com/users/swallez/gists{/gist_id}","starred_url":"https://api.github.com/users/swallez/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/swallez/subscriptions","organizations_url":"https://api.github.com/users/swallez/orgs","repos_url":"https://api.github.com/users/swallez/repos","events_url":"https://api.github.com/users/swallez/events{/privacy}","received_events_url":"https://api.github.com/users/swallez/received_events","type":"User","site_admin":false},"created_at":"2020-10-20T12:06:09Z","updated_at":"2020-10-20T12:06:09Z","author_association":"MEMBER","body":"Sounds good. Should we be a bit more specific about `field's behaviour` so that users understand where that behaviour is defined? Like `field's behaviour (analyzers and normalizers)` (not sure these words are formally correct though).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/712850795","html_url":"https://github.com/elastic/elasticsearch/issues/63893#issuecomment-712850795","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/63893","id":712850795,"node_id":"MDEyOklzc3VlQ29tbWVudDcxMjg1MDc5NQ==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2020-10-20T13:29:33Z","updated_at":"2020-10-20T13:29:33Z","author_association":"CONTRIBUTOR","body":">so that users understand where that behaviour is defined?\r\n\r\nIt becomes an \"it depends\" answer which goes beyond choice of analyzers and unfortunately includes choice of fields.\r\nGiven an identically normalised `text` and `keyword` field (eg lowercased) then: \r\n* a `term` query for `fOo` on the `text` field will NOT match original document value `Foo` \r\n* a `term` query for `fOo` on the `keyword` field WILL match original document value `Foo` \r\n\r\nThat's probably more detail than we want to get into in this short description. \r\nHow about changing it to `matching depends on the underlying field's mapping`? That covers both analyzers/mappers AND field type.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/712943672","html_url":"https://github.com/elastic/elasticsearch/issues/63893#issuecomment-712943672","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/63893","id":712943672,"node_id":"MDEyOklzc3VlQ29tbWVudDcxMjk0MzY3Mg==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2020-10-20T15:39:36Z","updated_at":"2020-10-20T15:40:07Z","author_association":"MEMBER","body":"> It becomes an \"it depends\" answer which goes beyond choice of analyzers and unfortunately includes choice of fields.\r\n\r\nThe problem you outlined is more a discrepancy that we have in the term-based queries since we don't apply normalization on text field whereas we do on keyword fields. So IMO we should apply normalization all the time to make the behavior consistent and change the documentation of the case_insensitive option to `matching depends on the underlying field's mapping` ?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/713001453","html_url":"https://github.com/elastic/elasticsearch/issues/63893#issuecomment-713001453","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/63893","id":713001453,"node_id":"MDEyOklzc3VlQ29tbWVudDcxMzAwMTQ1Mw==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2020-10-20T16:55:03Z","updated_at":"2020-10-20T16:55:03Z","author_association":"CONTRIBUTOR","body":">we should apply normalization all the time to make the behavior consistent\r\n\r\nObviously for another issue. We closed [this keyword issue with that comment](https://github.com/elastic/elasticsearch/issues/25487#issuecomment-646237233) about addressing it in future.\r\n","performed_via_github_app":null}]