{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/43911","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43911/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43911/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43911/events","html_url":"https://github.com/elastic/elasticsearch/issues/43911","id":463694616,"node_id":"MDU6SXNzdWU0NjM2OTQ2MTY=","number":43911,"title":"OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.","user":{"login":"NineSwordsMonster","id":10054584,"node_id":"MDQ6VXNlcjEwMDU0NTg0","avatar_url":"https://avatars0.githubusercontent.com/u/10054584?v=4","gravatar_id":"","url":"https://api.github.com/users/NineSwordsMonster","html_url":"https://github.com/NineSwordsMonster","followers_url":"https://api.github.com/users/NineSwordsMonster/followers","following_url":"https://api.github.com/users/NineSwordsMonster/following{/other_user}","gists_url":"https://api.github.com/users/NineSwordsMonster/gists{/gist_id}","starred_url":"https://api.github.com/users/NineSwordsMonster/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NineSwordsMonster/subscriptions","organizations_url":"https://api.github.com/users/NineSwordsMonster/orgs","repos_url":"https://api.github.com/users/NineSwordsMonster/repos","events_url":"https://api.github.com/users/NineSwordsMonster/events{/privacy}","received_events_url":"https://api.github.com/users/NineSwordsMonster/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":20,"created_at":"2019-07-03T11:19:37Z","updated_at":"2020-04-23T20:21:21Z","closed_at":"2019-07-04T03:01:01Z","author_association":"NONE","active_lock_reason":null,"body":"<!--\r\n\r\n** Please read the guidelines below. **\r\n\r\nIssues that do not follow these guidelines are likely to be closed.\r\n\r\n1.  GitHub is reserved for bug reports and feature requests. The best place to\r\n    ask a general question is at the Elastic [forums](https://discuss.elastic.co).\r\n    GitHub is not the place for general questions.\r\n\r\n2.  Is this bug report or feature request for a supported OS? If not, it\r\n    is likely to be closed.  See https://www.elastic.co/support/matrix#show_os\r\n\r\n3.  Please fill out EITHER the feature request block or the bug report block\r\n    below, and delete the other block.\r\n\r\n-->\r\n\r\n<!-- Feature request -->\r\n\r\n**Describe the feature**:\r\n\r\n<!-- Bug report -->\r\nA gc deprication error is being shown, then shutdown soon.\r\n\r\n**Elasticsearch version** (`bin/elasticsearch --version`):\r\n`7.2.0`\r\n`docker pull docker.elastic.co/elasticsearch/elasticsearch:7.2.0`\r\n\r\n**Plugins installed**: []\r\n\r\n**JVM version** (`java -version`):\r\nI use docker image, I dont know really.\r\n\r\n**OS version** (`uname -a` if on a Unix-like system):\r\nDarwin ErasmeMacBook-Pro.local 18.6.0 Darwin Kernel Version 18.6.0: Thu Apr 25 23:16:27 PDT 2019; root:xnu-4903.261.4~2/RELEASE_X86_64 x86_64\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\n\r\nOpenJDK 64-Bit Server VM warning: __Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release__.\r\n\r\nWhat puzzles me is that when I start two ESs, one can start successfully, but the other fails.\r\nBTW, my `mysql container` will close after I use `docker-compose up`\r\n\r\ninspect my mysql container:\r\n```json\r\n[\r\n    {\r\n        \"Id\": \"356f72819503a9f78e32061afed0a1f436ecd3a615f8b9e7945beed3d9a37032\",\r\n        \"Created\": \"2019-07-03T09:06:32.5568395Z\",\r\n        \"Path\": \"docker-entrypoint.sh\",\r\n        \"Args\": [\r\n            \"mysqld\"\r\n        ],\r\n        \"State\": {\r\n            \"Status\": \"running\",\r\n            \"Running\": true,\r\n            \"Paused\": false,\r\n            \"Restarting\": false,\r\n            \"OOMKilled\": false,\r\n            \"Dead\": false,\r\n            \"Pid\": 9221,\r\n            \"ExitCode\": 0,\r\n            \"Error\": \"\",\r\n            \"StartedAt\": \"2019-07-03T11:04:41.7383267Z\",\r\n            \"FinishedAt\": \"2019-07-03T10:56:02.7957783Z\"\r\n        },\r\n        \"Image\": \"sha256:c7109f74d339896c8e1a7526224f10a3197e7baf674ff03acbab387aa027882a\",\r\n        \"ResolvConfPath\": \"/var/lib/docker/containers/356f72819503a9f78e32061afed0a1f436ecd3a615f8b9e7945beed3d9a37032/resolv.conf\",\r\n        \"HostnamePath\": \"/var/lib/docker/containers/356f72819503a9f78e32061afed0a1f436ecd3a615f8b9e7945beed3d9a37032/hostname\",\r\n        \"HostsPath\": \"/var/lib/docker/containers/356f72819503a9f78e32061afed0a1f436ecd3a615f8b9e7945beed3d9a37032/hosts\",\r\n        \"LogPath\": \"/var/lib/docker/containers/356f72819503a9f78e32061afed0a1f436ecd3a615f8b9e7945beed3d9a37032/356f72819503a9f78e32061afed0a1f436ecd3a615f8b9e7945beed3d9a37032-json.log\",\r\n        \"Name\": \"/mysql\",\r\n        \"RestartCount\": 0,\r\n        \"Driver\": \"overlay2\",\r\n        \"Platform\": \"linux\",\r\n        \"MountLabel\": \"\",\r\n        \"ProcessLabel\": \"\",\r\n        \"AppArmorProfile\": \"\",\r\n        \"ExecIDs\": null,\r\n        \"HostConfig\": {\r\n            \"Binds\": [\r\n                \"mysql:/var/lib/mysql\"\r\n            ],\r\n            \"ContainerIDFile\": \"\",\r\n            \"LogConfig\": {\r\n                \"Type\": \"json-file\",\r\n                \"Config\": {}\r\n            },\r\n            \"NetworkMode\": \"default\",\r\n            \"PortBindings\": {\r\n                \"3306/tcp\": [\r\n                    {\r\n                        \"HostIp\": \"\",\r\n                        \"HostPort\": \"3306\"\r\n                    }\r\n                ],\r\n                \"33060/tcp\": [\r\n                    {\r\n                        \"HostIp\": \"\",\r\n                        \"HostPort\": \"33060\"\r\n                    }\r\n                ]\r\n            },\r\n            \"RestartPolicy\": {\r\n                \"Name\": \"no\",\r\n                \"MaximumRetryCount\": 0\r\n            },\r\n            \"AutoRemove\": false,\r\n            \"VolumeDriver\": \"\",\r\n            \"VolumesFrom\": null,\r\n            \"CapAdd\": null,\r\n            \"CapDrop\": null,\r\n            \"Dns\": [],\r\n            \"DnsOptions\": [],\r\n            \"DnsSearch\": [],\r\n            \"ExtraHosts\": null,\r\n            \"GroupAdd\": null,\r\n            \"IpcMode\": \"shareable\",\r\n            \"Cgroup\": \"\",\r\n            \"Links\": null,\r\n            \"OomScoreAdj\": 0,\r\n            \"PidMode\": \"\",\r\n            \"Privileged\": false,\r\n            \"PublishAllPorts\": false,\r\n            \"ReadonlyRootfs\": false,\r\n            \"SecurityOpt\": null,\r\n            \"UTSMode\": \"\",\r\n            \"UsernsMode\": \"\",\r\n            \"ShmSize\": 67108864,\r\n            \"Runtime\": \"runc\",\r\n            \"ConsoleSize\": [\r\n                0,\r\n                0\r\n            ],\r\n            \"Isolation\": \"\",\r\n            \"CpuShares\": 0,\r\n            \"Memory\": 0,\r\n            \"NanoCpus\": 0,\r\n            \"CgroupParent\": \"\",\r\n            \"BlkioWeight\": 0,\r\n            \"BlkioWeightDevice\": [],\r\n            \"BlkioDeviceReadBps\": null,\r\n            \"BlkioDeviceWriteBps\": null,\r\n            \"BlkioDeviceReadIOps\": null,\r\n            \"BlkioDeviceWriteIOps\": null,\r\n            \"CpuPeriod\": 0,\r\n            \"CpuQuota\": 0,\r\n            \"CpuRealtimePeriod\": 0,\r\n            \"CpuRealtimeRuntime\": 0,\r\n            \"CpusetCpus\": \"\",\r\n            \"CpusetMems\": \"\",\r\n            \"Devices\": [],\r\n            \"DeviceCgroupRules\": null,\r\n            \"DiskQuota\": 0,\r\n            \"KernelMemory\": 0,\r\n            \"MemoryReservation\": 0,\r\n            \"MemorySwap\": 0,\r\n            \"MemorySwappiness\": null,\r\n            \"OomKillDisable\": false,\r\n            \"PidsLimit\": 0,\r\n            \"Ulimits\": null,\r\n            \"CpuCount\": 0,\r\n            \"CpuPercent\": 0,\r\n            \"IOMaximumIOps\": 0,\r\n            \"IOMaximumBandwidth\": 0,\r\n            \"MaskedPaths\": [\r\n                \"/proc/asound\",\r\n                \"/proc/acpi\",\r\n                \"/proc/kcore\",\r\n                \"/proc/keys\",\r\n                \"/proc/latency_stats\",\r\n                \"/proc/timer_list\",\r\n                \"/proc/timer_stats\",\r\n                \"/proc/sched_debug\",\r\n                \"/proc/scsi\",\r\n                \"/sys/firmware\"\r\n            ],\r\n            \"ReadonlyPaths\": [\r\n                \"/proc/bus\",\r\n                \"/proc/fs\",\r\n                \"/proc/irq\",\r\n                \"/proc/sys\",\r\n                \"/proc/sysrq-trigger\"\r\n            ]\r\n        },\r\n        \"GraphDriver\": {\r\n            \"Data\": {\r\n                \"LowerDir\": \"/var/lib/docker/overlay2/ff18b614fd582eb310aa3b53e914466b2945ed93f56b6515199f128c10bc0499-init/diff:/var/lib/docker/overlay2/ef94c269761e145ecb1c8a33f728f16e4e3d3d0e0c7e06b6b958a45f9d2127fc/diff:/var/lib/docker/overlay2/6b264664a345b9f1e9aef82bdf4b70b96c547d0ceb19db2a4d5073a7ef2e5519/diff:/var/lib/docker/overlay2/d014d270a405af3e1a02634af044be8d0c29a1ea5532e63a2852c88d07d2cf60/diff:/var/lib/docker/overlay2/80a05c250e324a58795d3efda4c44d4102e027c9a22ba33a04ecd39855e96d44/diff:/var/lib/docker/overlay2/2b3dc3f1d4b633a538a8a8aefe7c28fad9ec715a4ca8a93036b428ac450507d1/diff:/var/lib/docker/overlay2/1fecdd89abf1f76f931bf5f4cda8b32afa141feebc4adf66b70402639ca8fb5c/diff:/var/lib/docker/overlay2/dffded761d89063934cec0aa299b1fb9447a740889a33a7c5cc1288e4acfedf6/diff:/var/lib/docker/overlay2/a982eca650da7d9d324142a46866bffbb76a1b3367489f08a5e701ddc9d478bd/diff:/var/lib/docker/overlay2/93f1ae42c652629d2376c759678c521d7a77897a1c84b426fb2cb01de4bb4641/diff:/var/lib/docker/overlay2/a128f80791df84ff7dd3d64db3310766b44c4b0808aba1489deb49d4f2e3629f/diff:/var/lib/docker/overlay2/ff28c5d5c706a5479a08859e39ff2c41713f6c7ececc74c1ab00492ba6f8dbf1/diff:/var/lib/docker/overlay2/904bcc52be1e9ceb8f1db8f9768fc139e1bafb823d422f8db747833d7f8a295b/diff\",\r\n                \"MergedDir\": \"/var/lib/docker/overlay2/ff18b614fd582eb310aa3b53e914466b2945ed93f56b6515199f128c10bc0499/merged\",\r\n                \"UpperDir\": \"/var/lib/docker/overlay2/ff18b614fd582eb310aa3b53e914466b2945ed93f56b6515199f128c10bc0499/diff\",\r\n                \"WorkDir\": \"/var/lib/docker/overlay2/ff18b614fd582eb310aa3b53e914466b2945ed93f56b6515199f128c10bc0499/work\"\r\n            },\r\n            \"Name\": \"overlay2\"\r\n        },\r\n        \"Mounts\": [\r\n            {\r\n                \"Type\": \"volume\",\r\n                \"Name\": \"mysql\",\r\n                \"Source\": \"/var/lib/docker/volumes/mysql/_data\",\r\n                \"Destination\": \"/var/lib/mysql\",\r\n                \"Driver\": \"local\",\r\n                \"Mode\": \"z\",\r\n                \"RW\": true,\r\n                \"Propagation\": \"\"\r\n            }\r\n        ],\r\n        \"Config\": {\r\n            \"Hostname\": \"356f72819503\",\r\n            \"Domainname\": \"\",\r\n            \"User\": \"\",\r\n            \"AttachStdin\": false,\r\n            \"AttachStdout\": false,\r\n            \"AttachStderr\": false,\r\n            \"ExposedPorts\": {\r\n                \"3306/tcp\": {},\r\n                \"33060/tcp\": {}\r\n            },\r\n            \"Tty\": false,\r\n            \"OpenStdin\": false,\r\n            \"StdinOnce\": false,\r\n            \"Env\": [\r\n                \"MYSQL_ROOT_PASSWORD=root\",\r\n                \"PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\",\r\n                \"GOSU_VERSION=1.7\",\r\n                \"MYSQL_MAJOR=8.0\",\r\n                \"MYSQL_VERSION=8.0.16-2debian9\"\r\n            ],\r\n            \"Cmd\": [\r\n                \"mysqld\"\r\n            ],\r\n            \"ArgsEscaped\": true,\r\n            \"Image\": \"mysql\",\r\n            \"Volumes\": {\r\n                \"/var/lib/mysql\": {}\r\n            },\r\n            \"WorkingDir\": \"\",\r\n            \"Entrypoint\": [\r\n                \"docker-entrypoint.sh\"\r\n            ],\r\n            \"OnBuild\": null,\r\n            \"Labels\": {}\r\n        },\r\n        \"NetworkSettings\": {\r\n            \"Bridge\": \"\",\r\n            \"SandboxID\": \"efec56cd3943eeaa31c265de0e396be9eb7255619040a09c434d0a3387c7ee5b\",\r\n            \"HairpinMode\": false,\r\n            \"LinkLocalIPv6Address\": \"\",\r\n            \"LinkLocalIPv6PrefixLen\": 0,\r\n            \"Ports\": {\r\n                \"3306/tcp\": [\r\n                    {\r\n                        \"HostIp\": \"0.0.0.0\",\r\n                        \"HostPort\": \"3306\"\r\n                    }\r\n                ],\r\n                \"33060/tcp\": [\r\n                    {\r\n                        \"HostIp\": \"0.0.0.0\",\r\n                        \"HostPort\": \"33060\"\r\n                    }\r\n                ]\r\n            },\r\n            \"SandboxKey\": \"/var/run/docker/netns/efec56cd3943\",\r\n            \"SecondaryIPAddresses\": null,\r\n            \"SecondaryIPv6Addresses\": null,\r\n            \"EndpointID\": \"c9fc4d6b3c6969fb7f5004803cf49c4295bd750b1431753d7c5b474cc95e97fc\",\r\n            \"Gateway\": \"172.17.0.1\",\r\n            \"GlobalIPv6Address\": \"\",\r\n            \"GlobalIPv6PrefixLen\": 0,\r\n            \"IPAddress\": \"172.17.0.4\",\r\n            \"IPPrefixLen\": 16,\r\n            \"IPv6Gateway\": \"\",\r\n            \"MacAddress\": \"02:42:ac:11:00:04\",\r\n            \"Networks\": {\r\n                \"bridge\": {\r\n                    \"IPAMConfig\": null,\r\n                    \"Links\": null,\r\n                    \"Aliases\": null,\r\n                    \"NetworkID\": \"06359789bca3576e9d846bb7eb2ba522c3f9a3dfea67582b49825eb63077f8ed\",\r\n                    \"EndpointID\": \"c9fc4d6b3c6969fb7f5004803cf49c4295bd750b1431753d7c5b474cc95e97fc\",\r\n                    \"Gateway\": \"172.17.0.1\",\r\n                    \"IPAddress\": \"172.17.0.4\",\r\n                    \"IPPrefixLen\": 16,\r\n                    \"IPv6Gateway\": \"\",\r\n                    \"GlobalIPv6Address\": \"\",\r\n                    \"GlobalIPv6PrefixLen\": 0,\r\n                    \"MacAddress\": \"02:42:ac:11:00:04\",\r\n                    \"DriverOpts\": null\r\n                }\r\n            }\r\n        }\r\n    }\r\n]\r\n```\r\n\r\n**Steps to reproduce**:\r\n\r\nPlease include a *minimal* but *complete* recreation of the problem, including\r\n(e.g.) index creation, mappings, settings, query etc.  The easier you make for\r\nus to reproduce it, the more likely that somebody will take the time to look at it.\r\n\r\n 1.\r\n 2.\r\n 3.\r\n\r\n**Provide logs (if relevant)**:\r\n\r\n```\r\n$ docker-compose up\r\nCreating network \"docker_esnet\" with the default driver\r\nCreating es02 ... done\r\nCreating es01 ... done\r\nAttaching to es02, es01\r\nes02    | Exception in thread \"main\" java.lang.RuntimeException: starting java failed with [137]\r\nes02    | output:\r\nes02    |\r\nes02    | error:\r\nes02    | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\r\nes02    | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\r\nes02    | \tat org.elasticsearch.tools.launchers.JvmErgonomics.flagsFinal(JvmErgonomics.java:111)\r\nes02    | \tat org.elasticsearch.tools.launchers.JvmErgonomics.finalJvmOptions(JvmErgonomics.java:79)\r\nes02    | \tat org.elasticsearch.tools.launchers.JvmErgonomics.choose(JvmErgonomics.java:57)\r\nes02    | \tat org.elasticsearch.tools.launchers.JvmOptionsParser.main(JvmOptionsParser.java:89)\r\nes01    | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\r\nes01    | OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.\r\nes02 exited with code 1\r\nes01    | {\"type\": \"server\", \"timestamp\": \"2019-07-03T11:00:16,481+0000\", \"level\": \"INFO\", \"component\": \"o.e.e.NodeEnvironment\", \"cluster.name\": \"docker-cluster\", \"node.name\": \"es01\",  \"message\": \"using [1] data paths, mounts [[/usr/share/elasticsearch/data (/dev/sda1)]], net usable_space [12.9gb], net total_space [29.2gb], types [ext4]\"  }\r\nes01    | {\"type\": \"server\", \"timestamp\": \"2019-07-03T11:00:16,487+0000\", \"level\": \"INFO\", \"component\": \"o.e.e.NodeEnvironment\", \"cluster.name\": \"docker-cluster\", \"node.name\": \"es01\",  \"message\": \"heap size [512mb], compressed ordinary object pointers [true]\"  }\r\nes01    | {\"type\": \"server\", \"timestamp\": \"2019-07-03T11:00:16,491+0000\", \"level\": \"INFO\", \"component\": \"o.e.n.Node\", \"cluster.name\": \"docker-cluster\", \"node.name\": \"es01\",  \"message\": \"node name [es01], node ID [ErvCPMVsSpK357oc2BztiA], cluster name [docker-cluster]\"  }\r\nes01    | {\"type\": \"server\", \"timestamp\": \"2019-07-03T11:00:16,491+0000\", \"level\": \"INFO\", \"component\": \"o.e.n.Node\", \"cluster.name\": \"docker-cluster\", \"node.name\": \"es01\",  \"message\": \"version[7.2.0], pid[1], build[default/docker/508c38a/2019-06-20T15:54:18.811730Z], OS[Linux/4.9.125-linuxkit/amd64], JVM[Oracle Corporation/OpenJDK 64-Bit Server VM/12.0.1/12.0.1+12]\"  }\r\nes01    | {\"type\": \"server\", \"timestamp\": \"2019-07-03T11:00:16,492+0000\", \"level\": \"INFO\", \"component\": \"o.e.n.Node\", \"cluster.name\": \"docker-cluster\", \"node.name\": \"es01\",  \"message\": \"JVM home [/usr/share/elasticsearch/jdk]\"  }\r\nes01    | {\"type\": \"server\", \"timestamp\": \"2019-07-03T11:00:16,492+0000\", \"level\": \"INFO\", \"component\": \"o.e.n.Node\", \"cluster.name\": \"docker-cluster\", \"node.name\": \"es01\",  \"message\": \"JVM arguments [-Xms1g, -Xmx1g, -XX:+UseConcMarkSweepGC, -XX:CMSInitiatingOccupancyFraction=75, -XX:+UseCMSInitiatingOccupancyOnly, -Des.networkaddress.cache.ttl=60, -Des.networkaddress.cache.negative.ttl=10, -XX:+AlwaysPreTouch, -Xss1m, -Djava.awt.headless=true, -Dfile.encoding=UTF-8, -Djna.nosys=true, -XX:-OmitStackTraceInFastThrow, -Dio.netty.noUnsafe=true, -Dio.netty.noKeySetOptimization=true, -Dio.netty.recycler.maxCapacityPerThread=0, -Dlog4j.shutdownHookEnabled=false, -Dlog4j2.disable.jmx=true, -Djava.io.tmpdir=/tmp/elasticsearch-2384203903017900189, -XX:+HeapDumpOnOutOfMemoryError, -XX:HeapDumpPath=data, -XX:ErrorFile=logs/hs_err_pid%p.log, -Xlog:gc*,gc+age=trace,safepoint:file=logs/gc.log:utctime,pid,tags:filecount=32,filesize=64m, -Djava.locale.providers=COMPAT, -Des.cgroups.hierarchy.override=/, -Xms512m, -Xmx512m, -XX:-UseConcMarkSweepGC, -XX:-UseCMSInitiatingOccupancyOnly, -XX:+UseG1GC, -XX:InitiatingHeapOccupancyPercent=75, -Dio.netty.allocator.type=unpooled, -XX:MaxDirectMemorySize=268435456, -Des.path.home=/usr/share/elasticsearch, -Des.path.conf=/usr/share/elasticsearch/config, -Des.distribution.flavor=default, -Des.distribution.type=docker, -Des.bundled_jdk=true]\"  }\r\nKilling es01  ... done\r\n```\r\n\r\nmy docker-compose.yml is\r\n\r\n```yaml\r\nversion: '2.2'\r\nservices:\r\n  es01:\r\n    image: elasticsearch:7.2.0\r\n    container_name: es01\r\n    environment:\r\n      - node.name=es01\r\n      - discovery.seed_hosts=es02\r\n      - cluster.initial_master_nodes=es01,es02\r\n      - cluster.name=docker-cluster\r\n      - bootstrap.memory_lock=true\r\n      - \"ES_JAVA_OPTS=-Xms512m -Xmx512m -XX:-UseConcMarkSweepGC\r\n                                        -XX:-UseCMSInitiatingOccupancyOnly\r\n                                        -XX:+UseG1GC\r\n                                        -XX:InitiatingHeapOccupancyPercent=75\"\r\n    ulimits:\r\n      memlock:\r\n        soft: -1\r\n        hard: -1\r\n    volumes:\r\n      - esdata01:/usr/share/elasticsearch/data\r\n    ports:\r\n      - 9200:9200\r\n    networks:\r\n      - esnet\r\n  es02:\r\n    image: elasticsearch:7.2.0\r\n    container_name: es02\r\n    environment:\r\n      - node.name=es02\r\n      - discovery.seed_hosts=es01\r\n      - cluster.initial_master_nodes=es01,es02\r\n      - cluster.name=docker-cluster\r\n      - bootstrap.memory_lock=true\r\n      - \"ES_JAVA_OPTS=-Xms512m -Xmx512m -XX:-UseConcMarkSweepGC -XX:-UseCMSInitiatingOccupancyOnly -XX:+UseG1GC -XX:InitiatingHeapOccupancyPercent=75\"\r\n    ulimits:\r\n      memlock:\r\n        soft: -1\r\n        hard: -1\r\n    volumes:\r\n      - esdata02:/usr/share/elasticsearch/data\r\n    networks:\r\n      - esnet\r\n\r\nvolumes:\r\n  esdata01:\r\n    driver: local\r\n  esdata02:\r\n    driver: local\r\n\r\nnetworks:\r\n  esnet:\r\n\r\n```","closed_by":{"login":"NineSwordsMonster","id":10054584,"node_id":"MDQ6VXNlcjEwMDU0NTg0","avatar_url":"https://avatars0.githubusercontent.com/u/10054584?v=4","gravatar_id":"","url":"https://api.github.com/users/NineSwordsMonster","html_url":"https://github.com/NineSwordsMonster","followers_url":"https://api.github.com/users/NineSwordsMonster/followers","following_url":"https://api.github.com/users/NineSwordsMonster/following{/other_user}","gists_url":"https://api.github.com/users/NineSwordsMonster/gists{/gist_id}","starred_url":"https://api.github.com/users/NineSwordsMonster/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NineSwordsMonster/subscriptions","organizations_url":"https://api.github.com/users/NineSwordsMonster/orgs","repos_url":"https://api.github.com/users/NineSwordsMonster/repos","events_url":"https://api.github.com/users/NineSwordsMonster/events{/privacy}","received_events_url":"https://api.github.com/users/NineSwordsMonster/received_events","type":"User","site_admin":false},"performed_via_github_app":null}