[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/55321891","html_url":"https://github.com/elastic/elasticsearch/issues/7699#issuecomment-55321891","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7699","id":55321891,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzIxODkx","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2014-09-11T20:18:43Z","updated_at":"2014-09-11T20:18:43Z","author_association":"CONTRIBUTOR","body":"I should also mention that I gave the setting some time to take effect before running the numbers.  Hours in some cases.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/55442556","html_url":"https://github.com/elastic/elasticsearch/issues/7699#issuecomment-55442556","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7699","id":55442556,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDQyNTU2","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2014-09-12T18:30:18Z","updated_at":"2014-09-12T18:30:18Z","author_association":"CONTRIBUTOR","body":"I can reproduce this locally on the 1.3 branch.  I'm fussing around with breakpoints to figure out exactly what is up.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/55445795","html_url":"https://github.com/elastic/elasticsearch/issues/7699#issuecomment-55445795","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7699","id":55445795,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDQ1Nzk1","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2014-09-12T18:56:31Z","updated_at":"2014-09-12T18:56:31Z","author_association":"CONTRIBUTOR","body":"OK.  Got it.  The problem is that in the 1.3 branch TieredMergePolicyProvider _looks_ _like_ it keeps a list of merge policies so it can update them all when something changes but it never adds anything to the list.  @rmuir fixed this when he upgraded to Lucene 4.10, presumably because keeping a single mergePolicy became ok.\n\nSo this is solved in whatever release picks up Lucene 4.10, presumably 1.4.\n\n(maybe) beside the point, I noticed that there weren't any volatile variables in TieredMergePolicyProvider.  My understanding of how the jvm uses these to force synchronization across threads is pretty handwavy.  Can someone with more experience chime in about whether there are potential problems with the changes becoming visible here?   \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/55452496","html_url":"https://github.com/elastic/elasticsearch/issues/7699#issuecomment-55452496","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7699","id":55452496,"node_id":"MDEyOklzc3VlQ29tbWVudDU1NDUyNDk2","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2014-09-12T19:51:58Z","updated_at":"2014-09-12T19:51:58Z","author_association":"CONTRIBUTOR","body":"I'm pretty sure this prevented merge settings from being dynamic in most cases - only if the shard is moved to another node or maybe closed and reopened will the changes take effect.  Maybe if you change from TieredMergePolicy to another on and then back again.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/56715981","html_url":"https://github.com/elastic/elasticsearch/issues/7699#issuecomment-56715981","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7699","id":56715981,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzE1OTgx","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-09-24T18:25:45Z","updated_at":"2014-09-24T18:25:45Z","author_association":"CONTRIBUTOR","body":"@nik9000 reopening this to get comments, otherwise nobody will ever look at it again :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/56716625","html_url":"https://github.com/elastic/elasticsearch/issues/7699#issuecomment-56716625","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7699","id":56716625,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzE2NjI1","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-09-24T18:30:07Z","updated_at":"2014-09-24T18:30:07Z","author_association":"CONTRIBUTOR","body":"@mikemccand can you shed any light on @nik9000 's last two comments?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/56718825","html_url":"https://github.com/elastic/elasticsearch/issues/7699#issuecomment-56718825","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7699","id":56718825,"node_id":"MDEyOklzc3VlQ29tbWVudDU2NzE4ODI1","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2014-09-24T18:44:55Z","updated_at":"2014-09-24T18:44:55Z","author_association":"CONTRIBUTOR","body":"@clintongormley, the ones about visibility?  I imagine they're moot.  My rambling about switching from TieredMergePolicy and back again are really just trying to figure out a way to get it working with 1.3.2.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/67393475","html_url":"https://github.com/elastic/elasticsearch/issues/7699#issuecomment-67393475","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7699","id":67393475,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzkzNDc1","user":{"login":"ayushsangani","id":5571792,"node_id":"MDQ6VXNlcjU1NzE3OTI=","avatar_url":"https://avatars0.githubusercontent.com/u/5571792?v=4","gravatar_id":"","url":"https://api.github.com/users/ayushsangani","html_url":"https://github.com/ayushsangani","followers_url":"https://api.github.com/users/ayushsangani/followers","following_url":"https://api.github.com/users/ayushsangani/following{/other_user}","gists_url":"https://api.github.com/users/ayushsangani/gists{/gist_id}","starred_url":"https://api.github.com/users/ayushsangani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ayushsangani/subscriptions","organizations_url":"https://api.github.com/users/ayushsangani/orgs","repos_url":"https://api.github.com/users/ayushsangani/repos","events_url":"https://api.github.com/users/ayushsangani/events{/privacy}","received_events_url":"https://api.github.com/users/ayushsangani/received_events","type":"User","site_admin":false},"created_at":"2014-12-17T21:02:01Z","updated_at":"2014-12-17T21:02:23Z","author_association":"CONTRIBUTOR","body":"@nik9000 We upgraded ES to 1.4.0 `reclaim_deletes_weight` seems to be working. Thanks\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/67627446","html_url":"https://github.com/elastic/elasticsearch/issues/7699#issuecomment-67627446","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7699","id":67627446,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjI3NDQ2","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-12-19T11:27:18Z","updated_at":"2014-12-19T11:27:18Z","author_association":"CONTRIBUTOR","body":"OK - closing then\n","performed_via_github_app":null}]