[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/284250224","html_url":"https://github.com/elastic/elasticsearch/issues/23363#issuecomment-284250224","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23363","id":284250224,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NDI1MDIyNA==","user":{"login":"firstprayer","id":2390732,"node_id":"MDQ6VXNlcjIzOTA3MzI=","avatar_url":"https://avatars2.githubusercontent.com/u/2390732?v=4","gravatar_id":"","url":"https://api.github.com/users/firstprayer","html_url":"https://github.com/firstprayer","followers_url":"https://api.github.com/users/firstprayer/followers","following_url":"https://api.github.com/users/firstprayer/following{/other_user}","gists_url":"https://api.github.com/users/firstprayer/gists{/gist_id}","starred_url":"https://api.github.com/users/firstprayer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/firstprayer/subscriptions","organizations_url":"https://api.github.com/users/firstprayer/orgs","repos_url":"https://api.github.com/users/firstprayer/repos","events_url":"https://api.github.com/users/firstprayer/events{/privacy}","received_events_url":"https://api.github.com/users/firstprayer/received_events","type":"User","site_admin":false},"created_at":"2017-03-05T18:40:05Z","updated_at":"2017-03-05T18:40:05Z","author_association":"NONE","body":"What does \"exposing\" mean? My understanding is exposing them as those in https://www.elastic.co/guide/en/elasticsearch/reference/current/analysis-tokenizers.html, basically allowing users to specify these 2 as the tokenize for their documents, but I'm not sure - can you clarify?\r\n\r\nAlso - I'm very interested in taking up this one but I'm still new to ES. Any code pointer as starting point would be nice :) ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/291184627","html_url":"https://github.com/elastic/elasticsearch/issues/23363#issuecomment-291184627","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23363","id":291184627,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTE4NDYyNw==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2017-04-03T15:48:33Z","updated_at":"2017-04-03T15:48:33Z","author_association":"CONTRIBUTOR","body":"@firstprayer yes, this is what it means. Maybe you can look at how other analysis components are exposed (grepping for their name through the code base should help)?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/291889487","html_url":"https://github.com/elastic/elasticsearch/issues/23363#issuecomment-291889487","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23363","id":291889487,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTg4OTQ4Nw==","user":{"login":"glefloch","id":1827790,"node_id":"MDQ6VXNlcjE4Mjc3OTA=","avatar_url":"https://avatars2.githubusercontent.com/u/1827790?v=4","gravatar_id":"","url":"https://api.github.com/users/glefloch","html_url":"https://github.com/glefloch","followers_url":"https://api.github.com/users/glefloch/followers","following_url":"https://api.github.com/users/glefloch/following{/other_user}","gists_url":"https://api.github.com/users/glefloch/gists{/gist_id}","starred_url":"https://api.github.com/users/glefloch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glefloch/subscriptions","organizations_url":"https://api.github.com/users/glefloch/orgs","repos_url":"https://api.github.com/users/glefloch/repos","events_url":"https://api.github.com/users/glefloch/events{/privacy}","received_events_url":"https://api.github.com/users/glefloch/received_events","type":"User","site_admin":false},"created_at":"2017-04-05T15:00:33Z","updated_at":"2017-04-05T19:56:05Z","author_association":"CONTRIBUTOR","body":"@mikemccand can you explain me the difference between `SimplePatternTokenizer` and `SimplePatternSplitTokenizer`. The lucene javadoc of `SimplePatternSplitTokenizer` says:\r\n\r\n>   // TODO: this is copied from SimplePatternTokenizer, but there are subtle differences e.g. we track sepUpto an tokenUpto;\r\n  // find a clean way to share it: \r\n\r\nAfter having a look at the code, there already is a `PatternTokenizer` which run a regexp. In the documentation it says that the new implementation a faster but a bit more limited.  \r\n\r\nShould we replace `PatternTokenizer` with `SimplePatternTokenizer` or `SimplePatternSplitTokenizer` ? \r\nor should we expose all of them despite they almost do the same things.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/306910972","html_url":"https://github.com/elastic/elasticsearch/issues/23363#issuecomment-306910972","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23363","id":306910972,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNjkxMDk3Mg==","user":{"login":"andyb-elastic","id":29205940,"node_id":"MDQ6VXNlcjI5MjA1OTQw","avatar_url":"https://avatars2.githubusercontent.com/u/29205940?v=4","gravatar_id":"","url":"https://api.github.com/users/andyb-elastic","html_url":"https://github.com/andyb-elastic","followers_url":"https://api.github.com/users/andyb-elastic/followers","following_url":"https://api.github.com/users/andyb-elastic/following{/other_user}","gists_url":"https://api.github.com/users/andyb-elastic/gists{/gist_id}","starred_url":"https://api.github.com/users/andyb-elastic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andyb-elastic/subscriptions","organizations_url":"https://api.github.com/users/andyb-elastic/orgs","repos_url":"https://api.github.com/users/andyb-elastic/repos","events_url":"https://api.github.com/users/andyb-elastic/events{/privacy}","received_events_url":"https://api.github.com/users/andyb-elastic/received_events","type":"User","site_admin":false},"created_at":"2017-06-07T20:12:18Z","updated_at":"2017-06-07T20:12:18Z","author_association":"CONTRIBUTOR","body":"@nik9000 recommended I take this one\r\n\r\n@glefloch I think the main functional difference here is that `SimplePatternTokenizer` returns tokens that match the pattern, where `SimplePatternSplitTokenizer` splits the input at the places where the pattern matches, but doesn't return the matches themselves. `PatternTokenizer` can do either depending on how you configure it, there are some examples in [its page in the docs](https://www.elastic.co/guide/en/elasticsearch/reference/master/analysis-pattern-tokenizer.html)\r\n\r\nI think we should expose all three, because deprecating `PatternTokenizer` seems like it would cause major frustration to users who use regex features that aren't supported by the Simple tokenizers. If using `PatternTokenizer` with runaway regexes is a common pitfall for users then maybe it's worth deprecating.\r\n\r\nThis also possibly revealed another issue: it looks like the [common tokenizers' factories](https://www.elastic.co/guide/en/elasticsearch/reference/master/analysis-pattern-tokenizer.html) are all being instantiated when an index is created, regardless of if you configure the index to use them. If I register a configurable tokenizer factory that doesn't set default parameters (for example, imagine [`PatternTokenizerFactory`](https://github.com/elastic/elasticsearch/blob/aa38d053d75c4cc8134ecff0c23d8c4c9640c704/core/src/main/java/org/elasticsearch/index/analysis/PatternTokenizerFactory.java#L39) didn't set a default for its `pattern` param) then seemingly any operation that creates an index will fail when it tries to construct that factory without a default. This doesn't seem like the intended behavior; if this tokenizer isn't used, it seems like its factory shouldn't be constructed.\r\n\r\nWe're not sure if that's a real problem, I'll dig a little more into it. Assuming it is, I think the best thing to do until that's fixed is set the empty string as the default pattern for both Simple tokenizers. This causes `SimplePatternTokenizer` to return no tokens, and `SimplePatternSplitTokenizer` to return the whole input as one token.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/307011759","html_url":"https://github.com/elastic/elasticsearch/issues/23363#issuecomment-307011759","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23363","id":307011759,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzAxMTc1OQ==","user":{"login":"glefloch","id":1827790,"node_id":"MDQ6VXNlcjE4Mjc3OTA=","avatar_url":"https://avatars2.githubusercontent.com/u/1827790?v=4","gravatar_id":"","url":"https://api.github.com/users/glefloch","html_url":"https://github.com/glefloch","followers_url":"https://api.github.com/users/glefloch/followers","following_url":"https://api.github.com/users/glefloch/following{/other_user}","gists_url":"https://api.github.com/users/glefloch/gists{/gist_id}","starred_url":"https://api.github.com/users/glefloch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glefloch/subscriptions","organizations_url":"https://api.github.com/users/glefloch/orgs","repos_url":"https://api.github.com/users/glefloch/repos","events_url":"https://api.github.com/users/glefloch/events{/privacy}","received_events_url":"https://api.github.com/users/glefloch/received_events","type":"User","site_admin":false},"created_at":"2017-06-08T06:31:18Z","updated_at":"2017-06-08T06:31:18Z","author_association":"CONTRIBUTOR","body":"@andy-elastic tanks for the explanation!","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/308241307","html_url":"https://github.com/elastic/elasticsearch/issues/23363#issuecomment-308241307","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23363","id":308241307,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODI0MTMwNw==","user":{"login":"andyb-elastic","id":29205940,"node_id":"MDQ6VXNlcjI5MjA1OTQw","avatar_url":"https://avatars2.githubusercontent.com/u/29205940?v=4","gravatar_id":"","url":"https://api.github.com/users/andyb-elastic","html_url":"https://github.com/andyb-elastic","followers_url":"https://api.github.com/users/andyb-elastic/followers","following_url":"https://api.github.com/users/andyb-elastic/following{/other_user}","gists_url":"https://api.github.com/users/andyb-elastic/gists{/gist_id}","starred_url":"https://api.github.com/users/andyb-elastic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andyb-elastic/subscriptions","organizations_url":"https://api.github.com/users/andyb-elastic/orgs","repos_url":"https://api.github.com/users/andyb-elastic/repos","events_url":"https://api.github.com/users/andyb-elastic/events{/privacy}","received_events_url":"https://api.github.com/users/andyb-elastic/received_events","type":"User","site_admin":false},"created_at":"2017-06-13T20:38:18Z","updated_at":"2017-06-13T20:38:18Z","author_association":"CONTRIBUTOR","body":"This is merged in master","performed_via_github_app":null}]