[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/423929564","html_url":"https://github.com/elastic/elasticsearch/issues/33987#issuecomment-423929564","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33987","id":423929564,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMzkyOTU2NA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-09-24T10:14:38Z","updated_at":"2018-09-24T10:14:38Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search-aggs","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/423929566","html_url":"https://github.com/elastic/elasticsearch/issues/33987#issuecomment-423929566","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33987","id":423929566,"node_id":"MDEyOklzc3VlQ29tbWVudDQyMzkyOTU2Ng==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-09-24T10:14:39Z","updated_at":"2018-09-24T10:14:39Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-security","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/425395691","html_url":"https://github.com/elastic/elasticsearch/issues/33987#issuecomment-425395691","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33987","id":425395691,"node_id":"MDEyOklzc3VlQ29tbWVudDQyNTM5NTY5MQ==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2018-09-28T10:36:29Z","updated_at":"2018-09-28T10:36:29Z","author_association":"MEMBER","body":"@costin Cold you look into these failures?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/426560504","html_url":"https://github.com/elastic/elasticsearch/issues/33987#issuecomment-426560504","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33987","id":426560504,"node_id":"MDEyOklzc3VlQ29tbWVudDQyNjU2MDUwNA==","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"created_at":"2018-10-03T08:54:19Z","updated_at":"2018-10-03T08:54:19Z","author_association":"CONTRIBUTOR","body":"Same thing in \r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.4+multijob-unix-compatibility/os=amazon/37/console\r\n\r\nExactly the same set of tests failed.\r\n\r\nAgain, the error for all failed tests is:\r\n\r\n```\r\n   > Throwable #1: java.lang.AssertionError: Some checkers [0, 1, 2, 3, 4, 5, 6, 7] didn't match any logs. All logs:  none!\r\n   > Remaining logs:  none!\r\n   > \tat __randomizedtesting.SeedInfo.seed([D8632DA396228436:F2F6FC242F76C07A]:0)\r\n   > \tat org.elasticsearch.xpack.qa.sql.security.SqlSecurityTestCase$AuditLogAsserter.lambda$assertLogs$2(SqlSecurityTestCase.java:622)\r\n   > \tat org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:830)\r\n   > \tat org.elasticsearch.test.ESTestCase.assertBusy(ESTestCase.java:804)\r\n   > \tat org.elasticsearch.xpack.qa.sql.security.SqlSecurityTestCase$AuditLogAsserter.assertLogs(SqlSecurityTestCase.java:541)\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/432975080","html_url":"https://github.com/elastic/elasticsearch/issues/33987#issuecomment-432975080","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33987","id":432975080,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMjk3NTA4MA==","user":{"login":"astefan","id":893749,"node_id":"MDQ6VXNlcjg5Mzc0OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/893749?v=4","gravatar_id":"","url":"https://api.github.com/users/astefan","html_url":"https://github.com/astefan","followers_url":"https://api.github.com/users/astefan/followers","following_url":"https://api.github.com/users/astefan/following{/other_user}","gists_url":"https://api.github.com/users/astefan/gists{/gist_id}","starred_url":"https://api.github.com/users/astefan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astefan/subscriptions","organizations_url":"https://api.github.com/users/astefan/orgs","repos_url":"https://api.github.com/users/astefan/repos","events_url":"https://api.github.com/users/astefan/events{/privacy}","received_events_url":"https://api.github.com/users/astefan/received_events","type":"User","site_admin":false},"created_at":"2018-10-25T09:11:23Z","updated_at":"2018-10-25T09:11:23Z","author_association":"CONTRIBUTOR","body":"I've looked over this one and the assertion comes from an `assertBusy()` block which has a runtime of 10 seconds. From this block, the assertion comes from what seems to be an empty audit log file. The handling of an empty log file is not handled inside this block of code and I am not sure if it should be handled in any way (as the audit log shouldn't actually be empty?).\r\n\r\nIf the audit log is empty, some didn't go as planned during the test?\r\n@nik9000 do you have any ideas why ^ might happen?\r\nA more recent failure (where the full logs are still available) is [here](https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.4+intake/12/timestamps/?time=HH:mm:ss&timeZone=GMT+3&appendLog&locale=en_US).","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/433083857","html_url":"https://github.com/elastic/elasticsearch/issues/33987#issuecomment-433083857","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33987","id":433083857,"node_id":"MDEyOklzc3VlQ29tbWVudDQzMzA4Mzg1Nw==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2018-10-25T14:55:56Z","updated_at":"2018-10-25T14:55:56Z","author_association":"CONTRIBUTOR","body":"I wonder if the audit log file rolled over. We don't handle that and I hadn't thought about it. But it's make sense. I'm not sure if it'd be easier to disable rolling for the test or to scan all of the files.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/461863853","html_url":"https://github.com/elastic/elasticsearch/issues/33987#issuecomment-461863853","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33987","id":461863853,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MTg2Mzg1Mw==","user":{"login":"astefan","id":893749,"node_id":"MDQ6VXNlcjg5Mzc0OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/893749?v=4","gravatar_id":"","url":"https://api.github.com/users/astefan","html_url":"https://github.com/astefan","followers_url":"https://api.github.com/users/astefan/followers","following_url":"https://api.github.com/users/astefan/following{/other_user}","gists_url":"https://api.github.com/users/astefan/gists{/gist_id}","starred_url":"https://api.github.com/users/astefan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astefan/subscriptions","organizations_url":"https://api.github.com/users/astefan/orgs","repos_url":"https://api.github.com/users/astefan/repos","events_url":"https://api.github.com/users/astefan/events{/privacy}","received_events_url":"https://api.github.com/users/astefan/received_events","type":"User","site_admin":false},"created_at":"2019-02-08T16:37:17Z","updated_at":"2019-02-08T16:37:17Z","author_association":"CONTRIBUTOR","body":"master (8.0.0): https://github.com/elastic/elasticsearch/commit/75cb6b38ed67dc9d32c9291b0c174ffa94e473bc\r\n7.x (7.1.0): https://github.com/elastic/elasticsearch/commit/6359d988f02c583231879c83bec016a822d450aa\r\n7.0 (7.0.0): https://github.com/elastic/elasticsearch/commit/8cd20d1adcbb582183c98a3f3bd360477047e63d\r\n6.7 (6.7.0): https://github.com/elastic/elasticsearch/commit/5fed91ee7f10b19154e8ea010e180e6bc5ef97ee","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/469084718","html_url":"https://github.com/elastic/elasticsearch/issues/33987#issuecomment-469084718","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33987","id":469084718,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2OTA4NDcxOA==","user":{"login":"tvernum","id":2244393,"node_id":"MDQ6VXNlcjIyNDQzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/2244393?v=4","gravatar_id":"","url":"https://api.github.com/users/tvernum","html_url":"https://github.com/tvernum","followers_url":"https://api.github.com/users/tvernum/followers","following_url":"https://api.github.com/users/tvernum/following{/other_user}","gists_url":"https://api.github.com/users/tvernum/gists{/gist_id}","starred_url":"https://api.github.com/users/tvernum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvernum/subscriptions","organizations_url":"https://api.github.com/users/tvernum/orgs","repos_url":"https://api.github.com/users/tvernum/repos","events_url":"https://api.github.com/users/tvernum/events{/privacy}","received_events_url":"https://api.github.com/users/tvernum/received_events","type":"User","site_admin":false},"created_at":"2019-03-04T00:51:33Z","updated_at":"2019-03-04T00:51:33Z","author_association":"CONTRIBUTOR","body":"This is still failing on 6.6 so I opened https://github.com/elastic/elasticsearch/pull/39615 for backport to that branch.\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.6+multijob-unix-compatibility/os=ubuntu-18.04&&immutable/149/console\r\n","performed_via_github_app":null}]