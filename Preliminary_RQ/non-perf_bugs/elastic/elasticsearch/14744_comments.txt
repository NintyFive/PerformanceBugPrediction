[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/156482322","html_url":"https://github.com/elastic/elasticsearch/issues/14744#issuecomment-156482322","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14744","id":156482322,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NjQ4MjMyMg==","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2015-11-13T16:38:32Z","updated_at":"2015-11-13T16:38:32Z","author_association":"CONTRIBUTOR","body":"Possibly jar hell in your setup. If you are using elasticsearch 2.0 as a client, first try this:\n\n```\nimport org.elasticsearch.bootstrap.JarHell;\n\n...\n\n    JarHell.checkJarHell();\n```\n\nIt might shed some light on the situation..\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/156482768","html_url":"https://github.com/elastic/elasticsearch/issues/14744#issuecomment-156482768","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14744","id":156482768,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NjQ4Mjc2OA==","user":{"login":"frank-montyne","id":9611311,"node_id":"MDQ6VXNlcjk2MTEzMTE=","avatar_url":"https://avatars0.githubusercontent.com/u/9611311?v=4","gravatar_id":"","url":"https://api.github.com/users/frank-montyne","html_url":"https://github.com/frank-montyne","followers_url":"https://api.github.com/users/frank-montyne/followers","following_url":"https://api.github.com/users/frank-montyne/following{/other_user}","gists_url":"https://api.github.com/users/frank-montyne/gists{/gist_id}","starred_url":"https://api.github.com/users/frank-montyne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/frank-montyne/subscriptions","organizations_url":"https://api.github.com/users/frank-montyne/orgs","repos_url":"https://api.github.com/users/frank-montyne/repos","events_url":"https://api.github.com/users/frank-montyne/events{/privacy}","received_events_url":"https://api.github.com/users/frank-montyne/received_events","type":"User","site_admin":false},"created_at":"2015-11-13T16:40:27Z","updated_at":"2015-11-13T16:40:27Z","author_association":"NONE","body":"Thanks I'll give that a try\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/156498194","html_url":"https://github.com/elastic/elasticsearch/issues/14744#issuecomment-156498194","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14744","id":156498194,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NjQ5ODE5NA==","user":{"login":"frank-montyne","id":9611311,"node_id":"MDQ6VXNlcjk2MTEzMTE=","avatar_url":"https://avatars0.githubusercontent.com/u/9611311?v=4","gravatar_id":"","url":"https://api.github.com/users/frank-montyne","html_url":"https://github.com/frank-montyne","followers_url":"https://api.github.com/users/frank-montyne/followers","following_url":"https://api.github.com/users/frank-montyne/following{/other_user}","gists_url":"https://api.github.com/users/frank-montyne/gists{/gist_id}","starred_url":"https://api.github.com/users/frank-montyne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/frank-montyne/subscriptions","organizations_url":"https://api.github.com/users/frank-montyne/orgs","repos_url":"https://api.github.com/users/frank-montyne/repos","events_url":"https://api.github.com/users/frank-montyne/events{/privacy}","received_events_url":"https://api.github.com/users/frank-montyne/received_events","type":"User","site_admin":false},"created_at":"2015-11-13T17:43:07Z","updated_at":"2015-11-13T17:43:07Z","author_association":"NONE","body":"Running JarHell doesn't indicate that something is wrong\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/157701063","html_url":"https://github.com/elastic/elasticsearch/issues/14744#issuecomment-157701063","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14744","id":157701063,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NzcwMTA2Mw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-11-18T12:43:53Z","updated_at":"2015-11-18T12:43:53Z","author_association":"CONTRIBUTOR","body":"Isn't the problem in JBoss?\n\n```\nINFO|3861/0|15-11-13 12:55:55| at org.jboss.netty.logging.InternalLoggerFactory.(InternalLoggerFactory.java:49)\nINFO|3861/0|15-11-13 12:55:55| at org.elasticsearch.common.netty.NettyUtils.(NettyUtils.java:90)\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/157713365","html_url":"https://github.com/elastic/elasticsearch/issues/14744#issuecomment-157713365","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14744","id":157713365,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NzcxMzM2NQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2015-11-18T13:30:32Z","updated_at":"2015-11-18T15:25:36Z","author_association":"MEMBER","body":"> Isn't the problem in JBoss?\n\nNetty use to be developed under JBoss so the package names from the 3.x line reflect that (it is no the longer case).\n\nI think that the user has something unusual going on with Netty and their classpath. In particular, the `StackTraceSimplifier` class that is referred to was removed between 3.9.0 and 3.10.0 of Netty. Looking at the source of `InternalLoggerFactory` from say 3.9.0.Final, `StackTraceSimplifier` is used in the class initializer for `InternalLoggerFactory` (and this is not the case in 3.10.5.Final). If that class is not available, the class initializer for `InternalLoggerFactory` fails and that leads to a [`NoClassDefFoundError`](http://docs.oracle.com/javase/specs/jls/se7/html/jls-12.html#jls-12.4.2). The version of Netty that Elasticsearch depends on (3.10.5.Final) should not be looking for `StackTraceSimplifier` because it has been completely removed from Netty in that version.\n\nI took a cursory peek at YAJSW, and it appears to have a Netty dependency (maybe Netty 3.6.6.Final?). With this older version of Netty and this wrapper, I suspect that this is the underlying source of the issue.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/157850987","html_url":"https://github.com/elastic/elasticsearch/issues/14744#issuecomment-157850987","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14744","id":157850987,"node_id":"MDEyOklzc3VlQ29tbWVudDE1Nzg1MDk4Nw==","user":{"login":"frank-montyne","id":9611311,"node_id":"MDQ6VXNlcjk2MTEzMTE=","avatar_url":"https://avatars0.githubusercontent.com/u/9611311?v=4","gravatar_id":"","url":"https://api.github.com/users/frank-montyne","html_url":"https://github.com/frank-montyne","followers_url":"https://api.github.com/users/frank-montyne/followers","following_url":"https://api.github.com/users/frank-montyne/following{/other_user}","gists_url":"https://api.github.com/users/frank-montyne/gists{/gist_id}","starred_url":"https://api.github.com/users/frank-montyne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/frank-montyne/subscriptions","organizations_url":"https://api.github.com/users/frank-montyne/orgs","repos_url":"https://api.github.com/users/frank-montyne/repos","events_url":"https://api.github.com/users/frank-montyne/events{/privacy}","received_events_url":"https://api.github.com/users/frank-montyne/received_events","type":"User","site_admin":false},"created_at":"2015-11-18T20:19:46Z","updated_at":"2015-11-18T20:19:46Z","author_association":"NONE","body":"Indeed, jajsw is the culprit.\n\nThanks,\nFrank\n\n> On 18 Nov 2015, at 08:31, Jason Tedor notifications@github.com wrote:\n> \n> Isn't the problem in JBoss?\n> \n> Netty use to be developed under JBoss so the package names from the 3.x line reflect that (it is no the longer case).\n> \n> I think that the user has something unusual going on with Netty and their classpath. In particular, the StackTraceSimplifier class that you refer to was removed between 3.9.0 and 3.10.0 of Netty. If you look at the source of InternalLoggerFactory from say 3.9.0.Final, you'll see that it is used in the class initializer for InternalLoggerFactory (and this is not the case in 3.10.5.Final). If that class is not available, that class initializer for InternalLoggerFactory fails and that leads to a NoClassDefFoundError. The version of Netty that Elasticsearch depends on (3.10.5.Final) should not be looking for StackTraceSimplifier because it has been completely removed from Netty in that version.\n> \n> I took a cursory peek at YAJSW, and it appears to have a Netty dependency (maybe Netty 3.6.6.Final?). I suspect that this is the underlying source of the issue.\n> \n> —\n> Reply to this email directly or view it on GitHub.\n","performed_via_github_app":null}]