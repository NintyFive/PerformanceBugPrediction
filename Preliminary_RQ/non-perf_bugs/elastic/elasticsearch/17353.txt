{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/17353","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17353/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17353/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17353/events","html_url":"https://github.com/elastic/elasticsearch/issues/17353","id":143601245,"node_id":"MDU6SXNzdWUxNDM2MDEyNDU=","number":17353,"title":"Access sort value in Spark","user":{"login":"svebk","id":476472,"node_id":"MDQ6VXNlcjQ3NjQ3Mg==","avatar_url":"https://avatars0.githubusercontent.com/u/476472?v=4","gravatar_id":"","url":"https://api.github.com/users/svebk","html_url":"https://github.com/svebk","followers_url":"https://api.github.com/users/svebk/followers","following_url":"https://api.github.com/users/svebk/following{/other_user}","gists_url":"https://api.github.com/users/svebk/gists{/gist_id}","starred_url":"https://api.github.com/users/svebk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/svebk/subscriptions","organizations_url":"https://api.github.com/users/svebk/orgs","repos_url":"https://api.github.com/users/svebk/repos","events_url":"https://api.github.com/users/svebk/events{/privacy}","received_events_url":"https://api.github.com/users/svebk/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-03-25T21:20:00Z","updated_at":"2016-03-25T21:23:43Z","closed_at":"2016-03-25T21:23:43Z","author_association":"NONE","active_lock_reason":null,"body":"I am running an elasticsearch query with a \"sort\" on the field \"_timestamp\" and I want to get the \"sort\" value.\n\nRunning the query directly in python as something like:\n`response = es.search(index=\"index-domains\",doc_type=\"websites\",body=query)`\nI can access the \"sort\" value in each hit of the response.\n\nIf I try to run the same query on Spark, each value of the RDD does not have the field accessible.\n`es_rdd = self.sc.newAPIHadoopRDD(inputFormatClass=\"org.elasticsearch.hadoop.mr.EsInputFormat\",\n                                keyClass=\"org.apache.hadoop.io.NullWritable\",\n                                valueClass=\"org.apache.hadoop.io.Text\",\n                                conf=es_conf)`\n\nI tried to set:\n`es_conf['es.read.metadata.sort'] = \"true\"\nes_conf['es.read.metadata'] = \"true\"`\n\nI can get more things out, but not the \"sort\" field.\n`\"_metadata\":{\"_index\":\"index-domains\",\"_type\":\"websites\",\"_id\":\"63DC925E46FFCBDEECD43047B6CEAF4B5F15DC4AF75E2C90E8DE12FC2834AFFE\",\"_score\":0.0}}'`\n\nIs there a way to do so? I could not find anything on that in the docs.\n","closed_by":{"login":"svebk","id":476472,"node_id":"MDQ6VXNlcjQ3NjQ3Mg==","avatar_url":"https://avatars0.githubusercontent.com/u/476472?v=4","gravatar_id":"","url":"https://api.github.com/users/svebk","html_url":"https://github.com/svebk","followers_url":"https://api.github.com/users/svebk/followers","following_url":"https://api.github.com/users/svebk/following{/other_user}","gists_url":"https://api.github.com/users/svebk/gists{/gist_id}","starred_url":"https://api.github.com/users/svebk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/svebk/subscriptions","organizations_url":"https://api.github.com/users/svebk/orgs","repos_url":"https://api.github.com/users/svebk/repos","events_url":"https://api.github.com/users/svebk/events{/privacy}","received_events_url":"https://api.github.com/users/svebk/received_events","type":"User","site_admin":false},"performed_via_github_app":null}