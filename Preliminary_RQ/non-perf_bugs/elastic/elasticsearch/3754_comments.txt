[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/25121784","html_url":"https://github.com/elastic/elasticsearch/issues/3754#issuecomment-25121784","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3754","id":25121784,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MTIxNzg0","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2013-09-25T20:26:26Z","updated_at":"2013-09-25T20:26:26Z","author_association":"CONTRIBUTOR","body":"This looks to be caused by ConstantScoreAutoRewrite squashing prefix queries that don't match into empty, unweighted boolean clauses in the query rewrite phase.  Those empty boolean clauses have zero weight.\n\nSwitching to \"rewrite\": \"constant_score_filter\" fixes it for me.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/25123395","html_url":"https://github.com/elastic/elasticsearch/issues/3754#issuecomment-25123395","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3754","id":25123395,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MTIzMzk1","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2013-09-25T20:47:29Z","updated_at":"2013-09-25T20:47:29Z","author_association":"CONTRIBUTOR","body":"I filed https://issues.apache.org/jira/browse/LUCENE-5245 but I'm not particularly familiar with lucene's procedures so I'm not sure where to go from here.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/25127819","html_url":"https://github.com/elastic/elasticsearch/issues/3754#issuecomment-25127819","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3754","id":25127819,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MTI3ODE5","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-09-25T21:50:28Z","updated_at":"2013-09-25T21:50:28Z","author_association":"CONTRIBUTOR","body":"oh good call! thanks for opening it. This should be fixed in lucene really. it seems uwe is on it though but I will watch it as well.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/25127946","html_url":"https://github.com/elastic/elasticsearch/issues/3754#issuecomment-25127946","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3754","id":25127946,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MTI3OTQ2","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-09-25T21:52:38Z","updated_at":"2013-09-25T21:52:38Z","author_association":"CONTRIBUTOR","body":"flagged it as 4.6 upgrade - we will leave that open until it's fixed / upgraded\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/25168032","html_url":"https://github.com/elastic/elasticsearch/issues/3754#issuecomment-25168032","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3754","id":25168032,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MTY4MDMy","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2013-09-26T13:42:26Z","updated_at":"2013-09-26T13:42:26Z","author_association":"CONTRIBUTOR","body":"Fine by me.  I'll use my work around until then.  Any idea when Elasticsearch will upgrade to get it?  Also, is this worth adding to the documentation?\n\nNow that I know what causes it I don't think it effects all prefix queries, just the ones for terms that are in a different combination of fields on different indexes.  Because I deal in \"rare\" terms I see this more than most folks.  \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/25172651","html_url":"https://github.com/elastic/elasticsearch/issues/3754#issuecomment-25172651","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3754","id":25172651,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MTcyNjUx","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-09-26T14:35:07Z","updated_at":"2013-09-26T14:35:07Z","author_association":"CONTRIBUTOR","body":"@nik9000 well we ( @jpountz ) tries to get 4.5 out of the door so I'd guess 8 weeks after that happened? I don't think we need to document that specifically. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/25172818","html_url":"https://github.com/elastic/elasticsearch/issues/3754#issuecomment-25172818","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3754","id":25172818,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MTcyODE4","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2013-09-26T14:37:01Z","updated_at":"2013-09-26T14:37:01Z","author_association":"CONTRIBUTOR","body":"Thanks!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/25177921","html_url":"https://github.com/elastic/elasticsearch/issues/3754#issuecomment-25177921","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3754","id":25177921,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MTc3OTIx","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-09-26T15:36:47Z","updated_at":"2013-09-26T15:36:47Z","author_association":"CONTRIBUTOR","body":"@nik9000 FYI we are respinning 4.5 so it will include the patch uwe committed\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/25179190","html_url":"https://github.com/elastic/elasticsearch/issues/3754#issuecomment-25179190","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3754","id":25179190,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MTc5MTkw","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2013-09-26T15:51:53Z","updated_at":"2013-09-26T15:51:53Z","author_association":"CONTRIBUTOR","body":"I saw!  Thanks so much!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/25894870","html_url":"https://github.com/elastic/elasticsearch/issues/3754#issuecomment-25894870","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3754","id":25894870,"node_id":"MDEyOklzc3VlQ29tbWVudDI1ODk0ODcw","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-10-08T14:31:55Z","updated_at":"2013-10-08T14:31:55Z","author_association":"CONTRIBUTOR","body":"closing, we upgraded to `Lucene 4.5` in https://github.com/elasticsearch/elasticsearch/commit/e9f36772c1d782e66e882cc36574dc9bf805ac71\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/25895316","html_url":"https://github.com/elastic/elasticsearch/issues/3754#issuecomment-25895316","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3754","id":25895316,"node_id":"MDEyOklzc3VlQ29tbWVudDI1ODk1MzE2","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2013-10-08T14:36:55Z","updated_at":"2013-10-08T14:36:55Z","author_association":"CONTRIBUTOR","body":"Yay!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/26264374","html_url":"https://github.com/elastic/elasticsearch/issues/3754#issuecomment-26264374","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3754","id":26264374,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MjY0Mzc0","user":{"login":"pbellora","id":2474379,"node_id":"MDQ6VXNlcjI0NzQzNzk=","avatar_url":"https://avatars3.githubusercontent.com/u/2474379?v=4","gravatar_id":"","url":"https://api.github.com/users/pbellora","html_url":"https://github.com/pbellora","followers_url":"https://api.github.com/users/pbellora/followers","following_url":"https://api.github.com/users/pbellora/following{/other_user}","gists_url":"https://api.github.com/users/pbellora/gists{/gist_id}","starred_url":"https://api.github.com/users/pbellora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pbellora/subscriptions","organizations_url":"https://api.github.com/users/pbellora/orgs","repos_url":"https://api.github.com/users/pbellora/repos","events_url":"https://api.github.com/users/pbellora/events{/privacy}","received_events_url":"https://api.github.com/users/pbellora/received_events","type":"User","site_admin":false},"created_at":"2013-10-14T15:37:11Z","updated_at":"2013-10-14T15:37:11Z","author_association":"NONE","body":"@nik9000 \"I don't think it effects all prefix queries, just the ones for terms that are in a different combination of fields on different indexes\" - would you mind explaining this further? I'm trying to decide whether to upgrade from 90.3 to 90.5.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/26265763","html_url":"https://github.com/elastic/elasticsearch/issues/3754#issuecomment-26265763","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3754","id":26265763,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MjY1NzYz","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2013-10-14T15:53:41Z","updated_at":"2013-10-14T15:53:41Z","author_association":"CONTRIBUTOR","body":"@pbellora this bug will hit you if you do a prefix against multiple fields and not all of those fields contain matching terms on all shards.  The results won't be sorted properly.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/26285922","html_url":"https://github.com/elastic/elasticsearch/issues/3754#issuecomment-26285922","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3754","id":26285922,"node_id":"MDEyOklzc3VlQ29tbWVudDI2Mjg1OTIy","user":{"login":"pbellora","id":2474379,"node_id":"MDQ6VXNlcjI0NzQzNzk=","avatar_url":"https://avatars3.githubusercontent.com/u/2474379?v=4","gravatar_id":"","url":"https://api.github.com/users/pbellora","html_url":"https://github.com/pbellora","followers_url":"https://api.github.com/users/pbellora/followers","following_url":"https://api.github.com/users/pbellora/following{/other_user}","gists_url":"https://api.github.com/users/pbellora/gists{/gist_id}","starred_url":"https://api.github.com/users/pbellora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pbellora/subscriptions","organizations_url":"https://api.github.com/users/pbellora/orgs","repos_url":"https://api.github.com/users/pbellora/repos","events_url":"https://api.github.com/users/pbellora/events{/privacy}","received_events_url":"https://api.github.com/users/pbellora/received_events","type":"User","site_admin":false},"created_at":"2013-10-14T20:25:50Z","updated_at":"2013-10-14T20:25:50Z","author_association":"NONE","body":"@nik9000 Okay, thanks for clarifying. I ran your gist with 90.3 and saw the same behavior, so I suppose it can't hurt to upgrade.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/26286946","html_url":"https://github.com/elastic/elasticsearch/issues/3754#issuecomment-26286946","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3754","id":26286946,"node_id":"MDEyOklzc3VlQ29tbWVudDI2Mjg2OTQ2","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-10-14T20:40:35Z","updated_at":"2013-10-14T20:40:35Z","author_association":"CONTRIBUTOR","body":"@pbellora FYI this should be fixed in the next release\n","performed_via_github_app":null}]