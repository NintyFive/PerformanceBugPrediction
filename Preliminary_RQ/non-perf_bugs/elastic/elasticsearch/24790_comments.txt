[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/304000964","html_url":"https://github.com/elastic/elasticsearch/issues/24790#issuecomment-304000964","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/24790","id":304000964,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDAwMDk2NA==","user":{"login":"JeffBolle","id":18576812,"node_id":"MDQ6VXNlcjE4NTc2ODEy","avatar_url":"https://avatars2.githubusercontent.com/u/18576812?v=4","gravatar_id":"","url":"https://api.github.com/users/JeffBolle","html_url":"https://github.com/JeffBolle","followers_url":"https://api.github.com/users/JeffBolle/followers","following_url":"https://api.github.com/users/JeffBolle/following{/other_user}","gists_url":"https://api.github.com/users/JeffBolle/gists{/gist_id}","starred_url":"https://api.github.com/users/JeffBolle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JeffBolle/subscriptions","organizations_url":"https://api.github.com/users/JeffBolle/orgs","repos_url":"https://api.github.com/users/JeffBolle/repos","events_url":"https://api.github.com/users/JeffBolle/events{/privacy}","received_events_url":"https://api.github.com/users/JeffBolle/received_events","type":"User","site_admin":false},"created_at":"2017-05-25T12:42:14Z","updated_at":"2017-05-25T12:42:14Z","author_association":"NONE","body":"This hit me again last night. I am headed to put in the artificially low circuitbreakers now until this is fixed.\r\n`[2017-05-24T20:46:52,701][ERROR][o.e.b.ElasticsearchUncaughtExceptionHandler] [es10] fatal error in thread [elasticsearch[es10][search][T#5]], exiting\r\njava.lang.OutOfMemoryError: Java heap space\r\n        at org.elasticsearch.common.util.PageCacheRecycler$1.newInstance(PageCacheRecycler.java:99) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.common.util.PageCacheRecycler$1.newInstance(PageCacheRecycler.java:96) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.common.recycler.DequeRecycler.obtain(DequeRecycler.java:53) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.common.recycler.AbstractRecycler.obtain(AbstractRecycler.java:33) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.common.recycler.DequeRecycler.obtain(DequeRecycler.java:28) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.common.recycler.FilterRecycler.obtain(FilterRecycler.java:39) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.common.recycler.Recyclers$3.obtain(Recyclers.java:119) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.common.recycler.FilterRecycler.obtain(FilterRecycler.java:39) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.common.util.PageCacheRecycler.bytePage(PageCacheRecycler.java:147) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.common.util.AbstractBigArray.newBytePage(AbstractBigArray.java:112) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.common.util.BigByteArray.resize(BigByteArray.java:141) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.common.util.BigArrays.resizeInPlace(BigArrays.java:438) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.common.util.BigArrays.resize(BigArrays.java:485) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.common.util.BigArrays.grow(BigArrays.java:502) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.search.aggregations.metrics.cardinality.HyperLogLogPlusPlus.ensureCapacity(HyperLogLogPlusPlus.java:197) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.search.aggregations.metrics.cardinality.HyperLogLogPlusPlus.collect(HyperLogLogPlusPlus.java:232) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.search.aggregations.metrics.cardinality.CardinalityAggregator$DirectCollector.collect(CardinalityAggregator.java:199) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.search.aggregations.LeafBucketCollector$2.collect(LeafBucketCollector.java:67) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.search.aggregations.bucket.BucketsAggregator.collectExistingBucket(BucketsAggregator.java:80) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.search.aggregations.bucket.BucketsAggregator.collectBucket(BucketsAggregator.java:72) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.search.aggregations.bucket.terms.GlobalOrdinalsStringTermsAggregator$WithHash$2.collect(GlobalOrdinalsStringTermsAggregator.java:304) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.search.aggregations.AggregatorFactory$MultiBucketAggregatorWrapper$1.collect(AggregatorFactory.java:136) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.search.aggregations.bucket.BestBucketsDeferringCollector.prepareSelectedBuckets(BestBucketsDeferringCollector.java:178) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.search.aggregations.bucket.DeferringBucketCollector.replay(DeferringBucketCollector.java:44) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.search.aggregations.AggregatorBase.runDeferredCollections(AggregatorBase.java:206) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.search.aggregations.bucket.terms.GlobalOrdinalsStringTermsAggregator.buildAggregation(GlobalOrdinalsStringTermsAggregator.java:193) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.search.aggregations.AggregationPhase.execute(AggregationPhase.java:129) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.search.query.QueryPhase.execute(QueryPhase.java:114) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.indices.IndicesService.lambda$loadIntoContext$16(IndicesService.java:1107) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.indices.IndicesService$$Lambda$1920/2118142078.accept(Unknown Source) ~[?:?]\r\n        at org.elasticsearch.indices.IndicesService.lambda$cacheShardLevelResult$18(IndicesService.java:1188) ~[elasticsearch-5.4.0.jar:5.4.0]\r\n        at org.elasticsearch.indices.IndicesService$$Lambda$1922/164644094.get(Unknown Source) ~[?:?]`","performed_via_github_app":null}]