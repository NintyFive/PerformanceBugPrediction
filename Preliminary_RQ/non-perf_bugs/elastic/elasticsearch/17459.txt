{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/17459","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17459/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17459/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17459/events","html_url":"https://github.com/elastic/elasticsearch/issues/17459","id":145005781,"node_id":"MDU6SXNzdWUxNDUwMDU3ODE=","number":17459,"title":"Elasticsearch proxy error when setting script.disable_dynamic","user":{"login":"niemyjski","id":1020579,"node_id":"MDQ6VXNlcjEwMjA1Nzk=","avatar_url":"https://avatars3.githubusercontent.com/u/1020579?v=4","gravatar_id":"","url":"https://api.github.com/users/niemyjski","html_url":"https://github.com/niemyjski","followers_url":"https://api.github.com/users/niemyjski/followers","following_url":"https://api.github.com/users/niemyjski/following{/other_user}","gists_url":"https://api.github.com/users/niemyjski/gists{/gist_id}","starred_url":"https://api.github.com/users/niemyjski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niemyjski/subscriptions","organizations_url":"https://api.github.com/users/niemyjski/orgs","repos_url":"https://api.github.com/users/niemyjski/repos","events_url":"https://api.github.com/users/niemyjski/events{/privacy}","received_events_url":"https://api.github.com/users/niemyjski/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2016-03-31T20:15:34Z","updated_at":"2017-10-11T08:33:10Z","closed_at":"2016-04-04T18:59:22Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Elasticsearch version**: 2.3.0\n**JVM version**: 1.8 latest\n**OS version**: Windows 10 64bit\n\nI'm upgrading my app from 1.7.5 and my elasticsearch.yml file had `script.disable_dynamic: false` set. When trying to launch with this setting I get the following error:\n\n``` sh\nC:\\elasticsearch.2.3\\bin>elasticsearch\n[2016-03-31 15:12:42,319][INFO ][node                     ] [ex-dev01] version[2.3.0], pid[6016], build[8371be8/2016-03-29T07:54:48Z]\n[2016-03-31 15:12:42,324][INFO ][node                     ] [ex-dev01] initializing ...\n[2016-03-31 15:12:42,801][INFO ][plugins                  ] [ex-dev01] modules [reindex, lang-expression, lang-groovy], plugins [license, marvel-agent, cloud-azure], sites []\n[2016-03-31 15:12:42,824][INFO ][env                      ] [ex-dev01] using [1] data paths, mounts [[(C:)]], net usable_space [175.6gb], net total_space [255.6gb], spins? [unknown], types [NTFS]\n[2016-03-31 15:12:42,830][INFO ][env                      ] [ex-dev01] heap size [910.5mb], compressed ordinary object pointers [true]\nException in thread \"main\" java.lang.IllegalStateException: This is a proxy used to support circular references involving constructors. The object we're proxying is not constructed yet. Please wait until after injection has completed to use this object.\n        at <<<guice>>>\n        at com.sun.proxy.$Proxy13.settings(Unknown Source)\n        at org.elasticsearch.client.FilterClient.<init>(FilterClient.java:41)\n        at org.elasticsearch.marvel.shield.SecuredClient.<init>(SecuredClient.java:38)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:422)\n        at <<<guice>>>\n        at org.elasticsearch.node.Node.<init>(Node.java:213)\n        at org.elasticsearch.node.Node.<init>(Node.java:140)\n        at org.elasticsearch.node.NodeBuilder.build(NodeBuilder.java:143)\n        at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:178)\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:270)\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:35)\n\n```\n\nThis should be a better error message!\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}