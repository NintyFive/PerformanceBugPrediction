[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/605960894","html_url":"https://github.com/elastic/elasticsearch/issues/54377#issuecomment-605960894","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54377","id":605960894,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNTk2MDg5NA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-03-30T12:08:43Z","updated_at":"2020-03-30T12:08:43Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-features (:Core/Features/Java High Level REST Client)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/606272484","html_url":"https://github.com/elastic/elasticsearch/issues/54377#issuecomment-606272484","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54377","id":606272484,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNjI3MjQ4NA==","user":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"created_at":"2020-03-30T21:56:15Z","updated_at":"2020-03-30T21:56:50Z","author_association":"MEMBER","body":"heya @xtermi2 thanks for opening this issue. \r\n\r\nI took some time to look into this and I was able to reproduce the problem. As far as I can see scrolling in msearch is not supported. At REST, the scroll parameter is not among the ones that we parse, and actually if you try this with curl you'll get back an error saying that \"key [scroll] is not supported in the metadata section\". You don't get back an error with the high-level client because the client does not even send out the scroll when a search request is sent as part of a multi search request, which translates on the server side to an ordinary search without a scroll, hence no scroll id will be returned in the search response.\r\n\r\nBut then, why does it work with the transport client? Because the transport client uses binary serialization and the transport layer, where the scroll id does not get lost in the search request.\r\n\r\nNow that I understand better where the problem is and what needs to be done to solve it, I think we can close this one in favour of #4227 where you originally left a comment, as that issue addresses exactly this type of inconsistency between search and msearch. I am not sure if this specific inconsistency is there for a reason, but that can be discussed in the linked issue.\r\n\r\n","performed_via_github_app":null}]