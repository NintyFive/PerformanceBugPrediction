{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/20945","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20945/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20945/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20945/events","html_url":"https://github.com/elastic/elasticsearch/issues/20945","id":183115779,"node_id":"MDU6SXNzdWUxODMxMTU3Nzk=","number":20945,"title":"Query for a partial field name seems to return results","user":{"login":"stacey-gammon","id":16563603,"node_id":"MDQ6VXNlcjE2NTYzNjAz","avatar_url":"https://avatars3.githubusercontent.com/u/16563603?v=4","gravatar_id":"","url":"https://api.github.com/users/stacey-gammon","html_url":"https://github.com/stacey-gammon","followers_url":"https://api.github.com/users/stacey-gammon/followers","following_url":"https://api.github.com/users/stacey-gammon/following{/other_user}","gists_url":"https://api.github.com/users/stacey-gammon/gists{/gist_id}","starred_url":"https://api.github.com/users/stacey-gammon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stacey-gammon/subscriptions","organizations_url":"https://api.github.com/users/stacey-gammon/orgs","repos_url":"https://api.github.com/users/stacey-gammon/repos","events_url":"https://api.github.com/users/stacey-gammon/events{/privacy}","received_events_url":"https://api.github.com/users/stacey-gammon/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-10-14T18:10:59Z","updated_at":"2016-10-14T18:47:37Z","closed_at":"2016-10-14T18:47:37Z","author_association":"NONE","active_lock_reason":null,"body":"I have a scripted, painless field called \"nooooooo maaaaaaatch\".  If I search on it using \"maaaaaaatch\" results are returned.\n\nRequest:\n\n```\nPOST logstash-0/_search\n{  \n   \"size\":1,\n \"query\" : {\n    \"bool\" : {\n      \"must\" : [\n        {\n          \"query_string\" : {\n            \"query\" : \"\\\"maaaaaaatch\\\"=-199\",\n            \"fields\" : [ ],\n            \"use_dis_max\" : true,\n            \"tie_breaker\" : 0.0,\n            \"default_operator\" : \"or\",\n            \"auto_generate_phrase_queries\" : false,\n            \"max_determined_states\" : 10000,\n            \"lowercase_expanded_terms\" : true,\n            \"enable_position_increment\" : true,\n            \"fuzziness\" : \"AUTO\",\n            \"fuzzy_prefix_length\" : 0,\n            \"fuzzy_max_expansions\" : 50,\n            \"phrase_slop\" : 0,\n            \"analyze_wildcard\" : true,\n            \"locale\" : \"und\",\n            \"escape\" : false,\n            \"boost\" : 1.0\n          }\n        },\n        {\n          \"range\" : {\n            \"@timestamp\" : {\n              \"from\" : null,\n              \"to\" : null,\n              \"include_lower\" : true,\n              \"include_upper\" : true,\n              \"format\" : \"epoch_millis\",\n              \"boost\" : 1.0\n            }\n          }\n        }\n      ],\n      \"disable_coord\" : false,\n      \"adjust_pure_negative\" : true,\n      \"boost\" : 1.0\n    }\n  },\n\n   \"_source\":true,\n   \"script_fields\":{  \n    \"nooooooo maaaaaaatch\" : {\n      \"script\" : {\n        \"inline\" : \"doc['bytes'].value * -1\",\n        \"lang\" : \"painless\"\n      },\n      \"ignore_failure\" : false\n    }\n   },\n   \"docvalue_fields\":[  \n      \"utc_time\",\n      \"relatedContent.article:modified_time\",\n      \"@timestamp\",\n      \"relatedContent.article:published_time\"\n   ]\n}\n```\n\nResponse:\n\n```\n{\n  \"took\": 1,\n  \"timed_out\": false,\n  \"_shards\": {\n    \"total\": 1,\n    \"successful\": 1,\n    \"failed\": 0\n  },\n  \"hits\": {\n    \"total\": 4,\n    \"max_score\": 14.922283,\n    \"hits\": [\n      {\n        \"_index\": \"logstash-0\",\n        \"_type\": \"apache\",\n        \"_id\": \"AVe1dpRhJGOhgatAr2-c\",\n        \"_score\": 14.922283,\n        \"_source\": {\n          \"index\": \"logstash-0\",\n          \"@timestamp\": \"2016-10-10T19:09:05.192Z\",\n          \"ip\": \"99.61.124.180\",\n          \"extension\": \"gif\",\n          \"response\": \"200\",\n          \"geo\": {\n            \"coordinates\": {\n              \"lat\": 38.36562278,\n              \"lon\": -85.73829639\n            },\n            \"src\": \"NG\",\n            \"dest\": \"MX\",\n            \"srcdest\": \"NG:MX\"\n          },\n          \"@tags\": [\n            \"success\",\n            \"info\"\n          ],\n          \"utc_time\": \"2016-10-10T19:09:05.192Z\",\n          \"referer\": \"http://www.slate.com/success/krasimir-stoyanov\",\n          \"agent\": \"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 1.1.4322)\",\n          \"clientip\": \"99.61.124.180\",\n          \"bytes\": 199,\n          \"host\": \"motion-media.theacademyofperformingartsandscience.org\",\n          \"request\": \"/canhaz/dmitri-kondratyev.gif\",\n          \"url\": \"https://motion-media.theacademyofperformingartsandscience.org/canhaz/dmitri-kondratyev.gif\",\n          \"@message\": \"99.61.124.180 - - [2016-10-10T19:09:05.192Z] \\\"GET /canhaz/dmitri-kondratyev.gif HTTP/1.1\\\" 200 199 \\\"-\\\" \\\"Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1; SV1; .NET CLR 1.1.4322)\\\"\",\n          \"spaces\": \"this   is   a   thing    with lots of     spaces       wwwwoooooo\",\n          \"xss\": \"<script>console.log(\\\"xss\\\")</script>\",\n          \"headings\": [\n            \"<h3>wendy-lawrence</h5>\",\n            \"http://twitter.com/warning/peggy-whitson\"\n          ],\n          \"links\": [\n            \"yevgeny-khrunov@www.slate.com\",\n            \"http://facebook.com/info/ulrich-walter\",\n            \"www.twitter.com\"\n          ],\n          \"relatedContent\": [],\n          \"machine\": {\n            \"os\": \"ios\",\n            \"ram\": 10737418240\n          }\n        },\n        \"fields\": {\n          \"nooooooo maaaaaaatch\": [\n            -199\n          ],\n          \"@timestamp\": [\n            1476126545192\n          ],\n          \"utc_time\": [\n            1476126545192\n          ]\n        }\n      }\n    ]\n  }\n}\n```\n","closed_by":{"login":"stacey-gammon","id":16563603,"node_id":"MDQ6VXNlcjE2NTYzNjAz","avatar_url":"https://avatars3.githubusercontent.com/u/16563603?v=4","gravatar_id":"","url":"https://api.github.com/users/stacey-gammon","html_url":"https://github.com/stacey-gammon","followers_url":"https://api.github.com/users/stacey-gammon/followers","following_url":"https://api.github.com/users/stacey-gammon/following{/other_user}","gists_url":"https://api.github.com/users/stacey-gammon/gists{/gist_id}","starred_url":"https://api.github.com/users/stacey-gammon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stacey-gammon/subscriptions","organizations_url":"https://api.github.com/users/stacey-gammon/orgs","repos_url":"https://api.github.com/users/stacey-gammon/repos","events_url":"https://api.github.com/users/stacey-gammon/events{/privacy}","received_events_url":"https://api.github.com/users/stacey-gammon/received_events","type":"User","site_admin":false},"performed_via_github_app":null}