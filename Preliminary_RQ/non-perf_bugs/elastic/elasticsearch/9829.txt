{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/9829","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9829/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9829/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9829/events","html_url":"https://github.com/elastic/elasticsearch/issues/9829","id":58624355,"node_id":"MDU6SXNzdWU1ODYyNDM1NQ==","number":9829,"title":"Modify default shard allocation algorithm to use index for primary only indexes","user":{"login":"tnine","id":249532,"node_id":"MDQ6VXNlcjI0OTUzMg==","avatar_url":"https://avatars0.githubusercontent.com/u/249532?v=4","gravatar_id":"","url":"https://api.github.com/users/tnine","html_url":"https://github.com/tnine","followers_url":"https://api.github.com/users/tnine/followers","following_url":"https://api.github.com/users/tnine/following{/other_user}","gists_url":"https://api.github.com/users/tnine/gists{/gist_id}","starred_url":"https://api.github.com/users/tnine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tnine/subscriptions","organizations_url":"https://api.github.com/users/tnine/orgs","repos_url":"https://api.github.com/users/tnine/repos","events_url":"https://api.github.com/users/tnine/events{/privacy}","received_events_url":"https://api.github.com/users/tnine/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-02-23T18:07:13Z","updated_at":"2015-02-23T21:20:55Z","closed_at":"2015-02-23T21:20:55Z","author_association":"NONE","active_lock_reason":null,"body":"By default, primary shard allocation does not account for an index, only the number of primaries and replicas per node.  This does not cause even load in the following scenario.\n1. Allocate 2 indexes, with primary shards only (0 replicas) across a cluster equal to the node count.  I.E 3 nodes, 3 shards.\n2. Index 1 receives very little load\n3. Index 2 receives very heavy load\n\nIn the current scenario, primary shards are not allocated evenly across nodes within an index.  In the primary shard only scenario above, this leads to uneven load distribution across the cluster.  Nodes should own an even, or as close to even distribution of primary shards as possible when no replicas are present.\n","closed_by":{"login":"tnine","id":249532,"node_id":"MDQ6VXNlcjI0OTUzMg==","avatar_url":"https://avatars0.githubusercontent.com/u/249532?v=4","gravatar_id":"","url":"https://api.github.com/users/tnine","html_url":"https://github.com/tnine","followers_url":"https://api.github.com/users/tnine/followers","following_url":"https://api.github.com/users/tnine/following{/other_user}","gists_url":"https://api.github.com/users/tnine/gists{/gist_id}","starred_url":"https://api.github.com/users/tnine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tnine/subscriptions","organizations_url":"https://api.github.com/users/tnine/orgs","repos_url":"https://api.github.com/users/tnine/repos","events_url":"https://api.github.com/users/tnine/events{/privacy}","received_events_url":"https://api.github.com/users/tnine/received_events","type":"User","site_admin":false},"performed_via_github_app":null}