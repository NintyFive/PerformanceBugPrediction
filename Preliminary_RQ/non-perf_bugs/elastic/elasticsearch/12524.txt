{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/12524","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12524/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12524/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12524/events","html_url":"https://github.com/elastic/elasticsearch/issues/12524","id":97868514,"node_id":"MDU6SXNzdWU5Nzg2ODUxNA==","number":12524,"title":"can't set doc_values for _type field.","user":{"login":"chenryn","id":1219655,"node_id":"MDQ6VXNlcjEyMTk2NTU=","avatar_url":"https://avatars3.githubusercontent.com/u/1219655?v=4","gravatar_id":"","url":"https://api.github.com/users/chenryn","html_url":"https://github.com/chenryn","followers_url":"https://api.github.com/users/chenryn/followers","following_url":"https://api.github.com/users/chenryn/following{/other_user}","gists_url":"https://api.github.com/users/chenryn/gists{/gist_id}","starred_url":"https://api.github.com/users/chenryn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenryn/subscriptions","organizations_url":"https://api.github.com/users/chenryn/orgs","repos_url":"https://api.github.com/users/chenryn/repos","events_url":"https://api.github.com/users/chenryn/events{/privacy}","received_events_url":"https://api.github.com/users/chenryn/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2015-07-29T06:14:50Z","updated_at":"2015-07-30T08:02:05Z","closed_at":"2015-07-30T08:02:05Z","author_association":"NONE","active_lock_reason":null,"body":"The reference said that _type field \"By default, the _type field is indexed (but not analyzed) and not stored. \"\nI has a terms aggregation for _type field. so I want to set _type to be doc_values to save fielddata memory. I wrote template as follow:\n\n```\n...\n        },\n        \"@version\" : {\n          \"index\" : \"not_analyzed\",\n          \"doc_values\" : true,\n          \"type\" : \"string\"\n        }\n      },\n      \"_type\" : {\n        \"index\" : \"not_analyzed\",\n        \"doc_values\" : true,\n        \"type\" : \"string\"\n      },\n      \"_all\" : {\n        \"enabled\" : true\n      }\n    }\n  },\n  \"aliases\" : { }\n}\n```\n\ntemplate POST ok, but when I create a new index and GET the mapping, I can't find the _type defination in the mapping. And after sometimes running, I saw the `_type` fielddata memory using grows.\n","closed_by":{"login":"chenryn","id":1219655,"node_id":"MDQ6VXNlcjEyMTk2NTU=","avatar_url":"https://avatars3.githubusercontent.com/u/1219655?v=4","gravatar_id":"","url":"https://api.github.com/users/chenryn","html_url":"https://github.com/chenryn","followers_url":"https://api.github.com/users/chenryn/followers","following_url":"https://api.github.com/users/chenryn/following{/other_user}","gists_url":"https://api.github.com/users/chenryn/gists{/gist_id}","starred_url":"https://api.github.com/users/chenryn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenryn/subscriptions","organizations_url":"https://api.github.com/users/chenryn/orgs","repos_url":"https://api.github.com/users/chenryn/repos","events_url":"https://api.github.com/users/chenryn/events{/privacy}","received_events_url":"https://api.github.com/users/chenryn/received_events","type":"User","site_admin":false},"performed_via_github_app":null}