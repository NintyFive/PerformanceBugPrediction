{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/9975","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9975/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9975/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9975/events","html_url":"https://github.com/elastic/elasticsearch/issues/9975","id":59754101,"node_id":"MDU6SXNzdWU1OTc1NDEwMQ==","number":9975,"title":"All index info lost when the original master machines are not participating in master election","user":{"login":"mkliu","id":1469524,"node_id":"MDQ6VXNlcjE0Njk1MjQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1469524?v=4","gravatar_id":"","url":"https://api.github.com/users/mkliu","html_url":"https://github.com/mkliu","followers_url":"https://api.github.com/users/mkliu/followers","following_url":"https://api.github.com/users/mkliu/following{/other_user}","gists_url":"https://api.github.com/users/mkliu/gists{/gist_id}","starred_url":"https://api.github.com/users/mkliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mkliu/subscriptions","organizations_url":"https://api.github.com/users/mkliu/orgs","repos_url":"https://api.github.com/users/mkliu/repos","events_url":"https://api.github.com/users/mkliu/events{/privacy}","received_events_url":"https://api.github.com/users/mkliu/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-03-04T06:02:06Z","updated_at":"2015-03-09T00:07:27Z","closed_at":"2015-03-09T00:07:27Z","author_association":"NONE","active_lock_reason":null,"body":"It appears to be as resiliency problem, and i haven't seen it mentioned any place obvious so hopeful it could get fixed.\n\nWe had a problem recently about master nodes failing, so I enabled my data nodes to serve as master too - dualnode. However, even though the cluster name is the same, i don't see any of my previous indexes anymore! After quite a while I realize probably because the global cluster status is saved on master node's disk, so the new dualnode doesn't know. I switched back to the old masters when they come back up, then indexes appeared again, but many of them are in red state....\n\nMy question would be, since the index and segments are still on the data node, why can't the dualnode detect the indexes that's already in the cluster?\n\nThis is really a nasty trap...\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}