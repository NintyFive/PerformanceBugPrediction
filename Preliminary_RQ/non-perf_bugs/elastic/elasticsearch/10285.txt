{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/10285","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10285/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10285/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10285/events","html_url":"https://github.com/elastic/elasticsearch/issues/10285","id":64615684,"node_id":"MDU6SXNzdWU2NDYxNTY4NA==","number":10285,"title":"ElasticSearch results using JAVA","user":{"login":"AGrosserHH","id":11669082,"node_id":"MDQ6VXNlcjExNjY5MDgy","avatar_url":"https://avatars0.githubusercontent.com/u/11669082?v=4","gravatar_id":"","url":"https://api.github.com/users/AGrosserHH","html_url":"https://github.com/AGrosserHH","followers_url":"https://api.github.com/users/AGrosserHH/followers","following_url":"https://api.github.com/users/AGrosserHH/following{/other_user}","gists_url":"https://api.github.com/users/AGrosserHH/gists{/gist_id}","starred_url":"https://api.github.com/users/AGrosserHH/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AGrosserHH/subscriptions","organizations_url":"https://api.github.com/users/AGrosserHH/orgs","repos_url":"https://api.github.com/users/AGrosserHH/repos","events_url":"https://api.github.com/users/AGrosserHH/events{/privacy}","received_events_url":"https://api.github.com/users/AGrosserHH/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-03-26T19:35:44Z","updated_at":"2015-03-27T17:04:59Z","closed_at":"2015-03-27T17:04:59Z","author_association":"NONE","active_lock_reason":null,"body":"HI all, \nI am trying to use ElasticSearch within the JAVA API. As a JSON File (named Google.json) I am using the following structure:\n{\n \"markers\": [\n     {\n              \"point\":\"new GLatLng(40.266044,-74.718479)\", \n      \"homeTeam\":\"Lawrence Library\",\n              \"awayTeam\":\"LUGip\",\n              \"markerImage\":\"images/red.png\",\n              \"information\": \"Linux users group meets second Wednesday of each month.\",\n              \"fixture\":\"Wednesday 7pm\",\n              \"capacity\":\"\",\n             },\n             {\n              \"point\":\"new GLatLng(40.266044,-74.75022)\", \n      \"homeTeam\":\"Hamilton Library\",\n              \"awayTeam\":\"LUGip HW SIG\",\n              \"markerImage\":\"images/white.png\",\n              \"information\": \"Linux users group meets second Tuesday of each month.\",\n              \"fixture\":\"Tuesday 7pm\",\n              \"capacity\":\"\",\n             }\n           ]\n }\n\nUsing Jackson I am converting this file into a JAVA Hashmap. Then I try to search in field \"fixture\" for the Word \"Tuesday\". I am finding this, but as a result I am getting the complete \"markers\" List back instead of only the second element. I am now wondering what the problem is with my approach.\n\nHere is my JAVA code:\n\nJSONParser parser= new JSONParser();\nString path=\"d:\\Google.json\";\n\nNode node = nodeBuilder().local(true).node();\nClient client = node.client();\n\n/\\* Jackson mapper*/  \nObjectMapper mapper = new ObjectMapper();\nFile jsonFile=new File(path);\n\ntry {\n            /_Read in file using Jackson into HashMap_/\n            Map<String, Object> mapObject=new HashMap<String, Object>();\n            mapObject = mapper.readValue(jsonFile, new TypeReference<Map<String, Object>>(){});\n\n```\n        /*Create index*/            \n        IndexResponse response=null;\n        response = client.prepareIndex(index, type)\n                .setSource(mapObject)               \n                .execute()\n                .actionGet();\n\n\n        } catch (JsonParseException e1) {\n     e1.printStackTrace();\n} catch (JsonMappingException e1) {\n    e1.printStackTrace();\n} catch (IOException e1) {\n    e1.printStackTrace();\n}\n\n    QueryBuilder qb=QueryBuilders.matchQuery(\"fixture\",\"Tuesday\");\n\n    SearchResponse response= client.prepareSearch(index)\n            .setTypes(type)\n            .setSearchType(SearchType.QUERY_AND_FETCH)\n            .setQuery(qb)\n            .setFrom(0)\n            .setSize(100)\n            .setExplain(true)\n            .execute().actionGet();\n\n    SearchHit[] results = response.getHits().getHits();\n\n    System.out.println(\"Current results: \" + results.length);\n\n    for (SearchHit hit : results) {\n        System.out.println(\"------------------------------\");\n        Map<String,Object> result = hit.getSource();   \n        System.out.println(result);\n    }\n```\n\nIt would be great to get any hint/help on this!\n\nCheers,\nAndi\n","closed_by":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"performed_via_github_app":null}