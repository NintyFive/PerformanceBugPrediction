{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/29749","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29749/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29749/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/29749/events","html_url":"https://github.com/elastic/elasticsearch/issues/29749","id":317447541,"node_id":"MDU6SXNzdWUzMTc0NDc1NDE=","number":29749,"title":"Add built-in client role","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"labels":[{"id":912838209,"node_id":"MDU6TGFiZWw5MTI4MzgyMDk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Security/Authorization","name":":Security/Authorization","color":"0e8a16","default":false,"description":"Roles, Privileges, DLS/FLS, RBAC/ABAC"},{"id":23172,"node_id":"MDU6TGFiZWwyMzE3Mg==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Efeature","name":">feature","color":"006b75","default":false,"description":null},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2017-02-10T18:42:58Z","updated_at":"2018-08-02T20:38:31Z","closed_at":"2018-08-02T20:38:31Z","author_association":"COLLABORATOR","active_lock_reason":null,"body":"*Original comment by @uboness:*\n\nCurrently we have the `transport_client`role defined in the `roles.yml`. This should be a built-in role that is always available and no need for it to be configurable by the users. In addition, the other lang client libs also require a dedicated role for sniffing. \n\nIdeally we would define a single roles called `sniffing_client` that both the transport client and the client libs will be able to use. The transport client will always require this role as it's always sniffing (either via `liveness` or via cluster state). The client libs will only need to have this role if sniffing is turned on.\n\nFor this to work, we should try to align the sniffing between the client libs and the transport client. Right now the libs use the `nodes info` API while the transport client uses the cluster state. Both approaches are actually insecure as both APIs expose too much sensitive information to the clients. We should probably have another dedicated endpoint for sniffing, one that will only return the transport addresses of the nodes.\n\n> NOTE: \n> \n> One more difference between the client libs and the transport client is that the latter is a local execution (based on the local state of the hit node), while for the client libs (nodes info) it's a broadcasted request.\n\n\n","closed_by":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"performed_via_github_app":null}