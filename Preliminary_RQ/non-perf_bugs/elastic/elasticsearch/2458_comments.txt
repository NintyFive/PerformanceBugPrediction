[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/11006833","html_url":"https://github.com/elastic/elasticsearch/issues/2458#issuecomment-11006833","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2458","id":11006833,"node_id":"MDEyOklzc3VlQ29tbWVudDExMDA2ODMz","user":{"login":"ejain","id":1323903,"node_id":"MDQ6VXNlcjEzMjM5MDM=","avatar_url":"https://avatars2.githubusercontent.com/u/1323903?v=4","gravatar_id":"","url":"https://api.github.com/users/ejain","html_url":"https://github.com/ejain","followers_url":"https://api.github.com/users/ejain/followers","following_url":"https://api.github.com/users/ejain/following{/other_user}","gists_url":"https://api.github.com/users/ejain/gists{/gist_id}","starred_url":"https://api.github.com/users/ejain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ejain/subscriptions","organizations_url":"https://api.github.com/users/ejain/orgs","repos_url":"https://api.github.com/users/ejain/repos","events_url":"https://api.github.com/users/ejain/events{/privacy}","received_events_url":"https://api.github.com/users/ejain/received_events","type":"User","site_admin":false},"created_at":"2012-12-04T17:39:00Z","updated_at":"2012-12-04T17:39:00Z","author_association":"CONTRIBUTOR","body":"Is there an open issue for the snapshot/restore API yet?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/11202348","html_url":"https://github.com/elastic/elasticsearch/issues/2458#issuecomment-11202348","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2458","id":11202348,"node_id":"MDEyOklzc3VlQ29tbWVudDExMjAyMzQ4","user":{"login":"jgriswoldinfogroup","id":1819565,"node_id":"MDQ6VXNlcjE4MTk1NjU=","avatar_url":"https://avatars1.githubusercontent.com/u/1819565?v=4","gravatar_id":"","url":"https://api.github.com/users/jgriswoldinfogroup","html_url":"https://github.com/jgriswoldinfogroup","followers_url":"https://api.github.com/users/jgriswoldinfogroup/followers","following_url":"https://api.github.com/users/jgriswoldinfogroup/following{/other_user}","gists_url":"https://api.github.com/users/jgriswoldinfogroup/gists{/gist_id}","starred_url":"https://api.github.com/users/jgriswoldinfogroup/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jgriswoldinfogroup/subscriptions","organizations_url":"https://api.github.com/users/jgriswoldinfogroup/orgs","repos_url":"https://api.github.com/users/jgriswoldinfogroup/repos","events_url":"https://api.github.com/users/jgriswoldinfogroup/events{/privacy}","received_events_url":"https://api.github.com/users/jgriswoldinfogroup/received_events","type":"User","site_admin":false},"created_at":"2012-12-10T16:06:15Z","updated_at":"2012-12-10T16:06:15Z","author_association":"NONE","body":"Why would you deprecate this feature prior to the availability of a backup/restore API?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/11323926","html_url":"https://github.com/elastic/elasticsearch/issues/2458#issuecomment-11323926","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2458","id":11323926,"node_id":"MDEyOklzc3VlQ29tbWVudDExMzIzOTI2","user":{"login":"fatemehmd","id":2142333,"node_id":"MDQ6VXNlcjIxNDIzMzM=","avatar_url":"https://avatars2.githubusercontent.com/u/2142333?v=4","gravatar_id":"","url":"https://api.github.com/users/fatemehmd","html_url":"https://github.com/fatemehmd","followers_url":"https://api.github.com/users/fatemehmd/followers","following_url":"https://api.github.com/users/fatemehmd/following{/other_user}","gists_url":"https://api.github.com/users/fatemehmd/gists{/gist_id}","starred_url":"https://api.github.com/users/fatemehmd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fatemehmd/subscriptions","organizations_url":"https://api.github.com/users/fatemehmd/orgs","repos_url":"https://api.github.com/users/fatemehmd/repos","events_url":"https://api.github.com/users/fatemehmd/events{/privacy}","received_events_url":"https://api.github.com/users/fatemehmd/received_events","type":"User","site_admin":false},"created_at":"2012-12-13T06:27:10Z","updated_at":"2012-12-13T06:27:10Z","author_association":"NONE","body":"Is there any tutorial on how to configure instances with EBS now that S3 is not an option?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/11346598","html_url":"https://github.com/elastic/elasticsearch/issues/2458#issuecomment-11346598","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2458","id":11346598,"node_id":"MDEyOklzc3VlQ29tbWVudDExMzQ2NTk4","user":{"login":"ejain","id":1323903,"node_id":"MDQ6VXNlcjEzMjM5MDM=","avatar_url":"https://avatars2.githubusercontent.com/u/1323903?v=4","gravatar_id":"","url":"https://api.github.com/users/ejain","html_url":"https://github.com/ejain","followers_url":"https://api.github.com/users/ejain/followers","following_url":"https://api.github.com/users/ejain/following{/other_user}","gists_url":"https://api.github.com/users/ejain/gists{/gist_id}","starred_url":"https://api.github.com/users/ejain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ejain/subscriptions","organizations_url":"https://api.github.com/users/ejain/orgs","repos_url":"https://api.github.com/users/ejain/repos","events_url":"https://api.github.com/users/ejain/events{/privacy}","received_events_url":"https://api.github.com/users/ejain/received_events","type":"User","site_admin":false},"created_at":"2012-12-13T18:31:20Z","updated_at":"2012-12-13T18:31:20Z","author_association":"CONTRIBUTOR","body":"On Wed, Dec 12, 2012 at 10:27 PM, Fatemeh notifications@github.com wrote:\n\n> Is there any tutorial on how to configure instances with EBS now that S3 is not an option?\n\ndeprecated != removed\n\nI do hope the backup/restore feature is implemented before support for\nthe S3 gateway is removed.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/11610914","html_url":"https://github.com/elastic/elasticsearch/issues/2458#issuecomment-11610914","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2458","id":11610914,"node_id":"MDEyOklzc3VlQ29tbWVudDExNjEwOTE0","user":{"login":"karmi","id":4790,"node_id":"MDQ6VXNlcjQ3OTA=","avatar_url":"https://avatars1.githubusercontent.com/u/4790?v=4","gravatar_id":"","url":"https://api.github.com/users/karmi","html_url":"https://github.com/karmi","followers_url":"https://api.github.com/users/karmi/followers","following_url":"https://api.github.com/users/karmi/following{/other_user}","gists_url":"https://api.github.com/users/karmi/gists{/gist_id}","starred_url":"https://api.github.com/users/karmi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karmi/subscriptions","organizations_url":"https://api.github.com/users/karmi/orgs","repos_url":"https://api.github.com/users/karmi/repos","events_url":"https://api.github.com/users/karmi/events{/privacy}","received_events_url":"https://api.github.com/users/karmi/received_events","type":"User","site_admin":false},"created_at":"2012-12-21T12:13:45Z","updated_at":"2012-12-21T12:13:45Z","author_association":"CONTRIBUTOR","body":"@fatemehmd The http://www.elasticsearch.org/tutorials/2012/03/21/deploying-elasticsearch-with-chef-solo.html tutorial now walks exactly through that scenario, via the support in the Chef [cookbok](https://github.com/karmi/cookbook-elasticsearch).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/11929669","html_url":"https://github.com/elastic/elasticsearch/issues/2458#issuecomment-11929669","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2458","id":11929669,"node_id":"MDEyOklzc3VlQ29tbWVudDExOTI5NjY5","user":{"login":"youurayy","id":588573,"node_id":"MDQ6VXNlcjU4ODU3Mw==","avatar_url":"https://avatars1.githubusercontent.com/u/588573?v=4","gravatar_id":"","url":"https://api.github.com/users/youurayy","html_url":"https://github.com/youurayy","followers_url":"https://api.github.com/users/youurayy/followers","following_url":"https://api.github.com/users/youurayy/following{/other_user}","gists_url":"https://api.github.com/users/youurayy/gists{/gist_id}","starred_url":"https://api.github.com/users/youurayy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/youurayy/subscriptions","organizations_url":"https://api.github.com/users/youurayy/orgs","repos_url":"https://api.github.com/users/youurayy/repos","events_url":"https://api.github.com/users/youurayy/events{/privacy}","received_events_url":"https://api.github.com/users/youurayy/received_events","type":"User","site_admin":false},"created_at":"2013-01-06T15:22:45Z","updated_at":"2013-01-06T15:22:45Z","author_association":"NONE","body":"Never noticed this in the logs, now my S3-gateway-configured cluster crashed after running out of JVM memory on one of the nodes.\n\nWould be beneficial for other users to add this deprecation into the docs.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/11935809","html_url":"https://github.com/elastic/elasticsearch/issues/2458#issuecomment-11935809","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2458","id":11935809,"node_id":"MDEyOklzc3VlQ29tbWVudDExOTM1ODA5","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2013-01-06T22:46:23Z","updated_at":"2013-01-06T22:46:23Z","author_association":"MEMBER","body":"Indeed, deprecate does not mean we are going to remove it. It will not be removed before we have the snapshot/restore API, but even before, I would suggest running in local gateway mode on EBS for example, compared to using the s3 gateway, because of the overhead that comes with continuously snapshotting to it and treating it as the main source of truth.\n\n@ypocat the OOM should not be caused because of the s3 gateway case, it probably happened because of other reasons (common one is faceting on fields that end up abusing memory, we are working on that as well...)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/14701423","html_url":"https://github.com/elastic/elasticsearch/issues/2458#issuecomment-14701423","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2458","id":14701423,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NzAxNDIz","user":{"login":"truthtrap","id":54732,"node_id":"MDQ6VXNlcjU0NzMy","avatar_url":"https://avatars3.githubusercontent.com/u/54732?v=4","gravatar_id":"","url":"https://api.github.com/users/truthtrap","html_url":"https://github.com/truthtrap","followers_url":"https://api.github.com/users/truthtrap/followers","following_url":"https://api.github.com/users/truthtrap/following{/other_user}","gists_url":"https://api.github.com/users/truthtrap/gists{/gist_id}","starred_url":"https://api.github.com/users/truthtrap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/truthtrap/subscriptions","organizations_url":"https://api.github.com/users/truthtrap/orgs","repos_url":"https://api.github.com/users/truthtrap/repos","events_url":"https://api.github.com/users/truthtrap/events{/privacy}","received_events_url":"https://api.github.com/users/truthtrap/received_events","type":"User","site_admin":false},"created_at":"2013-03-11T08:16:18Z","updated_at":"2013-03-11T08:16:18Z","author_association":"NONE","body":"We are actually quite happy with the S3 gateway. We use it with all of the clusters we run. The main use is as a backup, that we can restore from when the cluster hangs or dies. The advantage of this approach is that we are extremely flexible in how we work with nodes.\n\nWorking with EBS is not a solution. It would require a very complicated automated setup that manages instance with additional EBS volume(s). It is an approach we often use for things like Postgres and MongoDB. But part of the elasticsearch enthusiasm we feel is the ease of working with cluster technology.\n\nA snapshotting feature is a good replacement. It would really great if we could have some sort of Point in Time Restore with it, but it is not (yet) required. I would like to ask you to leave some overlap of features after you release snapshotting. We do rely on S3 when we upgrade our clusters, for example.\n\nSo, please, at least one release with snapshotting and the (deprecated) S3 gateway.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/14702532","html_url":"https://github.com/elastic/elasticsearch/issues/2458#issuecomment-14702532","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2458","id":14702532,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NzAyNTMy","user":{"login":"karmi","id":4790,"node_id":"MDQ6VXNlcjQ3OTA=","avatar_url":"https://avatars1.githubusercontent.com/u/4790?v=4","gravatar_id":"","url":"https://api.github.com/users/karmi","html_url":"https://github.com/karmi","followers_url":"https://api.github.com/users/karmi/followers","following_url":"https://api.github.com/users/karmi/following{/other_user}","gists_url":"https://api.github.com/users/karmi/gists{/gist_id}","starred_url":"https://api.github.com/users/karmi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karmi/subscriptions","organizations_url":"https://api.github.com/users/karmi/orgs","repos_url":"https://api.github.com/users/karmi/repos","events_url":"https://api.github.com/users/karmi/events{/privacy}","received_events_url":"https://api.github.com/users/karmi/received_events","type":"User","site_admin":false},"created_at":"2013-03-11T08:57:55Z","updated_at":"2013-03-11T08:57:55Z","author_association":"CONTRIBUTOR","body":"> Working with EBS is not a solution. It would require a very complicated automated setup that manages instance with additional EBS volume(s).\n\nI can understand why EBS volumes are not a good option in many scenarios, either from technical or economical standpoint. However, I'd say that the provisioning overhead is really low. Given how good abstraction the Fog (Ruby), jClouds (Java) and other libraries provide, I wouldn't describe it as \"very complicated\"...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/14705355","html_url":"https://github.com/elastic/elasticsearch/issues/2458#issuecomment-14705355","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2458","id":14705355,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NzA1MzU1","user":{"login":"truthtrap","id":54732,"node_id":"MDQ6VXNlcjU0NzMy","avatar_url":"https://avatars3.githubusercontent.com/u/54732?v=4","gravatar_id":"","url":"https://api.github.com/users/truthtrap","html_url":"https://github.com/truthtrap","followers_url":"https://api.github.com/users/truthtrap/followers","following_url":"https://api.github.com/users/truthtrap/following{/other_user}","gists_url":"https://api.github.com/users/truthtrap/gists{/gist_id}","starred_url":"https://api.github.com/users/truthtrap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/truthtrap/subscriptions","organizations_url":"https://api.github.com/users/truthtrap/orgs","repos_url":"https://api.github.com/users/truthtrap/repos","events_url":"https://api.github.com/users/truthtrap/events{/privacy}","received_events_url":"https://api.github.com/users/truthtrap/received_events","type":"User","site_admin":false},"created_at":"2013-03-11T10:15:38Z","updated_at":"2013-03-11T10:15:38Z","author_association":"NONE","body":"I don't want to discuss complexity of AWS related issues here. But, if you want to build a cluster-wide 'snapshot mechanism' with EBS that keeps the flexibility of the ElasticSearch (in combination with the AWS Cloud Plugin) you are in for quite a ride.\n\nIf you just want persistence of a node, 'plain EBS' is fine. Unfortunately, that is not enough for us. We want to scale a cluster (OUT or IN) within a couple of minutes. We need to be able to rotate all instances in a cluster very easily, without worrying about the data. We have to be able to replace a non-responsive ElasticSearch node by terminating the instance. Etc.\n\n(If you are interested how we approach these things you can read [Resilience & Reliability on AWS](http://www.amazon.com/Resilience-Reliability-AWS/dp/1449339190/). It has a dedicated chapter on ElasticSearch, just to show how incredibly impressed we are with it. Most of the work was already done.)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/14748686","html_url":"https://github.com/elastic/elasticsearch/issues/2458#issuecomment-14748686","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2458","id":14748686,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NzQ4Njg2","user":{"login":"ejain","id":1323903,"node_id":"MDQ6VXNlcjEzMjM5MDM=","avatar_url":"https://avatars2.githubusercontent.com/u/1323903?v=4","gravatar_id":"","url":"https://api.github.com/users/ejain","html_url":"https://github.com/ejain","followers_url":"https://api.github.com/users/ejain/followers","following_url":"https://api.github.com/users/ejain/following{/other_user}","gists_url":"https://api.github.com/users/ejain/gists{/gist_id}","starred_url":"https://api.github.com/users/ejain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ejain/subscriptions","organizations_url":"https://api.github.com/users/ejain/orgs","repos_url":"https://api.github.com/users/ejain/repos","events_url":"https://api.github.com/users/ejain/events{/privacy}","received_events_url":"https://api.github.com/users/ejain/received_events","type":"User","site_admin":false},"created_at":"2013-03-11T23:01:41Z","updated_at":"2013-03-11T23:01:41Z","author_association":"CONTRIBUTOR","body":"I'll second that setting up EBS complicates things in a setup where nodes are added and removed frequently, especially if performance is an issue.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/14751243","html_url":"https://github.com/elastic/elasticsearch/issues/2458#issuecomment-14751243","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2458","id":14751243,"node_id":"MDEyOklzc3VlQ29tbWVudDE0NzUxMjQz","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2013-03-12T00:10:29Z","updated_at":"2013-03-12T00:10:29Z","author_association":"MEMBER","body":"Snapshotting to s3 would bring both the advantages of the local gateway with the s3 gateway. we won't remove the s3 gateway before Snapshotting is in place at least for one major version\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/14818705","html_url":"https://github.com/elastic/elasticsearch/issues/2458#issuecomment-14818705","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2458","id":14818705,"node_id":"MDEyOklzc3VlQ29tbWVudDE0ODE4NzA1","user":{"login":"youurayy","id":588573,"node_id":"MDQ6VXNlcjU4ODU3Mw==","avatar_url":"https://avatars1.githubusercontent.com/u/588573?v=4","gravatar_id":"","url":"https://api.github.com/users/youurayy","html_url":"https://github.com/youurayy","followers_url":"https://api.github.com/users/youurayy/followers","following_url":"https://api.github.com/users/youurayy/following{/other_user}","gists_url":"https://api.github.com/users/youurayy/gists{/gist_id}","starred_url":"https://api.github.com/users/youurayy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/youurayy/subscriptions","organizations_url":"https://api.github.com/users/youurayy/orgs","repos_url":"https://api.github.com/users/youurayy/repos","events_url":"https://api.github.com/users/youurayy/events{/privacy}","received_events_url":"https://api.github.com/users/youurayy/received_events","type":"User","site_admin":false},"created_at":"2013-03-13T02:44:41Z","updated_at":"2013-03-13T02:44:41Z","author_association":"NONE","body":"Just to add my 2 cents, the S3 shared gateway did not prevent my cluster from crashing into an irreparable state. I had to code an utility which went through the Lucene index files on disk and recovered / reindexed the data into a freshly initialized cluster. I believe I am much better off with the local gateway and daily snapshots of my EBS RAID5 arrays.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/14823515","html_url":"https://github.com/elastic/elasticsearch/issues/2458#issuecomment-14823515","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2458","id":14823515,"node_id":"MDEyOklzc3VlQ29tbWVudDE0ODIzNTE1","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2013-03-13T04:11:29Z","updated_at":"2013-03-13T04:11:29Z","author_association":"MEMBER","body":"the idea here is that snapshot/restore with local gateway allows to strike the right balance between keeping up to date local recoverability with long term recoverability from something like s3\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/14890725","html_url":"https://github.com/elastic/elasticsearch/issues/2458#issuecomment-14890725","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2458","id":14890725,"node_id":"MDEyOklzc3VlQ29tbWVudDE0ODkwNzI1","user":{"login":"truthtrap","id":54732,"node_id":"MDQ6VXNlcjU0NzMy","avatar_url":"https://avatars3.githubusercontent.com/u/54732?v=4","gravatar_id":"","url":"https://api.github.com/users/truthtrap","html_url":"https://github.com/truthtrap","followers_url":"https://api.github.com/users/truthtrap/followers","following_url":"https://api.github.com/users/truthtrap/following{/other_user}","gists_url":"https://api.github.com/users/truthtrap/gists{/gist_id}","starred_url":"https://api.github.com/users/truthtrap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/truthtrap/subscriptions","organizations_url":"https://api.github.com/users/truthtrap/orgs","repos_url":"https://api.github.com/users/truthtrap/repos","events_url":"https://api.github.com/users/truthtrap/events{/privacy}","received_events_url":"https://api.github.com/users/truthtrap/received_events","type":"User","site_admin":false},"created_at":"2013-03-14T08:09:19Z","updated_at":"2013-03-14T08:09:19Z","author_association":"NONE","body":"@shay, thanks for leaving some overlap in the current s3 gateway and the\nnew snapshotting feature :)\n\nfor us 'local recoverability' is on shard level. we will always plan for\nloss of an instance, without loosing the cluster. the cluster can recover\nitself. we choose to treat nodes as ephemeral. with full cluster BREAKDOWN\na little bit of lag is not a problem. and for full cluster SHUTDOWN we can\nmanage this properly ourselves.\n\nwe are extreme fans of EBS, actually. and there is another interesting\napplication for EBS, and that is performance. ephemeral is a lot slower\nwith most rdbms we tried, for example. so, perhaps EBS is necessary in\ncases of severe disk access. AWS has SSD ephemeral disks, but that is still\na bit above budget for most of our apps.\n\nanother interesting feature of EBS is that you can easily have 20 smaller\nvolumes, for the same price as a big volume. because of the nature of EBS\nyou increase your potential read/write throughput more or less linearly.\nthis principle could be applied to individual indexes, or even shards, if\nthey can be assigned to different parts on the filesystem. this would be\nbetter manageable than raid, in case local (instance) recoverability is an\nissue.\n\ngroet,\njurg.\n\nOn Wed, Mar 13, 2013 at 5:11 AM, Shay Banon notifications@github.comwrote:\n\n> the idea here is that snapshot/restore with local gateway allows to strike\n> the right balance between keeping up to date local recoverability with long\n> term recoverability from something like s3\n> \n> —\n> Reply to this email directly or view it on GitHubhttps://github.com/elasticsearch/elasticsearch/issues/2458#issuecomment-14823515\n> .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/15714616","html_url":"https://github.com/elastic/elasticsearch/issues/2458#issuecomment-15714616","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2458","id":15714616,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NzE0NjE2","user":{"login":"oravecz","id":297712,"node_id":"MDQ6VXNlcjI5NzcxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/297712?v=4","gravatar_id":"","url":"https://api.github.com/users/oravecz","html_url":"https://github.com/oravecz","followers_url":"https://api.github.com/users/oravecz/followers","following_url":"https://api.github.com/users/oravecz/following{/other_user}","gists_url":"https://api.github.com/users/oravecz/gists{/gist_id}","starred_url":"https://api.github.com/users/oravecz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oravecz/subscriptions","organizations_url":"https://api.github.com/users/oravecz/orgs","repos_url":"https://api.github.com/users/oravecz/repos","events_url":"https://api.github.com/users/oravecz/events{/privacy}","received_events_url":"https://api.github.com/users/oravecz/received_events","type":"User","site_admin":false},"created_at":"2013-04-01T13:08:54Z","updated_at":"2013-04-01T13:08:54Z","author_association":"NONE","body":"We have been using the S3 shared gateway as a backup since 2010 in production. Our use case is perhaps a bit different from some ES users because we use ES to store smallish amounts of data. We also deploy to Elastic Beanstalk so instances are created and destroyed by Amazon and snapshotting and reuse of EBS is not appropriate. Sometimes we deploy a memory-only store with ES which only can rely on the shared gateway for any kind of cluster recovery.\n\nI am hopeful that the S3 gateway will not go away altogether, or perhaps it is replaced with the snapshot to s3 that Shay had mentioned. My question however is what is the difference between the S3 Gateway now and the \"Snapshot to S3\" feature besides the frequency with which they will sync (which is customizable for the shared gateway)?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/15738549","html_url":"https://github.com/elastic/elasticsearch/issues/2458#issuecomment-15738549","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2458","id":15738549,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NzM4NTQ5","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2013-04-01T21:30:46Z","updated_at":"2013-04-01T21:30:46Z","author_association":"MEMBER","body":"@oravecz effectively, a schedule snapshot to s3 using the future snapshot API will work in a similar manner to s3 gateway. Recovery will work a bit differently, where if you loose all the cluster data (loose all instances with ephemeral drives), you will need to explicitly \"call recover\" on the new cluster to recover the data from s3.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/26229881","html_url":"https://github.com/elastic/elasticsearch/issues/2458#issuecomment-26229881","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2458","id":26229881,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MjI5ODgx","user":{"login":"thomaswitt","id":46834,"node_id":"MDQ6VXNlcjQ2ODM0","avatar_url":"https://avatars0.githubusercontent.com/u/46834?v=4","gravatar_id":"","url":"https://api.github.com/users/thomaswitt","html_url":"https://github.com/thomaswitt","followers_url":"https://api.github.com/users/thomaswitt/followers","following_url":"https://api.github.com/users/thomaswitt/following{/other_user}","gists_url":"https://api.github.com/users/thomaswitt/gists{/gist_id}","starred_url":"https://api.github.com/users/thomaswitt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomaswitt/subscriptions","organizations_url":"https://api.github.com/users/thomaswitt/orgs","repos_url":"https://api.github.com/users/thomaswitt/repos","events_url":"https://api.github.com/users/thomaswitt/events{/privacy}","received_events_url":"https://api.github.com/users/thomaswitt/received_events","type":"User","site_admin":false},"created_at":"2013-10-13T23:40:04Z","updated_at":"2013-10-13T23:40:04Z","author_association":"NONE","body":"To be honest, we're not a big fan of the more EBS-centric way of running ElasticSearch.\n\nPlease do consider that nearly every major downtime at AWS had to do something with EBS (often in conjunction with the loss of data). EBS is - in my opinion - one of the most flawed services (just google \"aws downtimes ebs\"). Which is also not AWS' fault, we have quite some large customers who invested Millions of $ in their \"unbreakable\" or \"fully redundant\" SAN and they ALL had downtimes from some hours to several days.\n\nSo we're heavily relying on running all our elastic search stuff only on local instance storage and spread the copies to multiple nodes in multiple availability zones. The S3 gateway always seemed to be a big help in avoiding long reindexing times in times of catastrophic events.\n\nIn my opinion, it'd be a good idea to have an easy out-of-the-box-solution for ppl who don't want to run ElasticSearch on a non-local, distributed filesystem.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/443946551","html_url":"https://github.com/elastic/elasticsearch/issues/2458#issuecomment-443946551","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/2458","id":443946551,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0Mzk0NjU1MQ==","user":{"login":"torquemad","id":6647747,"node_id":"MDQ6VXNlcjY2NDc3NDc=","avatar_url":"https://avatars2.githubusercontent.com/u/6647747?v=4","gravatar_id":"","url":"https://api.github.com/users/torquemad","html_url":"https://github.com/torquemad","followers_url":"https://api.github.com/users/torquemad/followers","following_url":"https://api.github.com/users/torquemad/following{/other_user}","gists_url":"https://api.github.com/users/torquemad/gists{/gist_id}","starred_url":"https://api.github.com/users/torquemad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/torquemad/subscriptions","organizations_url":"https://api.github.com/users/torquemad/orgs","repos_url":"https://api.github.com/users/torquemad/repos","events_url":"https://api.github.com/users/torquemad/events{/privacy}","received_events_url":"https://api.github.com/users/torquemad/received_events","type":"User","site_admin":false},"created_at":"2018-12-04T02:27:28Z","updated_at":"2018-12-04T02:27:28Z","author_association":"NONE","body":"@kimchy - I know this MR is quite old, but was there ever any migration plan/documentation from the shared FS gateway to the local gateway without re-indexing? I haven't been able to find anything concrete.","performed_via_github_app":null}]