{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/12389","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12389/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12389/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12389/events","html_url":"https://github.com/elastic/elasticsearch/issues/12389","id":96443703,"node_id":"MDU6SXNzdWU5NjQ0MzcwMw==","number":12389,"title":"ElasticsearchIllegalArgumentException when _only_nodes is used as a search preference","user":{"login":"ppf2","id":7216393,"node_id":"MDQ6VXNlcjcyMTYzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/7216393?v=4","gravatar_id":"","url":"https://api.github.com/users/ppf2","html_url":"https://github.com/ppf2","followers_url":"https://api.github.com/users/ppf2/followers","following_url":"https://api.github.com/users/ppf2/following{/other_user}","gists_url":"https://api.github.com/users/ppf2/gists{/gist_id}","starred_url":"https://api.github.com/users/ppf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppf2/subscriptions","organizations_url":"https://api.github.com/users/ppf2/orgs","repos_url":"https://api.github.com/users/ppf2/repos","events_url":"https://api.github.com/users/ppf2/events{/privacy}","received_events_url":"https://api.github.com/users/ppf2/received_events","type":"User","site_admin":false},"labels":[{"id":146832564,"node_id":"MDU6TGFiZWwxNDY4MzI1NjQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Search","name":":Search/Search","color":"0e8a16","default":false,"description":"Search-related issues that do not fall into other categories"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":236948951,"node_id":"MDU6TGFiZWwyMzY5NDg5NTE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v1.7.1","name":"v1.7.1","color":"dddddd","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2015-07-22T00:07:37Z","updated_at":"2015-07-28T11:41:56Z","closed_at":"2015-07-28T11:41:56Z","author_association":"MEMBER","active_lock_reason":null,"body":"I can reproduce this using REST and Java API + ES 1.7.0\n\nThe following works:\n\nGET /_search?explain&preference=_only_node:6qdURxYySpCWugwxuvIH3g\n\nThe following throws the error:\n\nGET /_search?explain&preference=_only_nodes:pod:A\n\n```\n{\"error\":\"ElasticsearchIllegalArgumentException[no Preference for [_only_nodes]]\",\"status\":400}\n```\n\nI am able to workaround this by using the ENUM value from org.elasticsearch.cluster.routing.operation.plain.Preference directly:\n\nThe following works:\nGET /_search?explain&preference=ONLY_NODES:pod:A\n\n_only_nodes should work just like _only_node (and not require using the ONLY_NODES enum)?\n","closed_by":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"performed_via_github_app":null}