{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/15924","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15924/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15924/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/15924/events","html_url":"https://github.com/elastic/elasticsearch/issues/15924","id":126156995,"node_id":"MDU6SXNzdWUxMjYxNTY5OTU=","number":15924,"title":"Simplify MapperService#searchFilter(...)","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"labels":[{"id":141145460,"node_id":"MDU6TGFiZWwxNDExNDU0NjA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Mapping","name":":Search/Mapping","color":"0e8a16","default":false,"description":"How fields should be indexed"},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2016-01-12T11:19:42Z","updated_at":"2016-01-20T21:27:58Z","closed_at":"2016-01-20T21:27:58Z","author_association":"MEMBER","active_lock_reason":null,"body":"This method has a lot of logic that deals with the fact if type field isn't indexed. Since the the type field is locked down (like other meta fields), the type field is now always indexed. So it is time to clean this up.\n\nIt also has logic if only one type has been specified, which can be removed because BooleanQuery optimises when there is only one clause.\n\nThere is also logic to hide percolator queries. In order to further simplify this method I think we should not do this anymore? A percolator query is just a document and should be returned like other documents. If it percolator queries shouldn't be returned then the query defined in the search request should just be modified to do so. We should implicitly exclude these docs from the search results any more.\n","closed_by":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"performed_via_github_app":null}