[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/72710950","html_url":"https://github.com/elastic/elasticsearch/issues/9513#issuecomment-72710950","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9513","id":72710950,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNzEwOTUw","user":{"login":"dan-hook","id":8794021,"node_id":"MDQ6VXNlcjg3OTQwMjE=","avatar_url":"https://avatars1.githubusercontent.com/u/8794021?v=4","gravatar_id":"","url":"https://api.github.com/users/dan-hook","html_url":"https://github.com/dan-hook","followers_url":"https://api.github.com/users/dan-hook/followers","following_url":"https://api.github.com/users/dan-hook/following{/other_user}","gists_url":"https://api.github.com/users/dan-hook/gists{/gist_id}","starred_url":"https://api.github.com/users/dan-hook/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dan-hook/subscriptions","organizations_url":"https://api.github.com/users/dan-hook/orgs","repos_url":"https://api.github.com/users/dan-hook/repos","events_url":"https://api.github.com/users/dan-hook/events{/privacy}","received_events_url":"https://api.github.com/users/dan-hook/received_events","type":"User","site_admin":false},"created_at":"2015-02-03T18:55:24Z","updated_at":"2015-02-03T18:55:24Z","author_association":"NONE","body":"There was some discussion about file locking in this [thread](https://groups.google.com/forum/#!topic/elasticsearch/o6Ekiasobb8).  Would it make sense to have the index.store.fs.lock setting apply to NodeEnvironment as well as FSDirectoryService?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/73219748","html_url":"https://github.com/elastic/elasticsearch/issues/9513#issuecomment-73219748","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9513","id":73219748,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjE5NzQ4","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2015-02-06T10:55:32Z","updated_at":"2015-02-06T10:55:32Z","author_association":"CONTRIBUTOR","body":"> I've tested SimpleFSLockFactory (in isolation from everything else), and that does work. I'm going to test using SimpleFSLockFactory in NodeEnvironment and see if that will work. If it does, would there be any interest in having a node.simple_locking option in elasticsearch.yml to help support running on Lustre? What else am I missing?\n\nthis lock is different to the lock on the index. Elasticsearch requires this lock to be a `NativeFSLock`. This als means the FS your Elasticsearch Node is running must support this if the node is supposed to hold data. The good news  is that you can place the actual index data directory on a different filesystem once #9033 is released. I think we can just close this and treat is as `fixed`. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/73244773","html_url":"https://github.com/elastic/elasticsearch/issues/9513#issuecomment-73244773","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9513","id":73244773,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjQ0Nzcz","user":{"login":"dan-hook","id":8794021,"node_id":"MDQ6VXNlcjg3OTQwMjE=","avatar_url":"https://avatars1.githubusercontent.com/u/8794021?v=4","gravatar_id":"","url":"https://api.github.com/users/dan-hook","html_url":"https://github.com/dan-hook","followers_url":"https://api.github.com/users/dan-hook/followers","following_url":"https://api.github.com/users/dan-hook/following{/other_user}","gists_url":"https://api.github.com/users/dan-hook/gists{/gist_id}","starred_url":"https://api.github.com/users/dan-hook/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dan-hook/subscriptions","organizations_url":"https://api.github.com/users/dan-hook/orgs","repos_url":"https://api.github.com/users/dan-hook/repos","events_url":"https://api.github.com/users/dan-hook/events{/privacy}","received_events_url":"https://api.github.com/users/dan-hook/received_events","type":"User","site_admin":false},"created_at":"2015-02-06T14:33:44Z","updated_at":"2015-02-06T14:33:44Z","author_association":"NONE","body":"Thanks.  I think #9033 will help a lot.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/461232526","html_url":"https://github.com/elastic/elasticsearch/issues/9513#issuecomment-461232526","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9513","id":461232526,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MTIzMjUyNg==","user":{"login":"nzrutman","id":17676787,"node_id":"MDQ6VXNlcjE3Njc2Nzg3","avatar_url":"https://avatars2.githubusercontent.com/u/17676787?v=4","gravatar_id":"","url":"https://api.github.com/users/nzrutman","html_url":"https://github.com/nzrutman","followers_url":"https://api.github.com/users/nzrutman/followers","following_url":"https://api.github.com/users/nzrutman/following{/other_user}","gists_url":"https://api.github.com/users/nzrutman/gists{/gist_id}","starred_url":"https://api.github.com/users/nzrutman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nzrutman/subscriptions","organizations_url":"https://api.github.com/users/nzrutman/orgs","repos_url":"https://api.github.com/users/nzrutman/repos","events_url":"https://api.github.com/users/nzrutman/events{/privacy}","received_events_url":"https://api.github.com/users/nzrutman/received_events","type":"User","site_admin":false},"created_at":"2019-02-06T23:40:42Z","updated_at":"2019-02-06T23:40:42Z","author_association":"NONE","body":"Understanding that this q is 4 years old, but in case anyone else ends up back here...\r\n\r\nLustre does/has supported flock; it just requires a client mount option:\r\n - localflock, which only keeps locking on the local client node and is sufficient for applications that only run on a single node\r\n- flock, which adds locking between applications on different clients mounted with this option. This is if you have a distributed application that is running on multiple clients that controls its file access via flock (e.g. Producer/consumer).","performed_via_github_app":null}]