{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/23206","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23206/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23206/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/23206/events","html_url":"https://github.com/elastic/elasticsearch/issues/23206","id":208114804,"node_id":"MDU6SXNzdWUyMDgxMTQ4MDQ=","number":23206,"title":"Docs out of sync regarding default values for geo_shape mapping","user":{"login":"adambro","id":649233,"node_id":"MDQ6VXNlcjY0OTIzMw==","avatar_url":"https://avatars0.githubusercontent.com/u/649233?v=4","gravatar_id":"","url":"https://api.github.com/users/adambro","html_url":"https://github.com/adambro","followers_url":"https://api.github.com/users/adambro/followers","following_url":"https://api.github.com/users/adambro/following{/other_user}","gists_url":"https://api.github.com/users/adambro/gists{/gist_id}","starred_url":"https://api.github.com/users/adambro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adambro/subscriptions","organizations_url":"https://api.github.com/users/adambro/orgs","repos_url":"https://api.github.com/users/adambro/repos","events_url":"https://api.github.com/users/adambro/events{/privacy}","received_events_url":"https://api.github.com/users/adambro/received_events","type":"User","site_admin":false},"labels":[{"id":141079527,"node_id":"MDU6TGFiZWwxNDEwNzk1Mjc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Analytics/Geo","name":":Analytics/Geo","color":"0e8a16","default":false,"description":"Indexing, search aggregations of geo points and shapes"},{"id":92913858,"node_id":"MDU6TGFiZWw5MjkxMzg1OA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/good%20first%20issue","name":"good first issue","color":"07569b","default":true,"description":"low hanging fruit"}],"state":"closed","locked":false,"assignee":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"assignees":[{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false}],"milestone":null,"comments":4,"created_at":"2017-02-16T13:00:45Z","updated_at":"2018-06-18T17:50:53Z","closed_at":"2018-06-18T17:50:53Z","author_association":"NONE","active_lock_reason":null,"body":"**Elasticsearch version**: number\": \"5.1.1\", \"build_hash\": \"5395e21\" from official Docker image\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\n\r\nWhen I query the default mapping values using mapping API with `?include_defaults=true` I'm getting the following for `geo_shape` field:\r\n\r\n```js\r\n{\r\n              \"type\": \"geo_shape\",\r\n              \"tree\": \"geohash\",\r\n              \"tree_levels\": 0,\r\n              \"precision\": \"-1.0m\",\r\n              \"strategy\": \"recursive\",\r\n              \"distance_error_pct\": 0.025,\r\n              \"orientation\": \"RIGHT\",\r\n              \"points_only\": false,\r\n              \"coerce\": false\r\n }\r\n```\r\n\r\nAbove values do not match the default values mentioned in documentation:\r\nhttps://www.elastic.co/guide/en/elasticsearch/reference/5.1/geo-shape.html#geo-shape-mapping-options\r\n\r\nHere's the query result when I've added `precision: 1m` property to geo_shape mapping:\r\n```js\r\n{\r\n              \"type\": \"geo_shape\",\r\n              \"tree\": \"geohash\",\r\n              \"tree_levels\": 0,\r\n              \"precision\": \"1.0m\",\r\n              \"strategy\": \"recursive\",\r\n              \"distance_error_pct\": 0.0,\r\n              \"orientation\": \"RIGHT\",\r\n              \"points_only\": false,\r\n              \"coerce\": false\r\n}\r\n```\r\n\r\nStill `tree_levels` is 0 (which is confusing). On the other hand `distance_error_pct` changes to 0 as documented.\r\n\r\nNot sure if it's only docs out o date, because:\r\n* `tree_levels: 0` seems to be a bug\r\n* `precision: \"-1.0m\"` by default does not make sense","closed_by":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"performed_via_github_app":null}