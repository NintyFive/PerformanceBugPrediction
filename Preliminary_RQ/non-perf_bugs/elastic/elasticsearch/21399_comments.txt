[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/259094713","html_url":"https://github.com/elastic/elasticsearch/issues/21399#issuecomment-259094713","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21399","id":259094713,"node_id":"MDEyOklzc3VlQ29tbWVudDI1OTA5NDcxMw==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-11-08T10:00:48Z","updated_at":"2016-11-08T10:00:48Z","author_association":"MEMBER","body":"You secured your cluster with xpack.\nThat's why you are getting this message.\n\nPlease ask on discuss.elastic.co next time you have questions.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/333874750","html_url":"https://github.com/elastic/elasticsearch/issues/21399#issuecomment-333874750","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21399","id":333874750,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzg3NDc1MA==","user":{"login":"endlesslight0","id":8350230,"node_id":"MDQ6VXNlcjgzNTAyMzA=","avatar_url":"https://avatars1.githubusercontent.com/u/8350230?v=4","gravatar_id":"","url":"https://api.github.com/users/endlesslight0","html_url":"https://github.com/endlesslight0","followers_url":"https://api.github.com/users/endlesslight0/followers","following_url":"https://api.github.com/users/endlesslight0/following{/other_user}","gists_url":"https://api.github.com/users/endlesslight0/gists{/gist_id}","starred_url":"https://api.github.com/users/endlesslight0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/endlesslight0/subscriptions","organizations_url":"https://api.github.com/users/endlesslight0/orgs","repos_url":"https://api.github.com/users/endlesslight0/repos","events_url":"https://api.github.com/users/endlesslight0/events{/privacy}","received_events_url":"https://api.github.com/users/endlesslight0/received_events","type":"User","site_admin":false},"created_at":"2017-10-03T15:14:20Z","updated_at":"2017-10-03T15:14:20Z","author_association":"NONE","body":"Just after curl, add `--user elastic:changeme`","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/615436739","html_url":"https://github.com/elastic/elasticsearch/issues/21399#issuecomment-615436739","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21399","id":615436739,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNTQzNjczOQ==","user":{"login":"tbernacchi","id":26934246,"node_id":"MDQ6VXNlcjI2OTM0MjQ2","avatar_url":"https://avatars2.githubusercontent.com/u/26934246?v=4","gravatar_id":"","url":"https://api.github.com/users/tbernacchi","html_url":"https://github.com/tbernacchi","followers_url":"https://api.github.com/users/tbernacchi/followers","following_url":"https://api.github.com/users/tbernacchi/following{/other_user}","gists_url":"https://api.github.com/users/tbernacchi/gists{/gist_id}","starred_url":"https://api.github.com/users/tbernacchi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tbernacchi/subscriptions","organizations_url":"https://api.github.com/users/tbernacchi/orgs","repos_url":"https://api.github.com/users/tbernacchi/repos","events_url":"https://api.github.com/users/tbernacchi/events{/privacy}","received_events_url":"https://api.github.com/users/tbernacchi/received_events","type":"User","site_admin":false},"created_at":"2020-04-17T19:56:00Z","updated_at":"2020-04-17T19:56:00Z","author_association":"NONE","body":"I'm facing the same issue here.\r\n\r\nWhen I add `--user elastic:changeme` with my CUrl it's ok.  \r\n\r\n```\r\n[root@filebeat01 log]# curl --silent -X GET -H \"Content-Type: application/json\" http://192.168.15.22:9200/_cluster/health --user elastic:changeme\r\n{\"cluster_name\":\"docker-cluster\",\"status\":\"yellow\",\"timed_out\":false,\"number_of_nodes\":1,\"number_of_data_nodes\":1,\"active_primary_shards\":15,\"active_shards\":15,\"relocating_shards\":0,\"initializing_shards\":0,\"unassigned_shards\":3,\"delayed_unassigned_shards\":0,\"number_of_pending_tasks\":0,\"number_of_in_flight_fetch\":0,\"task_max_waiting_in_queue_millis\":0,\"active_shards_percent_as_number\":83.33333333333334}````\r\n```\r\nBut when I put on my `filebeat.yml`it didnt work:\r\n```\r\noutput.elasticsearch:\r\n  hosts: [\"192.168.15.22:9200\"]\r\n  index: \"logs_%{[host]}\"\r\n  bulk_max_size: 1000\r\n  output.elasticsearch.username: \"elastic\"\r\n  output.elasticsearch.password: \"changeme\"\r\n\r\n```\r\nApr 17 19:53:39 filebeat01 filebeat: 2020-04-17T19:53:39.184Z#011ERROR#011pipeline/output.go:100#011Failed to connect to backoff(elasticsearch(http://192.168.15.22:9200)): 401 Unauthorized: {\"error\":{\"root_cause\":[{\"type\":\"security_exception\",\"reason\":\"missing authentication credentials for REST request [/]\",\"header\":{\"WWW-Authenticate\":\"Basic realm=\\\"security\\\" charset=\\\"UTF-8\\\"\"}}],\"type\":\"security_exception\",\"reason\":\"missing authentication credentials for REST request [/]\",\"header\":{\"WWW-Authenticate\":\"Basic realm=\\\"security\\\" charset=\\\"UTF-8\\\"\"}},\"status\":401}\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/723012822","html_url":"https://github.com/elastic/elasticsearch/issues/21399#issuecomment-723012822","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/21399","id":723012822,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzAxMjgyMg==","user":{"login":"dkutetsky","id":4101816,"node_id":"MDQ6VXNlcjQxMDE4MTY=","avatar_url":"https://avatars3.githubusercontent.com/u/4101816?v=4","gravatar_id":"","url":"https://api.github.com/users/dkutetsky","html_url":"https://github.com/dkutetsky","followers_url":"https://api.github.com/users/dkutetsky/followers","following_url":"https://api.github.com/users/dkutetsky/following{/other_user}","gists_url":"https://api.github.com/users/dkutetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/dkutetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dkutetsky/subscriptions","organizations_url":"https://api.github.com/users/dkutetsky/orgs","repos_url":"https://api.github.com/users/dkutetsky/repos","events_url":"https://api.github.com/users/dkutetsky/events{/privacy}","received_events_url":"https://api.github.com/users/dkutetsky/received_events","type":"User","site_admin":false},"created_at":"2020-11-06T10:46:31Z","updated_at":"2020-11-06T10:47:01Z","author_association":"NONE","body":"@tbernacchi , your configuration should be like the following:\r\n\r\n```\r\noutput.elasticsearch:\r\n  hosts: [\"192.168.15.22:9200\"]\r\n  index: \"logs_%{[host]}\"\r\n  bulk_max_size: 1000\r\n  username: \"elastic\"\r\n  password: \"changeme\"\r\n```","performed_via_github_app":null}]