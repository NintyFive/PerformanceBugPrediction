[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/179070544","html_url":"https://github.com/elastic/elasticsearch/issues/16402#issuecomment-179070544","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16402","id":179070544,"node_id":"MDEyOklzc3VlQ29tbWVudDE3OTA3MDU0NA==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-02-03T07:43:07Z","updated_at":"2016-02-03T07:43:07Z","author_association":"MEMBER","body":"Indeed we fail starting a shard if it misses the necessary translog files. The reason for this that opening shard will amount to loss of data. Note that we rely on another shard copy to take over, just like we do in any case of corruption. Can you elaborate on what made you delete the translog file? \n\nI'm closing this issue as things work as intended. We can continue the discussion and if it turns out something is wrong, we can surely reopen it.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/179076770","html_url":"https://github.com/elastic/elasticsearch/issues/16402#issuecomment-179076770","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16402","id":179076770,"node_id":"MDEyOklzc3VlQ29tbWVudDE3OTA3Njc3MA==","user":{"login":"Macln","id":16075935,"node_id":"MDQ6VXNlcjE2MDc1OTM1","avatar_url":"https://avatars0.githubusercontent.com/u/16075935?v=4","gravatar_id":"","url":"https://api.github.com/users/Macln","html_url":"https://github.com/Macln","followers_url":"https://api.github.com/users/Macln/followers","following_url":"https://api.github.com/users/Macln/following{/other_user}","gists_url":"https://api.github.com/users/Macln/gists{/gist_id}","starred_url":"https://api.github.com/users/Macln/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Macln/subscriptions","organizations_url":"https://api.github.com/users/Macln/orgs","repos_url":"https://api.github.com/users/Macln/repos","events_url":"https://api.github.com/users/Macln/events{/privacy}","received_events_url":"https://api.github.com/users/Macln/received_events","type":"User","site_admin":false},"created_at":"2016-02-03T07:59:15Z","updated_at":"2016-02-03T07:59:15Z","author_association":"NONE","body":"@bleskes this problem can't deal with it? I think not only because of missing the translog files or damaged translog files which be known as notSerializableExceptionWrapper files that the index's shard cant 't start,just those shards possess data.\nwhy can't fix the translog file,if the translog files is missing or damaged when starting the shards.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/179078224","html_url":"https://github.com/elastic/elasticsearch/issues/16402#issuecomment-179078224","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16402","id":179078224,"node_id":"MDEyOklzc3VlQ29tbWVudDE3OTA3ODIyNA==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-02-03T08:03:21Z","updated_at":"2016-02-03T08:03:21Z","author_association":"MEMBER","body":"I’m not sure  I follow you completely. The high level thinking is that the translog stores data just like lucene and any corruption there is treated the same way as corruption elsewhere. If you have another copy (i.e., replica) ES will recover on it’s own. Otherwise you sadly need to reindex.\n\n> On 03 Feb 2016, at 08:59, Macln notifications@github.com wrote:\n> \n> @bleskes this problem can't deal with it? I think not only because of missing the translog files or damaged translog files which be known as notSerializableExceptionWrapper files that the index's shard cant 't start,just those shards possess data.\n> why can't fix the translog file,if the translog files is missing or damaged when starting the shards.\n> \n> —\n> Reply to this email directly or view it on GitHub.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/179250246","html_url":"https://github.com/elastic/elasticsearch/issues/16402#issuecomment-179250246","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16402","id":179250246,"node_id":"MDEyOklzc3VlQ29tbWVudDE3OTI1MDI0Ng==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-02-03T14:02:03Z","updated_at":"2016-02-03T14:02:03Z","author_association":"MEMBER","body":"People have reminded me that we do have an escape route for these cases - you can set `index.engine.force_new_translog` to true on the index , wait for it to recover and reset back to false. Note though that leaving it on true is dangerous - if the cluster shutsdown and restarts it will ignore the translog when recovering (and loose data).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/179608268","html_url":"https://github.com/elastic/elasticsearch/issues/16402#issuecomment-179608268","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16402","id":179608268,"node_id":"MDEyOklzc3VlQ29tbWVudDE3OTYwODI2OA==","user":{"login":"Macln","id":16075935,"node_id":"MDQ6VXNlcjE2MDc1OTM1","avatar_url":"https://avatars0.githubusercontent.com/u/16075935?v=4","gravatar_id":"","url":"https://api.github.com/users/Macln","html_url":"https://github.com/Macln","followers_url":"https://api.github.com/users/Macln/followers","following_url":"https://api.github.com/users/Macln/following{/other_user}","gists_url":"https://api.github.com/users/Macln/gists{/gist_id}","starred_url":"https://api.github.com/users/Macln/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Macln/subscriptions","organizations_url":"https://api.github.com/users/Macln/orgs","repos_url":"https://api.github.com/users/Macln/repos","events_url":"https://api.github.com/users/Macln/events{/privacy}","received_events_url":"https://api.github.com/users/Macln/received_events","type":"User","site_admin":false},"created_at":"2016-02-04T03:53:42Z","updated_at":"2016-02-04T03:53:42Z","author_association":"NONE","body":"@bleskes OK,thanks,I see,I'm going to try.\n","performed_via_github_app":null}]