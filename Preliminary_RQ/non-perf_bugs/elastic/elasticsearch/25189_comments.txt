[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/309028732","html_url":"https://github.com/elastic/elasticsearch/issues/25189#issuecomment-309028732","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25189","id":309028732,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTAyODczMg==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2017-06-16T13:39:59Z","updated_at":"2017-06-16T13:39:59Z","author_association":"CONTRIBUTOR","body":"hey @prashnts thanks for opening the issue. The feature you are describing has a couple of issues that we are are not necessarily willing to buy into:\r\n\r\n * if you allow URLs they might be pulled at different times (when index / shards are allocated or relocate) that might result in different synonym files if the resource changes behind the scenes. BTW the same problem exists with the file bases option but it's already there and we might be able to improve here\r\n * if you use a URL you are basically opening a connection to an external system which ES is not allowed to do by it's core security permissions. We try really hard to keep it that way. From a security perspective even with whitelists it's a risky thing todo\r\n\r\na lot of users want to update synonyms used for query time synonym expansion. That is a problem that we need to solve better but we don't want to fan out to external systems","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/309364432","html_url":"https://github.com/elastic/elasticsearch/issues/25189#issuecomment-309364432","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25189","id":309364432,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTM2NDQzMg==","user":{"login":"prashnts","id":5663391,"node_id":"MDQ6VXNlcjU2NjMzOTE=","avatar_url":"https://avatars2.githubusercontent.com/u/5663391?v=4","gravatar_id":"","url":"https://api.github.com/users/prashnts","html_url":"https://github.com/prashnts","followers_url":"https://api.github.com/users/prashnts/followers","following_url":"https://api.github.com/users/prashnts/following{/other_user}","gists_url":"https://api.github.com/users/prashnts/gists{/gist_id}","starred_url":"https://api.github.com/users/prashnts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashnts/subscriptions","organizations_url":"https://api.github.com/users/prashnts/orgs","repos_url":"https://api.github.com/users/prashnts/repos","events_url":"https://api.github.com/users/prashnts/events{/privacy}","received_events_url":"https://api.github.com/users/prashnts/received_events","type":"User","site_admin":false},"created_at":"2017-06-19T07:48:28Z","updated_at":"2017-06-19T07:48:28Z","author_association":"NONE","body":"Thanks for the detailed explanation @s1monw! I see the rationale, and it makes sense.\r\n\r\nIf you find time, could you address a couple more questions RE this? Would really appreciate.\r\n\r\n- What would be considered a \"big\" inlined-synonym? Would, say, 2k lines of inlined synonyms, be \"big\" enough to have significant impact on cluster size? What about 10k lines?\r\n- Going through the source of the `Analysis.java`, I see that both inlined and file-based synonyms are loaded into the memory, so I am assuming inlining does not impact the runtime performance of the nodes. Is that correct?\r\n\r\nThank you!","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/538397322","html_url":"https://github.com/elastic/elasticsearch/issues/25189#issuecomment-538397322","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25189","id":538397322,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODM5NzMyMg==","user":{"login":"luflow","id":7906407,"node_id":"MDQ6VXNlcjc5MDY0MDc=","avatar_url":"https://avatars2.githubusercontent.com/u/7906407?v=4","gravatar_id":"","url":"https://api.github.com/users/luflow","html_url":"https://github.com/luflow","followers_url":"https://api.github.com/users/luflow/followers","following_url":"https://api.github.com/users/luflow/following{/other_user}","gists_url":"https://api.github.com/users/luflow/gists{/gist_id}","starred_url":"https://api.github.com/users/luflow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luflow/subscriptions","organizations_url":"https://api.github.com/users/luflow/orgs","repos_url":"https://api.github.com/users/luflow/repos","events_url":"https://api.github.com/users/luflow/events{/privacy}","received_events_url":"https://api.github.com/users/luflow/received_events","type":"User","site_admin":false},"created_at":"2019-10-04T13:30:31Z","updated_at":"2019-10-04T13:30:31Z","author_association":"NONE","body":"@s1monw Stumbled upon this issue after I looked for an easy possibility to update synonyms with the new Reload Analyzers API (https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-reload-analyzers.html)\r\n\r\nTo be able to pull the necessary information from an API-Endpoint (hence introducing an `synonyms_url`) would be awesome.\r\n\r\nOtherwise we would have to handle the distribution of the synonyms file to all elastic search cluster nodes, which is not an easy task.\r\n\r\nWhats the current state (2 years after opening of this issue) of this regarding the introduction of a new setting? Is Elastic still not alowed to call remote servers?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/576239313","html_url":"https://github.com/elastic/elasticsearch/issues/25189#issuecomment-576239313","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25189","id":576239313,"node_id":"MDEyOklzc3VlQ29tbWVudDU3NjIzOTMxMw==","user":{"login":"sainine","id":53001843,"node_id":"MDQ6VXNlcjUzMDAxODQz","avatar_url":"https://avatars2.githubusercontent.com/u/53001843?v=4","gravatar_id":"","url":"https://api.github.com/users/sainine","html_url":"https://github.com/sainine","followers_url":"https://api.github.com/users/sainine/followers","following_url":"https://api.github.com/users/sainine/following{/other_user}","gists_url":"https://api.github.com/users/sainine/gists{/gist_id}","starred_url":"https://api.github.com/users/sainine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sainine/subscriptions","organizations_url":"https://api.github.com/users/sainine/orgs","repos_url":"https://api.github.com/users/sainine/repos","events_url":"https://api.github.com/users/sainine/events{/privacy}","received_events_url":"https://api.github.com/users/sainine/received_events","type":"User","site_admin":false},"created_at":"2020-01-20T11:47:04Z","updated_at":"2020-01-20T11:47:04Z","author_association":"NONE","body":"Hi Team,\r\n\r\nDo you have any update on the issue?\r\n\r\nI want to update synonym.txt dynamically. and want it to be synced on all the nodes of elasticsearch cluster. \r\nIs there any feature in elasticsearch to support this, or I need to manually handle it in the application.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/581551819","html_url":"https://github.com/elastic/elasticsearch/issues/25189#issuecomment-581551819","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25189","id":581551819,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MTU1MTgxOQ==","user":{"login":"prashnts","id":5663391,"node_id":"MDQ6VXNlcjU2NjMzOTE=","avatar_url":"https://avatars2.githubusercontent.com/u/5663391?v=4","gravatar_id":"","url":"https://api.github.com/users/prashnts","html_url":"https://github.com/prashnts","followers_url":"https://api.github.com/users/prashnts/followers","following_url":"https://api.github.com/users/prashnts/following{/other_user}","gists_url":"https://api.github.com/users/prashnts/gists{/gist_id}","starred_url":"https://api.github.com/users/prashnts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashnts/subscriptions","organizations_url":"https://api.github.com/users/prashnts/orgs","repos_url":"https://api.github.com/users/prashnts/repos","events_url":"https://api.github.com/users/prashnts/events{/privacy}","received_events_url":"https://api.github.com/users/prashnts/received_events","type":"User","site_admin":false},"created_at":"2020-02-03T18:29:49Z","updated_at":"2020-02-03T18:50:15Z","author_association":"NONE","body":"@sainine  In case you, or anyone is interested, I had created this linter for es-synonyms file. It also works with `elasticsearch-dsl` python library.\r\n\r\nThis will at least let you be confident that there's no error, before pushing your synonyms file to the index in elasticsearch. Although I haven't been following the development here so unless the specs for it have changed, you can try it out.\r\n\r\nhttps://github.com/agora-team/elasticsearch-synonyms\r\n\r\nExample parser data: https://github.com/agora-team/elasticsearch-synonyms/blob/master/data/medical-terms.synonyms\r\n\r\n(sorry for a shameless plug...)\r\n\r\n\r\nEdit: @luflow I still think @s1monw 's argument against making remote calls from database process is rational. I would take managing clusters over risking another possible attack vector in some system. Just my 2 cents.\r\n\r\nAt my work we had found a middle ground, though -- propagating the synonym files through a python script (there's an example in repo I'd linked above) worked without issues in prod (2-node cluster) for two years, I don't work there anymore so can't say what's the status now.\r\n\r\nTake it with a grain of salt, our cluster size was quite modest (<100k docs) and 2-node cluster was simply a fail-safe, we didn't need it for performance. ... and we never needed to inline more than 1k lines of synonyms. So, YMMV.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/638205206","html_url":"https://github.com/elastic/elasticsearch/issues/25189#issuecomment-638205206","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25189","id":638205206,"node_id":"MDEyOklzc3VlQ29tbWVudDYzODIwNTIwNg==","user":{"login":"dfbernal","id":2438764,"node_id":"MDQ6VXNlcjI0Mzg3NjQ=","avatar_url":"https://avatars3.githubusercontent.com/u/2438764?v=4","gravatar_id":"","url":"https://api.github.com/users/dfbernal","html_url":"https://github.com/dfbernal","followers_url":"https://api.github.com/users/dfbernal/followers","following_url":"https://api.github.com/users/dfbernal/following{/other_user}","gists_url":"https://api.github.com/users/dfbernal/gists{/gist_id}","starred_url":"https://api.github.com/users/dfbernal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dfbernal/subscriptions","organizations_url":"https://api.github.com/users/dfbernal/orgs","repos_url":"https://api.github.com/users/dfbernal/repos","events_url":"https://api.github.com/users/dfbernal/events{/privacy}","received_events_url":"https://api.github.com/users/dfbernal/received_events","type":"User","site_admin":false},"created_at":"2020-06-03T13:42:03Z","updated_at":"2020-06-03T13:42:03Z","author_association":"NONE","body":"It would be great if we could manage the synonym file like we manage an index. Elasticsearch would be responsible for distributing out this file to every node in a similar fashion to how nodes have replicas of shards.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/646223088","html_url":"https://github.com/elastic/elasticsearch/issues/25189#issuecomment-646223088","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/25189","id":646223088,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NjIyMzA4OA==","user":{"login":"mrkamel","id":165645,"node_id":"MDQ6VXNlcjE2NTY0NQ==","avatar_url":"https://avatars3.githubusercontent.com/u/165645?v=4","gravatar_id":"","url":"https://api.github.com/users/mrkamel","html_url":"https://github.com/mrkamel","followers_url":"https://api.github.com/users/mrkamel/followers","following_url":"https://api.github.com/users/mrkamel/following{/other_user}","gists_url":"https://api.github.com/users/mrkamel/gists{/gist_id}","starred_url":"https://api.github.com/users/mrkamel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mrkamel/subscriptions","organizations_url":"https://api.github.com/users/mrkamel/orgs","repos_url":"https://api.github.com/users/mrkamel/repos","events_url":"https://api.github.com/users/mrkamel/events{/privacy}","received_events_url":"https://api.github.com/users/mrkamel/received_events","type":"User","site_admin":false},"created_at":"2020-06-18T18:06:48Z","updated_at":"2020-06-18T18:06:48Z","author_association":"CONTRIBUTOR","body":"Any progress on this would be highly appreciated... aws ES seems to have a feature where you can upload synonym files by [uploading packages](https://docs.aws.amazon.com/elasticsearch-service/latest/developerguide/custom-packages.html) and triggering an update via aws ES APIs. Having something build into ES would be much nicer of course.","performed_via_github_app":null}]