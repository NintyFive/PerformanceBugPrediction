{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/58077","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/58077/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/58077/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/58077/events","html_url":"https://github.com/elastic/elasticsearch/issues/58077","id":638195538,"node_id":"MDU6SXNzdWU2MzgxOTU1Mzg=","number":58077,"title":"Datanodes crash in ES cluster with java.lang.StackOverflowError","user":{"login":"sbagwe","id":66880751,"node_id":"MDQ6VXNlcjY2ODgwNzUx","avatar_url":"https://avatars2.githubusercontent.com/u/66880751?v=4","gravatar_id":"","url":"https://api.github.com/users/sbagwe","html_url":"https://github.com/sbagwe","followers_url":"https://api.github.com/users/sbagwe/followers","following_url":"https://api.github.com/users/sbagwe/following{/other_user}","gists_url":"https://api.github.com/users/sbagwe/gists{/gist_id}","starred_url":"https://api.github.com/users/sbagwe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sbagwe/subscriptions","organizations_url":"https://api.github.com/users/sbagwe/orgs","repos_url":"https://api.github.com/users/sbagwe/repos","events_url":"https://api.github.com/users/sbagwe/events{/privacy}","received_events_url":"https://api.github.com/users/sbagwe/received_events","type":"User","site_admin":false},"labels":[{"id":142001965,"node_id":"MDU6TGFiZWwxNDIwMDE5NjU=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Analysis","name":":Search/Analysis","color":"0e8a16","default":false,"description":"How text is split into tokens"},{"id":1967498216,"node_id":"MDU6TGFiZWwxOTY3NDk4MjE2","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Search","name":"Team:Search","color":"fef2c0","default":false,"description":"Meta label for search team"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2020-06-13T16:59:28Z","updated_at":"2020-06-13T21:36:59Z","closed_at":"2020-06-13T21:36:43Z","author_association":"NONE","active_lock_reason":null,"body":"<!--\r\nGitHub is reserved for bug reports and feature requests; it is not the place\r\nfor general questions. If you have a question or an unconfirmed bug , please\r\nvisit the [forums](https://discuss.elastic.co/c/elasticsearch).  Please also\r\ncheck your OS is [supported](https://www.elastic.co/support/matrix#show_os).\r\nIf it is not, the issue is likely to be closed.\r\n\r\nFor security vulnerabilities please only send reports to security@elastic.co.\r\nSee https://www.elastic.co/community/security for more information.\r\n\r\nPlease fill in the following details to help us reproduce the bug:\r\n-->\r\n\r\n**Elasticsearch version** (`5.3.0`):\r\n\r\n**Plugins installed**: []\r\n\r\n**JVM version** (`1.8.0_202`):\r\n\r\n**OS version** (`CentOS 6.9`):\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\n\r\nDatanodes crash with below stacktrace. We are in process of upgrading the Elasticsearch but is there any known workaround in the meantime since this is our production enviornment? \r\n\r\n\r\n[2020-06-13T16:26:32,261][ERROR][o.e.b.ElasticsearchUncaughtExceptionHandler] [Search_data_9208] fatal error in thread [elasticsearch[Search_data_9208][search][T#26]], exiting\r\njava.lang.StackOverflowError: null\r\n        at org.apache.lucene.util.automaton.RegExp.next(RegExp.java:1017) ~[lucene-core-6.4.1.jar:6.4.1 72f75b2503fa0aa4f0aff76d439874feb923bb0e - jpountz - 2017-02-01 14:43:32]\r\n        at org.apache.lucene.util.automaton.RegExp.parseCharExp(RegExp.java:1163) ~[lucene-core-6.4.1.jar:6.4.1 72f75b2503fa0aa4f0aff76d439874feb923bb0e - jpountz - 2017-02-01 14:43:32]\r\n        at org.apache.lucene.util.automaton.RegExp.parseSimpleExp(RegExp.java:1158) ~[lucene-core-6.4.1.jar:6.4.1 72f75b2503fa0aa4f0aff76d439874feb923bb0e - jpountz - 2017-02-01 14:43:32]\r\n        at org.apache.lucene.util.automaton.RegExp.parseCharClassExp(RegExp.java:1090) ~[lucene-core-6.4.1.jar:6.4.1 72f75b2503fa0aa4f0aff76d439874feb923bb0e - jpountz - 2017-02-01 14:43:32]\r\n        at org.apache.lucene.util.automaton.RegExp.parseComplExp(RegExp.java:1078) ~[lucene-core-6.4.1.jar:6.4.1 72f75b2503fa0aa4f0aff76d439874feb923bb0e - jpountz - 2017-02-01 14:43:32]\r\n        at org.apache.lucene.util.automaton.RegExp.parseRepeatExp(RegExp.java:1047) ~[lucene-core-6.4.1.jar:6.4.1 72f75b2503fa0aa4f0aff76d439874feb923bb0e - jpountz - 2017-02-01 14:43:32]\r\n        at org.apache.lucene.util.automaton.RegExp.parseConcatExp(RegExp.java:1040) ~[lucene-core-6.4.1.jar:6.4.1 72f75b2503fa0aa4f0aff76d439874feb923bb0e - jpountz - 2017-02-01 14:43:32]\r\n        at org.apache.lucene.util.automaton.RegExp.parseConcatExp(RegExp.java:1042) ~[lucene-core-6.4.1.jar:6.4.1 72f75b2503fa0aa4f0aff76d439874feb923bb0e - jpountz - 2017-02-01 14:43:32]\r\n        at org.apache.lucene.util.automaton.RegExp.parseConcatExp(RegExp.java:1042) ~[lucene-core-6.4.1.jar:6.4.1 72f75b2503fa0aa4f0aff76d439874feb923bb0e - jpountz - 2017-02-01 14:43:32]\r\n        at org.apache.lucene.util.automaton.RegExp.parseConcatExp(RegExp.java:1042) ~[lucene-core-6.4.1.jar:6.4.1 72f75b2503fa0aa4f0aff76d439874feb923bb0e - jpountz - 2017-02-01 14:43:32]\r\n   \r\n**Steps to reproduce**:\r\n\r\n\r\n**Provide logs (if relevant)**:\r\n\r\n\r\n","closed_by":{"login":"dnhatn","id":13474362,"node_id":"MDQ6VXNlcjEzNDc0MzYy","avatar_url":"https://avatars3.githubusercontent.com/u/13474362?v=4","gravatar_id":"","url":"https://api.github.com/users/dnhatn","html_url":"https://github.com/dnhatn","followers_url":"https://api.github.com/users/dnhatn/followers","following_url":"https://api.github.com/users/dnhatn/following{/other_user}","gists_url":"https://api.github.com/users/dnhatn/gists{/gist_id}","starred_url":"https://api.github.com/users/dnhatn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dnhatn/subscriptions","organizations_url":"https://api.github.com/users/dnhatn/orgs","repos_url":"https://api.github.com/users/dnhatn/repos","events_url":"https://api.github.com/users/dnhatn/events{/privacy}","received_events_url":"https://api.github.com/users/dnhatn/received_events","type":"User","site_admin":false},"performed_via_github_app":null}