{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/43550","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43550/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43550/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/43550/events","html_url":"https://github.com/elastic/elasticsearch/issues/43550","id":460103930,"node_id":"MDU6SXNzdWU0NjAxMDM5MzA=","number":43550,"title":"add cumulative and/or incremental cardinality date histogram","user":{"login":"LeeDr","id":13542669,"node_id":"MDQ6VXNlcjEzNTQyNjY5","avatar_url":"https://avatars1.githubusercontent.com/u/13542669?v=4","gravatar_id":"","url":"https://api.github.com/users/LeeDr","html_url":"https://github.com/LeeDr","followers_url":"https://api.github.com/users/LeeDr/followers","following_url":"https://api.github.com/users/LeeDr/following{/other_user}","gists_url":"https://api.github.com/users/LeeDr/gists{/gist_id}","starred_url":"https://api.github.com/users/LeeDr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LeeDr/subscriptions","organizations_url":"https://api.github.com/users/LeeDr/orgs","repos_url":"https://api.github.com/users/LeeDr/repos","events_url":"https://api.github.com/users/LeeDr/events{/privacy}","received_events_url":"https://api.github.com/users/LeeDr/received_events","type":"User","site_admin":false},"labels":[{"id":141141324,"node_id":"MDU6TGFiZWwxNDExNDEzMjQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Analytics/Aggregations","name":":Analytics/Aggregations","color":"0e8a16","default":false,"description":"Aggregations"},{"id":23172,"node_id":"MDU6TGFiZWwyMzE3Mg==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Efeature","name":">feature","color":"006b75","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2019-06-24T21:26:46Z","updated_at":"2020-06-30T17:56:01Z","closed_at":"2019-08-26T14:43:25Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the feature**: I've seen several requests in Elasticsearch and Kibana to query for cumulative or incremental cardinality counts over time and it doesn't currently seem possible.  Several Elasticsearch developers discussed on Slack for over an hour and didn't really find a solution.  Older discuss posts still show up in query results with no solutions.\r\n\r\nFor example;\r\n\r\ndate | user\r\n------|-------\r\n2019-06-20 | \"a\"\r\n2019-06-20 | \"b\"\r\n2019-06-20 | \"c\"\r\n2019-06-21 | \"a\"\r\n2019-06-21 | \"d\"\r\n\r\nIn the above docs, unique count on a daily date histogram buckets would show\r\n2019-06-20 3\r\n2019-06-21 2\r\n\r\nBut many people want to know new unique visitors to their website from their data.  The cumulative values would be;\r\n2019-06-20 3\r\n2019-06-21 4 (because \"a\" was already counted on the 20th so \"d\" is new)\r\n\r\nOr the incremental values would be;\r\n2019-06-20 3\r\n2019-06-21 1 (1 new unique visitor in this 2 day time span)\r\n\r\nOne example discuss post; https://discuss.elastic.co/t/how-can-i-get-a-date-histogram-cumulative-cardinality/58067\r\n\r\nhttps://discuss.elastic.co/t/cardinality-over-date-histogram/171373\r\n\r\nThe next step would be to get Kibana to be able to use this type of aggregation for posts like this;\r\nhttps://discuss.elastic.co/t/how-to-calculate-daily-new-users-to-a-website/186214\r\n\r\nMost cases I've seen people just want the cardinality count.  But they could actually want the unique values in some cases.\r\n","closed_by":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"performed_via_github_app":null}