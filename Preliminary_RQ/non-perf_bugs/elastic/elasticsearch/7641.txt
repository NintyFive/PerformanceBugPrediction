{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/7641","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7641/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7641/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7641/events","html_url":"https://github.com/elastic/elasticsearch/issues/7641","id":42198626,"node_id":"MDU6SXNzdWU0MjE5ODYyNg==","number":7641,"title":"Duplicate results with completion suggester","user":{"login":"petard","id":947001,"node_id":"MDQ6VXNlcjk0NzAwMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/947001?v=4","gravatar_id":"","url":"https://api.github.com/users/petard","html_url":"https://github.com/petard","followers_url":"https://api.github.com/users/petard/followers","following_url":"https://api.github.com/users/petard/following{/other_user}","gists_url":"https://api.github.com/users/petard/gists{/gist_id}","starred_url":"https://api.github.com/users/petard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/petard/subscriptions","organizations_url":"https://api.github.com/users/petard/orgs","repos_url":"https://api.github.com/users/petard/repos","events_url":"https://api.github.com/users/petard/events{/privacy}","received_events_url":"https://api.github.com/users/petard/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"areek","id":753679,"node_id":"MDQ6VXNlcjc1MzY3OQ==","avatar_url":"https://avatars1.githubusercontent.com/u/753679?v=4","gravatar_id":"","url":"https://api.github.com/users/areek","html_url":"https://github.com/areek","followers_url":"https://api.github.com/users/areek/followers","following_url":"https://api.github.com/users/areek/following{/other_user}","gists_url":"https://api.github.com/users/areek/gists{/gist_id}","starred_url":"https://api.github.com/users/areek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areek/subscriptions","organizations_url":"https://api.github.com/users/areek/orgs","repos_url":"https://api.github.com/users/areek/repos","events_url":"https://api.github.com/users/areek/events{/privacy}","received_events_url":"https://api.github.com/users/areek/received_events","type":"User","site_admin":false},"assignees":[{"login":"areek","id":753679,"node_id":"MDQ6VXNlcjc1MzY3OQ==","avatar_url":"https://avatars1.githubusercontent.com/u/753679?v=4","gravatar_id":"","url":"https://api.github.com/users/areek","html_url":"https://github.com/areek","followers_url":"https://api.github.com/users/areek/followers","following_url":"https://api.github.com/users/areek/following{/other_user}","gists_url":"https://api.github.com/users/areek/gists{/gist_id}","starred_url":"https://api.github.com/users/areek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areek/subscriptions","organizations_url":"https://api.github.com/users/areek/orgs","repos_url":"https://api.github.com/users/areek/repos","events_url":"https://api.github.com/users/areek/events{/privacy}","received_events_url":"https://api.github.com/users/areek/received_events","type":"User","site_admin":false}],"milestone":null,"comments":5,"created_at":"2014-09-08T13:58:05Z","updated_at":"2014-12-11T20:37:44Z","closed_at":"2014-12-11T20:37:44Z","author_association":"NONE","active_lock_reason":null,"body":"Given the following document\n\n`{\n ...\n \"input\" : [\"foobar\", \"barfoo\", \"foo\"]\n ...\n}`\n\nand the query `foo`, the document will show up twice in the result set when using completion suggester. I'm currently using a custom method to clean my input data to make sure the same prefix is not being used twice for a given document but it somehow feels wrong. With a regular search a document will also not show multiple times if a keyword is contained more than once in the document, is the completion suggester working this way by design?\n","closed_by":{"login":"areek","id":753679,"node_id":"MDQ6VXNlcjc1MzY3OQ==","avatar_url":"https://avatars1.githubusercontent.com/u/753679?v=4","gravatar_id":"","url":"https://api.github.com/users/areek","html_url":"https://github.com/areek","followers_url":"https://api.github.com/users/areek/followers","following_url":"https://api.github.com/users/areek/following{/other_user}","gists_url":"https://api.github.com/users/areek/gists{/gist_id}","starred_url":"https://api.github.com/users/areek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/areek/subscriptions","organizations_url":"https://api.github.com/users/areek/orgs","repos_url":"https://api.github.com/users/areek/repos","events_url":"https://api.github.com/users/areek/events{/privacy}","received_events_url":"https://api.github.com/users/areek/received_events","type":"User","site_admin":false},"performed_via_github_app":null}