{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/8945","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8945/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8945/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8945/events","html_url":"https://github.com/elastic/elasticsearch/issues/8945","id":51930839,"node_id":"MDU6SXNzdWU1MTkzMDgzOQ==","number":8945,"title":"IndicesExistsResponse.isExists() not working for embedded ElasticSearch instance","user":{"login":"sausax","id":481150,"node_id":"MDQ6VXNlcjQ4MTE1MA==","avatar_url":"https://avatars0.githubusercontent.com/u/481150?v=4","gravatar_id":"","url":"https://api.github.com/users/sausax","html_url":"https://github.com/sausax","followers_url":"https://api.github.com/users/sausax/followers","following_url":"https://api.github.com/users/sausax/following{/other_user}","gists_url":"https://api.github.com/users/sausax/gists{/gist_id}","starred_url":"https://api.github.com/users/sausax/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sausax/subscriptions","organizations_url":"https://api.github.com/users/sausax/orgs","repos_url":"https://api.github.com/users/sausax/repos","events_url":"https://api.github.com/users/sausax/events{/privacy}","received_events_url":"https://api.github.com/users/sausax/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"assignees":[{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false}],"milestone":null,"comments":11,"created_at":"2014-12-14T20:37:40Z","updated_at":"2018-01-02T09:11:01Z","closed_at":"2014-12-21T10:55:11Z","author_association":"NONE","active_lock_reason":null,"body":"Hi,\n\nI am using the following java code to create instance of ElasticSearch instance and create a index called \"testindex\".\n\n```\nNode node = NodeBuilder.nodeBuilder().settings(ImmutableSettings.settingsBuilder()\n                                                      .put(\"path.data\", \"/etc/elasticsearch\")\n                                                      .put(\"cluster.name\", \"testcluster\"))\n                                      .node();\nClient client = node.client();\nIndicesAdminClient indices = client.admin().indices();\nIndicesExistsResponse res = indices.prepareExists(\"testindex\").execute().actionGet();\nif(!res.isExists()){ //Everytime getting value as false\n  CreateIndexRequestBuilder createIndexRequestBuilder = indices.prepareCreate(\"testindex\");\n  createIndexRequestBuilder.execute().actionGet(); // Erring out with IndexAlreadyExistsException\n}\n```\n\nBefore creating the index I am checking whether index exists or not, I only create the index if it exists.\nSecond time when I am running the above code, it fails with IndexAlreadyExistsException.\nIt seems like the IndicesExistsResponse.isExists() is not behaving correctly.\n\nAbove code works fine if default elasticsearch.yml file is present in the classpath. \n","closed_by":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"performed_via_github_app":null}