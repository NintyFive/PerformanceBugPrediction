[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/364502193","html_url":"https://github.com/elastic/elasticsearch/issues/28600#issuecomment-364502193","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28600","id":364502193,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDUwMjE5Mw==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2018-02-09T17:31:07Z","updated_at":"2018-02-09T17:31:07Z","author_association":"CONTRIBUTOR","body":"It looks like this has only happened one other time:\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+multijob-unix-compatibility/os=fedora/647/console\r\n\r\n\r\nHunting!","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/364548445","html_url":"https://github.com/elastic/elasticsearch/issues/28600#issuecomment-364548445","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28600","id":364548445,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NDU0ODQ0NQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2018-02-09T20:03:57Z","updated_at":"2018-02-09T20:03:57Z","author_association":"CONTRIBUTOR","body":"I can't reproduce and don't have any hints on how this happened. I'm going to set it down until it happens again.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/365305902","html_url":"https://github.com/elastic/elasticsearch/issues/28600#issuecomment-365305902","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28600","id":365305902,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTMwNTkwMg==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2018-02-13T15:43:30Z","updated_at":"2018-02-13T15:43:30Z","author_association":"CONTRIBUTOR","body":"I thought one explanation might be the date warning wasn't actually missing but was misinterpreted by the test framework's result-parsing logic if there happened to be an additional warning.\r\n\r\nTo test that theory I tried changing the script to produce 2 deprecation warnings, one for a date and one for an integer :\r\n\r\n    source: \"doc['date'].date +' '+ doc['integer'].date\"\r\n\r\nSadly this didn't recreate the issue - the test reported both of the deprecation warnings as \"unexpected\" responses rather than reporting the date warning as \"missing\" as we saw in the original Jenkins failure.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/365578552","html_url":"https://github.com/elastic/elasticsearch/issues/28600#issuecomment-365578552","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28600","id":365578552,"node_id":"MDEyOklzc3VlQ29tbWVudDM2NTU3ODU1Mg==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2018-02-14T11:40:59Z","updated_at":"2018-02-14T11:40:59Z","author_association":"CONTRIBUTOR","body":">It looks like this has only happened one other time:\r\n\r\nI found another from Feb 10th: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+openjdk-java9-periodic/74 but this was a missing warning for calling getDate on a long.\r\n\r\nDid not reproduce:\r\n\r\n    ./gradlew :modules:lang-painless:integTestRunner -Dtests.seed=370B6DEF0A627F3 -Dtests.class=org.elasticsearch.painless.LangPainlessClientYamlTestSuiteIT -Dtests.method=\"test {yaml=painless/50_script_doc_values/long}\" -Dtests.security.manager=true -Dtests.locale=hu-HU -Dtests.timezone=Australia/LHI\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/373005137","html_url":"https://github.com/elastic/elasticsearch/issues/28600#issuecomment-373005137","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28600","id":373005137,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzAwNTEzNw==","user":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"created_at":"2018-03-14T12:34:46Z","updated_at":"2018-03-14T12:34:46Z","author_association":"CONTRIBUTOR","body":"more failures here: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+oracle-java10-periodic/171/console","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/373078013","html_url":"https://github.com/elastic/elasticsearch/issues/28600#issuecomment-373078013","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28600","id":373078013,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzA3ODAxMw==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2018-03-14T16:07:28Z","updated_at":"2018-03-14T16:07:28Z","author_association":"CONTRIBUTOR","body":"I shelled into the node that ran https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+oracle-java10-periodic/171/console and it *did* log the deprecation warning that the test claimed wasn't returned:\r\n\r\n```\r\n[2018-03-14T11:50:38,780][WARN ][o.e.d.i.f.ScriptDocValues$Dates] getDates is no longer necessary on date fields as the values are now dates.\r\n```\r\n\r\nSo the error is somewhere between the deprecation logging and returning the deprecations. Weird!","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/376122173","html_url":"https://github.com/elastic/elasticsearch/issues/28600#issuecomment-376122173","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28600","id":376122173,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NjEyMjE3Mw==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2018-03-26T10:36:52Z","updated_at":"2018-03-26T10:36:52Z","author_association":"CONTRIBUTOR","body":"Looking at the build-stats database I see the following failures that look like this (but none that pre-date 2018-02-07):\r\n\r\n```\r\nFebruary  7th 2018, 21:44:13.596    https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+multijob-unix-compatibility/os=fedora/647/\r\nFebruary  8th 2018, 14:54:48.391    https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+intake/1157/\r\nFebruary 10th 2018, 03:38:16.357    https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+openjdk-java9-periodic/74/\r\nFebruary 22nd 2018, 11:37:36.089    https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+intake/1252/\r\nFebruary 23rd 2018, 10:17:20.589    https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+multijob-unix-compatibility/os=debian/709/\r\nFebruary 28th 2018, 05:59:58.777    https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+multijob-unix-compatibility/os=ubuntu/728/\r\nMarch    14th 2018, 06:57:01.453    https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+multijob-unix-compatibility/os=amazon/799/\r\nMarch    14th 2018, 10:59:36.438    https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+oracle-java10-periodic/171/\r\nMarch    14th 2018, 13:05:25.079    https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+multijob-unix-compatibility/os=fedora/800/\r\nMarch    17th 2018, 15:57:33.428    https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+multijob-java-periodic/ESJAVA=java10,ESRUNTIME=java9,nodes=linux/6/\r\nMarch    21st 2018, 20:12:47.330    https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+ccr-6.x+feature-branch-periodic/497/\r\nMarch    21st 2018, 23:17:20.803    https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+multijob-unix-compatibility/os=sles/829/\r\nMarch    23rd 2018, 17:47:46.224    https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+intake/1420/\r\nMarch    24th 2018, 18:53:30.134    https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+multijob-unix-compatibility/os=oraclelinux/840/\r\nMarch    26th 2018, 01:35:40.970    https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+multijob-windows-compatibility/845/\r\n```\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/378980751","html_url":"https://github.com/elastic/elasticsearch/issues/28600#issuecomment-378980751","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28600","id":378980751,"node_id":"MDEyOklzc3VlQ29tbWVudDM3ODk4MDc1MQ==","user":{"login":"davidkyle","id":2353640,"node_id":"MDQ6VXNlcjIzNTM2NDA=","avatar_url":"https://avatars1.githubusercontent.com/u/2353640?v=4","gravatar_id":"","url":"https://api.github.com/users/davidkyle","html_url":"https://github.com/davidkyle","followers_url":"https://api.github.com/users/davidkyle/followers","following_url":"https://api.github.com/users/davidkyle/following{/other_user}","gists_url":"https://api.github.com/users/davidkyle/gists{/gist_id}","starred_url":"https://api.github.com/users/davidkyle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidkyle/subscriptions","organizations_url":"https://api.github.com/users/davidkyle/orgs","repos_url":"https://api.github.com/users/davidkyle/repos","events_url":"https://api.github.com/users/davidkyle/events{/privacy}","received_events_url":"https://api.github.com/users/davidkyle/received_events","type":"User","site_admin":false},"created_at":"2018-04-05T15:42:08Z","updated_at":"2018-04-05T15:42:08Z","author_association":"MEMBER","body":"Another occurrence: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+multijob-unix-compatibility/os=fedora/887/console","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/380144767","html_url":"https://github.com/elastic/elasticsearch/issues/28600#issuecomment-380144767","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28600","id":380144767,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDE0NDc2Nw==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2018-04-10T15:33:28Z","updated_at":"2018-04-10T15:33:28Z","author_association":"CONTRIBUTOR","body":"I'm really not sure what to do about this. I'll add it to my list to look at some more soon but I have no idea why this happens.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/380482800","html_url":"https://github.com/elastic/elasticsearch/issues/28600#issuecomment-380482800","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28600","id":380482800,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDQ4MjgwMA==","user":{"login":"albertzaharovits","id":4568420,"node_id":"MDQ6VXNlcjQ1Njg0MjA=","avatar_url":"https://avatars2.githubusercontent.com/u/4568420?v=4","gravatar_id":"","url":"https://api.github.com/users/albertzaharovits","html_url":"https://github.com/albertzaharovits","followers_url":"https://api.github.com/users/albertzaharovits/followers","following_url":"https://api.github.com/users/albertzaharovits/following{/other_user}","gists_url":"https://api.github.com/users/albertzaharovits/gists{/gist_id}","starred_url":"https://api.github.com/users/albertzaharovits/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/albertzaharovits/subscriptions","organizations_url":"https://api.github.com/users/albertzaharovits/orgs","repos_url":"https://api.github.com/users/albertzaharovits/repos","events_url":"https://api.github.com/users/albertzaharovits/events{/privacy}","received_events_url":"https://api.github.com/users/albertzaharovits/received_events","type":"User","site_admin":false},"created_at":"2018-04-11T14:56:59Z","updated_at":"2018-04-11T14:56:59Z","author_association":"CONTRIBUTOR","body":"Another data point:\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+periodic/1801/console","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/382736904","html_url":"https://github.com/elastic/elasticsearch/issues/28600#issuecomment-382736904","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28600","id":382736904,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MjczNjkwNA==","user":{"login":"romseygeek","id":1347065,"node_id":"MDQ6VXNlcjEzNDcwNjU=","avatar_url":"https://avatars0.githubusercontent.com/u/1347065?v=4","gravatar_id":"","url":"https://api.github.com/users/romseygeek","html_url":"https://github.com/romseygeek","followers_url":"https://api.github.com/users/romseygeek/followers","following_url":"https://api.github.com/users/romseygeek/following{/other_user}","gists_url":"https://api.github.com/users/romseygeek/gists{/gist_id}","starred_url":"https://api.github.com/users/romseygeek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/romseygeek/subscriptions","organizations_url":"https://api.github.com/users/romseygeek/orgs","repos_url":"https://api.github.com/users/romseygeek/repos","events_url":"https://api.github.com/users/romseygeek/events{/privacy}","received_events_url":"https://api.github.com/users/romseygeek/received_events","type":"User","site_admin":false},"created_at":"2018-04-19T13:33:02Z","updated_at":"2018-04-19T13:33:02Z","author_association":"CONTRIBUTOR","body":"Another instance:\r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+multijob-unix-compatibility/os=fedora/962/console","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/382743546","html_url":"https://github.com/elastic/elasticsearch/issues/28600#issuecomment-382743546","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28600","id":382743546,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mjc0MzU0Ng==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2018-04-19T13:51:36Z","updated_at":"2018-04-19T13:51:36Z","author_association":"CONTRIBUTOR","body":"I think I have a hint for this one and plan to fight with it soon.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/383157225","html_url":"https://github.com/elastic/elasticsearch/issues/28600#issuecomment-383157225","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28600","id":383157225,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzE1NzIyNQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2018-04-20T16:53:05Z","updated_at":"2018-04-20T16:53:05Z","author_association":"CONTRIBUTOR","body":"So I've been able to reproduce this locally but not without changing the test in weird ways. It is similar enough for me to decide that the cause is something like #19222.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/383164654","html_url":"https://github.com/elastic/elasticsearch/issues/28600#issuecomment-383164654","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28600","id":383164654,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzE2NDY1NA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2018-04-20T17:21:13Z","updated_at":"2018-04-20T17:21:13Z","author_association":"CONTRIBUTOR","body":"So I can make this happen by adding a second document, making sure that document is routed to another shard, skipping the thing that causes the warning on the second document, and by adding a sleep so the second document comes back last. Instead of combining the response headers we just take the response headers from the last response. Since the last response doesn't contain the warning, boom. Now, the question is, \"how could this happen without a second document?\"\r\n\r\nI think tracing the transport service might be in order here.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/383202058","html_url":"https://github.com/elastic/elasticsearch/issues/28600#issuecomment-383202058","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28600","id":383202058,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MzIwMjA1OA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2018-04-20T19:45:13Z","updated_at":"2018-04-20T19:45:13Z","author_association":"CONTRIBUTOR","body":"Another trick might be to set the number of shards in the test index to 1 and see if the issue goes away.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/383960959","html_url":"https://github.com/elastic/elasticsearch/issues/28600#issuecomment-383960959","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28600","id":383960959,"node_id":"MDEyOklzc3VlQ29tbWVudDM4Mzk2MDk1OQ==","user":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"created_at":"2018-04-24T14:49:20Z","updated_at":"2018-04-24T14:49:20Z","author_association":"CONTRIBUTOR","body":"Another instance in \r\nhttps://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.x+release-tests/683/console\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/385013094","html_url":"https://github.com/elastic/elasticsearch/issues/28600#issuecomment-385013094","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28600","id":385013094,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTAxMzA5NA==","user":{"login":"jdconrad","id":2126764,"node_id":"MDQ6VXNlcjIxMjY3NjQ=","avatar_url":"https://avatars2.githubusercontent.com/u/2126764?v=4","gravatar_id":"","url":"https://api.github.com/users/jdconrad","html_url":"https://github.com/jdconrad","followers_url":"https://api.github.com/users/jdconrad/followers","following_url":"https://api.github.com/users/jdconrad/following{/other_user}","gists_url":"https://api.github.com/users/jdconrad/gists{/gist_id}","starred_url":"https://api.github.com/users/jdconrad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdconrad/subscriptions","organizations_url":"https://api.github.com/users/jdconrad/orgs","repos_url":"https://api.github.com/users/jdconrad/repos","events_url":"https://api.github.com/users/jdconrad/events{/privacy}","received_events_url":"https://api.github.com/users/jdconrad/received_events","type":"User","site_admin":false},"created_at":"2018-04-27T15:51:47Z","updated_at":"2018-04-27T15:51:47Z","author_association":"CONTRIBUTOR","body":"@nik9000 Seems like you have a good handle on this issue, would it be all right if I assigned it over to you?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/385024523","html_url":"https://github.com/elastic/elasticsearch/issues/28600#issuecomment-385024523","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28600","id":385024523,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTAyNDUyMw==","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"created_at":"2018-04-27T16:34:41Z","updated_at":"2018-04-27T16:34:41Z","author_association":"CONTRIBUTOR","body":"Another example in https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.3+intake/15/console","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/385047890","html_url":"https://github.com/elastic/elasticsearch/issues/28600#issuecomment-385047890","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28600","id":385047890,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTA0Nzg5MA==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2018-04-27T17:59:45Z","updated_at":"2018-04-27T18:15:26Z","author_association":"CONTRIBUTOR","body":"> @nik9000 Seems like you have a good handle on this issue, would it be all right if I assigned it over to you?\r\n\r\nDone.\r\n\r\nPainless is not at fault here. It is just that it is the only place where we have an integration test that logs warnings during the fan-out portions of a search.\r\n\r\nI spent most of last Friday poking at this one and was able to reproduce a *similar* issue but not this issue. I *could* fix that issue and hope that this one vanishes but I'm worried I'd hide something.\r\n\r\nI *can* push something that *might* silence the failures. And if it does then it'll give us more information. I'll see about doing that this afternoon.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/385079819","html_url":"https://github.com/elastic/elasticsearch/issues/28600#issuecomment-385079819","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28600","id":385079819,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NTA3OTgxOQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2018-04-27T20:05:29Z","updated_at":"2018-04-27T20:05:29Z","author_association":"CONTRIBUTOR","body":"I've pushed 8401eac425d0440c0e860fb14cd112be2f8c01df (and backports) and left myself a note to see if that fixes the problem. If it does we have another bug to fix, but the test won't be failing so that is a plus.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/386581614","html_url":"https://github.com/elastic/elasticsearch/issues/28600#issuecomment-386581614","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28600","id":386581614,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NjU4MTYxNA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2018-05-04T12:09:02Z","updated_at":"2018-05-04T12:09:02Z","author_association":"MEMBER","body":"> If it does we have another bug to fix, but the test won't be failing so that is a plus.\r\n\r\nThis has not failed since changing to one shard. 😐 ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/387187397","html_url":"https://github.com/elastic/elasticsearch/issues/28600#issuecomment-387187397","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28600","id":387187397,"node_id":"MDEyOklzc3VlQ29tbWVudDM4NzE4NzM5Nw==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2018-05-07T20:06:33Z","updated_at":"2018-05-07T20:06:33Z","author_association":"CONTRIBUTOR","body":"> This has not failed since changing to one shard. neutral_face\r\n\r\nI had it on my list to check that today. Do you want to close this because it is *technically* gone but we've not really figured out the mechanism of action? I'm not 100% comfortable with that but I understand that I can't figure out all the mysteries.","performed_via_github_app":null}]