[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/347658051","html_url":"https://github.com/elastic/elasticsearch/issues/27570#issuecomment-347658051","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27570","id":347658051,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NzY1ODA1MQ==","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2017-11-28T20:46:07Z","updated_at":"2017-11-28T20:46:07Z","author_association":"MEMBER","body":"I have muted these tests in 6.x, they don't let the intake job to pass.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/362527013","html_url":"https://github.com/elastic/elasticsearch/issues/27570#issuecomment-362527013","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27570","id":362527013,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MjUyNzAxMw==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2018-02-02T09:03:41Z","updated_at":"2018-02-02T09:03:41Z","author_association":"MEMBER","body":"I think problem is that in `ESClientYamlSuiteTestCase#readVersionsFromCatNodes()` instead of picking the lowest node version, the highest version is picked. I think that should be changed:\r\n\r\n```diff\r\ndiff --git a/test/framework/src/main/java/org/elasticsearch/test/rest/yaml/ESClientYamlSuiteTestCase.java b/test/framework/src/main/java/org/elasticsearch/test/rest/yaml/ESClientYamlSuiteTestCase.java\r\nindex 92021dc5a7..09e2dfbca7 100644\r\n--- a/test/framework/src/main/java/org/elasticsearch/test/rest/yaml/ESClientYamlSuiteTestCase.java\r\n+++ b/test/framework/src/main/java/org/elasticsearch/test/rest/yaml/ESClientYamlSuiteTestCase.java\r\n@@ -264,7 +264,7 @@ public abstract class ESClientYamlSuiteTestCase extends ESRestTestCase {\r\n             }\r\n             if (version == null) {\r\n                 version = currentVersion;\r\n-            } else if (version.onOrAfter(currentVersion)) {\r\n+            } else if (version.onOrBefore(currentVersion)) {\r\n                 version = currentVersion;\r\n             }\r\n         }\r\n```\r\n\r\nIf this change is made then in case of a mixed cluster these tests that are now disabled run successfully, because then these tests will only if the cluster has been completed upgraded. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/363106796","html_url":"https://github.com/elastic/elasticsearch/issues/27570#issuecomment-363106796","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27570","id":363106796,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MzEwNjc5Ng==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2018-02-05T14:50:50Z","updated_at":"2018-02-05T14:50:50Z","author_association":"MEMBER","body":"It turns out that the wrong version exclusion was used, I'll enable these test soon.","performed_via_github_app":null}]