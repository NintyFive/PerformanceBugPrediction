[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/522947013","html_url":"https://github.com/elastic/elasticsearch/issues/45717#issuecomment-522947013","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45717","id":522947013,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMjk0NzAxMw==","user":{"login":"unlikezy","id":3445204,"node_id":"MDQ6VXNlcjM0NDUyMDQ=","avatar_url":"https://avatars1.githubusercontent.com/u/3445204?v=4","gravatar_id":"","url":"https://api.github.com/users/unlikezy","html_url":"https://github.com/unlikezy","followers_url":"https://api.github.com/users/unlikezy/followers","following_url":"https://api.github.com/users/unlikezy/following{/other_user}","gists_url":"https://api.github.com/users/unlikezy/gists{/gist_id}","starred_url":"https://api.github.com/users/unlikezy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/unlikezy/subscriptions","organizations_url":"https://api.github.com/users/unlikezy/orgs","repos_url":"https://api.github.com/users/unlikezy/repos","events_url":"https://api.github.com/users/unlikezy/events{/privacy}","received_events_url":"https://api.github.com/users/unlikezy/received_events","type":"User","site_admin":false},"created_at":"2019-08-20T10:06:54Z","updated_at":"2019-08-20T10:41:48Z","author_association":"NONE","body":"I encounter the exactly same situation.\r\nWhat I want to add is:\r\nif you disable realtime when get\r\n```\r\nGET test/_doc/1?realtime=false\r\n```\r\nthe result will be:\r\n```\r\n{\r\n  \"_index\" : \"test\",\r\n  \"_type\" : \"_doc\",\r\n  \"_id\" : \"1\",\r\n  \"found\" : false\r\n}\r\n```\r\nand if you enable realtime, which is default, you can get the doc:\r\n```\r\nGET test/_doc/1?realtime=true\r\n```\r\n```\r\n{\r\n  \"_index\" : \"test\",\r\n  \"_type\" : \"_doc\",\r\n  \"_id\" : \"1\",\r\n  \"_version\" : 1,\r\n  \"_seq_no\" : 0,\r\n  \"_primary_term\" : 1,\r\n  \"found\" : true,\r\n  \"_source\" : {\r\n    \"foo\" : \"bar\"\r\n  }\r\n}\r\n```\r\n\r\nChanging HTTP method from GET to HEAD in above examples also illustrate this problem, but might see this more clearly.\r\n\r\nI am curious about why GET work without refreshing data into Lucene index, and how is the performance.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/523071753","html_url":"https://github.com/elastic/elasticsearch/issues/45717#issuecomment-523071753","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45717","id":523071753,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzA3MTc1Mw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-08-20T15:38:34Z","updated_at":"2019-08-20T15:38:34Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/523072816","html_url":"https://github.com/elastic/elasticsearch/issues/45717#issuecomment-523072816","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45717","id":523072816,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMzA3MjgxNg==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-08-20T15:41:08Z","updated_at":"2019-08-20T15:41:08Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-docs","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/538444129","html_url":"https://github.com/elastic/elasticsearch/issues/45717#issuecomment-538444129","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45717","id":538444129,"node_id":"MDEyOklzc3VlQ29tbWVudDUzODQ0NDEyOQ==","user":{"login":"jrodewig","id":40268737,"node_id":"MDQ6VXNlcjQwMjY4NzM3","avatar_url":"https://avatars1.githubusercontent.com/u/40268737?v=4","gravatar_id":"","url":"https://api.github.com/users/jrodewig","html_url":"https://github.com/jrodewig","followers_url":"https://api.github.com/users/jrodewig/followers","following_url":"https://api.github.com/users/jrodewig/following{/other_user}","gists_url":"https://api.github.com/users/jrodewig/gists{/gist_id}","starred_url":"https://api.github.com/users/jrodewig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrodewig/subscriptions","organizations_url":"https://api.github.com/users/jrodewig/orgs","repos_url":"https://api.github.com/users/jrodewig/repos","events_url":"https://api.github.com/users/jrodewig/events{/privacy}","received_events_url":"https://api.github.com/users/jrodewig/received_events","type":"User","site_admin":false},"created_at":"2019-10-04T15:23:25Z","updated_at":"2019-10-04T15:23:25Z","author_association":"CONTRIBUTOR","body":"[docs issue triage]\r\n\r\nLeaving open as this is still relevant.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/560466760","html_url":"https://github.com/elastic/elasticsearch/issues/45717#issuecomment-560466760","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/45717","id":560466760,"node_id":"MDEyOklzc3VlQ29tbWVudDU2MDQ2Njc2MA==","user":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"created_at":"2019-12-02T16:18:09Z","updated_at":"2019-12-02T16:18:09Z","author_association":"CONTRIBUTOR","body":"The documentation was imprecise here. ES distinguishes between internal and external refreshes. Internal refreshes are used to build segments, whereas external refreshes are used to expose these newly built segments. In case where a document is accessed using a realtime get, and the document is still in the Lucene buffer (i.e. not internally refreshed yet), Elasticsearch triggers an internal refresh. This is why you can't observed the \"internally refreshed\" document.\r\n\r\nNote that all of this is changing in ES 7.6+ (see #48843). From that version on, realtime get will not trigger a refresh anymore, making all these explanations moot. The docs in newer versions have been updated to that effect.","performed_via_github_app":null}]