[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/70553213","html_url":"https://github.com/elastic/elasticsearch/issues/9348#issuecomment-70553213","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9348","id":70553213,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTUzMjEz","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-01-19T20:11:47Z","updated_at":"2015-01-19T20:11:47Z","author_association":"CONTRIBUTOR","body":"Hi @rtoma \n\nIt wasn't a bug in Elasticsearch, but there was a bug in the JVM and in the Linux kernel which caused problems.  I don't know the status of these bugs, but I would hope they have been fixed by now?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/70821378","html_url":"https://github.com/elastic/elasticsearch/issues/9348#issuecomment-70821378","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9348","id":70821378,"node_id":"MDEyOklzc3VlQ29tbWVudDcwODIxMzc4","user":{"login":"jprante","id":635745,"node_id":"MDQ6VXNlcjYzNTc0NQ==","avatar_url":"https://avatars1.githubusercontent.com/u/635745?v=4","gravatar_id":"","url":"https://api.github.com/users/jprante","html_url":"https://github.com/jprante","followers_url":"https://api.github.com/users/jprante/followers","following_url":"https://api.github.com/users/jprante/following{/other_user}","gists_url":"https://api.github.com/users/jprante/gists{/gist_id}","starred_url":"https://api.github.com/users/jprante/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jprante/subscriptions","organizations_url":"https://api.github.com/users/jprante/orgs","repos_url":"https://api.github.com/users/jprante/repos","events_url":"https://api.github.com/users/jprante/events{/privacy}","received_events_url":"https://api.github.com/users/jprante/received_events","type":"User","site_admin":false},"created_at":"2015-01-21T11:21:26Z","updated_at":"2015-01-21T11:21:26Z","author_association":"CONTRIBUTOR","body":"@rtoma shutting down Elasticsearch will not help. Here are my recommendations: please take care to use the latest Linux kernel available at the end of June 2015. If you use ntpd, stopping ntpd before leap second insertion and starting ntpd after leap second insertion might help, in case the patched tzdata is not applied. In all cases, rebooting the server will also help to remedy high JVM CPU load.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/72182097","html_url":"https://github.com/elastic/elasticsearch/issues/9348#issuecomment-72182097","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9348","id":72182097,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMTgyMDk3","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-01-30T10:32:10Z","updated_at":"2015-01-30T10:32:10Z","author_association":"CONTRIBUTOR","body":"Probably the easiest way to test this is to set the time to just before the leap second is supposed to be added, and see what happens.  This of course requires your system to already have an updated tzdata, which I think will not be the case for most systems until closer to the time.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/87990407","html_url":"https://github.com/elastic/elasticsearch/issues/9348#issuecomment-87990407","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9348","id":87990407,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTkwNDA3","user":{"login":"jpjp","id":6050800,"node_id":"MDQ6VXNlcjYwNTA4MDA=","avatar_url":"https://avatars0.githubusercontent.com/u/6050800?v=4","gravatar_id":"","url":"https://api.github.com/users/jpjp","html_url":"https://github.com/jpjp","followers_url":"https://api.github.com/users/jpjp/followers","following_url":"https://api.github.com/users/jpjp/following{/other_user}","gists_url":"https://api.github.com/users/jpjp/gists{/gist_id}","starred_url":"https://api.github.com/users/jpjp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpjp/subscriptions","organizations_url":"https://api.github.com/users/jpjp/orgs","repos_url":"https://api.github.com/users/jpjp/repos","events_url":"https://api.github.com/users/jpjp/events{/privacy}","received_events_url":"https://api.github.com/users/jpjp/received_events","type":"User","site_admin":false},"created_at":"2015-03-31T08:11:56Z","updated_at":"2015-03-31T08:11:56Z","author_association":"NONE","body":"@jprante I think the information you posted is incorrect. If a system uses ntpd, it will receive the leap second from higher stratum servers automatically. If it is not using ntpd, the tzdata update is required. There is no need to stop and start ntpd unless you are running a very old kernel.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/87998942","html_url":"https://github.com/elastic/elasticsearch/issues/9348#issuecomment-87998942","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9348","id":87998942,"node_id":"MDEyOklzc3VlQ29tbWVudDg3OTk4OTQy","user":{"login":"jprante","id":635745,"node_id":"MDQ6VXNlcjYzNTc0NQ==","avatar_url":"https://avatars1.githubusercontent.com/u/635745?v=4","gravatar_id":"","url":"https://api.github.com/users/jprante","html_url":"https://github.com/jprante","followers_url":"https://api.github.com/users/jprante/followers","following_url":"https://api.github.com/users/jprante/following{/other_user}","gists_url":"https://api.github.com/users/jprante/gists{/gist_id}","starred_url":"https://api.github.com/users/jprante/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jprante/subscriptions","organizations_url":"https://api.github.com/users/jprante/orgs","repos_url":"https://api.github.com/users/jprante/repos","events_url":"https://api.github.com/users/jprante/events{/privacy}","received_events_url":"https://api.github.com/users/jprante/received_events","type":"User","site_admin":false},"created_at":"2015-03-31T08:50:59Z","updated_at":"2015-03-31T08:50:59Z","author_association":"CONTRIBUTOR","body":"@jpjp ntpd will only signal the kernel to apply a leap second. The bug is that some kernels do instantaneously perform the system clock change when the leap second event arrives.\n\nI do not know what you mean by \"very old kernel\". The correct tzdata 2015a appeared in February 2015. Most systems are affected that run unpatched RHEL 6, and also RHEL 7, where a fix is still under development, as noted in https://access.redhat.com/solutions/1379783 \n\nFor Debian (Ubuntu), you must run a system which is patched with this tzdata update from February https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=775161 and I think many systems are not patched yet.\n\nRestarting ntpd will always help in case you do not know what to do else to remedy the situation. See also Red Hat leap second guide at https://access.redhat.com/articles/15145 for an overview how systems are affected.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/88008650","html_url":"https://github.com/elastic/elasticsearch/issues/9348#issuecomment-88008650","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9348","id":88008650,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDA4NjUw","user":{"login":"jpjp","id":6050800,"node_id":"MDQ6VXNlcjYwNTA4MDA=","avatar_url":"https://avatars0.githubusercontent.com/u/6050800?v=4","gravatar_id":"","url":"https://api.github.com/users/jpjp","html_url":"https://github.com/jpjp","followers_url":"https://api.github.com/users/jpjp/followers","following_url":"https://api.github.com/users/jpjp/following{/other_user}","gists_url":"https://api.github.com/users/jpjp/gists{/gist_id}","starred_url":"https://api.github.com/users/jpjp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpjp/subscriptions","organizations_url":"https://api.github.com/users/jpjp/orgs","repos_url":"https://api.github.com/users/jpjp/repos","events_url":"https://api.github.com/users/jpjp/events{/privacy}","received_events_url":"https://api.github.com/users/jpjp/received_events","type":"User","site_admin":false},"created_at":"2015-03-31T09:13:40Z","updated_at":"2015-03-31T09:14:20Z","author_association":"NONE","body":"@jprante Yep. Kernels before RHEL6.3's 2.6.32-279.5.2.el6 have the deadlock problem (that kernel is two and a half years old), but anything newer than that doesn't. Newer tzdata is not necessary if you are running ntpd - check the red hat article you link to.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/88013304","html_url":"https://github.com/elastic/elasticsearch/issues/9348#issuecomment-88013304","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9348","id":88013304,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDEzMzA0","user":{"login":"jprante","id":635745,"node_id":"MDQ6VXNlcjYzNTc0NQ==","avatar_url":"https://avatars1.githubusercontent.com/u/635745?v=4","gravatar_id":"","url":"https://api.github.com/users/jprante","html_url":"https://github.com/jprante","followers_url":"https://api.github.com/users/jprante/followers","following_url":"https://api.github.com/users/jprante/following{/other_user}","gists_url":"https://api.github.com/users/jprante/gists{/gist_id}","starred_url":"https://api.github.com/users/jprante/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jprante/subscriptions","organizations_url":"https://api.github.com/users/jprante/orgs","repos_url":"https://api.github.com/users/jprante/repos","events_url":"https://api.github.com/users/jprante/events{/privacy}","received_events_url":"https://api.github.com/users/jprante/received_events","type":"User","site_admin":false},"created_at":"2015-03-31T09:28:57Z","updated_at":"2015-03-31T09:28:57Z","author_association":"CONTRIBUTOR","body":"If you are unsure, simply run the script at https://access.redhat.com/labs/leapsecond/\n\nIt will check for Kernel version and tzdata-2105a, so it covers all conditions.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/88033227","html_url":"https://github.com/elastic/elasticsearch/issues/9348#issuecomment-88033227","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9348","id":88033227,"node_id":"MDEyOklzc3VlQ29tbWVudDg4MDMzMjI3","user":{"login":"jpjp","id":6050800,"node_id":"MDQ6VXNlcjYwNTA4MDA=","avatar_url":"https://avatars0.githubusercontent.com/u/6050800?v=4","gravatar_id":"","url":"https://api.github.com/users/jpjp","html_url":"https://github.com/jpjp","followers_url":"https://api.github.com/users/jpjp/followers","following_url":"https://api.github.com/users/jpjp/following{/other_user}","gists_url":"https://api.github.com/users/jpjp/gists{/gist_id}","starred_url":"https://api.github.com/users/jpjp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpjp/subscriptions","organizations_url":"https://api.github.com/users/jpjp/orgs","repos_url":"https://api.github.com/users/jpjp/repos","events_url":"https://api.github.com/users/jpjp/events{/privacy}","received_events_url":"https://api.github.com/users/jpjp/received_events","type":"User","site_admin":false},"created_at":"2015-03-31T10:29:27Z","updated_at":"2015-03-31T10:36:38Z","author_association":"NONE","body":"That script doesn't check if ntpd is running. If you run ntpd, you don't need a new tzdata.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/112711847","html_url":"https://github.com/elastic/elasticsearch/issues/9348#issuecomment-112711847","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9348","id":112711847,"node_id":"MDEyOklzc3VlQ29tbWVudDExMjcxMTg0Nw==","user":{"login":"markwalkom","id":3184718,"node_id":"MDQ6VXNlcjMxODQ3MTg=","avatar_url":"https://avatars0.githubusercontent.com/u/3184718?v=4","gravatar_id":"","url":"https://api.github.com/users/markwalkom","html_url":"https://github.com/markwalkom","followers_url":"https://api.github.com/users/markwalkom/followers","following_url":"https://api.github.com/users/markwalkom/following{/other_user}","gists_url":"https://api.github.com/users/markwalkom/gists{/gist_id}","starred_url":"https://api.github.com/users/markwalkom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markwalkom/subscriptions","organizations_url":"https://api.github.com/users/markwalkom/orgs","repos_url":"https://api.github.com/users/markwalkom/repos","events_url":"https://api.github.com/users/markwalkom/events{/privacy}","received_events_url":"https://api.github.com/users/markwalkom/received_events","type":"User","site_admin":false},"created_at":"2015-06-17T08:15:08Z","updated_at":"2015-06-17T08:15:08Z","author_association":"MEMBER","body":"We've now got a blog post with some guidance on this issue - https://www.elastic.co/blog/elasticsearch-2015-leap-second\n","performed_via_github_app":null}]