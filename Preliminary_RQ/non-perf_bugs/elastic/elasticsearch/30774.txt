{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/30774","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30774/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30774/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30774/events","html_url":"https://github.com/elastic/elasticsearch/issues/30774","id":325152471,"node_id":"MDU6SXNzdWUzMjUxNTI0NzE=","number":30774,"title":"NoClassDefFoundError: org/elasticsearch/plugins/ExtendedPluginsClassLoader","user":{"login":"mathgo","id":29773064,"node_id":"MDQ6VXNlcjI5NzczMDY0","avatar_url":"https://avatars0.githubusercontent.com/u/29773064?v=4","gravatar_id":"","url":"https://api.github.com/users/mathgo","html_url":"https://github.com/mathgo","followers_url":"https://api.github.com/users/mathgo/followers","following_url":"https://api.github.com/users/mathgo/following{/other_user}","gists_url":"https://api.github.com/users/mathgo/gists{/gist_id}","starred_url":"https://api.github.com/users/mathgo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mathgo/subscriptions","organizations_url":"https://api.github.com/users/mathgo/orgs","repos_url":"https://api.github.com/users/mathgo/repos","events_url":"https://api.github.com/users/mathgo/events{/privacy}","received_events_url":"https://api.github.com/users/mathgo/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":12,"created_at":"2018-05-22T06:07:57Z","updated_at":"2020-02-18T04:03:01Z","closed_at":"2018-05-22T13:19:32Z","author_association":"NONE","active_lock_reason":null,"body":"**Elasticsearch version** (`bin/elasticsearch --version`):\r\n\r\nVersion: 6.2.4\r\n\r\n**Plugins installed**: []\r\n\r\nNone\r\n\r\n**JVM version** (`java -version`):\r\n\r\njava version \"10.0.1\" 2018-04-17\r\nJava(TM) SE Runtime Environment 18.3 (build 10.0.1+10)\r\nJava HotSpot(TM) 64-Bit Server VM 18.3 (build 10.0.1+10, mixed mode)\r\n\r\n**OS version** (`uname -a` if on a Unix-like system):\r\n\r\nMacBook-Pro.local 17.5.0 Darwin Kernel Version 17.5.0\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\n\r\nI want to build ES and debug.ES6.2.4\r\n\r\n**Steps to reproduce**:\r\n\r\n1. download `https://github.com/elastic/elasticsearch/archive/v6.2.4.zip` and unzip\r\n2. `cd` && `gradle idea`\r\n3. `brew install elasticsearch`\r\n4. https://www.elastic.co/downloads/elasticsearch and download \r\n`https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-6.2.4.zip`\r\n\r\ncopy elasticsearch-6.2.4â€™s modules and plugins to `/usr/local/var/elasticsearch`\r\n\r\nin idea, \r\n\r\n```\r\n-Des.path.conf=/usr/local/etc/elasticsearch/\r\n-Des.path.home=/usr/local/var/elasticsearch/\r\n-Dlog4j2.disable.jmx=true\r\n```\r\nrun `elasticsearch-6.2.4/server/src/main/java/org/elasticsearch/bootstrap/Elasticsearch.java`\r\n\r\n**Provide logs (if relevant)**:\r\n\r\n```\r\n[2018-05-22T13:52:44,399][ERROR][o.e.b.ElasticsearchUncaughtExceptionHandler] [] fatal error in thread [main], exiting\r\njava.lang.NoClassDefFoundError: org/elasticsearch/plugins/ExtendedPluginsClassLoader\r\n\tat org.elasticsearch.plugins.PluginsService.loadBundle(PluginsService.java:494) ~[main/:?]\r\n\tat org.elasticsearch.plugins.PluginsService.loadBundles(PluginsService.java:422) ~[main/:?]\r\n\tat org.elasticsearch.plugins.PluginsService.<init>(PluginsService.java:146) ~[main/:?]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:303) ~[main/:?]\r\n\tat org.elasticsearch.node.Node.<init>(Node.java:246) ~[main/:?]\r\n\tat org.elasticsearch.bootstrap.Bootstrap$5.<init>(Bootstrap.java:213) ~[main/:?]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:213) ~[main/:?]\r\n\tat org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:323) ~[main/:?]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.init(Elasticsearch.java:121) ~[main/:?]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.execute(Elasticsearch.java:112) ~[main/:?]\r\n\tat org.elasticsearch.cli.EnvironmentAwareCommand.execute(EnvironmentAwareCommand.java:86) ~[main/:?]\r\n\tat org.elasticsearch.cli.Command.mainWithoutErrorHandling(Command.java:124) ~[main/:?]\r\n\tat org.elasticsearch.cli.Command.main(Command.java:90) ~[main/:?]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:92) ~[main/:?]\r\n\tat org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:85) ~[main/:?]\r\nCaused by: java.lang.ClassNotFoundException: org.elasticsearch.plugins.ExtendedPluginsClassLoader\r\n\tat jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582) ~[?:?]\r\n\tat jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:190) ~[?:?]\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:499) ~[?:?]\r\n\t... 15 more\r\n```\r\n","closed_by":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"performed_via_github_app":null}