[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/240645991","html_url":"https://github.com/elastic/elasticsearch/issues/20039#issuecomment-240645991","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20039","id":240645991,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MDY0NTk5MQ==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2016-08-18T07:32:13Z","updated_at":"2016-08-18T07:32:13Z","author_association":"MEMBER","body":"I agree this is confusing ;) Though this is expected, the `Fielddata` in the message does not refer to `fieldata_fields` but rather to the fielddata cache. This is stipulated in the docs:\n\n**Note that if the fields parameter specifies fields without docvalues it will try to load the value from the fielddata cache causing the terms for that field to be loaded to memory (cached), which will result in more memory consumption.**\n\nThis is what causes the exception in your recreation. The field `extension` is a text field with no docvalues so we try to load the data from the fielddata. This fails because we forbid the loading of fielddata unless you add `fielddata=true` in the field definition.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/240764910","html_url":"https://github.com/elastic/elasticsearch/issues/20039#issuecomment-240764910","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/20039","id":240764910,"node_id":"MDEyOklzc3VlQ29tbWVudDI0MDc2NDkxMA==","user":{"login":"thomasneirynck","id":1833023,"node_id":"MDQ6VXNlcjE4MzMwMjM=","avatar_url":"https://avatars2.githubusercontent.com/u/1833023?v=4","gravatar_id":"","url":"https://api.github.com/users/thomasneirynck","html_url":"https://github.com/thomasneirynck","followers_url":"https://api.github.com/users/thomasneirynck/followers","following_url":"https://api.github.com/users/thomasneirynck/following{/other_user}","gists_url":"https://api.github.com/users/thomasneirynck/gists{/gist_id}","starred_url":"https://api.github.com/users/thomasneirynck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomasneirynck/subscriptions","organizations_url":"https://api.github.com/users/thomasneirynck/orgs","repos_url":"https://api.github.com/users/thomasneirynck/repos","events_url":"https://api.github.com/users/thomasneirynck/events{/privacy}","received_events_url":"https://api.github.com/users/thomasneirynck/received_events","type":"User","site_admin":false},"created_at":"2016-08-18T15:42:45Z","updated_at":"2016-08-18T15:42:45Z","author_association":"NONE","body":"@jimferenczi thanks!\n","performed_via_github_app":null}]