[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/50674900","html_url":"https://github.com/elastic/elasticsearch/issues/7099#issuecomment-50674900","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7099","id":50674900,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNjc0OTAw","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2014-07-30T20:28:44Z","updated_at":"2014-07-30T20:28:44Z","author_association":"MEMBER","body":"@shikhar which version of elasticsearch is it?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/50705021","html_url":"https://github.com/elastic/elasticsearch/issues/7099#issuecomment-50705021","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7099","id":50705021,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNzA1MDIx","user":{"login":"shikhar","id":74267,"node_id":"MDQ6VXNlcjc0MjY3","avatar_url":"https://avatars1.githubusercontent.com/u/74267?v=4","gravatar_id":"","url":"https://api.github.com/users/shikhar","html_url":"https://github.com/shikhar","followers_url":"https://api.github.com/users/shikhar/followers","following_url":"https://api.github.com/users/shikhar/following{/other_user}","gists_url":"https://api.github.com/users/shikhar/gists{/gist_id}","starred_url":"https://api.github.com/users/shikhar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shikhar/subscriptions","organizations_url":"https://api.github.com/users/shikhar/orgs","repos_url":"https://api.github.com/users/shikhar/repos","events_url":"https://api.github.com/users/shikhar/events{/privacy}","received_events_url":"https://api.github.com/users/shikhar/received_events","type":"User","site_admin":false},"created_at":"2014-07-31T02:09:23Z","updated_at":"2014-07-31T02:09:23Z","author_association":"CONTRIBUTOR","body":"sorry i forgot to mention, it is 1.3.1\n\nindex also created with 1.3.1\n\nOn Thursday, July 31, 2014, Igor Motov notifications@github.com wrote:\n\n> @shikhar https://github.com/shikhar which version of elasticsearch is\n> it?\n> \n> â€”\n> Reply to this email directly or view it on GitHub\n> https://github.com/elasticsearch/elasticsearch/issues/7099#issuecomment-50674900\n> .\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/50712036","html_url":"https://github.com/elastic/elasticsearch/issues/7099#issuecomment-50712036","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7099","id":50712036,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNzEyMDM2","user":{"login":"shikhar","id":74267,"node_id":"MDQ6VXNlcjc0MjY3","avatar_url":"https://avatars1.githubusercontent.com/u/74267?v=4","gravatar_id":"","url":"https://api.github.com/users/shikhar","html_url":"https://github.com/shikhar","followers_url":"https://api.github.com/users/shikhar/followers","following_url":"https://api.github.com/users/shikhar/following{/other_user}","gists_url":"https://api.github.com/users/shikhar/gists{/gist_id}","starred_url":"https://api.github.com/users/shikhar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shikhar/subscriptions","organizations_url":"https://api.github.com/users/shikhar/orgs","repos_url":"https://api.github.com/users/shikhar/repos","events_url":"https://api.github.com/users/shikhar/events{/privacy}","received_events_url":"https://api.github.com/users/shikhar/received_events","type":"User","site_admin":false},"created_at":"2014-07-31T04:43:22Z","updated_at":"2014-07-31T04:43:22Z","author_association":"CONTRIBUTOR","body":"@imotov I think this can be ignored, only seeing the issue on a cluster using custom discovery plugin and I've just identified a bug with it where older cluster state might clobber newer state.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/54149800","html_url":"https://github.com/elastic/elasticsearch/issues/7099#issuecomment-54149800","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7099","id":54149800,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MTQ5ODAw","user":{"login":"tcompart","id":1919676,"node_id":"MDQ6VXNlcjE5MTk2NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1919676?v=4","gravatar_id":"","url":"https://api.github.com/users/tcompart","html_url":"https://github.com/tcompart","followers_url":"https://api.github.com/users/tcompart/followers","following_url":"https://api.github.com/users/tcompart/following{/other_user}","gists_url":"https://api.github.com/users/tcompart/gists{/gist_id}","starred_url":"https://api.github.com/users/tcompart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tcompart/subscriptions","organizations_url":"https://api.github.com/users/tcompart/orgs","repos_url":"https://api.github.com/users/tcompart/repos","events_url":"https://api.github.com/users/tcompart/events{/privacy}","received_events_url":"https://api.github.com/users/tcompart/received_events","type":"User","site_admin":false},"created_at":"2014-09-02T13:22:31Z","updated_at":"2014-09-02T13:22:31Z","author_association":"NONE","body":"We deploy a cluster across data centers with the standard zen discovery (unicast).\n\nHowever, we encountered the same behaviour as mentioned above.\nThe snapshot API logs a response without failures and the status of the snapshot is PARTIAL.\n\nElasticsearch Version: 1.3.1\nJava Version: 1.7.0_65\n\nThe following stack trace was logged:\n\n> [2014-09-02 03:05:00,100][WARN ][snapshots                ] [hostName01] [[indexName-247.1.4-0][1]] [indexName_backup:snapshot20140902_03:00:01] failed to create snapshot\n> org.elasticsearch.index.snapshots.IndexShardSnapshotFailedException: [indexName-247.1.4-0][1] null\n>   at org.elasticsearch.index.snapshots.blobstore.BlobStoreIndexShardRepository.snapshot(BlobStoreIndexShardRepository.java:141)\n>  at org.elasticsearch.index.snapshots.IndexShardSnapshotAndRestoreService.snapshot(IndexShardSnapshotAndRestoreService.java:86)\n>  at org.elasticsearch.snapshots.SnapshotsService$6.run(SnapshotsService.java:829)\n>  at org.elasticsearch.index.snapshots.blobstore.BlobStoreIndexShardRepository$SnapshotContext.snapshot(BlobStoreIndexShardRepository.java:456)\n>  at org.elasticsearch.index.snapshots.blobstore.BlobStoreIndexShardRepository.snapshot(BlobStoreIndexShardRepository.java:131)\n> [2014-09-02 03:08:26,748][INFO ][snapshots                ] [bereso01] snapshot [indexName_backup:snapshot20140902_03:00:01] is done\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/54151615","html_url":"https://github.com/elastic/elasticsearch/issues/7099#issuecomment-54151615","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7099","id":54151615,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MTUxNjE1","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2014-09-02T13:34:09Z","updated_at":"2014-09-02T13:34:09Z","author_association":"MEMBER","body":"@tcompart it turned out to be a different issue (#7376) that wasn't related to custom discovery plugin. It should be fixed in v1.3.3.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/54157013","html_url":"https://github.com/elastic/elasticsearch/issues/7099#issuecomment-54157013","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7099","id":54157013,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MTU3MDEz","user":{"login":"tcompart","id":1919676,"node_id":"MDQ6VXNlcjE5MTk2NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1919676?v=4","gravatar_id":"","url":"https://api.github.com/users/tcompart","html_url":"https://github.com/tcompart","followers_url":"https://api.github.com/users/tcompart/followers","following_url":"https://api.github.com/users/tcompart/following{/other_user}","gists_url":"https://api.github.com/users/tcompart/gists{/gist_id}","starred_url":"https://api.github.com/users/tcompart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tcompart/subscriptions","organizations_url":"https://api.github.com/users/tcompart/orgs","repos_url":"https://api.github.com/users/tcompart/repos","events_url":"https://api.github.com/users/tcompart/events{/privacy}","received_events_url":"https://api.github.com/users/tcompart/received_events","type":"User","site_admin":false},"created_at":"2014-09-02T14:12:27Z","updated_at":"2014-09-02T14:12:27Z","author_association":"NONE","body":"Ok thanks, than we will have to wait for the 1.3.3. We would hope to see this release online as soon as possible.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/54157775","html_url":"https://github.com/elastic/elasticsearch/issues/7099#issuecomment-54157775","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7099","id":54157775,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MTU3Nzc1","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2014-09-02T14:17:35Z","updated_at":"2014-09-02T14:17:35Z","author_association":"MEMBER","body":"@tcompart are you calling flush command explicitly around the time the snapshot is created?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/54310861","html_url":"https://github.com/elastic/elasticsearch/issues/7099#issuecomment-54310861","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7099","id":54310861,"node_id":"MDEyOklzc3VlQ29tbWVudDU0MzEwODYx","user":{"login":"tcompart","id":1919676,"node_id":"MDQ6VXNlcjE5MTk2NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1919676?v=4","gravatar_id":"","url":"https://api.github.com/users/tcompart","html_url":"https://github.com/tcompart","followers_url":"https://api.github.com/users/tcompart/followers","following_url":"https://api.github.com/users/tcompart/following{/other_user}","gists_url":"https://api.github.com/users/tcompart/gists{/gist_id}","starred_url":"https://api.github.com/users/tcompart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tcompart/subscriptions","organizations_url":"https://api.github.com/users/tcompart/orgs","repos_url":"https://api.github.com/users/tcompart/repos","events_url":"https://api.github.com/users/tcompart/events{/privacy}","received_events_url":"https://api.github.com/users/tcompart/received_events","type":"User","site_admin":false},"created_at":"2014-09-03T15:04:55Z","updated_at":"2014-09-03T15:04:55Z","author_association":"NONE","body":"@imotov We do not flush explicitly, but it might happen implicitly by lucene, because it indexes data into elastic search while creating the snapshot. (so you say, this happens but without our doing)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/54473333","html_url":"https://github.com/elastic/elasticsearch/issues/7099#issuecomment-54473333","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/7099","id":54473333,"node_id":"MDEyOklzc3VlQ29tbWVudDU0NDczMzMz","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2014-09-04T13:14:55Z","updated_at":"2014-09-04T13:14:55Z","author_association":"MEMBER","body":"@tcompart indeed it can happen because of automatic flush as well especially if you are indexing a lot of small records. I was just checking to see if I can offer a temporary workaround. \n","performed_via_github_app":null}]