[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/154344072","html_url":"https://github.com/elastic/elasticsearch/issues/14575#issuecomment-154344072","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14575","id":154344072,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NDM0NDA3Mg==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2015-11-06T08:32:37Z","updated_at":"2015-11-06T08:32:37Z","author_association":"CONTRIBUTOR","body":"> I guess this error is raised due to same \"title\" fields used in parent and child mode :-)\n> Of cause, I can change the second one to \"name\", and that is fine.\n\nyes that's the reason, even though they seem to be isolated they are not. You have to either specify the same analyzer and type or use a different name.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/155447104","html_url":"https://github.com/elastic/elasticsearch/issues/14575#issuecomment-155447104","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14575","id":155447104,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NTQ0NzEwNA==","user":{"login":"isapir","id":885907,"node_id":"MDQ6VXNlcjg4NTkwNw==","avatar_url":"https://avatars0.githubusercontent.com/u/885907?v=4","gravatar_id":"","url":"https://api.github.com/users/isapir","html_url":"https://github.com/isapir","followers_url":"https://api.github.com/users/isapir/followers","following_url":"https://api.github.com/users/isapir/following{/other_user}","gists_url":"https://api.github.com/users/isapir/gists{/gist_id}","starred_url":"https://api.github.com/users/isapir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/isapir/subscriptions","organizations_url":"https://api.github.com/users/isapir/orgs","repos_url":"https://api.github.com/users/isapir/repos","events_url":"https://api.github.com/users/isapir/events{/privacy}","received_events_url":"https://api.github.com/users/isapir/received_events","type":"User","site_admin":false},"created_at":"2015-11-10T15:12:06Z","updated_at":"2015-11-10T15:14:18Z","author_association":"NONE","body":"Is there a blog post or some article explaining this?  I'm trying to upgrade from ES1.7.1 to ES2.0.0 and I'm getting this error, and I don't understand what `Set update_all_types to true` means.  Where do I set `update_all_types`?\n\nWould removing and reindexing all of the data fix this for me?  Or is the problem with the mappings?\n\n```\n2015-11-08 19:22:34 Commons Daemon procrun stderr initialized\nException in thread \"main\" tion: unable to upgrade the mappings for the index [test1], reason: [Mapper for [_all] conflicts with existing mapping in other types:\n[mapper [_all] has different [analyzer], mapper [_all] is used by multiple types. Set update_all_types to true to update [search_analyzer] across all types., mapper [_all] is used by multiple types. Set update_all_types to true to update [search_quote_analyzer] across all types.]]\nLikely root cause: java.lang.IllegalArgumentException: Mapper for [_all] conflicts with existing mapping in other types:\n[mapper [_all] has different [analyzer], mapper [_all] is used by multiple types. Set update_all_types to true to update [search_analyzer] across all types., mapper [_all] is used by multiple types. Set update_all_types to true to update [search_quote_analyzer] across all types.]\n    at org.elasticsearch.index.mapper.FieldTypeLookup.checkCompatibility(FieldTypeLookup.java:117)\n    at org.elasticsearch.index.mapper.MapperService.checkNewMappersCompatibility(MapperService.java:345)\n    at org.elasticsearch.index.mapper.MapperService.merge(MapperService.java:296)\n    at org.elasticsearch.index.mapper.MapperService.merge(MapperService.java:242)\n    at org.elasticsearch.cluster.metadata.MetaDataIndexUpgradeService.checkMappingsCompatibility(MetaDataIndexUpgradeService.java:329)\n    at org.elasticsearch.cluster.metadata.MetaDataIndexUpgradeService.upgradeIndexMetaData(MetaDataIndexUpgradeService.java:112)\n    at org.elasticsearch.gateway.GatewayMetaState.pre20Upgrade(GatewayMetaState.java:226)\n    at org.elasticsearch.gateway.GatewayMetaState.<init>(GatewayMetaState.java:85)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:422)\n    at <<<guice>>>\n    at org.elasticsearch.node.Node.<init>(Node.java:198)\n    at org.elasticsearch.node.NodeBuilder.build(NodeBuilder.java:145)\n    at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:170)\n    at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:270)\n    at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:35)\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/157145879","html_url":"https://github.com/elastic/elasticsearch/issues/14575#issuecomment-157145879","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14575","id":157145879,"node_id":"MDEyOklzc3VlQ29tbWVudDE1NzE0NTg3OQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-11-16T19:35:54Z","updated_at":"2015-11-16T19:35:54Z","author_association":"CONTRIBUTOR","body":"Yeah during upgrade you can't specify that option (see https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-put-mapping.html#merging-conflicts for where you can use it).  \n\nEssentially you need to fix or delete this index before upgrading.  The [migration plugin](https://github.com/elastic/elasticsearch-migration/) will help you to spot problematic indices before upgrading.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/300587451","html_url":"https://github.com/elastic/elasticsearch/issues/14575#issuecomment-300587451","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14575","id":300587451,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMDU4NzQ1MQ==","user":{"login":"biancazzurri","id":4135706,"node_id":"MDQ6VXNlcjQxMzU3MDY=","avatar_url":"https://avatars0.githubusercontent.com/u/4135706?v=4","gravatar_id":"","url":"https://api.github.com/users/biancazzurri","html_url":"https://github.com/biancazzurri","followers_url":"https://api.github.com/users/biancazzurri/followers","following_url":"https://api.github.com/users/biancazzurri/following{/other_user}","gists_url":"https://api.github.com/users/biancazzurri/gists{/gist_id}","starred_url":"https://api.github.com/users/biancazzurri/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/biancazzurri/subscriptions","organizations_url":"https://api.github.com/users/biancazzurri/orgs","repos_url":"https://api.github.com/users/biancazzurri/repos","events_url":"https://api.github.com/users/biancazzurri/events{/privacy}","received_events_url":"https://api.github.com/users/biancazzurri/received_events","type":"User","site_admin":false},"created_at":"2017-05-10T19:26:07Z","updated_at":"2017-05-10T19:26:07Z","author_association":"NONE","body":"Please somebody explain why is this an expected behavior? To me it seems that its a non correct one. To my understanding there should be no connection between fields in different type","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/300588259","html_url":"https://github.com/elastic/elasticsearch/issues/14575#issuecomment-300588259","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/14575","id":300588259,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMDU4ODI1OQ==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2017-05-10T19:29:27Z","updated_at":"2017-05-10T19:29:27Z","author_association":"MEMBER","body":"Please ask your question on discuss.elastic.co where we can certainly help.","performed_via_github_app":null}]