[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/22763544","html_url":"https://github.com/elastic/elasticsearch/issues/3521#issuecomment-22763544","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3521","id":22763544,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzYzNTQ0","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-08-16T12:41:15Z","updated_at":"2013-08-16T12:41:15Z","author_association":"CONTRIBUTOR","body":"hey @lmenezes, I am afraid but this is the expected behavior. there is a lot going on in this boolean query construct that depends on a number of factors.  the only guarantee here is that it will be the same score for all docs. Yet the eventual score and the query norm depend on your similarity, with a similarity that doesn not modify the query norm I guess it'd be 1.0 across the board.\nOne thing you can do is to wram top level query in a constant score that should give you a score of 1.0\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/22763743","html_url":"https://github.com/elastic/elasticsearch/issues/3521#issuecomment-22763743","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3521","id":22763743,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzYzNzQz","user":{"login":"lmenezes","id":750074,"node_id":"MDQ6VXNlcjc1MDA3NA==","avatar_url":"https://avatars1.githubusercontent.com/u/750074?v=4","gravatar_id":"","url":"https://api.github.com/users/lmenezes","html_url":"https://github.com/lmenezes","followers_url":"https://api.github.com/users/lmenezes/followers","following_url":"https://api.github.com/users/lmenezes/following{/other_user}","gists_url":"https://api.github.com/users/lmenezes/gists{/gist_id}","starred_url":"https://api.github.com/users/lmenezes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lmenezes/subscriptions","organizations_url":"https://api.github.com/users/lmenezes/orgs","repos_url":"https://api.github.com/users/lmenezes/repos","events_url":"https://api.github.com/users/lmenezes/events{/privacy}","received_events_url":"https://api.github.com/users/lmenezes/received_events","type":"User","site_admin":false},"created_at":"2013-08-16T12:45:59Z","updated_at":"2013-08-16T12:45:59Z","author_association":"CONTRIBUTOR","body":"@s1monw that's the thing... i don't get a constant score for all documents. i do understand(also, don't care. not interested in the score for this case) that running the same query multiple times might result in different scores. but, for the same execution the documents should all score the same, right? if so, then there is something wrong here.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/22763857","html_url":"https://github.com/elastic/elasticsearch/issues/3521#issuecomment-22763857","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3521","id":22763857,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzYzODU3","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-08-16T12:48:34Z","updated_at":"2013-08-16T12:48:34Z","author_association":"CONTRIBUTOR","body":"I just wrote a tests for this and I actually get back scores for all docs taht are consistent. I might not understand your problem here. you run this query and two docs get different scores?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/22764620","html_url":"https://github.com/elastic/elasticsearch/issues/3521#issuecomment-22764620","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3521","id":22764620,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzY0NjIw","user":{"login":"lmenezes","id":750074,"node_id":"MDQ6VXNlcjc1MDA3NA==","avatar_url":"https://avatars1.githubusercontent.com/u/750074?v=4","gravatar_id":"","url":"https://api.github.com/users/lmenezes","html_url":"https://github.com/lmenezes","followers_url":"https://api.github.com/users/lmenezes/followers","following_url":"https://api.github.com/users/lmenezes/following{/other_user}","gists_url":"https://api.github.com/users/lmenezes/gists{/gist_id}","starred_url":"https://api.github.com/users/lmenezes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lmenezes/subscriptions","organizations_url":"https://api.github.com/users/lmenezes/orgs","repos_url":"https://api.github.com/users/lmenezes/repos","events_url":"https://api.github.com/users/lmenezes/events{/privacy}","received_events_url":"https://api.github.com/users/lmenezes/received_events","type":"User","site_admin":false},"created_at":"2013-08-16T13:04:58Z","updated_at":"2013-08-16T13:04:58Z","author_association":"CONTRIBUTOR","body":"i tried pretty hard myself to write an example that worked(got 2 documents with different scores) here and wasn't able to.\nanyway, here is the response from a single query with the behavior i'm trying do describe: https://gist.github.com/lmenezes/6249787\n\ni could not reproduce that into my staging environment, only on live. the difference between staging and live at the moment, is that staging is not getting updates and has no replicas(if this info might help).\n\nwould setting explain -> true, and getting all the results help? its a pretty big response...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/22765099","html_url":"https://github.com/elastic/elasticsearch/issues/3521#issuecomment-22765099","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3521","id":22765099,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzY1MDk5","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-08-16T13:14:12Z","updated_at":"2013-08-16T13:14:12Z","author_association":"CONTRIBUTOR","body":"@lmenezes any idea where the boost comes from that is shown in your response?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/22765319","html_url":"https://github.com/elastic/elasticsearch/issues/3521#issuecomment-22765319","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3521","id":22765319,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzY1MzE5","user":{"login":"lmenezes","id":750074,"node_id":"MDQ6VXNlcjc1MDA3NA==","avatar_url":"https://avatars1.githubusercontent.com/u/750074?v=4","gravatar_id":"","url":"https://api.github.com/users/lmenezes","html_url":"https://github.com/lmenezes","followers_url":"https://api.github.com/users/lmenezes/followers","following_url":"https://api.github.com/users/lmenezes/following{/other_user}","gists_url":"https://api.github.com/users/lmenezes/gists{/gist_id}","starred_url":"https://api.github.com/users/lmenezes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lmenezes/subscriptions","organizations_url":"https://api.github.com/users/lmenezes/orgs","repos_url":"https://api.github.com/users/lmenezes/repos","events_url":"https://api.github.com/users/lmenezes/events{/privacy}","received_events_url":"https://api.github.com/users/lmenezes/received_events","type":"User","site_admin":false},"created_at":"2013-08-16T13:18:32Z","updated_at":"2013-08-16T13:18:32Z","author_association":"CONTRIBUTOR","body":"you mean this: ConstantScore(_:_)^3 right? if so, no idea. actually i'm executing the query from a file, so i know its always the same.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/22765388","html_url":"https://github.com/elastic/elasticsearch/issues/3521#issuecomment-22765388","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3521","id":22765388,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzY1Mzg4","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2013-08-16T13:19:48Z","updated_at":"2013-08-16T13:19:48Z","author_association":"CONTRIBUTOR","body":"@lmenezes check your email\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/22771035","html_url":"https://github.com/elastic/elasticsearch/issues/3521#issuecomment-22771035","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3521","id":22771035,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzcxMDM1","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-08-16T14:53:53Z","updated_at":"2013-08-16T14:53:53Z","author_association":"CONTRIBUTOR","body":"this is more sneaky than I though... we are modifying a cached version of match all docs in the query parser... a fix is attached\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/22773182","html_url":"https://github.com/elastic/elasticsearch/issues/3521#issuecomment-22773182","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3521","id":22773182,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzczMTgy","user":{"login":"lmenezes","id":750074,"node_id":"MDQ6VXNlcjc1MDA3NA==","avatar_url":"https://avatars1.githubusercontent.com/u/750074?v=4","gravatar_id":"","url":"https://api.github.com/users/lmenezes","html_url":"https://github.com/lmenezes","followers_url":"https://api.github.com/users/lmenezes/followers","following_url":"https://api.github.com/users/lmenezes/following{/other_user}","gists_url":"https://api.github.com/users/lmenezes/gists{/gist_id}","starred_url":"https://api.github.com/users/lmenezes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lmenezes/subscriptions","organizations_url":"https://api.github.com/users/lmenezes/orgs","repos_url":"https://api.github.com/users/lmenezes/repos","events_url":"https://api.github.com/users/lmenezes/events{/privacy}","received_events_url":"https://api.github.com/users/lmenezes/received_events","type":"User","site_admin":false},"created_at":"2013-08-16T15:21:51Z","updated_at":"2013-08-16T15:21:51Z","author_association":"CONTRIBUTOR","body":"looks good. we currently fixed using a default boost != 1.0 for the matchall queries and will remove when updating to next version.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/22787918","html_url":"https://github.com/elastic/elasticsearch/issues/3521#issuecomment-22787918","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3521","id":22787918,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzg3OTE4","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-08-16T19:20:40Z","updated_at":"2013-08-16T19:20:40Z","author_association":"CONTRIBUTOR","body":"FYI - this can be triggered from a user query via `query_string` ie. `(*:*)^3.0` will leave a boost behind on the shards it hits.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/22811435","html_url":"https://github.com/elastic/elasticsearch/issues/3521#issuecomment-22811435","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3521","id":22811435,"node_id":"MDEyOklzc3VlQ29tbWVudDIyODExNDM1","user":{"login":"lmenezes","id":750074,"node_id":"MDQ6VXNlcjc1MDA3NA==","avatar_url":"https://avatars1.githubusercontent.com/u/750074?v=4","gravatar_id":"","url":"https://api.github.com/users/lmenezes","html_url":"https://github.com/lmenezes","followers_url":"https://api.github.com/users/lmenezes/followers","following_url":"https://api.github.com/users/lmenezes/following{/other_user}","gists_url":"https://api.github.com/users/lmenezes/gists{/gist_id}","starred_url":"https://api.github.com/users/lmenezes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lmenezes/subscriptions","organizations_url":"https://api.github.com/users/lmenezes/orgs","repos_url":"https://api.github.com/users/lmenezes/repos","events_url":"https://api.github.com/users/lmenezes/events{/privacy}","received_events_url":"https://api.github.com/users/lmenezes/received_events","type":"User","site_admin":false},"created_at":"2013-08-17T13:03:55Z","updated_at":"2013-08-17T13:03:55Z","author_association":"CONTRIBUTOR","body":"great :)\n","performed_via_github_app":null}]