[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/552786949","html_url":"https://github.com/elastic/elasticsearch/issues/48956#issuecomment-552786949","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48956","id":552786949,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Mjc4Njk0OQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-11-12T08:27:05Z","updated_at":"2019-11-12T08:27:05Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search (:Search/Analysis)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/552786954","html_url":"https://github.com/elastic/elasticsearch/issues/48956#issuecomment-552786954","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48956","id":552786954,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Mjc4Njk1NA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-11-12T08:27:06Z","updated_at":"2019-11-12T08:27:06Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-docs (:Docs)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/552907706","html_url":"https://github.com/elastic/elasticsearch/issues/48956#issuecomment-552907706","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48956","id":552907706,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MjkwNzcwNg==","user":{"login":"jrodewig","id":40268737,"node_id":"MDQ6VXNlcjQwMjY4NzM3","avatar_url":"https://avatars1.githubusercontent.com/u/40268737?v=4","gravatar_id":"","url":"https://api.github.com/users/jrodewig","html_url":"https://github.com/jrodewig","followers_url":"https://api.github.com/users/jrodewig/followers","following_url":"https://api.github.com/users/jrodewig/following{/other_user}","gists_url":"https://api.github.com/users/jrodewig/gists{/gist_id}","starred_url":"https://api.github.com/users/jrodewig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrodewig/subscriptions","organizations_url":"https://api.github.com/users/jrodewig/orgs","repos_url":"https://api.github.com/users/jrodewig/repos","events_url":"https://api.github.com/users/jrodewig/events{/privacy}","received_events_url":"https://api.github.com/users/jrodewig/received_events","type":"User","site_admin":false},"created_at":"2019-11-12T14:06:37Z","updated_at":"2019-11-12T14:06:37Z","author_association":"CONTRIBUTOR","body":"Hi @Stefanqn \r\n\r\nThanks for reaching out. Unfortunately, I wasn't able to reproduce your reported problem using the current snippet setup. I've outlined my steps below. \r\n\r\nCan you highlight the expected behavior or where your steps differed?\r\n\r\n1. Create an index with split search and index analyzers.\r\n```\r\nPUT my_index\r\n{\r\n  \"settings\": {\r\n    \"analysis\": {\r\n      \"analyzer\": {\r\n        \"autocomplete\": {\r\n          \"tokenizer\": \"autocomplete\",\r\n          \"filter\": [\r\n            \"lowercase\"\r\n          ]\r\n        },\r\n        \"autocomplete_search\": {\r\n          \"tokenizer\": \"lowercase\"\r\n        }\r\n      },\r\n      \"tokenizer\": {\r\n        \"autocomplete\": {\r\n          \"type\": \"edge_ngram\",\r\n          \"min_gram\": 2,\r\n          \"max_gram\": 10,\r\n          \"token_chars\": [\r\n            \"letter\"\r\n          ]\r\n        }\r\n      }\r\n    }\r\n  },\r\n  \"mappings\": {\r\n    \"properties\": {\r\n      \"title\": {\r\n        \"type\": \"text\",\r\n        \"analyzer\": \"autocomplete\",\r\n        \"search_analyzer\": \"autocomplete_search\"\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n2. Index a document with a `title` of `aaaa`.\r\n```\r\nPUT my_index/_doc/1\r\n{\r\n  \"title\": \"aaaa\" \r\n}\r\n```\r\n\r\n3. Refresh the index.\r\n```\r\nPOST my_index/_refresh\r\n```\r\n\r\n4. Search for `aaaa` in the title field.\r\n```\r\n\r\nGET my_index/_search\r\n{\r\n  \"query\": {\r\n    \"match\": {\r\n      \"title\": {\r\n        \"query\": \"aaaa\", \r\n        \"operator\": \"and\"\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nResponse:\r\n\r\n```\r\n{\r\n  \"took\" : 3,\r\n  \"timed_out\" : false,\r\n  \"_shards\" : {\r\n    \"total\" : 1,\r\n    \"successful\" : 1,\r\n    \"skipped\" : 0,\r\n    \"failed\" : 0\r\n  },\r\n  \"hits\" : {\r\n    \"total\" : {\r\n      \"value\" : 1,\r\n      \"relation\" : \"eq\"\r\n    },\r\n    \"max_score\" : 0.2876821,\r\n    \"hits\" : [\r\n      {\r\n        \"_index\" : \"my_index\",\r\n        \"_type\" : \"_doc\",\r\n        \"_id\" : \"1\",\r\n        \"_score\" : 0.2876821,\r\n        \"_source\" : {\r\n          \"title\" : \"aaaa\"\r\n        }\r\n      }\r\n    ]\r\n  }\r\n}\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/552978724","html_url":"https://github.com/elastic/elasticsearch/issues/48956#issuecomment-552978724","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48956","id":552978724,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Mjk3ODcyNA==","user":{"login":"Stefanqn","id":139038,"node_id":"MDQ6VXNlcjEzOTAzOA==","avatar_url":"https://avatars0.githubusercontent.com/u/139038?v=4","gravatar_id":"","url":"https://api.github.com/users/Stefanqn","html_url":"https://github.com/Stefanqn","followers_url":"https://api.github.com/users/Stefanqn/followers","following_url":"https://api.github.com/users/Stefanqn/following{/other_user}","gists_url":"https://api.github.com/users/Stefanqn/gists{/gist_id}","starred_url":"https://api.github.com/users/Stefanqn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Stefanqn/subscriptions","organizations_url":"https://api.github.com/users/Stefanqn/orgs","repos_url":"https://api.github.com/users/Stefanqn/repos","events_url":"https://api.github.com/users/Stefanqn/events{/privacy}","received_events_url":"https://api.github.com/users/Stefanqn/received_events","type":"User","site_admin":false},"created_at":"2019-11-12T16:44:31Z","updated_at":"2019-11-12T16:44:31Z","author_association":"NONE","body":"please set ` \"max_gram\": 3` *or* use 11x 'a' = \"aaaaaaaaaaa\" ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/552989081","html_url":"https://github.com/elastic/elasticsearch/issues/48956#issuecomment-552989081","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48956","id":552989081,"node_id":"MDEyOklzc3VlQ29tbWVudDU1Mjk4OTA4MQ==","user":{"login":"jrodewig","id":40268737,"node_id":"MDQ6VXNlcjQwMjY4NzM3","avatar_url":"https://avatars1.githubusercontent.com/u/40268737?v=4","gravatar_id":"","url":"https://api.github.com/users/jrodewig","html_url":"https://github.com/jrodewig","followers_url":"https://api.github.com/users/jrodewig/followers","following_url":"https://api.github.com/users/jrodewig/following{/other_user}","gists_url":"https://api.github.com/users/jrodewig/gists{/gist_id}","starred_url":"https://api.github.com/users/jrodewig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrodewig/subscriptions","organizations_url":"https://api.github.com/users/jrodewig/orgs","repos_url":"https://api.github.com/users/jrodewig/repos","events_url":"https://api.github.com/users/jrodewig/events{/privacy}","received_events_url":"https://api.github.com/users/jrodewig/received_events","type":"User","site_admin":false},"created_at":"2019-11-12T17:06:00Z","updated_at":"2019-11-12T17:06:00Z","author_association":"CONTRIBUTOR","body":"Thanks @Stefanqn. I was able to reproduce. I'll work on getting this fixed in our docs.\r\n\r\nThanks for reporting. \r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/553356496","html_url":"https://github.com/elastic/elasticsearch/issues/48956#issuecomment-553356496","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/48956","id":553356496,"node_id":"MDEyOklzc3VlQ29tbWVudDU1MzM1NjQ5Ng==","user":{"login":"Stefanqn","id":139038,"node_id":"MDQ6VXNlcjEzOTAzOA==","avatar_url":"https://avatars0.githubusercontent.com/u/139038?v=4","gravatar_id":"","url":"https://api.github.com/users/Stefanqn","html_url":"https://github.com/Stefanqn","followers_url":"https://api.github.com/users/Stefanqn/followers","following_url":"https://api.github.com/users/Stefanqn/following{/other_user}","gists_url":"https://api.github.com/users/Stefanqn/gists{/gist_id}","starred_url":"https://api.github.com/users/Stefanqn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Stefanqn/subscriptions","organizations_url":"https://api.github.com/users/Stefanqn/orgs","repos_url":"https://api.github.com/users/Stefanqn/repos","events_url":"https://api.github.com/users/Stefanqn/events{/privacy}","received_events_url":"https://api.github.com/users/Stefanqn/received_events","type":"User","site_admin":false},"created_at":"2019-11-13T11:11:26Z","updated_at":"2019-11-13T11:11:26Z","author_association":"NONE","body":"thanks!","performed_via_github_app":null}]