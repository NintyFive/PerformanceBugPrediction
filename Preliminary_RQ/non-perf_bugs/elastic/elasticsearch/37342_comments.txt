[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/453425265","html_url":"https://github.com/elastic/elasticsearch/issues/37342#issuecomment-453425265","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37342","id":453425265,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzQyNTI2NQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-01-11T08:22:15Z","updated_at":"2019-01-11T08:22:15Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-analytics-geo","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/453558470","html_url":"https://github.com/elastic/elasticsearch/issues/37342#issuecomment-453558470","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37342","id":453558470,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzU1ODQ3MA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-01-11T15:41:45Z","updated_at":"2019-01-11T15:41:45Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-features","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/458056559","html_url":"https://github.com/elastic/elasticsearch/issues/37342#issuecomment-458056559","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37342","id":458056559,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1ODA1NjU1OQ==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2019-01-28T09:34:24Z","updated_at":"2019-01-28T09:34:24Z","author_association":"CONTRIBUTOR","body":"This is still failing Windows builds in CI. My attempt to mute was only partially successful. \r\nI took a quick look but couldn't figure out where the thread from the failure originates. \r\nThe test itself does skip on Windows. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/494798137","html_url":"https://github.com/elastic/elasticsearch/issues/37342#issuecomment-494798137","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37342","id":494798137,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDc5ODEzNw==","user":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"created_at":"2019-05-22T13:18:11Z","updated_at":"2019-05-22T13:18:11Z","author_association":"CONTRIBUTOR","body":"This still fails on `6.8` : https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.8+multijob-windows-compatibility/37","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/509214094","html_url":"https://github.com/elastic/elasticsearch/issues/37342#issuecomment-509214094","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37342","id":509214094,"node_id":"MDEyOklzc3VlQ29tbWVudDUwOTIxNDA5NA==","user":{"login":"davidkyle","id":2353640,"node_id":"MDQ6VXNlcjIzNTM2NDA=","avatar_url":"https://avatars1.githubusercontent.com/u/2353640?v=4","gravatar_id":"","url":"https://api.github.com/users/davidkyle","html_url":"https://github.com/davidkyle","followers_url":"https://api.github.com/users/davidkyle/followers","following_url":"https://api.github.com/users/davidkyle/following{/other_user}","gists_url":"https://api.github.com/users/davidkyle/gists{/gist_id}","starred_url":"https://api.github.com/users/davidkyle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidkyle/subscriptions","organizations_url":"https://api.github.com/users/davidkyle/orgs","repos_url":"https://api.github.com/users/davidkyle/repos","events_url":"https://api.github.com/users/davidkyle/events{/privacy}","received_events_url":"https://api.github.com/users/davidkyle/received_events","type":"User","site_admin":false},"created_at":"2019-07-08T12:56:44Z","updated_at":"2019-07-08T12:56:44Z","author_association":"MEMBER","body":"Another Windows failure on 6.8: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+6.8+multijob-windows-compatibility/69/console\r\n\r\n```\r\njava.io.IOException: Could not remove the following files (in the order of attempts):\r\n   C:\\Users\\jenkins\\workspace\\elastic+elasticsearch+6.8+multijob-windows-compatibility\\modules\\ingest-geoip\\build\\testrun\\unitTest\\J1\\temp\\org.elasticsearch.ingest.geoip.GeoIpProcessorNonIngestNodeTests_741A4555102E93A1-001\\tempDir-005\\GeoLite2-ASN.mmdb: java.nio.file.FileSystemException: C:\\Users\\jenkins\\workspace\\elastic+elasticsearch+6.8+multijob-windows-compatibility\\modules\\ingest-geoip\\build\\testrun\\unitTest\\J1\\temp\\org.elasticsearch.ingest.geoip.GeoIpProcessorNonIngestNodeTests_741A4555102E93A1-001\\tempDir-005\\GeoLite2-ASN.mmdb: The process cannot access the file because it is being used by another process.\r\n\r\n   C:\\Users\\jenkins\\workspace\\elastic+elasticsearch+6.8+multijob-windows-compatibility\\modules\\ingest-geoip\\build\\testrun\\unitTest\\J1\\temp\\org.elasticsearch.ingest.geoip.GeoIpProcessorNonIngestNodeTests_741A4555102E93A1-001\\tempDir-005\\GeoLite2-City.mmdb: java.nio.file.FileSystemException: C:\\Users\\jenkins\\workspace\\elastic+elasticsearch+6.8+multijob-windows-compatibility\\modules\\ingest-geoip\\build\\testrun\\unitTest\\J1\\temp\\org.elasticsearch.ingest.geoip.GeoIpProcessorNonIngestNodeTests_741A4555102E93A1-001\\tempDir-005\\GeoLite2-City.mmdb: The process cannot access the file because it is being used by another process.\r\n\r\n   C:\\Users\\jenkins\\workspace\\elastic+elasticsearch+6.8+multijob-windows-compatibility\\modules\\ingest-geoip\\build\\testrun\\unitTest\\J1\\temp\\org.elasticsearch.ingest.geoip.GeoIpProcessorNonIngestNodeTests_741A4555102E93A1-001\\tempDir-005\\GeoLite2-Country.mmdb: java.nio.file.FileSystemException: C:\\Users\\jenkins\\workspace\\elastic+elasticsearch+6.8+multijob-windows-compatibility\\modules\\ingest-geoip\\build\\testrun\\unitTest\\J1\\temp\\org.elasticsearch.ingest.geoip.GeoIpProcessorNonIngestNodeTests_741A4555102E93A1-001\\tempDir-005\\GeoLite2-Country.mmdb: The process cannot access the file because it is being used by another process.\r\n\r\n   C:\\Users\\jenkins\\workspace\\elastic+elasticsearch+6.8+multijob-windows-compatibility\\modules\\ingest-geoip\\build\\testrun\\unitTest\\J1\\temp\\org.elasticsearch.ingest.geoip.GeoIpProcessorNonIngestNodeTests_741A4555102E93A1-001\\tempDir-005: java.nio.file.DirectoryNotEmptyException: C:\\Users\\jenkins\\workspace\\elastic+elasticsearch+6.8+multijob-windows-compatibility\\modules\\ingest-geoip\\build\\testrun\\unitTest\\J1\\temp\\org.elasticsearch.ingest.geoip.GeoIpProcessorNonIngestNodeTests_741A4555102E93A1-001\\tempDir-005\r\n   C:\\Users\\jenkins\\workspace\\elastic+elasticsearch+6.8+multijob-windows-compatibility\\modules\\ingest-geoip\\build\\testrun\\unitTest\\J1\\temp\\org.elasticsearch.ingest.geoip.GeoIpProcessorNonIngestNodeTests_741A4555102E93A1-001: java.nio.file.DirectoryNotEmptyException: C:\\Users\\jenkins\\workspace\\elastic+elasticsearch+6.8+multijob-windows-compatibility\\modules\\ingest-geoip\\build\\testrun\\unitTest\\J1\\temp\\org.elasticsearch.ingest.geoip.GeoIpProcessorNonIngestNodeTests_741A4555102E93A1-001\r\n\r\n\tat __randomizedtesting.SeedInfo.seed([741A4555102E93A1]:0)\r\n\tat org.apache.lucene.util.IOUtils.rm(IOUtils.java:318)\r\n\tat org.apache.lucene.util.TestRuleTemporaryFilesCleanup.afterAlways(TestRuleTemporaryFilesCleanup.java:216)\r\n\tat com.carrotsearch.randomizedtesting.rules.TestRuleAdapter$1.afterAlways(TestRuleAdapter.java:31)\r\n\tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:43)\r\n\tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n\tat org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:53)\r\n\tat org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)\r\n\tat org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)\r\n\tat org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:54)\r\n\tat com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\r\n\tat com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nThat other process needs to stop using those files. What a file hog","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/509298922","html_url":"https://github.com/elastic/elasticsearch/issues/37342#issuecomment-509298922","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37342","id":509298922,"node_id":"MDEyOklzc3VlQ29tbWVudDUwOTI5ODkyMg==","user":{"login":"davidkyle","id":2353640,"node_id":"MDQ6VXNlcjIzNTM2NDA=","avatar_url":"https://avatars1.githubusercontent.com/u/2353640?v=4","gravatar_id":"","url":"https://api.github.com/users/davidkyle","html_url":"https://github.com/davidkyle","followers_url":"https://api.github.com/users/davidkyle/followers","following_url":"https://api.github.com/users/davidkyle/following{/other_user}","gists_url":"https://api.github.com/users/davidkyle/gists{/gist_id}","starred_url":"https://api.github.com/users/davidkyle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidkyle/subscriptions","organizations_url":"https://api.github.com/users/davidkyle/orgs","repos_url":"https://api.github.com/users/davidkyle/repos","events_url":"https://api.github.com/users/davidkyle/events{/privacy}","received_events_url":"https://api.github.com/users/davidkyle/received_events","type":"User","site_admin":false},"created_at":"2019-07-08T16:34:07Z","updated_at":"2019-07-08T16:48:28Z","author_association":"MEMBER","body":"Reading the surrounding tickets I see actual problem is that the [muting of GeoIpProcessorNonIngestNodeTests#testLazyLoading](https://github.com/elastic/elasticsearch/commit/14d74eb30b11f0534925f1b2b9b2098c3421b69e) on Windows had not been backported to 6.8. \r\n\r\nThe test is not expected to work on Windows due to the way the OS holds onto memory mapped files (see #29001).  Muting `GeoIpProcessorNonIngestNodeTests#testLazyLoading` in dc42f23f1705d6340fda03cfe452511a5b463db9 closes this issue. \r\n\r\n\r\n","performed_via_github_app":null}]