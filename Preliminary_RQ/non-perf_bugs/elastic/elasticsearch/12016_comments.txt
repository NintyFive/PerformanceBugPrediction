[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/118346133","html_url":"https://github.com/elastic/elasticsearch/issues/12016#issuecomment-118346133","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12016","id":118346133,"node_id":"MDEyOklzc3VlQ29tbWVudDExODM0NjEzMw==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2015-07-03T13:12:44Z","updated_at":"2015-07-03T13:12:44Z","author_association":"MEMBER","body":"Maybe we should then also have a FieldNotFound agg to have similar behaviour for aggs too?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/118362741","html_url":"https://github.com/elastic/elasticsearch/issues/12016#issuecomment-118362741","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12016","id":118362741,"node_id":"MDEyOklzc3VlQ29tbWVudDExODM2Mjc0MQ==","user":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"created_at":"2015-07-03T14:21:57Z","updated_at":"2015-07-03T14:21:57Z","author_association":"CONTRIBUTOR","body":"> Maybe we should then also have a FieldNotFound agg to have similar behaviour for aggs too?\n\nFrom a migration standpoint its always better to return no results than to blow up. I often deploy code that relies on the \"if the field isn't there then nothing happens\" behavior and create the field over time. Its just more sane that way. So I'm +1 on that.\n\nLast I checked the term and phrase suggester return exceptions if the field doesn't exist and it'd be nicer if they didn't. Not critical. Just nicer.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/118542324","html_url":"https://github.com/elastic/elasticsearch/issues/12016#issuecomment-118542324","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12016","id":118542324,"node_id":"MDEyOklzc3VlQ29tbWVudDExODU0MjMyNA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2015-07-04T18:51:18Z","updated_at":"2015-07-04T18:51:18Z","author_association":"MEMBER","body":"Having a \"field not found\" query seems very odd (just the name). What about returning a MatchNoDocsQuery, but extending that to have a message about _why_ match no docs was chosen (essentially giving a reason, since match no docs alone doesn't make any sense when building a real query)?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/118639225","html_url":"https://github.com/elastic/elasticsearch/issues/12016#issuecomment-118639225","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12016","id":118639225,"node_id":"MDEyOklzc3VlQ29tbWVudDExODYzOTIyNQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-07-05T17:24:29Z","updated_at":"2015-07-05T17:24:29Z","author_association":"CONTRIBUTOR","body":"@rjernst makes sense\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/209972550","html_url":"https://github.com/elastic/elasticsearch/issues/12016#issuecomment-209972550","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12016","id":209972550,"node_id":"MDEyOklzc3VlQ29tbWVudDIwOTk3MjU1MA==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2016-04-14T14:33:25Z","updated_at":"2016-04-14T14:33:25Z","author_association":"MEMBER","body":"We now have https://github.com/elastic/elasticsearch/pull/17748 and https://github.com/elastic/elasticsearch/pull/17751 which add an `ignore_unmapped` option to nested, parent/child and geo queries so the user can optionally ignore unmapped field or have an error reported. There is also a `missing` option that can be used on fieldValueFactor in the FunctionScoreQuery. Will those we can deal with unmapped fields on all queries so I'm going to close this issue. If people disagree we can reopen and discuss\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/305443409","html_url":"https://github.com/elastic/elasticsearch/issues/12016#issuecomment-305443409","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12016","id":305443409,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTQ0MzQwOQ==","user":{"login":"tragiclifestories","id":2285130,"node_id":"MDQ6VXNlcjIyODUxMzA=","avatar_url":"https://avatars1.githubusercontent.com/u/2285130?v=4","gravatar_id":"","url":"https://api.github.com/users/tragiclifestories","html_url":"https://github.com/tragiclifestories","followers_url":"https://api.github.com/users/tragiclifestories/followers","following_url":"https://api.github.com/users/tragiclifestories/following{/other_user}","gists_url":"https://api.github.com/users/tragiclifestories/gists{/gist_id}","starred_url":"https://api.github.com/users/tragiclifestories/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tragiclifestories/subscriptions","organizations_url":"https://api.github.com/users/tragiclifestories/orgs","repos_url":"https://api.github.com/users/tragiclifestories/repos","events_url":"https://api.github.com/users/tragiclifestories/events{/privacy}","received_events_url":"https://api.github.com/users/tragiclifestories/received_events","type":"User","site_admin":false},"created_at":"2017-06-01T09:40:51Z","updated_at":"2017-06-01T09:40:51Z","author_association":"NONE","body":"> Will those we can deal with unmapped fields on all queries so I'm going to close this issue.\r\n\r\nHow do any of these help with a bool query? Use case is a variant on the 'multiple indices' one: I've recently started indexing a field that is used to exclude results with bool/must_not. This works with 2.4, not with 5.x. I don't see how this could be rewritten as any of the queries that support `ignore_unmapped`","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/344584555","html_url":"https://github.com/elastic/elasticsearch/issues/12016#issuecomment-344584555","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12016","id":344584555,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDU4NDU1NQ==","user":{"login":"audriusbugas","id":3022728,"node_id":"MDQ6VXNlcjMwMjI3Mjg=","avatar_url":"https://avatars1.githubusercontent.com/u/3022728?v=4","gravatar_id":"","url":"https://api.github.com/users/audriusbugas","html_url":"https://github.com/audriusbugas","followers_url":"https://api.github.com/users/audriusbugas/followers","following_url":"https://api.github.com/users/audriusbugas/following{/other_user}","gists_url":"https://api.github.com/users/audriusbugas/gists{/gist_id}","starred_url":"https://api.github.com/users/audriusbugas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/audriusbugas/subscriptions","organizations_url":"https://api.github.com/users/audriusbugas/orgs","repos_url":"https://api.github.com/users/audriusbugas/repos","events_url":"https://api.github.com/users/audriusbugas/events{/privacy}","received_events_url":"https://api.github.com/users/audriusbugas/received_events","type":"User","site_admin":false},"created_at":"2017-11-15T12:57:37Z","updated_at":"2017-11-15T12:57:37Z","author_association":"NONE","body":"It still does not work with simple terms filter and others. That's a bit sad. Since ES supports queries on multiple indices, we're forced to have exactly same mapping. Are there any other options?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/344592907","html_url":"https://github.com/elastic/elasticsearch/issues/12016#issuecomment-344592907","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12016","id":344592907,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NDU5MjkwNw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2017-11-15T13:32:03Z","updated_at":"2017-11-15T13:32:03Z","author_association":"CONTRIBUTOR","body":"terms filter already ignore missing fields so this works just fine.  perhaps ask a question in the forum instead","performed_via_github_app":null}]