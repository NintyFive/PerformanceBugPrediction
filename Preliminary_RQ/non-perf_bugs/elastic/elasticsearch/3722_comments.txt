[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/25164048","html_url":"https://github.com/elastic/elasticsearch/issues/3722#issuecomment-25164048","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3722","id":25164048,"node_id":"MDEyOklzc3VlQ29tbWVudDI1MTY0MDQ4","user":{"login":"lehcim","id":4738271,"node_id":"MDQ6VXNlcjQ3MzgyNzE=","avatar_url":"https://avatars1.githubusercontent.com/u/4738271?v=4","gravatar_id":"","url":"https://api.github.com/users/lehcim","html_url":"https://github.com/lehcim","followers_url":"https://api.github.com/users/lehcim/followers","following_url":"https://api.github.com/users/lehcim/following{/other_user}","gists_url":"https://api.github.com/users/lehcim/gists{/gist_id}","starred_url":"https://api.github.com/users/lehcim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lehcim/subscriptions","organizations_url":"https://api.github.com/users/lehcim/orgs","repos_url":"https://api.github.com/users/lehcim/repos","events_url":"https://api.github.com/users/lehcim/events{/privacy}","received_events_url":"https://api.github.com/users/lehcim/received_events","type":"User","site_admin":false},"created_at":"2013-09-26T12:39:50Z","updated_at":"2013-09-26T12:39:50Z","author_association":"NONE","body":"Thank you dipthegeezer for opening this issue, it was on my todo list for a long time but I never take the time to wrote it. So, yes, it would be nice if ES instance does not start right after RPM installation.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/28425845","html_url":"https://github.com/elastic/elasticsearch/issues/3722#issuecomment-28425845","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3722","id":28425845,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NDI1ODQ1","user":{"login":"kfox1111","id":1513154,"node_id":"MDQ6VXNlcjE1MTMxNTQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1513154?v=4","gravatar_id":"","url":"https://api.github.com/users/kfox1111","html_url":"https://github.com/kfox1111","followers_url":"https://api.github.com/users/kfox1111/followers","following_url":"https://api.github.com/users/kfox1111/following{/other_user}","gists_url":"https://api.github.com/users/kfox1111/gists{/gist_id}","starred_url":"https://api.github.com/users/kfox1111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kfox1111/subscriptions","organizations_url":"https://api.github.com/users/kfox1111/orgs","repos_url":"https://api.github.com/users/kfox1111/repos","events_url":"https://api.github.com/users/kfox1111/events{/privacy}","received_events_url":"https://api.github.com/users/kfox1111/received_events","type":"User","site_admin":false},"created_at":"2013-11-13T19:31:27Z","updated_at":"2013-11-13T19:31:27Z","author_association":"NONE","body":"I have this problem to. I'm trying to bring up elasticsearch in a cluster, and it is autostarting standalone because it does not have a config file yet. This causes split brained situations. This is very bad. Trying to shut down the service right away sometimes fails as well due to the pid not getting written out yet.\n\nI tried putting \"exit 0\" in /etc/sysconfig/elasticsearch as a work around, but the rpm is also not treating that file as a config file and is overwriting it always.\n\nSo, there seems to be no reliable way to work around this issue without fixing the rpm.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/28591907","html_url":"https://github.com/elastic/elasticsearch/issues/3722#issuecomment-28591907","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3722","id":28591907,"node_id":"MDEyOklzc3VlQ29tbWVudDI4NTkxOTA3","user":{"login":"ejain","id":1323903,"node_id":"MDQ6VXNlcjEzMjM5MDM=","avatar_url":"https://avatars2.githubusercontent.com/u/1323903?v=4","gravatar_id":"","url":"https://api.github.com/users/ejain","html_url":"https://github.com/ejain","followers_url":"https://api.github.com/users/ejain/followers","following_url":"https://api.github.com/users/ejain/following{/other_user}","gists_url":"https://api.github.com/users/ejain/gists{/gist_id}","starred_url":"https://api.github.com/users/ejain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ejain/subscriptions","organizations_url":"https://api.github.com/users/ejain/orgs","repos_url":"https://api.github.com/users/ejain/repos","events_url":"https://api.github.com/users/ejain/events{/privacy}","received_events_url":"https://api.github.com/users/ejain/received_events","type":"User","site_admin":false},"created_at":"2013-11-15T18:29:50Z","updated_at":"2013-11-15T18:29:50Z","author_association":"CONTRIBUTOR","body":"I have a long-standing, hard to reproduce split brain issue when starting new nodes; hadn't considered that this could be the cause. Hope the referenced pull request gets merged soon!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/28794151","html_url":"https://github.com/elastic/elasticsearch/issues/3722#issuecomment-28794151","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3722","id":28794151,"node_id":"MDEyOklzc3VlQ29tbWVudDI4Nzk0MTUx","user":{"login":"lukas-vlcek","id":205174,"node_id":"MDQ6VXNlcjIwNTE3NA==","avatar_url":"https://avatars2.githubusercontent.com/u/205174?v=4","gravatar_id":"","url":"https://api.github.com/users/lukas-vlcek","html_url":"https://github.com/lukas-vlcek","followers_url":"https://api.github.com/users/lukas-vlcek/followers","following_url":"https://api.github.com/users/lukas-vlcek/following{/other_user}","gists_url":"https://api.github.com/users/lukas-vlcek/gists{/gist_id}","starred_url":"https://api.github.com/users/lukas-vlcek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukas-vlcek/subscriptions","organizations_url":"https://api.github.com/users/lukas-vlcek/orgs","repos_url":"https://api.github.com/users/lukas-vlcek/repos","events_url":"https://api.github.com/users/lukas-vlcek/events{/privacy}","received_events_url":"https://api.github.com/users/lukas-vlcek/received_events","type":"User","site_admin":false},"created_at":"2013-11-19T14:34:19Z","updated_at":"2013-11-19T14:34:19Z","author_association":"CONTRIBUTOR","body":"I would also vote for not starting ES in `postinstall` script.\n\nIf @dipthegeezer's PR is not going to make it in then I am proposing a little relaxed alternative.\nLet's replace line https://github.com/elasticsearch/elasticsearch/blob/master/src/rpm/scripts/postinstall#L38 in `postinstall` with something like\n\n```\nif [ \"$ELASTICSEARCH_POST_INSTALL_STARTUP\" != \"false\" ] ; then\n    startElasticsearch\nfi\n```\n\nNow you can do\n\n```\nexport ELASTICSEARCH_POST_INSTALL_STARTUP=false;\nyum install elasticsearch-0.90.5-1.noarch.rpm;\n```\n\nto have ES installed but not started.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/28807591","html_url":"https://github.com/elastic/elasticsearch/issues/3722#issuecomment-28807591","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3722","id":28807591,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODA3NTkx","user":{"login":"kfox1111","id":1513154,"node_id":"MDQ6VXNlcjE1MTMxNTQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1513154?v=4","gravatar_id":"","url":"https://api.github.com/users/kfox1111","html_url":"https://github.com/kfox1111","followers_url":"https://api.github.com/users/kfox1111/followers","following_url":"https://api.github.com/users/kfox1111/following{/other_user}","gists_url":"https://api.github.com/users/kfox1111/gists{/gist_id}","starred_url":"https://api.github.com/users/kfox1111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kfox1111/subscriptions","organizations_url":"https://api.github.com/users/kfox1111/orgs","repos_url":"https://api.github.com/users/kfox1111/repos","events_url":"https://api.github.com/users/kfox1111/events{/privacy}","received_events_url":"https://api.github.com/users/kfox1111/received_events","type":"User","site_admin":false},"created_at":"2013-11-19T16:48:28Z","updated_at":"2013-11-19T16:48:28Z","author_association":"NONE","body":"Interesting idea, though I don't think that would work in the kickstart case.\n\nI would also set a bad precedent. If every network service rpm needed its own env variable like this, you'd end up with:\nELASTICSEARCH_POST_INSTALL_STARTUP=false\nAPACHE_POST_INSTALL_STARTUP=false\nTOMCAT_POST_INSTALL_STARTUP=false\nINETD_POST_INSTALL_STARTUP=false\n...\nyum do something.\n\nAnd it just snowballs.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/28812319","html_url":"https://github.com/elastic/elasticsearch/issues/3722#issuecomment-28812319","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3722","id":28812319,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODEyMzE5","user":{"login":"lukas-vlcek","id":205174,"node_id":"MDQ6VXNlcjIwNTE3NA==","avatar_url":"https://avatars2.githubusercontent.com/u/205174?v=4","gravatar_id":"","url":"https://api.github.com/users/lukas-vlcek","html_url":"https://github.com/lukas-vlcek","followers_url":"https://api.github.com/users/lukas-vlcek/followers","following_url":"https://api.github.com/users/lukas-vlcek/following{/other_user}","gists_url":"https://api.github.com/users/lukas-vlcek/gists{/gist_id}","starred_url":"https://api.github.com/users/lukas-vlcek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukas-vlcek/subscriptions","organizations_url":"https://api.github.com/users/lukas-vlcek/orgs","repos_url":"https://api.github.com/users/lukas-vlcek/repos","events_url":"https://api.github.com/users/lukas-vlcek/events{/privacy}","received_events_url":"https://api.github.com/users/lukas-vlcek/received_events","type":"User","site_admin":false},"created_at":"2013-11-19T17:28:19Z","updated_at":"2013-11-19T17:28:19Z","author_association":"CONTRIBUTOR","body":"Sorry for my ignorance @kfox1111 but are you saying that Tomcat or Apache get started when you do?\n\n```\nyum install <official>.rpm\n```\n\nI would like to use official ES RPM as much as possible but due to this autokickstart feature I have to build and ship custom RPM internally. BTW, I double checked with my colleagues (Fedora developers and official package maintainers) and they confirmed that what is stated in the link that @dipthegeezer pointed out is a valid recommendation and is also followed in RHEL.\n\nMay be I missed something.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/28813505","html_url":"https://github.com/elastic/elasticsearch/issues/3722#issuecomment-28813505","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3722","id":28813505,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODEzNTA1","user":{"login":"kfox1111","id":1513154,"node_id":"MDQ6VXNlcjE1MTMxNTQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1513154?v=4","gravatar_id":"","url":"https://api.github.com/users/kfox1111","html_url":"https://github.com/kfox1111","followers_url":"https://api.github.com/users/kfox1111/followers","following_url":"https://api.github.com/users/kfox1111/following{/other_user}","gists_url":"https://api.github.com/users/kfox1111/gists{/gist_id}","starred_url":"https://api.github.com/users/kfox1111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kfox1111/subscriptions","organizations_url":"https://api.github.com/users/kfox1111/orgs","repos_url":"https://api.github.com/users/kfox1111/repos","events_url":"https://api.github.com/users/kfox1111/events{/privacy}","received_events_url":"https://api.github.com/users/kfox1111/received_events","type":"User","site_admin":false},"created_at":"2013-11-19T17:37:25Z","updated_at":"2013-11-19T17:37:25Z","author_association":"NONE","body":"No, sorry, I meant, if the elasticsearch rpm expects to be able to set variables to do this, then what is stopping the Apache rpm from wanting to do the same, and then the Tomcat folks, and then... Everyone will want to do it this way. It will eventually become an unmaintainable mess of packages. While it seems like a good idea at a single package level, when you have systems of lots of packages, it is much harder on the user since the user now has to know all of the environment variables (s)he has to set before doing an install for any package that may get sucked in.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/28834454","html_url":"https://github.com/elastic/elasticsearch/issues/3722#issuecomment-28834454","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3722","id":28834454,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODM0NDU0","user":{"login":"lukas-vlcek","id":205174,"node_id":"MDQ6VXNlcjIwNTE3NA==","avatar_url":"https://avatars2.githubusercontent.com/u/205174?v=4","gravatar_id":"","url":"https://api.github.com/users/lukas-vlcek","html_url":"https://github.com/lukas-vlcek","followers_url":"https://api.github.com/users/lukas-vlcek/followers","following_url":"https://api.github.com/users/lukas-vlcek/following{/other_user}","gists_url":"https://api.github.com/users/lukas-vlcek/gists{/gist_id}","starred_url":"https://api.github.com/users/lukas-vlcek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukas-vlcek/subscriptions","organizations_url":"https://api.github.com/users/lukas-vlcek/orgs","repos_url":"https://api.github.com/users/lukas-vlcek/repos","events_url":"https://api.github.com/users/lukas-vlcek/events{/privacy}","received_events_url":"https://api.github.com/users/lukas-vlcek/received_events","type":"User","site_admin":false},"created_at":"2013-11-19T20:54:41Z","updated_at":"2013-11-19T20:54:41Z","author_association":"CONTRIBUTOR","body":"@kfox1111 seriously, why would they wanted to copy this approach? Starting the service after installation is just one command away ([sudo] services tomcat start) however ppl usually want to configure services before they start them (as well as I do want to configure ES before it is started). I just do not understand the rationale about why Elasticsearch RPM does it differently. That is all. And the workaround I proposed can just provide a small workaround for me (and may be for other people) that would warmly welcome if there was a way to have it the other way around. Hope it is clear now.\n\n//cc @spinscale please any ideas?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/28836493","html_url":"https://github.com/elastic/elasticsearch/issues/3722#issuecomment-28836493","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3722","id":28836493,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODM2NDkz","user":{"login":"kfox1111","id":1513154,"node_id":"MDQ6VXNlcjE1MTMxNTQ=","avatar_url":"https://avatars0.githubusercontent.com/u/1513154?v=4","gravatar_id":"","url":"https://api.github.com/users/kfox1111","html_url":"https://github.com/kfox1111","followers_url":"https://api.github.com/users/kfox1111/followers","following_url":"https://api.github.com/users/kfox1111/following{/other_user}","gists_url":"https://api.github.com/users/kfox1111/gists{/gist_id}","starred_url":"https://api.github.com/users/kfox1111/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kfox1111/subscriptions","organizations_url":"https://api.github.com/users/kfox1111/orgs","repos_url":"https://api.github.com/users/kfox1111/repos","events_url":"https://api.github.com/users/kfox1111/events{/privacy}","received_events_url":"https://api.github.com/users/kfox1111/received_events","type":"User","site_admin":false},"created_at":"2013-11-19T21:18:03Z","updated_at":"2013-11-19T21:18:03Z","author_association":"NONE","body":"@lukas-vlcek: I'm agreeing with you. I think its bad to start the service automatically. Its recommended against by all rpm using distro's.\n\nI think the reasoning ElasticSearch made, is something like: \"its simpler for the user this way. They just install the rpm and then use ElasticSearch.\"\n\nThe point that I was trying to make is, if ElasticSearch can make this argument compellingly, why wouldn't other network services not want to follow suit. Is ElasticSearch somehow special in that it needs to be \"easier to start\" then other network services? Wouldn't it be nice if you just yum installed apache and it was up and running too? Its just a rabit hole that I don't think should be gone down at all. ElasticSearch, while great, is no different then any of the other network service and its rpm shouldn't behave differently then the rest. yum install it, then turn on the service when you are ready. It should not be looking at environment variables to autostart things, because there be dragons.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/28838426","html_url":"https://github.com/elastic/elasticsearch/issues/3722#issuecomment-28838426","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3722","id":28838426,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODM4NDI2","user":{"login":"dipthegeezer","id":130430,"node_id":"MDQ6VXNlcjEzMDQzMA==","avatar_url":"https://avatars1.githubusercontent.com/u/130430?v=4","gravatar_id":"","url":"https://api.github.com/users/dipthegeezer","html_url":"https://github.com/dipthegeezer","followers_url":"https://api.github.com/users/dipthegeezer/followers","following_url":"https://api.github.com/users/dipthegeezer/following{/other_user}","gists_url":"https://api.github.com/users/dipthegeezer/gists{/gist_id}","starred_url":"https://api.github.com/users/dipthegeezer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dipthegeezer/subscriptions","organizations_url":"https://api.github.com/users/dipthegeezer/orgs","repos_url":"https://api.github.com/users/dipthegeezer/repos","events_url":"https://api.github.com/users/dipthegeezer/events{/privacy}","received_events_url":"https://api.github.com/users/dipthegeezer/received_events","type":"User","site_admin":false},"created_at":"2013-11-19T21:38:51Z","updated_at":"2013-11-19T21:38:51Z","author_association":"NONE","body":"@lukas-vlcek Just to throw my two cents in we've had to do exactly what you've done; built and shipped our own RPM that doesn't start the service. This introduces a lot of overhead on our part in maintaining what is essentially a divergent version from the main elasticsearch code base. Especially when most documentation suggests you should never start a service on install.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/28870871","html_url":"https://github.com/elastic/elasticsearch/issues/3722#issuecomment-28870871","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3722","id":28870871,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODcwODcx","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2013-11-20T08:32:17Z","updated_at":"2013-11-20T08:32:17Z","author_association":"MEMBER","body":"Hey,\n\nUpdate: I will change the packages (RPM and deb) to not start by default in the next days, along with some other features on my 'give the packages more love'-TODO list.\n\nNot part of this ticket, but you may be interested in that as well: We are working on repositories and soon we should have something for you to try out.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/28871838","html_url":"https://github.com/elastic/elasticsearch/issues/3722#issuecomment-28871838","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3722","id":28871838,"node_id":"MDEyOklzc3VlQ29tbWVudDI4ODcxODM4","user":{"login":"lukas-vlcek","id":205174,"node_id":"MDQ6VXNlcjIwNTE3NA==","avatar_url":"https://avatars2.githubusercontent.com/u/205174?v=4","gravatar_id":"","url":"https://api.github.com/users/lukas-vlcek","html_url":"https://github.com/lukas-vlcek","followers_url":"https://api.github.com/users/lukas-vlcek/followers","following_url":"https://api.github.com/users/lukas-vlcek/following{/other_user}","gists_url":"https://api.github.com/users/lukas-vlcek/gists{/gist_id}","starred_url":"https://api.github.com/users/lukas-vlcek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lukas-vlcek/subscriptions","organizations_url":"https://api.github.com/users/lukas-vlcek/orgs","repos_url":"https://api.github.com/users/lukas-vlcek/repos","events_url":"https://api.github.com/users/lukas-vlcek/events{/privacy}","received_events_url":"https://api.github.com/users/lukas-vlcek/received_events","type":"User","site_admin":false},"created_at":"2013-11-20T08:53:55Z","updated_at":"2013-11-20T08:53:55Z","author_association":"CONTRIBUTOR","body":"Excellent! Looking forward to using rpm right away in the future :smile: \nThanks @spinscale \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/29372421","html_url":"https://github.com/elastic/elasticsearch/issues/3722#issuecomment-29372421","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3722","id":29372421,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzcyNDIx","user":{"login":"spinscale","id":667544,"node_id":"MDQ6VXNlcjY2NzU0NA==","avatar_url":"https://avatars2.githubusercontent.com/u/667544?v=4","gravatar_id":"","url":"https://api.github.com/users/spinscale","html_url":"https://github.com/spinscale","followers_url":"https://api.github.com/users/spinscale/followers","following_url":"https://api.github.com/users/spinscale/following{/other_user}","gists_url":"https://api.github.com/users/spinscale/gists{/gist_id}","starred_url":"https://api.github.com/users/spinscale/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spinscale/subscriptions","organizations_url":"https://api.github.com/users/spinscale/orgs","repos_url":"https://api.github.com/users/spinscale/repos","events_url":"https://api.github.com/users/spinscale/events{/privacy}","received_events_url":"https://api.github.com/users/spinscale/received_events","type":"User","site_admin":false},"created_at":"2013-11-27T10:00:43Z","updated_at":"2013-11-27T10:00:43Z","author_association":"MEMBER","body":"Folks,\n\nit would be awesome if you could comment on https://github.com/elasticsearch/elasticsearch/pull/4256\n\nanything missing? Did I overlook something? \n\nThanks for any feedback!\n","performed_via_github_app":null}]