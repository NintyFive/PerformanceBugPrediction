[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/348015125","html_url":"https://github.com/elastic/elasticsearch/issues/27599#issuecomment-348015125","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27599","id":348015125,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODAxNTEyNQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-11-29T22:16:13Z","updated_at":"2017-11-29T22:20:06Z","author_association":"MEMBER","body":"I have seen this before and it was a configuration issue. Let us try to track it down together. The problem here is that when we test the Java version, we unconditionally print that error message if checking the Java version fails for any reason whatsoever. This means that failures that are not the due to the wrong version but instead some other issue are reported as Java version errors anyway and we end up with confusing error messages like this. This was a bug in the 5.x series and it is fixed in 6.0.0 but we did not backport that work (#26057).\r\n\r\nSince we see a confusing error message here, I suspect that is exactly what is going on and the Java version checker is simply failing to launch.\r\n\r\nIs the line\r\n\r\n```\r\nElasticsearch requires at least Java 8 but your Java version from /glide/java-1.8.0_131.i586/bin/java does not meet this requirement\r\n```\r\n\r\npreceded by \r\n\r\n```\r\nError: Could not find or load main class org.elasticsearch.tools.JavaVersionChecker\r\n```\r\n\r\nor perhaps another error message?\r\n\r\n> However, my root folder has more space so I tried extracting a copy there.\r\n\r\nTo me, this is the clue.\r\n\r\nYou see, if you extracted Elasticsearch into `/` you needed root permissions to do that. If your lib folder ends up with permissions such that your user can not read the folder, then your issue reproduces:\r\n\r\n```\r\n17:07:20 1d [jason@totoro:/] $ sudo curl -L -O https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-5.6.4.tar.gz \r\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                 Dload  Upload   Total   Spent    Left  Speed\r\n100 32.2M  100 32.2M    0     0  16.1M      0  0:00:02  0:00:02 --:--:-- 12.1M\r\n17:07:45 1d [jason@totoro:/] $ sudo tar xf elasticsearch-5.6.4.tar.gz \r\n17:08:10 1d [jason@totoro:/] $ sudo chmod 000 elasticsearch-5.6.4/lib/\r\n17:08:26 1d [jason@totoro:/] $ ./elasticsearch-5.6.4/bin/elasticsearch\r\nError: Could not find or load main class org.elasticsearch.tools.JavaVersionChecker\r\nElasticsearch requires at least Java 8 but your Java version from /usr/java/jdk1.8.0_144//bin/java does not meet this requirement\r\n```\r\n\r\nThis can happen naturally (instead of artificially here) if you have a restrictive `umask` and can arise in various other ways.\r\n\r\nCan you share the output of `tree -p 2 -L 1 /elasticsearch-5.6.4/` (or whatever your installation path is such that we see `lib` and other siblings as the next level below the Elasticsearch installation):\r\n\r\n```\r\n17:15:20 1d [jason@totoro:/] 1 $ sudo tree -p -L 2 ./elasticsearch-5.6.4\r\n./elasticsearch-5.6.4\r\n├── [drwxr-xr-x]  bin\r\n│   ├── [-rwxr-xr-x]  elasticsearch\r\n│   ├── [-rw-r--r--]  elasticsearch.bat\r\n│   ├── [-rw-r--r--]  elasticsearch.in.bat\r\n│   ├── [-rwxr-xr-x]  elasticsearch.in.sh\r\n│   ├── [-rwxr-xr-x]  elasticsearch-keystore\r\n│   ├── [-rw-r--r--]  elasticsearch-keystore.bat\r\n│   ├── [-rwxr-xr-x]  elasticsearch-plugin\r\n│   ├── [-rw-r--r--]  elasticsearch-plugin.bat\r\n│   ├── [-rw-r--r--]  elasticsearch-service.bat\r\n│   ├── [-rw-r--r--]  elasticsearch-service-mgr.exe\r\n│   ├── [-rw-r--r--]  elasticsearch-service-x64.exe\r\n│   ├── [-rw-r--r--]  elasticsearch-service-x86.exe\r\n│   ├── [-rwxr-xr-x]  elasticsearch-systemd-pre-exec\r\n│   ├── [-rwxr-xr-x]  elasticsearch-translog\r\n│   └── [-rw-r--r--]  elasticsearch-translog.bat\r\n├── [drwxr-xr-x]  config\r\n│   ├── [-rw-rw----]  elasticsearch.yml\r\n│   ├── [-rw-rw----]  jvm.options\r\n│   └── [-rw-rw----]  log4j2.properties\r\n├── [d---------]  lib\r\n│   ├── [----------]  elasticsearch-5.6.4.jar\r\n│   ├── [----------]  HdrHistogram-2.1.9.jar\r\n│   ├── [----------]  hppc-0.7.1.jar\r\n│   ├── [----------]  jackson-core-2.8.6.jar\r\n│   ├── [----------]  jackson-dataformat-cbor-2.8.6.jar\r\n│   ├── [----------]  jackson-dataformat-smile-2.8.6.jar\r\n│   ├── [----------]  jackson-dataformat-yaml-2.8.6.jar\r\n│   ├── [----------]  java-version-checker-5.6.4.jar\r\n│   ├── [----------]  jna-4.4.0-1.jar\r\n│   ├── [----------]  joda-time-2.9.5.jar\r\n│   ├── [----------]  jopt-simple-5.0.2.jar\r\n│   ├── [----------]  jts-1.13.jar\r\n│   ├── [----------]  log4j-1.2-api-2.9.1.jar\r\n│   ├── [----------]  log4j-api-2.9.1.jar\r\n│   ├── [----------]  log4j-core-2.9.1.jar\r\n│   ├── [----------]  lucene-analyzers-common-6.6.1.jar\r\n│   ├── [----------]  lucene-backward-codecs-6.6.1.jar\r\n│   ├── [----------]  lucene-core-6.6.1.jar\r\n│   ├── [----------]  lucene-grouping-6.6.1.jar\r\n│   ├── [----------]  lucene-highlighter-6.6.1.jar\r\n│   ├── [----------]  lucene-join-6.6.1.jar\r\n│   ├── [----------]  lucene-memory-6.6.1.jar\r\n│   ├── [----------]  lucene-misc-6.6.1.jar\r\n│   ├── [----------]  lucene-queries-6.6.1.jar\r\n│   ├── [----------]  lucene-queryparser-6.6.1.jar\r\n│   ├── [----------]  lucene-sandbox-6.6.1.jar\r\n│   ├── [----------]  lucene-spatial3d-6.6.1.jar\r\n│   ├── [----------]  lucene-spatial-6.6.1.jar\r\n│   ├── [----------]  lucene-spatial-extras-6.6.1.jar\r\n│   ├── [----------]  lucene-suggest-6.6.1.jar\r\n│   ├── [----------]  plugin-cli-5.6.4.jar\r\n│   ├── [----------]  securesm-1.1.jar\r\n│   ├── [----------]  snakeyaml-1.15.jar\r\n│   ├── [----------]  spatial4j-0.6.jar\r\n│   └── [----------]  t-digest-3.0.jar\r\n├── [-rw-r--r--]  LICENSE.txt\r\n├── [drwxr-xr-x]  modules\r\n│   ├── [drwxr-xr-x]  aggs-matrix-stats\r\n│   ├── [drwxr-xr-x]  ingest-common\r\n│   ├── [drwxr-xr-x]  lang-expression\r\n│   ├── [drwxr-xr-x]  lang-groovy\r\n│   ├── [drwxr-xr-x]  lang-mustache\r\n│   ├── [drwxr-xr-x]  lang-painless\r\n│   ├── [drwxr-xr-x]  parent-join\r\n│   ├── [drwxr-xr-x]  percolator\r\n│   ├── [drwxr-xr-x]  reindex\r\n│   ├── [drwxr-xr-x]  transport-netty3\r\n│   └── [drwxr-xr-x]  transport-netty4\r\n├── [-rw-r--r--]  NOTICE.txt\r\n├── [drwxr-xr-x]  plugins\r\n└── [-rw-r--r--]  README.textile\r\n\r\n16 directories, 56 files\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/348125600","html_url":"https://github.com/elastic/elasticsearch/issues/27599#issuecomment-348125600","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27599","id":348125600,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODEyNTYwMA==","user":{"login":"amitavmohanty01","id":1063403,"node_id":"MDQ6VXNlcjEwNjM0MDM=","avatar_url":"https://avatars1.githubusercontent.com/u/1063403?v=4","gravatar_id":"","url":"https://api.github.com/users/amitavmohanty01","html_url":"https://github.com/amitavmohanty01","followers_url":"https://api.github.com/users/amitavmohanty01/followers","following_url":"https://api.github.com/users/amitavmohanty01/following{/other_user}","gists_url":"https://api.github.com/users/amitavmohanty01/gists{/gist_id}","starred_url":"https://api.github.com/users/amitavmohanty01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amitavmohanty01/subscriptions","organizations_url":"https://api.github.com/users/amitavmohanty01/orgs","repos_url":"https://api.github.com/users/amitavmohanty01/repos","events_url":"https://api.github.com/users/amitavmohanty01/events{/privacy}","received_events_url":"https://api.github.com/users/amitavmohanty01/received_events","type":"User","site_admin":false},"created_at":"2017-11-30T09:05:49Z","updated_at":"2017-11-30T09:30:49Z","author_association":"NONE","body":"> This was a bug in the 5.x series and it is fixed in 6.0.0 but we did not backport that work\r\n\r\nIs there any plan of backporting it?\r\n\r\n> Is the line\r\n\r\n```\r\nElasticsearch requires at least Java 8 but your Java version from /glide/java-1.8.0_131.i586/bin/java does not meet this requirement\r\n```\r\n\r\n> preceded by\r\n\r\n```\r\nError: Could not find or load main class org.elasticsearch.tools.JavaVersionChecker\r\n```\r\n\r\n> or perhaps another error message?\r\n\r\nYeah. In fact, I added the line in the message but because of incorrect formatting, it was not showing. :(","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/348161367","html_url":"https://github.com/elastic/elasticsearch/issues/27599#issuecomment-348161367","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27599","id":348161367,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODE2MTM2Nw==","user":{"login":"amitavmohanty01","id":1063403,"node_id":"MDQ6VXNlcjEwNjM0MDM=","avatar_url":"https://avatars1.githubusercontent.com/u/1063403?v=4","gravatar_id":"","url":"https://api.github.com/users/amitavmohanty01","html_url":"https://github.com/amitavmohanty01","followers_url":"https://api.github.com/users/amitavmohanty01/followers","following_url":"https://api.github.com/users/amitavmohanty01/following{/other_user}","gists_url":"https://api.github.com/users/amitavmohanty01/gists{/gist_id}","starred_url":"https://api.github.com/users/amitavmohanty01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amitavmohanty01/subscriptions","organizations_url":"https://api.github.com/users/amitavmohanty01/orgs","repos_url":"https://api.github.com/users/amitavmohanty01/repos","events_url":"https://api.github.com/users/amitavmohanty01/events{/privacy}","received_events_url":"https://api.github.com/users/amitavmohanty01/received_events","type":"User","site_admin":false},"created_at":"2017-11-30T11:26:34Z","updated_at":"2017-11-30T11:26:34Z","author_association":"NONE","body":"```\r\n./\r\n├── [drwx------]  ?\r\n├── [drwx------]  bin\r\n│   ├── [-rwx------]  elasticsearch\r\n│   ├── [-rw-------]  elasticsearch.bat\r\n│   ├── [-rw-------]  elasticsearch.in.bat\r\n│   ├── [-rwx------]  elasticsearch.in.sh\r\n│   ├── [-rwx------]  elasticsearch-keystore\r\n│   ├── [-rw-------]  elasticsearch-keystore.bat\r\n│   ├── [-rwx------]  elasticsearch-plugin\r\n│   ├── [-rw-------]  elasticsearch-plugin.bat\r\n│   ├── [-rw-------]  elasticsearch-service.bat\r\n│   ├── [-rw-------]  elasticsearch-service-mgr.exe\r\n│   ├── [-rw-------]  elasticsearch-service-x64.exe\r\n│   ├── [-rw-------]  elasticsearch-service-x86.exe\r\n│   ├── [-rwx------]  elasticsearch-systemd-pre-exec\r\n│   ├── [-rwx------]  elasticsearch-translog\r\n│   └── [-rw-------]  elasticsearch-translog.bat\r\n├── [drwx------]  config\r\n│   ├── [-rw-------]  elasticsearch.yml\r\n│   ├── [-rw-------]  jvm.options\r\n│   └── [-rw-------]  log4j2.properties\r\n├── [drwx------]  lib\r\n│   ├── [-rw-------]  elasticsearch-5.6.4.jar\r\n│   ├── [-rw-------]  HdrHistogram-2.1.9.jar\r\n│   ├── [-rw-------]  hppc-0.7.1.jar\r\n│   ├── [-rw-------]  jackson-core-2.8.6.jar\r\n│   ├── [-rw-------]  jackson-dataformat-cbor-2.8.6.jar\r\n│   ├── [-rw-------]  jackson-dataformat-smile-2.8.6.jar\r\n│   ├── [-rw-------]  jackson-dataformat-yaml-2.8.6.jar\r\n│   ├── [-rw-------]  java-version-checker-5.6.4.jar\r\n│   ├── [-rw-------]  jna-4.4.0-1.jar\r\n│   ├── [-rw-------]  joda-time-2.9.5.jar\r\n│   ├── [-rw-------]  jopt-simple-5.0.2.jar\r\n│   ├── [-rw-------]  jts-1.13.jar\r\n│   ├── [-rw-------]  log4j-1.2-api-2.9.1.jar\r\n│   ├── [-rw-------]  log4j-api-2.9.1.jar\r\n│   ├── [-rw-------]  log4j-core-2.9.1.jar\r\n│   ├── [-rw-------]  lucene-analyzers-common-6.6.1.jar\r\n│   ├── [-rw-------]  lucene-backward-codecs-6.6.1.jar\r\n│   ├── [-rw-------]  lucene-core-6.6.1.jar\r\n│   ├── [-rw-------]  lucene-grouping-6.6.1.jar\r\n│   ├── [-rw-------]  lucene-highlighter-6.6.1.jar\r\n│   ├── [-rw-------]  lucene-join-6.6.1.jar\r\n│   ├── [-rw-------]  lucene-memory-6.6.1.jar\r\n│   ├── [-rw-------]  lucene-misc-6.6.1.jar\r\n│   ├── [-rw-------]  lucene-queries-6.6.1.jar\r\n│   ├── [-rw-------]  lucene-queryparser-6.6.1.jar\r\n│   ├── [-rw-------]  lucene-sandbox-6.6.1.jar\r\n│   ├── [-rw-------]  lucene-spatial3d-6.6.1.jar\r\n│   ├── [-rw-------]  lucene-spatial-6.6.1.jar\r\n│   ├── [-rw-------]  lucene-spatial-extras-6.6.1.jar\r\n│   ├── [-rw-------]  lucene-suggest-6.6.1.jar\r\n│   ├── [-rw-------]  plugin-cli-5.6.4.jar\r\n│   ├── [-rw-------]  securesm-1.1.jar\r\n│   ├── [-rw-------]  snakeyaml-1.15.jar\r\n│   ├── [-rw-------]  spatial4j-0.6.jar\r\n│   └── [-rw-------]  t-digest-3.0.jar\r\n├── [-rw-------]  LICENSE.txt\r\n├── [drwx------]  modules\r\n│   ├── [drwx------]  aggs-matrix-stats\r\n│   ├── [drwx------]  ingest-common\r\n│   ├── [drwx------]  lang-expression\r\n│   ├── [drwx------]  lang-groovy\r\n│   ├── [drwx------]  lang-mustache\r\n│   ├── [drwx------]  lang-painless\r\n│   ├── [drwx------]  parent-join\r\n│   ├── [drwx------]  percolator\r\n│   ├── [drwx------]  reindex\r\n│   ├── [drwx------]  transport-netty3\r\n│   └── [drwx------]  transport-netty4\r\n├── [-rw-------]  NOTICE.txt\r\n├── [drwx------]  plugins\r\n└── [-rw-------]  README.textile\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/348163745","html_url":"https://github.com/elastic/elasticsearch/issues/27599#issuecomment-348163745","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27599","id":348163745,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODE2Mzc0NQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-11-30T11:37:28Z","updated_at":"2017-11-30T11:37:28Z","author_association":"MEMBER","body":"`├── [drwx------]  lib`\r\n\r\nThis is tending towards the direction of my explanation. Who is the owner of `lib`?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/348167974","html_url":"https://github.com/elastic/elasticsearch/issues/27599#issuecomment-348167974","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27599","id":348167974,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODE2Nzk3NA==","user":{"login":"amitavmohanty01","id":1063403,"node_id":"MDQ6VXNlcjEwNjM0MDM=","avatar_url":"https://avatars1.githubusercontent.com/u/1063403?v=4","gravatar_id":"","url":"https://api.github.com/users/amitavmohanty01","html_url":"https://github.com/amitavmohanty01","followers_url":"https://api.github.com/users/amitavmohanty01/followers","following_url":"https://api.github.com/users/amitavmohanty01/following{/other_user}","gists_url":"https://api.github.com/users/amitavmohanty01/gists{/gist_id}","starred_url":"https://api.github.com/users/amitavmohanty01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amitavmohanty01/subscriptions","organizations_url":"https://api.github.com/users/amitavmohanty01/orgs","repos_url":"https://api.github.com/users/amitavmohanty01/repos","events_url":"https://api.github.com/users/amitavmohanty01/events{/privacy}","received_events_url":"https://api.github.com/users/amitavmohanty01/received_events","type":"User","site_admin":false},"created_at":"2017-11-30T11:57:14Z","updated_at":"2017-11-30T11:57:14Z","author_association":"NONE","body":"```\r\ndrwx------.  3 amitav.mohanty mygroup     38 Nov 30 03:28 ?\r\ndrwx------.  8 amitav.mohanty mygroup   4096 Nov 30 03:28 .\r\ndrwx------.  2 amitav.mohanty mygroup   4096 Nov 30 03:27 bin\r\ndrwx------.  3 amitav.mohanty mygroup     77 Nov 30 03:27 ..\r\ndrwx------.  2 amitav.mohanty mygroup     88 Oct 31 11:57 config\r\ndrwx------. 13 amitav.mohanty mygroup   4096 Oct 31 11:57 modules\r\ndrwx------.  2 amitav.mohanty mygroup   4096 Oct 31 11:57 lib\r\ndrwx------.  2 amitav.mohanty mygroup     10 Oct 31 11:57 plugins\r\n-rw-------.  1 amitav.mohanty mygroup 194187 Oct 31 11:56 NOTICE.txt\r\n-rw-------.  1 amitav.mohanty mygroup  11358 Oct 31 11:53 LICENSE.txt\r\n-rw-------.  1 amitav.mohanty mygroup   9549 Oct 31 11:53 README.textile\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/348169520","html_url":"https://github.com/elastic/elasticsearch/issues/27599#issuecomment-348169520","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27599","id":348169520,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODE2OTUyMA==","user":{"login":"amitavmohanty01","id":1063403,"node_id":"MDQ6VXNlcjEwNjM0MDM=","avatar_url":"https://avatars1.githubusercontent.com/u/1063403?v=4","gravatar_id":"","url":"https://api.github.com/users/amitavmohanty01","html_url":"https://github.com/amitavmohanty01","followers_url":"https://api.github.com/users/amitavmohanty01/followers","following_url":"https://api.github.com/users/amitavmohanty01/following{/other_user}","gists_url":"https://api.github.com/users/amitavmohanty01/gists{/gist_id}","starred_url":"https://api.github.com/users/amitavmohanty01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amitavmohanty01/subscriptions","organizations_url":"https://api.github.com/users/amitavmohanty01/orgs","repos_url":"https://api.github.com/users/amitavmohanty01/repos","events_url":"https://api.github.com/users/amitavmohanty01/events{/privacy}","received_events_url":"https://api.github.com/users/amitavmohanty01/received_events","type":"User","site_admin":false},"created_at":"2017-11-30T12:04:26Z","updated_at":"2017-11-30T12:04:26Z","author_association":"NONE","body":"> This is tending towards the direction of my explanation.\r\n\r\nI am not sure of that. I checked the folder permissions of the dir from where I am able to run properly and it has the same permissions.\r\n\r\nPath 1 (not running case):\r\n```\r\ndrwx------.  2 amitav.mohanty mygroup   4096 Oct 31 11:57 lib\r\n```\r\n\r\nPath 2 (different partition folder, running fine):\r\n```\r\ndrwx------.  2 amitav.mohanty mygroup   4096 Oct 31 11:57 lib\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/348175700","html_url":"https://github.com/elastic/elasticsearch/issues/27599#issuecomment-348175700","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27599","id":348175700,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODE3NTcwMA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-11-30T12:33:54Z","updated_at":"2017-11-30T14:34:07Z","author_association":"MEMBER","body":"From the parent directory to `lib`, can you execute:\r\n\r\n```\r\n$ strace /opt/java-1.8.0_131.i586/bin/java -cp 'lib/*' org.elasticsearch.tools.JavaVersionChecker\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/348179391","html_url":"https://github.com/elastic/elasticsearch/issues/27599#issuecomment-348179391","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27599","id":348179391,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODE3OTM5MQ==","user":{"login":"amitavmohanty01","id":1063403,"node_id":"MDQ6VXNlcjEwNjM0MDM=","avatar_url":"https://avatars1.githubusercontent.com/u/1063403?v=4","gravatar_id":"","url":"https://api.github.com/users/amitavmohanty01","html_url":"https://github.com/amitavmohanty01","followers_url":"https://api.github.com/users/amitavmohanty01/followers","following_url":"https://api.github.com/users/amitavmohanty01/following{/other_user}","gists_url":"https://api.github.com/users/amitavmohanty01/gists{/gist_id}","starred_url":"https://api.github.com/users/amitavmohanty01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amitavmohanty01/subscriptions","organizations_url":"https://api.github.com/users/amitavmohanty01/orgs","repos_url":"https://api.github.com/users/amitavmohanty01/repos","events_url":"https://api.github.com/users/amitavmohanty01/events{/privacy}","received_events_url":"https://api.github.com/users/amitavmohanty01/received_events","type":"User","site_admin":false},"created_at":"2017-11-30T12:51:22Z","updated_at":"2017-11-30T14:09:31Z","author_association":"NONE","body":"```\r\n/path/to/elasticsearch-5.6.4]$ strace /opt/java-1.8.0_131.i586/bin/java -cp 'lib/*' org.elasticsearch.tools.JavaVersionChecker\r\nexecve(\"/opt/java-1.8.0_131.i586/bin/java\", [\"/opt/java-1.8.0_131.i586/bin/jav\"..., \"-cp\", \"lib/*\", \"org.elasticsearch.tools.JavaVers\"...], [/* 29 vars */]) = 0\r\n[ Process PID=159426 runs in 32 bit mode. ]\r\nbrk(0)                                  = 0x9263000\r\nmmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xfffffffff77ee000\r\nreadlink(\"/proc/self/exe\", \"/opt/java-1.8.0_131.i586/bin/jav\"..., 4096) = 33\r\naccess(\"/etc/ld.so.preload\", R_OK)      = -1 ENOENT (No such file or directory)\r\nopen(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/jli/tls/i686/sse2/libpthread.so.0\", O_RDONLY) = -1 ENOENT (No such file or directory)\r\nstat64(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/jli/tls/i686/sse2\", 0xff9b439c) = -1 ENOENT (No such file or directory)\r\nopen(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/jli/tls/i686/libpthread.so.0\", O_RDONLY) = -1 ENOENT (No such file or directory)\r\nstat64(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/jli/tls/i686\", 0xff9b439c) = -1 ENOENT (No such file or directory)\r\nopen(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/jli/tls/sse2/libpthread.so.0\", O_RDONLY) = -1 ENOENT (No such file or directory)\r\nstat64(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/jli/tls/sse2\", 0xff9b439c) = -1 ENOENT (No such file or directory)\r\nopen(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/jli/tls/libpthread.so.0\", O_RDONLY) = -1 ENOENT (No such file or directory)\r\nstat64(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/jli/tls\", 0xff9b439c) = -1 ENOENT (No such file or directory)\r\nopen(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/jli/i686/sse2/libpthread.so.0\", O_RDONLY) = -1 ENOENT (No such file or directory)\r\nstat64(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/jli/i686/sse2\", 0xff9b439c) = -1 ENOENT (No such file or directory)\r\nopen(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/jli/i686/libpthread.so.0\", O_RDONLY) = -1 ENOENT (No such file or directory)\r\nstat64(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/jli/i686\", 0xff9b439c) = -1 ENOENT (No such file or directory)\r\nopen(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/jli/sse2/libpthread.so.0\", O_RDONLY) = -1 ENOENT (No such file or directory)\r\nstat64(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/jli/sse2\", 0xff9b439c) = -1 ENOENT (No such file or directory)\r\nopen(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/jli/libpthread.so.0\", O_RDONLY) = -1 ENOENT (No such file or directory)\r\nstat64(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/jli\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nopen(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/tls/i686/sse2/libpthread.so.0\", O_RDONLY) = -1 ENOENT (No such file or directory)\r\nstat64(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/tls/i686/sse2\", 0xff9b439c) = -1 ENOENT (No such file or directory)\r\nopen(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/tls/i686/libpthread.so.0\", O_RDONLY) = -1 ENOENT (No such file or directory)\r\nstat64(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/tls/i686\", 0xff9b439c) = -1 ENOENT (No such file or directory)\r\nopen(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/tls/sse2/libpthread.so.0\", O_RDONLY) = -1 ENOENT (No such file or directory)\r\nstat64(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/tls/sse2\", 0xff9b439c) = -1 ENOENT (No such file or directory)\r\nopen(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/tls/libpthread.so.0\", O_RDONLY) = -1 ENOENT (No such file or directory)\r\nstat64(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/tls\", 0xff9b439c) = -1 ENOENT (No such file or directory)\r\nopen(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/i686/sse2/libpthread.so.0\", O_RDONLY) = -1 ENOENT (No such file or directory)\r\nstat64(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/i686/sse2\", 0xff9b439c) = -1 ENOENT (No such file or directory)\r\nopen(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/i686/libpthread.so.0\", O_RDONLY) = -1 ENOENT (No such file or directory)\r\nstat64(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/i686\", 0xff9b439c) = -1 ENOENT (No such file or directory)\r\nopen(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/sse2/libpthread.so.0\", O_RDONLY) = -1 ENOENT (No such file or directory)\r\nstat64(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/sse2\", 0xff9b439c) = -1 ENOENT (No such file or directory)\r\nopen(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/libpthread.so.0\", O_RDONLY) = -1 ENOENT (No such file or directory)\r\nstat64(\"/opt/java-1.8.0_131.i586/bin/../lib/i386\", {st_mode=S_IFDIR|0755, st_size=4096, ...}) = 0\r\nopen(\"/etc/ld.so.cache\", O_RDONLY)      = 3\r\nfstat64(3, {st_mode=S_IFREG|0644, st_size=45352, ...}) = 0\r\nmmap2(NULL, 45352, PROT_READ, MAP_PRIVATE, 3, 0) = 0xfffffffff77e2000\r\nclose(3)                                = 0\r\nopen(\"/lib/libpthread.so.0\", O_RDONLY)  = 3\r\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0\\3\\0\\1\\0\\0\\0\\0N\\0\\0004\\0\\0\\0\"..., 512) = 512\r\nfstat64(3, {st_mode=S_IFREG|0755, st_size=131848, ...}) = 0\r\nmmap2(NULL, 107044, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0xfe4000\r\nmmap2(0xffb000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x16000) = 0xffb000\r\nmmap2(0xffd000, 4644, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0xffd000\r\nclose(3)                                = 0\r\nopen(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/jli/libjli.so\", O_RDONLY) = 3\r\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0\\3\\0\\1\\0\\0\\0000\\31\\0\\0004\\0\\0\\0\"..., 512) = 512\r\nfstat64(3, {st_mode=S_IFREG|0755, st_size=95540, ...}) = 0\r\nmmap2(NULL, 82836, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x7a7000\r\nmmap2(0x7bb000, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x14000) = 0x7bb000\r\nclose(3)                                = 0\r\nopen(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/jli/libdl.so.2\", O_RDONLY) = -1 ENOENT (No such file or directory)\r\nopen(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/libdl.so.2\", O_RDONLY) = -1 ENOENT (No such file or directory)\r\nopen(\"/lib/libdl.so.2\", O_RDONLY)       = 3\r\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0\\3\\0\\1\\0\\0\\0`\\n\\0\\0004\\0\\0\\0\"..., 512) = 512\r\nfstat64(3, {st_mode=S_IFREG|0755, st_size=18352, ...}) = 0\r\nmmap2(NULL, 16500, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x404000\r\nmmap2(0x407000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x2000) = 0x407000\r\nclose(3)                                = 0\r\nopen(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/jli/libc.so.6\", O_RDONLY) = -1 ENOENT (No such file or directory)\r\nopen(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/libc.so.6\", O_RDONLY) = -1 ENOENT (No such file or directory)\r\nopen(\"/lib/libc.so.6\", O_RDONLY)        = 3\r\nread(3, \"\\177ELF\\1\\1\\1\\3\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0\\3\\0\\1\\0\\0\\0\\200n\\1\\0004\\0\\0\\0\"..., 512) = 512\r\nfstat64(3, {st_mode=S_IFREG|0755, st_size=1909464, ...}) = 0\r\nmmap2(NULL, 1665484, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0xb82000\r\nmmap2(0xd13000, 12288, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x191000) = 0xd13000\r\nmmap2(0xd16000, 10700, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0xd16000\r\nclose(3)                                = 0\r\nmmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xfffffffff77e1000\r\nmmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xfffffffff77e0000\r\nset_thread_area(0xff9b4828)             = 0\r\nmprotect(0xd13000, 8192, PROT_READ)     = 0\r\nmprotect(0x407000, 4096, PROT_READ)     = 0\r\nmprotect(0xffb000, 4096, PROT_READ)     = 0\r\nmprotect(0x5e6000, 4096, PROT_READ)     = 0\r\nmunmap(0xf77e2000, 45352)               = 0\r\nset_tid_address(0xf77e0728)             = 159426\r\nset_robust_list(0xf77e0730, 12)         = 0\r\nfutex(0xff9b5984, FUTEX_WAKE_PRIVATE, 1) = 0\r\nfutex(0xff9b5984, FUTEX_WAIT_BITSET_PRIVATE|FUTEX_CLOCK_REALTIME, 1, NULL, ff9b5994) = -1 EAGAIN (Resource temporarily unavailable)\r\nrt_sigaction(SIGRTMIN, {0xfe87d0, [], SA_SIGINFO}, NULL, 8) = 0\r\nrt_sigaction(SIGRT_1, {0xfe8cd0, [], SA_RESTART|SA_SIGINFO}, NULL, 8) = 0\r\nrt_sigprocmask(SIG_UNBLOCK, [RTMIN RT_1], NULL, 8) = 0\r\ngetrlimit(RLIMIT_STACK, {rlim_cur=10240*1024, rlim_max=RLIM_INFINITY}) = 0\r\nuname({sys=\"Linux\", node=\"hostname.domainname.com\", ...}) = 0\r\nbrk(0)                                  = 0x9263000\r\nbrk(0x9284000)                          = 0x9284000\r\nreadlink(\"/proc/self/exe\", \"/opt/java-1.8.0_131.i586/bin/jav\"..., 4096) = 33\r\naccess(\"/opt/java-1.8.0_131.i586/lib/i386/libjava.so\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/opt/java-1.8.0_131.i586/jre/lib/i386/libjava.so\", F_OK) = 0\r\nopen(\"/opt/java-1.8.0_131.i586/jre/lib/i386/jvm.cfg\", O_RDONLY) = 3\r\nfstat64(3, {st_mode=S_IFREG|0644, st_size=656, ...}) = 0\r\nmmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xfffffffff77ed000\r\nread(3, \"# Copyright (c) 2001, 2013, Orac\"..., 4096) = 656\r\nread(3, \"\", 4096)                       = 0\r\nclose(3)                                = 0\r\nmunmap(0xf77ed000, 4096)                = 0\r\nopen(\"/proc/meminfo\", O_RDONLY|O_CLOEXEC) = 3\r\nfstat64(3, {st_mode=S_IFREG|0444, st_size=0, ...}) = 0\r\nmmap2(NULL, 4096, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xfffffffff77ed000\r\nread(3, \"MemTotal:       529165808 kB\\nMem\"..., 1024) = 1024\r\nclose(3)                                = 0\r\nmunmap(0xf77ed000, 4096)                = 0\r\nopen(\"/sys/devices/system/cpu\", O_RDONLY|O_NONBLOCK|O_LARGEFILE|O_DIRECTORY|O_CLOEXEC) = 3\r\nfcntl64(3, F_GETFD)                     = 0x1 (flags FD_CLOEXEC)\r\ngetdents64(3, /* 67 entries */, 32768)  = 2080\r\ngetdents64(3, /* 0 entries */, 32768)   = 0\r\nclose(3)                                = 0\r\nstat64(\"/opt/java-1.8.0_131.i586/jre/lib/i386/server/libjvm.so\", {st_mode=S_IFREG|0755, st_size=12918039, ...}) = 0\r\nfutex(0x408068, FUTEX_WAKE_PRIVATE, 2147483647) = 0\r\nopen(\"/opt/java-1.8.0_131.i586/jre/lib/i386/server/libjvm.so\", O_RDONLY) = 3\r\nread(3, \"\\177ELF\\1\\1\\1\\0\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0\\3\\0\\1\\0\\0\\0@\\365\\16\\0004\\0\\0\\0\"..., 512) = 512\r\nfstat64(3, {st_mode=S_IFREG|0755, st_size=12918039, ...}) = 0\r\nmmap2(NULL, 14818596, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0xfff000\r\nmmap2(0x198b000, 450560, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x98b000) = 0x198b000\r\nmmap2(0x19f9000, 4357412, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_ANONYMOUS, -1, 0) = 0x19f9000\r\nclose(3)                                = 0\r\nopen(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/jli/libm.so.6\", O_RDONLY) = -1 ENOENT (No such file or directory)\r\nopen(\"/opt/java-1.8.0_131.i586/bin/../lib/i386/libm.so.6\", O_RDONLY) = -1 ENOENT (No such file or directory)\r\nopen(\"/etc/ld.so.cache\", O_RDONLY)      = 3\r\nfstat64(3, {st_mode=S_IFREG|0644, st_size=45352, ...}) = 0\r\nmmap2(NULL, 45352, PROT_READ, MAP_PRIVATE, 3, 0) = 0xfffffffff77e2000\r\nclose(3)                                = 0\r\nopen(\"/lib/libm.so.6\", O_RDONLY)        = 3\r\nread(3, \"\\177ELF\\1\\1\\1\\3\\0\\0\\0\\0\\0\\0\\0\\0\\3\\0\\3\\0\\1\\0\\0\\0p4\\0\\0004\\0\\0\\0\"..., 512) = 512\r\nfstat64(3, {st_mode=S_IFREG|0755, st_size=200624, ...}) = 0\r\nmmap2(NULL, 168064, PROT_READ|PROT_EXEC, MAP_PRIVATE|MAP_DENYWRITE, 3, 0) = 0x616000\r\nmmap2(0x63e000, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_FIXED|MAP_DENYWRITE, 3, 0x27000) = 0x63e000\r\nclose(3)                                = 0\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\nmprotect(0x63e000, 4096, PROT_READ)     = 0\r\nmprotect(0xfff000, 10010624, PROT_READ|PROT_WRITE) = 0\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\nmprotect(0xfff000, 10010624, PROT_READ|PROT_EXEC) = 0\r\nmunmap(0xf77e2000, 45352)               = 0\r\naccess(\"/etc/sysconfig/32bit_ssse3_memcpy_via_32bit_ssse3_memmove\", F_OK) = -1 ENOENT (No such file or directory)\r\naccess(\"lib/*\", F_OK)                   = -1 ENOENT (No such file or directory)\r\nopen(\"lib/\", O_RDONLY|O_NONBLOCK|O_LARGEFILE|O_DIRECTORY|O_CLOEXEC) = 3\r\ngetdents(3, 0x9264444, 32768)           = -1 EOVERFLOW (Value too large for defined data type)\r\nclose(3)                                = 0\r\nmmap2(NULL, 331776, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS|MAP_STACK, -1, 0) = 0xfffffffff778f000\r\nmprotect(0xf778f000, 4096, PROT_NONE)   = 0\r\nclone(child_stack=0xf77df494, flags=CLONE_VM|CLONE_FS|CLONE_FILES|CLONE_SIGHAND|CLONE_THREAD|CLONE_SYSVSEM|CLONE_SETTLS|CLONE_PARENT_SETTID|CLONE_CHILD_CLEARTID, parent_tidptr=0xf77dfbd8, tls=0xf77dfbd8, child_tidptr=0xff9b1690) = 159427\r\nfutex(0xf77dfbd8, FUTEX_WAIT, 159427, NULLError: Could not find or load main class org.elasticsearch.tools.JavaVersionChecker\r\n <unfinished ...>\r\n+++ exited with 1 +++\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/348182887","html_url":"https://github.com/elastic/elasticsearch/issues/27599#issuecomment-348182887","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27599","id":348182887,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODE4Mjg4Nw==","user":{"login":"amitavmohanty01","id":1063403,"node_id":"MDQ6VXNlcjEwNjM0MDM=","avatar_url":"https://avatars1.githubusercontent.com/u/1063403?v=4","gravatar_id":"","url":"https://api.github.com/users/amitavmohanty01","html_url":"https://github.com/amitavmohanty01","followers_url":"https://api.github.com/users/amitavmohanty01/followers","following_url":"https://api.github.com/users/amitavmohanty01/following{/other_user}","gists_url":"https://api.github.com/users/amitavmohanty01/gists{/gist_id}","starred_url":"https://api.github.com/users/amitavmohanty01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amitavmohanty01/subscriptions","organizations_url":"https://api.github.com/users/amitavmohanty01/orgs","repos_url":"https://api.github.com/users/amitavmohanty01/repos","events_url":"https://api.github.com/users/amitavmohanty01/events{/privacy}","received_events_url":"https://api.github.com/users/amitavmohanty01/received_events","type":"User","site_admin":false},"created_at":"2017-11-30T13:06:56Z","updated_at":"2017-11-30T13:06:56Z","author_association":"NONE","body":"I am facing a similar issue with logstash also. The class to be loaded in logstash turns out to be ```org.jruby.Main```.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/348191635","html_url":"https://github.com/elastic/elasticsearch/issues/27599#issuecomment-348191635","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27599","id":348191635,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODE5MTYzNQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-11-30T13:44:21Z","updated_at":"2017-11-30T13:44:21Z","author_association":"MEMBER","body":"I think I see the problem, I think it's your filesystem (64-bit inodes) interacting poorly with 32-bit system calls. What is your filesystem, XFS perhaps? Can you check:\r\n\r\n`$ ls -lid lib`\r\n\r\n(again, from the parent directory of `lib` on the troublesome filesystem).\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/348197614","html_url":"https://github.com/elastic/elasticsearch/issues/27599#issuecomment-348197614","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27599","id":348197614,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODE5NzYxNA==","user":{"login":"amitavmohanty01","id":1063403,"node_id":"MDQ6VXNlcjEwNjM0MDM=","avatar_url":"https://avatars1.githubusercontent.com/u/1063403?v=4","gravatar_id":"","url":"https://api.github.com/users/amitavmohanty01","html_url":"https://github.com/amitavmohanty01","followers_url":"https://api.github.com/users/amitavmohanty01/followers","following_url":"https://api.github.com/users/amitavmohanty01/following{/other_user}","gists_url":"https://api.github.com/users/amitavmohanty01/gists{/gist_id}","starred_url":"https://api.github.com/users/amitavmohanty01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amitavmohanty01/subscriptions","organizations_url":"https://api.github.com/users/amitavmohanty01/orgs","repos_url":"https://api.github.com/users/amitavmohanty01/repos","events_url":"https://api.github.com/users/amitavmohanty01/events{/privacy}","received_events_url":"https://api.github.com/users/amitavmohanty01/received_events","type":"User","site_admin":false},"created_at":"2017-11-30T14:08:07Z","updated_at":"2017-11-30T14:08:07Z","author_association":"NONE","body":"@jasontedor thanks for the help. It seems your suggestion is right. The partition on which everything is running fine is ext3 partition but the partition on which ES is failing is an XFS partition which is mounted with inode64 mount attribute.\r\n\r\nI am curious to know what is the reasoning behind the commands; how did you connect the dots to figure out that an XFS partition might be the issue here. If you can elaborate on that, it would be great help.\r\n\r\nThe result of the command as requested above is:\r\n\r\n```\r\n$ ls -lid lib\r\n49424530438 drwx------. 2 amitav.mohanty mygroup 4096 Oct 31 11:57 lib\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/348201714","html_url":"https://github.com/elastic/elasticsearch/issues/27599#issuecomment-348201714","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27599","id":348201714,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODIwMTcxNA==","user":{"login":"amitavmohanty01","id":1063403,"node_id":"MDQ6VXNlcjEwNjM0MDM=","avatar_url":"https://avatars1.githubusercontent.com/u/1063403?v=4","gravatar_id":"","url":"https://api.github.com/users/amitavmohanty01","html_url":"https://github.com/amitavmohanty01","followers_url":"https://api.github.com/users/amitavmohanty01/followers","following_url":"https://api.github.com/users/amitavmohanty01/following{/other_user}","gists_url":"https://api.github.com/users/amitavmohanty01/gists{/gist_id}","starred_url":"https://api.github.com/users/amitavmohanty01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amitavmohanty01/subscriptions","organizations_url":"https://api.github.com/users/amitavmohanty01/orgs","repos_url":"https://api.github.com/users/amitavmohanty01/repos","events_url":"https://api.github.com/users/amitavmohanty01/events{/privacy}","received_events_url":"https://api.github.com/users/amitavmohanty01/received_events","type":"User","site_admin":false},"created_at":"2017-11-30T14:22:35Z","updated_at":"2017-11-30T14:22:35Z","author_association":"NONE","body":"The open() and stat64() system call failures in strace output appear in the non-working as well as the working partitions.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/348208831","html_url":"https://github.com/elastic/elasticsearch/issues/27599#issuecomment-348208831","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27599","id":348208831,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODIwODgzMQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-11-30T14:46:15Z","updated_at":"2017-11-30T14:46:15Z","author_association":"MEMBER","body":"@amitavmohanty01 For me the clue was this system call:\r\n\r\n```\r\ngetdents(3, 0x9264444, 32768)           = -1 EOVERFLOW (Value too large for defined data type)\r\n```\r\n\r\ncombined with the fact that I see you're running 32-bit Java: `/opt/java-1.8.0_131.i586/bin/java`.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/348234653","html_url":"https://github.com/elastic/elasticsearch/issues/27599#issuecomment-348234653","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27599","id":348234653,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODIzNDY1Mw==","user":{"login":"amitavmohanty01","id":1063403,"node_id":"MDQ6VXNlcjEwNjM0MDM=","avatar_url":"https://avatars1.githubusercontent.com/u/1063403?v=4","gravatar_id":"","url":"https://api.github.com/users/amitavmohanty01","html_url":"https://github.com/amitavmohanty01","followers_url":"https://api.github.com/users/amitavmohanty01/followers","following_url":"https://api.github.com/users/amitavmohanty01/following{/other_user}","gists_url":"https://api.github.com/users/amitavmohanty01/gists{/gist_id}","starred_url":"https://api.github.com/users/amitavmohanty01/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amitavmohanty01/subscriptions","organizations_url":"https://api.github.com/users/amitavmohanty01/orgs","repos_url":"https://api.github.com/users/amitavmohanty01/repos","events_url":"https://api.github.com/users/amitavmohanty01/events{/privacy}","received_events_url":"https://api.github.com/users/amitavmohanty01/received_events","type":"User","site_admin":false},"created_at":"2017-11-30T16:06:23Z","updated_at":"2017-11-30T16:06:23Z","author_association":"NONE","body":"It seems the getdents has a 64-bit version as well which will not fail in the scenario.\r\n\r\nWhy does ES need this system call anyway? It would be interesting to know how this info is being used in the initial loading time.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/348236834","html_url":"https://github.com/elastic/elasticsearch/issues/27599#issuecomment-348236834","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27599","id":348236834,"node_id":"MDEyOklzc3VlQ29tbWVudDM0ODIzNjgzNA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2017-11-30T16:12:49Z","updated_at":"2017-11-30T16:12:49Z","author_association":"MEMBER","body":"@amitavmohanty01 It's the JVM, it's trying to open the classpath; notice that when you run `/opt/java-1.8.0_131.i586/bin/java -cp 'lib/*' org.elasticsearch.tools.JavaVersionChecker` not a *single* line of Elasticsearch code is executing, that is *all* JVM code. Can you use a 64-bit JVM on your system?\r\n\r\nIn short, this is not an Elasticsearch issue nor is it a Logstash issue, so I am going to close this.","performed_via_github_app":null}]