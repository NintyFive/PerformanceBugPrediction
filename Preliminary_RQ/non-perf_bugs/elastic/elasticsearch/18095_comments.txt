[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/216334324","html_url":"https://github.com/elastic/elasticsearch/issues/18095#issuecomment-216334324","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18095","id":216334324,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjMzNDMyNA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-05-02T19:18:58Z","updated_at":"2016-05-02T19:18:58Z","author_association":"MEMBER","body":"The main point of the explain API is to provide scoring. However, scoring is calculated locally to a shard (because of how IDF is computed unless using `dfs_query_then_fetch`) so showing the shard is important. But I'm generally not sure how valuable it is to know what shard handled a request outside the context of scoring? I'm -1 on adding this.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/216389805","html_url":"https://github.com/elastic/elasticsearch/issues/18095#issuecomment-216389805","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18095","id":216389805,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjM4OTgwNQ==","user":{"login":"ppf2","id":7216393,"node_id":"MDQ6VXNlcjcyMTYzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/7216393?v=4","gravatar_id":"","url":"https://api.github.com/users/ppf2","html_url":"https://github.com/ppf2","followers_url":"https://api.github.com/users/ppf2/followers","following_url":"https://api.github.com/users/ppf2/following{/other_user}","gists_url":"https://api.github.com/users/ppf2/gists{/gist_id}","starred_url":"https://api.github.com/users/ppf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppf2/subscriptions","organizations_url":"https://api.github.com/users/ppf2/orgs","repos_url":"https://api.github.com/users/ppf2/repos","events_url":"https://api.github.com/users/ppf2/events{/privacy}","received_events_url":"https://api.github.com/users/ppf2/received_events","type":"User","site_admin":false},"created_at":"2016-05-02T22:58:55Z","updated_at":"2016-05-02T22:58:55Z","author_association":"MEMBER","body":"Sometimes, we use the explain api as one of the tools to determine if a query causing hotspots is due to an unbalanced number of documents being routed to specific shards when not using the default routing.  And it is also useful for confirming if search preference options and things like prefer-local-shards for shard allocation awareness are working.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/216397805","html_url":"https://github.com/elastic/elasticsearch/issues/18095#issuecomment-216397805","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18095","id":216397805,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjM5NzgwNQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-05-02T23:48:33Z","updated_at":"2016-05-02T23:57:16Z","author_association":"MEMBER","body":"> Sometimes, we use the explain api as one of the tools to determine if a query causing hotspots is due to an unbalanced number of documents being routed to specific shards when not using the default routing. \n\nThis is done more appropriately with the count API:\n\n``` bash\nPOST /_count?routing=custom_routing\n{\n  \"query\": {\n    .\n    .\n    .\n  }\n}\n```\n\n> And it is also useful for confirming if search preference options and things like prefer-local-shards for shard allocation awareness are working.\n\nWe have tests to validate this. I don't think we should add features to Elasticsearch to validate other features of Elasticsearch. Another point is that this output would not actually prove that the operation is routed to the specified node, validating that really requires a network trace.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/216462359","html_url":"https://github.com/elastic/elasticsearch/issues/18095#issuecomment-216462359","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18095","id":216462359,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjQ2MjM1OQ==","user":{"login":"ppf2","id":7216393,"node_id":"MDQ6VXNlcjcyMTYzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/7216393?v=4","gravatar_id":"","url":"https://api.github.com/users/ppf2","html_url":"https://github.com/ppf2","followers_url":"https://api.github.com/users/ppf2/followers","following_url":"https://api.github.com/users/ppf2/following{/other_user}","gists_url":"https://api.github.com/users/ppf2/gists{/gist_id}","starred_url":"https://api.github.com/users/ppf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppf2/subscriptions","organizations_url":"https://api.github.com/users/ppf2/orgs","repos_url":"https://api.github.com/users/ppf2/repos","events_url":"https://api.github.com/users/ppf2/events{/privacy}","received_events_url":"https://api.github.com/users/ppf2/received_events","type":"User","site_admin":false},"created_at":"2016-05-03T07:58:04Z","updated_at":"2016-05-03T07:58:04Z","author_association":"MEMBER","body":"ok fair enough :)\n","performed_via_github_app":null}]