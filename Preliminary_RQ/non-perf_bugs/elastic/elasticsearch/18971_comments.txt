[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/227174674","html_url":"https://github.com/elastic/elasticsearch/issues/18971#issuecomment-227174674","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18971","id":227174674,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzE3NDY3NA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-06-20T15:21:15Z","updated_at":"2016-06-20T15:21:15Z","author_association":"CONTRIBUTOR","body":"I agree that we should combine those two settings into one, but am unsure about the name.  Don't forget that there are other configuration options which can appear under [`index.similarity`](https://www.elastic.co/guide/en/elasticsearch/reference/master/index-modules-similarity.html#configuration).  Perhaps we should just call it `index.similarity.default.type`.\n\nBtw in master, if I do:\n\n```\nPUT t/t/1\n{\"text\": \"foo\"}\n\nGET t/_mapping/field/text?include_defaults\n```\n\nI get:\n\n```\n          \"similarity\": \"classic\",\n```\n\nso something even more is wrong...  Is it the get-field-mapping API or the default similarity?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/227177073","html_url":"https://github.com/elastic/elasticsearch/issues/18971#issuecomment-227177073","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18971","id":227177073,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzE3NzA3Mw==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-06-20T15:29:31Z","updated_at":"2016-06-20T15:29:31Z","author_association":"CONTRIBUTOR","body":"Ah I see you're on it already: https://github.com/elastic/elasticsearch/pull/18948\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/227184868","html_url":"https://github.com/elastic/elasticsearch/issues/18971#issuecomment-227184868","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18971","id":227184868,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzE4NDg2OA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-06-20T15:54:56Z","updated_at":"2016-06-20T15:54:56Z","author_association":"CONTRIBUTOR","body":"@jimferenczi re uniting those two settings i'm having second thoughts...  The only reason for having `.base.type` is to support TF/IDF for bwc.  But query norm and coord are going to be removed in Lucene (see https://issues.apache.org/jira/browse/LUCENE-7347)\n\nWe shouldn't encourage people to use TF/IDF by default for new indices, just for bwc for queries on old indices.  The  `.base.type` setting can be removed in ES 6.0, so perhaps we should just keep it as it is today, ie two separate settings, but set to bm25 by default.\n\nNote: similarities can be updated on closed indices, so people can move entirely to BM25 even with existing indices.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/227186021","html_url":"https://github.com/elastic/elasticsearch/issues/18971#issuecomment-227186021","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18971","id":227186021,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzE4NjAyMQ==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2016-06-20T15:58:40Z","updated_at":"2016-06-20T15:58:40Z","author_association":"CONTRIBUTOR","body":"This is only under discussion for now and it might be a bit controversial, but indeed it would have the benefit of removing the need for a `base` similarity.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/227481806","html_url":"https://github.com/elastic/elasticsearch/issues/18971#issuecomment-227481806","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18971","id":227481806,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzQ4MTgwNg==","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2016-06-21T15:43:54Z","updated_at":"2016-06-21T15:43:54Z","author_association":"CONTRIBUTOR","body":"+1 to move away from queryNorm and coord, even if they have to hang around lucene for some reason.\n\nReally: this is 1980s type stuff :)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/229932903","html_url":"https://github.com/elastic/elasticsearch/issues/18971#issuecomment-229932903","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18971","id":229932903,"node_id":"MDEyOklzc3VlQ29tbWVudDIyOTkzMjkwMw==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2016-07-01T12:21:03Z","updated_at":"2016-07-01T12:21:03Z","author_association":"MEMBER","body":"Discussed in FixItFriday. One option could be to remove the support for the `classic` similarity in ES. BM25 should be considered as a full replacement for TFIDF similarity. Since the classic similarity is the only user of the queryNorm, coord API we could completely remove the `base` similarity if `classic` is removed.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/229934541","html_url":"https://github.com/elastic/elasticsearch/issues/18971#issuecomment-229934541","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18971","id":229934541,"node_id":"MDEyOklzc3VlQ29tbWVudDIyOTkzNDU0MQ==","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2016-07-01T12:29:34Z","updated_at":"2016-07-01T12:29:34Z","author_association":"CONTRIBUTOR","body":"> Discussed in FixItFriday. One option could be to remove the support for the classic similarity in ES. BM25 should be considered as a full replacement for TFIDF similarity.\n\nI'd be +1 to this. Here is why. users of `classic` will be unhappy with Lucene 6 regardless of what we do: see https://issues.apache.org/jira/browse/LUCENE-6711\n\nThis is a great improvement to all similarities, including `classic`. But it means, there is literally zero \"value\" backwards-compatibility-wise, in providing `classic` to old users. If they have _any sparsity at all_, not just scores, but also relative ranking of documents will change (for the better). \n\nSo why keep `classic` around at all?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/306905791","html_url":"https://github.com/elastic/elasticsearch/issues/18971#issuecomment-306905791","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/18971","id":306905791,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNjkwNTc5MQ==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2017-06-07T19:51:37Z","updated_at":"2017-06-07T19:51:37Z","author_association":"MEMBER","body":"Duplicate of #23208 ","performed_via_github_app":null}]