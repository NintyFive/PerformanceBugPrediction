{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/44128","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44128/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44128/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44128/events","html_url":"https://github.com/elastic/elasticsearch/issues/44128","id":465898227,"node_id":"MDU6SXNzdWU0NjU4OTgyMjc=","number":44128,"title":"[feature request]copy_index api(reindex with file copy not doc insert)","user":{"login":"riverbuilding","id":7370717,"node_id":"MDQ6VXNlcjczNzA3MTc=","avatar_url":"https://avatars1.githubusercontent.com/u/7370717?v=4","gravatar_id":"","url":"https://api.github.com/users/riverbuilding","html_url":"https://github.com/riverbuilding","followers_url":"https://api.github.com/users/riverbuilding/followers","following_url":"https://api.github.com/users/riverbuilding/following{/other_user}","gists_url":"https://api.github.com/users/riverbuilding/gists{/gist_id}","starred_url":"https://api.github.com/users/riverbuilding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/riverbuilding/subscriptions","organizations_url":"https://api.github.com/users/riverbuilding/orgs","repos_url":"https://api.github.com/users/riverbuilding/repos","events_url":"https://api.github.com/users/riverbuilding/events{/privacy}","received_events_url":"https://api.github.com/users/riverbuilding/received_events","type":"User","site_admin":false},"labels":[{"id":163824881,"node_id":"MDU6TGFiZWwxNjM4MjQ4ODE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Indices%20APIs","name":":Core/Features/Indices APIs","color":"0e8a16","default":false,"description":"APIs to create and manage indices"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2019-07-09T17:21:45Z","updated_at":"2019-07-25T18:19:19Z","closed_at":"2019-07-25T18:19:19Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"use case: copy old index as a backup to support rollback and then update the original index to move forward in the same cluster.\r\n\r\nES provide re-index API which can be used to copy index with many flexibility like schema change, doc filter etc.\r\nalthough with many limitations, from performance side, the file copy method is much fast than reindex, especially when index size is big.\r\n\r\nAPI:\r\n\r\nPOST _copyindex\r\n{\r\n  \"source\": {\r\n    \"index\": \"twitter\"\r\n\r\n  },\r\n  \"dest\": {\r\n    \"index\": \"new_twitter\"\r\n    \"replica\": Number//must eq or less than orginal index replica, otherwise, fail request\r\n  }\r\n}\r\n\r\nit's really like snapshot-restore process only repository is ES itself\r\n","closed_by":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"performed_via_github_app":null}