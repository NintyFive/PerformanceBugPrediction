[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/71528892","html_url":"https://github.com/elastic/elasticsearch/issues/9323#issuecomment-71528892","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9323","id":71528892,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNTI4ODky","user":{"login":"ppf2","id":7216393,"node_id":"MDQ6VXNlcjcyMTYzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/7216393?v=4","gravatar_id":"","url":"https://api.github.com/users/ppf2","html_url":"https://github.com/ppf2","followers_url":"https://api.github.com/users/ppf2/followers","following_url":"https://api.github.com/users/ppf2/following{/other_user}","gists_url":"https://api.github.com/users/ppf2/gists{/gist_id}","starred_url":"https://api.github.com/users/ppf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppf2/subscriptions","organizations_url":"https://api.github.com/users/ppf2/orgs","repos_url":"https://api.github.com/users/ppf2/repos","events_url":"https://api.github.com/users/ppf2/events{/privacy}","received_events_url":"https://api.github.com/users/ppf2/received_events","type":"User","site_admin":false},"created_at":"2015-01-26T20:10:51Z","updated_at":"2015-01-26T20:10:51Z","author_association":"MEMBER","body":"Looks like this was caused by a socket connection issue which caused the master to disconnect the data node when it was trying to allocate replicas.  As a result, the master lost the single copy it had of shard 0 and therefore also cannot allocate the replica.  We opted to leave these shards in place to prevent any potential loss of data.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/72593772","html_url":"https://github.com/elastic/elasticsearch/issues/9323#issuecomment-72593772","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9323","id":72593772,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNTkzNzcy","user":{"login":"emwalker","id":760949,"node_id":"MDQ6VXNlcjc2MDk0OQ==","avatar_url":"https://avatars0.githubusercontent.com/u/760949?v=4","gravatar_id":"","url":"https://api.github.com/users/emwalker","html_url":"https://github.com/emwalker","followers_url":"https://api.github.com/users/emwalker/followers","following_url":"https://api.github.com/users/emwalker/following{/other_user}","gists_url":"https://api.github.com/users/emwalker/gists{/gist_id}","starred_url":"https://api.github.com/users/emwalker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emwalker/subscriptions","organizations_url":"https://api.github.com/users/emwalker/orgs","repos_url":"https://api.github.com/users/emwalker/repos","events_url":"https://api.github.com/users/emwalker/events{/privacy}","received_events_url":"https://api.github.com/users/emwalker/received_events","type":"User","site_admin":false},"created_at":"2015-02-03T05:08:00Z","updated_at":"2015-02-03T05:08:00Z","author_association":"NONE","body":"What do you do to recover from this situation?  I'm having trouble restarting the service on the node on which it failed.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/72611252","html_url":"https://github.com/elastic/elasticsearch/issues/9323#issuecomment-72611252","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9323","id":72611252,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNjExMjUy","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2015-02-03T08:21:34Z","updated_at":"2015-02-03T08:21:34Z","author_association":"MEMBER","body":"@emwalker once a primary shard is started it will accept indexing requests which is why ES can't automatically re-assign it once lost. Rather it waits for the node to re-join the cluster (and re-assign it there). If you know nothing was indexed or you don't mind the data loss, you can use the reroute API to force assign the primary somewhere else. Obviously it will be empty. http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/cluster-reroute.html#cluster-reroute (see the `allow_primary` flag)\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/140763713","html_url":"https://github.com/elastic/elasticsearch/issues/9323#issuecomment-140763713","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9323","id":140763713,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MDc2MzcxMw==","user":{"login":"jlmoody","id":4481647,"node_id":"MDQ6VXNlcjQ0ODE2NDc=","avatar_url":"https://avatars1.githubusercontent.com/u/4481647?v=4","gravatar_id":"","url":"https://api.github.com/users/jlmoody","html_url":"https://github.com/jlmoody","followers_url":"https://api.github.com/users/jlmoody/followers","following_url":"https://api.github.com/users/jlmoody/following{/other_user}","gists_url":"https://api.github.com/users/jlmoody/gists{/gist_id}","starred_url":"https://api.github.com/users/jlmoody/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jlmoody/subscriptions","organizations_url":"https://api.github.com/users/jlmoody/orgs","repos_url":"https://api.github.com/users/jlmoody/repos","events_url":"https://api.github.com/users/jlmoody/events{/privacy}","received_events_url":"https://api.github.com/users/jlmoody/received_events","type":"User","site_admin":false},"created_at":"2015-09-16T14:46:31Z","updated_at":"2015-09-16T14:46:31Z","author_association":"NONE","body":"@ppf2 What version of Elasticsearch was running when you experienced this issue?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/143590348","html_url":"https://github.com/elastic/elasticsearch/issues/9323#issuecomment-143590348","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9323","id":143590348,"node_id":"MDEyOklzc3VlQ29tbWVudDE0MzU5MDM0OA==","user":{"login":"ppf2","id":7216393,"node_id":"MDQ6VXNlcjcyMTYzOTM=","avatar_url":"https://avatars0.githubusercontent.com/u/7216393?v=4","gravatar_id":"","url":"https://api.github.com/users/ppf2","html_url":"https://github.com/ppf2","followers_url":"https://api.github.com/users/ppf2/followers","following_url":"https://api.github.com/users/ppf2/following{/other_user}","gists_url":"https://api.github.com/users/ppf2/gists{/gist_id}","starred_url":"https://api.github.com/users/ppf2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppf2/subscriptions","organizations_url":"https://api.github.com/users/ppf2/orgs","repos_url":"https://api.github.com/users/ppf2/repos","events_url":"https://api.github.com/users/ppf2/events{/privacy}","received_events_url":"https://api.github.com/users/ppf2/received_events","type":"User","site_admin":false},"created_at":"2015-09-27T19:48:30Z","updated_at":"2015-09-27T19:48:30Z","author_association":"MEMBER","body":"I believe it was 1.4.1 @jlmoody \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/166592426","html_url":"https://github.com/elastic/elasticsearch/issues/9323#issuecomment-166592426","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9323","id":166592426,"node_id":"MDEyOklzc3VlQ29tbWVudDE2NjU5MjQyNg==","user":{"login":"ankireddy501","id":7135007,"node_id":"MDQ6VXNlcjcxMzUwMDc=","avatar_url":"https://avatars3.githubusercontent.com/u/7135007?v=4","gravatar_id":"","url":"https://api.github.com/users/ankireddy501","html_url":"https://github.com/ankireddy501","followers_url":"https://api.github.com/users/ankireddy501/followers","following_url":"https://api.github.com/users/ankireddy501/following{/other_user}","gists_url":"https://api.github.com/users/ankireddy501/gists{/gist_id}","starred_url":"https://api.github.com/users/ankireddy501/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankireddy501/subscriptions","organizations_url":"https://api.github.com/users/ankireddy501/orgs","repos_url":"https://api.github.com/users/ankireddy501/repos","events_url":"https://api.github.com/users/ankireddy501/events{/privacy}","received_events_url":"https://api.github.com/users/ankireddy501/received_events","type":"User","site_admin":false},"created_at":"2015-12-22T11:41:40Z","updated_at":"2015-12-22T11:41:53Z","author_association":"NONE","body":"i am also facing the same problem during the type  update\n\norg.elasticsearch.cluster.metadata.ProcessClusterEventTimeoutException: failed to process cluster event (put-mapping [Activity]) within 30s \n        at org.elasticsearch.cluster.service.InternalClusterService$2$1.run(InternalClusterService.java:263) \n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) \n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) \n        at java.lang.Thread.run(Thread.java:745) \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/196918407","html_url":"https://github.com/elastic/elasticsearch/issues/9323#issuecomment-196918407","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9323","id":196918407,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NjkxODQwNw==","user":{"login":"vineet85","id":12549304,"node_id":"MDQ6VXNlcjEyNTQ5MzA0","avatar_url":"https://avatars0.githubusercontent.com/u/12549304?v=4","gravatar_id":"","url":"https://api.github.com/users/vineet85","html_url":"https://github.com/vineet85","followers_url":"https://api.github.com/users/vineet85/followers","following_url":"https://api.github.com/users/vineet85/following{/other_user}","gists_url":"https://api.github.com/users/vineet85/gists{/gist_id}","starred_url":"https://api.github.com/users/vineet85/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vineet85/subscriptions","organizations_url":"https://api.github.com/users/vineet85/orgs","repos_url":"https://api.github.com/users/vineet85/repos","events_url":"https://api.github.com/users/vineet85/events{/privacy}","received_events_url":"https://api.github.com/users/vineet85/received_events","type":"User","site_admin":false},"created_at":"2016-03-15T16:48:46Z","updated_at":"2016-03-15T16:48:46Z","author_association":"NONE","body":"We are also facing this during PUT requests to update the mapping:- Noticing this happens particularly when there are relocating shards on the cluster.\n\nElasticsearch.Net.ElasticsearchServerException: ProcessClusterEventTimeoutException[failed to process cluster event (put-mapping [documenthighlight]) within 30s\n\nIs this going to be fixed in a later version?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/197374848","html_url":"https://github.com/elastic/elasticsearch/issues/9323#issuecomment-197374848","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9323","id":197374848,"node_id":"MDEyOklzc3VlQ29tbWVudDE5NzM3NDg0OA==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2016-03-16T15:09:31Z","updated_at":"2016-03-16T15:09:31Z","author_association":"MEMBER","body":"@vineet85 what you describe sounds like a different issue. Can you open one with all the details filled in?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/277611953","html_url":"https://github.com/elastic/elasticsearch/issues/9323#issuecomment-277611953","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9323","id":277611953,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NzYxMTk1Mw==","user":{"login":"ImdotnetJunkie","id":1729888,"node_id":"MDQ6VXNlcjE3Mjk4ODg=","avatar_url":"https://avatars0.githubusercontent.com/u/1729888?v=4","gravatar_id":"","url":"https://api.github.com/users/ImdotnetJunkie","html_url":"https://github.com/ImdotnetJunkie","followers_url":"https://api.github.com/users/ImdotnetJunkie/followers","following_url":"https://api.github.com/users/ImdotnetJunkie/following{/other_user}","gists_url":"https://api.github.com/users/ImdotnetJunkie/gists{/gist_id}","starred_url":"https://api.github.com/users/ImdotnetJunkie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ImdotnetJunkie/subscriptions","organizations_url":"https://api.github.com/users/ImdotnetJunkie/orgs","repos_url":"https://api.github.com/users/ImdotnetJunkie/repos","events_url":"https://api.github.com/users/ImdotnetJunkie/events{/privacy}","received_events_url":"https://api.github.com/users/ImdotnetJunkie/received_events","type":"User","site_admin":false},"created_at":"2017-02-06T08:19:24Z","updated_at":"2017-02-06T08:19:24Z","author_association":"NONE","body":"We are also getting the same error:\r\n\r\n[2017-02-05 02:00:47,371][DEBUG][action.admin.indices.create] [Nuke - Squadron Supreme Member] [flowtrader-middletier-2017.02.05] failed to create\r\norg.elasticsearch.cluster.metadata.ProcessClusterEventTimeoutException: failed to process cluster event (acquire index lock) within 1m\r\n            at org.elasticsearch.cluster.metadata.MetaDataCreateIndexService$1.doRun(MetaDataCreateIndexService.java:150)\r\n            at org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:36)\r\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n            at java.lang.Thread.run(Thread.java:745)\r\n\r\nI'm not able to see the solution provided here or am i missing something.\r\n\r\nES version: 1.7.5","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/277614861","html_url":"https://github.com/elastic/elasticsearch/issues/9323#issuecomment-277614861","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9323","id":277614861,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NzYxNDg2MQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2017-02-06T08:35:05Z","updated_at":"2017-02-06T08:35:05Z","author_association":"CONTRIBUTOR","body":"@ImdotnetJunkie 1.7.5 is no longer supported.  Time to upgrade - so much has changed and been improved","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/277893822","html_url":"https://github.com/elastic/elasticsearch/issues/9323#issuecomment-277893822","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9323","id":277893822,"node_id":"MDEyOklzc3VlQ29tbWVudDI3Nzg5MzgyMg==","user":{"login":"ImdotnetJunkie","id":1729888,"node_id":"MDQ6VXNlcjE3Mjk4ODg=","avatar_url":"https://avatars0.githubusercontent.com/u/1729888?v=4","gravatar_id":"","url":"https://api.github.com/users/ImdotnetJunkie","html_url":"https://github.com/ImdotnetJunkie","followers_url":"https://api.github.com/users/ImdotnetJunkie/followers","following_url":"https://api.github.com/users/ImdotnetJunkie/following{/other_user}","gists_url":"https://api.github.com/users/ImdotnetJunkie/gists{/gist_id}","starred_url":"https://api.github.com/users/ImdotnetJunkie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ImdotnetJunkie/subscriptions","organizations_url":"https://api.github.com/users/ImdotnetJunkie/orgs","repos_url":"https://api.github.com/users/ImdotnetJunkie/repos","events_url":"https://api.github.com/users/ImdotnetJunkie/events{/privacy}","received_events_url":"https://api.github.com/users/ImdotnetJunkie/received_events","type":"User","site_admin":false},"created_at":"2017-02-07T03:48:24Z","updated_at":"2017-02-07T03:48:24Z","author_association":"NONE","body":"@clintongormley : Yeah, we are already on our way to upgrade and now we got another good reason to upgrade.\r\n\r\nThanks","performed_via_github_app":null}]