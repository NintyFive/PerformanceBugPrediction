[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/476223253","html_url":"https://github.com/elastic/elasticsearch/issues/40413#issuecomment-476223253","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40413","id":476223253,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NjIyMzI1Mw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-03-25T14:33:20Z","updated_at":"2019-03-25T14:33:20Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/478749085","html_url":"https://github.com/elastic/elasticsearch/issues/40413#issuecomment-478749085","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40413","id":478749085,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3ODc0OTA4NQ==","user":{"login":"jtibshirani","id":7461306,"node_id":"MDQ6VXNlcjc0NjEzMDY=","avatar_url":"https://avatars3.githubusercontent.com/u/7461306?v=4","gravatar_id":"","url":"https://api.github.com/users/jtibshirani","html_url":"https://github.com/jtibshirani","followers_url":"https://api.github.com/users/jtibshirani/followers","following_url":"https://api.github.com/users/jtibshirani/following{/other_user}","gists_url":"https://api.github.com/users/jtibshirani/gists{/gist_id}","starred_url":"https://api.github.com/users/jtibshirani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtibshirani/subscriptions","organizations_url":"https://api.github.com/users/jtibshirani/orgs","repos_url":"https://api.github.com/users/jtibshirani/repos","events_url":"https://api.github.com/users/jtibshirani/events{/privacy}","received_events_url":"https://api.github.com/users/jtibshirani/received_events","type":"User","site_admin":false},"created_at":"2019-04-01T21:09:49Z","updated_at":"2019-04-01T21:09:49Z","author_association":"MEMBER","body":"@clement-tourriere to check my understanding of your use case: would you expect that `ignore_above` be applied to the input value, before collation is run?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/479084668","html_url":"https://github.com/elastic/elasticsearch/issues/40413#issuecomment-479084668","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40413","id":479084668,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTA4NDY2OA==","user":{"login":"clement-tourriere","id":4599746,"node_id":"MDQ6VXNlcjQ1OTk3NDY=","avatar_url":"https://avatars1.githubusercontent.com/u/4599746?v=4","gravatar_id":"","url":"https://api.github.com/users/clement-tourriere","html_url":"https://github.com/clement-tourriere","followers_url":"https://api.github.com/users/clement-tourriere/followers","following_url":"https://api.github.com/users/clement-tourriere/following{/other_user}","gists_url":"https://api.github.com/users/clement-tourriere/gists{/gist_id}","starred_url":"https://api.github.com/users/clement-tourriere/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clement-tourriere/subscriptions","organizations_url":"https://api.github.com/users/clement-tourriere/orgs","repos_url":"https://api.github.com/users/clement-tourriere/repos","events_url":"https://api.github.com/users/clement-tourriere/events{/privacy}","received_events_url":"https://api.github.com/users/clement-tourriere/received_events","type":"User","site_admin":false},"created_at":"2019-04-02T16:37:10Z","updated_at":"2019-04-02T16:37:10Z","author_association":"CONTRIBUTOR","body":"In fact my use case is to be able to configure a max length on text field indexed with a sort \"sub field\" https://www.elastic.co/guide/en/elasticsearch/reference/current/multi-fields.html. The use case is to ignore long field (considering that they are not sortable) and in the worst case to protect against lucene byte-ref limit https://www.elastic.co/guide/en/elasticsearch/reference/current/ignore-above.html.\r\n\r\nIt might be more logical to apply the `ignore_above` check after collation instead of the input value. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/481008572","html_url":"https://github.com/elastic/elasticsearch/issues/40413#issuecomment-481008572","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40413","id":481008572,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTAwODU3Mg==","user":{"login":"jtibshirani","id":7461306,"node_id":"MDQ6VXNlcjc0NjEzMDY=","avatar_url":"https://avatars3.githubusercontent.com/u/7461306?v=4","gravatar_id":"","url":"https://api.github.com/users/jtibshirani","html_url":"https://github.com/jtibshirani","followers_url":"https://api.github.com/users/jtibshirani/followers","following_url":"https://api.github.com/users/jtibshirani/following{/other_user}","gists_url":"https://api.github.com/users/jtibshirani/gists{/gist_id}","starred_url":"https://api.github.com/users/jtibshirani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtibshirani/subscriptions","organizations_url":"https://api.github.com/users/jtibshirani/orgs","repos_url":"https://api.github.com/users/jtibshirani/repos","events_url":"https://api.github.com/users/jtibshirani/events{/privacy}","received_events_url":"https://api.github.com/users/jtibshirani/received_events","type":"User","site_admin":false},"created_at":"2019-04-08T21:07:45Z","updated_at":"2019-04-08T21:07:57Z","author_association":"MEMBER","body":"Thanks for the additional details. I could also see an argument for applying `ignore_above` before collation -- this matches the behavior for `keyword` fields, where we check `ignore_above` against the input before any `normalizer` is applied. I've asked other team members for their thoughts on this issue as well.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/483658341","html_url":"https://github.com/elastic/elasticsearch/issues/40413#issuecomment-483658341","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40413","id":483658341,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzY1ODM0MQ==","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2019-04-16T13:26:02Z","updated_at":"2019-04-16T13:26:02Z","author_association":"CONTRIBUTOR","body":"+1 to support `ignore_above` like `keyword` and make it behave similarly, ie. check the length of the original string rather than the collation. @clement-tourriere you suggested the opposite but I suspect you would be fine with this behavior, wouldn't you?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/483727299","html_url":"https://github.com/elastic/elasticsearch/issues/40413#issuecomment-483727299","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40413","id":483727299,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzcyNzI5OQ==","user":{"login":"clement-tourriere","id":4599746,"node_id":"MDQ6VXNlcjQ1OTk3NDY=","avatar_url":"https://avatars1.githubusercontent.com/u/4599746?v=4","gravatar_id":"","url":"https://api.github.com/users/clement-tourriere","html_url":"https://github.com/clement-tourriere","followers_url":"https://api.github.com/users/clement-tourriere/followers","following_url":"https://api.github.com/users/clement-tourriere/following{/other_user}","gists_url":"https://api.github.com/users/clement-tourriere/gists{/gist_id}","starred_url":"https://api.github.com/users/clement-tourriere/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clement-tourriere/subscriptions","organizations_url":"https://api.github.com/users/clement-tourriere/orgs","repos_url":"https://api.github.com/users/clement-tourriere/repos","events_url":"https://api.github.com/users/clement-tourriere/events{/privacy}","received_events_url":"https://api.github.com/users/clement-tourriere/received_events","type":"User","site_admin":false},"created_at":"2019-04-16T16:08:28Z","updated_at":"2019-04-16T16:08:28Z","author_association":"CONTRIBUTOR","body":"Yes, it would be absolutely fine for our use case to check the length before collation ;)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/483756047","html_url":"https://github.com/elastic/elasticsearch/issues/40413#issuecomment-483756047","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40413","id":483756047,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mzc1NjA0Nw==","user":{"login":"jtibshirani","id":7461306,"node_id":"MDQ6VXNlcjc0NjEzMDY=","avatar_url":"https://avatars3.githubusercontent.com/u/7461306?v=4","gravatar_id":"","url":"https://api.github.com/users/jtibshirani","html_url":"https://github.com/jtibshirani","followers_url":"https://api.github.com/users/jtibshirani/followers","following_url":"https://api.github.com/users/jtibshirani/following{/other_user}","gists_url":"https://api.github.com/users/jtibshirani/gists{/gist_id}","starred_url":"https://api.github.com/users/jtibshirani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtibshirani/subscriptions","organizations_url":"https://api.github.com/users/jtibshirani/orgs","repos_url":"https://api.github.com/users/jtibshirani/repos","events_url":"https://api.github.com/users/jtibshirani/events{/privacy}","received_events_url":"https://api.github.com/users/jtibshirani/received_events","type":"User","site_admin":false},"created_at":"2019-04-16T16:51:57Z","updated_at":"2019-04-16T16:51:57Z","author_association":"MEMBER","body":"Great, now that we are clear on that I will take a look at your PR.","performed_via_github_app":null}]