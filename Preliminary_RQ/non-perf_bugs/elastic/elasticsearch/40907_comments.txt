[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/480405183","html_url":"https://github.com/elastic/elasticsearch/issues/40907#issuecomment-480405183","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40907","id":480405183,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDQwNTE4Mw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-04-05T20:04:24Z","updated_at":"2019-04-05T20:04:24Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/480904666","html_url":"https://github.com/elastic/elasticsearch/issues/40907#issuecomment-480904666","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40907","id":480904666,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDkwNDY2Ng==","user":{"login":"kasiselvamk","id":6265907,"node_id":"MDQ6VXNlcjYyNjU5MDc=","avatar_url":"https://avatars0.githubusercontent.com/u/6265907?v=4","gravatar_id":"","url":"https://api.github.com/users/kasiselvamk","html_url":"https://github.com/kasiselvamk","followers_url":"https://api.github.com/users/kasiselvamk/followers","following_url":"https://api.github.com/users/kasiselvamk/following{/other_user}","gists_url":"https://api.github.com/users/kasiselvamk/gists{/gist_id}","starred_url":"https://api.github.com/users/kasiselvamk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kasiselvamk/subscriptions","organizations_url":"https://api.github.com/users/kasiselvamk/orgs","repos_url":"https://api.github.com/users/kasiselvamk/repos","events_url":"https://api.github.com/users/kasiselvamk/events{/privacy}","received_events_url":"https://api.github.com/users/kasiselvamk/received_events","type":"User","site_admin":false},"created_at":"2019-04-08T16:30:23Z","updated_at":"2019-04-08T16:30:23Z","author_association":"NONE","body":"can some one help on this above issue..","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/481163711","html_url":"https://github.com/elastic/elasticsearch/issues/40907#issuecomment-481163711","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40907","id":481163711,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MTE2MzcxMQ==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2019-04-09T08:53:56Z","updated_at":"2019-04-09T08:53:56Z","author_association":"MEMBER","body":"@kasiselvamk , this is the expected behavior. `க்ஷு` is a grapheme composed of four unicode points: `க`,  ்,  `ஷ`, `ு`. This unicode points are encoded in utf8 and indexed as is so a prefix query that starts with `க` will match a term like `க்ஷு`. Graphemes are composed of multiple characters (codepoint) and the boundary between other graphemes depends on the rules defined for the language. The icu library can detect grapheme boundaries but I don't think there is a way to normalize these inputs into an encoding that would separate graphemes. I wonder if we could have an  `edge_ngram` filter that works at the grapheme level (identify graphemes in a term) but such filter would belong to Lucene, probably in the icu module. I also wonder why do you think that this is an issue, a prefix query with a single character in tamil is ambiguous so you could maybe allow prefix queries only when there are at least 2 or 3 characters in the query ?\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/482035017","html_url":"https://github.com/elastic/elasticsearch/issues/40907#issuecomment-482035017","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40907","id":482035017,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjAzNTAxNw==","user":{"login":"kasiselvamk","id":6265907,"node_id":"MDQ6VXNlcjYyNjU5MDc=","avatar_url":"https://avatars0.githubusercontent.com/u/6265907?v=4","gravatar_id":"","url":"https://api.github.com/users/kasiselvamk","html_url":"https://github.com/kasiselvamk","followers_url":"https://api.github.com/users/kasiselvamk/followers","following_url":"https://api.github.com/users/kasiselvamk/following{/other_user}","gists_url":"https://api.github.com/users/kasiselvamk/gists{/gist_id}","starred_url":"https://api.github.com/users/kasiselvamk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kasiselvamk/subscriptions","organizations_url":"https://api.github.com/users/kasiselvamk/orgs","repos_url":"https://api.github.com/users/kasiselvamk/repos","events_url":"https://api.github.com/users/kasiselvamk/events{/privacy}","received_events_url":"https://api.github.com/users/kasiselvamk/received_events","type":"User","site_admin":false},"created_at":"2019-04-11T09:12:47Z","updated_at":"2019-04-11T09:12:47Z","author_association":"NONE","body":"@jimczi , Thanks for your explanation it helps me understand the data/this is more likely the behavior. let me try using edge_ngram tokenizer .\r\ni need this, to search words starring with given character (ex. `க்ஷு`,...)\r\n\r\nCan you advice any better way to do this search other than `edge_ngram`","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/482059076","html_url":"https://github.com/elastic/elasticsearch/issues/40907#issuecomment-482059076","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40907","id":482059076,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjA1OTA3Ng==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2019-04-11T10:25:48Z","updated_at":"2019-04-11T10:25:48Z","author_association":"MEMBER","body":"I thought that the ICU character break iterator would recognize `க்ஷு` as a grapheme but I was wrong. The default UAX-29 that ICU implements does not recognize this extended grapheme so the only solution is to write custom rules for the tamil language. I am not aware of any resource that exposes this extended rules but it probably exists somewhere if you can search in tamil directly ;). `edge_ngram` will have the same problem so this is not a solution for your issue which in my opinion requires a special plugin to extend break iterator rules to recognize this extended characters. ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/482277083","html_url":"https://github.com/elastic/elasticsearch/issues/40907#issuecomment-482277083","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40907","id":482277083,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjI3NzA4Mw==","user":{"login":"kasiselvamk","id":6265907,"node_id":"MDQ6VXNlcjYyNjU5MDc=","avatar_url":"https://avatars0.githubusercontent.com/u/6265907?v=4","gravatar_id":"","url":"https://api.github.com/users/kasiselvamk","html_url":"https://github.com/kasiselvamk","followers_url":"https://api.github.com/users/kasiselvamk/followers","following_url":"https://api.github.com/users/kasiselvamk/following{/other_user}","gists_url":"https://api.github.com/users/kasiselvamk/gists{/gist_id}","starred_url":"https://api.github.com/users/kasiselvamk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kasiselvamk/subscriptions","organizations_url":"https://api.github.com/users/kasiselvamk/orgs","repos_url":"https://api.github.com/users/kasiselvamk/repos","events_url":"https://api.github.com/users/kasiselvamk/events{/privacy}","received_events_url":"https://api.github.com/users/kasiselvamk/received_events","type":"User","site_admin":false},"created_at":"2019-04-11T19:41:13Z","updated_at":"2019-04-11T19:41:13Z","author_association":"NONE","body":"@jimczi , There is issue in ICU library for such characters , i tried below code to print boundary's\r\nusing `ICU4J v 64.1`(which supports `Unicode v 12.0` )\r\n\r\nimport com.ibm.icu.text.BreakIterator;\r\nimport com.ibm.icu.util.ULocale;\r\npublic class ICU4JExample {\r\n\t public static void main(String args[]) {\r\n\t\t  ULocale uL = new ULocale(**\"ta_IN\"**);\r\n\t          String stringToExamine =   \"க்ஷேத்திரம்\";\r\n\t          BreakIterator boundary = BreakIterator.getCharacterInstance(uL);\r\n\t          boundary.setText(stringToExamine);\r\n\t          boundary = BreakIterator.getCharacterInstance(uL);\r\n\t          boundary.setText(stringToExamine);\r\n\t          int start = boundary.first();\r\n\t\t\t  for (int end = boundary.next();\r\n\t                  end != BreakIterator.DONE;\r\n\t                  start = end, end = boundary.next()) {\r\n\t\t\t\t\tSystem.out.println(stringToExamine.substring(start,end));\r\n\t             }\r\n\t }\r\n}\r\noutput:-\r\n`க்`\r\n`ஷே`\r\n`த்`\r\n`தி`\r\n`ர`\r\n`ம்`\r\n\r\nNow got the issue & where to fix it. Let me report to icu; \r\nhttp://site.icu-project.org/bugs/\r\n& try to keep posting.\r\nThank you.\r\n ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/482569474","html_url":"https://github.com/elastic/elasticsearch/issues/40907#issuecomment-482569474","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40907","id":482569474,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjU2OTQ3NA==","user":{"login":"kasiselvamk","id":6265907,"node_id":"MDQ6VXNlcjYyNjU5MDc=","avatar_url":"https://avatars0.githubusercontent.com/u/6265907?v=4","gravatar_id":"","url":"https://api.github.com/users/kasiselvamk","html_url":"https://github.com/kasiselvamk","followers_url":"https://api.github.com/users/kasiselvamk/followers","following_url":"https://api.github.com/users/kasiselvamk/following{/other_user}","gists_url":"https://api.github.com/users/kasiselvamk/gists{/gist_id}","starred_url":"https://api.github.com/users/kasiselvamk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kasiselvamk/subscriptions","organizations_url":"https://api.github.com/users/kasiselvamk/orgs","repos_url":"https://api.github.com/users/kasiselvamk/repos","events_url":"https://api.github.com/users/kasiselvamk/events{/privacy}","received_events_url":"https://api.github.com/users/kasiselvamk/received_events","type":"User","site_admin":false},"created_at":"2019-04-12T13:13:19Z","updated_at":"2019-04-12T13:13:42Z","author_association":"NONE","body":"created an incident to icu; https://unicode-org.atlassian.net/browse/ICU-20557","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/482574411","html_url":"https://github.com/elastic/elasticsearch/issues/40907#issuecomment-482574411","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/40907","id":482574411,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjU3NDQxMQ==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2019-04-12T13:28:26Z","updated_at":"2019-04-12T13:28:26Z","author_association":"MEMBER","body":"thanks @kasiselvamk  , the behavior described for the match phrase query is expected so I hope you don't mind if I close this issue. Please open a new topic in the discuss [forum](https://discuss.elastic.co/c/elasticsearch) and put the link here if you have further questions.","performed_via_github_app":null}]