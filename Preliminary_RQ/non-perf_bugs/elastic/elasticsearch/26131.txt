{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/26131","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26131/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26131/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26131/events","html_url":"https://github.com/elastic/elasticsearch/issues/26131","id":249191487,"node_id":"MDU6SXNzdWUyNDkxOTE0ODc=","number":26131,"title":"[CI] IndexRecoveryIT#testRerouteRecovery cannot find files","user":{"login":"talevy","id":388837,"node_id":"MDQ6VXNlcjM4ODgzNw==","avatar_url":"https://avatars0.githubusercontent.com/u/388837?v=4","gravatar_id":"","url":"https://api.github.com/users/talevy","html_url":"https://github.com/talevy","followers_url":"https://api.github.com/users/talevy/followers","following_url":"https://api.github.com/users/talevy/following{/other_user}","gists_url":"https://api.github.com/users/talevy/gists{/gist_id}","starred_url":"https://api.github.com/users/talevy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/talevy/subscriptions","organizations_url":"https://api.github.com/users/talevy/orgs","repos_url":"https://api.github.com/users/talevy/repos","events_url":"https://api.github.com/users/talevy/events{/privacy}","received_events_url":"https://api.github.com/users/talevy/received_events","type":"User","site_admin":false},"labels":[{"id":152510590,"node_id":"MDU6TGFiZWwxNTI1MTA1OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Distributed/Recovery","name":":Distributed/Recovery","color":"0e8a16","default":false,"description":"Anything around constructing a new shard, either from a local or a remote source."},{"id":60445228,"node_id":"MDU6TGFiZWw2MDQ0NTIyOA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest","name":">test","color":"5319e7","default":false,"description":"Issues or PRs that are addressing/adding tests"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"},{"id":1223177445,"node_id":"MDU6TGFiZWwxMjIzMTc3NDQ1","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v7.0.0-beta1","name":"v7.0.0-beta1","color":"dddddd","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"assignees":[{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false}],"milestone":null,"comments":4,"created_at":"2017-08-09T23:33:02Z","updated_at":"2019-02-07T10:25:59Z","closed_at":"2018-04-20T18:56:48Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"There is a strange issue in `testRerouteRecovery` where certain expected metadata files cannot be found in the test instances.\r\n\r\nCI run: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+aggressive-opts/546/console\r\n\r\nreproduce:\r\n\r\n```\r\ngradle :core:integTest \\\r\n  -Dtests.seed=B83A63FDE9F84795 \\\r\n  -Dtests.class=org.elasticsearch.indices.recovery.IndexRecoveryIT \\\r\n  -Dtests.method=\"testRerouteRecovery\" \\\r\n  -Dtests.security.manager=true \\\r\n  -Dtests.jvm.argline=\"-XX:+AggressiveOpts\" \\\r\n  -Dtests.locale=ar-BH \\\r\n  -Dtests.timezone=America/Moncton\r\n```\r\n\r\nsnippets:\r\n\r\n```\r\n 1> \tat java.lang.Thread.run(Thread.java:748) ~[?:1.8.0_141]\r\n  1> Caused by: org.elasticsearch.transport.RemoteTransportException: [node_t1][127.0.0.1:54893][internal:index/shard/recovery/start_recovery]\r\n  1> Caused by: org.elasticsearch.transport.ReceiveTimeoutTransportException: [node_t2][127.0.0.1:9662][internal:index/shard/recovery/finalize] request_id [202] timed out after [2000ms]\r\n```\r\n\r\n```\r\n  1> [2017-08-09T09:55:59,153][TRACE][o.e.c.s.MasterService$AckCountDownListener] ack received from node [{node_t1}{IHnJS1UwSCuZ3p-MZ4YzUQ}{1ukoSfBNTfGoxPzTPa8VRg}{127.0.0.1}{127.0.0.1:9601}], cluster_state update (version: 12)\r\n  1> [2017-08-09T09:55:59,156][DEBUG][o.e.i.s.TransportNodesListShardStoreMetaData] [node_t0] /var/lib/jenkins/workspace/elastic+elasticsearch+master+aggressive-opts/core/build/testrun/integTest/J2/temp/org.elasticsearch.indices.recovery.IndexRecoveryIT_B83A63FDE9F84795-001/tempDir-004/data/nodes/0/indices/wZiPN8daSeOhZeePMqpm4A/0/_state/state-1.st: failed to read [state-], ignoring...\r\n  1> java.nio.file.NoSuchFileException: /var/lib/jenkins/workspace/elastic+elasticsearch+master+aggressive-opts/core/build/testrun/integTest/J2/temp/org.elasticsearch.indices.recovery.IndexRecoveryIT_B83A63FDE9F84795-001/tempDir-004/data/nodes/0/indices/wZiPN8daSeOhZeePMqpm4A/0/_state/state-1.st\r\n  1> \tat sun.nio.fs.UnixException.translateToIOException(UnixException.java:86) ~[?:?]\r\n  1> \tat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102) ~[?:?]\r\n  1> \tat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107) ~[?:?]\r\n  1> \tat sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214) ~[?:?]\r\n  1> \tat org.apache.lucene.mockfile.FilterFileSystemProvider.newByteChannel(FilterFileSystemProvider.java:212) ~[lucene-test-framework-7.0.0-snapshot-a128fcb.jar:7.0.0-snapshot-a128fcb a128fcb8444271d73f36744018b5261b3bff0606 - jpountz - 2017-08-08 08:38:18]\r\n  1> \tat org.apache.lucene.mockfile.FilterFileSystemProvider.newByteChannel(FilterFileSystemProvider.java:212) ~[lucene-test-framework-7.0.0-snapshot-a128fcb.jar:7.0.0-snapshot-a128fcb a128fcb8444271d73f36744018b5261b3bff0606 - jpountz - 2017-08-08 08:38:18]\r\n  1> \tat org.apache.lucene.mockfile.FilterFileSystemProvider.newByteChannel(FilterFileSystemProvider.java:212) ~[lucene-test-framework-7.0.0-snapshot-a128fcb.jar:7.0.0-snapshot-a128fcb a128fcb8444271d73f36744018b5261b3bff0606 - jpountz - 2017-08-08 08:38:18]\r\n  1> \tat org.apache.lucene.mockfile.HandleTrackingFS.newByteChannel(HandleTrackingFS.java:240) ~[lucene-test-framework-7.0.0-snapshot-a128fcb.jar:7.0.0-snapshot-a128fcb a128fcb8444271d73f36744018b5261b3bff0606 - jpountz - 2017-08-08 08:38:18]\r\n  1> \tat org.apache.lucene.mockfile.FilterFileSystemProvider.newByteChannel(FilterFileSystemProvider.java:212) ~[lucene-test-framework-7.0.0-snapshot-a128fcb.jar:7.0.0-snapshot-a128fcb a128fcb8444271d73f36744018b5261b3bff0606 - jpountz - 2017-08-08 08:38:18]\r\n  1> \tat org.apache.lucene.mockfile.HandleTrackingFS.newByteChannel(HandleTrackingFS.java:240) ~[lucene-test-framework-7.0.0-snapshot-a128fcb.jar:7.0.0-snapshot-a128fcb a128fcb8444271d73f36744018b5261b3bff0606 - jpountz - 2017-08-08 08:38:18]\r\n  1> \tat java.nio.file.Files.newByteChannel(Files.java:361) ~[?:1.8.0_141]\r\n  1> \tat java.nio.file.Files.newByteChannel(Files.java:407) ~[?:1.8.0_141]\r\n  1> \tat org.apache.lucene.store.SimpleFSDirectory.openInput(SimpleFSDirectory.java:77) ~[lucene-core-7.0.0-snapshot-a128fcb.jar:7.0.0-snapshot-a128fcb a128fcb8444271d73f36744018b5261b3bff0606 - jpountz - 2017-08-08 08:38:17]\r\n  1> \tat org.elasticsearch.gateway.MetaDataStateFormat.read(MetaDataStateFormat.java:187) ~[main/:?]\r\n  1> \tat org.elasticsearch.gateway.MetaDataStateFormat.loadLatestState(MetaDataStateFormat.java:322) ~[main/:?]\r\n  1> \tat org.elasticsearch.index.shard.ShardPath.loadShardPath(ShardPath.java:118) ~[main/:?]\r\n  1> \tat org.elasticsearch.indices.store.TransportNodesListShardStoreMetaData.listStoreMetaData(TransportNodesListShardStoreMetaData.java:142) ~[main/:?]\r\n  1> \tat org.elasticsearch.indices.store.TransportNodesListShardStoreMetaData.nodeOperation(TransportNodesListShardStoreMetaData.java:109) ~[main/:?]\r\n  1> \tat org.elasticsearch.indices.store.TransportNodesListShardStoreMetaData.nodeOperation(TransportNodesListShardStoreMetaData.java:61) ~[main/:?]\r\n  1> \tat org.elasticsearch.action.support.nodes.TransportNodesAction.nodeOperation(TransportNodesAction.java:140) ~[main/:?]\r\n  1> \tat org.elasticsearch.action.support.nodes.TransportNodesAction$NodeTransportHandler.messageReceived(TransportNodesAction.java:262) ~[main/:?]\r\n  1> \tat org.elasticsearch.action.support.nodes.TransportNodesAction$NodeTransportHandler.messageReceived(TransportNodesAction.java:258) ~[main/:?]\r\n  1> \tat org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:66) ~[main/:?]\r\n  1> \tat org.elasticsearch.transport.TransportService$7.doRun(TransportService.java:650) ~[main/:?]\r\n  1> \tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:638) ~[main/:?]\r\n  1> \tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[main/:?]\r\n  1> \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_141]\r\n  1> \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_141]\r\n  1> \tat java.lang.Thread.run(Thread.java:748) ~[?:1.8.0_141]\r\n  1> [2017-08-09T09:55:59,158][DEBUG][o.e.i.s.TransportNodesListShardStoreMetaData] [node_t0] failed to execute on node [7O4zoDLUQzG7XYe1WEYPmg]\r\n  1> org.elasticsearch.transport.RemoteTransportException: [node_t0][127.0.0.1:9600][internal:cluster/nodes/indices/shard/store[n]]\r\n  1> Caused by: org.elasticsearch.ElasticsearchException: java.io.IOException: failed to read [id:1, legacy:false, file:/var/lib/jenkins/workspace/elastic+elasticsearch+master+aggressive-opts/core/build/testrun/integTest/J2/temp/org.elasticsearch.indices.recovery.IndexRecoveryIT_B83A63FDE9F84795-001/tempDir-004/data/nodes/0/indices/wZiPN8daSeOhZeePMqpm4A/0/_state/state-1.st]\r\n  1> \tat org.elasticsearch.ExceptionsHelper.maybeThrowRuntimeAndSuppress(ExceptionsHelper.java:150) ~[main/:?]\r\n  1> \tat org.elasticsearch.gateway.MetaDataStateFormat.loadLatestState(MetaDataStateFormat.java:334) ~[main/:?]\r\n  1> \tat org.elasticsearch.index.shard.ShardPath.loadShardPath(ShardPath.java:118) ~[main/:?]\r\n  1> \tat org.elasticsearch.indices.store.TransportNodesListShardStoreMetaData.listStoreMetaData(TransportNodesListShardStoreMetaData.java:142) ~[main/:?]\r\n  1> \tat org.elasticsearch.indices.store.TransportNodesListShardStoreMetaData.nodeOperation(TransportNodesListShardStoreMetaData.java:109) ~[main/:?]\r\n  1> \tat org.elasticsearch.indices.store.TransportNodesListShardStoreMetaData.nodeOperation(TransportNodesListShardStoreMetaData.java:61) ~[main/:?]\r\n  1> \tat org.elasticsearch.action.support.nodes.TransportNodesAction.nodeOperation(TransportNodesAction.java:140) ~[main/:?]\r\n  1> \tat org.elasticsearch.action.support.nodes.TransportNodesAction$NodeTransportHandler.messageReceived(TransportNodesAction.java:262) ~[main/:?]\r\n  1> \tat org.elasticsearch.action.support.nodes.TransportNodesAction$NodeTransportHandler.messageReceived(TransportNodesAction.java:258) ~[main/:?]\r\n  1> \tat org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:66) ~[main/:?]\r\n  1> \tat org.elasticsearch.transport.TransportService$7.doRun(TransportService.java:650) ~[main/:?]\r\n  1> \tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:638) ~[main/:?]\r\n  1> \tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[main/:?]\r\n  1> \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_141]\r\n  1> \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_141]\r\n  1> \tat java.lang.Thread.run(Thread.java:748) ~[?:1.8.0_141]\r\n  1> Caused by: java.io.IOException: failed to read [id:1, legacy:false, file:/var/lib/jenkins/workspace/elastic+elasticsearch+master+aggressive-opts/core/build/testrun/integTest/J2/temp/org.elasticsearch.indices.recovery.IndexRecoveryIT_B83A63FDE9F84795-001/tempDir-004/data/nodes/0/indices/wZiPN8daSeOhZeePMqpm4A/0/_state/state-1.st]\r\n  1> \tat org.elasticsearch.gateway.MetaDataStateFormat.loadLatestState(MetaDataStateFormat.java:327) ~[main/:?]\r\n  1> \tat org.elasticsearch.index.shard.ShardPath.loadShardPath(ShardPath.java:118) ~[main/:?]\r\n  1> \tat org.elasticsearch.indices.store.TransportNodesListShardStoreMetaData.listStoreMetaData(TransportNodesListShardStoreMetaData.java:142) ~[main/:?]\r\n  1> \tat org.elasticsearch.indices.store.TransportNodesListShardStoreMetaData.nodeOperation(TransportNodesListShardStoreMetaData.java:109) ~[main/:?]\r\n  1> \tat org.elasticsearch.indices.store.TransportNodesListShardStoreMetaData.nodeOperation(TransportNodesListShardStoreMetaData.java:61) ~[main/:?]\r\n  1> \tat org.elasticsearch.action.support.nodes.TransportNodesAction.nodeOperation(TransportNodesAction.java:140) ~[main/:?]\r\n  1> \tat org.elasticsearch.action.support.nodes.TransportNodesAction$NodeTransportHandler.messageReceived(TransportNodesAction.java:262) ~[main/:?]\r\n  1> \tat org.elasticsearch.action.support.nodes.TransportNodesAction$NodeTransportHandler.messageReceived(TransportNodesAction.java:258) ~[main/:?]\r\n  1> \tat org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:66) ~[main/:?]\r\n  1> \tat org.elasticsearch.transport.TransportService$7.doRun(TransportService.java:650) ~[main/:?]\r\n  1> \tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:638) ~[main/:?]\r\n  1> \tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[main/:?]\r\n  1> \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_141]\r\n  1> \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_141]\r\n  1> \tat java.lang.Thread.run(Thread.java:748) ~[?:1.8.0_141]\r\n  1> Caused by: java.nio.file.NoSuchFileException: /var/lib/jenkins/workspace/elastic+elasticsearch+master+aggressive-opts/core/build/testrun/integTest/J2/temp/org.elasticsearch.indices.recovery.IndexRecoveryIT_B83A63FDE9F84795-001/tempDir-004/data/nodes/0/indices/wZiPN8daSeOhZeePMqpm4A/0/_state/state-1.st\r\n  1> \tat sun.nio.fs.UnixException.translateToIOException(UnixException.java:86) ~[?:?]\r\n  1> \tat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:102) ~[?:?]\r\n  1> \tat sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:107) ~[?:?]\r\n  1> \tat sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214) ~[?:?]\r\n  1> \tat org.apache.lucene.mockfile.FilterFileSystemProvider.newByteChannel(FilterFileSystemProvider.java:212) ~[lucene-test-framework-7.0.0-snapshot-a128fcb.jar:7.0.0-snapshot-a128fcb a128fcb8444271d73f36744018b5261b3bff0606 - jpountz - 2017-08-08 08:38:18]\r\n  1> \tat org.apache.lucene.mockfile.FilterFileSystemProvider.newByteChannel(FilterFileSystemProvider.java:212) ~[lucene-test-framework-7.0.0-snapshot-a128fcb.jar:7.0.0-snapshot-a128fcb a128fcb8444271d73f36744018b5261b3bff0606 - jpountz - 2017-08-08 08:38:18]\r\n  1> \tat org.apache.lucene.mockfile.FilterFileSystemProvider.newByteChannel(FilterFileSystemProvider.java:212) ~[lucene-test-framework-7.0.0-snapshot-a128fcb.jar:7.0.0-snapshot-a128fcb a128fcb8444271d73f36744018b5261b3bff0606 - jpountz - 2017-08-08 08:38:18]\r\n  1> \tat org.apache.lucene.mockfile.HandleTrackingFS.newByteChannel(HandleTrackingFS.java:240) ~[lucene-test-framework-7.0.0-snapshot-a128fcb.jar:7.0.0-snapshot-a128fcb a128fcb8444271d73f36744018b5261b3bff0606 - jpountz - 2017-08-08 08:38:18]\r\n  1> \tat org.apache.lucene.mockfile.FilterFileSystemProvider.newByteChannel(FilterFileSystemProvider.java:212) ~[lucene-test-framework-7.0.0-snapshot-a128fcb.jar:7.0.0-snapshot-a128fcb a128fcb8444271d73f36744018b5261b3bff0606 - jpountz - 2017-08-08 08:38:18]\r\n  1> \tat org.apache.lucene.mockfile.HandleTrackingFS.newByteChannel(HandleTrackingFS.java:240) ~[lucene-test-framework-7.0.0-snapshot-a128fcb.jar:7.0.0-snapshot-a128fcb a128fcb8444271d73f36744018b5261b3bff0606 - jpountz - 2017-08-08 08:38:18]\r\n  1> \tat java.nio.file.Files.newByteChannel(Files.java:361) ~[?:1.8.0_141]\r\n  1> \tat java.nio.file.Files.newByteChannel(Files.java:407) ~[?:1.8.0_141]\r\n  1> \tat org.apache.lucene.store.SimpleFSDirectory.openInput(SimpleFSDirectory.java:77) ~[lucene-core-7.0.0-snapshot-a128fcb.jar:7.0.0-snapshot-a128fcb a128fcb8444271d73f36744018b5261b3bff0606 - jpountz - 2017-08-08 08:38:17]\r\n  1> \tat org.elasticsearch.gateway.MetaDataStateFormat.read(MetaDataStateFormat.java:187) ~[main/:?]\r\n  1> \tat org.elasticsearch.gateway.MetaDataStateFormat.loadLatestState(MetaDataStateFormat.java:322) ~[main/:?]\r\n  1> \tat org.elasticsearch.index.shard.ShardPath.loadShardPath(ShardPath.java:118) ~[main/:?]\r\n  1> \tat org.elasticsearch.indices.store.TransportNodesListShardStoreMetaData.listStoreMetaData(TransportNodesListShardStoreMetaData.java:142) ~[main/:?]\r\n  1> \tat org.elasticsearch.indices.store.TransportNodesListShardStoreMetaData.nodeOperation(TransportNodesListShardStoreMetaData.java:109) ~[main/:?]\r\n  1> \tat org.elasticsearch.indices.store.TransportNodesListShardStoreMetaData.nodeOperation(TransportNodesListShardStoreMetaData.java:61) ~[main/:?]\r\n  1> \tat org.elasticsearch.action.support.nodes.TransportNodesAction.nodeOperation(TransportNodesAction.java:140) ~[main/:?]\r\n  1> \tat org.elasticsearch.action.support.nodes.TransportNodesAction$NodeTransportHandler.messageReceived(TransportNodesAction.java:262) ~[main/:?]\r\n  1> \tat org.elasticsearch.action.support.nodes.TransportNodesAction$NodeTransportHandler.messageReceived(TransportNodesAction.java:258) ~[main/:?]\r\n  1> \tat org.elasticsearch.transport.RequestHandlerRegistry.processMessageReceived(RequestHandlerRegistry.java:66) ~[main/:?]\r\n  1> \tat org.elasticsearch.transport.TransportService$7.doRun(TransportService.java:650) ~[main/:?]\r\n  1> \tat org.elasticsearch.common.util.concurrent.ThreadContext$ContextPreservingAbstractRunnable.doRun(ThreadContext.java:638) ~[main/:?]\r\n  1> \tat org.elasticsearch.common.util.concurrent.AbstractRunnable.run(AbstractRunnable.java:37) ~[main/:?]\r\n  1> \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[?:1.8.0_141]\r\n  1> \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[?:1.8.0_141]\r\n  1> \tat java.lang.Thread.run(Thread.java:748) ~[?:1.8.0_141]\r\n  1> [2017-08-09T09:55:59,182][DEBUG][o.e.i.s.TransportNodesListShardStoreMetaData] [node_t1] [test-idx-1][0] loaded store meta data (took [32ms])\r\n  1> [2017-08-09T09:55:59,183][WARN ][o.e.g.GatewayAllocator$InternalReplicaShardAllocator] [node_t0] [test-idx-1][0]: failed to list shard for shard_store on node [7O4zoDLUQzG7XYe1WEYPmg]\r\n  1> org.elasticsearch.action.FailedNodeException: Failed node [7O4zoDLUQzG7XYe1WEYPmg]\r\n  1> \tat \r\n```\r\n\r\n[consoleText.txt](https://github.com/elastic/elasticsearch/files/1213155/consoleText.txt)\r\n","closed_by":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"performed_via_github_app":null}