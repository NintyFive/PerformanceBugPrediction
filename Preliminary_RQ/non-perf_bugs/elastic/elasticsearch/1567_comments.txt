[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/3264658","html_url":"https://github.com/elastic/elasticsearch/issues/1567#issuecomment-3264658","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1567","id":3264658,"node_id":"MDEyOklzc3VlQ29tbWVudDMyNjQ2NTg=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2011-12-23T20:57:47Z","updated_at":"2011-12-23T20:57:47Z","author_association":"MEMBER","body":"Just to complete the picture, it works well for day level interval, just not minute level (and probably hour as well).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/3300928","html_url":"https://github.com/elastic/elasticsearch/issues/1567#issuecomment-3300928","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1567","id":3300928,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDA5Mjg=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2011-12-29T14:14:49Z","updated_at":"2011-12-29T14:14:49Z","author_association":"MEMBER","body":"Hey, so, I chased this one down, and basically, the documentation is wrong. What you get back is always UTC, even with things like day interval. It will round things properly based on the time zone though, so it will put it in the correct bucket based on the time zone offset.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/3303059","html_url":"https://github.com/elastic/elasticsearch/issues/1567#issuecomment-3303059","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1567","id":3303059,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDMwNTk=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2011-12-29T17:47:04Z","updated_at":"2011-12-29T17:47:04Z","author_association":"MEMBER","body":"So, still with it :). It is strange, since the behavior is not consistent between day level rounding (and up), and rounding of things like hour or minute. I can see why it happens in the date library I use, still need to figure out how make it work...\n\nSide: The problem is that the UTC millis value is converted to the \"local\" time, which is to say applying the timezone offset. Then, it is rounded. With day, it is rounded to the beginning of the day, and then the offset it applied again to bring it back to UTC. With minute level resolution, flooring does not change much, so it remins the same...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/3323065","html_url":"https://github.com/elastic/elasticsearch/issues/1567#issuecomment-3323065","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1567","id":3323065,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMjMwNjU=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2011-12-31T22:10:43Z","updated_at":"2011-12-31T22:10:43Z","author_association":"MEMBER","body":"Ok, pushed #1580, can you take it for a spin see if it works for you?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/3342623","html_url":"https://github.com/elastic/elasticsearch/issues/1567#issuecomment-3342623","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1567","id":3342623,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDI2MjM=","user":{"login":"allancaffee","id":114759,"node_id":"MDQ6VXNlcjExNDc1OQ==","avatar_url":"https://avatars0.githubusercontent.com/u/114759?v=4","gravatar_id":"","url":"https://api.github.com/users/allancaffee","html_url":"https://github.com/allancaffee","followers_url":"https://api.github.com/users/allancaffee/followers","following_url":"https://api.github.com/users/allancaffee/following{/other_user}","gists_url":"https://api.github.com/users/allancaffee/gists{/gist_id}","starred_url":"https://api.github.com/users/allancaffee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/allancaffee/subscriptions","organizations_url":"https://api.github.com/users/allancaffee/orgs","repos_url":"https://api.github.com/users/allancaffee/repos","events_url":"https://api.github.com/users/allancaffee/events{/privacy}","received_events_url":"https://api.github.com/users/allancaffee/received_events","type":"User","site_admin":false},"created_at":"2012-01-03T16:58:34Z","updated_at":"2012-01-03T16:58:34Z","author_association":"NONE","body":"I've tried this with \"pre_zone\" and \"post_zone\" and it seems to work perfectly.  Although it seems like the naming of \"pre_zone\" and \"post_zone\" are a little confusing.  Would these be clearer as \"bucketing_time_zone\" and \"return_time_zone\" or something along those lines?\n\nThanks for the speedy turnaround!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/3344263","html_url":"https://github.com/elastic/elasticsearch/issues/1567#issuecomment-3344263","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1567","id":3344263,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNDQyNjM=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2012-01-03T18:53:02Z","updated_at":"2012-01-03T18:53:02Z","author_association":"MEMBER","body":"Yea, those were the names I used but was not too happy with... . Actually, bucketing is done after pre and post are applied, the idea was pre rounding, and post rounding.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/3364311","html_url":"https://github.com/elastic/elasticsearch/issues/1567#issuecomment-3364311","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1567","id":3364311,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjQzMTE=","user":{"login":"allancaffee","id":114759,"node_id":"MDQ6VXNlcjExNDc1OQ==","avatar_url":"https://avatars0.githubusercontent.com/u/114759?v=4","gravatar_id":"","url":"https://api.github.com/users/allancaffee","html_url":"https://github.com/allancaffee","followers_url":"https://api.github.com/users/allancaffee/followers","following_url":"https://api.github.com/users/allancaffee/following{/other_user}","gists_url":"https://api.github.com/users/allancaffee/gists{/gist_id}","starred_url":"https://api.github.com/users/allancaffee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/allancaffee/subscriptions","organizations_url":"https://api.github.com/users/allancaffee/orgs","repos_url":"https://api.github.com/users/allancaffee/repos","events_url":"https://api.github.com/users/allancaffee/events{/privacy}","received_events_url":"https://api.github.com/users/allancaffee/received_events","type":"User","site_admin":false},"created_at":"2012-01-05T01:29:51Z","updated_at":"2012-01-05T01:29:51Z","author_association":"NONE","body":"Well is there even a use case for the `post_zone` being different from the `pre_zone` (other than returning them in UTC)?  Would it make more sense to present it as `time_zone` and a boolean field `local_time` or some such thing?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/3369413","html_url":"https://github.com/elastic/elasticsearch/issues/1567#issuecomment-3369413","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1567","id":3369413,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjk0MTM=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2012-01-05T12:58:38Z","updated_at":"2012-01-05T12:58:38Z","author_association":"MEMBER","body":"I think there is, especially with charting systems that do not support timezone properly, so you need to hack the timezone info either into the local one or the UTC one, which might require different time zones.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/3418356","html_url":"https://github.com/elastic/elasticsearch/issues/1567#issuecomment-3418356","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1567","id":3418356,"node_id":"MDEyOklzc3VlQ29tbWVudDM0MTgzNTY=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2012-01-09T19:10:20Z","updated_at":"2012-01-09T19:10:20Z","author_association":"MEMBER","body":"closing this one then, thanks for bringing it up, fixed in #1580.\n","performed_via_github_app":null}]