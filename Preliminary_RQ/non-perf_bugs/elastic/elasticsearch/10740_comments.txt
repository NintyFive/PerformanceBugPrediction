[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/95872797","html_url":"https://github.com/elastic/elasticsearch/issues/10740#issuecomment-95872797","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10740","id":95872797,"node_id":"MDEyOklzc3VlQ29tbWVudDk1ODcyNzk3","user":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"created_at":"2015-04-24T09:44:11Z","updated_at":"2015-04-24T09:44:11Z","author_association":"CONTRIBUTOR","body":"Maybe another flag we should consider banning is `-XX:+AggressiveOpts`?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/96405843","html_url":"https://github.com/elastic/elasticsearch/issues/10740#issuecomment-96405843","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10740","id":96405843,"node_id":"MDEyOklzc3VlQ29tbWVudDk2NDA1ODQz","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-04-26T16:37:06Z","updated_at":"2015-04-26T16:37:06Z","author_association":"CONTRIBUTOR","body":"@rmuir would you be keen to do this?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/96580762","html_url":"https://github.com/elastic/elasticsearch/issues/10740#issuecomment-96580762","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10740","id":96580762,"node_id":"MDEyOklzc3VlQ29tbWVudDk2NTgwNzYy","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2015-04-27T09:21:25Z","updated_at":"2015-04-27T09:21:25Z","author_association":"CONTRIBUTOR","body":"I think we need to do something, just not sure what the exact behavior should be. Yes we can look for the flag explicitly passed on the command line, but still its different than the current version-based checks because it will impact jvms to be released in the future...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/96581747","html_url":"https://github.com/elastic/elasticsearch/issues/10740#issuecomment-96581747","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10740","id":96581747,"node_id":"MDEyOklzc3VlQ29tbWVudDk2NTgxNzQ3","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2015-04-27T09:24:48Z","updated_at":"2015-04-27T09:24:48Z","author_association":"MEMBER","body":"yea, thats the tricky part, where if G1GC suddenly becomes good in 8u60, there is no way to undo this change. I don't have a good idea around how to solve this, we can decide to pin G1GC to last know Java versions, i.e. all the ones up to 8u40, but then the bad part is that if 8u60 fails and we don't fail, it might confuse users to think it fails.\n\nAnother option: fail if on 8u40 and before, and info log that check the docs for later versions? This does mean we need to keep on maintaining this check as new JVM versions gets released.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/96584302","html_url":"https://github.com/elastic/elasticsearch/issues/10740#issuecomment-96584302","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10740","id":96584302,"node_id":"MDEyOklzc3VlQ29tbWVudDk2NTg0MzAy","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2015-04-27T09:34:59Z","updated_at":"2015-04-27T09:34:59Z","author_association":"CONTRIBUTOR","body":"Even things as simple as range based version checks are hairy, if its based on anything other than java major version. Thats because, insanely its always 1.7.0 or 1.8.0 officially. Doing any kind of parsing here on these strings is a place i would rather not go. If some internal format changes we could easily land in a unhappy place...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/96602621","html_url":"https://github.com/elastic/elasticsearch/issues/10740#issuecomment-96602621","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10740","id":96602621,"node_id":"MDEyOklzc3VlQ29tbWVudDk2NjAyNjIx","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2015-04-27T10:36:48Z","updated_at":"2015-04-27T10:36:48Z","author_association":"MEMBER","body":"@rmuir yea, I hear you, minor versions are a mess to parse. Best idea I can come up with is to list the known version in 7 and 8, and mark G1GC as problematic on them, and thats it? It won't help for future versions that might be a problem, but at least its progress in helping our users?\n\n@jpountz yea, I think regardless of a version, certain JVM flags, like AggressiveOpts should probably cause us to bail as well\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/98349640","html_url":"https://github.com/elastic/elasticsearch/issues/10740#issuecomment-98349640","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10740","id":98349640,"node_id":"MDEyOklzc3VlQ29tbWVudDk4MzQ5NjQw","user":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"created_at":"2015-05-02T11:31:37Z","updated_at":"2015-05-02T11:31:37Z","author_association":"MEMBER","body":"Just as an FYI and in case you are not aware yet: G1 seems to become the default GC in JDK 9: http://openjdk.java.net/jeps/248\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/99198166","html_url":"https://github.com/elastic/elasticsearch/issues/10740#issuecomment-99198166","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10740","id":99198166,"node_id":"MDEyOklzc3VlQ29tbWVudDk5MTk4MTY2","user":{"login":"rtkmhart","id":2601414,"node_id":"MDQ6VXNlcjI2MDE0MTQ=","avatar_url":"https://avatars1.githubusercontent.com/u/2601414?v=4","gravatar_id":"","url":"https://api.github.com/users/rtkmhart","html_url":"https://github.com/rtkmhart","followers_url":"https://api.github.com/users/rtkmhart/followers","following_url":"https://api.github.com/users/rtkmhart/following{/other_user}","gists_url":"https://api.github.com/users/rtkmhart/gists{/gist_id}","starred_url":"https://api.github.com/users/rtkmhart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rtkmhart/subscriptions","organizations_url":"https://api.github.com/users/rtkmhart/orgs","repos_url":"https://api.github.com/users/rtkmhart/repos","events_url":"https://api.github.com/users/rtkmhart/events{/privacy}","received_events_url":"https://api.github.com/users/rtkmhart/received_events","type":"User","site_admin":false},"created_at":"2015-05-05T19:34:55Z","updated_at":"2015-05-05T19:34:55Z","author_association":"NONE","body":"As a customer happily running G1GC (yes I'm aware of the risks) I'd be quite unhappy with this.\n\nReason for switching: we'd regularly see a JVM with CMS GC go from running happily at 75% heap with the normal sawtooth pattern for days, and then suddenly hit 100% and full GC within minutes for inexplicable reasons which we cannot replicate on demand, and the only recovery is to restart it. Switching to G1GC made this go away. We recently switched back after strong recommendations from support and immediately saw the same GC issue again. So we're going back to G1GC shortly. \n\nI understand the risks, and know what the implications are. I'd be happy with a strongly worded warning. And open to further discussion of course.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/103107064","html_url":"https://github.com/elastic/elasticsearch/issues/10740#issuecomment-103107064","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10740","id":103107064,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMzEwNzA2NA==","user":{"login":"jprante","id":635745,"node_id":"MDQ6VXNlcjYzNTc0NQ==","avatar_url":"https://avatars1.githubusercontent.com/u/635745?v=4","gravatar_id":"","url":"https://api.github.com/users/jprante","html_url":"https://github.com/jprante","followers_url":"https://api.github.com/users/jprante/followers","following_url":"https://api.github.com/users/jprante/following{/other_user}","gists_url":"https://api.github.com/users/jprante/gists{/gist_id}","starred_url":"https://api.github.com/users/jprante/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jprante/subscriptions","organizations_url":"https://api.github.com/users/jprante/orgs","repos_url":"https://api.github.com/users/jprante/repos","events_url":"https://api.github.com/users/jprante/events{/privacy}","received_events_url":"https://api.github.com/users/jprante/received_events","type":"User","site_admin":false},"created_at":"2015-05-18T15:38:57Z","updated_at":"2015-05-18T15:38:57Z","author_association":"CONTRIBUTOR","body":"Switching to G1GC and Java 8 made a lot of my ES JVM scaling issues caused by GC pausing go away. I do not have broken index data for years. I am aware there are bugs visible in ES testing, while it is hard for me to reproduce them in my environment.\n\nSo I would suggest a less rigorous and more risk mitigation focused strategy instead of simply bailing out.\n\nFor example\n- discouraging Java 7\n- enabling Java 9 support for ES\n- embedding direct links in warning messages to failed ES tests where involved JVM versions and diagnostics can be revealed so risk mitigation is possible\n- referencing OpenJDK issues at https://bugs.openjdk.java.net/browse/JDK/component/10304#selectedTab=com.atlassian.jira.plugin.system.project%3Acomponent-issues-panel so ES users can get advise from OpenJDK community how to fix / work around issues\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/103312980","html_url":"https://github.com/elastic/elasticsearch/issues/10740#issuecomment-103312980","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10740","id":103312980,"node_id":"MDEyOklzc3VlQ29tbWVudDEwMzMxMjk4MA==","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2015-05-19T03:03:34Z","updated_at":"2015-05-19T03:03:34Z","author_association":"CONTRIBUTOR","body":"> Switching to G1GC and Java 8 made a lot of my ES JVM scaling issues caused by GC pausing go away. I do not have broken index data for years. I am aware there are bugs visible in ES testing, while it is hard for me to reproduce them in my environment.\n\nIt is dangerous to look at things this way, for example a lot of people could not reproduce the superword corruption bug (JDK-8024830), and that is because it required sandy bridge to easily reproduce.\n\n> discouraging Java 7\n\nIf I were to add any check here (as discussed above), I would only add it with a list of released hotspot versions < java 8u40.\n\n> enabling Java 9 support for ES\n\nI don't know what this means: tests in master pass with the latest EA snapshot of java 9, at least if you run them once. java 9 likely has some bugs, since its not released. There is nothing more we can do about this situation, its as good as it gets.\n\n> embedding direct links in warning messages to failed ES tests where involved JVM versions and diagnostics can be revealed so risk mitigation is possible\n> referencing OpenJDK issues at https://bugs.openjdk.java.net/browse/JDK/component/10304#selectedTab=com.atlassian.jira.plugin.system.project%3Acomponent-issues-panel so ES users can get advise from OpenJDK community how to fix / work around issues\n\nThis seems to imply we would waste time digging into/fixing bugs around G1GC: nobody has the time for that.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/172358146","html_url":"https://github.com/elastic/elasticsearch/issues/10740#issuecomment-172358146","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10740","id":172358146,"node_id":"MDEyOklzc3VlQ29tbWVudDE3MjM1ODE0Ng==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-01-17T17:48:31Z","updated_at":"2016-01-17T17:48:31Z","author_association":"CONTRIBUTOR","body":"@rmuir what's your take on this, 8 months later?  Should we do anything here?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/187457014","html_url":"https://github.com/elastic/elasticsearch/issues/10740#issuecomment-187457014","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10740","id":187457014,"node_id":"MDEyOklzc3VlQ29tbWVudDE4NzQ1NzAxNA==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2016-02-23T00:53:31Z","updated_at":"2016-02-23T00:53:31Z","author_association":"MEMBER","body":"Closed by #16737\n","performed_via_github_app":null}]