[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/603755515","html_url":"https://github.com/elastic/elasticsearch/issues/54159#issuecomment-603755515","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54159","id":603755515,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzc1NTUxNQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-03-25T10:12:30Z","updated_at":"2020-03-25T10:12:30Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search (:Search/Search)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/603755519","html_url":"https://github.com/elastic/elasticsearch/issues/54159#issuecomment-603755519","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54159","id":603755519,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzc1NTUxOQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2020-03-25T10:12:31Z","updated_at":"2020-03-25T10:12:31Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra (:Core/Infra/Build)","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/603756022","html_url":"https://github.com/elastic/elasticsearch/issues/54159#issuecomment-603756022","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54159","id":603756022,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMzc1NjAyMg==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2020-03-25T10:13:43Z","updated_at":"2020-03-25T10:13:43Z","author_association":"MEMBER","body":"cc @lukasolson ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/604637019","html_url":"https://github.com/elastic/elasticsearch/issues/54159#issuecomment-604637019","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54159","id":604637019,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDYzNzAxOQ==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2020-03-26T19:27:10Z","updated_at":"2020-03-26T19:27:10Z","author_association":"MEMBER","body":"> we needed a way to simulate long running queries\r\n> We used it for demo and monkey testing but we've also shared it with Kibana to help them integrating the new feature\r\n\r\nManual testing seems ok as a first step, but could we simulate the timing/triggering of the code to *act* as if a long query is running, but not actually consume real time (similar to how watcher manipulates Clock for testing triggering)?\r\n\r\n>  @jasontedor proposed that we ship the module automatically in the distribution only if the build is a snapshot build. Another option would be to provide such functionalities as an example plugin only available in our build.\r\n\r\nI think either approach is viable, and I do think we should have more fine grained control over the modules in each of our distributions. However, if Kibana is writing permanent tests for this feature, then a plugin would seem more appropriate, so we can test against released versions? I'm fine with either though.\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/658137969","html_url":"https://github.com/elastic/elasticsearch/issues/54159#issuecomment-658137969","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54159","id":658137969,"node_id":"MDEyOklzc3VlQ29tbWVudDY1ODEzNzk2OQ==","user":{"login":"lizozom","id":3016806,"node_id":"MDQ6VXNlcjMwMTY4MDY=","avatar_url":"https://avatars1.githubusercontent.com/u/3016806?v=4","gravatar_id":"","url":"https://api.github.com/users/lizozom","html_url":"https://github.com/lizozom","followers_url":"https://api.github.com/users/lizozom/followers","following_url":"https://api.github.com/users/lizozom/following{/other_user}","gists_url":"https://api.github.com/users/lizozom/gists{/gist_id}","starred_url":"https://api.github.com/users/lizozom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizozom/subscriptions","organizations_url":"https://api.github.com/users/lizozom/orgs","repos_url":"https://api.github.com/users/lizozom/repos","events_url":"https://api.github.com/users/lizozom/events{/privacy}","received_events_url":"https://api.github.com/users/lizozom/received_events","type":"User","site_admin":false},"created_at":"2020-07-14T11:56:15Z","updated_at":"2020-07-14T11:56:15Z","author_association":"NONE","body":"> @jasontedor proposed that we ship the module automatically in the distribution only if the build is a snapshot build. Another option would be to provide such functionalities as an example plugin only available in our build.\r\n\r\n@lukasolson @tylersmalley and I discussed this recently. We'd probably want to have tests using slow searches for the builds of Kibana and Cloud, requiring this functionality to be available in production builds. Same type of aggregation can be also useful for diagnostics in support cases.\r\n\r\nWe thought of adding a \"delayed aggregation\" to ES, making it appear as a UI option only if some \"Debug mode\" toggle is enabled in Kibana. @jimczi  What do you think?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/663234433","html_url":"https://github.com/elastic/elasticsearch/issues/54159#issuecomment-663234433","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54159","id":663234433,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MzIzNDQzMw==","user":{"login":"elastic-jb","id":62259312,"node_id":"MDQ6VXNlcjYyMjU5MzEy","avatar_url":"https://avatars0.githubusercontent.com/u/62259312?v=4","gravatar_id":"","url":"https://api.github.com/users/elastic-jb","html_url":"https://github.com/elastic-jb","followers_url":"https://api.github.com/users/elastic-jb/followers","following_url":"https://api.github.com/users/elastic-jb/following{/other_user}","gists_url":"https://api.github.com/users/elastic-jb/gists{/gist_id}","starred_url":"https://api.github.com/users/elastic-jb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elastic-jb/subscriptions","organizations_url":"https://api.github.com/users/elastic-jb/orgs","repos_url":"https://api.github.com/users/elastic-jb/repos","events_url":"https://api.github.com/users/elastic-jb/events{/privacy}","received_events_url":"https://api.github.com/users/elastic-jb/received_events","type":"User","site_admin":false},"created_at":"2020-07-23T21:11:01Z","updated_at":"2020-07-23T21:11:01Z","author_association":"NONE","body":"@jim @jason @lizozom @lukasolson Can we walk through the risks we need to address for this capability to be in a production build for testing purposes?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/663257669","html_url":"https://github.com/elastic/elasticsearch/issues/54159#issuecomment-663257669","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54159","id":663257669,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MzI1NzY2OQ==","user":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"created_at":"2020-07-23T22:12:11Z","updated_at":"2020-07-23T22:12:11Z","author_association":"MEMBER","body":"Why do these need to be in production builds to test on Cloud? We deploy snapshots to staging on a nightly basis.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/664371406","html_url":"https://github.com/elastic/elasticsearch/issues/54159#issuecomment-664371406","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54159","id":664371406,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDM3MTQwNg==","user":{"login":"lizozom","id":3016806,"node_id":"MDQ6VXNlcjMwMTY4MDY=","avatar_url":"https://avatars1.githubusercontent.com/u/3016806?v=4","gravatar_id":"","url":"https://api.github.com/users/lizozom","html_url":"https://github.com/lizozom","followers_url":"https://api.github.com/users/lizozom/followers","following_url":"https://api.github.com/users/lizozom/following{/other_user}","gists_url":"https://api.github.com/users/lizozom/gists{/gist_id}","starred_url":"https://api.github.com/users/lizozom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizozom/subscriptions","organizations_url":"https://api.github.com/users/lizozom/orgs","repos_url":"https://api.github.com/users/lizozom/repos","events_url":"https://api.github.com/users/lizozom/events{/privacy}","received_events_url":"https://api.github.com/users/lizozom/received_events","type":"User","site_admin":false},"created_at":"2020-07-27T12:40:09Z","updated_at":"2020-07-27T12:40:09Z","author_association":"NONE","body":"@tylersmalley @spalger remember we talked about it? Can you explain why we prefer to have the delayed aggregations in production builds?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/664511308","html_url":"https://github.com/elastic/elasticsearch/issues/54159#issuecomment-664511308","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54159","id":664511308,"node_id":"MDEyOklzc3VlQ29tbWVudDY2NDUxMTMwOA==","user":{"login":"spalger","id":1329312,"node_id":"MDQ6VXNlcjEzMjkzMTI=","avatar_url":"https://avatars1.githubusercontent.com/u/1329312?v=4","gravatar_id":"","url":"https://api.github.com/users/spalger","html_url":"https://github.com/spalger","followers_url":"https://api.github.com/users/spalger/followers","following_url":"https://api.github.com/users/spalger/following{/other_user}","gists_url":"https://api.github.com/users/spalger/gists{/gist_id}","starred_url":"https://api.github.com/users/spalger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spalger/subscriptions","organizations_url":"https://api.github.com/users/spalger/orgs","repos_url":"https://api.github.com/users/spalger/repos","events_url":"https://api.github.com/users/spalger/events{/privacy}","received_events_url":"https://api.github.com/users/spalger/received_events","type":"User","site_admin":false},"created_at":"2020-07-27T16:48:06Z","updated_at":"2020-07-27T16:48:06Z","author_association":"MEMBER","body":"I think it's mostly for simplicity in our testing and ease of implementation. Being able to rely on the `delay` aggregation makes it much easier to integrate this functionality into Kibana and our tests as we need to support this at several levels in Kibana to actually use it.\r\n\r\nOur functional tests are designed to run, as much as possible, against production instances of Kibana and as such it would be great if there was a way for end-users to enable some sort of \"delay queries\" feature that would inject `delay` aggregations. Then the functional tests could simply use this feature and folks wanting to test out slow-query support in their own installations, or when developing features, would all use the same functionality.\r\n\r\nI think this would be ideal mostly because I think of the `delay` aggregation as totally harmless, but @elastic-jb's comment makes me wonder if I'm naive and there are risks in shipping the `delay` aggregation that I'm not aware of.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/680244153","html_url":"https://github.com/elastic/elasticsearch/issues/54159#issuecomment-680244153","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/54159","id":680244153,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDI0NDE1Mw==","user":{"login":"dtuck9","id":20936641,"node_id":"MDQ6VXNlcjIwOTM2NjQx","avatar_url":"https://avatars3.githubusercontent.com/u/20936641?v=4","gravatar_id":"","url":"https://api.github.com/users/dtuck9","html_url":"https://github.com/dtuck9","followers_url":"https://api.github.com/users/dtuck9/followers","following_url":"https://api.github.com/users/dtuck9/following{/other_user}","gists_url":"https://api.github.com/users/dtuck9/gists{/gist_id}","starred_url":"https://api.github.com/users/dtuck9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dtuck9/subscriptions","organizations_url":"https://api.github.com/users/dtuck9/orgs","repos_url":"https://api.github.com/users/dtuck9/repos","events_url":"https://api.github.com/users/dtuck9/events{/privacy}","received_events_url":"https://api.github.com/users/dtuck9/received_events","type":"User","site_admin":false},"created_at":"2020-08-25T20:09:29Z","updated_at":"2020-08-25T20:09:29Z","author_association":"NONE","body":"This would be really helpful for testing on Cloud.","performed_via_github_app":null}]