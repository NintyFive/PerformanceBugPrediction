[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/489040208","html_url":"https://github.com/elastic/elasticsearch/issues/41786#issuecomment-489040208","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41786","id":489040208,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTA0MDIwOA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-05-03T09:56:37Z","updated_at":"2019-05-03T09:56:37Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/489046388","html_url":"https://github.com/elastic/elasticsearch/issues/41786#issuecomment-489046388","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41786","id":489046388,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTA0NjM4OA==","user":{"login":"astefan","id":893749,"node_id":"MDQ6VXNlcjg5Mzc0OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/893749?v=4","gravatar_id":"","url":"https://api.github.com/users/astefan","html_url":"https://github.com/astefan","followers_url":"https://api.github.com/users/astefan/followers","following_url":"https://api.github.com/users/astefan/following{/other_user}","gists_url":"https://api.github.com/users/astefan/gists{/gist_id}","starred_url":"https://api.github.com/users/astefan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astefan/subscriptions","organizations_url":"https://api.github.com/users/astefan/orgs","repos_url":"https://api.github.com/users/astefan/repos","events_url":"https://api.github.com/users/astefan/events{/privacy}","received_events_url":"https://api.github.com/users/astefan/received_events","type":"User","site_admin":false},"created_at":"2019-05-03T10:13:01Z","updated_at":"2019-05-03T10:13:01Z","author_association":"CONTRIBUTOR","body":"Hi @gemaliano,\r\nThis is not a bug. By default, when not using an explicit mapping for a `text` field, Elasticsearch adds a `keyword` subfield to it. In the case of Elasticsearch SQL and `LIKE` statement, we use this subfield to create a `wildcard` query (you can double check this by using the `_translate` API to see the ES query generated).\r\n\r\nThe `keyword` subfield created by Elasticsearch has `\"ignore_above\": 256` property which means that field values larger than 256 characters will be trimmed at 256. And in your tests' case this is what is happening. If you create an index like the following (with more than 256 characters allowed):\r\n\r\n```\r\n{\r\n  \"mappings\": {\r\n    \"properties\": {\r\n      \"message\": {\r\n        \"type\": \"text\",\r\n        \"fields\": {\r\n          \"keyword\": {\r\n            \"type\": \"keyword\",\r\n            \"ignore_above\": 1256\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe SQL query you are trying to use will work.\r\nClosing this issue now.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/489049816","html_url":"https://github.com/elastic/elasticsearch/issues/41786#issuecomment-489049816","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41786","id":489049816,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTA0OTgxNg==","user":{"login":"astefan","id":893749,"node_id":"MDQ6VXNlcjg5Mzc0OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/893749?v=4","gravatar_id":"","url":"https://api.github.com/users/astefan","html_url":"https://github.com/astefan","followers_url":"https://api.github.com/users/astefan/followers","following_url":"https://api.github.com/users/astefan/following{/other_user}","gists_url":"https://api.github.com/users/astefan/gists{/gist_id}","starred_url":"https://api.github.com/users/astefan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astefan/subscriptions","organizations_url":"https://api.github.com/users/astefan/orgs","repos_url":"https://api.github.com/users/astefan/repos","events_url":"https://api.github.com/users/astefan/events{/privacy}","received_events_url":"https://api.github.com/users/astefan/received_events","type":"User","site_admin":false},"created_at":"2019-05-03T10:22:13Z","updated_at":"2019-05-03T10:22:13Z","author_association":"CONTRIBUTOR","body":"One more clarifying note: in versions prior to 6.7.1 this might have worked because at that time there was a bug that made ES SQL to generate a `query_string` query (which used the field itself - `message` as opposed to using the `keyword` subfield), which was incorrect.\r\n\r\nThat bug was fixed with https://github.com/elastic/elasticsearch/pull/40628.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/489054468","html_url":"https://github.com/elastic/elasticsearch/issues/41786#issuecomment-489054468","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/41786","id":489054468,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4OTA1NDQ2OA==","user":{"login":"astefan","id":893749,"node_id":"MDQ6VXNlcjg5Mzc0OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/893749?v=4","gravatar_id":"","url":"https://api.github.com/users/astefan","html_url":"https://github.com/astefan","followers_url":"https://api.github.com/users/astefan/followers","following_url":"https://api.github.com/users/astefan/following{/other_user}","gists_url":"https://api.github.com/users/astefan/gists{/gist_id}","starred_url":"https://api.github.com/users/astefan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astefan/subscriptions","organizations_url":"https://api.github.com/users/astefan/orgs","repos_url":"https://api.github.com/users/astefan/repos","events_url":"https://api.github.com/users/astefan/events{/privacy}","received_events_url":"https://api.github.com/users/astefan/received_events","type":"User","site_admin":false},"created_at":"2019-05-03T10:37:21Z","updated_at":"2019-05-03T10:37:21Z","author_association":"CONTRIBUTOR","body":"[Translate API](https://www.elastic.co/guide/en/elasticsearch/reference/7.x/sql-translate.html) helps understanding this better imo.","performed_via_github_app":null}]