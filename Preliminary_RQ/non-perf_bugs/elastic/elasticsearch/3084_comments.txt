[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/18467266","html_url":"https://github.com/elastic/elasticsearch/issues/3084#issuecomment-18467266","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3084","id":18467266,"node_id":"MDEyOklzc3VlQ29tbWVudDE4NDY3MjY2","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-05-26T18:27:53Z","updated_at":"2013-05-26T18:27:53Z","author_association":"CONTRIBUTOR","body":"cool stuff I will look into this soon.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/18467340","html_url":"https://github.com/elastic/elasticsearch/issues/3084#issuecomment-18467340","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3084","id":18467340,"node_id":"MDEyOklzc3VlQ29tbWVudDE4NDY3MzQw","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2013-05-26T18:32:26Z","updated_at":"2013-05-26T18:32:26Z","author_association":"CONTRIBUTOR","body":"after a quick review, I am worried about backwards compatibility. I'd like to push this to 0.90 aswell and if somebody upgrades from 0.90.0 we break the wire format. can you try to leverage StreamInput.getVersion() to conditionally read the boolean / long? I think a \"found\" flag is still useful so we might wanna keep that?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/18485912","html_url":"https://github.com/elastic/elasticsearch/issues/3084#issuecomment-18485912","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/3084","id":18485912,"node_id":"MDEyOklzc3VlQ29tbWVudDE4NDg1OTEy","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2013-05-27T07:29:26Z","updated_at":"2013-05-27T07:29:26Z","author_association":"MEMBER","body":"Answers in reverse order:\n- the found flag (I assume you mean the DeleteResponse one) is still supported from the class interface perspective (isNotFound() checks for previousVersion == -1L; ) \n- we could use StreamInput.getVersion to detect we're speaking to a node of an older version. Doing the right thing with it is trickier. If the sender is 0.90.1 and the client 0.90.0 we could just write a boolean instead of a long and things should work. The reverse is trickier because we don't enough info to support the previousVersion functionality.  Last - I looked at the code and I can't find the place where this version actually gets serialised to the wire. Can you help and point it out to me? \n- It was my understanding that we don't support multi-versioned cluster at the moment and therefore don't have to worry about wire level backward compatibility. Did I get this wrong?\n","performed_via_github_app":null}]