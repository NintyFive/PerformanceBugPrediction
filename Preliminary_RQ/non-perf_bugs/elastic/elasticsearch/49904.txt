{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/49904","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49904/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49904/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/49904/events","html_url":"https://github.com/elastic/elasticsearch/issues/49904","id":533885250,"node_id":"MDU6SXNzdWU1MzM4ODUyNTA=","number":49904,"title":"[CI] JdbcResultSetIT.testGettingInvalidDouble failed","user":{"login":"droberts195","id":7405510,"node_id":"MDQ6VXNlcjc0MDU1MTA=","avatar_url":"https://avatars0.githubusercontent.com/u/7405510?v=4","gravatar_id":"","url":"https://api.github.com/users/droberts195","html_url":"https://github.com/droberts195","followers_url":"https://api.github.com/users/droberts195/followers","following_url":"https://api.github.com/users/droberts195/following{/other_user}","gists_url":"https://api.github.com/users/droberts195/gists{/gist_id}","starred_url":"https://api.github.com/users/droberts195/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/droberts195/subscriptions","organizations_url":"https://api.github.com/users/droberts195/orgs","repos_url":"https://api.github.com/users/droberts195/repos","events_url":"https://api.github.com/users/droberts195/events{/privacy}","received_events_url":"https://api.github.com/users/droberts195/received_events","type":"User","site_admin":false},"labels":[{"id":912794284,"node_id":"MDU6TGFiZWw5MTI3OTQyODQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Query%20Languages/SQL","name":":Query Languages/SQL","color":"0e8a16","default":false,"description":"SQL querying"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":{"login":"astefan","id":893749,"node_id":"MDQ6VXNlcjg5Mzc0OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/893749?v=4","gravatar_id":"","url":"https://api.github.com/users/astefan","html_url":"https://github.com/astefan","followers_url":"https://api.github.com/users/astefan/followers","following_url":"https://api.github.com/users/astefan/following{/other_user}","gists_url":"https://api.github.com/users/astefan/gists{/gist_id}","starred_url":"https://api.github.com/users/astefan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astefan/subscriptions","organizations_url":"https://api.github.com/users/astefan/orgs","repos_url":"https://api.github.com/users/astefan/repos","events_url":"https://api.github.com/users/astefan/events{/privacy}","received_events_url":"https://api.github.com/users/astefan/received_events","type":"User","site_admin":false},"assignees":[{"login":"astefan","id":893749,"node_id":"MDQ6VXNlcjg5Mzc0OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/893749?v=4","gravatar_id":"","url":"https://api.github.com/users/astefan","html_url":"https://github.com/astefan","followers_url":"https://api.github.com/users/astefan/followers","following_url":"https://api.github.com/users/astefan/following{/other_user}","gists_url":"https://api.github.com/users/astefan/gists{/gist_id}","starred_url":"https://api.github.com/users/astefan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astefan/subscriptions","organizations_url":"https://api.github.com/users/astefan/orgs","repos_url":"https://api.github.com/users/astefan/repos","events_url":"https://api.github.com/users/astefan/events{/privacy}","received_events_url":"https://api.github.com/users/astefan/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2019-12-06T10:44:54Z","updated_at":"2020-01-29T14:59:24Z","closed_at":"2020-01-29T14:59:24Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"`JdbcResultSetIT.testGettingInvalidDouble` in a 6.8 build on SLES 12 SP 4:\r\n\r\n```\r\nFAILURE 0.23s \\| JdbcResultSetIT.testGettingInvalidDouble <<< FAILURES! |  \r\n-- | --\r\n  | > Throwable #1: org.junit.ComparisonFailure: expected:<... [+118470389-11-05T0[8:24:00.073-03]:00] of type [DATETI...> but was:<... [+118470389-11-05T0[9:24:00.073-02]:00] of type [DATETI...> |  \r\n  | > \tat __randomizedtesting.SeedInfo.seed([4CBBF058E6F785C6:EFBB69C6644C1613]:0) |  \r\n  | > \tat org.elasticsearch.xpack.sql.qa.jdbc.ResultSetTestCase.lambda$testGettingInvalidDouble$103(ResultSetTestCase.java:697) |  \r\n  | > \tat org.elasticsearch.xpack.sql.qa.jdbc.ResultSetTestCase.doWithQuery(ResultSetTestCase.java:1402) |  \r\n  | > \tat org.elasticsearch.xpack.sql.qa.jdbc.ResultSetTestCase.doWithQuery(ResultSetTestCase.java:1390) |  \r\n  | > \tat org.elasticsearch.xpack.sql.qa.jdbc.ResultSetTestCase.testGettingInvalidDouble(ResultSetTestCase.java:686) |  \r\n  | > \tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nThe build scan is https://gradle-enterprise.elastic.co/s/7iylcdr5cikpo\r\n\r\nIt's some sort of timezone problem - the expected and actual are the same time but in different timezones.  (Also, the year is ridiculously far in the future, which may be relevant.)\r\n\r\nThis did not reproduce on CentOS using:\r\n\r\n```\r\n./gradlew ':x-pack:plugin:sql:qa:single-node:integTestRunner' \\\r\n  -Dtests.seed=4CBBF058E6F785C6 \\\r\n  -Dtests.class=org.elasticsearch.xpack.sql.qa.single_node.JdbcResultSetIT \\\r\n  -Dtests.method=\"testGettingInvalidDouble\" \\\r\n  -Dtests.security.manager=true \\\r\n  -Dtests.locale=hr \\\r\n  -Dtests.timezone=Asia/Chita \\\r\n  -Dcompiler.java=12 \\\r\n  -Druntime.java=8\r\n```\r\n\r\nI don't have a SLES 12 machine to test on.  It may be that there's something different about the timezone database on SLES 12 that causes this.","closed_by":{"login":"astefan","id":893749,"node_id":"MDQ6VXNlcjg5Mzc0OQ==","avatar_url":"https://avatars2.githubusercontent.com/u/893749?v=4","gravatar_id":"","url":"https://api.github.com/users/astefan","html_url":"https://github.com/astefan","followers_url":"https://api.github.com/users/astefan/followers","following_url":"https://api.github.com/users/astefan/following{/other_user}","gists_url":"https://api.github.com/users/astefan/gists{/gist_id}","starred_url":"https://api.github.com/users/astefan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/astefan/subscriptions","organizations_url":"https://api.github.com/users/astefan/orgs","repos_url":"https://api.github.com/users/astefan/repos","events_url":"https://api.github.com/users/astefan/events{/privacy}","received_events_url":"https://api.github.com/users/astefan/received_events","type":"User","site_admin":false},"performed_via_github_app":null}