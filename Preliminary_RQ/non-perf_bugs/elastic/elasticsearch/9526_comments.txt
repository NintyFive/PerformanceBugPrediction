[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/73030860","html_url":"https://github.com/elastic/elasticsearch/issues/9526#issuecomment-73030860","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9526","id":73030860,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDMwODYw","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2015-02-05T11:18:17Z","updated_at":"2015-02-05T11:18:17Z","author_association":"CONTRIBUTOR","body":"Hi @jimmyjones2 \n\nYes, you're absolutely right.  We've been bouncing ideas around including:\n- supporting a post-cache filter for timestamp which isn't included in the cached query\n- rewriting the range filter before caching to replace the min/max with the actual min/max present in the segment\n- supporting a different way of specifying `now` which can avoid cache misses\n\nWe'd very much like to improve this issue, but the best way forward is not entirely clear yet.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/74233546","html_url":"https://github.com/elastic/elasticsearch/issues/9526#issuecomment-74233546","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9526","id":74233546,"node_id":"MDEyOklzc3VlQ29tbWVudDc0MjMzNTQ2","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2015-02-13T10:27:52Z","updated_at":"2015-02-13T10:27:52Z","author_association":"CONTRIBUTOR","body":"I think we are all in agreement that this is desireable. The only problem is that it's technically not very simple to do. It boils down to comparing two queries that are not the same and make a decision if the query results are the same before we execute the second query. I will mark this as a high-hanging fruit.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/149040831","html_url":"https://github.com/elastic/elasticsearch/issues/9526#issuecomment-149040831","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9526","id":149040831,"node_id":"MDEyOklzc3VlQ29tbWVudDE0OTA0MDgzMQ==","user":{"login":"evilezh","id":5277173,"node_id":"MDQ6VXNlcjUyNzcxNzM=","avatar_url":"https://avatars0.githubusercontent.com/u/5277173?v=4","gravatar_id":"","url":"https://api.github.com/users/evilezh","html_url":"https://github.com/evilezh","followers_url":"https://api.github.com/users/evilezh/followers","following_url":"https://api.github.com/users/evilezh/following{/other_user}","gists_url":"https://api.github.com/users/evilezh/gists{/gist_id}","starred_url":"https://api.github.com/users/evilezh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/evilezh/subscriptions","organizations_url":"https://api.github.com/users/evilezh/orgs","repos_url":"https://api.github.com/users/evilezh/repos","events_url":"https://api.github.com/users/evilezh/events{/privacy}","received_events_url":"https://api.github.com/users/evilezh/received_events","type":"User","site_admin":false},"created_at":"2015-10-18T19:31:22Z","updated_at":"2015-10-18T19:31:22Z","author_association":"NONE","body":"Just an idea .... \ndo like cron job ... \ndefine at what time to refresh (which should give exact time ranges e.g. every 10th second of minute.. every minute of hour etc.).\nThat would produce exact time ranges. if we run over last 7 days .. and we have per day index ... then for 6 previous days query should match ...\nSo .. if kibana can produce it .. then we should get cache hits i guess.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/254468336","html_url":"https://github.com/elastic/elasticsearch/issues/9526#issuecomment-254468336","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9526","id":254468336,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NDQ2ODMzNg==","user":{"login":"ebuildy","id":1219817,"node_id":"MDQ6VXNlcjEyMTk4MTc=","avatar_url":"https://avatars0.githubusercontent.com/u/1219817?v=4","gravatar_id":"","url":"https://api.github.com/users/ebuildy","html_url":"https://github.com/ebuildy","followers_url":"https://api.github.com/users/ebuildy/followers","following_url":"https://api.github.com/users/ebuildy/following{/other_user}","gists_url":"https://api.github.com/users/ebuildy/gists{/gist_id}","starred_url":"https://api.github.com/users/ebuildy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ebuildy/subscriptions","organizations_url":"https://api.github.com/users/ebuildy/orgs","repos_url":"https://api.github.com/users/ebuildy/repos","events_url":"https://api.github.com/users/ebuildy/events{/privacy}","received_events_url":"https://api.github.com/users/ebuildy/received_events","type":"User","site_admin":false},"created_at":"2016-10-18T10:26:46Z","updated_at":"2016-10-18T10:26:46Z","author_association":"CONTRIBUTOR","body":"Nothing ready yet? It's very crucial when querying huge indices, maybe a small blog post about putting a cache-proxy between Kibana and elasticsearch could help?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/254470439","html_url":"https://github.com/elastic/elasticsearch/issues/9526#issuecomment-254470439","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9526","id":254470439,"node_id":"MDEyOklzc3VlQ29tbWVudDI1NDQ3MDQzOQ==","user":{"login":"colings86","id":236731,"node_id":"MDQ6VXNlcjIzNjczMQ==","avatar_url":"https://avatars0.githubusercontent.com/u/236731?v=4","gravatar_id":"","url":"https://api.github.com/users/colings86","html_url":"https://github.com/colings86","followers_url":"https://api.github.com/users/colings86/followers","following_url":"https://api.github.com/users/colings86/following{/other_user}","gists_url":"https://api.github.com/users/colings86/gists{/gist_id}","starred_url":"https://api.github.com/users/colings86/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/colings86/subscriptions","organizations_url":"https://api.github.com/users/colings86/orgs","repos_url":"https://api.github.com/users/colings86/repos","events_url":"https://api.github.com/users/colings86/events{/privacy}","received_events_url":"https://api.github.com/users/colings86/received_events","type":"User","site_admin":false},"created_at":"2016-10-18T10:37:37Z","updated_at":"2016-10-18T10:37:45Z","author_association":"MEMBER","body":"@ebuildy This issue was closed by #16870 as referenced above and will be available in 5.0. There is also a three part blog series starting with the following post which explains what we did, why we did it and the effect is has on query performance: https://www.elastic.co/blog/the-tale-of-caching-and-why-it-matters\n","performed_via_github_app":null}]