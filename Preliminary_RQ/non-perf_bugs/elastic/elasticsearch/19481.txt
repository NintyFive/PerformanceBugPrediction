{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/19481","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19481/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19481/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19481/events","html_url":"https://github.com/elastic/elasticsearch/issues/19481","id":166140070,"node_id":"MDU6SXNzdWUxNjYxNDAwNzA=","number":19481,"title":"org.elasticsearch.search.aggregations.bucket.DateHistogramIT#testDSTEndTransition fails sporadically","user":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"labels":[{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"}],"state":"closed","locked":false,"assignee":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"assignees":[{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2016-07-18T16:49:01Z","updated_at":"2016-07-19T13:09:49Z","closed_at":"2016-07-19T13:09:49Z","author_association":"MEMBER","active_lock_reason":null,"body":"Reproduces locally sometimes, need to run with a high iteration count to get it to trigger.\n\nExample build: https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+multijob-os-compatibility/os=oraclelinux/790/console\n\n```\n> REPRODUCE WITH: gradle :core:integTest -Dtests.seed=82560A64C52E117E -Dtests.class=org.elasticsearch.search.aggregations.bucket.DateHistogramIT -Dtests.method=\"testDSTEndTransition { seed=[82560A64C52E117E:58332BC3718193E2]}\" -Dtests.security.manager=true -Dtests.locale=pl -Dtests.timezone=Asia/Bahrain\nFAILURE 0.06s | DateHistogramIT.testDSTEndTransition { seed=[82560A64C52E117E:58332BC3718193E2]} <<< FAILURES!\n   > Throwable #1: java.lang.AssertionError: Serialization failed with version [5.0.0-alpha5] bytes should be equal for streamable [org.elasticsearch.search.internal.ShardSearchTransportRequest@77143156]\n   > Expected: <org.elasticsearch.common.bytes.PagedBytesReference@87c05c74>\n   >      but: was <org.elasticsearch.common.bytes.PagedBytesReference@bf413521>\n   >     at __randomizedtesting.SeedInfo.seed([82560A64C52E117E:58332BC3718193E2]:0)\n   >     at org.hamcrest.MatcherAssert.assertThat(MatcherAssert.java:20)\n   >     at org.elasticsearch.test.hamcrest.ElasticsearchAssertions.assertVersionSerializable(ElasticsearchAssertions.java:667)\n   >     at org.elasticsearch.test.transport.AssertingLocalTransport.sendRequest(AssertingLocalTransport.java:93)\n   >     at org.elasticsearch.transport.TransportService.sendRequest(TransportService.java:470)\n   >     at org.elasticsearch.transport.TransportService.sendRequest(TransportService.java:438)\n   >     at org.elasticsearch.search.action.SearchTransportService.sendExecuteQuery(SearchTransportService.java:141)\n   >     at org.elasticsearch.action.search.SearchQueryThenFetchAsyncAction.sendExecuteFirstPhase(SearchQueryThenFetchAsyncAction.java:66)\n   >     at org.elasticsearch.action.search.AbstractSearchAsyncAction.performFirstPhase(AbstractSearchAsyncAction.java:162)\n   >     at org.elasticsearch.action.search.AbstractSearchAsyncAction.start(AbstractSearchAsyncAction.java:143)\n   >     at org.elasticsearch.action.search.TransportSearchAction.doExecute(TransportSearchAction.java:96)\n   >     at org.elasticsearch.action.search.TransportSearchAction.doExecute(TransportSearchAction.java:45)\n   >     at org.elasticsearch.action.support.TransportAction.doExecute(TransportAction.java:158)\n   >     at org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:182)\n   >     at org.elasticsearch.action.ingest.IngestActionFilter.apply(IngestActionFilter.java:80)\n   >     at org.elasticsearch.action.support.TransportAction$RequestFilterChain.proceed(TransportAction.java:180)\n   >     at org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:153)\n   >     at org.elasticsearch.action.support.TransportAction.execute(TransportAction.java:87)\n   >     at org.elasticsearch.client.node.NodeClient.executeLocally(NodeClient.java:75)\n   >     at org.elasticsearch.client.node.NodeClient.doExecute(NodeClient.java:64)\n   >     at org.elasticsearch.client.support.AbstractClient.execute(AbstractClient.java:403)\n   >     at org.elasticsearch.action.ActionRequestBuilder.execute(ActionRequestBuilder.java:80)\n   >     at org.elasticsearch.action.ActionRequestBuilder.execute(ActionRequestBuilder.java:54)\n   >     at org.elasticsearch.search.aggregations.bucket.DateHistogramIT.testDSTEndTransition(DateHistogramIT.java:1196)\n   >     at java.lang.Thread.run(Thread.java:745)\n```\n\nReproduce with:\n\n```\ngradle :core:integTest -Dtests.seed=82560A64C52E117E -Dtests.class=org.elasticsearch.search.aggregations.bucket.DateHistogramIT -Dtests.method=\"testDSTEndTransition\" -Dtests.security.manager=true -Dtests.locale=pl -Dtests.timezone=Asia/Bahrain\n```\n\n(May need `-Dtests.iters=50` or similar)\n","closed_by":{"login":"nik9000","id":215970,"node_id":"MDQ6VXNlcjIxNTk3MA==","avatar_url":"https://avatars2.githubusercontent.com/u/215970?v=4","gravatar_id":"","url":"https://api.github.com/users/nik9000","html_url":"https://github.com/nik9000","followers_url":"https://api.github.com/users/nik9000/followers","following_url":"https://api.github.com/users/nik9000/following{/other_user}","gists_url":"https://api.github.com/users/nik9000/gists{/gist_id}","starred_url":"https://api.github.com/users/nik9000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nik9000/subscriptions","organizations_url":"https://api.github.com/users/nik9000/orgs","repos_url":"https://api.github.com/users/nik9000/repos","events_url":"https://api.github.com/users/nik9000/events{/privacy}","received_events_url":"https://api.github.com/users/nik9000/received_events","type":"User","site_admin":false},"performed_via_github_app":null}