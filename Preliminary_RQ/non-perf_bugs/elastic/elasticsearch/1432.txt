{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/1432","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1432/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1432/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1432/events","html_url":"https://github.com/elastic/elasticsearch/issues/1432","id":2083776,"node_id":"MDU6SXNzdWUyMDgzNzc2","number":1432,"title":"plugin script fails to follow github redirect","user":{"login":"glynnbird","id":697925,"node_id":"MDQ6VXNlcjY5NzkyNQ==","avatar_url":"https://avatars2.githubusercontent.com/u/697925?v=4","gravatar_id":"","url":"https://api.github.com/users/glynnbird","html_url":"https://github.com/glynnbird","followers_url":"https://api.github.com/users/glynnbird/followers","following_url":"https://api.github.com/users/glynnbird/following{/other_user}","gists_url":"https://api.github.com/users/glynnbird/gists{/gist_id}","starred_url":"https://api.github.com/users/glynnbird/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glynnbird/subscriptions","organizations_url":"https://api.github.com/users/glynnbird/orgs","repos_url":"https://api.github.com/users/glynnbird/repos","events_url":"https://api.github.com/users/glynnbird/events{/privacy}","received_events_url":"https://api.github.com/users/glynnbird/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":25,"created_at":"2011-10-28T21:05:25Z","updated_at":"2014-06-24T13:29:08Z","closed_at":"2013-04-05T16:08:43Z","author_association":"NONE","active_lock_reason":null,"body":"The plugin installation script fails if GitHub decides not to serve out zip files directly but through a HTTP 302 re-direct.\n\n````$ ./bin/plugin -install mobz/elasticsearch-head\n-> Installing mobz/elasticsearch-head...\nTrying https://github.com/downloads/mobz/elasticsearch-head/elasticsearch-head-0.18.1.zip...\nTrying https://github.com/mobz/elasticsearch-head/zipball/v0.18.1...\nTrying https://github.com/mobz/elasticsearch-head/zipball/master...\nFailed to install mobz/elasticsearch-head, reason: failed to download\n\n``````\nThe first two attempts would fail (because those files don't exist) but the master one should succeed. Trying with curl reveals that GitHub is in the mood to redirect requests to another server:\n\n````$ curl -i 'https://github.com/mobz/elasticsearch-head/zipball/master'\nHTTP/1.1 302 Found\nServer: nginx/1.0.4\nDate: Fri, 28 Oct 2011 10:40:08 GMT\nContent-Type: text/html; charset=utf-8\nConnection: keep-alive\nStatus: 302 Found\nX-Frame-Options: deny\nLocation: https://nodeload.github.com/mobz/elasticsearch-head/zipball/master\nX-Runtime: 8ms\nContent-Length: 132\nSet-Cookie: _gh_sess=BAh7BiIKZmxhc2hJQzonQWN0aW9uQ29udHJvbGxlcjo6Rmxhc2g6OkZsYXNoSGFzaHsABjoKQHVzZWR7AA%3D%3D--ed7eadd474fd37850b68bd3c08a5c55ad0c3c833; path=/; expires=Fri, 01 Jan 2021 00:00:00 GMT; secure; HttpOnly\nCache-Control: no-cache\nStrict-Transport-Security: max-age=2592000\n``````\n\nPerhaps the plugin installation script should be follow the redirect.\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}