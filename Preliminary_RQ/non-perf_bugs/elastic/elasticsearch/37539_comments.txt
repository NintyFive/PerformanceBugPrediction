[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/454830324","html_url":"https://github.com/elastic/elasticsearch/issues/37539#issuecomment-454830324","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37539","id":454830324,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NDgzMDMyNA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-01-16T15:53:55Z","updated_at":"2019-01-16T15:53:55Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/461060098","html_url":"https://github.com/elastic/elasticsearch/issues/37539#issuecomment-461060098","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37539","id":461060098,"node_id":"MDEyOklzc3VlQ29tbWVudDQ2MTA2MDA5OA==","user":{"login":"andrershov","id":600624,"node_id":"MDQ6VXNlcjYwMDYyNA==","avatar_url":"https://avatars1.githubusercontent.com/u/600624?v=4","gravatar_id":"","url":"https://api.github.com/users/andrershov","html_url":"https://github.com/andrershov","followers_url":"https://api.github.com/users/andrershov/followers","following_url":"https://api.github.com/users/andrershov/following{/other_user}","gists_url":"https://api.github.com/users/andrershov/gists{/gist_id}","starred_url":"https://api.github.com/users/andrershov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrershov/subscriptions","organizations_url":"https://api.github.com/users/andrershov/orgs","repos_url":"https://api.github.com/users/andrershov/repos","events_url":"https://api.github.com/users/andrershov/events{/privacy}","received_events_url":"https://api.github.com/users/andrershov/received_events","type":"User","site_admin":false},"created_at":"2019-02-06T15:16:51Z","updated_at":"2019-02-06T16:33:16Z","author_association":"CONTRIBUTOR","body":"The caption mentions `DiscoveryDisruptionIT#testElectMasterWithLatestVersion`, but exception provided in description relates to a different test `MasterDisruptionIT.testVerifyApiBlocksDuringPartition`. \r\nThere is already an issue for `MasterDisruptionIT` https://github.com/elastic/elasticsearch/issues/37276.\r\nMoreover, build links no longer work.\r\nDiscoveryDisruptionIT#testElectMasterWithLatestVersion actually was failing several times according to Kibana, and the latest failure (with logs still available) https://elasticsearch-ci.elastic.co/job/elastic+elasticsearch+master+release-tests/362/consoleFull.\r\nFrom these logs, I can see that test failed when asserting no master on node_t2, which previously was a master, after introducing network disruption (second time).\r\nAnd the reason for the failure seems a stall on node_t2, here the logs from this node:\r\n```\r\n1> [2019-01-21T06:27:50,301][DEBUG][o.e.c.s.MasterService    ] [node_t2] processing [node-left[{node_t0}{g7ZxqRehSF6MkXW0XJMwqg}{xasWEDc2SXiHXTigXFKYnA}{127.0.0.1}{127.0.0.1:46373} disconnected]]: execute\r\n1> [2019-01-21T06:27:50,301][DEBUG][o.e.c.r.a.AllocationService] [node_t2] [test][0] failing shard [test][0], node[g7ZxqRehSF6MkXW0XJMwqg], [P], s[STARTED], a[id=-sTvScv4SzyovUuISa2DsQ] with unassigned info ([reason=NODE_LEFT], at[2019-01-21T11:27:50.301Z], delayed=true, details[node_left[g7ZxqRehSF6MkXW0XJMwqg]], allocation_status[no_attempt])\r\n\r\n16 seconds stall\r\n\r\n1> [2019-01-21T06:28:06,712][DEBUG][o.e.c.r.a.a.BalancedShardsAllocator] [node_t2] skipping rebalance due to in-flight shard/store fetches\r\n1> [2019-01-21T06:28:06,712][TRACE][o.e.c.s.MasterService    ] [node_t2] cluster state updated, source [node-left[{node_t0}{g7ZxqRehSF6MkXW0XJMwqg}{xasWEDc2SXiHXTigXFKYnA}{127.0.0.1}{127.0.0.1:46373} disconnected]]\r\n1> cluster uuid: Hc9PTwFsRcm09xct1FfCJg\r\n1> version: 9\r\n```\r\nSince this test failure was failing during unstable infrastructure window period, I think we need to unmute this method.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/471029987","html_url":"https://github.com/elastic/elasticsearch/issues/37539#issuecomment-471029987","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/37539","id":471029987,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MTAyOTk4Nw==","user":{"login":"ywelsch","id":3718355,"node_id":"MDQ6VXNlcjM3MTgzNTU=","avatar_url":"https://avatars3.githubusercontent.com/u/3718355?v=4","gravatar_id":"","url":"https://api.github.com/users/ywelsch","html_url":"https://github.com/ywelsch","followers_url":"https://api.github.com/users/ywelsch/followers","following_url":"https://api.github.com/users/ywelsch/following{/other_user}","gists_url":"https://api.github.com/users/ywelsch/gists{/gist_id}","starred_url":"https://api.github.com/users/ywelsch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ywelsch/subscriptions","organizations_url":"https://api.github.com/users/ywelsch/orgs","repos_url":"https://api.github.com/users/ywelsch/repos","events_url":"https://api.github.com/users/ywelsch/events{/privacy}","received_events_url":"https://api.github.com/users/ywelsch/received_events","type":"User","site_admin":false},"created_at":"2019-03-08T18:33:22Z","updated_at":"2019-03-08T18:33:22Z","author_association":"CONTRIBUTOR","body":"For the reasons that @andrershov has outline above, and no recent failures of this test (testElectMasterWithLatestVersion), I'm closing this issue","performed_via_github_app":null}]