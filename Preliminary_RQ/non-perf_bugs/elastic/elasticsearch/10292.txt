{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/10292","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10292/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10292/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10292/events","html_url":"https://github.com/elastic/elasticsearch/issues/10292","id":64719907,"node_id":"MDU6SXNzdWU2NDcxOTkwNw==","number":10292,"title":"Tests fail when building ES","user":{"login":"marko-asplund","id":1002541,"node_id":"MDQ6VXNlcjEwMDI1NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/1002541?v=4","gravatar_id":"","url":"https://api.github.com/users/marko-asplund","html_url":"https://github.com/marko-asplund","followers_url":"https://api.github.com/users/marko-asplund/followers","following_url":"https://api.github.com/users/marko-asplund/following{/other_user}","gists_url":"https://api.github.com/users/marko-asplund/gists{/gist_id}","starred_url":"https://api.github.com/users/marko-asplund/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marko-asplund/subscriptions","organizations_url":"https://api.github.com/users/marko-asplund/orgs","repos_url":"https://api.github.com/users/marko-asplund/repos","events_url":"https://api.github.com/users/marko-asplund/events{/privacy}","received_events_url":"https://api.github.com/users/marko-asplund/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-03-27T08:34:55Z","updated_at":"2015-04-04T02:27:30Z","closed_at":"2015-04-04T02:27:30Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"I've checked out ES source with v1.5.0 tag and when I try to build tests fail with the following tests:\n- org.elasticsearch.bwcompat.RestoreBackwardsCompatTests.restoreOldSnapshots\n- org.elasticsearch.bwcompat.OldIndexBackwardsCompatibilityTests.testAllVersionsTested\n\nThis happens on Mac OS X with Java 8 + Maven 3.2.5\n\nThe README advises to skip tests, but it's bad practice to routinely do this since this way contributors won't be able to get any confirmation that their code actually works apart from it being syntactically correct.\n\n``````\nmvn clean package\n...\nTests with failures:\n  - org.elasticsearch.bwcompat.RestoreBackwardsCompatTests.restoreOldSnapshots\n  - org.elasticsearch.bwcompat.OldIndexBackwardsCompatibilityTests.testAllVersionsTested\n\n\n[INFO] JVM J0:     0.67 ..   541.62 =   540.95s\n[INFO] JVM J1:     0.67 ..   541.47 =   540.80s\n[INFO] JVM J2:     0.67 ..   558.75 =   558.08s\n[INFO] JVM J3:     0.67 ..   541.54 =   540.87s\n[INFO] Execution time total: 9 minutes 18 seconds\n[INFO] Tests summary: 708 suites, 4699 tests, 2 failures, 70 ignored (59 assumptions)\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 09:55 min\n[INFO] Finished at: 2015-03-27T10:26:36+02:00\n[INFO] Final Memory: 31M/1331M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal com.carrotsearch.randomizedtesting:junit4-maven-plugin:2.1.2:junit4 (tests) on project elasticsearch: Execution tests of goal com.carrotsearch.randomizedtesting:junit4-maven-plugin:2.1.2:junit4 failed: /Users/marko/projects/3rd-party/elasticsearch/target/junit4-ant-7275726970577951678.xml:16: There were test failures: 708 suites, 4699 tests, 2 failures, 70 ignored (59 assumptions) -> [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\n~/projects/3rd-party/elasticsearch (5448160 ✔) ᐅ java -version\njava version \"1.8.0_40\"\nJava(TM) SE Runtime Environment (build 1.8.0_40-b27)\nJava HotSpot(TM) 64-Bit Server VM (build 25.40-b25, mixed mode)```\n``````\n","closed_by":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"performed_via_github_app":null}