{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/33759","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33759/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33759/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/33759/events","html_url":"https://github.com/elastic/elasticsearch/issues/33759","id":360822965,"node_id":"MDU6SXNzdWUzNjA4MjI5NjU=","number":33759,"title":"Update forbiddenapis to v2.6","user":{"login":"uschindler","id":1005388,"node_id":"MDQ6VXNlcjEwMDUzODg=","avatar_url":"https://avatars2.githubusercontent.com/u/1005388?v=4","gravatar_id":"","url":"https://api.github.com/users/uschindler","html_url":"https://github.com/uschindler","followers_url":"https://api.github.com/users/uschindler/followers","following_url":"https://api.github.com/users/uschindler/following{/other_user}","gists_url":"https://api.github.com/users/uschindler/gists{/gist_id}","starred_url":"https://api.github.com/users/uschindler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/uschindler/subscriptions","organizations_url":"https://api.github.com/users/uschindler/orgs","repos_url":"https://api.github.com/users/uschindler/repos","events_url":"https://api.github.com/users/uschindler/events{/privacy}","received_events_url":"https://api.github.com/users/uschindler/received_events","type":"User","site_admin":false},"labels":[{"id":106454670,"node_id":"MDU6TGFiZWwxMDY0NTQ2NzA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Build","name":":Delivery/Build","color":"0e8a16","default":false,"description":"Build or test infrastructure"},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"}],"state":"closed","locked":false,"assignee":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"assignees":[{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false}],"milestone":null,"comments":11,"created_at":"2018-09-17T11:19:38Z","updated_at":"2020-11-11T21:50:27Z","closed_at":"2018-10-23T09:06:47Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Changelog: Version 2.6 (released 2018-09-17):**\r\n\r\n> **New features:**\r\n>   * Add Java 11 support by upgrading to ASM 6.2.1. This includes updated signatures files\r\n>     and build system changes (shipped documentation is currently missing reference to\r\n>     Java 11, sorry).\r\n>   * The plugin was published on the [Gradle Plugin portal](https://plugins.gradle.org/plugin/de.thetaphi.forbiddenapis).\r\n>     Due to a bug in plugin initialization, older versions may not fully work.\r\n>     Thanks to Sebastian Davids and the Gradle team for help and pushing this forward!\r\n>   * When signatures are using classes that are not found on classpath, the option to ignore\r\n>     those warnings is no longer so noisy: It only lists all failed signatures separately\r\n>     where methods/fields do not exit, but the missing classes are reported only with a\r\n>     single line, thanks ghost,\r\n>     Tim Allison, Dawid Weiss.\r\n>   * Report more details about class that failed to load while scanning the classes\r\n>     to be checked, thanks Trejkaz.\r\n>   * Only print warning about Gradle daemon once.\r\n> \r\n> **Bug fixes:**\r\n>   * Gradle: Fix SourceSets added after plugin loading don't get tasks.\r\n>   * Add a hack for the broken JavaVersion enum in Gradle. It returns version \"1.9\" and \"1.10\"\r\n>     (which are invalid targetCompatibility versions) and this problem is only fixed after Java 11.\r\n>     Before Java 11 we switch to plain \"majorVersion\" property, thanks Sebastian Davids.\r\n>   * Gradle: Always apply JavaBasePlugin, otherwise startup may fail with new plugin DSL,\r\n>     as initialization order is undefined, thanks Sebastian\r\n>     Davids.\r\n> \r\n> **Internals:**\r\n>   * Refactor signatures file parsing and lookup of signatures (remove from Checker).\r\n>   * Workaround for Java 1.6 (minimum version) builds with Maven Central TLS settings.\r\n>   * Cleanup Gradle plugin initialization exception handling, check minimal Gradle version.\r\n\r\n**Important:** Normally I would supply a PR, but due to the recent changes in Elasticsearch (use forbiddenapis CLI instead of plugin - why the hell???), I can't support it anymore (the CLI is also not actively maintained and stays for \"simple use cases\", it was never made for automated running from build scripts). Therefore, please do the update on your own. Just a few things:\r\n- Forbiddenapis can handle target \"11\" (no version cap needed, or at least raise cap to 11)\r\n- If you update (you should!) release branches that use the real Gradle plugin, please remove the commenting about the `server/java9` sourceset. The release fixed the bug in the Gradle plugin (later added sourcesets are not initialized with `forbiddenApisJava9` task). Due to many updates in the Gradle plugin, an update of release/maintenance branches should really be investigated (especially to check Java 9 code and compiled Groovy code).\r\n\r\nUwe","closed_by":{"login":"alpar-t","id":2565652,"node_id":"MDQ6VXNlcjI1NjU2NTI=","avatar_url":"https://avatars1.githubusercontent.com/u/2565652?v=4","gravatar_id":"","url":"https://api.github.com/users/alpar-t","html_url":"https://github.com/alpar-t","followers_url":"https://api.github.com/users/alpar-t/followers","following_url":"https://api.github.com/users/alpar-t/following{/other_user}","gists_url":"https://api.github.com/users/alpar-t/gists{/gist_id}","starred_url":"https://api.github.com/users/alpar-t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alpar-t/subscriptions","organizations_url":"https://api.github.com/users/alpar-t/orgs","repos_url":"https://api.github.com/users/alpar-t/repos","events_url":"https://api.github.com/users/alpar-t/events{/privacy}","received_events_url":"https://api.github.com/users/alpar-t/received_events","type":"User","site_admin":false},"performed_via_github_app":null}