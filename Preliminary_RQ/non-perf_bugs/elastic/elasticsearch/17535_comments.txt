[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/206310324","html_url":"https://github.com/elastic/elasticsearch/issues/17535#issuecomment-206310324","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17535","id":206310324,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNjMxMDMyNA==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-04-06T11:00:00Z","updated_at":"2016-04-06T11:00:00Z","author_association":"CONTRIBUTOR","body":"@martijnvg could you take a look please?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/206546064","html_url":"https://github.com/elastic/elasticsearch/issues/17535#issuecomment-206546064","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17535","id":206546064,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNjU0NjA2NA==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2016-04-06T20:27:46Z","updated_at":"2016-04-06T20:27:46Z","author_association":"MEMBER","body":"@kvnlte @clintongormley This is because the `ToParentBlockJoinQuery` which the `nested` query uses doesn't implement query extraction, which the dfs phase uses to extract terms from the query to compute distributed idf. This needs to be fixed in Lucene.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/206784661","html_url":"https://github.com/elastic/elasticsearch/issues/17535#issuecomment-206784661","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17535","id":206784661,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNjc4NDY2MQ==","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2016-04-07T09:37:46Z","updated_at":"2016-04-07T09:37:46Z","author_association":"CONTRIBUTOR","body":"thanks @martijnvg - is there a lucene issue we can link to?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/206804295","html_url":"https://github.com/elastic/elasticsearch/issues/17535#issuecomment-206804295","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17535","id":206804295,"node_id":"MDEyOklzc3VlQ29tbWVudDIwNjgwNDI5NQ==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2016-04-07T10:37:26Z","updated_at":"2016-04-07T10:37:26Z","author_association":"MEMBER","body":"@clintongormley https://issues.apache.org/jira/browse/LUCENE-7187\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/227997419","html_url":"https://github.com/elastic/elasticsearch/issues/17535#issuecomment-227997419","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17535","id":227997419,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzk5NzQxOQ==","user":{"login":"sfcgeorge","id":885003,"node_id":"MDQ6VXNlcjg4NTAwMw==","avatar_url":"https://avatars3.githubusercontent.com/u/885003?v=4","gravatar_id":"","url":"https://api.github.com/users/sfcgeorge","html_url":"https://github.com/sfcgeorge","followers_url":"https://api.github.com/users/sfcgeorge/followers","following_url":"https://api.github.com/users/sfcgeorge/following{/other_user}","gists_url":"https://api.github.com/users/sfcgeorge/gists{/gist_id}","starred_url":"https://api.github.com/users/sfcgeorge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sfcgeorge/subscriptions","organizations_url":"https://api.github.com/users/sfcgeorge/orgs","repos_url":"https://api.github.com/users/sfcgeorge/repos","events_url":"https://api.github.com/users/sfcgeorge/events{/privacy}","received_events_url":"https://api.github.com/users/sfcgeorge/received_events","type":"User","site_admin":false},"created_at":"2016-06-23T09:30:42Z","updated_at":"2016-06-23T09:30:42Z","author_association":"NONE","body":"Just bit me. Spent ages figuring why queryNorm was varying widely between documents, found dfs_query_then_fetch which fixed it, then using nested docs broke it again so I guess I'll have to run on 1 shard :(\n\nIt looks like the Lucene issue was fixed just a week ago :) So I guess this could be fixed in ES now (and \"stalled\" label can be removed)?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/228002459","html_url":"https://github.com/elastic/elasticsearch/issues/17535#issuecomment-228002459","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17535","id":228002459,"node_id":"MDEyOklzc3VlQ29tbWVudDIyODAwMjQ1OQ==","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2016-06-23T09:49:59Z","updated_at":"2016-06-23T09:49:59Z","author_association":"MEMBER","body":"@sfcgeorge yes, it can be removed. It is already fixed in the upcoming alpha4 release, so it can be closed too.\n","performed_via_github_app":null}]