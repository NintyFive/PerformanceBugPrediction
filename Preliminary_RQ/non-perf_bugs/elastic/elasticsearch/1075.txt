{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/1075","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1075/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1075/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1075/events","html_url":"https://github.com/elastic/elasticsearch/issues/1075","id":1137846,"node_id":"MDU6SXNzdWUxMTM3ODQ2","number":1075,"title":"Memory leak","user":{"login":"ThePixelDeveloper","id":47728,"node_id":"MDQ6VXNlcjQ3NzI4","avatar_url":"https://avatars3.githubusercontent.com/u/47728?v=4","gravatar_id":"","url":"https://api.github.com/users/ThePixelDeveloper","html_url":"https://github.com/ThePixelDeveloper","followers_url":"https://api.github.com/users/ThePixelDeveloper/followers","following_url":"https://api.github.com/users/ThePixelDeveloper/following{/other_user}","gists_url":"https://api.github.com/users/ThePixelDeveloper/gists{/gist_id}","starred_url":"https://api.github.com/users/ThePixelDeveloper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ThePixelDeveloper/subscriptions","organizations_url":"https://api.github.com/users/ThePixelDeveloper/orgs","repos_url":"https://api.github.com/users/ThePixelDeveloper/repos","events_url":"https://api.github.com/users/ThePixelDeveloper/events{/privacy}","received_events_url":"https://api.github.com/users/ThePixelDeveloper/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2011-06-29T14:05:04Z","updated_at":"2011-07-18T12:31:26Z","closed_at":"2011-07-18T12:31:26Z","author_association":"NONE","active_lock_reason":null,"body":"I had a long discussion about this on the mailing list. The solutions tried have had no effect so I'm considering this a bug.\n## System Information\n- Total memory = 469M\n- vm.swappiness = 10\n### Java\n\n``` bash\nVendor:       Sun Microsystems Inc.\nName:         Java HotSpot(TM) Client VM\nVersion:      19.1-b02\nJava version: 1.6.0_24\n```\n### Elastic\n\n``` bash\nVersion: 0.16.2\n```\n#### Indicies\n\n``` bash\nNumber of documents: 3888, Store size: 1.8mb (1925915 B)\nField cache evictions: 0, Field cache size: 125.9kb, Filter cache size: 18.3kb\nMerges: Current: 0, Total: 0, Took: 0s\n```\n### Graphs\n\n![](http://localhostr.com/file/LDs4Yad/localhost.localdomain-memory-day.png)\n![](http://localhostr.com/file/O6YDxPU/localhost.localdomain-memory-week.png)\n![](http://localhostr.com/file/uypPCsE/localhost.localdomain-memory-month.png)\n\n<a href=\"http://localhostr.com/file/6xvX3fN/Selection_029.jpeg\"><img src=\"http://localhostr.com/file/6xvX3fN/Selection_029.jpeg\" width=\"495\" /></a>\n## Solutions tried\n### Locking memory\n\nNo effect. The following option was set for the elastisearch user: \n\n```\nulimit -l unlimited\n```\n### Swapped from OpenJDK to Oracle's Java\n\nNo effect\n### Next action\n\nI'll be trying to monitor the JVM at a lower level using a tool like visualgc to see what I can gain from it.\n","closed_by":{"login":"ThePixelDeveloper","id":47728,"node_id":"MDQ6VXNlcjQ3NzI4","avatar_url":"https://avatars3.githubusercontent.com/u/47728?v=4","gravatar_id":"","url":"https://api.github.com/users/ThePixelDeveloper","html_url":"https://github.com/ThePixelDeveloper","followers_url":"https://api.github.com/users/ThePixelDeveloper/followers","following_url":"https://api.github.com/users/ThePixelDeveloper/following{/other_user}","gists_url":"https://api.github.com/users/ThePixelDeveloper/gists{/gist_id}","starred_url":"https://api.github.com/users/ThePixelDeveloper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ThePixelDeveloper/subscriptions","organizations_url":"https://api.github.com/users/ThePixelDeveloper/orgs","repos_url":"https://api.github.com/users/ThePixelDeveloper/repos","events_url":"https://api.github.com/users/ThePixelDeveloper/events{/privacy}","received_events_url":"https://api.github.com/users/ThePixelDeveloper/received_events","type":"User","site_admin":false},"performed_via_github_app":null}