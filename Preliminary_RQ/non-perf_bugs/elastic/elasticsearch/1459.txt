{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/1459","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1459/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1459/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1459/events","html_url":"https://github.com/elastic/elasticsearch/issues/1459","id":2224004,"node_id":"MDU6SXNzdWUyMjI0MDA0","number":1459,"title":"Add support for field excerpt when no highlighting is possible","user":{"login":"ahfeel","id":43286,"node_id":"MDQ6VXNlcjQzMjg2","avatar_url":"https://avatars1.githubusercontent.com/u/43286?v=4","gravatar_id":"","url":"https://api.github.com/users/ahfeel","html_url":"https://github.com/ahfeel","followers_url":"https://api.github.com/users/ahfeel/followers","following_url":"https://api.github.com/users/ahfeel/following{/other_user}","gists_url":"https://api.github.com/users/ahfeel/gists{/gist_id}","starred_url":"https://api.github.com/users/ahfeel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ahfeel/subscriptions","organizations_url":"https://api.github.com/users/ahfeel/orgs","repos_url":"https://api.github.com/users/ahfeel/repos","events_url":"https://api.github.com/users/ahfeel/events{/privacy}","received_events_url":"https://api.github.com/users/ahfeel/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2011-11-14T00:12:32Z","updated_at":"2013-09-20T16:41:45Z","closed_at":"2013-09-20T16:41:45Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"The majority of search frontends usually display the highlighted chunks below the hit title. The problem is that on non highlighting queries, such as a numerical range, no highlighting chunk will be brought back in the search. If you don't want your display to look bad, you usually display an excerpt of the beginning of the file, or of the first contiguous paragraph, etc... The easy way to do that is to always ask for the full field content in your ES query, but this is a very costly solution in any case (unnecessary memory and bandwidth).\n\nI would like to suggest an enhancement to ElasticSearch to add the possibility to get back a excerpt of the highlighted field in case the query doesn't highlight. The syntax would be:\n\n```\n\"highlight\" : {\n    \"fields\" : {\n        \"content\" : {\n            \"fragment_size\" : 150,\n            \"number_of_fragments\" : 3,\n            \"fallback\" : \"excerpt_basic\" // or \"excerpt_firstparagraph\" or any other more advanced impl to come\n        }\n    }\n}\n```\n\nJérémie\n","closed_by":{"login":"javanna","id":832460,"node_id":"MDQ6VXNlcjgzMjQ2MA==","avatar_url":"https://avatars1.githubusercontent.com/u/832460?v=4","gravatar_id":"","url":"https://api.github.com/users/javanna","html_url":"https://github.com/javanna","followers_url":"https://api.github.com/users/javanna/followers","following_url":"https://api.github.com/users/javanna/following{/other_user}","gists_url":"https://api.github.com/users/javanna/gists{/gist_id}","starred_url":"https://api.github.com/users/javanna/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javanna/subscriptions","organizations_url":"https://api.github.com/users/javanna/orgs","repos_url":"https://api.github.com/users/javanna/repos","events_url":"https://api.github.com/users/javanna/events{/privacy}","received_events_url":"https://api.github.com/users/javanna/received_events","type":"User","site_admin":false},"performed_via_github_app":null}