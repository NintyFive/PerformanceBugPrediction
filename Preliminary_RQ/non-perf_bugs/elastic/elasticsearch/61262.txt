{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/61262","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61262/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61262/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/61262/events","html_url":"https://github.com/elastic/elasticsearch/issues/61262","id":680958966,"node_id":"MDU6SXNzdWU2ODA5NTg5NjY=","number":61262,"title":"[CI] SslMultiPortTests testThatStandardTransportClientCanConnectToNoClientAuthProfile fails on 6.8","user":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"labels":[{"id":912838655,"node_id":"MDU6TGFiZWw5MTI4Mzg2NTU=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Security/Network","name":":Security/Network","color":"0e8a16","default":false,"description":"SSL/TLS, Security for NIO/Netty"},{"id":148612629,"node_id":"MDU6TGFiZWwxNDg2MTI2Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Etest-failure","name":">test-failure","color":"207de5","default":false,"description":"Triaged test failures from CI"},{"id":1967499607,"node_id":"MDU6TGFiZWwxOTY3NDk5NjA3","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Security","name":"Team:Security","color":"fef2c0","default":false,"description":"Meta label for security team"},{"id":2270724769,"node_id":"MDU6TGFiZWwyMjcwNzI0NzY5","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v6.8.13","name":"v6.8.13","color":"dddddd","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"assignees":[{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2020-08-18T11:18:48Z","updated_at":"2020-08-31T11:01:11Z","closed_at":"2020-08-31T11:01:11Z","author_association":"MEMBER","active_lock_reason":null,"body":"**Build scan**:\r\nhttps://gradle-enterprise.elastic.co/s/sbaq67a7bqzlw\r\nhttps://gradle-enterprise.elastic.co/s/sbaq67a7bqzlw/console-log?task=:x-pack:plugin:security:unitTest\r\n\r\n**Repro line**:\r\n./gradlew ':x-pack:plugin:security:unitTest' \\\r\n  -Dtests.seed=16301CD8007F75FC \\\r\n  -Dtests.class=org.elasticsearch.xpack.security.transport.ssl.SslMultiPortTests \\\r\n  -Dtests.method=\"testThatStandardTransportClientCanConnectToNoClientAuthProfile\" \\\r\n  -Dtests.security.manager=true \\\r\n  -Dtests.locale=und \\\r\n  -Dtests.timezone=Asia/Irkutsk \\\r\n  -Dcompiler.java=12 \\\r\n  -Druntime.java=8\r\n\r\n**Reproduces locally?**: No\r\n \r\n**Applicable branches**: 6.8\r\n\r\n**Failure history**:\r\nCouldn't find recent similar looking failures\r\n\r\n**Failure excerpt**:\r\n```\r\n1> javax.net.ssl.SSLException: SSLEngine closed already\r\n  1> \tat io.netty.handler.ssl.SslHandler.wrap(...)(Unknown Source) ~[netty-handler-4.1.32.Final.jar:4.1.32.Final]\r\n  1> [2020-08-18T11:50:55,758][WARN ][o.e.x.c.s.t.n.SecurityNetty4Transport] [node_s0] client did not trust this server's certificate, closing connection Netty4TcpChannel{localAddress=0.0.0.0/0.0.0.0:54387, remoteAddress=/127.0.0.1:54248}\r\n  1> [2020-08-18T11:50:55,760][WARN ][o.e.x.c.s.t.n.SecurityNetty4Transport] [node_s0] client did not trust this server's certificate, closing connection Netty4TcpChannel{localAddress=0.0.0.0/0.0.0.0:54387, remoteAddress=/127.0.0.1:54248}\r\n  1> [2020-08-18T11:50:55,759][WARN ][o.e.t.TcpTransport       ] [_client_] exception caught on transport layer [Netty4TcpChannel{localAddress=/127.0.0.1:54248, remoteAddress=localhost/127.0.0.1:54387}], closing connection\r\n  1> io.netty.handler.codec.DecoderException: javax.net.ssl.SSLHandshakeException: General SSLEngine problem\r\n  1> \tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:472) ~[netty-codec-4.1.32.Final.jar:4.1.32.Final]\r\n  1>[...]\r\n  1> Caused by: javax.net.ssl.SSLHandshakeException: General SSLEngine problem\r\n[...]\r\n  1> Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n  1> \tat sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:450) ~[?:?]\r\n[...]\r\n  1> Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n  1> \tat sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141) ~[?:?]\r\n[...]\r\n```\r\n\r\n\r\n","closed_by":{"login":"jkakavas","id":10281256,"node_id":"MDQ6VXNlcjEwMjgxMjU2","avatar_url":"https://avatars2.githubusercontent.com/u/10281256?v=4","gravatar_id":"","url":"https://api.github.com/users/jkakavas","html_url":"https://github.com/jkakavas","followers_url":"https://api.github.com/users/jkakavas/followers","following_url":"https://api.github.com/users/jkakavas/following{/other_user}","gists_url":"https://api.github.com/users/jkakavas/gists{/gist_id}","starred_url":"https://api.github.com/users/jkakavas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkakavas/subscriptions","organizations_url":"https://api.github.com/users/jkakavas/orgs","repos_url":"https://api.github.com/users/jkakavas/repos","events_url":"https://api.github.com/users/jkakavas/events{/privacy}","received_events_url":"https://api.github.com/users/jkakavas/received_events","type":"User","site_admin":false},"performed_via_github_app":null}