[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/494490617","html_url":"https://github.com/elastic/elasticsearch/issues/42309#issuecomment-494490617","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42309","id":494490617,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDQ5MDYxNw==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-05-21T17:46:38Z","updated_at":"2019-05-21T17:46:38Z","author_association":"COLLABORATOR","body":"Pinging @elastic/ml-core","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/494491457","html_url":"https://github.com/elastic/elasticsearch/issues/42309#issuecomment-494491457","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42309","id":494491457,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDQ5MTQ1Nw==","user":{"login":"davidkyle","id":2353640,"node_id":"MDQ6VXNlcjIzNTM2NDA=","avatar_url":"https://avatars1.githubusercontent.com/u/2353640?v=4","gravatar_id":"","url":"https://api.github.com/users/davidkyle","html_url":"https://github.com/davidkyle","followers_url":"https://api.github.com/users/davidkyle/followers","following_url":"https://api.github.com/users/davidkyle/following{/other_user}","gists_url":"https://api.github.com/users/davidkyle/gists{/gist_id}","starred_url":"https://api.github.com/users/davidkyle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidkyle/subscriptions","organizations_url":"https://api.github.com/users/davidkyle/orgs","repos_url":"https://api.github.com/users/davidkyle/repos","events_url":"https://api.github.com/users/davidkyle/events{/privacy}","received_events_url":"https://api.github.com/users/davidkyle/received_events","type":"User","site_admin":false},"created_at":"2019-05-21T17:49:09Z","updated_at":"2019-05-21T17:49:09Z","author_association":"MEMBER","body":"This should be fixed by #41942 which I've just merged. Please rebase and try again before muting","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/494495146","html_url":"https://github.com/elastic/elasticsearch/issues/42309#issuecomment-494495146","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42309","id":494495146,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDQ5NTE0Ng==","user":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"created_at":"2019-05-21T17:59:14Z","updated_at":"2019-05-21T17:59:14Z","author_association":"MEMBER","body":"Reset to current master, cleaned, re-ran test.  Looks like it still fails :(\r\n\r\nHappy to hand this over if you want to handle it, muting or not, etc :)\r\n\r\n```\r\n$ git rev-parse HEAD\r\nbe412ca83f0d4644712a7baa8a6330b1e72b2858\r\n```\r\n\r\n```\r\norg.elasticsearch.xpack.test.rest.XPackRestIT > test {p0=data_frame/transforms_stats/Test get transform stats} FAILED\r\n    java.lang.AssertionError: Failure at [data_frame/transforms_stats:52]: transforms.0.state.checkpoint didn't match expected value:\r\n     transforms.0.state.checkpoint: expected [0] but was [1]\r\n\r\n        Caused by:\r\n        java.lang.AssertionError: transforms.0.state.checkpoint didn't match expected value:\r\n         transforms.0.state.checkpoint: expected [0] but was [1]\r\nREPRODUCE WITH: ./gradlew :x-pack:plugin:integTestRunner --tests \"org.elasticsearch.xpack.test.rest.XPackRestIT.test {p0=data_frame/transforms_stats/Test get transform stats}\" -Dtests.seed=5B30818AA97DC12A -Dtests.security.manager=true -Dtests.locale=en-KE -Dtests.timezone=Europe/Sarajevo -Dcompiler.java=12 -Druntime.java=11 -Dtests.rest.blacklist=getting_started/10_monitor_cluster_health/*\r\n\r\nSuite: Test class org.elasticsearch.xpack.test.rest.XPackRestIT\r\n  1> [2019-05-21T19:54:25,615][INFO ][o.e.x.t.r.XPackRestIT    ] [test] [p0=data_frame/transforms_stats/Test get transform stats] before test\r\n  1> [2019-05-21T19:54:25,775][INFO ][o.e.x.t.r.XPackRestIT    ] [test] initializing REST clients against [http://[::1]:47477]\r\n  1> [2019-05-21T19:54:26,443][INFO ][o.e.x.t.r.XPackRestIT    ] [test] initializing client, minimum es version [8.0.0], master version, [8.0.0], hosts [http://[::1]:47477]\r\n  1> [2019-05-21T19:54:33,568][INFO ][o.e.x.t.r.XPackRestIT    ] [test] Stash dump on test failure [{\r\n  1>   \"stash\" : {\r\n  1>     \"body\" : {\r\n  1>       \"count\" : 1,\r\n  1>       \"transforms\" : [\r\n  1>         {\r\n  1>           \"id\" : \"airline-transform-stats\",\r\n  1>           \"state\" : {\r\n  1>             \"task_state\" : \"started\",\r\n  1>             \"indexer_state\" : \"started\",\r\n  1>             \"checkpoint\" : 1,\r\n  1>             \"progress\" : {\r\n  1>               \"total_docs\" : 0,\r\n  1>               \"docs_remaining\" : 0,\r\n  1>               \"percent_complete\" : 100.0\r\n  1>             }\r\n  1>           },\r\n  1>           \"stats\" : {\r\n  1>             \"pages_processed\" : 1,\r\n  1>             \"documents_processed\" : 0,\r\n  1>             \"documents_indexed\" : 0,\r\n  1>             \"trigger_count\" : 1,\r\n  1>             \"index_time_in_ms\" : 0,\r\n  1>             \"index_total\" : 0,\r\n  1>             \"index_failures\" : 0,\r\n  1>             \"search_time_in_ms\" : 8,\r\n  1>             \"search_total\" : 1,\r\n  1>             \"search_failures\" : 0\r\n  1>           },\r\n  1>           \"checkpointing\" : {\r\n  1>             \"current\" : {\r\n  1>               \"timestamp_millis\" : 1558461273424\r\n  1>             },\r\n  1>             \"operations_behind\" : 0\r\n  1>           }\r\n  1>         }\r\n  1>       ]\r\n  1>     }\r\n  1>   }\r\n  1> }]\r\n```","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/494528066","html_url":"https://github.com/elastic/elasticsearch/issues/42309#issuecomment-494528066","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42309","id":494528066,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDUyODA2Ng==","user":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"created_at":"2019-05-21T19:36:14Z","updated_at":"2019-05-21T19:36:14Z","author_association":"MEMBER","body":"Went ahead and muted this.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/494532110","html_url":"https://github.com/elastic/elasticsearch/issues/42309#issuecomment-494532110","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/42309","id":494532110,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDUzMjExMA==","user":{"login":"polyfractal","id":1224228,"node_id":"MDQ6VXNlcjEyMjQyMjg=","avatar_url":"https://avatars1.githubusercontent.com/u/1224228?v=4","gravatar_id":"","url":"https://api.github.com/users/polyfractal","html_url":"https://github.com/polyfractal","followers_url":"https://api.github.com/users/polyfractal/followers","following_url":"https://api.github.com/users/polyfractal/following{/other_user}","gists_url":"https://api.github.com/users/polyfractal/gists{/gist_id}","starred_url":"https://api.github.com/users/polyfractal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/polyfractal/subscriptions","organizations_url":"https://api.github.com/users/polyfractal/orgs","repos_url":"https://api.github.com/users/polyfractal/repos","events_url":"https://api.github.com/users/polyfractal/events{/privacy}","received_events_url":"https://api.github.com/users/polyfractal/received_events","type":"User","site_admin":false},"created_at":"2019-05-21T19:48:25Z","updated_at":"2019-05-21T19:48:25Z","author_association":"MEMBER","body":"Also muting `\"Test get multiple transform stats where one does not have a task\"` which is failing with a related set of errors\r\n\r\n```\r\njava.lang.AssertionError: Failure at [data_frame/transforms_stats:166]: transforms.0.state.indexer_state didn't match expected value:\r\ntransforms.0.state.indexer_state: expected [started] but was [indexing]\r\n```\r\n\r\n```\r\n Stash dump on test failure [{\r\n14:52:46   1>   \"stash\" : {\r\n14:52:46   1>     \"body\" : {\r\n14:52:46   1>       \"count\" : 2,\r\n14:52:46   1>       \"transforms\" : [\r\n14:52:46   1>         {\r\n14:52:46   1>           \"id\" : \"airline-transform-stats\",\r\n14:52:46   1>           \"state\" : {\r\n14:52:46   1>             \"task_state\" : \"started\",\r\n14:52:46   1>             \"indexer_state\" : \"indexing\",\r\n14:52:46   1>             \"checkpoint\" : 1,\r\n14:52:46   1>             \"progress\" : {\r\n14:52:46   1>               \"total_docs\" : 0,\r\n14:52:46   1>               \"docs_remaining\" : 0,\r\n14:52:46   1>               \"percent_complete\" : 100.0\r\n14:52:46   1>             }\r\n14:52:46   1>           },\r\n14:52:46   1>           \"stats\" : {\r\n14:52:46   1>             \"pages_processed\" : 1,\r\n14:52:46   1>             \"documents_processed\" : 0,\r\n14:52:46   1>             \"documents_indexed\" : 0,\r\n14:52:46   1>             \"trigger_count\" : 1,\r\n14:52:46   1>             \"index_time_in_ms\" : 0,\r\n14:52:46   1>             \"index_total\" : 0,\r\n14:52:46   1>             \"index_failures\" : 0,\r\n14:52:46   1>             \"search_time_in_ms\" : 2,\r\n14:52:46   1>             \"search_total\" : 1,\r\n14:52:46   1>             \"search_failures\" : 0\r\n14:52:46   1>           },\r\n14:52:46   1>           \"checkpointing\" : {\r\n14:52:46   1>             \"in_progress\" : {\r\n14:52:46   1>               \"timestamp_millis\" : 1558464256316\r\n14:52:46   1>             },\r\n14:52:46   1>             \"operations_behind\" : -1\r\n14:52:46   1>           }\r\n14:52:46   1>         },\r\n14:52:46   1>         {\r\n14:52:46   1>           \"id\" : \"airline-transform-stats-dos\",\r\n14:52:46   1>           \"state\" : {\r\n14:52:46   1>             \"task_state\" : \"stopped\",\r\n14:52:46   1>             \"indexer_state\" : \"stopped\",\r\n14:52:46   1>             \"checkpoint\" : 0\r\n14:52:46   1>           },\r\n14:52:46   1>           \"stats\" : {\r\n14:52:46   1>             \"pages_processed\" : 0,\r\n14:52:46   1>             \"documents_processed\" : 0,\r\n14:52:46   1>             \"documents_indexed\" : 0,\r\n14:52:46   1>             \"trigger_count\" : 0,\r\n14:52:46   1>             \"index_time_in_ms\" : 0,\r\n14:52:46   1>             \"index_total\" : 0,\r\n14:52:46   1>             \"index_failures\" : 0,\r\n14:52:46   1>             \"search_time_in_ms\" : 0,\r\n14:52:46   1>             \"search_total\" : 0,\r\n14:52:46   1>             \"search_failures\" : 0\r\n14:52:46   1>           },\r\n14:52:46   1>           \"checkpointing\" : {\r\n14:52:46   1>             \"operations_behind\" : 0\r\n14:52:46   1>           }\r\n14:52:46   1>         }\r\n14:52:46   1>       ]\r\n14:52:46   1>     }\r\n14:52:46   1>   }\r\n14:52:46   1> }]\r\n```\r\n\r\n```\r\n./gradlew :x-pack:plugin:integTestRunner --tests \"org.elasticsearch.xpack.test.rest.XPackRestIT.test {p0=data_frame/transforms_stats/Test get multiple transform stats where one does not have a task}\" -Dtests.seed=7856C8AD2A4F2538 -Dtests.security.manager=true -Dtests.locale=hsb -Dtests.timezone=Africa/Malabo -Dcompiler.java=12 -Druntime.java=12 -Dtests.rest.blacklist=getting_started/10_monitor_cluster_health/*\r\n```","performed_via_github_app":null}]