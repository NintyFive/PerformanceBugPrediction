{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/5502","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5502/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5502/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5502/events","html_url":"https://github.com/elastic/elasticsearch/issues/5502","id":30006788,"node_id":"MDU6SXNzdWUzMDAwNjc4OA==","number":5502,"title":"BooleanFieldMapper doesn't handle include_in_all and cannot merge null_value","user":{"login":"kzwang","id":2177991,"node_id":"MDQ6VXNlcjIxNzc5OTE=","avatar_url":"https://avatars3.githubusercontent.com/u/2177991?v=4","gravatar_id":"","url":"https://api.github.com/users/kzwang","html_url":"https://github.com/kzwang","followers_url":"https://api.github.com/users/kzwang/followers","following_url":"https://api.github.com/users/kzwang/following{/other_user}","gists_url":"https://api.github.com/users/kzwang/gists{/gist_id}","starred_url":"https://api.github.com/users/kzwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kzwang/subscriptions","organizations_url":"https://api.github.com/users/kzwang/orgs","repos_url":"https://api.github.com/users/kzwang/repos","events_url":"https://api.github.com/users/kzwang/events{/privacy}","received_events_url":"https://api.github.com/users/kzwang/received_events","type":"User","site_admin":false},"labels":[{"id":85667032,"node_id":"MDU6TGFiZWw4NTY2NzAzMg==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v1.2.0","name":"v1.2.0","color":"dddddd","default":false,"description":null},{"id":76184120,"node_id":"MDU6TGFiZWw3NjE4NDEyMA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v2.0.0-beta1","name":"v2.0.0-beta1","color":"dddddd","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2014-03-24T03:07:02Z","updated_at":"2014-03-24T10:02:11Z","closed_at":"2014-03-24T10:01:08Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"According to document http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/mapping-core-types.html#boolean\nBoolean field support `include_in_all`, however the field mapper doesn't handle that.\n\nAlso we can't update the `null_value` using put mapping api\n\n``` sh\n# add mapping\ncurl -XPUT localhost:9200/test/test/_mapping -d '{\n  \"test\": {\n    \"properties\": {\n      \"testBool\": {\n        \"type\": \"boolean\",\n        \"include_in_all\": true,\n        \"null_value\": false\n      }\n    }\n  }\n}'\n```\n\nthe result mapping is \n\n``` sh\ncurl -XGET localhost:9200/test/test/_mapping\n\n{\n  \"test\": {\n    \"mappings\": {\n      \"test\": {\n        \"properties\": {\n          \"testBool\": {\n            \"type\": \"boolean\",\n            \"null_value\": false\n          }\n        }\n      }\n    }\n  }\n}\n```\n\nthe `include_in_all` is missing\n\n``` sh\n# update null_value to true\ncurl -XPUT localhost:9200/test/test/_mapping -d '{\n  \"test\": {\n    \"properties\": {\n      \"testBool\": {\n        \"type\": \"boolean\",\n        \"include_in_all\": true,\n        \"null_value\": true\n      }\n    }\n  }\n}'\n```\n\nthere is no exception and the mapping is still the same (i.e. `null_value` is still `false`)\n","closed_by":{"login":"jpountz","id":299848,"node_id":"MDQ6VXNlcjI5OTg0OA==","avatar_url":"https://avatars2.githubusercontent.com/u/299848?v=4","gravatar_id":"","url":"https://api.github.com/users/jpountz","html_url":"https://github.com/jpountz","followers_url":"https://api.github.com/users/jpountz/followers","following_url":"https://api.github.com/users/jpountz/following{/other_user}","gists_url":"https://api.github.com/users/jpountz/gists{/gist_id}","starred_url":"https://api.github.com/users/jpountz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jpountz/subscriptions","organizations_url":"https://api.github.com/users/jpountz/orgs","repos_url":"https://api.github.com/users/jpountz/repos","events_url":"https://api.github.com/users/jpountz/events{/privacy}","received_events_url":"https://api.github.com/users/jpountz/received_events","type":"User","site_admin":false},"performed_via_github_app":null}