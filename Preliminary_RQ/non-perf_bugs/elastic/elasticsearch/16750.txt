{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/16750","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16750/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16750/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16750/events","html_url":"https://github.com/elastic/elasticsearch/issues/16750","id":135249684,"node_id":"MDU6SXNzdWUxMzUyNDk2ODQ=","number":16750,"title":"Memory lock lost on Windows Server 2012R2","user":{"login":"xorandor","id":2822994,"node_id":"MDQ6VXNlcjI4MjI5OTQ=","avatar_url":"https://avatars2.githubusercontent.com/u/2822994?v=4","gravatar_id":"","url":"https://api.github.com/users/xorandor","html_url":"https://github.com/xorandor","followers_url":"https://api.github.com/users/xorandor/followers","following_url":"https://api.github.com/users/xorandor/following{/other_user}","gists_url":"https://api.github.com/users/xorandor/gists{/gist_id}","starred_url":"https://api.github.com/users/xorandor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xorandor/subscriptions","organizations_url":"https://api.github.com/users/xorandor/orgs","repos_url":"https://api.github.com/users/xorandor/repos","events_url":"https://api.github.com/users/xorandor/events{/privacy}","received_events_url":"https://api.github.com/users/xorandor/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-02-21T19:56:02Z","updated_at":"2016-02-28T19:21:38Z","closed_at":"2016-02-28T19:21:38Z","author_association":"NONE","active_lock_reason":null,"body":"I'm running my nodes with \n`bootstrap.mlockall: true`\nand I have verified that the memory is allocated using task manager and if I run \n`curl http://localhost:9200/_nodes/process?pretty`\nit's confirmed the lock's in place.\n\nI've experienced that a node might \"loose\" some of the previously allocated memory, where instead I see that memory has been allocated to lucene index files as mapped files.\n\nAs soon as there's load on the node (assuming it's trying to use the expected available heap memory) the cluster turns red, shows all shards assigned to the node as unassigned. Nothing is logged when it happens.\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}