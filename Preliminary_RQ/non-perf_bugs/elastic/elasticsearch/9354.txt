{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/9354","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9354/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9354/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/9354/events","html_url":"https://github.com/elastic/elasticsearch/issues/9354","id":54819910,"node_id":"MDU6SXNzdWU1NDgxOTkxMA==","number":9354,"title":"_cat/pending_tasks returns \"unknown\" tasks","user":{"login":"haardvark","id":1389883,"node_id":"MDQ6VXNlcjEzODk4ODM=","avatar_url":"https://avatars1.githubusercontent.com/u/1389883?v=4","gravatar_id":"","url":"https://api.github.com/users/haardvark","html_url":"https://github.com/haardvark","followers_url":"https://api.github.com/users/haardvark/followers","following_url":"https://api.github.com/users/haardvark/following{/other_user}","gists_url":"https://api.github.com/users/haardvark/gists{/gist_id}","starred_url":"https://api.github.com/users/haardvark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haardvark/subscriptions","organizations_url":"https://api.github.com/users/haardvark/orgs","repos_url":"https://api.github.com/users/haardvark/repos","events_url":"https://api.github.com/users/haardvark/events{/privacy}","received_events_url":"https://api.github.com/users/haardvark/received_events","type":"User","site_admin":false},"labels":[{"id":146836529,"node_id":"MDU6TGFiZWwxNDY4MzY1Mjk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Stats","name":":Core/Features/Stats","color":"0e8a16","default":false,"description":"Statistics tracking and retrieval APIs"},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":92913858,"node_id":"MDU6TGFiZWw5MjkxMzg1OA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/good%20first%20issue","name":"good first issue","color":"07569b","default":true,"description":"low hanging fruit"},{"id":110815527,"node_id":"MDU6TGFiZWwxMTA4MTU1Mjc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/help%20wanted","name":"help wanted","color":"207de5","default":true,"description":"adoptme"},{"id":127700367,"node_id":"MDU6TGFiZWwxMjc3MDAzNjc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v1.5.0","name":"v1.5.0","color":"dddddd","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2015-01-19T22:24:28Z","updated_at":"2015-02-12T14:05:56Z","closed_at":"2015-02-12T14:05:56Z","author_association":"NONE","active_lock_reason":null,"body":"We experienced a buildup of pending tasks in the cluster this weekend after some nodes dropped.  Eventually, the cluster completely stopped processing tasks altogether.  When I went to check the tasks with _cat/pending_tasks, I saw some tasks that looked to be invalid:\n\n7083   12m URGENT shard-started ([session-2014-12-27][24], node[RlRevMXMSOqc3qORtp3xew], [P], s[INITIALIZING]), reason [after recovery from gateway]\n-12   12m unknown  \n7092   12m URGENT shard-started ([session-2014-12-31][8], node[vEgbZbjXTVixtbpmh6Dh5A], [P], s[INITIALIZING]), reason [after recovery from gateway] \n\nWhen calling _cat/pending_tasks from a node that wasn't the current master, we would occasionally see get a 500 saying \"can't deserialize task - no priority exists for [-12]\".\n\nIt was suggested to us that this has been when different JVM versions are running in the same cluster, but this isn't the case in our deployment.  There is an ES support ticket open for this overall outage (6726) that may provide some more context.\n","closed_by":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"performed_via_github_app":null}