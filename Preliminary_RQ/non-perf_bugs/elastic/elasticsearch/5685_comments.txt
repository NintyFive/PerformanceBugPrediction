[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/39551433","html_url":"https://github.com/elastic/elasticsearch/issues/5685#issuecomment-39551433","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5685","id":39551433,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTUxNDMz","user":{"login":"kzwang","id":2177991,"node_id":"MDQ6VXNlcjIxNzc5OTE=","avatar_url":"https://avatars3.githubusercontent.com/u/2177991?v=4","gravatar_id":"","url":"https://api.github.com/users/kzwang","html_url":"https://github.com/kzwang","followers_url":"https://api.github.com/users/kzwang/followers","following_url":"https://api.github.com/users/kzwang/following{/other_user}","gists_url":"https://api.github.com/users/kzwang/gists{/gist_id}","starred_url":"https://api.github.com/users/kzwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kzwang/subscriptions","organizations_url":"https://api.github.com/users/kzwang/orgs","repos_url":"https://api.github.com/users/kzwang/repos","events_url":"https://api.github.com/users/kzwang/events{/privacy}","received_events_url":"https://api.github.com/users/kzwang/received_events","type":"User","site_admin":false},"created_at":"2014-04-04T10:30:58Z","updated_at":"2014-04-04T10:30:58Z","author_association":"CONTRIBUTOR","body":"the validate api only validate the `query` element, it's used to validate query instead of search request, so you shouldn't pass other element to the validate request. the search request takes more elements e.g. `fields`, `sort` etc. those are not validated by the validate api. `query` is just one element in search request. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/39552287","html_url":"https://github.com/elastic/elasticsearch/issues/5685#issuecomment-39552287","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5685","id":39552287,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTUyMjg3","user":{"login":"amarandon","id":101934,"node_id":"MDQ6VXNlcjEwMTkzNA==","avatar_url":"https://avatars2.githubusercontent.com/u/101934?v=4","gravatar_id":"","url":"https://api.github.com/users/amarandon","html_url":"https://github.com/amarandon","followers_url":"https://api.github.com/users/amarandon/followers","following_url":"https://api.github.com/users/amarandon/following{/other_user}","gists_url":"https://api.github.com/users/amarandon/gists{/gist_id}","starred_url":"https://api.github.com/users/amarandon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amarandon/subscriptions","organizations_url":"https://api.github.com/users/amarandon/orgs","repos_url":"https://api.github.com/users/amarandon/repos","events_url":"https://api.github.com/users/amarandon/events{/privacy}","received_events_url":"https://api.github.com/users/amarandon/received_events","type":"User","site_admin":false},"created_at":"2014-04-04T10:42:48Z","updated_at":"2014-04-04T10:42:48Z","author_association":"CONTRIBUTOR","body":"I appreciate that the submitted JSON document should not contain any property other than `query`. However it seems a bit odd to me that its behavior depends on the order of properties in the submitted document. AFAIK, JSON objects are not ordered. The validate API should either ignore any extra property or it should return a 400 error. The current behavior seems inconsistent.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/39561169","html_url":"https://github.com/elastic/elasticsearch/issues/5685#issuecomment-39561169","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/5685","id":39561169,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTYxMTY5","user":{"login":"amarandon","id":101934,"node_id":"MDQ6VXNlcjEwMTkzNA==","avatar_url":"https://avatars2.githubusercontent.com/u/101934?v=4","gravatar_id":"","url":"https://api.github.com/users/amarandon","html_url":"https://github.com/amarandon","followers_url":"https://api.github.com/users/amarandon/followers","following_url":"https://api.github.com/users/amarandon/following{/other_user}","gists_url":"https://api.github.com/users/amarandon/gists{/gist_id}","starred_url":"https://api.github.com/users/amarandon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amarandon/subscriptions","organizations_url":"https://api.github.com/users/amarandon/orgs","repos_url":"https://api.github.com/users/amarandon/repos","events_url":"https://api.github.com/users/amarandon/events{/privacy}","received_events_url":"https://api.github.com/users/amarandon/received_events","type":"User","site_admin":false},"created_at":"2014-04-04T12:51:00Z","updated_at":"2014-04-04T12:51:00Z","author_association":"CONTRIBUTOR","body":"I think I can see the problem : https://github.com/elasticsearch/elasticsearch/blob/master/src/main/java/org/elasticsearch/index/query/IndexQueryParserService.java#L298\nThere's a `return` in the loop as soon as `query` is found, ignoring any unsupported field that might come after. I'll try to submit a patch within the next few days.\n","performed_via_github_app":null}]