[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/93419622","html_url":"https://github.com/elastic/elasticsearch/issues/10611#issuecomment-93419622","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10611","id":93419622,"node_id":"MDEyOklzc3VlQ29tbWVudDkzNDE5NjIy","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2015-04-15T14:15:58Z","updated_at":"2015-04-15T14:15:58Z","author_association":"CONTRIBUTOR","body":"Look and see if JAVA_HOME is set to an older one.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/93485245","html_url":"https://github.com/elastic/elasticsearch/issues/10611#issuecomment-93485245","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10611","id":93485245,"node_id":"MDEyOklzc3VlQ29tbWVudDkzNDg1MjQ1","user":{"login":"rrphotosoft","id":4465221,"node_id":"MDQ6VXNlcjQ0NjUyMjE=","avatar_url":"https://avatars3.githubusercontent.com/u/4465221?v=4","gravatar_id":"","url":"https://api.github.com/users/rrphotosoft","html_url":"https://github.com/rrphotosoft","followers_url":"https://api.github.com/users/rrphotosoft/followers","following_url":"https://api.github.com/users/rrphotosoft/following{/other_user}","gists_url":"https://api.github.com/users/rrphotosoft/gists{/gist_id}","starred_url":"https://api.github.com/users/rrphotosoft/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rrphotosoft/subscriptions","organizations_url":"https://api.github.com/users/rrphotosoft/orgs","repos_url":"https://api.github.com/users/rrphotosoft/repos","events_url":"https://api.github.com/users/rrphotosoft/events{/privacy}","received_events_url":"https://api.github.com/users/rrphotosoft/received_events","type":"User","site_admin":false},"created_at":"2015-04-15T16:53:30Z","updated_at":"2015-04-15T16:53:30Z","author_association":"NONE","body":"Hi,\nMy java home variable is set to the correct java.\nIn both the .bashrc and the /etc/environment.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/93543070","html_url":"https://github.com/elastic/elasticsearch/issues/10611#issuecomment-93543070","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10611","id":93543070,"node_id":"MDEyOklzc3VlQ29tbWVudDkzNTQzMDcw","user":{"login":"rmuir","id":504194,"node_id":"MDQ6VXNlcjUwNDE5NA==","avatar_url":"https://avatars1.githubusercontent.com/u/504194?v=4","gravatar_id":"","url":"https://api.github.com/users/rmuir","html_url":"https://github.com/rmuir","followers_url":"https://api.github.com/users/rmuir/followers","following_url":"https://api.github.com/users/rmuir/following{/other_user}","gists_url":"https://api.github.com/users/rmuir/gists{/gist_id}","starred_url":"https://api.github.com/users/rmuir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rmuir/subscriptions","organizations_url":"https://api.github.com/users/rmuir/orgs","repos_url":"https://api.github.com/users/rmuir/repos","events_url":"https://api.github.com/users/rmuir/events{/privacy}","received_events_url":"https://api.github.com/users/rmuir/received_events","type":"User","site_admin":false},"created_at":"2015-04-15T19:39:09Z","updated_at":"2015-04-15T19:39:09Z","author_association":"CONTRIBUTOR","body":"The java version it prints out is the version it is reporting. So something about your environment is off, you are not using the java you think you are.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/93550728","html_url":"https://github.com/elastic/elasticsearch/issues/10611#issuecomment-93550728","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10611","id":93550728,"node_id":"MDEyOklzc3VlQ29tbWVudDkzNTUwNzI4","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2015-04-15T20:05:24Z","updated_at":"2015-04-15T20:05:24Z","author_association":"MEMBER","body":"> I am downgrading to 1.3.5, because I don't see this error with 1.3.5\n> First, this won't work if you have indexed any documents (Lucene is not \"forwards compatible\", it has no idea how to read data written from a newer version).\n\nBut more importantly, the error is there because this is a serious bug that can cause index corruption. Ignoring it by trying to mask the problem is not going to save you from the potential corruption.\n\n@rmuir is right, something is not right about your environment. \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/93555200","html_url":"https://github.com/elastic/elasticsearch/issues/10611#issuecomment-93555200","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10611","id":93555200,"node_id":"MDEyOklzc3VlQ29tbWVudDkzNTU1MjAw","user":{"login":"rrphotosoft","id":4465221,"node_id":"MDQ6VXNlcjQ0NjUyMjE=","avatar_url":"https://avatars3.githubusercontent.com/u/4465221?v=4","gravatar_id":"","url":"https://api.github.com/users/rrphotosoft","html_url":"https://github.com/rrphotosoft","followers_url":"https://api.github.com/users/rrphotosoft/followers","following_url":"https://api.github.com/users/rrphotosoft/following{/other_user}","gists_url":"https://api.github.com/users/rrphotosoft/gists{/gist_id}","starred_url":"https://api.github.com/users/rrphotosoft/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rrphotosoft/subscriptions","organizations_url":"https://api.github.com/users/rrphotosoft/orgs","repos_url":"https://api.github.com/users/rrphotosoft/repos","events_url":"https://api.github.com/users/rrphotosoft/events{/privacy}","received_events_url":"https://api.github.com/users/rrphotosoft/received_events","type":"User","site_admin":false},"created_at":"2015-04-15T20:23:20Z","updated_at":"2015-04-15T20:23:20Z","author_association":"NONE","body":"Hi guys,\nThanks for the input, but I'm not getting very far with this.\nWhere does ES look to determine the JVM?\nI can't think of anything more than setting the JAVA_HOME variable.\nIf you have any suggestions on how I can try to debug this, it would be really useful.\nFurthermore, with respect to forward compatibility, I won't be facing that, the data was originally indexed on 1.3.5, I wanted to update to leverage some of the newer features.\n\nSomeone else seems to have faced a similar issue, but there was no answer to the question on SO, wonder what they did to solve it:\nhttp://stackoverflow.com/questions/28924660/elasticsearch-using-incorrect-jvm\n\nThanks again,\nBhargav\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/93560268","html_url":"https://github.com/elastic/elasticsearch/issues/10611#issuecomment-93560268","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10611","id":93560268,"node_id":"MDEyOklzc3VlQ29tbWVudDkzNTYwMjY4","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2015-04-15T20:33:05Z","updated_at":"2015-04-15T20:33:05Z","author_association":"MEMBER","body":"Are you on a *nix machine? Try running these commands:\n\n```\n$ readlink `which java`\n/System/Library/Frameworks/JavaVM.framework/Versions/Current/Commands/java\n$ java -version\njava version \"1.8.0_31\"\nJava(TM) SE Runtime Environment (build 1.8.0_31-b13)\nJava HotSpot(TM) 64-Bit Server VM (build 25.31-b07, mixed mode)\n$ echo $JAVA_HOME\n/Library/Java/JavaVirtualMachines/jdk1.8.0_31.jdk/Contents/Home\n```\n\nIf you do not have JAVA_HOME set (are you sure it is set for the user running elasticsearch? is elasticsearch started via init.d?) then elasticsearch uses whichver java it finds on `PATH`.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/95778102","html_url":"https://github.com/elastic/elasticsearch/issues/10611#issuecomment-95778102","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10611","id":95778102,"node_id":"MDEyOklzc3VlQ29tbWVudDk1Nzc4MTAy","user":{"login":"rrphotosoft","id":4465221,"node_id":"MDQ6VXNlcjQ0NjUyMjE=","avatar_url":"https://avatars3.githubusercontent.com/u/4465221?v=4","gravatar_id":"","url":"https://api.github.com/users/rrphotosoft","html_url":"https://github.com/rrphotosoft","followers_url":"https://api.github.com/users/rrphotosoft/followers","following_url":"https://api.github.com/users/rrphotosoft/following{/other_user}","gists_url":"https://api.github.com/users/rrphotosoft/gists{/gist_id}","starred_url":"https://api.github.com/users/rrphotosoft/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rrphotosoft/subscriptions","organizations_url":"https://api.github.com/users/rrphotosoft/orgs","repos_url":"https://api.github.com/users/rrphotosoft/repos","events_url":"https://api.github.com/users/rrphotosoft/events{/privacy}","received_events_url":"https://api.github.com/users/rrphotosoft/received_events","type":"User","site_admin":false},"created_at":"2015-04-24T02:26:01Z","updated_at":"2015-04-24T02:29:16Z","author_association":"NONE","body":"Hi,\n\n1.I am not starting es using init.d\nI start it manually via bin/elasticsearch.\nI am using Ubuntu 12.04 LTS,\n\n2.I have checked rechecked and triple checked the home variable, it correctly points to the upgraded version of JAVA.\nThe JAVA_HOME variable is set for the user running ES, and is correctly pointing to my updated version.\n\n3.The issue is that the JAVA that ES is picking up is different from the one on my HOME  variable.\nIs there any way to debug this through the .jar files and look at what path ES  is using and why?\nWhich files should I be looking at? I don't mind compiling from source. I'm getting stonewalled trying to use newer features, and each time, I find that upgrading to 1.5+ is what I need to be doing ,a version upgrade is now really important.\n\nRegards,\nRR.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/95780505","html_url":"https://github.com/elastic/elasticsearch/issues/10611#issuecomment-95780505","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10611","id":95780505,"node_id":"MDEyOklzc3VlQ29tbWVudDk1NzgwNTA1","user":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"created_at":"2015-04-24T02:48:19Z","updated_at":"2015-04-24T02:48:19Z","author_association":"MEMBER","body":"@rrphotosoft if you are running elasticsearch using `bin/elasticsearch` script, java selection occurs [here](https://github.com/elastic/elasticsearch/blob/1.5/bin/elasticsearch#L111).  You don't need to recompile anything to debug it. It's just a shell script. Could you run the following command to make sure that JAVA_HOME is configured correctly:\n\n```\nls -l $JAVA_HOME/bin/java\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/152650529","html_url":"https://github.com/elastic/elasticsearch/issues/10611#issuecomment-152650529","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/10611","id":152650529,"node_id":"MDEyOklzc3VlQ29tbWVudDE1MjY1MDUyOQ==","user":{"login":"dakrone","id":19060,"node_id":"MDQ6VXNlcjE5MDYw","avatar_url":"https://avatars3.githubusercontent.com/u/19060?v=4","gravatar_id":"","url":"https://api.github.com/users/dakrone","html_url":"https://github.com/dakrone","followers_url":"https://api.github.com/users/dakrone/followers","following_url":"https://api.github.com/users/dakrone/following{/other_user}","gists_url":"https://api.github.com/users/dakrone/gists{/gist_id}","starred_url":"https://api.github.com/users/dakrone/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakrone/subscriptions","organizations_url":"https://api.github.com/users/dakrone/orgs","repos_url":"https://api.github.com/users/dakrone/repos","events_url":"https://api.github.com/users/dakrone/events{/privacy}","received_events_url":"https://api.github.com/users/dakrone/received_events","type":"User","site_admin":false},"created_at":"2015-10-30T21:03:04Z","updated_at":"2015-10-30T21:03:04Z","author_association":"MEMBER","body":"Closing since we have not heard back in over 6 months.\n","performed_via_github_app":null}]