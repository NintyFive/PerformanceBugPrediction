{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/12349","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12349/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12349/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/12349/events","html_url":"https://github.com/elastic/elasticsearch/issues/12349","id":96144815,"node_id":"MDU6SXNzdWU5NjE0NDgxNQ==","number":12349,"title":"path.repo not being recognized?","user":{"login":"CoryBond","id":12073642,"node_id":"MDQ6VXNlcjEyMDczNjQy","avatar_url":"https://avatars0.githubusercontent.com/u/12073642?v=4","gravatar_id":"","url":"https://api.github.com/users/CoryBond","html_url":"https://github.com/CoryBond","followers_url":"https://api.github.com/users/CoryBond/followers","following_url":"https://api.github.com/users/CoryBond/following{/other_user}","gists_url":"https://api.github.com/users/CoryBond/gists{/gist_id}","starred_url":"https://api.github.com/users/CoryBond/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CoryBond/subscriptions","organizations_url":"https://api.github.com/users/CoryBond/orgs","repos_url":"https://api.github.com/users/CoryBond/repos","events_url":"https://api.github.com/users/CoryBond/events{/privacy}","received_events_url":"https://api.github.com/users/CoryBond/received_events","type":"User","site_admin":false},"labels":[{"id":73544,"node_id":"MDU6TGFiZWw3MzU0NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Enon-issue","name":">non-issue","color":"cfcfcf","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":21,"created_at":"2015-07-20T19:52:28Z","updated_at":"2017-08-18T19:00:52Z","closed_at":"2015-07-21T18:31:42Z","author_association":"NONE","active_lock_reason":null,"body":"So today I wanted to backup our teams kibana index because it was wiped over the weekend and we wanted to make sure we could recover from this if it ever happened again. I went onto the snapshot and restore doc (https://www.elastic.co/guide/en/elasticsearch/reference/1.7/modules-snapshots.html) on the elasticsearch website for version 1.7 and tried to follow the instructions but have been failing to get a file repo setup.\n\nSpecs: elasticsearch 1.7.0, java 8, red hat enterprise linux.\n\nAfter setting the field ( path.repo: [\"opt/velocity/backups\"]  ) in elasticsearch.yml I do this curl command:\n\ncurl -XPUT http://localhost:9200/_snapshot/backups -d '{ \"type\": \"fs\", \"settings\": { \"location\": \"/opt/velocity/backups\" } }'\n\nThis results in a RemoteTransportException as so: \n\n{\"error\":\"RemoteTransportException[[Ectokid][inet[/169.176.42.123:9300]][cluster:admin/repository/put]]; nested: RepositoryException[[backups] failed to create repository]; nested: CreationException[Guice creation errors:\\n\\n1) Error injecting constructor, org.elasticsearch.repositories.RepositoryException: [backups] location [/opt/velocity/backups] doesn't match any of the locations specified by path.repo because this setting is empty\\n  at org.elasticsearch.repositories.fs.FsRepository.<init>()\\n  at org.elasticsearch.repositories.fs.FsRepository\\n  at Key[type=org.elasticsearch.repositories.Repository, annotation=[none]]\\n\\n1 error]; nested: RepositoryException[[backups] location [/opt/velocity/backups] doesn't match any of the locations specified by path.repo because this setting is empty]; \",\"status\":500}{\"error\":\"RemoteTransportException[[Ectokid][inet[/169.176.42.123:9300]][cluster:admin/repository/put]]; nested: RepositoryException[[backups] failed to create repository]; nested: CreationException[Guice creation errors:\\n\\n1) Error injecting constructor, org.elasticsearch.repositories.RepositoryException: [backups] location [/opt/velocity/backups] doesn't match any of the locations specified by path.repo because this setting is empty\\n  at org.elasticsearch.repositories.fs.FsRepository.<init>()\\n  at org.elasticsearch.repositories.fs.FsRepository\\n  at Key[type=org.elasticsearch.repositories.Repository, annotation=[none]]\\n\\n1 error]; nested: RepositoryException[[backups] location [/opt/velocity/backups] doesn't match any of the locations specified by path.repo because this setting is empty]\n\nIt seems as though elasticsearch is not recognizing the path.repo field I setup in elasticsearch.yml. Basically now I am stuck because I believe I have correctly setup my config. I know the path is exists.\n\nI tried playing around with the syntax a little bit like changing location to be \"backups\" and changing path.repo to be \"opt/velocity/backups\" (without the bracket) but nothing I have tried works. \n\nI think I read somewhere online that a person was able to set the path.repo field by command line but I don't see any good documentation mentioning this on the elasticsearch docs.\n\nIs there something I am missing here? I hope my issue is a simple config or syntax thing which can be easily fixed.\n","closed_by":{"login":"imotov","id":655851,"node_id":"MDQ6VXNlcjY1NTg1MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/655851?v=4","gravatar_id":"","url":"https://api.github.com/users/imotov","html_url":"https://github.com/imotov","followers_url":"https://api.github.com/users/imotov/followers","following_url":"https://api.github.com/users/imotov/following{/other_user}","gists_url":"https://api.github.com/users/imotov/gists{/gist_id}","starred_url":"https://api.github.com/users/imotov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imotov/subscriptions","organizations_url":"https://api.github.com/users/imotov/orgs","repos_url":"https://api.github.com/users/imotov/repos","events_url":"https://api.github.com/users/imotov/events{/privacy}","received_events_url":"https://api.github.com/users/imotov/received_events","type":"User","site_admin":false},"performed_via_github_app":null}