{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/28128","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28128/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28128/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/28128/events","html_url":"https://github.com/elastic/elasticsearch/issues/28128","id":286704513,"node_id":"MDU6SXNzdWUyODY3MDQ1MTM=","number":28128,"title":"More Like This Query documentation - remove reference to \"ids\" and \"like_text\" parameter ","user":{"login":"markharwood","id":170925,"node_id":"MDQ6VXNlcjE3MDkyNQ==","avatar_url":"https://avatars0.githubusercontent.com/u/170925?v=4","gravatar_id":"","url":"https://api.github.com/users/markharwood","html_url":"https://github.com/markharwood","followers_url":"https://api.github.com/users/markharwood/followers","following_url":"https://api.github.com/users/markharwood/following{/other_user}","gists_url":"https://api.github.com/users/markharwood/gists{/gist_id}","starred_url":"https://api.github.com/users/markharwood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markharwood/subscriptions","organizations_url":"https://api.github.com/users/markharwood/orgs","repos_url":"https://api.github.com/users/markharwood/repos","events_url":"https://api.github.com/users/markharwood/events{/privacy}","received_events_url":"https://api.github.com/users/markharwood/received_events","type":"User","site_admin":false},"labels":[{"id":146832564,"node_id":"MDU6TGFiZWwxNDY4MzI1NjQ=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Search/Search","name":":Search/Search","color":"0e8a16","default":false,"description":"Search-related issues that do not fall into other categories"},{"id":23715,"node_id":"MDU6TGFiZWwyMzcxNQ==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Edocs","name":">docs","color":"db755e","default":false,"description":"General docs changes"},{"id":596883419,"node_id":"MDU6TGFiZWw1OTY4ODM0MTk=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v6.0.0","name":"v6.0.0","color":"dddddd","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"Sue-Gallagher","id":36747279,"node_id":"MDQ6VXNlcjM2NzQ3Mjc5","avatar_url":"https://avatars3.githubusercontent.com/u/36747279?v=4","gravatar_id":"","url":"https://api.github.com/users/Sue-Gallagher","html_url":"https://github.com/Sue-Gallagher","followers_url":"https://api.github.com/users/Sue-Gallagher/followers","following_url":"https://api.github.com/users/Sue-Gallagher/following{/other_user}","gists_url":"https://api.github.com/users/Sue-Gallagher/gists{/gist_id}","starred_url":"https://api.github.com/users/Sue-Gallagher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sue-Gallagher/subscriptions","organizations_url":"https://api.github.com/users/Sue-Gallagher/orgs","repos_url":"https://api.github.com/users/Sue-Gallagher/repos","events_url":"https://api.github.com/users/Sue-Gallagher/events{/privacy}","received_events_url":"https://api.github.com/users/Sue-Gallagher/received_events","type":"User","site_admin":false},"assignees":[{"login":"Sue-Gallagher","id":36747279,"node_id":"MDQ6VXNlcjM2NzQ3Mjc5","avatar_url":"https://avatars3.githubusercontent.com/u/36747279?v=4","gravatar_id":"","url":"https://api.github.com/users/Sue-Gallagher","html_url":"https://github.com/Sue-Gallagher","followers_url":"https://api.github.com/users/Sue-Gallagher/followers","following_url":"https://api.github.com/users/Sue-Gallagher/following{/other_user}","gists_url":"https://api.github.com/users/Sue-Gallagher/gists{/gist_id}","starred_url":"https://api.github.com/users/Sue-Gallagher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sue-Gallagher/subscriptions","organizations_url":"https://api.github.com/users/Sue-Gallagher/orgs","repos_url":"https://api.github.com/users/Sue-Gallagher/repos","events_url":"https://api.github.com/users/Sue-Gallagher/events{/privacy}","received_events_url":"https://api.github.com/users/Sue-Gallagher/received_events","type":"User","site_admin":false}],"milestone":null,"comments":4,"created_at":"2018-01-08T10:37:11Z","updated_at":"2018-06-19T20:48:50Z","closed_at":"2018-06-19T20:48:50Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"A user on the discuss forums [reported](https://discuss.elastic.co/t/more-like-this-documentation/114477/2) that MLT had deprecated `ids` and `like_text` params but not removed them from the docs following their removal from the codebase.\r\nI tried these params in 6.0 and it does look like docs diverge from code at this point.\r\n\r\nThe API now only takes a single `like` parameter which either accepts a string (the equivalent behaviour  of the old `like_text`) or an array of objects with index, type and id settings to identify individual docs (the equivalent of the old `ids` setting). Valid examples below:\r\n\r\n\tGET kaleida/article/_search\r\n\t{\r\n\t  \"query\": {\r\n\t\t\"more_like_this\": {\r\n\t\t  \"fields\": [\r\n\t\t\t\"headline\"\r\n\t\t  ],\r\n\t\t  \"like\": [\r\n\t\t\t{\r\n\t\t\t  \"_index\": \"kaleida\",\r\n\t\t\t  \"_type\": \"article\",\r\n\t\t\t  \"_id\": \"szeNvGABw9SxSpuUzKMH\"\r\n\t\t\t}\r\n\t\t  ]\r\n\t\t}\r\n\t  }\r\n\t} \r\n\r\n\tGET kaleida/article/_search\r\n\t{\r\n\t  \"query\": {\r\n\t\t\"more_like_this\": {\r\n\t\t  \"fields\": [\r\n\t\t\t\"headline\"\r\n\t\t  ],\r\n\t\t  \"like\": \"trump says trump is stable genius\"\r\n\t\t}\r\n\t  }\r\n\t}\r\n\r\nThe docs however still talk about explicit `ids` and `like_text` params which are no longer supported.","closed_by":{"login":"Sue-Gallagher","id":36747279,"node_id":"MDQ6VXNlcjM2NzQ3Mjc5","avatar_url":"https://avatars3.githubusercontent.com/u/36747279?v=4","gravatar_id":"","url":"https://api.github.com/users/Sue-Gallagher","html_url":"https://github.com/Sue-Gallagher","followers_url":"https://api.github.com/users/Sue-Gallagher/followers","following_url":"https://api.github.com/users/Sue-Gallagher/following{/other_user}","gists_url":"https://api.github.com/users/Sue-Gallagher/gists{/gist_id}","starred_url":"https://api.github.com/users/Sue-Gallagher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sue-Gallagher/subscriptions","organizations_url":"https://api.github.com/users/Sue-Gallagher/orgs","repos_url":"https://api.github.com/users/Sue-Gallagher/repos","events_url":"https://api.github.com/users/Sue-Gallagher/events{/privacy}","received_events_url":"https://api.github.com/users/Sue-Gallagher/received_events","type":"User","site_admin":false},"performed_via_github_app":null}