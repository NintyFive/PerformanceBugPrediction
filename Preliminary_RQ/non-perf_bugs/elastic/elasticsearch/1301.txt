{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/1301","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1301/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1301/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1301/events","html_url":"https://github.com/elastic/elasticsearch/issues/1301","id":1563536,"node_id":"MDU6SXNzdWUxNTYzNTM2","number":1301,"title":"Indices / Node Stats: Shard level search stats","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"labels":[{"id":23172,"node_id":"MDU6TGFiZWwyMzE3Mg==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Efeature","name":">feature","color":"006b75","default":false,"description":null},{"id":127902,"node_id":"MDU6TGFiZWwxMjc5MDI=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/v0.18.0","name":"v0.18.0","color":"DDDDDD","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2011-09-04T20:55:11Z","updated_at":"2011-11-15T08:30:27Z","closed_at":"2011-09-04T20:55:50Z","author_association":"MEMBER","active_lock_reason":null,"body":"Aggregate shard level search stats, both \"query\" and \"fetch\" level stats (count and time) executing on the shard level. The total stats are aggregated and returned on node level stats, and on indices level stats.\n\nWhen executing a search, custom stats groups can be provided allowing to further aggregated on different, user defined level stats aggregation (regardless of the indices / types search on). The stats can be provided as a comma separated list `stats` url parameter, or within the request body, for example:\n\n```\n{\n    \"query\" : {\n        \"match_all\" : {}\n    },\n    \"stats\" : [\"group1\", \"group2\"]\n}\n```\n\nGetting back group level stats can be done on the indices stats API by providing it with the `groups` parameter (a comma separated list of the groups to return stats for), or, using the specific search stats endpoint. Here are some examples:\n\n```\n# \"total\" search level stats across all indices\ncurl 'localhost:9200/_stats?clear=true&search=true`\n\n# a short hand more specific option for the above\ncurl 'localhost:9200/_stats/search'\n\n# \"total\" level stats for 'my_index'\ncurl 'localhost:9200/my_index/_stats?clear=true&search=true'\n\n# a short hand more specific option for the above\ncurl 'localhost:9200/my_index/_stats/search'\n\n# search stats for group1 and group2 (several options)\ncurl 'localhost:9200/_stats?groups=group1,group2'\ncurl 'localhost:9200/_stats/search/group1,group2\n\n# same as above, but only for 'my_index'\ncurl 'localhost:9200/my_index/_stats?groups=group1,group2'\ncurl 'localhost:9200/my_index/_stats/search/group1,group2\n```\n","closed_by":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"performed_via_github_app":null}