{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/17247","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17247/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17247/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/17247/events","html_url":"https://github.com/elastic/elasticsearch/issues/17247","id":142695564,"node_id":"MDU6SXNzdWUxNDI2OTU1NjQ=","number":17247,"title":"Add Template parameter to hide indices","user":{"login":"pickypg","id":1501235,"node_id":"MDQ6VXNlcjE1MDEyMzU=","avatar_url":"https://avatars2.githubusercontent.com/u/1501235?v=4","gravatar_id":"","url":"https://api.github.com/users/pickypg","html_url":"https://github.com/pickypg","followers_url":"https://api.github.com/users/pickypg/followers","following_url":"https://api.github.com/users/pickypg/following{/other_user}","gists_url":"https://api.github.com/users/pickypg/gists{/gist_id}","starred_url":"https://api.github.com/users/pickypg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pickypg/subscriptions","organizations_url":"https://api.github.com/users/pickypg/orgs","repos_url":"https://api.github.com/users/pickypg/repos","events_url":"https://api.github.com/users/pickypg/events{/privacy}","received_events_url":"https://api.github.com/users/pickypg/received_events","type":"User","site_admin":false},"labels":[{"id":163824881,"node_id":"MDU6TGFiZWwxNjM4MjQ4ODE=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Features/Indices%20APIs","name":":Core/Features/Indices APIs","color":"0e8a16","default":false,"description":"APIs to create and manage indices"},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"pickypg","id":1501235,"node_id":"MDQ6VXNlcjE1MDEyMzU=","avatar_url":"https://avatars2.githubusercontent.com/u/1501235?v=4","gravatar_id":"","url":"https://api.github.com/users/pickypg","html_url":"https://github.com/pickypg","followers_url":"https://api.github.com/users/pickypg/followers","following_url":"https://api.github.com/users/pickypg/following{/other_user}","gists_url":"https://api.github.com/users/pickypg/gists{/gist_id}","starred_url":"https://api.github.com/users/pickypg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pickypg/subscriptions","organizations_url":"https://api.github.com/users/pickypg/orgs","repos_url":"https://api.github.com/users/pickypg/repos","events_url":"https://api.github.com/users/pickypg/events{/privacy}","received_events_url":"https://api.github.com/users/pickypg/received_events","type":"User","site_admin":false},"assignees":[{"login":"pickypg","id":1501235,"node_id":"MDQ6VXNlcjE1MDEyMzU=","avatar_url":"https://avatars2.githubusercontent.com/u/1501235?v=4","gravatar_id":"","url":"https://api.github.com/users/pickypg","html_url":"https://github.com/pickypg","followers_url":"https://api.github.com/users/pickypg/followers","following_url":"https://api.github.com/users/pickypg/following{/other_user}","gists_url":"https://api.github.com/users/pickypg/gists{/gist_id}","starred_url":"https://api.github.com/users/pickypg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pickypg/subscriptions","organizations_url":"https://api.github.com/users/pickypg/orgs","repos_url":"https://api.github.com/users/pickypg/repos","events_url":"https://api.github.com/users/pickypg/events{/privacy}","received_events_url":"https://api.github.com/users/pickypg/received_events","type":"User","site_admin":false}],"milestone":null,"comments":11,"created_at":"2016-03-22T15:59:28Z","updated_at":"2018-06-11T11:24:55Z","closed_at":"2017-04-17T21:29:00Z","author_association":"MEMBER","active_lock_reason":null,"body":"It comes up that you want to _not_ include certain index's in global templates, such as meant-to-be hidden indices.\n\nCurrently, the [Multiple Index syntax](https://www.elastic.co/guide/en/elasticsearch/reference/2.2/multi-index.html) is the way that we support things like `+test*,-test3` to exclude matching indices, but templates do not support it. However, this may be unnecessarily complicated for templates because the above strategy is meant for fancy logic that can be needed for things like snapshotting and restoring.\n\nA simple solution for this, rather than implementing Multiple Index syntax, may be to add an extra parameter:\n\n``` json\n{\n  \"template\" : \"*\",\n  \"hide_template\" : \".*\"\n}\n```\n\nFrom there, anything that matches `template`, but also matches `hide_template` (name is debatable), will _not_ have the template applied. We could even default `hide_template` to `.*` so that it excludes anything with a `.`-prefix by default.\n\nAs a note, Multiple Index syntax does provide a more consistent approach and also a more flexible one. However, it would not stop users from shooting themselves in the foot because they would have to manually exclude `.`-prefixed indices. I kind of actually want a mix of the two: multiple index without the add/remove stuff so that you can comma delimit multiple patterns for each parameter, thus allowing us to hide `.`-prefix by default.\n\n**Workaround**\n\nFor anyone coming here because they ran into colliding templates, the workaround is pretty simple: do not apply _mapping_ changes in global templates where global means `\"template\" : \"*\"`. The downside is that it may mean that you end up repeating the template for multiple indices as a result.\n","closed_by":{"login":"pickypg","id":1501235,"node_id":"MDQ6VXNlcjE1MDEyMzU=","avatar_url":"https://avatars2.githubusercontent.com/u/1501235?v=4","gravatar_id":"","url":"https://api.github.com/users/pickypg","html_url":"https://github.com/pickypg","followers_url":"https://api.github.com/users/pickypg/followers","following_url":"https://api.github.com/users/pickypg/following{/other_user}","gists_url":"https://api.github.com/users/pickypg/gists{/gist_id}","starred_url":"https://api.github.com/users/pickypg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pickypg/subscriptions","organizations_url":"https://api.github.com/users/pickypg/orgs","repos_url":"https://api.github.com/users/pickypg/repos","events_url":"https://api.github.com/users/pickypg/events{/privacy}","received_events_url":"https://api.github.com/users/pickypg/received_events","type":"User","site_admin":false},"performed_via_github_app":null}