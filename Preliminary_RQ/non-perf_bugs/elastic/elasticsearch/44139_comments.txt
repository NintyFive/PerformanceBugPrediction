[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/509853261","html_url":"https://github.com/elastic/elasticsearch/issues/44139#issuecomment-509853261","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44139","id":509853261,"node_id":"MDEyOklzc3VlQ29tbWVudDUwOTg1MzI2MQ==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2019-07-09T23:58:34Z","updated_at":"2019-07-09T23:58:34Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-core-infra","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/509907390","html_url":"https://github.com/elastic/elasticsearch/issues/44139#issuecomment-509907390","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44139","id":509907390,"node_id":"MDEyOklzc3VlQ29tbWVudDUwOTkwNzM5MA==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2019-07-10T04:54:30Z","updated_at":"2019-07-10T04:54:30Z","author_association":"MEMBER","body":"@dandago Can you please check you do not already have a JAVA_HOME set? Something like `echo %JAVA_HOME%` just before running elasticsearch.bat. If that is not set, can you then try running from the elasticsearch home directory instead of within the bin directory? I'm trying to narrow down where this issue might be, but I rely on our windows packaging tests, which are passing, so I'm hoping to get some more data points to help in crafting a test that would fail.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/509918809","html_url":"https://github.com/elastic/elasticsearch/issues/44139#issuecomment-509918809","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44139","id":509918809,"node_id":"MDEyOklzc3VlQ29tbWVudDUwOTkxODgwOQ==","user":{"login":"dandago","id":13241564,"node_id":"MDQ6VXNlcjEzMjQxNTY0","avatar_url":"https://avatars3.githubusercontent.com/u/13241564?v=4","gravatar_id":"","url":"https://api.github.com/users/dandago","html_url":"https://github.com/dandago","followers_url":"https://api.github.com/users/dandago/followers","following_url":"https://api.github.com/users/dandago/following{/other_user}","gists_url":"https://api.github.com/users/dandago/gists{/gist_id}","starred_url":"https://api.github.com/users/dandago/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dandago/subscriptions","organizations_url":"https://api.github.com/users/dandago/orgs","repos_url":"https://api.github.com/users/dandago/repos","events_url":"https://api.github.com/users/dandago/events{/privacy}","received_events_url":"https://api.github.com/users/dandago/received_events","type":"User","site_admin":false},"created_at":"2019-07-10T05:52:14Z","updated_at":"2019-07-10T05:52:14Z","author_association":"NONE","body":"@rjernst You are right, I did have JAVA_HOME set to a directory that no longer exists. It works if I clear it.\r\n\r\nIn this case, I'm afraid the error:\r\n\r\n> could not find java in JAVA_HOME or bundled at C:\\tools\\elasticsearch-7.1.1\\jdk\r\n\r\n...is misleading. I would have thought that if it fails to find the JDK in JAVA_HOME then it would look for the bundled one (which exists at the directory it is mentioning), but it seems to be relying entirely on JAVA_HOME if it is set.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/515346806","html_url":"https://github.com/elastic/elasticsearch/issues/44139#issuecomment-515346806","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44139","id":515346806,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTM0NjgwNg==","user":{"login":"1044886782","id":40510369,"node_id":"MDQ6VXNlcjQwNTEwMzY5","avatar_url":"https://avatars1.githubusercontent.com/u/40510369?v=4","gravatar_id":"","url":"https://api.github.com/users/1044886782","html_url":"https://github.com/1044886782","followers_url":"https://api.github.com/users/1044886782/followers","following_url":"https://api.github.com/users/1044886782/following{/other_user}","gists_url":"https://api.github.com/users/1044886782/gists{/gist_id}","starred_url":"https://api.github.com/users/1044886782/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/1044886782/subscriptions","organizations_url":"https://api.github.com/users/1044886782/orgs","repos_url":"https://api.github.com/users/1044886782/repos","events_url":"https://api.github.com/users/1044886782/events{/privacy}","received_events_url":"https://api.github.com/users/1044886782/received_events","type":"User","site_admin":false},"created_at":"2019-07-26T07:44:29Z","updated_at":"2019-07-26T07:44:29Z","author_association":"NONE","body":"![image](https://user-images.githubusercontent.com/40510369/61935017-17fef800-af79-11e9-8dc9-90a57fe30f2a.png)\r\nthis is my problem , i can't figure it out...","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/515358293","html_url":"https://github.com/elastic/elasticsearch/issues/44139#issuecomment-515358293","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44139","id":515358293,"node_id":"MDEyOklzc3VlQ29tbWVudDUxNTM1ODI5Mw==","user":{"login":"1044886782","id":40510369,"node_id":"MDQ6VXNlcjQwNTEwMzY5","avatar_url":"https://avatars1.githubusercontent.com/u/40510369?v=4","gravatar_id":"","url":"https://api.github.com/users/1044886782","html_url":"https://github.com/1044886782","followers_url":"https://api.github.com/users/1044886782/followers","following_url":"https://api.github.com/users/1044886782/following{/other_user}","gists_url":"https://api.github.com/users/1044886782/gists{/gist_id}","starred_url":"https://api.github.com/users/1044886782/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/1044886782/subscriptions","organizations_url":"https://api.github.com/users/1044886782/orgs","repos_url":"https://api.github.com/users/1044886782/repos","events_url":"https://api.github.com/users/1044886782/events{/privacy}","received_events_url":"https://api.github.com/users/1044886782/received_events","type":"User","site_admin":false},"created_at":"2019-07-26T08:20:56Z","updated_at":"2019-07-26T08:20:56Z","author_association":"NONE","body":"> ![image](https://user-images.githubusercontent.com/40510369/61935017-17fef800-af79-11e9-8dc9-90a57fe30f2a.png)\r\n> this is my problem , i can't figure it out...\r\n\r\nI finally find a way to slove this probem: the url is:https://stackoverflow.com/questions/49012969/could-not-find-java-home-elastcisearch\r\n\r\nexecute this command: set JAVA_HOME=D:\\java  ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/520868987","html_url":"https://github.com/elastic/elasticsearch/issues/44139#issuecomment-520868987","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44139","id":520868987,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMDg2ODk4Nw==","user":{"login":"cawoodm","id":498834,"node_id":"MDQ6VXNlcjQ5ODgzNA==","avatar_url":"https://avatars2.githubusercontent.com/u/498834?v=4","gravatar_id":"","url":"https://api.github.com/users/cawoodm","html_url":"https://github.com/cawoodm","followers_url":"https://api.github.com/users/cawoodm/followers","following_url":"https://api.github.com/users/cawoodm/following{/other_user}","gists_url":"https://api.github.com/users/cawoodm/gists{/gist_id}","starred_url":"https://api.github.com/users/cawoodm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cawoodm/subscriptions","organizations_url":"https://api.github.com/users/cawoodm/orgs","repos_url":"https://api.github.com/users/cawoodm/repos","events_url":"https://api.github.com/users/cawoodm/events{/privacy}","received_events_url":"https://api.github.com/users/cawoodm/received_events","type":"User","site_admin":false},"created_at":"2019-08-13T14:52:45Z","updated_at":"2019-08-13T14:54:22Z","author_association":"CONTRIBUTOR","body":"This is still an issue (Windows 10) ES 7.3.0:\r\n![image](https://user-images.githubusercontent.com/498834/62951756-ce246780-bdea-11e9-98f6-5ed706f77590.png)\r\n\r\nAs you can see it can find java (where it says it can't) only if we set JAVA_HOME.\r\n\r\nIn my case JAVA_HOME was already set to a JRE path so, if ES doesn't like that, it should find it's own packaged JDK.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/521043475","html_url":"https://github.com/elastic/elasticsearch/issues/44139#issuecomment-521043475","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44139","id":521043475,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTA0MzQ3NQ==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2019-08-13T23:13:25Z","updated_at":"2019-08-13T23:13:25Z","author_association":"MEMBER","body":"@cawoodm If JAVA_HOME is set, Elasticsearch will use that. There is no attempt to discern whether the version of is meant to be used with Elasticsearch. If you don't mean to use that java with Elasticsearch, unset JAVA_HOME when starting ES.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/521083225","html_url":"https://github.com/elastic/elasticsearch/issues/44139#issuecomment-521083225","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44139","id":521083225,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTA4MzIyNQ==","user":{"login":"1044886782","id":40510369,"node_id":"MDQ6VXNlcjQwNTEwMzY5","avatar_url":"https://avatars1.githubusercontent.com/u/40510369?v=4","gravatar_id":"","url":"https://api.github.com/users/1044886782","html_url":"https://github.com/1044886782","followers_url":"https://api.github.com/users/1044886782/followers","following_url":"https://api.github.com/users/1044886782/following{/other_user}","gists_url":"https://api.github.com/users/1044886782/gists{/gist_id}","starred_url":"https://api.github.com/users/1044886782/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/1044886782/subscriptions","organizations_url":"https://api.github.com/users/1044886782/orgs","repos_url":"https://api.github.com/users/1044886782/repos","events_url":"https://api.github.com/users/1044886782/events{/privacy}","received_events_url":"https://api.github.com/users/1044886782/received_events","type":"User","site_admin":false},"created_at":"2019-08-14T02:56:43Z","updated_at":"2019-08-14T02:56:43Z","author_association":"NONE","body":"> @cawoodm If JAVA_HOME is set, Elasticsearch will use that. There is no attempt to discern whether the version of is meant to be used with Elasticsearch. If you don't mean to use that java with Elasticsearch, unset JAVA_HOME when starting ES.\r\n\r\nYesï¼ŒI've sloved this problem by setting this PATH,thanks.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/521337074","html_url":"https://github.com/elastic/elasticsearch/issues/44139#issuecomment-521337074","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44139","id":521337074,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTMzNzA3NA==","user":{"login":"dandago","id":13241564,"node_id":"MDQ6VXNlcjEzMjQxNTY0","avatar_url":"https://avatars3.githubusercontent.com/u/13241564?v=4","gravatar_id":"","url":"https://api.github.com/users/dandago","html_url":"https://github.com/dandago","followers_url":"https://api.github.com/users/dandago/followers","following_url":"https://api.github.com/users/dandago/following{/other_user}","gists_url":"https://api.github.com/users/dandago/gists{/gist_id}","starred_url":"https://api.github.com/users/dandago/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dandago/subscriptions","organizations_url":"https://api.github.com/users/dandago/orgs","repos_url":"https://api.github.com/users/dandago/repos","events_url":"https://api.github.com/users/dandago/events{/privacy}","received_events_url":"https://api.github.com/users/dandago/received_events","type":"User","site_admin":false},"created_at":"2019-08-14T17:17:23Z","updated_at":"2019-08-14T17:17:23Z","author_association":"NONE","body":"@rjernst \r\n\r\n> @cawoodm If JAVA_HOME is set, Elasticsearch will use that. There is no attempt to discern whether the version of is meant to be used with Elasticsearch. If you don't mean to use that java with Elasticsearch, unset JAVA_HOME when starting ES.\r\n\r\nIf this is the behaviour, then the error shouldn't claim that it checked for the bundled JDK.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/521386162","html_url":"https://github.com/elastic/elasticsearch/issues/44139#issuecomment-521386162","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/44139","id":521386162,"node_id":"MDEyOklzc3VlQ29tbWVudDUyMTM4NjE2Mg==","user":{"login":"rjernst","id":289412,"node_id":"MDQ6VXNlcjI4OTQxMg==","avatar_url":"https://avatars3.githubusercontent.com/u/289412?v=4","gravatar_id":"","url":"https://api.github.com/users/rjernst","html_url":"https://github.com/rjernst","followers_url":"https://api.github.com/users/rjernst/followers","following_url":"https://api.github.com/users/rjernst/following{/other_user}","gists_url":"https://api.github.com/users/rjernst/gists{/gist_id}","starred_url":"https://api.github.com/users/rjernst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjernst/subscriptions","organizations_url":"https://api.github.com/users/rjernst/orgs","repos_url":"https://api.github.com/users/rjernst/repos","events_url":"https://api.github.com/users/rjernst/events{/privacy}","received_events_url":"https://api.github.com/users/rjernst/received_events","type":"User","site_admin":false},"created_at":"2019-08-14T19:31:43Z","updated_at":"2019-08-14T19:31:43Z","author_association":"MEMBER","body":"> If this is the behaviour, then the error shouldn't claim that it checked for the bundled JDK.\r\n\r\nI agree. The existing error message is a result of only slightly changing the old error message where we looked for JAVA_HOME and on the PATH. I will separate this out so it is clear when JAVA_HOME was used and that the path does not exist.","performed_via_github_app":null}]