{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/19427","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19427/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19427/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/19427/events","html_url":"https://github.com/elastic/elasticsearch/issues/19427","id":165471763,"node_id":"MDU6SXNzdWUxNjU0NzE3NjM=","number":19427,"title":"Return an error if incompatible plugin installed and service start called","user":{"login":"markwalkom","id":3184718,"node_id":"MDQ6VXNlcjMxODQ3MTg=","avatar_url":"https://avatars0.githubusercontent.com/u/3184718?v=4","gravatar_id":"","url":"https://api.github.com/users/markwalkom","html_url":"https://github.com/markwalkom","followers_url":"https://api.github.com/users/markwalkom/followers","following_url":"https://api.github.com/users/markwalkom/following{/other_user}","gists_url":"https://api.github.com/users/markwalkom/gists{/gist_id}","starred_url":"https://api.github.com/users/markwalkom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markwalkom/subscriptions","organizations_url":"https://api.github.com/users/markwalkom/orgs","repos_url":"https://api.github.com/users/markwalkom/repos","events_url":"https://api.github.com/users/markwalkom/events{/privacy}","received_events_url":"https://api.github.com/users/markwalkom/received_events","type":"User","site_admin":false},"labels":[{"id":114977275,"node_id":"MDU6TGFiZWwxMTQ5NzcyNzU=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Delivery/Packaging","name":":Delivery/Packaging","color":"0e8a16","default":false,"description":"RPM and deb packaging, tar and zip archives, shell and batch scripts"},{"id":23174,"node_id":"MDU6TGFiZWwyMzE3NA==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Eenhancement","name":">enhancement","color":"4a4ea8","default":false,"description":null},{"id":2495976472,"node_id":"MDU6TGFiZWwyNDk1OTc2NDcy","url":"https://api.github.com/repos/elastic/elasticsearch/labels/Team:Delivery","name":"Team:Delivery","color":"fef2c0","default":false,"description":"Meta label for Delivery team"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2016-07-14T04:07:06Z","updated_at":"2020-11-11T21:58:35Z","closed_at":"2016-07-14T09:41:49Z","author_association":"MEMBER","active_lock_reason":null,"body":"Currently if you update ES and have plugins that are not compatible, starting the service returns an ok;\n\n```\nroot@vagrant-ubuntu-trusty-64:~# service elasticsearch start\n * Starting Elasticsearch Server                                                                                                                                                                                                                                     [ OK ]\n```\n\nBut the service is not running;\n\n```\nroot@vagrant-ubuntu-trusty-64:~# ps -ef|grep java\nroot      2497  2288  0 04:01 pts/1    00:00:00 grep --color=auto\n```\n\nAnd the log reports this;\n\n```\n[2016-07-14 04:01:29,277][INFO ][node                     ] [Aurora] version[2.3.4], pid[2412], build[e455fd0/2016-06-30T11:24:31Z]\n[2016-07-14 04:01:29,279][INFO ][node                     ] [Aurora] initializing ...\n[2016-07-14 04:01:29,752][ERROR][bootstrap                ] Exception\njava.lang.IllegalArgumentException: Plugin [graph] is incompatible with Elasticsearch [2.3.4]. Was designed for version [2.3.3]\n        at org.elasticsearch.plugins.PluginInfo.readFromProperties(PluginInfo.java:118)\n        at org.elasticsearch.plugins.PluginsService.getPluginBundles(PluginsService.java:378)\n        at org.elasticsearch.plugins.PluginsService.<init>(PluginsService.java:128)\n        at org.elasticsearch.node.Node.<init>(Node.java:158)\n        at org.elasticsearch.node.Node.<init>(Node.java:140)\n        at org.elasticsearch.node.NodeBuilder.build(NodeBuilder.java:143)\n        at org.elasticsearch.bootstrap.Bootstrap.setup(Bootstrap.java:178)\n        at org.elasticsearch.bootstrap.Bootstrap.init(Bootstrap.java:270)\n        at org.elasticsearch.bootstrap.Elasticsearch.main(Elasticsearch.java:35)\n```\n\nWe should be returning a `FAILED`, ideally with a reason why.\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}