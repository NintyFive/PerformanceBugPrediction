[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/2164641","html_url":"https://github.com/elastic/elasticsearch/issues/1352#issuecomment-2164641","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1352","id":2164641,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjQ2NDE=","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2011-09-22T06:47:25Z","updated_at":"2011-09-22T06:47:25Z","author_association":"CONTRIBUTOR","body":"Hiya - this sounds really useful. Question: is this exposed in the cluster state?  I'm thinking of the code that I use in ElasticSearch.pm to retrieve a list of live nodes for round-robin'ing in the client.  This should potentially be rack aware as well, so that a client in zone1 only (or preferentially) talks to nodes in zone1.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/2166409","html_url":"https://github.com/elastic/elasticsearch/issues/1352#issuecomment-2166409","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1352","id":2166409,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjY0MDk=","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2011-09-22T11:39:56Z","updated_at":"2011-09-22T11:39:56Z","author_association":"MEMBER","body":"Yes, attributes are returned as part of the each node information in the cluster state. But, the settings (awareness settings), do not (as they will usually be set in the config file). But, I think in any case the user will have to tell you in the client construction which awareness attributes values the client runs on, and then you can use those to chooses which nodes based on their attributes?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/69882356","html_url":"https://github.com/elastic/elasticsearch/issues/1352#issuecomment-69882356","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1352","id":69882356,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODgyMzU2","user":{"login":"finominfo","id":10528099,"node_id":"MDQ6VXNlcjEwNTI4MDk5","avatar_url":"https://avatars1.githubusercontent.com/u/10528099?v=4","gravatar_id":"","url":"https://api.github.com/users/finominfo","html_url":"https://github.com/finominfo","followers_url":"https://api.github.com/users/finominfo/followers","following_url":"https://api.github.com/users/finominfo/following{/other_user}","gists_url":"https://api.github.com/users/finominfo/gists{/gist_id}","starred_url":"https://api.github.com/users/finominfo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/finominfo/subscriptions","organizations_url":"https://api.github.com/users/finominfo/orgs","repos_url":"https://api.github.com/users/finominfo/repos","events_url":"https://api.github.com/users/finominfo/events{/privacy}","received_events_url":"https://api.github.com/users/finominfo/received_events","type":"User","site_admin":false},"created_at":"2015-01-14T08:10:56Z","updated_at":"2015-01-14T08:10:56Z","author_association":"NONE","body":"Is it possible that one node belongs more than one zones? I mean:\nnode.zone: zone1, zone2\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/69943757","html_url":"https://github.com/elastic/elasticsearch/issues/1352#issuecomment-69943757","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1352","id":69943757,"node_id":"MDEyOklzc3VlQ29tbWVudDY5OTQzNzU3","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2015-01-14T16:27:25Z","updated_at":"2015-01-14T16:27:25Z","author_association":"MEMBER","body":"@finominfo any node attribute can have one value, so no. Why are you asking?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/114152281","html_url":"https://github.com/elastic/elasticsearch/issues/1352#issuecomment-114152281","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1352","id":114152281,"node_id":"MDEyOklzc3VlQ29tbWVudDExNDE1MjI4MQ==","user":{"login":"ml4spark","id":12525406,"node_id":"MDQ6VXNlcjEyNTI1NDA2","avatar_url":"https://avatars3.githubusercontent.com/u/12525406?v=4","gravatar_id":"","url":"https://api.github.com/users/ml4spark","html_url":"https://github.com/ml4spark","followers_url":"https://api.github.com/users/ml4spark/followers","following_url":"https://api.github.com/users/ml4spark/following{/other_user}","gists_url":"https://api.github.com/users/ml4spark/gists{/gist_id}","starred_url":"https://api.github.com/users/ml4spark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ml4spark/subscriptions","organizations_url":"https://api.github.com/users/ml4spark/orgs","repos_url":"https://api.github.com/users/ml4spark/repos","events_url":"https://api.github.com/users/ml4spark/events{/privacy}","received_events_url":"https://api.github.com/users/ml4spark/received_events","type":"User","site_admin":false},"created_at":"2015-06-22T15:21:16Z","updated_at":"2015-06-22T16:26:05Z","author_association":"NONE","body":"@bleskes  Hi Boaz, in above explanation it is said that \"a shard and its replica will not be allocated in the same rack_id value.\"  I see this working on my cluster, however It seems that this only applies to the primary shard and the replicas, but not among replicas (i.e. i use 2 replicas, these are sometimes allocated to the same rack_id) - using elasticsearch 1.6.  Can I force that no two copies of a shard (no matter if primary or replica) reside in the same rack_id?  Thanks!\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/114901541","html_url":"https://github.com/elastic/elasticsearch/issues/1352#issuecomment-114901541","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1352","id":114901541,"node_id":"MDEyOklzc3VlQ29tbWVudDExNDkwMTU0MQ==","user":{"login":"bleskes","id":1006375,"node_id":"MDQ6VXNlcjEwMDYzNzU=","avatar_url":"https://avatars1.githubusercontent.com/u/1006375?v=4","gravatar_id":"","url":"https://api.github.com/users/bleskes","html_url":"https://github.com/bleskes","followers_url":"https://api.github.com/users/bleskes/followers","following_url":"https://api.github.com/users/bleskes/following{/other_user}","gists_url":"https://api.github.com/users/bleskes/gists{/gist_id}","starred_url":"https://api.github.com/users/bleskes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bleskes/subscriptions","organizations_url":"https://api.github.com/users/bleskes/orgs","repos_url":"https://api.github.com/users/bleskes/repos","events_url":"https://api.github.com/users/bleskes/events{/privacy}","received_events_url":"https://api.github.com/users/bleskes/received_events","type":"User","site_admin":false},"created_at":"2015-06-24T15:08:56Z","updated_at":"2015-06-24T15:08:56Z","author_association":"MEMBER","body":"@ml4spark do you have more shard copies (primary + replicas) than attribute values? you might want to use Forced Awareness.  Also see #11852 for a clarification of that sentence in the docs. I hope it helps.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/114977323","html_url":"https://github.com/elastic/elasticsearch/issues/1352#issuecomment-114977323","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/1352","id":114977323,"node_id":"MDEyOklzc3VlQ29tbWVudDExNDk3NzMyMw==","user":{"login":"ml4spark","id":12525406,"node_id":"MDQ6VXNlcjEyNTI1NDA2","avatar_url":"https://avatars3.githubusercontent.com/u/12525406?v=4","gravatar_id":"","url":"https://api.github.com/users/ml4spark","html_url":"https://github.com/ml4spark","followers_url":"https://api.github.com/users/ml4spark/followers","following_url":"https://api.github.com/users/ml4spark/following{/other_user}","gists_url":"https://api.github.com/users/ml4spark/gists{/gist_id}","starred_url":"https://api.github.com/users/ml4spark/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ml4spark/subscriptions","organizations_url":"https://api.github.com/users/ml4spark/orgs","repos_url":"https://api.github.com/users/ml4spark/repos","events_url":"https://api.github.com/users/ml4spark/events{/privacy}","received_events_url":"https://api.github.com/users/ml4spark/received_events","type":"User","site_admin":false},"created_at":"2015-06-24T18:46:08Z","updated_at":"2015-06-24T18:46:08Z","author_association":"NONE","body":"@bleskes thanks for the clarification. It turned out that my config file was incorrect and hence elastic didn't use the rack based routing at all. I got it right now and it works like a charm. Cheers\n","performed_via_github_app":null}]