{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/26665","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26665/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26665/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/26665/events","html_url":"https://github.com/elastic/elasticsearch/issues/26665","id":258060761,"node_id":"MDU6SXNzdWUyNTgwNjA3NjE=","number":26665,"title":"Bootstrap test for ability to write OOM heap dump","user":{"login":"robin13","id":174291,"node_id":"MDQ6VXNlcjE3NDI5MQ==","avatar_url":"https://avatars3.githubusercontent.com/u/174291?v=4","gravatar_id":"","url":"https://api.github.com/users/robin13","html_url":"https://github.com/robin13","followers_url":"https://api.github.com/users/robin13/followers","following_url":"https://api.github.com/users/robin13/following{/other_user}","gists_url":"https://api.github.com/users/robin13/gists{/gist_id}","starred_url":"https://api.github.com/users/robin13/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robin13/subscriptions","organizations_url":"https://api.github.com/users/robin13/orgs","repos_url":"https://api.github.com/users/robin13/repos","events_url":"https://api.github.com/users/robin13/events{/privacy}","received_events_url":"https://api.github.com/users/robin13/received_events","type":"User","site_admin":false},"labels":[{"id":144797810,"node_id":"MDU6TGFiZWwxNDQ3OTc4MTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Core","name":":Core/Infra/Core","color":"0e8a16","default":false,"description":"Core issues without another label"},{"id":111416437,"node_id":"MDU6TGFiZWwxMTE0MTY0Mzc=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/discuss","name":"discuss","color":"fbca04","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2017-09-15T14:31:40Z","updated_at":"2017-09-22T18:22:04Z","closed_at":"2017-09-22T18:22:04Z","author_association":"MEMBER","active_lock_reason":null,"body":"Currently it is possible for elasticsearch users to have `-XX:+HeapDumpOnOutOfMemoryError` enabled (it is enabled by default), but in many installations (rpm/deb) the default location (`$ES_HOME` which is usually `/var/share/elasticsearch`) is not writable.\r\nAlternatively the location can be explicitly defined with -XX:HeapDumpPath=<heap dump path> but this location may not be writable... so if an OOM happens, no heapdump can be written, which in turn greatly complicates debugging the root cause.\r\nIt would be great to as a first step have this as part of bootstrap checks, initially creating a warning and in a later version actually blocking elasticsearch starting.\r\nThis could be difficult considering the Java security manager... \r\n","closed_by":{"login":"jasontedor","id":4744941,"node_id":"MDQ6VXNlcjQ3NDQ5NDE=","avatar_url":"https://avatars3.githubusercontent.com/u/4744941?v=4","gravatar_id":"","url":"https://api.github.com/users/jasontedor","html_url":"https://github.com/jasontedor","followers_url":"https://api.github.com/users/jasontedor/followers","following_url":"https://api.github.com/users/jasontedor/following{/other_user}","gists_url":"https://api.github.com/users/jasontedor/gists{/gist_id}","starred_url":"https://api.github.com/users/jasontedor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasontedor/subscriptions","organizations_url":"https://api.github.com/users/jasontedor/orgs","repos_url":"https://api.github.com/users/jasontedor/repos","events_url":"https://api.github.com/users/jasontedor/events{/privacy}","received_events_url":"https://api.github.com/users/jasontedor/received_events","type":"User","site_admin":false},"performed_via_github_app":null}