{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/46447","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46447/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46447/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/46447/events","html_url":"https://github.com/elastic/elasticsearch/issues/46447","id":490347365,"node_id":"MDU6SXNzdWU0OTAzNDczNjU=","number":46447,"title":"Elastic-search search query issue","user":{"login":"rameshkr1994","id":51785654,"node_id":"MDQ6VXNlcjUxNzg1NjU0","avatar_url":"https://avatars0.githubusercontent.com/u/51785654?v=4","gravatar_id":"","url":"https://api.github.com/users/rameshkr1994","html_url":"https://github.com/rameshkr1994","followers_url":"https://api.github.com/users/rameshkr1994/followers","following_url":"https://api.github.com/users/rameshkr1994/following{/other_user}","gists_url":"https://api.github.com/users/rameshkr1994/gists{/gist_id}","starred_url":"https://api.github.com/users/rameshkr1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rameshkr1994/subscriptions","organizations_url":"https://api.github.com/users/rameshkr1994/orgs","repos_url":"https://api.github.com/users/rameshkr1994/repos","events_url":"https://api.github.com/users/rameshkr1994/events{/privacy}","received_events_url":"https://api.github.com/users/rameshkr1994/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-09-06T14:06:41Z","updated_at":"2019-09-06T14:57:22Z","closed_at":"2019-09-06T14:57:22Z","author_association":"NONE","active_lock_reason":null,"body":"Thanks\r\n\r\ni am trying to search the records based on below sql query condition :-1:\r\ncondition :- 01\r\ni have 8-fields in current index use case and i want to search all fields value based on provided value with fields like-\r\nfield1:'data'\r\nfield2:'sata'\r\nfield5:2424\r\nfield8:PHM\r\n\r\nCondition02:-\r\nin above search field i am not providing field value for field3,4,6,7\r\nbut we need this field for next search in current query and want exact matching result with previous -\r\nfield1:'data'\r\nfield2:'sata'\r\nfield5:2424\r\nfield8:'PHM'\r\n\r\nCondition3:-1:\r\nwhen i used --and-- (MATCH IN ES)condition for\r\nfield1:'data'\r\nfield2:'sata'\r\nfield5:2424\r\nfield8:PHM\r\n\r\n--then it fetch exact matching records but if we are not passing the value for any field this query is going to fail.\r\n\r\n--if i used --OR--(should in ES) condition then it fetching all matching records with all fields that is wrong in my use case.\r\n\r\n{\r\n\"query\": \"select * from dbdataindex_join_allcolumns_qa_modify_cm_28_08_2019 where  regionname='MSP 05S' and caremanager='HM CM' and patientname='Aaron' \"\r\n}\r\n\r\nSAME QUERY in DSL:-\r\n<{ \"size\" : 1000, \"query\" : { \"bool\" : { \"must\" : [ { \"bool\" : { \"must\" : [ { \"term\" : { \"regionname.keyword\" : { \"value\" : \"MS5S\", \"boost\" : 1.0 } } }, { \"term\" : { \"caremanager.keyword\" : { \"value\" : \"HECM\", \"boost\" : 1.0 } } } ], \"adjust_pure_negative\" : true, \"boost\" : 1.0 } }, { \"term\" : { \"patientname.keyword\" : { \"value\" : \"Aaa\", \"boost\" : 1.0 } } } ], \"adjust_pure_negative\" : true, \"boost\" : 1.0 } }, \"_source\" : { \"includes\" : [ \"@version\", \"active\", \"beneficiary_status\", \"care_program_name\", \"caremanager\", \"city\", \"dob1\", \"email\", \"medicare\", \"patientname\", \"pcp\", \"phone_home\", \"provider_type\", \"regionname\", \"sex\" ], \"excludes\" : [ ] }, \"docvalue_fields\" : [ { \"field\" : \"@timestamp\", \"format\" : \"epoch_millis\" }, { \"field\" : \"age\" }, { \"field\" : \"careprog_id\" }, { \"field\" : \"dob\", \"format\" : \"epoch_millis\" }, { \"field\" : \"log_date\", \"format\" : \"epoch_millis\" }, { \"field\" : \"patient_provider_hrk\" }, { \"field\" : \"pid\" }, { \"field\" : \"user_id\" } ], \"sort\" : [ { \"_doc\" : { \"order\" : \"asc\" } } ] } />\r\n\r\nFinal Request :-\r\n\r\ni want --all field-- in search search query but user can provide some time 3,4,5 fields only but result should come based on provided fields values.\r\n\r\nVery thanks .\r\nHadoopHelp","closed_by":{"login":"cbuescher","id":10398885,"node_id":"MDQ6VXNlcjEwMzk4ODg1","avatar_url":"https://avatars0.githubusercontent.com/u/10398885?v=4","gravatar_id":"","url":"https://api.github.com/users/cbuescher","html_url":"https://github.com/cbuescher","followers_url":"https://api.github.com/users/cbuescher/followers","following_url":"https://api.github.com/users/cbuescher/following{/other_user}","gists_url":"https://api.github.com/users/cbuescher/gists{/gist_id}","starred_url":"https://api.github.com/users/cbuescher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cbuescher/subscriptions","organizations_url":"https://api.github.com/users/cbuescher/orgs","repos_url":"https://api.github.com/users/cbuescher/repos","events_url":"https://api.github.com/users/cbuescher/events{/privacy}","received_events_url":"https://api.github.com/users/cbuescher/received_events","type":"User","site_admin":false},"performed_via_github_app":null}