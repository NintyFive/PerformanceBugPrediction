[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/135532248","html_url":"https://github.com/elastic/elasticsearch/issues/13160#issuecomment-135532248","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13160","id":135532248,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNTUzMjI0OA==","user":{"login":"jeremybmerrill","id":548250,"node_id":"MDQ6VXNlcjU0ODI1MA==","avatar_url":"https://avatars0.githubusercontent.com/u/548250?v=4","gravatar_id":"","url":"https://api.github.com/users/jeremybmerrill","html_url":"https://github.com/jeremybmerrill","followers_url":"https://api.github.com/users/jeremybmerrill/followers","following_url":"https://api.github.com/users/jeremybmerrill/following{/other_user}","gists_url":"https://api.github.com/users/jeremybmerrill/gists{/gist_id}","starred_url":"https://api.github.com/users/jeremybmerrill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeremybmerrill/subscriptions","organizations_url":"https://api.github.com/users/jeremybmerrill/orgs","repos_url":"https://api.github.com/users/jeremybmerrill/repos","events_url":"https://api.github.com/users/jeremybmerrill/events{/privacy}","received_events_url":"https://api.github.com/users/jeremybmerrill/received_events","type":"User","site_admin":false},"created_at":"2015-08-27T19:39:55Z","updated_at":"2015-08-27T19:39:55Z","author_association":"NONE","body":"Workaround: Turn off scripting entirely in your elasticsearch.yml by adding `script.disable_dynamic: true` (or commenting out the `script.disable_dynamic: false`).\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/135537864","html_url":"https://github.com/elastic/elasticsearch/issues/13160#issuecomment-135537864","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13160","id":135537864,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNTUzNzg2NA==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2015-08-27T20:05:45Z","updated_at":"2015-08-28T11:44:11Z","author_association":"CONTRIBUTOR","body":"hey @jeremybmerrill thanks for opening this. On the one hand this is a huge disaster and I am sorry for it. But this is exactly on of the reasons why we moved delete by query out of core and made it slowish but not prone to these problems. I will use this as an example in the future :)\n\nas far as I can tell you recovered your index with your workaround, right?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/135556762","html_url":"https://github.com/elastic/elasticsearch/issues/13160#issuecomment-135556762","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13160","id":135556762,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNTU1Njc2Mg==","user":{"login":"jeremybmerrill","id":548250,"node_id":"MDQ6VXNlcjU0ODI1MA==","avatar_url":"https://avatars0.githubusercontent.com/u/548250?v=4","gravatar_id":"","url":"https://api.github.com/users/jeremybmerrill","html_url":"https://github.com/jeremybmerrill","followers_url":"https://api.github.com/users/jeremybmerrill/followers","following_url":"https://api.github.com/users/jeremybmerrill/following{/other_user}","gists_url":"https://api.github.com/users/jeremybmerrill/gists{/gist_id}","starred_url":"https://api.github.com/users/jeremybmerrill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeremybmerrill/subscriptions","organizations_url":"https://api.github.com/users/jeremybmerrill/orgs","repos_url":"https://api.github.com/users/jeremybmerrill/repos","events_url":"https://api.github.com/users/jeremybmerrill/events{/privacy}","received_events_url":"https://api.github.com/users/jeremybmerrill/received_events","type":"User","site_admin":false},"created_at":"2015-08-27T21:15:37Z","updated_at":"2015-08-27T21:15:58Z","author_association":"NONE","body":"Hi @s1monw, thanks for your response. Yeah, saw it's deprecated, but didn't realize I'd end up in this sort of trouble... \n\nI'm not sure if, were I to re-enable dynamic scripting, my index would still be broken. But, yeah, I'm back up and running, so I'm okay.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/135558169","html_url":"https://github.com/elastic/elasticsearch/issues/13160#issuecomment-135558169","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13160","id":135558169,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNTU1ODE2OQ==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2015-08-27T21:23:23Z","updated_at":"2015-08-27T21:23:23Z","author_association":"CONTRIBUTOR","body":"@jeremybmerrill if you `_flush` your index all DBQ in your translog should be processed and you should be fine again.. I'd recommend you not running these kind of queries in DBQ\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/135562565","html_url":"https://github.com/elastic/elasticsearch/issues/13160#issuecomment-135562565","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13160","id":135562565,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNTU2MjU2NQ==","user":{"login":"jeremybmerrill","id":548250,"node_id":"MDQ6VXNlcjU0ODI1MA==","avatar_url":"https://avatars0.githubusercontent.com/u/548250?v=4","gravatar_id":"","url":"https://api.github.com/users/jeremybmerrill","html_url":"https://github.com/jeremybmerrill","followers_url":"https://api.github.com/users/jeremybmerrill/followers","following_url":"https://api.github.com/users/jeremybmerrill/following{/other_user}","gists_url":"https://api.github.com/users/jeremybmerrill/gists{/gist_id}","starred_url":"https://api.github.com/users/jeremybmerrill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeremybmerrill/subscriptions","organizations_url":"https://api.github.com/users/jeremybmerrill/orgs","repos_url":"https://api.github.com/users/jeremybmerrill/repos","events_url":"https://api.github.com/users/jeremybmerrill/events{/privacy}","received_events_url":"https://api.github.com/users/jeremybmerrill/received_events","type":"User","site_admin":false},"created_at":"2015-08-27T21:36:54Z","updated_at":"2015-08-27T21:36:54Z","author_association":"NONE","body":"I'll give that a try. POST to `/index/_flush`, right?\n\nYep, learned my lesson :) Will probably stay away from this DBQ thing from now on.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/135746551","html_url":"https://github.com/elastic/elasticsearch/issues/13160#issuecomment-135746551","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/13160","id":135746551,"node_id":"MDEyOklzc3VlQ29tbWVudDEzNTc0NjU1MQ==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2015-08-28T11:41:13Z","updated_at":"2015-08-28T11:41:13Z","author_association":"CONTRIBUTOR","body":"> I'll give that a try. POST to /index/_flush, right?\n\ncorrect!\n\nI suggest if you need the functionality to use scan & scroll and delete by id using bulk. that's how the new plugin in 2.0 works\n\nI am closing this for now...thanks!\n","performed_via_github_app":null}]