[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/192622689","html_url":"https://github.com/elastic/elasticsearch/issues/16967#issuecomment-192622689","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16967","id":192622689,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MjYyMjY4OQ==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-03-05T10:58:49Z","updated_at":"2016-03-05T10:58:49Z","author_association":"MEMBER","body":"I looked at the source code and I think that this could happen if you have absolutely no instance running in one of the zones you mentioned. Is that your case?\nIf I'm right, that means we need to catch this case properly instead of sending a NPE.\n\nCould you confirm that please?\n\nFor the record, we have a test which tries settings with 2 zones: https://github.com/elastic/elasticsearch/blob/2.1/plugins/cloud-gce/src/test/java/org/elasticsearch/discovery/gce/GceDiscoverySettingsTests.java#L72.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/192750735","html_url":"https://github.com/elastic/elasticsearch/issues/16967#issuecomment-192750735","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16967","id":192750735,"node_id":"MDEyOklzc3VlQ29tbWVudDE5Mjc1MDczNQ==","user":{"login":"ghorkov","id":17644190,"node_id":"MDQ6VXNlcjE3NjQ0MTkw","avatar_url":"https://avatars1.githubusercontent.com/u/17644190?v=4","gravatar_id":"","url":"https://api.github.com/users/ghorkov","html_url":"https://github.com/ghorkov","followers_url":"https://api.github.com/users/ghorkov/followers","following_url":"https://api.github.com/users/ghorkov/following{/other_user}","gists_url":"https://api.github.com/users/ghorkov/gists{/gist_id}","starred_url":"https://api.github.com/users/ghorkov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghorkov/subscriptions","organizations_url":"https://api.github.com/users/ghorkov/orgs","repos_url":"https://api.github.com/users/ghorkov/repos","events_url":"https://api.github.com/users/ghorkov/events{/privacy}","received_events_url":"https://api.github.com/users/ghorkov/received_events","type":"User","site_admin":false},"created_at":"2016-03-05T22:08:27Z","updated_at":"2016-03-05T22:08:56Z","author_association":"NONE","body":"Thank you dadoonet,\n\nThat is correct at the moment I don't have any instances running in the second zone. This is my current setup:\n\n> zone: asia-east1-a has node1 & node2\n> zone: us-central1-a doesn't have any active nodes\n\nThe problem is that when a second zone is added to the configuration file the communication between the nodes is terminated. I'm using autoscaling so depending on traffic I may need a new node on a different zone or if traffic is low the nodes in a certain zone can be shutdown leaving that zone empty\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/192921094","html_url":"https://github.com/elastic/elasticsearch/issues/16967#issuecomment-192921094","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16967","id":192921094,"node_id":"MDEyOklzc3VlQ29tbWVudDE5MjkyMTA5NA==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-03-06T16:03:32Z","updated_at":"2016-03-06T16:03:32Z","author_association":"MEMBER","body":"Thanks for confirming. Definitely something we need to fix.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/229606825","html_url":"https://github.com/elastic/elasticsearch/issues/16967#issuecomment-229606825","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/16967","id":229606825,"node_id":"MDEyOklzc3VlQ29tbWVudDIyOTYwNjgyNQ==","user":{"login":"dadoonet","id":274222,"node_id":"MDQ6VXNlcjI3NDIyMg==","avatar_url":"https://avatars3.githubusercontent.com/u/274222?v=4","gravatar_id":"","url":"https://api.github.com/users/dadoonet","html_url":"https://github.com/dadoonet","followers_url":"https://api.github.com/users/dadoonet/followers","following_url":"https://api.github.com/users/dadoonet/following{/other_user}","gists_url":"https://api.github.com/users/dadoonet/gists{/gist_id}","starred_url":"https://api.github.com/users/dadoonet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadoonet/subscriptions","organizations_url":"https://api.github.com/users/dadoonet/orgs","repos_url":"https://api.github.com/users/dadoonet/repos","events_url":"https://api.github.com/users/dadoonet/events{/privacy}","received_events_url":"https://api.github.com/users/dadoonet/received_events","type":"User","site_admin":false},"created_at":"2016-06-30T09:18:44Z","updated_at":"2016-06-30T09:18:44Z","author_association":"MEMBER","body":"@ghorkov I was able to reproduce it and came with fixes for 5.x and 2.x versions.\n","performed_via_github_app":null}]