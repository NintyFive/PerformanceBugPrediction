[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/62522652","html_url":"https://github.com/elastic/elasticsearch/issues/8431#issuecomment-62522652","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8431","id":62522652,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNTIyNjUy","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-11-11T09:33:58Z","updated_at":"2014-11-11T09:33:58Z","author_association":"CONTRIBUTOR","body":"Hi @loren \n\nI can replicate this behaviour - it is indeed a bug.  That said, strict parsing is saving you from filters that don't actually work.\n\n@martijnvg please could you take a look at this?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/62559467","html_url":"https://github.com/elastic/elasticsearch/issues/8431#issuecomment-62559467","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8431","id":62559467,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNTU5NDY3","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2014-11-11T15:07:23Z","updated_at":"2014-11-11T15:07:23Z","author_association":"MEMBER","body":"@loren The `index.query.parse.allow_unmapped_fields` doesn't have an effect on alias filters. When alias filters are being created it forcefully overwrites the `index.query.parse.allow_unmapped_fields` setting to false.\n\nThe documentation is wrong about how the `index.query.parse.allow_unmapped_fields` affects parsing for when adding an alias or a percolator query. I'll change the docs.  \n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/62727175","html_url":"https://github.com/elastic/elasticsearch/issues/8431#issuecomment-62727175","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8431","id":62727175,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzI3MTc1","user":{"login":"loren","id":42840,"node_id":"MDQ6VXNlcjQyODQw","avatar_url":"https://avatars2.githubusercontent.com/u/42840?v=4","gravatar_id":"","url":"https://api.github.com/users/loren","html_url":"https://github.com/loren","followers_url":"https://api.github.com/users/loren/followers","following_url":"https://api.github.com/users/loren/following{/other_user}","gists_url":"https://api.github.com/users/loren/gists{/gist_id}","starred_url":"https://api.github.com/users/loren/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/loren/subscriptions","organizations_url":"https://api.github.com/users/loren/orgs","repos_url":"https://api.github.com/users/loren/repos","events_url":"https://api.github.com/users/loren/events{/privacy}","received_events_url":"https://api.github.com/users/loren/received_events","type":"User","site_admin":false},"created_at":"2014-11-12T14:41:31Z","updated_at":"2014-11-12T14:41:31Z","author_association":"NONE","body":"Well, I actually don't even want to set `index.query.parse.allow_unmapped_fields` to true. I got here because I ran into a problem when I upgraded to 1.4.0. I have a `logstash` template and I have a `filtered_logstash` template that just contains a filtered alias. When the next day's `logstash` events started rolling in, all the writes failed with the `Strict field resolution and no field mapping can be found for the field with name [clientip]` error.\n\nThat confused me because the `clientip` field is explicitly mapped in the `logstash` template. I thought maybe setting `index.query.parse.allow_unmapped_fields` to true would solve my problem. It did not.\n\nIt turns out @javanna 's workaround in #6110 is what helped me out. In my `filtered_logstash` template, I put in an arbitrary `mappings` section along with the filtered alias:\n\n```\n  \"mappings\": {\n      \"workaround\" : {\n        \"properties\": {\n          \"confusing\" : {\n            \"type\" : \"string\"\n          }  \n        } \n      }\n    }\n```\n\nEven though I have no type `workaround` and no property `confusing`, putting this mapping in place in the `filtered_logstash` template let me write a document of type `search` with property `clientip`.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/62745107","html_url":"https://github.com/elastic/elasticsearch/issues/8431#issuecomment-62745107","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8431","id":62745107,"node_id":"MDEyOklzc3VlQ29tbWVudDYyNzQ1MTA3","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2014-11-12T16:20:19Z","updated_at":"2014-11-12T16:20:19Z","author_association":"CONTRIBUTOR","body":"@loren From your explanation I think I understand, but am not quite sure. This issue is closed. Could I ask you to open a new issue giving a full recreation?  I'd like to understand what is going on here, to see if there is something we need to do better.\n\nthanks\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/63820149","html_url":"https://github.com/elastic/elasticsearch/issues/8431#issuecomment-63820149","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/8431","id":63820149,"node_id":"MDEyOklzc3VlQ29tbWVudDYzODIwMTQ5","user":{"login":"martijnvg","id":580421,"node_id":"MDQ6VXNlcjU4MDQyMQ==","avatar_url":"https://avatars3.githubusercontent.com/u/580421?v=4","gravatar_id":"","url":"https://api.github.com/users/martijnvg","html_url":"https://github.com/martijnvg","followers_url":"https://api.github.com/users/martijnvg/followers","following_url":"https://api.github.com/users/martijnvg/following{/other_user}","gists_url":"https://api.github.com/users/martijnvg/gists{/gist_id}","starred_url":"https://api.github.com/users/martijnvg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martijnvg/subscriptions","organizations_url":"https://api.github.com/users/martijnvg/orgs","repos_url":"https://api.github.com/users/martijnvg/repos","events_url":"https://api.github.com/users/martijnvg/events{/privacy}","received_events_url":"https://api.github.com/users/martijnvg/received_events","type":"User","site_admin":false},"created_at":"2014-11-20T14:59:02Z","updated_at":"2014-11-20T14:59:02Z","author_association":"MEMBER","body":"Documentation has been updated, to be clear on what `index.query.parse.allow_unmapped_fields` setting does.\n","performed_via_github_app":null}]