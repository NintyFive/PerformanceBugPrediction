{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/22635","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22635/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22635/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/22635/events","html_url":"https://github.com/elastic/elasticsearch/issues/22635","id":200980685,"node_id":"MDU6SXNzdWUyMDA5ODA2ODU=","number":22635,"title":"Sudden loss of all indices data","user":{"login":"cortopy","id":8725825,"node_id":"MDQ6VXNlcjg3MjU4MjU=","avatar_url":"https://avatars1.githubusercontent.com/u/8725825?v=4","gravatar_id":"","url":"https://api.github.com/users/cortopy","html_url":"https://github.com/cortopy","followers_url":"https://api.github.com/users/cortopy/followers","following_url":"https://api.github.com/users/cortopy/following{/other_user}","gists_url":"https://api.github.com/users/cortopy/gists{/gist_id}","starred_url":"https://api.github.com/users/cortopy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cortopy/subscriptions","organizations_url":"https://api.github.com/users/cortopy/orgs","repos_url":"https://api.github.com/users/cortopy/repos","events_url":"https://api.github.com/users/cortopy/events{/privacy}","received_events_url":"https://api.github.com/users/cortopy/received_events","type":"User","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2017-01-16T10:23:54Z","updated_at":"2017-01-16T11:29:24Z","closed_at":"2017-01-16T11:29:24Z","author_association":"NONE","active_lock_reason":null,"body":"<!--\r\nGitHub is reserved for bug reports and feature requests. The best place\r\nto ask a general question is at the Elastic Discourse forums at\r\nhttps://discuss.elastic.co. If you are in fact posting a bug report or\r\na feature request, please include one and only one of the below blocks\r\nin your new issue. Note that whether you're filing a bug report or a\r\nfeature request, ensure that your submission is for an\r\n[OS that we support](https://www.elastic.co/support/matrix#show_os).\r\nBug reports on an OS that we do not support or feature requests\r\nspecific to an OS that we do not support will be closed.\r\n-->\r\n\r\n<!--\r\nIf you are filing a bug report, please remove the below feature\r\nrequest block and provide responses for all of the below items.\r\n-->\r\n\r\n**Elasticsearch version**: 5.0.1\r\n\r\n**Plugins installed**: []\r\n\r\n**JVM version**: OpenJDK 1.8.0\r\n\r\n**OS version**: Alpine Linux 3.4 / Kubernetes 1.4\r\n\r\n**Description of the problem including expected versus actual behavior**:\r\n\r\n**Steps to reproduce**:\r\n 1. As per the logs below, an index was created at midnight (by Logstash). This is the normal behaviour to be expected\r\n 2. However, about four hours later, the same index had to be recreated up to 10 times\r\n 3. Following that event, all indices were wiped out. Now, only data from that time remains in the cluster. All data from persistent storage was deleted too.\r\n\r\n**Provide logs (if relevant)**:\r\n\r\nThere are ten logs after 04:00 of type:\r\n\r\n```\r\n Cluster health status changed from [YELLOW] to [GREEN] (reason: [shards started[myindex][0])\r\n```\r\n\r\nfollowed by one entry each of `update mapping`\r\n\r\n\r\n","closed_by":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"performed_via_github_app":null}