[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/347352176","html_url":"https://github.com/elastic/elasticsearch/issues/27550#issuecomment-347352176","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27550","id":347352176,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NzM1MjE3Ng==","user":{"login":"s1monw","id":973334,"node_id":"MDQ6VXNlcjk3MzMzNA==","avatar_url":"https://avatars0.githubusercontent.com/u/973334?v=4","gravatar_id":"","url":"https://api.github.com/users/s1monw","html_url":"https://github.com/s1monw","followers_url":"https://api.github.com/users/s1monw/followers","following_url":"https://api.github.com/users/s1monw/following{/other_user}","gists_url":"https://api.github.com/users/s1monw/gists{/gist_id}","starred_url":"https://api.github.com/users/s1monw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s1monw/subscriptions","organizations_url":"https://api.github.com/users/s1monw/orgs","repos_url":"https://api.github.com/users/s1monw/repos","events_url":"https://api.github.com/users/s1monw/events{/privacy}","received_events_url":"https://api.github.com/users/s1monw/received_events","type":"User","site_admin":false},"created_at":"2017-11-27T22:36:25Z","updated_at":"2017-11-27T22:36:25Z","author_association":"CONTRIBUTOR","body":"I think it’s expected as of today from how it’s implemented but we should really try to fix it to also work if there is more than one shard and routing is used, I agree it looks like a bug! Thanks for opening this issue","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/347463408","html_url":"https://github.com/elastic/elasticsearch/issues/27550#issuecomment-347463408","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27550","id":347463408,"node_id":"MDEyOklzc3VlQ29tbWVudDM0NzQ2MzQwOA==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2017-11-28T09:26:45Z","updated_at":"2017-11-28T09:26:45Z","author_association":"MEMBER","body":"Yes this is expected because only the total number of shards per index is used to perform the slicing.\r\nWe could take the routing into account but we have multiple ways to filter/route searches based on the sharding. For the simple routing case where a single shard is selected per index this is simple since we just need to pass this information to the shard request (the slices are resolved in the shard directly) but it is more complicated to handle routing index partition: (https://www.elastic.co/guide/en/elasticsearch/reference/current/mapping-routing-field.html#routing-index-partition)\r\nand `_shards` preferences (https://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-preference.html) since we don't pass this information to shard requests and we would need more than a boolean that indicates if a single shard is requested or not.\r\nI need to think more about this but I agree with @s1monw that we should try to fix it, I'd just add that if we fix it it should work for all types of routing.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/376036050","html_url":"https://github.com/elastic/elasticsearch/issues/27550#issuecomment-376036050","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27550","id":376036050,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NjAzNjA1MA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-03-26T03:24:41Z","updated_at":"2018-03-26T03:24:41Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-search-aggs","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/380009721","html_url":"https://github.com/elastic/elasticsearch/issues/27550#issuecomment-380009721","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27550","id":380009721,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDAwOTcyMQ==","user":{"login":"bevans88","id":4851135,"node_id":"MDQ6VXNlcjQ4NTExMzU=","avatar_url":"https://avatars2.githubusercontent.com/u/4851135?v=4","gravatar_id":"","url":"https://api.github.com/users/bevans88","html_url":"https://github.com/bevans88","followers_url":"https://api.github.com/users/bevans88/followers","following_url":"https://api.github.com/users/bevans88/following{/other_user}","gists_url":"https://api.github.com/users/bevans88/gists{/gist_id}","starred_url":"https://api.github.com/users/bevans88/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bevans88/subscriptions","organizations_url":"https://api.github.com/users/bevans88/orgs","repos_url":"https://api.github.com/users/bevans88/repos","events_url":"https://api.github.com/users/bevans88/events{/privacy}","received_events_url":"https://api.github.com/users/bevans88/received_events","type":"User","site_admin":false},"created_at":"2018-04-10T07:57:51Z","updated_at":"2018-04-10T07:57:51Z","author_association":"NONE","body":"I've recently come across the same problem (at least I believe it is https://discuss.elastic.co/t/empty-slices-with-scan-scroll/127255). Is this issue being actively looked at, or is it seen as low priority? ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/380010978","html_url":"https://github.com/elastic/elasticsearch/issues/27550#issuecomment-380010978","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/27550","id":380010978,"node_id":"MDEyOklzc3VlQ29tbWVudDM4MDAxMDk3OA==","user":{"login":"jimczi","id":15977469,"node_id":"MDQ6VXNlcjE1OTc3NDY5","avatar_url":"https://avatars0.githubusercontent.com/u/15977469?v=4","gravatar_id":"","url":"https://api.github.com/users/jimczi","html_url":"https://github.com/jimczi","followers_url":"https://api.github.com/users/jimczi/followers","following_url":"https://api.github.com/users/jimczi/following{/other_user}","gists_url":"https://api.github.com/users/jimczi/gists{/gist_id}","starred_url":"https://api.github.com/users/jimczi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jimczi/subscriptions","organizations_url":"https://api.github.com/users/jimczi/orgs","repos_url":"https://api.github.com/users/jimczi/repos","events_url":"https://api.github.com/users/jimczi/events{/privacy}","received_events_url":"https://api.github.com/users/jimczi/received_events","type":"User","site_admin":false},"created_at":"2018-04-10T08:02:41Z","updated_at":"2018-04-10T08:02:41Z","author_association":"MEMBER","body":"It's on my todo list, not high priority but I'll try to find some time in the coming days to work on a fix.","performed_via_github_app":null}]