[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27792163","html_url":"https://github.com/elastic/elasticsearch/issues/4093#issuecomment-27792163","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4093","id":27792163,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NzkyMTYz","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2013-11-05T17:11:17Z","updated_at":"2013-11-05T17:11:17Z","author_association":"CONTRIBUTOR","body":"Hiya\n\nYes, this is a known issue, see #4078 \n\nWe will be releasing version 0.90.7 soon, which will fix this.  In the meantime, you can add this to your config:\n\n```\nindex.warmer.enabled: false\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27792997","html_url":"https://github.com/elastic/elasticsearch/issues/4093#issuecomment-27792997","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4093","id":27792997,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NzkyOTk3","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2013-11-05T17:19:54Z","updated_at":"2013-11-05T17:19:54Z","author_association":"CONTRIBUTOR","body":"(at least I assume this is the same thing)\n\nCould you try the setting above and let me know if it fixed the issue?\n\nthanks\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27794008","html_url":"https://github.com/elastic/elasticsearch/issues/4093#issuecomment-27794008","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4093","id":27794008,"node_id":"MDEyOklzc3VlQ29tbWVudDI3Nzk0MDA4","user":{"login":"brackxm","id":1204681,"node_id":"MDQ6VXNlcjEyMDQ2ODE=","avatar_url":"https://avatars3.githubusercontent.com/u/1204681?v=4","gravatar_id":"","url":"https://api.github.com/users/brackxm","html_url":"https://github.com/brackxm","followers_url":"https://api.github.com/users/brackxm/followers","following_url":"https://api.github.com/users/brackxm/following{/other_user}","gists_url":"https://api.github.com/users/brackxm/gists{/gist_id}","starred_url":"https://api.github.com/users/brackxm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brackxm/subscriptions","organizations_url":"https://api.github.com/users/brackxm/orgs","repos_url":"https://api.github.com/users/brackxm/repos","events_url":"https://api.github.com/users/brackxm/events{/privacy}","received_events_url":"https://api.github.com/users/brackxm/received_events","type":"User","site_admin":false},"created_at":"2013-11-05T17:30:54Z","updated_at":"2013-11-05T17:30:54Z","author_association":"CONTRIBUTOR","body":"No, that setting does not fix the issue.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27794281","html_url":"https://github.com/elastic/elasticsearch/issues/4093#issuecomment-27794281","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4093","id":27794281,"node_id":"MDEyOklzc3VlQ29tbWVudDI3Nzk0Mjgx","user":{"login":"clintongormley","id":56599,"node_id":"MDQ6VXNlcjU2NTk5","avatar_url":"https://avatars0.githubusercontent.com/u/56599?v=4","gravatar_id":"","url":"https://api.github.com/users/clintongormley","html_url":"https://github.com/clintongormley","followers_url":"https://api.github.com/users/clintongormley/followers","following_url":"https://api.github.com/users/clintongormley/following{/other_user}","gists_url":"https://api.github.com/users/clintongormley/gists{/gist_id}","starred_url":"https://api.github.com/users/clintongormley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintongormley/subscriptions","organizations_url":"https://api.github.com/users/clintongormley/orgs","repos_url":"https://api.github.com/users/clintongormley/repos","events_url":"https://api.github.com/users/clintongormley/events{/privacy}","received_events_url":"https://api.github.com/users/clintongormley/received_events","type":"User","site_admin":false},"created_at":"2013-11-05T17:33:41Z","updated_at":"2013-11-05T17:33:41Z","author_association":"CONTRIBUTOR","body":"Could you give us some idea of what your tests do and how you configure elasticsearch?\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27794318","html_url":"https://github.com/elastic/elasticsearch/issues/4093#issuecomment-27794318","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4093","id":27794318,"node_id":"MDEyOklzc3VlQ29tbWVudDI3Nzk0MzE4","user":{"login":"brackxm","id":1204681,"node_id":"MDQ6VXNlcjEyMDQ2ODE=","avatar_url":"https://avatars3.githubusercontent.com/u/1204681?v=4","gravatar_id":"","url":"https://api.github.com/users/brackxm","html_url":"https://github.com/brackxm","followers_url":"https://api.github.com/users/brackxm/followers","following_url":"https://api.github.com/users/brackxm/following{/other_user}","gists_url":"https://api.github.com/users/brackxm/gists{/gist_id}","starred_url":"https://api.github.com/users/brackxm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brackxm/subscriptions","organizations_url":"https://api.github.com/users/brackxm/orgs","repos_url":"https://api.github.com/users/brackxm/repos","events_url":"https://api.github.com/users/brackxm/events{/privacy}","received_events_url":"https://api.github.com/users/brackxm/received_events","type":"User","site_admin":false},"created_at":"2013-11-05T17:34:07Z","updated_at":"2013-11-05T17:34:07Z","author_association":"CONTRIBUTOR","body":"stacktrace\n\n```\njava.lang.OutOfMemoryError: Direct buffer memory\n    at java.nio.Bits.reserveMemory(Bits.java:658)\n    at java.nio.DirectByteBuffer.<init>(DirectByteBuffer.java:123)\n    at java.nio.ByteBuffer.allocateDirect(ByteBuffer.java:306)\n    at org.apache.lucene.store.bytebuffer.PlainByteBufferAllocator.allocate(PlainByteBufferAllocator.java:55)\n    at org.apache.lucene.store.bytebuffer.CachingByteBufferAllocator.allocate(CachingByteBufferAllocator.java:52)\n    at org.elasticsearch.cache.memory.ByteBufferCache.allocate(ByteBufferCache.java:101)\n    at org.apache.lucene.store.bytebuffer.ByteBufferIndexOutput.switchCurrentBuffer(ByteBufferIndexOutput.java:106)\n    at org.apache.lucene.store.bytebuffer.ByteBufferIndexOutput.writeBytes(ByteBufferIndexOutput.java:93)\n    at org.elasticsearch.common.lucene.store.BufferedChecksumIndexOutput.flushBuffer(BufferedChecksumIndexOutput.java:69)\n    at org.apache.lucene.store.BufferedIndexOutput.flushBuffer(BufferedIndexOutput.java:113)\n    at org.apache.lucene.store.BufferedIndexOutput.flush(BufferedIndexOutput.java:102)\n    at org.elasticsearch.common.lucene.store.BufferedChecksumIndexOutput.flush(BufferedChecksumIndexOutput.java:80)\n    at org.apache.lucene.store.BufferedIndexOutput.close(BufferedIndexOutput.java:126)\n    at org.elasticsearch.common.lucene.store.BufferedChecksumIndexOutput.close(BufferedChecksumIndexOutput.java:60)\n    at org.elasticsearch.index.store.Store$StoreIndexOutput.close(Store.java:587)\n    at org.apache.lucene.util.IOUtils.close(IOUtils.java:140)\n    at org.apache.lucene.codecs.lucene41.Lucene41PostingsWriter.close(Lucene41PostingsWriter.java:582)\n    at org.apache.lucene.util.IOUtils.closeWhileHandlingException(IOUtils.java:81)\n    at org.apache.lucene.codecs.BlockTreeTermsWriter.close(BlockTreeTermsWriter.java:1082)\n    at org.elasticsearch.index.codec.postingsformat.BloomFilterPostingsFormat$BloomFilteredFieldsConsumer.close(BloomFilterPostingsFormat.java:408)\n    at org.elasticsearch.index.codec.postingsformat.ElasticSearch090PostingsFormat$1.close(ElasticSearch090PostingsFormat.java:63)\n    at org.apache.lucene.codecs.perfield.PerFieldPostingsFormat$FieldsConsumerAndSuffix.close(PerFieldPostingsFormat.java:86)\n    at org.apache.lucene.util.IOUtils.close(IOUtils.java:163)\n    at org.apache.lucene.codecs.perfield.PerFieldPostingsFormat$FieldsWriter.close(PerFieldPostingsFormat.java:154)\n    at org.apache.lucene.util.IOUtils.close(IOUtils.java:140)\n    at org.apache.lucene.index.FreqProxTermsWriter.flush(FreqProxTermsWriter.java:102)\n    at org.apache.lucene.index.TermsHash.flush(TermsHash.java:116)\n    at org.apache.lucene.index.DocInverter.flush(DocInverter.java:53)\n    at org.apache.lucene.index.DocFieldProcessor.flush(DocFieldProcessor.java:81)\n    at org.apache.lucene.index.DocumentsWriterPerThread.flush(DocumentsWriterPerThread.java:466)\n    at org.apache.lucene.index.DocumentsWriter.doFlush(DocumentsWriter.java:499)\n    at org.apache.lucene.index.DocumentsWriter.flushAllThreads(DocumentsWriter.java:609)\n    at org.apache.lucene.index.IndexWriter.getReader(IndexWriter.java:367)\n    at org.apache.lucene.index.StandardDirectoryReader.doOpenFromWriter(StandardDirectoryReader.java:277)\n    at org.apache.lucene.index.StandardDirectoryReader.doOpenIfChanged(StandardDirectoryReader.java:252)\n    at org.apache.lucene.index.StandardDirectoryReader.doOpenIfChanged(StandardDirectoryReader.java:242)\n    at org.apache.lucene.index.DirectoryReader.openIfChanged(DirectoryReader.java:170)\n    at org.apache.lucene.search.SearcherManager.refreshIfNeeded(SearcherManager.java:118)\n    at org.apache.lucene.search.SearcherManager.refreshIfNeeded(SearcherManager.java:58)\n    at org.apache.lucene.search.ReferenceManager.doMaybeRefresh(ReferenceManager.java:155)\n    at org.apache.lucene.search.ReferenceManager.maybeRefresh(ReferenceManager.java:204)\n    at org.elasticsearch.index.engine.robin.RobinEngine.refresh(RobinEngine.java:786)\n    at org.elasticsearch.index.shard.service.InternalIndexShard.refresh(InternalIndexShard.java:448)\n    at org.elasticsearch.action.index.TransportIndexAction.shardOperationOnPrimary(TransportIndexAction.java:228)\n    at org.elasticsearch.action.support.replication.TransportShardReplicationOperationAction$AsyncShardOperationAction.performOnPrimary(TransportShardReplicationOperationAction.java:556)\n    at org.elasticsearch.action.support.replication.TransportShardReplicationOperationAction$AsyncShardOperationAction$1.run(TransportShardReplicationOperationAction.java:426)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:724)\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27794491","html_url":"https://github.com/elastic/elasticsearch/issues/4093#issuecomment-27794491","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4093","id":27794491,"node_id":"MDEyOklzc3VlQ29tbWVudDI3Nzk0NDkx","user":{"login":"brackxm","id":1204681,"node_id":"MDQ6VXNlcjEyMDQ2ODE=","avatar_url":"https://avatars3.githubusercontent.com/u/1204681?v=4","gravatar_id":"","url":"https://api.github.com/users/brackxm","html_url":"https://github.com/brackxm","followers_url":"https://api.github.com/users/brackxm/followers","following_url":"https://api.github.com/users/brackxm/following{/other_user}","gists_url":"https://api.github.com/users/brackxm/gists{/gist_id}","starred_url":"https://api.github.com/users/brackxm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brackxm/subscriptions","organizations_url":"https://api.github.com/users/brackxm/orgs","repos_url":"https://api.github.com/users/brackxm/repos","events_url":"https://api.github.com/users/brackxm/events{/privacy}","received_events_url":"https://api.github.com/users/brackxm/received_events","type":"User","site_admin":false},"created_at":"2013-11-05T17:36:28Z","updated_at":"2013-11-05T17:36:28Z","author_association":"CONTRIBUTOR","body":"configuration\n\n```\n        final Node node = NodeBuilder.nodeBuilder()\n                .local(true)\n                .clusterName(clusterName)\n                .settings(ImmutableSettings.settingsBuilder()\n                        .put(\"index.store.type\", \"memory\")\n                        .put(\"index.number_of_shards\", \"1\")\n                        .put(\"index.number_of_replicas\", \"0\")\n                        .put(\"gateway.type\", \"none\")\n                        .put(\"http.enabled\", false)\n                        .put(\"index.warmer.enabled\", false)\n                        .put(\"path.data\", \"target/es\")\n                        .put(\"path.logs\", \"target/es\")\n                        .put(\"path.work\", \"target/es\")\n                        .build())\n                .build();\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27794784","html_url":"https://github.com/elastic/elasticsearch/issues/4093#issuecomment-27794784","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4093","id":27794784,"node_id":"MDEyOklzc3VlQ29tbWVudDI3Nzk0Nzg0","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2013-11-05T17:39:49Z","updated_at":"2013-11-05T17:39:49Z","author_association":"MEMBER","body":"can you maybe write isolate it to a test case that shows that it passes in 0.90.5, while it fails in 0.90.6 (with the `index.warmer.enabled` set to `false`)? it would be a great help in chasing it down...\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27797694","html_url":"https://github.com/elastic/elasticsearch/issues/4093#issuecomment-27797694","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4093","id":27797694,"node_id":"MDEyOklzc3VlQ29tbWVudDI3Nzk3Njk0","user":{"login":"brackxm","id":1204681,"node_id":"MDQ6VXNlcjEyMDQ2ODE=","avatar_url":"https://avatars3.githubusercontent.com/u/1204681?v=4","gravatar_id":"","url":"https://api.github.com/users/brackxm","html_url":"https://github.com/brackxm","followers_url":"https://api.github.com/users/brackxm/followers","following_url":"https://api.github.com/users/brackxm/following{/other_user}","gists_url":"https://api.github.com/users/brackxm/gists{/gist_id}","starred_url":"https://api.github.com/users/brackxm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brackxm/subscriptions","organizations_url":"https://api.github.com/users/brackxm/orgs","repos_url":"https://api.github.com/users/brackxm/repos","events_url":"https://api.github.com/users/brackxm/events{/privacy}","received_events_url":"https://api.github.com/users/brackxm/received_events","type":"User","site_admin":false},"created_at":"2013-11-05T18:14:26Z","updated_at":"2013-11-05T18:14:26Z","author_association":"CONTRIBUTOR","body":"```\nimport org.elasticsearch.client.Client;\nimport org.elasticsearch.common.settings.ImmutableSettings;\nimport org.elasticsearch.node.Node;\nimport org.elasticsearch.node.NodeBuilder;\n\nimport java.util.UUID;\n\npublic class Issue {\n    public static void main(final String[] args) {\n        final Node node = NodeBuilder.nodeBuilder()\n                .local(true)\n                .clusterName(\"test\")\n                .settings(ImmutableSettings.settingsBuilder()\n                        .put(\"index.store.type\", \"memory\")\n                        .put(\"index.number_of_shards\", \"1\")\n                        .put(\"index.number_of_replicas\", \"0\")\n                        .put(\"gateway.type\", \"none\")\n                        .put(\"http.enabled\", false)\n                        .put(\"index.warmer.enabled\", false)\n                        .build())\n                .build();\n        node.start();\n        final Client client = node.client();\n        final byte[] source = \"{\\\"a\\\":\\\"a1\\\"}\".getBytes();\n        for (int i = 0; i < 1000; i++) {\n            final String id = UUID.randomUUID().toString();\n            client.prepareIndex(\"index1\", \"type1\", id)\n                    .setSource(source)\n                    .setRefresh(true)\n                    .execute()\n                    .actionGet();\n        }\n    }\n}\n```\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27819572","html_url":"https://github.com/elastic/elasticsearch/issues/4093#issuecomment-27819572","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4093","id":27819572,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODE5NTcy","user":{"login":"kimchy","id":41300,"node_id":"MDQ6VXNlcjQxMzAw","avatar_url":"https://avatars1.githubusercontent.com/u/41300?v=4","gravatar_id":"","url":"https://api.github.com/users/kimchy","html_url":"https://github.com/kimchy","followers_url":"https://api.github.com/users/kimchy/followers","following_url":"https://api.github.com/users/kimchy/following{/other_user}","gists_url":"https://api.github.com/users/kimchy/gists{/gist_id}","starred_url":"https://api.github.com/users/kimchy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kimchy/subscriptions","organizations_url":"https://api.github.com/users/kimchy/orgs","repos_url":"https://api.github.com/users/kimchy/repos","events_url":"https://api.github.com/users/kimchy/events{/privacy}","received_events_url":"https://api.github.com/users/kimchy/received_events","type":"User","site_admin":false},"created_at":"2013-11-05T22:24:33Z","updated_at":"2013-11-06T02:53:57Z","author_association":"MEMBER","body":"@s1monw and myself chased it up, seems like a regression in Lucene, opened an issue: https://issues.apache.org/jira/browse/LUCENE-5330 and already have a patch for it: https://issues.apache.org/jira/secure/attachment/12612263/LUCENE-5330.\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/27822382","html_url":"https://github.com/elastic/elasticsearch/issues/4093#issuecomment-27822382","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/4093","id":27822382,"node_id":"MDEyOklzc3VlQ29tbWVudDI3ODIyMzgy","user":{"login":"brackxm","id":1204681,"node_id":"MDQ6VXNlcjEyMDQ2ODE=","avatar_url":"https://avatars3.githubusercontent.com/u/1204681?v=4","gravatar_id":"","url":"https://api.github.com/users/brackxm","html_url":"https://github.com/brackxm","followers_url":"https://api.github.com/users/brackxm/followers","following_url":"https://api.github.com/users/brackxm/following{/other_user}","gists_url":"https://api.github.com/users/brackxm/gists{/gist_id}","starred_url":"https://api.github.com/users/brackxm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brackxm/subscriptions","organizations_url":"https://api.github.com/users/brackxm/orgs","repos_url":"https://api.github.com/users/brackxm/repos","events_url":"https://api.github.com/users/brackxm/events{/privacy}","received_events_url":"https://api.github.com/users/brackxm/received_events","type":"User","site_admin":false},"created_at":"2013-11-05T22:58:44Z","updated_at":"2013-11-05T22:58:44Z","author_association":"CONTRIBUTOR","body":"thanks for looking into this\n","performed_via_github_app":null}]