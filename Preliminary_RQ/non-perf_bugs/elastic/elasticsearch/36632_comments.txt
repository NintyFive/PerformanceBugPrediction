[{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/447264928","html_url":"https://github.com/elastic/elasticsearch/issues/36632#issuecomment-447264928","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36632","id":447264928,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0NzI2NDkyOA==","user":{"login":"elasticmachine","id":15837671,"node_id":"MDQ6VXNlcjE1ODM3Njcx","avatar_url":"https://avatars3.githubusercontent.com/u/15837671?v=4","gravatar_id":"","url":"https://api.github.com/users/elasticmachine","html_url":"https://github.com/elasticmachine","followers_url":"https://api.github.com/users/elasticmachine/followers","following_url":"https://api.github.com/users/elasticmachine/following{/other_user}","gists_url":"https://api.github.com/users/elasticmachine/gists{/gist_id}","starred_url":"https://api.github.com/users/elasticmachine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elasticmachine/subscriptions","organizations_url":"https://api.github.com/users/elasticmachine/orgs","repos_url":"https://api.github.com/users/elasticmachine/repos","events_url":"https://api.github.com/users/elasticmachine/events{/privacy}","received_events_url":"https://api.github.com/users/elasticmachine/received_events","type":"User","site_admin":false},"created_at":"2018-12-14T09:19:04Z","updated_at":"2018-12-14T09:19:04Z","author_association":"COLLABORATOR","body":"Pinging @elastic/es-distributed","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/449468467","html_url":"https://github.com/elastic/elasticsearch/issues/36632#issuecomment-449468467","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36632","id":449468467,"node_id":"MDEyOklzc3VlQ29tbWVudDQ0OTQ2ODQ2Nw==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2018-12-21T18:49:09Z","updated_at":"2018-12-21T18:49:09Z","author_association":"CONTRIBUTOR","body":"These parameters are going away in 7.0 (cf #32006) so I don't think it's worth putting any effort into extra validation in the remainder of the 6.x series. However I think we should document that a negative value for `discovery.zen.commit_timeout` means the same as zero.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/450013079","html_url":"https://github.com/elastic/elasticsearch/issues/36632#issuecomment-450013079","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36632","id":450013079,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDAxMzA3OQ==","user":{"login":"jn01674361","id":20352717,"node_id":"MDQ6VXNlcjIwMzUyNzE3","avatar_url":"https://avatars1.githubusercontent.com/u/20352717?v=4","gravatar_id":"","url":"https://api.github.com/users/jn01674361","html_url":"https://github.com/jn01674361","followers_url":"https://api.github.com/users/jn01674361/followers","following_url":"https://api.github.com/users/jn01674361/following{/other_user}","gists_url":"https://api.github.com/users/jn01674361/gists{/gist_id}","starred_url":"https://api.github.com/users/jn01674361/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jn01674361/subscriptions","organizations_url":"https://api.github.com/users/jn01674361/orgs","repos_url":"https://api.github.com/users/jn01674361/repos","events_url":"https://api.github.com/users/jn01674361/events{/privacy}","received_events_url":"https://api.github.com/users/jn01674361/received_events","type":"User","site_admin":false},"created_at":"2018-12-26T19:26:29Z","updated_at":"2018-12-26T19:26:29Z","author_association":"NONE","body":"Hi! Can I work on this issue? :) ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/450621445","html_url":"https://github.com/elastic/elasticsearch/issues/36632#issuecomment-450621445","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36632","id":450621445,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MDYyMTQ0NQ==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2018-12-31T08:50:45Z","updated_at":"2018-12-31T08:50:45Z","author_association":"CONTRIBUTOR","body":"@jn01674361 sure, go ahead.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/452950533","html_url":"https://github.com/elastic/elasticsearch/issues/36632#issuecomment-452950533","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36632","id":452950533,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mjk1MDUzMw==","user":{"login":"Saikorian2k5","id":31106457,"node_id":"MDQ6VXNlcjMxMTA2NDU3","avatar_url":"https://avatars1.githubusercontent.com/u/31106457?v=4","gravatar_id":"","url":"https://api.github.com/users/Saikorian2k5","html_url":"https://github.com/Saikorian2k5","followers_url":"https://api.github.com/users/Saikorian2k5/followers","following_url":"https://api.github.com/users/Saikorian2k5/following{/other_user}","gists_url":"https://api.github.com/users/Saikorian2k5/gists{/gist_id}","starred_url":"https://api.github.com/users/Saikorian2k5/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Saikorian2k5/subscriptions","organizations_url":"https://api.github.com/users/Saikorian2k5/orgs","repos_url":"https://api.github.com/users/Saikorian2k5/repos","events_url":"https://api.github.com/users/Saikorian2k5/events{/privacy}","received_events_url":"https://api.github.com/users/Saikorian2k5/received_events","type":"User","site_admin":false},"created_at":"2019-01-10T02:46:55Z","updated_at":"2019-01-10T02:46:55Z","author_association":"NONE","body":"@jn01674361 are you still working on this issue ?","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/453134243","html_url":"https://github.com/elastic/elasticsearch/issues/36632#issuecomment-453134243","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36632","id":453134243,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzEzNDI0Mw==","user":{"login":"jn01674361","id":20352717,"node_id":"MDQ6VXNlcjIwMzUyNzE3","avatar_url":"https://avatars1.githubusercontent.com/u/20352717?v=4","gravatar_id":"","url":"https://api.github.com/users/jn01674361","html_url":"https://github.com/jn01674361","followers_url":"https://api.github.com/users/jn01674361/followers","following_url":"https://api.github.com/users/jn01674361/following{/other_user}","gists_url":"https://api.github.com/users/jn01674361/gists{/gist_id}","starred_url":"https://api.github.com/users/jn01674361/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jn01674361/subscriptions","organizations_url":"https://api.github.com/users/jn01674361/orgs","repos_url":"https://api.github.com/users/jn01674361/repos","events_url":"https://api.github.com/users/jn01674361/events{/privacy}","received_events_url":"https://api.github.com/users/jn01674361/received_events","type":"User","site_admin":false},"created_at":"2019-01-10T15:24:07Z","updated_at":"2019-01-10T15:24:07Z","author_association":"NONE","body":"@swrp  I plan to but I have not gotten around to starting yet, unfortunately. Why do you ask? ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/455177210","html_url":"https://github.com/elastic/elasticsearch/issues/36632#issuecomment-455177210","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36632","id":455177210,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1NTE3NzIxMA==","user":{"login":"cshtdd","id":1385848,"node_id":"MDQ6VXNlcjEzODU4NDg=","avatar_url":"https://avatars0.githubusercontent.com/u/1385848?v=4","gravatar_id":"","url":"https://api.github.com/users/cshtdd","html_url":"https://github.com/cshtdd","followers_url":"https://api.github.com/users/cshtdd/followers","following_url":"https://api.github.com/users/cshtdd/following{/other_user}","gists_url":"https://api.github.com/users/cshtdd/gists{/gist_id}","starred_url":"https://api.github.com/users/cshtdd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshtdd/subscriptions","organizations_url":"https://api.github.com/users/cshtdd/orgs","repos_url":"https://api.github.com/users/cshtdd/repos","events_url":"https://api.github.com/users/cshtdd/events{/privacy}","received_events_url":"https://api.github.com/users/cshtdd/received_events","type":"User","site_admin":false},"created_at":"2019-01-17T13:46:59Z","updated_at":"2019-01-17T13:46:59Z","author_association":"NONE","body":"I created PR https://github.com/elastic/elasticsearch/pull/37570 to document `discovery.zen.commit_timeout` treats negative values as 0.\r\n\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/472069835","html_url":"https://github.com/elastic/elasticsearch/issues/36632#issuecomment-472069835","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36632","id":472069835,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3MjA2OTgzNQ==","user":{"login":"andrershov","id":600624,"node_id":"MDQ6VXNlcjYwMDYyNA==","avatar_url":"https://avatars1.githubusercontent.com/u/600624?v=4","gravatar_id":"","url":"https://api.github.com/users/andrershov","html_url":"https://github.com/andrershov","followers_url":"https://api.github.com/users/andrershov/followers","following_url":"https://api.github.com/users/andrershov/following{/other_user}","gists_url":"https://api.github.com/users/andrershov/gists{/gist_id}","starred_url":"https://api.github.com/users/andrershov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrershov/subscriptions","organizations_url":"https://api.github.com/users/andrershov/orgs","repos_url":"https://api.github.com/users/andrershov/repos","events_url":"https://api.github.com/users/andrershov/events{/privacy}","received_events_url":"https://api.github.com/users/andrershov/received_events","type":"User","site_admin":false},"created_at":"2019-03-12T16:16:21Z","updated_at":"2019-03-12T16:16:21Z","author_association":"CONTRIBUTOR","body":"Volunteers are still welcome","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/476970797","html_url":"https://github.com/elastic/elasticsearch/issues/36632#issuecomment-476970797","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36632","id":476970797,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Njk3MDc5Nw==","user":{"login":"harshbajaj16","id":35989538,"node_id":"MDQ6VXNlcjM1OTg5NTM4","avatar_url":"https://avatars3.githubusercontent.com/u/35989538?v=4","gravatar_id":"","url":"https://api.github.com/users/harshbajaj16","html_url":"https://github.com/harshbajaj16","followers_url":"https://api.github.com/users/harshbajaj16/followers","following_url":"https://api.github.com/users/harshbajaj16/following{/other_user}","gists_url":"https://api.github.com/users/harshbajaj16/gists{/gist_id}","starred_url":"https://api.github.com/users/harshbajaj16/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshbajaj16/subscriptions","organizations_url":"https://api.github.com/users/harshbajaj16/orgs","repos_url":"https://api.github.com/users/harshbajaj16/repos","events_url":"https://api.github.com/users/harshbajaj16/events{/privacy}","received_events_url":"https://api.github.com/users/harshbajaj16/received_events","type":"User","site_admin":false},"created_at":"2019-03-27T04:37:59Z","updated_at":"2019-03-27T04:37:59Z","author_association":"NONE","body":"Hi @andrershov ,\r\n\r\nYes, I would like to work on this.\r\n\r\nBr,\r\nHarsh Bajaj","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/490789704","html_url":"https://github.com/elastic/elasticsearch/issues/36632#issuecomment-490789704","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36632","id":490789704,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDc4OTcwNA==","user":{"login":"harshbajaj16","id":35989538,"node_id":"MDQ6VXNlcjM1OTg5NTM4","avatar_url":"https://avatars3.githubusercontent.com/u/35989538?v=4","gravatar_id":"","url":"https://api.github.com/users/harshbajaj16","html_url":"https://github.com/harshbajaj16","followers_url":"https://api.github.com/users/harshbajaj16/followers","following_url":"https://api.github.com/users/harshbajaj16/following{/other_user}","gists_url":"https://api.github.com/users/harshbajaj16/gists{/gist_id}","starred_url":"https://api.github.com/users/harshbajaj16/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshbajaj16/subscriptions","organizations_url":"https://api.github.com/users/harshbajaj16/orgs","repos_url":"https://api.github.com/users/harshbajaj16/repos","events_url":"https://api.github.com/users/harshbajaj16/events{/privacy}","received_events_url":"https://api.github.com/users/harshbajaj16/received_events","type":"User","site_admin":false},"created_at":"2019-05-09T07:40:56Z","updated_at":"2019-05-09T07:40:56Z","author_association":"NONE","body":"Hi @andrershov and @DaveCTurner ,\r\n\r\nI've created a PR for this bug in 6.7 branch. could you please verify the same?\r\n\r\nRegards,\r\nHarsh Bajaj\r\n\r\n ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/490794438","html_url":"https://github.com/elastic/elasticsearch/issues/36632#issuecomment-490794438","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36632","id":490794438,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDc5NDQzOA==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2019-05-09T07:56:57Z","updated_at":"2019-05-09T07:56:57Z","author_association":"CONTRIBUTOR","body":"Thanks @harshbajaj16, but this is a docs issue [as I mentioned above](https://github.com/elastic/elasticsearch/issues/36632#issuecomment-449468467):\r\n\r\n> However I think we should document that a negative value for discovery.zen.commit_timeout means the same as zero.\r\n\r\nWe don't want to change the behaviour here -- it's technically a breaking change which we try and avoid doing in minor releases.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/491265522","html_url":"https://github.com/elastic/elasticsearch/issues/36632#issuecomment-491265522","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36632","id":491265522,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTI2NTUyMg==","user":{"login":"harshbajaj16","id":35989538,"node_id":"MDQ6VXNlcjM1OTg5NTM4","avatar_url":"https://avatars3.githubusercontent.com/u/35989538?v=4","gravatar_id":"","url":"https://api.github.com/users/harshbajaj16","html_url":"https://github.com/harshbajaj16","followers_url":"https://api.github.com/users/harshbajaj16/followers","following_url":"https://api.github.com/users/harshbajaj16/following{/other_user}","gists_url":"https://api.github.com/users/harshbajaj16/gists{/gist_id}","starred_url":"https://api.github.com/users/harshbajaj16/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshbajaj16/subscriptions","organizations_url":"https://api.github.com/users/harshbajaj16/orgs","repos_url":"https://api.github.com/users/harshbajaj16/repos","events_url":"https://api.github.com/users/harshbajaj16/events{/privacy}","received_events_url":"https://api.github.com/users/harshbajaj16/received_events","type":"User","site_admin":false},"created_at":"2019-05-10T12:06:23Z","updated_at":"2019-05-10T12:07:31Z","author_association":"NONE","body":"Hi @DaveCTurner ,\r\n   \r\nThank you for your reply!\r\n   \r\nI want to further clarify few things.\r\nI have check the validation for similar parameter \"_discovery.zen.publish_timeout_\", negative handling (less than 0ms) is present.\r\n\r\nCode Reference:\r\nFile:  server/src/main/java/org/elasticsearch/common/settings/Setting.java\r\nMethod: public static Setting<TimeValue> timeSetting(\r\n**Source code:**\r\n```\r\n  TimeValue timeValue = TimeValue.parseTimeValue(s, null, key);\r\n                if (timeValue.millis() < minValue.millis()) {\r\n                    throw new IllegalArgumentException(\"Failed to parse value [\" + s + \"] for setting [\" + key + \"] must be >= \" + minValue);\r\n                }\r\n               return timeValue;\r\n\r\n```\r\n---------------------------------------------------------------------\r\nSteps to verify: \r\n1. Settings through configuration\r\nStep 1:\r\nSet any negative value, say discovery.zen.publish_timeout=-10 in elasticsearch.yml\r\nStep 2:\r\nStart elasticsearch\r\n`# systemctl start elasticsearch`\r\n\r\n2. Setting through Cluster Update API\r\n`# curl -H \"Content-Type: application/json\" -XPUT localhost:9200/_cluster/settings -d \"{\"transient\" : {\"discovery.zen.publish_timeout\" : \"-10s\"}}\"`\r\n\r\n**Observation:**\r\nIt is throwing below illegal argument exception while setting  any negative value, as mentioned in above steps:\r\n`org.elasticsearch.bootstrap.StartupException: java.lang.IllegalArgumentException: failed to parse value [-10s] for setting [discovery.zen.publish_timeout], must be >= [0ms]`\r\n\r\n\r\n**Based on above existing behaviour for discovery.zen.publish_timeout, we have proposed the simiar fix for “discovery.zen.commit_timeout”.**\r\n\r\n**Code Reference (Patch Fix):**\r\n\r\n```\r\ndiff --git a/server/src/main/java/org/elasticsearch/discovery/DiscoverySettings.java b/server/src/main/java/org/elasticsearch/discovery/DiscoverySettings.java\r\nindex 8cb2f6c..88b803f 100644\r\n--- a/server/src/main/java/org/elasticsearch/discovery/DiscoverySettings.java\r\n+++ b/server/src/main/java/org/elasticsearch/discovery/DiscoverySettings.java\r\n@@ -54,7 +54,14 @@ public class DiscoverySettings {\r\n      */\r\n     public static final Setting<TimeValue> COMMIT_TIMEOUT_SETTING =\r\n         new Setting<>(\"discovery.zen.commit_timeout\", (s) -> PUBLISH_TIMEOUT_SETTING.getRaw(s),\r\n-            (s) -> TimeValue.parseTimeValue(s, TimeValue.timeValueSeconds(30), \"discovery.zen.commit_timeout\"),\r\n+            (s) -> {\r\n+                TimeValue timeValue = TimeValue.parseTimeValue(s, TimeValue.timeValueSeconds(30), \"discovery.zen.commit_timeout\");\r\n+                if (timeValue.millis() < 0) {\r\n+                    throw new IllegalArgumentException(\"Failed to parse value [\" + s + \"] for setting [discovery.zen.commit_timeout],\" +\r\n+                                                       \" must be >= [0ms]\");\r\n+                }\r\n+                return timeValue;\r\n+            },\r\n             Property.Dynamic, Property.NodeScope);\r\n     public static final Setting<ClusterBlock> NO_MASTER_BLOCK_SETTING =\r\n         new Setting<>(\"discovery.zen.no_master_block\", \"write\", DiscoverySettings::parseNoMasterBlock,\r\n```\r\n**Steps to verify:** \r\n1. Settings through configuration\r\nStep 1:\r\nSet any negative value, say discovery.zen.commit_timeout=-10 in elasticsearch.yml\r\nStep 2:\r\nStart elasticsearch\r\n`# systemctl start elasticsearch`\r\n\r\n2. Setting through Cluster Update API\r\n`# curl -H \"Content-Type: application/json\" -XPUT localhost:9200/_cluster/settings -d \"{\"transient\" : {\"discovery.zen.commit_timeout\" : \"-10s\"}}\"`\r\n\r\n**Observation:**\r\nAfter the proposed fix, now It is throwing below illegal argument exception while setting  any negative value, as mentioned in above steps:\r\n`org.elasticsearch.bootstrap.StartupException: java.lang.IllegalArgumentException: failed to parse value [-10s] for setting [discovery.zen.commit_timeout], must be >= [0ms]`\r\n\r\n**Conclusion:**\r\nWe did proper sanity fox this fix and performed rigorous UT covering all the possible aspects. \r\nExceptional Handling in case of setting any negative value for discovery.zen.commit_timeout is working perfectly.\r\nThis fix will provide extra level of validation for parameter discovery.zen.commit_timeout.\r\n\r\n**Please share your opinion for above discussed scenario.** \r\n\r\nBest Regards,\r\nHarsh Bajaj\r\n","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/491271769","html_url":"https://github.com/elastic/elasticsearch/issues/36632#issuecomment-491271769","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36632","id":491271769,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTI3MTc2OQ==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2019-05-10T12:29:45Z","updated_at":"2019-05-10T12:29:45Z","author_association":"CONTRIBUTOR","body":"> After the proposed fix, now It is throwing below illegal argument exception while setting any negative value, as mentioned in above steps:\r\n\r\nThis is an unnecessary breaking change and is not acceptable.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/491273265","html_url":"https://github.com/elastic/elasticsearch/issues/36632#issuecomment-491273265","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36632","id":491273265,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTI3MzI2NQ==","user":{"login":"harshbajaj16","id":35989538,"node_id":"MDQ6VXNlcjM1OTg5NTM4","avatar_url":"https://avatars3.githubusercontent.com/u/35989538?v=4","gravatar_id":"","url":"https://api.github.com/users/harshbajaj16","html_url":"https://github.com/harshbajaj16","followers_url":"https://api.github.com/users/harshbajaj16/followers","following_url":"https://api.github.com/users/harshbajaj16/following{/other_user}","gists_url":"https://api.github.com/users/harshbajaj16/gists{/gist_id}","starred_url":"https://api.github.com/users/harshbajaj16/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshbajaj16/subscriptions","organizations_url":"https://api.github.com/users/harshbajaj16/orgs","repos_url":"https://api.github.com/users/harshbajaj16/repos","events_url":"https://api.github.com/users/harshbajaj16/events{/privacy}","received_events_url":"https://api.github.com/users/harshbajaj16/received_events","type":"User","site_admin":false},"created_at":"2019-05-10T12:35:05Z","updated_at":"2019-05-10T12:35:05Z","author_association":"NONE","body":"Hi,\r\nThanks for your confirmation.\r\nCan you please explain \"breaking changes\" in brief, for our understanding.\r\n\r\nBest Regards,\r\nHarsh Bajaj ","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/491277644","html_url":"https://github.com/elastic/elasticsearch/issues/36632#issuecomment-491277644","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36632","id":491277644,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTI3NzY0NA==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2019-05-10T12:51:27Z","updated_at":"2019-05-10T12:51:27Z","author_association":"CONTRIBUTOR","body":"Sure. It's a change that would break some users' configuration when they upgrade from a version without your proposed change to a version with your proposed change. Elasticsearch supports upgrades within the same major series, so users should be able to upgrade from any 6.x version to any newer 6.x version. However if someone had (for some unknown reason) set\r\n\r\n```\r\ndiscovery.zen.commit_timeout: -10s\r\n```\r\n\r\nin their `elasticsearch.yml` file then your change would prevent them from upgrading: in 6.7.0, say, this setting would work fine (and mean the same as `discovery.zen.commit_timeout: 0s`) whereas in a version with your change it would throw an error and the node would refuse to start. This change in behaviour broke their configuration, hence, a _breaking change_.\r\n\r\nWe do sometimes make such changes when it's absolutely necessary to do so, but in this case it isn't necessary, so we should avoid doing it.","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/504884427","html_url":"https://github.com/elastic/elasticsearch/issues/36632#issuecomment-504884427","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36632","id":504884427,"node_id":"MDEyOklzc3VlQ29tbWVudDUwNDg4NDQyNw==","user":{"login":"harshbajaj16","id":35989538,"node_id":"MDQ6VXNlcjM1OTg5NTM4","avatar_url":"https://avatars3.githubusercontent.com/u/35989538?v=4","gravatar_id":"","url":"https://api.github.com/users/harshbajaj16","html_url":"https://github.com/harshbajaj16","followers_url":"https://api.github.com/users/harshbajaj16/followers","following_url":"https://api.github.com/users/harshbajaj16/following{/other_user}","gists_url":"https://api.github.com/users/harshbajaj16/gists{/gist_id}","starred_url":"https://api.github.com/users/harshbajaj16/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshbajaj16/subscriptions","organizations_url":"https://api.github.com/users/harshbajaj16/orgs","repos_url":"https://api.github.com/users/harshbajaj16/repos","events_url":"https://api.github.com/users/harshbajaj16/events{/privacy}","received_events_url":"https://api.github.com/users/harshbajaj16/received_events","type":"User","site_admin":false},"created_at":"2019-06-24T07:00:24Z","updated_at":"2019-06-24T07:00:24Z","author_association":"NONE","body":"Hi @DaveCTurner ,\r\n\r\nThank you.\r\n\r\nCould you please review the new pull request opened for this issue \"document update\" #42834 ?\r\n\r\nRegards,\r\nHarsh Bajaj","performed_via_github_app":null},{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/comments/513737264","html_url":"https://github.com/elastic/elasticsearch/issues/36632#issuecomment-513737264","issue_url":"https://api.github.com/repos/elastic/elasticsearch/issues/36632","id":513737264,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzczNzI2NA==","user":{"login":"DaveCTurner","id":5058284,"node_id":"MDQ6VXNlcjUwNTgyODQ=","avatar_url":"https://avatars3.githubusercontent.com/u/5058284?v=4","gravatar_id":"","url":"https://api.github.com/users/DaveCTurner","html_url":"https://github.com/DaveCTurner","followers_url":"https://api.github.com/users/DaveCTurner/followers","following_url":"https://api.github.com/users/DaveCTurner/following{/other_user}","gists_url":"https://api.github.com/users/DaveCTurner/gists{/gist_id}","starred_url":"https://api.github.com/users/DaveCTurner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DaveCTurner/subscriptions","organizations_url":"https://api.github.com/users/DaveCTurner/orgs","repos_url":"https://api.github.com/users/DaveCTurner/repos","events_url":"https://api.github.com/users/DaveCTurner/events{/privacy}","received_events_url":"https://api.github.com/users/DaveCTurner/received_events","type":"User","site_admin":false},"created_at":"2019-07-22T10:33:51Z","updated_at":"2019-07-22T10:33:51Z","author_association":"CONTRIBUTOR","body":"Closed by #42834.","performed_via_github_app":null}]