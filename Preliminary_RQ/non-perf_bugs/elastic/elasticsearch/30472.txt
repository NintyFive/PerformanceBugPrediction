{"url":"https://api.github.com/repos/elastic/elasticsearch/issues/30472","repository_url":"https://api.github.com/repos/elastic/elasticsearch","labels_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30472/labels{/name}","comments_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30472/comments","events_url":"https://api.github.com/repos/elastic/elasticsearch/issues/30472/events","html_url":"https://github.com/elastic/elasticsearch/issues/30472","id":321437404,"node_id":"MDU6SXNzdWUzMjE0Mzc0MDQ=","number":30472,"title":"Automatic merge of segments not happening","user":{"login":"intrakislay","id":5015765,"node_id":"MDQ6VXNlcjUwMTU3NjU=","avatar_url":"https://avatars1.githubusercontent.com/u/5015765?v=4","gravatar_id":"","url":"https://api.github.com/users/intrakislay","html_url":"https://github.com/intrakislay","followers_url":"https://api.github.com/users/intrakislay/followers","following_url":"https://api.github.com/users/intrakislay/following{/other_user}","gists_url":"https://api.github.com/users/intrakislay/gists{/gist_id}","starred_url":"https://api.github.com/users/intrakislay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/intrakislay/subscriptions","organizations_url":"https://api.github.com/users/intrakislay/orgs","repos_url":"https://api.github.com/users/intrakislay/repos","events_url":"https://api.github.com/users/intrakislay/events{/privacy}","received_events_url":"https://api.github.com/users/intrakislay/received_events","type":"User","site_admin":false},"labels":[{"id":144797810,"node_id":"MDU6TGFiZWwxNDQ3OTc4MTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/:Core/Infra/Core","name":":Core/Infra/Core","color":"0e8a16","default":false,"description":"Core issues without another label"},{"id":23173,"node_id":"MDU6TGFiZWwyMzE3Mw==","url":"https://api.github.com/repos/elastic/elasticsearch/labels/%3Ebug","name":">bug","color":"b60205","default":false,"description":null},{"id":111624690,"node_id":"MDU6TGFiZWwxMTE2MjQ2OTA=","url":"https://api.github.com/repos/elastic/elasticsearch/labels/feedback_needed","name":"feedback_needed","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2018-05-09T05:40:07Z","updated_at":"2018-06-27T07:37:22Z","closed_at":"2018-06-27T07:37:22Z","author_association":"NONE","active_lock_reason":null,"body":"I use Elasticsearch 5.4 . We have a lot of adds/edits/deletes. The Elasticsearch should be able to keep merging the segments.\r\nBut we see that number of deleted documents keep on increasing and the segments are not getting merged. We need to do force merge.\r\nMany a time i see , deleted doc count > 60% and even after weeks, it doesnot automatically recover from this unless we do force merge on that index\r\nThe threshold in our index is 10%, so whenever deleted document percentage  goes beyond this, segment merge should happen automatically, but this  is not happening","closed_by":{"login":"danielmitterdorfer","id":1699576,"node_id":"MDQ6VXNlcjE2OTk1NzY=","avatar_url":"https://avatars3.githubusercontent.com/u/1699576?v=4","gravatar_id":"","url":"https://api.github.com/users/danielmitterdorfer","html_url":"https://github.com/danielmitterdorfer","followers_url":"https://api.github.com/users/danielmitterdorfer/followers","following_url":"https://api.github.com/users/danielmitterdorfer/following{/other_user}","gists_url":"https://api.github.com/users/danielmitterdorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/danielmitterdorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielmitterdorfer/subscriptions","organizations_url":"https://api.github.com/users/danielmitterdorfer/orgs","repos_url":"https://api.github.com/users/danielmitterdorfer/repos","events_url":"https://api.github.com/users/danielmitterdorfer/events{/privacy}","received_events_url":"https://api.github.com/users/danielmitterdorfer/received_events","type":"User","site_admin":false},"performed_via_github_app":null}